{"items":[{"tags":["java","jsp","scriptlet"],"comments":[{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":22,"creation_date":1424961013,"post_id":3177733,"comment_id":45772536,"body_markdown":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid...","body":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid..."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1508693804,"post_id":3177733,"comment_id":80701261,"body_markdown":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;","body":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;"},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":0,"creation_date":1522338236,"post_id":3177733,"comment_id":86128183,"body_markdown":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway...","body":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway..."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1469189836,"creation_date":1278314927,"answer_id":3177761,"question_id":3177733,"body_markdown":"[JSTL][1] offers tags for conditionals, loops, sets, gets, etc. For example:\r\n\r\n    &lt;c:if test=&quot;${someAttribute == &#39;something&#39;}&quot;&gt;\r\n       ...\r\n    &lt;/c:if&gt;\r\n\r\nJSTL works with request attributes - they are most often set in the request by a Servlet, which _forwards_ to the JSP.\r\n\r\n  [1]: https://jstl.java.net/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://jstl.java.net/\" rel=\"noreferrer\">JSTL</a> offers tags for conditionals, loops, sets, gets, etc. For example:</p>\n\n<pre><code>&lt;c:if test=\"${someAttribute == 'something'}\"&gt;\n   ...\n&lt;/c:if&gt;\n</code></pre>\n\n<p>JSTL works with request attributes - they are most often set in the request by a Servlet, which <em>forwards</em> to the JSP.</p>\n"},{"comments":[{"owner":{"account_id":1093219,"reputation":5625,"user_id":1087370,"accept_rate":56,"display_name":"Alex"},"score":4,"creation_date":1439799117,"post_id":3178032,"comment_id":51990902,"body_markdown":"Old answer but I can not resist to tell that JSF is one of the most horrendous invention in Java space. Try to make a single (HTTP GET like) link and you will understand why.","body":"Old answer but I can not resist to tell that JSF is one of the most horrendous invention in Java space. Try to make a single (HTTP GET like) link and you will understand why."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1482397527,"post_id":3178032,"comment_id":69760213,"body_markdown":"@Alex but still better. Feel free to recommend something even better.","body":"@Alex but still better. Feel free to recommend something even better."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626708609,"post_id":3178032,"comment_id":120960029,"body_markdown":"@Thorbj&#248;rnRavnAndersen scriptlets","body":"@Thorbj&#248;rnRavnAndersen scriptlets"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1626868682,"post_id":3178032,"comment_id":121005662,"body_markdown":"@user253751 Yes, scriptlets is the &quot;mixing markup with actual code&quot; shortcoming mentioned.","body":"@user253751 Yes, scriptlets is the &quot;mixing markup with actual code&quot; shortcoming mentioned."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626870046,"post_id":3178032,"comment_id":121006344,"body_markdown":"@Thorbj&#248;rnRavnAndersen markup is actual code","body":"@Thorbj&#248;rnRavnAndersen markup is actual code"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1626880880,"post_id":3178032,"comment_id":121011335,"body_markdown":"@user253751 What are you trying to say?","body":"@user253751 What are you trying to say?"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626882348,"post_id":3178032,"comment_id":121012054,"body_markdown":"@Thorbj&#248;rnRavnAndersen Scriptlets are better than JSF","body":"@Thorbj&#248;rnRavnAndersen Scriptlets are better than JSF"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":7,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1278318606,"creation_date":1278318606,"answer_id":3178032,"question_id":3177733,"body_markdown":"Experience has shown that JSP&#39;s have some shortcomings, one of them being hard to avoid mixing markup with actual code.\r\n\r\nIf you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the `#{bean.method(argument)}` approach.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Experience has shown that JSP's have some shortcomings, one of them being hard to avoid mixing markup with actual code.</p>\n\n<p>If you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the <code>#{bean.method(argument)}</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1539013001,"creation_date":1278319554,"answer_id":3178138,"question_id":3177733,"body_markdown":"You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n    \r\n            &lt;c:out value=&quot;${x + 1}&quot; /&gt;\r\n            &lt;c:out value=&quot;${param.name}&quot; /&gt;\r\n            // and so on\r\n    \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;c:out value=\"${x + 1}\" /&gt;\n        &lt;c:out value=\"${param.name}\" /&gt;\n        // and so on\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35793,"reputation":7686,"user_id":101672,"accept_rate":80,"display_name":"svachon"},"score":121,"creation_date":1278381508,"post_id":3180202,"comment_id":3277789,"body_markdown":"+1 Great answer. But don&#39;t go dogmatic, sometime using scriptlets IS ok, but that should be the exception that proves the rule.","body":"+1 Great answer. But don&#39;t go dogmatic, sometime using scriptlets IS ok, but that should be the exception that proves the rule."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":27,"creation_date":1278422732,"post_id":3180202,"comment_id":3281796,"body_markdown":"@svachon: Scriptlets are useful for quick prototyping/testing. As far as I know, there&#39;s only one &quot;legitimate&quot; production use of a scriptlet, namely `&lt;% response.getWriter().flush(); %&gt;` between the `&lt;/head&gt;` and the `&lt;body&gt;` to improve webpage parsing performance in the webbrowser. But this use is in turn completely negligible when the output buffer size at the server side is low (1~2KB). [See also this article](http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html#FlushTheBufferEarly).","body":"@svachon: Scriptlets are useful for quick prototyping/testing. As far as I know, there&#39;s only one &quot;legitimate&quot; production use of a scriptlet, namely <code>&lt;% response.getWriter().flush(); %&gt;</code> between the <code>&lt;&#47;head&gt;</code> and the <code>&lt;body&gt;</code> to improve webpage parsing performance in the webbrowser. But this use is in turn completely negligible when the output buffer size at the server side is low (1~2KB). <a href=\"http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html#FlushTheBufferEarly\" rel=\"nofollow noreferrer\">See also this article</a>."},{"owner":{"account_id":35793,"reputation":7686,"user_id":101672,"accept_rate":80,"display_name":"svachon"},"score":5,"creation_date":1278426622,"post_id":3180202,"comment_id":3282530,"body_markdown":"@BalusC A few times I&#39;ve been stuck with java classes that didn&#39;t follow the getter/setter pattern. IMHO that is a case where a scripltet does the job.","body":"@BalusC A few times I&#39;ve been stuck with java classes that didn&#39;t follow the getter/setter pattern. IMHO that is a case where a scripltet does the job."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":43,"creation_date":1278427064,"post_id":3180202,"comment_id":3282630,"body_markdown":"@svachon: I&#39;d wrap those classes with own javabean classes and use them instead.","body":"@svachon: I&#39;d wrap those classes with own javabean classes and use them instead."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":2,"up_vote_count":2028,"is_accepted":true,"score":2026,"last_activity_date":1654516814,"creation_date":1278339575,"answer_id":3180202,"question_id":3177733,"body_markdown":"The use of *scriptlets* (those `&lt;% %&gt;` things) in [JSP][1] is indeed highly discouraged since the birth of *taglibs* (like [JSTL][2]) and [EL][3] ([Expression Language][3], those `${}` things) way back in 2001.\r\n\r\n The major disadvantages of *scriptlets* are:\r\n\r\n   1. **Reusability:** you can&#39;t reuse scriptlets.\r\n   2. **Replaceability:** you can&#39;t make scriptlets abstract.\r\n   3. **OO-ability:** you can&#39;t make use of inheritance/composition.\r\n   4. **Debuggability:** if scriptlet throws an exception halfway, all you get is a blank page.\r\n   5. **Testability:** scriptlets are not unit-testable.\r\n   6. **Maintainability:** per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.\r\n\r\n&lt;strike&gt;Sun&lt;/strike&gt; Oracle itself also recommends in the [JSP coding conventions][4] to avoid use of *scriptlets* whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:\r\n\r\n&gt; From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help **reduce the need for JSP scriptlets** in your pages. Pages that use JSTL are, in general, easier to read and maintain. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; Where possible, **avoid JSP scriptlets** whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, **JSP scriptlets should not be used** for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client&#39;s requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.\r\n\r\n\r\n----------\r\n\r\n\r\n**How to replace *scriptlets* entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:**\r\n\r\n- If you want to invoke the **same** Java code on *every* request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a [filter][5] and write code accordingly in [`doFilter()`][6] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n            if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\r\n                ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\r\n            } else {\r\n                chain.doFilter(request, response); // Logged in, just continue request.\r\n            }\r\n        }\r\n\r\n   When mapped on an appropriate `&lt;url-pattern&gt;` covering the JSP pages of interest, then you don&#39;t need to copypaste the same piece of code overall JSP pages.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a GET request**, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a [servlet][7] and write code accordingly in [`doGet()`][8] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                List&lt;Product&gt; products = productService.list(); // Obtain all products.\r\n                request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\r\n            } catch (SQLException e) {\r\n                throw new ServletException(&quot;Retrieving products failed!&quot;, e);\r\n            }\r\n        }\r\n\r\n    This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an `&lt;error-page&gt;` in `web.xml`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a POST request**, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a [servlet][7] and write code accordingly in [`doPost()`][9] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            String password = request.getParameter(&quot;password&quot;);\r\n            User user = userService.find(username, password);\r\n\r\n            if (user != null) {\r\n                request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\r\n                response.sendRedirect(&quot;home&quot;); // Redirect to home page.\r\n            } else {\r\n                request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\r\n            }\r\n        }\r\n\r\n    This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using `${message}` in [EL][3]), or just taking to the desired target page in case of success.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control** the execution plan and/or the destination of the request and the response, then implement a [servlet][7] according to the [MVC&#39;s Front Controller Pattern][10]. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                Action action = ActionFactory.getAction(request);\r\n                String view = action.execute(request, response);\r\n\r\n                if (view.equals(request.getPathInfo().substring(1)) {\r\n                    request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\r\n                } else {\r\n                    response.sendRedirect(view);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new ServletException(&quot;Executing action failed.&quot;, e);\r\n            }\r\n        }\r\n\r\n    Or just adopt an MVC framework like [JSF][11], [Spring MVC][12], [Wicket][13], etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control the flow** inside a JSP page, then you need to grab an (existing) flow control taglib like [JSTL core][14]. E.g. displaying `List&lt;Product&gt;` in a table:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n        ...\r\n        &lt;table&gt;\r\n            &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;${product.name}&lt;/td&gt;\r\n                    &lt;td&gt;${product.description}&lt;/td&gt;\r\n                    &lt;td&gt;${product.price}&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n\r\n    With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (*&quot;Where the heck does this closing brace belong to?&quot;*). An easy aid is to configure your web application to throw an exception whenever *scriptlets* are still been used by adding the following piece to `web.xml`:\r\n\r\n    &lt;!-- language: xml --&gt;\r\n    \r\n        &lt;jsp-config&gt;\r\n            &lt;jsp-property-group&gt;\r\n                &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n                &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n            &lt;/jsp-property-group&gt;\r\n        &lt;/jsp-config&gt;\r\n\r\n    In [Facelets][15], the successor of JSP, which is part of the Java EE provided MVC framework [JSF][11], it is already **not** possible to use *scriptlets*. This way you&#39;re automatically forced to do things &quot;the right way&quot;.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **access and display** &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those `${}` things. E.g. redisplaying submitted input values:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\r\n\r\n    The `${param.foo}` displays the outcome of `request.getParameter(&quot;foo&quot;)`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some **utility** Java code directly in the JSP page (typically `public static` methods), then you need to define them as EL functions. There&#39;s a standard [functions taglib][16] in JSTL, but [you can also easily create functions yourself][17]. Here&#39;s an example how JSTL `fn:escapeXml` is useful to prevent [XSS attacks][18].\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\r\n        ...\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\r\n\r\n    Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in **every** web application you develop. The problem of *scriptlets* is that it provides no way of builtin preventions, at least not using the standard Java API. JSP&#39;s successor Facelets has already implicit HTML escaping, so you don&#39;t need to worry about XSS holes in Facelets.\r\n\r\n### See also:\r\n\r\n- [What&#39;s the difference between JSP, Servlet and JSF?][19]\r\n- [How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?][20]\r\n- [Basic MVC example with JSP, Servlet and JDBC][21]\r\n- [Design patterns in Java web applications][22]\r\n- [Hidden features of JSP/Servlet][23]\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jsp/info\r\n  [2]: https://stackoverflow.com/tags/jstl/info\r\n  [3]: https://stackoverflow.com/tags/el/info\r\n  [4]: https://www.oracle.com/technical-resources/articles/javase/code-convention.html\r\n  [5]: https://stackoverflow.com/tags/servlet-filters/info\r\n  [6]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\r\n  [7]: https://stackoverflow.com/tags/servlets/info\r\n  [8]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [9]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [10]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\r\n  [11]: https://stackoverflow.com/tags/jsf/info\r\n  [12]: https://stackoverflow.com/tags/spring-mvc/info\r\n  [13]: https://stackoverflow.com/tags/wicket/info\r\n  [14]: https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\r\n  [15]: https://stackoverflow.com/tags/facelets/info\r\n  [16]: https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\r\n  [17]: https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\r\n  [18]: https://en.wikipedia.org/wiki/Cross-site_scripting\r\n  [19]: https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\r\n  [20]: https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\r\n  [21]: https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\r\n  [22]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\r\n  [23]: https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>The use of <em>scriptlets</em> (those <code>&lt;% %&gt;</code> things) in <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a> is indeed highly discouraged since the birth of <em>taglibs</em> (like <a href=\"https://stackoverflow.com/tags/jstl/info\">JSTL</a>) and <a href=\"https://stackoverflow.com/tags/el/info\">EL</a> (<a href=\"https://stackoverflow.com/tags/el/info\">Expression Language</a>, those <code>${}</code> things) way back in 2001.</p>\n<p>The major disadvantages of <em>scriptlets</em> are:</p>\n<ol>\n<li><strong>Reusability:</strong> you can't reuse scriptlets.</li>\n<li><strong>Replaceability:</strong> you can't make scriptlets abstract.</li>\n<li><strong>OO-ability:</strong> you can't make use of inheritance/composition.</li>\n<li><strong>Debuggability:</strong> if scriptlet throws an exception halfway, all you get is a blank page.</li>\n<li><strong>Testability:</strong> scriptlets are not unit-testable.</li>\n<li><strong>Maintainability:</strong> per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.</li>\n</ol>\n<p><strike>Sun</strike> Oracle itself also recommends in the <a href=\"https://www.oracle.com/technical-resources/articles/javase/code-convention.html\" rel=\"noreferrer\">JSP coding conventions</a> to avoid use of <em>scriptlets</em> whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:</p>\n<blockquote>\n<p>From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help <strong>reduce the need for JSP scriptlets</strong> in your pages. Pages that use JSTL are, in general, easier to read and maintain.</p>\n<p>...</p>\n<p>Where possible, <strong>avoid JSP scriptlets</strong> whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).</p>\n<p>...</p>\n<p>In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, <strong>JSP scriptlets should not be used</strong> for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client's requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.</p>\n</blockquote>\n<hr />\n<p><strong>How to replace <em>scriptlets</em> entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:</strong></p>\n<ul>\n<li><p>If you want to invoke the <strong>same</strong> Java code on <em>every</em> request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a <a href=\"https://stackoverflow.com/tags/servlet-filters/info\">filter</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\" rel=\"noreferrer\"><code>doFilter()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\n      if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\n          ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\n      } else {\n          chain.doFilter(request, response); // Logged in, just continue request.\n      }\n  }\n</code></pre>\n<p>When mapped on an appropriate <code>&lt;url-pattern&gt;</code> covering the JSP pages of interest, then you don't need to copypaste the same piece of code overall JSP pages.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a GET request</strong>, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doGet()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          List&lt;Product&gt; products = productService.list(); // Obtain all products.\n          request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\n      } catch (SQLException e) {\n          throw new ServletException(&quot;Retrieving products failed!&quot;, e);\n      }\n  }\n</code></pre>\n<p>This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an <code>&lt;error-page&gt;</code> in <code>web.xml</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a POST request</strong>, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doPost()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      String username = request.getParameter(&quot;username&quot;);\n      String password = request.getParameter(&quot;password&quot;);\n      User user = userService.find(username, password);\n\n      if (user != null) {\n          request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\n          response.sendRedirect(&quot;home&quot;); // Redirect to home page.\n      } else {\n          request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\n      }\n  }\n</code></pre>\n<p>This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using <code>${message}</code> in <a href=\"https://stackoverflow.com/tags/el/info\">EL</a>), or just taking to the desired target page in case of success.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control</strong> the execution plan and/or the destination of the request and the response, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> according to the <a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\">MVC's Front Controller Pattern</a>. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          Action action = ActionFactory.getAction(request);\n          String view = action.execute(request, response);\n\n          if (view.equals(request.getPathInfo().substring(1)) {\n              request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\n          } else {\n              response.sendRedirect(view);\n          }\n      } catch (Exception e) {\n          throw new ServletException(&quot;Executing action failed.&quot;, e);\n      }\n  }\n</code></pre>\n<p>Or just adopt an MVC framework like <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, <a href=\"https://stackoverflow.com/tags/spring-mvc/info\">Spring MVC</a>, <a href=\"https://stackoverflow.com/tags/wicket/info\">Wicket</a>, etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control the flow</strong> inside a JSP page, then you need to grab an (existing) flow control taglib like <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\" rel=\"noreferrer\">JSTL core</a>. E.g. displaying <code>List&lt;Product&gt;</code> in a table:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n  ...\n  &lt;table&gt;\n      &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\n          &lt;tr&gt;\n              &lt;td&gt;${product.name}&lt;/td&gt;\n              &lt;td&gt;${product.description}&lt;/td&gt;\n              &lt;td&gt;${product.price}&lt;/td&gt;\n          &lt;/tr&gt;\n      &lt;/c:forEach&gt;\n  &lt;/table&gt;\n</code></pre>\n<p>With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (<em>&quot;Where the heck does this closing brace belong to?&quot;</em>). An easy aid is to configure your web application to throw an exception whenever <em>scriptlets</em> are still been used by adding the following piece to <code>web.xml</code>:</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;jsp-config&gt;\n      &lt;jsp-property-group&gt;\n          &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n          &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n      &lt;/jsp-property-group&gt;\n  &lt;/jsp-config&gt;\n</code></pre>\n<p>In <a href=\"https://stackoverflow.com/tags/facelets/info\">Facelets</a>, the successor of JSP, which is part of the Java EE provided MVC framework <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, it is already <strong>not</strong> possible to use <em>scriptlets</em>. This way you're automatically forced to do things &quot;the right way&quot;.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>access and display</strong> &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those <code>${}</code> things. E.g. redisplaying submitted input values:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\n</code></pre>\n<p>The <code>${param.foo}</code> displays the outcome of <code>request.getParameter(&quot;foo&quot;)</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some <strong>utility</strong> Java code directly in the JSP page (typically <code>public static</code> methods), then you need to define them as EL functions. There's a standard <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\" rel=\"noreferrer\">functions taglib</a> in JSTL, but <a href=\"https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\">you can also easily create functions yourself</a>. Here's an example how JSTL <code>fn:escapeXml</code> is useful to prevent <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"noreferrer\">XSS attacks</a>.</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\n  ...\n  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\n</code></pre>\n<p>Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in <strong>every</strong> web application you develop. The problem of <em>scriptlets</em> is that it provides no way of builtin preventions, at least not using the standard Java API. JSP's successor Facelets has already implicit HTML escaping, so you don't need to worry about XSS holes in Facelets.</p>\n</li>\n</ul>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\">What's the difference between JSP, Servlet and JSF?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\">How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\">Basic MVC example with JSP, Servlet and JDBC</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\">Design patterns in Java web applications</a></li>\n<li><a href=\"https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html\" rel=\"noreferrer\">Hidden features of JSP/Servlet</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":292848,"reputation":460,"user_id":595851,"accept_rate":0,"display_name":"Sami Jmii"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1613212091,"creation_date":1296816098,"answer_id":4897057,"question_id":3177733,"body_markdown":"In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.\r\n\r\nYou can use [JSTL][1], [freeMarker][2], and [velocity][3] with JSP as a &quot;template engine&quot;.\r\n\r\nThe data provider to those tags **depends on frameworks** that you are dealing with. [Struts][4] 2 and [WebWork][5] as an implementation for the MVC pattern uses [OGNL][6] &quot;very interesting technique to expose Beans properties to JSP&quot;.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/index-jsp-135995.html\r\n  [2]: http://freemarker.sourceforge.net/\r\n  [3]: http://velocity.apache.org/\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Struts\r\n  [5]: https://en.wikipedia.org/wiki/WebWork\r\n  [6]: https://struts.apache.org/tag-developers/ognl\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.</p>\n<p>You can use <a href=\"http://www.oracle.com/technetwork/java/index-jsp-135995.html\" rel=\"nofollow noreferrer\">JSTL</a>, <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow noreferrer\">freeMarker</a>, and <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">velocity</a> with JSP as a &quot;template engine&quot;.</p>\n<p>The data provider to those tags <strong>depends on frameworks</strong> that you are dealing with. <a href=\"https://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a> 2 and <a href=\"https://en.wikipedia.org/wiki/WebWork\" rel=\"nofollow noreferrer\">WebWork</a> as an implementation for the MVC pattern uses <a href=\"https://struts.apache.org/tag-developers/ognl\" rel=\"nofollow noreferrer\">OGNL</a> &quot;very interesting technique to expose Beans properties to JSP&quot;.</p>\n"},{"tags":[],"owner":{"account_id":309995,"reputation":4655,"user_id":622734,"accept_rate":74,"display_name":"mahesh"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1598389685,"creation_date":1298441690,"answer_id":5087629,"question_id":3177733,"body_markdown":"In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.\r\n\r\nAlso, Java has come up with [JSF][1] into which you can write all programming structures in the form of tags.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaServer_Faces\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.</p>\n<p>Also, Java has come up with <a href=\"https://en.wikipedia.org/wiki/JavaServer_Faces\" rel=\"nofollow noreferrer\">JSF</a> into which you can write all programming structures in the form of tags.</p>\n"},{"tags":[],"owner":{"account_id":117294,"reputation":491,"user_id":307254,"display_name":"tsand"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1598389604,"creation_date":1300818293,"answer_id":5395987,"question_id":3177733,"body_markdown":"There are also component-based frameworks, such as [Wicket][1], that generate a lot of the HTML for you.\r\n\r\nThe tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the **Wicket** API to learn and some things can be difficult to achieve under those constraints.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>There are also component-based frameworks, such as <a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a>, that generate a lot of the HTML for you.</p>\n<p>The tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the <strong>Wicket</strong> API to learn and some things can be difficult to achieve under those constraints.</p>\n"},{"tags":[],"owner":{"account_id":124072,"reputation":2812,"user_id":318938,"accept_rate":78,"display_name":"msj121"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1598389540,"creation_date":1305924154,"answer_id":6077376,"question_id":3177733,"body_markdown":"[Wicket][1] is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.\r\n\r\nLook at Wicket.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a> is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.</p>\n<p>Look at Wicket.</p>\n"},{"tags":[],"owner":{"account_id":197516,"reputation":16316,"user_id":1213738,"accept_rate":62,"display_name":"Chandra Sekhar"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1598389447,"creation_date":1307247830,"answer_id":6240988,"question_id":3177733,"body_markdown":"Use JSTL tag libraries in JSP. That will work perfectly.\r\n\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use JSTL tag libraries in JSP. That will work perfectly.</p>\n"},{"tags":[],"owner":{"account_id":445735,"reputation":347,"user_id":838361,"display_name":"tanglei"},"comment_count":0,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1310367599,"creation_date":1310367599,"answer_id":6646745,"question_id":3177733,"body_markdown":"Just use the JSTL tag and EL expression.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Just use the JSTL tag and EL expression.</p>\n"},{"comments":[{"owner":{"account_id":294508,"reputation":4953,"user_id":598444,"accept_rate":67,"display_name":"WarFox"},"score":15,"creation_date":1310542115,"post_id":6670578,"comment_id":7894833,"body_markdown":"JSP is itself a template engine","body":"JSP is itself a template engine"},{"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"score":1,"creation_date":1623910066,"post_id":6670578,"comment_id":120212433,"body_markdown":"You can mix business and presentation layers just as well with most other template engines because most of them are turing complete. I think stringtemplate.org is one of the not-turing-complete exceptions.","body":"You can mix business and presentation layers just as well with most other template engines because most of them are turing complete. I think stringtemplate.org is one of the not-turing-complete exceptions."}],"tags":[],"owner":{"account_id":758572,"reputation":613,"user_id":772286,"accept_rate":17,"display_name":"Dmitriy R"},"comment_count":2,"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1397952166,"creation_date":1310502017,"answer_id":6670578,"question_id":3177733,"body_markdown":"You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.\r\n\r\nAnd certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.</p>\n\n<p>And certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.</p>\n"},{"comments":[{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":17,"creation_date":1438206947,"post_id":7059994,"comment_id":51361643,"body_markdown":"@MrSpoon tracked down an answer for you. As per [this answer + comment](http://stackoverflow.com/questions/5890192/what-are-the-effects-of-disabling-scripting-in-a-jsp#comment6776514_5890208), this turns off scriptlets `&lt;% %&gt;`, scriptlet expressions `&lt;%! %&gt;`, and scriptlet declarations `&lt;%= %&gt;`. That means directives `&lt;%@ %&gt;` and comments `&lt;%-- --%&gt;` remain enabled and usable, so you can still do comments and includes.","body":"@MrSpoon tracked down an answer for you. As per <a href=\"http://stackoverflow.com/questions/5890192/what-are-the-effects-of-disabling-scripting-in-a-jsp#comment6776514_5890208\">this answer + comment</a>, this turns off scriptlets <code>&lt;% %&gt;</code>, scriptlet expressions <code>&lt;%! %&gt;</code>, and scriptlet declarations <code>&lt;%= %&gt;</code>. That means directives <code>&lt;%@ %&gt;</code> and comments <code>&lt;%-- --%&gt;</code> remain enabled and usable, so you can still do comments and includes."}],"tags":[],"owner":{"account_id":463967,"reputation":5429,"user_id":867184,"accept_rate":60,"display_name":"Stefan Schubert-Peters"},"comment_count":1,"down_vote_count":3,"up_vote_count":235,"is_accepted":false,"score":232,"last_activity_date":1339587209,"creation_date":1313359150,"answer_id":7059994,"question_id":3177733,"body_markdown":"**As a Safeguard: Disable Scriptlets For Good**\r\n\r\nAs [another question](https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page) is discussing, you can and always should disable scriptlets in your `web.xml` web application descriptor.\r\n\r\nI would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The `web.xml` settings look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;jsp-config&gt;\r\n      &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n         &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n      &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>As a Safeguard: Disable Scriptlets For Good</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page\">another question</a> is discussing, you can and always should disable scriptlets in your <code>web.xml</code> web application descriptor.</p>\n\n<p>I would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The <code>web.xml</code> settings look like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp-config&gt;\n  &lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n     &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n  &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"score":0,"creation_date":1313873069,"post_id":7098720,"comment_id":8553737,"body_markdown":"though reusability of components is fine it targets some field","body":"though reusability of components is fine it targets some field"}],"tags":[],"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"comment_count":1,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1598389330,"creation_date":1313611378,"answer_id":7098720,"question_id":3177733,"body_markdown":"**Learn to customize and write your own tags using JSTL**\r\n\r\nNote that EL is **EviL** (runtime exceptions and refactoring).\r\n\r\nWicket may be evil too (performance and toilsome for small applications or simple view tier).\r\n\r\n### Example from *java2s*\r\n\r\nThis must be added to the web application&#39;s web.xml\r\n\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCreate file *java2s.tld* in the */WEB-INF/*\r\n\r\n    &lt;!DOCTYPE taglib\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n       &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n\r\n    &lt;!-- A tab library descriptor --&gt;\r\n    &lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\r\n        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n        &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\r\n        &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\r\n\r\n        &lt;!-- This tag manipulates its body content by converting it to upper case\r\n        --&gt;\r\n        &lt;tag&gt;\r\n            &lt;name&gt;bodyContentTag&lt;/name&gt;\r\n            &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\r\n            &lt;body-content&gt;JSP&lt;/body-content&gt;\r\n            &lt;attribute&gt;\r\n              &lt;name&gt;howMany&lt;/name&gt;\r\n            &lt;/attribute&gt;\r\n        &lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCompile the following code into *WEB-INF\\classes\\com\\java2s*\r\n\r\n    package com.java2s;\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.jsp.JspWriter;\r\n    import javax.servlet.jsp.tagext.BodyContent;\r\n    import javax.servlet.jsp.tagext.BodyTagSupport;\r\n\r\n    public class BodyContentTag extends BodyTagSupport{\r\n        private int iterations, howMany;\r\n\r\n        public void setHowMany(int i){\r\n            this.howMany = i;\r\n        }\r\n\r\n        public void setBodyContent(BodyContent bc){\r\n            super.setBodyContent(bc);\r\n            System.out.println(&quot;BodyContent = &#39;&quot; + bc.getString() + &quot;&#39;&quot;);\r\n        }\r\n\r\n        public int doAfterBody(){\r\n            try{\r\n                BodyContent bodyContent = super.getBodyContent();\r\n                String bodyString  = bodyContent.getString();\r\n                JspWriter out = bodyContent.getEnclosingWriter();\r\n\r\n                if ( iterations % 2 == 0 )\r\n                    out.print(bodyString.toLowerCase());\r\n                else\r\n                    out.print(bodyString.toUpperCase());\r\n\r\n                iterations++;\r\n                bodyContent.clear(); // empty buffer for next evaluation\r\n            }\r\n            catch (IOException e) {\r\n                System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            } // End of catch\r\n\r\n            int retValue = SKIP_BODY;\r\n\r\n            if ( iterations &lt; howMany )\r\n                retValue = EVAL_BODY_AGAIN;\r\n\r\n            return retValue;\r\n        }\r\n    }\r\n\r\nStart the server and load the bodyContent.jsp file in the browser:\r\n\r\n    &lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;A custom tag: body content&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            This page uses a custom tag manipulates its body content.Here is its output:\r\n            &lt;ol&gt;\r\n                &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\r\n                &lt;li&gt;java2s.com&lt;/li&gt;\r\n                &lt;/java2s:bodyContentTag&gt;\r\n            &lt;/ol&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Learn to customize and write your own tags using JSTL</strong></p>\n<p>Note that EL is <strong>EviL</strong> (runtime exceptions and refactoring).</p>\n<p>Wicket may be evil too (performance and toilsome for small applications or simple view tier).</p>\n<h3>Example from <em>java2s</em></h3>\n<p>This must be added to the web application's web.xml</p>\n<pre><code>&lt;taglib&gt;\n    &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Create file <em>java2s.tld</em> in the <em>/WEB-INF/</em></p>\n<pre><code>&lt;!DOCTYPE taglib\n  PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n   &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n\n&lt;!-- A tab library descriptor --&gt;\n&lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n    &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\n    &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\n\n    &lt;!-- This tag manipulates its body content by converting it to upper case\n    --&gt;\n    &lt;tag&gt;\n        &lt;name&gt;bodyContentTag&lt;/name&gt;\n        &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\n        &lt;body-content&gt;JSP&lt;/body-content&gt;\n        &lt;attribute&gt;\n          &lt;name&gt;howMany&lt;/name&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Compile the following code into <em>WEB-INF\\classes\\com\\java2s</em></p>\n<pre><code>package com.java2s;\n\nimport java.io.IOException;\nimport javax.servlet.jsp.JspWriter;\nimport javax.servlet.jsp.tagext.BodyContent;\nimport javax.servlet.jsp.tagext.BodyTagSupport;\n\npublic class BodyContentTag extends BodyTagSupport{\n    private int iterations, howMany;\n\n    public void setHowMany(int i){\n        this.howMany = i;\n    }\n\n    public void setBodyContent(BodyContent bc){\n        super.setBodyContent(bc);\n        System.out.println(&quot;BodyContent = '&quot; + bc.getString() + &quot;'&quot;);\n    }\n\n    public int doAfterBody(){\n        try{\n            BodyContent bodyContent = super.getBodyContent();\n            String bodyString  = bodyContent.getString();\n            JspWriter out = bodyContent.getEnclosingWriter();\n\n            if ( iterations % 2 == 0 )\n                out.print(bodyString.toLowerCase());\n            else\n                out.print(bodyString.toUpperCase());\n\n            iterations++;\n            bodyContent.clear(); // empty buffer for next evaluation\n        }\n        catch (IOException e) {\n            System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\n            e.printStackTrace();\n        } // End of catch\n\n        int retValue = SKIP_BODY;\n\n        if ( iterations &lt; howMany )\n            retValue = EVAL_BODY_AGAIN;\n\n        return retValue;\n    }\n}\n</code></pre>\n<p>Start the server and load the bodyContent.jsp file in the browser:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;A custom tag: body content&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        This page uses a custom tag manipulates its body content.Here is its output:\n        &lt;ol&gt;\n            &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\n            &lt;li&gt;java2s.com&lt;/li&gt;\n            &lt;/java2s:bodyContentTag&gt;\n        &lt;/ol&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1598389159,"creation_date":1333374724,"answer_id":9977740,"question_id":3177733,"body_markdown":"If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.\r\n\r\n1. Use the MVC architecture for a web application\r\n\r\n2. Use JSP Tags\r\n\r\n a. Standard Tags\r\n\r\n b. Custom Tags\r\n\r\n3. Expression Language\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.</p>\n<ol>\n<li><p>Use the MVC architecture for a web application</p>\n</li>\n<li><p>Use JSP Tags</p>\n</li>\n</ol>\n<p>a. Standard Tags</p>\n<p>b. Custom Tags</p>\n<ol start=\"3\">\n<li>Expression Language</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":141848,"reputation":1340,"user_id":349161,"accept_rate":73,"display_name":"dipu"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1598389057,"creation_date":1336754752,"answer_id":10555449,"question_id":3177733,"body_markdown":"If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page. \r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;% // Instantiate a JSP controller\r\n    MyController clr = new MyController(request, response);\r\n    \r\n    // Process action, if any\r\n    clr.process(request);\r\n    \r\n    // Process page forwarding, if necessary\r\n    \r\n    // Do all variable assignment here\r\n    String showMe = clr.getShowMe();%&gt;\r\n    \r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form name=&quot;frm1&quot;&gt;\r\n                &lt;p&gt;&lt;%= showMe %&gt;\r\n                &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\r\n                &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\r\n    \r\n                // And so on   \r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page.</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;% // Instantiate a JSP controller\nMyController clr = new MyController(request, response);\n\n// Process action, if any\nclr.process(request);\n\n// Process page forwarding, if necessary\n\n// Do all variable assignment here\nString showMe = clr.getShowMe();%&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form name=&quot;frm1&quot;&gt;\n            &lt;p&gt;&lt;%= showMe %&gt;\n            &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\n            &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\n\n            // And so on   \n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1337799191,"post_id":10681343,"comment_id":13932111,"body_markdown":"JSP has since dec 2009 been succeeded by Facelets which supports this stuff. Facelets is also XML based. See also among others the [Facelets chapter in Java EE 6 tutorial](http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html) and [`ui:xxx` tags in Facelts VDL](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/).","body":"JSP has since dec 2009 been succeeded by Facelets which supports this stuff. Facelets is also XML based. See also among others the <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html\" rel=\"nofollow noreferrer\">Facelets chapter in Java EE 6 tutorial</a> and <a href=\"http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/\" rel=\"nofollow noreferrer\"><code>ui:xxx</code> tags in Facelts VDL</a>."},{"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"score":0,"creation_date":1343744889,"post_id":10681343,"comment_id":15585143,"body_markdown":"I don&#39;t know Facelets very well, but IIRC it is all about writing classes which implement custom XML elements.  The TAL/ZPT way is to have templates which contain true (X)HTML with special attributes which fill or replace the original elements; thus, you can view the working template and see a prototype with nice dummy content. I&#39;m not sure Facelets allow to tweak the original HTML elements (w/o an additional namespace) using custom attributes.","body":"I don&#39;t know Facelets very well, but IIRC it is all about writing classes which implement custom XML elements.  The TAL/ZPT way is to have templates which contain true (X)HTML with special attributes which fill or replace the original elements; thus, you can view the working template and see a prototype with nice dummy content. I&#39;m not sure Facelets allow to tweak the original HTML elements (w/o an additional namespace) using custom attributes."},{"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"score":0,"creation_date":1395564709,"post_id":10681343,"comment_id":34389207,"body_markdown":"I just had another look at this Facelets stuff.  It contains all sorts of validation facilities etc. and thus follows a completely different philosophy than TAL. The TAL way is, &quot;Keep the logic out of the template as cleanly as possible; have all the complicated stuff be done by the controller which feeds it.&quot; You won&#39;t ever give a Facelets template to a designer to have him/her tweak it; it&#39;s just not possible. Regarding the generated content - it&#39;s just like using `tal:replace=&quot;structure (expression)&quot;` attributes all the time.","body":"I just had another look at this Facelets stuff.  It contains all sorts of validation facilities etc. and thus follows a completely different philosophy than TAL. The TAL way is, &quot;Keep the logic out of the template as cleanly as possible; have all the complicated stuff be done by the controller which feeds it.&quot; You won&#39;t ever give a Facelets template to a designer to have him/her tweak it; it&#39;s just not possible. Regarding the generated content - it&#39;s just like using <code>tal:replace=&quot;structure (expression)&quot;</code> attributes all the time."}],"tags":[],"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1598388959,"creation_date":1337586693,"answer_id":10681343,"question_id":3177733,"body_markdown":"A neat idea from the Python world is *Template attribute languages*; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nThe code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.\r\n\r\nThere is support for macros and for [internationalisation and localisation][1] as well:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;\r\n                i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;\r\n                i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nIf translations of the content are available, they are used.\r\n\r\nI don&#39;t know very much about the [Java implementation][2], though.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [2]: http://sourceforge.net/projects/javazpt/\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A neat idea from the Python world is <em>Template attribute languages</em>; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>The code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.</p>\n<p>There is support for macros and for <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">internationalisation and localisation</a> as well:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\n&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;\n            i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;\n            i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>If translations of the content are available, they are used.</p>\n<p>I don't know very much about the <a href=\"http://sourceforge.net/projects/javazpt/\" rel=\"nofollow noreferrer\">Java implementation</a>, though.</p>\n"},{"comments":[{"owner":{"account_id":97245,"reputation":748,"user_id":263877,"display_name":"Evan Donovan"},"score":1,"creation_date":1396457183,"post_id":14442545,"comment_id":34799946,"body_markdown":"Doesn&#39;t really answer the OP&#39;s question.","body":"Doesn&#39;t really answer the OP&#39;s question."},{"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"score":1,"creation_date":1396498629,"post_id":14442545,"comment_id":34817426,"body_markdown":"@EvanDonovan well, practically it does give an answer. You don&#39;t need to mess with Java codes mixing up with other languages. I admit it uses Java for coding, but it will be translated to JS without Java calls. But the question&#39;s scope is how to avoid the chaos of the classic JSP. And GWT technology solves that. I added up this answer since nobody mentioned it, but relevant since it is an alternative to JSP. I didn&#39;t want to answer the question&#39;s whole scope, but to add a valuable information for people who are ooking for alternatives.","body":"@EvanDonovan well, practically it does give an answer. You don&#39;t need to mess with Java codes mixing up with other languages. I admit it uses Java for coding, but it will be translated to JS without Java calls. But the question&#39;s scope is how to avoid the chaos of the classic JSP. And GWT technology solves that. I added up this answer since nobody mentioned it, but relevant since it is an alternative to JSP. I didn&#39;t want to answer the question&#39;s whole scope, but to add a valuable information for people who are ooking for alternatives."}],"tags":[],"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"comment_count":2,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1598388848,"creation_date":1358784272,"answer_id":14442545,"question_id":3177733,"body_markdown":"**If somebody is really against programming in more languages than one**, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won&#39;t have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or [Vaadin][1]). You don&#39;t need to learn dozens of annotations. \r\n\r\nOf course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it&#39;s say worth a try, and the basic GWT is well-documented.\r\n\r\nAnd of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don&#39;t want to deal with the web part or to minimize it. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vaadin\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>If somebody is really against programming in more languages than one</strong>, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won't have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or <a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin</a>). You don't need to learn dozens of annotations.</p>\n<p>Of course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it's say worth a try, and the basic GWT is well-documented.</p>\n<p>And of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don't want to deal with the web part or to minimize it.</p>\n"},{"comments":[{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":1,"creation_date":1563828743,"post_id":14539925,"comment_id":100822253,"body_markdown":"&quot;No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project.&quot; See &quot;As a Safeguard: Disable Scriptlets For Good&quot; answer.","body":"&quot;No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project.&quot; See &quot;As a Safeguard: Disable Scriptlets For Good&quot; answer."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626708683,"post_id":14539925,"comment_id":120960061,"body_markdown":"Or you could just explain why scriptlets are evil and if you can&#39;t explain it, maybe they&#39;re not actually evil after all.","body":"Or you could just explain why scriptlets are evil and if you can&#39;t explain it, maybe they&#39;re not actually evil after all."}],"tags":[],"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1359223676,"creation_date":1359223676,"answer_id":14539925,"question_id":3177733,"body_markdown":"No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages\r\n\r\n**Create a master page called base.tag under your WEB-INF/tags with the following content**\r\n\r\n&gt;     &lt;%@tag description=&quot;Overall Page template&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&gt;     \r\n&gt;     &lt;%@attribute name=&quot;title&quot; fragment=&quot;true&quot; %&gt;\r\n&gt;     \r\n&gt;     &lt;html&gt;\r\n&gt;       &lt;head&gt;\r\n&gt;         &lt;title&gt;  \r\n&gt;            &lt;jsp:invoke fragment=&quot;title&quot;&gt;&lt;/jsp:invoke&gt;\r\n&gt;         &lt;/title&gt;\r\n&gt;         \r\n&gt;       &lt;/head&gt;\r\n&gt;       &lt;body&gt;\r\n&gt;         &lt;div id=&quot;page-header&quot;&gt;\r\n&gt;            ....\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-body&quot;&gt;\r\n&gt;           &lt;jsp:doBody/&gt;\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-footer&quot;&gt;\r\n&gt;           .....\r\n&gt;         &lt;/div&gt;\r\n&gt;       &lt;/body&gt;\r\n&gt;     &lt;/html&gt;\r\n\r\nOn this mater page, I created a fragment called &quot;title&quot;, so that in the child page, I could insert more codes into this place of the master page. Also, the tag `&lt;jsp:doBody/&gt;` will be replaced by the content of the child page \r\n\r\n**Create child page (child.jsp) in your WebContent folder:**\r\n\r\n&gt; &lt;%@ taglib prefix=&quot;bean&quot; uri=&quot;http://struts.apache.org/tags-bean&quot;%&gt;\r\n&gt; \r\n&gt;     &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n&gt; \r\n&gt;     &lt;t:base&gt;\r\n&gt;         &lt;jsp:attribute name=&quot;title&quot;&gt; \r\n&gt;             &lt;bean:message key=&quot;hello.world&quot; /&gt;\r\n&gt;         &lt;/jsp:attribute&gt;\r\n&gt;         \r\n&gt;         &lt;jsp:body&gt;\r\n&gt;         [Put your content of the child here]\r\n&gt;         &lt;/jsp:body&gt;   \r\n&gt;     &lt;/t:base&gt;\r\n\r\n\r\n`&lt;t:base&gt;` is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag `&lt;jsp:body&gt;` here will replace the `&lt;jsp:doBody/&gt;` on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (`&lt;%= request.getParameter(&quot;name&quot;) %&gt;` ...) and try to run this page, you will get a `JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here`. Therefore, there is no way other people can include the evil code into the jsp file\r\n\r\n**Calling this page from your controller:**\r\n\r\nYou can easily call the child.jsp file from your controller. This also works nice with the struts framework","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages</p>\n\n<p><strong>Create a master page called base.tag under your WEB-INF/tags with the following content</strong></p>\n\n<blockquote>\n<pre><code>&lt;%@tag description=\"Overall Page template\" pageEncoding=\"UTF-8\"%&gt;\n\n&lt;%@attribute name=\"title\" fragment=\"true\" %&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;  \n       &lt;jsp:invoke fragment=\"title\"&gt;&lt;/jsp:invoke&gt;\n    &lt;/title&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"page-header\"&gt;\n       ....\n    &lt;/div&gt;\n    &lt;div id=\"page-body\"&gt;\n      &lt;jsp:doBody/&gt;\n    &lt;/div&gt;\n    &lt;div id=\"page-footer\"&gt;\n      .....\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n\n<p>On this mater page, I created a fragment called \"title\", so that in the child page, I could insert more codes into this place of the master page. Also, the tag <code>&lt;jsp:doBody/&gt;</code> will be replaced by the content of the child page </p>\n\n<p><strong>Create child page (child.jsp) in your WebContent folder:</strong></p>\n\n<blockquote>\n  \n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:base&gt;\n    &lt;jsp:attribute name=\"title\"&gt; \n        &lt;bean:message key=\"hello.world\" /&gt;\n    &lt;/jsp:attribute&gt;\n\n    &lt;jsp:body&gt;\n    [Put your content of the child here]\n    &lt;/jsp:body&gt;   \n&lt;/t:base&gt;\n</code></pre>\n</blockquote>\n\n<p><code>&lt;t:base&gt;</code> is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag <code>&lt;jsp:body&gt;</code> here will replace the <code>&lt;jsp:doBody/&gt;</code> on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (<code>&lt;%= request.getParameter(\"name\") %&gt;</code> ...) and try to run this page, you will get a <code>JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here</code>. Therefore, there is no way other people can include the evil code into the jsp file</p>\n\n<p><strong>Calling this page from your controller:</strong></p>\n\n<p>You can easily call the child.jsp file from your controller. This also works nice with the struts framework</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1598387969,"creation_date":1371202291,"answer_id":17105374,"question_id":3177733,"body_markdown":"**Technically, JSP are all converted to Servlets during runtime**.\r\n\r\nJSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.\r\n\r\nBut to answer the question, *tag libraries* are usually used for applying logic (removing Java code) to JSP pages.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Technically, JSP are all converted to Servlets during runtime</strong>.</p>\n<p>JSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.</p>\n<p>But to answer the question, <em>tag libraries</em> are usually used for applying logic (removing Java code) to JSP pages.</p>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1385136122,"creation_date":1374472760,"answer_id":17780850,"question_id":3177733,"body_markdown":"Using scriptlets in JSPs is not a good practice.\r\n\r\nInstead, you can use:\r\n\r\n1. JSTL tags   \r\n2. EL expressions\r\n3. Custom Tags- you can define your own tags to use.\r\n\r\nPlease refer to: \r\n\r\n1. http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\r\n2. [EL][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using scriptlets in JSPs is not a good practice.</p>\n\n<p>Instead, you can use:</p>\n\n<ol>\n<li>JSTL tags   </li>\n<li>EL expressions</li>\n<li>Custom Tags- you can define your own tags to use.</li>\n</ol>\n\n<p>Please refer to: </p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\">http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html</a></li>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html\">EL</a> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2189278,"reputation":157,"user_id":1936845,"display_name":"Razvan"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1511353363,"creation_date":1394903838,"answer_id":22427102,"question_id":3177733,"body_markdown":"Sure, replace `&lt;%! counter++; %&gt;` by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don&#39;t implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.\r\n\r\nI have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).\r\n\r\nSo I consider as procrastination the activity of defining &quot;layers&quot; or redundant data structures either early in the project or when not specifically required. &amp;nbsp;","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Sure, replace <code>&lt;%! counter++; %&gt;</code> by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don't implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.</p>\n\n<p>I have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).</p>\n\n<p>So I consider as procrastination the activity of defining \"layers\" or redundant data structures either early in the project or when not specifically required. &nbsp;</p>\n"},{"comments":[{"owner":{"account_id":1259046,"reputation":529,"user_id":1217877,"accept_rate":27,"display_name":"casgage"},"score":0,"creation_date":1485917565,"post_id":34452329,"comment_id":71120605,"body_markdown":"I definitely second this response. JSF with or without Facelets. I thought developing in JSP had largely ceased more than 10 years ago. I last wrote JSPs in 2000!","body":"I definitely second this response. JSF with or without Facelets. I thought developing in JSP had largely ceased more than 10 years ago. I last wrote JSPs in 2000!"}],"tags":[],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598386941,"creation_date":1450957647,"answer_id":34452329,"question_id":3177733,"body_markdown":"***How can I avoid Java code in JSP files?***\r\n\r\nYou can use tab library tags like **JSTL** in addition to Expression Language (**EL**). But EL does not work well with JSP. So it&#39;s is probably better to drop JSP completely and use **Facelets**.\r\n\r\n**Facelets** is the first non JSP page declaration language designed for **JSF (Java Server Faces)** which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[Source][2]\r\n\r\n  [1]: http://i.stack.imgur.com/osqxG.png\r\n  [2]: http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><em><strong>How can I avoid Java code in JSP files?</strong></em></p>\n<p>You can use tab library tags like <strong>JSTL</strong> in addition to Expression Language (<strong>EL</strong>). But EL does not work well with JSP. So it's is probably better to drop JSP completely and use <strong>Facelets</strong>.</p>\n<p><strong>Facelets</strong> is the first non JSP page declaration language designed for <strong>JSF (Java Server Faces)</strong> which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.</p>\n<p><a href=\"https://i.stack.imgur.com/osqxG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osqxG.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386830,"creation_date":1460472951,"answer_id":36576959,"question_id":3177733,"body_markdown":"JSP 2.0 has a feature called **&quot;Tag Files&quot;**, and you can write tags without external Java code and `tld`. You need to create a `.tag` file and put it in `WEB-INF\\tags`. You can even create a directory structure to package your tags.\r\n\r\nFor example:\r\n\r\n    /WEB-INF/tags/html/label.tag\r\n\r\n    &lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\r\n\r\n    &lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\r\n\r\nUse it like\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\r\n    &lt;h:label  name=&quot;customer name&quot; /&gt;\r\n\r\nAlso, you can read the tag body easily:\r\n\r\n    /WEB-INF/tags/html/bold.tag\r\n    &lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;b&gt;\r\n      &lt;jsp:doBody/&gt;\r\n    &lt;/b&gt;\r\n\r\nUse it:\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\r\n    &lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\r\n\r\nThe samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: `JSTL` which has controlling tags like `if/forEcah/chosen` text manipulation like `format/contains/uppercase` or even SQL tags `select/update`), pass all kind parameters, for example `Hashmap`, access `session`, `request`, ... in your tag file too.\r\n\r\n**Tag File** are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.\r\n\r\nEven if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.\r\n\r\nYou can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.\r\n\r\n(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>JSP 2.0 has a feature called <strong>&quot;Tag Files&quot;</strong>, and you can write tags without external Java code and <code>tld</code>. You need to create a <code>.tag</code> file and put it in <code>WEB-INF\\tags</code>. You can even create a directory structure to package your tags.</p>\n<p>For example:</p>\n<pre><code>/WEB-INF/tags/html/label.tag\n\n&lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\n\n&lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\n</code></pre>\n<p>Use it like</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\n&lt;h:label  name=&quot;customer name&quot; /&gt;\n</code></pre>\n<p>Also, you can read the tag body easily:</p>\n<pre><code>/WEB-INF/tags/html/bold.tag\n&lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;b&gt;\n  &lt;jsp:doBody/&gt;\n&lt;/b&gt;\n</code></pre>\n<p>Use it:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\n&lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\n</code></pre>\n<p>The samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: <code>JSTL</code> which has controlling tags like <code>if/forEcah/chosen</code> text manipulation like <code>format/contains/uppercase</code> or even SQL tags <code>select/update</code>), pass all kind parameters, for example <code>Hashmap</code>, access <code>session</code>, <code>request</code>, ... in your tag file too.</p>\n<p><strong>Tag File</strong> are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.</p>\n<p>Even if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.</p>\n<p>You can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.</p>\n<p>(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)</p>\n"},{"tags":[],"owner":{"account_id":6284293,"reputation":328,"user_id":5379010,"accept_rate":100,"display_name":"bhanwar rathore"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598386656,"creation_date":1468561713,"answer_id":38388675,"question_id":3177733,"body_markdown":"By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598386621,"creation_date":1499459089,"answer_id":44979085,"question_id":3177733,"body_markdown":"As many answers says, use JSTL or create your own custom tags. [Here][1] is a good explanation about creating custom tags.\r\n\r\n  [1]: http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>As many answers says, use JSTL or create your own custom tags. <a href=\"http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\" rel=\"nofollow noreferrer\">Here</a> is a good explanation about creating custom tags.</p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598386594,"creation_date":1512057573,"answer_id":47577565,"question_id":3177733,"body_markdown":"Using Scriptlets is a very old way and *not* recommended. If you want directly output something in your JSP pages, just use **Expression Language (EL)**  along with **JSTL**.\r\n\r\nThere are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.\r\n\r\nAlso, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the *service* layer,\r\nand pass the output result to your views through a *controller*.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using Scriptlets is a very old way and <em>not</em> recommended. If you want directly output something in your JSP pages, just use <strong>Expression Language (EL)</strong>  along with <strong>JSTL</strong>.</p>\n<p>There are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.</p>\n<p>Also, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the <em>service</em> layer,\nand pass the output result to your views through a <em>controller</em>.</p>\n"},{"comments":[{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":0,"creation_date":1644423110,"post_id":47780407,"comment_id":125604088,"body_markdown":"It will change the way we design, but not always in a good way with good results.","body":"It will change the way we design, but not always in a good way with good results."},{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":0,"creation_date":1644423487,"post_id":47780407,"comment_id":125604268,"body_markdown":"It will change the way we design, but not always in a good way with good results. We will face 1. Longer initial loading  2. slow indexing by Google, no indexing by other search engines 3. performance problems on low-end mobile devices. SPA frameworks should be used for SPA. Creating content websites using SPA frameworks, especially heavy ones like Angular or React is a way to trouble.","body":"It will change the way we design, but not always in a good way with good results. We will face 1. Longer initial loading  2. slow indexing by Google, no indexing by other search engines 3. performance problems on low-end mobile devices. SPA frameworks should be used for SPA. Creating content websites using SPA frameworks, especially heavy ones like Angular or React is a way to trouble."}],"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386473,"creation_date":1513107933,"answer_id":47780407,"question_id":3177733,"body_markdown":"Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.\r\n\r\nIn my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.\r\n\r\nBelieve me, this will change the way you design.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.</p>\n<p>In my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.</p>\n<p>Believe me, this will change the way you design.</p>\n"},{"tags":[],"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386341,"creation_date":1529502553,"answer_id":50949855,"question_id":3177733,"body_markdown":"Use a Backbone.js or AngularJS-like JavaScript framework for UI design\r\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use a Backbone.js or AngularJS-like JavaScript framework for UI design\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.</p>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543680249,"creation_date":1543680249,"answer_id":53572611,"question_id":3177733,"body_markdown":" 1. Make your values and parameters inside your servlet classes\r\n 2. Fetch those values and parameters within your JSP using JSTL/Taglib\r\n\r\n&gt; The good thing about this approach is that your code is also HTML like\r\n&gt; code!","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<ol>\n<li>Make your values and parameters inside your servlet classes</li>\n<li>Fetch those values and parameters within your JSP using JSTL/Taglib</li>\n</ol>\n\n<blockquote>\n  <p>The good thing about this approach is that your code is also HTML like\n  code!</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672277216,"post_id":63625669,"comment_id":132257954,"body_markdown":"That is some wall of text. Can you break it down?","body":"That is some wall of text. Can you break it down?"}],"tags":[],"owner":{"account_id":1366083,"reputation":96,"user_id":1302473,"display_name":"Philippe Damerval"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598573021,"creation_date":1598573021,"answer_id":63625669,"question_id":3177733,"body_markdown":"A lot of the answers here go the &quot;use a framework&quot; route. There&#39;s zero wrong with that. However I don&#39;t think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. &lt;br&gt;&lt;br&gt;\r\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can&#39;t. &lt;br&gt; &lt;br&gt;That&#39;s what JSPs are for - using Java to render HTML with dynamic data/logic. \r\nThe follow up question might be, how much java should I use in my JSPs.&lt;br&gt; Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don&#39;t get me wrong, you can use them and many implementations do, but you don&#39;t absolutely have to. Struts doesn&#39;t even force you to use any HTML. A JSP doesn&#39;t either, but let&#39;s be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are *the* primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. &lt;br&gt;\r\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It&#39;s a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason. \r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A lot of the answers here go the &quot;use a framework&quot; route. There's zero wrong with that. However I don't think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. <br><br>\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can't. <br> <br>That's what JSPs are for - using Java to render HTML with dynamic data/logic.\nThe follow up question might be, how much java should I use in my JSPs.<br> Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don't get me wrong, you can use them and many implementations do, but you don't absolutely have to. Struts doesn't even force you to use any HTML. A JSP doesn't either, but let's be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are <em>the</em> primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. <br>\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It's a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672277294,"post_id":70816280,"comment_id":132257961,"body_markdown":"Can you add a reference to JSOUP? (But **************** ***without*** **************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today).","body":"Can you add a reference to JSOUP? (But **************** <b><i>without</i></b> **************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today)."}],"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672736007,"creation_date":1642879040,"answer_id":70816280,"question_id":3177733,"body_markdown":"Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.\r\n\r\nHere is a super lightweight approach to creating a backend in Java:\r\n\r\n - don&#39;t use JSP (or any other template engine) at all;\r\n - use plain HTML templates;\r\n - use JSOUP to parse HTML templates into Document object;\r\n - modify Document object using its very intuitive jQuery like methods;\r\n - return Document.toString() as response to request.\r\n\r\nI use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.  \r\n \r\n[JSoup][1]\r\n\r\n   \r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.</p>\n<p>Here is a super lightweight approach to creating a backend in Java:</p>\n<ul>\n<li>don't use JSP (or any other template engine) at all;</li>\n<li>use plain HTML templates;</li>\n<li>use JSOUP to parse HTML templates into Document object;</li>\n<li>modify Document object using its very intuitive jQuery like methods;</li>\n<li>return Document.toString() as response to request.</li>\n</ul>\n<p>I use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.</p>\n<p><a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a></p>\n"}],"owner":{"account_id":34076,"reputation":18614,"user_id":95914,"accept_rate":87,"display_name":"chmoelders"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318395,"favorite_count":0,"down_vote_count":7,"up_vote_count":1773,"accepted_answer_id":3180202,"answer_count":31,"score":1766,"last_activity_date":1672736007,"creation_date":1278314646,"question_id":3177733,"body_markdown":"I know that something like the following three lines\r\n\r\n    &lt;%= x+1 %&gt;\r\n    &lt;%= request.getParameter(&quot;name&quot;) %&gt;\r\n    &lt;%! counter++; %&gt;\r\n\r\nis an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>I know that something like the following three lines</p>\n<pre><code>&lt;%= x+1 %&gt;\n&lt;%= request.getParameter(&quot;name&quot;) %&gt;\n&lt;%! counter++; %&gt;\n</code></pre>\n<p>is an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?</p>\n"},{"tags":["java","spring","spring-boot","filter","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672660051,"post_id":74982010,"comment_id":132321089,"body_markdown":"Your dependencies are wrong. The best way to start a Spring Boot project is to us https://start.spring.io/. It helps to get the right dependencies.","body":"Your dependencies are wrong. The best way to start a Spring Boot project is to us <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>. It helps to get the right dependencies."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660119,"post_id":74982010,"comment_id":132321101,"body_markdown":"[Spring Boot 3.0 Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide): &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Boot 3.0 Migration Guide</a>: &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660929,"post_id":74982010,"comment_id":132321282,"body_markdown":"which error? `spring-security-config v. 5.7.3` depends on `spring-security-web v. 5.7.3` which was compiled against `javax.servlet:javax.servlet-api`, meanwhile `spring-boot-starter-web` brings `jakarta.servlet:jakarta.servlet-api` as a runtime dependency, you might even do not see any `javax.servlet` classes in your project but nothing will work.","body":"which error? <code>spring-security-config v. 5.7.3</code> depends on <code>spring-security-web v. 5.7.3</code> which was compiled against <code>javax.servlet:javax.servlet-api</code>, meanwhile <code>spring-boot-starter-web</code> brings <code>jakarta.servlet:jakarta.servlet-api</code> as a runtime dependency, you might even do not see any <code>javax.servlet</code> classes in your project but nothing will work."},{"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"score":0,"creation_date":1672661397,"post_id":74982010,"comment_id":132321369,"body_markdown":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for `WebSecurityConfigurerAdapter`). So I think that I have to completely get rid of using `WebSecurityConfigurerAdapter`, and finish reading the article you provided, I hope it may help.","body":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for <code>WebSecurityConfigurerAdapter</code>). So I think that I have to completely get rid of using <code>WebSecurityConfigurerAdapter</code>, and finish reading the article you provided, I hope it may help."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1672661823,"post_id":74982010,"comment_id":132321466,"body_markdown":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735686,"creation_date":1672735686,"answer_id":74990965,"question_id":74982010,"body_markdown":"So, the solution was simple. If you&#39;re migrating to Spring 6, you should get rid of using the `WebSecurityConfigurerAdapter` class and instead configure your security without it.\r\n\r\nI&#39;ve written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .formLogin(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n            UserDetails user = User\r\n                                .withUsername(&quot;spring_user&quot;)\r\n                                .password(encoder.encode(&quot;password123&quot;))\r\n                                .roles(&quot;USER&quot;)\r\n                                .build();\r\n    \r\n            return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }\r\n\r\nThat&#39;s the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.","title":"Spring Security  cannot access javax.servlet.Filter","body":"<p>So, the solution was simple. If you're migrating to Spring 6, you should get rid of using the <code>WebSecurityConfigurerAdapter</code> class and instead configure your security without it.</p>\n<p>I've written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        UserDetails user = User\n                            .withUsername(&quot;spring_user&quot;)\n                            .password(encoder.encode(&quot;password123&quot;))\n                            .roles(&quot;USER&quot;)\n                            .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>That's the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.</p>\n"}],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4995,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1672735686,"creation_date":1672659809,"question_id":74982010,"body_markdown":"I&#39;m writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the `WebSecurityConfigurerAdapter` (I wanna get rid of it later, since it&#39;s deprecated).\r\nSo, my config class looks like this:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\r\n                                         .password(&quot;password123&quot;)\r\n                                         .roles(&quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\r\n                .httpBasic(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.codelib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;basic-auth-security&lt;/name&gt;\r\n        &lt;description&gt;basic-auth-security&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nNote that I have `spring-boot-starter-web` dependency.\r\n\r\nThere is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:\r\n\r\n    java: cannot access javax.servlet.Filter\r\n      class file for javax.servlet.Filter not found\r\n\r\nAnd IDEA redirects me to the config file. (but no lines of code are underlined with red)\r\n\r\nWhat can be the cause of this?","title":"Spring Security  cannot access javax.servlet.Filter","body":"<p>I'm writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the <code>WebSecurityConfigurerAdapter</code> (I wanna get rid of it later, since it's deprecated).\nSo, my config class looks like this:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\n                                     .password(&quot;password123&quot;)\n                                     .roles(&quot;ADMIN&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\n            .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public static PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.codelib&lt;/groupId&gt;\n    &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;basic-auth-security&lt;/name&gt;\n    &lt;description&gt;basic-auth-security&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Note that I have <code>spring-boot-starter-web</code> dependency.</p>\n<p>There is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:</p>\n<pre><code>java: cannot access javax.servlet.Filter\n  class file for javax.servlet.Filter not found\n</code></pre>\n<p>And IDEA redirects me to the config file. (but no lines of code are underlined with red)</p>\n<p>What can be the cause of this?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1671118686,"post_id":74813974,"comment_id":132033835,"body_markdown":"Yes you definitely need to specify content type.","body":"Yes you definitely need to specify content type."},{"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"score":0,"creation_date":1671142201,"post_id":74813974,"comment_id":132041299,"body_markdown":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500) \n\n[org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.XxxxxXX&gt;","body":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500)   [org.springframework.http.converter.HttpMessageNotReadableEx&zwnj;&#8203;ception: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.Xx&zwnj;&#8203;xxxXX&gt;"}],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735068,"creation_date":1672735068,"answer_id":74990846,"question_id":74813974,"body_markdown":"You can always use the `@RestController` for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>You can always use the <code>@RestController</code> for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.</p>\n"}],"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672735068,"creation_date":1671118434,"question_id":74813974,"body_markdown":"I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don&#39;t specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)\r\n\r\nDo I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?\r\n\r\nThanks in advance,","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don't specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)</p>\n<p>Do I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","json","jackson","jackson-databind","lottie"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672730052,"creation_date":1672730052,"answer_id":74990080,"question_id":74980417,"body_markdown":"The mapping seems incorrect. What you have is this:\r\n\r\n\r\n```json\r\nvar json = &quot;&quot;&quot;\r\n           {\r\n               &quot;k&quot;: [\r\n                   5.01,\r\n                   6.02\r\n                ]\r\n           }\r\n           &quot;&quot;&quot;;\r\n```\r\n\r\nThis is effectively an array of numbers which I assume should map to `NumberKeyframe`. But that would map to something like:\r\n\r\n```json\r\n&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\r\n```\r\n\r\nI&#39;m not sure if this is something Jackson can do seamlessly without a mapper.","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>The mapping seems incorrect. What you have is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>var json = &quot;&quot;&quot;\n           {\n               &quot;k&quot;: [\n                   5.01,\n                   6.02\n                ]\n           }\n           &quot;&quot;&quot;;\n</code></pre>\n<p>This is effectively an array of numbers which I assume should map to <code>NumberKeyframe</code>. But that would map to something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\n</code></pre>\n<p>I'm not sure if this is something Jackson can do seamlessly without a mapper.</p>\n"},{"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1672737589,"post_id":74990824,"comment_id":132337024,"body_markdown":"great solution, thanks! indeed it seems the defaultImpl is key here...","body":"great solution, thanks! indeed it seems the defaultImpl is key here..."}],"tags":[],"owner":{"account_id":1890140,"reputation":6225,"user_id":1708462,"accept_rate":73,"display_name":"xxtesaxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672734935,"creation_date":1672734935,"answer_id":74990824,"question_id":74980417,"body_markdown":"Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I&#39;m not 100% why :see_no_evil:\r\n\r\n    public class MyTest {\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class Animated {\r\n    \r\n            public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(NumberKeyframe.class),\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n        })\r\n        public interface Keyframe {\r\n    \r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class NumberKeyframe extends BigDecimal implements Keyframe {\r\n    \r\n            public NumberKeyframe(int val) {\r\n                super(val);\r\n            }\r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class TimedKeyframe implements Keyframe {\r\n    \r\n            @JsonProperty(&quot;s&quot;)\r\n            List&lt;BigDecimal&gt; values;\r\n        }\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        public void testInteger() throws JsonProcessingException, JSONException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n            assertEquals(2, animated.keyframes.size());\r\n    \r\n            assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\r\n            assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\r\n                + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\r\n                + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\r\n                + &quot;]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertEquals(2, animated.keyframes.size());\r\n            assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\r\n            assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\r\n            assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\r\n            assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\r\n        }\r\n    }\r\n","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I'm not 100% why :see_no_evil:</p>\n<pre><code>public class MyTest {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class Animated {\n\n        public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\n    }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\n    @JsonSubTypes({\n        @JsonSubTypes.Type(NumberKeyframe.class),\n        @JsonSubTypes.Type(TimedKeyframe.class),\n    })\n    public interface Keyframe {\n\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class NumberKeyframe extends BigDecimal implements Keyframe {\n\n        public NumberKeyframe(int val) {\n            super(val);\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class TimedKeyframe implements Keyframe {\n\n        @JsonProperty(&quot;s&quot;)\n        List&lt;BigDecimal&gt; values;\n    }\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    public void testInteger() throws JsonProcessingException, JSONException {\n        var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n        assertEquals(2, animated.keyframes.size());\n\n        assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\n        assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\n            + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\n            + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\n            + &quot;]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertEquals(2, animated.keyframes.size());\n        assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\n        assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\n        assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\n        assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74990824,"answer_count":2,"score":1,"last_activity_date":1672734935,"creation_date":1672649180,"question_id":74980417,"body_markdown":"I&#39;m working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it&#39;s a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I&#39;ve been able to handle almost everything, but I still need to find a suitable solution for the keyframes.\r\n\r\nGiven the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I&#39;m using Jackson 2.14.1.\r\n\r\nAt this point, only `testTimed` succeeds.\r\n\r\n\r\n    \r\n    public class KeyframeTest {\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        void testInteger() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          128,\r\n                          256\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(128, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testDouble() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          5.01,\r\n                          6.02\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                         {\r\n                           &quot;i&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.833\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.833\r\n                             ]\r\n                           },\r\n                           &quot;o&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.167\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.167\r\n                             ]\r\n                           },\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         },\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             360.0\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\r\n                    () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testMixed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                        100,\r\n                        33.44,\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\r\n            });\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(3, keyFrames.size()),\r\n                    () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\r\n            );\r\n        }\r\n    }\r\n\r\nAnimated object\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(Include.NON_NULL)\r\n    public record Animated(\r\n            @JsonProperty(&quot;a&quot;) Integer animated,\r\n            @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\r\n            @JsonProperty(&quot;ix&quot;) Integer ix,\r\n            @JsonProperty(&quot;l&quot;) Integer l\r\n    ) {\r\n    }\r\n\r\nKeyframe objects, using Java Records based on my earlier question here https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n            @JsonSubTypes.Type(NumberKeyframe.class)\r\n    })\r\n    public interface Keyframe {\r\n    \r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record NumberKeyframe(\r\n            BigDecimal value\r\n    ) implements Keyframe {\r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record TimedKeyframe(\r\n            @JsonProperty(&quot;t&quot;) Integer time, // in frames\r\n            // Use BigDecimal here to be able to handle both Integer and Double\r\n            // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\r\n            @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\r\n            @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\r\n            @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\r\n            @JsonProperty(&quot;h&quot;) Integer holdFrame\r\n    ) implements Keyframe {\r\n    }\r\n\r\nThis is the failure message for testDouble:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\r\n at [Source: (String)&quot;{\r\n    &quot;k&quot;: [\r\n      5.01,\r\n      6.02\r\n    ]\r\n}\r\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\r\n```","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>I'm working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it's a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I've been able to handle almost everything, but I still need to find a suitable solution for the keyframes.</p>\n<p>Given the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I'm using Jackson 2.14.1.</p>\n<p>At this point, only <code>testTimed</code> succeeds.</p>\n<pre><code>public class KeyframeTest {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    void testInteger() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      128,\n                      256\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(128, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testDouble() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      5.01,\n                      6.02\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                     {\n                       &quot;i&quot;: {\n                         &quot;x&quot;: [\n                           0.833\n                         ],\n                         &quot;y&quot;: [\n                           0.833\n                         ]\n                       },\n                       &quot;o&quot;: {\n                         &quot;x&quot;: [\n                           0.167\n                         ],\n                         &quot;y&quot;: [\n                           0.167\n                         ]\n                       },\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     },\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         360.0\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\n                () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testMixed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                    100,\n                    33.44,\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\n        });\n\n        assertAll(\n                () -&gt; assertEquals(3, keyFrames.size()),\n                () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\n        );\n    }\n}\n</code></pre>\n<p>Animated object</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(Include.NON_NULL)\npublic record Animated(\n        @JsonProperty(&quot;a&quot;) Integer animated,\n        @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\n        @JsonProperty(&quot;ix&quot;) Integer ix,\n        @JsonProperty(&quot;l&quot;) Integer l\n) {\n}\n</code></pre>\n<p>Keyframe objects, using Java Records based on my earlier question here <a href=\"https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\">Parse JSON to Java records with fasterxml.jackson</a></p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(TimedKeyframe.class),\n        @JsonSubTypes.Type(NumberKeyframe.class)\n})\npublic interface Keyframe {\n\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record NumberKeyframe(\n        BigDecimal value\n) implements Keyframe {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record TimedKeyframe(\n        @JsonProperty(&quot;t&quot;) Integer time, // in frames\n        // Use BigDecimal here to be able to handle both Integer and Double\n        // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\n        @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\n        @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\n        @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\n        @JsonProperty(&quot;h&quot;) Integer holdFrame\n) implements Keyframe {\n}\n</code></pre>\n<p>This is the failure message for testDouble:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\n at [Source: (String)&quot;{\n    &quot;k&quot;: [\n      5.01,\n      6.02\n    ]\n}\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n"},{"tags":["java","mysql","inner-join","sql-delete"],"answers":[{"tags":[],"owner":{"account_id":27393124,"reputation":49,"user_id":20895793,"display_name":"Andrei Vintila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672734220,"creation_date":1672706080,"answer_id":74988167,"question_id":74988094,"body_markdown":"Please [check here](https://dev.mysql.com/doc/refman/8.0/en/join.html) the different methods of joining two tables in MySQL.\r\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:\r\n\r\n    DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>Please <a href=\"https://dev.mysql.com/doc/refman/8.0/en/join.html\" rel=\"nofollow noreferrer\">check here</a> the different methods of joining two tables in MySQL.\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:</p>\n<pre><code>DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?\n</code></pre>\n"}],"owner":{"account_id":26581595,"reputation":11,"user_id":20206157,"display_name":"Adryan Reis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74988167,"answer_count":1,"score":-1,"last_activity_date":1672734220,"creation_date":1672704847,"question_id":74988094,"body_markdown":"The method below delete the room and messages in another table that have the same foreign key, but if the room doesn&#39;t have messages is not deleted. I&#39;m using mysql8 and java 11.\r\n\r\n```\r\npublic void deleteRoom() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tPreparedStatement preparedStatement = this.databaseMySQL.getConnection().\r\n\t\t\t\t\tprepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\r\n\t\t\tpreparedStatement.setInt(1, RoomChatSession.id);\r\n\t\t\tpreparedStatement.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI searched for delete case,and this for example \\`\r\n\r\n```\r\n&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\r\n```\r\n\r\n\\` I want to delete the room even it doesn&#39;t have messages, it is possibile using only on sql command?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>The method below delete the room and messages in another table that have the same foreign key, but if the room doesn't have messages is not deleted. I'm using mysql8 and java 11.</p>\n<pre><code>public void deleteRoom() {\n        // TODO Auto-generated method stub\n        try {\n            PreparedStatement preparedStatement = this.databaseMySQL.getConnection().\n                    prepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\n            preparedStatement.setInt(1, RoomChatSession.id);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I searched for delete case,and this for example `</p>\n<pre><code>&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\n</code></pre>\n<p>` I want to delete the room even it doesn't have messages, it is possibile using only on sql command?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"score":0,"creation_date":1321964773,"post_id":8225946,"comment_id":10116518,"body_markdown":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell.","body":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell."}],"answers":[{"comments":[{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1367942392,"post_id":8226318,"comment_id":23550661,"body_markdown":"Your link isn&#39;t valid now. Please upgrade it or remove it from your question (that in my opinion, is a little sort).","body":"Your link isn&#39;t valid now. Please upgrade it or remove it from your question (that in my opinion, is a little sort)."}],"tags":[],"owner":{"account_id":954124,"reputation":1023,"user_id":979722,"accept_rate":62,"display_name":"Sergey Gazaryan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390693930,"creation_date":1321962724,"answer_id":8226318,"question_id":8225946,"body_markdown":"Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : \r\n\r\n[www.exampledepot.com/egs/javax.swing.table/RowHeight.html][1] \r\n\r\n\r\n  [1]: https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : </p>\n\n<p><a href=\"https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html\" rel=\"nofollow\">www.exampledepot.com/egs/javax.swing.table/RowHeight.html</a> </p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672734078,"creation_date":1321962771,"answer_id":8226327,"question_id":8225946,"body_markdown":"You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. `JTextArea.getLineCount()` to find out how many lines the text contains.\r\n\r\nThen you need to retrieve the height of the font used by the renderer and calculate the needed height out of that. \r\n\r\nOnce you have that number, use `JTable.setRowHeight(int, int)` to change the height for the specific row. \r\n\r\nSomething like this:\r\n\r\n    Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\r\n    Font f = c.getFont();\r\n    FontMetrics fm = c.getFontMetrics(f);\r\n    \r\n    // this cast depends on the way your renderer is implemented !!!!\r\n    int lineCount = ((JTextArea)c).getLineCount();\r\n    \r\n    int fheight = fm.getHeight();\r\n    int rowHeight = lineCount * fheight;\r\n    \r\n    \r\n    theTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\r\n\r\n    \r\n    \r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. <code>JTextArea.getLineCount()</code> to find out how many lines the text contains.</p>\n<p>Then you need to retrieve the height of the font used by the renderer and calculate the needed height out of that.</p>\n<p>Once you have that number, use <code>JTable.setRowHeight(int, int)</code> to change the height for the specific row.</p>\n<p>Something like this:</p>\n<pre><code>Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\nFont f = c.getFont();\nFontMetrics fm = c.getFontMetrics(f);\n\n// this cast depends on the way your renderer is implemented !!!!\nint lineCount = ((JTextArea)c).getLineCount();\n\nint fheight = fm.getHeight();\nint rowHeight = lineCount * fheight;\n\n\ntheTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\n</code></pre>\n"}],"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672734078,"creation_date":1321960838,"question_id":8225946,"body_markdown":"I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.\r\n\r\nCan anyone help me in this?\r\nI have tried to add JTextArea into a row, but this is not working.\r\n\r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.</p>\n\n<p>Can anyone help me in this?\nI have tried to add JTextArea into a row, but this is not working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":2,"creation_date":1672670111,"post_id":74983597,"comment_id":132323737,"body_markdown":"How are the contents of the file formatted?","body":"How are the contents of the file formatted?"},{"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"score":0,"creation_date":1672670779,"post_id":74983597,"comment_id":132323930,"body_markdown":"just normal add...like word apple,x(here x is synonym need)","body":"just normal add...like word apple,x(here x is synonym need)"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1672703317,"post_id":74983597,"comment_id":132331553,"body_markdown":"How is your file looking alike?","body":"How is your file looking alike?"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1672731652,"post_id":74983597,"comment_id":132335425,"body_markdown":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?","body":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?"}],"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672733915,"creation_date":1672669741,"question_id":74983597,"body_markdown":"How to extract the synonym words the file of elements in Array?\r\n\r\nI was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.\r\n\r\n\r\n```java\r\npackage file;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n\r\n        // Read the words from the file and add them to the ArrayList\r\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\r\n            while (fileScanner.hasNext()) {\r\n                words.add(fileScanner.next());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n\r\n        String wordToFind = &quot;apple&quot;;\r\n        String another = &quot;mango&quot;;\r\n        int index = words.indexOf(wordToFind);\r\n\r\n        if (index != -1) {\r\n            // Get the content of the element at the index\r\n            String content = words.get(index);\r\n            // Print the synonyms of the element\r\n            String[] synonyms = getSynonyms(content);\r\n\r\n            for (String synonym : synonyms) {\r\n                System.out.println(synonym);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\r\n        }\r\n    }\r\n\r\n    public static String[] getSynonyms(String word) {\r\n        // TODO: Implement this method to return the synonyms of the given word\r\n        return new String[0];\r\n    }\r\n}\r\n```","title":"Find synonyms words","body":"<p>How to extract the synonym words the file of elements in Array?</p>\n<p>I was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package file;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n\n        // Read the words from the file and add them to the ArrayList\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\n            while (fileScanner.hasNext()) {\n                words.add(fileScanner.next());\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found&quot;);\n        }\n\n        String wordToFind = &quot;apple&quot;;\n        String another = &quot;mango&quot;;\n        int index = words.indexOf(wordToFind);\n\n        if (index != -1) {\n            // Get the content of the element at the index\n            String content = words.get(index);\n            // Print the synonyms of the element\n            String[] synonyms = getSynonyms(content);\n\n            for (String synonym : synonyms) {\n                System.out.println(synonym);\n            }\n\n        } else {\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\n        }\n    }\n\n    public static String[] getSynonyms(String word) {\n        // TODO: Implement this method to return the synonyms of the given word\n        return new String[0];\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4201971,"reputation":1261,"user_id":3441898,"accept_rate":100,"display_name":"kevcodez"},"score":6,"creation_date":1436437835,"post_id":31314824,"comment_id":50617379,"body_markdown":"You can use the forward slash in windows aswell. Use `C:/imgs`. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So `C:\\\\imgs` should do it, too.","body":"You can use the forward slash in windows aswell. Use <code>C:&#47;imgs</code>. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So <code>C:\\\\imgs</code> should do it, too."},{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1436437871,"post_id":31314824,"comment_id":50617405,"body_markdown":"will it yield the same result as C:\\imgs ?","body":"will it yield the same result as C:\\imgs ?"},{"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"score":2,"creation_date":1436438049,"post_id":31314824,"comment_id":50617523,"body_markdown":"Naming Conventions: you should name a constant like BASE_PATH","body":"Naming Conventions: you should name a constant like BASE_PATH"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1472827141,"post_id":31314824,"comment_id":65923792,"body_markdown":"The full explanation is [here](http://stackoverflow.com/a/39286358/4723795)","body":"The full explanation is <a href=\"http://stackoverflow.com/a/39286358/4723795\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":87739,"reputation":23623,"user_id":243164,"accept_rate":42,"display_name":"Armand"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1436437901,"creation_date":1436437901,"answer_id":31314865,"question_id":31314824,"body_markdown":"You need to escape the backslash in your windows path, like so:\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nYou can also just use a forwardslash:\r\n\r\n    private static final String BasePath = &quot;C:/imgs&quot;;","title":"Saving path in String","body":"<p>You need to escape the backslash in your windows path, like so:</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>You can also just use a forwardslash:</p>\n\n<pre><code>private static final String BasePath = \"C:/imgs\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672733538,"creation_date":1436437925,"answer_id":31314874,"question_id":31314824,"body_markdown":"You need to change \r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nto\r\n\r\n    private static final String BasePath =&quot;C:\\\\imgs&quot;\r\n\r\nThe single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\\\ Is the valid escape literal for a single \\\\, and thus it solves the problem.\r\n\r\n\r\nContinuing with the problem scenario, If you had, for example \r\n\r\n     String path = &quot;c:\\noproblem&quot;;\r\n\r\nThen there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.) \r\n\r\nBut what is even better, use the `File.separator` \r\n\r\nFrom the [Java Documentation][1] \r\n\r\n&gt; The default name-separator character is defined by the system property\r\n&gt; file.separator, and is made available in the public static fields\r\n&gt; separator and separatorChar of this class. When a pathname string is\r\n&gt; converted into an abstract pathname, the names within it may be\r\n&gt; separated by the default name-separator character or by any other\r\n&gt; name-separator character that is supported by the underlying system.\r\n\r\nThus - it will change the use the seperator requiered by the Operating System.\r\n\r\n\r\n\r\n\r\nHave a look at [How to construct a file path in java][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [2]: http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/","title":"Saving path in String","body":"<p>You need to change</p>\n<pre><code>private static final String BasePath =&quot;C:\\imgs&quot;\n</code></pre>\n<p>to</p>\n<pre><code>private static final String BasePath =&quot;C:\\\\imgs&quot;\n</code></pre>\n<p>The single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\ Is the valid escape literal for a single \\, and thus it solves the problem.</p>\n<p>Continuing with the problem scenario, If you had, for example</p>\n<pre><code> String path = &quot;c:\\noproblem&quot;;\n</code></pre>\n<p>Then there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.)</p>\n<p>But what is even better, use the <code>File.separator</code></p>\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">Java Documentation</a></p>\n<blockquote>\n<p>The default name-separator character is defined by the system property\nfile.separator, and is made available in the public static fields\nseparator and separatorChar of this class. When a pathname string is\nconverted into an abstract pathname, the names within it may be\nseparated by the default name-separator character or by any other\nname-separator character that is supported by the underlying system.</p>\n</blockquote>\n<p>Thus - it will change the use the seperator requiered by the Operating System.</p>\n<p>Have a look at <a href=\"http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/\" rel=\"nofollow noreferrer\">How to construct a file path in java</a></p>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436438322,"creation_date":1436438322,"answer_id":31315002,"question_id":31314824,"body_markdown":"Your thing should work when you use\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nNote:\r\n\r\nAlthough you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. ","title":"Saving path in String","body":"<p>Your thing should work when you use</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>Note:</p>\n\n<p>Although you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. </p>\n"},{"tags":[],"owner":{"account_id":1986016,"reputation":3436,"user_id":1781222,"accept_rate":71,"display_name":"TheCodingFrog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436438380,"creation_date":1436438380,"answer_id":31315031,"question_id":31314824,"body_markdown":"You can use `File.separator` and then you don&#39;t have to worry about platform specific path separators. e.g. below\r\n\r\n    private static final String BASE_PATH = &quot;C:&quot; + File.separator + &quot;imgs&quot;;\r\n\r\nMore detail can be found [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator","title":"Saving path in String","body":"<p>You can use <code>File.separator</code> and then you don't have to worry about platform specific path separators. e.g. below</p>\n\n<pre><code>private static final String BASE_PATH = \"C:\" + File.separator + \"imgs\";\n</code></pre>\n\n<p>More detail can be found <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\">here</a></p>\n"}],"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31314865,"answer_count":4,"score":0,"last_activity_date":1672733538,"creation_date":1436437786,"question_id":31314824,"body_markdown":"    private static final String BasePath = &quot;/home/rafael/pesquisa/ImageSimilarity&quot;;\r\n\r\nI am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to\r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nHowever it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.","title":"Saving path in String","body":"<pre><code>private static final String BasePath = \"/home/rafael/pesquisa/ImageSimilarity\";\n</code></pre>\n\n<p>I am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to</p>\n\n<pre><code>private static final String BasePath =\"C:\\imgs\"\n</code></pre>\n\n<p>However it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.</p>\n"},{"tags":["java","linux","utf-8","debian"],"comments":[{"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"score":0,"creation_date":1424358467,"post_id":28609321,"comment_id":45523218,"body_markdown":"First figure out if the problem is with the command prompt or your program -- can you create and display a file with japanese characters directly from the command prompt? Or are there already other files which are displayed correctly?","body":"First figure out if the problem is with the command prompt or your program -- can you create and display a file with japanese characters directly from the command prompt? Or are there already other files which are displayed correctly?"},{"owner":{"account_id":1427805,"reputation":67660,"user_id":1350899,"display_name":"mata"},"score":0,"creation_date":1424360292,"post_id":28609321,"comment_id":45524545,"body_markdown":"The encoding specified for input/output stream does not affect the file name. Are your sure your source file encoding is UTF8 and the compiler uses the same encoding? You can avoid problems with that if you use unicode escape syntax instead: `&quot;\\u30cd\\u30c3\\u30c8\\u30ef\\u30fc\\u30ad\\u30f3\\u30b0.xml&quot;`","body":"The encoding specified for input/output stream does not affect the file name. Are your sure your source file encoding is UTF8 and the compiler uses the same encoding? You can avoid problems with that if you use unicode escape syntax instead: <code>&quot;\\u30cd\\u30c3\\u30c8\\u30ef\\u30fc\\u30ad\\u30f3\\u30b0.xml&quot;</code>"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424408351,"post_id":28609321,"comment_id":45545863,"body_markdown":"yes mata, file is a xml file and i am using\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \nand file name is dynamically coming it can be anything","body":"yes mata, file is a xml file and i am using  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;   and file name is dynamically coming it can be anything"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424409807,"post_id":28609321,"comment_id":45546264,"body_markdown":"Hi Adrian, \nI tried to upload file via bitwise (SSH client) than it display character right but when i try to list that file on Debian console it is showing garbage characters( file name).\nIt can be my console problem too but I am not sure.","body":"Hi Adrian,  I tried to upload file via bitwise (SSH client) than it display character right but when i try to list that file on Debian console it is showing garbage characters( file name). It can be my console problem too but I am not sure."},{"owner":{"account_id":1197729,"reputation":29300,"user_id":1169096,"accept_rate":68,"display_name":"uml&#228;ute"},"score":0,"creation_date":1424616085,"post_id":28609321,"comment_id":45613772,"body_markdown":"what is the filesystem you writing to?","body":"what is the filesystem you writing to?"},{"owner":{"account_id":4570150,"reputation":2257,"user_id":3710044,"display_name":"user3710044"},"score":0,"creation_date":1424705846,"post_id":28609321,"comment_id":45647835,"body_markdown":"Linux filesystem isn&#39;t relevant, to them the filename is just a list of bytes. At your linux prompt type &quot;locale charmap&quot; -- you want this to be UTF-8. How are you getting your file from Windows to Linux ?","body":"Linux filesystem isn&#39;t relevant, to them the filename is just a list of bytes. At your linux prompt type &quot;locale charmap&quot; -- you want this to be UTF-8. How are you getting your file from Windows to Linux ?"},{"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"score":0,"creation_date":1424795912,"post_id":28609321,"comment_id":45692609,"body_markdown":"hi user3710044\n i am getting UTF-8 and i am getting correct file name and file path till point i am writing it to the linux system but just after creating file, File name is garbage","body":"hi user3710044  i am getting UTF-8 and i am getting correct file name and file path till point i am writing it to the linux system but just after creating file, File name is garbage"}],"owner":{"account_id":3640899,"reputation":69,"user_id":3035001,"display_name":"Pheonix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672733523,"creation_date":1424357301,"question_id":28609321,"body_markdown":"I have a file with Japanese characters in its name, which I am uploading from windows to Debian (Linux) using this line of code:\r\n\r\n    file.write( new File( &quot;/storing/path/&quot;, &quot;.xml&quot; ) );\r\n\r\nWhen I check the file through command prompt in Debian (Linux), it is stored as\r\n\r\n    &quot;???????????.xml&quot;\r\n\r\nI tried different approaches but nothing works till now -  \r\n\r\n1) using `BufferedReader`:  \r\n\r\n   \r\n\r\n     BufferedReader reader = new BufferedReader(\r\n            new InputStreamReader( file.getStream() , &quot;UTF-8&quot;) );\r\n        \r\n    BufferedWriter writer = new BufferedWriter(\r\n            new OutputStreamWriter(\r\n                    new FileOutputStream(\r\n                            new File( &quot;/storing/path/&quot;, &quot;.xml&quot; )), &quot;UTF-8&quot;));\r\n\r\n2) followed this link http://okomestudio.net/biboroku/?p=1834\r\n to try to add locale in Debian:\r\n\r\n    a) $ sudo aptitude install locales im-config\r\n    b) $ sudo dpkg-reconfigure locales -&gt; added en_US.UTF-8 and ja_JP.UTF-8\r\n    c) Set the default locale for the system to en_US.UTF-8. \r\n    d) Install some Japanese fonts:\r\n    e) $ sudo aptitude install ttf-kochi-mincho ttf-kochi-gothic ttf-sazanami-mincho\r\n\r\nThen tried with only ja_JP.UTF-8 locale\r\n\r\nWhat am I doing wrong, and where?\r\n\r\nThanks in advance.\r\n","title":"Japanese file name is storing in garbage characters","body":"<p>I have a file with Japanese characters in its name, which I am uploading from windows to Debian (Linux) using this line of code:</p>\n\n<pre><code>file.write( new File( \"/storing/path/\", \".xml\" ) );\n</code></pre>\n\n<p>When I check the file through command prompt in Debian (Linux), it is stored as</p>\n\n<pre><code>\"???????????.xml\"\n</code></pre>\n\n<p>I tried different approaches but nothing works till now -  </p>\n\n<p>1) using <code>BufferedReader</code>:  </p>\n\n<pre><code> BufferedReader reader = new BufferedReader(\n        new InputStreamReader( file.getStream() , \"UTF-8\") );\n\nBufferedWriter writer = new BufferedWriter(\n        new OutputStreamWriter(\n                new FileOutputStream(\n                        new File( \"/storing/path/\", \".xml\" )), \"UTF-8\"));\n</code></pre>\n\n<p>2) followed this link <a href=\"http://okomestudio.net/biboroku/?p=1834\" rel=\"nofollow\">http://okomestudio.net/biboroku/?p=1834</a>\n to try to add locale in Debian:</p>\n\n<pre><code>a) $ sudo aptitude install locales im-config\nb) $ sudo dpkg-reconfigure locales -&gt; added en_US.UTF-8 and ja_JP.UTF-8\nc) Set the default locale for the system to en_US.UTF-8. \nd) Install some Japanese fonts:\ne) $ sudo aptitude install ttf-kochi-mincho ttf-kochi-gothic ttf-sazanami-mincho\n</code></pre>\n\n<p>Then tried with only ja_JP.UTF-8 locale</p>\n\n<p>What am I doing wrong, and where?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","concurrency","concurrenthashmap","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672006042,"post_id":74916107,"comment_id":132207199,"body_markdown":"Why not just put whatever is in the body of your if in the lambda?","body":"Why not just put whatever is in the body of your if in the lambda?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672006224,"post_id":74916107,"comment_id":132207224,"body_markdown":"@tgdavies the chain of actions that has to be triggered based on that would be huge, unfortunately :(","body":"@tgdavies the chain of actions that has to be triggered based on that would be huge, unfortunately :("},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672006624,"post_id":74916107,"comment_id":132207289,"body_markdown":"So it&#39;s OK for other threads to use the result of the lambda before the if statement has executed?","body":"So it&#39;s OK for other threads to use the result of the lambda before the if statement has executed?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672006986,"post_id":74916107,"comment_id":132207355,"body_markdown":"First time loaded or first time accessed? Because &quot;first time loaded&quot; is exactly when the lambda is executed","body":"First time loaded or first time accessed? Because &quot;first time loaded&quot; is exactly when the lambda is executed"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007229,"post_id":74916107,"comment_id":132207398,"body_markdown":"@tgdavies yes. I only want to take an action on the first insert into the cache, I don&#39;t care if other threads use the existing already in the cache mapping, even before I execute the &quot;if&quot; statement. To simplify, let&#39;s say I want to be able to log: a) &quot;Entry coming from Cache&quot; b) &quot;Entry inserted first time in the cache&quot;.","body":"@tgdavies yes. I only want to take an action on the first insert into the cache, I don&#39;t care if other threads use the existing already in the cache mapping, even before I execute the &quot;if&quot; statement. To simplify, let&#39;s say I want to be able to log: a) &quot;Entry coming from Cache&quot; b) &quot;Entry inserted first time in the cache&quot;."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007692,"post_id":74916107,"comment_id":132207442,"body_markdown":"@knittl &quot;loaded&quot;. how would I tell the difference then, between first time loaded vs != of that?","body":"@knittl &quot;loaded&quot;. how would I tell the difference then, between first time loaded vs != of that?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672007819,"post_id":74916107,"comment_id":132207461,"body_markdown":"@Eugene the lambda is only executed if the key is not present in the map. If the value is already cached and returned from the cache, the lambda is not executed. Maybe I&#39;m misunderstanding your question.","body":"@Eugene the lambda is only executed if the key is not present in the map. If the value is already cached and returned from the cache, the lambda is not executed. Maybe I&#39;m misunderstanding your question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672007828,"post_id":74916107,"comment_id":132207462,"body_markdown":"3 space indentation??","body":"3 space indentation??"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672007888,"post_id":74916107,"comment_id":132207466,"body_markdown":"@shmosel I did not even notice :) not on purpose","body":"@shmosel I did not even notice :) not on purpose"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672008044,"post_id":74916107,"comment_id":132207493,"body_markdown":"@knittl I edited slightly, added an `else`. Does it make more sense now?","body":"@knittl I edited slightly, added an <code>else</code>. Does it make more sense now?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672011629,"post_id":74916107,"comment_id":132207891,"body_markdown":"It is advised not to do expensive operations in lambda passed to `computeIfAbsent`, as it can block other threads ([see doc](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function))).","body":"It is advised not to do expensive operations in lambda passed to <code>computeIfAbsent</code>, as it can block other threads (<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">see doc</a>)."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1672039357,"post_id":74916107,"comment_id":132210452,"body_markdown":"Caffeine uses this [approach](https://github.com/ben-manes/caffeine/blob/499b448f46b29da5637754ff495f6200f7bd1f93/caffeine/src/main/java/com/github/benmanes/caffeine/cache/BoundedLocalCache.java#L2591) of a capturing lambda to update a single element array. It isn&#39;t beautiful but simple, obvious, and cheap. This is on the fallback path as typically an optimistic read would find the entry and it avoids the compute methods locking even when present.","body":"Caffeine uses this <a href=\"https://github.com/ben-manes/caffeine/blob/499b448f46b29da5637754ff495f6200f7bd1f93/caffeine/src/main/java/com/github/benmanes/caffeine/cache/BoundedLocalCache.java#L2591\" rel=\"nofollow noreferrer\">approach</a> of a capturing lambda to update a single element array. It isn&#39;t beautiful but simple, obvious, and cheap. This is on the fallback path as typically an optimistic read would find the entry and it avoids the compute methods locking even when present."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1672335022,"post_id":74916107,"comment_id":132270798,"body_markdown":"@Eugene why not just `do Y` in the start of your method with `computeIfPresent`. Then follow with `do X` with `computeIfAbsent` ?","body":"@Eugene why not just <code>do Y</code> in the start of your method with <code>computeIfPresent</code>. Then follow with <code>do X</code> with <code>computeIfAbsent</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672016676,"creation_date":1672016299,"answer_id":74916658,"question_id":74916107,"body_markdown":"I can think of a couple of ways to do this using the `ConcurrentHashMap` API.  Both reply on using a mapping function that has side-effects.  The idea is that the function makes a record of *whether* it was called, or *what arguments* it was called with.\r\n\r\nThe spec for `computeIfAbsent` says that the mapping function is only called if the key is absent.  Alternatively, the spec for `compute` says that the mapping function is called with a `null` argument if the key is argument.  In either case, if you record *what happened* in the mapper function via a side-effect on (say) a field of the mapper function/object, you can determine if the cache entry was already present or not.\r\n\r\nTo make this thread-safe, you need to create a fresh (thread-confined) instance of the mapper function.","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>I can think of a couple of ways to do this using the <code>ConcurrentHashMap</code> API.  Both reply on using a mapping function that has side-effects.  The idea is that the function makes a record of <em>whether</em> it was called, or <em>what arguments</em> it was called with.</p>\n<p>The spec for <code>computeIfAbsent</code> says that the mapping function is only called if the key is absent.  Alternatively, the spec for <code>compute</code> says that the mapping function is called with a <code>null</code> argument if the key is argument.  In either case, if you record <em>what happened</em> in the mapper function via a side-effect on (say) a field of the mapper function/object, you can determine if the cache entry was already present or not.</p>\n<p>To make this thread-safe, you need to create a fresh (thread-confined) instance of the mapper function.</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672077955,"post_id":74919640,"comment_id":132217844,"body_markdown":"we kind of thought about close to this today with a few colleagues. Thank you for the time taken here.","body":"we kind of thought about close to this today with a few colleagues. Thank you for the time taken here."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672671356,"post_id":74919640,"comment_id":132324118,"body_markdown":"This subverts the entire thread safety of the `ConcurrentHashMap` as it allows to have X and (even multiple) Y being operating on the same object at the same time, concurrently. On the other hand, any attempt to fix this will subvert the atomicity advantage of the `ConcurrentHashMap`.","body":"This subverts the entire thread safety of the <code>ConcurrentHashMap</code> as it allows to have X and (even multiple) Y being operating on the same object at the same time, concurrently. On the other hand, any attempt to fix this will subvert the atomicity advantage of the <code>ConcurrentHashMap</code>."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672673913,"post_id":74919640,"comment_id":132324820,"body_markdown":"@Holger how come? doesn&#39;t each thread creates it&#39;s own `LoadingAction` and invoke a method that is documented as &quot;performed atomically&quot;? Knowing you, I am sure I miss something.","body":"@Holger how come? doesn&#39;t each thread creates it&#39;s own <code>LoadingAction</code> and invoke a method that is documented as &quot;performed atomically&quot;? Knowing you, I am sure I miss something."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672674431,"post_id":74919640,"comment_id":132324962,"body_markdown":"@Eugene yes, each thread will have its own `LoadingAction`, but there&#39;s no synchronization between the method calls. Action &quot;Y&quot; could be executed from multiple threads at the same time (I don&#39;t think &quot;X&quot; can because `called` should only be true for a single thread).","body":"@Eugene yes, each thread will have its own <code>LoadingAction</code>, but there&#39;s no synchronization between the method calls. Action &quot;Y&quot; could be executed from multiple threads at the same time (I don&#39;t think &quot;X&quot; can because <code>called</code> should only be true for a single thread)."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672676017,"post_id":74919640,"comment_id":132325408,"body_markdown":"@knittl but Im OK with that, Y can be executed from multiple threads at the same time, as long as X is executed only once","body":"@knittl but Im OK with that, Y can be executed from multiple threads at the same time, as long as X is executed only once"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672676175,"post_id":74919640,"comment_id":132325447,"body_markdown":"@Eugene I don&#39;t think &quot;X&quot; can be executed multiple times nor concurrently. Perhaps Holger can shed some more light, it&#39;s possible that I missed something","body":"@Eugene I don&#39;t think &quot;X&quot; can be executed multiple times nor concurrently. Perhaps Holger can shed some more light, it&#39;s possible that I missed something"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672730786,"post_id":74919640,"comment_id":132335222,"body_markdown":"X will only be executed once but while it is executed, other threads can already retrieve `V` from the map and execute Y and even return the `V` to the caller while X still is being executed. The word multiple in my previous comment only referred to Y while, without the bracketed phrase, it says X and Y, meaning there can be an X and a Y operating at the same time.","body":"X will only be executed once but while it is executed, other threads can already retrieve <code>V</code> from the map and execute Y and even return the <code>V</code> to the caller while X still is being executed. The word multiple in my previous comment only referred to Y while, without the bracketed phrase, it says X and Y, meaning there can be an X and a Y operating at the same time."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672731631,"post_id":74919640,"comment_id":132335419,"body_markdown":"@Holger thanks for clarifying, I understand now. The value could be returned while the &quot;post processing&quot; step is still active. This might or might not be a problem, depending on OP&#39;s requirements. Nevertheless important to note, thanks!","body":"@Holger thanks for clarifying, I understand now. The value could be returned while the &quot;post processing&quot; step is still active. This might or might not be a problem, depending on OP&#39;s requirements. Nevertheless important to note, thanks!"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672732022,"post_id":74919640,"comment_id":132335523,"body_markdown":"@Holger thank you for the comment, and yes, I&#39;m OK with such a thing business wise.","body":"@Holger thank you for the comment, and yes, I&#39;m OK with such a thing business wise."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672732235,"post_id":74919640,"comment_id":132335572,"body_markdown":"@Eugene then, a simple `putIfAbsent` could also solve the issue (assuming that the construction of a `V` instance is cheap).","body":"@Eugene then, a simple <code>putIfAbsent</code> could also solve the issue (assuming that the construction of a <code>V</code> instance is cheap)."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672732355,"post_id":74919640,"comment_id":132335601,"body_markdown":"@Holger can you post it as an answer? would it be too much to ask for, considering you already spent quite some (valuable) time here?","body":"@Holger can you post it as an answer? would it be too much to ask for, considering you already spent quite some (valuable) time here?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672732594,"post_id":74919640,"comment_id":132335666,"body_markdown":"@Eugene in your question, `V` inconsistently changes between `String` and `List&lt;String&gt;`. In the latter case, it would contradict the premise that the construction is cheap (or safely initialized)","body":"@Eugene in your question, <code>V</code> inconsistently changes between <code>String</code> and <code>List&lt;String&gt;</code>. In the latter case, it would contradict the premise that the construction is cheap (or safely initialized)"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672733616,"post_id":74919640,"comment_id":132335937,"body_markdown":"@Holger I am not sure I follow, &quot;cheap&quot; in my case means around 100ms and it&#39;s a rpc call, and yes, you of course are right - it&#39;s a `List&lt;String&gt;` there. Why would that not be safely initialized, I thought the &quot;atomically&quot; part in the `computeIfAbsent` would make it such.","body":"@Holger I am not sure I follow, &quot;cheap&quot; in my case means around 100ms and it&#39;s a rpc call, and yes, you of course are right - it&#39;s a <code>List&lt;String&gt;</code> there. Why would that not be safely initialized, I thought the &quot;atomically&quot; part in the <code>computeIfAbsent</code> would make it such."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672733811,"post_id":74919640,"comment_id":132335988,"body_markdown":"@Eugene to answer that usefully it would be important to know what the &quot;post-process&quot; step does. Does it need to be synchronized? Is it expensive? Can there be race conditions? Is it problematic if it is executed more than once? Is it a problem if the value is returned before the post-process step has completed? Could the post-process be submitted to an async thread pool?","body":"@Eugene to answer that usefully it would be important to know what the &quot;post-process&quot; step does. Does it need to be synchronized? Is it expensive? Can there be race conditions? Is it problematic if it is executed more than once? Is it a problem if the value is returned before the post-process step has completed? Could the post-process be submitted to an async thread pool?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672734480,"post_id":74919640,"comment_id":132336165,"body_markdown":"@knittl I see, it does not have to be synchronized, no. I retrieve the `List&lt;String&gt;` from the rpc call and this is where my interaction with the CACHE ends. I don&#39;t care if I return the result before post-process step completes - as a matter of fact you are correct, it is done async. The entire post-processor step is done async. I don&#39;t even care if Y step is executed (even returns the result to the callers) while post-process from X is currently executing. All I care about is to execute X, once, on the initial load of the value into the cache, without any other synchronization concerns.","body":"@knittl I see, it does not have to be synchronized, no. I retrieve the <code>List&lt;String&gt;</code> from the rpc call and this is where my interaction with the CACHE ends. I don&#39;t care if I return the result before post-process step completes - as a matter of fact you are correct, it is done async. The entire post-processor step is done async. I don&#39;t even care if Y step is executed (even returns the result to the callers) while post-process from X is currently executing. All I care about is to execute X, once, on the initial load of the value into the cache, without any other synchronization concerns."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672735932,"post_id":74919640,"comment_id":132336518,"body_markdown":"@Eugene in your questions second code snippet, the comment some expensive operation still is inside the `computeIfAbsent`. It doesnt say that X is the expensive operation. Constructing a `List&lt;String&gt;` isnt on the cheap side for me, but an RPC call is even less. Thats where my confusion came from. Using `putIfAbsent` only is an option if it is affordable to construct the actual value in advance and drop it if a value already exist. On the plus side, no synchronization will be needed then.","body":"@Eugene in your questions second code snippet, the comment some expensive operation still is inside the <code>computeIfAbsent</code>. It doesnt say that X is the expensive operation. Constructing a <code>List&lt;String&gt;</code> isnt on the cheap side for me, but an RPC call is even less. Thats where my confusion came from. Using <code>putIfAbsent</code> only is an option if it is affordable to construct the actual value in advance and drop it if a value already exist. On the plus side, no synchronization will be needed then."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672738254,"post_id":74919640,"comment_id":132337228,"body_markdown":"@Holger I was trying to simplify the example, and my simplifications only ruined it :( terribly sorry. I see your point with `putIfAbsent` and unfortunately that would not be an option, as the `List&lt;String&gt;` is computed based on `name`","body":"@Holger I was trying to simplify the example, and my simplifications only ruined it :( terribly sorry. I see your point with <code>putIfAbsent</code> and unfortunately that would not be an option, as the <code>List&lt;String&gt;</code> is computed based on <code>name</code>"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":17,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672053381,"creation_date":1672052450,"answer_id":74919640,"question_id":74916107,"body_markdown":"If you want to avoid your single-element array to pass data out of the lambda (which I would rather do with an `AtomicReference` or `AtomicBoolean`), you could use a stateful callback object. It doesn&#39;t change the behavior or design of your code, but could be considered a little bit cleaner and more OOP-y.\r\n\r\n```\r\nclass LoadingAction&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  public void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      final LoadingAction&lt;String, List&lt;String&gt;&gt; loader = new LoadingAction&lt;&gt;();\r\n      final List&lt;String&gt; result = CACHE.computeIfAbsent(name, loader::load);\r\n\r\n      loader.executePostLoad();\r\n\r\n      return result;\r\n   }\r\n\r\n}\r\n```\r\n\r\nOr turn it inside-out:\r\n\r\n```\r\nclass Loader&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public V load(final Map&lt;K, V&gt; map, final K key) {\r\n    final V result = map.computeIfAbsent(key, this::load);\r\n    this.executePostLoad();\r\n    return result;\r\n  }\r\n\r\n  private V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  private void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      final Loader&lt;String, List&lt;String&gt;&gt; loader = new Loader&lt;&gt;();\r\n      return loader.load(CACHE, name);\r\n   }\r\n\r\n}\r\n```\r\n\r\nConstruction and loading could be encapsulated in a static method:\r\n\r\n\r\n```\r\nclass Loader&lt;K, V&gt; {\r\n  private boolean called = false;\r\n\r\n  public static &lt;K, V&gt; V load(final Map&lt;K, V&gt; map, final K key) {\r\n      final Loader&lt;K, V&gt; loader = new Loader&lt;&gt;();\r\n      return loader.doLoad(map, key);\r\n  }\r\n\r\n  private V doLoad(final Map&lt;K, V&gt; map, final K key) {\r\n    final V result = map.computeIfAbsent(key, this::load);\r\n    this.executePostLoad();\r\n    return result;\r\n  }\r\n\r\n  private V load(final K key) {\r\n    called = true;\r\n    // load data\r\n    return ...;\r\n  }\r\n\r\n  private void executePostLoad() {\r\n    if (called) {\r\n      // loaded into cache, do X\r\n    } else {\r\n      // do Y\r\n    }\r\n  }\r\n}\r\n\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      return Loader.load(CACHE, name);\r\n   }\r\n\r\n}\r\n```","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>If you want to avoid your single-element array to pass data out of the lambda (which I would rather do with an <code>AtomicReference</code> or <code>AtomicBoolean</code>), you could use a stateful callback object. It doesn't change the behavior or design of your code, but could be considered a little bit cleaner and more OOP-y.</p>\n<pre><code>class LoadingAction&lt;K, V&gt; {\n  private boolean called = false;\n\n  public V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  public void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      final LoadingAction&lt;String, List&lt;String&gt;&gt; loader = new LoadingAction&lt;&gt;();\n      final List&lt;String&gt; result = CACHE.computeIfAbsent(name, loader::load);\n\n      loader.executePostLoad();\n\n      return result;\n   }\n\n}\n</code></pre>\n<p>Or turn it inside-out:</p>\n<pre><code>class Loader&lt;K, V&gt; {\n  private boolean called = false;\n\n  public V load(final Map&lt;K, V&gt; map, final K key) {\n    final V result = map.computeIfAbsent(key, this::load);\n    this.executePostLoad();\n    return result;\n  }\n\n  private V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  private void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      final Loader&lt;String, List&lt;String&gt;&gt; loader = new Loader&lt;&gt;();\n      return loader.load(CACHE, name);\n   }\n\n}\n</code></pre>\n<p>Construction and loading could be encapsulated in a static method:</p>\n<pre><code>class Loader&lt;K, V&gt; {\n  private boolean called = false;\n\n  public static &lt;K, V&gt; V load(final Map&lt;K, V&gt; map, final K key) {\n      final Loader&lt;K, V&gt; loader = new Loader&lt;&gt;();\n      return loader.doLoad(map, key);\n  }\n\n  private V doLoad(final Map&lt;K, V&gt; map, final K key) {\n    final V result = map.computeIfAbsent(key, this::load);\n    this.executePostLoad();\n    return result;\n  }\n\n  private V load(final K key) {\n    called = true;\n    // load data\n    return ...;\n  }\n\n  private void executePostLoad() {\n    if (called) {\n      // loaded into cache, do X\n    } else {\n      // do Y\n    }\n  }\n}\n\nfinal class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = new ConcurrentHashMap&lt;&gt;();\n\n   static List&lt;String&gt; byName(String name) {\n      return Loader.load(CACHE, name);\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74919640,"answer_count":2,"score":8,"last_activity_date":1672733347,"creation_date":1672005834,"question_id":74916107,"body_markdown":"It&#39;s complicated for me to articulate a proper title for this. But an example should make it far simpler. Suppose I have this:\r\n\r\n```\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      return CACHE.computeIfAbsent(name, x -&gt; // some expensive operation)\r\n   }\r\n\r\n}\r\n```\r\n\r\nThe idea is probably trivial, this acts as a LoadingCache, much like guava or caffeine (in reality it is more complicated, but that is irrelevant to the question).\r\n\r\nI would like to be able to tell if this was the first load into the CACHE, or it was a read of an existing mapping. Currently, I do this:\r\n\r\n```\r\nfinal class Cache {\r\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\r\n\r\n   static List&lt;String&gt; byName(String name) {\r\n      boolean b[] = new boolean[1];\r\n      List&lt;String&gt; result = CACHE.computeIfAbsent(name, x -&gt; {\r\n            b[0] = true;\r\n            // some expensive operation)\r\n      });\r\n\r\n      if(b[0]) {\r\n         // first load into the cache, do X\r\n      } else {\r\n         // do Y\r\n      }\r\n\r\n      return result;\r\n   }\r\n\r\n}\r\n```\r\n\r\nThis works, but I am afraid I am missing something that `ConcurrentHashMap` can offer for me that would allow me to do the same. Thank you. ","title":"ConcurrentHashMap computeIfAbsent tell if first time or not","body":"<p>It's complicated for me to articulate a proper title for this. But an example should make it far simpler. Suppose I have this:</p>\n<pre><code>final class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\n\n   static List&lt;String&gt; byName(String name) {\n      return CACHE.computeIfAbsent(name, x -&gt; // some expensive operation)\n   }\n\n}\n</code></pre>\n<p>The idea is probably trivial, this acts as a LoadingCache, much like guava or caffeine (in reality it is more complicated, but that is irrelevant to the question).</p>\n<p>I would like to be able to tell if this was the first load into the CACHE, or it was a read of an existing mapping. Currently, I do this:</p>\n<pre><code>final class Cache {\n   private static final ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; CACHE = ...\n\n   static List&lt;String&gt; byName(String name) {\n      boolean b[] = new boolean[1];\n      List&lt;String&gt; result = CACHE.computeIfAbsent(name, x -&gt; {\n            b[0] = true;\n            // some expensive operation)\n      });\n\n      if(b[0]) {\n         // first load into the cache, do X\n      } else {\n         // do Y\n      }\n\n      return result;\n   }\n\n}\n</code></pre>\n<p>This works, but I am afraid I am missing something that <code>ConcurrentHashMap</code> can offer for me that would allow me to do the same. Thank you.</p>\n"},{"tags":["java","sql","spring-data-jpa"],"comments":[{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649278068,"post_id":71760856,"comment_id":126838481,"body_markdown":"H-m-m... perhaps you may try to use Set&lt;String&gt; built from Tags getTagName()?","body":"H-m-m... perhaps you may try to use Set&lt;String&gt; built from Tags getTagName()?"},{"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"score":0,"creation_date":1649304117,"post_id":71760856,"comment_id":126843082,"body_markdown":"That&#39;s a good alternative but I would prefer using Tags if possible. And while we&#39;re on the topic of Sets, is it possible for a url parameter to accept a collection of objects? I&#39;m getting this new error: `Parameter value [] did not match expected type [java.util.Set (n/a)];`","body":"That&#39;s a good alternative but I would prefer using Tags if possible. And while we&#39;re on the topic of Sets, is it possible for a url parameter to accept a collection of objects? I&#39;m getting this new error: <code>Parameter value [] did not match expected type [java.util.Set (n&#47;a)];</code>"},{"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"score":0,"creation_date":1649305261,"post_id":71760856,"comment_id":126843267,"body_markdown":"If I were to use a Set of Strings, how would you suggest I build the query?","body":"If I were to use a Set of Strings, how would you suggest I build the query?"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1649343236,"post_id":71760856,"comment_id":126856489,"body_markdown":"maybe something like that? https://stackoverflow.com/questions/13512109/set-array-of-parameters-to-hibernate-query-language","body":"maybe something like that? <a href=\"https://stackoverflow.com/questions/13512109/set-array-of-parameters-to-hibernate-query-language\" title=\"set array of parameters to hibernate query language\">stackoverflow.com/questions/13512109/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649989178,"creation_date":1649989178,"answer_id":71879409,"question_id":71760856,"body_markdown":"```\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags.isEmpty() ?\r\n                null:\r\n                (root, query, criteriaBuilder) -&gt; {\r\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\r\n                    Root&lt;Product&gt; subroot = subquery.from(Product.class);\r\n\r\n                    subquery.select(subroot.get(&quot;id&quot;)).where(subroot.join(&quot;tags&quot;).in(tags));\r\n                    Predicate predicate = root.get(&quot;id&quot;).in(subquery);\r\n\r\n                    return criteriaBuilder.and(predicate);\r\n        };\r\n```\r\n\r\nI seemed to have found an answer. `Tags.class` works apparently, and from there I just had to tweak my query to be a join select. Not what I initially hoped to accomplish, but it works.","title":"Building a dynamic select query using Spring Data Specification","body":"<pre><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags.isEmpty() ?\n                null:\n                (root, query, criteriaBuilder) -&gt; {\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\n                    Root&lt;Product&gt; subroot = subquery.from(Product.class);\n\n                    subquery.select(subroot.get(&quot;id&quot;)).where(subroot.join(&quot;tags&quot;).in(tags));\n                    Predicate predicate = root.get(&quot;id&quot;).in(subquery);\n\n                    return criteriaBuilder.and(predicate);\n        };\n</code></pre>\n<p>I seemed to have found an answer. <code>Tags.class</code> works apparently, and from there I just had to tweak my query to be a join select. Not what I initially hoped to accomplish, but it works.</p>\n"}],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672732774,"creation_date":1649217024,"question_id":71760856,"body_markdown":"I&#39;m trying to build a select query with Spring Data Specification. The query in question is the following:\r\n\r\n```SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags IN (&#39;GRADUATION&#39;, &#39;BIRTHDAY&#39;));```\r\n\r\nThe user is supposed to provide a set of tags to be matched with the `IN` operator in the subquery, BIRTHDAY and GRADUATION are some examples. I&#39;ve tried building my solution off [this][1] answer but ran into some trouble.\r\n\r\n```java\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags == null ?\r\n                null :\r\n                (root, query, criteriaBuilder) -&gt; {\r\n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\r\n\r\n                    Root&lt;Tags&gt; subqueryRoot = subquery.from(Tags.class);\r\n                    subquery.select(subqueryRoot.get(&quot;product_tags&quot;)\r\n                        .get(&quot;product_id&quot;));\r\n                    subquery.where(criteriaBuilder.trim(subqueryRoot.get(&quot;product&quot;)\r\n                        .get(&quot;id&quot;)).in(tags));\r\n\r\n                    predicates.add(subqueryRoot.get(&quot;*&quot;).in(subquery));\r\n                    return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n\r\n                };\r\n    }\r\n```\r\n\r\nThe problem here is that I&#39;m trying to create a subquery from `Tags` which is not registered as an entity but it is rather an enum. Thus, executing the code gives me an error (This is the only error I&#39;ve encountered so far, please point out parts of the code that may potentially cause other errors).\r\n\r\n```java\r\npublic enum Tags {\r\n\r\n    BIRTHDAY(&quot;birthday&quot;),\r\n    GRADUATION(&quot;graduation&quot;),\r\n    GET_WELL_SOON(&quot;get well soon&quot;),\r\n    RIBBON(&quot;ribbon&quot;),\r\n    WRAPPING_PAPER(&quot;wrapping paper&quot;);\r\n\r\n    final String tagName;\r\n\r\n    private Tags(String tagName) {\r\n        this.tagName = tagName;\r\n    }\r\n\r\n    public String getTagName() {\r\n        return tagName;\r\n    }\r\n}\r\n```\r\n\r\nNot sure if this will help, but in the `Product` class there is a field `tags` denoted with `@ElementCollection`. Spring automatically creates a table named &#39;product_tags&#39; with this, and the subquery selects from this table.\r\n\r\n```\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @Enumerated(EnumType.STRING)\r\n    private Set&lt;Tags&gt; tags;\r\n```\r\n\r\nIf possible, I would like to translate this query instead of the first one\r\n\r\n```SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags = ANY(ARRAY[&#39;GRADUATION&#39;, &#39;GET_WELL_SOON&#39;]));```\r\n\r\n**UPDATE**\r\n\r\nI have edited my code\r\n\r\n```java\r\n    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\r\n        return tags == null ?\r\n                null :\r\n                (root, query, criteriaBuilder) -&gt; {\r\n\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Subquery&lt;Long&gt; subquery = query.subquery(Long.class);\r\n            Root&lt;Product&gt; subroot = subquery.from(Product.class);\r\n\r\n            subquery.select(subroot.get(&quot;id&quot;).get(&quot;tags&quot;));\r\n\r\n            subquery.where(criteriaBuilder.trim(subroot.join(&quot;tags&quot;)\r\n                .get(&quot;id&quot;)).in(tags));\r\n\r\n            predicates.add(root.get(&quot;id&quot;).in(subquery));\r\n\r\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n        };\r\n    }\r\n```\r\n\r\nBut now I&#39;m getting this error\r\n\r\n```\r\njava.lang.IllegalStateException: Illegal attempt to dereference path source [null.id] of basic type\r\n```\r\n\r\nFor reference, my tables are defined as such\r\n\r\nproduct:\r\n```\r\n   Column    |          Type          | Collation | Nullable | Default\r\n-------------+------------------------+-----------+----------+---------\r\n id          | bigint                 |           | not null |\r\n category    | character varying(255) |           |          |\r\n date_added  | date                   |           |          |\r\n description | character varying(255) |           |          |\r\n name        | character varying(255) |           |          |\r\n price       | double precision       |           | not null |\r\n```\r\n\r\nproduct_tags:\r\n```\r\n   Column   |          Type          | Collation | Nullable | Default\r\n------------+------------------------+-----------+----------+---------\r\n product_id | bigint                 |           | not null |\r\n tags       | character varying(255) |           |          |\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57285371/18316696","title":"Building a dynamic select query using Spring Data Specification","body":"<p>I'm trying to build a select query with Spring Data Specification. The query in question is the following:</p>\n<p><code>SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags IN ('GRADUATION', 'BIRTHDAY'));</code></p>\n<p>The user is supposed to provide a set of tags to be matched with the <code>IN</code> operator in the subquery, BIRTHDAY and GRADUATION are some examples. I've tried building my solution off <a href=\"https://stackoverflow.com/a/57285371/18316696\">this</a> answer but ran into some trouble.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags == null ?\n                null :\n                (root, query, criteriaBuilder) -&gt; {\n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n                    Subquery&lt;Tags&gt; subquery = query.subquery(Tags.class);\n\n                    Root&lt;Tags&gt; subqueryRoot = subquery.from(Tags.class);\n                    subquery.select(subqueryRoot.get(&quot;product_tags&quot;)\n                        .get(&quot;product_id&quot;));\n                    subquery.where(criteriaBuilder.trim(subqueryRoot.get(&quot;product&quot;)\n                        .get(&quot;id&quot;)).in(tags));\n\n                    predicates.add(subqueryRoot.get(&quot;*&quot;).in(subquery));\n                    return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n\n                };\n    }\n</code></pre>\n<p>The problem here is that I'm trying to create a subquery from <code>Tags</code> which is not registered as an entity but it is rather an enum. Thus, executing the code gives me an error (This is the only error I've encountered so far, please point out parts of the code that may potentially cause other errors).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Tags {\n\n    BIRTHDAY(&quot;birthday&quot;),\n    GRADUATION(&quot;graduation&quot;),\n    GET_WELL_SOON(&quot;get well soon&quot;),\n    RIBBON(&quot;ribbon&quot;),\n    WRAPPING_PAPER(&quot;wrapping paper&quot;);\n\n    final String tagName;\n\n    private Tags(String tagName) {\n        this.tagName = tagName;\n    }\n\n    public String getTagName() {\n        return tagName;\n    }\n}\n</code></pre>\n<p>Not sure if this will help, but in the <code>Product</code> class there is a field <code>tags</code> denoted with <code>@ElementCollection</code>. Spring automatically creates a table named 'product_tags' with this, and the subquery selects from this table.</p>\n<pre><code>    @ElementCollection(fetch = FetchType.EAGER)\n    @Enumerated(EnumType.STRING)\n    private Set&lt;Tags&gt; tags;\n</code></pre>\n<p>If possible, I would like to translate this query instead of the first one</p>\n<p><code>SELECT * FROM product WHERE id IN (SELECT product_id FROM product_tags WHERE tags = ANY(ARRAY['GRADUATION', 'GET_WELL_SOON']));</code></p>\n<p><strong>UPDATE</strong></p>\n<p>I have edited my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Specification&lt;Product&gt; withTags(Set&lt;Tags&gt; tags) {\n        return tags == null ?\n                null :\n                (root, query, criteriaBuilder) -&gt; {\n\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            Subquery&lt;Long&gt; subquery = query.subquery(Long.class);\n            Root&lt;Product&gt; subroot = subquery.from(Product.class);\n\n            subquery.select(subroot.get(&quot;id&quot;).get(&quot;tags&quot;));\n\n            subquery.where(criteriaBuilder.trim(subroot.join(&quot;tags&quot;)\n                .get(&quot;id&quot;)).in(tags));\n\n            predicates.add(root.get(&quot;id&quot;).in(subquery));\n\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n        };\n    }\n</code></pre>\n<p>But now I'm getting this error</p>\n<pre><code>java.lang.IllegalStateException: Illegal attempt to dereference path source [null.id] of basic type\n</code></pre>\n<p>For reference, my tables are defined as such</p>\n<p>product:</p>\n<pre><code>   Column    |          Type          | Collation | Nullable | Default\n-------------+------------------------+-----------+----------+---------\n id          | bigint                 |           | not null |\n category    | character varying(255) |           |          |\n date_added  | date                   |           |          |\n description | character varying(255) |           |          |\n name        | character varying(255) |           |          |\n price       | double precision       |           | not null |\n</code></pre>\n<p>product_tags:</p>\n<pre><code>   Column   |          Type          | Collation | Nullable | Default\n------------+------------------------+-----------+----------+---------\n product_id | bigint                 |           | not null |\n tags       | character varying(255) |           |          |\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","https","saml-2.0"],"owner":{"account_id":10253299,"reputation":9,"user_id":7566795,"display_name":"Pragati Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672732193,"creation_date":1672732193,"question_id":74990391,"body_markdown":"Created a web application with saml2 with the custom provider.It worked fine with http urls.But when deployed with https,it is giving the error of Invalid Credentails on url login/saml2/sso/{registration-id}.\r\n\r\nThis is the metadata that is being configured on IDP&#39;s side\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; entityID=&quot;https://&lt;uri:pport&gt;/{registration-id}&quot;&gt;\r\n   &lt;md:SPSSODescriptor xmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\r\n      &lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://&lt;uri:port&gt;/login/saml2/sso/{registration-id}&quot; index=&quot;1&quot;/&gt;\r\n   &lt;/md:SPSSODescriptor&gt;\r\n&lt;/EntityDescriptor&gt;\r\n\r\n```\r\nUsing all the default properties to create a RelyingPartyRegistrationRepository.\r\n\r\n\r\n```\r\n@Override\r\n\tprotected void configure(HttpSecurity https) throws Exception {\r\n\t\t\r\n\t\ttry {\r\n\t\t\thttps.authorizeRequests(authorize -&gt; authorize.requestMatchers().anonymous().antMatchers(&quot;/&quot;).authenticated())\r\n\t\t\t.saml2Login();\r\n\r\n\t\tConverter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(\r\n\t\t\t\trelyingPartyRegistrationRepository);\r\n\t\t\r\n\t\thttps.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n\t}\r\n\t\tcatch(Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\nIt should go the landing page","title":"Saml2 With Spring boot Error Invalid Credentail","body":"<p>Created a web application with saml2 with the custom provider.It worked fine with http urls.But when deployed with https,it is giving the error of Invalid Credentails on url login/saml2/sso/{registration-id}.</p>\n<p>This is the metadata that is being configured on IDP's side</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;EntityDescriptor xmlns=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; entityID=&quot;https://&lt;uri:pport&gt;/{registration-id}&quot;&gt;\n   &lt;md:SPSSODescriptor xmlns:md=&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot; WantAssertionsSigned=&quot;true&quot; protocolSupportEnumeration=&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;&gt;\n      &lt;md:AssertionConsumerService Binding=&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot; Location=&quot;http://&lt;uri:port&gt;/login/saml2/sso/{registration-id}&quot; index=&quot;1&quot;/&gt;\n   &lt;/md:SPSSODescriptor&gt;\n&lt;/EntityDescriptor&gt;\n\n</code></pre>\n<p>Using all the default properties to create a RelyingPartyRegistrationRepository.</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity https) throws Exception {\n        \n        try {\n            https.authorizeRequests(authorize -&gt; authorize.requestMatchers().anonymous().antMatchers(&quot;/&quot;).authenticated())\n            .saml2Login();\n\n        Converter&lt;HttpServletRequest, RelyingPartyRegistration&gt; relyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(\n                relyingPartyRegistrationRepository);\n        \n        https.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n    }\n        catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>It should go the landing page</p>\n"},{"tags":["java","eclipse","swt","eclipse-rcp","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1672731594,"post_id":74989814,"comment_id":132335400,"body_markdown":"The default Text context menu is generated by the operating system (on macOS at least) and the paste operation directly modifies the native control only telling SWT afterwards (`textDidChange` event on macOS). You could try defining your own menu on the Text control (but then it might be difficult to add all the menu items in the OS generated menu)","body":"The default Text context menu is generated by the operating system (on macOS at least) and the paste operation directly modifies the native control only telling SWT afterwards (<code>textDidChange</code> event on macOS). You could try defining your own menu on the Text control (but then it might be difficult to add all the menu items in the OS generated menu)"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672731636,"creation_date":1672728134,"question_id":74989814,"body_markdown":"I have a RCP3 client (with RCP4 compatibility mode) with a text field. I want to write a custom paste handler for (A) CTRL-V and (B) paste via the right click drop down context menu.\r\n\r\nI managed the CTRL-V case (A) by adding a handler for the  event in my plugin.xml:\r\n\r\n       &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\r\n            &lt;handler class=&quot;xx.yyy.infop.rcp.myperpective.internal.ui.handlers.vm.PasteNummerHandler:paste&quot; commandId=&quot;org.eclipse.ui.edit.paste&quot;&gt;\r\n            &lt;activeWhen&gt;\r\n                &lt;with variable=&quot;activeContexts&quot;&gt;\r\n                    &lt;iterate operator=&quot;or&quot;&gt;\r\n                        &lt;equals value=&quot;ch.sbb.infop.rcp.ui.context&quot;&gt;&lt;/equals&gt;\r\n                    &lt;/iterate&gt;\r\n                &lt;/with&gt;\r\n            &lt;/activeWhen&gt;\r\n            &lt;/handler&gt;\r\n        &lt;/extension&gt;\r\n\r\nBut for paste via drop down (B) this does not have any effect. To me it looks like I don&#39;t have any control in RCP over the this menu. I looks the same as in a lot of other Windows applications. Break points in my `PasteNummerHandler` or in the [`org.eclipse.swt.widgets.Text.paste()`][1] are never hit via the drop down.\r\n\r\nAny ideas how to hook into or overwrite the paste action via drop down?\r\n\r\n\r\n  [1]: https://archive.eclipse.org/eclipse/downloads/documentation/2.0/html/plugins/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Text.html#paste()","title":"How to write a custom drop down paste handler in a RCP client?","body":"<p>I have a RCP3 client (with RCP4 compatibility mode) with a text field. I want to write a custom paste handler for (A) CTRL-V and (B) paste via the right click drop down context menu.</p>\n<p>I managed the CTRL-V case (A) by adding a handler for the  event in my plugin.xml:</p>\n<pre><code>   &lt;extension point=&quot;org.eclipse.ui.handlers&quot;&gt;\n        &lt;handler class=&quot;xx.yyy.infop.rcp.myperpective.internal.ui.handlers.vm.PasteNummerHandler:paste&quot; commandId=&quot;org.eclipse.ui.edit.paste&quot;&gt;\n        &lt;activeWhen&gt;\n            &lt;with variable=&quot;activeContexts&quot;&gt;\n                &lt;iterate operator=&quot;or&quot;&gt;\n                    &lt;equals value=&quot;ch.sbb.infop.rcp.ui.context&quot;&gt;&lt;/equals&gt;\n                &lt;/iterate&gt;\n            &lt;/with&gt;\n        &lt;/activeWhen&gt;\n        &lt;/handler&gt;\n    &lt;/extension&gt;\n</code></pre>\n<p>But for paste via drop down (B) this does not have any effect. To me it looks like I don't have any control in RCP over the this menu. I looks the same as in a lot of other Windows applications. Break points in my <code>PasteNummerHandler</code> or in the <a href=\"https://archive.eclipse.org/eclipse/downloads/documentation/2.0/html/plugins/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Text.html#paste()\" rel=\"nofollow noreferrer\"><code>org.eclipse.swt.widgets.Text.paste()</code></a> are never hit via the drop down.</p>\n<p>Any ideas how to hook into or overwrite the paste action via drop down?</p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"score":0,"creation_date":1672839861,"post_id":74990239,"comment_id":132362998,"body_markdown":"That looks to me like a purely frontend bug. Have you tried fetching the user via the API? If that works, you might want to file an issue against the keycloak admin UI. The # sign is a reserved character in URLs for anchors. If it is supposed to be part of the URL (like in the case of a user URL), it needs to be percent-encoded (%23). The admin console should do this for the links, and if it does not, I would consider that a bug.","body":"That looks to me like a purely frontend bug. Have you tried fetching the user via the API? If that works, you might want to file an issue against the keycloak admin UI. The # sign is a reserved character in URLs for anchors. If it is supposed to be part of the URL (like in the case of a user URL), it needs to be percent-encoded (%23). The admin console should do this for the links, and if it does not, I would consider that a bug."}],"owner":{"account_id":930730,"reputation":2715,"user_id":960662,"accept_rate":82,"display_name":"F. Aydemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672731257,"creation_date":1672731257,"question_id":74990239,"body_markdown":"I am writing a custom user storage provider for keycloak version 20.0.2, where I use a storage id scheme that has the following format:\r\n\r\n&quot;f:&quot; + component_id + &quot;:&quot; + external_id ==&gt; where external id is in the form **99999#fikayd**\r\n\r\nIn the externalId field, I am supposed to use # sign due to corporate requirements. I am feeding externalId in this format into keycloak in the constructor of my UserAdapter class as follows:  \r\n\r\n      public KeycloakUserAdapter(KeycloakSession session, RealmModel realm, ComponentModel storageProviderModel, IdentityUserInfo user)\r\n        {\r\n            super(session, realm, storageProviderModel);\r\n            //Below line is how I fed my custom EXTERNAL_ID\r\n            //user.getUserName() returns an externalId that \r\n            //containes pound sign like 99999#fikayd \r\n            this.storageId = new StorageId(storageProviderModel.getId(), user.getUserName()); \r\n            this.user = user;            \r\n        }\r\n\r\nHaving the above explain setup, I can successfully get access token from keycloak. Nevertheless, in the admin panel where I list the users, I get the the error that is shown in the below image due to the pound sign (i.e. #) in the externalId field. What would you suggest to overcome this problem that is specified in the error message? Thanks in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q3UbY.png","title":"Problem in listing Keycloak Users by using own written storage provider that uses # sign in storageIds","body":"<p>I am writing a custom user storage provider for keycloak version 20.0.2, where I use a storage id scheme that has the following format:</p>\n<p>&quot;f:&quot; + component_id + &quot;:&quot; + external_id ==&gt; where external id is in the form <strong>99999#fikayd</strong></p>\n<p>In the externalId field, I am supposed to use # sign due to corporate requirements. I am feeding externalId in this format into keycloak in the constructor of my UserAdapter class as follows:</p>\n<pre><code>  public KeycloakUserAdapter(KeycloakSession session, RealmModel realm, ComponentModel storageProviderModel, IdentityUserInfo user)\n    {\n        super(session, realm, storageProviderModel);\n        //Below line is how I fed my custom EXTERNAL_ID\n        //user.getUserName() returns an externalId that \n        //containes pound sign like 99999#fikayd \n        this.storageId = new StorageId(storageProviderModel.getId(), user.getUserName()); \n        this.user = user;            \n    }\n</code></pre>\n<p>Having the above explain setup, I can successfully get access token from keycloak. Nevertheless, in the admin panel where I list the users, I get the the error that is shown in the below image due to the pound sign (i.e. #) in the externalId field. What would you suggest to overcome this problem that is specified in the error message? Thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/q3UbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3UbY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","java-8","cryptography","annotations"],"answers":[{"comments":[{"owner":{"account_id":8405500,"reputation":430,"user_id":6309111,"display_name":"Dev-vruper"},"score":0,"creation_date":1672734740,"post_id":74989963,"comment_id":132336220,"body_markdown":"i&#39;m also looking to encrypt &amp; decrypt same value ? If we do @PIIData(Value=&quot;Encrypt&quot;) , it will only cater encryption ? Is there any way I can decide it during runtime ?","body":"i&#39;m also looking to encrypt &amp; decrypt same value ? If we do @PIIData(Value=&quot;Encrypt&quot;) , it will only cater encryption ? Is there any way I can decide it during runtime ?"},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672736221,"post_id":74989963,"comment_id":132336595,"body_markdown":"If you are using annotations then the value must be present at the compile-time. And yes if we do `@PIIData(value = &quot;Encrypt&quot;)` then it will only cater to encryption. If you have used Hibernate or data-JPA you will get more sense from this. If you want to decide at runtime then I won&#39;t recommend the annotation approach. You can define a utility method and perform encrypt/decrypt on the `email` or `name` field and use `setter` to set the field at runtime. The annotation approach only gives you flexibility up to compile-time as the `value` that you provide is a compile-time constant.","body":"If you are using annotations then the value must be present at the compile-time. And yes if we do <code>@PIIData(value = &quot;Encrypt&quot;)</code> then it will only cater to encryption. If you have used Hibernate or data-JPA you will get more sense from this. If you want to decide at runtime then I won&#39;t recommend the annotation approach. You can define a utility method and perform encrypt/decrypt on the <code>email</code> or <code>name</code> field and use <code>setter</code> to set the field at runtime. The annotation approach only gives you flexibility up to compile-time as the <code>value</code> that you provide is a compile-time constant."},{"owner":{"account_id":8405500,"reputation":430,"user_id":6309111,"display_name":"Dev-vruper"},"score":0,"creation_date":1673343544,"post_id":74989963,"comment_id":132471990,"body_markdown":"Can we acheive this with your solution ? \nEg : @Secure(value=&quot;Encrypt&quot;) private Address address; where class Address has 2 fields `String city` , `String postcode` ?","body":"Can we acheive this with your solution ?  Eg : @Secure(value=&quot;Encrypt&quot;) private Address address; where class Address has 2 fields <code>String city</code> , <code>String postcode</code> ?"}],"tags":[],"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672731056,"creation_date":1672729185,"answer_id":74989963,"question_id":74989755,"body_markdown":"You can use Java `Reflection API` to achieve the desired task. Assuming you have defined the Annotation `PIIData` yourself. Here&#39;s how you can implement the `apply` method. Also, define the `encryptValue` and `decryptValue` functions yourself.\r\n\r\n\r\n\r\nAlso, I am assuming your Employee class looks like this\r\n\r\n```java\r\n class Employee {\r\n    @PIIData(value = &quot;Encrypt&quot;)\r\n    String name;\r\n    @PIIData(value=&quot;Decrypt&quot;)\r\n    String email;\r\n}\r\n```\r\n1. To intercept annotation first get all the fields defined by the `object` parameter in `apply` method using `Reflection API` then iterate through each field and check if it has some annotation using `isAnnotationPresent` function of `Reflection API` then you can check the value of the annotation and perform your code logic. You don&#39;t need to return back the object as `Reflection API` replaces the new value of the field in place.\r\n2. To make sure the method works define some tests.\r\n3. Yes you can pass values such as `Decrypt` and `Encrypt` to tell the `apply` method what to do.\r\n\r\n```java\r\nclass Utility {\r\n    static void apply(Object object) throws IllegalAccessException {\r\n        Field[] fields = object.getClass().getDeclaredFields();\r\n\r\n\r\n        for (Field field : fields) {\r\n            if (field.isAnnotationPresent(PIIData.class)) {\r\n\r\n                Object fieldValue = field.get(object);\r\n                String annotationValue = field.getAnnotation(PIIData.class).value();\r\n\r\n                if (annotationValue.equals(&quot;Encrypt&quot;)) {\r\n                    // perform encryption\r\n                    String encryptedValue = encryptValue((String) fieldValue);\r\n                    // set the encryption through reflection API\r\n                    field.set(object, encryptedValue);\r\n\r\n                } else if (annotationValue.equals(&quot;Decrypt&quot;)) {\r\n                    // perform decryption;\r\n                    String decryptedValue = decryptValue((String) fieldValue);\r\n                    // set the decrypted value\r\n                    field.set(object, decryptedValue);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // define your encryption logic here\r\n    static String encryptValue(String value) {\r\n        return &quot;encrypted:&quot; + value;\r\n    }\r\n\r\n\r\n    // define your decryption logic here\r\n    static String decryptValue(String value) {\r\n        return &quot;decrypted: &quot; + value;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the test code for the above class methods\r\n\r\n```java\r\npublic class UtilityTest {\r\n    @Test\r\n    void testApplyMethod() throws IllegalAccessException {\r\n        Employee employee = new Employee(&quot;name&quot;, &quot;email&quot;);\r\n        Utility.apply(employee);\r\n        assertEquals(employee.name, &quot;encrypted:name&quot;);\r\n        assertEquals(employee.email, &quot;decrypted:email&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHope this helps.\r\n","title":"Identify PII data using Annotation","body":"<p>You can use Java <code>Reflection API</code> to achieve the desired task. Assuming you have defined the Annotation <code>PIIData</code> yourself. Here's how you can implement the <code>apply</code> method. Also, define the <code>encryptValue</code> and <code>decryptValue</code> functions yourself.</p>\n<p>Also, I am assuming your Employee class looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code> class Employee {\n    @PIIData(value = &quot;Encrypt&quot;)\n    String name;\n    @PIIData(value=&quot;Decrypt&quot;)\n    String email;\n}\n</code></pre>\n<ol>\n<li>To intercept annotation first get all the fields defined by the <code>object</code> parameter in <code>apply</code> method using <code>Reflection API</code> then iterate through each field and check if it has some annotation using <code>isAnnotationPresent</code> function of <code>Reflection API</code> then you can check the value of the annotation and perform your code logic. You don't need to return back the object as <code>Reflection API</code> replaces the new value of the field in place.</li>\n<li>To make sure the method works define some tests.</li>\n<li>Yes you can pass values such as <code>Decrypt</code> and <code>Encrypt</code> to tell the <code>apply</code> method what to do.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class Utility {\n    static void apply(Object object) throws IllegalAccessException {\n        Field[] fields = object.getClass().getDeclaredFields();\n\n\n        for (Field field : fields) {\n            if (field.isAnnotationPresent(PIIData.class)) {\n\n                Object fieldValue = field.get(object);\n                String annotationValue = field.getAnnotation(PIIData.class).value();\n\n                if (annotationValue.equals(&quot;Encrypt&quot;)) {\n                    // perform encryption\n                    String encryptedValue = encryptValue((String) fieldValue);\n                    // set the encryption through reflection API\n                    field.set(object, encryptedValue);\n\n                } else if (annotationValue.equals(&quot;Decrypt&quot;)) {\n                    // perform decryption;\n                    String decryptedValue = decryptValue((String) fieldValue);\n                    // set the decrypted value\n                    field.set(object, decryptedValue);\n                }\n            }\n        }\n    }\n\n    // define your encryption logic here\n    static String encryptValue(String value) {\n        return &quot;encrypted:&quot; + value;\n    }\n\n\n    // define your decryption logic here\n    static String decryptValue(String value) {\n        return &quot;decrypted: &quot; + value;\n    }\n}\n\n</code></pre>\n<p>Here's the test code for the above class methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UtilityTest {\n    @Test\n    void testApplyMethod() throws IllegalAccessException {\n        Employee employee = new Employee(&quot;name&quot;, &quot;email&quot;);\n        Utility.apply(employee);\n        assertEquals(employee.name, &quot;encrypted:name&quot;);\n        assertEquals(employee.email, &quot;decrypted:email&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8405500,"reputation":430,"user_id":6309111,"display_name":"Dev-vruper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672731056,"creation_date":1672727562,"question_id":74989755,"body_markdown":"I want to identify PII fields of a class which are annotated with a custom annotation and then perform a encrypt/decrypt operation only on those fields and return the Class object . \r\n\r\nExplaination:\r\n    \r\n1. Consider Class Employee .It has 3 fields .\r\n    \r\n           { \r\n            String name;\r\n            String email;\r\n            long phnNumber;\r\n            }\r\n\r\n2. Now I would write some custom annotation like @PIIData to identify which fields need encryption/decryption, and then annotate the fields with this annotation.\r\n\r\n  \r\n\r\n          { \r\n            @PIIData\r\n            String name;\r\n            @PIIData\r\n            String email;\r\n            long phnNumber;\r\n            }\r\n\r\n \r\n3. I now initialize object of Employee class with some values , and then pass this object to a encrypt/decrypt utility.\r\n  \r\n   **Pseudo Code :** \r\n  \r\n       Employee emp = new Employee(&#39;Alice&#39;,&#39;alice@al.com&#39;,999);\r\n       utility.apply(emp);\r\n\r\n\r\n\r\n\r\n**My Question :**\r\n\r\n 1. How can I make sure that when we pass any object to **utility.apply()** which has fields annotated with @PIIData, this utility should intercept that, perform encrypt/decrypt operation only on the annotated fields, and then return back same object to the caller?\r\n 2. Can I pass some value in the custom annotation so that we can explicitly tell utility to encrypt/decrypt ? \r\n\r\n&gt; eg @PIIData(value=&quot;Encrypt&quot;)\r\n\r\n \r\n","title":"Identify PII data using Annotation","body":"<p>I want to identify PII fields of a class which are annotated with a custom annotation and then perform a encrypt/decrypt operation only on those fields and return the Class object .</p>\n<p>Explaination:</p>\n<ol>\n<li><p>Consider Class Employee .It has 3 fields .</p>\n<pre><code>    { \n     String name;\n     String email;\n     long phnNumber;\n     }\n</code></pre>\n</li>\n<li><p>Now I would write some custom annotation like @PIIData to identify which fields need encryption/decryption, and then annotate the fields with this annotation.</p>\n<pre><code>   { \n     @PIIData\n     String name;\n     @PIIData\n     String email;\n     long phnNumber;\n     }\n</code></pre>\n</li>\n<li><p>I now initialize object of Employee class with some values , and then pass this object to a encrypt/decrypt utility.</p>\n<p><strong>Pseudo Code :</strong></p>\n<pre><code>Employee emp = new Employee('Alice','alice@al.com',999);\nutility.apply(emp);\n</code></pre>\n</li>\n</ol>\n<p><strong>My Question :</strong></p>\n<ol>\n<li>How can I make sure that when we pass any object to <strong>utility.apply()</strong> which has fields annotated with @PIIData, this utility should intercept that, perform encrypt/decrypt operation only on the annotated fields, and then return back same object to the caller?</li>\n<li>Can I pass some value in the custom annotation so that we can explicitly tell utility to encrypt/decrypt ?</li>\n</ol>\n<blockquote>\n<p>eg @PIIData(value=&quot;Encrypt&quot;)</p>\n</blockquote>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1672730662,"post_id":74990051,"comment_id":132335199,"body_markdown":"`Toast` isn&#39;t showing, because you are using wrong `Context`. use `view.getContext()` or `MyActivity.this` (GUI&#39;s context) instead of base","body":"<code>Toast</code> isn&#39;t showing, because you are using wrong <code>Context</code>. use <code>view.getContext()</code> or <code>MyActivity.this</code> (GUI&#39;s context) instead of base"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1672730689,"post_id":74990051,"comment_id":132335205,"body_markdown":"use interface methodology that will work fine rather than this","body":"use interface methodology that will work fine rather than this"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672729882,"creation_date":1672729882,"question_id":74990051,"body_markdown":"I have implemented a search bar which fills a list of search results every time a search token is inserted. My XML goes like this:\r\n\r\n```\r\n&lt;android.widget.SearchView\r\n        android:id=&quot;@+id/my_searchView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:queryHint=&quot;Search Here&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/my_listView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n```\r\nOnce the token is inserted, an api is invoked and the results are stored in a list called resultUsers. I am populating the ListView like this:\r\n```\r\nrunOnUiThread(new Runnable() {\r\n\t@Override\r\n    public void run() {\r\n\t\tListView list = findViewById(R.id.my_listView);\r\n        adapter = new ArrayAdapter&lt;&gt;(MyActivity.this, android.R.layout.simple_list_item_1, userNames);\r\n        list.setAdapter(adapter);\r\n        getSelectedUserDetails(list);\r\n    }\r\n});\r\n```\r\ngetSelectedUserDetails() function is called to prepare the listener for the item click:\r\n```\r\npublic void getSelectedUserDetails(ListView list){\r\n\tlist.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\t\t\tString selection = (String) list.getItemAtPosition(i);\r\n\t\t\tUser selectedUser = new User();\r\n\t\t\tfor(int j = 0; j &lt; resultUsers.size(); j++) {\r\n\t\t\t\tif(selection.equals(resultUsers.get(j).getName())){\r\n\t\t\t\t\tselectedUser = resultUsers.get(j);\r\n\t\t\t\t\tSystem.out.print(selectedUser.getId());\r\n\t\t\t\t\tToast.makeText(getBaseContext(), selectedUser.getId().toString(), Toast.LENGTH_SHORT).show();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n2 unexpected results occur:\r\n1) The system output appears not when i click the item on the list but after clicking the item and reinserting a search token\r\n2) The Toast does not appear at all\r\n\r\nIs this a bug or have i got it wrong all together and there&#39;s a different approach for search results lists?","title":"Android ListView on click listener not working","body":"<p>I have implemented a search bar which fills a list of search results every time a search token is inserted. My XML goes like this:</p>\n<pre><code>&lt;android.widget.SearchView\n        android:id=&quot;@+id/my_searchView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:queryHint=&quot;Search Here&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/my_listView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n<p>Once the token is inserted, an api is invoked and the results are stored in a list called resultUsers. I am populating the ListView like this:</p>\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        ListView list = findViewById(R.id.my_listView);\n        adapter = new ArrayAdapter&lt;&gt;(MyActivity.this, android.R.layout.simple_list_item_1, userNames);\n        list.setAdapter(adapter);\n        getSelectedUserDetails(list);\n    }\n});\n</code></pre>\n<p>getSelectedUserDetails() function is called to prepare the listener for the item click:</p>\n<pre><code>public void getSelectedUserDetails(ListView list){\n    list.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            String selection = (String) list.getItemAtPosition(i);\n            User selectedUser = new User();\n            for(int j = 0; j &lt; resultUsers.size(); j++) {\n                if(selection.equals(resultUsers.get(j).getName())){\n                    selectedUser = resultUsers.get(j);\n                    System.out.print(selectedUser.getId());\n                    Toast.makeText(getBaseContext(), selectedUser.getId().toString(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n<p>2 unexpected results occur:</p>\n<ol>\n<li>The system output appears not when i click the item on the list but after clicking the item and reinserting a search token</li>\n<li>The Toast does not appear at all</li>\n</ol>\n<p>Is this a bug or have i got it wrong all together and there's a different approach for search results lists?</p>\n"},{"tags":["java","spring","spring-security","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1672691638,"post_id":74986543,"comment_id":132329317,"body_markdown":"Maybe this issue is helpful: https://github.com/vaadin/vaadin-connect/issues/370","body":"Maybe this issue is helpful: <a href=\"https://github.com/vaadin/vaadin-connect/issues/370\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-connect/issues/370</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1672698287,"post_id":74986543,"comment_id":132330687,"body_markdown":"As it seems the functionality you are asking for does not exist in form of annotations: https://vaadin.com/docs/latest/security/enabling-security/#annotating-the-view-classes","body":"As it seems the functionality you are asking for does not exist in form of annotations: <a href=\"https://vaadin.com/docs/latest/security/enabling-security/#annotating-the-view-classes\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/security/enabling-security/&hellip;</a>"},{"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"score":1,"creation_date":1672726777,"post_id":74986543,"comment_id":132334489,"body_markdown":"Maybe you can hide the page through removing route for session [https://vaadin.com/docs/latest/routing/dynamic/#removing-routes](https://vaadin.com/docs/latest/routing/dynamic/#removing-routes)","body":"Maybe you can hide the page through removing route for session <a href=\"https://vaadin.com/docs/latest/routing/dynamic/#removing-routes\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/routing/dynamic/#removing-rou&zwnj;&#8203;tes</a>"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1672728972,"post_id":74986543,"comment_id":132334850,"body_markdown":"Thanks for the comments, I found a &quot;partial&quot; solution by removing the option from the menu. See the update in the question.","body":"Thanks for the comments, I found a &quot;partial&quot; solution by removing the option from the menu. See the update in the question."}],"answers":[{"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":2,"creation_date":1672730057,"post_id":74990040,"comment_id":132335066,"body_markdown":"You _can_ add and remove routes dynamically through the RouteConfiguration, but you still probably want to deal with users accidentally or intentionally going to the `/register` URL so you&#39;ll probably end up doing some sort of redirect or forward regardless.","body":"You <i>can</i> add and remove routes dynamically through the RouteConfiguration, but you still probably want to deal with users accidentally or intentionally going to the <code>&#47;register</code> URL so you&#39;ll probably end up doing some sort of redirect or forward regardless."}],"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672729805,"creation_date":1672729805,"answer_id":74990040,"question_id":74986543,"body_markdown":"You can use `BeforeEnterObserver` and the `BeforeEnterEvent` to forward the user to another view when they&#39;re trying to access one that they&#39;re not supposed to:\r\n```java\r\n@Route(value = &quot;register&quot;, layout = MainView.class)\r\n@PageTitle(&quot;Register as a new user&quot;)\r\n@AnonymousAllowed\r\npublic class RegisterView extends VerticalLayout\r\n        implements BeforeEnterObserver {\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        if (hasLoggedIn()) {\r\n            event.forwardTo(SomeOtherView.class);\r\n        }\r\n    }\r\n\r\n    private boolean hasLoggedIn() {\r\n        Optional&lt;User&gt; maybeUser = authenticatedUser.get();\r\n        return maybeUser.isPresent();\r\n    }\r\n}\r\n```\r\nYou can update the menu e.g. with the `MainView`&#39;s `AfterNavigationObserver` which works similarly to the `BeforeEnterObserver` except it gets triggered after all navigation activities are completed.","title":"Vaadin remove pages after login","body":"<p>You can use <code>BeforeEnterObserver</code> and the <code>BeforeEnterEvent</code> to forward the user to another view when they're trying to access one that they're not supposed to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Route(value = &quot;register&quot;, layout = MainView.class)\n@PageTitle(&quot;Register as a new user&quot;)\n@AnonymousAllowed\npublic class RegisterView extends VerticalLayout\n        implements BeforeEnterObserver {\n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        if (hasLoggedIn()) {\n            event.forwardTo(SomeOtherView.class);\n        }\n    }\n\n    private boolean hasLoggedIn() {\n        Optional&lt;User&gt; maybeUser = authenticatedUser.get();\n        return maybeUser.isPresent();\n    }\n}\n</code></pre>\n<p>You can update the menu e.g. with the <code>MainView</code>'s <code>AfterNavigationObserver</code> which works similarly to the <code>BeforeEnterObserver</code> except it gets triggered after all navigation activities are completed.</p>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74990040,"answer_count":1,"score":0,"last_activity_date":1672729805,"creation_date":1672689523,"question_id":74986543,"body_markdown":"As documented on https://vaadin.com/docs/latest/security/enabling-security, in a Java Spring Vaadin application, annotations can be used to define if pages should be shown after login based on Roles like this:\r\n\r\n    @Route(value = &quot;admin&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Admin View&quot;)\r\n    @RolesAllowed(&quot;ADMIN&quot;) // &lt;- Should match one of the user&#39;s roles (case-sensitive)\r\n    public class AdminView extends VerticalLayout {\r\n        // ...\r\n    }\r\n\r\nOr pages can always be shown with:\r\n\r\n    @Route(value = &quot;home&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Homepage&quot;)\r\n    @AnonymousAllowed // or @PermitAll \r\n    public class HomePageView extends VerticalLayout {\r\n        // ...\r\n    }\r\n\r\nBut what I&#39;m missing in the documentation, is how a page can be hidden after a user has logged in. **Is some kind of &quot;negative&quot; annotation available?** E.g.\r\n\r\n    @Route(value = &quot;register&quot;, layout = MainView.class)\r\n    @PageTitle(&quot;Register as a new user&quot;)\r\n    @RolesNotAllowed({&quot;ADMIN&quot;, &quot;USER&quot;}) // &lt;- This annotation doesn&#39;t exist (yet?)\r\n    public class RegisterView extends VerticalLayout {\r\n        // View only needed for users who didn&#39;t login yet\r\n    }\r\n\r\n---- Update 20220103\r\n\r\nOne solution is to remove the page from the menu by checking the authenticated user:\r\n\r\n```\r\nOptional&lt;User&gt; maybeUser = authenticatedUser.get();\r\nif (accessChecker.hasAccess(RegisterView.class)\r\n    &amp;&amp; !maybeUser.isPresent()) {\r\n    nav.addItem(new AppNavItem(&quot;Register&quot;, RegisterView.class, &quot;la la-user&quot;));\r\n}\r\n```\r\n\r\nBut still, the page can be accessed directly via the URL. As suggested by @gidravlic, I tried to remove the page from the route configuration, but it&#39;s still accessible. So this is not a &quot;full&quot; solution. This doesn&#39;t seem to have any effect:\r\n\r\n```\r\nif (maybeUser.isPresent()) {\r\n    RouteConfiguration configuration = RouteConfiguration.forSessionScope();\r\n    configuration.removeRoute(RegisterView.class);\r\n}\r\n```","title":"Vaadin remove pages after login","body":"<p>As documented on <a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/security/enabling-security</a>, in a Java Spring Vaadin application, annotations can be used to define if pages should be shown after login based on Roles like this:</p>\n<pre><code>@Route(value = &quot;admin&quot;, layout = MainView.class)\n@PageTitle(&quot;Admin View&quot;)\n@RolesAllowed(&quot;ADMIN&quot;) // &lt;- Should match one of the user's roles (case-sensitive)\npublic class AdminView extends VerticalLayout {\n    // ...\n}\n</code></pre>\n<p>Or pages can always be shown with:</p>\n<pre><code>@Route(value = &quot;home&quot;, layout = MainView.class)\n@PageTitle(&quot;Homepage&quot;)\n@AnonymousAllowed // or @PermitAll \npublic class HomePageView extends VerticalLayout {\n    // ...\n}\n</code></pre>\n<p>But what I'm missing in the documentation, is how a page can be hidden after a user has logged in. <strong>Is some kind of &quot;negative&quot; annotation available?</strong> E.g.</p>\n<pre><code>@Route(value = &quot;register&quot;, layout = MainView.class)\n@PageTitle(&quot;Register as a new user&quot;)\n@RolesNotAllowed({&quot;ADMIN&quot;, &quot;USER&quot;}) // &lt;- This annotation doesn't exist (yet?)\npublic class RegisterView extends VerticalLayout {\n    // View only needed for users who didn't login yet\n}\n</code></pre>\n<p>---- Update 20220103</p>\n<p>One solution is to remove the page from the menu by checking the authenticated user:</p>\n<pre><code>Optional&lt;User&gt; maybeUser = authenticatedUser.get();\nif (accessChecker.hasAccess(RegisterView.class)\n    &amp;&amp; !maybeUser.isPresent()) {\n    nav.addItem(new AppNavItem(&quot;Register&quot;, RegisterView.class, &quot;la la-user&quot;));\n}\n</code></pre>\n<p>But still, the page can be accessed directly via the URL. As suggested by @gidravlic, I tried to remove the page from the route configuration, but it's still accessible. So this is not a &quot;full&quot; solution. This doesn't seem to have any effect:</p>\n<pre><code>if (maybeUser.isPresent()) {\n    RouteConfiguration configuration = RouteConfiguration.forSessionScope();\n    configuration.removeRoute(RegisterView.class);\n}\n</code></pre>\n"},{"tags":["java","apache-spark","hadoop","parquet"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550001324,"post_id":54657496,"comment_id":96106843,"body_markdown":"FYI, it looks like `INT96` support is deprecated in Parquet from what I read in [this issue ticket](https://issues.apache.org/jira/browse/PARQUET-323).","body":"FYI, it looks like <code>INT96</code> support is deprecated in Parquet from what I read in <a href=\"https://issues.apache.org/jira/browse/PARQUET-323\" rel=\"nofollow noreferrer\">this issue ticket</a>."},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1550001629,"post_id":54657496,"comment_id":96106984,"body_markdown":"@BasilBourque Yeah, I saw that. Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type.","body":"@BasilBourque Yeah, I saw that. Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1550001644,"post_id":54657496,"comment_id":96106993,"body_markdown":"I do not know anything about Parquet or Hadoop, so I cannot post an Answer. But some tips that might help: Java primitives are limited to 64-bits for numbers, so use `BigInteger` class to manage a 96-bit number. The `Instant` class, and other *java.time* classes have nanosecond resolution. But they work internally by tracking a pair of numbers: a number of whole seconds since epoch 1970-01-01T00:00:00Z plus a number of nanoseconds for the fractional second. So you will have to do a bit of math to feed your total elapsed nanos into a pair of numbers. See `Instant.ofEpochSecond` &amp; `.plusNanos`.","body":"I do not know anything about Parquet or Hadoop, so I cannot post an Answer. But some tips that might help: Java primitives are limited to 64-bits for numbers, so use <code>BigInteger</code> class to manage a 96-bit number. The <code>Instant</code> class, and other <i>java.time</i> classes have nanosecond resolution. But they work internally by tracking a pair of numbers: a number of whole seconds since epoch 1970-01-01T00:00:00Z plus a number of nanoseconds for the fractional second. So you will have to do a bit of math to feed your total elapsed nanos into a pair of numbers. See <code>Instant.ofEpochSecond</code> &amp; <code>.plusNanos</code>."}],"answers":[{"comments":[{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1550073941,"post_id":54665645,"comment_id":96138534,"body_markdown":"This is great, I will test this code and see if it works","body":"This is great, I will test this code and see if it works"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1550074065,"post_id":54665645,"comment_id":96138615,"body_markdown":"I also found this: https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178 -- scala code for encoding int96 timestamp","body":"I also found this: <a href=\"https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178\" rel=\"nofollow noreferrer\">github.com/apache/spark/blob/&hellip;</a> -- scala code for encoding int96 timestamp"},{"owner":{"account_id":4014402,"reputation":1025,"user_id":3306989,"display_name":"blue"},"score":0,"creation_date":1550077191,"post_id":54665645,"comment_id":96140542,"body_markdown":"No one should not be writing timestamps using INT96. There are documented and supported timestamp types. Use those instead.","body":"No one should not be writing timestamps using INT96. There are documented and supported timestamp types. Use those instead."},{"owner":{"account_id":7374255,"reputation":2958,"user_id":5613485,"display_name":"Zoltan"},"score":1,"creation_date":1550078418,"post_id":54665645,"comment_id":96141189,"body_markdown":"@blue The OP is aware of that. He wrote: &quot;Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type.&quot;","body":"@blue The OP is aware of that. He wrote: &quot;Unfortunately the consumer of the parquet files is enforcing this 96 bit timestamp encoding, so I need to figure out how to write this type.&quot;"},{"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"score":0,"creation_date":1553022423,"post_id":54665645,"comment_id":97229378,"body_markdown":"I ran into another similar issue, but for writing `null` values. Any chance you could take a look at my new question? https://stackoverflow.com/questions/55247724/how-can-i-write-null-value-to-parquet-using-org-apache-parquet-hadoop-parquetwri","body":"I ran into another similar issue, but for writing <code>null</code> values. Any chance you could take a look at my new question? <a href=\"https://stackoverflow.com/questions/55247724/how-can-i-write-null-value-to-parquet-using-org-apache-parquet-hadoop-parquetwri\" title=\"how can i write null value to parquet using org apache parquet hadoop parquetwri\">stackoverflow.com/questions/55247724/&hellip;</a>"},{"owner":{"account_id":1760160,"reputation":471,"user_id":1730482,"display_name":"marklap"},"score":0,"creation_date":1628543940,"post_id":54665645,"comment_id":121444891,"body_markdown":"I had to convert from a base64 encoded version of this INT96 timestamp to an ISO8601 formatted string. I ended up writing this with the help of this answer. Thanks @Zoltan - https://gist.github.com/marklap/133f1dbd51113de460475321b467aa70","body":"I had to convert from a base64 encoded version of this INT96 timestamp to an ISO8601 formatted string. I ended up writing this with the help of this answer. Thanks @Zoltan - <a href=\"https://gist.github.com/marklap/133f1dbd51113de460475321b467aa70\" rel=\"nofollow noreferrer\">gist.github.com/marklap/133f1dbd51113de460475321b467aa70</a>"}],"tags":[],"owner":{"account_id":7374255,"reputation":2958,"user_id":5613485,"display_name":"Zoltan"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1550046730,"creation_date":1550046730,"answer_id":54665645,"question_id":54657496,"body_markdown":" 1. INT96 timestamps use the INT96 physical type without any logical type, so don&#39;t annotate them with anything.\r\n 2. If you are interested in the structure of an INT96 timestamp, take a look [here][1]. If you would like to see sample code that converts to and from this format, take a look at [this file from Hive][2].\r\n\r\n  [1]: https://stackoverflow.com/a/53104516/5613485\r\n  [2]: https://github.com/apache/hive/blob/branch-2.0/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/timestamp/NanoTimeUtils.java","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<ol>\n<li>INT96 timestamps use the INT96 physical type without any logical type, so don't annotate them with anything.</li>\n<li>If you are interested in the structure of an INT96 timestamp, take a look <a href=\"https://stackoverflow.com/a/53104516/5613485\">here</a>. If you would like to see sample code that converts to and from this format, take a look at <a href=\"https://github.com/apache/hive/blob/branch-2.0/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/timestamp/NanoTimeUtils.java\" rel=\"noreferrer\">this file from Hive</a>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1312868,"reputation":224,"user_id":1260472,"accept_rate":91,"display_name":"BudsNanKis"},"score":0,"creation_date":1572638787,"post_id":54679830,"comment_id":103633687,"body_markdown":"NanoTime could be used if you have julianDays and nanos instead of packing your own binary.","body":"NanoTime could be used if you have julianDays and nanos instead of packing your own binary."}],"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550093812,"creation_date":1550093812,"answer_id":54679830,"question_id":54657496,"body_markdown":"I figured it out, using [this code][1] from spark sql as a reference.\r\n\r\nThe INT96 binary encoding is split into 2 parts:\r\nFirst 8 bytes are nanoseconds since midnight\r\nLast 4 bytes is [Julian day][2]\r\n\r\n\r\n```\r\nString value = &quot;2019-02-13 13:35:05&quot;;\r\n\r\nfinal long NANOS_PER_HOUR = TimeUnit.HOURS.toNanos(1);\r\nfinal long NANOS_PER_MINUTE = TimeUnit.MINUTES.toNanos(1);\r\nfinal long NANOS_PER_SECOND = TimeUnit.SECONDS.toNanos(1);\r\n\r\n// Parse date\r\nSimpleDateFormat parser = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\nCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\ncal.setTime(parser.parse(value));\r\n\r\n// Calculate Julian days and nanoseconds in the day\r\nLocalDate dt = LocalDate.of(cal.get(Calendar.YEAR), cal.get(Calendar.MONTH)+1, cal.get(Calendar.DAY_OF_MONTH));\r\nint julianDays = (int) JulianFields.JULIAN_DAY.getFrom(dt);\r\nlong nanos = (cal.get(Calendar.HOUR_OF_DAY) * NANOS_PER_HOUR)\r\n        + (cal.get(Calendar.MINUTE) * NANOS_PER_MINUTE)\r\n        + (cal.get(Calendar.SECOND) * NANOS_PER_SECOND);\r\n\r\n// Write INT96 timestamp\r\nbyte[] timestampBuffer = new byte[12];\r\nByteBuffer buf = ByteBuffer.wrap(timestampBuffer);\r\nbuf.order(ByteOrder.LITTLE_ENDIAN).putLong(nanos).putInt(julianDays);\r\n\r\n// This is the properly encoded INT96 timestamp\r\nBinary tsValue = Binary.fromReusedByteArray(timestampBuffer);\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178\r\n  [2]: https://en.wikipedia.org/wiki/Julian_day","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>I figured it out, using <a href=\"https://github.com/apache/spark/blob/d66a4e82eceb89a274edeb22c2fb4384bed5078b/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/parquet/ParquetWriteSupport.scala#L171-L178\" rel=\"nofollow noreferrer\">this code</a> from spark sql as a reference.</p>\n\n<p>The INT96 binary encoding is split into 2 parts:\nFirst 8 bytes are nanoseconds since midnight\nLast 4 bytes is <a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian day</a></p>\n\n<pre><code>String value = \"2019-02-13 13:35:05\";\n\nfinal long NANOS_PER_HOUR = TimeUnit.HOURS.toNanos(1);\nfinal long NANOS_PER_MINUTE = TimeUnit.MINUTES.toNanos(1);\nfinal long NANOS_PER_SECOND = TimeUnit.SECONDS.toNanos(1);\n\n// Parse date\nSimpleDateFormat parser = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\ncal.setTime(parser.parse(value));\n\n// Calculate Julian days and nanoseconds in the day\nLocalDate dt = LocalDate.of(cal.get(Calendar.YEAR), cal.get(Calendar.MONTH)+1, cal.get(Calendar.DAY_OF_MONTH));\nint julianDays = (int) JulianFields.JULIAN_DAY.getFrom(dt);\nlong nanos = (cal.get(Calendar.HOUR_OF_DAY) * NANOS_PER_HOUR)\n        + (cal.get(Calendar.MINUTE) * NANOS_PER_MINUTE)\n        + (cal.get(Calendar.SECOND) * NANOS_PER_SECOND);\n\n// Write INT96 timestamp\nbyte[] timestampBuffer = new byte[12];\nByteBuffer buf = ByteBuffer.wrap(timestampBuffer);\nbuf.order(ByteOrder.LITTLE_ENDIAN).putLong(nanos).putInt(julianDays);\n\n// This is the properly encoded INT96 timestamp\nBinary tsValue = Binary.fromReusedByteArray(timestampBuffer);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17064862,"reputation":186,"user_id":12347336,"display_name":"Shubham Dhingra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672729365,"creation_date":1672729365,"answer_id":74989988,"question_id":54657496,"body_markdown":"For those using `AvroParquetWriter` and want to write INT96 **physical type** you can use\r\n```\r\nfinal Configuration conf = new Configuration();\r\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;field_name&quot;);\r\n```\r\nand pass this configuration when building the `AvroParquetWriter`. Your avro schema has to be type `fixed` for `field_name` and type similar to:\r\n```\r\n&quot;type&quot;:[\r\n        &quot;null&quot;,\r\n        {\r\n               &quot;type&quot;:&quot;fixed&quot;,\r\n               &quot;name&quot;:&quot;INT96&quot;,\r\n               &quot;doc&quot;:&quot;INT96 represented as byte[12]&quot;,\r\n               &quot;size&quot;:12\r\n        }\r\n]\r\n```\r\n\r\nFull example: \r\n```\r\nfinal String avroSchemaString = &quot;{\\n&quot; +\r\n        &quot;   \\&quot;type\\&quot;:\\&quot;record\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;name\\&quot;:\\&quot;userInfo\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;namespace\\&quot;:\\&quot;my.example\\&quot;,\\n&quot; +\r\n        &quot;   \\&quot;fields\\&quot;:[\\n&quot; +\r\n        &quot;      {\\n&quot; +\r\n        &quot;         \\&quot;name\\&quot;:\\&quot;date_of_birth\\&quot;,\\n&quot; +\r\n        &quot;         \\&quot;type\\&quot;:[\\n&quot; +\r\n        &quot;            \\&quot;null\\&quot;,\\n&quot; +\r\n        &quot;            {\\n&quot; +\r\n        &quot;               \\&quot;type\\&quot;:\\&quot;fixed\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;name\\&quot;:\\&quot;INT96\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;doc\\&quot;:\\&quot;INT96 represented as byte[12]\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;size\\&quot;:12\\n&quot; +\r\n        &quot;            }\\n&quot; +\r\n        &quot;         ]\\n&quot; +\r\n        &quot;      }\\n&quot; +\r\n        &quot;   ]\\n&quot; +\r\n        &quot;}&quot;;\r\nSystem.out.println(&quot;AvroSchema: &quot; + avroSchemaString);\r\n\r\nfinal Schema avroSchema = new Schema.Parser().parse(avroSchemaString);\r\nSystem.out.println(&quot;Parsed AvroSchema: &quot; + avroSchema);\r\n\r\nfinal Path outputPath = new Path(&quot;/tmp/temp.parquet&quot;);\r\nfinal Configuration conf = new Configuration();\r\n// Comment this line and it will write as FIXED_LEN_BYTE_ARRAY of size 12\r\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;date_of_birth&quot;);\r\n\r\n\r\nfinal ParquetWriter&lt;GenericData.Record&gt; parquetWriter = AvroParquetWriter.&lt;GenericData\r\n                .Record&gt;builder(outputPath)\r\n        .withSchema(avroSchema)\r\n        .withConf(conf)\r\n        .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n        .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\r\n        .build();\r\nfinal GenericData.Record record = new GenericData.Record(avroSchema);\r\n\r\n// Convert LocalDate to NanoTime or LocalDateTime to NanoTime\r\nfinal LocalDate dateToday = LocalDate.now();\r\nfinal NanoTime nanoTime = new NanoTime((int)JulianFields.JULIAN_DAY.getFrom(dateToday), 0L);\r\nbyte[] timestampBuffer = nanoTime.toBinary().getBytes();\r\n\r\n// Should be 12\r\nSystem.out.println(timestampBuffer.length);\r\n\r\nGenericData.Fixed fixed = new GenericData.Fixed(avroSchema.getFields().get(0).schema(), timestampBuffer);\r\nrecord.put(&quot;date_of_birth&quot;, fixed);\r\nparquetWriter.write(record);\r\n\r\n// Close the writer to flush records\r\nparquetWriter.close();\r\n```\r\n\r\nIt only works for version `1.12.3` of `parquet-avro`. GAV for that: \r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>For those using <code>AvroParquetWriter</code> and want to write INT96 <strong>physical type</strong> you can use</p>\n<pre><code>final Configuration conf = new Configuration();\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;field_name&quot;);\n</code></pre>\n<p>and pass this configuration when building the <code>AvroParquetWriter</code>. Your avro schema has to be type <code>fixed</code> for <code>field_name</code> and type similar to:</p>\n<pre><code>&quot;type&quot;:[\n        &quot;null&quot;,\n        {\n               &quot;type&quot;:&quot;fixed&quot;,\n               &quot;name&quot;:&quot;INT96&quot;,\n               &quot;doc&quot;:&quot;INT96 represented as byte[12]&quot;,\n               &quot;size&quot;:12\n        }\n]\n</code></pre>\n<p>Full example:</p>\n<pre><code>final String avroSchemaString = &quot;{\\n&quot; +\n        &quot;   \\&quot;type\\&quot;:\\&quot;record\\&quot;,\\n&quot; +\n        &quot;   \\&quot;name\\&quot;:\\&quot;userInfo\\&quot;,\\n&quot; +\n        &quot;   \\&quot;namespace\\&quot;:\\&quot;my.example\\&quot;,\\n&quot; +\n        &quot;   \\&quot;fields\\&quot;:[\\n&quot; +\n        &quot;      {\\n&quot; +\n        &quot;         \\&quot;name\\&quot;:\\&quot;date_of_birth\\&quot;,\\n&quot; +\n        &quot;         \\&quot;type\\&quot;:[\\n&quot; +\n        &quot;            \\&quot;null\\&quot;,\\n&quot; +\n        &quot;            {\\n&quot; +\n        &quot;               \\&quot;type\\&quot;:\\&quot;fixed\\&quot;,\\n&quot; +\n        &quot;               \\&quot;name\\&quot;:\\&quot;INT96\\&quot;,\\n&quot; +\n        &quot;               \\&quot;doc\\&quot;:\\&quot;INT96 represented as byte[12]\\&quot;,\\n&quot; +\n        &quot;               \\&quot;size\\&quot;:12\\n&quot; +\n        &quot;            }\\n&quot; +\n        &quot;         ]\\n&quot; +\n        &quot;      }\\n&quot; +\n        &quot;   ]\\n&quot; +\n        &quot;}&quot;;\nSystem.out.println(&quot;AvroSchema: &quot; + avroSchemaString);\n\nfinal Schema avroSchema = new Schema.Parser().parse(avroSchemaString);\nSystem.out.println(&quot;Parsed AvroSchema: &quot; + avroSchema);\n\nfinal Path outputPath = new Path(&quot;/tmp/temp.parquet&quot;);\nfinal Configuration conf = new Configuration();\n// Comment this line and it will write as FIXED_LEN_BYTE_ARRAY of size 12\nconf.setStrings(WRITE_FIXED_AS_INT96,  &quot;date_of_birth&quot;);\n\n\nfinal ParquetWriter&lt;GenericData.Record&gt; parquetWriter = AvroParquetWriter.&lt;GenericData\n                .Record&gt;builder(outputPath)\n        .withSchema(avroSchema)\n        .withConf(conf)\n        .withCompressionCodec(CompressionCodecName.SNAPPY)\n        .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\n        .build();\nfinal GenericData.Record record = new GenericData.Record(avroSchema);\n\n// Convert LocalDate to NanoTime or LocalDateTime to NanoTime\nfinal LocalDate dateToday = LocalDate.now();\nfinal NanoTime nanoTime = new NanoTime((int)JulianFields.JULIAN_DAY.getFrom(dateToday), 0L);\nbyte[] timestampBuffer = nanoTime.toBinary().getBytes();\n\n// Should be 12\nSystem.out.println(timestampBuffer.length);\n\nGenericData.Fixed fixed = new GenericData.Fixed(avroSchema.getFields().get(0).schema(), timestampBuffer);\nrecord.put(&quot;date_of_birth&quot;, fixed);\nparquetWriter.write(record);\n\n// Close the writer to flush records\nparquetWriter.close();\n</code></pre>\n<p>It only works for version <code>1.12.3</code> of <code>parquet-avro</code>. GAV for that:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\n            &lt;version&gt;1.12.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25631,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54679830,"answer_count":3,"score":9,"last_activity_date":1672729365,"creation_date":1550000238,"question_id":54657496,"body_markdown":"I have a tool that uses a [org.apache.parquet.hadoop.ParquetWriter][1] to convert CSV data files to parquet data files.\r\n\r\nCurrently, it only handles `int32`, `double`, and `string`\r\n\r\nI need to support the parquet `timestamp` logical type (annotated as int96), and I am lost on how to do that because I can&#39;t find a precise specification online.\r\n\r\nIt appears this timestamp encoding (int96) is rare and not well supported. I&#39;ve found very little specification details online. [This github README][2] states that:\r\n\r\n&gt; Timestamps saved as an int96 are made up of the nanoseconds in the day\r\n&gt; (first 8 byte) and the Julian day (last 4 bytes).\r\n\r\n\r\n**Specifically:**\r\n\r\n1. Which parquet [Type][3] do I use for the column in [MessageType][4] schema? I assume I should use the primitive type, `PrimitiveTypeName.INT96`, but I&#39;m not sure if there may be a way to specify a logical type?\r\n2. How do I write the data? i.e. In what format do I write the timestamp to the group? For an INT96 timestamp, I assume I must write some binary type?\r\n\r\nHere is a simplified version of my code that demonstrates what I am trying to do. Specifically, take a look at the &quot;TODO&quot; comments, these are the two points in the code that correlate to the questions above.\r\n\r\n```\r\nList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, &quot;int32_col&quot;, null));\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, &quot;double_col&quot;, null));\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.STRING, &quot;string_col&quot;, null));\r\n\r\n// TODO: \r\n//   Specify the TIMESTAMP type. \r\n//   How? INT96 primitive type? Is there a logical timestamp type I can use w/ MessageType schema?\r\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT96, &quot;timestamp_col&quot;, null)); \r\n\r\nMessageType schema = new MessageType(&quot;input&quot;, fields);\r\n\r\n// initialize writer\r\nConfiguration configuration = new Configuration();\r\nconfiguration.setQuietMode(true);\r\nGroupWriteSupport.setSchema(schema, configuration);\r\nParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\r\n  new Path(&quot;output.parquet&quot;),\r\n  new GroupWriteSupport(),\r\n  CompressionCodecName.SNAPPY,\r\n  ParquetWriter.DEFAULT_BLOCK_SIZE,\r\n  ParquetWriter.DEFAULT_PAGE_SIZE,\r\n  1048576,\r\n  true,\r\n  false,\r\n  ParquetProperties.WriterVersion.PARQUET_1_0,\r\n  configuration\r\n);\r\n\r\n// write CSV data\r\nCSVParser parser = CSVParser.parse(new File(csv), StandardCharsets.UTF_8, CSVFormat.TDF.withQuote(null));\r\nArrayList&lt;String&gt; columns = new ArrayList&lt;&gt;(schemaMap.keySet());\r\nint colIndex;\r\nint rowNum = 0;\r\nfor (CSVRecord csvRecord : parser) {\r\n  rowNum ++;\r\n  Group group = f.newGroup();\r\n  colIndex = 0;\r\n  for (String record : csvRecord) {\r\n    if (record == null || record.isEmpty() || record.equals( &quot;NULL&quot;)) {\r\n      colIndex++;\r\n      continue;\r\n    }\r\n\r\n    \r\n    record = record.trim();\r\n    String type = schemaMap.get(columns.get(colIndex)).get(&quot;type&quot;).toString();\r\n    MessageTypeConverter.addTypeValueToGroup(type, record, group, colIndex++);\r\n\r\n    switch (colIndex) {\r\n      case 0: // int32\r\n        group.add(colIndex, Integer.parseInt(record));\r\n        break;\r\n      case 1: // double\r\n        group.add(colIndex, Double.parseDouble(record));\r\n        break;\r\n      case 2: // string\r\n        group.add(colIndex, record);\r\n        break;\r\n      case 3:\r\n        // TODO: convert CSV string value to TIMESTAMP type (how?)\r\n        throw new NotImplementedException();\r\n    }\r\n  }\r\n  writer.write(group);\r\n}\r\nwriter.close();\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\r\n  [2]: https://github.com/xhochy/parquet-format/blob/cb4727767823ae201fd567f67825cc22834c20e9/LogicalTypes.md#int96-timestamps-also-called-impala_timestamp\r\n  [3]: https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/Type.java\r\n  [4]: https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/MessageType.java","title":"How to write TIMESTAMP logical type (INT96) to parquet, using ParquetWriter?","body":"<p>I have a tool that uses a <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a> to convert CSV data files to parquet data files.</p>\n\n<p>Currently, it only handles <code>int32</code>, <code>double</code>, and <code>string</code></p>\n\n<p>I need to support the parquet <code>timestamp</code> logical type (annotated as int96), and I am lost on how to do that because I can't find a precise specification online.</p>\n\n<p>It appears this timestamp encoding (int96) is rare and not well supported. I've found very little specification details online. <a href=\"https://github.com/xhochy/parquet-format/blob/cb4727767823ae201fd567f67825cc22834c20e9/LogicalTypes.md#int96-timestamps-also-called-impala_timestamp\" rel=\"noreferrer\">This github README</a> states that:</p>\n\n<blockquote>\n  <p>Timestamps saved as an int96 are made up of the nanoseconds in the day\n  (first 8 byte) and the Julian day (last 4 bytes).</p>\n</blockquote>\n\n<p><strong>Specifically:</strong></p>\n\n<ol>\n<li>Which parquet <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/Type.java\" rel=\"noreferrer\">Type</a> do I use for the column in <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-column/src/main/java/org/apache/parquet/schema/MessageType.java\" rel=\"noreferrer\">MessageType</a> schema? I assume I should use the primitive type, <code>PrimitiveTypeName.INT96</code>, but I'm not sure if there may be a way to specify a logical type?</li>\n<li>How do I write the data? i.e. In what format do I write the timestamp to the group? For an INT96 timestamp, I assume I must write some binary type?</li>\n</ol>\n\n<p>Here is a simplified version of my code that demonstrates what I am trying to do. Specifically, take a look at the \"TODO\" comments, these are the two points in the code that correlate to the questions above.</p>\n\n<pre><code>List&lt;Type&gt; fields = new ArrayList&lt;&gt;();\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, \"int32_col\", null));\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, \"double_col\", null));\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.STRING, \"string_col\", null));\n\n// TODO: \n//   Specify the TIMESTAMP type. \n//   How? INT96 primitive type? Is there a logical timestamp type I can use w/ MessageType schema?\nfields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT96, \"timestamp_col\", null)); \n\nMessageType schema = new MessageType(\"input\", fields);\n\n// initialize writer\nConfiguration configuration = new Configuration();\nconfiguration.setQuietMode(true);\nGroupWriteSupport.setSchema(schema, configuration);\nParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\n  new Path(\"output.parquet\"),\n  new GroupWriteSupport(),\n  CompressionCodecName.SNAPPY,\n  ParquetWriter.DEFAULT_BLOCK_SIZE,\n  ParquetWriter.DEFAULT_PAGE_SIZE,\n  1048576,\n  true,\n  false,\n  ParquetProperties.WriterVersion.PARQUET_1_0,\n  configuration\n);\n\n// write CSV data\nCSVParser parser = CSVParser.parse(new File(csv), StandardCharsets.UTF_8, CSVFormat.TDF.withQuote(null));\nArrayList&lt;String&gt; columns = new ArrayList&lt;&gt;(schemaMap.keySet());\nint colIndex;\nint rowNum = 0;\nfor (CSVRecord csvRecord : parser) {\n  rowNum ++;\n  Group group = f.newGroup();\n  colIndex = 0;\n  for (String record : csvRecord) {\n    if (record == null || record.isEmpty() || record.equals( \"NULL\")) {\n      colIndex++;\n      continue;\n    }\n\n\n    record = record.trim();\n    String type = schemaMap.get(columns.get(colIndex)).get(\"type\").toString();\n    MessageTypeConverter.addTypeValueToGroup(type, record, group, colIndex++);\n\n    switch (colIndex) {\n      case 0: // int32\n        group.add(colIndex, Integer.parseInt(record));\n        break;\n      case 1: // double\n        group.add(colIndex, Double.parseDouble(record));\n        break;\n      case 2: // string\n        group.add(colIndex, record);\n        break;\n      case 3:\n        // TODO: convert CSV string value to TIMESTAMP type (how?)\n        throw new NotImplementedException();\n    }\n  }\n  writer.write(group);\n}\nwriter.close();\n</code></pre>\n"},{"tags":["java","parsing","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1672729234,"post_id":74989955,"comment_id":132334897,"body_markdown":"`&amp;` means &quot;and&quot; not &quot;or&quot;","body":"<code>&amp;</code> means &quot;and&quot; not &quot;or&quot;"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1672729634,"post_id":74989955,"comment_id":132334978,"body_markdown":"What&#39;s the point of `T` in this pseudocode? What does it do that `Object` could not?","body":"What&#39;s the point of <code>T</code> in this pseudocode? What does it do that <code>Object</code> could not?"},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":0,"creation_date":1672729674,"post_id":74989955,"comment_id":132334986,"body_markdown":"I think for generics &amp; was used for [multiple bounds](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)?","body":"I think for generics &amp; was used for <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">multiple bounds</a>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672729726,"post_id":74989955,"comment_id":132335002,"body_markdown":"Multiple bounds means &quot;extends A and B&quot; not &quot;extends A or B&quot;","body":"Multiple bounds means &quot;extends A and B&quot; not &quot;extends A or B&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672729753,"post_id":74989955,"comment_id":132335005,"body_markdown":"Having a return type that could be a String or a List or a Map doesn&#39;t work they way you intend. How would the compiler know what type to assign it to? It can&#39;t as it doesn&#39;t know the value, so all it knows is that an `Object` would be returned - and that&#39;s the only return type you can have in that method. - Suppose that method _would_ be possible: how would the compiler know the following is wrong? `String parsed = parse (&quot;[{foo1=bar1}, {foo2=bar2}]&quot;);`","body":"Having a return type that could be a String or a List or a Map doesn&#39;t work they way you intend. How would the compiler know what type to assign it to? It can&#39;t as it doesn&#39;t know the value, so all it knows is that an <code>Object</code> would be returned - and that&#39;s the only return type you can have in that method. - Suppose that method <i>would</i> be possible: how would the compiler know the following is wrong? <code>String parsed = parse (&quot;[{foo1=bar1}, {foo2=bar2}]&quot;);</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672730080,"post_id":74989955,"comment_id":132335073,"body_markdown":"As for the `&amp;`: as shmosel already stated that means &quot;and&quot;. Additionally, only interfaces are allowed after the `&amp;` so using `String &amp; ArrayList` would not be possible. Why? Because Java doesn&#39;t support multiple inheritance so no class could ever extend both `String` and `ArrayList`. You could, however, do something like this: `T extends Collection&lt;X&gt; &amp; Comparable&lt;X&gt;` to state &quot;the return type is a collection of X that also implements the `Comparable` interface&quot;. That&#39;s what multiple bounds are used for.","body":"As for the <code>&amp;</code>: as shmosel already stated that means &quot;and&quot;. Additionally, only interfaces are allowed after the <code>&amp;</code> so using <code>String &amp; ArrayList</code> would not be possible. Why? Because Java doesn&#39;t support multiple inheritance so no class could ever extend both <code>String</code> and <code>ArrayList</code>. You could, however, do something like this: <code>T extends Collection&lt;X&gt; &amp; Comparable&lt;X&gt;</code> to state &quot;the return type is a collection of X that also implements the <code>Comparable</code> interface&quot;. That&#39;s what multiple bounds are used for."},{"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"score":0,"creation_date":1672730537,"post_id":74989955,"comment_id":132335177,"body_markdown":"Thanks Thomas. The String comes from a fileReader which loads a yaml. I turned each field back to String to support Macro insertion, and then was unable to revert it back to the old type...\n\nAs someone coming from python, who&#39;s used to messy types and handy methods like eval, I felt pretty awkward about how to turn them back into their original String/List/Map type. Do you have any tips on that?","body":"Thanks Thomas. The String comes from a fileReader which loads a yaml. I turned each field back to String to support Macro insertion, and then was unable to revert it back to the old type...  As someone coming from python, who&#39;s used to messy types and handy methods like eval, I felt pretty awkward about how to turn them back into their original String/List/Map type. Do you have any tips on that?"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1672750878,"post_id":74989955,"comment_id":132341283,"body_markdown":"If you can commit to supplying a valid JSON then you can easily achieve this with the Jackson Library and JSON subtypes\nhttps://stackoverflow.com/a/74891785/12302982\n\nOtherwise you will have to develop your own parsing library for your non standard inputs. You will still need to bind the return to some sort of type or just return object and cast the object to whatever you need later on. Alternatively make your parser call the method that needs this data instead of calling the parser from the method.","body":"If you can commit to supplying a valid JSON then you can easily achieve this with the Jackson Library and JSON subtypes <a href=\"https://stackoverflow.com/a/74891785/12302982\">stackoverflow.com/a/74891785/12302982</a>  Otherwise you will have to develop your own parsing library for your non standard inputs. You will still need to bind the return to some sort of type or just return object and cast the object to whatever you need later on. Alternatively make your parser call the method that needs this data instead of calling the parser from the method."}],"owner":{"account_id":27095221,"reputation":3,"user_id":20642519,"display_name":"Jenny R"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672729083,"creation_date":1672729083,"question_id":74989955,"body_markdown":"Sorry for this noob Java question\r\n\r\n---\r\n\r\nI am trying to write a parser for the String representation of an Object of type T\r\n\r\nT could be\r\n\r\n- String\r\n- ArrayList\\&lt;T\\&gt;\r\n- LinkedHashMap\\&lt;String, T\\&gt;\r\n\r\nI have used `toString()` to convert it into a String, example strings are like\r\n\r\n```\r\n\r\n&quot;a&quot;  \r\n&quot;{foo=bar}&quot;  \r\n&quot;[foo, bar]&quot;  \r\n&quot;[{foo1=bar1}, {foo2=bar2}]&quot;\r\n&quot;{a=[a1, a2], b=b1, c={key:val}}&quot;\r\n```\r\n\r\nBecause the parsed result could be of various type, I am trying to make the parser return a generic type\r\n\r\nI tried something like\r\n\r\n```\r\n\r\nprivate &lt;T extends String &amp; LinkedHashMap&lt;String, T&gt; &amp; ArrayList&lt;T&gt;&gt; T parse(String s)\r\nthrows ParseException {\r\n\r\n    if (s.charAt(0) != &#39;{&#39; &amp;&amp; s.charAt(0) != &#39;[&#39;) {\r\n      return s;\r\n    } else if (s.charAt(0) == &#39;{&#39;) {\r\n      LinkedHashMap&lt;String, T&gt; res = new LinkedHashMap&lt;&gt;();\r\n      for (String entry : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\r\n        String[] data = entry.split(&quot;=&quot;);\r\n        res.put(data[0], parse(data[1]));\r\n      }\r\n      return res;\r\n    } else if (s.charAt(0) == &#39;[&#39;) {\r\n      ArrayList&lt;T&gt; res = new ArrayList&lt;&gt;();\r\n      for (String data : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\r\n        res.add(parse(data));\r\n      }\r\n      return res;\r\n    } else {\r\n      throw new ParseException(...);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd got errors like\r\n\r\n```\r\n\r\nincompatible types:\r\n   String cannot be converted to T\r\n   LinkedHashMap&lt;String,T&gt; cannot be converted to T\r\n   ArrayList&lt;T&gt; cannot be converted to T\r\n```\r\n\r\nHow do I make it work?\r\nThanks for the help in advance!","title":"How to create a method that returns generics with incompatible bounds?","body":"<p>Sorry for this noob Java question</p>\n<hr />\n<p>I am trying to write a parser for the String representation of an Object of type T</p>\n<p>T could be</p>\n<ul>\n<li>String</li>\n<li>ArrayList&lt;T&gt;</li>\n<li>LinkedHashMap&lt;String, T&gt;</li>\n</ul>\n<p>I have used <code>toString()</code> to convert it into a String, example strings are like</p>\n<pre><code>\n&quot;a&quot;  \n&quot;{foo=bar}&quot;  \n&quot;[foo, bar]&quot;  \n&quot;[{foo1=bar1}, {foo2=bar2}]&quot;\n&quot;{a=[a1, a2], b=b1, c={key:val}}&quot;\n</code></pre>\n<p>Because the parsed result could be of various type, I am trying to make the parser return a generic type</p>\n<p>I tried something like</p>\n<pre><code>\nprivate &lt;T extends String &amp; LinkedHashMap&lt;String, T&gt; &amp; ArrayList&lt;T&gt;&gt; T parse(String s)\nthrows ParseException {\n\n    if (s.charAt(0) != '{' &amp;&amp; s.charAt(0) != '[') {\n      return s;\n    } else if (s.charAt(0) == '{') {\n      LinkedHashMap&lt;String, T&gt; res = new LinkedHashMap&lt;&gt;();\n      for (String entry : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\n        String[] data = entry.split(&quot;=&quot;);\n        res.put(data[0], parse(data[1]));\n      }\n      return res;\n    } else if (s.charAt(0) == '[') {\n      ArrayList&lt;T&gt; res = new ArrayList&lt;&gt;();\n      for (String data : s.substring(1, s.length() - 1).split(&quot;, &quot;)) {\n        res.add(parse(data));\n      }\n      return res;\n    } else {\n      throw new ParseException(...);\n    }\n\n}\n</code></pre>\n<p>And got errors like</p>\n<pre><code>\nincompatible types:\n   String cannot be converted to T\n   LinkedHashMap&lt;String,T&gt; cannot be converted to T\n   ArrayList&lt;T&gt; cannot be converted to T\n</code></pre>\n<p>How do I make it work?\nThanks for the help in advance!</p>\n"},{"tags":["java","selenium","xpath","selenium-webdriver","web-scraping"],"answers":[{"comments":[{"owner":{"account_id":5003297,"reputation":2108,"user_id":4021611,"accept_rate":71,"display_name":"Zack"},"score":0,"creation_date":1424025888,"post_id":28529653,"comment_id":45374489,"body_markdown":"So we cannot use &quot;or&quot; directly? It has to go with contains?","body":"So we cannot use &quot;or&quot; directly? It has to go with contains?"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1424025919,"post_id":28529653,"comment_id":45374500,"body_markdown":"@Zack you can but not starting with `//`. I am using `or` as well. Please see my edit.","body":"@Zack you can but not starting with <code>&#47;&#47;</code>. I am using <code>or</code> as well. Please see my edit."},{"owner":{"account_id":5003297,"reputation":2108,"user_id":4021611,"accept_rate":71,"display_name":"Zack"},"score":0,"creation_date":1424025988,"post_id":28529653,"comment_id":45374520,"body_markdown":"Yes. But in all the three solutions you have used &quot;contains&quot;. It worked. I was just curious why it did not work without contains.","body":"Yes. But in all the three solutions you have used &quot;contains&quot;. It worked. I was just curious why it did not work without contains."}],"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424026249,"creation_date":1424025505,"answer_id":28529653,"question_id":28529577,"body_markdown":"You want to specify that like the following:\r\n\r\n    //td[contains(@class,&#39;deletion&#39;) or contains(@class,&#39;addition&#39;)]\r\n\r\nor\r\n\r\n    //td[contains(@class,&#39;blob-code blob-code-addition&#39;) or contains(@class,&#39;blob-code blob-code-deletion&#39;)]\r\n\r\n**If you want to do a `tag` independent search then you can simply use**\r\n\r\n    //*[contains(@class,&#39;blob-code blob-code-addition&#39;) or contains(@class,&#39;blob-code blob-code-deletion&#39;)]\r\n\r\nFrom your answer it looks like you are trying to concatenate two different `xpath`s\r\n\r\n**However, `contians()` is not mandatory here. You also can do without this**\r\n\r\n    //*[(@class=&#39;blob-code blob-code-addition&#39;) or (@class=&#39;blob-code blob-code-deletion&#39;)]","title":"Specifying multiple conditions in xpath","body":"<p>You want to specify that like the following:</p>\n\n<pre><code>//td[contains(@class,'deletion') or contains(@class,'addition')]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//td[contains(@class,'blob-code blob-code-addition') or contains(@class,'blob-code blob-code-deletion')]\n</code></pre>\n\n<p><strong>If you want to do a <code>tag</code> independent search then you can simply use</strong></p>\n\n<pre><code>//*[contains(@class,'blob-code blob-code-addition') or contains(@class,'blob-code blob-code-deletion')]\n</code></pre>\n\n<p>From your answer it looks like you are trying to concatenate two different <code>xpath</code>s</p>\n\n<p><strong>However, <code>contians()</code> is not mandatory here. You also can do without this</strong></p>\n\n<pre><code>//*[(@class='blob-code blob-code-addition') or (@class='blob-code blob-code-deletion')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10726280,"reputation":67,"user_id":7893703,"display_name":"Anil Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521710369,"creation_date":1521709405,"answer_id":49424432,"question_id":28529577,"body_markdown":"using pom: \r\n`@FindBy(xpath =&quot;//span[contains(@class,&#39;vui-menuitem-label-text&#39;) and normalize-space(.) = &#39;Clone&#39;]&quot;)`","title":"Specifying multiple conditions in xpath","body":"<p>using pom: \n<code>@FindBy(xpath =\"//span[contains(@class,'vui-menuitem-label-text') and normalize-space(.) = 'Clone']\")</code></p>\n"},{"tags":[],"owner":{"account_id":7527385,"reputation":2093,"user_id":5717031,"accept_rate":17,"display_name":"Mike ASP"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580963662,"creation_date":1580963662,"answer_id":60087796,"question_id":28529577,"body_markdown":"what works for me is below expression **using &quot;|&quot; character** inside my expression-\r\n\r\nBy element = driver.findElement(By.xpath(&quot;//button[@clas=&#39;xyz&#39;] | //button[@clas=&#39;abc&#39;]&quot;))\r\n\r\nI used above expression for JAVA + Selenium + Maven project","title":"Specifying multiple conditions in xpath","body":"<p>what works for me is below expression <strong>using \"|\" character</strong> inside my expression-</p>\n\n<p>By element = driver.findElement(By.xpath(\"//button[@clas='xyz'] | //button[@clas='abc']\"))</p>\n\n<p>I used above expression for JAVA + Selenium + Maven project</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612392068,"creation_date":1612392068,"answer_id":66036801,"question_id":28529577,"body_markdown":"To select all the tags with:\r\n\r\n- `&lt;td class=&quot;blob-code blob-code-addition&quot;&gt;`\r\n- `&lt;td class=&quot;blob-code blob-code-deletion&quot;&gt;`\r\n\r\nYou can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _xpath_ through `class` attribute with _or_ clause:\r\n\r\n\t  //td[@class=&#39;blob-code blob-code-addition&#39; or @class=&#39;blob-code blob-code-deletion&#39;]\r\n\t\r\n- Using _xpath_ through single `class` attribute with _or_ clause:\r\n\r\n\t  //td[contains(@class,&#39;blob-code-addition&#39;) or contains(@class,&#39;blob-code-deletion&#39;)]\r\n\r\n- Using _xpath_ through partial `class` attribute with _or_ clause:\r\n\r\n\t  //td[contains(@class,&#39;addition&#39;) or contains(@class,&#39;deletion&#39;)]","title":"Specifying multiple conditions in xpath","body":"<p>To select all the tags with:</p>\n<ul>\n<li><code>&lt;td class=&quot;blob-code blob-code-addition&quot;&gt;</code></li>\n<li><code>&lt;td class=&quot;blob-code blob-code-deletion&quot;&gt;</code></li>\n</ul>\n<p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> through <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[@class='blob-code blob-code-addition' or @class='blob-code blob-code-deletion']\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> through single <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[contains(@class,'blob-code-addition') or contains(@class,'blob-code-deletion')]\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> through partial <code>class</code> attribute with <em>or</em> clause:</p>\n<pre><code>//td[contains(@class,'addition') or contains(@class,'deletion')]\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25780504,"reputation":31,"user_id":19526203,"display_name":"Sharvik Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672728921,"creation_date":1672728921,"answer_id":74989926,"question_id":28529577,"body_markdown":"For writing Multiple Xpath in one element selenium\r\n\r\n    driver.find_elements(By.XPATH, &#39;//div[@class=&quot;any-content&quot;]//p|//h3|//figure&#39;)\r\n\r\nYou can write many tags by using &quot;|&quot; modulo.\r\n\r\n ","title":"Specifying multiple conditions in xpath","body":"<p>For writing Multiple Xpath in one element selenium</p>\n<pre><code>driver.find_elements(By.XPATH, '//div[@class=&quot;any-content&quot;]//p|//h3|//figure')\n</code></pre>\n<p>You can write many tags by using &quot;|&quot; modulo.</p>\n"}],"owner":{"account_id":5003297,"reputation":2108,"user_id":4021611,"accept_rate":71,"display_name":"Zack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29754,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1672728921,"creation_date":1424025106,"question_id":28529577,"body_markdown":"I want to select all the tags with `&lt;td class=&#39;blob-code blob-code-addition&#39;&gt; and &lt;td class=&#39;blob-code blob-code-deletion&#39;&gt;` . So I am trying to include `or` condition here between the two predicates. It does not work. However, if I include only one of the two classes it works . What is the problem here? Something is wrong with the syntax.\r\n\r\n\r\n    By getChanges = By.xpath(&quot;//td[@class=&#39;blob-code blob-code-addition&#39;] or  //td[@class=&#39;blob-code blob-code-deletion&#39;]&quot;);","title":"Specifying multiple conditions in xpath","body":"<p>I want to select all the tags with <code>&lt;td class='blob-code blob-code-addition'&gt; and &lt;td class='blob-code blob-code-deletion'&gt;</code> . So I am trying to include <code>or</code> condition here between the two predicates. It does not work. However, if I include only one of the two classes it works . What is the problem here? Something is wrong with the syntax.</p>\n\n<pre><code>By getChanges = By.xpath(\"//td[@class='blob-code blob-code-addition'] or  //td[@class='blob-code blob-code-deletion']\");\n</code></pre>\n"},{"tags":["java","docker","memory-management","rx-java2","micronaut"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672721245,"post_id":74989107,"comment_id":132333745,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672721299,"post_id":74989107,"comment_id":132333749,"body_markdown":"&quot;*How can I check what all is contributing to this memory usage.*&quot; - Jump into the container, locate the process, analyze the memory pages. This it the only way to see with 100% certainty what is going on, although this might be time consuming","body":"&quot;<i>How can I check what all is contributing to this memory usage.</i>&quot; - Jump into the container, locate the process, analyze the memory pages. This it the only way to see with 100% certainty what is going on, although this might be time consuming"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672721361,"post_id":74989107,"comment_id":132333765,"body_markdown":"&quot;*On prometheus we are using container_memory_usage_bytes metrics*&quot; - As far as I know, micronaut is mp-compatible. There are more powerful metrics with mp-metrics; we should be able to get metrics for the different memory areas of the JVM. This might be worth exploring.","body":"&quot;<i>On prometheus we are using container_memory_usage_bytes metrics</i>&quot; - As far as I know, micronaut is mp-compatible. There are more powerful metrics with mp-metrics; we should be able to get metrics for the different memory areas of the JVM. This might be worth exploring."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672721487,"post_id":74989107,"comment_id":132333780,"body_markdown":"&quot;*can container go beyond the allocated memory limit 512M as I have seen few instances in the past on the same porometheus metrics.*&quot; - If the memory limit for the container is set to 512M, then no. k8s will enforce the container memory limit. If the pod exceeds the limit, it will be killed.","body":"&quot;<i>can container go beyond the allocated memory limit 512M as I have seen few instances in the past on the same porometheus metrics.</i>&quot; - If the memory limit for the container is set to 512M, then no. k8s will enforce the container memory limit. If the pod exceeds the limit, it will be killed."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1672722358,"post_id":74989107,"comment_id":132333892,"body_markdown":"@Turing85 removed the multiple questions","body":"@Turing85 removed the multiple questions"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672728800,"creation_date":1672721045,"question_id":74989107,"body_markdown":"I am running a RxJava-Micronaut with application and sqlite database inside the container. This application is having a scheduled job which process half millions string records from database (it calls other api in the batch of 200 records during that process) . We are loading all these records in one shot using RxJava Flowable and using BackPressure Drop Strategy. There is no OutOfMemoryError.\r\n\r\nI am trying to understand memory consumption by container. Container memory limit has been set to 512M.\r\n\r\nMy Docker file is having below JVM params\r\n\r\n    EXPOSE 8080\r\n    CMD java -Dcom.sun.management.jmxremote -Xms200m -Xmx235m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof -Dmicronaut.environments=${CONFIG_ENV} -XX:+PrintCommandLineFlags -jar myapp.jar\r\n\r\nHere I have Jvm min and max to 200M and 235M respectively.\r\n\r\nWhat here I am looking is to understand all components which is contributing to container memory consumption.\r\n\r\n 1. When I check the `docker stats` for the container, it shows memory usage around 450M out of 512 even if the schedule job inside docker is not running. How can I check what all is contributing to this memory usage.\r\n     [![enter image description here][1]][1]\r\n\r\n\r\nAs suggested I have checked inside the container and found java process is consuming that much memory (439M)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to investigate further here. I believe heap dump will show details or memory occupied in heap which in my case max is 235M. What else might be contributing to 437M? How can I check that ?\r\n\r\nThanks\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pgxah.jpg\r\n  [2]: https://i.stack.imgur.com/hdtwo.png","title":"How to analyze memory consumption when running application inside container","body":"<p>I am running a RxJava-Micronaut with application and sqlite database inside the container. This application is having a scheduled job which process half millions string records from database (it calls other api in the batch of 200 records during that process) . We are loading all these records in one shot using RxJava Flowable and using BackPressure Drop Strategy. There is no OutOfMemoryError.</p>\n<p>I am trying to understand memory consumption by container. Container memory limit has been set to 512M.</p>\n<p>My Docker file is having below JVM params</p>\n<pre><code>EXPOSE 8080\nCMD java -Dcom.sun.management.jmxremote -Xms200m -Xmx235m -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+HeapDumpOnOutOfMemoryError -XX:+ExitOnOutOfMemoryError -XX:HeapDumpPath=/var/data/heapdump.hprof -Dmicronaut.environments=${CONFIG_ENV} -XX:+PrintCommandLineFlags -jar myapp.jar\n</code></pre>\n<p>Here I have Jvm min and max to 200M and 235M respectively.</p>\n<p>What here I am looking is to understand all components which is contributing to container memory consumption.</p>\n<ol>\n<li>When I check the <code>docker stats</code> for the container, it shows memory usage around 450M out of 512 even if the schedule job inside docker is not running. How can I check what all is contributing to this memory usage.\n<a href=\"https://i.stack.imgur.com/pgxah.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgxah.jpg\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>As suggested I have checked inside the container and found java process is consuming that much memory (439M)</p>\n<p><a href=\"https://i.stack.imgur.com/hdtwo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdtwo.png\" alt=\"enter image description here\" /></a></p>\n<p>How to investigate further here. I believe heap dump will show details or memory occupied in heap which in my case max is 235M. What else might be contributing to 437M? How can I check that ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672411676,"post_id":74961348,"comment_id":132285506,"body_markdown":"Check Reactor 3 Reference Guide - Handling Errors https://projectreactor.io/docs/core/release/reference/#which.errors","body":"Check Reactor 3 Reference Guide - Handling Errors <a href=\"https://projectreactor.io/docs/core/release/reference/#which.errors\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/#which.errors</a>"}],"answers":[{"tags":[],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672728264,"creation_date":1672728264,"answer_id":74989834,"question_id":74961348,"body_markdown":"After some digging, found at that there are two important concepts to understand before being able to handle this problem. \r\n\r\n- Reactive pipeline assembly stage\r\n- Reactive pipeline subscription stage\r\n\r\nIn simpler terms,\r\n\r\n- **Assembly Stage** is when the reactive pipeline is being built and initialised but no subscriber has yet subscribed, hence no records are flowing through it. \r\n\r\n- **Subscription Stage** is when the reactive pipeline has been successfully built and subscribed. This is the stage where the actual records flow through the pipeline. \r\n\r\nIf an exception occurs at Assembly stage (as in the above example), it will not be caught by any of the error handlers such as `doOnError`, `onErrorContinue`, `onErrorResume`, etc. However, if an exception occurs during the subscription stage, that&#39;ll be wrapped as a Error Mono and be handle-able via aforementioned handlers. \r\n\r\nIdeally, `fetchInfoFromRemoteHost()` should not perform any non-reactive operations and should only return a pipeline that gets executed when subscribed. This way, we&#39;ll not have to handle the Assembly stage runtime exceptions. \r\n\r\nAdditionally, it is dirty but if we really want to handle a Assembly stage exception, we can wrap it in a simple try/catch. ","title":"How to catch and handle runtime exception in reactive java","body":"<p>After some digging, found at that there are two important concepts to understand before being able to handle this problem.</p>\n<ul>\n<li>Reactive pipeline assembly stage</li>\n<li>Reactive pipeline subscription stage</li>\n</ul>\n<p>In simpler terms,</p>\n<ul>\n<li><p><strong>Assembly Stage</strong> is when the reactive pipeline is being built and initialised but no subscriber has yet subscribed, hence no records are flowing through it.</p>\n</li>\n<li><p><strong>Subscription Stage</strong> is when the reactive pipeline has been successfully built and subscribed. This is the stage where the actual records flow through the pipeline.</p>\n</li>\n</ul>\n<p>If an exception occurs at Assembly stage (as in the above example), it will not be caught by any of the error handlers such as <code>doOnError</code>, <code>onErrorContinue</code>, <code>onErrorResume</code>, etc. However, if an exception occurs during the subscription stage, that'll be wrapped as a Error Mono and be handle-able via aforementioned handlers.</p>\n<p>Ideally, <code>fetchInfoFromRemoteHost()</code> should not perform any non-reactive operations and should only return a pipeline that gets executed when subscribed. This way, we'll not have to handle the Assembly stage runtime exceptions.</p>\n<p>Additionally, it is dirty but if we really want to handle a Assembly stage exception, we can wrap it in a simple try/catch.</p>\n"}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672728264,"creation_date":1672401947,"question_id":74961348,"body_markdown":"I am new to reactive java with some basic knowledge. I am working on fixing a code piece where, \r\n\r\n    remoteHelper.fetchInfoFromRemoteHost(authToken)\r\n    .flatMap(response -&gt; {\r\n       //Process the response\r\n     })\r\n\r\nThe `fetchInfoFromRemoteHost` method either returns a valid Mono&lt;RemoteResponse&gt; or else can throw any runtime exception. I cannot change the method as it comes from a library. \r\n\r\nHow do I handle the case when this method throws a runtime exception? Cause I want to catch the runtime exception, wrap in a custom exception and rethrow or else process the valid response. In pseudo code, I want to do something like: \r\n\r\n    remoteHelper.fetchInfoFromRemoteHost(authToken)\r\n    .onError(e -&gt; Mono.error(new CustomException(e))\r\n    .flatMap(response -&gt; {\r\n      //Process the response\r\n    })","title":"How to catch and handle runtime exception in reactive java","body":"<p>I am new to reactive java with some basic knowledge. I am working on fixing a code piece where,</p>\n<pre><code>remoteHelper.fetchInfoFromRemoteHost(authToken)\n.flatMap(response -&gt; {\n   //Process the response\n })\n</code></pre>\n<p>The <code>fetchInfoFromRemoteHost</code> method either returns a valid Mono or else can throw any runtime exception. I cannot change the method as it comes from a library.</p>\n<p>How do I handle the case when this method throws a runtime exception? Cause I want to catch the runtime exception, wrap in a custom exception and rethrow or else process the valid response. In pseudo code, I want to do something like:</p>\n<pre><code>remoteHelper.fetchInfoFromRemoteHost(authToken)\n.onError(e -&gt; Mono.error(new CustomException(e))\n.flatMap(response -&gt; {\n  //Process the response\n})\n</code></pre>\n"},{"tags":["javascript","java","android","node.js","react-native"],"comments":[{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":1,"creation_date":1574265461,"post_id":58952564,"comment_id":104172383,"body_markdown":"What operating system are you using? I found my issue was caused by file permissions inside the android build folders - no idea what happened but on my Windows 10 machine I had to make sure I started all my apps (Android Studio, VS Code, Windows Command) with elevated rights (Run as administrator).","body":"What operating system are you using? I found my issue was caused by file permissions inside the android build folders - no idea what happened but on my Windows 10 machine I had to make sure I started all my apps (Android Studio, VS Code, Windows Command) with elevated rights (Run as administrator)."},{"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"score":0,"creation_date":1574265536,"post_id":58952564,"comment_id":104172424,"body_markdown":"Im using MacOS","body":"Im using MacOS"},{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":0,"creation_date":1574333513,"post_id":58952564,"comment_id":104199836,"body_markdown":"I recreated the project using the CLI and it started working :-(","body":"I recreated the project using the CLI and it started working :-("},{"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"score":0,"creation_date":1574333717,"post_id":58952564,"comment_id":104199956,"body_markdown":"@TahirKhalid Meaning you started a whole new project using react-native init? Can you please elaborate a bit, thanks","body":"@TahirKhalid Meaning you started a whole new project using react-native init? Can you please elaborate a bit, thanks"},{"owner":{"account_id":189966,"reputation":1571,"user_id":4826364,"display_name":"Trevor"},"score":0,"creation_date":1574631034,"post_id":58952564,"comment_id":104290301,"body_markdown":"Yes I recreated the project but this time I made sure permissions were correct. I would use the MacOS console and chmod the folders and files to ensure correct read/write access","body":"Yes I recreated the project but this time I made sure permissions were correct. I would use the MacOS console and chmod the folders and files to ensure correct read/write access"},{"owner":{"account_id":57152,"reputation":11299,"user_id":171168,"accept_rate":68,"display_name":"pasine"},"score":0,"creation_date":1574769189,"post_id":58952564,"comment_id":104340827,"body_markdown":"I think this bug report seems related. https://github.com/react-native-community/cli/issues/863","body":"I think this bug report seems related. <a href=\"https://github.com/react-native-community/cli/issues/863\" rel=\"nofollow noreferrer\">github.com/react-native-community/cli/issues/863</a>"}],"answers":[{"tags":[],"owner":{"account_id":14415505,"reputation":824,"user_id":10413070,"display_name":"Ali Mohammad"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1579777682,"creation_date":1574351609,"answer_id":58978876,"question_id":58952564,"body_markdown":"I think this problem is only in the newer version (0.61) I had the same issue and I just used the older version  (0.60.0) \r\n\r\n     npx react-native init AwesomeProject --version 0.60.0\r\n\r\n","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>I think this problem is only in the newer version (0.61) I had the same issue and I just used the older version  (0.60.0) </p>\n\n<pre><code> npx react-native init AwesomeProject --version 0.60.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2181923,"reputation":845,"user_id":1931185,"display_name":"Kelton Temby"},"score":0,"creation_date":1578274183,"post_id":59507720,"comment_id":105375430,"body_markdown":"Installing from nodejs directly on MacOS also worked for me too, thank you! Doing brew installs, even with the uninstall and re-linking steps did not work.  Suggest framing your answer to highlight the nodejs download directly, and then having the workaround below.","body":"Installing from nodejs directly on MacOS also worked for me too, thank you! Doing brew installs, even with the uninstall and re-linking steps did not work.  Suggest framing your answer to highlight the nodejs download directly, and then having the workaround below."},{"owner":{"account_id":2181923,"reputation":845,"user_id":1931185,"display_name":"Kelton Temby"},"score":2,"creation_date":1578275189,"post_id":59507720,"comment_id":105375620,"body_markdown":"Turned out I still had the problem.  The workaround helped me see a tiny syntax error in my `android/app/src/main/AndroidManifest.xml` file.  With that now fixed, I was able to turn the other lines back on.","body":"Turned out I still had the problem.  The workaround helped me see a tiny syntax error in my <code>android&#47;app&#47;src&#47;main&#47;AndroidManifest.xml</code> file.  With that now fixed, I was able to turn the other lines back on."},{"owner":{"account_id":8570757,"reputation":2614,"user_id":6421759,"accept_rate":57,"display_name":"Faustino Gagneten"},"score":1,"creation_date":1578275373,"post_id":59507720,"comment_id":105375661,"body_markdown":"Thanks for sharing. I&#39;ll update the answer to make it more clear!","body":"Thanks for sharing. I&#39;ll update the answer to make it more clear!"},{"owner":{"account_id":8570757,"reputation":2614,"user_id":6421759,"accept_rate":57,"display_name":"Faustino Gagneten"},"score":0,"creation_date":1578429148,"post_id":59507720,"comment_id":105433581,"body_markdown":"@Kelton.Temby, you can edit my answer to make it more clear for other users as you mentioned.","body":"@Kelton.Temby, you can edit my answer to make it more clear for other users as you mentioned."},{"owner":{"account_id":1776686,"reputation":91,"user_id":1620351,"display_name":"Justice Mba"},"score":0,"creation_date":1670032174,"post_id":59507720,"comment_id":131785224,"body_markdown":"Solution 1 works. But what could be the side effect? What could go wrong? I imagine that removing that line could cause some issues. What does that line even do?","body":"Solution 1 works. But what could be the side effect? What could go wrong? I imagine that removing that line could cause some issues. What does that line even do?"},{"owner":{"account_id":1776686,"reputation":91,"user_id":1620351,"display_name":"Justice Mba"},"score":0,"creation_date":1670079470,"post_id":59507720,"comment_id":131791871,"body_markdown":"Okay, I figured it. Solution 1 breaks auto-linking.\nhttps://github.com/react-native-community/cli/blob/main/docs/autolinking.md","body":"Okay, I figured it. Solution 1 breaks auto-linking. <a href=\"https://github.com/react-native-community/cli/blob/main/docs/autolinking.md\" rel=\"nofollow noreferrer\">github.com/react-native-community/cli/blob/main/docs/&hellip;</a>"},{"owner":{"account_id":8570757,"reputation":2614,"user_id":6421759,"accept_rate":57,"display_name":"Faustino Gagneten"},"score":0,"creation_date":1670162870,"post_id":59507720,"comment_id":131806170,"body_markdown":"As I said in the comment,&quot;After that, run again npx react-native run-android the console will display the real error, fix the error and put back the lines you had removed.&quot;\nRemoving the line is just to see the real error, then you should put that line back when fix the real issue","body":"As I said in the comment,&quot;After that, run again npx react-native run-android the console will display the real error, fix the error and put back the lines you had removed.&quot; Removing the line is just to see the real error, then you should put that line back when fix the real issue"}],"tags":[],"owner":{"account_id":8570757,"reputation":2614,"user_id":6421759,"accept_rate":57,"display_name":"Faustino Gagneten"},"comment_count":7,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1583936696,"creation_date":1577501074,"answer_id":59507720,"question_id":58952564,"body_markdown":"**SOLUTION 1** (worked for me)\r\n\r\nThe solution for me was removing the following line\r\n\r\n    apply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\n\r\nBe sure to remove it everywhere. I had this line in **build.gradle (app)** and also in **settings.gradle**.\r\n\r\nAfter that, run again **npx react-native run-android** the console will display the real error, fix the error and put back the lines you had removed.\r\n\r\nIn my case the error happened because I have been using an older Node version and the second time It happened I needed to sync my project again\r\n\r\n----------------\r\n**SOLUTION 2**\r\n\r\nDelete the files it was finding error as &quot;The current character read is &#39;E&#39; with an int value of 69&quot;\r\n\r\nDeleting \r\n\r\n    app\\build\\intermediates\\signing_config\\debug\\out\\signing-config.json\r\n\r\nworked for others too.\r\n\r\n----------------\r\n**SOLUTION 3**\r\n\r\nUpdate the [@react-native-community/cli][1] to the latest version.\r\n\r\n**Good coding!**\r\n\r\n\r\n  [1]: https://github.com/react-native-community/cli#updating-the-cli","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p><strong>SOLUTION 1</strong> (worked for me)</p>\n\n<p>The solution for me was removing the following line</p>\n\n<pre><code>apply from: file(\"../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle\"); applyNativeModulesAppBuildGradle(project)\n</code></pre>\n\n<p>Be sure to remove it everywhere. I had this line in <strong>build.gradle (app)</strong> and also in <strong>settings.gradle</strong>.</p>\n\n<p>After that, run again <strong>npx react-native run-android</strong> the console will display the real error, fix the error and put back the lines you had removed.</p>\n\n<p>In my case the error happened because I have been using an older Node version and the second time It happened I needed to sync my project again</p>\n\n<hr>\n\n<p><strong>SOLUTION 2</strong></p>\n\n<p>Delete the files it was finding error as \"The current character read is 'E' with an int value of 69\"</p>\n\n<p>Deleting </p>\n\n<pre><code>app\\build\\intermediates\\signing_config\\debug\\out\\signing-config.json\n</code></pre>\n\n<p>worked for others too.</p>\n\n<hr>\n\n<p><strong>SOLUTION 3</strong></p>\n\n<p>Update the <a href=\"https://github.com/react-native-community/cli#updating-the-cli\" rel=\"noreferrer\">@react-native-community/cli</a> to the latest version.</p>\n\n<p><strong>Good coding!</strong></p>\n"},{"tags":[],"owner":{"account_id":9622515,"reputation":124,"user_id":7143246,"display_name":"lucas augustus"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1672727984,"creation_date":1580334689,"answer_id":59976133,"question_id":58952564,"body_markdown":"Just removed the build folder inside android and go to android folder and then in powershell typed `./gradlew clean` and then  `cd..` =&gt; `npx react-native run-android`","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Just removed the build folder inside android and go to android folder and then in powershell typed <code>./gradlew clean</code> and then  <code>cd..</code> =&gt; <code>npx react-native run-android</code></p>\n"},{"comments":[{"owner":{"account_id":7576175,"reputation":661,"user_id":5748481,"display_name":"Shivam"},"score":0,"creation_date":1590748246,"post_id":60165998,"comment_id":109804297,"body_markdown":"damn man I copy pasted it from some website in my xml and i didn&#39;t notice thanks a lot","body":"damn man I copy pasted it from some website in my xml and i didn&#39;t notice thanks a lot"}],"tags":[],"owner":{"account_id":1696023,"reputation":360,"user_id":1557383,"accept_rate":50,"display_name":"vinny"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581414478,"creation_date":1581414478,"answer_id":60165998,"question_id":58952564,"body_markdown":"Please ensure the AndroidManifest.xml data is in proper quotes &quot;&quot; not . This usually happens when we are configuring the firebase and copy pasting the dependencies.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Please ensure the AndroidManifest.xml data is in proper quotes \"\" not . This usually happens when we are configuring the firebase and copy pasting the dependencies.</p>\n"},{"comments":[{"owner":{"account_id":12860756,"reputation":381,"user_id":9302583,"display_name":"Aman Deep"},"score":0,"creation_date":1672312296,"post_id":62145909,"comment_id":132264395,"body_markdown":"just npm install worked for me.","body":"just npm install worked for me."}],"tags":[],"owner":{"account_id":3157152,"reputation":1259,"user_id":2669306,"display_name":"k26dr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591078456,"creation_date":1591078456,"answer_id":62145909,"question_id":58952564,"body_markdown":"Deleting the `node_modules` folder and running `npm install` again worked for me","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting the <code>node_modules</code> folder and running <code>npm install</code> again worked for me</p>\n"},{"tags":[],"owner":{"account_id":18441605,"reputation":11,"user_id":13434093,"display_name":"Pawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591285560,"creation_date":1591283324,"answer_id":62197983,"question_id":58952564,"body_markdown":"Follow the steps below in project folder\r\n\r\n1. `cd android`\r\n2.  `./gradlew clean`\r\n3. `cd ..`\r\n4. `npm install`\r\n5. `react-native run-android`","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Follow the steps below in project folder</p>\n\n<ol>\n<li><code>cd android</code></li>\n<li><code>./gradlew clean</code></li>\n<li><code>cd ..</code></li>\n<li><code>npm install</code></li>\n<li><code>react-native run-android</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11978186,"reputation":957,"user_id":8764754,"display_name":"Moses Gitau "},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592285591,"creation_date":1592285591,"answer_id":62401542,"question_id":58952564,"body_markdown":"Deleting `android/app/release` worked for me.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting <code>android/app/release</code> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7217470,"reputation":61,"user_id":5509360,"display_name":"Shawon Barua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593945900,"creation_date":1593945900,"answer_id":62739653,"question_id":58952564,"body_markdown":"At first, you should try closing the emulator. In windows, when I tried to build with an emulator running this error occurred.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>At first, you should try closing the emulator. In windows, when I tried to build with an emulator running this error occurred.</p>\n"},{"tags":[],"owner":{"account_id":18693912,"reputation":693,"user_id":13627661,"display_name":"Mitesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612866117,"creation_date":1612866117,"answer_id":66117027,"question_id":58952564,"body_markdown":"Maybe your npm (node) server is starting.\r\nif the server is starting close it.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Maybe your npm (node) server is starting.\nif the server is starting close it.</p>\n"},{"tags":[],"owner":{"account_id":17381279,"reputation":99,"user_id":12593437,"display_name":"ductridev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624347383,"creation_date":1624347383,"answer_id":68079352,"question_id":58952564,"body_markdown":"Deleting `node_modules` folder and running `npm install` again, it work for me!","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Deleting <code>node_modules</code> folder and running <code>npm install</code> again, it work for me!</p>\n"},{"comments":[{"owner":{"account_id":54655,"reputation":374,"user_id":163589,"accept_rate":40,"display_name":"Zaheer"},"score":0,"creation_date":1662131428,"post_id":68364688,"comment_id":129942608,"body_markdown":"Thank you! that was the issue, used `:` instead of `=` in manifest","body":"Thank you! that was the issue, used <code>:</code> instead of <code>=</code> in manifest"}],"tags":[],"owner":{"account_id":19350964,"reputation":11,"user_id":14148408,"display_name":"Payyavula Balanagaraju"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626234554,"creation_date":1626187714,"answer_id":68364688,"question_id":58952564,"body_markdown":"Check your `androidmanifest.xml` there are some issue will be there in that file..\r\n \r\nIn my case, I edited my `androidmanifest.xml` that&#39;s why I am getting that error and resolved that error by placing before edited code of `androidmanifest.xml`.\r\n\r\nthank you:)","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Check your <code>androidmanifest.xml</code> there are some issue will be there in that file..</p>\n<p>In my case, I edited my <code>androidmanifest.xml</code> that's why I am getting that error and resolved that error by placing before edited code of <code>androidmanifest.xml</code>.</p>\n<p>thank you:)</p>\n"},{"tags":[],"owner":{"account_id":10786,"reputation":18872,"user_id":20520,"accept_rate":89,"display_name":"Diomidis Spinellis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633544220,"creation_date":1633544220,"answer_id":69470778,"question_id":58952564,"body_markdown":"For me, under Cygwin, the problem turned out to be a symbolic link named `app` in the application&#39;s top level directory (above `android`, beside `node_modules`), which was pointing to the full path where it was residing (e.g. `/cygdrive/c/files/app`). It got created around the time I started the build. After deleting it, the problem was solved.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>For me, under Cygwin, the problem turned out to be a symbolic link named <code>app</code> in the application's top level directory (above <code>android</code>, beside <code>node_modules</code>), which was pointing to the full path where it was residing (e.g. <code>/cygdrive/c/files/app</code>). It got created around the time I started the build. After deleting it, the problem was solved.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647172988,"post_id":71456419,"comment_id":126299618,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71456419/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":2263440,"reputation":3638,"user_id":1992866,"display_name":"gildniy"},"score":0,"creation_date":1668353392,"post_id":71456419,"comment_id":131379415,"body_markdown":"Wow, this one worked for me as well!","body":"Wow, this one worked for me as well!"}],"tags":[],"owner":{"account_id":12215683,"reputation":598,"user_id":8916217,"display_name":"Sher Mi"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1647171908,"creation_date":1647171908,"answer_id":71456419,"question_id":58952564,"body_markdown":"That worked for me:\r\nInside my_flavor/AndroidManifest.xml, inside manifest tag just add package=&quot;com.my_package_name&quot;:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.my_package_name&quot; // &lt;&lt;added\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission\r\n...\r\n&lt;/manifest&gt;\r\n\r\n```","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>That worked for me:\nInside my_flavor/AndroidManifest.xml, inside manifest tag just add package=&quot;com.my_package_name&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.my_package_name&quot; // &lt;&lt;added\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission\n...\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11086384,"reputation":1,"user_id":8139924,"display_name":"Rog&#233;rio do Carmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669299474,"creation_date":1669299435,"answer_id":74562166,"question_id":58952564,"body_markdown":"For the problem was that my AndroidManifest had erros. There were two &quot;aplication&quot; tags. By fixing the Manifest I was able to solved this issue.","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>For the problem was that my AndroidManifest had erros. There were two &quot;aplication&quot; tags. By fixing the Manifest I was able to solved this issue.</p>\n"}],"owner":{"account_id":15724293,"reputation":792,"user_id":11346397,"display_name":"yashatreya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54999,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":59507720,"answer_count":14,"score":27,"last_activity_date":1672727984,"creation_date":1574247039,"question_id":58952564,"body_markdown":"Whenever I run **react-native run-android** while keeping the emulator running, I get this error. **react-native run-ios** wroks completely fine.\r\n```\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n:ReactNative:Failed to parse React Native CLI configuration: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\r\n\r\nThe current character read is &#39;E&#39; with an int value of 69\r\nUnable to determine the current character, it is not a string, number, array, or object\r\nline number 1\r\nindex number 0\r\nError: Invalid attribute nameLine: 16Column: 18Char: .    at error (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:651:10)    at strictFail (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:677:7)    at SAXParser.write (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:1313:13)    at new XmlDocument (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/xmldoc/lib/xmldoc.js:261:15)    at readManifest (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/readManifest.js:38:10)    at Object.projectConfig (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/index.js:59:46)    at Object.get project [as project] (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/tools/config/index.js:114:50)    at /Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:452    at Array.forEach (&lt;anonymous&gt;)    at _objectSpread (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:392)\r\n^\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/native_modules.gradle&#39; line: 201\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Failed to parse React Native CLI configuration. Expected running &#39;npx --quiet --no-install react-native config&#39; command from &#39;/Users/yashatreya/Desktop/Realyze/Realyze&#39; directory to output valid JSON, but it didn&#39;t. This may be caused by npx resolving to a legacy global react-native binary. Please make sure to uninstall any global &#39;react-native&#39; binaries: &#39;npm uninstall -g react-native react-native-cli&#39; and try again\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n```\r\nAs indicated in the error message, I tried running `npm uninstall -g react-native react-native-cli` but it didnt work.\r\n\r\nInfo about my environment:\r\n```\r\nSystem:\r\n    OS: macOS 10.15\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-7360U CPU @ 2.30GHz\r\n    Memory: 29.68 MB / 8.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 12.13.0 - /usr/local/bin/node\r\n    Yarn: 1.19.1 - /usr/local/bin/yarn\r\n    npm: 6.12.0 - /usr/local/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  SDKs:\r\n    iOS SDK:\r\n      Platforms: iOS 13.0, DriverKit 19.0, macOS 10.15, tvOS 13.0, watchOS 6.0\r\n  IDEs:\r\n    Android Studio: 3.5 AI-191.8026.42.35.5977832\r\n    Xcode: 11.0/11A420a - /usr/bin/xcodebuild\r\n  npmPackages:\r\n    react: 16.9.0 =&gt; 16.9.0 \r\n    react-native: ^0.61.4 =&gt; 0.61.4 \r\n  npmGlobalPackages:\r\n    react-native-cli: 2.0.1\r\n```\r\nandroid/app/build.gradle below:\r\n\r\n```\r\napply plugin: &quot;com.android.application&quot;\r\n\r\nimport com.android.build.OutputFile\r\nproject.ext.react = [\r\n    entryFile: &quot;index.js&quot;,\r\n    enableHermes: false,  // clean and rebuild if changing\r\n]\r\n\r\napply from: &quot;../../node_modules/react-native/react.gradle&quot;\r\n\r\ndef enableSeparateBuildPerCPUArchitecture = false\r\ndef enableProguardInReleaseBuilds = false\r\n\r\ndef jscFlavor = &#39;org.webkit:android-jsc:+&#39; \r\n\r\ndef enableHermes = project.ext.react.get(&quot;enableHermes&quot;, false);\r\n\r\nandroid {\r\n    compileSdkVersion rootProject.ext.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.realyze&quot;\r\n        minSdkVersion 21 \r\n        targetSdkVersion rootProject.ext.targetSdkVersion\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n    }\r\n    // rootProject.ext.minSdkVersion\r\n    splits {\r\n        abi {\r\n            reset()\r\n            enable enableSeparateBuildPerCPUArchitecture\r\n            universalApk false  // If true, also generate a universal APK\r\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n        }\r\n    }\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n        release {\r\n            // Caution! In production, you need to generate your own keystore file.\r\n            // see https://facebook.github.io/react-native/docs/signed-apk-android.\r\n            signingConfig signingConfigs.debug\r\n            minifyEnabled enableProguardInReleaseBuilds\r\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n        }\r\n    }\r\n    // applicationVariants are e.g. debug, release\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.each { output -&gt;\r\n            // For each separate APK per architecture, set a unique version code as described here:\r\n            // https://developer.android.com/studio/build/configure-apk-splits.html\r\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n            def abi = output.getFilter(OutputFile.ABI)\r\n            if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                output.versionCodeOverride =\r\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation project(&#39;:react-native-push-notification&#39;)\r\n    implementation project(&#39;:react-native-sound&#39;)\r\n    implementation project(&#39;:react-native-audio&#39;)\r\n    implementation &#39;com.android.support:multidex:2.0.1&#39;\r\n    implementation project(&#39;:react-native-gesture-handler&#39;)\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0-rc01&#39;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha02&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:19.1.0&#39;\r\n    implementation project(path: &quot;:@react-native-firebase_auth&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_messaging&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_database&quot;)\r\n    implementation project(&#39;:react-native-datetimepicker&#39;)\r\n    implementation project(path: &quot;:@react-native-firebase_firestore&quot;)\r\n    implementation project(path: &quot;:@react-native-firebase_functions&quot;)\r\n}\r\n\r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n// }\r\n\r\n// Run this once to be able to run the application with BUCK\r\n// puts all compile dependencies into folder libs for BUCK to use\r\ntask copyDownloadableDepsToLibs(type: Copy) {\r\n    from configurations.compile\r\n    into &#39;libs&#39;\r\n}\r\n\r\napply from: file(&quot;../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesAppBuildGradle(project)\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\nandroid/build.gradle below : \r\n\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;28.0.3&quot;\r\n        minSdkVersion = 16\r\n        compileSdkVersion = 28\r\n        targetSdkVersion = 28\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:3.4.2&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}\r\n```\r\nInitially I was getting this error: https://stackoverflow.com/questions/58892712/react-native-build-error-could-not-find-method-implementation-for-arguments but now I am getting the above.\r\n","title":"Error: Unable to determine the current character, it is not a string, number, array, or object in react-native for android","body":"<p>Whenever I run <strong>react-native run-android</strong> while keeping the emulator running, I get this error. <strong>react-native run-ios</strong> wroks completely fine.</p>\n\n<pre><code>Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n:ReactNative:Failed to parse React Native CLI configuration: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\n\nThe current character read is 'E' with an int value of 69\nUnable to determine the current character, it is not a string, number, array, or object\nline number 1\nindex number 0\nError: Invalid attribute nameLine: 16Column: 18Char: .    at error (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:651:10)    at strictFail (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:677:7)    at SAXParser.write (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/sax/lib/sax.js:1313:13)    at new XmlDocument (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/xmldoc/lib/xmldoc.js:261:15)    at readManifest (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/readManifest.js:38:10)    at Object.projectConfig (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/build/config/index.js:59:46)    at Object.get project [as project] (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/tools/config/index.js:114:50)    at /Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:452    at Array.forEach (&lt;anonymous&gt;)    at _objectSpread (/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/react-native/node_modules/@react-native-community/cli/build/commands/config/config.js:8:392)\n^\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/Users/yashatreya/Desktop/Realyze/Realyze/node_modules/@react-native-community/cli-platform-android/native_modules.gradle' line: 201\n\n* What went wrong:\nA problem occurred evaluating script.\n&gt; Failed to parse React Native CLI configuration. Expected running 'npx --quiet --no-install react-native config' command from '/Users/yashatreya/Desktop/Realyze/Realyze' directory to output valid JSON, but it didn't. This may be caused by npx resolving to a legacy global react-native binary. Please make sure to uninstall any global 'react-native' binaries: 'npm uninstall -g react-native react-native-cli' and try again\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\n</code></pre>\n\n<p>As indicated in the error message, I tried running <code>npm uninstall -g react-native react-native-cli</code> but it didnt work.</p>\n\n<p>Info about my environment:</p>\n\n<pre><code>System:\n    OS: macOS 10.15\n    CPU: (4) x64 Intel(R) Core(TM) i5-7360U CPU @ 2.30GHz\n    Memory: 29.68 MB / 8.00 GB\n    Shell: 3.2.57 - /bin/bash\n  Binaries:\n    Node: 12.13.0 - /usr/local/bin/node\n    Yarn: 1.19.1 - /usr/local/bin/yarn\n    npm: 6.12.0 - /usr/local/bin/npm\n    Watchman: 4.9.0 - /usr/local/bin/watchman\n  SDKs:\n    iOS SDK:\n      Platforms: iOS 13.0, DriverKit 19.0, macOS 10.15, tvOS 13.0, watchOS 6.0\n  IDEs:\n    Android Studio: 3.5 AI-191.8026.42.35.5977832\n    Xcode: 11.0/11A420a - /usr/bin/xcodebuild\n  npmPackages:\n    react: 16.9.0 =&gt; 16.9.0 \n    react-native: ^0.61.4 =&gt; 0.61.4 \n  npmGlobalPackages:\n    react-native-cli: 2.0.1\n</code></pre>\n\n<p>android/app/build.gradle below:</p>\n\n<pre><code>apply plugin: \"com.android.application\"\n\nimport com.android.build.OutputFile\nproject.ext.react = [\n    entryFile: \"index.js\",\n    enableHermes: false,  // clean and rebuild if changing\n]\n\napply from: \"../../node_modules/react-native/react.gradle\"\n\ndef enableSeparateBuildPerCPUArchitecture = false\ndef enableProguardInReleaseBuilds = false\n\ndef jscFlavor = 'org.webkit:android-jsc:+' \n\ndef enableHermes = project.ext.react.get(\"enableHermes\", false);\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId \"com.realyze\"\n        minSdkVersion 21 \n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n\n    }\n    // rootProject.ext.minSdkVersion\n    splits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include \"armeabi-v7a\", \"x86\", \"arm64-v8a\", \"x86_64\"\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            // Caution! In production, you need to generate your own keystore file.\n            // see https://facebook.github.io/react-native/docs/signed-apk-android.\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n        }\n    }\n    // applicationVariants are e.g. debug, release\n    applicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [\"armeabi-v7a\": 1, \"x86\": 2, \"arm64-v8a\": 3, \"x86_64\": 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n    }\n}\n\ndependencies {\n    implementation project(':react-native-push-notification')\n    implementation project(':react-native-sound')\n    implementation project(':react-native-audio')\n    implementation 'com.android.support:multidex:2.0.1'\n    implementation project(':react-native-gesture-handler')\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n    implementation \"com.facebook.react:react-native:+\"  // From node_modules\n    implementation 'androidx.appcompat:appcompat:1.1.0-rc01'\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha02'\n    implementation 'com.google.firebase:firebase-analytics:17.2.0'\n    implementation 'com.google.firebase:firebase-auth:19.1.0'\n    implementation project(path: \":@react-native-firebase_auth\")\n    implementation project(path: \":@react-native-firebase_messaging\")\n    implementation project(path: \":@react-native-firebase_database\")\n    implementation project(':react-native-datetimepicker')\n    implementation project(path: \":@react-native-firebase_firestore\")\n    implementation project(path: \":@react-native-firebase_functions\")\n}\n\n    if (enableHermes) {\n        def hermesPath = \"../../node_modules/hermes-engine/android/\";\n        debugImplementation files(hermesPath + \"hermes-debug.aar\")\n        releaseImplementation files(hermesPath + \"hermes-release.aar\")\n    } else {\n        implementation jscFlavor\n    }\n// }\n\n// Run this once to be able to run the application with BUCK\n// puts all compile dependencies into folder libs for BUCK to use\ntask copyDownloadableDepsToLibs(type: Copy) {\n    from configurations.compile\n    into 'libs'\n}\n\napply from: file(\"../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle\"); applyNativeModulesAppBuildGradle(project)\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>android/build.gradle below : </p>\n\n<pre><code>\nbuildscript {\n    ext {\n        buildToolsVersion = \"28.0.3\"\n        minSdkVersion = 16\n        compileSdkVersion = 28\n        targetSdkVersion = 28\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:3.4.2\"\n        classpath 'com.google.gms:google-services:4.3.2'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(\"$rootDir/../node_modules/react-native/android\")\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(\"$rootDir/../node_modules/jsc-android/dist\")\n        }\n\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n\n<p>Initially I was getting this error: <a href=\"https://stackoverflow.com/questions/58892712/react-native-build-error-could-not-find-method-implementation-for-arguments\">react-native build error: Could not find method implementation() for arguments [jscFlavor] on project &#39;:app&#39; of type org.gradle.api.Project</a> but now I am getting the above.</p>\n"},{"tags":["java","spring-boot","optimizely","featuretoggle"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1672728184,"post_id":74989780,"comment_id":132334728,"body_markdown":"It&#39;s not clear what are you trying to achieve. What exactly is an audience?","body":"It&#39;s not clear what are you trying to achieve. What exactly is an audience?"},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1672728199,"post_id":74989780,"comment_id":132334730,"body_markdown":"What you tried so far","body":"What you tried so far"},{"owner":{"account_id":7702276,"reputation":147,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"score":0,"creation_date":1672754676,"post_id":74989780,"comment_id":132342496,"body_markdown":"@Pavel https://docs.developers.optimizely.com/full-stack/docs/target-audiences","body":"@Pavel <a href=\"https://docs.developers.optimizely.com/full-stack/docs/target-audiences\" rel=\"nofollow noreferrer\">docs.developers.optimizely.com/full-stack/docs/target-audien&zwnj;&#8203;ces</a>"}],"owner":{"account_id":7702276,"reputation":147,"user_id":6244382,"accept_rate":80,"display_name":"Sia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672727843,"creation_date":1672727843,"question_id":74989780,"body_markdown":"There is a requirement for updating audiences, we searched a lot, and apparently, there is no such feature in the java SDK.\r\n\r\nThe requirement is that there is a micro-service that notifies us to include a new audience in an already existing feature flag (we want to roll out a feature in our backends by cities) and we need to add the new audience programmatically to the audiences whenever the other micro-service tell us. This is not an A/B test or an experiment it is actually a rollout plan.\r\nHow should we achieve this?","title":"Updating Audiences in the Optimizely using the SDK","body":"<p>There is a requirement for updating audiences, we searched a lot, and apparently, there is no such feature in the java SDK.</p>\n<p>The requirement is that there is a micro-service that notifies us to include a new audience in an already existing feature flag (we want to roll out a feature in our backends by cities) and we need to add the new audience programmatically to the audiences whenever the other micro-service tell us. This is not an A/B test or an experiment it is actually a rollout plan.\nHow should we achieve this?</p>\n"},{"tags":["java","flutter","dart","crash"],"comments":[{"owner":{"account_id":16737430,"reputation":2604,"user_id":12098106,"display_name":"Dabbel"},"score":0,"creation_date":1658788542,"post_id":72999960,"comment_id":129134326,"body_markdown":"This is the relevant issue: https://github.com/flutter/flutter/issues/105903","body":"This is the relevant issue: <a href=\"https://github.com/flutter/flutter/issues/105903\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/105903</a>"}],"answers":[{"tags":[],"owner":{"account_id":12323039,"reputation":161,"user_id":8991875,"display_name":"Carlton Foster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659007760,"creation_date":1659007346,"answer_id":73152046,"question_id":72999960,"body_markdown":"@NdegwaJulius Thank you. This fixed my issue! You don&#39;t even have to add ndk filter.\r\nDo the following in order:\r\n\r\n1) flutter channel beta\r\n2) flutter upgrade 3.1.0\r\n3) flutter clean\r\n4) flutter build appbundle --release\r\n\r\nNOTE:\r\ndefaultConfig {\r\n\r\napplicationId &quot;com.company.name&quot;\r\n\r\nminSdkVersion 21\r\n\r\ntargetSdkVersion 31\r\n\r\nversionCode flutterVersionCode.toInteger()\r\n\r\nversionName flutterVersionName\r\n\r\nmultiDexEnabled true\r\n\r\n}","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>@NdegwaJulius Thank you. This fixed my issue! You don't even have to add ndk filter.\nDo the following in order:</p>\n<ol>\n<li>flutter channel beta</li>\n<li>flutter upgrade 3.1.0</li>\n<li>flutter clean</li>\n<li>flutter build appbundle --release</li>\n</ol>\n<p>NOTE:\ndefaultConfig {</p>\n<p>applicationId &quot;com.company.name&quot;</p>\n<p>minSdkVersion 21</p>\n<p>targetSdkVersion 31</p>\n<p>versionCode flutterVersionCode.toInteger()</p>\n<p>versionName flutterVersionName</p>\n<p>multiDexEnabled true</p>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":8290076,"reputation":12934,"user_id":6305235,"accept_rate":0,"display_name":"David Miguel"},"score":0,"creation_date":1679478481,"post_id":74989772,"comment_id":133727764,"body_markdown":"Adding the `abiFilters` reduced significantly the number of occurrences (I don&#39;t get any crash from any of these devices anymore: GCE X86 Phone, Pixel 3a, OnePlus8Pro, Samsung Galaxy A70, Motorola One Vision, Huawei Enjoy 9s, Android SDK Built For X86). At the moment, the Nexus 5X seems to be the only outlier from whom I&#39;m still getting crashes.","body":"Adding the <code>abiFilters</code> reduced significantly the number of occurrences (I don&#39;t get any crash from any of these devices anymore: GCE X86 Phone, Pixel 3a, OnePlus8Pro, Samsung Galaxy A70, Motorola One Vision, Huawei Enjoy 9s, Android SDK Built For X86). At the moment, the Nexus 5X seems to be the only outlier from whom I&#39;m still getting crashes."}],"tags":[],"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672727799,"creation_date":1672727799,"answer_id":74989772,"question_id":72999960,"body_markdown":"I think you have a typo in your description of the `Google Pixel 2 (virtual)` device used by the playstore, as your `dalvik.system.PathClassLoader` shows various `x86` apk/libs in the path lists, and I&#39;ve also seen this myself in the Play Store, but that it shows `x86` for the ABI used by the virtual Pixel 2.\r\n\r\nBasically **the problem is that Flutter does not support the x86 (32 bit) architecture**: https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures, which stems in part from Dart compiler limitations (https://github.com/flutter/flutter/issues/9253). And even devices that try to do some sort of NDK Translation to run 64 bit apps on 32 bit devices may crash. Debug builds may work because Flutter &quot;supports running the app compiled just in time (JIT) on this architecture&quot;, which is probably what you experienced. **You can ignore this particular report and still publish your app.** But if the prelaunch crash report bothers people, you can also try explicitly adding `abiFilters` to your app&#39;s build.gradle restricting things as suggested in various more-or-less duplicate [issues such as this][1], so Play Store testing doesn&#39;t try to run on the old arch: \r\n```\r\nandroid {\r\n    defaultConfig {\r\n        ndk {\r\n           abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86_64&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor more info see https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921: \r\n\r\n&gt; Flutter does support x86 64 bit release builds compiled ahead of time\r\n&gt; (AOT).\r\n&gt; \r\n&gt; Flutter does NOT support x86 32 bit release builds compiled ahead of\r\n&gt; time, only supports running the app compiled just in time (JIT) on\r\n&gt; this architecture. This means, you cannot generate a Flutter release\r\n&gt; build targeting an x86 32 bit device, but you can still run debug\r\n&gt; builds on them.\r\n&gt; \r\n&gt; It is very important to mention that this issue is for x86 32 bits.\r\n&gt; x86 64 bit is perfectly fine.\r\n&gt; \r\n&gt; Thankfully, Android devices that run on an x86 32 bit CPUs are almost\r\n&gt; non-existent. However, Google Play uses an emulator image using x86 32\r\n&gt; bit architecture to perform the Pre-launch reports.\r\n&gt; \r\n&gt; The Android OS tries to run an x86 64 bit in an x86 32 bit device by\r\n&gt; doing a native-level translation, which eventually crashes.\r\n&gt; \r\n&gt; This issue does NOT prevent you from publishing your app, you can\r\n&gt; ignore the pre-launch report and publish your app to production.\r\n&gt; \r\n&gt; However, I don&#39;t believe Google Play is 100% at fault here. Instead,\r\n&gt; the issue is in the Android OS and their NDK Translation mechanism to\r\n&gt; run 64 bit apps on 32 bit devices, which is the root of the problem\r\n&gt; here.\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/32756#issuecomment-753464874","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>I think you have a typo in your description of the <code>Google Pixel 2 (virtual)</code> device used by the playstore, as your <code>dalvik.system.PathClassLoader</code> shows various <code>x86</code> apk/libs in the path lists, and I've also seen this myself in the Play Store, but that it shows <code>x86</code> for the ABI used by the virtual Pixel 2.</p>\n<p>Basically <strong>the problem is that Flutter does not support the x86 (32 bit) architecture</strong>: <a href=\"https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures\" rel=\"noreferrer\">https://docs.flutter.dev/deployment/android#what-are-the-supported-target-architectures</a>, which stems in part from Dart compiler limitations (<a href=\"https://github.com/flutter/flutter/issues/9253\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/9253</a>). And even devices that try to do some sort of NDK Translation to run 64 bit apps on 32 bit devices may crash. Debug builds may work because Flutter &quot;supports running the app compiled just in time (JIT) on this architecture&quot;, which is probably what you experienced. <strong>You can ignore this particular report and still publish your app.</strong> But if the prelaunch crash report bothers people, you can also try explicitly adding <code>abiFilters</code> to your app's build.gradle restricting things as suggested in various more-or-less duplicate <a href=\"https://github.com/flutter/flutter/issues/32756#issuecomment-753464874\" rel=\"noreferrer\">issues such as this</a>, so Play Store testing doesn't try to run on the old arch:</p>\n<pre><code>android {\n    defaultConfig {\n        ndk {\n           abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86_64'\n        }\n    }\n}\n</code></pre>\n<p>For more info see <a href=\"https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/37396#issuecomment-1207203921</a>:</p>\n<blockquote>\n<p>Flutter does support x86 64 bit release builds compiled ahead of time\n(AOT).</p>\n<p>Flutter does NOT support x86 32 bit release builds compiled ahead of\ntime, only supports running the app compiled just in time (JIT) on\nthis architecture. This means, you cannot generate a Flutter release\nbuild targeting an x86 32 bit device, but you can still run debug\nbuilds on them.</p>\n<p>It is very important to mention that this issue is for x86 32 bits.\nx86 64 bit is perfectly fine.</p>\n<p>Thankfully, Android devices that run on an x86 32 bit CPUs are almost\nnon-existent. However, Google Play uses an emulator image using x86 32\nbit architecture to perform the Pre-launch reports.</p>\n<p>The Android OS tries to run an x86 64 bit in an x86 32 bit device by\ndoing a native-level translation, which eventually crashes.</p>\n<p>This issue does NOT prevent you from publishing your app, you can\nignore the pre-launch report and publish your app to production.</p>\n<p>However, I don't believe Google Play is 100% at fault here. Instead,\nthe issue is in the Android OS and their NDK Translation mechanism to\nrun 64 bit apps on 32 bit devices, which is the root of the problem\nhere.</p>\n</blockquote>\n"}],"owner":{"account_id":12323039,"reputation":161,"user_id":8991875,"display_name":"Carlton Foster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672727799,"creation_date":1657922261,"question_id":72999960,"body_markdown":"I use VSCode to code my Flutter App. I deployed it to Google Play Store, but the pre-launch report shows that it is crashing on a special device:\r\nGoogle Pixel 2 (virtual), 1080x1920, Android 9 (SDK 28), armeabi, en_US\r\nI configured that device and tested it, and it did not crash.  I don&#39;t understand the report. I need help to relate the report with the Dart/Flutter code.  Here is the report. Please help!!\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.outafire.myevents, PID: 6669\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.outafire.myevents/com.outafire.myevents.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \tat android.os.Looper.loop(Looper.java:193)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:6669)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n    Caused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat x6.f.g(Unknown Source:457)\r\n    \tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\r\n    \tat io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\r\n    \tat io.flutter.embedding.android.e.G(Unknown Source:106)\r\n    \tat io.flutter.embedding.android.e.p(Unknown Source:7)\r\n    \tat io.flutter.embedding.android.d.onCreate(Unknown Source:13)\r\n    \tat android.app.Activity.performCreate(Activity.java:7136)\r\n    \tat android.app.Activity.performCreate(Activity.java:7127)\r\n    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n    \tat androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\r\n    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n    \t... 11 more\r\n    Caused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n    \tat x6.f.g(Unknown Source:28)\r\n    \t... 21 more\r\n    Caused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn&#39;t find &quot;libflutter.so&quot;\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1012)\r\n    \tat java.lang.System.loadLibrary(System.java:1669)\r\n    \tat io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\r\n    \tat x6.f$a.b(Unknown Source:18)\r\n    \tat x6.f$a.call(Unknown Source:0)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.lang.Thread.run(Thread.java:764)","title":"Please Interpret the Google Play Pre-launch Crashes and ANRs Report Details","body":"<p>I use VSCode to code my Flutter App. I deployed it to Google Play Store, but the pre-launch report shows that it is crashing on a special device:\nGoogle Pixel 2 (virtual), 1080x1920, Android 9 (SDK 28), armeabi, en_US\nI configured that device and tested it, and it did not crash.  I don't understand the report. I need help to relate the report with the Dart/Flutter code.  Here is the report. Please help!!</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.outafire.myevents, PID: 6669\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.outafire.myevents/com.outafire.myevents.MainActivity}: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nCaused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at x6.f.g(Unknown Source:457)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:184)\n    at io.flutter.embedding.engine.a.&lt;init&gt;(Unknown Source:12)\n    at io.flutter.embedding.android.e.G(Unknown Source:106)\n    at io.flutter.embedding.android.e.p(Unknown Source:7)\n    at io.flutter.embedding.android.d.onCreate(Unknown Source:13)\n    at android.app.Activity.performCreate(Activity.java:7136)\n    at android.app.Activity.performCreate(Activity.java:7127)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n    at androidx.test.runner.MonitoringInstrumentation.callActivityOnCreate(MonitoringInstrumentation.java:2)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n    ... 11 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n    at x6.f.g(Unknown Source:28)\n    ... 21 more\nCaused by: java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/framework/android.test.runner.jar&quot;, zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/system/framework/android.test.mock.jar&quot;, zip file &quot;/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk&quot;, zip file &quot;/data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/lib/x86, /data/app/androidx.test.tools.crawler-xZ2vnr4Jb8_kw2Er9oP3ag==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/base.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.en.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.x86.apk!/lib/x86, /data/app/com.outafire.myevents-dsiaYFQFA3lGhBlIANSrDQ==/split_config.xxhdpi.apk!/lib/x86, /system/lib, /system/vendor/lib]]] couldn't find &quot;libflutter.so&quot;\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1012)\n    at java.lang.System.loadLibrary(System.java:1669)\n    at io.flutter.embedding.engine.FlutterJNI.loadLibrary(Unknown Source:13)\n    at x6.f$a.b(Unknown Source:18)\n    at x6.f$a.call(Unknown Source:0)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1672059025,"post_id":74919432,"comment_id":132214107,"body_markdown":"You are trying to access some element after the browser closed, that&#39;s what the error says. Post your full code.","body":"You are trying to access some element after the browser closed, that&#39;s what the error says. Post your full code."}],"answers":[{"tags":[],"owner":{"account_id":26831533,"reputation":1,"user_id":20419423,"display_name":"rajeshs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672056680,"creation_date":1672056680,"answer_id":74920163,"question_id":74919432,"body_markdown":"Adding a throws declaration for InterruptedException is necessary. If that is already added, then the error could be caused by the flow of the script. Depending on the wait for 2 seconds, the element may not be available.","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>Adding a throws declaration for InterruptedException is necessary. If that is already added, then the error could be caused by the flow of the script. Depending on the wait for 2 seconds, the element may not be available.</p>\n"},{"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672727315,"creation_date":1672727315,"answer_id":74989730,"question_id":74919432,"body_markdown":"It may be happing but it we have implicit wait and explicit wait.. Lets use explicit wait instead of thread.sleep.\r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n    driver.get(&quot;&lt;ApplicationURL&gt;&quot;);\r\n    WebElement element = driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;));\r\n    wait..until(ExpectedConditions.visibilityOf(element));\r\n    element.click();\r\n","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>It may be happing but it we have implicit wait and explicit wait.. Lets use explicit wait instead of thread.sleep.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\ndriver.get(&quot;&lt;ApplicationURL&gt;&quot;);\nWebElement element = driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;));\nwait..until(ExpectedConditions.visibilityOf(element));\nelement.click();\n</code></pre>\n"}],"owner":{"account_id":3000434,"reputation":21,"user_id":2546036,"accept_rate":75,"display_name":"Vinay Sagar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672727315,"creation_date":1672050732,"question_id":74919432,"body_markdown":"It&#39;s a simple Selenium script where I am launching a URL and performing a couple of Click actions.\r\nWhen I put a Thread.sleep(2000) between any of these few steps, execution breaks and I get an exception as shown below.\r\n\r\nDec 26, 2022 3:55:35 PM org.openqa.selenium.support.ui.ExpectedConditions findElement\r\nWARNING: WebDriverException thrown by findElement(By.xpath: //button[text()=&#39;Continue&#39;])\r\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\r\nfrom unknown error: web view not found\r\n\r\nIf I remove the Thread.sleep step, Its proceeding forward.\r\nCan someone help me understand why is Thread.sleep causing this issue and how to resolve this ?\r\n\r\nBelow is the code:\r\n\r\n        WebDriverManager.chromedriver().setup();\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\toptions.addArguments(&quot;enable-automation&quot;);\r\n\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\t\toptions.addArguments(&quot;--disable-infobars&quot;);\r\n\t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t\toptions.addArguments(&quot;--disable-browser-side-navigation&quot;);\r\n\t\toptions.addArguments(&quot;--disable-gpu&quot;);\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\twait = new WebDriverWait(driver, 30)\r\n\t\t\r\n\t\tdriver.get(&quot;&lt;ApplicationURL&gt;&quot;);\r\n\t\tThread.sleep(2000);\r\n\t\tdriver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;)).click();\r\n\r\n\r\nObservation:\r\nThis issue is occurring when trying CHROME browser only and that too on MAC alone.\r\nOn Windows, this works fine.\r\nFYI, \r\nChrome browser version: 108.0.5359.124\r\nChromeDriver version: 108.0.5359.71\r\nMAC OS version : Monterey 12.6.2\r\nJava version : 1.8.0_352\r\nSelenium version : 3.11.0","title":"Adding a Thread.sleep in my Selenium scripts is breaking the execution","body":"<p>It's a simple Selenium script where I am launching a URL and performing a couple of Click actions.\nWhen I put a Thread.sleep(2000) between any of these few steps, execution breaks and I get an exception as shown below.</p>\n<p>Dec 26, 2022 3:55:35 PM org.openqa.selenium.support.ui.ExpectedConditions findElement\nWARNING: WebDriverException thrown by findElement(By.xpath: //button[text()='Continue'])\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\nfrom unknown error: web view not found</p>\n<p>If I remove the Thread.sleep step, Its proceeding forward.\nCan someone help me understand why is Thread.sleep causing this issue and how to resolve this ?</p>\n<p>Below is the code:</p>\n<pre><code>    WebDriverManager.chromedriver().setup();\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;start-maximized&quot;);\n    options.addArguments(&quot;enable-automation&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-infobars&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    options.addArguments(&quot;--disable-browser-side-navigation&quot;);\n    options.addArguments(&quot;--disable-gpu&quot;);\n    driver = new ChromeDriver(options);\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    wait = new WebDriverWait(driver, 30)\n    \n    driver.get(&quot;&lt;ApplicationURL&gt;&quot;);\n    Thread.sleep(2000);\n    driver.findElement(By.xpath(&quot;&lt;some button to click&gt;&quot;)).click();\n</code></pre>\n<p>Observation:\nThis issue is occurring when trying CHROME browser only and that too on MAC alone.\nOn Windows, this works fine.\nFYI,\nChrome browser version: 108.0.5359.124\nChromeDriver version: 108.0.5359.71\nMAC OS version : Monterey 12.6.2\nJava version : 1.8.0_352\nSelenium version : 3.11.0</p>\n"},{"tags":["java","xslt","apache-fop"],"comments":[{"owner":{"account_id":5103278,"reputation":7584,"user_id":4092205,"display_name":"Tony Graham"},"score":2,"creation_date":1668680616,"post_id":74465638,"comment_id":131466916,"body_markdown":"Can you add the FO markup corresponding to your sample image? For those of us that don&#39;t read Arabic, can you also fake an image of what it should look like?","body":"Can you add the FO markup corresponding to your sample image? For those of us that don&#39;t read Arabic, can you also fake an image of what it should look like?"},{"owner":{"account_id":5624664,"reputation":3721,"user_id":4453460,"display_name":"lfurini"},"score":0,"creation_date":1668694422,"post_id":74465638,"comment_id":131472238,"body_markdown":"I think the `lang=&quot;ar&quot;` attribute must be in the FO file, not in the configuration file.","body":"I think the <code>lang=&quot;ar&quot;</code> attribute must be in the FO file, not in the configuration file."}],"answers":[{"tags":[],"owner":{"account_id":9193288,"reputation":144,"user_id":6832970,"display_name":"mshehata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672727298,"creation_date":1672727298,"answer_id":74989727,"question_id":74465638,"body_markdown":"refrence to https://xmlgraphics.apache.org/fop/2.0/complexscripts.html\r\nIt was solved by adding script=&quot;arab&quot; to the root tag like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;fo:root script=&quot;arab&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"apache Fop separated arabic charcters","body":"<p>refrence to <a href=\"https://xmlgraphics.apache.org/fop/2.0/complexscripts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.0/complexscripts.html</a>\nIt was solved by adding script=&quot;arab&quot; to the root tag like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;fo:root script=\"arab\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9193288,"reputation":144,"user_id":6832970,"display_name":"mshehata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672727298,"creation_date":1668624160,"question_id":74465638,"body_markdown":"I am trying to generate PDF from xml using apache Fop,\r\nIt works fine with english but while i try to disply arabic text the characters are separated as shown in the Image\r\n\r\n[![enter image description here](https://i.stack.imgur.com/cg3bV.png)](https://i.stack.imgur.com/cg3bV.png)\r\n\r\n1- I tried with 2.1, 2.5 and latest stable apache Fop version  2.6 \r\n\r\n2- I embded the font in Fop config file \r\n\r\n3- I enabled complex-scripts\r\n\r\n4- I tried with different fonts \r\n\r\nbut it didn&#39;t solve the issue \r\nI attached Apache Fop configuration file below\r\n\r\n```\r\n&lt;fop version=&quot;1.0&quot;&gt;\r\n\t&lt;complex-scripts disabled=&quot;false&quot; /&gt;\r\n\t&lt;renderers lang=&quot;ar&quot;&gt;\r\n\t\t&lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n\t\t\t&lt;fonts&gt;\r\n\t\t\t\t&lt;font kerning=&quot;yes&quot; embed-url=&quot;src/main/resources/fonts/trado.ttf&quot; embedding-mode=&quot;auto&quot; encoding=&quot;UTF-8&quot;&gt;\r\n\t\t\t\t\t&lt;font-triplet name=&quot;trado-ar-font&quot; style=&quot;normal&quot; weight=&quot;normal&quot; /&gt;\r\n\t\t\t\t&lt;/font&gt;\r\n\t\t\t&lt;/fonts&gt;\r\n\t\t&lt;/renderer&gt;\r\n\t&lt;/renderers&gt;\r\n&lt;/fop&gt;\r\n```\r\nI also checked:\r\nhttps://stackoverflow.com/questions/49532386/xsl-fo-displaying-arabic-characters and \r\nhttps://stackoverflow.com/questions/65309548/fop-arabic-letter-spacing\r\n \r\nbut there is nothing worked with me \r\nappriciate any support please","title":"apache Fop separated arabic charcters","body":"<p>I am trying to generate PDF from xml using apache Fop,\nIt works fine with english but while i try to disply arabic text the characters are separated as shown in the Image</p>\n<p><a href=\"https://i.stack.imgur.com/cg3bV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cg3bV.png\" alt=\"enter image description here\" /></a></p>\n<p>1- I tried with 2.1, 2.5 and latest stable apache Fop version  2.6</p>\n<p>2- I embded the font in Fop config file</p>\n<p>3- I enabled complex-scripts</p>\n<p>4- I tried with different fonts</p>\n<p>but it didn't solve the issue\nI attached Apache Fop configuration file below</p>\n<pre><code>&lt;fop version=&quot;1.0&quot;&gt;\n    &lt;complex-scripts disabled=&quot;false&quot; /&gt;\n    &lt;renderers lang=&quot;ar&quot;&gt;\n        &lt;renderer mime=&quot;application/pdf&quot;&gt;\n            &lt;fonts&gt;\n                &lt;font kerning=&quot;yes&quot; embed-url=&quot;src/main/resources/fonts/trado.ttf&quot; embedding-mode=&quot;auto&quot; encoding=&quot;UTF-8&quot;&gt;\n                    &lt;font-triplet name=&quot;trado-ar-font&quot; style=&quot;normal&quot; weight=&quot;normal&quot; /&gt;\n                &lt;/font&gt;\n            &lt;/fonts&gt;\n        &lt;/renderer&gt;\n    &lt;/renderers&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>I also checked:\n<a href=\"https://stackoverflow.com/questions/49532386/xsl-fo-displaying-arabic-characters\">XSL-FO: displaying Arabic characters</a> and\n<a href=\"https://stackoverflow.com/questions/65309548/fop-arabic-letter-spacing\">FOP Arabic letter spacing</a></p>\n<p>but there is nothing worked with me\nappriciate any support please</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1672731199,"post_id":74989491,"comment_id":132335308,"body_markdown":"You clearly have 3 methods with the same name (and returning `void` from an `@Bean` method doesn&#39;t make sense). Looks like you took an old configuration class and tried to shoehorn that into the new Spring Security configuration.","body":"You clearly have 3 methods with the same name (and returning <code>void</code> from an <code>@Bean</code> method doesn&#39;t make sense). Looks like you took an old configuration class and tried to shoehorn that into the new Spring Security configuration."},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672785142,"post_id":74989491,"comment_id":132351411,"body_markdown":"@M.Deinum Thanks for the feedback! I am following an older tutorial, yes. In your opinion, where is the best place I can learn about the new configuration classes for authentication?","body":"@M.Deinum Thanks for the feedback! I am following an older tutorial, yes. In your opinion, where is the best place I can learn about the new configuration classes for authentication?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672817018,"post_id":74989491,"comment_id":132356143,"body_markdown":"The Spring Security documentation and blog posts around the 5.7 and 6.0 releases of Spring Security.","body":"The Spring Security documentation and blog posts around the 5.7 and 6.0 releases of Spring Security."}],"answers":[{"comments":[{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672786636,"post_id":74989657,"comment_id":132351729,"body_markdown":"Thank you for the suggestions! Am I supposed to change all of the configure() methods to securityOAuth2filter()? Also, am I supposed to make all methods return http.build()?","body":"Thank you for the suggestions! Am I supposed to change all of the configure() methods to securityOAuth2filter()? Also, am I supposed to make all methods return http.build()?"},{"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"score":0,"creation_date":1672817931,"post_id":74989657,"comment_id":132356353,"body_markdown":"@Sohaib to avoid the error in your question: use unique names for your beans, the name `configure` is used for something else inside spring. regarding OAuth: you should return `http.build()`.","body":"@Sohaib to avoid the error in your question: use unique names for your beans, the name <code>configure</code> is used for something else inside spring. regarding OAuth: you should return <code>http.build()</code>."}],"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672726642,"creation_date":1672726642,"answer_id":74989657,"question_id":74989491,"body_markdown":"In your `SecurityConfig.java`, I believe there are 2 problems:\r\n\r\n1. A bean with the name `configure` will almost certainly conflict with something. It should have a different name like `securityOAuth2filter`.\r\n1. You should return `http.build()` which is a `SecurityFilterChain` and not `void`.","title":"org.springframework.beans.factory.parsing.BeanDefinitionParsingException Error","body":"<p>In your <code>SecurityConfig.java</code>, I believe there are 2 problems:</p>\n<ol>\n<li>A bean with the name <code>configure</code> will almost certainly conflict with something. It should have a different name like <code>securityOAuth2filter</code>.</li>\n<li>You should return <code>http.build()</code> which is a <code>SecurityFilterChain</code> and not <code>void</code>.</li>\n</ol>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672726642,"creation_date":1672725230,"question_id":74989491,"body_markdown":"I am creating a project that functions like an ecommerce website, but I keep getting the error mentioned in the title. I assumed that the error was happening because I have three configure() methods in my SecurityConfig, so I tried making the method names unique, but that did not solve the issue. The following is the error I am getting, and after that is my code:\r\n\r\n````\r\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class &#39;SecurityConfig&#39; contains overloaded @Bean methods with name &#39;configure&#39;. Use unique method names for separate bean definitions (with individual conditions etc) or switch &#39;@Configuration.enforceUniqueMethods&#39; to &#39;false&#39;.\r\nOffending resource: class path resource [com/ecommerce/website/configuration/SecurityConfig.class]\r\n\tat org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClass.validate(ConfigurationClass.java:233) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.validate(ConfigurationClassParser.java:206) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:26) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n````\r\n\r\nMain class\r\n````\r\npackage com.ecommerce.website;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\nimport com.ecommerce.website.controller.AdminController;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n\r\n/**This is the main class. It allows the user to run the project */\r\n@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\r\n@ComponentScan\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nRole POJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.NotEmpty;\r\n\r\n//Class to represent a role\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id; \r\n\t\r\n\t@Column(nullable = false, unique = true)\r\n\t@NotEmpty\r\n\tprivate String name; \r\n\t\r\n    //Referencing users\r\n\t@ManyToMany(mappedBy = &quot;roles&quot;)\r\n\tprivate List&lt;User&gt; users;\r\n \r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\t\treturn users;\r\n\t}\r\n\r\n\tpublic void setUsers(List&lt;User&gt; users) {\r\n\t\tthis.users = users;\r\n\t}\r\n\t\r\n\t\r\n}\r\n````\r\n\r\nUser POJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.Email;\r\nimport jakarta.validation.constraints.NotEmpty;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\t\r\n\t//id for each user \r\n\t//The @GeneratedValue annotation is to configure the way of increment of the specified column (field)\r\n\t//GenerationType.AUTO picks an appropriate strategy for the particular database \r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id; \r\n\t\r\n\t//Field to hold first name \r\n\t//@NotEmpty means that the field cannot be null or empty\r\n\t@NotEmpty\r\n\t@Column(nullable = false)\r\n\tprivate String firstName;\r\n\t\r\n\tprivate String lastName; \r\n\t\r\n\t//Field to hold email \r\n\t//@Column maps to email column in table; it is not nullable and has to be unique \r\n\t//@NotEmpty means that the field cannot be null or empty\r\n\t//@Email shows message if email is invalid \r\n\t@Column(nullable = false, unique = true)\r\n\t@NotEmpty\r\n\t@Email(message = &quot;{errors.invalid_email}&quot;)\r\n\tprivate String email; \r\n\t\r\n\t//Field to hold password \r\n\tprivate String password;\r\n\t\r\n\t//Creating list to reference and hold roles (admin and user)\r\n\t//This is @ManyToMany because one user can have many roles and one role can have many users \r\n\t//Cascade applies the same operation to related entities\r\n\t\t//????CascadeType.MERGE says if entity is merged, related entity is also merged\r\n\t//Eager FetchType will receive all data \r\n\t//@JoinTable is used to reference join table, which provides mapping between two tables\r\n\t\t//It has foreign keys for each table to define the mapping relationship \r\n\t\t//In this case, &quot;user_role&quot; is the name of the join table\r\n\t\t//&quot;USER_ID&quot; and &quot;ROLE_ID&quot; refer to those columns in the join table\r\n\t\t//Application looks at above columns and uses info to find relationship between users and roles \r\n\t\t//We are defining relationship in User class, so Role is on the inverse/other side \r\n\t@ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n\t@JoinTable(\r\n\t\t\tname = &quot;user_role&quot;,\r\n\t\t\tjoinColumns = {@JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;ID&quot;)},\r\n\t\t\t\t\tinverseJoinColumns = {@JoinColumn (name = &quot;ROLE_ID&quot;, referencedColumnName = &quot;ID&quot;)}\r\n\t)\r\n\tprivate List&lt;Role&gt; roles;\r\n\t\r\n\t\r\n\t\r\n\tpublic User() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic User(User user) {\r\n\t\tsuper();\r\n\t\tthis.firstName = user.getFirstName();\r\n\t\tthis.lastName = user.getLastName();\r\n\t\tthis.email = user.getEmail();\r\n\t\tthis.password = user.getPassword();\r\n\t\tthis.roles = user.getRoles();\r\n\t}\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic List&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t} \r\n\t\r\n}\r\n````\r\n\r\n\r\nRoleRepository\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.ecommerce.website.model.Role;\r\n\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\r\n\r\n}\r\n````\r\n\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.domain.Example;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.ecommerce.website.model.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    //Method to find user by email (optional because user may not be found)\r\n\tOptional&lt;User&gt; findUserByEmail(String email); \r\n}\r\n````\r\n\r\nLoginController\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport com.ecommerce.website.repository.RoleRepository;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\n@Controller\r\npublic class LoginController {\r\n    \r\n    //Injecting dependencies \r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tRoleRepository roleRepository;\r\n\t\r\n    //Mappings to return login and register pages \r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String registerGet() {\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n}\r\n````\r\n\r\nCustomUserDetailService\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.CustomUserDetail;\r\nimport com.ecommerce.website.model.User;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\n@Service\r\npublic class CustomUserDetailService implements UserDetailsService {\r\n\r\n    //Injecting dependency \r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n    //Method to find a user by their email \r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\t\tOptional&lt;User&gt; user = userRepository.findUserByEmail(email);\r\n\t\tuser.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\t\treturn user.map(CustomUserDetail::new).get();\r\n\t}\r\n\r\n}\r\n````\r\n\r\nCustomUserDetail\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\n/**This class connects the User model with UserDetails, which provides core user information. \r\n * This class extends User so that it can use methods from that class like .getUsername() and .getPassword() */\r\npublic class CustomUserDetail extends User implements UserDetails {\r\n\t\r\n\t//Creating constructor to get username and password of user \r\n\tpublic CustomUserDetail(User user) {\r\n\t\t\r\n\t\t//Calling super() so that parent can pass in the user object\r\n\t\tsuper(user);\r\n\t}\r\n\r\n\t//This method returns the authorities (roles) that a user has \r\n\t//@return authorityList because a user can have multiple roles\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\t\r\n\t\t//List to hold users authorities (roles)\r\n\t\t\t//Holds type GrantedAuthority, which represents an authority granted to an Authentication object\r\n\t\tList&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t//Calling super to get each roles that a user has \r\n\t\t//Putting those roles into the list \r\n\t\t//Converting roles to SimpleGrantedAuthority so that they can be added to list\r\n\t\tsuper.getRoles().forEach(role -&gt; {\r\n\t\t\tauthorityList.add(new SimpleGrantedAuthority(role.getName()));\r\n\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn authorityList; \r\n\t\t\r\n\t}\r\n\r\n    //Method to get username and password\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.getEmail();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn super.getPassword();\r\n\t}\r\n\r\n    //More methods about user \r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n````\r\n\r\nSecurityConfig\r\n````\r\npackage com.ecommerce.website.configuration;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\nimport com.ecommerce.website.service.CustomUserDetailService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t\r\n\t//Injecting dependencies \r\n\t@Autowired\r\n\tGoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\r\n\t\r\n\t@Autowired\r\n\tCustomUserDetailService customUserDetailService;\r\n\t\r\n\t//Method to allow and restrict access for certain users \r\n    @Bean\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/shop/**&quot;, &quot;/register&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .failureUrl(&quot;/login?error=true&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .and()\r\n                .oauth2Login()\r\n                .loginPage(&quot;/login&quot;)\r\n                .successHandler(googleOAuth2SuccessHandler)\r\n                .and()\r\n                .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/login&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .and()\r\n                .exceptionHandling()\r\n                .and()\r\n                .csrf()\r\n                .disable();\r\n        \r\n        http.headers().frameOptions().disable();\r\n    }\r\n    \r\n    //Strong hashing function to encoder \r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder () {\r\n    \t\r\n    \treturn new BCryptPasswordEncoder();\r\n    }\r\n    \r\n    //Method for authentication \r\n    @Bean\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \tauth.userDetailsService(customUserDetailService);\r\n    }\r\n    \r\n    //Method that restricts the website from accessing certain folders \r\n    @Bean\r\n    protected void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().requestMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);   \r\n    }\r\n    \r\n}\r\n````\r\n\r\nGoogleOAuth2SuccessHandler\r\n````\r\npackage com.ecommerce.website.configuration;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.http.client.RedirectStrategy;\r\nimport org.springframework.security.web.DefaultRedirectStrategy;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.ecommerce.website.model.Role;\r\nimport com.ecommerce.website.model.User;\r\nimport com.ecommerce.website.repository.RoleRepository;\r\nimport com.ecommerce.website.repository.UserRepository;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n\t//Injecting dependencies \r\n\t@Autowired\r\n\tRoleRepository roleRepository;\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t//RedirectStrategy variable to redirect HTTP requests if needed \r\n\tprivate RedirectStrategy redirectStrategy = (RedirectStrategy) new DefaultRedirectStrategy();\r\n\r\n\t@Override\r\n\tpublic void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n\t\t\tAuthentication authentication) throws IOException, ServletException {\r\n\t\t\r\n\t\t//Token to represent OAuth2AuthenticationToken\r\n\t\tOAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication; \r\n\t\t\r\n\t\t//Getting email \r\n\t\tString email = token.getPrincipal().getAttributes().get(&quot;email&quot;).toString(); \r\n\t\t\r\n\t\t//If loop to find user by email \r\n\t\tif(userRepository.findUserByEmail(email).isPresent()) {\r\n\t\t\t\r\n\t\t}\r\n\t\t//Else block for if user is not found \r\n\t\telse {\r\n\t\t\t//Creating user, setting its info, and saving it \r\n\t\t\tUser user = new User();\r\n\t\t\tuser.setFirstName(token.getPrincipal().getAttributes().get(&quot;given_name&quot;).toString());\r\n\t\t\tuser.setLastName(token.getPrincipal().getAttributes().get(&quot;family_name&quot;).toString());\r\n\t\t\tuser.setEmail(email);\r\n\t\t\tList&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\t\t\troles.add(roleRepository.findById(2).get());\r\n\t\t\tuser.setRoles(roles);\r\n\t\t\tuserRepository.save(user);\r\n\t\t}\r\n\t\t\r\n\t\t//Redirecting HTTP request \r\n\t\t((DefaultRedirectStrategy) redirectStrategy).sendRedirect(httpServletRequest, httpServletResponse, &quot;/&quot;); \r\n\t}\r\n\t\r\n\t\r\n}\r\n````","title":"org.springframework.beans.factory.parsing.BeanDefinitionParsingException Error","body":"<p>I am creating a project that functions like an ecommerce website, but I keep getting the error mentioned in the title. I assumed that the error was happening because I have three configure() methods in my SecurityConfig, so I tried making the method names unique, but that did not solve the issue. The following is the error I am getting, and after that is my code:</p>\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'SecurityConfig' contains overloaded @Bean methods with name 'configure'. Use unique method names for separate bean definitions (with individual conditions etc) or switch '@Configuration.enforceUniqueMethods' to 'false'.\nOffending resource: class path resource [com/ecommerce/website/configuration/SecurityConfig.class]\n    at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClass.validate(ConfigurationClass.java:233) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassParser.validate(ConfigurationClassParser.java:206) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:26) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\n</code></pre>\n<p>Main class</p>\n<pre><code>package com.ecommerce.website;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport com.ecommerce.website.controller.AdminController;\nimport com.ecommerce.website.repository.CategoryRepository;\nimport com.ecommerce.website.service.CategoryService;\n\n\n/**This is the main class. It allows the user to run the project */\n@SpringBootApplication(exclude = { SecurityAutoConfiguration.class })\n@ComponentScan\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Role POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.List;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotEmpty;\n\n//Class to represent a role\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id; \n    \n    @Column(nullable = false, unique = true)\n    @NotEmpty\n    private String name; \n    \n    //Referencing users\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private List&lt;User&gt; users;\n \n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n    \n    \n}\n</code></pre>\n<p>User POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.List;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotEmpty;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    \n    //id for each user \n    //The @GeneratedValue annotation is to configure the way of increment of the specified column (field)\n    //GenerationType.AUTO picks an appropriate strategy for the particular database \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id; \n    \n    //Field to hold first name \n    //@NotEmpty means that the field cannot be null or empty\n    @NotEmpty\n    @Column(nullable = false)\n    private String firstName;\n    \n    private String lastName; \n    \n    //Field to hold email \n    //@Column maps to email column in table; it is not nullable and has to be unique \n    //@NotEmpty means that the field cannot be null or empty\n    //@Email shows message if email is invalid \n    @Column(nullable = false, unique = true)\n    @NotEmpty\n    @Email(message = &quot;{errors.invalid_email}&quot;)\n    private String email; \n    \n    //Field to hold password \n    private String password;\n    \n    //Creating list to reference and hold roles (admin and user)\n    //This is @ManyToMany because one user can have many roles and one role can have many users \n    //Cascade applies the same operation to related entities\n        //????CascadeType.MERGE says if entity is merged, related entity is also merged\n    //Eager FetchType will receive all data \n    //@JoinTable is used to reference join table, which provides mapping between two tables\n        //It has foreign keys for each table to define the mapping relationship \n        //In this case, &quot;user_role&quot; is the name of the join table\n        //&quot;USER_ID&quot; and &quot;ROLE_ID&quot; refer to those columns in the join table\n        //Application looks at above columns and uses info to find relationship between users and roles \n        //We are defining relationship in User class, so Role is on the inverse/other side \n    @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;user_role&quot;,\n            joinColumns = {@JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;ID&quot;)},\n                    inverseJoinColumns = {@JoinColumn (name = &quot;ROLE_ID&quot;, referencedColumnName = &quot;ID&quot;)}\n    )\n    private List&lt;Role&gt; roles;\n    \n    \n    \n    public User() {\n        \n    }\n    \n    public User(User user) {\n        super();\n        this.firstName = user.getFirstName();\n        this.lastName = user.getLastName();\n        this.email = user.getEmail();\n        this.password = user.getPassword();\n        this.roles = user.getRoles();\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public List&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;Role&gt; roles) {\n        this.roles = roles;\n    } \n    \n}\n</code></pre>\n<p>RoleRepository</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.ecommerce.website.model.Role;\n\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;{\n\n}\n</code></pre>\n<pre><code>package com.ecommerce.website.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.ecommerce.website.model.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    //Method to find user by email (optional because user may not be found)\n    Optional&lt;User&gt; findUserByEmail(String email); \n}\n</code></pre>\n<p>LoginController</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport com.ecommerce.website.repository.RoleRepository;\nimport com.ecommerce.website.repository.UserRepository;\n\n@Controller\npublic class LoginController {\n    \n    //Injecting dependencies \n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    @Autowired\n    RoleRepository roleRepository;\n    \n    //Mappings to return login and register pages \n    @GetMapping(&quot;/login&quot;)\n    public String login() {\n        return &quot;login&quot;;\n    }\n    \n    @GetMapping(&quot;/register&quot;)\n    public String registerGet() {\n        return &quot;register&quot;;\n    }\n}\n</code></pre>\n<p>CustomUserDetailService</p>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.CustomUserDetail;\nimport com.ecommerce.website.model.User;\nimport com.ecommerce.website.repository.UserRepository;\n\n@Service\npublic class CustomUserDetailService implements UserDetailsService {\n\n    //Injecting dependency \n    @Autowired\n    UserRepository userRepository;\n    \n    //Method to find a user by their email \n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findUserByEmail(email);\n        user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        return user.map(CustomUserDetail::new).get();\n    }\n\n}\n</code></pre>\n<p>CustomUserDetail</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n/**This class connects the User model with UserDetails, which provides core user information. \n * This class extends User so that it can use methods from that class like .getUsername() and .getPassword() */\npublic class CustomUserDetail extends User implements UserDetails {\n    \n    //Creating constructor to get username and password of user \n    public CustomUserDetail(User user) {\n        \n        //Calling super() so that parent can pass in the user object\n        super(user);\n    }\n\n    //This method returns the authorities (roles) that a user has \n    //@return authorityList because a user can have multiple roles\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        \n        //List to hold users authorities (roles)\n            //Holds type GrantedAuthority, which represents an authority granted to an Authentication object\n        List&lt;GrantedAuthority&gt; authorityList = new ArrayList&lt;&gt;();\n        \n        //Calling super to get each roles that a user has \n        //Putting those roles into the list \n        //Converting roles to SimpleGrantedAuthority so that they can be added to list\n        super.getRoles().forEach(role -&gt; {\n            authorityList.add(new SimpleGrantedAuthority(role.getName()));\n        \n        });\n        \n        return authorityList; \n        \n    }\n\n    //Method to get username and password\n    @Override\n    public String getUsername() {\n        // TODO Auto-generated method stub\n        return super.getEmail();\n    }\n    \n    @Override\n    public String getPassword() {\n        // TODO Auto-generated method stub\n        return super.getPassword();\n    }\n\n    //More methods about user \n    @Override\n    public boolean isAccountNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        // TODO Auto-generated method stub\n        return true;\n    }\n\n}\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>package com.ecommerce.website.configuration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.ecommerce.website.service.CustomUserDetailService;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    //Injecting dependencies \n    @Autowired\n    GoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\n    \n    @Autowired\n    CustomUserDetailService customUserDetailService;\n    \n    //Method to allow and restrict access for certain users \n    @Bean\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;, &quot;/shop/**&quot;, &quot;/register&quot;, &quot;/h2-console/**&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n                .oauth2Login()\n                .loginPage(&quot;/login&quot;)\n                .successHandler(googleOAuth2SuccessHandler)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .and()\n                .exceptionHandling()\n                .and()\n                .csrf()\n                .disable();\n        \n        http.headers().frameOptions().disable();\n    }\n    \n    //Strong hashing function to encoder \n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder () {\n        \n        return new BCryptPasswordEncoder();\n    }\n    \n    //Method for authentication \n    @Bean\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailService);\n    }\n    \n    //Method that restricts the website from accessing certain folders \n    @Bean\n    protected void configure(WebSecurity web) throws Exception {\n        web.ignoring().requestMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);   \n    }\n    \n}\n</code></pre>\n<p>GoogleOAuth2SuccessHandler</p>\n<pre><code>package com.ecommerce.website.configuration;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.http.client.RedirectStrategy;\nimport org.springframework.security.web.DefaultRedirectStrategy;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\nimport com.ecommerce.website.model.Role;\nimport com.ecommerce.website.model.User;\nimport com.ecommerce.website.repository.RoleRepository;\nimport com.ecommerce.website.repository.UserRepository;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Component\npublic class GoogleOAuth2SuccessHandler implements AuthenticationSuccessHandler {\n\n    //Injecting dependencies \n    @Autowired\n    RoleRepository roleRepository;\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    //RedirectStrategy variable to redirect HTTP requests if needed \n    private RedirectStrategy redirectStrategy = (RedirectStrategy) new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n            Authentication authentication) throws IOException, ServletException {\n        \n        //Token to represent OAuth2AuthenticationToken\n        OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) authentication; \n        \n        //Getting email \n        String email = token.getPrincipal().getAttributes().get(&quot;email&quot;).toString(); \n        \n        //If loop to find user by email \n        if(userRepository.findUserByEmail(email).isPresent()) {\n            \n        }\n        //Else block for if user is not found \n        else {\n            //Creating user, setting its info, and saving it \n            User user = new User();\n            user.setFirstName(token.getPrincipal().getAttributes().get(&quot;given_name&quot;).toString());\n            user.setLastName(token.getPrincipal().getAttributes().get(&quot;family_name&quot;).toString());\n            user.setEmail(email);\n            List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n            roles.add(roleRepository.findById(2).get());\n            user.setRoles(roles);\n            userRepository.save(user);\n        }\n        \n        //Redirecting HTTP request \n        ((DefaultRedirectStrategy) redirectStrategy).sendRedirect(httpServletRequest, httpServletResponse, &quot;/&quot;); \n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","css","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"score":0,"creation_date":1672337453,"post_id":74937081,"comment_id":132271479,"body_markdown":"What do you want it to be a percentage of? Window height or monitor height?","body":"What do you want it to be a percentage of? Window height or monitor height?"},{"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"score":0,"creation_date":1672427385,"post_id":74937081,"comment_id":132289450,"body_markdown":"Window height means view screens height?  I don&#39;t know about this question, let me try to explain this. I need the components height when it&#39;s opened in full screen mode like calendar and for some text area fields.","body":"Window height means view screens height?  I don&#39;t know about this question, let me try to explain this. I need the components height when it&#39;s opened in full screen mode like calendar and for some text area fields."}],"answers":[{"comments":[{"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"score":0,"creation_date":1672215196,"post_id":74937486,"comment_id":132242707,"body_markdown":"No, i want to get the height value in percentage","body":"No, i want to get the height value in percentage"}],"tags":[],"owner":{"account_id":9225412,"reputation":347,"user_id":6853384,"display_name":"Sadha Nanda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672213115,"creation_date":1672213115,"answer_id":74937486,"question_id":74937081,"body_markdown":"you mean you want to replace px with %?\r\nif yes then use string replace method","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>you mean you want to replace px with %?\nif yes then use string replace method</p>\n"},{"comments":[{"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"score":0,"creation_date":1672428675,"post_id":74954929,"comment_id":132289757,"body_markdown":"Can u pls explain why we have to divide it?","body":"Can u pls explain why we have to divide it?"},{"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"score":0,"creation_date":1672785283,"post_id":74954929,"comment_id":132351440,"body_markdown":"As far as I&#39;m aware, there is no way to just get the percentage of the element. Dividing is how you calculate the percentage of one amount towards another","body":"As far as I&#39;m aware, there is no way to just get the percentage of the element. Dividing is how you calculate the percentage of one amount towards another"}],"tags":[],"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672339354,"creation_date":1672339354,"answer_id":74954929,"question_id":74937081,"body_markdown":"Something like this will get the percentage of the element in relation to the height of the window:\r\n\r\n```\r\ndouble heightPercentage = element.getCssValue(&quot;height&quot;) / driver.Manage().Window.Size.Height;\r\n```","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>Something like this will get the percentage of the element in relation to the height of the window:</p>\n<pre><code>double heightPercentage = element.getCssValue(&quot;height&quot;) / driver.Manage().Window.Size.Height;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672726089,"creation_date":1672723568,"answer_id":74989326,"question_id":74937081,"body_markdown":"This&#39;ll help i guess:\r\n\r\n1.\r\n        int hei = driver.manage().window().getSize().getHeight();\r\n                            int pxtopercen = (int) (hei*6.25);\r\n\r\n\r\n2.    \r\n\t\tdriver.manage().window().getSize().getHeight();","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>This'll help i guess:</p>\n<p>1.\nint hei = driver.manage().window().getSize().getHeight();\nint pxtopercen = (int) (hei*6.25);</p>\n<p>2.<br />\ndriver.manage().window().getSize().getHeight();</p>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672726089,"creation_date":1672210110,"question_id":74937081,"body_markdown":"I got the height of the element in px values by using:\r\n```element.getCssValue(&quot;height&quot;)```\r\n\r\nBut by using this, i got the height as:\r\n**Height: 560px**\r\n\r\nBut I need to get the height as: \r\n**Height: 100%**\r\nOr like **Height: 50%**","title":"How to validate the height of the element in % value in selenium using Java","body":"<p>I got the height of the element in px values by using:\n<code>element.getCssValue(&quot;height&quot;)</code></p>\n<p>But by using this, i got the height as:\n<strong>Height: 560px</strong></p>\n<p>But I need to get the height as:\n<strong>Height: 100%</strong>\nOr like <strong>Height: 50%</strong></p>\n"},{"tags":["java","build.gradle","testng"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1672725004,"post_id":74926607,"comment_id":132334221,"body_markdown":"Can you please pload a sample project into github, edit your question and add a link to the project in your question that we can use to reproduce the problem ?","body":"Can you please pload a sample project into github, edit your question and add a link to the project in your question that we can use to reproduce the problem ?"},{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":0,"creation_date":1702278102,"post_id":74926607,"comment_id":136872153,"body_markdown":"@before was not invoking by default,this was solved by adding alwaysrun=true ,  in testng","body":"@before was not invoking by default,this was solved by adding alwaysrun=true ,  in testng"},{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1702351881,"post_id":74926607,"comment_id":136882744,"body_markdown":"Perhaps you can add that as an answer to your question and accept it, so that the question gets closed?","body":"Perhaps you can add that as an answer to your question and accept it, so that the question gets closed?"}],"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724940,"creation_date":1672125389,"question_id":74926607,"body_markdown":"when `gradle clean test -P testGroups=&quot;test&quot;` cmd is used to run tests which has `test` in groups. I get null pointer exception not sure what is wrong,  can someone help here i am stuck for days here\r\n\r\n\r\n    FAILED: BotAttributesTest\r\n    java.lang.NullPointerException\r\n    \tat sanityTests.BotAttributesTest.BotAttributesTest(BotAttributesTest.java:29)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\r\n    \r\n    \r\n    it fails at logger line not sure why?\r\n    \r\n    logger declaration below\r\n    \r\n      public ExtentSparkReporter htmlReporter;\r\n         public static ExtentReports extent;\r\n         public  ExtentTest logger;\r\n         public static WebDriver  wd;\r\n    \r\n        @BeforeMethod\r\n        public void logger(Method testMethod){\r\n            logger = extent.createTest(testMethod.getName());\r\n    \r\n            WebDriverManager.chromedriver().setup();","title":"when gradle testNG groups cmd is triggered it shows null pointer","body":"<p>when <code>gradle clean test -P testGroups=&quot;test&quot;</code> cmd is used to run tests which has <code>test</code> in groups. I get null pointer exception not sure what is wrong,  can someone help here i am stuck for days here</p>\n<pre><code>FAILED: BotAttributesTest\njava.lang.NullPointerException\n    at sanityTests.BotAttributesTest.BotAttributesTest(BotAttributesTest.java:29)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    \n\n\nit fails at logger line not sure why?\n\nlogger declaration below\n\n  public ExtentSparkReporter htmlReporter;\n     public static ExtentReports extent;\n     public  ExtentTest logger;\n     public static WebDriver  wd;\n\n    @BeforeMethod\n    public void logger(Method testMethod){\n        logger = extent.createTest(testMethod.getName());\n\n        WebDriverManager.chromedriver().setup();\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":16955059,"reputation":268,"user_id":12263669,"display_name":"KILLtheWEEZEL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672173434,"creation_date":1672173434,"answer_id":74933926,"question_id":74933238,"body_markdown":"driver.close() kills the session if there is only one browser open\r\nhttps://www.browserstack.com/guide/close-browser-in-selenium\r\n\r\nYou will need to create a new session after closing the original driver.","title":"Getting org.openqa.selenium.NoSuchSessionException: invalid session id error in Cucumber feature","body":"<p>driver.close() kills the session if there is only one browser open\n<a href=\"https://www.browserstack.com/guide/close-browser-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/close-browser-in-selenium</a></p>\n<p>You will need to create a new session after closing the original driver.</p>\n"}],"owner":{"account_id":26647701,"reputation":55,"user_id":20262433,"display_name":"Pratik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74933926,"answer_count":1,"score":0,"last_activity_date":1672724863,"creation_date":1672167940,"question_id":74933238,"body_markdown":"I am using Selenium+Cucumber+TestNG and I am trying to close and open a new browser in between my feature. That is my requirement as there is no logout feature present in my application. Below is my code.\r\n\r\n \r\n\r\n    @Regression @Recall\r\n      Scenario: Validate workflow with Recall from Closed tab\r\n        Given User launch the &quot;MISToolkit&quot; application on browser\r\n        When &quot;approver&quot; logs in to application\r\n        Then &quot;MISToolKit&quot; page should appear\r\n        Then User navigates to &quot;ResearchTicketDashboard&quot; page\r\n        Then User navigates to WorkQueue on Research Ticket Dashboard Page\r\n     And I &quot;close&quot; the browser for logging in as another analyst\r\n        When User launch the &quot;MISToolkit&quot; application on browser\r\n        When &quot;analyst&quot; logs in to application\r\n\r\nBelow is the step definition for And I &quot;close&quot; the browser for logging in as another analyst.\r\n\r\n    @Then(&quot;I {string} the browser for logging in as another analyst&quot;)\r\n    \tpublic void closeTheSessionForLoggingInAsOtherAnalyst(String mode) {\r\n    \t\tresearchTicketDashboardPage.clearBrowserStorage(mode);\r\n    \r\n    \t}\r\n\r\nAnd inside the clearBrowserStorage method I am trying to close the browser and open it again.\r\n\r\n     driver.close();\r\n     Base.initializeBrowserSetup();\r\nI am getting following error.\r\n\r\n \r\n\r\n    When User launch the &quot;MISToolkit&quot; application on browser           # stepDefinitions.LoginPageStepDefinitions.userLaunchTheApplicationOnBrowser(java.lang.String)\r\n          org.openqa.selenium.NoSuchSessionException: invalid session id\r\n\r\nAm I missing something here? ","title":"Getting org.openqa.selenium.NoSuchSessionException: invalid session id error in Cucumber feature","body":"<p>I am using Selenium+Cucumber+TestNG and I am trying to close and open a new browser in between my feature. That is my requirement as there is no logout feature present in my application. Below is my code.</p>\n<pre><code>@Regression @Recall\n  Scenario: Validate workflow with Recall from Closed tab\n    Given User launch the &quot;MISToolkit&quot; application on browser\n    When &quot;approver&quot; logs in to application\n    Then &quot;MISToolKit&quot; page should appear\n    Then User navigates to &quot;ResearchTicketDashboard&quot; page\n    Then User navigates to WorkQueue on Research Ticket Dashboard Page\n And I &quot;close&quot; the browser for logging in as another analyst\n    When User launch the &quot;MISToolkit&quot; application on browser\n    When &quot;analyst&quot; logs in to application\n</code></pre>\n<p>Below is the step definition for And I &quot;close&quot; the browser for logging in as another analyst.</p>\n<pre><code>@Then(&quot;I {string} the browser for logging in as another analyst&quot;)\n    public void closeTheSessionForLoggingInAsOtherAnalyst(String mode) {\n        researchTicketDashboardPage.clearBrowserStorage(mode);\n\n    }\n</code></pre>\n<p>And inside the clearBrowserStorage method I am trying to close the browser and open it again.</p>\n<pre><code> driver.close();\n Base.initializeBrowserSetup();\n</code></pre>\n<p>I am getting following error.</p>\n<pre><code>When User launch the &quot;MISToolkit&quot; application on browser           # stepDefinitions.LoginPageStepDefinitions.userLaunchTheApplicationOnBrowser(java.lang.String)\n      org.openqa.selenium.NoSuchSessionException: invalid session id\n</code></pre>\n<p>Am I missing something here?</p>\n"},{"tags":["java","selenium","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":20087954,"reputation":423,"user_id":14729128,"display_name":"Maria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672261049,"creation_date":1672261049,"answer_id":74944928,"question_id":74938243,"body_markdown":"I think you should read about static fields first to get clear picture about this thing. \r\nAnyway, static variables can be accessed by calling with the class name **ClassName.VariableName.**\r\n\r\n*Add.reportV1* in your case. Btw in your example *reportV1* is not initialized yet, fyi.","title":"How to get string value from another class using selenium and testng in java","body":"<p>I think you should read about static fields first to get clear picture about this thing.\nAnyway, static variables can be accessed by calling with the class name <strong>ClassName.VariableName.</strong></p>\n<p><em>Add.reportV1</em> in your case. Btw in your example <em>reportV1</em> is not initialized yet, fyi.</p>\n"}],"owner":{"account_id":25985595,"reputation":3,"user_id":19698621,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74944928,"answer_count":1,"score":0,"last_activity_date":1672724844,"creation_date":1672218082,"question_id":74938243,"body_markdown":"I am trying to get the value of string in the first class and use it to another class. Below is my code :\r\n\r\n```\r\npublic class Add extends driver {\r\n\tpublic static String reportV1;\r\n\r\n\t@Test\r\n\tpublic String export() throws InterruptedException, IOException {\r\n\r\n\r\n// Report Name\r\n\t\tWebElement report1 = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#nReportName&quot;)));\r\n\t\treportV1 = report1.getAttribute(&quot;value&quot;);\r\n\t\tif (reportV1.equals(reportV)) {\r\n\t\t\tSystem.out.println(&quot; PASSED - Report Name: &quot; + reportV1);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot; FAILED - Report Name: &quot; + reportV1);\r\n\t\t\tsoft.assertTrue(false);\r\n\t\t}\r\nsoft.assertAll();\r\nreturn reportV1;\r\n```\r\n\r\nI&#39;m new to java, so can someone help me to get the value of string?\r\n\r\nThank you in advance.\r\n","title":"How to get string value from another class using selenium and testng in java","body":"<p>I am trying to get the value of string in the first class and use it to another class. Below is my code :</p>\n<pre><code>public class Add extends driver {\n    public static String reportV1;\n\n    @Test\n    public String export() throws InterruptedException, IOException {\n\n\n// Report Name\n        WebElement report1 = wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#nReportName&quot;)));\n        reportV1 = report1.getAttribute(&quot;value&quot;);\n        if (reportV1.equals(reportV)) {\n            System.out.println(&quot; PASSED - Report Name: &quot; + reportV1);\n        } else {\n            System.out.println(&quot; FAILED - Report Name: &quot; + reportV1);\n            soft.assertTrue(false);\n        }\nsoft.assertAll();\nreturn reportV1;\n</code></pre>\n<p>I'm new to java, so can someone help me to get the value of string?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","logging","config","quarkus","smallrye"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672724714,"creation_date":1672724714,"answer_id":74989443,"question_id":74981218,"body_markdown":"An extension **cannot** override runtime configuration values, it **can** however set a **default** value using `io.quarkus.deployment.builditem.RunTimeConfigurationDefaultBuildItem`","title":"How to overwrite config in a Quarkus extension","body":"<p>An extension <strong>cannot</strong> override runtime configuration values, it <strong>can</strong> however set a <strong>default</strong> value using <code>io.quarkus.deployment.builditem.RunTimeConfigurationDefaultBuildItem</code></p>\n"}],"owner":{"account_id":25554283,"reputation":65,"user_id":19338129,"display_name":"Sof42lxca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74989443,"answer_count":1,"score":1,"last_activity_date":1672724714,"creation_date":1672654935,"question_id":74981218,"body_markdown":"Is there a way to overwrite a configuration in a Quarkus extension with a hard-coded value?\r\n\r\nWhat I&#39;m trying to do: I am creating a custom Quarkus extension for JSON logging, based on quarkus-logging-json but with additional (non static) fields. I reuse some classes from the extension&#39;s runtime library, so it is a Maven dependency of the runtime module of the extension (and the deployment also needs to be declared as a dependency to my deployment module, because the quarkus extension plugin checks this). \r\nIt seems to work fine, except that I now have 2 formatters, and the following line is logged: \r\n\r\n    LogManager error of type GENERIC_FAILURE: Multiple console formatters were activated\r\n\r\nI would like to disable the quarkus-logging-json extension completely by hard-coding these values: \r\n\r\n    quarkus.console.json.enable=false \r\n    quarkus.file.json.enable=false. \r\n\r\nIs there a way to do this?\r\n\r\nThank you.\r\n","title":"How to overwrite config in a Quarkus extension","body":"<p>Is there a way to overwrite a configuration in a Quarkus extension with a hard-coded value?</p>\n<p>What I'm trying to do: I am creating a custom Quarkus extension for JSON logging, based on quarkus-logging-json but with additional (non static) fields. I reuse some classes from the extension's runtime library, so it is a Maven dependency of the runtime module of the extension (and the deployment also needs to be declared as a dependency to my deployment module, because the quarkus extension plugin checks this).\nIt seems to work fine, except that I now have 2 formatters, and the following line is logged:</p>\n<pre><code>LogManager error of type GENERIC_FAILURE: Multiple console formatters were activated\n</code></pre>\n<p>I would like to disable the quarkus-logging-json extension completely by hard-coding these values:</p>\n<pre><code>quarkus.console.json.enable=false \nquarkus.file.json.enable=false. \n</code></pre>\n<p>Is there a way to do this?</p>\n<p>Thank you.</p>\n"},{"tags":["java","design-patterns","strategy-pattern"],"owner":{"account_id":11527325,"reputation":87,"user_id":8447375,"display_name":"Sanj. K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724507,"creation_date":1672724507,"question_id":74989423,"body_markdown":"I am implementing the Snakes and Ladders game. Where Game is one class which has Board, Dice, Players and 2 strategies - Winning Strategy and EndGameStrategy.\r\nDifferent implementations of EndGameStrategy can be - \r\n\r\n 1. If one player wins, the game ends - OnePlayerWonGameEndStrategy\r\n 2. If only 1 player remains at last, the game ends - OnlyOnePlayerLeftGameEndStrategy\r\n\r\nThe Game model looks as below: \r\n```\r\n@Builder\r\n@Getter\r\npublic class Game {\r\n    private Board board;\r\n    private Queue&lt;Player&gt; players;\r\n    private List&lt;Dice&gt; dices;\r\n    private final int MAX_BOARD_SIZE = 1000;\r\n    private final int MAX_NUMBER_OF_PLAYERS = 10;\r\n    private final int MAX_NUMBER_OF_DICE = 5;\r\n    private int totalPlayers;\r\n    private GameEndStrategy gameEndStrategy;\r\n    private WinningStrategy winningStrategy;\r\n    private Queue&lt;Player&gt;leaderBoard;\r\n}\r\n```\r\nThe Client initializes strategies using builder.\r\n```\r\nGame game = Game.Builder()\r\n\t\t\t\t.setBoard(board)\r\n\t\t\t\t.setPlayers(playerList)\r\n\t\t\t\t.setDices(diceList)\r\n\t\t\t\t.setGameEndStrategy(new OnlyOnePlayerLeftGameEndStrategy())\r\n\t\t\t\t.build();\r\n```\r\nOne of the implementation of GameEndStrategy is OnlyOneplayerLeftGameEndStrategy\r\n\r\n```\r\npublic class OnlyOnePlayerLeftGameEndStrategy implements GameEndStrategy{\r\n    @Override\r\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\r\n        return activePlayers == 1;\r\n    }\r\n}\r\n```\r\nOther implementation is when the first player wins, the game ends\r\n```\r\npublic class OnePlayerWonGameEndStrategy implements GameEndStrategy{\r\n    @Override\r\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\r\n        return totalPlayers - activePlayers == 1;\r\n    }\r\n}\r\n```\r\nThe client uses the strategy as follows:\r\n```\r\nwhile(!game.getGameEndStrategy().isGameEnd(game.getPlayers().size(), game.getTotalPlayers())) {\r\n\t\\\\Game logic (Player throws dice, new position is checked\r\n}\r\n```\r\nHere as parameters of isGameEnd method, should I pass the context class i.e the Game instance as the param? because, \r\n**OnlyOnePlayerLeftGameEndStrategy** would only need the activePlayers number to check if one one player is left. But, **OnePlayerWonGameEndStartegy** needs both totalPlayers and activePlayers as params to check if one player has won. Also there could be another strategy in future which would need more params.\r\nSo how should we handle changing params? How should we implement the strategy pattern here in this Snakes and Ladders usecase?","title":"Is passing context class attributes as parameters to a strategy method (when the strategy is itself a part of the context) correct?","body":"<p>I am implementing the Snakes and Ladders game. Where Game is one class which has Board, Dice, Players and 2 strategies - Winning Strategy and EndGameStrategy.\nDifferent implementations of EndGameStrategy can be -</p>\n<ol>\n<li>If one player wins, the game ends - OnePlayerWonGameEndStrategy</li>\n<li>If only 1 player remains at last, the game ends - OnlyOnePlayerLeftGameEndStrategy</li>\n</ol>\n<p>The Game model looks as below:</p>\n<pre><code>@Builder\n@Getter\npublic class Game {\n    private Board board;\n    private Queue&lt;Player&gt; players;\n    private List&lt;Dice&gt; dices;\n    private final int MAX_BOARD_SIZE = 1000;\n    private final int MAX_NUMBER_OF_PLAYERS = 10;\n    private final int MAX_NUMBER_OF_DICE = 5;\n    private int totalPlayers;\n    private GameEndStrategy gameEndStrategy;\n    private WinningStrategy winningStrategy;\n    private Queue&lt;Player&gt;leaderBoard;\n}\n</code></pre>\n<p>The Client initializes strategies using builder.</p>\n<pre><code>Game game = Game.Builder()\n                .setBoard(board)\n                .setPlayers(playerList)\n                .setDices(diceList)\n                .setGameEndStrategy(new OnlyOnePlayerLeftGameEndStrategy())\n                .build();\n</code></pre>\n<p>One of the implementation of GameEndStrategy is OnlyOneplayerLeftGameEndStrategy</p>\n<pre><code>public class OnlyOnePlayerLeftGameEndStrategy implements GameEndStrategy{\n    @Override\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\n        return activePlayers == 1;\n    }\n}\n</code></pre>\n<p>Other implementation is when the first player wins, the game ends</p>\n<pre><code>public class OnePlayerWonGameEndStrategy implements GameEndStrategy{\n    @Override\n    public Boolean isGameEnd(int activePlayers, int totalPlayers) {\n        return totalPlayers - activePlayers == 1;\n    }\n}\n</code></pre>\n<p>The client uses the strategy as follows:</p>\n<pre><code>while(!game.getGameEndStrategy().isGameEnd(game.getPlayers().size(), game.getTotalPlayers())) {\n    \\\\Game logic (Player throws dice, new position is checked\n}\n</code></pre>\n<p>Here as parameters of isGameEnd method, should I pass the context class i.e the Game instance as the param? because,\n<strong>OnlyOnePlayerLeftGameEndStrategy</strong> would only need the activePlayers number to check if one one player is left. But, <strong>OnePlayerWonGameEndStartegy</strong> needs both totalPlayers and activePlayers as params to check if one player has won. Also there could be another strategy in future which would need more params.\nSo how should we handle changing params? How should we implement the strategy pattern here in this Snakes and Ladders usecase?</p>\n"},{"tags":["java","hazelcast"],"owner":{"account_id":27337922,"reputation":11,"user_id":20849054,"display_name":"Deepak_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672724304,"creation_date":1672724304,"question_id":74989399,"body_markdown":"```\r\n     Config hz = new Config();\r\n     hz.setProperty(&quot;hazelcast.rest.enbld&quot;, &quot;true&quot;);\r\n     hz.getGroupConfig().setName(&quot;abc&quot;);\r\n     hz.getGroupConfig().setPassword(&quot;def&quot;);\r\n\r\n```\r\nwhat is the alternate of the above code while converting the hazelcast from 3.x.x to 5.x.x","title":"what is the alternate of the above code while migrating the hazelcast from 3.x.x to 5.x.x?","body":"<pre><code>     Config hz = new Config();\n     hz.setProperty(&quot;hazelcast.rest.enbld&quot;, &quot;true&quot;);\n     hz.getGroupConfig().setName(&quot;abc&quot;);\n     hz.getGroupConfig().setPassword(&quot;def&quot;);\n\n</code></pre>\n<p>what is the alternate of the above code while converting the hazelcast from 3.x.x to 5.x.x</p>\n"},{"tags":["java","spring-boot","stripe-payments"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1672707701,"post_id":74988057,"comment_id":132332108,"body_markdown":"The error is very clear.  You are creating a PaymentMethod.  That is the wrong thing.  You need to create a PaymentIntent.","body":"The error is very clear.  You are creating a PaymentMethod.  That is the wrong thing.  You need to create a PaymentIntent."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672759816,"post_id":74988057,"comment_id":132344288,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":19950197,"reputation":1,"user_id":20915108,"display_name":"Subhan Pugh"},"score":0,"creation_date":1672744297,"post_id":74989335,"comment_id":132339232,"body_markdown":"The frontend returns an error &quot;IntegrationError: Invalid value for confirmCardPayment: payment_method.card was \\`payment\\` Element, which cannot be used to create card PaymentMethods.&quot;","body":"The frontend returns an error &quot;IntegrationError: Invalid value for confirmCardPayment: payment_method.card was `payment` Element, which cannot be used to create card PaymentMethods.&quot;"},{"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"score":0,"creation_date":1672747484,"post_id":74989335,"comment_id":132340169,"body_markdown":"you need to add element there and make a reference of that element as a card, please check out this https://github.com/stripe-archive/react-stripe-elements#setting-up-your-payment-form-injectstripe","body":"you need to add element there and make a reference of that element as a card, please check out this <a href=\"https://github.com/stripe-archive/react-stripe-elements#setting-up-your-payment-form-injectstripe\" rel=\"nofollow noreferrer\">github.com/stripe-archive/&hellip;</a>"}],"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672723688,"creation_date":1672723688,"answer_id":74989335,"question_id":74988057,"body_markdown":"First of all you need to create payment intent and once you generate payment intent you will get a **client_secrete** in the response, this means your payment is ready for the attempt of collecting payment you can have option of setting use client SDK to true or false.\r\n\r\n    Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\r\n    \r\n    List&lt;Object&gt; paymentMethodTypes =\r\n      new ArrayList&lt;&gt;();\r\n    paymentMethodTypes.add(&quot;card&quot;);\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;amount&quot;, whatever_amount_you_want_to_charge);\r\n    params.put(&quot;currency&quot;, &quot;currency_abv&quot; //ex- usd, inr, aud, etc);\r\n    params.put(\r\n      &quot;payment_method_types&quot;,\r\n      paymentMethodTypes\r\n    );\r\n    \r\n    PaymentIntent paymentIntent =\r\n      PaymentIntent.create(params);\r\n\r\nHere you have to perform another operation called confirming that payment intent earlier you have created, obliviously it has all the information so you just have to specify payment method, authenticate and confirm payment intent (before confirming stripe provides options to modify that payment intent).\r\n\r\n**From backend**\r\n\r\n    Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\r\n    \r\n   \r\n    PaymentIntent paymentIntent =\r\n      PaymentIntent.retrieve(\r\n        &quot;payment_intent_id&quot;\r\n      );\r\n    \r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;payment_method&quot;, &quot;pm_card_visa&quot;);\r\n    \r\n    PaymentIntent updatedPaymentIntent =\r\n      paymentIntent.confirm(params);\r\n\r\n**From frontend**\r\n\r\n\r\n    stripe\r\n      .confirmCardPayment(&#39;{PAYMENT_INTENT_CLIENT_SECRET}&#39;, {\r\n        payment_method: {\r\n          card: cardElement,\r\n          billing_details: {\r\n            name: &#39;name&#39;,\r\n          },\r\n        },\r\n      })\r\n      .then(function(result) {\r\n        // Handle result.error or result.paymentIntent\r\n      });\r\n\r\nStripe will use client SDK and your client secrete which you have earlier generated from payment intent to make a payment so this will try to collect payment, remember if you are using any 3D secured card to make payment you have confirm that payment using OTP or any authentication provided by respective bank or else your payment intent will go in the mode of **require_confirmation** state \r\n\r\n**For reference**\r\n\r\nhttps://stripe.com/docs/api/payment_intents/create#create_payment_intent\r\n\r\nhttps://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method\r\n\r\nhttps://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent","title":"Make a payment via stripe in spring boot","body":"<p>First of all you need to create payment intent and once you generate payment intent you will get a <strong>client_secrete</strong> in the response, this means your payment is ready for the attempt of collecting payment you can have option of setting use client SDK to true or false.</p>\n<pre><code>Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\n\nList&lt;Object&gt; paymentMethodTypes =\n  new ArrayList&lt;&gt;();\npaymentMethodTypes.add(&quot;card&quot;);\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;amount&quot;, whatever_amount_you_want_to_charge);\nparams.put(&quot;currency&quot;, &quot;currency_abv&quot; //ex- usd, inr, aud, etc);\nparams.put(\n  &quot;payment_method_types&quot;,\n  paymentMethodTypes\n);\n\nPaymentIntent paymentIntent =\n  PaymentIntent.create(params);\n</code></pre>\n<p>Here you have to perform another operation called confirming that payment intent earlier you have created, obliviously it has all the information so you just have to specify payment method, authenticate and confirm payment intent (before confirming stripe provides options to modify that payment intent).</p>\n<p><strong>From backend</strong></p>\n<pre><code>Stripe.apiKey = &quot;your_stripe_secrete_key&quot;;\n\n\nPaymentIntent paymentIntent =\n  PaymentIntent.retrieve(\n    &quot;payment_intent_id&quot;\n  );\n\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;payment_method&quot;, &quot;pm_card_visa&quot;);\n\nPaymentIntent updatedPaymentIntent =\n  paymentIntent.confirm(params);\n</code></pre>\n<p><strong>From frontend</strong></p>\n<pre><code>stripe\n  .confirmCardPayment('{PAYMENT_INTENT_CLIENT_SECRET}', {\n    payment_method: {\n      card: cardElement,\n      billing_details: {\n        name: 'name',\n      },\n    },\n  })\n  .then(function(result) {\n    // Handle result.error or result.paymentIntent\n  });\n</code></pre>\n<p>Stripe will use client SDK and your client secrete which you have earlier generated from payment intent to make a payment so this will try to collect payment, remember if you are using any 3D secured card to make payment you have confirm that payment using OTP or any authentication provided by respective bank or else your payment intent will go in the mode of <strong>require_confirmation</strong> state</p>\n<p><strong>For reference</strong></p>\n<p><a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/payment_intents/create#create_payment_intent</a></p>\n<p><a href=\"https://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method\" rel=\"nofollow noreferrer\">https://stripe.com/docs/js/payment_intents/payment_method#confirm_payment_intent_payment_method</a></p>\n<p><a href=\"https://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/payment_intents/confirm#confirm_payment_intent</a></p>\n"}],"owner":{"account_id":19950197,"reputation":1,"user_id":20915108,"display_name":"Subhan Pugh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1672723688,"creation_date":1672704154,"question_id":74988057,"body_markdown":"I want to make a &quot;payment&quot; type form, because the &quot;card&quot; does not fit because it is in one line. I&#39;m trying to get data from a form, create a token to make a payment. But I get the error &quot;You cannot create a charge with a PaymentMethod. Use the Payment Intents API instead.; request-id: req_9AYqRwPYg7MPdU&quot;. How can it be solved? Thank you.\r\n\r\n```\r\n&lt;form id=&quot;payment-form&quot; method=&quot;post&quot;&gt;\r\n   &lt;input id=&quot;api-key&quot; type=&quot;hidden&quot; value=&quot;${stripePublicKey}&quot;&gt;\r\n   &lt;div class=&quot;form-group mb-3&quot;&gt;\r\n       &lt;div class=&quot;w-100&quot; id=&quot;card-element&quot;&gt;\r\n           &lt;!-- A Stripe Element will be inserted here. --&gt;\r\n       &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;button class=&quot;btn w-100 btn-success mt-4&quot; type=&quot;submit&quot; id=&quot;submitButton&quot;&gt;Pay $230&lt;/button&gt;\r\n&lt;/form&gt;\r\n&lt;script&gt;\r\n    const stripe = Stripe($(&#39;#api-key&#39;).val());\r\n    const payment = stripe.elements({clientSecret:&#39;${client_secret}&#39;}).create(&#39;payment&#39;);\r\n    payment.mount(&#39;#card-element&#39;);\r\n\r\n    payment.addEventListener(&#39;change&#39;, function (event) {\r\n        $(&#39;#card-errors&#39;).text(event.error ? event.error.message : &#39;&#39;);\r\n    });\r\n\r\n    $(&#39;#payment-form&#39;).on(&#39;submit&#39;, async function (e) {\r\n        e.preventDefault();\r\n        const { paymentMethod, error } = await stripe.createPaymentMethod(\r\n            &#39;payment&#39;,\r\n            payment,\r\n            { billing_details: { email: &#39;${customer.email}&#39; } }\r\n        );\r\n        if (error) {\r\n            alert(error);\r\n        } else {\r\n            const token = paymentMethod.id;\r\n            const email = &#39;${customer.email}&#39;;\r\n            $.post(\r\n                &quot;/payment/create-charge&quot;,\r\n                {email: email, token: token},\r\n                function (data) {\r\n                    alert(data.details);\r\n                }, &#39;json&#39;);\r\n        }\r\n    });\r\n&lt;/script&gt;\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/create-charge&quot;)\r\npublic @ResponseBody StripeResponse createCharge(String email, String token) {\r\n    if (token == null) {\r\n        return new StripeResponse(false, &quot;Stripe payment token is missing. please try again later.&quot;);\r\n    }\r\n    String chargeId = stripeService.createCharge(email, token, 999);// 9.99 usd\r\n    if (chargeId == null) {\r\n        return new StripeResponse(false, &quot;An error accurred while trying to charge.&quot;);\r\n    }\r\n    return new StripeResponse(true, &quot;Success your charge id is &quot; + chargeId);\r\n}\r\n```\r\n\r\n```\r\n@Override\r\npublic String createCharge(String email, String token, int amount) {\r\n    String chargeId = null;\r\n    try {\r\n        Stripe.apiKey = API_SECRET_KEY;\r\n        Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\r\n        chargeParams.put(&quot;description&quot;, &quot;Charge for &quot; + email);\r\n        chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);\r\n        chargeParams.put(&quot;amount&quot;, amount);\r\n        chargeParams.put(&quot;source&quot;, token);\r\n        Charge charge = Charge.create(chargeParams);\r\n        chargeId = charge.getId();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return chargeId;\r\n}\r\n```\r\n\r\n\r\nI was trying to get a token with this code, it was going into the catch block and returning &quot;{ }&quot; to the console\r\n```\r\nstripe.createToken(payment).then((result) =&gt; {\r\n    // The code does not go here\r\n}).catch((error) =&gt; {\r\n    console.error(error); // Displays &quot;{ }&quot; in console\r\n});\r\n```","title":"Make a payment via stripe in spring boot","body":"<p>I want to make a &quot;payment&quot; type form, because the &quot;card&quot; does not fit because it is in one line. I'm trying to get data from a form, create a token to make a payment. But I get the error &quot;You cannot create a charge with a PaymentMethod. Use the Payment Intents API instead.; request-id: req_9AYqRwPYg7MPdU&quot;. How can it be solved? Thank you.</p>\n<pre><code>&lt;form id=&quot;payment-form&quot; method=&quot;post&quot;&gt;\n   &lt;input id=&quot;api-key&quot; type=&quot;hidden&quot; value=&quot;${stripePublicKey}&quot;&gt;\n   &lt;div class=&quot;form-group mb-3&quot;&gt;\n       &lt;div class=&quot;w-100&quot; id=&quot;card-element&quot;&gt;\n           &lt;!-- A Stripe Element will be inserted here. --&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;button class=&quot;btn w-100 btn-success mt-4&quot; type=&quot;submit&quot; id=&quot;submitButton&quot;&gt;Pay $230&lt;/button&gt;\n&lt;/form&gt;\n&lt;script&gt;\n    const stripe = Stripe($('#api-key').val());\n    const payment = stripe.elements({clientSecret:'${client_secret}'}).create('payment');\n    payment.mount('#card-element');\n\n    payment.addEventListener('change', function (event) {\n        $('#card-errors').text(event.error ? event.error.message : '');\n    });\n\n    $('#payment-form').on('submit', async function (e) {\n        e.preventDefault();\n        const { paymentMethod, error } = await stripe.createPaymentMethod(\n            'payment',\n            payment,\n            { billing_details: { email: '${customer.email}' } }\n        );\n        if (error) {\n            alert(error);\n        } else {\n            const token = paymentMethod.id;\n            const email = '${customer.email}';\n            $.post(\n                &quot;/payment/create-charge&quot;,\n                {email: email, token: token},\n                function (data) {\n                    alert(data.details);\n                }, 'json');\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n<pre><code>@PostMapping(&quot;/create-charge&quot;)\npublic @ResponseBody StripeResponse createCharge(String email, String token) {\n    if (token == null) {\n        return new StripeResponse(false, &quot;Stripe payment token is missing. please try again later.&quot;);\n    }\n    String chargeId = stripeService.createCharge(email, token, 999);// 9.99 usd\n    if (chargeId == null) {\n        return new StripeResponse(false, &quot;An error accurred while trying to charge.&quot;);\n    }\n    return new StripeResponse(true, &quot;Success your charge id is &quot; + chargeId);\n}\n</code></pre>\n<pre><code>@Override\npublic String createCharge(String email, String token, int amount) {\n    String chargeId = null;\n    try {\n        Stripe.apiKey = API_SECRET_KEY;\n        Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\n        chargeParams.put(&quot;description&quot;, &quot;Charge for &quot; + email);\n        chargeParams.put(&quot;currency&quot;, &quot;usd&quot;);\n        chargeParams.put(&quot;amount&quot;, amount);\n        chargeParams.put(&quot;source&quot;, token);\n        Charge charge = Charge.create(chargeParams);\n        chargeId = charge.getId();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return chargeId;\n}\n</code></pre>\n<p>I was trying to get a token with this code, it was going into the catch block and returning &quot;{ }&quot; to the console</p>\n<pre><code>stripe.createToken(payment).then((result) =&gt; {\n    // The code does not go here\n}).catch((error) =&gt; {\n    console.error(error); // Displays &quot;{ }&quot; in console\n});\n</code></pre>\n"},{"tags":["java","lambda","annotations","java-9"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1501162026,"post_id":44646915,"comment_id":77665566,"body_markdown":"One important difference between these two constructs is that a anonymous class still is a declaration of a class. A lambda expression don&#39;t create a new class (or not necessarily, if it does that is an implementation detail). I have the impression that annotations are only ever allowed on *declarations*. Are annotations ever allowed on *expressions*?","body":"One important difference between these two constructs is that a anonymous class still is a declaration of a class. A lambda expression don&#39;t create a new class (or not necessarily, if it does that is an implementation detail). I have the impression that annotations are only ever allowed on <i>declarations</i>. Are annotations ever allowed on <i>expressions</i>?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497945801,"creation_date":1497945801,"answer_id":44647260,"question_id":44646915,"body_markdown":"According to the [What&#39;s new in Oracle JDK 9][1] page, No.  This has not changed in Java 9.\r\n\r\nOf course, that is not definitive, but the JLS for Java 9 has not been released yet.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/whatsnew/toc.htm","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm\" rel=\"noreferrer\">What's new in Oracle JDK 9</a> page, No.  This has not changed in Java 9.</p>\n\n<p>Of course, that is not definitive, but the JLS for Java 9 has not been released yet.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497984509,"creation_date":1497973422,"answer_id":44657553,"question_id":44646915,"body_markdown":"it&#39;s interesting that they do annotate the inner class that &quot;represents&quot; the lambda expression in `InnerClassLambdaMetafactory.spinInnerClass` via :\r\n\r\n\r\n\r\n     mv.visitAnnotation(&quot;Ljava/lang/invoke/LambdaForm$Hidden;&quot;, true)\r\n\r\nBut that is annotating a class obviously, not a lambda per-se. \r\n\r\nAnnotating a lambda would require changes to the `invokedynamic` and implicitly the `LambdaMetafactory` as far as I can see - and what would happen when invokedynamic would *not* create a class for the lambda, but *something else*, what would happen to those annotations?","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>it's interesting that they do annotate the inner class that \"represents\" the lambda expression in <code>InnerClassLambdaMetafactory.spinInnerClass</code> via :</p>\n\n<pre><code> mv.visitAnnotation(\"Ljava/lang/invoke/LambdaForm$Hidden;\", true)\n</code></pre>\n\n<p>But that is annotating a class obviously, not a lambda per-se. </p>\n\n<p>Annotating a lambda would require changes to the <code>invokedynamic</code> and implicitly the <code>LambdaMetafactory</code> as far as I can see - and what would happen when invokedynamic would <em>not</em> create a class for the lambda, but <em>something else</em>, what would happen to those annotations?</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1497990091,"post_id":44660639,"comment_id":76310241,"body_markdown":"`... are even less of an ordinary class ` I can&#39;t wait that to happen and the changes that would be required for that","body":"<code>... are even less of an ordinary class </code> I can&#39;t wait that to happen and the changes that would be required for that"},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":0,"creation_date":1593551211,"post_id":44660639,"comment_id":110820714,"body_markdown":"Lambdas don&#39;t preserve their generics parameters either, which makes some framework use cases relying on reflection hard or impossible. Annotations could have helped, so not having either is unfortunate.\n\nBut I see the point about lambdas not being class-like.","body":"Lambdas don&#39;t preserve their generics parameters either, which makes some framework use cases relying on reflection hard or impossible. Annotations could have helped, so not having either is unfortunate.  But I see the point about lambdas not being class-like."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1593594010,"post_id":44660639,"comment_id":110832831,"body_markdown":"@MichaelB&#246;ckling mind that the questions example annotates a *creation site* (the `new` operators type), which isnt available via Reflection anyway. When you annotate the parameters of a lambda expression (or its parameter types), the annotations should be available, but you have to look into the creators class for the corresponding synthetic method, instead of the runtime generated class. Further, in my tests, only Eclipse produced reliable results, `javac` failed badly. Another obstacle is getting from a particular instance of a functional interface to the corresponding target method.","body":"@MichaelB&#246;ckling mind that the questions example annotates a <i>creation site</i> (the <code>new</code> operators type), which isnt available via Reflection anyway. When you annotate the parameters of a lambda expression (or its parameter types), the annotations should be available, but you have to look into the creators class for the corresponding synthetic method, instead of the runtime generated class. Further, in my tests, only Eclipse produced reliable results, <code>javac</code> failed badly. Another obstacle is getting from a particular instance of a functional interface to the corresponding target method."},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":0,"creation_date":1593608756,"post_id":44660639,"comment_id":110840289,"body_markdown":"`&gt; getting from a particular instance of a functional interface to the corresponding target method`\n\nIs that even possible with a stable API? If so, this might solve a problem that I have right now.","body":"<code>&gt; getting from a particular instance of a functional interface to the corresponding target method</code>  Is that even possible with a stable API? If so, this might solve a problem that I have right now."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1593610412,"post_id":44660639,"comment_id":110841277,"body_markdown":"@MichaelB&#246;ckling thats [an old issue](https://stackoverflow.com/q/31178103/2711488). In short, there is no API for that (thats why I called it an obsactle). The only in-language solution is to enforce serializable functions, as they have a persistent representation that names the target method. Otherwise, Id rather use bytecode instrumentation.","body":"@MichaelB&#246;ckling thats <a href=\"https://stackoverflow.com/q/31178103/2711488\">an old issue</a>. In short, there is no API for that (thats why I called it an obsactle). The only in-language solution is to enforce serializable functions, as they have a persistent representation that names the target method. Otherwise, Id rather use bytecode instrumentation."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1672722275,"creation_date":1497983666,"answer_id":44660639,"question_id":44646915,"body_markdown":"The existence of a Stack Overflow question is not sufficient to indicate that such a feature is planned, not even that someone is ever *considering* it.\r\n\r\nIf you look at the [list of JEPs](http://openjdk.java.net/jeps/0), you will see that there is no such JEP, not even in a draft state, suggesting such a feature.\r\n\r\nAlso, if you look at the current state of Java&#160;9s [`LambdaMetafactory`](http://download.java.net/java/jdk9/docs/api/?java/lang/invoke/LambdaMetafactory.html), you will see that no change has been made to support passing the meta information that would be necessary to generate a runtime class with recorded annotation data.\r\n\r\nThere seems to be some desire to add plenty of meta-information to what actually should be a small piece of throw-away code, but I doubt that the language designer will follow it. Lambda expressions are meant to define a function which encapsulates *behavior*, not an alternative way to describe an anonymous class. The long term evolution will rather lead to lambda expression implementations which are even less of an ordinary class.\r\n","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p>The existence of a Stack Overflow question is not sufficient to indicate that such a feature is planned, not even that someone is ever <em>considering</em> it.</p>\n<p>If you look at the <a href=\"http://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">list of JEPs</a>, you will see that there is no such JEP, not even in a draft state, suggesting such a feature.</p>\n<p>Also, if you look at the current state of Java9s <a href=\"http://download.java.net/java/jdk9/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a>, you will see that no change has been made to support passing the meta information that would be necessary to generate a runtime class with recorded annotation data.</p>\n<p>There seems to be some desire to add plenty of meta-information to what actually should be a small piece of throw-away code, but I doubt that the language designer will follow it. Lambda expressions are meant to define a function which encapsulates <em>behavior</em>, not an alternative way to describe an anonymous class. The long term evolution will rather lead to lambda expression implementations which are even less of an ordinary class.</p>\n"}],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":44660639,"answer_count":3,"score":21,"last_activity_date":1672722275,"creation_date":1497944799,"question_id":44646915,"body_markdown":"[This question](https://stackoverflow.com/questions/22375891/annotating-the-functional-interface-of-a-lambda-expression) is now over 3 years old and specifically addressed Java 8, with the accepted answer also citing the [Java SE 8 Final Specification](http://download.oracle.com/otndocs/jcp/java_se-8-fr-eval-spec/index.html).\r\n\r\nI would be interested if something regarding this question will change in Java 9: Is there any way to annotate a lambda expression similar to annotating a corresponding anonymous class?\r\n\r\n---\r\n\r\n**Example:**\r\n\r\nAnnotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE_USE)\r\n    public @interface MyTypeAnnotation {\r\n        public String value();\r\n    }\r\n\r\nWorking annotation of anonymous class:\r\n\r\n    Consumer&lt;String&gt; consumer = new @MyTypeAnnotation(&quot;Hello &quot;) Consumer&lt;String&gt;() {\r\n        @Override\r\n        public void accept(String str) {\r\n            System.out.println(str);\r\n        }\r\n    };\r\n\r\nAnnotating a lamba expression, currently not working in Java 8:\r\n\r\n    Consumer&lt;String&gt; myAnnotatedConsumer = @MyTypeAnnotation(&quot;Hello&quot;) (p -&gt; System.out.println(p));","title":"Will it be possible to annotate lambda expression in Java 9?","body":"<p><a href=\"https://stackoverflow.com/questions/22375891/annotating-the-functional-interface-of-a-lambda-expression\">This question</a> is now over 3 years old and specifically addressed Java 8, with the accepted answer also citing the <a href=\"http://download.oracle.com/otndocs/jcp/java_se-8-fr-eval-spec/index.html\" rel=\"noreferrer\">Java SE 8 Final Specification</a>.</p>\n\n<p>I would be interested if something regarding this question will change in Java 9: Is there any way to annotate a lambda expression similar to annotating a corresponding anonymous class?</p>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<p>Annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE_USE)\npublic @interface MyTypeAnnotation {\n    public String value();\n}\n</code></pre>\n\n<p>Working annotation of anonymous class:</p>\n\n<pre><code>Consumer&lt;String&gt; consumer = new @MyTypeAnnotation(\"Hello \") Consumer&lt;String&gt;() {\n    @Override\n    public void accept(String str) {\n        System.out.println(str);\n    }\n};\n</code></pre>\n\n<p>Annotating a lamba expression, currently not working in Java 8:</p>\n\n<pre><code>Consumer&lt;String&gt; myAnnotatedConsumer = @MyTypeAnnotation(\"Hello\") (p -&gt; System.out.println(p));\n</code></pre>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1672736788,"post_id":74989183,"comment_id":132336789,"body_markdown":"Pls provide reproducible example (e.g. used otel collector config, ...).","body":"Pls provide reproducible example (e.g. used otel collector config, ...)."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1672737639,"post_id":74989183,"comment_id":132337037,"body_markdown":"@JanGaraj the code used is already in that medium article. I have not changed anything and hence for brevity did not add the codes. Please check that article for otel collector config.","body":"@JanGaraj the code used is already in that medium article. I have not changed anything and hence for brevity did not add the codes. Please check that article for otel collector config."},{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1672738154,"post_id":74989183,"comment_id":132337197,"body_markdown":"Please refer to this where I have added my partially working configuration: https://stackoverflow.com/questions/74991374/promethrus-is-not-reading-otel-data","body":"Please refer to this where I have added my partially working configuration: <a href=\"https://stackoverflow.com/questions/74991374/promethrus-is-not-reading-otel-data\" title=\"promethrus is not reading otel data\">stackoverflow.com/questions/74991374/&hellip;</a>"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672738464,"answer_count":0,"score":0,"last_activity_date":1672721994,"creation_date":1672721994,"question_id":74989183,"body_markdown":"I have followed all the steps mentioned in this medium article: https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b\r\n\r\nMy application is supposed to send trace data to collector and collector is supposed to send them to jaeger and prometheus.\r\n[![enter image description here][1]][1]\r\n\r\nHowever I am unable to send any traces to the collector. My tracer.properties file has following config:\r\n\r\n    # debugging\r\n    #otel.javaagent.debug=true\r\n    \r\n    #prod\r\n    otel.traces.exporter=otlp,logging\r\n    otel.metrics.exporter=otlp,logging\r\n    otel.logs.exporter=none\r\n    otel.service.name=service1\r\n    #otel.exporter.jaeger.endpoint=http://localhost:14278\r\n    #otel.exporter.jaeger.timeout=10000\r\n    #otel.propagators=jaeger\r\n    otel.exporter.otlp.traces.endpoint=http://localhost:14278\r\n    otel.exporter.otlp.metrics.endpoint=http://localhost:14278\r\n    otel.exporter.otlp.traces.protocol=grpc\r\n    otel.exporter.otlp.metrics.protocol=grpc\r\n\r\nWhenever I try to send data I get following error:\r\n\r\n    [otel.javaagent 2023-01-03 10:27:00:271 +0530] [http-nio-8081-exec-2] INFO io.opentelemetry.exporter.logging.LoggingSpanExporter - &#39;/&#39; : ee593fc59976ce74468789cae3dc67d9 6b6a159470d9545b SERVER [tracer: io.opentelemetry.tomcat-10.0:1.20.2-alpha] AttributesMap{data={net.sock.host.addr=127.0.0.1, http.user_agent=Java/17.0.5, http.route=/, http.method=GET, http.scheme=http, net.host.name=localhost, net.transport=ip_tcp, http.status_code=200, net.host.port=8081, http.target=/, net.sock.peer.addr=127.0.0.1, http.flavor=1.1, http.response_content_length=134, thread.name=http-nio-8081-exec-2, thread.id=26, net.sock.peer.port=61816}, capacity=128, totalAddedValues=16}\r\n    [otel.javaagent 2023-01-03 10:27:04:689 +0530] [OkHttp http://localhost:14278/...] ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\r\n\r\nIn the medium article author tries to connect a go application but here I try to connect a java application. Other than that there is no change in both of our setup.\r\n\r\nI am able to connect directly with jaeger-all-in-one and get trace data (check commented out config in tracer.properties). Issue is connecting via collector\r\n\r\n  [1]: https://i.stack.imgur.com/dhQnw.png","title":"Connecting otel agent with otel collector","body":"<p>I have followed all the steps mentioned in this medium article: <a href=\"https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b\" rel=\"nofollow noreferrer\">https://medium.com/@guilospanck/telemetry-with-opentelemetry-prometheus-and-jaeger-46a2d9dec86b</a></p>\n<p>My application is supposed to send trace data to collector and collector is supposed to send them to jaeger and prometheus.\n<a href=\"https://i.stack.imgur.com/dhQnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dhQnw.png\" alt=\"enter image description here\" /></a></p>\n<p>However I am unable to send any traces to the collector. My tracer.properties file has following config:</p>\n<pre><code># debugging\n#otel.javaagent.debug=true\n\n#prod\notel.traces.exporter=otlp,logging\notel.metrics.exporter=otlp,logging\notel.logs.exporter=none\notel.service.name=service1\n#otel.exporter.jaeger.endpoint=http://localhost:14278\n#otel.exporter.jaeger.timeout=10000\n#otel.propagators=jaeger\notel.exporter.otlp.traces.endpoint=http://localhost:14278\notel.exporter.otlp.metrics.endpoint=http://localhost:14278\notel.exporter.otlp.traces.protocol=grpc\notel.exporter.otlp.metrics.protocol=grpc\n</code></pre>\n<p>Whenever I try to send data I get following error:</p>\n<pre><code>[otel.javaagent 2023-01-03 10:27:00:271 +0530] [http-nio-8081-exec-2] INFO io.opentelemetry.exporter.logging.LoggingSpanExporter - '/' : ee593fc59976ce74468789cae3dc67d9 6b6a159470d9545b SERVER [tracer: io.opentelemetry.tomcat-10.0:1.20.2-alpha] AttributesMap{data={net.sock.host.addr=127.0.0.1, http.user_agent=Java/17.0.5, http.route=/, http.method=GET, http.scheme=http, net.host.name=localhost, net.transport=ip_tcp, http.status_code=200, net.host.port=8081, http.target=/, net.sock.peer.addr=127.0.0.1, http.flavor=1.1, http.response_content_length=134, thread.name=http-nio-8081-exec-2, thread.id=26, net.sock.peer.port=61816}, capacity=128, totalAddedValues=16}\n[otel.javaagent 2023-01-03 10:27:04:689 +0530] [OkHttp http://localhost:14278/...] ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\n</code></pre>\n<p>In the medium article author tries to connect a go application but here I try to connect a java application. Other than that there is no change in both of our setup.</p>\n<p>I am able to connect directly with jaeger-all-in-one and get trace data (check commented out config in tracer.properties). Issue is connecting via collector</p>\n"},{"tags":["java","android","android-studio","admob","interstitial"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1669791949,"post_id":74623868,"comment_id":131720769,"body_markdown":"1. Dismiss the dialog in `onAdLoaded`. 2. You are not using `mInterstitialAd.show(activity)` on the loaded Interstitial. 3. There is no `startActivity` but a `finish` in `onAdDismissedFullScreenContent` which will finish the current activity.","body":"1. Dismiss the dialog in <code>onAdLoaded</code>. 2. You are not using <code>mInterstitialAd.show(activity)</code> on the loaded Interstitial. 3. There is no <code>startActivity</code> but a <code>finish</code> in <code>onAdDismissedFullScreenContent</code> which will finish the current activity."},{"owner":{"account_id":27094829,"reputation":1,"user_id":20642163,"display_name":"user20642163"},"score":0,"creation_date":1669795365,"post_id":74623868,"comment_id":131721687,"body_markdown":"I have implemented all the above but now the app crashes immediately i click the button.","body":"I have implemented all the above but now the app crashes immediately i click the button."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1669800148,"post_id":74623868,"comment_id":131723151,"body_markdown":"Can you trying using `mInterstitialAd.show(StartActivity.this);` after you&#39;ve set the `setFullScreenContentCallback`? And also post the crash stacktrace.","body":"Can you trying using <code>mInterstitialAd.show(StartActivity.this);</code> after you&#39;ve set the <code>setFullScreenContentCallback</code>? And also post the crash stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669792167,"creation_date":1669792167,"answer_id":74624003,"question_id":74623868,"body_markdown":"You are not dismissing your progress dialog upon `onAdDismissedFullScreenContent`\r\n\r\n```java\r\n@Override\r\n  public void onAdDismissedFullScreenContent() {\r\n  // Called when ad is dismissed.\r\n  // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n  pd.dismiss()\r\n  mInterstitialAd = null;\r\n  StartActivity.this.finish();\r\n}\r\n```\r\n\r\n**Always remember to handle dialog states, or it can cause window leaks.**","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>You are not dismissing your progress dialog upon <code>onAdDismissedFullScreenContent</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  public void onAdDismissedFullScreenContent() {\n  // Called when ad is dismissed.\n  // Set the ad reference to null so you don't show the ad a second time.\n  pd.dismiss()\n  mInterstitialAd = null;\n  StartActivity.this.finish();\n}\n</code></pre>\n<p><strong>Always remember to handle dialog states, or it can cause window leaks.</strong></p>\n"},{"comments":[{"owner":{"account_id":27094829,"reputation":1,"user_id":20642163,"display_name":"user20642163"},"score":0,"creation_date":1669797245,"post_id":74624572,"comment_id":131722237,"body_markdown":"Confirm if i&#39;m missing sth in the edited code. unfortunately its still stuck on loading processDialog","body":"Confirm if i&#39;m missing sth in the edited code. unfortunately its still stuck on loading processDialog"}],"tags":[],"owner":{"account_id":13909160,"reputation":76,"user_id":10042809,"display_name":"Fahad Bin Asif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669799377,"creation_date":1669795577,"answer_id":74624572,"question_id":74623868,"body_markdown":"Start Activity before `finish()` is called &lt;br/&gt;\r\n\r\n    @Override                               \r\n        public void onAdDismissedFullScreenContent() {\r\n            // Called when ad is dismissed.\r\n            // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n            pd.dismiss()\r\n            mInterstitialAd = null;\r\n            startActivity(new Intent(StartActivity.this, NextActivity.class));\r\n            StartActivity.this.finish();\r\n            \r\n    \r\n    } \r\n\r\n   ","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>Start Activity before <code>finish()</code> is called <br/></p>\n<pre><code>@Override                               \n    public void onAdDismissedFullScreenContent() {\n        // Called when ad is dismissed.\n        // Set the ad reference to null so you don't show the ad a second time.\n        pd.dismiss()\n        mInterstitialAd = null;\n        startActivity(new Intent(StartActivity.this, NextActivity.class));\n        StartActivity.this.finish();\n        \n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13736277,"reputation":404,"user_id":9912464,"display_name":"Gouranga Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672721622,"creation_date":1672721622,"answer_id":74989155,"question_id":74623868,"body_markdown":"You should dismiss the dialog if the interstitial fails to load or show.\r\n\r\n````\r\n\r\nprivate void openNextPage(ProgressDialog pd){\r\n    pd.dismiss();\r\n    mInterstitialAd = null;\r\n    startActivity(new Intent(StartActivity.this, MainActivity.class));\r\n    StartActivity.this.finish();\r\n}\r\n````\r\n\r\n````\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n        InterstitialAd.load(StartActivity.this,\r\n                StartActivity.this.getString(R.string.main_inter),\r\n                adRequest, new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        // Don&#39;t dismiss dialog here as we are going to show interstitials now\r\n\r\n                        mInterstitialAd = interstitialAd;\r\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                            @Override\r\n                            public void onAdClicked() {\r\n                                // Called when a click is recorded for an ad.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdDismissedFullScreenContent() {\r\n                                // Called when ad is dismissed.\r\n                                openNextPage(pd);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                // Called when ad fails to show.\r\n                                openNextPage(pd);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdImpression() {\r\n                                // Called when an impression is recorded for an ad.\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdShowedFullScreenContent() {\r\n                                // Called when ad is shown.\r\n                            }\r\n                        });\r\n\r\n                        mInterstitialAd.show(StartActivity.this);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        openNextPage(pd);\r\n                    }\r\n                });\r\n````","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>You should dismiss the dialog if the interstitial fails to load or show.</p>\n<pre><code>\nprivate void openNextPage(ProgressDialog pd){\n    pd.dismiss();\n    mInterstitialAd = null;\n    startActivity(new Intent(StartActivity.this, MainActivity.class));\n    StartActivity.this.finish();\n}\n</code></pre>\n<pre><code>        AdRequest adRequest = new AdRequest.Builder().build();\n\n        InterstitialAd.load(StartActivity.this,\n                StartActivity.this.getString(R.string.main_inter),\n                adRequest, new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        // Don't dismiss dialog here as we are going to show interstitials now\n\n                        mInterstitialAd = interstitialAd;\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                            @Override\n                            public void onAdClicked() {\n                                // Called when a click is recorded for an ad.\n                            }\n\n                            @Override\n                            public void onAdDismissedFullScreenContent() {\n                                // Called when ad is dismissed.\n                                openNextPage(pd);\n                            }\n\n                            @Override\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                // Called when ad fails to show.\n                                openNextPage(pd);\n                            }\n\n                            @Override\n                            public void onAdImpression() {\n                                // Called when an impression is recorded for an ad.\n                            }\n\n                            @Override\n                            public void onAdShowedFullScreenContent() {\n                                // Called when ad is shown.\n                            }\n                        });\n\n                        mInterstitialAd.show(StartActivity.this);\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        openNextPage(pd);\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":27094829,"reputation":1,"user_id":20642163,"display_name":"user20642163"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672721622,"creation_date":1669791281,"question_id":74623868,"body_markdown":"So i recently updated my code with the latest admob SDK and dependencies.\r\nit is supposed to show an interstitial ad before going to the next page.\r\nupon running it the StartActivity is stuck on process dialog and wont go to the next page.\r\nhere is the code\r\n\r\n\r\n```\r\n\r\n                //Start Here\r\n                AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\n                InterstitialAd.load(StartActivity.this,StartActivity.this.getString(R.string.main_inter), adRequest,\r\n                        new InterstitialAdLoadCallback() {\r\n                            @Override\r\n                            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                                // The mInterstitialAd reference will be null until\r\n                                // an ad is loaded.\r\n                                pd.dismiss();\r\n\r\n                                mInterstitialAd = interstitialAd;\r\n                                mInterstitialAd.show(StartActivity.this);\r\n                                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\r\n                                    @Override\r\n                                    public void onAdClicked() {\r\n                                        // Called when a click is recorded for an ad.\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdDismissedFullScreenContent() {\r\n                                        // Called when ad is dismissed.\r\n                                        // Set the ad reference to null so you don&#39;t show the ad a second time.\r\n\r\n                                        pd.dismiss();\r\n                                        mInterstitialAd = null;\r\n                                        startActivity(new Intent(StartActivity.this, MainActivity.class));\r\n                                        StartActivity.this.finish();\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                        // Called when ad fails to show.\r\n                                        mInterstitialAd = null;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdImpression() {\r\n                                        // Called when an impression is recorded for an ad.\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onAdShowedFullScreenContent() {\r\n                                        // Called when ad is shown.\r\n                                    }\r\n                                });\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                                // Handle the error\r\n                                mInterstitialAd = null;\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\n","title":"Activity is stuck on process dialog and wont go to the next page","body":"<p>So i recently updated my code with the latest admob SDK and dependencies.\nit is supposed to show an interstitial ad before going to the next page.\nupon running it the StartActivity is stuck on process dialog and wont go to the next page.\nhere is the code</p>\n<pre><code>\n                //Start Here\n                AdRequest adRequest = new AdRequest.Builder().build();\n\n                InterstitialAd.load(StartActivity.this,StartActivity.this.getString(R.string.main_inter), adRequest,\n                        new InterstitialAdLoadCallback() {\n                            @Override\n                            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                                // The mInterstitialAd reference will be null until\n                                // an ad is loaded.\n                                pd.dismiss();\n\n                                mInterstitialAd = interstitialAd;\n                                mInterstitialAd.show(StartActivity.this);\n                                mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\n                                    @Override\n                                    public void onAdClicked() {\n                                        // Called when a click is recorded for an ad.\n                                    }\n\n                                    @Override\n                                    public void onAdDismissedFullScreenContent() {\n                                        // Called when ad is dismissed.\n                                        // Set the ad reference to null so you don't show the ad a second time.\n\n                                        pd.dismiss();\n                                        mInterstitialAd = null;\n                                        startActivity(new Intent(StartActivity.this, MainActivity.class));\n                                        StartActivity.this.finish();\n                                    }\n\n                                    @Override\n                                    public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                        // Called when ad fails to show.\n                                        mInterstitialAd = null;\n                                    }\n\n                                    @Override\n                                    public void onAdImpression() {\n                                        // Called when an impression is recorded for an ad.\n                                    }\n\n                                    @Override\n                                    public void onAdShowedFullScreenContent() {\n                                        // Called when ad is shown.\n                                    }\n                                });\n                            }\n\n                            @Override\n                            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                                // Handle the error\n                                mInterstitialAd = null;\n                            }\n                        });\n            }\n        });\n\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","itext7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672738890,"post_id":74989120,"comment_id":132337439,"body_markdown":"*...but the output that I am getting is &quot;Please refer the below image&quot;* I doubt that. For one thing, it&#39;s not proper English, so is unlikely to appear from a major API like iText","body":"<i>...but the output that I am getting is &quot;Please refer the below image&quot;</i> I doubt that. For one thing, it&#39;s not proper English, so is unlikely to appear from a major API like iText"},{"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"score":0,"creation_date":1672914286,"post_id":74989120,"comment_id":132381977,"body_markdown":"Indian language rendering are not supported in iText 5 version. If you want to render any Indian language, then iText 7 has a module called pdfCalligraph which is the closed source product. Refer this link https://itextpdf.com/products/itext-7/pdfcalligraph","body":"Indian language rendering are not supported in iText 5 version. If you want to render any Indian language, then iText 7 has a module called pdfCalligraph which is the closed source product. Refer this link <a href=\"https://itextpdf.com/products/itext-7/pdfcalligraph\" rel=\"nofollow noreferrer\">itextpdf.com/products/itext-7/pdfcalligraph</a>"}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1672721359,"creation_date":1672721219,"question_id":74989120,"body_markdown":"I am creating a small Bilingual application in Telugu and English languages using Java and Spring Boot. Here, I have to generate Pdf both Telugu and English Languages. So, I am Generating a pdf Using itext Library. This pdf has both Telugu and English Languages. but, The problem is English is appearing Properly in the PDF but Telugu Language is not displaying properly\r\n\r\nI&#39;ve tried with multiple **.ttf telugu fonts**. but the telugu text is not displaying properly.\r\n\r\nexample: the Telugu text that I want to show is ** **\r\nbut the output that I am getting is &quot;Please refer the below image&quot;\r\n\r\n[![output in pdf][1]][1]\r\n\r\nSo, anyone Please guide me to solve this issue. Thank You.\r\n\r\nBelow I am Attching the Code Please, check.\r\n\r\n1.Code\r\n\r\n```java\r\npublic class samplepdf {\r\n\t\r\n\tpublic void export(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\t\t\tthrows DocumentException, ParseException, java.io.IOException, SAXException, ParserConfigurationException\r\n\t{\r\n\t\t\r\n\t\tByteArrayOutputStream baos = null;\r\n\t\tbaos = new ByteArrayOutputStream();\r\n\r\n\t\t//Create Document\r\n\t\tDocument doc  = new Document();\r\n\t\t\r\n\t\t//Pass 2 things ---&gt; What to render &amp; where to render\r\n\t\tPdfWriter instance2 = PdfWriter.getInstance(doc, response.getOutputStream());\r\n\r\n\r\n\t\tParagraph bottom = new Paragraph();\r\n\t\tbottom.add(Chunk.NEWLINE);\r\n\t\tbottom.setAlignment(Element.ALIGN_BOTTOM);\r\n\t\tbottom.setAlignment(Element.ALIGN_CENTER);\r\n\r\n\t\t//Open the document to start the work\r\n\t\tdoc.open();\r\n\t\t \r\n\t\t  Paragraph  paragraph2 = new Paragraph();\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-Light.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Gidugu.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/akshar.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/gautami.ttf&quot;);\r\n\t\t  //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\r\n\t\t  String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-VariableFont.ttf&quot;);\r\n\t\t  BaseFont bf_cjk1 = BaseFont.createFont(fontpath, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n\t\t  Font cjk1 = new Font(bf_cjk1, 12,Font.NORMAL);\r\n\t\t  paragraph2.setFont(cjk1);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  paragraph2.add(&quot; &quot;);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  paragraph2.add(Chunk.NEWLINE);\r\n\t\t  doc.add(paragraph2);\r\n\t\t  \r\n\t\t//Here, Closing the document.\r\n\t\t\tdoc.close();\r\n\t\t\ttry {\r\n\t\t\t\tServletOutputStream os = response.getOutputStream();\r\n\t\t\t\tos.flush();\r\n\t\t\t\tos.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/gtptd.png","title":"Telugu Text is not displaying properly in itext generated pdf","body":"<p>I am creating a small Bilingual application in Telugu and English languages using Java and Spring Boot. Here, I have to generate Pdf both Telugu and English Languages. So, I am Generating a pdf Using itext Library. This pdf has both Telugu and English Languages. but, The problem is English is appearing Properly in the PDF but Telugu Language is not displaying properly</p>\n<p>I've tried with multiple <strong>.ttf telugu fonts</strong>. but the telugu text is not displaying properly.</p>\n<p>example: the Telugu text that I want to show is <strong> </strong>\nbut the output that I am getting is &quot;Please refer the below image&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/gtptd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gtptd.png\" alt=\"output in pdf\" /></a></p>\n<p>So, anyone Please guide me to solve this issue. Thank You.</p>\n<p>Below I am Attching the Code Please, check.</p>\n<p>1.Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class samplepdf {\n    \n    public void export(HttpServletRequest request, HttpServletResponse response)\n                    throws DocumentException, ParseException, java.io.IOException, SAXException, ParserConfigurationException\n    {\n        \n        ByteArrayOutputStream baos = null;\n        baos = new ByteArrayOutputStream();\n\n        //Create Document\n        Document doc  = new Document();\n        \n        //Pass 2 things ---&gt; What to render &amp; where to render\n        PdfWriter instance2 = PdfWriter.getInstance(doc, response.getOutputStream());\n\n\n        Paragraph bottom = new Paragraph();\n        bottom.add(Chunk.NEWLINE);\n        bottom.setAlignment(Element.ALIGN_BOTTOM);\n        bottom.setAlignment(Element.ALIGN_CENTER);\n\n        //Open the document to start the work\n        doc.open();\n         \n          Paragraph  paragraph2 = new Paragraph();\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-Light.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Gidugu.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/akshar.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/gautami.ttf&quot;);\n          //String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/Chathura Light.ttf&quot;);\n          String fontpath = request.getServletContext().getRealPath(&quot;/static/TeluguFonts/NotoSansTelugu-VariableFont.ttf&quot;);\n          BaseFont bf_cjk1 = BaseFont.createFont(fontpath, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n          Font cjk1 = new Font(bf_cjk1, 12,Font.NORMAL);\n          paragraph2.setFont(cjk1);\n          paragraph2.add(Chunk.NEWLINE);\n          paragraph2.add(&quot; &quot;);\n          paragraph2.add(Chunk.NEWLINE);\n          paragraph2.add(Chunk.NEWLINE);\n          doc.add(paragraph2);\n          \n        //Here, Closing the document.\n            doc.close();\n            try {\n                ServletOutputStream os = response.getOutputStream();\n                os.flush();\n                os.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","public-key-encryption","session-keys"],"owner":{"account_id":18613909,"reputation":53,"user_id":13565633,"display_name":"Shiv Shrivas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672721072,"creation_date":1672721072,"question_id":74989110,"body_markdown":"I got this description for SKey block in documentation for generating XML request \r\n\r\n&gt; Element: Skey (mandatory): **Value of this element is base-64 encoded\r\n&gt; value of encrypted 256-bit AES session key. Session key must be\r\n&gt; dynamically generated for every transaction (session key must not be\r\n&gt; reused) and must not be stored anywhere except in memory. See next\r\n&gt; chapter for encryption details**.\r\n&gt; \r\n&gt; Attributes: ci  **(mandatory) Public key certificate identifier using\r\n&gt; which skey was encrypted. UIDAI may have multiple public keys in\r\n&gt; field at the same time. Value of this attribute is the certificate\r\n&gt; expiration date in the format YYYYMMDD. Expiry date of the\r\n&gt; certificate can be obtained from the certificate itself**\r\n\r\n\r\n\r\nAnd I want something like this:-\r\n\r\n            A00&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/2.0&quot; ac=&quot;public&quot; lk=&quot;Mssshhhhhhhhhhhhhhhhhhhhhhhhsssssssssssfff&quot; rc=&quot;Y&quot; sa=&quot;public&quot; tid=&quot;&quot; txn=&quot;AuthDemoClient:PUBLIC:20180601103742966&quot; uid=&quot;1111111111111111&quot; ver=&quot;2.5&quot;&gt;&lt;Uses bio=&quot;n&quot; otp=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; pin=&quot;n&quot;/&gt;&lt;Meta dc=&quot;&quot; dpId=&quot;&quot; mc=&quot;&quot; mi=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot;/&gt;\r\n    \r\n        &lt;Skey ci=&quot;20201030&quot;&gt;lrsFAH8bGjpEetiMEb7AFQBBOZeP0I6L21nY7weKKYE0/SakC7E6jlQXjNtSCH8IISIb3EorbdwsCWFGq9z/TILQs0JmB15fKAopTZx6/mNkGjuTLk1t6tjTValJxXmWq8/F8IHcjuM70yWwwMmuwJRuxZPOkoFFjSBUqFVkSVKtBYQobTUEWL7i/PEyMIQyDRfQy/SMTdYDqFQStnBQofvBcj0UbUT2I9g0+2VEwwFKuiZZ8KEuYvy+SE9YvnOncARtqxp1jveeyPkpuA2QymiDnpfcV/mjBnqCHdeVBHM1tB3YIUCtO9rNHqfUP13iI0eWRwQeYrsKctRDmLkB0g==&lt;/Skey&gt;\r\n    \r\n        &lt;Data type=&quot;X&quot;&gt;MjAxOC0wNi0wMVQxMDozNzo0MRq5ZwZTA2ddEuSXZNj5oofGkQ01abbLy0+3SGV6CbrRFSRb8Ve/6a+IOxAE5Zswij3GYebGAw4XeXAOI88Vxd2zxO//ZFq6loq5o0TbSIRg/oBJ7hpa5J2P20nGeMKsaygSvmsY9M3DFTAcjy3Dkq5RalwW+zELM58l9VgyQXhTVO0fqzgH2XNrYPsBfSpfI1Uwx4t1OCjhdyJJWnDG8c3JADzbA4smISjw//K38qUumUjIaRClwnx61xdj0992hwTN7fNK5iDkN78g8NppKQz+mY/zMJRPjJAJK6Ead+ioiwMquPVAfwdHS7hUC5XIqXSKYjpyd3soeM0kkS81d3vrnUuFFmkJp/Q==&lt;/Data&gt;\r\n    \r\n    &lt;Hmac&gt;9nkUcE3nYbs22zXa9zX0PAUn0hNG3lo/vKfEy3x5ELeHUfXpXcR3y92x1ZEmM5K0&lt;/Hmac&gt;\r\n    \r\n    &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;&lt;Reference URI=&quot;&quot;&gt;&lt;Transforms&gt;&lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;&lt;DigestValue&gt;NMemaHgaMX0aO51Mbq1jKsOsCG0=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;izR4i53yCpzlO3AVcgtmSj87H5AzEya4NZTGwPe3Pq3wPOgtwvXsHVzM4GBoo/8MaDzyJpYxstXmcmdZvcd2ljCg0byJ4hOZepd7w0OYbudDICD5wVObaLGGcWJm5mIoeusy/3rOf/SIF/UxUUNe/9Ao4IBKuAq7iAuE2+B7vECeGfeDNEBtqgrKByAHAMoz6tV0QeeShfPFIvuEWXuMSzaJGDspGSy6sn/ktgYm7kNLqELklFjmJQUSbJ/S9BO3Z2O6gXVGa+/A7vBkHGwfBOo7fOA9sqjHLWG3VjfKU4x/Qpl2Nlwqo36UH1PuoV40sPsKLYWJvmzPA3ldjeNywA==&lt;/SignatureValue&gt;&lt;KeyInfo&gt;&lt;X509Data&gt;&lt;X509SubjectName&gt;CN=DS NSDL E GOVERNANCE INFRASTRUCTURE LIMITED 3,2.5.4.51=#133331535420464c4f4f522054494d455320544f574552204b414d414c41204d494c4c5320434f4d504f554e44205342204d415247,STREET=MUMBAI,ST=MAHARASHTRA,2.5.4.17=#1306343030303133,OU=PAN TIN AND UID OPERATIONS,O=NSDL E GOVERNANCE INFRASTRUCTURE LIMITED,C=IN&lt;/X509SubjectName&gt;&lt;X509Certificate&gt;MIIGIjCCBQqgAwIBAgIEANgp4jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCSU4xKjAoBgNVBAoTIWVNdWRocmEgQ29uc3VtZXIgU2VydmljZXMgTGltaXRlZDEdMBsGA1UECxMUQ2VydGlmeWluZyBBdXRob3JpdHkxOTA3BgNVBAMTMGUtTXVkaHJhIFN1YiBDQSBDbGFzcyAyIGZvciBEb2N1bWVudCBTaWduZXIgMjAxNDAeFw0xNzA2MjMxMTUzMTVaFw0xOTA2MjMxMTUzMTVaMIIBEzELMAkGA1UEBhMCSU4xMTAvBgNVBAoTKE5TREwgRSBHT1ZFUk5BTkNFIElORlJBU1RSVUNUVVJFIExJTUlURUQxIzAhBgNVBAsTGlBBTiBUSU4gQU5EIFVJRCBPUEVSQVRJT05TMQ8wDQYDVQQREwY0MDAwMTMxFDASBgNVBAgTC01BSEFSQVNIVFJBMQ8wDQYDVQQJEwZNVU1CQUkxPDA6BgNVBDMTMzFTVCBGTE9PUiBUSU1FUyBUT1dFUiBLQU1BTEEgTUlMTFMgQ09NUE9VTkQgU0IgTUFSRzE2MDQGA1UEAxMtRFMgTlNETCBFIEdPVkVSTkFOQ0UgSU5GUkFTVFJVQ1RVUkUgTElNSVRFRCAzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0o9vohWZ3ztI9ea8D/zUEUBRq6c82BE7sFmr1hNMeuGSJQFf39ceesRtGUzlUYVWXcU23P8sVZ5419CHh7ApFzUXaLD72i/2d5FFI0n3iRlTQec9PEUHyrvOCVDpqBhbnrO/EHBqRluUQJTQUtMu5mhPNFV7IIJMTEAsUhCL9adZXXQK9NeK0foRr29Oq7VdEGfSeLzHIibpQmhNPh89oJXqu0cmbNSW4J4i2GmwHQpmsmHaSQcgh4mgVrykO64pAKXPreAPipDHQM1l/e5hilYlWfLHxhC5ObTCTcydQ218IVulFOFhdQt7xVV61TOmoTC2elhWbDqoLJBVU5mBfQIDAQABo4IB+TCCAfUwEwYDVR0jBAwwCoAITaZEyKbiAAgwHQYDVR0OBBYEFGzNaT6D2SoleAtlGlS4gBsQvo3qMA4GA1UdDwEB/wQEAwIGwDAcBgNVHREEFTATgRFISVRFTk1ATlNETC5DTy5JTjCB0gYDVR0gBIHKMIHHMC0GBmCCZGQCAjAjMCEGCCsGAQUFBwICMBUaE0NsYXNzIDIgQ2VydGlmaWNhdGUwRAYGYIJkZAoBMDowOAYIKwYBBQUHAgIwLBoqT3JnYW5pc2F0aW9uYWwgRG9jdW1lbnQgU2lnbmVyIENlcnRpZmljYXRlMFAGB2CCZGQBCAIwRTBDBggrBgEFBQcCARY3aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcHMvZS1NdWRocmFfQ1BTLnBkZjB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmUtbXVkaHJhLmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jYWNlcnRzL2RvY2NsMi5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcmxzL2RvY2NsMi5jcmwwDQYJKoZIhvcNAQELBQADggEBALp9E7tM/HvtM+FEfaHdBn5MqL2WLf/GuuMH02ULbIDLQQNK+R4ivuFXLAqU5hbgtr9Yi1oRlfA5iTVDfxKLW6nGF3aSzNihgwhNP69/WM0TozxwYzCxMAVMGPGY+wUuLxWo67RybDCmQCaeG/RXM7FzfKtX8E99g9pBwjw23dc3kGIUqnWUqTEXjauYwz/7XDO2PWJw7F+PPeOrrxC2gA0F6jCT24bZjoF32eLCgXFcE5tIBMhM8WnUR3Pfex8mw5sctuUi8WFkgbLVrIBGuRDebMmr2/k2+D/O4tyTSbdl8YIV4MtHvMIUHnD0Z691Tjwj109A6h0AtuJAXvOm7FE=&lt;/X509Certificate&gt;&lt;/X509Data&gt;&lt;/KeyInfo&gt;&lt;/Signature&gt;\r\n    &lt;/Auth&gt;","title":"How to create session key on behalf or public key identifier","body":"<p>I got this description for SKey block in documentation for generating XML request</p>\n<blockquote>\n<p>Element: Skey (mandatory): <strong>Value of this element is base-64 encoded\nvalue of encrypted 256-bit AES session key. Session key must be\ndynamically generated for every transaction (session key must not be\nreused) and must not be stored anywhere except in memory. See next\nchapter for encryption details</strong>.</p>\n<p>Attributes: ci  <strong>(mandatory) Public key certificate identifier using\nwhich skey was encrypted. UIDAI may have multiple public keys in\nfield at the same time. Value of this attribute is the certificate\nexpiration date in the format YYYYMMDD. Expiry date of the\ncertificate can be obtained from the certificate itself</strong></p>\n</blockquote>\n<p>And I want something like this:-</p>\n<pre><code>        A00&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Auth xmlns=&quot;http://www.uidai.gov.in/authentication/uid-auth-request/2.0&quot; ac=&quot;public&quot; lk=&quot;Mssshhhhhhhhhhhhhhhhhhhhhhhhsssssssssssfff&quot; rc=&quot;Y&quot; sa=&quot;public&quot; tid=&quot;&quot; txn=&quot;AuthDemoClient:PUBLIC:20180601103742966&quot; uid=&quot;1111111111111111&quot; ver=&quot;2.5&quot;&gt;&lt;Uses bio=&quot;n&quot; otp=&quot;n&quot; pa=&quot;n&quot; pfa=&quot;n&quot; pi=&quot;y&quot; pin=&quot;n&quot;/&gt;&lt;Meta dc=&quot;&quot; dpId=&quot;&quot; mc=&quot;&quot; mi=&quot;&quot; rdsId=&quot;&quot; rdsVer=&quot;&quot;/&gt;\n\n    &lt;Skey ci=&quot;20201030&quot;&gt;lrsFAH8bGjpEetiMEb7AFQBBOZeP0I6L21nY7weKKYE0/SakC7E6jlQXjNtSCH8IISIb3EorbdwsCWFGq9z/TILQs0JmB15fKAopTZx6/mNkGjuTLk1t6tjTValJxXmWq8/F8IHcjuM70yWwwMmuwJRuxZPOkoFFjSBUqFVkSVKtBYQobTUEWL7i/PEyMIQyDRfQy/SMTdYDqFQStnBQofvBcj0UbUT2I9g0+2VEwwFKuiZZ8KEuYvy+SE9YvnOncARtqxp1jveeyPkpuA2QymiDnpfcV/mjBnqCHdeVBHM1tB3YIUCtO9rNHqfUP13iI0eWRwQeYrsKctRDmLkB0g==&lt;/Skey&gt;\n\n    &lt;Data type=&quot;X&quot;&gt;MjAxOC0wNi0wMVQxMDozNzo0MRq5ZwZTA2ddEuSXZNj5oofGkQ01abbLy0+3SGV6CbrRFSRb8Ve/6a+IOxAE5Zswij3GYebGAw4XeXAOI88Vxd2zxO//ZFq6loq5o0TbSIRg/oBJ7hpa5J2P20nGeMKsaygSvmsY9M3DFTAcjy3Dkq5RalwW+zELM58l9VgyQXhTVO0fqzgH2XNrYPsBfSpfI1Uwx4t1OCjhdyJJWnDG8c3JADzbA4smISjw//K38qUumUjIaRClwnx61xdj0992hwTN7fNK5iDkN78g8NppKQz+mY/zMJRPjJAJK6Ead+ioiwMquPVAfwdHS7hUC5XIqXSKYjpyd3soeM0kkS81d3vrnUuFFmkJp/Q==&lt;/Data&gt;\n\n&lt;Hmac&gt;9nkUcE3nYbs22zXa9zX0PAUn0hNG3lo/vKfEy3x5ELeHUfXpXcR3y92x1ZEmM5K0&lt;/Hmac&gt;\n\n&lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;&lt;SignedInfo&gt;&lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;&lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;&lt;Reference URI=&quot;&quot;&gt;&lt;Transforms&gt;&lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;&lt;/Transforms&gt;&lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;&lt;DigestValue&gt;NMemaHgaMX0aO51Mbq1jKsOsCG0=&lt;/DigestValue&gt;&lt;/Reference&gt;&lt;/SignedInfo&gt;&lt;SignatureValue&gt;izR4i53yCpzlO3AVcgtmSj87H5AzEya4NZTGwPe3Pq3wPOgtwvXsHVzM4GBoo/8MaDzyJpYxstXmcmdZvcd2ljCg0byJ4hOZepd7w0OYbudDICD5wVObaLGGcWJm5mIoeusy/3rOf/SIF/UxUUNe/9Ao4IBKuAq7iAuE2+B7vECeGfeDNEBtqgrKByAHAMoz6tV0QeeShfPFIvuEWXuMSzaJGDspGSy6sn/ktgYm7kNLqELklFjmJQUSbJ/S9BO3Z2O6gXVGa+/A7vBkHGwfBOo7fOA9sqjHLWG3VjfKU4x/Qpl2Nlwqo36UH1PuoV40sPsKLYWJvmzPA3ldjeNywA==&lt;/SignatureValue&gt;&lt;KeyInfo&gt;&lt;X509Data&gt;&lt;X509SubjectName&gt;CN=DS NSDL E GOVERNANCE INFRASTRUCTURE LIMITED 3,2.5.4.51=#133331535420464c4f4f522054494d455320544f574552204b414d414c41204d494c4c5320434f4d504f554e44205342204d415247,STREET=MUMBAI,ST=MAHARASHTRA,2.5.4.17=#1306343030303133,OU=PAN TIN AND UID OPERATIONS,O=NSDL E GOVERNANCE INFRASTRUCTURE LIMITED,C=IN&lt;/X509SubjectName&gt;&lt;X509Certificate&gt;MIIGIjCCBQqgAwIBAgIEANgp4jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCSU4xKjAoBgNVBAoTIWVNdWRocmEgQ29uc3VtZXIgU2VydmljZXMgTGltaXRlZDEdMBsGA1UECxMUQ2VydGlmeWluZyBBdXRob3JpdHkxOTA3BgNVBAMTMGUtTXVkaHJhIFN1YiBDQSBDbGFzcyAyIGZvciBEb2N1bWVudCBTaWduZXIgMjAxNDAeFw0xNzA2MjMxMTUzMTVaFw0xOTA2MjMxMTUzMTVaMIIBEzELMAkGA1UEBhMCSU4xMTAvBgNVBAoTKE5TREwgRSBHT1ZFUk5BTkNFIElORlJBU1RSVUNUVVJFIExJTUlURUQxIzAhBgNVBAsTGlBBTiBUSU4gQU5EIFVJRCBPUEVSQVRJT05TMQ8wDQYDVQQREwY0MDAwMTMxFDASBgNVBAgTC01BSEFSQVNIVFJBMQ8wDQYDVQQJEwZNVU1CQUkxPDA6BgNVBDMTMzFTVCBGTE9PUiBUSU1FUyBUT1dFUiBLQU1BTEEgTUlMTFMgQ09NUE9VTkQgU0IgTUFSRzE2MDQGA1UEAxMtRFMgTlNETCBFIEdPVkVSTkFOQ0UgSU5GUkFTVFJVQ1RVUkUgTElNSVRFRCAzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0o9vohWZ3ztI9ea8D/zUEUBRq6c82BE7sFmr1hNMeuGSJQFf39ceesRtGUzlUYVWXcU23P8sVZ5419CHh7ApFzUXaLD72i/2d5FFI0n3iRlTQec9PEUHyrvOCVDpqBhbnrO/EHBqRluUQJTQUtMu5mhPNFV7IIJMTEAsUhCL9adZXXQK9NeK0foRr29Oq7VdEGfSeLzHIibpQmhNPh89oJXqu0cmbNSW4J4i2GmwHQpmsmHaSQcgh4mgVrykO64pAKXPreAPipDHQM1l/e5hilYlWfLHxhC5ObTCTcydQ218IVulFOFhdQt7xVV61TOmoTC2elhWbDqoLJBVU5mBfQIDAQABo4IB+TCCAfUwEwYDVR0jBAwwCoAITaZEyKbiAAgwHQYDVR0OBBYEFGzNaT6D2SoleAtlGlS4gBsQvo3qMA4GA1UdDwEB/wQEAwIGwDAcBgNVHREEFTATgRFISVRFTk1ATlNETC5DTy5JTjCB0gYDVR0gBIHKMIHHMC0GBmCCZGQCAjAjMCEGCCsGAQUFBwICMBUaE0NsYXNzIDIgQ2VydGlmaWNhdGUwRAYGYIJkZAoBMDowOAYIKwYBBQUHAgIwLBoqT3JnYW5pc2F0aW9uYWwgRG9jdW1lbnQgU2lnbmVyIENlcnRpZmljYXRlMFAGB2CCZGQBCAIwRTBDBggrBgEFBQcCARY3aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcHMvZS1NdWRocmFfQ1BTLnBkZjB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmUtbXVkaHJhLmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jYWNlcnRzL2RvY2NsMi5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL3d3dy5lLW11ZGhyYS5jb20vcmVwb3NpdG9yeS9jcmxzL2RvY2NsMi5jcmwwDQYJKoZIhvcNAQELBQADggEBALp9E7tM/HvtM+FEfaHdBn5MqL2WLf/GuuMH02ULbIDLQQNK+R4ivuFXLAqU5hbgtr9Yi1oRlfA5iTVDfxKLW6nGF3aSzNihgwhNP69/WM0TozxwYzCxMAVMGPGY+wUuLxWo67RybDCmQCaeG/RXM7FzfKtX8E99g9pBwjw23dc3kGIUqnWUqTEXjauYwz/7XDO2PWJw7F+PPeOrrxC2gA0F6jCT24bZjoF32eLCgXFcE5tIBMhM8WnUR3Pfex8mw5sctuUi8WFkgbLVrIBGuRDebMmr2/k2+D/O4tyTSbdl8YIV4MtHvMIUHnD0Z691Tjwj109A6h0AtuJAXvOm7FE=&lt;/X509Certificate&gt;&lt;/X509Data&gt;&lt;/KeyInfo&gt;&lt;/Signature&gt;\n&lt;/Auth&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":2,"creation_date":1499418144,"post_id":44966687,"comment_id":76908377,"body_markdown":"you are calling `nextInt` on the scanner instance, but `+` is not","body":"you are calling <code>nextInt</code> on the scanner instance, but <code>+</code> is not"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1499421853,"post_id":44966687,"comment_id":76910914,"body_markdown":"Please try to use real words here - &quot;you&quot; is not harder to type than &quot;u&quot;. This makes posts readable for a wide audience, including people whose first language is not English. Thanks!","body":"Please try to use real words here - &quot;you&quot; is not harder to type than &quot;u&quot;. This makes posts readable for a wide audience, including people whose first language is not English. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1499418604,"post_id":44966864,"comment_id":76908648,"body_markdown":"Note that `a.next()` returns a `String` rather than a `char`, and that you can&#39;t compare `String`s with `==` (nor compare `String`s with `char`s)","body":"Note that <code>a.next()</code> returns a <code>String</code> rather than a <code>char</code>, and that you can&#39;t compare <code>String</code>s with <code>==</code> (nor compare <code>String</code>s with <code>char</code>s)"}],"tags":[],"owner":{"account_id":9941182,"reputation":1,"user_id":7357749,"display_name":"LeXcution"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499418736,"creation_date":1499418553,"answer_id":44966864,"question_id":44966687,"body_markdown":"  \r\n    if (a.nextInt()==&#39;+&#39;){\r\n        float result = x + y;\r\n        System.out.println(&quot;result: &quot; + result);\r\n    }\r\n\r\na.nextInt() expect an &quot;int&quot;, but you&#39;re passing to it a char.\r\nYou have two possibilities.\r\n\r\n1. Create another scanner which will take &quot;char&quot;\r\n2. Use the method &quot;next()&quot;. Like this : a.next(); \r\nIn the second case, use .equals(&quot;your operation&quot;), cause you can&#39;t compare strings with &quot;==&quot;. \r\n\r\n\r\n ","title":"Why does my code not work (diary code)?","body":"<pre><code>if (a.nextInt()=='+'){\n    float result = x + y;\n    System.out.println(\"result: \" + result);\n}\n</code></pre>\n\n<p>a.nextInt() expect an \"int\", but you're passing to it a char.\nYou have two possibilities.</p>\n\n<ol>\n<li>Create another scanner which will take \"char\"</li>\n<li>Use the method \"next()\". Like this : a.next(); \nIn the second case, use .equals(\"your operation\"), cause you can't compare strings with \"==\". </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499418732,"creation_date":1499418732,"answer_id":44966934,"question_id":44966687,"body_markdown":"You are using a.nextInt() which is used for taking integer as input. Just use a.next().charAt(0) instead of that. This is working\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Taschenrechner {\r\n        public static void calculator() {\r\n            Scanner a = new Scanner(System.in);\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = a.nextInt();\r\n            int y = a.nextInt();\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            if (a.next().charAt(0) == &#39;+&#39;) {\r\n                float result = x + y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else if (a.next().charAt(0) == &#39;-&#39;) {\r\n                float result = x - y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else if (a.next().charAt(0) == &#39;*&#39;) {\r\n                float result = x * y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            } else {\r\n                float result = x / y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            a.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            calculator();\r\n        }\r\n    }","title":"Why does my code not work (diary code)?","body":"<p>You are using a.nextInt() which is used for taking integer as input. Just use a.next().charAt(0) instead of that. This is working</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Taschenrechner {\n    public static void calculator() {\n        Scanner a = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = a.nextInt();\n        int y = a.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        if (a.next().charAt(0) == '+') {\n            float result = x + y;\n            System.out.println(\"result: \" + result);\n        } else if (a.next().charAt(0) == '-') {\n            float result = x - y;\n            System.out.println(\"result: \" + result);\n        } else if (a.next().charAt(0) == '*') {\n            float result = x * y;\n            System.out.println(\"result: \" + result);\n        } else {\n            float result = x / y;\n            System.out.println(\"result: \" + result);\n        }\n        a.close();\n    }\n\n    public static void main(String[] args) {\n        calculator();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499418932,"creation_date":1499418932,"answer_id":44967000,"question_id":44966687,"body_markdown":"    Give me the 2 numbers first: \r\n    1\r\n    2\r\n    Now give me the operation (+,-,*,/): \r\n    +\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.util.Scanner.throwFor(Unknown Source)\r\n        at java.util.Scanner.next(Unknown Source)\r\n        at java.util.Scanner.nextInt(Unknown Source)\r\n        at java.util.Scanner.nextInt(Unknown Source)\r\n        at Taschenrechner.Operationen(Taschenrechner.java:10)\r\n        at Taschenrechner.main(Taschenrechner.java:30)\r\n\r\nMeans:\r\n\r\nAfter inputting `+` there was an `Exception` thrown. It&#39;s `InputMismatchException`. It was thrown in (...) `Scanner#nextInt` in Taschenrechrer.java in line 30.\r\n\r\nIn the provided code, there are also three different problems. One is that you should distinguish between `&quot;x&quot;` and `&#39;&#39;`. The first one is a `String`, the other is a `char`.\r\n\r\nThe other one is the fact, that you probably expect floating division instead of integer, so you have to add `1.0` before dividing. Otherwise, the result will always be an integer.\r\n\r\nBut the most important one is the fact, that scanner is associated with the input stream. A stream is something that floats and can&#39;t fall back. This means, that you have to read the input once and then compare what it is. Calling `a.next()` three times will cause scanner reading 3 different inputs.\r\n\r\n    public class Taschenrechner {\r\n    \r\n        public static void calculator(){\r\n            Scanner a = new Scanner(System.in);\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = a.nextInt();\r\n            int y = a.nextInt();\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            String op = a.next();\r\n            if (op.equals(&quot;+&quot;){\r\n                float result = x + y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else if (op.equals(&quot;-&quot;)){\r\n                float result = x - y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else if (op.equals(&quot;*&quot;)){\r\n                float result = x * y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n            }\r\n            else{\r\n                float result = 1.0 * x / y;\r\n                System.out.println(&quot;result: &quot; + result);\r\n                }\r\n            a.close();\r\n            }\r\n        \r\n            public static void main(String []args) {\r\n                calculator();\r\n            }\r\n    \r\n    }\r\n\r\n","title":"Why does my code not work (diary code)?","body":"<pre><code>Give me the 2 numbers first: \n1\n2\nNow give me the operation (+,-,*,/): \n+\nException in thread \"main\" java.util.InputMismatchException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at java.util.Scanner.nextInt(Unknown Source)\n    at Taschenrechner.Operationen(Taschenrechner.java:10)\n    at Taschenrechner.main(Taschenrechner.java:30)\n</code></pre>\n\n<p>Means:</p>\n\n<p>After inputting <code>+</code> there was an <code>Exception</code> thrown. It's <code>InputMismatchException</code>. It was thrown in (...) <code>Scanner#nextInt</code> in Taschenrechrer.java in line 30.</p>\n\n<p>In the provided code, there are also three different problems. One is that you should distinguish between <code>\"x\"</code> and <code>''</code>. The first one is a <code>String</code>, the other is a <code>char</code>.</p>\n\n<p>The other one is the fact, that you probably expect floating division instead of integer, so you have to add <code>1.0</code> before dividing. Otherwise, the result will always be an integer.</p>\n\n<p>But the most important one is the fact, that scanner is associated with the input stream. A stream is something that floats and can't fall back. This means, that you have to read the input once and then compare what it is. Calling <code>a.next()</code> three times will cause scanner reading 3 different inputs.</p>\n\n<pre><code>public class Taschenrechner {\n\n    public static void calculator(){\n        Scanner a = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = a.nextInt();\n        int y = a.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        String op = a.next();\n        if (op.equals(\"+\"){\n            float result = x + y;\n            System.out.println(\"result: \" + result);\n        }\n        else if (op.equals(\"-\")){\n            float result = x - y;\n            System.out.println(\"result: \" + result);\n        }\n        else if (op.equals(\"*\")){\n            float result = x * y;\n            System.out.println(\"result: \" + result);\n        }\n        else{\n            float result = 1.0 * x / y;\n            System.out.println(\"result: \" + result);\n            }\n        a.close();\n        }\n\n        public static void main(String []args) {\n            calculator();\n        }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7975266,"reputation":1848,"user_id":6018655,"accept_rate":100,"display_name":"Cristian Ramon-Cortes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499419003,"creation_date":1499419003,"answer_id":44967031,"question_id":44966687,"body_markdown":"First of all, when you are reading the operation sign you need to read it as an String since it is not an Integer. \r\nMoreover, when comparing Strings you should use the `equals` method.\r\nFinally, when performing the division you should cast one of the operands to float to obtain a float result (otherwise you will obtain the casted division - int -).\r\n\r\nThis said, your code should look like:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Taschenrechner {\r\n    \r\n        public static void calculator() {\r\n            Scanner input = new Scanner(System.in);\r\n            // Read input numbers\r\n            System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n            int x = input.nextInt();\r\n            int y = input.nextInt();\r\n    \r\n            // Read operation\r\n            System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n            String operation = input.next();\r\n    \r\n            // Perform operation\r\n            float result = 0;\r\n            if (operation.equals(&quot;+&quot;)) {\r\n                result = x + y;\r\n            } else if (operation.equals(&quot;-&quot;)) {\r\n                result = x - y;\r\n            } else if (operation.equals(&quot;*&quot;)) {\r\n                result = x * y;\r\n            } else if (operation.equals(&quot;/&quot;)) {\r\n                // Add float casting to one of the operands to obtain a float result\r\n                result = x / ((float) y);\r\n            } else {\r\n                System.err.println(&quot;ERROR: Unrecognised operation &quot; + operation);\r\n            }\r\n    \r\n            // Print result\r\n            System.out.println(&quot;Result: &quot; + result);\r\n    \r\n            // Close scanner\r\n            input.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            calculator();\r\n        }\r\n    }\r\n\r\nNotice that:\r\n\r\n- I have moved the result print to the end of the function since you are duplicating code.\r\n- I have added an else case for the operations that are not supported.\r\n- The Strings are compared using the `equals` method.\r\n- If you want you can change the `if`, `if-else`, `else` by a `switch-case`.","title":"Why does my code not work (diary code)?","body":"<p>First of all, when you are reading the operation sign you need to read it as an String since it is not an Integer. \nMoreover, when comparing Strings you should use the <code>equals</code> method.\nFinally, when performing the division you should cast one of the operands to float to obtain a float result (otherwise you will obtain the casted division - int -).</p>\n\n<p>This said, your code should look like:</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class Taschenrechner {\n\n    public static void calculator() {\n        Scanner input = new Scanner(System.in);\n        // Read input numbers\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = input.nextInt();\n        int y = input.nextInt();\n\n        // Read operation\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        String operation = input.next();\n\n        // Perform operation\n        float result = 0;\n        if (operation.equals(\"+\")) {\n            result = x + y;\n        } else if (operation.equals(\"-\")) {\n            result = x - y;\n        } else if (operation.equals(\"*\")) {\n            result = x * y;\n        } else if (operation.equals(\"/\")) {\n            // Add float casting to one of the operands to obtain a float result\n            result = x / ((float) y);\n        } else {\n            System.err.println(\"ERROR: Unrecognised operation \" + operation);\n        }\n\n        // Print result\n        System.out.println(\"Result: \" + result);\n\n        // Close scanner\n        input.close();\n    }\n\n    public static void main(String[] args) {\n        calculator();\n    }\n}\n</code></pre>\n\n<p>Notice that:</p>\n\n<ul>\n<li>I have moved the result print to the end of the function since you are duplicating code.</li>\n<li>I have added an else case for the operations that are not supported.</li>\n<li>The Strings are compared using the <code>equals</code> method.</li>\n<li>If you want you can change the <code>if</code>, <code>if-else</code>, <code>else</code> by a <code>switch-case</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10701797,"reputation":187,"user_id":7876875,"display_name":"kevin"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672720164,"creation_date":1499419310,"answer_id":44967138,"question_id":44966687,"body_markdown":"In your code have 2 problem\r\n\r\n 1. when input mathematics must string not Integer\r\n 2. When compare mathematics, must using character &quot; not using &#39;. Because character &quot; have meaning string and &#39; just meaning character\r\n\r\nSo, please try this code below\r\n\r\n    public static void calculator(){\r\n        Scanner a = new Scanner(System.in);\r\n        System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n        int x = a.nextInt();\r\n        int y = a.nextInt();\r\n        System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n        a.nextLine();\r\n        String b = a.next();\r\n        if (b.equals(&quot;+&quot;)){\r\n            float result = x + y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else if (b.equals(&quot;-&quot;)){\r\n            float result = x - y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else if (b.equals(&quot;*&quot;)){\r\n            float result = x * y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        else{\r\n            float result = x / y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n            }\r\n        a.close();\r\n        }","title":"Why does my code not work (diary code)?","body":"<p>In your code have 2 problem</p>\n<ol>\n<li>when input mathematics must string not Integer</li>\n<li>When compare mathematics, must using character &quot; not using '. Because character &quot; have meaning string and ' just meaning character</li>\n</ol>\n<p>So, please try this code below</p>\n<pre><code>public static void calculator(){\n    Scanner a = new Scanner(System.in);\n    System.out.println(&quot;Give me the 2 numbers first: &quot;);\n    int x = a.nextInt();\n    int y = a.nextInt();\n    System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\n    a.nextLine();\n    String b = a.next();\n    if (b.equals(&quot;+&quot;)){\n        float result = x + y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else if (b.equals(&quot;-&quot;)){\n        float result = x - y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else if (b.equals(&quot;*&quot;)){\n        float result = x * y;\n        System.out.println(&quot;result: &quot; + result);\n    }\n    else{\n        float result = x / y;\n        System.out.println(&quot;result: &quot; + result);\n        }\n    a.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499419823,"creation_date":1499419427,"answer_id":44967180,"question_id":44966687,"body_markdown":"I will go through your code and suggest some refactoring.\r\n\r\n\t if (a.nextInt()==&#39;+&#39;){\r\n\t\t\tfloat result = x + y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse if (a.nextInt()==&#39;-&#39;){\r\n\t\t\tfloat result = x - y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse if (a.nextInt()==&#39;*&#39;){\r\n\t\t\tfloat result = x * y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfloat result = x / y;\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t\t}\r\n\t\ta.close();\r\n    }\r\n\r\nYou read operation each time if it is not equal to what you coded. So if user wants to enter opearation **-**, they have to enter first time operation different from **+**, and then **-**.\r\n\r\nSecond, it is a good practice to move hardcoded constants into private static fields (or public static if they are used in other classes).\r\n\r\nInstead of if-else, prefer to use switch (for primitives, strings, enums) - better style and performance (JVM optimizes switch).\r\n\r\n\r\n\r\nThis is how I would code this\r\n\r\nTaschenrechner \r\n\r\n    public class Taschenrechner {\r\n\r\n\t\tprivate static final char ADD = &#39;+&#39;;\r\n\t\tprivate static final char SUB = &#39;-&#39;;\r\n\t\tprivate static final char MUL = &#39;*&#39;;\r\n\t\tprivate static final char DIV = &#39;/&#39;;\r\n\r\n\r\n\t\tpublic static void calculate() {\r\n\t\t\tScanner reader = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n\t\t\tint x = reader.nextInt();\r\n\t\t\tint y = reader.nextInt();\r\n\t\t\tSystem.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n\t\t\tfinal char operation = reader.next(&quot;.&quot;).charAt(0); //See explanation bellow.\r\n\t\t\tfloat result = calculateResult(x, y, operation);\r\n\t\t\tSystem.out.println(&quot;result: &quot; + result);\r\n\t\t\treader.close();\r\n\t\t}\r\n\r\n\t\tprivate static float calculateResult(float x, float y, char operation) {\r\n\t\t\tswitch (operation) {\r\n\t\t\t\tcase ADD:\r\n\t\t\t\t\treturn x + y;\r\n\r\n\t\t\t\tcase DIV:\r\n\t\t\t\t\treturn x / y;\r\n\r\n\t\t\t\tcase SUB:\r\n\t\t\t\t\treturn x - y;\r\n\r\n\t\t\t\tcase MUL:\r\n\t\t\t\t\treturn x * y;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new UnsupportedOperationException(operation + &quot; is not suported.&quot;); //Terminate the program with an error. Read about exception handling to understand when it can be used.\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tcalculate();\r\n\t\t}\r\n\t}\r\n\r\n`final char operation = reader.next(&quot;.&quot;).charAt(0);` \r\nI want to read only one character.\r\nhttps://stackoverflow.com/a/13942707/4587961\r\n\r\nI also renamed method `calculator` into `calculate`. I am a big fan of **Clean Code** practices. Methods&#39; names are verbs, while classes names are nouns.","title":"Why does my code not work (diary code)?","body":"<p>I will go through your code and suggest some refactoring.</p>\n\n<pre><code> if (a.nextInt()=='+'){\n        float result = x + y;\n        System.out.println(\"result: \" + result);\n    }\n    else if (a.nextInt()=='-'){\n        float result = x - y;\n        System.out.println(\"result: \" + result);\n    }\n    else if (a.nextInt()=='*'){\n        float result = x * y;\n        System.out.println(\"result: \" + result);\n    }\n    else{\n        float result = x / y;\n        System.out.println(\"result: \" + result);\n        }\n    a.close();\n}\n</code></pre>\n\n<p>You read operation each time if it is not equal to what you coded. So if user wants to enter opearation <strong>-</strong>, they have to enter first time operation different from <strong>+</strong>, and then <strong>-</strong>.</p>\n\n<p>Second, it is a good practice to move hardcoded constants into private static fields (or public static if they are used in other classes).</p>\n\n<p>Instead of if-else, prefer to use switch (for primitives, strings, enums) - better style and performance (JVM optimizes switch).</p>\n\n<p>This is how I would code this</p>\n\n<p>Taschenrechner </p>\n\n<pre><code>public class Taschenrechner {\n\n    private static final char ADD = '+';\n    private static final char SUB = '-';\n    private static final char MUL = '*';\n    private static final char DIV = '/';\n\n\n    public static void calculate() {\n        Scanner reader = new Scanner(System.in);\n        System.out.println(\"Give me the 2 numbers first: \");\n        int x = reader.nextInt();\n        int y = reader.nextInt();\n        System.out.println(\"Now give me the operation (+,-,*,/): \");\n        final char operation = reader.next(\".\").charAt(0); //See explanation bellow.\n        float result = calculateResult(x, y, operation);\n        System.out.println(\"result: \" + result);\n        reader.close();\n    }\n\n    private static float calculateResult(float x, float y, char operation) {\n        switch (operation) {\n            case ADD:\n                return x + y;\n\n            case DIV:\n                return x / y;\n\n            case SUB:\n                return x - y;\n\n            case MUL:\n                return x * y;\n\n            default:\n                throw new UnsupportedOperationException(operation + \" is not suported.\"); //Terminate the program with an error. Read about exception handling to understand when it can be used.\n        }\n    }\n\n    public static void main(String[] args) {\n        calculate();\n    }\n}\n</code></pre>\n\n<p><code>final char operation = reader.next(\".\").charAt(0);</code> \nI want to read only one character.\n<a href=\"https://stackoverflow.com/a/13942707/4587961\">https://stackoverflow.com/a/13942707/4587961</a></p>\n\n<p>I also renamed method <code>calculator</code> into <code>calculate</code>. I am a big fan of <strong>Clean Code</strong> practices. Methods' names are verbs, while classes names are nouns.</p>\n"},{"tags":[],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499424856,"creation_date":1499424856,"answer_id":44969034,"question_id":44966687,"body_markdown":"To get the mathematical operators you have used nextInt.\r\n\r\na.nextInt()==&#39;+&#39;\r\n\r\nThis is the cause of the problem.\r\nAlso, use switch to make the code more robust and readable.","title":"Why does my code not work (diary code)?","body":"<p>To get the mathematical operators you have used nextInt.</p>\n\n<p>a.nextInt()=='+'</p>\n\n<p>This is the cause of the problem.\nAlso, use switch to make the code more robust and readable.</p>\n"},{"tags":[],"owner":{"account_id":8284971,"reputation":412,"user_id":6228349,"accept_rate":75,"display_name":"Pavan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499426648,"creation_date":1499426648,"answer_id":44969569,"question_id":44966687,"body_markdown":"it will work\r\n\r\n    public static void calculator() {\r\n        Scanner a = new Scanner(System.in);\r\n        System.out.println(&quot;Give me the 2 numbers first: &quot;);\r\n        int x = a.nextInt();\r\n        int y = a.nextInt();\r\n\r\n        System.out.println(&quot;Now give me the operation (+,-,*,/): &quot;);\r\n        String choice = a.next();\r\n        if (choice.equals(&quot;+&quot;)) {\r\n            float result = x + y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;-&quot;)) {\r\n            float result = x - y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;*&quot;)) {\r\n            float result = x * y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        if (choice.equals(&quot;/&quot;)) {\r\n            float result = x / y;\r\n            System.out.println(&quot;result: &quot; + result);\r\n        }\r\n        a.close();\r\n    }","title":"Why does my code not work (diary code)?","body":"<p>it will work</p>\n\n<pre><code>public static void calculator() {\n    Scanner a = new Scanner(System.in);\n    System.out.println(\"Give me the 2 numbers first: \");\n    int x = a.nextInt();\n    int y = a.nextInt();\n\n    System.out.println(\"Now give me the operation (+,-,*,/): \");\n    String choice = a.next();\n    if (choice.equals(\"+\")) {\n        float result = x + y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"-\")) {\n        float result = x - y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"*\")) {\n        float result = x * y;\n        System.out.println(\"result: \" + result);\n    }\n    if (choice.equals(\"/\")) {\n        float result = x / y;\n        System.out.println(\"result: \" + result);\n    }\n    a.close();\n}\n</code></pre>\n"}],"owner":{"account_id":10751147,"reputation":45,"user_id":7910558,"display_name":"SlimE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":8,"score":0,"last_activity_date":1672720164,"creation_date":1499418022,"question_id":44966687,"body_markdown":"This is a code of a diary. I want the user to write something in the diary and this is gonna be the first page and gonna be put in a list. After writing enter the next page should be started and he writes something in the next page etc.\r\nI get errors over and over and I don&#39;t know why. After writing &quot;enter&quot; I get errors. I am new to java and all in all programming/coding (if it&#39;s the same). Sorry if it&#39;s a really dumb question i&#39;m asking :/\r\nThank you for every advice. I am thankful for everything because I want to learn as much as I can for my university which would be in 1 year.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class NotizbuchKlasse{\r\n\t    public static void Pages(){\r\n\t\t    System.out.println(&quot;Tag 1 : Write something in your diary.&quot;);\r\n\t\t    System.out.println(&quot;Write enter if you are done writing.&quot;);\r\n\t\t    ArrayList&lt;String&gt; List = new ArrayList&lt;String&gt;();\r\n\t\t    String ListInList;\r\n\t\t    Scanner write;\r\n\t\t    do{\r\n\t\t\t    write = new Scanner(System.in);\r\n\t\t\t    ListInList = write.next();}\r\n\t\t    while (! ListInList.equals(&quot;enter&quot;));\r\n\t\t    System.out.println(&quot;This is now your page. Your page is gonna be \r\n            created after writing something new.&quot;);\r\n\t        String y = ListInList;\r\n\t        List.add(y);\r\n\t\t    write.close();\r\n\t\t    Pages();\t\t\r\n\t    }\r\n    public static void main(String[]Args){\r\n\t    Pages();\r\n    }\r\n    }\r\n\r\n    day 1 : Write something in your diary.\r\n    Write enter if you are done writing.\r\n    hello diary\r\n    enter\r\n    This is now your page. Your page is gonna be created after writing something \r\n    new.\r\n    Exception in thread &quot;main&quot; day 1 : Write something in your diary.\r\n    Write enter if you are done writing.\r\n    java.util.NoSuchElementException\r\n\t    at java.util.Scanner.throwFor(Unknown Source)\r\n\t    at java.util.Scanner.next(Unknown Source)\r\n\t    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:14)\r\n\t    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:20)\r\n\t    at NotizbuchKlasse.main(NotizbuchKlasse.java:38)","title":"Why does my code not work (diary code)?","body":"<p>This is a code of a diary. I want the user to write something in the diary and this is gonna be the first page and gonna be put in a list. After writing enter the next page should be started and he writes something in the next page etc.\nI get errors over and over and I don't know why. After writing \"enter\" I get errors. I am new to java and all in all programming/coding (if it's the same). Sorry if it's a really dumb question i'm asking :/\nThank you for every advice. I am thankful for everything because I want to learn as much as I can for my university which would be in 1 year.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class NotizbuchKlasse{\n    public static void Pages(){\n        System.out.println(\"Tag 1 : Write something in your diary.\");\n        System.out.println(\"Write enter if you are done writing.\");\n        ArrayList&lt;String&gt; List = new ArrayList&lt;String&gt;();\n        String ListInList;\n        Scanner write;\n        do{\n            write = new Scanner(System.in);\n            ListInList = write.next();}\n        while (! ListInList.equals(\"enter\"));\n        System.out.println(\"This is now your page. Your page is gonna be \n        created after writing something new.\");\n        String y = ListInList;\n        List.add(y);\n        write.close();\n        Pages();        \n    }\npublic static void main(String[]Args){\n    Pages();\n}\n}\n\nday 1 : Write something in your diary.\nWrite enter if you are done writing.\nhello diary\nenter\nThis is now your page. Your page is gonna be created after writing something \nnew.\nException in thread \"main\" day 1 : Write something in your diary.\nWrite enter if you are done writing.\njava.util.NoSuchElementException\n    at java.util.Scanner.throwFor(Unknown Source)\n    at java.util.Scanner.next(Unknown Source)\n    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:14)\n    at NotizbuchKlasse.Pages(NotizbuchKlasse.java:20)\n    at NotizbuchKlasse.main(NotizbuchKlasse.java:38)\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":23871468,"reputation":142,"user_id":17873105,"display_name":"Biswajit Sharma"},"score":0,"creation_date":1672719135,"post_id":74988976,"comment_id":132333452,"body_markdown":"You can use the same code in Test method also.","body":"You can use the same code in Test method also."},{"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"score":0,"creation_date":1672762523,"post_id":74988976,"comment_id":132345181,"body_markdown":"I already did it but the error persists. This is only happening if I am using localhost. I updated my path below for safety reasons\n\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class HelloWorldSelenium {\n    @Test\n    public void hello() {\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/path/to/project/leil&#227;o/chromedriver.exe&quot;);        \n        WebDriver browser = new ChromeDriver();\n        browser.navigate().to(&quot;http://localhost:8080/&quot;);\n        browser. Quit();\n    }\n\n}","body":"I already did it but the error persists. This is only happening if I am using localhost. I updated my path below for safety reasons  import org.junit.jupiter.api.Test; import org.openqa.selenium.WebDriver; import org.openqa.selenium.chrome.ChromeDriver;   public class HelloWorldSelenium {     @Test     public void hello() {                  System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/path/to/pro&zwnj;&#8203;ject/leil&#227;o/chromedr&zwnj;&#8203;iver.exe&quot;);                 WebDriver browser = new ChromeDriver();         browser.navigate().to(&quot;<a href=\"http://localhost:8080/&quot;\" rel=\"nofollow noreferrer\">localhost:8080/&quot;</a>);         browser. Quit();     }  }"}],"tags":[],"owner":{"account_id":23871468,"reputation":142,"user_id":17873105,"display_name":"Biswajit Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672719084,"creation_date":1672719084,"answer_id":74988976,"question_id":74988600,"body_markdown":"You need to set the property of webdriver like below, and you can use get instead of `driver.get(&quot;http://www.facebook.com&quot;);` \r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class TestChrome {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path of the exe file\\\\chromedriver.exe&quot;);\r\n    \r\n            // Initialize browser\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            // Open facebook\r\n            driver.get(&quot;http://www.facebook.com&quot;);\r\n    \r\n            // Maximize browser\r\n    \r\n            driver.manage().window().maximize();\r\n    \r\n        }\r\n    \r\n    }","title":"org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED","body":"<p>You need to set the property of webdriver like below, and you can use get instead of <code>driver.get(&quot;http://www.facebook.com&quot;);</code></p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class TestChrome {\n\n    public static void main(String[] args) {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path of the exe file\\\\chromedriver.exe&quot;);\n\n        // Initialize browser\n        WebDriver driver = new ChromeDriver();\n\n        // Open facebook\n        driver.get(&quot;http://www.facebook.com&quot;);\n\n        // Maximize browser\n\n        driver.manage().window().maximize();\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15317118,"reputation":37,"user_id":11050709,"display_name":"Marcelo Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672719084,"creation_date":1672713137,"question_id":74988600,"body_markdown":"When I try to run my project using Selenium and Java, I am getting this error and I do not know how to solve it. This is happening on VSCode and the SO is Windows 11.\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED\r\n  (Session info: chrome=108.0.5359.125)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n```\r\n\r\nThis is the code I created:\r\n\r\n```\r\nWebDriver browser = new ChromeDriver();\r\nbrowser.navigate().to(&quot;http://localhost:8080/leiloes&quot;);\r\nbrowser.quit();\r\n```\r\n\r\nI appreciate your help.\r\n\r\nMarcelo","title":"org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED","body":"<p>When I try to run my project using Selenium and Java, I am getting this error and I do not know how to solve it. This is happening on VSCode and the SO is Windows 11.</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: net::ERR_CONNECTION_REFUSED\n  (Session info: chrome=108.0.5359.125)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n</code></pre>\n<p>This is the code I created:</p>\n<pre><code>WebDriver browser = new ChromeDriver();\nbrowser.navigate().to(&quot;http://localhost:8080/leiloes&quot;);\nbrowser.quit();\n</code></pre>\n<p>I appreciate your help.</p>\n<p>Marcelo</p>\n"},{"tags":["java","android","android-studio","android-manifest"],"comments":[{"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"score":0,"creation_date":1672718872,"post_id":74988729,"comment_id":132333410,"body_markdown":"Have checked whether mipmap/ic_launcher is there?","body":"Have checked whether mipmap/ic_launcher is there?"}],"answers":[{"tags":[],"owner":{"account_id":15435030,"reputation":536,"user_id":11135366,"display_name":"Bhojaviya Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672718864,"creation_date":1672718864,"answer_id":74988962,"question_id":74988729,"body_markdown":"when you create your image assets make sure you choose main mode.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHkwj.png","title":"Android resource linking failed","body":"<p>when you create your image assets make sure you choose main mode.</p>\n<p><a href=\"https://i.stack.imgur.com/uHkwj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uHkwj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27416722,"reputation":1,"user_id":20915768,"display_name":"Fajri Aulia Rachmandha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672718864,"creation_date":1672715332,"question_id":74988729,"body_markdown":"I need to generate app bundle, but the error say :\r\n\r\n\r\n```\r\nExecution failed for task &#39;:app:processReleaseResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n   &gt; Android resource linking failed\r\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher (aka com.si20b.assessment:mipmap/ic_launcher) not found.\r\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher_round (aka com.si20b.assessment:mipmap/ic_launcher_round) not found.\r\n     error: failed processing manifest.\r\n```\r\n\r\ni already put my icon in my android project\r\n","title":"Android resource linking failed","body":"<p>I need to generate app bundle, but the error say :</p>\n<pre><code>Execution failed for task ':app:processReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n   &gt; Android resource linking failed\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher (aka com.si20b.assessment:mipmap/ic_launcher) not found.\n     C:\\Users\\fajri\\AndroidStudioProjects\\Assessment\\app\\build\\intermediates\\packaged_manifests\\release\\AndroidManifest.xml:36: error: resource mipmap/ic_launcher_round (aka com.si20b.assessment:mipmap/ic_launcher_round) not found.\n     error: failed processing manifest.\n</code></pre>\n<p>i already put my icon in my android project</p>\n"},{"tags":["java","android","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672573772,"post_id":74974423,"comment_id":132307206,"body_markdown":"Youir unit test should test both cases.","body":"Youir unit test should test both cases."},{"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1672574010,"post_id":74974423,"comment_id":132307243,"body_markdown":"Sorry, I didn&#39;t quite get you. The unit test method fails if I pass a wrong string in the Java project. In the Android project, the same test passes successfully even if I pass a wrong string. That&#39;s the problem.","body":"Sorry, I didn&#39;t quite get you. The unit test method fails if I pass a wrong string in the Java project. In the Android project, the same test passes successfully even if I pass a wrong string. That&#39;s the problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672574348,"post_id":74974423,"comment_id":132307278,"body_markdown":"The code you have posted shows a test which checks that correct JSON causes isJSONValid to return true. You talk about a test which checks that it returns false when the JSON isn&#39;t valid, and say that it behaves differently between Android studio and Intellij. The problem is that you *haven&#39;t shown that test* -- so it&#39;s hard to give you any help about why it might behave differently.","body":"The code you have posted shows a test which checks that correct JSON causes isJSONValid to return true. You talk about a test which checks that it returns false when the JSON isn&#39;t valid, and say that it behaves differently between Android studio and Intellij. The problem is that you <i>haven&#39;t shown that test</i> -- so it&#39;s hard to give you any help about why it might behave differently."},{"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1672574833,"post_id":74974423,"comment_id":132307326,"body_markdown":"It&#39;s the same test method. Anyway I updated the question with a bit more details and a screenshot. Hopefully that clears things more.","body":"It&#39;s the same test method. Anyway I updated the question with a bit more details and a screenshot. Hopefully that clears things more."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1672576132,"post_id":74974423,"comment_id":132307531,"body_markdown":"Then your test has successfully shown that the validator does not do the validation you think it does.  In particular, the validator seems to sometimes permit absence of a closing brace, probably depending on the particular implementation of JSONObject.  Now you need to decide whether that is a &#39;bug&#39; or not.","body":"Then your test has successfully shown that the validator does not do the validation you think it does.  In particular, the validator seems to sometimes permit absence of a closing brace, probably depending on the particular implementation of JSONObject.  Now you need to decide whether that is a &#39;bug&#39; or not."},{"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1672576594,"post_id":74974423,"comment_id":132307600,"body_markdown":"@undefinedsymbol It&#39;s not just the curly brace. If I pass a string like &quot;asdf&quot;, it would still consider it as valid JSON. And the `JSONObject` is from the same third-party library (not written by me). The implementation is the same. Only the platform is different (Java vs Android).","body":"@undefinedsymbol It&#39;s not just the curly brace. If I pass a string like &quot;asdf&quot;, it would still consider it as valid JSON. And the <code>JSONObject</code> is from the same third-party library (not written by me). The implementation is the same. Only the platform is different (Java vs Android)."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672580589,"post_id":74974423,"comment_id":132308122,"body_markdown":"I wonder why your question doesn&#39;t contain any debugging attempts? Is the validator correctly called? Are the json objects created or not? How do they look like, although the JSON is invalid? Is there an exception?","body":"I wonder why your question doesn&#39;t contain any debugging attempts? Is the validator correctly called? Are the json objects created or not? How do they look like, although the JSON is invalid? Is there an exception?"},{"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"score":0,"creation_date":1672581739,"post_id":74974423,"comment_id":132308288,"body_markdown":"@Tom When I called the methods on validator from say, an Activity, the method actually works as expected. Only when it&#39;s called from inside the unit test, it returns wrong results. I&#39;m not sure what else I can do. I&#39;m not really a Java/Android developer so if there are any suggestions, I&#39;d be happy to try out.","body":"@Tom When I called the methods on validator from say, an Activity, the method actually works as expected. Only when it&#39;s called from inside the unit test, it returns wrong results. I&#39;m not sure what else I can do. I&#39;m not really a Java/Android developer so if there are any suggestions, I&#39;d be happy to try out."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672610727,"post_id":74974423,"comment_id":132313259,"body_markdown":"Don&#39;t have one test, edit it, and run it again expecting it to fail. Have separate test for the valid JSON and the invalid JSON cases.","body":"Don&#39;t have one test, edit it, and run it again expecting it to fail. Have separate test for the valid JSON and the invalid JSON cases."}],"answers":[{"tags":[],"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672718545,"creation_date":1672718545,"answer_id":74988940,"question_id":74974423,"body_markdown":"Found the issue. Apparently the JSON-Java library that comes bundled with the Android SDK by default is not available in the test module.\r\n\r\nSo I explicitly added the `testImplementation` of the library to my Gradle file.\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.json:json:20220924&#39;\r\n    }\r\n\r\nAnd the unit tests now work as expected.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41398830/1077789","title":"Same Java unit test returning different results in a plain Java project and an Android project","body":"<p>Found the issue. Apparently the JSON-Java library that comes bundled with the Android SDK by default is not available in the test module.</p>\n<p>So I explicitly added the <code>testImplementation</code> of the library to my Gradle file.</p>\n<pre><code>dependencies {\n    testImplementation 'org.json:json:20220924'\n}\n</code></pre>\n<p>And the unit tests now work as expected.</p>\n<p><a href=\"https://stackoverflow.com/a/41398830/1077789\">Source</a></p>\n"}],"owner":{"account_id":1080702,"reputation":30785,"user_id":1077789,"accept_rate":70,"display_name":"Isuru"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74988940,"answer_count":1,"score":1,"last_activity_date":1672718545,"creation_date":1672573651,"question_id":74974423,"body_markdown":"I have a plain old Java project and in it, a simple Java class that has a method to validate JSON strings.\r\n\r\n    public class Validator {\r\n        public boolean isJSONValid(String jsonString) {\r\n            try {\r\n                new JSONObject(jsonString);\r\n            } catch (JSONException ex) {\r\n                try {\r\n                    new JSONArray(jsonString);\r\n                } catch (JSONException ex1) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nI added JUnit 5 from the Gradle file to write a unit test for this method.\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.0&#39;\r\n        implementation &#39;org.json:json:20220924&#39;\r\n    }\r\n\r\nHere are the unit tests.\r\n\r\n    class ValidatorTest {\r\n        @Test\r\n        void jsonStringIsValid() {\r\n            Validator validator = new Validator();\r\n            String json =\r\n                    &quot;{&quot; +\r\n                            &quot;   \\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; +\r\n                            &quot;   \\&quot;age\\&quot;:15,&quot; +\r\n                            &quot;   \\&quot;gender\\&quot;:\\&quot;M\\&quot;&quot; +\r\n                            &quot;}&quot;;\r\n            Assertions.assertTrue(validator.isJSONValid(json));\r\n        }\r\n    \r\n        @Test\r\n        void jsonStringIsInvalid() {\r\n            Validator validator = new Validator();\r\n            String json =\r\n                            &quot;   \\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; +\r\n                            &quot;   \\&quot;age\\&quot;:15,&quot; +\r\n                            &quot;   \\&quot;gender\\&quot;:\\&quot;M\\&quot;&quot;;\r\n            Assertions.assertFalse(validator.isJSONValid(json));\r\n        }\r\n    }\r\n\r\nThe unit test passes correctly and everything is good here.\r\n\r\nThen I ported the same Java class to an Android project (using Java) and added JUnit 5 again and added the same unit test over there as well.\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    }\r\n    \r\n    tasks.withType(Test) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nBut strangely, when I run the same tests in the Android project, the second test method `jsonStringIsInvalid()` passes even if I give it an invalid JSON string!\r\n\r\nHere I have removed the starting and closing curly braces to intentionally make it an invalid JSON string. But as you can see, the test passed all the same.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe same tests run in the Java projects, works as expected. I added the `assertTrue` in the `jsonStringIsInvalid()` method to deliberately show the error for this example&#39;s sake.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe code, JUnit version are all the same. Only difference is I used IntelliJ to run the Java project and Android Studio to run the Android project.\r\n\r\nI&#39;m not sure why this is happening. I&#39;d appreciate any help understanding this. I have uploaded the code below if that helps.\r\n\r\n[Java project][3] | [Android project][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SuwzO.png\r\n  [2]: https://i.stack.imgur.com/eyIAq.png\r\n  [3]: https://github.com/Isuru-Nanayakkara/JavaProject\r\n  [4]: https://github.com/Isuru-Nanayakkara/AndroidProject","title":"Same Java unit test returning different results in a plain Java project and an Android project","body":"<p>I have a plain old Java project and in it, a simple Java class that has a method to validate JSON strings.</p>\n<pre><code>public class Validator {\n    public boolean isJSONValid(String jsonString) {\n        try {\n            new JSONObject(jsonString);\n        } catch (JSONException ex) {\n            try {\n                new JSONArray(jsonString);\n            } catch (JSONException ex1) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>I added JUnit 5 from the Gradle file to write a unit test for this method.</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.0'\n    implementation 'org.json:json:20220924'\n}\n</code></pre>\n<p>Here are the unit tests.</p>\n<pre><code>class ValidatorTest {\n    @Test\n    void jsonStringIsValid() {\n        Validator validator = new Validator();\n        String json =\n                &quot;{&quot; +\n                        &quot;   \\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; +\n                        &quot;   \\&quot;age\\&quot;:15,&quot; +\n                        &quot;   \\&quot;gender\\&quot;:\\&quot;M\\&quot;&quot; +\n                        &quot;}&quot;;\n        Assertions.assertTrue(validator.isJSONValid(json));\n    }\n\n    @Test\n    void jsonStringIsInvalid() {\n        Validator validator = new Validator();\n        String json =\n                        &quot;   \\&quot;name\\&quot;:\\&quot;John\\&quot;,&quot; +\n                        &quot;   \\&quot;age\\&quot;:15,&quot; +\n                        &quot;   \\&quot;gender\\&quot;:\\&quot;M\\&quot;&quot;;\n        Assertions.assertFalse(validator.isJSONValid(json));\n    }\n}\n</code></pre>\n<p>The unit test passes correctly and everything is good here.</p>\n<p>Then I ported the same Java class to an Android project (using Java) and added JUnit 5 again and added the same unit test over there as well.</p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n\ntasks.withType(Test) {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>But strangely, when I run the same tests in the Android project, the second test method <code>jsonStringIsInvalid()</code> passes even if I give it an invalid JSON string!</p>\n<p>Here I have removed the starting and closing curly braces to intentionally make it an invalid JSON string. But as you can see, the test passed all the same.</p>\n<p><a href=\"https://i.stack.imgur.com/SuwzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SuwzO.png\" alt=\"enter image description here\" /></a></p>\n<p>The same tests run in the Java projects, works as expected. I added the <code>assertTrue</code> in the <code>jsonStringIsInvalid()</code> method to deliberately show the error for this example's sake.</p>\n<p><a href=\"https://i.stack.imgur.com/eyIAq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eyIAq.png\" alt=\"enter image description here\" /></a></p>\n<p>The code, JUnit version are all the same. Only difference is I used IntelliJ to run the Java project and Android Studio to run the Android project.</p>\n<p>I'm not sure why this is happening. I'd appreciate any help understanding this. I have uploaded the code below if that helps.</p>\n<p><a href=\"https://github.com/Isuru-Nanayakkara/JavaProject\" rel=\"nofollow noreferrer\">Java project</a> | <a href=\"https://github.com/Isuru-Nanayakkara/AndroidProject\" rel=\"nofollow noreferrer\">Android project</a></p>\n"},{"tags":["java","maven","cucumber","cucumber-jvm","cucumber-junit"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1586237171,"post_id":61070334,"comment_id":108046867,"body_markdown":"you could try - tags = &quot;@test and (not @homepage)&quot;","body":"you could try - tags = &quot;@test and (not @homepage)&quot;"},{"owner":{"account_id":11034604,"reputation":61,"user_id":8104923,"display_name":"Obinna Onyeije"},"score":0,"creation_date":1586304394,"post_id":61070334,"comment_id":108079022,"body_markdown":"That... actually worked? Thank you for that, although I would still like to know why the original way isn&#39;t functioning.","body":"That... actually worked? Thank you for that, although I would still like to know why the original way isn&#39;t functioning."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":2,"creation_date":1586306116,"post_id":61070334,"comment_id":108079342,"body_markdown":"Looks like you&#39;re using the old syntax. Using `~` for not was deprecated but I guess you missed that version while upgrading.","body":"Looks like you&#39;re using the old syntax. Using <code>~</code> for not was deprecated but I guess you missed that version while upgrading."}],"answers":[{"tags":[],"owner":{"account_id":11034604,"reputation":61,"user_id":8104923,"display_name":"Obinna Onyeije"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1586319429,"creation_date":1586319429,"answer_id":61093249,"question_id":61070334,"body_markdown":"I have been told in the comments that the syntax I was using was deprecated, so I looked up the new syntax: https://cucumber.io/docs/cucumber/api/#tags\r\n\r\nLeaving this here for future reference.","title":"Java - Cucumber Tag Exclusion Not Working","body":"<p>I have been told in the comments that the syntax I was using was deprecated, so I looked up the new syntax: <a href=\"https://cucumber.io/docs/cucumber/api/#tags\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/cucumber/api/#tags</a></p>\n\n<p>Leaving this here for future reference.</p>\n"},{"tags":[],"owner":{"account_id":15615813,"reputation":31,"user_id":13386900,"display_name":"Hans L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672717900,"creation_date":1672668915,"answer_id":74983462,"question_id":61070334,"body_markdown":"You can try:\r\n\r\n    tags = &quot;@test and @homepage&quot;","title":"Java - Cucumber Tag Exclusion Not Working","body":"<p>You can try:</p>\n<pre><code>tags = &quot;@test and @homepage&quot;\n</code></pre>\n"}],"owner":{"account_id":11034604,"reputation":61,"user_id":8104923,"display_name":"Obinna Onyeije"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61093249,"answer_count":2,"score":1,"last_activity_date":1672717900,"creation_date":1586214474,"question_id":61070334,"body_markdown":"I have created a Cucumber runner class, and I am attempting to run a particular subset of tests by including one Cucumber tag and excluding another. I am using Maven as a project manager.\r\n\r\n    package cucumber_runner;\r\n    import org.junit.runner.RunWith;\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = &quot;src/test/resources/features/&quot;, \r\n        glue = &quot;stepdefinitions&quot;,\r\n        tags = {&quot;@test&quot;, &quot;~@homepage&quot;})\r\n    public class RunCukesTest {\r\n    \r\n    }\r\n\r\nThe result of running `mvn test` in the project folder, however, is that none of the Cucumber tests are run at all. Once I remove the ~ character from the tags, like so: `tags = {&quot;@test&quot;, &quot;@homepage&quot;})`, the tests execute as expected, only considering feature files that have both the @test and @homepage tags. How do I properly exclude the @homepage tag from my tests?","title":"Java - Cucumber Tag Exclusion Not Working","body":"<p>I have created a Cucumber runner class, and I am attempting to run a particular subset of tests by including one Cucumber tag and excluding another. I am using Maven as a project manager.</p>\n\n<pre><code>package cucumber_runner;\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n@RunWith(Cucumber.class)\n@CucumberOptions(features = \"src/test/resources/features/\", \n    glue = \"stepdefinitions\",\n    tags = {\"@test\", \"~@homepage\"})\npublic class RunCukesTest {\n\n}\n</code></pre>\n\n<p>The result of running <code>mvn test</code> in the project folder, however, is that none of the Cucumber tests are run at all. Once I remove the ~ character from the tags, like so: <code>tags = {\"@test\", \"@homepage\"})</code>, the tests execute as expected, only considering feature files that have both the @test and @homepage tags. How do I properly exclude the @homepage tag from my tests?</p>\n"},{"tags":["java","spring-boot","kotlin","search","querydsl"],"answers":[{"tags":[],"owner":{"account_id":6830597,"reputation":1,"user_id":7733951,"display_name":"Rangga Dirga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672717117,"creation_date":1672714424,"answer_id":74988678,"question_id":71522672,"body_markdown":"I faced the same issues before,\r\nTry returning the `Int` class with `javaObjectType`, and then its working\r\n\r\non your code, try change this\r\n```kotlin\r\nval path = entityPath.getNumber(criteria.key, Int::class.java)\r\n```\r\nwith this\r\n```kotlin\r\nval path = entityPath.getNumber(criteria.key, Int::class.javaObjectType)\r\n```\r\n\r\nI hope this helps.","title":"How can I eliminate the Unsupported target type : int error in QueryDsl dynamic search for operators","body":"<p>I faced the same issues before,\nTry returning the <code>Int</code> class with <code>javaObjectType</code>, and then its working</p>\n<p>on your code, try change this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val path = entityPath.getNumber(criteria.key, Int::class.java)\n</code></pre>\n<p>with this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val path = entityPath.getNumber(criteria.key, Int::class.javaObjectType)\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":9494340,"reputation":389,"user_id":7057994,"display_name":"Sachin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672717117,"creation_date":1647579865,"question_id":71522672,"body_markdown":"I used this example https://baeldung-cn.com/rest-api-search-language-spring-data-querydsl to implement the same in Kotlin.\r\n\r\nI created an entity called Shift. Querying is working fine for the equal operators. When comes to the other operators, It throws this error.,\r\n```\r\n  &quot;java.lang.IllegalArgumentException: Unsupported target type : int\\n\\tat com.querydsl.core.util.MathUtils.cast(MathUtils.java:86)\\n\\tat com.querydsl.core.types.dsl.NumberExpression.cast(NumberExpression.java:178)\\n\\tat com.querydsl.core.types.dsl.NumberExpression.goe(NumberExpression.java:293)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicate.getPredicate(ShiftPredicate.kt:19)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicatesBuilder.build$lambda-0(ShiftPredicatesBuilder.kt:34)\\n\\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\\n\\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\\n\\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\\n\\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\n\\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicatesBuilder.build(ShiftPredicatesBuilder.kt:37)\\n\\tat com.presto.salesApp.modules.shift.ShiftController.getQueryDslShift(ShiftController.kt:166)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\n&quot;,\r\n    &quot;message&quot;: &quot;Unsupported target type : int&quot;,\r\n```\r\n\r\nWhen I debugged the app, I found that an error is thrown from,\r\n```\r\n         &quot;&gt;&quot; -&gt; return path.goe(value)\r\n```\r\nthis line of ShiftPredicate class.\r\n\r\nThis is my ShiftPredecateBuilder class\r\n```\r\n   package com.presto.salesApp.common.querydsl\r\n\r\nimport com.querydsl.core.types.Predicate\r\nimport com.querydsl.core.types.dsl.BooleanExpression\r\nimport com.querydsl.core.types.dsl.Expressions\r\nimport java.util.*\r\nimport java.util.stream.Collectors\r\n\r\n\r\nclass ShiftPredicatesBuilder {\r\n         // val params: List&lt;SearchCriteria&gt; = listOf&lt;SearchCriteria&gt;() ;\r\n    val params : MutableList&lt;SearchCriteria&gt; = ArrayList()\r\n//    fun ShiftPredicatesBuilder() {\r\n//        params = ArrayList&lt;SearchCriteria&gt;();\r\n//    }\r\n\r\n    fun with(\r\n        key: String, operation: String, value: Any\r\n    ): ShiftPredicatesBuilder {\r\n        params.add(SearchCriteria(key, operation, value))\r\n        return this\r\n    }\r\n\r\n\r\n    fun build(): BooleanExpression {\r\n//        if (params!!.size == 0) {\r\n//            return null;\r\n//        }\r\n//\r\n\r\n        val predicates: MutableList&lt;BooleanExpression&gt; = params\r\n            .stream()\r\n            .map&lt;BooleanExpression&gt; {\r\n           param: SearchCriteria -&gt; ShiftPredicate(param).getPredicate()\r\n            }\r\n            .filter(Objects::nonNull)\r\n            .collect(Collectors.toList())\r\n\r\n\r\n        var result = Expressions.asBoolean(true).isTrue;\r\n\r\n\r\n        for (predicate in predicates) {\r\n            result = result.and(predicate as Predicate?)\r\n        }\r\n        return result;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is ShiftPredicate class,\r\n``` \r\n  package com.presto.salesApp.common.querydsl\r\n\r\nimport com.presto.salesApp.modules.shift.Shift\r\nimport com.querydsl.core.types.dsl.BooleanExpression\r\nimport com.querydsl.core.types.dsl.PathBuilder\r\n\r\n\r\nclass ShiftPredicate(paraCriteria: SearchCriteria) {\r\n    private val criteria: SearchCriteria =paraCriteria;\r\n\r\n    fun getPredicate(): BooleanExpression?\r\n          {\r\n            val entityPath: PathBuilder&lt;Shift?&gt; = PathBuilder&lt;Shift?&gt;(Shift::class.java, &quot;shift&quot;)\r\n            if (isNumeric(criteria.value.toString())) {\r\n                val path = entityPath.getNumber(criteria.key, Int::class.java)\r\n                val value = criteria.value.toString().toInt()\r\n                when (criteria.operation) {\r\n                    &quot;:&quot; -&gt; return path.eq(value)\r\n                    &quot;&gt;&quot; -&gt; return path.goe(value)\r\n                    &quot;&lt;&quot; -&gt; return path.lt(value)\r\n                }\r\n            } else {\r\n                val path = entityPath.getString(criteria.key)\r\n                if (criteria.operation.equals(&quot;:&quot;, ignoreCase = true)) {\r\n                    return path.containsIgnoreCase(criteria.value.toString())\r\n                }\r\n            }\r\n            return null\r\n        }\r\n\r\n\r\n        fun isNumeric(str: String): Boolean {\r\n            try {\r\n                str.toInt()\r\n            } catch (e: NumberFormatException) {\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThis is the controller method. I hardcoded values for the moment,\r\n```\r\n    @GetMapping(&quot;/search&quot;)\r\n    fun getQueryDslShift(@RequestParam(value = &quot;search&quot;) search: String): Any {\r\n\r\n        val builder = ShiftPredicatesBuilder().with(&quot;version&quot;,&quot;&gt;&quot;,3)\r\n        val exp: BooleanExpression = builder.build()\r\n\r\n        return shiftService.getQueryDSLShiftByPredicate(exp)\r\n\r\n    }\r\n\r\n```\r\nThis is the error,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQyZv.png\r\n\r\nUsed this version in POM\r\n```\r\n  &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How can I eliminate the Unsupported target type : int error in QueryDsl dynamic search for operators","body":"<p>I used this example <a href=\"https://baeldung-cn.com/rest-api-search-language-spring-data-querydsl\" rel=\"nofollow noreferrer\">https://baeldung-cn.com/rest-api-search-language-spring-data-querydsl</a> to implement the same in Kotlin.</p>\n<p>I created an entity called Shift. Querying is working fine for the equal operators. When comes to the other operators, It throws this error.,</p>\n<pre><code>  &quot;java.lang.IllegalArgumentException: Unsupported target type : int\\n\\tat com.querydsl.core.util.MathUtils.cast(MathUtils.java:86)\\n\\tat com.querydsl.core.types.dsl.NumberExpression.cast(NumberExpression.java:178)\\n\\tat com.querydsl.core.types.dsl.NumberExpression.goe(NumberExpression.java:293)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicate.getPredicate(ShiftPredicate.kt:19)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicatesBuilder.build$lambda-0(ShiftPredicatesBuilder.kt:34)\\n\\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\\n\\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\\n\\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\\n\\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\\n\\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\\n\\tat com.presto.salesApp.common.querydsl.ShiftPredicatesBuilder.build(ShiftPredicatesBuilder.kt:37)\\n\\tat com.presto.salesApp.modules.shift.ShiftController.getQueryDslShift(ShiftController.kt:166)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\n&quot;,\n    &quot;message&quot;: &quot;Unsupported target type : int&quot;,\n</code></pre>\n<p>When I debugged the app, I found that an error is thrown from,</p>\n<pre><code>         &quot;&gt;&quot; -&gt; return path.goe(value)\n</code></pre>\n<p>this line of ShiftPredicate class.</p>\n<p>This is my ShiftPredecateBuilder class</p>\n<pre><code>   package com.presto.salesApp.common.querydsl\n\nimport com.querydsl.core.types.Predicate\nimport com.querydsl.core.types.dsl.BooleanExpression\nimport com.querydsl.core.types.dsl.Expressions\nimport java.util.*\nimport java.util.stream.Collectors\n\n\nclass ShiftPredicatesBuilder {\n         // val params: List&lt;SearchCriteria&gt; = listOf&lt;SearchCriteria&gt;() ;\n    val params : MutableList&lt;SearchCriteria&gt; = ArrayList()\n//    fun ShiftPredicatesBuilder() {\n//        params = ArrayList&lt;SearchCriteria&gt;();\n//    }\n\n    fun with(\n        key: String, operation: String, value: Any\n    ): ShiftPredicatesBuilder {\n        params.add(SearchCriteria(key, operation, value))\n        return this\n    }\n\n\n    fun build(): BooleanExpression {\n//        if (params!!.size == 0) {\n//            return null;\n//        }\n//\n\n        val predicates: MutableList&lt;BooleanExpression&gt; = params\n            .stream()\n            .map&lt;BooleanExpression&gt; {\n           param: SearchCriteria -&gt; ShiftPredicate(param).getPredicate()\n            }\n            .filter(Objects::nonNull)\n            .collect(Collectors.toList())\n\n\n        var result = Expressions.asBoolean(true).isTrue;\n\n\n        for (predicate in predicates) {\n            result = result.and(predicate as Predicate?)\n        }\n        return result;\n\n    }\n\n}\n</code></pre>\n<p>This is ShiftPredicate class,</p>\n<pre><code>  package com.presto.salesApp.common.querydsl\n\nimport com.presto.salesApp.modules.shift.Shift\nimport com.querydsl.core.types.dsl.BooleanExpression\nimport com.querydsl.core.types.dsl.PathBuilder\n\n\nclass ShiftPredicate(paraCriteria: SearchCriteria) {\n    private val criteria: SearchCriteria =paraCriteria;\n\n    fun getPredicate(): BooleanExpression?\n          {\n            val entityPath: PathBuilder&lt;Shift?&gt; = PathBuilder&lt;Shift?&gt;(Shift::class.java, &quot;shift&quot;)\n            if (isNumeric(criteria.value.toString())) {\n                val path = entityPath.getNumber(criteria.key, Int::class.java)\n                val value = criteria.value.toString().toInt()\n                when (criteria.operation) {\n                    &quot;:&quot; -&gt; return path.eq(value)\n                    &quot;&gt;&quot; -&gt; return path.goe(value)\n                    &quot;&lt;&quot; -&gt; return path.lt(value)\n                }\n            } else {\n                val path = entityPath.getString(criteria.key)\n                if (criteria.operation.equals(&quot;:&quot;, ignoreCase = true)) {\n                    return path.containsIgnoreCase(criteria.value.toString())\n                }\n            }\n            return null\n        }\n\n\n        fun isNumeric(str: String): Boolean {\n            try {\n                str.toInt()\n            } catch (e: NumberFormatException) {\n                return false\n            }\n            return true\n        }\n\n}\n\n\n</code></pre>\n<p>This is the controller method. I hardcoded values for the moment,</p>\n<pre><code>    @GetMapping(&quot;/search&quot;)\n    fun getQueryDslShift(@RequestParam(value = &quot;search&quot;) search: String): Any {\n\n        val builder = ShiftPredicatesBuilder().with(&quot;version&quot;,&quot;&gt;&quot;,3)\n        val exp: BooleanExpression = builder.build()\n\n        return shiftService.getQueryDSLShiftByPredicate(exp)\n\n    }\n\n</code></pre>\n<p>This is the error,\n<a href=\"https://i.stack.imgur.com/MQyZv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQyZv.png\" alt=\"enter image description here\" /></a></p>\n<p>Used this version in POM</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1672716022,"post_id":74988742,"comment_id":132333131,"body_markdown":"Subclass field initialisers are run after the superclass constructor, so this is to be expected.","body":"Subclass field initialisers are run after the superclass constructor, so this is to be expected."},{"owner":{"account_id":25367590,"reputation":23,"user_id":19181948,"display_name":"Kevin_557"},"score":0,"creation_date":1672716437,"post_id":74988742,"comment_id":132333171,"body_markdown":"ty, i def a setup() to register settings, it worked","body":"ty, i def a setup() to register settings, it worked"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672716683,"creation_date":1672716683,"answer_id":74988819,"question_id":74988742,"body_markdown":"Subclass field initialisers are run after the superclass constructor, so this is to be expected. See also [Java initialisation order](https://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation).\r\n\r\nWhen the `Feature` constructor is run, the annotated fields have not been initialised yet, so they are all null.\r\n\r\nAn easy way to fix it would be to require subclasses to call something like a `registerSettings` in their own constructor, at which point, all the subclass&#39; fields would have been initialise.\r\n\r\n```\r\n// in Feature...\r\npublic final void registerSettings() {\r\n    try {\r\n        Class&lt;SettingAnno&gt; anno = SettingAnno.class;\r\n        for (Field field : this.getClass().getDeclaredFields()) {\r\n            if (field.isAnnotationPresent(anno)) {\r\n                Setting setting = (Setting) field.get(this);\r\n                this.settings.add(setting);\r\n            }\r\n        }\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// in FeatureChild...\r\n\r\npublic FeatureChild() {\r\n    registerSettings();\r\n    // ...\r\n}\r\n```","title":"Field.get() return &#39;null&#39;","body":"<p>Subclass field initialisers are run after the superclass constructor, so this is to be expected. See also <a href=\"https://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation\">Java initialisation order</a>.</p>\n<p>When the <code>Feature</code> constructor is run, the annotated fields have not been initialised yet, so they are all null.</p>\n<p>An easy way to fix it would be to require subclasses to call something like a <code>registerSettings</code> in their own constructor, at which point, all the subclass' fields would have been initialise.</p>\n<pre><code>// in Feature...\npublic final void registerSettings() {\n    try {\n        Class&lt;SettingAnno&gt; anno = SettingAnno.class;\n        for (Field field : this.getClass().getDeclaredFields()) {\n            if (field.isAnnotationPresent(anno)) {\n                Setting setting = (Setting) field.get(this);\n                this.settings.add(setting);\n            }\n        }\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<pre><code>// in FeatureChild...\n\npublic FeatureChild() {\n    registerSettings();\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":25367590,"reputation":23,"user_id":19181948,"display_name":"Kevin_557"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74988819,"answer_count":1,"score":2,"last_activity_date":1672716683,"creation_date":1672715482,"question_id":74988742,"body_markdown":"i try to use annotation to register settings for a Feature, but i cant reflect the setting field, what i did wrong, ty\r\n\r\nthis is Feature init, i want add settings\r\n```java\r\npublic Feature() {\r\n    try {\r\n        Class&lt;SettingAnno&gt; anno = SettingAnno.class;\r\n        for (Field field : this.getClass().getDeclaredFields()) {\r\n            if (field.isAnnotationPresent(anno)) {\r\n                Setting setting = (Setting) field.get(this);\r\n                this.settings.add(setting);\r\n            }\r\n        }\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nbut when i use `Setting setting = (Setting) field.get(this);`, it actually will be set to &#39;null&#39;\r\n\r\nthe Feature child:\r\n\r\n```java\r\npublic final class FeatureChild extends Feature {\r\n    @SettingAnno(&quot;setting1&quot;)\r\n    public final BooleanSetting setting1 = new BooleanSetting(true);\r\n}\r\n```\r\nBoolenSetting is Setting child\r\n\r\nthis is the annotation\r\n```java\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface SettingAnno {\r\n    String value();\r\n}\r\n```\r\n","title":"Field.get() return &#39;null&#39;","body":"<p>i try to use annotation to register settings for a Feature, but i cant reflect the setting field, what i did wrong, ty</p>\n<p>this is Feature init, i want add settings</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Feature() {\n    try {\n        Class&lt;SettingAnno&gt; anno = SettingAnno.class;\n        for (Field field : this.getClass().getDeclaredFields()) {\n            if (field.isAnnotationPresent(anno)) {\n                Setting setting = (Setting) field.get(this);\n                this.settings.add(setting);\n            }\n        }\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>but when i use <code>Setting setting = (Setting) field.get(this);</code>, it actually will be set to 'null'</p>\n<p>the Feature child:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FeatureChild extends Feature {\n    @SettingAnno(&quot;setting1&quot;)\n    public final BooleanSetting setting1 = new BooleanSetting(true);\n}\n</code></pre>\n<p>BoolenSetting is Setting child</p>\n<p>this is the annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SettingAnno {\n    String value();\n}\n</code></pre>\n"},{"tags":["java","android","getter-setter"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1672710306,"post_id":74988414,"comment_id":132332457,"body_markdown":"Please add the exception message you are getting to your question, including the full stack trace.","body":"Please add the exception message you are getting to your question, including the full stack trace."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1672710717,"post_id":74988414,"comment_id":132332518,"body_markdown":"You don&#39;t show where `units` is defined. Generally speaking, adding a listener to an object does not cause the code within the listener to be called right away.  Are you expecting that `units` will be set by the `onDataChange` method by the time that the `getUnits()` function completes and returns its value?  I don&#39;t know the specifics of The Firebase API, but in most cases that look like this code, you can&#39;t assume that `units` will change before `getUnits()` returns its value.","body":"You don&#39;t show where <code>units</code> is defined. Generally speaking, adding a listener to an object does not cause the code within the listener to be called right away.  Are you expecting that <code>units</code> will be set by the <code>onDataChange</code> method by the time that the <code>getUnits()</code> function completes and returns its value?  I don&#39;t know the specifics of The Firebase API, but in most cases that look like this code, you can&#39;t assume that <code>units</code> will change before <code>getUnits()</code> returns its value."},{"owner":{"account_id":6946195,"reputation":570,"user_id":5330567,"display_name":"TRIKONINFOSYSTEMS"},"score":0,"creation_date":1672719981,"post_id":74988414,"comment_id":132333546,"body_markdown":"I have edited the question with more details @CryptoFool","body":"I have edited the question with more details @CryptoFool"}],"owner":{"account_id":6946195,"reputation":570,"user_id":5330567,"display_name":"TRIKONINFOSYSTEMS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672714547,"creation_date":1672710079,"question_id":74988414,"body_markdown":"I am calculating the number of units available base on the units sold in &quot;Sale&quot; table. I am using Firebase Datastore. My code looks like below inside the Post Model\r\n\r\n    public String getUnits() {\r\n\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Sale&quot;).child(this.postid);\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Long count = Long.parseLong(units) - snapshot.getChildrenCount();\r\n                units = count.toString();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        return units;\r\n    }\r\n\r\nI need to return the value inside onDataChange(). It is showing exception. \r\n\r\nI am trying to get this value inside a Adapter in Android Studio.\r\n\r\n    private void getCardCount( Post post){\r\n      cardCount.setText(&quot;Remaining &quot; + post.getUnits());\r\n    }\r\n\r\nIf I put return inside onDataChange(), it gives the error : *Cannot return a value from a method with void result type*\r\n\r\nand when I change the return type to String, it gives the error: *&#39;onDataChange(DataSnapshot)&#39; in &#39;Anonymous class derived from com.google.firebase.database.ValueEventListener&#39; clashes with &#39;onDataChange(DataSnapshot)&#39; in &#39;com.google.firebase.database.ValueEventListener&#39;; attempting to use incompatible return type*\r\n\r\nI am new to android studio and some help will be much appreciated. Thank you in advance.","title":"Return updated value in getter function of model class in android studio java","body":"<p>I am calculating the number of units available base on the units sold in &quot;Sale&quot; table. I am using Firebase Datastore. My code looks like below inside the Post Model</p>\n<pre><code>public String getUnits() {\n\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Sale&quot;).child(this.postid);\n    databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            Long count = Long.parseLong(units) - snapshot.getChildrenCount();\n            units = count.toString();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n    return units;\n}\n</code></pre>\n<p>I need to return the value inside onDataChange(). It is showing exception.</p>\n<p>I am trying to get this value inside a Adapter in Android Studio.</p>\n<pre><code>private void getCardCount( Post post){\n  cardCount.setText(&quot;Remaining &quot; + post.getUnits());\n}\n</code></pre>\n<p>If I put return inside onDataChange(), it gives the error : <em>Cannot return a value from a method with void result type</em></p>\n<p>and when I change the return type to String, it gives the error: <em>'onDataChange(DataSnapshot)' in 'Anonymous class derived from com.google.firebase.database.ValueEventListener' clashes with 'onDataChange(DataSnapshot)' in 'com.google.firebase.database.ValueEventListener'; attempting to use incompatible return type</em></p>\n<p>I am new to android studio and some help will be much appreciated. Thank you in advance.</p>\n"},{"tags":["java","thucydides"],"owner":{"account_id":27416059,"reputation":23,"user_id":20915219,"display_name":"Carolina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672714027,"creation_date":1672705918,"question_id":74988158,"body_markdown":"I am trying to implement StepListener interface from `net.thucydides.core.steps` where I need to implement the methods:\r\n\r\n```\r\n@Override\r\npublic void testSuiteStarted(Class&lt;?&gt; storyClass) {}\r\n```\r\n\r\n\r\n```\r\n@Override\r\npublic void testSuiteFinished() {}\r\n```\r\nHow can I send those events in a correct JSON format?","title":"Implement StepListener from thucydides","body":"<p>I am trying to implement StepListener interface from <code>net.thucydides.core.steps</code> where I need to implement the methods:</p>\n<pre><code>@Override\npublic void testSuiteStarted(Class&lt;?&gt; storyClass) {}\n</code></pre>\n<pre><code>@Override\npublic void testSuiteFinished() {}\n</code></pre>\n<p>How can I send those events in a correct JSON format?</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672682777,"post_id":74985561,"comment_id":132327241,"body_markdown":"you should not split code with useless comments","body":"you should not split code with useless comments"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672682891,"post_id":74985561,"comment_id":132327279,"body_markdown":"add your entity class its probably the reason for the bug","body":"add your entity class its probably the reason for the bug"},{"owner":{"account_id":27413979,"reputation":11,"user_id":20913491,"display_name":"VAMPYR CITY"},"score":0,"creation_date":1672685035,"post_id":74985561,"comment_id":132327755,"body_markdown":"@anon thx, I added the Entity class down below in the post.","body":"@anon thx, I added the Entity class down below in the post."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":2,"creation_date":1672685979,"post_id":74985561,"comment_id":132327967,"body_markdown":"yeah you need to remove the static part.  Static variables are class variables what you want is instance variables so you will need to remove it since every  time you change a static  variables it will change globaly for that class and thats the reason you are only getting assassin since it the last update you give the the class entity","body":"yeah you need to remove the static part.  Static variables are class variables what you want is instance variables so you will need to remove it since every  time you change a static  variables it will change globaly for that class and thats the reason you are only getting assassin since it the last update you give the the class entity"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1672695301,"post_id":74985561,"comment_id":132330083,"body_markdown":"What you are doing seems right to me. And welcome to Stack Overflow, but its much too much code, and I am by far reading through all of it. If you want serious answers, reduce to a [mre], please.","body":"What you are doing seems right to me. And welcome to Stack Overflow, but its much too much code, and I am by far reading through all of it. If you want serious answers, reduce to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672768501,"post_id":74985561,"comment_id":132347127,"body_markdown":"Does this answer your question? At least I find it very similar. [My Java object array only returns the last element](https://stackoverflow.com/questions/49016473/my-java-object-array-only-returns-the-last-element)","body":"Does this answer your question? At least I find it very similar. <a href=\"https://stackoverflow.com/questions/49016473/my-java-object-array-only-returns-the-last-element\">My Java object array only returns the last element</a>"}],"answers":[{"tags":[],"owner":{"account_id":13542195,"reputation":139,"user_id":9769594,"display_name":"warmCabin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672690104,"creation_date":1672690104,"answer_id":74986627,"question_id":74985561,"body_markdown":"What Anon said. Change your entity class to this, and you shouldn&#39;t even need to touch the rest of your code.\r\n\r\nRemember that static means it&#39;s one value associated with the class itself and not any particular instance. But for some reason, Java lets you reference static values via an instance (like you did), which does nothing except trick you into thinking it&#39;s not static. I really don&#39;t know why that&#39;s a thing.\r\n\r\n```java\r\npublic class Entity {\r\n\r\n    String name;\r\n    int enemyHealth = 100;\r\n    int shieldDropChance = 0;\r\n    int swordDropChance = 0;\r\n    int inHealth = 0;\r\n    \r\n    public int getSwordDropChance() {\r\n        return swordDropChance;\r\n    }\r\n    public void setSwordDropChance(int swordDropChance) {\r\n        this.swordDropChance = swordDropChance;\r\n    }\r\n    public int getShieldDropChance() {\r\n        return shieldDropChance;\r\n    }\r\n    public void setShieldDropChance(int shieldDropChance) {\r\n        this.shieldDropChance = shieldDropChance;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public int getEnemyHealth() {\r\n        return enemyHealth;\r\n    }\r\n    public void setEnemyHealth(int enemyHealth) {\r\n        this.enemyHealth = enemyHealth;\r\n    }\r\n    \r\n    public Entity (String name, int enemyHealth, int ShieldDropChance, int swordDropChance, int inHealth) {\r\n        \r\n        this.name = name;\r\n        this.enemyHealth = enemyHealth;\r\n        this.ShieldDropChance = ShieldDropChance;\r\n        this.swordDropChance = swordDropChance;\r\n        this.inHealth = inHealth;\r\n        \r\n        \r\n    }\r\n}\r\n```","title":"Choosing random Index from Array of Objects - Java","body":"<p>What Anon said. Change your entity class to this, and you shouldn't even need to touch the rest of your code.</p>\n<p>Remember that static means it's one value associated with the class itself and not any particular instance. But for some reason, Java lets you reference static values via an instance (like you did), which does nothing except trick you into thinking it's not static. I really don't know why that's a thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Entity {\n\n    String name;\n    int enemyHealth = 100;\n    int shieldDropChance = 0;\n    int swordDropChance = 0;\n    int inHealth = 0;\n    \n    public int getSwordDropChance() {\n        return swordDropChance;\n    }\n    public void setSwordDropChance(int swordDropChance) {\n        this.swordDropChance = swordDropChance;\n    }\n    public int getShieldDropChance() {\n        return shieldDropChance;\n    }\n    public void setShieldDropChance(int shieldDropChance) {\n        this.shieldDropChance = shieldDropChance;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getEnemyHealth() {\n        return enemyHealth;\n    }\n    public void setEnemyHealth(int enemyHealth) {\n        this.enemyHealth = enemyHealth;\n    }\n    \n    public Entity (String name, int enemyHealth, int ShieldDropChance, int swordDropChance, int inHealth) {\n        \n        this.name = name;\n        this.enemyHealth = enemyHealth;\n        this.ShieldDropChance = ShieldDropChance;\n        this.swordDropChance = swordDropChance;\n        this.inHealth = inHealth;\n        \n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27413979,"reputation":11,"user_id":20913491,"display_name":"VAMPYR CITY"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672713478,"creation_date":1672681808,"question_id":74985561,"body_markdown":"I am trying to code a text based Adventure Game, but the random enemy selection does not work. Always the &quot;Assassin&quot; gets chosen, but I can&#39;t figure out why.\r\n\r\n```\r\npackage defaultdfs;\r\n\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class main {\r\n\r\n\t// System Objects\r\n\tstatic Scanner in = new Scanner(System.in);\r\n\tstatic Random rand = new Random();\r\n\t\r\n\t//OBJ\r\n\tstatic Entity s = new Entity(&quot;Skeleton&quot;, 200, 5, 2, 200);\r\n\tstatic Entity z = new Entity(&quot;Zombie&quot;, 150, 2, 1, 150);\r\n\tstatic Entity w = new Entity(&quot;Warrior&quot;, 175, 3, 1, 175);\r\n\tstatic Entity a = new Entity(&quot;Assasin&quot;, 75, 1, 1, 75);\r\n\t\r\n\t// Game Variables\r\n\tstatic Entity[] enemies = {w, z, s, a};\r\n\tstatic int maxEnemyHealth = 75;\r\n\tstatic int enemyAttackDam = 25;\r\n\r\n\t// Player Variables\r\n\tstatic int health = 100;\r\n\tstatic int attackDamage = 50;\r\n\tstatic int numHealthPot = 3;\r\n\tstatic int healthPotHealAmount = 30;\r\n\tstatic int healthPotDropChance = 50;\r\n\tstatic int ShieldDropChance = 0;\r\n\tstatic int enemyCounter = 0;\r\n\tstatic int defense = 0;\r\n\tstatic int enemyHealth = 0;\r\n\t\r\n\tstatic int damageDealt = 0;\r\n\tstatic int damageTaken = 0;\r\n\r\n\t//Items\r\n\tstatic boolean sword = false;\r\n\tstatic int swordDropChance = 0;\r\n\t\r\n\tstatic boolean running = true;\r\n\t\r\n\tstatic Entity enemy;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\twelcome();\r\n\r\n\t\tGAME: while (running) {\r\n\t\t\tSystem.out.println(&quot;-------------------------------------------------&quot;);\r\n\r\n\t\t\t\r\n\t\t\tint ra = rand.nextInt(enemies.length); //RANDOM ENEMY           SELECTION in two steps\r\n\t\t\tenemy = enemies[ra];\t\t\t\r\n\r\n//     enemy = enemies[rand.nextInt(enemies.length)]; //in one step\r\n\r\n\t\t\tSystem.out.println(ra);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\t# &quot; + enemy.name + &quot; appeared! #\\n&quot;);\r\n\r\n\t\t\twhile (enemy.enemyHealth &gt; 0) {\r\n\r\n\t\t\t\tmonitoring(enemy, Entity.enemyHealth);\r\n\r\n\t\t\t\tString input = in.nextLine();\r\n\t\t\t\tif (input.equals(&quot;1&quot;)) {\r\n\t\t\t\t\tdamageDealt = rand.nextInt(attackDamage);\r\n\t\t\t\t\tdamageTaken = rand.nextInt(enemyAttackDam);\r\n\t\t\t\t\t\r\n\t\t\t\t\tenemy.enemyHealth -= damageDealt;\r\n\t\t\t\t\thealth -= damageTaken;\r\n\r\n\t\t\t\t\t// Iteminfluence\r\n\t\t\t\t\thealth += defense;\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;\\t&gt; You strike the &quot; + enemy.name + &quot; for &quot; + damageDealt + &quot; damage.&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;\\t&gt; You recive &quot; + damageTaken + &quot; in retaliation!&quot;);\r\n\r\n\t\t\t\t\tif (health &lt; 1) {\r\n\t\t\t\t\t\tdead();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (input.equals(&quot;2&quot;)) {\r\n\t\t\t\t\thealingProcess(enemy);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse if (input.equals(&quot;3&quot;)) {\r\n\t\t\t\t\trunOption(enemy);\r\n\t\t\t\t\tcontinue GAME;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;\\tInvalid command!&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (health &lt; 1) {\r\n\t\t\t\tSystem.out.println(&quot;You limp out of the dungeon, weak from battle!&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tdefmsg(enemy);\r\n\r\n\t\t\tenemyC();\r\n\r\n\t\t\thealpot(enemy);\r\n\r\n\t\t\tdefense(enemy);\r\n\t\t\t\r\n\t\t\tsword(enemy);\r\n\r\n\t\t\toptions();\r\n\t\t\t\r\n\t\t\tString input = in.nextLine();\r\n\t\t\t\r\n\t\t\twhile (!input.equals(&quot;1&quot;) &amp;&amp; !input.equals(&quot;2&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid command!&quot;);\r\n\t\t\t\tinput = in.nextLine();\r\n\t\t\t}\r\n\r\n\t\t\tif (input.equals(input.equals(&quot;1&quot;))) {\r\n\t\t\t\tSystem.out.println(&quot;You continue on ypur adventure!&quot;);\r\n\t\t\t}\r\n\r\n\t\t\telse if (input.equals(&quot;2&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;You exit the dungeon, successful from your adventure!&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthx();\r\n\t}\r\n\r\n\r\n\r\n\tprivate static void sword(Entity enemy) {\r\n\t\t\r\n\t\tif (rand.nextInt(100) &lt; swordDropChance) {\r\n\r\n\t\t\tattackDamage += 5;\r\n\r\n\t\t\tSystem.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a piece of armor! # &quot;);\r\n\t\t\tSystem.out.println(&quot; # You attack now with +5! # &quot;);\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\tprivate static void defmsg(Entity enemy) {\r\n\t\tSystem.out.println(&quot;-------------------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot; # &quot; + enemy.name + &quot; was defeated! # &quot;);\r\n\t\tSystem.out.println(&quot; # You have &quot; + health + &quot;HP left. # &quot;);\r\n\t\t\r\n\t\tenemy.enemyHealth = enemy.inHealth;\r\n\t}\r\n\r\n\tprivate static void options() {\r\n\t\tSystem.out.println(&quot;-------------------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;What would you like to do now? &quot;);\r\n\t\tSystem.out.println(&quot;1. Continue fighting&quot;);\r\n\t\tSystem.out.println(&quot;2. Exit dungeon&quot;);\r\n\t\r\n\t}\r\n\r\n\tprivate static void thx() {\r\n\t\tSystem.out.println(&quot;#######################&quot;);\r\n\t\tSystem.out.println(&quot;# THANKS FOR PLAYING! #&quot;);\r\n\t\tSystem.out.println(&quot;#######################&quot;);\r\n\t}\r\n\r\n\tprivate static void welcome() {\r\n\t\tSystem.out.println(&quot;Welcome to the Dungeon!&quot;);\r\n\t\t\r\n\t}\r\n\r\n\tprivate static void attack(int enemyHealth, int damageDealt, int damageTaken) {\r\n\t\t\r\n\t\tenemy.enemyHealth -= damageDealt;\r\n\t\thealth -= damageTaken;\r\n\r\n\t\t// Iteminfluence\r\n\t\thealth += defense;\r\n\r\n\t}\r\n\r\n\tprivate static void dead() {\r\n\t\tSystem.out.println(&quot;\\t&gt; You have taken too much damage, you are too weak to go on!&quot;);\r\n\t}\r\n\r\n\tprivate static void monitoring(Entity enemy, int enemyHealth) {\r\n\t\tSystem.out.println(&quot;\\tYour HP: &quot; + health);\r\n\t\tSystem.out.println(&quot;\\t&quot; + enemy.name + &quot;&#39;s HP: &quot; + enemy.enemyHealth);\r\n\t\tSystem.out.println(&quot;\\n\\tWhat would you like to do?&quot;);\r\n\t\tSystem.out.println(&quot;\\t1. Attack&quot;);\r\n\t\tSystem.out.println(&quot;\\t2. Drink health potion&quot;);\r\n\t\tSystem.out.println(&quot;\\t3. Run!&quot;);\r\n\r\n\t}\r\n\r\n\tprivate static void runOption(Entity enemy) {\r\n\r\n\t\tSystem.out.println(&quot;\\tYou run away from the &quot; + enemy.name + &quot;!&quot;);\r\n\r\n\t}\r\n\r\n\tprivate static void healingProcess(Entity enemy) {\r\n\r\n\t\tif (numHealthPot &gt; 0) {\r\n\r\n\t\t\tint prevHealth = health;\r\n\r\n\t\t\thealth += healthPotHealAmount;\r\n\r\n\t\t\tif (health == 100) {\r\n\t\t\t\tSystem.out.println(&quot;You can not heal yourself!&quot;);\r\n\t\t\t} else if (health &gt; 100) {\r\n\t\t\t\thealth = 100;\r\n\t\t\t\tnumHealthPot--;\r\n\t\t\t\tSystem.out.println(&quot;\\t&gt; You drink a health potion, healing yourself for &quot; + healthPotHealAmount + &quot; . &quot;\r\n\t\t\t\t\t\t+ &quot;\\n\\t&gt; You now have &quot; + health + &quot; HP.&quot; + &quot;\\n\\t&gt; You have &quot; + numHealthPot\r\n\t\t\t\t\t\t+ &quot; health potions left.\\n&quot;);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tnumHealthPot--;\r\n\t\t\t\tSystem.out.println(&quot;\\t&gt; You drink a health potion, healing yourself for &quot; + healthPotHealAmount + &quot; . &quot;\r\n\t\t\t\t\t\t+ &quot;\\n\\t&gt; You now have &quot; + health + &quot; HP.&quot; + &quot;\\n\\t&gt; You have &quot; + numHealthPot\r\n\t\t\t\t\t\t+ &quot; health potions left.\\n&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;\\t&gt; You have no health potions left! Defeat enemies for a chance to get one!&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void enemyC() {\r\n\r\n\t\tenemyCounter++;\r\n\r\n\t\tif (enemyCounter == 1) {\r\n\t\t\tSystem.out.println(&quot; # You killed one enemy! # &quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot; # You killed &quot; + enemyCounter + &quot; enemies! # &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate static void healpot(Entity enemy) {\r\n\t\tif (rand.nextInt(100) &lt; healthPotDropChance) {\r\n\t\t\tnumHealthPot++;\r\n\t\t\tSystem.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a health potion! # &quot;);\r\n\t\t\tSystem.out.println(&quot; # You now have &quot; + numHealthPot + &quot; heaalth potion(s). # &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void defense(Entity enemy) {\r\n\r\n\t\tif (rand.nextInt(100) &lt; ShieldDropChance) {\r\n\r\n\t\t\tdefense += 5;\r\n\r\n\t\t\tSystem.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a piece of armor! # &quot;);\r\n\t\t\tSystem.out.println(&quot; # You now have &quot; + defense + &quot; defensepoints! # &quot;);\r\n\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nI Tried to split the part up and print out the number it choose. And the random selection works but its always the same enemy which gets chosen.\r\n\r\n```package defaultdfs;\r\n\r\npublic class Entity {\r\n\r\n\tstatic String name;\r\n\tstatic int enemyHealth = 100;\r\n\tstatic int ShieldDropChance = 0;\r\n\tstatic int swordDropChance = 0;\r\n\tstatic int inHealth = 0;\r\n\t\r\n\tpublic static int getSwordDropChance() {\r\n\t\treturn swordDropChance;\r\n\t}\r\n\tpublic static void setSwordDropChance(int swordDropChance) {\r\n\t\tEntity.swordDropChance = swordDropChance;\r\n\t}\r\n\tpublic static int getShieldDropChance() {\r\n\t\treturn ShieldDropChance;\r\n\t}\r\n\tpublic static void setShieldDropChance(int shieldDropChance) {\r\n\t\tShieldDropChance = shieldDropChance;\r\n\t}\r\n\tpublic static String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic static void setName(String name) {\r\n\t\tEntity.name = name;\r\n\t}\r\n\tpublic static int getEnemyHealth() {\r\n\t\treturn enemyHealth;\r\n\t}\r\n\tpublic static void setEnemyHealth(int enemyHealth) {\r\n\t\tEntity.enemyHealth = enemyHealth;\r\n\t}\r\n\t\r\n\tpublic Entity (String name, int enemyHealth, int ShieldDropChance, int swordDropChance, int inHealth) {\r\n\t\t\r\n\t\tthis.name = name;\r\n\t\tthis.enemyHealth = enemyHealth;\r\n\t\tthis.ShieldDropChance = ShieldDropChance;\r\n\t\tthis.swordDropChance = swordDropChance;\r\n\t\tthis.inHealth = inHealth;\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n```","title":"Choosing random Index from Array of Objects - Java","body":"<p>I am trying to code a text based Adventure Game, but the random enemy selection does not work. Always the &quot;Assassin&quot; gets chosen, but I can't figure out why.</p>\n<pre><code>package defaultdfs;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class main {\n\n    // System Objects\n    static Scanner in = new Scanner(System.in);\n    static Random rand = new Random();\n    \n    //OBJ\n    static Entity s = new Entity(&quot;Skeleton&quot;, 200, 5, 2, 200);\n    static Entity z = new Entity(&quot;Zombie&quot;, 150, 2, 1, 150);\n    static Entity w = new Entity(&quot;Warrior&quot;, 175, 3, 1, 175);\n    static Entity a = new Entity(&quot;Assasin&quot;, 75, 1, 1, 75);\n    \n    // Game Variables\n    static Entity[] enemies = {w, z, s, a};\n    static int maxEnemyHealth = 75;\n    static int enemyAttackDam = 25;\n\n    // Player Variables\n    static int health = 100;\n    static int attackDamage = 50;\n    static int numHealthPot = 3;\n    static int healthPotHealAmount = 30;\n    static int healthPotDropChance = 50;\n    static int ShieldDropChance = 0;\n    static int enemyCounter = 0;\n    static int defense = 0;\n    static int enemyHealth = 0;\n    \n    static int damageDealt = 0;\n    static int damageTaken = 0;\n\n    //Items\n    static boolean sword = false;\n    static int swordDropChance = 0;\n    \n    static boolean running = true;\n    \n    static Entity enemy;\n\n    public static void main(String[] args) {\n\n        welcome();\n\n        GAME: while (running) {\n            System.out.println(&quot;-------------------------------------------------&quot;);\n\n            \n            int ra = rand.nextInt(enemies.length); //RANDOM ENEMY           SELECTION in two steps\n            enemy = enemies[ra];            \n\n//     enemy = enemies[rand.nextInt(enemies.length)]; //in one step\n\n            System.out.println(ra);\n            \n            System.out.println(&quot;\\t# &quot; + enemy.name + &quot; appeared! #\\n&quot;);\n\n            while (enemy.enemyHealth &gt; 0) {\n\n                monitoring(enemy, Entity.enemyHealth);\n\n                String input = in.nextLine();\n                if (input.equals(&quot;1&quot;)) {\n                    damageDealt = rand.nextInt(attackDamage);\n                    damageTaken = rand.nextInt(enemyAttackDam);\n                    \n                    enemy.enemyHealth -= damageDealt;\n                    health -= damageTaken;\n\n                    // Iteminfluence\n                    health += defense;\n\n                    System.out.println(&quot;\\t&gt; You strike the &quot; + enemy.name + &quot; for &quot; + damageDealt + &quot; damage.&quot;);\n                    System.out.println(&quot;\\t&gt; You recive &quot; + damageTaken + &quot; in retaliation!&quot;);\n\n                    if (health &lt; 1) {\n                        dead();\n                        break;\n                    }\n\n                } else if (input.equals(&quot;2&quot;)) {\n                    healingProcess(enemy);\n                }\n\n                else if (input.equals(&quot;3&quot;)) {\n                    runOption(enemy);\n                    continue GAME;\n                }\n\n                else {\n                    System.out.println(&quot;\\tInvalid command!&quot;);\n                }\n            }\n\n            if (health &lt; 1) {\n                System.out.println(&quot;You limp out of the dungeon, weak from battle!&quot;);\n                break;\n            }\n\n            defmsg(enemy);\n\n            enemyC();\n\n            healpot(enemy);\n\n            defense(enemy);\n            \n            sword(enemy);\n\n            options();\n            \n            String input = in.nextLine();\n            \n            while (!input.equals(&quot;1&quot;) &amp;&amp; !input.equals(&quot;2&quot;)) {\n                System.out.println(&quot;Invalid command!&quot;);\n                input = in.nextLine();\n            }\n\n            if (input.equals(input.equals(&quot;1&quot;))) {\n                System.out.println(&quot;You continue on ypur adventure!&quot;);\n            }\n\n            else if (input.equals(&quot;2&quot;)) {\n                System.out.println(&quot;You exit the dungeon, successful from your adventure!&quot;);\n                break;\n            }\n\n        }\n        thx();\n    }\n\n\n\n    private static void sword(Entity enemy) {\n        \n        if (rand.nextInt(100) &lt; swordDropChance) {\n\n            attackDamage += 5;\n\n            System.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a piece of armor! # &quot;);\n            System.out.println(&quot; # You attack now with +5! # &quot;);\n\n        }\n\n        \n    }\n\n\n\n    private static void defmsg(Entity enemy) {\n        System.out.println(&quot;-------------------------------------------------&quot;);\n        System.out.println(&quot; # &quot; + enemy.name + &quot; was defeated! # &quot;);\n        System.out.println(&quot; # You have &quot; + health + &quot;HP left. # &quot;);\n        \n        enemy.enemyHealth = enemy.inHealth;\n    }\n\n    private static void options() {\n        System.out.println(&quot;-------------------------------------------------&quot;);\n        System.out.println(&quot;What would you like to do now? &quot;);\n        System.out.println(&quot;1. Continue fighting&quot;);\n        System.out.println(&quot;2. Exit dungeon&quot;);\n    \n    }\n\n    private static void thx() {\n        System.out.println(&quot;#######################&quot;);\n        System.out.println(&quot;# THANKS FOR PLAYING! #&quot;);\n        System.out.println(&quot;#######################&quot;);\n    }\n\n    private static void welcome() {\n        System.out.println(&quot;Welcome to the Dungeon!&quot;);\n        \n    }\n\n    private static void attack(int enemyHealth, int damageDealt, int damageTaken) {\n        \n        enemy.enemyHealth -= damageDealt;\n        health -= damageTaken;\n\n        // Iteminfluence\n        health += defense;\n\n    }\n\n    private static void dead() {\n        System.out.println(&quot;\\t&gt; You have taken too much damage, you are too weak to go on!&quot;);\n    }\n\n    private static void monitoring(Entity enemy, int enemyHealth) {\n        System.out.println(&quot;\\tYour HP: &quot; + health);\n        System.out.println(&quot;\\t&quot; + enemy.name + &quot;'s HP: &quot; + enemy.enemyHealth);\n        System.out.println(&quot;\\n\\tWhat would you like to do?&quot;);\n        System.out.println(&quot;\\t1. Attack&quot;);\n        System.out.println(&quot;\\t2. Drink health potion&quot;);\n        System.out.println(&quot;\\t3. Run!&quot;);\n\n    }\n\n    private static void runOption(Entity enemy) {\n\n        System.out.println(&quot;\\tYou run away from the &quot; + enemy.name + &quot;!&quot;);\n\n    }\n\n    private static void healingProcess(Entity enemy) {\n\n        if (numHealthPot &gt; 0) {\n\n            int prevHealth = health;\n\n            health += healthPotHealAmount;\n\n            if (health == 100) {\n                System.out.println(&quot;You can not heal yourself!&quot;);\n            } else if (health &gt; 100) {\n                health = 100;\n                numHealthPot--;\n                System.out.println(&quot;\\t&gt; You drink a health potion, healing yourself for &quot; + healthPotHealAmount + &quot; . &quot;\n                        + &quot;\\n\\t&gt; You now have &quot; + health + &quot; HP.&quot; + &quot;\\n\\t&gt; You have &quot; + numHealthPot\n                        + &quot; health potions left.\\n&quot;);\n\n            } else {\n                numHealthPot--;\n                System.out.println(&quot;\\t&gt; You drink a health potion, healing yourself for &quot; + healthPotHealAmount + &quot; . &quot;\n                        + &quot;\\n\\t&gt; You now have &quot; + health + &quot; HP.&quot; + &quot;\\n\\t&gt; You have &quot; + numHealthPot\n                        + &quot; health potions left.\\n&quot;);\n\n            }\n\n        }\n\n        else {\n            System.out.println(&quot;\\t&gt; You have no health potions left! Defeat enemies for a chance to get one!&quot;);\n        }\n\n    }\n\n    private static void enemyC() {\n\n        enemyCounter++;\n\n        if (enemyCounter == 1) {\n            System.out.println(&quot; # You killed one enemy! # &quot;);\n        } else {\n            System.out.println(&quot; # You killed &quot; + enemyCounter + &quot; enemies! # &quot;);\n        }\n\n    }\n\n    private static void healpot(Entity enemy) {\n        if (rand.nextInt(100) &lt; healthPotDropChance) {\n            numHealthPot++;\n            System.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a health potion! # &quot;);\n            System.out.println(&quot; # You now have &quot; + numHealthPot + &quot; heaalth potion(s). # &quot;);\n        }\n\n    }\n\n    public static void defense(Entity enemy) {\n\n        if (rand.nextInt(100) &lt; ShieldDropChance) {\n\n            defense += 5;\n\n            System.out.println(&quot; # The &quot; + enemy.name + &quot; dropped a piece of armor! # &quot;);\n            System.out.println(&quot; # You now have &quot; + defense + &quot; defensepoints! # &quot;);\n\n        }\n\n    }\n}\n</code></pre>\n<p>I Tried to split the part up and print out the number it choose. And the random selection works but its always the same enemy which gets chosen.</p>\n<pre><code>\npublic class Entity {\n\n    static String name;\n    static int enemyHealth = 100;\n    static int ShieldDropChance = 0;\n    static int swordDropChance = 0;\n    static int inHealth = 0;\n    \n    public static int getSwordDropChance() {\n        return swordDropChance;\n    }\n    public static void setSwordDropChance(int swordDropChance) {\n        Entity.swordDropChance = swordDropChance;\n    }\n    public static int getShieldDropChance() {\n        return ShieldDropChance;\n    }\n    public static void setShieldDropChance(int shieldDropChance) {\n        ShieldDropChance = shieldDropChance;\n    }\n    public static String getName() {\n        return name;\n    }\n    public static void setName(String name) {\n        Entity.name = name;\n    }\n    public static int getEnemyHealth() {\n        return enemyHealth;\n    }\n    public static void setEnemyHealth(int enemyHealth) {\n        Entity.enemyHealth = enemyHealth;\n    }\n    \n    public Entity (String name, int enemyHealth, int ShieldDropChance, int swordDropChance, int inHealth) {\n        \n        this.name = name;\n        this.enemyHealth = enemyHealth;\n        this.ShieldDropChance = ShieldDropChance;\n        this.swordDropChance = swordDropChance;\n        this.inHealth = inHealth;\n        \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","service"],"owner":{"account_id":1607182,"reputation":61,"user_id":1487036,"display_name":"user1487036"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672713367,"creation_date":1672713367,"question_id":74988621,"body_markdown":"I have a core service that will get an Order request and I need to call 2 to 3 external services based on Order&#39;s Client&#39;s configuration. For e.g let us assume there are 3 external services service1, service2 and service3. The configuration might say, service1 - 50%, service2 - 25%, service3 - 25%. Or it could be 40, 30, 30. Also, some clients might say just call service1 and 2 and split equally or do 60, 40.\r\n\r\nDo you you have any recommendation for this in java? Also, it would be good to do this without making a DB call as it might affect response time. Any help would be appreciated. Thanks.","title":"Call external service using percentage split in java","body":"<p>I have a core service that will get an Order request and I need to call 2 to 3 external services based on Order's Client's configuration. For e.g let us assume there are 3 external services service1, service2 and service3. The configuration might say, service1 - 50%, service2 - 25%, service3 - 25%. Or it could be 40, 30, 30. Also, some clients might say just call service1 and 2 and split equally or do 60, 40.</p>\n<p>Do you you have any recommendation for this in java? Also, it would be good to do this without making a DB call as it might affect response time. Any help would be appreciated. Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1505649122,"post_id":46263725,"comment_id":79490451,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/data/characters.html ... do you want to know what a &quot;formfeed&quot; is? Do research on that.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/data/characters.html</a> ... do you want to know what a &quot;formfeed&quot; is? Do research on that."},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1505649304,"post_id":46263725,"comment_id":79490490,"body_markdown":"@Siguza it can be misleading to show a table of C escape characters to a person learning Java. For example, C has `\\v`, while Java doesn&#39;t.","body":"@Siguza it can be misleading to show a table of C escape characters to a person learning Java. For example, C has <code>\\v</code>, while Java doesn&#39;t."},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1505649656,"post_id":46263725,"comment_id":79490584,"body_markdown":"@KlitosKyriacou My bad, I was looking at possible dupes at the same time and came to believe this was about C.","body":"@KlitosKyriacou My bad, I was looking at possible dupes at the same time and came to believe this was about C."},{"owner":{"account_id":17858044,"reputation":1562,"user_id":12972198,"display_name":"Arsham Arya"},"score":0,"creation_date":1672670315,"post_id":46263725,"comment_id":132323790,"body_markdown":"you had an unsupported character in your code instead of &quot; (double quote)","body":"you had an unsupported character in your code instead of &quot; (double quote)"}],"answers":[{"comments":[{"owner":{"account_id":14173152,"reputation":111,"user_id":10618504,"display_name":"Stefan Skoglund"},"score":0,"creation_date":1617621661,"post_id":46263775,"comment_id":118346332,"body_markdown":"Try to use reverse video in a linux console .... or moving the insertion point for text.  ncurses uses control characters to tell the device what to do (if the device is the linux virtual console or a real heavy weigth vt100 doesnt really matter.)","body":"Try to use reverse video in a linux console .... or moving the insertion point for text.  ncurses uses control characters to tell the device what to do (if the device is the linux virtual console or a real heavy weigth vt100 doesnt really matter.)"}],"tags":[],"owner":{"account_id":3458848,"reputation":8847,"user_id":2896626,"accept_rate":64,"display_name":"Paul92"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1505649284,"creation_date":1505649284,"answer_id":46263775,"question_id":46263725,"body_markdown":"There are a bunch of so-called escaped characters - characters that have some special meaning and are formed from a backslash and another character. The most common one is newline `\\n`, but there are [others][1].\r\n\r\nMany of them became less and less useful over time, such as `\\f`. This is called form feed, is used to indicate to a printer that it should start a new page. You may notice multiple escape characters used to control printers, since back in the day printers were ascii controlled.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Escape_character","title":"What is the use of &#39;\\f&#39; character.where is to use it?","body":"<p>There are a bunch of so-called escaped characters - characters that have some special meaning and are formed from a backslash and another character. The most common one is newline <code>\\n</code>, but there are <a href=\"https://en.wikipedia.org/wiki/Escape_character\" rel=\"noreferrer\">others</a>.</p>\n\n<p>Many of them became less and less useful over time, such as <code>\\f</code>. This is called form feed, is used to indicate to a printer that it should start a new page. You may notice multiple escape characters used to control printers, since back in the day printers were ascii controlled.</p>\n"}],"owner":{"account_id":11191964,"reputation":544,"user_id":8212053,"display_name":"Malinda"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30165,"favorite_count":0,"down_vote_count":3,"up_vote_count":11,"closed_date":1505649256,"accepted_answer_id":46263775,"answer_count":1,"score":8,"last_activity_date":1672713244,"creation_date":1505648883,"question_id":46263725,"body_markdown":"```java\r\npublic class Task2 {\r\n  public static void main(String argv[]) {\r\n    System.out.println(&quot;UOK, \\f BSc in MIT&quot;);   \r\n    System.out.println(&quot;Whatever you are, \\f be a good one.&quot;);\r\n  }\r\n}\r\n```\r\nIn the above code, `\\f` is used, but output only shows a `?` character inside a square.","title":"What is the use of &#39;\\f&#39; character.where is to use it?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Task2 {\n  public static void main(String argv[]) {\n    System.out.println(&quot;UOK, \\f BSc in MIT&quot;);   \n    System.out.println(&quot;Whatever you are, \\f be a good one.&quot;);\n  }\n}\n</code></pre>\n<p>In the above code, <code>\\f</code> is used, but output only shows a <code>?</code> character inside a square.</p>\n"},{"tags":["java","concurrency","locks"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1672686703,"post_id":74986075,"comment_id":132328137,"body_markdown":"How does the for-loop look? Please share it as well.","body":"How does the for-loop look? Please share it as well."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672698449,"post_id":74986075,"comment_id":132330725,"body_markdown":"I beg the community to not to exite me, but using `wait` and `notify` would guarantee switching between threads behavior case (but not the starting state):)","body":"I beg the community to not to exite me, but using <code>wait</code> and <code>notify</code> would guarantee switching between threads behavior case (but not the starting state):)"}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1672698046,"creation_date":1672698046,"answer_id":74987522,"question_id":74986075,"body_markdown":"I can&#39;t see there being any particular difference between &#39;for&#39; and &#39;while&#39;.  But your code as written, even with &#39;while&#39;, does not guarantee the behaviour you want.\r\n\r\nFrom the [ReentrantLock documentation](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html):\r\n\r\n&gt; The constructor for this class accepts an optional fairness parameter.\r\n&gt; When set true, under contention, locks favor granting access to the\r\n&gt; longest-waiting thread. Otherwise this lock does not guarantee any\r\n&gt; particular access order.\r\n\r\nYou should use a &#39;fair&#39; lock to avoid starving one thread.  Even so, there&#39;s no real guarantee that while one thread owns the lock, the other one will have got to its own lock() call so as to ensure it is next in line as soon as unlock() is executed.  \r\n\r\n","title":"Same Thread Relocking Reentrant lock","body":"<p>I can't see there being any particular difference between 'for' and 'while'.  But your code as written, even with 'while', does not guarantee the behaviour you want.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">ReentrantLock documentation</a>:</p>\n<blockquote>\n<p>The constructor for this class accepts an optional fairness parameter.\nWhen set true, under contention, locks favor granting access to the\nlongest-waiting thread. Otherwise this lock does not guarantee any\nparticular access order.</p>\n</blockquote>\n<p>You should use a 'fair' lock to avoid starving one thread.  Even so, there's no real guarantee that while one thread owns the lock, the other one will have got to its own lock() call so as to ensure it is next in line as soon as unlock() is executed.</p>\n"}],"owner":{"account_id":13703284,"reputation":3,"user_id":9887705,"display_name":"flickNuts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74987522,"answer_count":1,"score":0,"last_activity_date":1672713155,"creation_date":1672685789,"question_id":74986075,"body_markdown":"I wrote a piece of code that is supposed to print &#39;ping pong&#39; using two different methods running on different threads. \r\n\r\n\r\n\r\n\r\n\r\nSharing the working code:\r\n\r\n```\r\npackage threading;\r\n\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class PingPong {\r\n\r\n  private static volatile int times;\r\n  private static volatile boolean ping;\r\n  private static final Lock lock = new ReentrantLock();\r\n\r\n  private static void ping() {\r\n    int i = 1;\r\n    while (i &lt; times) {\r\n        lock.lock();\r\n\r\n        if (ping) {\r\n          System.out.print(&quot;ping &quot;);\r\n          ping = !ping;\r\n          i += 1;\r\n        }\r\n\r\n        lock.unlock();\r\n    }\r\n  }\r\n\r\n  private static void pong() {\r\n    int i = 1;\r\n    while (i &lt; times) {\r\n        lock.lock();\r\n\r\n        if (!ping) {\r\n          System.out.println(&quot;pong&quot;);\r\n          ping = !ping;\r\n          i += 1;\r\n        }\r\n\r\n        lock.unlock();\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    times = 10;\r\n    ping =true;\r\n\r\n    Thread pingThread = new Thread(PingPong::ping);\r\n    Thread pongThread = new Thread(PingPong::pong);\r\n\r\n    pingThread.start();\r\n    pongThread.start();\r\n  }\r\n}\r\n```\r\n\r\nThe output in this case:\r\n\r\n```\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\nping pong\r\n```\r\n\r\n\r\nIf I replace the while loops in the ping and pong methods with for loops, the same thread seems to be locking again and again not giving the second one a fair chance to enter. The output in that case is inconsistent and comes up different everytime. Does while loop execute things differently that gives the second thread a chance to acquire the lock ?\r\n","title":"Same Thread Relocking Reentrant lock","body":"<p>I wrote a piece of code that is supposed to print 'ping pong' using two different methods running on different threads.</p>\n<p>Sharing the working code:</p>\n<pre><code>package threading;\n\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class PingPong {\n\n  private static volatile int times;\n  private static volatile boolean ping;\n  private static final Lock lock = new ReentrantLock();\n\n  private static void ping() {\n    int i = 1;\n    while (i &lt; times) {\n        lock.lock();\n\n        if (ping) {\n          System.out.print(&quot;ping &quot;);\n          ping = !ping;\n          i += 1;\n        }\n\n        lock.unlock();\n    }\n  }\n\n  private static void pong() {\n    int i = 1;\n    while (i &lt; times) {\n        lock.lock();\n\n        if (!ping) {\n          System.out.println(&quot;pong&quot;);\n          ping = !ping;\n          i += 1;\n        }\n\n        lock.unlock();\n    }\n  }\n\n  public static void main(String[] args) {\n    times = 10;\n    ping =true;\n\n    Thread pingThread = new Thread(PingPong::ping);\n    Thread pongThread = new Thread(PingPong::pong);\n\n    pingThread.start();\n    pongThread.start();\n  }\n}\n</code></pre>\n<p>The output in this case:</p>\n<pre><code>ping pong\nping pong\nping pong\nping pong\nping pong\nping pong\nping pong\nping pong\nping pong\n</code></pre>\n<p>If I replace the while loops in the ping and pong methods with for loops, the same thread seems to be locking again and again not giving the second one a fair chance to enter. The output in that case is inconsistent and comes up different everytime. Does while loop execute things differently that gives the second thread a chance to acquire the lock ?</p>\n"},{"tags":["java","macos","terminal","zsh","javac"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1672290801,"post_id":74947408,"comment_id":132259500,"body_markdown":"I think you downloaded just the Java Runtime Environment, not the Java Development Kit (JDK). Go back to https://www.java.com/en/ and click on Java SE Development Kit","body":"I think you downloaded just the Java Runtime Environment, not the Java Development Kit (JDK). Go back to <a href=\"https://www.java.com/en/\" rel=\"nofollow noreferrer\">java.com/en</a> and click on Java SE Development Kit"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":2,"creation_date":1672291125,"post_id":74947408,"comment_id":132259548,"body_markdown":"The &quot;recommended&quot; download on that website seems to be Java 8, which is ancient. Make sure you install a somewhat recent version. Either 17 (LTS) or 19 (latest) should be good.","body":"The &quot;recommended&quot; download on that website seems to be Java 8, which is ancient. Make sure you install a somewhat recent version. Either 17 (LTS) or 19 (latest) should be good."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1672307365,"post_id":74947408,"comment_id":132263001,"body_markdown":"Does this answer your question? [The operation couldnt be completed. Unable to locate a Java Runtime that supports apt](https://stackoverflow.com/questions/69508381/the-operation-couldn-t-be-completed-unable-to-locate-a-java-runtime-that-suppor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69508381/the-operation-couldn-t-be-completed-unable-to-locate-a-java-runtime-that-suppor\">The operation couldnt be completed. Unable to locate a Java Runtime that supports apt</a>"},{"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"score":0,"creation_date":1672329972,"post_id":74947408,"comment_id":132269340,"body_markdown":"Also, thanks @Siguza - I&#39;m not sure why the site that the error message references suggests installing an old version of Java, so thank you for pointing that out to me, as I would have been stuck with version 8 if you hadn&#39;t.","body":"Also, thanks @Siguza - I&#39;m not sure why the site that the error message references suggests installing an old version of Java, so thank you for pointing that out to me, as I would have been stuck with version 8 if you hadn&#39;t."},{"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"score":0,"creation_date":1672330287,"post_id":74947408,"comment_id":132269442,"body_markdown":"@user1934428, the post you linked did not quite answer my question - the issue there was that the post owner did not realize that `apt` is a linux command not available on macOS and was not an issue with not having JDK installed. Although there probably is one out there, since I have not yet seen a similar enough post, I&#39;m going to continue to keep this up until I see one similar enough.","body":"@user1934428, the post you linked did not quite answer my question - the issue there was that the post owner did not realize that <code>apt</code> is a linux command not available on macOS and was not an issue with not having JDK installed. Although there probably is one out there, since I have not yet seen a similar enough post, I&#39;m going to continue to keep this up until I see one similar enough."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1672330405,"post_id":74947408,"comment_id":132269485,"body_markdown":"Right. OTOH, you did not specify which OS you are using either ....","body":"Right. OTOH, you did not specify which OS you are using either ...."},{"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"score":0,"creation_date":1672502997,"post_id":74947408,"comment_id":132300065,"body_markdown":"@user1934428 I did, actually. It&#39;s a little buried in there, but in the first paragraph I wrote that &quot;I am using a Mac running on MacOS Monterey&quot;","body":"@user1934428 I did, actually. It&#39;s a little buried in there, but in the first paragraph I wrote that &quot;I am using a Mac running on MacOS Monterey&quot;"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1672561513,"post_id":74947408,"comment_id":132305887,"body_markdown":"Ah, right. BTW, in this case I recommend using the tag _macos_. Also, since your question is not that much about programming, but to get Java properly running, I think it is off-topic here, but would be on-topic on [su] or - since it is about the Mac - [AskDifferent](https://apple.stackexchange.com/).","body":"Ah, right. BTW, in this case I recommend using the tag <i>macos</i>. Also, since your question is not that much about programming, but to get Java properly running, I think it is off-topic here, but would be on-topic on <a href=\"https://superuser.com\">Super User</a> or - since it is about the Mac - <a href=\"https://apple.stackexchange.com/\">AskDifferent</a>."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1672713260,"post_id":74947408,"comment_id":132332856,"body_markdown":"if you&#39;re going to do this by adding javac directly, don&#39;t PATH it, just use an alias. But installing java on macos is basically a job for `brew`, not &quot;the java installer&quot;.","body":"if you&#39;re going to do this by adding javac directly, don&#39;t PATH it, just use an alias. But installing java on macos is basically a job for <code>brew</code>, not &quot;the java installer&quot;."},{"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"score":0,"creation_date":1672713466,"post_id":74947408,"comment_id":132332880,"body_markdown":"Yeah, it probably would have been easier to use HomeBrew. I just wish that the error message that it gave me would have pointed me in that direction instead of towards https://java.com.","body":"Yeah, it probably would have been easier to use HomeBrew. I just wish that the error message that it gave me would have pointed me in that direction instead of towards <a href=\"https://java.com\" rel=\"nofollow noreferrer\">java.com</a>."},{"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"score":0,"creation_date":1672713785,"post_id":74947408,"comment_id":132332898,"body_markdown":"Also, @user1934428, per your suggestion, I added the tag `macos`. I also agree, looking at Super User, that the question would be more on-topic over there. However, I&#39;ve never used Super User, and since this question already has an answer over here, I don&#39;t feel much motivation to figure out how to transplant it over there for the marginal benefit that would yield. At the moment, I&#39;m just going to let this be - but of course I&#39;ll take it down should I be made aware of a duplicate.","body":"Also, @user1934428, per your suggestion, I added the tag <code>macos</code>. I also agree, looking at Super User, that the question would be more on-topic over there. However, I&#39;ve never used Super User, and since this question already has an answer over here, I don&#39;t feel much motivation to figure out how to transplant it over there for the marginal benefit that would yield. At the moment, I&#39;m just going to let this be - but of course I&#39;ll take it down should I be made aware of a duplicate."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672713931,"post_id":74947408,"comment_id":132332917,"body_markdown":"@Siguza - I would not recommend to a beginner to use anything other than a current LTS release; i.e. 8, 11 or 17.  The 19 release will be EOL within 6 months!!   The non-LTS releases are for folks who &lt;strike&gt;enjoy tap-dancing on the bleeding edge&lt;/strike&gt; need them.","body":"@Siguza - I would not recommend to a beginner to use anything other than a current LTS release; i.e. 8, 11 or 17.  The 19 release will be EOL within 6 months!!   The non-LTS releases are for folks who &lt;strike&gt;enjoy tap-dancing on the bleeding edge&lt;/strike&gt; need them."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1672714544,"post_id":74947408,"comment_id":132332976,"body_markdown":"@Zarquon it can&#39;t, because it can&#39;t point to third party &quot;I have no idea if this will still exist by the time you run me&quot; websites or services. I only knows java.com is its official home. Most installs are universal brew/asdf jobs, irrespective of what the tool itself claims =)","body":"@Zarquon it can&#39;t, because it can&#39;t point to third party &quot;I have no idea if this will still exist by the time you run me&quot; websites or services. I only knows java.com is its official home. Most installs are universal brew/asdf jobs, irrespective of what the tool itself claims =)"}],"owner":{"account_id":25803185,"reputation":146,"user_id":19545214,"display_name":"Zarquon"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672713129,"creation_date":1672289859,"question_id":74947408,"body_markdown":"While I have some experience in Python and JavaScript, I am new to Java and am trying it out for the first time. To get started, I went to http://www.java.com, downloaded the dmg there, and then used the package it gave me to install Java. After doing so, I received confirmation that Java had been installed successfully and I closed and trashed the dmg and package. Afterwards, I hopped on my terminal (I am using a Mac running on MacOS Monterey) and tried to use `javac` on a script I wrote. I received the following error message:\r\n\r\n```\r\nThe operation couldnt be completed. Unable to locate a Java Runtime that supports javac.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\n\r\nI went online and did some typical troubleshooting searches. First, I found a site suggesting that I create an environment variable `$JAVA_HOME` and set it equal to `$(/usr/libexec/java_home)` in `.zshenv` (yes, I use zsh not bash). I followed this instruction and when I run `echo $JAVA_HOME` I get `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`. However, running `javac` still did not work. \r\nOnce more, I went online and this time, I found the suggestion of adding `javac` to `$PATH`. So I went into `.zshenv` and added `usr/bin/javac` to `$PATH` (the `$PATH` export line now looks like this: `export PATH=&quot;/Users/[redacted]/Library/Python/3.8/bin:/usr/bin/javac:$PATH&quot;`). This alteration was confirmed when I exited an reentered terminal and ran `echo $PATH`. However, once again, running `javac` yielded the same error.\r\nI feel as if I am facing what must be a pretty common and easily fixable issue, but yet, I haven&#39;t yet been able to find a solution that works despite perusal of several other StackOverflow posts and tech articles. Still, I know I&#39;m probably missing something simple, and if this is a duplicate of another question, please link that question in a comment, and I&#39;ll take this one down.\r\nThanks!","title":"Javac will not run despite Java being installed","body":"<p>While I have some experience in Python and JavaScript, I am new to Java and am trying it out for the first time. To get started, I went to <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">http://www.java.com</a>, downloaded the dmg there, and then used the package it gave me to install Java. After doing so, I received confirmation that Java had been installed successfully and I closed and trashed the dmg and package. Afterwards, I hopped on my terminal (I am using a Mac running on MacOS Monterey) and tried to use <code>javac</code> on a script I wrote. I received the following error message:</p>\n<pre><code>The operation couldnt be completed. Unable to locate a Java Runtime that supports javac.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>I went online and did some typical troubleshooting searches. First, I found a site suggesting that I create an environment variable <code>$JAVA_HOME</code> and set it equal to <code>$(/usr/libexec/java_home)</code> in <code>.zshenv</code> (yes, I use zsh not bash). I followed this instruction and when I run <code>echo $JAVA_HOME</code> I get <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code>. However, running <code>javac</code> still did not work.\nOnce more, I went online and this time, I found the suggestion of adding <code>javac</code> to <code>$PATH</code>. So I went into <code>.zshenv</code> and added <code>usr/bin/javac</code> to <code>$PATH</code> (the <code>$PATH</code> export line now looks like this: <code>export PATH=&quot;/Users/[redacted]/Library/Python/3.8/bin:/usr/bin/javac:$PATH&quot;</code>). This alteration was confirmed when I exited an reentered terminal and ran <code>echo $PATH</code>. However, once again, running <code>javac</code> yielded the same error.\nI feel as if I am facing what must be a pretty common and easily fixable issue, but yet, I haven't yet been able to find a solution that works despite perusal of several other StackOverflow posts and tech articles. Still, I know I'm probably missing something simple, and if this is a duplicate of another question, please link that question in a comment, and I'll take this one down.\nThanks!</p>\n"},{"tags":["java","javafx","crash"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1485804152,"post_id":41943791,"comment_id":71067801,"body_markdown":"Maybe this helps: http://stackoverflow.com/questions/12318861/javafx-2-catching-all-runtime-exceptions ... or http://stackoverflow.com/questions/16719503/what-to-do-about-uncaught-run-time-exceptions-in-java-fx2","body":"Maybe this helps: <a href=\"http://stackoverflow.com/questions/12318861/javafx-2-catching-all-runtime-exceptions\" title=\"javafx 2 catching all runtime exceptions\">stackoverflow.com/questions/12318861/&hellip;</a> ... or <a href=\"http://stackoverflow.com/questions/16719503/what-to-do-about-uncaught-run-time-exceptions-in-java-fx2\" title=\"what to do about uncaught run time exceptions in java fx2\">stackoverflow.com/questions/16719503/&hellip;</a>"},{"owner":{"account_id":10142072,"reputation":11,"user_id":7491485,"display_name":"Nicolas Coral"},"score":0,"creation_date":1485809135,"post_id":41943791,"comment_id":71070344,"body_markdown":"Thanks for your answer but it does not help. I found this though :\nhttp://stackoverflow.com/questions/3170762/what-does-java-result-means\n\nThe number I get is 1073741819, though it does not mean anything to me. I explicetely end my application with the exit method. Even when I close the javafx app, the stop method calls the exit method.\n\nIt seems it is linked to an exit code, but I do not understand why the VM crashes and fail to find the source :&#39;(","body":"Thanks for your answer but it does not help. I found this though : <a href=\"http://stackoverflow.com/questions/3170762/what-does-java-result-means\" title=\"what does java result means\">stackoverflow.com/questions/3170762/what-does-java-result-me&zwnj;&#8203;ans</a>  The number I get is 1073741819, though it does not mean anything to me. I explicetely end my application with the exit method. Even when I close the javafx app, the stop method calls the exit method.  It seems it is linked to an exit code, but I do not understand why the VM crashes and fail to find the source :&#39;("}],"answers":[{"tags":[],"owner":{"account_id":21044099,"reputation":35,"user_id":15465802,"display_name":"tonydn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672712832,"creation_date":1672712832,"answer_id":74988586,"question_id":41943791,"body_markdown":"I faced the same issue yesterday, First of all, you need to check your driver what you are using is the latest. Secondly, check JDK version is the latest. In my case, I used the latest JDK 17.0.5 and the error has been resolved. Remember that, I use at least version 17.0.5 and above.","title":"Java(TM) Platform SE binary error","body":"<p>I faced the same issue yesterday, First of all, you need to check your driver what you are using is the latest. Secondly, check JDK version is the latest. In my case, I used the latest JDK 17.0.5 and the error has been resolved. Remember that, I use at least version 17.0.5 and above.</p>\n"}],"owner":{"account_id":10142072,"reputation":11,"user_id":7491485,"display_name":"Nicolas Coral"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672712832,"creation_date":1485803941,"question_id":41943791,"body_markdown":"I&#39;m currently having a problem with a Java application I&#39;m working on. Randomly, a Java(TM) Platform SE binary error happens when the application closes. It happens when the exit method is called, either directly via or a another method or event, or when I close the application with the window close button.\r\n\r\nProblem is, no exception is catched, and I have the following message (developing on Netbeans):\r\nJava Result: -1073741819\r\n\r\nAnd nothing else. I cannot be sure it&#39;s an issue with I/O actions, or if something goes wrong with the memory. Since it&#39;s a JavaFx application, I do not know how to control the main thread and catch the right exception that would just explain to me what the matter is !\r\n\r\nHave you seen that kind of problem before ?\r\n\r\nI cannot show you my code due to the number of classes involved. Though, my question is not about solving the problem, just finding a way to identify it.\r\n\r\nThank you very much !\r\n","title":"Java(TM) Platform SE binary error","body":"<p>I'm currently having a problem with a Java application I'm working on. Randomly, a Java(TM) Platform SE binary error happens when the application closes. It happens when the exit method is called, either directly via or a another method or event, or when I close the application with the window close button.</p>\n\n<p>Problem is, no exception is catched, and I have the following message (developing on Netbeans):\nJava Result: -1073741819</p>\n\n<p>And nothing else. I cannot be sure it's an issue with I/O actions, or if something goes wrong with the memory. Since it's a JavaFx application, I do not know how to control the main thread and catch the right exception that would just explain to me what the matter is !</p>\n\n<p>Have you seen that kind of problem before ?</p>\n\n<p>I cannot show you my code due to the number of classes involved. Though, my question is not about solving the problem, just finding a way to identify it.</p>\n\n<p>Thank you very much !</p>\n"},{"tags":["java","eclipse","jsp","autocomplete"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666747924,"post_id":74201760,"comment_id":131008017,"body_markdown":"why would you sysout from a servlet?  there is maybe no output window.","body":"why would you sysout from a servlet?  there is maybe no output window."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1666749021,"post_id":74201760,"comment_id":131008177,"body_markdown":"The message will probably appear on stdout of the JVM not on the page. Also, is there any content assist for `System.out.` inside scriptlets?","body":"The message will probably appear on stdout of the JVM not on the page. Also, is there any content assist for <code>System.out.</code> inside scriptlets?"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1666749713,"post_id":74201760,"comment_id":131008273,"body_markdown":"@ScaryWombat Standard  out is written to Tomcats console window - great for a quick debug! :-)","body":"@ScaryWombat Standard  out is written to Tomcats console window - great for a quick debug! :-)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1666750977,"post_id":74201760,"comment_id":131008488,"body_markdown":"Content Assist in scriptlets is solely for Java, and Java templates aren&#39;t supported there. You&#39;ll have to open a feature request.","body":"Content Assist in scriptlets is solely for Java, and Java templates aren&#39;t supported there. You&#39;ll have to open a feature request."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1672706193,"post_id":74984768,"comment_id":132331909,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74984768/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27412694,"reputation":1,"user_id":20912399,"display_name":"Risiata"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1672712694,"creation_date":1672676565,"answer_id":74984768,"question_id":74201760,"body_markdown":"go to the preferences --&gt; Java --&gt; Editor --&gt; Content Assist \r\nat the bottom: &quot;auto activation triggers for Java&quot; and put in: \r\n\r\n```\r\nabcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ._\r\n```","title":"In Eclipse how can I make sysout work inside a JSP scriplet","body":"<p>go to the preferences --&gt; Java --&gt; Editor --&gt; Content Assist\nat the bottom: &quot;auto activation triggers for Java&quot; and put in:</p>\n<pre><code>abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ._\n</code></pre>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672712694,"creation_date":1666747730,"question_id":74201760,"body_markdown":"In Eclipse (version 2021-09) I would like to use the sysout template in the scriptlet area of a JSP page.\r\n\r\nSo, in my JSP editor I have: \r\n\r\n```\r\n...\r\n\r\n&lt;%\r\n...\r\n[cursor here]\r\n...\r\n%&gt;\r\n...\r\n``` \r\n\r\nWhen I now type  `sysout`  how can I make it  expand to `System.out.println(&quot;[cursor here]&quot;);`?\r\n\r\nI tried a new JSP template like this:\r\n\r\n[![New Tpl in Eclipse for sysout][1]][1]\r\n\r\nBut it does not work _inside_ the scriplet tags.\r\n\r\n***\r\n\r\nPS: I saw the question [sysout in JSP eclipse - Stack Overflow](https://stackoverflow.com/questions/14599836/sysout-in-jsp-eclipse), but the answers do not cover the case _inside_ the scriptlet tags.\r\n\r\n  [1]: https://i.stack.imgur.com/x8mPb.png","title":"In Eclipse how can I make sysout work inside a JSP scriplet","body":"<p>In Eclipse (version 2021-09) I would like to use the sysout template in the scriptlet area of a JSP page.</p>\n<p>So, in my JSP editor I have:</p>\n<pre><code>...\n\n&lt;%\n...\n[cursor here]\n...\n%&gt;\n...\n</code></pre>\n<p>When I now type  <code>sysout</code>  how can I make it  expand to <code>System.out.println(&quot;[cursor here]&quot;);</code>?</p>\n<p>I tried a new JSP template like this:</p>\n<p><a href=\"https://i.stack.imgur.com/x8mPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8mPb.png\" alt=\"New Tpl in Eclipse for sysout\" /></a></p>\n<p>But it does not work <em>inside</em> the scriplet tags.</p>\n<hr />\n<p>PS: I saw the question <a href=\"https://stackoverflow.com/questions/14599836/sysout-in-jsp-eclipse\">sysout in JSP eclipse - Stack Overflow</a>, but the answers do not cover the case <em>inside</em> the scriptlet tags.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2218087,"reputation":9,"user_id":1958220,"display_name":"Ryan Fitz"},"score":0,"creation_date":1672620621,"post_id":74978275,"comment_id":132314604,"body_markdown":"Like I am trying to do this - String hostName = RFIDMainDlg.main(hostName);","body":"Like I am trying to do this - String hostName = RFIDMainDlg.main(hostName);"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672620640,"post_id":74978275,"comment_id":132314607,"body_markdown":"use static variable?","body":"use static variable?"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672620849,"post_id":74978275,"comment_id":132314631,"body_markdown":"btw this is the main you should create a diferent static method called getPropertie that takes in a string then you can do what you want","body":"btw this is the main you should create a diferent static method called getPropertie that takes in a string then you can do what you want"}],"answers":[{"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1672666500,"post_id":74978309,"comment_id":132322714,"body_markdown":"Thanks for answering.  Please quote the most relevant part of the the link https://stackoverflow.com/help/how-to-answer","body":"Thanks for answering.  Please quote the most relevant part of the the link <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672620978,"creation_date":1672620978,"answer_id":74978309,"question_id":74978275,"body_markdown":"You can use a Singleton like this https://www.codeproject.com/articles/189489/java-properties-example-using-singleton-pattern (sorry for the ugly website, but it&#39;s a basic concept), it&#39;s not necessary but it&#39;s one of your options.","title":"Get variable from config.properties thoughtout Java app","body":"<p>You can use a Singleton like this <a href=\"https://www.codeproject.com/articles/189489/java-properties-example-using-singleton-pattern\" rel=\"nofollow noreferrer\">https://www.codeproject.com/articles/189489/java-properties-example-using-singleton-pattern</a> (sorry for the ugly website, but it's a basic concept), it's not necessary but it's one of your options.</p>\n"},{"tags":[],"owner":{"account_id":2218087,"reputation":9,"user_id":1958220,"display_name":"Ryan Fitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672711731,"creation_date":1672711631,"answer_id":74988515,"question_id":74978275,"body_markdown":"The solution on that page worked\r\n\r\n\r\n    package rfidsample;\r\n    \r\n    import java.io.*;\r\n    import java.util.Properties;\r\n    \r\n    public class RFIDGetPropertyValues {\r\n    \t\r\n    static private RFIDGetPropertyValues _instance = null;\r\n        String hostName = null;\r\n        String port = null;\r\n        String intensity = null;\r\n        String user = null;\r\n        String pass = null;\r\n        String jdbc = null;\r\n        String driver = null;\r\n        String instance = null;\r\n    \t \r\n        protected RFIDGetPropertyValues(){\r\n        try{\r\n            InputStream file = new FileInputStream(new File(&quot;resources/config.properties&quot;)) ;\r\n            Properties props = new Properties();\r\n            props.load(file);\r\n            hostName = props.getProperty(&quot;hostName&quot;);\r\n            port = props.getProperty(&quot;port&quot;);\r\n            intensity = props.getProperty(&quot;intensity&quot;);\r\n    \r\n           } \r\n        catch(Exception e){\r\n            System.out.println(&quot;error&quot; + e);\r\n           }\t \r\n        }\r\n    \t \r\n        static public RFIDGetPropertyValues instance(){\r\n            if (_instance == null) {\r\n                _instance = new RFIDGetPropertyValues();\r\n            }\r\n            return _instance;\r\n        }\r\n    }\r\n\r\nThen anywhere in my code I was able to call\r\n\r\n       RFIDGetPropertyValues dbInfo = RFIDGetPropertyValues.instance();\r\n       String hostName = dbInfo.hostName; \r\n       String intensity = dbInfo.intensity;\r\n\r\n","title":"Get variable from config.properties thoughtout Java app","body":"<p>The solution on that page worked</p>\n<pre><code>package rfidsample;\n\nimport java.io.*;\nimport java.util.Properties;\n\npublic class RFIDGetPropertyValues {\n    \nstatic private RFIDGetPropertyValues _instance = null;\n    String hostName = null;\n    String port = null;\n    String intensity = null;\n    String user = null;\n    String pass = null;\n    String jdbc = null;\n    String driver = null;\n    String instance = null;\n     \n    protected RFIDGetPropertyValues(){\n    try{\n        InputStream file = new FileInputStream(new File(&quot;resources/config.properties&quot;)) ;\n        Properties props = new Properties();\n        props.load(file);\n        hostName = props.getProperty(&quot;hostName&quot;);\n        port = props.getProperty(&quot;port&quot;);\n        intensity = props.getProperty(&quot;intensity&quot;);\n\n       } \n    catch(Exception e){\n        System.out.println(&quot;error&quot; + e);\n       }     \n    }\n     \n    static public RFIDGetPropertyValues instance(){\n        if (_instance == null) {\n            _instance = new RFIDGetPropertyValues();\n        }\n        return _instance;\n    }\n}\n</code></pre>\n<p>Then anywhere in my code I was able to call</p>\n<pre><code>   RFIDGetPropertyValues dbInfo = RFIDGetPropertyValues.instance();\n   String hostName = dbInfo.hostName; \n   String intensity = dbInfo.intensity;\n</code></pre>\n"}],"owner":{"account_id":2218087,"reputation":9,"user_id":1958220,"display_name":"Ryan Fitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672711731,"creation_date":1672620481,"question_id":74978275,"body_markdown":"I&#39;m loading variables from a config.properties in my main class but how do I call these variables though out my app in these other files? I need to get hostName from my config.properties in multiple classes and the other java files as shown in my screenshot.\r\n\r\nThis code is in my RFIDMainDlg.java file,\r\nI want to call the value of hostName in my RFIDBase.java file\r\n\r\n[Screenshot][1]\r\n\r\n   \r\n\r\n     public static void main(String args[]) throws IOException  {\r\n    \r\n           Properties prop=new Properties();\r\n           FileInputStream ip= new FileInputStream(&quot;resources/config.properties&quot;);\r\n           prop.load(ip);\r\n                      \r\n           String hostName = prop.getProperty(&quot;hostName&quot;);\r\n           System.out.println(hostName);\r\n           \r\n\r\n  [1]: https://i.stack.imgur.com/8XVyb.jpg\r\n\r\n\r\n","title":"Get variable from config.properties thoughtout Java app","body":"<p>I'm loading variables from a config.properties in my main class but how do I call these variables though out my app in these other files? I need to get hostName from my config.properties in multiple classes and the other java files as shown in my screenshot.</p>\n<p>This code is in my RFIDMainDlg.java file,\nI want to call the value of hostName in my RFIDBase.java file</p>\n<p><a href=\"https://i.stack.imgur.com/8XVyb.jpg\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<pre><code> public static void main(String args[]) throws IOException  {\n\n       Properties prop=new Properties();\n       FileInputStream ip= new FileInputStream(&quot;resources/config.properties&quot;);\n       prop.load(ip);\n                  \n       String hostName = prop.getProperty(&quot;hostName&quot;);\n       System.out.println(hostName);\n       \n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":1,"creation_date":1672711229,"post_id":74988465,"comment_id":132332591,"body_markdown":"IIRC, web clients will only wait so long before giving up waiting for an answer.  Are the requests that you say work taking shorter times, and the ones that don&#39;t work taking longer (long enough that the client will have given up on the response)?","body":"IIRC, web clients will only wait so long before giving up waiting for an answer.  Are the requests that you say work taking shorter times, and the ones that don&#39;t work taking longer (long enough that the client will have given up on the response)?"},{"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"score":0,"creation_date":1672711832,"post_id":74988465,"comment_id":132332681,"body_markdown":"@moilejter I haven&#39;t measured them specifically, but it seems so. It tends to be shorter when it works, and longer when it is not. If so, how can I set it to not giving up to response?","body":"@moilejter I haven&#39;t measured them specifically, but it seems so. It tends to be shorter when it works, and longer when it is not. If so, how can I set it to not giving up to response?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672712226,"post_id":74988465,"comment_id":132332727,"body_markdown":"It would be better to create a request in your DB and immediately return a request id to the client. Then execute that request asynchronously, and allow the client to poll for the status of the request.","body":"It would be better to create a request in your DB and immediately return a request id to the client. Then execute that request asynchronously, and allow the client to poll for the status of the request."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1672721329,"post_id":74988465,"comment_id":132333759,"body_markdown":"If your business process need synchronous response why create async request to other api?","body":"If your business process need synchronous response why create async request to other api?"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672729123,"post_id":74988465,"comment_id":132334883,"body_markdown":"You have specified the wait time 2 min for every iteration of checking the desired state but what can be threshold number where max it will wait. The reason I am asking this is http request will not wait for long time and it will go in timeout related issues. If the wait time really high then I would suggest to think of some other approach.","body":"You have specified the wait time 2 min for every iteration of checking the desired state but what can be threshold number where max it will wait. The reason I am asking this is http request will not wait for long time and it will go in timeout related issues. If the wait time really high then I would suggest to think of some other approach."},{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1672805014,"post_id":74988465,"comment_id":132354245,"body_markdown":"You should be getting some notification from postman that your request timed out.  If that is the case, you can change that timeout as described here:\nhttps://stackoverflow.com/questions/36355732/how-to-increase-postman-client-request-timeout","body":"You should be getting some notification from postman that your request timed out.  If that is the case, you can change that timeout as described here: <a href=\"https://stackoverflow.com/questions/36355732/how-to-increase-postman-client-request-timeout\" title=\"how to increase postman client request timeout\">stackoverflow.com/questions/36355732/&hellip;</a>"}],"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672710755,"creation_date":1672710755,"question_id":74988465,"body_markdown":"First of all, I am sorry what I am asking is so vague and not provided enough context to make you understand. \r\n\r\nHere it is my endpoint in Controller.java\r\n```\r\n    @GetMapping(&quot;/endpoint&quot;)\r\n    public ResponseEntity&lt;?&gt; addDocument(@RequestParam String param1, @RequestParam String param2) {\r\n\r\n        AddDocumentRequest request = new AddDocumentRequest(param1, param2);\r\n\r\n        callRequestHandler(request);\r\n\r\n        log.info(&quot;Job Done&quot;);\r\n        return ResponseEntity.ok(true);\r\n    }\r\n```\r\n\r\nAnd it is the callRequestHandler in Controller.java. It just calls handler and handle the exceptions.\r\n```\r\n    private void callRequestHandler(AddDocumentRequest request) {\r\n        try {\r\nrequestHandler.requestHandler(request);\r\n        } catch (Exception e) {\r\n            log.error(&quot;error&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nIt is the method of RequestHandler.java and it acts as @Service. It calls the Async method which send requests to other APIs.\r\n```\r\n    public void requestHandler(AddDocumentRequest request) throws Exception {\r\n\r\n        //calls @Async method.\r\n        CompletableFuture&lt;String&gt; registry = service.addDocuments(request);\r\n\r\n        //blocks the thread and wait for the desire state.\r\n        blockAndWaitResponses(request);\r\n    }\r\n```\r\n\r\nAnd here it is the `infinite loop` waiting to meet the desire state, if it meets the state it inserts the data and break the infinite loop, else update state and sleep for 2mins.\r\n\r\nThis `infinite loop` takes a time up to several hours and in this specific situation, it takes 15 mins.\r\n\r\nI am aware of the busy waiting is bad design, but there is no better solution for my business situation.\r\n \r\n```\r\nprivate void blockAndWaitResponses(AddDocumentRequest request) throws Exception {\r\n        while (true) {\r\n            //busy wait\r\n            Thread.sleep(2mins);\r\n\r\n            if (desiredStateOccured()) {\r\n                insertDataToDB();\r\n                break;\r\n            }\r\n            else {\r\n                updateState();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAnd after all of that, back to controller, `log.info(&quot;Job Done&quot;);` is called but `return ResponseEntity.ok(true);` is **not called.**\r\n\r\nAll I can say is just it is not called. In my Postman, `Sending request...` is not gone.\r\nI have debugged it, nothing is occured. It just looks so normal.\r\n\r\nAnd some requests which goes exact same flow work fine (meaning it returns `ResponseEntity.ok(true)` without any problem.) but some does not.\r\n\r\nI have got no idea how to deal with it. Any help would be thankful.","title":"In Spring, Controller does not return the response at all after infinite looping","body":"<p>First of all, I am sorry what I am asking is so vague and not provided enough context to make you understand.</p>\n<p>Here it is my endpoint in Controller.java</p>\n<pre><code>    @GetMapping(&quot;/endpoint&quot;)\n    public ResponseEntity&lt;?&gt; addDocument(@RequestParam String param1, @RequestParam String param2) {\n\n        AddDocumentRequest request = new AddDocumentRequest(param1, param2);\n\n        callRequestHandler(request);\n\n        log.info(&quot;Job Done&quot;);\n        return ResponseEntity.ok(true);\n    }\n</code></pre>\n<p>And it is the callRequestHandler in Controller.java. It just calls handler and handle the exceptions.</p>\n<pre><code>    private void callRequestHandler(AddDocumentRequest request) {\n        try {\nrequestHandler.requestHandler(request);\n        } catch (Exception e) {\n            log.error(&quot;error&quot;);\n        }\n    }\n</code></pre>\n<p>It is the method of RequestHandler.java and it acts as @Service. It calls the Async method which send requests to other APIs.</p>\n<pre><code>    public void requestHandler(AddDocumentRequest request) throws Exception {\n\n        //calls @Async method.\n        CompletableFuture&lt;String&gt; registry = service.addDocuments(request);\n\n        //blocks the thread and wait for the desire state.\n        blockAndWaitResponses(request);\n    }\n</code></pre>\n<p>And here it is the <code>infinite loop</code> waiting to meet the desire state, if it meets the state it inserts the data and break the infinite loop, else update state and sleep for 2mins.</p>\n<p>This <code>infinite loop</code> takes a time up to several hours and in this specific situation, it takes 15 mins.</p>\n<p>I am aware of the busy waiting is bad design, but there is no better solution for my business situation.</p>\n<pre><code>private void blockAndWaitResponses(AddDocumentRequest request) throws Exception {\n        while (true) {\n            //busy wait\n            Thread.sleep(2mins);\n\n            if (desiredStateOccured()) {\n                insertDataToDB();\n                break;\n            }\n            else {\n                updateState();\n            }\n        }\n    }\n</code></pre>\n<p>And after all of that, back to controller, <code>log.info(&quot;Job Done&quot;);</code> is called but <code>return ResponseEntity.ok(true);</code> is <strong>not called.</strong></p>\n<p>All I can say is just it is not called. In my Postman, <code>Sending request...</code> is not gone.\nI have debugged it, nothing is occured. It just looks so normal.</p>\n<p>And some requests which goes exact same flow work fine (meaning it returns <code>ResponseEntity.ok(true)</code> without any problem.) but some does not.</p>\n<p>I have got no idea how to deal with it. Any help would be thankful.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672707076,"creation_date":1672707076,"answer_id":74988229,"question_id":74988116,"body_markdown":"You could use a generic method to retrieve an entity by it&#39;s ID. Just introduce a type parameter to the method, which represents the type of entity being retrieved.\r\n\r\nThen you can use a single method for your `getCustomerById(int id)` and `getProductById(int id)` methods:\r\n```\r\npublic class Resources {\r\npublic static &lt;T&gt; T getEntityById(List&lt;T&gt; entities, int id, Function&lt;T, Integer&gt; idExtractor) {\r\n        for (T entity : entities) {\r\n            if (idExtractor.apply(entity) == id) {\r\n                return entity;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can then call this method to retrieve a Product or Customer entity like this:\r\n\r\n```\r\nProduct product = Resources.getEntityById(PRODUCTS, productId, Product::getId);\r\nCustomer customer = Resources.getEntityById(CUSTOMERS, customerId, Customer::getId);\r\n```\r\n\r\nThis will make it a lot easier adding support for additional entity types in the future.","title":"Caching data from database and boiler plate code","body":"<p>You could use a generic method to retrieve an entity by it's ID. Just introduce a type parameter to the method, which represents the type of entity being retrieved.</p>\n<p>Then you can use a single method for your <code>getCustomerById(int id)</code> and <code>getProductById(int id)</code> methods:</p>\n<pre><code>public class Resources {\npublic static &lt;T&gt; T getEntityById(List&lt;T&gt; entities, int id, Function&lt;T, Integer&gt; idExtractor) {\n        for (T entity : entities) {\n            if (idExtractor.apply(entity) == id) {\n                return entity;\n            }\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>You can then call this method to retrieve a Product or Customer entity like this:</p>\n<pre><code>Product product = Resources.getEntityById(PRODUCTS, productId, Product::getId);\nCustomer customer = Resources.getEntityById(CUSTOMERS, customerId, Customer::getId);\n</code></pre>\n<p>This will make it a lot easier adding support for additional entity types in the future.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672710608,"creation_date":1672710608,"answer_id":74988452,"question_id":74988116,"body_markdown":"&gt; Not sure if Spring can handle it on itself\r\n\r\nMost likely, it can. For instance, if you access the database with JPA, JPA caching does exactly this.\r\n\r\nConfiguring that is a bit of work, because you need to specify eviction policies (i.e. what happens if memory runs out). The implementations also take care of thread safety, and many offer storage on disk or replicating storage in a cluster.\r\n\r\nOf course, you can reinvent the wheel. It might even make sense if the wheel you need is much simpler, for instance because you never update the cache once constructed (so thread safety is trivial) and the entire table fits into memory (so you don&#39;t need to evict). \r\n\r\nTo do that, I&#39;d first choose a more appropriate data structure that offers efficient lookup by key, i.e. a `Map`. And then I would combine all these redundant methods into one:\r\n\r\n```\r\nclass Resources {\r\n    static Map&lt;Class&lt;?&gt;, Map&lt;Integer, ?&gt;&gt; CACHE = new HashMap&lt;&gt;(); \r\n    // ... or something thread safe, if you intend to update the cache later\r\n\r\n    public getEntity&lt;E&gt;(Class&lt;E&gt; entityClass, int id) {\r\n        return entityClass.cast(CACHE.get(entityClass).get(id));\r\n    }\r\n}\r\n```\r\n\r\nUsage\r\n\r\n```\r\n    Product p = Resources.getEntity(Product.class, 42);\r\n    Customer c = Resources.getEntity(Customer.class, 36);\r\n```","title":"Caching data from database and boiler plate code","body":"<blockquote>\n<p>Not sure if Spring can handle it on itself</p>\n</blockquote>\n<p>Most likely, it can. For instance, if you access the database with JPA, JPA caching does exactly this.</p>\n<p>Configuring that is a bit of work, because you need to specify eviction policies (i.e. what happens if memory runs out). The implementations also take care of thread safety, and many offer storage on disk or replicating storage in a cluster.</p>\n<p>Of course, you can reinvent the wheel. It might even make sense if the wheel you need is much simpler, for instance because you never update the cache once constructed (so thread safety is trivial) and the entire table fits into memory (so you don't need to evict).</p>\n<p>To do that, I'd first choose a more appropriate data structure that offers efficient lookup by key, i.e. a <code>Map</code>. And then I would combine all these redundant methods into one:</p>\n<pre><code>class Resources {\n    static Map&lt;Class&lt;?&gt;, Map&lt;Integer, ?&gt;&gt; CACHE = new HashMap&lt;&gt;(); \n    // ... or something thread safe, if you intend to update the cache later\n\n    public getEntity&lt;E&gt;(Class&lt;E&gt; entityClass, int id) {\n        return entityClass.cast(CACHE.get(entityClass).get(id));\n    }\n}\n</code></pre>\n<p>Usage</p>\n<pre><code>    Product p = Resources.getEntity(Product.class, 42);\n    Customer c = Resources.getEntity(Customer.class, 36);\n</code></pre>\n"}],"owner":{"account_id":9859905,"reputation":128,"user_id":7303261,"accept_rate":80,"display_name":"user7303261"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672710608,"creation_date":1672705238,"question_id":74988116,"body_markdown":"Let&#39;s say I have this Util class:\r\n\r\n\r\n    \r\n\r\n    public class Resources {\r\n\r\n\t    public static List&lt;Product&gt; PRODUCTS;\r\n\r\n\t    public static List&lt;Customer&gt; CUSTOMERS;\r\n\t\r\n\r\n\t    public static Product getProductById(int id) {\r\n\t\t    for (Product product : PRODUCTS) {\r\n\t\t\t    if (product.getIdProduct() == id) {\r\n\t\t\t    \treturn product;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return null;\r\n\t    }\r\n\t\r\n\t    public static Customer getCustomerById(int id) {\r\n\t\t    for (Customer customer : CUSTOMERS) {\r\n\t\t\t    if (customer.getId() == id) {\r\n\t\t\t\t    return customer;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    return null;\r\n\t    }\r\n}\r\n\r\n - This serves as caching mechanism for entities `Product` and\r\n   `Customer`, which were retrieved from database. So whenever I need to\r\n   work with Customer (or Product) first I take a look at the\r\n   `Resources.CUSTOMERS (PRODUCTS)` if it&#39;s there I save the time and\r\n   don&#39;t have to call server. Not sure if Spring can handle it on\r\n   itself, so I did it that way.\r\n - My issue is huge amount of boiler plate code here. If I will have 10, 20,... entities I will have to write 10, 20,... getter method and all of them will do pretty same thing. *What is the best acceptable solution respecting some best practices?* ","title":"Caching data from database and boiler plate code","body":"<p>Let's say I have this Util class:</p>\n<pre><code>public class Resources {\n\n    public static List&lt;Product&gt; PRODUCTS;\n\n    public static List&lt;Customer&gt; CUSTOMERS;\n\n\n    public static Product getProductById(int id) {\n        for (Product product : PRODUCTS) {\n            if (product.getIdProduct() == id) {\n                return product;\n            }\n        }\n        return null;\n    }\n\n    public static Customer getCustomerById(int id) {\n        for (Customer customer : CUSTOMERS) {\n            if (customer.getId() == id) {\n                return customer;\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>}</p>\n<ul>\n<li>This serves as caching mechanism for entities <code>Product</code> and\n<code>Customer</code>, which were retrieved from database. So whenever I need to\nwork with Customer (or Product) first I take a look at the\n<code>Resources.CUSTOMERS (PRODUCTS)</code> if it's there I save the time and\ndon't have to call server. Not sure if Spring can handle it on\nitself, so I did it that way.</li>\n<li>My issue is huge amount of boiler plate code here. If I will have 10, 20,... entities I will have to write 10, 20,... getter method and all of them will do pretty same thing. <em>What is the best acceptable solution respecting some best practices?</em></li>\n</ul>\n"},{"tags":["java","clipboard"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1616199606,"post_id":66717026,"comment_id":117936896,"body_markdown":"You&#39;re calling `f.isFlavorJavaFileListType()` which is only true if the data in clipboard is a list of files. It&#39;s not the raw data of the file, it&#39;s its path on the filesystem. If you copy a file in your explorer and then run your code, you should see that `data` gets assigned (but then the cast to `Transferable` fails). What is your `pure data` that you&#39;re trying to store?","body":"You&#39;re calling <code>f.isFlavorJavaFileListType()</code> which is only true if the data in clipboard is a list of files. It&#39;s not the raw data of the file, it&#39;s its path on the filesystem. If you copy a file in your explorer and then run your code, you should see that <code>data</code> gets assigned (but then the cast to <code>Transferable</code> fails). What is your <code>pure data</code> that you&#39;re trying to store?"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":0,"creation_date":1616199986,"post_id":66717026,"comment_id":117936961,"body_markdown":"That makes sense. But as I sad I am just guessing here because I couldn&#180;t find anything online and I just worked once with Transferables and all this stuff. \nI am trying to store everything a clipboard can store. Strings, files, maybe images? I don&#180;t know how all of this is implemented. I thought about the clipboard as a datastream which I can just store in an object.","body":"That makes sense. But as I sad I am just guessing here because I couldn&#180;t find anything online and I just worked once with Transferables and all this stuff.  I am trying to store everything a clipboard can store. Strings, files, maybe images? I don&#180;t know how all of this is implemented. I thought about the clipboard as a datastream which I can just store in an object."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":0,"creation_date":1616200326,"post_id":66717026,"comment_id":117937009,"body_markdown":"By default I believe there&#39;s only an implementation of a String (StringSelection), indeed. For other objects you&#39;ll need to implement your own Transferables. See e.g. images here: https://stackoverflow.com/questions/7834768/setting-images-to-clipboard-java","body":"By default I believe there&#39;s only an implementation of a String (StringSelection), indeed. For other objects you&#39;ll need to implement your own Transferables. See e.g. images here: <a href=\"https://stackoverflow.com/questions/7834768/setting-images-to-clipboard-java\" title=\"setting images to clipboard java\">stackoverflow.com/questions/7834768/&hellip;</a>"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":0,"creation_date":1616200651,"post_id":66717026,"comment_id":117937059,"body_markdown":"Thanks for the help. But I just figured something out. It is acually way simpler than I thought. I am going to post it as my own answer. But wow. I hate it if I can solve the answers myself. It&#180;s always so embarrassing.","body":"Thanks for the help. But I just figured something out. It is acually way simpler than I thought. I am going to post it as my own answer. But wow. I hate it if I can solve the answers myself. It&#180;s always so embarrassing."}],"answers":[{"tags":[],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672710406,"creation_date":1616200890,"answer_id":66717224,"question_id":66717026,"body_markdown":"The approach can be way simpler for the clipboard data\r\n```\t\r\nClipboard board = Toolkit.getDefaultToolkit().getSystemClipboard();\r\nTransferable data = board.getContents(null); \t// get clipboard content\r\nboard.setContents(data, null); \t\t\t\t\t// set clipboard content\r\n```","title":"How to get and set data of clipboard?","body":"<p>The approach can be way simpler for the clipboard data</p>\n<pre><code>Clipboard board = Toolkit.getDefaultToolkit().getSystemClipboard();\nTransferable data = board.getContents(null);    // get clipboard content\nboard.setContents(data, null);                  // set clipboard content\n</code></pre>\n"}],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66717224,"answer_count":1,"score":0,"last_activity_date":1672710406,"creation_date":1616198676,"question_id":66717026,"body_markdown":"I am trying to store the content of my clipboard in a variable. So I can use it later and set it again to the clipboard content. I found a lot of other questions about the topic. But they all asked for the clipboard content as a string. I want the pure data.\r\n\r\nI tried following approach:\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.Clipboard;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.io.IOException;\r\n    \r\n    public class ClipboardTest {\r\n\r\n    \tstatic Object data;\r\n    \r\n    \tpublic static void main(String[] args) throws UnsupportedFlavorException, IOException {\r\n    \t\tClipboard board = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    \t\tTransferable t = board.getContents(null);\r\n    \t\tDataFlavor[] df = t.getTransferDataFlavors();\r\n    \r\n    \t\tfor (DataFlavor f : df) {\r\n    \t\t\tif (f.isFlavorJavaFileListType()) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tdata = t.getTransferData(f);\r\n    \t\t\t\t} catch (UnsupportedFlavorException | IOException ex) {\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (data != null)\r\n    \t\t\tboard.setContents((Transferable) data, null);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;Data is null :(&quot;);\r\n    \t}\r\n    }\r\n\r\nThe idea came from dragging files into a JFrame. Where I used pretty similar code. But it was just guessing and it&#180;s defenitily not working. My data is `null` and nothing seems to work.\r\n\r\nI really couldn&#180;t find anything on the internet. So I hope you can help me.","title":"How to get and set data of clipboard?","body":"<p>I am trying to store the content of my clipboard in a variable. So I can use it later and set it again to the clipboard content. I found a lot of other questions about the topic. But they all asked for the clipboard content as a string. I want the pure data.</p>\n<p>I tried following approach:</p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.io.IOException;\n\npublic class ClipboardTest {\n\n    static Object data;\n\n    public static void main(String[] args) throws UnsupportedFlavorException, IOException {\n        Clipboard board = Toolkit.getDefaultToolkit().getSystemClipboard();\n        Transferable t = board.getContents(null);\n        DataFlavor[] df = t.getTransferDataFlavors();\n\n        for (DataFlavor f : df) {\n            if (f.isFlavorJavaFileListType()) {\n                try {\n                    data = t.getTransferData(f);\n                } catch (UnsupportedFlavorException | IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        \n        if (data != null)\n            board.setContents((Transferable) data, null);\n        else\n            System.out.println(&quot;Data is null :(&quot;);\n    }\n}\n</code></pre>\n<p>The idea came from dragging files into a JFrame. Where I used pretty similar code. But it was just guessing and its defenitily not working. My data is <code>null</code> and nothing seems to work.</p>\n<p>I really couldnt find anything on the internet. So I hope you can help me.</p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"comments":[{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":2,"creation_date":1672703476,"post_id":74987759,"comment_id":132331569,"body_markdown":"Imo it&#39;s even better to use `@ToString.Exclude` and `@EqualsAndHashCode.Exclude` instead of `@ToString(exclude = &quot;&gt;field-name&lt;&quot;)`","body":"Imo it&#39;s even better to use <code>@ToString.Exclude</code> and <code>@EqualsAndHashCode.Exclude</code> instead of <code>@ToString(exclude = &quot;&gt;field-name&lt;&quot;)</code>"}],"tags":[],"owner":{"account_id":745399,"reputation":872,"user_id":731938,"display_name":"Igor Kanshyn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672700623,"creation_date":1672700623,"answer_id":74987759,"question_id":74987633,"body_markdown":"We have a very similar setup and it works. I see two differences. \r\n\r\nFirst, we do not set **targetEntity**, JPA should be able to figure that out based on field types. \r\n\r\nSecond, we excluded &quot;business&quot; fields from toString and equalsAndHashCode generated for ProductCategory class.\r\n\r\nTry adding annotations \r\n```\r\n@ToString(exclude = {&quot;business&quot;})\r\n@EqualsAndHashCode(exclude = {&quot;business&quot;})\r\n```\r\nto your **ProductCategory** class.\r\n\r\nThat should exclude cyclic calls in toString and equals/hashcode methods and take away your unwanted infinite recursion.\r\n\r\n","title":"Why does the mappedBy parameter cause infinite recursion in spring boot?","body":"<p>We have a very similar setup and it works. I see two differences.</p>\n<p>First, we do not set <strong>targetEntity</strong>, JPA should be able to figure that out based on field types.</p>\n<p>Second, we excluded &quot;business&quot; fields from toString and equalsAndHashCode generated for ProductCategory class.</p>\n<p>Try adding annotations</p>\n<pre><code>@ToString(exclude = {&quot;business&quot;})\n@EqualsAndHashCode(exclude = {&quot;business&quot;})\n</code></pre>\n<p>to your <strong>ProductCategory</strong> class.</p>\n<p>That should exclude cyclic calls in toString and equals/hashcode methods and take away your unwanted infinite recursion.</p>\n"}],"owner":{"account_id":19352302,"reputation":59,"user_id":14149450,"display_name":"Nikola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74987759,"answer_count":1,"score":0,"last_activity_date":1672710302,"creation_date":1672699192,"question_id":74987633,"body_markdown":"These are two entities, each with more fields but these two are causing StackOverflow. When I&#39;m using only **@JsonMannagedReference** and **@JsonBackReference** and not using **mappedBy**, infinite recursion doesn&#39;t exist. Still, in that case, I&#39;m unable to create bidirectional relation, when I add a **mappedBy** parameter it causes a StackOverflow error.\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class Business {\r\n\r\n@OneToMany(targetEntity = ProductCategory.class\r\n            , cascade = CascadeType.ALL\r\n            , fetch = FetchType.LAZY\r\n            , mappedBy = &quot;business&quot;\r\n    )\r\n    @JsonManagedReference\r\n    private List&lt;ProductCategory&gt; productCategories;\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class ProductCategory {\r\n\r\n@ManyToOne(targetEntity = Business.class\r\n            , cascade = CascadeType.ALL\r\n            , fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;business_id&quot;)\r\n    @JsonBackReference\r\n    private Business business;\r\n}\r\n```","title":"Why does the mappedBy parameter cause infinite recursion in spring boot?","body":"<p>These are two entities, each with more fields but these two are causing StackOverflow. When I'm using only <strong>@JsonMannagedReference</strong> and <strong>@JsonBackReference</strong> and not using <strong>mappedBy</strong>, infinite recursion doesn't exist. Still, in that case, I'm unable to create bidirectional relation, when I add a <strong>mappedBy</strong> parameter it causes a StackOverflow error.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class Business {\n\n@OneToMany(targetEntity = ProductCategory.class\n            , cascade = CascadeType.ALL\n            , fetch = FetchType.LAZY\n            , mappedBy = &quot;business&quot;\n    )\n    @JsonManagedReference\n    private List&lt;ProductCategory&gt; productCategories;\n}\n\n@Entity\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class ProductCategory {\n\n@ManyToOne(targetEntity = Business.class\n            , cascade = CascadeType.ALL\n            , fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;business_id&quot;)\n    @JsonBackReference\n    private Business business;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","crud"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1606398354,"post_id":65022983,"comment_id":114956008,"body_markdown":".getProductDetails(ProductMetricController.java:32)\\, what is at line 32 in ProductMetricController.java......","body":".getProductDetails(ProductMetricController.java:32)\\, what is at line 32 in ProductMetricController.java......"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1606398437,"post_id":65022983,"comment_id":114956047,"body_markdown":"Where is your datasource, entitymanager?","body":"Where is your datasource, entitymanager?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1606398558,"post_id":65022983,"comment_id":114956103,"body_markdown":"Simply put an `@AUtowired` field cannot be `null` if that happens your application wouldn&#39;t even start. So you either are constructing the controller yourself in some convoluted way that Spring cannot inject the dependencies, or there is something else and you aren&#39;t showing the actual code and the fact that you reduced the complexity doesn&#39;t show the issue.","body":"Simply put an <code>@AUtowired</code> field cannot be <code>null</code> if that happens your application wouldn&#39;t even start. So you either are constructing the controller yourself in some convoluted way that Spring cannot inject the dependencies, or there is something else and you aren&#39;t showing the actual code and the fact that you reduced the complexity doesn&#39;t show the issue."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1606398653,"post_id":65022983,"comment_id":114956143,"body_markdown":"List&lt;Long&gt; productIds = requestBody.get(&quot;product_ids&quot;); Have you checked (productIds) if it is null or not :)","body":"List&lt;Long&gt; productIds = requestBody.get(&quot;product_ids&quot;); Have you checked (productIds) if it is null or not :)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1606398704,"post_id":65022983,"comment_id":114956170,"body_markdown":"You are missing an `@RequestBody` annotation on your `Map` in your method. Hence nothing will be there.","body":"You are missing an <code>@RequestBody</code> annotation on your <code>Map</code> in your method. Hence nothing will be there."},{"owner":{"account_id":17916680,"reputation":684,"user_id":13017474,"display_name":"priyranjan"},"score":0,"creation_date":1606398753,"post_id":65022983,"comment_id":114956199,"body_markdown":"this is causing because of  **Optional&lt;&gt;**. it need to be handled to avoid NullPointerExceptions.","body":"this is causing because of  <b>Optional&lt;&gt;</b>. it need to be handled to avoid NullPointerExceptions."},{"owner":{"account_id":17916680,"reputation":684,"user_id":13017474,"display_name":"priyranjan"},"score":0,"creation_date":1606399867,"post_id":65022983,"comment_id":114956764,"body_markdown":"try to print some logger comment in your code. so you will come to know where it is failing. ryt?","body":"try to print some logger comment in your code. so you will come to know where it is failing. ryt?"}],"owner":{"account_id":13858456,"reputation":431,"user_id":10004688,"display_name":"rikki"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672709757,"creation_date":1606397102,"question_id":65022983,"body_markdown":"I am scratching my head on a problem and I am not able to get any solutions. I am fairly new to Spring Boot and developing a small project on it. My application will have only 2 tables. I have one table named `product_metrics` and my JPA entity for the table looks like-\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;product_metrics&quot;)\r\n    public class ProductMetric extends Auditable&lt;String&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;product_id&quot;, unique = true)\r\n    private Long productId;\r\n\r\n    @Column(name = &quot;bundle_quantity&quot;)\r\n    private BigDecimal bundleQuantity;\r\n\r\n    @Column(name = &quot;length_in_cm&quot;)\r\n    private BigDecimal lengthInCm;\r\n\r\n    @Column(name = &quot;breadth_in_cm&quot;)\r\n    private BigDecimal breadthInCm;\r\n\r\n    @Column(name = &quot;height_in_cm&quot;)\r\n    private BigDecimal heightInCm;\r\n\r\n   }\r\n\r\nNow the problem statement is I want to fetch all the products given product_ids in an array. So I have decided to use POST Api call as i don&#39;t want to break url limit if large number of product_ids are send by using GET api. The problem that I am facing is I am getting internal server error as soon as my JPA Repository is hit.\r\n\r\nMy Controller is - \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class ProductMetricController extends BaseController {\r\n\r\n    @Autowired\r\n    private ProductDetailService productDetailService;\r\n\r\n    @PostMapping(&quot;/product-details&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getProductDetails(@RequestBody Map&lt;String, List&gt; requestParam) {\r\n        Map&lt;String, Object&gt; responseMapper = new HashMap&lt;&gt;();\r\n\r\n        try {\r\n            if (requestParam.containsKey(&quot;product_ids&quot;)) {\r\n                responseMapper = productDetailService.fetchProductList(requestParam);\r\n            }\r\n\r\n            return new ResponseEntity&lt;&gt;(responseMapper, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            responseMapper.put(&quot;message&quot;, e.getMessage());\r\n            return new ResponseEntity&lt;&gt;(responseMapper, e.getClass().getAnnotation(ResponseStatus.class).value());\r\n        }\r\n\r\n    }\r\n    }\r\n\r\nMy Service is- \r\n\r\n    @Service\r\n    public class ProductDetailServiceImpl implements ProductDetailService{\r\n\r\n    @Autowired\r\n    private ProductMetricRepository productMetricRepository;\r\n\r\n    public  Map&lt;String, Object&gt; fetchProductList(Map&lt;String, List&gt;  requestBody) {\r\n\r\n        Map&lt;String, Object&gt; responseMapper = new HashMap&lt;&gt;();\r\n        List&lt;Long&gt; productIds = requestBody.get(&quot;product_ids&quot;);\r\n \r\n        Optional&lt;List&lt;ProductMetric&gt;&gt; productList = productMetricRepository.findAllByProductIdIn(productIds);\r\n        if ( productList.isPresent() ) {\r\n            List&lt;ProductMetric&gt; productMetricsList =  productList.get();\r\n            for (ProductMetric metrics : productMetricsList) {\r\n                responseMapper.put(metrics.getId().toString(), metrics);\r\n            }\r\n            return responseMapper;\r\n        } throw new ResourceNotFoundException(ExceptionMsgs.PRODUCT_LIST_NOT_FOUND);\r\n    }\r\n    }\r\n\r\nAnd my JPA respository is - \r\n\r\n    @Repository\r\n       public interface ProductMetricRepository extends JpaRepository&lt;ProductMetric, Long&gt; {\r\n\r\n       Optional&lt;List&lt;ProductMetric&gt;&gt; findAllByProductIdIn(List&lt;Long&gt; productIds);\r\n    }\r\n\r\nI am hitting the POST request with Request Body-\r\n\r\n    {\r\n       &quot;product_ids&quot;: [\r\n           12345,\r\n           66052\r\n       ]\r\n    }\r\n\r\nThe problem that i am facing is i am getting Internal Server error with java.lang.NullPointerException as - \r\n\r\n\r\n \r\n\r\n    \r\n\r\n \r\n\r\n    java.lang.NullPointerException\\n\\tat\r\n        com.bizongo.logistics.controllers.ProductMetricController.getProductDetails(ProductMetricController.java:32)\\n\\tat\r\n        java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n        Method)\\n\\tat\r\n        java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat\r\n        java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat\r\n        java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat\r\n        org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\\n\\tat\r\n        org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\n\\tat\r\n        org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\\n\\tat\r\n        org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\\n\\tat\r\n        org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\\n\\tat\r\n        org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat\r\n        org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\n\\tat\r\n        org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\n\\tat\r\n        org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat\r\n        org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat\r\n        javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\n\\tat\r\n        org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat\r\n        javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\r\n        org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\n\\tat\r\n        org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:154)\\n\\tat\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\\n\\tat\r\n        org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\\n\\tat\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\n\\tat\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\n\\tat\r\n        org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\n\\tat\r\n        org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\n\\tat\r\n        org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\r\n        org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\\n\\tat\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\r\n        org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\r\n        org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\r\n        org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\n\\tat\r\n        org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\n\\tat\r\n        org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat\r\n        org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\n\\tat\r\n        org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat\r\n        org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat\r\n        org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat\r\n        org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\\n\\tat\r\n        org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat\r\n        org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\\n\\tat\r\n        org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\\n\\tat\r\n        org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat\r\n        java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat\r\n        java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat\r\n        org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat\r\n        java.base/java.lang.Thread.run(Thread.java:834)\\n&quot;\r\n\r\n------------------------------------------------------------------------\r\n\r\nIf you guys can help me then it would be a great great help. Sorry for any silly mistake that i would have done and Thanks in Advance :)","title":"Getting Interval Server Error with java.lang.NullPointerException while trying to access JPA Respository in Spring Boot Application","body":"<p>I am scratching my head on a problem and I am not able to get any solutions. I am fairly new to Spring Boot and developing a small project on it. My application will have only 2 tables. I have one table named <code>product_metrics</code> and my JPA entity for the table looks like-</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;product_metrics&quot;)\npublic class ProductMetric extends Auditable&lt;String&gt; {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotNull\n@Column(name = &quot;product_id&quot;, unique = true)\nprivate Long productId;\n\n@Column(name = &quot;bundle_quantity&quot;)\nprivate BigDecimal bundleQuantity;\n\n@Column(name = &quot;length_in_cm&quot;)\nprivate BigDecimal lengthInCm;\n\n@Column(name = &quot;breadth_in_cm&quot;)\nprivate BigDecimal breadthInCm;\n\n@Column(name = &quot;height_in_cm&quot;)\nprivate BigDecimal heightInCm;\n</code></pre>\n<p>}</p>\n<p>Now the problem statement is I want to fetch all the products given product_ids in an array. So I have decided to use POST Api call as i don't want to break url limit if large number of product_ids are send by using GET api. The problem that I am facing is I am getting internal server error as soon as my JPA Repository is hit.</p>\n<p>My Controller is -</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class ProductMetricController extends BaseController {\n\n@Autowired\nprivate ProductDetailService productDetailService;\n\n@PostMapping(&quot;/product-details&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; getProductDetails(@RequestBody Map&lt;String, List&gt; requestParam) {\n    Map&lt;String, Object&gt; responseMapper = new HashMap&lt;&gt;();\n\n    try {\n        if (requestParam.containsKey(&quot;product_ids&quot;)) {\n            responseMapper = productDetailService.fetchProductList(requestParam);\n        }\n\n        return new ResponseEntity&lt;&gt;(responseMapper, HttpStatus.OK);\n    } catch (Exception e) {\n        responseMapper.put(&quot;message&quot;, e.getMessage());\n        return new ResponseEntity&lt;&gt;(responseMapper, e.getClass().getAnnotation(ResponseStatus.class).value());\n    }\n\n}\n}\n</code></pre>\n<p>My Service is-</p>\n<pre><code>@Service\npublic class ProductDetailServiceImpl implements ProductDetailService{\n\n@Autowired\nprivate ProductMetricRepository productMetricRepository;\n\npublic  Map&lt;String, Object&gt; fetchProductList(Map&lt;String, List&gt;  requestBody) {\n\n    Map&lt;String, Object&gt; responseMapper = new HashMap&lt;&gt;();\n    List&lt;Long&gt; productIds = requestBody.get(&quot;product_ids&quot;);\n\n    Optional&lt;List&lt;ProductMetric&gt;&gt; productList = productMetricRepository.findAllByProductIdIn(productIds);\n    if ( productList.isPresent() ) {\n        List&lt;ProductMetric&gt; productMetricsList =  productList.get();\n        for (ProductMetric metrics : productMetricsList) {\n            responseMapper.put(metrics.getId().toString(), metrics);\n        }\n        return responseMapper;\n    } throw new ResourceNotFoundException(ExceptionMsgs.PRODUCT_LIST_NOT_FOUND);\n}\n}\n</code></pre>\n<p>And my JPA respository is -</p>\n<pre><code>@Repository\n   public interface ProductMetricRepository extends JpaRepository&lt;ProductMetric, Long&gt; {\n\n   Optional&lt;List&lt;ProductMetric&gt;&gt; findAllByProductIdIn(List&lt;Long&gt; productIds);\n}\n</code></pre>\n<p>I am hitting the POST request with Request Body-</p>\n<pre><code>{\n   &quot;product_ids&quot;: [\n       12345,\n       66052\n   ]\n}\n</code></pre>\n<p>The problem that i am facing is i am getting Internal Server error with java.lang.NullPointerException as -</p>\n<pre><code>java.lang.NullPointerException\\n\\tat\n    com.bizongo.logistics.controllers.ProductMetricController.getProductDetails(ProductMetricController.java:32)\\n\\tat\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n    Method)\\n\\tat\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat\n    java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\\n\\tat\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\n\\tat\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\\n\\tat\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\\n\\tat\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\\n\\tat\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\n\\tat\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\n\\tat\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\n\\tat\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\n\\tat\n    org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:154)\\n\\tat\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\\n\\tat\n    org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\\n\\tat\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\n\\tat\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\n    org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\n\\tat\n    org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\n\\tat\n    org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\n\\tat\n    org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\n\\tat\n    org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\n    org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108)\\n\\tat\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\n\\tat\n    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\n\\tat\n    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\n\\tat\n    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\n\\tat\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat\n    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\n\\tat\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat\n    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\\n\\tat\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\\n\\tat\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)\\n\\tat\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\n\\tat\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\n\\tat\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat\n    java.base/java.lang.Thread.run(Thread.java:834)\\n&quot;\n</code></pre>\n<hr />\n<p>If you guys can help me then it would be a great great help. Sorry for any silly mistake that i would have done and Thanks in Advance :)</p>\n"},{"tags":["java","spring","spring-boot","tomcat","logging"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672709250,"creation_date":1672709250,"answer_id":74988357,"question_id":74988295,"body_markdown":"The log directory you specified has insufficient permission, and the application has no write permission\r\n\r\nyou can use `chmod 777 dir` give that directory full accessOr specify a directory with access permission in the configuration file","title":"Tomcat War Deployment Error with Logback in Spring Boot","body":"<p>The log directory you specified has insufficient permission, and the application has no write permission</p>\n<p>you can use <code>chmod 777 dir</code> give that directory full accessOr specify a directory with access permission in the configuration file</p>\n"}],"owner":{"account_id":10702514,"reputation":61,"user_id":7877351,"display_name":"Psi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672709250,"creation_date":1672708353,"question_id":74988295,"body_markdown":"I&#39;ve set up logback with Spring Boot.\r\nWhen I use &#39;mvn package&#39;, it creates the log files at the designated location specified in logback-spring.xml\r\nYet when I deploy the war onto Tomcat manager, I get the following error in the tomcat log files.\r\n```\r\n02-Jan-2023 19:36:45.008 INFO [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: start: Starting web application &#39;/springapp&#39;\r\n02-Jan-2023 19:36:47.131 SEVERE [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: Error starting [/springapp]\r\n\torg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/springapp]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\t...\r\n        ...\r\n        ...\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE-ROLLING] - openFile(springapp.log,true) call failed. java.io.FileNotFoundException: springapp.log (Permission denied)\r\n\t\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\r\n\t\t...\r\n        ...\r\n        ...\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 35 more\r\n\tCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE-ROLLING] - openFile(springapp.log,true) call failed. java.io.FileNotFoundException: springapp.log (Permission denied)\r\n\t\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\r\n\t\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\t\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\t\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\r\n\t\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:329)\r\n\t\t... 56 more\r\n02-Jan-2023 19:36:47.131 INFO [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: list: Listing contexts for virtual host &#39;localhost\r\n``` \r\nTomcat is installed at /opt/tomcat/apache-tomcat-version/\r\nMy log file destination is /opt/tomcat/applogs/ with permissions\r\n```\r\ndrwxr-xr-x 9 tomcat tomcat 4096 Dec  8 14:02 apache-tomcat-9.0.70\r\ndrwxrwxrwx 2 tomcat tomcat 4096 Jan  2 19:35 applogs\r\n```\r\nI&#39;ve tried changing user:groups to {whoami}:{whoami}, root:root, among others, but tomcat manager won&#39;t start the war deployment\r\n```\r\nFAIL - Application at context path [/springapp] could not be started\r\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/springapp]]]\r\n```\r\n\r\nI know the logs created already are from spring boot and have nothing to do with tomcat, and I also know that tomcat requires a dedicated user for security purposes, but I&#39;m at a loss on what to do at this point. ","title":"Tomcat War Deployment Error with Logback in Spring Boot","body":"<p>I've set up logback with Spring Boot.\nWhen I use 'mvn package', it creates the log files at the designated location specified in logback-spring.xml\nYet when I deploy the war onto Tomcat manager, I get the following error in the tomcat log files.</p>\n<pre><code>02-Jan-2023 19:36:45.008 INFO [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: start: Starting web application '/springapp'\n02-Jan-2023 19:36:47.131 SEVERE [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: Error starting [/springapp]\n    org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/springapp]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        ...\n        ...\n        ...\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE-ROLLING] - openFile(springapp.log,true) call failed. java.io.FileNotFoundException: springapp.log (Permission denied)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:344)\n        ...\n        ...\n        ...\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 35 more\n    Caused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE-ROLLING] - openFile(springapp.log,true) call failed. java.io.FileNotFoundException: springapp.log (Permission denied)\n        at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\n        at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n        at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n        at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:329)\n        ... 56 more\n02-Jan-2023 19:36:47.131 INFO [http-nio-8080-exec-100] org.apache.catalina.core.ApplicationContext.log HTMLManager: list: Listing contexts for virtual host 'localhost\n</code></pre>\n<p>Tomcat is installed at /opt/tomcat/apache-tomcat-version/\nMy log file destination is /opt/tomcat/applogs/ with permissions</p>\n<pre><code>drwxr-xr-x 9 tomcat tomcat 4096 Dec  8 14:02 apache-tomcat-9.0.70\ndrwxrwxrwx 2 tomcat tomcat 4096 Jan  2 19:35 applogs\n</code></pre>\n<p>I've tried changing user:groups to {whoami}:{whoami}, root:root, among others, but tomcat manager won't start the war deployment</p>\n<pre><code>FAIL - Application at context path [/springapp] could not be started\nFAIL - Encountered exception [org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/springapp]]]\n</code></pre>\n<p>I know the logs created already are from spring boot and have nothing to do with tomcat, and I also know that tomcat requires a dedicated user for security purposes, but I'm at a loss on what to do at this point.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1672708475,"post_id":74988294,"comment_id":132332225,"body_markdown":"show code on both entities","body":"show code on both entities"}],"owner":{"account_id":23779529,"reputation":11,"user_id":17792420,"display_name":"Jabez_Brew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672708588,"creation_date":1672708310,"question_id":74988294,"body_markdown":"This error occurs when my `Postmapping` method tries to save a quiz.\r\nHere&#39;s the controller.\r\n`\r\n```\r\n@PostMapping(&quot;/quizzes&quot;)\r\npublic Quiz postQuiz(@Valid @RequestBody Quiz quiz) {\r\n    return quizRepo.save(quiz);\r\n}\r\n```\r\n`\r\nNow here is the User entity whose association is the Quiz entity (it has 5 fields).\r\n`\r\n```\r\npublic class User {\r\n    //other fields/columns\r\n\r\n    @OneToMany(targetEntity = Quiz.class, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private List&lt;Quiz&gt; quizzes;\r\n}\r\n```\r\n`\r\nThe `user_id` field is the foreign key in the quiz table and not a declared field in the Quiz class/entity.\r\n\r\nI was thinking just declaring the relationship will populate the foreign key column, in this case `user_id`, will just be the primary key of the owning entity but it seems at the the time of saving in the `PostMapping` method, the `user_id` is null. I&#39;ve tried anything I possibly can but to no avail.","title":"java.sql.SQLException: Field &#39;user_id&#39; doesn&#39;t have a default value","body":"<p>This error occurs when my <code>Postmapping</code> method tries to save a quiz.\nHere's the controller.\n`</p>\n<pre><code>@PostMapping(&quot;/quizzes&quot;)\npublic Quiz postQuiz(@Valid @RequestBody Quiz quiz) {\n    return quizRepo.save(quiz);\n}\n</code></pre>\n<p><code>Now here is the User entity whose association is the Quiz entity (it has 5 fields).</code></p>\n<pre><code>public class User {\n    //other fields/columns\n\n    @OneToMany(targetEntity = Quiz.class, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private List&lt;Quiz&gt; quizzes;\n}\n</code></pre>\n<p><code>The</code>user_id` field is the foreign key in the quiz table and not a declared field in the Quiz class/entity.</p>\n<p>I was thinking just declaring the relationship will populate the foreign key column, in this case <code>user_id</code>, will just be the primary key of the owning entity but it seems at the the time of saving in the <code>PostMapping</code> method, the <code>user_id</code> is null. I've tried anything I possibly can but to no avail.</p>\n"},{"tags":["java","selenium","automation","selenium-chromedriver","autoit"],"comments":[{"owner":{"account_id":27416095,"reputation":21,"user_id":20915248,"display_name":"Filipe Vaz"},"score":0,"creation_date":1672745610,"post_id":74988251,"comment_id":132339624,"body_markdown":"Not worked either","body":"Not worked either"}],"owner":{"account_id":27416095,"reputation":21,"user_id":20915248,"display_name":"Filipe Vaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672708418,"creation_date":1672707472,"question_id":74988251,"body_markdown":"I am trying to print as pdf by selenium but without the header and footer information. I made this code using Java and AutoIT tool to deal with the print window.\r\n\r\nHere&#39;s my Java code:\r\n\r\n```\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--kiosk-printing&quot;);\r\noptions.addArguments(&quot;--printing.paper_size_default&quot;);\r\n\r\nChromeDriver driver = new ChromeDriver(options);\r\n\r\ndriver.get(&quot;http://google.com&quot;);\r\ndriver.manage().window().maximize();\r\nThread.sleep(10000);\r\n\r\n//get page title tag so I can use later to put name on PDF file\r\nString pageText = driver.findElement(By.tagName(&quot;title&quot;)).getAttribute(&quot;innerHTML&quot;);\r\n\r\n//saving title text to clipboard so I can get on autoIT executable\r\nStringSelection stringSelection = new StringSelection(pageText);\r\nClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\nclipboard.setContents(stringSelection, null);\r\n\r\n//open print window and execute autoIT file\r\n((JavascriptExecutor) driver).executeScript(&quot;print()&quot;);\r\nThread.sleep(5000);\r\n\r\nRuntime.getRuntime().exec(&quot;src/savfiles.exe&quot;);\r\n```\r\n\r\n\r\nHere&#39;s my autoIT code (savfiles.exe):\r\n\r\n```\r\n//getting title text that I copy to clipboard\r\nGlobal $sLastClip = ClipGet();\r\n\r\n//focus on name file\r\nControlFocus(&quot;Salvar Sa&#237;da de Impress&#227;o como&quot;, &quot;&quot;, &quot;ComboBox1&quot;);\r\nSleep(500);\r\n\r\n//past the text on field`\r\nControlSetText(&quot;Salvar Sa&#237;da de Impress&#227;o como&quot;, &quot;&quot;, &quot;Edit1&quot;, $sLastClip);\r\nSleep(500);\r\n\r\n//click on confirm button and save`\r\nControlClick(&quot;Salvar Sa&#237;da de Impress&#227;o como&quot;, &quot;&quot;, &quot;Button2&quot;);\r\nSleep(500);\r\n\r\n//if there&#39;s another file with the same name the operational system will ask if you want to replace the file. this line will confirm that yes\r\nControlClick(&quot;Confirmar Salvar como&quot;, &quot;&quot;, &quot;Button1&quot;);\r\n```\r\n\r\n\r\nI tried to put some prefs as (&quot;isHeaderAndFooter&quot;, false) but it seems not working and I looked many documentations as I could and found nothing dealing with it (at least with java).","title":"Handling print as PDF in selenium webdriver","body":"<p>I am trying to print as pdf by selenium but without the header and footer information. I made this code using Java and AutoIT tool to deal with the print window.</p>\n<p>Here's my Java code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--kiosk-printing&quot;);\noptions.addArguments(&quot;--printing.paper_size_default&quot;);\n\nChromeDriver driver = new ChromeDriver(options);\n\ndriver.get(&quot;http://google.com&quot;);\ndriver.manage().window().maximize();\nThread.sleep(10000);\n\n//get page title tag so I can use later to put name on PDF file\nString pageText = driver.findElement(By.tagName(&quot;title&quot;)).getAttribute(&quot;innerHTML&quot;);\n\n//saving title text to clipboard so I can get on autoIT executable\nStringSelection stringSelection = new StringSelection(pageText);\nClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\nclipboard.setContents(stringSelection, null);\n\n//open print window and execute autoIT file\n((JavascriptExecutor) driver).executeScript(&quot;print()&quot;);\nThread.sleep(5000);\n\nRuntime.getRuntime().exec(&quot;src/savfiles.exe&quot;);\n</code></pre>\n<p>Here's my autoIT code (savfiles.exe):</p>\n<pre><code>//getting title text that I copy to clipboard\nGlobal $sLastClip = ClipGet();\n\n//focus on name file\nControlFocus(&quot;Salvar Sada de Impresso como&quot;, &quot;&quot;, &quot;ComboBox1&quot;);\nSleep(500);\n\n//past the text on field`\nControlSetText(&quot;Salvar Sada de Impresso como&quot;, &quot;&quot;, &quot;Edit1&quot;, $sLastClip);\nSleep(500);\n\n//click on confirm button and save`\nControlClick(&quot;Salvar Sada de Impresso como&quot;, &quot;&quot;, &quot;Button2&quot;);\nSleep(500);\n\n//if there's another file with the same name the operational system will ask if you want to replace the file. this line will confirm that yes\nControlClick(&quot;Confirmar Salvar como&quot;, &quot;&quot;, &quot;Button1&quot;);\n</code></pre>\n<p>I tried to put some prefs as (&quot;isHeaderAndFooter&quot;, false) but it seems not working and I looked many documentations as I could and found nothing dealing with it (at least with java).</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1672681505,"post_id":74985490,"comment_id":132326877,"body_markdown":"In the past I&#39;ve used [`Reflections.getSubTypesOf()`](https://www.javadoc.io/doc/org.reflections/reflections/0.9.10/org/reflections/Reflections.html#getSubTypesOf-java.lang.Class-) to do this.","body":"In the past I&#39;ve used <a href=\"https://www.javadoc.io/doc/org.reflections/reflections/0.9.10/org/reflections/Reflections.html#getSubTypesOf-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>Reflections.getSubTypesOf()</code></a> to do this."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1672681714,"post_id":74985490,"comment_id":132326934,"body_markdown":"you could use service loader https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html","body":"you could use service loader <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"score":0,"creation_date":1672682317,"post_id":74985490,"comment_id":132327098,"body_markdown":"I need more details , for example when i used `scriptEngine.eval()` only load first class of script .","body":"I need more details , for example when i used <code>scriptEngine.eval()</code> only load first class of script ."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1672693204,"post_id":74985490,"comment_id":132329645,"body_markdown":"scriptEngine.eval() ? how it&#39;s related to your question ?","body":"scriptEngine.eval() ? how it&#39;s related to your question ?"}],"answers":[{"tags":[],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672707709,"creation_date":1672707709,"answer_id":74988261,"question_id":74985490,"body_markdown":"Finally i found answer :      \r\n\r\n    public class OperatorManager {\r\n        public static void run(File scriptFile) {\r\n            try {\r\n                GroovyScriptEngineImpl engine = (GroovyScriptEngineImpl) new GroovyScriptEngineFactory().getScriptEngine();\r\n                GroovyClassLoader classLoader = new GroovyClassLoader();\r\n    \r\n                classLoader.parseClass(new GroovyCodeSource(scriptFile));\r\n                engine.setClassLoader(classLoader);\r\n    \r\n                Class&lt;?&gt;[] loadedClasses = engine.getClassLoader().getLoadedClasses();\r\n    \r\n                Class&lt;?&gt; operatorImplClass = Arrays.stream(loadedClasses)\r\n                        .filter(IOperator.class::isAssignableFrom)\r\n                        .findFirst().orElse(null);\r\n    \r\n                if (operatorImplClass != null) {\r\n                    String result = invokeMethod(operatorImplClass);\r\n                    System.out.println(result);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static String invokeMethod(Class&lt;?&gt; item) {\r\n            try {\r\n                Object instance = item.getConstructor().newInstance();\r\n                Method execute = item.getDeclaredMethod(&quot;execute&quot;, Map.class);\r\n                return (String) execute.invoke(instance, new Object[]{null});\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Java find specific class in groovy script","body":"<p>Finally i found answer :</p>\n<pre><code>public class OperatorManager {\n    public static void run(File scriptFile) {\n        try {\n            GroovyScriptEngineImpl engine = (GroovyScriptEngineImpl) new GroovyScriptEngineFactory().getScriptEngine();\n            GroovyClassLoader classLoader = new GroovyClassLoader();\n\n            classLoader.parseClass(new GroovyCodeSource(scriptFile));\n            engine.setClassLoader(classLoader);\n\n            Class&lt;?&gt;[] loadedClasses = engine.getClassLoader().getLoadedClasses();\n\n            Class&lt;?&gt; operatorImplClass = Arrays.stream(loadedClasses)\n                    .filter(IOperator.class::isAssignableFrom)\n                    .findFirst().orElse(null);\n\n            if (operatorImplClass != null) {\n                String result = invokeMethod(operatorImplClass);\n                System.out.println(result);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String invokeMethod(Class&lt;?&gt; item) {\n        try {\n            Object instance = item.getConstructor().newInstance();\n            Method execute = item.getDeclaredMethod(&quot;execute&quot;, Map.class);\n            return (String) execute.invoke(instance, new Object[]{null});\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74988261,"answer_count":1,"score":0,"last_activity_date":1672707709,"creation_date":1672681330,"question_id":74985490,"body_markdown":"I have a java jar file contain interface named `IOperator` like this :     \r\n\r\n    public interface IOperator {\r\n        String execute(Map&lt;String, String&gt; parameters);\r\n        boolean isSuccess();\r\n    }      \r\n\r\nnow in groovy script (in single file):          \r\n\r\n    public class ClassA {\r\n    }\r\n    \r\n    public class ClassB {\r\n    }\r\n    \r\n    public class classC implements IOperator {\r\n    \r\n        @Override\r\n        String execute(Map&lt;String, String&gt; parameters) {\r\n            ClassA classA = new ClassA();\r\n            ClassB classB = new ClassB();\r\n            return null\r\n        }\r\n    \r\n        @Override\r\n        boolean isSuccess() {\r\n            return false\r\n        }\r\n    }      \r\n\r\nIs there any way scan this groovy script to find that specific class implemented `IOperator` and invoke `execute` method ?\r\n\r\n**Note: I want do it in Java code.**","title":"Java find specific class in groovy script","body":"<p>I have a java jar file contain interface named <code>IOperator</code> like this :</p>\n<pre><code>public interface IOperator {\n    String execute(Map&lt;String, String&gt; parameters);\n    boolean isSuccess();\n}      \n</code></pre>\n<p>now in groovy script (in single file):</p>\n<pre><code>public class ClassA {\n}\n\npublic class ClassB {\n}\n\npublic class classC implements IOperator {\n\n    @Override\n    String execute(Map&lt;String, String&gt; parameters) {\n        ClassA classA = new ClassA();\n        ClassB classB = new ClassB();\n        return null\n    }\n\n    @Override\n    boolean isSuccess() {\n        return false\n    }\n}      \n</code></pre>\n<p>Is there any way scan this groovy script to find that specific class implemented <code>IOperator</code> and invoke <code>execute</code> method ?</p>\n<p><strong>Note: I want do it in Java code.</strong></p>\n"},{"tags":["java","arrays","dynamic","byte"],"answers":[{"tags":[],"owner":{"account_id":79065,"reputation":9725,"user_id":224508,"display_name":"vanza"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1309048891,"creation_date":1309048891,"answer_id":6481421,"question_id":6481409,"body_markdown":"Why don&#39;t you subclass `ByteArrayOutputStream`? That way your subclass has access to the protected `buf` and `count` fields, and you can add methods to your class to manipulate them directly.","title":"Byte array of unknown length in Java: Part II","body":"<p>Why don't you subclass <code>ByteArrayOutputStream</code>? That way your subclass has access to the protected <code>buf</code> and <code>count</code> fields, and you can add methods to your class to manipulate them directly.</p>\n"},{"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":2,"creation_date":1309050731,"post_id":6481450,"comment_id":7618732,"body_markdown":"Well it takes 4-8times the memory and you lose the cache locality. Worse yet, you eliminate any chances of the JIT to vectorize the code - or at least just work on larger values at once (ie you can&#39;t work on word sized values and do some bit tricks). &quot;slightly&quot; worse may be a bit optimistic.","body":"Well it takes 4-8times the memory and you lose the cache locality. Worse yet, you eliminate any chances of the JIT to vectorize the code - or at least just work on larger values at once (ie you can&#39;t work on word sized values and do some bit tricks). &quot;slightly&quot; worse may be a bit optimistic."},{"owner":{"account_id":411673,"reputation":2882,"user_id":784284,"accept_rate":93,"display_name":"Calvin"},"score":0,"creation_date":1309051688,"post_id":6481450,"comment_id":7618813,"body_markdown":"True enough, thanks for the info. This would be one of the worse solutions if performance is a concern.","body":"True enough, thanks for the info. This would be one of the worse solutions if performance is a concern."},{"owner":{"account_id":2518065,"reputation":641,"user_id":2189001,"accept_rate":50,"display_name":"Michael Kern"},"score":0,"creation_date":1670951714,"post_id":6481450,"comment_id":131989940,"body_markdown":"This was my first Idea as well, but led to an &#39;OutOfMemoryError&#39; for rather small files. I would not reccomend this solution","body":"This was my first Idea as well, but led to an &#39;OutOfMemoryError&#39; for rather small files. I would not reccomend this solution"}],"tags":[],"owner":{"account_id":411673,"reputation":2882,"user_id":784284,"accept_rate":93,"display_name":"Calvin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309049526,"creation_date":1309049526,"answer_id":6481450,"question_id":6481409,"body_markdown":"For simplicity, you might consider using `java.util.ArrayList`:\r\n\r\n    ArrayList&lt;Byte&gt; a = new ArrayList&lt;Byte&gt;();\r\n    a.add(value1);\r\n    a.add(value2);\r\n    ...\r\n    byte value = a.get(0);\r\n\r\nJava 1.5 and higher will provide automatic boxing and unboxing between the `byte` and `Byte` types. Performance may be *slightly* worse than `ByteArrayOutputStream`, but it is easy to read and understand.","title":"Byte array of unknown length in Java: Part II","body":"<p>For simplicity, you might consider using <code>java.util.ArrayList</code>:</p>\n\n<pre><code>ArrayList&lt;Byte&gt; a = new ArrayList&lt;Byte&gt;();\na.add(value1);\na.add(value2);\n...\nbyte value = a.get(0);\n</code></pre>\n\n<p>Java 1.5 and higher will provide automatic boxing and unboxing between the <code>byte</code> and <code>Byte</code> types. Performance may be <em>slightly</em> worse than <code>ByteArrayOutputStream</code>, but it is easy to read and understand.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309050082,"creation_date":1309050082,"answer_id":6481482,"question_id":6481409,"body_markdown":"The expense of the ByteArrayOutputStream is the resizing of the underlying array. Your fixed block routine eliminates much of that. If the resizing isn&#39;t expensive enough to you to matter (i.e. in your testing the ByteArrayOutputStream is &quot;fast enough&quot;, and doesn&#39;t provide undo memory pressure), then perhaps subclassing ByteArrayOutputStream, as suggested by vanza, would work for you.\r\n\r\nI don&#39;t know your compression algorithm, so I can&#39;t say why your list of blocks is making it less flexible, or even why the compression algorithm would even KNOW about the blocks. But since the blocks can by dynamic, you may be able to tune the block size as appropriate to better support the variety of the compression algorithm you&#39;re using.\r\n\r\nIf the compression algorithm can work on a &quot;stream&quot; (i.e. fixed size chunks of data), then the block size should matter as you could hide all of those details from the implementation. The perfect world is if the compression algorithm wants its data in chunks that match the size of the blocks your allocating, that way you wouldn&#39;t have to copy data to feed the compressor.\r\n\r\n","title":"Byte array of unknown length in Java: Part II","body":"<p>The expense of the ByteArrayOutputStream is the resizing of the underlying array. Your fixed block routine eliminates much of that. If the resizing isn't expensive enough to you to matter (i.e. in your testing the ByteArrayOutputStream is \"fast enough\", and doesn't provide undo memory pressure), then perhaps subclassing ByteArrayOutputStream, as suggested by vanza, would work for you.</p>\n\n<p>I don't know your compression algorithm, so I can't say why your list of blocks is making it less flexible, or even why the compression algorithm would even KNOW about the blocks. But since the blocks can by dynamic, you may be able to tune the block size as appropriate to better support the variety of the compression algorithm you're using.</p>\n\n<p>If the compression algorithm can work on a \"stream\" (i.e. fixed size chunks of data), then the block size should matter as you could hide all of those details from the implementation. The perfect world is if the compression algorithm wants its data in chunks that match the size of the blocks your allocating, that way you wouldn't have to copy data to feed the compressor.</p>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1309055992,"post_id":6481493,"comment_id":7619167,"body_markdown":"See also [`com.Ostermiller.util.CircularByteBuffer`](http://ostermiller.org/utils/doc/com/Ostermiller/util/CircularByteBuffer.html).","body":"See also <a href=\"http://ostermiller.org/utils/doc/com/Ostermiller/util/CircularByteBuffer.html\" rel=\"nofollow noreferrer\"><code>com.Ostermiller.util.CircularByteBuffer</code></a>."}],"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309054296,"creation_date":1309050346,"answer_id":6481493,"question_id":6481409,"body_markdown":"What about using a circular byte buffer? It has the possibility to grow dynamically and is efficient.\r\n\r\nThere&#39;s an implementation here: http://ostermiller.org/utils/CircularByteBuffer.java.html","title":"Byte array of unknown length in Java: Part II","body":"<p>What about using a circular byte buffer? It has the possibility to grow dynamically and is efficient.</p>\n\n<p>There's an implementation here: <a href=\"http://ostermiller.org/utils/CircularByteBuffer.java.html\" rel=\"noreferrer\">http://ostermiller.org/utils/CircularByteBuffer.java.html</a></p>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1309058064,"post_id":6481509,"comment_id":7619342,"body_markdown":"I&#39;m not sure I understand how &quot;the methods are synchronized&quot; in [`ByteArrayOutputStream`](http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html). Can you elaborate?","body":"I&#39;m not sure I understand how &quot;the methods are synchronized&quot; in <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayOutputStream</code></a>. Can you elaborate?"},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1309058612,"post_id":6481509,"comment_id":7619383,"body_markdown":"Well for whatever reason the methods in the class are defined synchronized - although I think you can overwrite synchronized methods with normal methods? not sure. If not, well the synchronization overhead is quite useless for your situation.","body":"Well for whatever reason the methods in the class are defined synchronized - although I think you can overwrite synchronized methods with normal methods? not sure. If not, well the synchronization overhead is quite useless for your situation."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1309058996,"post_id":6481509,"comment_id":7619408,"body_markdown":"Ah, I [see](http://javasourcecode.org/html/open-source/jdk/jdk-6u23/java/io/ByteArrayOutputStream.java.html) it now; thanks.","body":"Ah, I <a href=\"http://javasourcecode.org/html/open-source/jdk/jdk-6u23/java/io/ByteArrayOutputStream.java.html\" rel=\"nofollow noreferrer\">see</a> it now; thanks."}],"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309050592,"creation_date":1309050592,"answer_id":6481509,"question_id":6481409,"body_markdown":"While you can certainly use an ArrayList&lt;Byte&gt; for this, you pretty much look at an memory overhead of 4-8times - assuming that bytes aren&#39;t newly allocated but share one global instance (since this is true for integers I assume it works for Bytes as well) - and you lose all cache locality.\r\n\r\nSo while you could subclass ByteArrayOutputStream, but even there you get overhead (the methods are synchronized) that you don&#39;t need. So I personally would just roll out my own class that grows dynamically when you write to it. Less efficient than your current method, but simple and we all know the part with the amortized costs - otherwise you can obviously use your solution as well. As long as you wrap the solution in a clean interface you&#39;ll hide the complexity and still get the good performance\r\n\r\nOr otherwise said: No you pretty much can&#39;t do this more efficiently than what you&#39;re already doing and every built-in java Collection should perform worse for one reason or the other.","title":"Byte array of unknown length in Java: Part II","body":"<p>While you can certainly use an ArrayList for this, you pretty much look at an memory overhead of 4-8times - assuming that bytes aren't newly allocated but share one global instance (since this is true for integers I assume it works for Bytes as well) - and you lose all cache locality.</p>\n\n<p>So while you could subclass ByteArrayOutputStream, but even there you get overhead (the methods are synchronized) that you don't need. So I personally would just roll out my own class that grows dynamically when you write to it. Less efficient than your current method, but simple and we all know the part with the amortized costs - otherwise you can obviously use your solution as well. As long as you wrap the solution in a clean interface you'll hide the complexity and still get the good performance</p>\n\n<p>Or otherwise said: No you pretty much can't do this more efficiently than what you're already doing and every built-in java Collection should perform worse for one reason or the other.</p>\n"},{"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380739503,"creation_date":1380739503,"answer_id":19144417,"question_id":6481409,"body_markdown":"As Chris answered the [CircularByteBuffer api][1] is the way to go. Luckily it is in central maven repo now. Quoting a snippet from [this link][2], it is as simple as follows:\r\n\r\n###Single Threaded Example of a Circular Buffer###\r\n\r\n    // buffer all data in a circular buffer of infinite size\r\n    CircularByteBuffer cbb = new CircularByteBuffer(CircularByteBuffer.INFINITE_SIZE);\r\n    class1.putDataOnOutputStream(cbb.getOutputStream());\r\n    class2.processDataFromInputStream(cbb.getInputStream());\r\n\r\n###Advantages are:###\r\n\r\n - One CircularBuffer class rather than two pipe classes.\r\n - It is easier to convert between the &quot;buffer all data&quot; and &quot;extra threads&quot; approaches.\r\n - You can change the buffer size rather than relying on the hard-coded 1k of buffer in the pipes.\r\n\r\nFinally we are free of memory concerns and pipes API\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.ostermiller/utils/1.07.00\r\n  [2]: http://ostermiller.org/convert_java_outputstream_inputstream.html","title":"Byte array of unknown length in Java: Part II","body":"<p>As Chris answered the <a href=\"http://mvnrepository.com/artifact/org.ostermiller/utils/1.07.00\" rel=\"nofollow\">CircularByteBuffer api</a> is the way to go. Luckily it is in central maven repo now. Quoting a snippet from <a href=\"http://ostermiller.org/convert_java_outputstream_inputstream.html\" rel=\"nofollow\">this link</a>, it is as simple as follows:</p>\n\n<h3>Single Threaded Example of a Circular Buffer</h3>\n\n<pre><code>// buffer all data in a circular buffer of infinite size\nCircularByteBuffer cbb = new CircularByteBuffer(CircularByteBuffer.INFINITE_SIZE);\nclass1.putDataOnOutputStream(cbb.getOutputStream());\nclass2.processDataFromInputStream(cbb.getInputStream());\n</code></pre>\n\n<h3>Advantages are:</h3>\n\n<ul>\n<li>One CircularBuffer class rather than two pipe classes.</li>\n<li>It is easier to convert between the \"buffer all data\" and \"extra threads\" approaches.</li>\n<li>You can change the buffer size rather than relying on the hard-coded 1k of buffer in the pipes.</li>\n</ul>\n\n<p>Finally we are free of memory concerns and pipes API</p>\n"},{"tags":[],"owner":{"account_id":2518065,"reputation":641,"user_id":2189001,"accept_rate":50,"display_name":"Michael Kern"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672706725,"creation_date":1670957593,"answer_id":74789651,"question_id":6481409,"body_markdown":"I ended up writing my own method which uses a temporary fixed buffer array and appends it to your final byte array each time after the fixed buffer is filled. It will continue to overwrite the fixed buffer array and append to your final array until all bytes are read and copied. At the end, if the temporaryArray is not filled, it will copy the read bytes from that array into the final array. My code was written for Android, so you may need to use a similar method to `ArrayUtils.concatByteArrays` **(com.google.gms.common.util.ArrayUtils)**\r\n\r\nMy code has the temporary array size set to 100 (**growBufferSize**)  but it might be better to set above 500 or even 1000 or whatever performs best on the environment you use. The final result will be stored in the **bytesfinal** array. \r\n\r\nThis method should reduce memory usage to prevent **OutOfMemoryError** s. Since it is using mainly primitives, memory should be reduced.\r\n\r\n    final int growBufferSize = 100;\r\n    byte[] fixedBuffer = new byte[growBufferSize];\r\n    byte[] bytesfinal = new byte[0];\r\n    \r\n    int fixedBufferIndex=0;\r\n    while (zin.available()&gt;0){\r\n        fixedBuffer[fixedBufferIndex] = (byte)zin.read();\r\n        if (fixedBufferIndex == growBufferSize-1){\r\n            bytesfinal = ArrayUtils.concatByteArrays(bytesfinal,fixedBuffer);\r\n            fixedBufferIndex = -1;\r\n        }\r\n    \r\n        fixedBufferIndex++;\r\n    }\r\n    \r\n    if (fixedBufferIndex!=0){\r\n        byte[] lastBytes = new byte[fixedBufferIndex];\r\n        //copy last read bytes to new array\r\n        for (int i = 0; i&lt;fixedBufferIndex; i++){\r\n            lastBytes[i]=fixedBuffer[i];\r\n        }\r\n    \r\n        //add last bits of data\r\n        bytesfinal = ArrayUtils.concatByteArrays(bytesfinal,lastBytes);\r\n        lastBytes = null;\r\n        fixedBuffer = null;\r\n    }\r\n\r\n    public class ArrayUtils {\r\n    \r\n        static byte[] concatByteArrays(byte[] first, byte[] second) {\r\n            byte[] result = Arrays.copyOf(first, first.length + second.length);\r\n            System.arraycopy(second, 0, result, first.length, second.length);\r\n            return result;\r\n        }\r\n    }\r\n\r\n","title":"Byte array of unknown length in Java: Part II","body":"<p>I ended up writing my own method which uses a temporary fixed buffer array and appends it to your final byte array each time after the fixed buffer is filled. It will continue to overwrite the fixed buffer array and append to your final array until all bytes are read and copied. At the end, if the temporaryArray is not filled, it will copy the read bytes from that array into the final array. My code was written for Android, so you may need to use a similar method to <code>ArrayUtils.concatByteArrays</code> <strong>(com.google.gms.common.util.ArrayUtils)</strong></p>\n<p>My code has the temporary array size set to 100 (<strong>growBufferSize</strong>)  but it might be better to set above 500 or even 1000 or whatever performs best on the environment you use. The final result will be stored in the <strong>bytesfinal</strong> array.</p>\n<p>This method should reduce memory usage to prevent <strong>OutOfMemoryError</strong> s. Since it is using mainly primitives, memory should be reduced.</p>\n<pre><code>final int growBufferSize = 100;\nbyte[] fixedBuffer = new byte[growBufferSize];\nbyte[] bytesfinal = new byte[0];\n\nint fixedBufferIndex=0;\nwhile (zin.available()&gt;0){\n    fixedBuffer[fixedBufferIndex] = (byte)zin.read();\n    if (fixedBufferIndex == growBufferSize-1){\n        bytesfinal = ArrayUtils.concatByteArrays(bytesfinal,fixedBuffer);\n        fixedBufferIndex = -1;\n    }\n\n    fixedBufferIndex++;\n}\n\nif (fixedBufferIndex!=0){\n    byte[] lastBytes = new byte[fixedBufferIndex];\n    //copy last read bytes to new array\n    for (int i = 0; i&lt;fixedBufferIndex; i++){\n        lastBytes[i]=fixedBuffer[i];\n    }\n\n    //add last bits of data\n    bytesfinal = ArrayUtils.concatByteArrays(bytesfinal,lastBytes);\n    lastBytes = null;\n    fixedBuffer = null;\n}\n\npublic class ArrayUtils {\n\n    static byte[] concatByteArrays(byte[] first, byte[] second) {\n        byte[] result = Arrays.copyOf(first, first.length + second.length);\n        System.arraycopy(second, 0, result, first.length, second.length);\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":98445,"reputation":1222,"user_id":266471,"accept_rate":95,"display_name":"Ian Durkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11851,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6481421,"answer_count":7,"score":6,"last_activity_date":1672706725,"creation_date":1309048532,"question_id":6481409,"body_markdown":"Similar to [&quot;Byte array of unknown length in java&quot;](https://stackoverflow.com/questions/664389/byte-array-of-unknown-length-in-java) I need to be able to write an unknown number of bytes from a data source into a byte[] array.  *However* I need the ability to read from bytes that were stored earlier, for a compression algorithm, so [ByteArrayOutputStream](http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html) doesn&#39;t work for me.\r\n\r\nRight now I have a scheme where I allocate ByteBuffers of fixed size N, adding a new one as I reach N, 2N, 3N bytes etc.  After the data is exhausted I dump all buffers into an array of now-known size.\r\n\r\nIs there a better way to do this?  Having fixed-size buffers reduces the flexibility of the compression algorithm.","title":"Byte array of unknown length in Java: Part II","body":"<p>Similar to <a href=\"https://stackoverflow.com/questions/664389/byte-array-of-unknown-length-in-java\">\"Byte array of unknown length in java\"</a> I need to be able to write an unknown number of bytes from a data source into a byte[] array.  <em>However</em> I need the ability to read from bytes that were stored earlier, for a compression algorithm, so <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow noreferrer\">ByteArrayOutputStream</a> doesn't work for me.</p>\n\n<p>Right now I have a scheme where I allocate ByteBuffers of fixed size N, adding a new one as I reach N, 2N, 3N bytes etc.  After the data is exhausted I dump all buffers into an array of now-known size.</p>\n\n<p>Is there a better way to do this?  Having fixed-size buffers reduces the flexibility of the compression algorithm.</p>\n"},{"tags":["java","compiler-errors","java-9","java-module"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1515257739,"post_id":48129475,"comment_id":83235982,"body_markdown":"Which JDK are you using in this project?","body":"Which JDK are you using in this project?"},{"owner":{"account_id":3546244,"reputation":1966,"user_id":2962142,"accept_rate":67,"display_name":"user2962142"},"score":0,"creation_date":1515257781,"post_id":48129475,"comment_id":83235996,"body_markdown":"@Andremoniy 9.0.1","body":"@Andremoniy 9.0.1"}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1672706315,"creation_date":1515259247,"answer_id":48129875,"question_id":48129475,"body_markdown":"As of Java 9, you can not access this class directly. And in the ideal way you shouldn&#39;t do that. That is because this class&#39;s package is not exported in the module `javax.sql.rowset`. \r\n\r\nThe proper way to do that in Java 9+ is the use of [`RowSetProvider`][1] to access a [`RowSetFactory`][2] to produce an instance of an implementation of [`CachedRowSet`][3]\r\n\r\n    import javax.sql.rowset.*; \r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();\r\n        }\r\n    }\r\n\r\nTo understand that we can go to the module description (`module-info.java`) and find a list of exported packages:\r\n\r\n    exports javax.sql.rowset;\r\n    exports javax.sql.rowset.serial;\r\n    exports javax.sql.rowset.spi;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html","title":"JAVA ERROR : package com.sun.rowset is not visible : com.sun.rowset is declared in module java.sql.rowset, which does not export it","body":"<p>As of Java 9, you can not access this class directly. And in the ideal way you shouldn't do that. That is because this class's package is not exported in the module <code>javax.sql.rowset</code>.</p>\n<p>The proper way to do that in Java 9+ is the use of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\" rel=\"nofollow noreferrer\"><code>RowSetProvider</code></a> to access a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/RowSetFactory.html\" rel=\"nofollow noreferrer\"><code>RowSetFactory</code></a> to produce an instance of an implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>CachedRowSet</code></a></p>\n<pre><code>import javax.sql.rowset.*; \n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n\n        CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();\n    }\n}\n</code></pre>\n<p>To understand that we can go to the module description (<code>module-info.java</code>) and find a list of exported packages:</p>\n<pre><code>exports javax.sql.rowset;\nexports javax.sql.rowset.serial;\nexports javax.sql.rowset.spi;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9616241,"reputation":626,"user_id":7138917,"display_name":"Anj Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534971909,"creation_date":1534444023,"answer_id":51883267,"question_id":48129475,"body_markdown":"This should be used with Java 10 \r\n\r\nInstead of \r\n\r\n    CachedRowSet crs = new CachedRowSetImpl();\r\nuse \r\n\r\n    CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();","title":"JAVA ERROR : package com.sun.rowset is not visible : com.sun.rowset is declared in module java.sql.rowset, which does not export it","body":"<p>This should be used with Java 10 </p>\n\n<p>Instead of </p>\n\n<pre><code>CachedRowSet crs = new CachedRowSetImpl();\n</code></pre>\n\n<p>use </p>\n\n<pre><code>CachedRowSet crs = RowSetProvider.newFactory().createCachedRowSet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8757345,"reputation":718,"user_id":6548501,"display_name":"A248"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617561571,"creation_date":1617561571,"answer_id":66944657,"question_id":48129475,"body_markdown":"In addition to the answers here, it is important to note that you should *never* use `com.sun.rowset.CachedRowSetImpl`, even in Java 8.\r\n\r\nAs explained at [Are there any good CachedRowSet implementations other than the Sun one?](https://stackoverflow.com/questions/2228462/are-there-any-good-cachedrowset-implementations-other-than-the-proprietary-sun-o) , the `RowSetProvider` is the standard way to obtain a `CachedRowSet`.\r\n\r\nPackages from `sun` are [internal and subject to change](https://www.oracle.com/java/technologies/faq-sun-packages.html). They should never be used except by JDK developers.","title":"JAVA ERROR : package com.sun.rowset is not visible : com.sun.rowset is declared in module java.sql.rowset, which does not export it","body":"<p>In addition to the answers here, it is important to note that you should <em>never</em> use <code>com.sun.rowset.CachedRowSetImpl</code>, even in Java 8.</p>\n<p>As explained at <a href=\"https://stackoverflow.com/questions/2228462/are-there-any-good-cachedrowset-implementations-other-than-the-proprietary-sun-o\">Are there any good CachedRowSet implementations other than the Sun one?</a> , the <code>RowSetProvider</code> is the standard way to obtain a <code>CachedRowSet</code>.</p>\n<p>Packages from <code>sun</code> are <a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">internal and subject to change</a>. They should never be used except by JDK developers.</p>\n"}],"owner":{"account_id":3546244,"reputation":1966,"user_id":2962142,"accept_rate":67,"display_name":"user2962142"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11095,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":48129875,"answer_count":3,"score":11,"last_activity_date":1672706315,"creation_date":1515256876,"question_id":48129475,"body_markdown":"I&#39;m simply try to run this code:\r\n\r\n    import com.sun.rowset.CachedRowSetImpl;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception{\r\n            CachedRowSetImpl crs = new CachedRowSetImpl();\r\n        }\r\n    }\r\n\r\nWhen I run it I get: \r\n\r\n&gt; Error:(1, 15) java: package com.sun.rowset is not visible   (package\r\n&gt; com.sun.rowset is declared in module java.sql.rowset, which does not\r\n&gt; export it)\r\n\r\nI&#39;m using IntelliJ and I tried to import rs2xml.jar, and that still doesnt help.","title":"JAVA ERROR : package com.sun.rowset is not visible : com.sun.rowset is declared in module java.sql.rowset, which does not export it","body":"<p>I'm simply try to run this code:</p>\n\n<pre><code>import com.sun.rowset.CachedRowSetImpl;\n\npublic class Test {\n    public static void main(String[] args) throws Exception{\n        CachedRowSetImpl crs = new CachedRowSetImpl();\n    }\n}\n</code></pre>\n\n<p>When I run it I get: </p>\n\n<blockquote>\n  <p>Error:(1, 15) java: package com.sun.rowset is not visible   (package\n  com.sun.rowset is declared in module java.sql.rowset, which does not\n  export it)</p>\n</blockquote>\n\n<p>I'm using IntelliJ and I tried to import rs2xml.jar, and that still doesnt help.</p>\n"},{"tags":["java","generics","generic-programming"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1539267929,"post_id":52762417,"comment_id":92448066,"body_markdown":"`new resultClass.newInstance();` is not correct syntax","body":"<code>new resultClass.newInstance();</code> is not correct syntax"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1539333424,"post_id":52762417,"comment_id":92472788,"body_markdown":"Think what you want to achieve, a runtime ( where generics do not exist ) safe generic List, no way this is possible.","body":"Think what you want to achieve, a runtime ( where generics do not exist ) safe generic List, no way this is possible."}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"Frantiek Hartman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539270774,"creation_date":1539268730,"answer_id":52762814,"question_id":52762417,"body_markdown":"If you always return a list of items, then use `List&lt;T&gt;` as a return type:\r\n\r\n    public class Main {\r\n    \r\n        public static &lt;T&gt; List&lt;T&gt; executeGetRequest(String target, Class&lt;T&gt; resultClass) throws IllegalAccessException, InstantiationException {\r\n    \r\n            T item = resultClass.newInstance();\r\n            List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n            result.add(item);\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) throws InstantiationException, IllegalAccessException {\r\n            executeGetRequest(&quot;myList&quot;, Foo.class);\r\n        }\r\n    \r\n        static class Foo {\r\n    \r\n        }","title":"List of custom objects as argument with generic method","body":"<p>If you always return a list of items, then use <code>List&lt;T&gt;</code> as a return type:</p>\n\n<pre><code>public class Main {\n\n    public static &lt;T&gt; List&lt;T&gt; executeGetRequest(String target, Class&lt;T&gt; resultClass) throws IllegalAccessException, InstantiationException {\n\n        T item = resultClass.newInstance();\n        List&lt;T&gt; result = new ArrayList&lt;&gt;();\n        result.add(item);\n\n        return result;\n    }\n\n    public static void main(String[] args) throws InstantiationException, IllegalAccessException {\n        executeGetRequest(\"myList\", Foo.class);\n    }\n\n    static class Foo {\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1539272134,"post_id":52763075,"comment_id":92450799,"body_markdown":"*is no way to get what object types are in the List from List implementation*, of course there is, use `TypeToken`s","body":"<i>is no way to get what object types are in the List from List implementation</i>, of course there is, use <code>TypeToken</code>s"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1539286417,"post_id":52763075,"comment_id":92457979,"body_markdown":"@Eugene TypeToken from where? Google Gson? There is no such thing as TypeToken in JDK at least up to Java 1.8. I did not check higher. Still there is Type erasure: `System.out.println(((Type)new ArrayList&lt;String&gt;().getClass().getTypeParameters()[0].getBounds()[0]));` prints  `class java.lang.Object`","body":"@Eugene TypeToken from where? Google Gson? There is no such thing as TypeToken in JDK at least up to Java 1.8. I did not check higher. Still there is Type erasure: <code>System.out.println(((Type)new ArrayList&lt;String&gt;().getClass().getTypeParameters()[0].getBou&zwnj;&#8203;nds()[0]));</code> prints  <code>class java.lang.Object</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1539286635,"post_id":52763075,"comment_id":92458104,"body_markdown":"I was not saying in JDK, it&#39;s in guava, but of course it relies on jdk code, just that guava makes it a lot easier to use","body":"I was not saying in JDK, it&#39;s in guava, but of course it relies on jdk code, just that guava makes it a lot easier to use"}],"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539269466,"creation_date":1539269466,"answer_id":52763075,"question_id":52762417,"body_markdown":"Code is very broken...\r\n\r\n1. `List&lt;myCustomObject&gt;.class` is wrong it can be only `List.class`\r\n\r\n2. `List` is an Interface and call of `List.class.newInstance();` will throw an exception anyway\r\n\r\n3. Even if you will do code like:\r\n\r\n     `List&lt;myCustomClass&gt; myList = new ArrayList();\r\n      Object myResult = executeGetRequest(&quot;myList&quot;, myList.getClass());`\r\n \r\nYou will get back `myResult` as instance of `ArrayList` class...\r\n\r\nYou need to reconsider what do you try to achieve - get back a List of `myCustomClass` objects or new instance of `myCustomClass`\r\n\r\nBTW: at Runtime there is a &quot;Type erasure&quot; and there is no way to get what object types are in the `List` from `List` implementation. \r\n\r\nIn short at Runtime it is always `List&lt;Object&gt;`\r\n\r\n","title":"List of custom objects as argument with generic method","body":"<p>Code is very broken...</p>\n\n<ol>\n<li><p><code>List&lt;myCustomObject&gt;.class</code> is wrong it can be only <code>List.class</code></p></li>\n<li><p><code>List</code> is an Interface and call of <code>List.class.newInstance();</code> will throw an exception anyway</p></li>\n<li><p>Even if you will do code like:</p>\n\n<p><code>List&lt;myCustomClass&gt; myList = new ArrayList();\n  Object myResult = executeGetRequest(\"myList\", myList.getClass());</code></p></li>\n</ol>\n\n<p>You will get back <code>myResult</code> as instance of <code>ArrayList</code> class...</p>\n\n<p>You need to reconsider what do you try to achieve - get back a List of <code>myCustomClass</code> objects or new instance of <code>myCustomClass</code></p>\n\n<p>BTW: at Runtime there is a \"Type erasure\" and there is no way to get what object types are in the <code>List</code> from <code>List</code> implementation. </p>\n\n<p>In short at Runtime it is always <code>List&lt;Object&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539270793,"creation_date":1539270793,"answer_id":52763527,"question_id":52762417,"body_markdown":"Don&#39;t use a `Class&lt;T&gt;` argument, along with reflection (i.e. `Class.newInstance()`). Use a `Supplier&lt;T&gt;` instead:\r\n\r\n    public static &lt;T&gt; T executeGetRequest(String target, Supplier&lt;T&gt; factory) {\r\n\r\n        // MY STUFF\r\n\r\n        T result = factory.get();\r\n        return result;\r\n    }\r\n\r\nThen, invoke it as follows:\r\n\r\n    List&lt;myCustomObject&gt; result = executeGetRequest(&quot;myList&quot;, () -&gt; new ArrayList&lt;&gt;());\r\n\r\nYou can even use the diamond operator (`&lt;&gt;`) when creating the `ArrayList`, as this is infered from the left hand side by the compiler (i.e. `List&lt;myCustomObject&gt;`).\r\n\r\nYou can also use a method reference:\r\n\r\n    List&lt;myCustomObject&gt; result = executeGetRequest(&quot;myList&quot;, ArrayList::new);\r\n","title":"List of custom objects as argument with generic method","body":"<p>Don't use a <code>Class&lt;T&gt;</code> argument, along with reflection (i.e. <code>Class.newInstance()</code>). Use a <code>Supplier&lt;T&gt;</code> instead:</p>\n\n<pre><code>public static &lt;T&gt; T executeGetRequest(String target, Supplier&lt;T&gt; factory) {\n\n    // MY STUFF\n\n    T result = factory.get();\n    return result;\n}\n</code></pre>\n\n<p>Then, invoke it as follows:</p>\n\n<pre><code>List&lt;myCustomObject&gt; result = executeGetRequest(\"myList\", () -&gt; new ArrayList&lt;&gt;());\n</code></pre>\n\n<p>You can even use the diamond operator (<code>&lt;&gt;</code>) when creating the <code>ArrayList</code>, as this is infered from the left hand side by the compiler (i.e. <code>List&lt;myCustomObject&gt;</code>).</p>\n\n<p>You can also use a method reference:</p>\n\n<pre><code>List&lt;myCustomObject&gt; result = executeGetRequest(\"myList\", ArrayList::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16351912,"reputation":125,"user_id":11810194,"display_name":"andy489"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672705979,"creation_date":1672705979,"answer_id":74988161,"question_id":52762417,"body_markdown":"If using Spring:\r\n\r\n```java\r\nimport org.springframework.core.ParameterizedTypeReference;\r\n```\r\n\r\nand use\r\n\r\n```java\r\nexecuteGetRequest(&quot;myList&quot;, new ParameterizedTypeReference&lt;List&lt;MyCustomObject&gt;() {\r\n                });\r\n\r\n```\r\ninstead of \r\n```java\r\nexecuteGetRequest(&quot;myList&quot;, List&lt;myCustomObject&gt;.class);\r\n```","title":"List of custom objects as argument with generic method","body":"<p>If using Spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.core.ParameterizedTypeReference;\n</code></pre>\n<p>and use</p>\n<pre class=\"lang-java prettyprint-override\"><code>executeGetRequest(&quot;myList&quot;, new ParameterizedTypeReference&lt;List&lt;MyCustomObject&gt;() {\n                });\n\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>executeGetRequest(&quot;myList&quot;, List&lt;myCustomObject&gt;.class);\n</code></pre>\n"}],"owner":{"account_id":4668061,"reputation":2749,"user_id":3780625,"accept_rate":95,"display_name":"Maxouille"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1672705979,"creation_date":1539267482,"question_id":52762417,"body_markdown":"I&#39;m using generic methods in Java and I would like to use as argument a List of custom object.\r\n\r\nMy main class is this:\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static &lt;T&gt; T executeGetRequest(String target, Class&lt;T&gt; resultClass) {\r\n            \r\n            //MY STUFF\r\n            T result = resultClass.newInstance();\r\n            return result;\r\n        }\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t    executeGetRequest(&quot;myList&quot;, List&lt;myCustomObject&gt;.class); // ERROR HERE\r\n    \t}\r\n    }\r\n\r\nI would like to use as argument a `List&lt;myCustomeObject&gt;`. When I&#39;m using `List.class`, there is no error but I&#39;m not sure that the result will be cast in a `myCustomObject`.\r\n\r\n","title":"List of custom objects as argument with generic method","body":"<p>I'm using generic methods in Java and I would like to use as argument a List of custom object.</p>\n\n<p>My main class is this:</p>\n\n<pre><code>public class Main {\n\n    public static &lt;T&gt; T executeGetRequest(String target, Class&lt;T&gt; resultClass) {\n\n        //MY STUFF\n        T result = resultClass.newInstance();\n        return result;\n    }\n\n    public static void main(String[] args) {\n        executeGetRequest(\"myList\", List&lt;myCustomObject&gt;.class); // ERROR HERE\n    }\n}\n</code></pre>\n\n<p>I would like to use as argument a <code>List&lt;myCustomeObject&gt;</code>. When I'm using <code>List.class</code>, there is no error but I'm not sure that the result will be cast in a <code>myCustomObject</code>.</p>\n"},{"tags":["java","apache-commons-io"],"answers":[{"comments":[{"owner":{"account_id":20341903,"reputation":7,"user_id":14920898,"display_name":"Mattia Mc Roll"},"score":0,"creation_date":1672703358,"post_id":74984498,"comment_id":132331559,"body_markdown":"i tried increasing buffer size to 512K but it made no difference at all; i can&#39;t change DownloadCountingOutputStream method because i use it for traking download status, let me edit my question so that you can see","body":"i tried increasing buffer size to 512K but it made no difference at all; i can&#39;t change DownloadCountingOutputStream method because i use it for traking download status, let me edit my question so that you can see"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672710399,"post_id":74984498,"comment_id":132332475,"body_markdown":"Looking at `DownloadCountingOutputStream`, I am suspicious that that is the real cause of the performance issue.  Try an experiment.  Remove it anyway to see what happens.  &#39;Cos if you can&#39;t remove it, zero-copy won&#39;t work either.","body":"Looking at <code>DownloadCountingOutputStream</code>, I am suspicious that that is the real cause of the performance issue.  Try an experiment.  Remove it anyway to see what happens.  &#39;Cos if you can&#39;t remove it, zero-copy won&#39;t work either."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672676972,"creation_date":1672675052,"answer_id":74984498,"question_id":74983497,"body_markdown":"First, there are a couple of simple things you could try to speed up the transfers:\r\n\r\n  1. Try using a larger transfer buffer size.  Change the 8K buffer size to 64K or 512K.\r\n\r\n  2. Get rid of the `DownloadCountingOutputStream` and transfer directly to the `FileOutputStream`.  \r\n\r\nThese should be simple to try ... and they *may* help a bit.\r\n\r\n---------------------\r\n\r\nOn a Linux system, it may also be worthwhile to replace Apache `IOUtils.copy` call with code that uses the kernel&#39;s zero-copy transfer support.  See [Efficient data transfer through zero copy](https://developer.ibm.com/articles/j-zerocopy/) for an explanation.  \r\n\r\nThe example in the article is for uploading using `transferTo`, but downloading using `transferFrom` should be analogous.  The article claims a 65% speedup for large file transfers compared with conventional Java I/O.  But that is likely to depend on the characteristics of your network connection.","title":"File Downloader with Java Commons IO stuck at 1MB/s+","body":"<p>First, there are a couple of simple things you could try to speed up the transfers:</p>\n<ol>\n<li><p>Try using a larger transfer buffer size.  Change the 8K buffer size to 64K or 512K.</p>\n</li>\n<li><p>Get rid of the <code>DownloadCountingOutputStream</code> and transfer directly to the <code>FileOutputStream</code>.</p>\n</li>\n</ol>\n<p>These should be simple to try ... and they <em>may</em> help a bit.</p>\n<hr />\n<p>On a Linux system, it may also be worthwhile to replace Apache <code>IOUtils.copy</code> call with code that uses the kernel's zero-copy transfer support.  See <a href=\"https://developer.ibm.com/articles/j-zerocopy/\" rel=\"nofollow noreferrer\">Efficient data transfer through zero copy</a> for an explanation.</p>\n<p>The example in the article is for uploading using <code>transferTo</code>, but downloading using <code>transferFrom</code> should be analogous.  The article claims a 65% speedup for large file transfers compared with conventional Java I/O.  But that is likely to depend on the characteristics of your network connection.</p>\n"}],"owner":{"account_id":20341903,"reputation":7,"user_id":14920898,"display_name":"Mattia Mc Roll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672705961,"creation_date":1672669148,"question_id":74983497,"body_markdown":"Lately I&#39;ve been experimenting with Java and Commons IO trying to create a web file downloader, however I&#39;ve encountered a problem, in fact it seems that the file download speed does not exceed 1MB/s while the same download from the browser runs smoothly at 3MB /s. Could you help me? I would be really grateful.\r\n\r\nThis is my downloader code:\r\n```\r\npackage com.application.steammachine;\r\n\r\nimport com.github.junrar.Archive;\r\nimport com.github.junrar.Junrar;\r\nimport com.github.junrar.exception.RarException;\r\nimport com.github.junrar.rarfile.FileHeader;\r\nimport com.github.junrar.volume.FileVolumeManager;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.concurrent.Task;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.ini4j.Wini;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.*;\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\nimport java.net.URL;\r\n\r\npublic class Downloader extends Task&lt;Void&gt; {\r\n\r\n    private URL url;\r\n    private String fileName;\r\n    private Game game;\r\n\r\n    public Downloader(URL url, String fileName, Game game) {\r\n        this.url = url;\r\n        this.fileName = fileName;\r\n        this.game = game;\r\n    }\r\n\r\n    public class ProgressListener implements ActionListener {\r\n\r\n        private double bytes = 0;\r\n        private double mbDownloaded = 0;\r\n        private double fileSize = 0;\r\n        private double lastMB = 0;\r\n        private long initialTime;\r\n        private double speed = 0;\r\n        private String downloadedText = &quot;&quot;;\r\n        private String sizeText;\r\n\r\n        public ProgressListener(double fileSize){\r\n            this.fileSize = fileSize;\r\n            initialTime = System.nanoTime();\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            bytes = ((DownloadCountingOutputStream) e.getSource()).getByteCount();\r\n            updateProgress(bytes, fileSize);\r\n            mbDownloaded = round(bytes/1e+6, 2);\r\n\r\n            if(fileSize &gt;= 1073741824){ //&gt;= 1GB\r\n                double temp = ((fileSize/1e+6)/1024);\r\n                sizeText = round(temp,2) + &quot; GB&quot;;\r\n            }else {\r\n                double temp = (fileSize/1e+6);\r\n                sizeText = round(temp,2) + &quot; MB&quot;;\r\n            }\r\n\r\n            if(mbDownloaded &gt;= 1024){\r\n                downloadedText = String.valueOf(round(mbDownloaded/1024,2));\r\n            }else{\r\n                downloadedText = String.valueOf(mbDownloaded);\r\n            }\r\n\r\n            if((System.nanoTime() - initialTime) &gt;= (Math.pow(10, 9))){\r\n                speed = round((mbDownloaded - lastMB), 3);\r\n                initialTime = System.nanoTime();\r\n                lastMB = mbDownloaded;\r\n            }\r\n\r\n            updateMessage(String.valueOf(speed)+&quot;MB/s,&quot;+String.valueOf(downloadedText + &quot;/&quot; + sizeText));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected Void call() throws Exception {\r\n\r\n        URL dl = this.url;\r\n        File fl = null;\r\n        String x = null;\r\n        OutputStream os = null;\r\n        InputStream is = null;\r\n\r\n        try {\r\n\r\n            updateMessage(&quot;Searching files...,---/---&quot;);\r\n\r\n            fl = new File(Settings.getInstallPath() +&quot;/&quot;+ this.fileName);\r\n            os = new FileOutputStream(fl);\r\n            is = dl.openStream();\r\n\r\n            DownloadCountingOutputStream dcount = new DownloadCountingOutputStream(os);\r\n\r\n            double fileSize = Double.valueOf(dl.openConnection().getHeaderField(&quot;Content-Length&quot;));\r\n\r\n            ProgressListener progressListener = new ProgressListener(fileSize);\r\n            dcount.setListener(progressListener);\r\n\r\n            IOUtils.copy(is, dcount, 512000 );\r\n\r\n            updateMessage(&quot;Concluding...,Almost finished&quot;);\r\n\r\n        } catch (Exception e) {\r\n\r\n            System.out.println(e);\r\n            IOUtils.closeQuietly(os);\r\n            IOUtils.closeQuietly(is);\r\n            updateMessage(&quot;,&quot;);\r\n            this.cancel(true);\r\n            return null;\r\n\r\n        } finally {\r\n\r\n            IOUtils.closeQuietly(os);\r\n            IOUtils.closeQuietly(is);\r\n\r\n\r\n            updateMessage(&quot;,&quot;);\r\n            updateProgress(0, 0);\r\n            this.cancel(true);\r\n            return null;\r\n\r\n        }\r\n    }\r\n\r\n\r\n    protected static double round(double value, int places) {\r\n        if (places &lt; 0) throw new IllegalArgumentException();\r\n\r\n        BigDecimal bd = new BigDecimal(Double.toString(value));\r\n        bd = bd.setScale(places, RoundingMode.HALF_UP);\r\n        return bd.doubleValue();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the DownloadCountingOutputStream class, which i use for keeping track of the download status:\r\n```\r\nimport java.awt.event.ActionListener;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\n\r\npublic class DownloadCountingOutputStream extends CountingOutputStream {\r\n\r\n    private ActionListener listener = null;\r\n\r\n    public DownloadCountingOutputStream(OutputStream out) {\r\n        super(out);\r\n    }\r\n\r\n    public void setListener(ActionListener listener) {\r\n        this.listener = listener;\r\n    }\r\n\r\n    @Override\r\n    protected void afterWrite(int n) throws IOException {\r\n        super.afterWrite(n);\r\n        if (listener != null) {\r\n            listener.actionPerformed(new ActionEvent(this, 0, null));\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThanks in adavance","title":"File Downloader with Java Commons IO stuck at 1MB/s+","body":"<p>Lately I've been experimenting with Java and Commons IO trying to create a web file downloader, however I've encountered a problem, in fact it seems that the file download speed does not exceed 1MB/s while the same download from the browser runs smoothly at 3MB /s. Could you help me? I would be really grateful.</p>\n<p>This is my downloader code:</p>\n<pre><code>package com.application.steammachine;\n\nimport com.github.junrar.Archive;\nimport com.github.junrar.Junrar;\nimport com.github.junrar.exception.RarException;\nimport com.github.junrar.rarfile.FileHeader;\nimport com.github.junrar.volume.FileVolumeManager;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.concurrent.Task;\nimport org.apache.commons.io.IOUtils;\nimport org.ini4j.Wini;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.*;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\nimport java.net.URL;\n\npublic class Downloader extends Task&lt;Void&gt; {\n\n    private URL url;\n    private String fileName;\n    private Game game;\n\n    public Downloader(URL url, String fileName, Game game) {\n        this.url = url;\n        this.fileName = fileName;\n        this.game = game;\n    }\n\n    public class ProgressListener implements ActionListener {\n\n        private double bytes = 0;\n        private double mbDownloaded = 0;\n        private double fileSize = 0;\n        private double lastMB = 0;\n        private long initialTime;\n        private double speed = 0;\n        private String downloadedText = &quot;&quot;;\n        private String sizeText;\n\n        public ProgressListener(double fileSize){\n            this.fileSize = fileSize;\n            initialTime = System.nanoTime();\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            bytes = ((DownloadCountingOutputStream) e.getSource()).getByteCount();\n            updateProgress(bytes, fileSize);\n            mbDownloaded = round(bytes/1e+6, 2);\n\n            if(fileSize &gt;= 1073741824){ //&gt;= 1GB\n                double temp = ((fileSize/1e+6)/1024);\n                sizeText = round(temp,2) + &quot; GB&quot;;\n            }else {\n                double temp = (fileSize/1e+6);\n                sizeText = round(temp,2) + &quot; MB&quot;;\n            }\n\n            if(mbDownloaded &gt;= 1024){\n                downloadedText = String.valueOf(round(mbDownloaded/1024,2));\n            }else{\n                downloadedText = String.valueOf(mbDownloaded);\n            }\n\n            if((System.nanoTime() - initialTime) &gt;= (Math.pow(10, 9))){\n                speed = round((mbDownloaded - lastMB), 3);\n                initialTime = System.nanoTime();\n                lastMB = mbDownloaded;\n            }\n\n            updateMessage(String.valueOf(speed)+&quot;MB/s,&quot;+String.valueOf(downloadedText + &quot;/&quot; + sizeText));\n        }\n    }\n\n    @Override\n    protected Void call() throws Exception {\n\n        URL dl = this.url;\n        File fl = null;\n        String x = null;\n        OutputStream os = null;\n        InputStream is = null;\n\n        try {\n\n            updateMessage(&quot;Searching files...,---/---&quot;);\n\n            fl = new File(Settings.getInstallPath() +&quot;/&quot;+ this.fileName);\n            os = new FileOutputStream(fl);\n            is = dl.openStream();\n\n            DownloadCountingOutputStream dcount = new DownloadCountingOutputStream(os);\n\n            double fileSize = Double.valueOf(dl.openConnection().getHeaderField(&quot;Content-Length&quot;));\n\n            ProgressListener progressListener = new ProgressListener(fileSize);\n            dcount.setListener(progressListener);\n\n            IOUtils.copy(is, dcount, 512000 );\n\n            updateMessage(&quot;Concluding...,Almost finished&quot;);\n\n        } catch (Exception e) {\n\n            System.out.println(e);\n            IOUtils.closeQuietly(os);\n            IOUtils.closeQuietly(is);\n            updateMessage(&quot;,&quot;);\n            this.cancel(true);\n            return null;\n\n        } finally {\n\n            IOUtils.closeQuietly(os);\n            IOUtils.closeQuietly(is);\n\n\n            updateMessage(&quot;,&quot;);\n            updateProgress(0, 0);\n            this.cancel(true);\n            return null;\n\n        }\n    }\n\n\n    protected static double round(double value, int places) {\n        if (places &lt; 0) throw new IllegalArgumentException();\n\n        BigDecimal bd = new BigDecimal(Double.toString(value));\n        bd = bd.setScale(places, RoundingMode.HALF_UP);\n        return bd.doubleValue();\n    }\n\n}\n</code></pre>\n<p>This is the DownloadCountingOutputStream class, which i use for keeping track of the download status:</p>\n<pre><code>import java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class DownloadCountingOutputStream extends CountingOutputStream {\n\n    private ActionListener listener = null;\n\n    public DownloadCountingOutputStream(OutputStream out) {\n        super(out);\n    }\n\n    public void setListener(ActionListener listener) {\n        this.listener = listener;\n    }\n\n    @Override\n    protected void afterWrite(int n) throws IOException {\n        super.afterWrite(n);\n        if (listener != null) {\n            listener.actionPerformed(new ActionEvent(this, 0, null));\n        }\n    }\n\n}\n</code></pre>\n<p>Thanks in adavance</p>\n"},{"tags":["java","api","rest","server"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1672706030,"post_id":74988151,"comment_id":132331886,"body_markdown":"What happens if you use a modern, supported version of java? Does it work?","body":"What happens if you use a modern, supported version of java? Does it work?"},{"owner":{"account_id":27416043,"reputation":1,"user_id":20915206,"display_name":"lINA"},"score":0,"creation_date":1672706322,"post_id":74988151,"comment_id":132331925,"body_markdown":"I tried to switch to java 8 didn&#39;t noticed any differences","body":"I tried to switch to java 8 didn&#39;t noticed any differences"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1672706917,"post_id":74988151,"comment_id":132331988,"body_markdown":"How about Java 17?","body":"How about Java 17?"}],"owner":{"account_id":27416043,"reputation":1,"user_id":20915206,"display_name":"lINA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672705821,"creation_date":1672705821,"question_id":74988151,"body_markdown":"I am working on java 7 with TestNG rest assured framework and testing some server calls. Lately faced some exception while running my test. It is ignoring my test and throw below exception javax.net.ssl.SSLHandshakeException:Remote host terminated the handshake. \r\nI have tried to insert server certificate into java charsets, but it did not help at all.\r\nAlso provided TLSv1.3,TLSv1.2 to a protocol still not seeing results. What would be the possible causes and how to fix it? Thanks in advance!\r\n\r\nUnderstand the root of the problem and resolve it.","title":"How to resolve javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake exception","body":"<p>I am working on java 7 with TestNG rest assured framework and testing some server calls. Lately faced some exception while running my test. It is ignoring my test and throw below exception javax.net.ssl.SSLHandshakeException:Remote host terminated the handshake.\nI have tried to insert server certificate into java charsets, but it did not help at all.\nAlso provided TLSv1.3,TLSv1.2 to a protocol still not seeing results. What would be the possible causes and how to fix it? Thanks in advance!</p>\n<p>Understand the root of the problem and resolve it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672705216,"post_id":74988073,"comment_id":132331800,"body_markdown":"The context from your usage of &quot;c&quot; makes it clear to the compiler which one to use.","body":"The context from your usage of &quot;c&quot; makes it clear to the compiler which one to use."},{"owner":{"account_id":185495,"reputation":13440,"user_id":422252,"accept_rate":94,"display_name":"Lime"},"score":0,"creation_date":1672705807,"post_id":74988073,"comment_id":132331863,"body_markdown":"@Tom then why does the following work?  `import static a.b.c;import a.c;`","body":"@Tom then why does the following work?  <code>import static a.b.c;import a.c;</code>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672706437,"post_id":74988073,"comment_id":132331932,"body_markdown":"You have only one static &quot;thing&quot; named &quot;c&quot;. No static class with the name, thus fine. And you only have one class named &quot;c&quot;, thus &quot;import&quot; (without &quot;static&quot;) is fine as well. Also mind that an import doesn&#39;t really care about duplicate names. Its like an address and it doesn&#39;t care how many people with the same name are living there. _You_ with your calls need to make sure those aren&#39;t ambiguous, for example due to context, like in the example above.","body":"You have only one static &quot;thing&quot; named &quot;c&quot;. No static class with the name, thus fine. And you only have one class named &quot;c&quot;, thus &quot;import&quot; (without &quot;static&quot;) is fine as well. Also mind that an import doesn&#39;t really care about duplicate names. Its like an address and it doesn&#39;t care how many people with the same name are living there. <i>You</i> with your calls need to make sure those aren&#39;t ambiguous, for example due to context, like in the example above."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1672739478,"post_id":74988073,"comment_id":132337652,"body_markdown":"You can&#39;t. Don&#39;t choose names that collide.","body":"You can&#39;t. Don&#39;t choose names that collide."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672748383,"post_id":74988073,"comment_id":132340474,"body_markdown":"@Bohemian You can, the colliding names is not a problem here.","body":"@Bohemian You can, the colliding names is not a problem here."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672748445,"post_id":74988073,"comment_id":132340489,"body_markdown":"@Lime What is the actual question here? Why this code is allowed, i.e. why the imports are fine or do you actually want to know how to fix the error message you got? (which is a completely different issue)","body":"@Lime What is the actual question here? Why this code is allowed, i.e. why the imports are fine or do you actually want to know how to fix the error message you got? (which is a completely different issue)"}],"owner":{"account_id":185495,"reputation":13440,"user_id":422252,"accept_rate":94,"display_name":"Lime"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672705720,"creation_date":1672704433,"question_id":74988073,"body_markdown":"How can I have both a class and static function with the same name?\r\n\r\n**main.java**\r\n\r\n    import static a.b.c;\r\n    import a.b.c;\r\n    \r\n    public class main{\r\n      public static void main(String[] args){\r\n        c();\r\n        c c2 = new c();\r\n      }\r\n    }\r\n\r\n**a/b.java**\r\n\r\n    package a;\r\n\r\n    public class b{\r\n      public class c{\r\n       public c(){\r\n         System.out.println(&quot;new c&quot;);\r\n       }\r\n      }\r\n      public static void c(){\r\n        System.out.println(&quot;c&quot;);\r\n      }\r\n    }\r\n\r\nThe following currently throws an error with the following.\r\n\r\n    main.java:7: error: an enclosing instance that contains b.c is required\r\n        c c2 = new c();\r\n               ^\r\n    1 error\r\n\r\n","title":"How do I have both a static function and class with the same name imported?","body":"<p>How can I have both a class and static function with the same name?</p>\n<p><strong>main.java</strong></p>\n<pre><code>import static a.b.c;\nimport a.b.c;\n\npublic class main{\n  public static void main(String[] args){\n    c();\n    c c2 = new c();\n  }\n}\n</code></pre>\n<p><strong>a/b.java</strong></p>\n<pre><code>package a;\n\npublic class b{\n  public class c{\n   public c(){\n     System.out.println(&quot;new c&quot;);\n   }\n  }\n  public static void c(){\n    System.out.println(&quot;c&quot;);\n  }\n}\n</code></pre>\n<p>The following currently throws an error with the following.</p>\n<pre><code>main.java:7: error: an enclosing instance that contains b.c is required\n    c c2 = new c();\n           ^\n1 error\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672706466,"post_id":74988118,"comment_id":132331936,"body_markdown":"This probably isn&#39;t helpful at all, but it sounds like you are trying to recreate a tree diagram. EDIT - specifically, a JTree -- https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JTree.html","body":"This probably isn&#39;t helpful at all, but it sounds like you are trying to recreate a tree diagram. EDIT - specifically, a JTree -- <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JTree.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java&zwnj;&#8203;x/&hellip;</a>"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":1,"creation_date":1672707860,"post_id":74988118,"comment_id":132332132,"body_markdown":"@davidalayachew a `JTree` is not really what I am looking for since I want to change the GUI afterwards and add more elements to the expanded `JPanel`","body":"@davidalayachew a <code>JTree</code> is not really what I am looking for since I want to change the GUI afterwards and add more elements to the expanded <code>JPanel</code>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672708031,"post_id":74988118,"comment_id":132332162,"body_markdown":"Which is completely understandable. I figured that is why it wouldn&#39;t work. I will try my best to type up an answer to this. One sec.","body":"Which is completely understandable. I figured that is why it wouldn&#39;t work. I will try my best to type up an answer to this. One sec."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672708902,"post_id":74988118,"comment_id":132332276,"body_markdown":"Is there are a reason why you added scrolling functionality without using JScrollPane? Not having a default scrollbar is making this a lot harder to do","body":"Is there are a reason why you added scrolling functionality without using JScrollPane? Not having a default scrollbar is making this a lot harder to do"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":1,"creation_date":1672709762,"post_id":74988118,"comment_id":132332397,"body_markdown":"No, there isnt really a reason, but I definitely don&#39;t want to see a slider. I just assumed adding a JScrollPane will also add a Slider","body":"No, there isnt really a reason, but I definitely don&#39;t want to see a slider. I just assumed adding a JScrollPane will also add a Slider"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672711746,"post_id":74988118,"comment_id":132332668,"body_markdown":"Hmmmmm, this is getting very tricky then. Long story short, you are definitely not using the API the way it was meant to be. You essentially want all of the benefits of a JScrollPane, but with the scroll bars being invisible. And that is causing problems because the components you are using (your layout manager, your JFrame, etc) are making assumptions for you, thinking that you are using them correctly. As a result, it does things like move the view position back to the top. I&#39;m not sure I can help, but I will try some more.","body":"Hmmmmm, this is getting very tricky then. Long story short, you are definitely not using the API the way it was meant to be. You essentially want all of the benefits of a JScrollPane, but with the scroll bars being invisible. And that is causing problems because the components you are using (your layout manager, your JFrame, etc) are making assumptions for you, thinking that you are using them correctly. As a result, it does things like move the view position back to the top. I&#39;m not sure I can help, but I will try some more."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1672711793,"post_id":74988118,"comment_id":132332675,"body_markdown":"Why are you so opposed to having a Slider? Truthfully, what you are trying to do goes against the typical user experience. Is there a reason that you don&#39;t want to see one?","body":"Why are you so opposed to having a Slider? Truthfully, what you are trying to do goes against the typical user experience. Is there a reason that you don&#39;t want to see one?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672717415,"post_id":74988118,"comment_id":132333272,"body_markdown":"The OP is trying to create an [accordion component](https://en.wikipedia.org/wiki/Accordion_(GUI)).  JavaFX has an accordion component.","body":"The OP is trying to create an <a href=\"https://en.wikipedia.org/wiki/Accordion_(GUI)\" rel=\"nofollow noreferrer\">accordion component</a>.  JavaFX has an accordion component."},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":0,"creation_date":1672739696,"post_id":74988118,"comment_id":132337727,"body_markdown":"@GilbertLeBlanc Yes, but I dont want to build an entire GUI with a system I never used before for a project","body":"@GilbertLeBlanc Yes, but I dont want to build an entire GUI with a system I never used before for a project"},{"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"score":0,"creation_date":1672740521,"post_id":74988118,"comment_id":132337974,"body_markdown":"@davidalayachew the main reason for all these things is that I dont like the typical look of Java Swing components and I want to customize my own. I just thought building a simple Test class for Stackoverflow without the information baked into it makes things easier. I will happily use the JScollPane if there is a way of overwriting its default look and rather have my own. I did a quick google search and it looks like you can, so okay","body":"@davidalayachew the main reason for all these things is that I dont like the typical look of Java Swing components and I want to customize my own. I just thought building a simple Test class for Stackoverflow without the information baked into it makes things easier. I will happily use the JScollPane if there is a way of overwriting its default look and rather have my own. I did a quick google search and it looks like you can, so okay"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672777045,"post_id":74988118,"comment_id":132349451,"body_markdown":"Oh, then yes, fixing the L&amp;F is very easy to do. Comparatively, what you are trying to do here is like trying to swim upstream. Yes, I would avoid doing it this way if you are willing, and instead, focus on making your own custom look and feel. That is how most developers do it. A lot of GUI&#39;s made in Swing add a few custom components, and then completely overhaul the L&amp;F to be what they want. Sounds like you are going down the same path.","body":"Oh, then yes, fixing the L&amp;F is very easy to do. Comparatively, what you are trying to do here is like trying to swim upstream. Yes, I would avoid doing it this way if you are willing, and instead, focus on making your own custom look and feel. That is how most developers do it. A lot of GUI&#39;s made in Swing add a few custom components, and then completely overhaul the L&amp;F to be what they want. Sounds like you are going down the same path."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1672777081,"post_id":74988118,"comment_id":132349459,"body_markdown":"And btw, Java comes pre-built with a couple L&amp;F&#39;s. In the name of saving work, I would try them out before going any further.","body":"And btw, Java comes pre-built with a couple L&amp;F&#39;s. In the name of saving work, I would try them out before going any further."}],"owner":{"account_id":20965621,"reputation":256,"user_id":15403976,"display_name":"Lasnik"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672705280,"creation_date":1672705280,"question_id":74988118,"body_markdown":"I&#39;m trying to accomplish following:\r\n\r\nA `JPanel` (representing the container) including multiple `JPanels` which are including a `JButton` which - upon clicking - reveals another `JPanel` associated with the clicked `JButton`. When one of the `JPanels` expand, the other entries underneath it should dynamically change their position too. There should also be a scrolling functionality since each button has a fixed size (specified before launching the program) and it can&#39;t just change the button size to not overflow the `JPanel` with buttons. These overflows are typical here.\r\n\r\nIt should look something like this:\r\n\r\n[![what the result should be][1]][1]\r\n\r\nIn the following I am going through my code I already wrote which has some minor problems. For the sake of simple program reproduction, I put all my code into one `TextGui` class and every code block within this post just adds to that file.\r\n\r\n1. The `TestGui` `JFrame` and entry into the program, nothing peculiar about it.\r\n\r\n```\r\npublic class TestGui extends JFrame {\r\n    public static void main (String[] args) {\r\n        SwingUtilities.invokeLater(TestGui::new);\r\n    }\r\n\r\n    public TestGui() {\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLocationRelativeTo(null);\r\n        add(new ListPanelTest());\r\n        pack();\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n2. The `JPanel` which is basically the container for all the expandable `JPanels`. Has the task to store the panels inside, so that the `MouseWheelListener` can move them all. The movement works fine until an entry is expanded, the view snaps back to the top, but should of course be the same as before.\r\nThere is also the problem of resizing. Resizing the window reveals a fatal flaw, the `JButtons` are not directly underneath each other but are rather separated by white spaces where `JPanels` *could* be revealed.\r\n```\r\nclass ListPanelTest extends JPanel {\r\n    String[] entryTexts = {&quot;dropdown1:content1&quot;, &quot;dropdown2:content2&quot;, &quot;dropdown3:content3&quot;};\r\n    ArrayList&lt;EntryListPanelTest&gt; entryPanels;\r\n\r\n    public ListPanelTest(){\r\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n        entryPanels = new ArrayList&lt;&gt;();\r\n        for (String entryText: entryTexts) {\r\n            EntryListPanelTest entryListPanel = new EntryListPanelTest(entryText);\r\n            entryPanels.add(entryListPanel);\r\n            add(entryListPanel);\r\n        }\r\n\r\n        addMouseWheelListener(e -&gt; {\r\n            for (EntryListPanelTest entryPanel : entryPanels) {\r\n                entryPanel.setLocation(entryPanel.getX(), entryPanel.getY() - e.getWheelRotation() * 20);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n3. The last class should be self-explanatory. A `JButton` reveals (and hides) a `JPanel`. The only interesting part is the `BorderLayout.NORTH` and `BorderLayout.CENTER`. They are important to convey the `LayoutManager` in which order and where to position both entries.\r\n```\r\nclass EntryListPanelTest extends JPanel {\r\n    public EntryListPanelTest(String entryText){\r\n        String[] entryTextSplit = entryText.split(&quot;:&quot;);\r\n        setLayout(new BorderLayout());\r\n        JButton button = new JButton(entryTextSplit[0]);\r\n        JLabel label = new JLabel(entryTextSplit[1]);\r\n        label.setVisible(false);\r\n\r\n        add(button, BorderLayout.NORTH);\r\n        add(label, BorderLayout.CENTER);\r\n\r\n        button.addActionListener(e -&gt; label.setVisible(!label.isVisible()));\r\n    }\r\n}\r\n```\r\nThe program is already pretty close to what I am trying to archive but the points elucidated in 2 are really important. How can I stop snapping to the top upon reveal of some content? How can I get rid of spacing between unrevealed `JButtons` if the size is not the `packed()` size? And is there maybe an even simpler way to this behavior (but still without an additional library)? \r\n\r\n[1]: https://i.stack.imgur.com/frcec.png","title":"How can I create an expandable and scrollable list?","body":"<p>I'm trying to accomplish following:</p>\n<p>A <code>JPanel</code> (representing the container) including multiple <code>JPanels</code> which are including a <code>JButton</code> which - upon clicking - reveals another <code>JPanel</code> associated with the clicked <code>JButton</code>. When one of the <code>JPanels</code> expand, the other entries underneath it should dynamically change their position too. There should also be a scrolling functionality since each button has a fixed size (specified before launching the program) and it can't just change the button size to not overflow the <code>JPanel</code> with buttons. These overflows are typical here.</p>\n<p>It should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/frcec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frcec.png\" alt=\"what the result should be\" /></a></p>\n<p>In the following I am going through my code I already wrote which has some minor problems. For the sake of simple program reproduction, I put all my code into one <code>TextGui</code> class and every code block within this post just adds to that file.</p>\n<ol>\n<li>The <code>TestGui</code> <code>JFrame</code> and entry into the program, nothing peculiar about it.</li>\n</ol>\n<pre><code>public class TestGui extends JFrame {\n    public static void main (String[] args) {\n        SwingUtilities.invokeLater(TestGui::new);\n    }\n\n    public TestGui() {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        add(new ListPanelTest());\n        pack();\n        setVisible(true);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>The <code>JPanel</code> which is basically the container for all the expandable <code>JPanels</code>. Has the task to store the panels inside, so that the <code>MouseWheelListener</code> can move them all. The movement works fine until an entry is expanded, the view snaps back to the top, but should of course be the same as before.\nThere is also the problem of resizing. Resizing the window reveals a fatal flaw, the <code>JButtons</code> are not directly underneath each other but are rather separated by white spaces where <code>JPanels</code> <em>could</em> be revealed.</li>\n</ol>\n<pre><code>class ListPanelTest extends JPanel {\n    String[] entryTexts = {&quot;dropdown1:content1&quot;, &quot;dropdown2:content2&quot;, &quot;dropdown3:content3&quot;};\n    ArrayList&lt;EntryListPanelTest&gt; entryPanels;\n\n    public ListPanelTest(){\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        entryPanels = new ArrayList&lt;&gt;();\n        for (String entryText: entryTexts) {\n            EntryListPanelTest entryListPanel = new EntryListPanelTest(entryText);\n            entryPanels.add(entryListPanel);\n            add(entryListPanel);\n        }\n\n        addMouseWheelListener(e -&gt; {\n            for (EntryListPanelTest entryPanel : entryPanels) {\n                entryPanel.setLocation(entryPanel.getX(), entryPanel.getY() - e.getWheelRotation() * 20);\n            }\n        });\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>The last class should be self-explanatory. A <code>JButton</code> reveals (and hides) a <code>JPanel</code>. The only interesting part is the <code>BorderLayout.NORTH</code> and <code>BorderLayout.CENTER</code>. They are important to convey the <code>LayoutManager</code> in which order and where to position both entries.</li>\n</ol>\n<pre><code>class EntryListPanelTest extends JPanel {\n    public EntryListPanelTest(String entryText){\n        String[] entryTextSplit = entryText.split(&quot;:&quot;);\n        setLayout(new BorderLayout());\n        JButton button = new JButton(entryTextSplit[0]);\n        JLabel label = new JLabel(entryTextSplit[1]);\n        label.setVisible(false);\n\n        add(button, BorderLayout.NORTH);\n        add(label, BorderLayout.CENTER);\n\n        button.addActionListener(e -&gt; label.setVisible(!label.isVisible()));\n    }\n}\n</code></pre>\n<p>The program is already pretty close to what I am trying to archive but the points elucidated in 2 are really important. How can I stop snapping to the top upon reveal of some content? How can I get rid of spacing between unrevealed <code>JButtons</code> if the size is not the <code>packed()</code> size? And is there maybe an even simpler way to this behavior (but still without an additional library)?</p>\n"},{"tags":["java","spring","mongodb","hibernate","spring-data-mongodb"],"comments":[{"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"score":3,"creation_date":1511164840,"post_id":47387143,"comment_id":81727728,"body_markdown":"the variable name is `OpenHourfrom` in field definition. change that to `openHourfrom`\n\nor rename the parameter in the constructor!","body":"the variable name is <code>OpenHourfrom</code> in field definition. change that to <code>openHourfrom</code>  or rename the parameter in the constructor!"},{"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"score":1,"creation_date":1511165975,"post_id":47387143,"comment_id":81728240,"body_markdown":"@enator Your&#39; right! simply That was the problem! I wonder how stupid I was!","body":"@enator Your&#39; right! simply That was the problem! I wonder how stupid I was!"}],"answers":[{"comments":[{"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"score":0,"creation_date":1514962873,"post_id":48039887,"comment_id":83118840,"body_markdown":"As @enator stated in his comment, my problem solved by simply camel cased field.","body":"As @enator stated in his comment, my problem solved by simply camel cased field."}],"tags":[],"owner":{"display_name":"user486631"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588880803,"creation_date":1514693059,"answer_id":48039887,"question_id":47387143,"body_markdown":" 1. Use `import org.springframework.data.mongodb.core.mapping.Field;`\r\n`@Field` annotaion for each filed \r\n\r\n 2. Check constuctor of entity class and make sure parameter names are correct","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<ol>\n<li><p>Use <code>import org.springframework.data.mongodb.core.mapping.Field;</code>\n<code>@Field</code> annotaion for each filed </p></li>\n<li><p>Check constuctor of entity class and make sure parameter names are correct</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5279842,"reputation":21,"user_id":4215582,"display_name":"Adrian Romero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616021030,"creation_date":1616020698,"answer_id":66682248,"question_id":47387143,"body_markdown":"The MongoRepository defined custom query methods use the constructor parameter names for locate the property to use in search, so this parameters names must be have the same same as the Document entity properties.","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<p>The MongoRepository defined custom query methods use the constructor parameter names for locate the property to use in search, so this parameters names must be have the same same as the Document entity properties.</p>\n"},{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635945019,"creation_date":1635945019,"answer_id":69825437,"question_id":47387143,"body_markdown":"Although not applicable to the subject of this topic, in some cases, adding no args constructor to the document entity will solve this error.","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<p>Although not applicable to the subject of this topic, in some cases, adding no args constructor to the document entity will solve this error.</p>\n"},{"tags":[],"owner":{"account_id":4169555,"reputation":75,"user_id":3417684,"accept_rate":100,"display_name":"chef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660427543,"creation_date":1660427543,"answer_id":73347843,"question_id":47387143,"body_markdown":"my problem was, that I set a property inside the entity by\r\n\r\n    ticker.setLastPrice(new LastPriceDbo() {{ setPrice(...) }}\r\n\r\nwhen I changed to\r\n\r\n    var lastPrice = new LastPriceDbo();\r\n    lastPrice.setPrice(...)\r\n    ticker.setLastPrice(lastPrice);\r\n\r\nit worked","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<p>my problem was, that I set a property inside the entity by</p>\n<pre><code>ticker.setLastPrice(new LastPriceDbo() {{ setPrice(...) }}\n</code></pre>\n<p>when I changed to</p>\n<pre><code>var lastPrice = new LastPriceDbo();\nlastPrice.setPrice(...)\nticker.setLastPrice(lastPrice);\n</code></pre>\n<p>it worked</p>\n"},{"tags":[],"owner":{"account_id":21159065,"reputation":21,"user_id":15557706,"display_name":"Alireza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670063377,"creation_date":1670062968,"answer_id":74665808,"question_id":47387143,"body_markdown":"For some people in the future (Dec 2022).\r\n\r\nAs someone mentioned before:\r\n,,The MongoRepository defined custom query methods use the constructor parameter names for locate the property to use in search, so this parameters names must be have the same same as the Document entity properties.&quot;\r\n\r\nExample:\r\n\r\n    @Data                           //Lombok creates constructor and Getter/Setter methods\r\n    @Document()                     //User is Collection class\r\n    public class User {\r\n     @Id\r\n     private String id;\r\n     private Gender Gender;\r\n     \r\n     public User(Gender Gender) {\r\n            this.Gender = Gender;\r\n    }}\r\n\r\nNormally IntelliJ creates the constructur with lowercase parameter like\r\n\r\n    User(Gender gender){\r\n      Gender = gender;\r\n    }\r\n\r\n\r\nChange it to this, because in this case the entity name &quot;Gender&quot; in User class is in uppercase, so the Parameter should also be in uppercase, for some reason.\r\n\r\n    User(Gender Gender){\r\n      this.Gender = Gender;\r\n    }\r\n\r\n    public enum Gender {\r\n        MALE, FEMALE\r\n    }\r\n\r\nThis problem doesn&#39;t show up when I was creating the user, only if my\r\nservice was using MongoRepository:\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class UserService {\r\n        private final UserRepository userRepository;\r\n        public List&lt;User&gt; getAllUser() {\r\n            return userRepository.findAll();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    public interface UserRepository  extends MongoRepository&lt;User, String&gt; {\r\n        //Optional&lt;User&gt; findUserByEmail(String email);\r\n    }\r\n\r\n\r\nThis was my case, maybe you have some other problems.\r\nKeep going buddys.","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<p>For some people in the future (Dec 2022).</p>\n<p>As someone mentioned before:\n,,The MongoRepository defined custom query methods use the constructor parameter names for locate the property to use in search, so this parameters names must be have the same same as the Document entity properties.&quot;</p>\n<p>Example:</p>\n<pre><code>@Data                           //Lombok creates constructor and Getter/Setter methods\n@Document()                     //User is Collection class\npublic class User {\n @Id\n private String id;\n private Gender Gender;\n \n public User(Gender Gender) {\n        this.Gender = Gender;\n}}\n</code></pre>\n<p>Normally IntelliJ creates the constructur with lowercase parameter like</p>\n<pre><code>User(Gender gender){\n  Gender = gender;\n}\n</code></pre>\n<p>Change it to this, because in this case the entity name &quot;Gender&quot; in User class is in uppercase, so the Parameter should also be in uppercase, for some reason.</p>\n<pre><code>User(Gender Gender){\n  this.Gender = Gender;\n}\n\npublic enum Gender {\n    MALE, FEMALE\n}\n</code></pre>\n<p>This problem doesn't show up when I was creating the user, only if my\nservice was using MongoRepository:</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class UserService {\n    private final UserRepository userRepository;\n    public List&lt;User&gt; getAllUser() {\n        return userRepository.findAll();\n    }\n}\n\n\n\n\npublic interface UserRepository  extends MongoRepository&lt;User, String&gt; {\n    //Optional&lt;User&gt; findUserByEmail(String email);\n}\n</code></pre>\n<p>This was my case, maybe you have some other problems.\nKeep going buddys.</p>\n"}],"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15181,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1672704401,"creation_date":1511163706,"question_id":47387143,"body_markdown":"I developed my project with spring data mongodb, and used to have this document:\r\n\r\n    @Document(collection=&quot;Instrument&quot;)\r\n    public class Instrument {\r\n\t@Id\r\n\tprivate Integer id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tprivate String internalCode;\r\n\t\r\n\tprivate String fosMarketId;\r\n\t\r\n\tprivate String localCode;\r\n\r\n    //setters...getters... and constructurs....\r\n\r\nNow I need to add some property to my document as bellow:\r\n\r\n    ....\r\n\r\n    private Long from;\r\n\t\r\n\tprivate Long to;\r\n\r\n\tprivate Long OpenHourfrom;\r\n\t\r\n\tprivate Long OpenHourTo;\r\n\t\r\n\tprivate Boolean isActive;\r\n\r\n    //setters...getters... and constructurs....\r\n\r\nso I have this new constructor:\r\n\r\n    \t@PersistenceConstructor\r\n\tpublic Instrument(Integer id, String name, String internalCode, String fosMarketId, String localCode, Long from,\r\n\t\t\tLong to, Long openHourfrom, Long openHourTo, Boolean isActive) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.internalCode = internalCode;\r\n\t\tthis.fosMarketId = fosMarketId;\r\n\t\tthis.localCode = localCode;\r\n\t\tthis.from = from;\r\n\t\tthis.to = to;\r\n\t\tthis.OpenHourfrom = openHourfrom;\r\n\t\tthis.OpenHourTo = openHourTo;\r\n\t\tthis.isActive = isActive;\r\n\t}\r\n\r\nbut when I run one of repo methods this exception had thrown:\r\n\r\n    \r\n    org.springframework.data.mapping.model.MappingException: No property openHourfrom found on entity class com.tosan.entity.Instrument to bind constructor parameter to!\r\n\tat org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:74)\r\n\tat ....\r\n\r\nNote that I use spring-confix.xml with bellow settings:\r\n\r\n    \t&lt;mongo:mongo-client \r\n \t\thost=&quot;IP&quot; port=&quot;Port&quot;  &gt;\r\n    &lt;mongo:client-options write-concern=&quot;NORMAL&quot; \r\n\t\t\t\tconnections-per-host=&quot;1000&quot;\r\n\t\t\t\t\tthreads-allowed-to-block-for-connection-multiplier=&quot;600&quot;\r\n\t\t\t\t\tconnect-timeout=&quot;10000&quot;\r\n\t\t\t\t\tmax-wait-time=&quot;15000&quot;\t\t\t\t\t\r\n\t\t\t\t\tsocket-keep-alive=&quot;true&quot;\r\n\t\t\t\t\tsocket-timeout=&quot;15000&quot;\r\n\t\t/&gt;\r\n\t&lt;/mongo:mongo-client&gt;\r\n\r\nI wonder how can I set auto update property of hibernate spring to true, so that I could update my document and add new properties.","title":"MappingException: &quot;No property found on entity to bind constructor parameter to&quot;?","body":"<p>I developed my project with spring data mongodb, and used to have this document:</p>\n\n<pre><code>@Document(collection=\"Instrument\")\npublic class Instrument {\n@Id\nprivate Integer id;\n\nprivate String name;\n\nprivate String internalCode;\n\nprivate String fosMarketId;\n\nprivate String localCode;\n\n//setters...getters... and constructurs....\n</code></pre>\n\n<p>Now I need to add some property to my document as bellow:</p>\n\n<pre><code>....\n\nprivate Long from;\n\nprivate Long to;\n\nprivate Long OpenHourfrom;\n\nprivate Long OpenHourTo;\n\nprivate Boolean isActive;\n\n//setters...getters... and constructurs....\n</code></pre>\n\n<p>so I have this new constructor:</p>\n\n<pre><code>    @PersistenceConstructor\npublic Instrument(Integer id, String name, String internalCode, String fosMarketId, String localCode, Long from,\n        Long to, Long openHourfrom, Long openHourTo, Boolean isActive) {\n    super();\n    this.id = id;\n    this.name = name;\n    this.internalCode = internalCode;\n    this.fosMarketId = fosMarketId;\n    this.localCode = localCode;\n    this.from = from;\n    this.to = to;\n    this.OpenHourfrom = openHourfrom;\n    this.OpenHourTo = openHourTo;\n    this.isActive = isActive;\n}\n</code></pre>\n\n<p>but when I run one of repo methods this exception had thrown:</p>\n\n<pre><code>org.springframework.data.mapping.model.MappingException: No property openHourfrom found on entity class com.tosan.entity.Instrument to bind constructor parameter to!\nat org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:74)\nat ....\n</code></pre>\n\n<p>Note that I use spring-confix.xml with bellow settings:</p>\n\n<pre><code>    &lt;mongo:mongo-client \n    host=\"IP\" port=\"Port\"  &gt;\n&lt;mongo:client-options write-concern=\"NORMAL\" \n            connections-per-host=\"1000\"\n                threads-allowed-to-block-for-connection-multiplier=\"600\"\n                connect-timeout=\"10000\"\n                max-wait-time=\"15000\"                   \n                socket-keep-alive=\"true\"\n                socket-timeout=\"15000\"\n    /&gt;\n&lt;/mongo:mongo-client&gt;\n</code></pre>\n\n<p>I wonder how can I set auto update property of hibernate spring to true, so that I could update my document and add new properties.</p>\n"},{"tags":["java","http","servlets","polarion"],"answers":[{"comments":[{"owner":{"account_id":25183619,"reputation":407,"user_id":19698303,"display_name":"baitendbidz"},"score":0,"creation_date":1673622130,"post_id":74983557,"comment_id":132547147,"body_markdown":"Do you know if it&#39;s possible to use a proxy endpoint for this? Client sends request to servlet =&gt; servlet proxies the request to another server and this server streams the response back to the client","body":"Do you know if it&#39;s possible to use a proxy endpoint for this? Client sends request to servlet =&gt; servlet proxies the request to another server and this server streams the response back to the client"}],"tags":[],"owner":{"account_id":11732452,"reputation":21,"user_id":8587449,"display_name":"Sergey Grigoriev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672704303,"creation_date":1672669503,"answer_id":74983557,"question_id":74219380,"body_markdown":"Servlet output stream will be closed after the service method is finished.\r\n\r\nYou can find more details about `HttpServlet`&#39;s life cycle here: https://stackoverflow.com/questions/3894088/what-is-the-lifecycle-of-a-httpservlet","title":"prevent HttpServletResponse OutputStream to close after get/post/service (Polarion)","body":"<p>Servlet output stream will be closed after the service method is finished.</p>\n<p>You can find more details about <code>HttpServlet</code>'s life cycle here: <a href=\"https://stackoverflow.com/questions/3894088/what-is-the-lifecycle-of-a-httpservlet\">What is the lifecycle of a HttpServlet?</a></p>\n"}],"owner":{"account_id":26746823,"reputation":31,"user_id":20346784,"display_name":"cfhenk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672704303,"creation_date":1666861279,"question_id":74219380,"body_markdown":"I am developing a HttpServlet (javax.servlet.http.HttpServlet) for Polarion ALM and I want to keep the connection/outputstream to a client open with a periodic ping written on it even after the service method has concluded.\r\n\r\n\r\n```\r\npublic class CustomServlet extends HttpServlet {\r\n[...]\r\n\t@Override\r\n\tprotected void service(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n        [...]\r\n        response.setStatus(200);\r\n        response.setContentType(&quot;application/x-ndjson&quot;);\r\n        ExperimentalPingThread thread = new ExperimentalPingThread();\r\n        thread.setOut(response.getOutputStream())\r\n        Thread t = new Thread(thread);\r\n        t.start();\r\n        return;\r\n        }\r\n[...]\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\npublic class ExperimentalPingThread implements Runnable {\r\n\r\n\tServletOutputStream out;\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tJSONObject configJson = new JSONObject();\r\n\t\tconfigJson.put(&quot;type&quot;, &quot;ping&quot;);\r\n\t\tconfigJson.put(&quot;payload&quot;, new JSONObject());\r\n\t\tString outString = configJson.toString() + &quot;\\n&quot;;\r\n\r\n\t\tTimer timer = new Timer();\r\n\t\tTimerTask task = new TimerTask() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;sending Ping: &quot; + outString);\r\n\t\t\t\ttry {\t\t\t\t\t\r\n\t\t\t\t\tout.write(outString.getBytes());\r\n\t\t\t\t\tout.flush();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\ttimer.schedule( task, 0L ,1000L);\r\n\t}\r\n\r\n\tpublic void setOut(ServletOutputStream out) {\r\n\t\tthis.out = out;\r\n\t}\r\n}\r\n```\r\n\r\nI am aware that the ExperimentalPingThread class is kinda redundant because the Timer class itself is creating a new Thread aswell but as you can see from this class name, this is currently in an &quot;experimental&quot; state.\r\n\r\n\r\nThe client (Browser accessing a Polarion LiveReportPage) seems to not receive the periodic ping written into the outputstream. After investigating the frontend side it seems that the OutputStream has been closed right after the service methode has &quot;concluded&quot; so the ping never reaches the client.\r\n\r\nIs there some HttpServlet LifeCycle that forces a close and am I able to manipulate this?","title":"prevent HttpServletResponse OutputStream to close after get/post/service (Polarion)","body":"<p>I am developing a HttpServlet (javax.servlet.http.HttpServlet) for Polarion ALM and I want to keep the connection/outputstream to a client open with a periodic ping written on it even after the service method has concluded.</p>\n<pre><code>public class CustomServlet extends HttpServlet {\n[...]\n    @Override\n    protected void service(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        [...]\n        response.setStatus(200);\n        response.setContentType(&quot;application/x-ndjson&quot;);\n        ExperimentalPingThread thread = new ExperimentalPingThread();\n        thread.setOut(response.getOutputStream())\n        Thread t = new Thread(thread);\n        t.start();\n        return;\n        }\n[...]\n}\n</code></pre>\n<pre><code>public class ExperimentalPingThread implements Runnable {\n\n    ServletOutputStream out;\n\n    @Override\n    public void run() {\n        JSONObject configJson = new JSONObject();\n        configJson.put(&quot;type&quot;, &quot;ping&quot;);\n        configJson.put(&quot;payload&quot;, new JSONObject());\n        String outString = configJson.toString() + &quot;\\n&quot;;\n\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {\n            public void run() {\n                System.out.println(&quot;sending Ping: &quot; + outString);\n                try {                   \n                    out.write(outString.getBytes());\n                    out.flush();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        };\n        timer.schedule( task, 0L ,1000L);\n    }\n\n    public void setOut(ServletOutputStream out) {\n        this.out = out;\n    }\n}\n</code></pre>\n<p>I am aware that the ExperimentalPingThread class is kinda redundant because the Timer class itself is creating a new Thread aswell but as you can see from this class name, this is currently in an &quot;experimental&quot; state.</p>\n<p>The client (Browser accessing a Polarion LiveReportPage) seems to not receive the periodic ping written into the outputstream. After investigating the frontend side it seems that the OutputStream has been closed right after the service methode has &quot;concluded&quot; so the ping never reaches the client.</p>\n<p>Is there some HttpServlet LifeCycle that forces a close and am I able to manipulate this?</p>\n"},{"tags":["java","spring-boot","docker","dockerfile","environment-variables"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672703552,"post_id":74987993,"comment_id":132331578,"body_markdown":"&quot;*I&#39;m guessing System.getenv(&quot;API_KEY&quot;) does not work in containers.*&quot; - It does work. --- Why should `System.out.println(test)`print the environment variable `API_KEY`? Please [edit] the post and add your `application.properties`.","body":"&quot;<i>I&#39;m guessing System.getenv(&quot;API_KEY&quot;) does not work in containers.</i>&quot; - It does work. --- Why should <code>System.out.println(test)</code>print the environment variable <code>API_KEY</code>? Please <a href=\"https://stackoverflow.com/posts/74987993/edit\">edit</a> the post and add your <code>application.properties</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672703722,"post_id":74987993,"comment_id":132331600,"body_markdown":"I strongly suggest to not hard-code the API Key as environment variable in the container image (for security reasons). We can always override/set environment variables in docker with `docker run -e &quot;&lt;ENV_VAR_NAME&gt;=&lt;value&gt;&quot; ...`","body":"I strongly suggest to not hard-code the API Key as environment variable in the container image (for security reasons). We can always override/set environment variables in docker with <code>docker run -e &quot;&lt;ENV_VAR_NAME&gt;=&lt;value&gt;&quot; ...</code>"},{"owner":{"account_id":27415836,"reputation":1,"user_id":20915041,"display_name":"bjcad14"},"score":0,"creation_date":1672704346,"post_id":74987993,"comment_id":132331683,"body_markdown":"I got the same error, is it possible to pass in an environment varibale when I build the image?","body":"I got the same error, is it possible to pass in an environment varibale when I build the image?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672704588,"post_id":74987993,"comment_id":132331717,"body_markdown":"Again: there is no reason why property `test.name` should be bound to environment variable `${API_KEY}`, at least none I can see. We normally bind properties to environment variables with the following syntax in `application.properties`: `test.name=${API_KEY:optional-default-value}`. This is why I asked you to post your `application.properties`.","body":"Again: there is no reason why property <code>test.name</code> should be bound to environment variable <code>${API_KEY}</code>, at least none I can see. We normally bind properties to environment variables with the following syntax in <code>application.properties</code>: <code>test.name=${API_KEY:optional-default-value}</code>. This is why I asked you to post your <code>application.properties</code>."},{"owner":{"account_id":27415836,"reputation":1,"user_id":20915041,"display_name":"bjcad14"},"score":0,"creation_date":1672705362,"post_id":74987993,"comment_id":132331810,"body_markdown":"It was literally just ```test.name=testName```","body":"It was literally just <code>test.name=testName</code>"},{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":0,"creation_date":1672707231,"post_id":74987993,"comment_id":132332043,"body_markdown":"I&#39;m a little confused by your dockerfile, do you try to take an env variable from the builder system into your docker file? if so this won&#39;t work (and doesn&#39;t make much sense to me). you better be using -e in your running command. also, you can always check inside if the variable is sourced or not using an interactive shell","body":"I&#39;m a little confused by your dockerfile, do you try to take an env variable from the builder system into your docker file? if so this won&#39;t work (and doesn&#39;t make much sense to me). you better be using -e in your running command. also, you can always check inside if the variable is sourced or not using an interactive shell"},{"owner":{"account_id":27415836,"reputation":1,"user_id":20915041,"display_name":"bjcad14"},"score":0,"creation_date":1672796443,"post_id":74987993,"comment_id":132353156,"body_markdown":"Thank you! I will try that, I just saw this on sample Dockerfiles and assumed that&#39;s how it would work","body":"Thank you! I will try that, I just saw this on sample Dockerfiles and assumed that&#39;s how it would work"}],"owner":{"account_id":27415836,"reputation":1,"user_id":20915041,"display_name":"bjcad14"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672703436,"creation_date":1672703436,"question_id":74987993,"body_markdown":"I created an spring boot application that makes API calls. I have been given an API key that I added to my system environment variables as API_KEY\r\n\r\nAt first, I had my urls as \r\n*String uri = &quot;http://api-site.com/.../key=&quot;+**System.getenv(&quot;API_KEY&quot;)**+&quot;&amp;...&quot;*\r\nand this works just fine when I run it locally.\r\n\r\nHowever, when I build and run the image, I get 403 error. \r\nMy Dockerfile looks like:\r\n\r\n```\r\nFROM maven:3.5.4-jdk-8-alpine AS builder\r\n\r\nCOPY pom.xml pom.xml\r\nCOPY src/ src/\r\n\r\nRUN mvn clean package\r\n\r\nFROM openjdk:11 AS runner\r\n\r\n**ENV API_KEY $API_KEY**\r\n\r\nEXPOSE 8080\r\n\r\nCOPY --from=builder target/app-0.0.1.jar app.jar\r\n\r\nENTRYPOINT [ &quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot; ]\r\n```\r\n\r\n\r\n\r\nI&#39;m guessing System.getenv(&quot;API_KEY&quot;) does not work in containers.\r\nIs there a way to get it to work?\r\n\r\nI&#39;ve tried the other syntax for the environment variable in the Dockerfile: ENV API_KEY=${API_KEY}\r\n\r\nI have also tried using application.properties but I have not been able to get that to work (this might need to be a whole other question). I can&#39;t even get test variables to print. \r\nI have test.name=testname in applications.properties\r\nIn a class I have:\r\n\r\n\r\n\r\n```\r\n@Component\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class AC {\r\n    @Value(&quot;${test.name}&quot;)\r\n    public String test;\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(test);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis just prints out null every time.\r\n\r\nThank you in advance!","title":"Spring Boot: can&#39;t get API key into the docker container","body":"<p>I created an spring boot application that makes API calls. I have been given an API key that I added to my system environment variables as API_KEY</p>\n<p>At first, I had my urls as\n<em>String uri = &quot;http://api-site.com/.../key=&quot;+<strong>System.getenv(&quot;API_KEY&quot;)</strong>+&quot;&amp;...&quot;</em>\nand this works just fine when I run it locally.</p>\n<p>However, when I build and run the image, I get 403 error.\nMy Dockerfile looks like:</p>\n<pre><code>FROM maven:3.5.4-jdk-8-alpine AS builder\n\nCOPY pom.xml pom.xml\nCOPY src/ src/\n\nRUN mvn clean package\n\nFROM openjdk:11 AS runner\n\n**ENV API_KEY $API_KEY**\n\nEXPOSE 8080\n\nCOPY --from=builder target/app-0.0.1.jar app.jar\n\nENTRYPOINT [ &quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot; ]\n</code></pre>\n<p>I'm guessing System.getenv(&quot;API_KEY&quot;) does not work in containers.\nIs there a way to get it to work?</p>\n<p>I've tried the other syntax for the environment variable in the Dockerfile: ENV API_KEY=${API_KEY}</p>\n<p>I have also tried using application.properties but I have not been able to get that to work (this might need to be a whole other question). I can't even get test variables to print.\nI have test.name=testname in applications.properties\nIn a class I have:</p>\n<pre><code>@Component\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class AC {\n    @Value(&quot;${test.name}&quot;)\n    public String test;\n\n    public static void main(String[] args){\n        System.out.println(test);\n    }\n}\n</code></pre>\n<p>This just prints out null every time.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"score":2,"creation_date":1371034616,"post_id":17063690,"comment_id":24674784,"body_markdown":"Why don&#39;t you use [Gson](https://code.google.com/p/google-gson/)?","body":"Why don&#39;t you use <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">Gson</a>?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1371034618,"post_id":17063690,"comment_id":24674786,"body_markdown":"This is NOT valid JSON!","body":"This is NOT valid JSON!"},{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":3,"creation_date":1371034633,"post_id":17063690,"comment_id":24674794,"body_markdown":"[What have you tried](http://mattgemmell.com/2008/12/08/what-have-you-tried/) so far besides asking us?","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried</a> so far besides asking us?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1371034645,"post_id":17063690,"comment_id":24674800,"body_markdown":"*&quot;Thanks in advance \n\nRegards,\n\nSamual krish&quot;*  Well that was 6 lines of noise.  Leave it out in future.  Why &#39;no APIs&#39;?  It seems to call for one, and there are good APIs available.","body":"<i>&quot;Thanks in advance   Regards,  Samual krish&quot;</i>  Well that was 6 lines of noise.  Leave it out in future.  Why &#39;no APIs&#39;?  It seems to call for one, and there are good APIs available."},{"owner":{"account_id":1025034,"reputation":2356,"user_id":1034537,"accept_rate":45,"display_name":"BLaZuRE"},"score":2,"creation_date":1371034947,"post_id":17063690,"comment_id":24674953,"body_markdown":"Why not use any existing libraries?  If you can&#39;t use existing libraries and you&#39;re not motivated enough to look what&#39;s available on the subject (and similar subjects), it smells a lot like homework you want done for you.  Are you expecting perfect input?","body":"Why not use any existing libraries?  If you can&#39;t use existing libraries and you&#39;re not motivated enough to look what&#39;s available on the subject (and similar subjects), it smells a lot like homework you want done for you.  Are you expecting perfect input?"},{"owner":{"account_id":1350677,"reputation":24572,"user_id":1290438,"accept_rate":83,"display_name":"zmo"},"score":0,"creation_date":1371036170,"post_id":17063690,"comment_id":24675544,"body_markdown":"`Kindly do not suggest any existing library` not even the standard library? Then do not use java, it is full of libraries!","body":"<code>Kindly do not suggest any existing library</code> not even the standard library? Then do not use java, it is full of libraries!"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371036540,"post_id":17063690,"comment_id":24675734,"body_markdown":"@ElRonnoco smells like it...","body":"@ElRonnoco smells like it..."}],"answers":[{"comments":[{"owner":{"account_id":1025034,"reputation":2356,"user_id":1034537,"accept_rate":45,"display_name":"BLaZuRE"},"score":0,"creation_date":1371034987,"post_id":17063830,"comment_id":24674972,"body_markdown":"He said no libraries, though.","body":"He said no libraries, though."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1371036795,"creation_date":1371034942,"answer_id":17063830,"question_id":17063690,"body_markdown":"If your &quot;JSON&quot; is really like this, you should first take a baseball bat and go knock its producer over the head. Seriously.\r\n\r\nIf you _really insist_ on writing your own class (why?), you can for instance use an interface like this:\r\n\r\n    public interface MyParser\r\n    {\r\n        boolean parse()\r\n            throws MyParsingException;\r\n        MyParser next();\r\n    }\r\n\r\nImplementations would then take a `CharBuffer` as an argument and a map builder class; and to parse you would do:\r\n\r\n    final CharBuffer buf = CharBuffer.wrap(yourSource);\r\n    final MyMapBuilder builder = new MyMapBuilder();\r\n\r\n    MyParser parser = new OpenBracketParser(buf, builder);\r\n\r\n    while (parser.parse())\r\n        parser = parser.next();\r\n\r\n    // result is builer.build()\r\n\r\nThis is but one example...\r\n\r\nSecond solution, you want to use an existing parsing tool; in this case have a look at [Parboiled][1]. MUCH easier to use than antlr, jflex or others since you write your grammars in pure Java.\r\n\r\nFinally, if you decide that enough is enough, and decide to use a JSON library (you really should do that), go with [Jackson][2], which can read even such malformed JSON:\r\n\r\n    public static void main(final String... args)\r\n        throws IOException\r\n    {\r\n        final ObjectMapper mapper = new ObjectMapper()\r\n            .configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true)\r\n            .configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\r\n\r\n        final JsonNode node = mapper.readTree(&quot;{name: &#39;John&#39;}&quot;);\r\n        System.out.println(node); // {&quot;name&quot;:&quot;John&quot;}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/sirthias/parboiled/wiki\r\n  [2]: https://github.com/FasterXML/jackson-databind","title":"How to write a basic JSON parsing class","body":"<p>If your \"JSON\" is really like this, you should first take a baseball bat and go knock its producer over the head. Seriously.</p>\n\n<p>If you <em>really insist</em> on writing your own class (why?), you can for instance use an interface like this:</p>\n\n<pre><code>public interface MyParser\n{\n    boolean parse()\n        throws MyParsingException;\n    MyParser next();\n}\n</code></pre>\n\n<p>Implementations would then take a <code>CharBuffer</code> as an argument and a map builder class; and to parse you would do:</p>\n\n<pre><code>final CharBuffer buf = CharBuffer.wrap(yourSource);\nfinal MyMapBuilder builder = new MyMapBuilder();\n\nMyParser parser = new OpenBracketParser(buf, builder);\n\nwhile (parser.parse())\n    parser = parser.next();\n\n// result is builer.build()\n</code></pre>\n\n<p>This is but one example...</p>\n\n<p>Second solution, you want to use an existing parsing tool; in this case have a look at <a href=\"https://github.com/sirthias/parboiled/wiki\" rel=\"noreferrer\">Parboiled</a>. MUCH easier to use than antlr, jflex or others since you write your grammars in pure Java.</p>\n\n<p>Finally, if you decide that enough is enough, and decide to use a JSON library (you really should do that), go with <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"noreferrer\">Jackson</a>, which can read even such malformed JSON:</p>\n\n<pre><code>public static void main(final String... args)\n    throws IOException\n{\n    final ObjectMapper mapper = new ObjectMapper()\n        .configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true)\n        .configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\n\n    final JsonNode node = mapper.readTree(\"{name: 'John'}\");\n    System.out.println(node); // {\"name\":\"John\"}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371036485,"post_id":17063888,"comment_id":24675699,"body_markdown":"ANTLR has the disadvantage that it complicates the build process a lot, though. Parboiled has no such disadvantage! Pity that it is not well known enough.","body":"ANTLR has the disadvantage that it complicates the build process a lot, though. Parboiled has no such disadvantage! Pity that it is not well known enough."},{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":0,"creation_date":1371036541,"post_id":17063888,"comment_id":24675736,"body_markdown":"@fge agreed. I will take a look.","body":"@fge agreed. I will take a look."}],"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"comment_count":2,"down_vote_count":2,"up_vote_count":33,"is_accepted":true,"score":31,"last_activity_date":1371044669,"creation_date":1371035163,"answer_id":17063888,"question_id":17063690,"body_markdown":"*This answer assumes that you really want to write a parser and are prepared to put in the effort required.*\r\n\r\nYou MUST start with the formal specification of JSON. I have found http://www.ietf.org/rfc/rfc4627.txt. This defines the language precisely. You MUST implement everything in the spec and write tests for it. Your parser MUST cater for incorrect JSON (like yours) and throw Exceptions.\r\n\r\nIf you wish to write a parser, stop, think and then don&#39;t. It&#39;s a lot of work to get it working correctly. Whatever you do, make a proper job of it - incomplete parsers are a menace and should never be distributed.\r\n\r\nYou MUST write code that conforms. Here are some phrases from the spec. If you don&#39;t understand them you will have to research carefully and make sure you understand:\r\n\r\n&gt; &quot;JSON text SHALL be encoded in Unicode.  The default encoding is\r\n&gt; UTF-8.&quot;\r\n&gt; \r\n&gt; &quot;A JSON parser MUST accept all texts that conform to the JSON\r\n&gt; grammar.&quot;\r\n\r\n&quot;Encoding considerations: 8bit if UTF-8; binary if UTF-16 or UTF-32\r\n\r\n      JSON may be represented using UTF-8, UTF-16, or UTF-32.  When JSON\r\n      is written in UTF-8, JSON is 8bit compatible.  When JSON is\r\n      written in UTF-16 or UTF-32, the binary content-transfer-encoding\r\n      must be used.\r\n&quot;\r\n\r\n&gt; &quot;Any character may be escaped.  If the character is in the Basic   \r\n&gt; Multilingual Plane (U+0000 through U+FFFF), then it may be   \r\n&gt; represented as a six-character sequence: a reverse solidus, followed  \r\n&gt; by the lowercase letter u, followed by four hexadecimal digits that   \r\n&gt; encode the character&#39;s code point.  The hexadecimal letters A though  \r\n&gt; F can be upper or lowercase.  So, for example, a string containing   \r\n&gt; only a single reverse solidus character may be represented as   \r\n&gt; &quot;\\u005C&quot;. &quot;\r\n\r\nIf you understand these and still want to write a parser, then review some other parsers, and see if any of them have conformance tests. Borrow these for your own application.\r\n\r\nIf you are still keen you should strongly consider using a parser generator. Examples are JAVACC, CUP and my preferred tool, ANTLR. ANTLR is very powerful but can be difficult to start with. See also the suggestion of Parboiled, which I would now recommend. JSON is relatively simple and it would be a useful exercise. Most parser-generators generate a complete parser which can create executable code or generate the parse tree of your JSON.\r\n\r\nThere is a JSON parser-generator using ANTLR at http://www.antlr.org/wiki/display/ANTLR3/JSON+Interpreter if you are allowed to peek at it. I have also just discovered a [Parboiled parser-generator for JSON][1]. If your main reason for writing a parser is learning how to do it, this is probably a good starting point.\r\n\r\nIf you are not allowed (or don&#39;t want to) use a parser-generator then you will have to create your own parser. This generally comes in two parts:\r\n\r\n**a lexer/tokenizer**. This recognizes the basic primitives defined in the language spec. In this case it would have to recognize curly-brackets, quotes, etc. It would probably also build the representation of numbers.\r\n\r\n**an AbstractSyntaxTree** (http://en.wikipedia.org/wiki/Abstract_syntax_tree, AST) **generator**. Here you write code to assemble a tree representing the abstraction of your JSON (e.g. whitespace and curlies have been discarded). \r\n\r\nWhen you have the AST it should be easy to iterate over the nodes and create your desired output.\r\n \r\nBut writing parser-generators, even for a simple language like JSON, is a lot-of-work.\r\n\r\n\r\n  [1]: https://github.com/sirthias/parboiled/wiki/JSON-Parser","title":"How to write a basic JSON parsing class","body":"<p><em>This answer assumes that you really want to write a parser and are prepared to put in the effort required.</em></p>\n\n<p>You MUST start with the formal specification of JSON. I have found <a href=\"http://www.ietf.org/rfc/rfc4627.txt\">http://www.ietf.org/rfc/rfc4627.txt</a>. This defines the language precisely. You MUST implement everything in the spec and write tests for it. Your parser MUST cater for incorrect JSON (like yours) and throw Exceptions.</p>\n\n<p>If you wish to write a parser, stop, think and then don't. It's a lot of work to get it working correctly. Whatever you do, make a proper job of it - incomplete parsers are a menace and should never be distributed.</p>\n\n<p>You MUST write code that conforms. Here are some phrases from the spec. If you don't understand them you will have to research carefully and make sure you understand:</p>\n\n<blockquote>\n  <p>\"JSON text SHALL be encoded in Unicode.  The default encoding is\n  UTF-8.\"</p>\n  \n  <p>\"A JSON parser MUST accept all texts that conform to the JSON\n  grammar.\"</p>\n</blockquote>\n\n<p>\"Encoding considerations: 8bit if UTF-8; binary if UTF-16 or UTF-32</p>\n\n<pre><code>  JSON may be represented using UTF-8, UTF-16, or UTF-32.  When JSON\n  is written in UTF-8, JSON is 8bit compatible.  When JSON is\n  written in UTF-16 or UTF-32, the binary content-transfer-encoding\n  must be used.\n</code></pre>\n\n<p>\"</p>\n\n<blockquote>\n  <p>\"Any character may be escaped.  If the character is in the Basic<br>\n  Multilingual Plane (U+0000 through U+FFFF), then it may be<br>\n  represented as a six-character sequence: a reverse solidus, followed<br>\n  by the lowercase letter u, followed by four hexadecimal digits that<br>\n  encode the character's code point.  The hexadecimal letters A though<br>\n  F can be upper or lowercase.  So, for example, a string containing<br>\n  only a single reverse solidus character may be represented as<br>\n  \"\\u005C\". \"</p>\n</blockquote>\n\n<p>If you understand these and still want to write a parser, then review some other parsers, and see if any of them have conformance tests. Borrow these for your own application.</p>\n\n<p>If you are still keen you should strongly consider using a parser generator. Examples are JAVACC, CUP and my preferred tool, ANTLR. ANTLR is very powerful but can be difficult to start with. See also the suggestion of Parboiled, which I would now recommend. JSON is relatively simple and it would be a useful exercise. Most parser-generators generate a complete parser which can create executable code or generate the parse tree of your JSON.</p>\n\n<p>There is a JSON parser-generator using ANTLR at <a href=\"http://www.antlr.org/wiki/display/ANTLR3/JSON+Interpreter\">http://www.antlr.org/wiki/display/ANTLR3/JSON+Interpreter</a> if you are allowed to peek at it. I have also just discovered a <a href=\"https://github.com/sirthias/parboiled/wiki/JSON-Parser\">Parboiled parser-generator for JSON</a>. If your main reason for writing a parser is learning how to do it, this is probably a good starting point.</p>\n\n<p>If you are not allowed (or don't want to) use a parser-generator then you will have to create your own parser. This generally comes in two parts:</p>\n\n<p><strong>a lexer/tokenizer</strong>. This recognizes the basic primitives defined in the language spec. In this case it would have to recognize curly-brackets, quotes, etc. It would probably also build the representation of numbers.</p>\n\n<p><strong>an AbstractSyntaxTree</strong> (<a href=\"http://en.wikipedia.org/wiki/Abstract_syntax_tree\">http://en.wikipedia.org/wiki/Abstract_syntax_tree</a>, AST) <strong>generator</strong>. Here you write code to assemble a tree representing the abstraction of your JSON (e.g. whitespace and curlies have been discarded). </p>\n\n<p>When you have the AST it should be easy to iterate over the nodes and create your desired output.</p>\n\n<p>But writing parser-generators, even for a simple language like JSON, is a lot-of-work.</p>\n"},{"comments":[{"owner":{"account_id":1783158,"reputation":8810,"user_id":1625339,"accept_rate":40,"display_name":"Aetherus"},"score":0,"creation_date":1541583714,"post_id":43405000,"comment_id":93263071,"body_markdown":"Very informative, thanks. Lacking date and time support is a very annoying problem of JSON. I&#39;d like to add tokens like `&lt;2018-11-07T09:39:12.345678Z&gt;` to represent timestamps according to iso8601 so that both the browser side and the server side can do less guess work, but that&#39;s not possible unless I can implement my own JSON parser.","body":"Very informative, thanks. Lacking date and time support is a very annoying problem of JSON. I&#39;d like to add tokens like <code>&lt;2018-11-07T09:39:12.345678Z&gt;</code> to represent timestamps according to iso8601 so that both the browser side and the server side can do less guess work, but that&#39;s not possible unless I can implement my own JSON parser."}],"tags":[],"owner":{"account_id":1930728,"reputation":3657,"user_id":1740154,"display_name":"KANJICODER"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1492142445,"creation_date":1492142445,"answer_id":43405000,"question_id":17063690,"body_markdown":"I&#39;ve written one before. Steps:\r\n\r\n 1. Take a string representing JSON text.\r\n\r\n 2. Create a JsonToken class. I call mine JToken.\r\n\r\n 3. Go over the entire text from step#1 and parse out the JToken(s).\r\n\r\n 4. Recursively group and nest your JToken(s).\r\n\r\n 5. Attempt To keep it simple and uniform. All JToken nodes have a child array that can have 0 or more children. If node is array, flag as array. Child array is used for the children of the node if is is an OBJECT or ARRAY. The only thing that changes is what it is flagged as. Also keep all values as string type. That way you just need a single member on the node called &quot;value&quot; that can be interpreted as the correct data type after all the hard work is done.\r\n\r\n 6. Use defensive coding and unit tests. Write tests for all of the components of the parser. Better to spend an extra 3 hours writing code in a paranoid fashion where you assume you are making mistakes every second than to have to spend 3 hours hunting down bugs. Code paranoid enough, and you&#39;ll very rarely spend time being frustrated when debugging.\r\n\r\nExample Code:\r\nWhen I was doing an easy(ironically) challenge on code-eval.com.\r\nThere was a json menu parsing challenge. I thought it would be cheating\r\nto use any built-in functions, because to me the whole point of code challenges\r\nis to test your algorithm problem solving abilities.\r\nThe challenge is here: https://www.codeeval.com/open_challenges/102/\r\n\r\nMy Code, that passes this challenge, using a parser built from scratch in\r\njavascript:\r\n\r\n    CODE: https://pastebin.com/BReK9iij\r\n    Was not able to post it on stack-overflow because it is too much code.\r\n    Put it in a non-expiring paste-bin post.\r\n    \r\n\r\nNote: This code could use some improvement. Some of it is very inefficient\r\nand it won&#39;t work with Unicode. \r\n\r\n**I wouldn&#39;t recommend writing your own JSON parser unless you are interpreting the JSON in some type of non-standard way.**\r\n\r\nFor example: I currently am using JSONedit to organize branches for a text-based\r\nadventure. I am only using JSON file format because it is compact and the viewer allows me to expand and contract items. The standard parser that comes with GOLang doesn&#39;t interpret the information the way I want it to be interpreted, so I am writing my own parser.\r\n\r\n","title":"How to write a basic JSON parsing class","body":"<p>I've written one before. Steps:</p>\n\n<ol>\n<li><p>Take a string representing JSON text.</p></li>\n<li><p>Create a JsonToken class. I call mine JToken.</p></li>\n<li><p>Go over the entire text from step#1 and parse out the JToken(s).</p></li>\n<li><p>Recursively group and nest your JToken(s).</p></li>\n<li><p>Attempt To keep it simple and uniform. All JToken nodes have a child array that can have 0 or more children. If node is array, flag as array. Child array is used for the children of the node if is is an OBJECT or ARRAY. The only thing that changes is what it is flagged as. Also keep all values as string type. That way you just need a single member on the node called \"value\" that can be interpreted as the correct data type after all the hard work is done.</p></li>\n<li><p>Use defensive coding and unit tests. Write tests for all of the components of the parser. Better to spend an extra 3 hours writing code in a paranoid fashion where you assume you are making mistakes every second than to have to spend 3 hours hunting down bugs. Code paranoid enough, and you'll very rarely spend time being frustrated when debugging.</p></li>\n</ol>\n\n<p>Example Code:\nWhen I was doing an easy(ironically) challenge on code-eval.com.\nThere was a json menu parsing challenge. I thought it would be cheating\nto use any built-in functions, because to me the whole point of code challenges\nis to test your algorithm problem solving abilities.\nThe challenge is here: <a href=\"https://www.codeeval.com/open_challenges/102/\" rel=\"noreferrer\">https://www.codeeval.com/open_challenges/102/</a></p>\n\n<p>My Code, that passes this challenge, using a parser built from scratch in\njavascript:</p>\n\n<pre><code>CODE: https://pastebin.com/BReK9iij\nWas not able to post it on stack-overflow because it is too much code.\nPut it in a non-expiring paste-bin post.\n</code></pre>\n\n<p>Note: This code could use some improvement. Some of it is very inefficient\nand it won't work with Unicode. </p>\n\n<p><strong>I wouldn't recommend writing your own JSON parser unless you are interpreting the JSON in some type of non-standard way.</strong></p>\n\n<p>For example: I currently am using JSONedit to organize branches for a text-based\nadventure. I am only using JSON file format because it is compact and the viewer allows me to expand and contract items. The standard parser that comes with GOLang doesn't interpret the information the way I want it to be interpreted, so I am writing my own parser.</p>\n"},{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560380021,"creation_date":1560380021,"answer_id":56571312,"question_id":17063690,"body_markdown":"I&#39;ve written a simple parser in Kotlin, it is not complete. However, It can work as a starting point for your own implementation.\r\n\r\nThanks to @peter.murray.rust for giving the ideas, also It is inspired by the [h2database parser][1].\r\n\r\nIt is mainly read the JSON string character by character (using StringReader) and try to parse it based on expected JSON tokens. It is implementing the feature of reading tokens, unread char and eventually converting the result into AST.\r\n\r\nYou can find [the code][2] and [test cases][3] at github.\r\n\r\n\r\n  [1]: https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/command/Parser.java\r\n  [2]: https://github.com/mhewedy/eureka-klient/blob/master/src/main/kotlin/helpers/json/Deserializer.kt\r\n  [3]: https://github.com/mhewedy/eureka-klient/blob/master/src/test/kotlin/helpers/json/ParserTest.kt","title":"How to write a basic JSON parsing class","body":"<p>I've written a simple parser in Kotlin, it is not complete. However, It can work as a starting point for your own implementation.</p>\n\n<p>Thanks to @peter.murray.rust for giving the ideas, also It is inspired by the <a href=\"https://github.com/h2database/h2database/blob/master/h2/src/main/org/h2/command/Parser.java\" rel=\"nofollow noreferrer\">h2database parser</a>.</p>\n\n<p>It is mainly read the JSON string character by character (using StringReader) and try to parse it based on expected JSON tokens. It is implementing the feature of reading tokens, unread char and eventually converting the result into AST.</p>\n\n<p>You can find <a href=\"https://github.com/mhewedy/eureka-klient/blob/master/src/main/kotlin/helpers/json/Deserializer.kt\" rel=\"nofollow noreferrer\">the code</a> and <a href=\"https://github.com/mhewedy/eureka-klient/blob/master/src/test/kotlin/helpers/json/ParserTest.kt\" rel=\"nofollow noreferrer\">test cases</a> at github.</p>\n"}],"owner":{"account_id":2513465,"reputation":263,"user_id":2185389,"accept_rate":100,"display_name":"Samual krish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31686,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":17063888,"answer_count":4,"score":16,"last_activity_date":1672702104,"creation_date":1371034494,"question_id":17063690,"body_markdown":"Could some one guide how to write a class which would take a JSON data and would try to parse it into a simple buffered list from which we could read the data back?\r\n\r\nEx. JSON \r\n\r\n    { &quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 56 } \r\n\r\nHow would I catch incorrect JSON like:\r\n\r\n    { name: &#39;John&#39;, age: 56 } \r\n\r\n..will be parsed into a table of key value pairs\r\n\r\n    name John\r\n    age  56\r\n\r\nHow to write a parse method which would help to create a faster and simpler? \r\n\r\nKindly do not suggest any existing library. Provide a concept for parsing JSON.\r\n","title":"How to write a basic JSON parsing class","body":"<p>Could some one guide how to write a class which would take a JSON data and would try to parse it into a simple buffered list from which we could read the data back?</p>\n<p>Ex. JSON</p>\n<pre><code>{ &quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 56 } \n</code></pre>\n<p>How would I catch incorrect JSON like:</p>\n<pre><code>{ name: 'John', age: 56 } \n</code></pre>\n<p>..will be parsed into a table of key value pairs</p>\n<pre><code>name John\nage  56\n</code></pre>\n<p>How to write a parse method which would help to create a faster and simpler?</p>\n<p>Kindly do not suggest any existing library. Provide a concept for parsing JSON.</p>\n"},{"tags":["java","list","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1631057200,"post_id":69095437,"comment_id":122119580,"body_markdown":"interesting, so map, then flatmap through all the levels, and finally collect, this pattern can probably be applied 4 to 5 levels deep? thanks","body":"interesting, so map, then flatmap through all the levels, and finally collect, this pattern can probably be applied 4 to 5 levels deep? thanks"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1631057296,"post_id":69095437,"comment_id":122119600,"body_markdown":"P.S. Updated code with two examples of syntax","body":"P.S. Updated code with two examples of syntax"}],"tags":[],"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1631056982,"creation_date":1631056982,"answer_id":69095437,"question_id":69095381,"body_markdown":"Convert sub-list to a stream and use flatMap to convert stream of streams of elements to stream of elements.\r\n\r\nExample:\r\n```\r\npackage x.mvmn.demo;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n\r\n\tpublic static class CustomerSales {\r\n\t\tpublic List&lt;Product&gt; productList;\r\n\t}\r\n\r\n\tpublic static class Product {\r\n\t\tpublic List&lt;ProductSubItem&gt; productSubItemList;\r\n\r\n\t\tpublic List&lt;ProductSubItem&gt; getProductSubItemList() {\r\n\t\t\treturn productSubItemList;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class ProductSubItem {\r\n\t\tpublic String itemName;\r\n\r\n\t\tpublic ProductSubItem(String itemName) {\r\n\t\t\tthis.itemName = itemName;\r\n\t\t}\r\n\r\n\t\tpublic String getItemName() {\r\n\t\t\treturn itemName;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String args[]) throws Exception {\r\n\t\t// Setup mock data\r\n\t\tCustomerSales customerSales = new CustomerSales();\r\n\t\tProduct p1 = new Product();\r\n\t\tp1.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p1 item one&quot;), new ProductSubItem(&quot;p1 item two&quot;));\r\n\t\tProduct p2 = new Product();\r\n\t\tp2.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p2 item one&quot;), new ProductSubItem(&quot;p2 item two&quot;));\r\n\t\tcustomerSales.productList = Arrays.asList(p1, p2);\r\n\r\n\t\t// Get list of item names\r\n\t\tSystem.out.println(customerSales.productList.stream().map(Product::getProductSubItemList).flatMap(List::stream)\r\n\t\t\t\t.map(ProductSubItem::getItemName).collect(Collectors.toList()));\r\n\t\t// Alternative syntax\r\n\t\tSystem.out.println(customerSales.productList.stream().flatMap(product -&gt; product.productSubItemList.stream())\r\n\t\t\t\t.map(subItem -&gt; subItem.itemName).collect(Collectors.toList()));\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n[p1 item one, p1 item two, p2 item one, p2 item two]\r\n[p1 item one, p1 item two, p2 item one, p2 item two]\r\n```","title":"Java: Obtain class member list, for a list within multilevel nested list","body":"<p>Convert sub-list to a stream and use flatMap to convert stream of streams of elements to stream of elements.</p>\n<p>Example:</p>\n<pre><code>package x.mvmn.demo;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n\n    public static class CustomerSales {\n        public List&lt;Product&gt; productList;\n    }\n\n    public static class Product {\n        public List&lt;ProductSubItem&gt; productSubItemList;\n\n        public List&lt;ProductSubItem&gt; getProductSubItemList() {\n            return productSubItemList;\n        }\n    }\n\n    public static class ProductSubItem {\n        public String itemName;\n\n        public ProductSubItem(String itemName) {\n            this.itemName = itemName;\n        }\n\n        public String getItemName() {\n            return itemName;\n        }\n    }\n\n    public static void main(String args[]) throws Exception {\n        // Setup mock data\n        CustomerSales customerSales = new CustomerSales();\n        Product p1 = new Product();\n        p1.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p1 item one&quot;), new ProductSubItem(&quot;p1 item two&quot;));\n        Product p2 = new Product();\n        p2.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p2 item one&quot;), new ProductSubItem(&quot;p2 item two&quot;));\n        customerSales.productList = Arrays.asList(p1, p2);\n\n        // Get list of item names\n        System.out.println(customerSales.productList.stream().map(Product::getProductSubItemList).flatMap(List::stream)\n                .map(ProductSubItem::getItemName).collect(Collectors.toList()));\n        // Alternative syntax\n        System.out.println(customerSales.productList.stream().flatMap(product -&gt; product.productSubItemList.stream())\n                .map(subItem -&gt; subItem.itemName).collect(Collectors.toList()));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[p1 item one, p1 item two, p2 item one, p2 item two]\n[p1 item one, p1 item two, p2 item one, p2 item two]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":509299,"reputation":54,"user_id":7709858,"display_name":"Dmytro Brazhnyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631058534,"creation_date":1631057858,"answer_id":69095508,"question_id":69095381,"body_markdown":"Looks like you need to use flatMap:\r\n\r\nhttps://www.baeldung.com/java-difference-map-and-flatmap\r\n\r\n```java\r\nList&lt;String&gt; itemNameList = customerSales.productList.stream().map(p -&gt; p.productSubItemList().stream()).collect(Collectors.toList()); \r\n```\r\n\r\n--- \r\n\r\nHere is another example of flattening list of lists\r\nhttps://www.baeldung.com/java-flatten-nested-collections\r\n\r\n```java\r\npublic &lt;T&gt; List&lt;T&gt; flattenListOfListsStream(List&lt;List&lt;T&gt;&gt; list) {\r\n    return list.stream()\r\n      .flatMap(Collection::stream)\r\n      .collect(Collectors.toList());    \r\n}\r\n```\r\n\r\n","title":"Java: Obtain class member list, for a list within multilevel nested list","body":"<p>Looks like you need to use flatMap:</p>\n<p><a href=\"https://www.baeldung.com/java-difference-map-and-flatmap\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-difference-map-and-flatmap</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; itemNameList = customerSales.productList.stream().map(p -&gt; p.productSubItemList().stream()).collect(Collectors.toList()); \n</code></pre>\n<hr />\n<p>Here is another example of flattening list of lists\n<a href=\"https://www.baeldung.com/java-flatten-nested-collections\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-flatten-nested-collections</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; List&lt;T&gt; flattenListOfListsStream(List&lt;List&lt;T&gt;&gt; list) {\n    return list.stream()\n      .flatMap(Collection::stream)\n      .collect(Collectors.toList());    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672487553,"creation_date":1672487553,"answer_id":74969326,"question_id":69095381,"body_markdown":"We can re-write the @mvmn answer using below.\r\n\r\n```java\r\npublic class Demo {\r\n\r\n\tpublic static class CustomerSales {\r\n\t\tpublic List&lt;Product&gt; productList;\r\n\r\n\t\tpublic Stream&lt;Product&gt; getProductStream() {\r\n\t\t\treturn !CollectionUtils.isEmpty(productList) ? productList.stream() : Stream.empty();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Product {\r\n\t\tpublic List&lt;ProductSubItem&gt; productSubItemList;\r\n\r\n\t\tpublic List&lt;ProductSubItem&gt; getProductSubItemList() {\r\n\t\t\treturn productSubItemList;\r\n\t\t}\r\n\r\n\t\tpublic Stream&lt;ProductSubItem&gt; getProductSubItemStream() {\r\n\t\t\treturn !CollectionUtils.isEmpty(productSubItemList) ? productSubItemList.stream() : Stream.empty();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class ProductSubItem {\r\n\t\tpublic String itemName;\r\n\r\n\t\tpublic ProductSubItem(String itemName) {\r\n\t\t\tthis.itemName = itemName;\r\n\t\t}\r\n\r\n\t\tpublic String getItemName() {\r\n\t\t\treturn itemName;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String args[]) throws Exception {\r\n\t\t// Setup mock data\r\n\t\tCustomerSales customerSales = new CustomerSales();\r\n\t\tProduct p1 = new Product();\r\n\t\tp1.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p1 item one&quot;), new ProductSubItem(&quot;p1 item two&quot;));\r\n\t\tProduct p2 = new Product();\r\n\t\tp2.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p2 item one&quot;), new ProductSubItem(&quot;p2 item two&quot;));\r\n\t\tcustomerSales.productList = Arrays.asList(p1, p2);\r\n\r\n\t\t// With Utility method in our DTOs\r\n\t\tSystem.out.println(customerSales.getProductStream()\r\n\t\t\t\t\t\t\t\t\t\t.flatMap(Product::getProductSubItemStream)\r\n\t\t\t\t\t\t\t\t\t\t.map(ProductSubItem::getItemName)\r\n\t\t\t\t\t\t\t\t\t\t.collect(Collectors.toList()));\r\n\r\n\t\t// Java16+\r\n\t\tSystem.out.println(customerSales.getProductStream()\r\n\t\t\t\t\t\t\t\t\t\t.flatMap(Product::getProductSubItemStream)\r\n\t\t\t\t\t\t\t\t\t\t.map(ProductSubItem::getItemName)\r\n\t\t\t\t\t\t\t\t\t\t.toList());\r\n\t}\r\n}\r\n```","title":"Java: Obtain class member list, for a list within multilevel nested list","body":"<p>We can re-write the @mvmn answer using below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n\n    public static class CustomerSales {\n        public List&lt;Product&gt; productList;\n\n        public Stream&lt;Product&gt; getProductStream() {\n            return !CollectionUtils.isEmpty(productList) ? productList.stream() : Stream.empty();\n        }\n    }\n\n    public static class Product {\n        public List&lt;ProductSubItem&gt; productSubItemList;\n\n        public List&lt;ProductSubItem&gt; getProductSubItemList() {\n            return productSubItemList;\n        }\n\n        public Stream&lt;ProductSubItem&gt; getProductSubItemStream() {\n            return !CollectionUtils.isEmpty(productSubItemList) ? productSubItemList.stream() : Stream.empty();\n        }\n    }\n\n    public static class ProductSubItem {\n        public String itemName;\n\n        public ProductSubItem(String itemName) {\n            this.itemName = itemName;\n        }\n\n        public String getItemName() {\n            return itemName;\n        }\n    }\n\n    public static void main(String args[]) throws Exception {\n        // Setup mock data\n        CustomerSales customerSales = new CustomerSales();\n        Product p1 = new Product();\n        p1.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p1 item one&quot;), new ProductSubItem(&quot;p1 item two&quot;));\n        Product p2 = new Product();\n        p2.productSubItemList = Arrays.asList(new ProductSubItem(&quot;p2 item one&quot;), new ProductSubItem(&quot;p2 item two&quot;));\n        customerSales.productList = Arrays.asList(p1, p2);\n\n        // With Utility method in our DTOs\n        System.out.println(customerSales.getProductStream()\n                                        .flatMap(Product::getProductSubItemStream)\n                                        .map(ProductSubItem::getItemName)\n                                        .collect(Collectors.toList()));\n\n        // Java16+\n        System.out.println(customerSales.getProductStream()\n                                        .flatMap(Product::getProductSubItemStream)\n                                        .map(ProductSubItem::getItemName)\n                                        .toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672701747,"creation_date":1672668227,"answer_id":74983351,"question_id":69095381,"body_markdown":"In case when you need to perform a *one-to-one* transformation - use `map()` operation. For *one-to-many* transformations, use `flatMap()` operation.\r\n\r\n[`flatMap()`][flatMap] expects a *Function* which consumes a stream and produces a Stream of resulting type.\r\n\r\nJava 16 offers one more alternative for *one-to-many* transformations, namely [`mapMulti()`][mapMulti], which would be more beneficial in terms of performance (*because it doesn&#39;t require generating a new Stream internally like `flatMap` does*) if the associated collection is expected to contain of a few elements or even might be empty. If you can&#39;t predict the number of elements in the resulting stream, then `flatMap()` is the way to go.\r\n\r\n&gt; However, this does not get the itemName. looking for a clean efficient method, ideally may want to attempt `4-5` levels deep\r\n\r\nTo tackle the scenario, you&#39;ve described, you can introduce a uniform method producing a *Function* which turns a stream element into another stream (a Function required by the `flatMap`), and utilize this method in the Stream for the purpose of conciseness.\r\n\r\n    public static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; flatten(\r\n        Function&lt;T, Collection&lt;R&gt;&gt; mapper\r\n    ) {\r\n        return t -&gt; mapper.apply(t).stream();\r\n    }\r\n\r\nNow let&#39;s consider the following object-graph with a diversity of nested collections:\r\n\r\n```\r\nClassA -&gt; List&lt;ClassB&gt;\r\nClassB -&gt; Set&lt;ClassC&gt;\r\nClassC -&gt; Map&lt;Integer, ClassD&gt; mapD\r\nClassD -&gt; Queue&lt;ClassE&gt; queueE\r\nClassE -&gt; String name\r\n```\r\n\r\nIf we have a List of `ClassA` instances, the List name from `ClassE` can be obtained in the following way:\r\n\r\n```\r\nList&lt;String&gt; names = aList.stream()              // Stream&lt;ClassA&gt;\r\n    .flatMap(flatten(ClassA::getListB))          // Stream&lt;ClassB&gt;\r\n    .flatMap(flatten(ClassB::getSetC))           // Stream&lt;ClassC&gt;\r\n    .flatMap(flatten(c -&gt; c.getMapD().values())) // Stream&lt;ClassD&gt;\r\n    .flatMap(flatten(ClassD::getQueueE))         // Stream&lt;ClassE&gt;\r\n    .map(ClassE::getName)                        // Stream&lt;String&gt;\r\n    .toList(); // for Java 16 or collect(Collectors.toList()) for earlier versions\r\n```\r\n\r\nHere&#39;s a complete example.\r\n\r\n*Dummy classes:*\r\n\r\n    public class ClassA {\r\n        private List&lt;ClassB&gt; listB;\r\n        \r\n        // getters, all-args constructor\r\n    }\r\n    \r\n    public class ClassB {\r\n        private Set&lt;ClassC&gt; setC;\r\n    \r\n        // getters, all-args constructor\r\n    }\r\n    \r\n    public class ClassC {\r\n        private Map&lt;Integer, ClassD&gt; mapD;\r\n    \r\n        // getters, all-args constructor\r\n    }\r\n    \r\n    public class ClassD {\r\n        private Queue&lt;ClassE&gt; queueE;\r\n    \r\n        // getters, all-args constructor\r\n    }\r\n    \r\n    public class ClassE {\r\n        private String name;\r\n    \r\n        // getters, all-args constructor\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ClassA&gt; aList = List.of(new ClassA(\r\n            List.of(\r\n                new ClassB(\r\n                    Set.of(\r\n                        new ClassC(Map.of(\r\n                            1, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Alice&quot;)))),\r\n                            2, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Bob&quot;))))\r\n                        )),\r\n                        new ClassC(Map.of(1, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Carol&quot;))))))\r\n                    )\r\n                )\r\n            )\r\n        ));\r\n        \r\n        List&lt;String&gt; names = aList.stream()\r\n            .flatMap(flatten(ClassA::getListB))\r\n            .flatMap(flatten(ClassB::getSetC))\r\n            .flatMap(flatten(c -&gt; c.getMapD().values()))\r\n            .flatMap(flatten(ClassD::getQueueE))\r\n            .map(ClassE::getName)\r\n            .toList(); // for Java 16 or collect(Collectors.toList()\r\n    \r\n        System.out.println(names);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[Alice, Bob, Carol]\r\n```\r\n\r\n[*A link to Online Demo*][demo]\r\n\r\n\r\n\r\n   [flatMap]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\r\n\r\n   [demo]: https://www.jdoodle.com/ia/BKU","title":"Java: Obtain class member list, for a list within multilevel nested list","body":"<p>In case when you need to perform a <em>one-to-one</em> transformation - use <code>map()</code> operation. For <em>one-to-many</em> transformations, use <code>flatMap()</code> operation.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> expects a <em>Function</em> which consumes a stream and produces a Stream of resulting type.</p>\n<p>Java 16 offers one more alternative for <em>one-to-many</em> transformations, namely <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a>, which would be more beneficial in terms of performance (<em>because it doesn't require generating a new Stream internally like <code>flatMap</code> does</em>) if the associated collection is expected to contain of a few elements or even might be empty. If you can't predict the number of elements in the resulting stream, then <code>flatMap()</code> is the way to go.</p>\n<blockquote>\n<p>However, this does not get the itemName. looking for a clean efficient method, ideally may want to attempt <code>4-5</code> levels deep</p>\n</blockquote>\n<p>To tackle the scenario, you've described, you can introduce a uniform method producing a <em>Function</em> which turns a stream element into another stream (a Function required by the <code>flatMap</code>), and utilize this method in the Stream for the purpose of conciseness.</p>\n<pre><code>public static &lt;T, R&gt; Function&lt;T, Stream&lt;R&gt;&gt; flatten(\n    Function&lt;T, Collection&lt;R&gt;&gt; mapper\n) {\n    return t -&gt; mapper.apply(t).stream();\n}\n</code></pre>\n<p>Now let's consider the following object-graph with a diversity of nested collections:</p>\n<pre><code>ClassA -&gt; List&lt;ClassB&gt;\nClassB -&gt; Set&lt;ClassC&gt;\nClassC -&gt; Map&lt;Integer, ClassD&gt; mapD\nClassD -&gt; Queue&lt;ClassE&gt; queueE\nClassE -&gt; String name\n</code></pre>\n<p>If we have a List of <code>ClassA</code> instances, the List name from <code>ClassE</code> can be obtained in the following way:</p>\n<pre><code>List&lt;String&gt; names = aList.stream()              // Stream&lt;ClassA&gt;\n    .flatMap(flatten(ClassA::getListB))          // Stream&lt;ClassB&gt;\n    .flatMap(flatten(ClassB::getSetC))           // Stream&lt;ClassC&gt;\n    .flatMap(flatten(c -&gt; c.getMapD().values())) // Stream&lt;ClassD&gt;\n    .flatMap(flatten(ClassD::getQueueE))         // Stream&lt;ClassE&gt;\n    .map(ClassE::getName)                        // Stream&lt;String&gt;\n    .toList(); // for Java 16 or collect(Collectors.toList()) for earlier versions\n</code></pre>\n<p>Here's a complete example.</p>\n<p><em>Dummy classes:</em></p>\n<pre><code>public class ClassA {\n    private List&lt;ClassB&gt; listB;\n    \n    // getters, all-args constructor\n}\n\npublic class ClassB {\n    private Set&lt;ClassC&gt; setC;\n\n    // getters, all-args constructor\n}\n\npublic class ClassC {\n    private Map&lt;Integer, ClassD&gt; mapD;\n\n    // getters, all-args constructor\n}\n\npublic class ClassD {\n    private Queue&lt;ClassE&gt; queueE;\n\n    // getters, all-args constructor\n}\n\npublic class ClassE {\n    private String name;\n\n    // getters, all-args constructor\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ClassA&gt; aList = List.of(new ClassA(\n        List.of(\n            new ClassB(\n                Set.of(\n                    new ClassC(Map.of(\n                        1, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Alice&quot;)))),\n                        2, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Bob&quot;))))\n                    )),\n                    new ClassC(Map.of(1, new ClassD(new ArrayDeque&lt;&gt;(List.of(new ClassE(&quot;Carol&quot;))))))\n                )\n            )\n        )\n    ));\n    \n    List&lt;String&gt; names = aList.stream()\n        .flatMap(flatten(ClassA::getListB))\n        .flatMap(flatten(ClassB::getSetC))\n        .flatMap(flatten(c -&gt; c.getMapD().values()))\n        .flatMap(flatten(ClassD::getQueueE))\n        .map(ClassE::getName)\n        .toList(); // for Java 16 or collect(Collectors.toList()\n\n    System.out.println(names);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[Alice, Bob, Carol]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/BKU\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69095437,"answer_count":4,"score":1,"last_activity_date":1672701924,"creation_date":1631056469,"question_id":69095381,"body_markdown":"In Java, how do I map and obtain a class member list, using a list within list.\r\n\r\n    public class CustomerSales {\r\n        public List&lt;Product&gt; productList;\r\n        ....\r\n    }\r\n    \r\n    public class Product {\r\n        public List&lt;ProductSubItem&gt; productSubItemList\r\n        ....\r\n    }\r\n    \r\n    public class ProductSubItem {\r\n        public String itemName;\r\n\r\n\r\n**Attempt:** \r\n\r\nHowever, this does not get the `itemName`. I&#39;m looking for a clean efficient method, ideally may want to attempt 4-5 levels deep, however question has only 3 for simplicity, etc\r\n\r\n```\r\nList&lt;String&gt; itemNameList = customerSales.productList.stream()\r\n    .map(p -&gt; p.productSubItemList())\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nI&#39;m using using Java 8.\r\n\r\n\r\nAttempted using this resource: still not luck, https://stackoverflow.com/questions/30611870/how-can-i-get-a-list-from-some-class-properties-with-java-8-stream","title":"Java: Obtain class member list, for a list within multilevel nested list","body":"<p>In Java, how do I map and obtain a class member list, using a list within list.</p>\n<pre><code>public class CustomerSales {\n    public List&lt;Product&gt; productList;\n    ....\n}\n\npublic class Product {\n    public List&lt;ProductSubItem&gt; productSubItemList\n    ....\n}\n\npublic class ProductSubItem {\n    public String itemName;\n</code></pre>\n<p><strong>Attempt:</strong></p>\n<p>However, this does not get the <code>itemName</code>. I'm looking for a clean efficient method, ideally may want to attempt 4-5 levels deep, however question has only 3 for simplicity, etc</p>\n<pre><code>List&lt;String&gt; itemNameList = customerSales.productList.stream()\n    .map(p -&gt; p.productSubItemList())\n    .collect(Collectors.toList());\n</code></pre>\n<p>I'm using using Java 8.</p>\n<p>Attempted using this resource: still not luck, <a href=\"https://stackoverflow.com/questions/30611870/how-can-i-get-a-list-from-some-class-properties-with-java-8-stream\">How can I get a List from some class properties with Java 8 Stream?</a></p>\n"},{"tags":["java","kotlin","gradle","build.gradle"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1672738039,"post_id":74987809,"comment_id":132337161,"body_markdown":"An admiral attempt! There are guides in the docs on how to fetch dependency information https://docs.gradle.org/7.6/userguide/more_about_tasks.html#sec:task_input_using_dependency_resolution_results https://docs.gradle.org/7.6/samples/sample_tasks_with_dependency_resolution_result_inputs.html - these will be more robust.","body":"An admiral attempt! There are guides in the docs on how to fetch dependency information <a href=\"https://docs.gradle.org/7.6/userguide/more_about_tasks.html#sec:task_input_using_dependency_resolution_results\" rel=\"nofollow noreferrer\">docs.gradle.org/7.6/userguide/&hellip;</a> <a href=\"https://docs.gradle.org/7.6/samples/sample_tasks_with_dependency_resolution_result_inputs.html\" rel=\"nofollow noreferrer\">docs.gradle.org/7.6/samples/&hellip;</a> - these will be more robust."}],"owner":{"account_id":21602030,"reputation":1,"user_id":17713278,"display_name":"MrMcyeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672701207,"creation_date":1672701207,"question_id":74987809,"body_markdown":"I am trying to have by build.gradle script automatically write a list of download links to the dependencies that my project requires.\r\n\r\nI already have the code that will take the URL and download it, and make it available to my program at runtime.\r\n\r\nI am trying to minimize the size of my .jar file, and instead, let the program download as any dependencies as possible at runtime so that the filesize of my .jar is as small as possible.\r\n\r\nI expect that I will have to do something like this\r\n\r\n```gradle\r\ntasks.getByName(&quot;shadowJar&quot;).doFirst {\r\n    def dependenciesFile = file(&quot;$projectDir/src/main/resources/.dependencies.properties&quot;)\r\n    dependenciesFile.write(&quot;dependencies=&quot;)\r\n    project.configurations.getByName(&quot;compileOnly&quot;).allDependencies.forEach {dependency -&gt;\r\n        def URL = //Somehow get the URL from this dependency\r\n        dependenciesFile.append(&quot;$URL,&quot;)\r\n    }\r\n}\r\n```\r\n\r\nBecause when you are defining your dependencies, gradle reaches out and downloads them so that they are available to Intellij, it must have some way to resolve strings such as &quot;com.squareup.okhttp3:okhttp:4.10.0&quot; into URLs which it downloads them from\r\nSo in my mind, the best solution would be to somehow hook into gradle and have it just figure out the url, or somethin similar \r\n\r\nCurrently, I am using this code here\r\n```gradle\r\ntasks.getByName(&quot;shadowJar&quot;).doFirst {\r\n    project.configurations.getByName(&quot;compileOnly&quot;).allDependencies.forEach {dependency -&gt;\r\n        println(&quot;${dependency.group}:${dependency.name}:${dependency.version}&quot;)\r\n\r\n        for (ArtifactRepository repository : project.repositories.asList()) {\r\n            def url = repository.properties.get(&#39;url&#39;)\r\n            def jarUrl = String.format(&quot;%s%s/%s/%s/%s-%s.jar&quot;, url.toString(),\r\n                    dependency.group.replace(&#39;.&#39;, &#39;/&#39;), dependency.name, dependency.version,\r\n                    dependency.name, dependency.version)\r\n            try {\r\n                def jarfile = new URL(jarUrl)\r\n                def inStream = jarfile.openStream();\r\n                if (inStream != null) {\r\n                    println(String.format(&quot;%s:%s:%s&quot;, dependency.group, dependency.name, dependency.version)\r\n                            + &quot; -&gt; &quot; + jarUrl)\r\n                    return\r\n                }\r\n            } catch (Exception ignored) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd it works fine for libraries which are in the maven centeral repository, but for things in other repositories, such as jitpack or codemc, it does not get the URL correctly.\r\n","title":"How do I get the URL for each of my dependencies defined within my build.gradle file","body":"<p>I am trying to have by build.gradle script automatically write a list of download links to the dependencies that my project requires.</p>\n<p>I already have the code that will take the URL and download it, and make it available to my program at runtime.</p>\n<p>I am trying to minimize the size of my .jar file, and instead, let the program download as any dependencies as possible at runtime so that the filesize of my .jar is as small as possible.</p>\n<p>I expect that I will have to do something like this</p>\n<pre><code>tasks.getByName(&quot;shadowJar&quot;).doFirst {\n    def dependenciesFile = file(&quot;$projectDir/src/main/resources/.dependencies.properties&quot;)\n    dependenciesFile.write(&quot;dependencies=&quot;)\n    project.configurations.getByName(&quot;compileOnly&quot;).allDependencies.forEach {dependency -&gt;\n        def URL = //Somehow get the URL from this dependency\n        dependenciesFile.append(&quot;$URL,&quot;)\n    }\n}\n</code></pre>\n<p>Because when you are defining your dependencies, gradle reaches out and downloads them so that they are available to Intellij, it must have some way to resolve strings such as &quot;com.squareup.okhttp3:okhttp:4.10.0&quot; into URLs which it downloads them from\nSo in my mind, the best solution would be to somehow hook into gradle and have it just figure out the url, or somethin similar</p>\n<p>Currently, I am using this code here</p>\n<pre><code>tasks.getByName(&quot;shadowJar&quot;).doFirst {\n    project.configurations.getByName(&quot;compileOnly&quot;).allDependencies.forEach {dependency -&gt;\n        println(&quot;${dependency.group}:${dependency.name}:${dependency.version}&quot;)\n\n        for (ArtifactRepository repository : project.repositories.asList()) {\n            def url = repository.properties.get('url')\n            def jarUrl = String.format(&quot;%s%s/%s/%s/%s-%s.jar&quot;, url.toString(),\n                    dependency.group.replace('.', '/'), dependency.name, dependency.version,\n                    dependency.name, dependency.version)\n            try {\n                def jarfile = new URL(jarUrl)\n                def inStream = jarfile.openStream();\n                if (inStream != null) {\n                    println(String.format(&quot;%s:%s:%s&quot;, dependency.group, dependency.name, dependency.version)\n                            + &quot; -&gt; &quot; + jarUrl)\n                    return\n                }\n            } catch (Exception ignored) {\n            }\n        }\n    }\n}\n</code></pre>\n<p>And it works fine for libraries which are in the maven centeral repository, but for things in other repositories, such as jitpack or codemc, it does not get the URL correctly.</p>\n"},{"tags":["java","cryptography","tink"],"owner":{"account_id":422185,"reputation":15,"user_id":6412106,"display_name":"Udit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672700922,"creation_date":1672700922,"question_id":74987790,"body_markdown":"When I try to decrypt ciphertext using streaming aead primitive as part of google tink, I get the following error: `java.io.IOException: No matching key found for the ciphertext in the stream`\r\n\r\nBelow is my code:\r\n```\r\nByteBuffer buffer = ByteBuffer.allocate(1000);\r\nint bytesRead = 0;\r\n\r\nStreamingAead saead = keysetHandle.getPrimitive(StreamingAead.class);\r\nReadableByteChannel ciphertextSource = Channels.newChannel(new ByteArrayInputStream(ciphertext));\r\nReadableByteChannel decryptingChannel = saead.newDecryptingChannel(ciphertextSource, associatedData);\r\n\r\nwhile(bytesRead &lt; 1000) {\r\n  bytesRead += decryptingChannel.read(buffer);\r\n}\r\n```\r\nThe line where the error is shown is: `bytesRead += decryptingChannel.read(buffer)`\r\n\r\nI&#39;ve already referred [here][1] and [here][2] but the issue persists. I&#39;m using tink version 1.6.0 \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63093672/no-matching-key-found-for-the-ciphertext-in-the-stream-exception\r\n  [2]: https://github.com/google/tink/issues/401","title":"Decryption using streaming AEAD (google tink)","body":"<p>When I try to decrypt ciphertext using streaming aead primitive as part of google tink, I get the following error: <code>java.io.IOException: No matching key found for the ciphertext in the stream</code></p>\n<p>Below is my code:</p>\n<pre><code>ByteBuffer buffer = ByteBuffer.allocate(1000);\nint bytesRead = 0;\n\nStreamingAead saead = keysetHandle.getPrimitive(StreamingAead.class);\nReadableByteChannel ciphertextSource = Channels.newChannel(new ByteArrayInputStream(ciphertext));\nReadableByteChannel decryptingChannel = saead.newDecryptingChannel(ciphertextSource, associatedData);\n\nwhile(bytesRead &lt; 1000) {\n  bytesRead += decryptingChannel.read(buffer);\n}\n</code></pre>\n<p>The line where the error is shown is: <code>bytesRead += decryptingChannel.read(buffer)</code></p>\n<p>I've already referred <a href=\"https://stackoverflow.com/questions/63093672/no-matching-key-found-for-the-ciphertext-in-the-stream-exception\">here</a> and <a href=\"https://github.com/google/tink/issues/401\" rel=\"nofollow noreferrer\">here</a> but the issue persists. I'm using tink version 1.6.0</p>\n"},{"tags":["java","android","bitmap","png","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":7339794,"reputation":2468,"user_id":5589820,"display_name":"Mehmet G&#252;ng&#246;ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672700681,"creation_date":1556204147,"answer_id":55852228,"question_id":53406813,"body_markdown":"I have an temporary solution like this\r\n\r\n```java\r\nint strokeWidth = 8;\r\nBitmap originalBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.flower_icon);\r\nBitmap newStrokedBitmap = Bitmap.createBitmap(originalBitmap.getWidth() + 2 * strokeWidth, originalBitmap.getHeight() + 2 * strokeWidth, Bitmap.Config.ARGB_8888);\r\nCanvas canvas = new Canvas(newStrokedBitmap);\r\nfloat scaleX = newStrokedBitmap.getWidth() / originalBitmap.getWidth();\r\nfloat scaleY = newStrokedBitmap.getHeight() / originalBitmap.getHeight();\r\nMatrix matrix = new Matrix();\r\nmatrix.setScale(scaleX, scaleY);\r\ncanvas.drawBitmap(originalBitmap, matrix, null);\r\ncanvas.drawColor(Color.WHITE, PorterDuff.Mode.SRC_ATOP); //Color.WHITE is stroke color\r\ncanvas.drawBitmap(originalBitmap, strokeWidth, strokeWidth, null);\r\n```\r\n\r\nFirstly create a new bitmap with stroke size on left, right, bottom and top. \r\n\r\nSecondly a little bit scale bitmap and draw scaled bitmap on newly created bitmap canvas.\r\n\r\nDraw a color (your stroke color) with **PorterDuff** mode **SRC_ATOP** override original bitmap position with stroke color.\r\n\r\nFinally draw your original bitmap on newly create bitmap canvas.","title":"How to add stroke/border to transparent png image in android?","body":"<p>I have an temporary solution like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>int strokeWidth = 8;\nBitmap originalBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.flower_icon);\nBitmap newStrokedBitmap = Bitmap.createBitmap(originalBitmap.getWidth() + 2 * strokeWidth, originalBitmap.getHeight() + 2 * strokeWidth, Bitmap.Config.ARGB_8888);\nCanvas canvas = new Canvas(newStrokedBitmap);\nfloat scaleX = newStrokedBitmap.getWidth() / originalBitmap.getWidth();\nfloat scaleY = newStrokedBitmap.getHeight() / originalBitmap.getHeight();\nMatrix matrix = new Matrix();\nmatrix.setScale(scaleX, scaleY);\ncanvas.drawBitmap(originalBitmap, matrix, null);\ncanvas.drawColor(Color.WHITE, PorterDuff.Mode.SRC_ATOP); //Color.WHITE is stroke color\ncanvas.drawBitmap(originalBitmap, strokeWidth, strokeWidth, null);\n</code></pre>\n<p>Firstly create a new bitmap with stroke size on left, right, bottom and top.</p>\n<p>Secondly a little bit scale bitmap and draw scaled bitmap on newly created bitmap canvas.</p>\n<p>Draw a color (your stroke color) with <strong>PorterDuff</strong> mode <strong>SRC_ATOP</strong> override original bitmap position with stroke color.</p>\n<p>Finally draw your original bitmap on newly create bitmap canvas.</p>\n"}],"owner":{"account_id":10492872,"reputation":207,"user_id":7795842,"accept_rate":75,"display_name":"a.dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1672700681,"creation_date":1542783773,"question_id":53406813,"body_markdown":"I have transparent images like shapes,letters which I&#39;m fetch from gallery so I need to give them stroke/outline with black color, I can set border but It&#39;s set to whole bitmap like left,right,top and bottom.\r\n\r\n&gt; Same thing we can do with photoshop is giving outerstroke to image but I want to achieve that in android.\r\n\r\nI tried [this][3] and [this][4] It&#39;s give border, But what I want to do is like below\r\nsample image\r\n\r\n**Original Image**\r\n[![without stroke][1]][1]\r\n\r\n**I want like this --&gt;**\r\n[![With stroke][2]][2]\r\n\r\nDoes this possible in android?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G954z.png\r\n  [2]: https://i.stack.imgur.com/OAmuY.png\r\n  [3]: https://stackoverflow.com/a/44001343/7795842\r\n  [4]: https://android--code.blogspot.com/2015/11/android-draw-border-and-shadow-around.html","title":"How to add stroke/border to transparent png image in android?","body":"<p>I have transparent images like shapes,letters which I'm fetch from gallery so I need to give them stroke/outline with black color, I can set border but It's set to whole bitmap like left,right,top and bottom.</p>\n\n<blockquote>\n  <p>Same thing we can do with photoshop is giving outerstroke to image but I want to achieve that in android.</p>\n</blockquote>\n\n<p>I tried <a href=\"https://stackoverflow.com/a/44001343/7795842\">this</a> and <a href=\"https://android--code.blogspot.com/2015/11/android-draw-border-and-shadow-around.html\" rel=\"noreferrer\">this</a> It's give border, But what I want to do is like below\nsample image</p>\n\n<p><strong>Original Image</strong>\n<a href=\"https://i.stack.imgur.com/G954z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G954z.png\" alt=\"without stroke\"></a></p>\n\n<p><strong>I want like this --></strong>\n<a href=\"https://i.stack.imgur.com/OAmuY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OAmuY.png\" alt=\"With stroke\"></a></p>\n\n<p>Does this possible in android?</p>\n"},{"tags":["java","android","json","android-volley"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1672703131,"post_id":74979480,"comment_id":132331521,"body_markdown":"Your new code for tjhe is available wouldn&#39;t work.  You&#39;re changing the value of availability in a thread.  You can&#39;t access it immediately on the main thread, it isn&#39;t set yet.  If you just want to look for the log as a test, move the log statement into the thread.","body":"Your new code for tjhe is available wouldn&#39;t work.  You&#39;re changing the value of availability in a thread.  You can&#39;t access it immediately on the main thread, it isn&#39;t set yet.  If you just want to look for the log as a test, move the log statement into the thread."},{"owner":{"account_id":23752861,"reputation":1,"user_id":17769357,"display_name":"RustedPython"},"score":0,"creation_date":1672793083,"post_id":74979480,"comment_id":132352708,"body_markdown":"Thanks @GabeSechan, I actually ran the whole method in a new thread and moved the logd into the try block just to make sure everything synced. Unfortunately the isNetworkAvailable method still ended up return false. I do appreciate the input!","body":"Thanks @GabeSechan, I actually ran the whole method in a new thread and moved the logd into the try block just to make sure everything synced. Unfortunately the isNetworkAvailable method still ended up return false. I do appreciate the input!"}],"answers":[{"comments":[{"owner":{"account_id":23752861,"reputation":1,"user_id":17769357,"display_name":"RustedPython"},"score":0,"creation_date":1672678838,"post_id":74980254,"comment_id":132326169,"body_markdown":"Thanks for the comment, but I called start before and separately after the .add, but nothing changed. Still blank. I may switch to Retrofit to see if that&#39;s easier","body":"Thanks for the comment, but I called start before and separately after the .add, but nothing changed. Still blank. I may switch to Retrofit to see if that&#39;s easier"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672647841,"creation_date":1672647841,"answer_id":74980254,"question_id":74979480,"body_markdown":"You never called \r\n\r\n    requestQueue.start()\r\n\r\nAlthough I have to say-  unless your really need some feature that only Volley gives you, Retrofit is a much easier to use library, and it avoids some problems with Volley (Volley can cause memory issues with large responses or multiple outstanding requests because it needs to hold the entire response as an in memory String, rather than streaming it to a temp file).\r\n\r\n","title":"Volley in Android not attempting to connect","body":"<p>You never called</p>\n<pre><code>requestQueue.start()\n</code></pre>\n<p>Although I have to say-  unless your really need some feature that only Volley gives you, Retrofit is a much easier to use library, and it avoids some problems with Volley (Volley can cause memory issues with large responses or multiple outstanding requests because it needs to hold the entire response as an in memory String, rather than streaming it to a temp file).</p>\n"}],"owner":{"account_id":23752861,"reputation":1,"user_id":17769357,"display_name":"RustedPython"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672700528,"creation_date":1672640675,"question_id":74979480,"body_markdown":"I&#39;ve been attempting to get Volley to request data from the internet. Code is below. Forgive the verbose code, this was as quick and dirty test just to see if Volley worked. I&#39;ll clean it up once I get it working.\r\n\r\n    \r\n```\r\npublic static Option parseJSON(Context context, String stockTicker, String strikePrice, String expiration) {\r\n        final String apikey = &quot;XXXX&quot;; **//key removed just for StackOverflow, but it works**\r\n        String ticker = &quot;&amp;symbol=&quot;;\r\n        final String baseURL = &quot;https://api.tdameritrade.com/v1/marketdata/quotes?&quot;;\r\n        Option option = new Option();\r\n\r\n        try {\r\n            SimpleDateFormat simpleDate = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n            SimpleDateFormat simpleDateforRequest = new SimpleDateFormat(&quot;MMddyy&quot;);\r\n            String formattedDate = simpleDateforRequest.format(simpleDate.parse(expiration));\r\n            String fullTicker = stockTicker + &quot;_&quot; + formattedDate + &quot;C&quot; + strikePrice;\r\n            ticker = ticker + fullTicker;\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        final String url = baseURL + apikey + ticker;\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(context);\r\n\r\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                String jsonObject = response.toString();\r\n                Log.d(&quot;JSONRequestResponse&quot;, &quot;Response: &quot; + jsonObject);\r\n            }\r\n        }, error -&gt; Log.d(&quot;JSONRequestResponse&quot;, &quot;Error: &quot; + error.toString()));\r\n\r\n        queue.add(request);\r\n\r\n        Log.d(&quot;JSON&quot;, &quot;Request&quot; + request + &quot; URL: &quot; + url);\r\n        return option; **//method doesn&#39;t create an option yet, but the problem comes well before this.**\r\n    }\r\n```\r\n\r\n\r\nThe problem is that none of the logd within JsonArrayRequest are triggered and the one at the end is just an empty array (&quot;[]&quot;), making me think that Volley isn&#39;t attempting to connect.\r\n\r\n- I&#39;ve tried using JsonObjectRequest and StringRequest as well\r\n- I&#39;ve already added &#39;&lt;uses-permission android:name=&quot;android.permission.INTERNET&#39;/&gt; to the manifest, as well as trying &quot;ACCESS_NETWORK_STATE&quot;\r\n- The final URL works. I clicked it for the final logd and it takes me to a JSON page with the right info\r\n- The gradle version is 1.2.1, so it should be the most up-to-date\r\n\r\n\r\n\r\nAgain, I&#39;m just testing to see if Volley retrieves a JSON, I haven&#39;t gotten to the return Object yet. At this point, I have no idea what it can be. Any help is much appreciated\r\n\r\n***UPDATE****************************************\r\n\r\nAs expected, it doesn&#39;t seem like the app is connecting to the internet. I&#39;ve used this following method to see if there is a connect and it returns false:\r\n\r\n     public static boolean isNetworkAvailable() {\r\n        Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable first line&quot;);\r\n        final boolean[] availability = {false};\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    availability[0] = InetAddress.getByName(&quot;www.google.com&quot;).isReachable(5000);\r\n                } catch (UnknownHostException e) {\r\n                    Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable UnknownHost!&quot;);\r\n                } catch (IOException e) {\r\n                    Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable IOException!&quot;);\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        Log.d(&quot;CheckPoint&quot;, &quot;Availability: &quot; + availability[0]);\r\n        return availability[0];\r\n    }","title":"Volley in Android not attempting to connect","body":"<p>I've been attempting to get Volley to request data from the internet. Code is below. Forgive the verbose code, this was as quick and dirty test just to see if Volley worked. I'll clean it up once I get it working.</p>\n<pre><code>public static Option parseJSON(Context context, String stockTicker, String strikePrice, String expiration) {\n        final String apikey = &quot;XXXX&quot;; **//key removed just for StackOverflow, but it works**\n        String ticker = &quot;&amp;symbol=&quot;;\n        final String baseURL = &quot;https://api.tdameritrade.com/v1/marketdata/quotes?&quot;;\n        Option option = new Option();\n\n        try {\n            SimpleDateFormat simpleDate = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n            SimpleDateFormat simpleDateforRequest = new SimpleDateFormat(&quot;MMddyy&quot;);\n            String formattedDate = simpleDateforRequest.format(simpleDate.parse(expiration));\n            String fullTicker = stockTicker + &quot;_&quot; + formattedDate + &quot;C&quot; + strikePrice;\n            ticker = ticker + fullTicker;\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        final String url = baseURL + apikey + ticker;\n\n        RequestQueue queue = Volley.newRequestQueue(context);\n\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray response) {\n                String jsonObject = response.toString();\n                Log.d(&quot;JSONRequestResponse&quot;, &quot;Response: &quot; + jsonObject);\n            }\n        }, error -&gt; Log.d(&quot;JSONRequestResponse&quot;, &quot;Error: &quot; + error.toString()));\n\n        queue.add(request);\n\n        Log.d(&quot;JSON&quot;, &quot;Request&quot; + request + &quot; URL: &quot; + url);\n        return option; **//method doesn't create an option yet, but the problem comes well before this.**\n    }\n</code></pre>\n<p>The problem is that none of the logd within JsonArrayRequest are triggered and the one at the end is just an empty array (&quot;[]&quot;), making me think that Volley isn't attempting to connect.</p>\n<ul>\n<li>I've tried using JsonObjectRequest and StringRequest as well</li>\n<li>I've already added '&lt;uses-permission android:name=&quot;android.permission.INTERNET'/&gt; to the manifest, as well as trying &quot;ACCESS_NETWORK_STATE&quot;</li>\n<li>The final URL works. I clicked it for the final logd and it takes me to a JSON page with the right info</li>\n<li>The gradle version is 1.2.1, so it should be the most up-to-date</li>\n</ul>\n<p>Again, I'm just testing to see if Volley retrieves a JSON, I haven't gotten to the return Object yet. At this point, I have no idea what it can be. Any help is much appreciated</p>\n<p><em><strong>UPDATE</strong></em>*************************************</p>\n<p>As expected, it doesn't seem like the app is connecting to the internet. I've used this following method to see if there is a connect and it returns false:</p>\n<pre><code> public static boolean isNetworkAvailable() {\n    Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable first line&quot;);\n    final boolean[] availability = {false};\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                availability[0] = InetAddress.getByName(&quot;www.google.com&quot;).isReachable(5000);\n            } catch (UnknownHostException e) {\n                Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable UnknownHost!&quot;);\n            } catch (IOException e) {\n                Log.d(&quot;CheckPoint&quot;, &quot;isNetworkAvailable IOException!&quot;);\n            }\n        }\n    }).start();\n\n    Log.d(&quot;CheckPoint&quot;, &quot;Availability: &quot; + availability[0]);\n    return availability[0];\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1672709058,"post_id":74986576,"comment_id":132332292,"body_markdown":"The relations between Image pixels and there positions depends on how the image is displayed. If you are using an ImageView is dependent scaleType.\nSimple multiply by a &quot;mult&quot; almost never correct.\nIt is always a linear screenx =  pixelsx * M + C. But the math for M and C can be complex depending on how the image gets there.\n\nProvide more details or example code maybe some one can help you.","body":"The relations between Image pixels and there positions depends on how the image is displayed. If you are using an ImageView is dependent scaleType. Simple multiply by a &quot;mult&quot; almost never correct. It is always a linear screenx =  pixelsx * M + C. But the math for M and C can be complex depending on how the image gets there.  Provide more details or example code maybe some one can help you."},{"owner":{"account_id":6748429,"reputation":163,"user_id":5199289,"display_name":"stilllearning"},"score":0,"creation_date":1672749419,"post_id":74986576,"comment_id":132340814,"body_markdown":"@hoford It is an ImageView inside of a ConstraintLayout, scaleType is set to `fitStart` so it will fill out the entire width of the screen. Those are the only elements present before adding the buttons. The image itself is just a .png in the drawable folder. Is that all the info needed or what more do you need to know? Your M would be my mult I think and C is an offset, but since it is the entire width of the screen there should be no offset?","body":"@hoford It is an ImageView inside of a ConstraintLayout, scaleType is set to <code>fitStart</code> so it will fill out the entire width of the screen. Those are the only elements present before adding the buttons. The image itself is just a .png in the drawable folder. Is that all the info needed or what more do you need to know? Your M would be my mult I think and C is an offset, but since it is the entire width of the screen there should be no offset?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1672766726,"post_id":74986576,"comment_id":132346563,"body_markdown":"FitStart is defined as : \nCompute a scale that will maintain the original src aspect ratio, but will also ensure that src fits entirely inside dst. At least one axis (X or Y) will fit exactly. START aligns the result to the left and top edges of dst.\nSo there will be blank space. Dependent on the relative aspect ratios.\n(So typically one of the two constraints will be wrong.)\nprint all the values you set. Then in a postDelay get the positions of everything involved.  See if it makes sense to you.  \nAlternatively build a simple demo of the of use case.","body":"FitStart is defined as :  Compute a scale that will maintain the original src aspect ratio, but will also ensure that src fits entirely inside dst. At least one axis (X or Y) will fit exactly. START aligns the result to the left and top edges of dst. So there will be blank space. Dependent on the relative aspect ratios. (So typically one of the two constraints will be wrong.) print all the values you set. Then in a postDelay get the positions of everything involved.  See if it makes sense to you.   Alternatively build a simple demo of the of use case."},{"owner":{"account_id":6748429,"reputation":163,"user_id":5199289,"display_name":"stilllearning"},"score":0,"creation_date":1672774716,"post_id":74986576,"comment_id":132348863,"body_markdown":"As the aspect ratio stays the same the multiplier should be the same for both the x and y axis which means I should be able to set everything relative to the top left corner. I&#39;ll try and simplify some things and will try to make a demo. Alternatively is there a way I can get the actual size of the image after it is auto scaled?","body":"As the aspect ratio stays the same the multiplier should be the same for both the x and y axis which means I should be able to set everything relative to the top left corner. I&#39;ll try and simplify some things and will try to make a demo. Alternatively is there a way I can get the actual size of the image after it is auto scaled?"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1672813501,"post_id":74986576,"comment_id":132355524,"body_markdown":"Good easy question imageView. getImageMatrix()\nSearch around for examples as to how to use it.","body":"Good easy question imageView. getImageMatrix() Search around for examples as to how to use it."},{"owner":{"account_id":6748429,"reputation":163,"user_id":5199289,"display_name":"stilllearning"},"score":0,"creation_date":1672860791,"post_id":74986576,"comment_id":132370544,"body_markdown":"After playing around for a bit I noticed that when I place a button at 0,0 it&#39;s not in the corner, seems te be some kind of padding. When I remove the image view, the button is in the corner. I don&#39;t understand how the imageview can effect other views, as they only have constraints to the ConstraintLayout","body":"After playing around for a bit I noticed that when I place a button at 0,0 it&#39;s not in the corner, seems te be some kind of padding. When I remove the image view, the button is in the corner. I don&#39;t understand how the imageview can effect other views, as they only have constraints to the ConstraintLayout"},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1673026774,"post_id":74986576,"comment_id":132412434,"body_markdown":"I would have to see some XML to explain it.\nIt should be easy enough to generate a ConstraintLayout containing a button and ImageView in XML to demo the effect you are referring  to.","body":"I would have to see some XML to explain it. It should be easy enough to generate a ConstraintLayout containing a button and ImageView in XML to demo the effect you are referring  to."}],"owner":{"account_id":6748429,"reputation":163,"user_id":5199289,"display_name":"stilllearning"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672699820,"creation_date":1672689789,"question_id":74986576,"body_markdown":"I have an image inside of a Constraint layout, I want to programmatically add buttons to it, so it makes sense with the image. Imagine an image of multiple squares where each square should correspond with a button.\r\n\r\nI let it scale the image so it takes up the entire width of the screen.\r\n\r\nI know the pixel coordinates of where the button should be located but I&#39;m having trouble placing them correctly on the screen.\r\n\r\nI tried converting the pixel location to the location on the screen by getting the width of the screen to calculate the multiplier which should be the same horizontally and vertically as it keeps the aspect ratio. But it&#39;s off by quite a bit.\r\n\r\n```java\r\n\r\nfloat mult = ((float) x) / ((float) SIZE_IMG.x); # x is the width of the screen\r\nConstraintLayout viewById = context.findViewById(R.id.constraintLayout);\r\nConstraintSet constraintSet = new ConstraintSet();\r\n\r\nButton button = new Button(context);\r\nbutton.setId(View.generateViewId());\r\n\r\nviewById.addView(button);\r\n\r\nconstraintSet.clone(viewById);\r\nconstraintSet.connect(button.getId(), ConstraintSet.START, R.id.constraintLayout, ConstraintSet.START, (int) (mult * START.x));\r\nconstraintSet.connect(button.getId(), ConstraintSet.TOP, R.id.constraintLayout, ConstraintSet.TOP, (int) (mult * START.y));\r\nconstraintSet.applyTo(viewById);\r\n```\r\n\r\nX is found by \r\n```java\r\nViewTreeObserver vto = viewById.getViewTreeObserver();\r\nvto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\r\n    public boolean onPreDraw() {\r\n        viewById.getViewTreeObserver().removeOnPreDrawListener(this);\r\n        int finalHeight, finalWidth;\r\n        finalHeight = viewById.getHeight();\r\n        finalWidth = viewById.getWidth();\r\n        yellowScoreBoard.initBoardOn(finalWidth, finalHeight, mainActivity);\r\n        return true;\r\n    }\r\n});\r\n```\r\n","title":"Android add buttons on image programmatically","body":"<p>I have an image inside of a Constraint layout, I want to programmatically add buttons to it, so it makes sense with the image. Imagine an image of multiple squares where each square should correspond with a button.</p>\n<p>I let it scale the image so it takes up the entire width of the screen.</p>\n<p>I know the pixel coordinates of where the button should be located but I'm having trouble placing them correctly on the screen.</p>\n<p>I tried converting the pixel location to the location on the screen by getting the width of the screen to calculate the multiplier which should be the same horizontally and vertically as it keeps the aspect ratio. But it's off by quite a bit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfloat mult = ((float) x) / ((float) SIZE_IMG.x); # x is the width of the screen\nConstraintLayout viewById = context.findViewById(R.id.constraintLayout);\nConstraintSet constraintSet = new ConstraintSet();\n\nButton button = new Button(context);\nbutton.setId(View.generateViewId());\n\nviewById.addView(button);\n\nconstraintSet.clone(viewById);\nconstraintSet.connect(button.getId(), ConstraintSet.START, R.id.constraintLayout, ConstraintSet.START, (int) (mult * START.x));\nconstraintSet.connect(button.getId(), ConstraintSet.TOP, R.id.constraintLayout, ConstraintSet.TOP, (int) (mult * START.y));\nconstraintSet.applyTo(viewById);\n</code></pre>\n<p>X is found by</p>\n<pre class=\"lang-java prettyprint-override\"><code>ViewTreeObserver vto = viewById.getViewTreeObserver();\nvto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\n    public boolean onPreDraw() {\n        viewById.getViewTreeObserver().removeOnPreDrawListener(this);\n        int finalHeight, finalWidth;\n        finalHeight = viewById.getHeight();\n        finalWidth = viewById.getWidth();\n        yellowScoreBoard.initBoardOn(finalWidth, finalHeight, mainActivity);\n        return true;\n    }\n});\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1672691213,"post_id":74986432,"comment_id":132329223,"body_markdown":"Only the required fields are not visibles in the UI ? For example do you see the `configFile` option ?","body":"Only the required fields are not visibles in the UI ? For example do you see the <code>configFile</code> option ?"},{"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"score":0,"creation_date":1672726136,"post_id":74986432,"comment_id":132334378,"body_markdown":"no, all fields are part of additional parameters that need to pass as key and value where the key is name of the parameters","body":"no, all fields are part of additional parameters that need to pass as key and value where the key is name of the parameters"}],"answers":[{"comments":[{"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"score":1,"creation_date":1672816932,"post_id":74987646,"comment_id":132356126,"body_markdown":"Thanks, Now it is showing. Is there any way that when we are creating a custom template it can automatically move the _metadata file we are maintaining in the source code?","body":"Thanks, Now it is showing. Is there any way that when we are creating a custom template it can automatically move the _metadata file we are maintaining in the source code?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":1,"creation_date":1672883530,"post_id":74987646,"comment_id":132375673,"body_markdown":"In the repository https://github.com/GoogleCloudPlatform/DataflowTemplates we have some work to generate the _metadata file based on annotations, but it requires an extra set of annotations (see: https://github.com/GoogleCloudPlatform/DataflowTemplates#metadata-annotations).","body":"In the repository <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/DataflowTemplates</a> we have some work to generate the _metadata file based on annotations, but it requires an extra set of annotations (see: <a href=\"https://github.com/GoogleCloudPlatform/DataflowTemplates#metadata-annotations\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/&hellip;</a>)."}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672699340,"creation_date":1672699340,"answer_id":74987646,"question_id":74986432,"body_markdown":"The Dataflow UI reads the `_metadata` file (also called spec) for the list of parameters, not the actual source code.\r\n\r\nIn the metadata parameter, you can specify `&quot;isOptional&quot;: true` for any parameter.\r\n","title":"How to mentioned Required and Optional Parameters in GCP Dataflow Template?","body":"<p>The Dataflow UI reads the <code>_metadata</code> file (also called spec) for the list of parameters, not the actual source code.</p>\n<p>In the metadata parameter, you can specify <code>&quot;isOptional&quot;: true</code> for any parameter.</p>\n"}],"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74987646,"answer_count":1,"score":1,"last_activity_date":1672699340,"creation_date":1672688583,"question_id":74986432,"body_markdown":"I have created a custom Dataflow Template that uses a few mandatory and optional parameters. I am able to create a Template but when I open it in **Dataflow UI**, it does not show my declared required parameters. \r\n\r\nI got one annotation `@Validation.Required` but that is also not working. Is there anything I am missing?\r\n\r\n**My Options Class is** \r\n\r\n    package org.example;\r\n    \r\n    import org.apache.beam.sdk.extensions.gcp.options.GcpOptions;\r\n    import org.apache.beam.sdk.options.Default;\r\n    import org.apache.beam.sdk.options.Description;\r\n    import org.apache.beam.sdk.options.Validation;\r\n    import org.apache.beam.sdk.options.ValueProvider;\r\n    \r\n    public interface TestOptions extends GcpOptions {\r\n        @Description(&quot;Project Id&quot;)\r\n        @Default.String(&quot;Project Id&quot;)\r\n        ValueProvider&lt;String&gt; getProjectId();\r\n        void setProjectId(ValueProvider&lt;String&gt; value);\r\n    \r\n        @Validation.Required\r\n        @Description(&quot;Path to the input file&quot;)\r\n        @Default.String(&quot;gs://nikhil-test-bucket/Test/input.txt&quot;)\r\n        ValueProvider&lt;String&gt; getInputFile();\r\n        void setInputFile(ValueProvider&lt;String&gt; value);\r\n    \r\n        @Validation.Required\r\n        @Description(&quot;Path to the output file&quot;)\r\n        @Default.String(&quot;gs://nikhil-test-bucket/Test/output.txt&quot;)\r\n        ValueProvider&lt;String&gt; getOutputFile();\r\n        void setOutputFile(ValueProvider&lt;String&gt; value);\r\n    \r\n        @Description(&quot;Path to the Config file&quot;)\r\n        @Default.String(&quot;gs://nikhil-test-bucket/Test/config.txt&quot;)\r\n        ValueProvider&lt;String&gt; getConfigFile();\r\n        void setConfigFile(ValueProvider&lt;String&gt; value);\r\n    }","title":"How to mentioned Required and Optional Parameters in GCP Dataflow Template?","body":"<p>I have created a custom Dataflow Template that uses a few mandatory and optional parameters. I am able to create a Template but when I open it in <strong>Dataflow UI</strong>, it does not show my declared required parameters.</p>\n<p>I got one annotation <code>@Validation.Required</code> but that is also not working. Is there anything I am missing?</p>\n<p><strong>My Options Class is</strong></p>\n<pre><code>package org.example;\n\nimport org.apache.beam.sdk.extensions.gcp.options.GcpOptions;\nimport org.apache.beam.sdk.options.Default;\nimport org.apache.beam.sdk.options.Description;\nimport org.apache.beam.sdk.options.Validation;\nimport org.apache.beam.sdk.options.ValueProvider;\n\npublic interface TestOptions extends GcpOptions {\n    @Description(&quot;Project Id&quot;)\n    @Default.String(&quot;Project Id&quot;)\n    ValueProvider&lt;String&gt; getProjectId();\n    void setProjectId(ValueProvider&lt;String&gt; value);\n\n    @Validation.Required\n    @Description(&quot;Path to the input file&quot;)\n    @Default.String(&quot;gs://nikhil-test-bucket/Test/input.txt&quot;)\n    ValueProvider&lt;String&gt; getInputFile();\n    void setInputFile(ValueProvider&lt;String&gt; value);\n\n    @Validation.Required\n    @Description(&quot;Path to the output file&quot;)\n    @Default.String(&quot;gs://nikhil-test-bucket/Test/output.txt&quot;)\n    ValueProvider&lt;String&gt; getOutputFile();\n    void setOutputFile(ValueProvider&lt;String&gt; value);\n\n    @Description(&quot;Path to the Config file&quot;)\n    @Default.String(&quot;gs://nikhil-test-bucket/Test/config.txt&quot;)\n    ValueProvider&lt;String&gt; getConfigFile();\n    void setConfigFile(ValueProvider&lt;String&gt; value);\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":50410,"reputation":3979,"user_id":150371,"accept_rate":54,"display_name":"raksja"},"score":1,"creation_date":1342128104,"post_id":8918165,"comment_id":15128463,"body_markdown":"Give it a try with Bing - &quot;Incremental Maven Build&quot; - it gave me this which is quite good - [blog on incremental build plugin](http://harshana05.blogspot.com/2011/05/apache-maven-incremental-build-support.html)","body":"Give it a try with Bing - &quot;Incremental Maven Build&quot; - it gave me this which is quite good - <a href=\"http://harshana05.blogspot.com/2011/05/apache-maven-incremental-build-support.html\" rel=\"nofollow noreferrer\">blog on incremental build plugin</a>"},{"owner":{"account_id":50410,"reputation":3979,"user_id":150371,"accept_rate":54,"display_name":"raksja"},"score":1,"creation_date":1342128193,"post_id":8918165,"comment_id":15128491,"body_markdown":"But it doesn&#39;t provide functionality of &quot;Incremental Testing&quot;, all modules&#39; tests will be run eventhough build happens incrementally.","body":"But it doesn&#39;t provide functionality of &quot;Incremental Testing&quot;, all modules&#39; tests will be run eventhough build happens incrementally."}],"answers":[{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1326926382,"creation_date":1326926382,"answer_id":8918586,"question_id":8918165,"body_markdown":"Maven supports building subsets of multi module projects using the command line arguments `-pl`, `-am` and `-amd` to specify modules to build, also build dependencies and also build dependents, respectively. It will also only compile changed source files in any given module (not really a Maven feature so much as a javac feature).","title":"Does Maven support incremental builds?","body":"<p>Maven supports building subsets of multi module projects using the command line arguments <code>-pl</code>, <code>-am</code> and <code>-amd</code> to specify modules to build, also build dependencies and also build dependents, respectively. It will also only compile changed source files in any given module (not really a Maven feature so much as a javac feature).</p>\n"},{"comments":[{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":7,"creation_date":1326928319,"post_id":8918892,"comment_id":11158287,"body_markdown":"For comparison, in my code the time spent compiling Java code is about 1% of the total time to build, maybe less. It&#39;s short enough that I _simply don&#39;t care_ to try to optimize it further.","body":"For comparison, in my code the time spent compiling Java code is about 1% of the total time to build, maybe less. It&#39;s short enough that I <i>simply don&#39;t care</i> to try to optimize it further."},{"owner":{"account_id":197523,"reputation":4207,"user_id":441652,"accept_rate":68,"display_name":"uvsmtid"},"score":17,"creation_date":1447985614,"post_id":8918892,"comment_id":55401516,"body_markdown":"The problem is exactly in all other build steps (primarily unit testing, packaging, other plugins like assembly, etc.) which depend on compilation phase. If they got triggered regardless of whether there were any changes to compile or not, you&#39;ve got all the time wasted people try to avoid when they ask for incremental builds.","body":"The problem is exactly in all other build steps (primarily unit testing, packaging, other plugins like assembly, etc.) which depend on compilation phase. If they got triggered regardless of whether there were any changes to compile or not, you&#39;ve got all the time wasted people try to avoid when they ask for incremental builds."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":9,"creation_date":1470768224,"post_id":8918892,"comment_id":65080535,"body_markdown":"Maven does not build incrementally. The creator of Maven is working on this with a new lifecycle. I have absolutely no idea why the moderator @Ryan deleted an answered that referenced this: http://stackoverflow.com/posts/28224819/revisions","body":"Maven does not build incrementally. The creator of Maven is working on this with a new lifecycle. I have absolutely no idea why the moderator @Ryan deleted an answered that referenced this: <a href=\"http://stackoverflow.com/posts/28224819/revisions\">stackoverflow.com/posts/28224819/revisions</a>"},{"owner":{"account_id":964092,"reputation":807,"user_id":987860,"accept_rate":47,"display_name":"Ben"},"score":34,"creation_date":1475749287,"post_id":8918892,"comment_id":67072666,"body_markdown":"`the compiler plugin is so fast that building fresh every time is not a bottleneck with sane codebase sizes` - Seriously? That reasoning is the same as: Why would you fix a bug that keeps crashing your application which automatically restarts super fast while fixing the bug would take hours.","body":"<code>the compiler plugin is so fast that building fresh every time is not a bottleneck with sane codebase sizes</code> - Seriously? That reasoning is the same as: Why would you fix a bug that keeps crashing your application which automatically restarts super fast while fixing the bug would take hours."},{"owner":{"account_id":177955,"reputation":4667,"user_id":409638,"accept_rate":78,"display_name":"robert"},"score":5,"creation_date":1482493253,"post_id":8918892,"comment_id":69803815,"body_markdown":"The likes of this answer, is exactly the reason I&#39;ll never willingly use maven. Poor documentation. No straight answers. Far too much &quot;Woo&quot; hocus pocus.","body":"The likes of this answer, is exactly the reason I&#39;ll never willingly use maven. Poor documentation. No straight answers. Far too much &quot;Woo&quot; hocus pocus."},{"owner":{"account_id":8084233,"reputation":400,"user_id":6092270,"display_name":"Ville Oikarinen"},"score":3,"creation_date":1494330001,"post_id":8918892,"comment_id":74772684,"body_markdown":"Yes, compilation is fast. But unnecessary compilation still slows down a build, because changed timestamps of classes/jars make it impossible/hard to reliably avoid unnecessary rerunning of tests etc. The whole build system needs to be designed with incremental object graphs in mind. Unfortunately maven hasn&#39;t been.","body":"Yes, compilation is fast. But unnecessary compilation still slows down a build, because changed timestamps of classes/jars make it impossible/hard to reliably avoid unnecessary rerunning of tests etc. The whole build system needs to be designed with incremental object graphs in mind. Unfortunately maven hasn&#39;t been."},{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":3,"creation_date":1519994466,"post_id":8918892,"comment_id":85143562,"body_markdown":"Using tools like gradle, it&#39;s not just about avoiding the running of javac, it&#39;s also about avoiding tasks that depend on the output of javac.  That is, gradle can also avoid running test tasks if the sources for that module haven&#39;t changed.  Maven fails because it has to run all tasks every time, as it has no notion of &quot;if you didn&#39;t change the jar from projectA, don&#39;t build or test projectB&quot;.","body":"Using tools like gradle, it&#39;s not just about avoiding the running of javac, it&#39;s also about avoiding tasks that depend on the output of javac.  That is, gradle can also avoid running test tasks if the sources for that module haven&#39;t changed.  Maven fails because it has to run all tasks every time, as it has no notion of &quot;if you didn&#39;t change the jar from projectA, don&#39;t build or test projectB&quot;."},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":1,"creation_date":1545304137,"post_id":8918892,"comment_id":94582071,"body_markdown":"IDK, my simple Java API server takes at least 5 seconds to build/run using `mvn -offline -T 16 package exec:java -DskipTests` and I am on a very fast machine.","body":"IDK, my simple Java API server takes at least 5 seconds to build/run using <code>mvn -offline -T 16 package exec:java -DskipTests</code> and I am on a very fast machine."},{"owner":{"account_id":7123143,"reputation":439,"user_id":5447019,"display_name":"Jason Young"},"score":0,"creation_date":1568394756,"post_id":8918892,"comment_id":102273194,"body_markdown":"This answer is not correct as compiling is just a small part of building.","body":"This answer is not correct as compiling is just a small part of building."}],"tags":[],"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"comment_count":9,"down_vote_count":12,"up_vote_count":18,"is_accepted":true,"score":6,"last_activity_date":1326928228,"creation_date":1326928228,"answer_id":8918892,"question_id":8918165,"body_markdown":"Maven builds incrementally by default, but it turns out that the compiler plugin (i.e., the core of javac) is so fast that building fresh every time is not a bottleneck with sane codebase sizes, not by comparison with constructing large assemblies or running large test suites. (Java, like most languages, is much faster to compile than C++.)","title":"Does Maven support incremental builds?","body":"<p>Maven builds incrementally by default, but it turns out that the compiler plugin (i.e., the core of javac) is so fast that building fresh every time is not a bottleneck with sane codebase sizes, not by comparison with constructing large assemblies or running large test suites. (Java, like most languages, is much faster to compile than C++.)</p>\n"},{"comments":[{"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"score":0,"creation_date":1459897761,"post_id":8922028,"comment_id":60492063,"body_markdown":"I am assuming this is similar to maven 3.1 incremental compilation\nhttps://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation","body":"I am assuming this is similar to maven 3.1 incremental compilation <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>"},{"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"score":5,"creation_date":1525282196,"post_id":8922028,"comment_id":87298984,"body_markdown":"The link is broken.","body":"The link is broken."},{"owner":{"account_id":243644,"reputation":3925,"user_id":515973,"display_name":"Julien Carsique"},"score":0,"creation_date":1613472412,"post_id":8922028,"comment_id":117079252,"body_markdown":"It&#39;s been moved to GitHub: https://github.com/vsellier/maven-incremental-build","body":"It&#39;s been moved to GitHub: <a href=\"https://github.com/vsellier/maven-incremental-build\" rel=\"nofollow noreferrer\">github.com/vsellier/maven-incremental-build</a>"}],"tags":[],"owner":{"account_id":305674,"reputation":659,"user_id":615976,"display_name":"Pradeep Fernando"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1454246544,"creation_date":1326955300,"answer_id":8922028,"question_id":8918165,"body_markdown":"You can use the [maven-incremental build plugin], if your project has hundreds of modules. It saves lot of time. \r\n\r\n[maven-incremental build plugin]: http://maven-incremental-build.java.net/site/usage.html","title":"Does Maven support incremental builds?","body":"<p>You can use the <a href=\"http://maven-incremental-build.java.net/site/usage.html\" rel=\"nofollow\">maven-incremental build plugin</a>, if your project has hundreds of modules. It saves lot of time. </p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1427441848,"creation_date":1422566468,"answer_id":28224819,"question_id":8918165,"body_markdown":"Takari Maven Lifecycle\r\n===\r\nYes, it is possible now thanks to [takari-lifecycle-plugin](https://github.com/takari/takari-lifecycle). Take look at this sample project: [maven-incremental-compilation](https://github.com/mariuszs/maven-incremental-compilation)\r\n\r\nSample output\r\n---\r\n\r\n    [INFO] --- takari-lifecycle-plugin:1.10.2:compile (default-compile) @ maven-incremental-compilation ---\r\n    [INFO] Performing incremental build\r\n    [INFO] Compiling 2 sources to /home/mariuszs/maven-incremental-compilation/target/classes\r\n    [INFO] Compiled 1 out of 2 sources (670 ms)\r\n\r\nMore information\r\n--\r\n\r\n* [TEAM Documentation - The Takari Lifecycle](http://takari.io/book/40-lifecycle.html)\r\n* [Java Incremental Compilation](http://takari.io/2014/10/16/incremental-compilation.html)","title":"Does Maven support incremental builds?","body":"<h1>Takari Maven Lifecycle</h1>\n\n<p>Yes, it is possible now thanks to <a href=\"https://github.com/takari/takari-lifecycle\" rel=\"nofollow\">takari-lifecycle-plugin</a>. Take look at this sample project: <a href=\"https://github.com/mariuszs/maven-incremental-compilation\" rel=\"nofollow\">maven-incremental-compilation</a></p>\n\n<h2>Sample output</h2>\n\n<pre><code>[INFO] --- takari-lifecycle-plugin:1.10.2:compile (default-compile) @ maven-incremental-compilation ---\n[INFO] Performing incremental build\n[INFO] Compiling 2 sources to /home/mariuszs/maven-incremental-compilation/target/classes\n[INFO] Compiled 1 out of 2 sources (670 ms)\n</code></pre>\n\n<h2>More information</h2>\n\n<ul>\n<li><a href=\"http://takari.io/book/40-lifecycle.html\" rel=\"nofollow\">TEAM Documentation - The Takari Lifecycle</a></li>\n<li><a href=\"http://takari.io/2014/10/16/incremental-compilation.html\" rel=\"nofollow\">Java Incremental Compilation</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1967071,"reputation":1336,"user_id":1767021,"accept_rate":76,"display_name":"deldev"},"score":0,"creation_date":1581616801,"post_id":41301660,"comment_id":106505682,"body_markdown":"To disable all the other unnecessary cruft, try look this post https://stackoverflow.com/a/11081252/1767021","body":"To disable all the other unnecessary cruft, try look this post <a href=\"https://stackoverflow.com/a/11081252/1767021\">stackoverflow.com/a/11081252/1767021</a>"},{"owner":{"account_id":177955,"reputation":4667,"user_id":409638,"accept_rate":78,"display_name":"robert"},"score":0,"creation_date":1581689912,"post_id":41301660,"comment_id":106531470,"body_markdown":"I decided to treat my build issues as an X/Y problem, and just eliminated Maven. Everybody is much happier now.","body":"I decided to treat my build issues as an X/Y problem, and just eliminated Maven. Everybody is much happier now."}],"tags":[],"owner":{"account_id":177955,"reputation":4667,"user_id":409638,"accept_rate":78,"display_name":"robert"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1482496560,"creation_date":1482496560,"answer_id":41301660,"question_id":8918165,"body_markdown":"I can&#39;t quite figure out the dynamic that drives the Maven community but it isn&#39;t one that&#39;s friendly to having fine-grained control over your build-process.\r\n\r\nAnyhow, after digging around I found an answer that worked for me here: http://www.codesenior.com/en/tutorial/Java-Maven-Compile-Only-Changed-Files\r\n\r\nNote that setting the value to `false` confused me at first, but an explanation is given here: https://stackoverflow.com/a/19653164/409638\r\n\r\nReproduced here for convenience:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.6&lt;/source&gt;\r\n            &lt;target&gt;1.6&lt;/target&gt;\r\n            &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIt&#39;s the `useIncrementalCompilation` set to `false` that is key here.\r\n\r\nI can confirm that when I run my build I have gone from:\r\n\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 114 source files to /home/vagrant/workspace/splat/target/classes\r\n\r\nto\r\n\r\n    [INFO] Compiling 1 source file to /home/vagrant/workspace/splat/target/classes\r\n\r\nwhich has shaved a few seconds of my incremental build. Now all I&#39;ve got to do is figure out how to disable all the other unnecessary cruft that&#39;s slowing down my edit/evaluate cycles ...\r\n\r\n","title":"Does Maven support incremental builds?","body":"<p>I can't quite figure out the dynamic that drives the Maven community but it isn't one that's friendly to having fine-grained control over your build-process.</p>\n\n<p>Anyhow, after digging around I found an answer that worked for me here: <a href=\"http://www.codesenior.com/en/tutorial/Java-Maven-Compile-Only-Changed-Files\" rel=\"noreferrer\">http://www.codesenior.com/en/tutorial/Java-Maven-Compile-Only-Changed-Files</a></p>\n\n<p>Note that setting the value to <code>false</code> confused me at first, but an explanation is given here: <a href=\"https://stackoverflow.com/a/19653164/409638\">https://stackoverflow.com/a/19653164/409638</a></p>\n\n<p>Reproduced here for convenience:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n        &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>It's the <code>useIncrementalCompilation</code> set to <code>false</code> that is key here.</p>\n\n<p>I can confirm that when I run my build I have gone from:</p>\n\n<pre><code>[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 114 source files to /home/vagrant/workspace/splat/target/classes\n</code></pre>\n\n<p>to</p>\n\n<pre><code>[INFO] Compiling 1 source file to /home/vagrant/workspace/splat/target/classes\n</code></pre>\n\n<p>which has shaved a few seconds of my incremental build. Now all I've got to do is figure out how to disable all the other unnecessary cruft that's slowing down my edit/evaluate cycles ...</p>\n"},{"comments":[{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1630431247,"post_id":68987687,"comment_id":121952929,"body_markdown":"Just a hint what to expect - build time for 700+ modules project reduces from 50 mins to 4 mins","body":"Just a hint what to expect - build time for 700+ modules project reduces from 50 mins to 4 mins"}],"tags":[],"owner":{"account_id":472656,"reputation":161,"user_id":881257,"display_name":"Alexander Ashitkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672699249,"creation_date":1630342278,"answer_id":68987687,"question_id":8918165,"body_markdown":"Update: truly incremental build support - similar to one in Gradle - has made it in Maven code base. Introduction video is here: https://youtu.be/DEQG4CNFMFE\r\n\r\nUpdate2: maven build cache extension officially released - https://github.com/apache/maven-build-cache-extension\r\n\r\nKind regards\r\nAlex","title":"Does Maven support incremental builds?","body":"<p>Update: truly incremental build support - similar to one in Gradle - has made it in Maven code base. Introduction video is here: <a href=\"https://youtu.be/DEQG4CNFMFE\" rel=\"nofollow noreferrer\">https://youtu.be/DEQG4CNFMFE</a></p>\n<p>Update2: maven build cache extension officially released - <a href=\"https://github.com/apache/maven-build-cache-extension\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-build-cache-extension</a></p>\n<p>Kind regards\nAlex</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39530,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":8918892,"answer_count":6,"score":57,"last_activity_date":1672699249,"creation_date":1326924302,"question_id":8918165,"body_markdown":"How does one use Maven to support incremental builds? Is there a guide somewhere? (top Google results are disappointing)","title":"Does Maven support incremental builds?","body":"<p>How does one use Maven to support incremental builds? Is there a guide somewhere? (top Google results are disappointing)</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672700432,"post_id":74987621,"comment_id":132331084,"body_markdown":"Put a breakpoint in `FileSystemPreferences.setupUserRoot` and see how its deciding which directory to use. Setting `java.util.prefs.userRoot` should work.","body":"Put a breakpoint in <code>FileSystemPreferences.setupUserRoot</code> and see how its deciding which directory to use. Setting <code>java.util.prefs.userRoot</code> should work."},{"owner":{"account_id":27415509,"reputation":1,"user_id":20914775,"display_name":"CarlinJ"},"score":0,"creation_date":1672712356,"post_id":74987621,"comment_id":132332748,"body_markdown":"Thanks for the help, I found the problem but not sure how to fix it. The program is a launcher for another JAR file. The VM option is applied to the launcher but not the JAR file it downloads and launches. I need the launcher to pass the argument to another jar. Is it possible?","body":"Thanks for the help, I found the problem but not sure how to fix it. The program is a launcher for another JAR file. The VM option is applied to the launcher but not the JAR file it downloads and launches. I need the launcher to pass the argument to another jar. Is it possible?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672712456,"post_id":74987621,"comment_id":132332764,"body_markdown":"Yes, but you&#39;ll need to show the code used to launch the other jar.","body":"Yes, but you&#39;ll need to show the code used to launch the other jar."}],"owner":{"account_id":27415509,"reputation":1,"user_id":20914775,"display_name":"CarlinJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672699076,"creation_date":1672699076,"question_id":74987621,"body_markdown":"I&#39;m currently building a flatpak for a java app but have ran into a small problem with the way it&#39;s saving settings. If possible I&#39;d like to solve it without editing the program itself.\r\n\r\nIt stores settings using java.util.prefs.Preferences like so \r\n```\r\nprefs.put(prefname, val);\r\n```\r\nand this is saved at the default location $HOME/.java/.userPrefs\r\n\r\nbecause I&#39;m bundling openjdk with the app I&#39;d prefer that the preferences weren&#39;t saved in the same place that the system install java would store them. I&#39;ve tried passing these 2 arguments to change the default directory but in both cases the app still writes to $HOME/.java/.userPrefs\r\n\r\n```\r\njava -Djava.util.prefs.userRoot=$HOME/.var/app/com.test.App/data -jar App.jar\r\njava -Duser.home=$HOME/.var/app/com.test.App/data -jar App.jar\r\n\r\n```\r\nI&#39;ve already tried messing with file permissions and it didn&#39;t make a difference","title":"Change java.util.prefs.Preferences directory","body":"<p>I'm currently building a flatpak for a java app but have ran into a small problem with the way it's saving settings. If possible I'd like to solve it without editing the program itself.</p>\n<p>It stores settings using java.util.prefs.Preferences like so</p>\n<pre><code>prefs.put(prefname, val);\n</code></pre>\n<p>and this is saved at the default location $HOME/.java/.userPrefs</p>\n<p>because I'm bundling openjdk with the app I'd prefer that the preferences weren't saved in the same place that the system install java would store them. I've tried passing these 2 arguments to change the default directory but in both cases the app still writes to $HOME/.java/.userPrefs</p>\n<pre><code>java -Djava.util.prefs.userRoot=$HOME/.var/app/com.test.App/data -jar App.jar\njava -Duser.home=$HOME/.var/app/com.test.App/data -jar App.jar\n\n</code></pre>\n<p>I've already tried messing with file permissions and it didn't make a difference</p>\n"},{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672599962,"post_id":74945376,"comment_id":132311538,"body_markdown":"Why are you trying to use a SNAPSHOT version instead of the release version? https://search.maven.org/artifact/org.apache.maven.extensions/maven-build-cache-extension","body":"Why are you trying to use a SNAPSHOT version instead of the release version? <a href=\"https://search.maven.org/artifact/org.apache.maven.extensions/maven-build-cache-extension\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.apache.maven.extensions/&hellip;</a>"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1672707784,"post_id":74945376,"comment_id":132332120,"body_markdown":"That&#39;s fair, thanks for pointing that out!","body":"That&#39;s fair, thanks for pointing that out!"}],"answers":[{"comments":[{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1672353264,"post_id":74947398,"comment_id":132275132,"body_markdown":"How do I download this version? It doesn&#39;t seem available on maven website or in github","body":"How do I download this version? It doesn&#39;t seem available on maven website or in github"},{"owner":{"account_id":5869307,"reputation":466,"user_id":4622086,"accept_rate":82,"display_name":"kjsmita6"},"score":0,"creation_date":1672524582,"post_id":74947398,"comment_id":132303218,"body_markdown":"You might have to build it yourself, I don&#39;t see a posted binary anywhere. https://github.com/apache/maven/tree/maven-3.9.x#quick-build","body":"You might have to build it yourself, I don&#39;t see a posted binary anywhere. <a href=\"https://github.com/apache/maven/tree/maven-3.9.x#quick-build\" rel=\"nofollow noreferrer\">github.com/apache/maven/tree/maven-3.9.x#quick-build</a>"},{"owner":{"account_id":472656,"reputation":161,"user_id":881257,"display_name":"Alexander Ashitkin"},"score":0,"creation_date":1672698785,"post_id":74947398,"comment_id":132330800,"body_markdown":"Everything is correct except the `mvn -Pmaven3` part. This profile is for extension build purposes only and will do nothing in other projects. To run the extension need a distribution of correct version, installed locally or launched through maven wrapper.","body":"Everything is correct except the <code>mvn -Pmaven3</code> part. This profile is for extension build purposes only and will do nothing in other projects. To run the extension need a distribution of correct version, installed locally or launched through maven wrapper."},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1672793399,"post_id":74947398,"comment_id":132352768,"body_markdown":"This is pretty cool, now I don&#39;t have to build modules that don&#39;t need it. @kjsmita6 is it possible to have this in our ci as well? Or does the cache break during every build?","body":"This is pretty cool, now I don&#39;t have to build modules that don&#39;t need it. @kjsmita6 is it possible to have this in our ci as well? Or does the cache break during every build?"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1672793427,"post_id":74947398,"comment_id":132352773,"body_markdown":"@AlexanderAshitkin if you know the answer, I&#39;d also appreciate it about having this in a ci pipeline","body":"@AlexanderAshitkin if you know the answer, I&#39;d also appreciate it about having this in a ci pipeline"}],"tags":[],"owner":{"account_id":5869307,"reputation":466,"user_id":4622086,"accept_rate":82,"display_name":"kjsmita6"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672289714,"creation_date":1672289714,"answer_id":74947398,"question_id":74945376,"body_markdown":"https://github.com/apache/maven-build-cache-extension/blob/master/pom.xml#L487\r\n\r\nThe extension has this in their pom:\r\n\r\n```xml\r\n&lt;profile&gt;\r\n    &lt;id&gt;maven3&lt;/id&gt;\r\n    &lt;properties&gt;\r\n        &lt;mavenVersion&gt;3.9.0-SNAPSHOT&lt;/mavenVersion&gt;\r\n        &lt;maven.dir&gt;maven3&lt;/maven.dir\r\n        &lt;maven.basedir&gt;${project.build.directory}/${maven.dir}&lt;/maven.basedir\r\n    &lt;/properties&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nAnd this in the readme:\r\n&gt; The code currently relies on un-released modifications in the core Maven project, available both for latest 3.9.x and for 4.0-alpha-x SNAPSHOTS described in MNG-7391.\r\n\r\nSo you can run with `mvn -Pmaven3 ...` to use Maven 3.9.0-SNAPSHOT. There is no released version of Maven that will work with this extension besides &gt;= 3.9.0.","title":"Using maven-build-cache-extension and running into compatibility issues","body":"<p><a href=\"https://github.com/apache/maven-build-cache-extension/blob/master/pom.xml#L487\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-build-cache-extension/blob/master/pom.xml#L487</a></p>\n<p>The extension has this in their pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;maven3&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;mavenVersion&gt;3.9.0-SNAPSHOT&lt;/mavenVersion&gt;\n        &lt;maven.dir&gt;maven3&lt;/maven.dir\n        &lt;maven.basedir&gt;${project.build.directory}/${maven.dir}&lt;/maven.basedir\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>And this in the readme:</p>\n<blockquote>\n<p>The code currently relies on un-released modifications in the core Maven project, available both for latest 3.9.x and for 4.0-alpha-x SNAPSHOTS described in MNG-7391.</p>\n</blockquote>\n<p>So you can run with <code>mvn -Pmaven3 ...</code> to use Maven 3.9.0-SNAPSHOT. There is no released version of Maven that will work with this extension besides &gt;= 3.9.0.</p>\n"},{"comments":[{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1672707827,"post_id":74984747,"comment_id":132332125,"body_markdown":"I don&#39;t understand what you mean. I haven&#39;t used maven wrappers before.\n\nAny idea when the release version will be out?","body":"I don&#39;t understand what you mean. I haven&#39;t used maven wrappers before.  Any idea when the release version will be out?"}],"tags":[],"owner":{"account_id":472656,"reputation":161,"user_id":881257,"display_name":"Alexander Ashitkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672698483,"creation_date":1672676429,"answer_id":74984747,"question_id":74945376,"body_markdown":"Youre right, at this point need to use 3.9 or 4.0 snapshots. Official snapshot builds could be found in Apache snapshots repository - https://repository.apache.org/content/groups/snapshots/org/apache/maven/apache-maven/\r\n\r\nAlso, it is more convenient to use Maven Wrapper to bootstrap snapshot version - just point distribution url to the latest available snapshot zip. ","title":"Using maven-build-cache-extension and running into compatibility issues","body":"<p>Youre right, at this point need to use 3.9 or 4.0 snapshots. Official snapshot builds could be found in Apache snapshots repository - <a href=\"https://repository.apache.org/content/groups/snapshots/org/apache/maven/apache-maven/\" rel=\"nofollow noreferrer\">https://repository.apache.org/content/groups/snapshots/org/apache/maven/apache-maven/</a></p>\n<p>Also, it is more convenient to use Maven Wrapper to bootstrap snapshot version - just point distribution url to the latest available snapshot zip.</p>\n"}],"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1672698483,"creation_date":1672264827,"question_id":74945376,"body_markdown":"I guess this is relatively new, so I added this extension in my .mvn/extensions.xml\r\n\r\nAnd it&#39;s complaining ```[WARNING] Cache requires Maven &gt;= 3.9, but version is 3.8.1. Disabling cache.```\r\n\r\nBut when I look for the latest maven, it&#39;s 3.8.6... there&#39;s 4.x, but it&#39;s in the beta channel and it&#39;s incompatible with v3 enforcers. Anyone resolve this in the past?\r\n\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;org.apache.maven.extensions&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-build-cache-extension&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;","title":"Using maven-build-cache-extension and running into compatibility issues","body":"<p>I guess this is relatively new, so I added this extension in my .mvn/extensions.xml</p>\n<p>And it's complaining <code>[WARNING] Cache requires Maven &gt;= 3.9, but version is 3.8.1. Disabling cache.</code></p>\n<p>But when I look for the latest maven, it's 3.8.6... there's 4.x, but it's in the beta channel and it's incompatible with v3 enforcers. Anyone resolve this in the past?</p>\n<pre><code>&lt;extensions&gt;\n  &lt;extension&gt;\n    &lt;groupId&gt;org.apache.maven.extensions&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-build-cache-extension&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/extension&gt;\n&lt;/extensions&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672642569,"creation_date":1672642150,"answer_id":74979642,"question_id":74979555,"body_markdown":"You can use the `@Query`  annotation at the top of a repository method for writing a custom query to the database table. Here&#39;s a sample according to your conditions. You can modify the method name and the table name accordingly.\r\n\r\n```java\r\n    @Query(&quot;&quot;&quot;\r\n        SELECT * \r\n        FROM AssetItemDto\r\n        where (name = &#39;A&#39; AND code = &#39;B&#39;) OR (name = &#39;A&#39; AND code IS NULL) OR (name IS NULL AND code = &#39;B&#39;);\r\n&quot;&quot;&quot;)\r\n    List&lt;AssetItemDto&gt; findAllByCustomCondition();\r\n```","title":"Searching using Criteria Query JPA Spring","body":"<p>You can use the <code>@Query</code>  annotation at the top of a repository method for writing a custom query to the database table. Here's a sample according to your conditions. You can modify the method name and the table name accordingly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;&quot;&quot;\n        SELECT * \n        FROM AssetItemDto\n        where (name = 'A' AND code = 'B') OR (name = 'A' AND code IS NULL) OR (name IS NULL AND code = 'B');\n&quot;&quot;&quot;)\n    List&lt;AssetItemDto&gt; findAllByCustomCondition();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1459802,"reputation":621,"user_id":1374419,"display_name":"JustAnotherCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672697971,"creation_date":1672647369,"answer_id":74980197,"question_id":74979555,"body_markdown":"Are you looking for something like this?\r\n\r\n\tPage&lt;AssetItemEntity&gt; findByCondition(String name, String code, Pageable pageable) {\r\n\r\n        Specification&lt;AssetItemEntity&gt; spec = (root, query, builder) -&gt;\r\n            builder.or(\r\n                builder.equal(root.get(&quot;name&quot;), root.get(&quot;code&quot;)),\r\n                builder.or(\r\n                    builder.and(\r\n                        builder.isNull(root.get(&quot;name&quot;)),\r\n                        builder.equal(root.get(&quot;code&quot;), code)\r\n                    ),\r\n                    builder.and(\r\n                        builder.isNull(root.get(&quot;code&quot;)),\r\n                        builder.equal(root.get(&quot;name&quot;), name)\r\n                    )\r\n                )\r\n            );\r\n\r\n\t\treturn assetItemRepository.findAll(spec, pageable);\r\n\t}\r\n","title":"Searching using Criteria Query JPA Spring","body":"<p>Are you looking for something like this?</p>\n<pre><code>Page&lt;AssetItemEntity&gt; findByCondition(String name, String code, Pageable pageable) {\n\n    Specification&lt;AssetItemEntity&gt; spec = (root, query, builder) -&gt;\n        builder.or(\n            builder.equal(root.get(&quot;name&quot;), root.get(&quot;code&quot;)),\n            builder.or(\n                builder.and(\n                    builder.isNull(root.get(&quot;name&quot;)),\n                    builder.equal(root.get(&quot;code&quot;), code)\n                ),\n                builder.and(\n                    builder.isNull(root.get(&quot;code&quot;)),\n                    builder.equal(root.get(&quot;name&quot;), name)\n                )\n            )\n        );\n\n    return assetItemRepository.findAll(spec, pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672697971,"creation_date":1672641308,"question_id":74979555,"body_markdown":"AssetItemDto has the fields name and code , I want to findAll the records in the DB that matches any of the below conditions \r\n\r\n1. FindAll where name = &quot;A&quot; and code = &quot;B&quot; (in case name and code are both there and are not null)\r\n2. FindAll where name = &quot;A&quot; (in case name is there and code is null ) and vice versa . \r\n\r\nHow can I achieve the same using Criteria Query filling up the below function. \r\n\r\n\r\n```java\r\nAssetItemDto\r\n            \r\nprivate String name;\r\nprivate String code;\r\n\r\n// Function I am using: \r\n\r\nPage&lt;AssetItemDto&gt; assetItemPage = assetItemService.findByCondition(assetItemDto,pageable);\r\n                   \r\npublic Page&lt;AssetItemDto&gt; findByCondition(AssetItemDto assetItemDto , Pageable pageable) {\r\n            \r\nPage&lt;AssetItem&gt; entityPage = repository.findAll(assetItemDto,pageable);\r\n                    List&lt;AssetItem&gt; entities = entityPage.getContent();\r\n            \r\nreturn new PageImpl&lt;&gt;(mapList(entities, AssetItemDto.class), pageable, entityPage.getTotalElements());\r\n}\r\n```","title":"Searching using Criteria Query JPA Spring","body":"<p>AssetItemDto has the fields name and code , I want to findAll the records in the DB that matches any of the below conditions</p>\n<ol>\n<li>FindAll where name = &quot;A&quot; and code = &quot;B&quot; (in case name and code are both there and are not null)</li>\n<li>FindAll where name = &quot;A&quot; (in case name is there and code is null ) and vice versa .</li>\n</ol>\n<p>How can I achieve the same using Criteria Query filling up the below function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AssetItemDto\n            \nprivate String name;\nprivate String code;\n\n// Function I am using: \n\nPage&lt;AssetItemDto&gt; assetItemPage = assetItemService.findByCondition(assetItemDto,pageable);\n                   \npublic Page&lt;AssetItemDto&gt; findByCondition(AssetItemDto assetItemDto , Pageable pageable) {\n            \nPage&lt;AssetItem&gt; entityPage = repository.findAll(assetItemDto,pageable);\n                    List&lt;AssetItem&gt; entities = entityPage.getContent();\n            \nreturn new PageImpl&lt;&gt;(mapList(entities, AssetItemDto.class), pageable, entityPage.getTotalElements());\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-fragments","view"],"comments":[{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1633550953,"post_id":69471745,"comment_id":122792857,"body_markdown":"Can you elaborate your question a bit more, its not that clear now. Thanks","body":"Can you elaborate your question a bit more, its not that clear now. Thanks"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1633551628,"post_id":69471745,"comment_id":122793070,"body_markdown":"Directly accessing fragment views like this, while not likely your problem, is kind of counter to the entire idea of fragments.  Fragments should be opaque to the Activity- either the Activity should update a model and tell the fragment to update itself based on that new model state, or the Activity should inform the fragment of events that occurred and the fragment should update itself based on those events.  Having the Activity update the fragment state directly makes it pointless to even have a Fragment, you&#39;d be better off just putting the view right into the Activity.","body":"Directly accessing fragment views like this, while not likely your problem, is kind of counter to the entire idea of fragments.  Fragments should be opaque to the Activity- either the Activity should update a model and tell the fragment to update itself based on that new model state, or the Activity should inform the fragment of events that occurred and the fragment should update itself based on those events.  Having the Activity update the fragment state directly makes it pointless to even have a Fragment, you&#39;d be better off just putting the view right into the Activity."},{"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"score":0,"creation_date":1633555630,"post_id":69471745,"comment_id":122794303,"body_markdown":"I have already solved the problem. I just created a new fragment and made the transitions. Thanks for your answers.","body":"I have already solved the problem. I just created a new fragment and made the transitions. Thanks for your answers."}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672697325,"creation_date":1633548990,"question_id":69471745,"body_markdown":"In the Firebase code, there is a function `updateUI()` in which I need to change the text **Login** to **Profile** in the `fragment_profile`.`updateUI()` is in `MainActivity`\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    BottomNavigationView navView = findViewById(R.id.nav_view);\r\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n    NavigationUI.setupWithNavController(navView, navController);\r\n    updateUI(null);\r\n}\r\nprivate void updateUI(FirebaseUser user) {\r\n    Fragment frag = findFragmentById(R.id.fragment_profile); // This is where the mistakes begin\r\n    TextView txt = frag.findViewById(R.id.titleProfile);\r\n    txt.setText(&quot;Profile&quot;);\r\n}\r\n```\r\n\r\n```\r\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    View view = inflater.inflate(R.layout.fragment_profile, container, false);\r\n\r\n    return view;\r\n}\r\n```","title":"How to chagne text TextView from fragment_profile in MainActivity.java","body":"<p>In the Firebase code, there is a function <code>updateUI()</code> in which I need to change the text <strong>Login</strong> to <strong>Profile</strong> in the <code>fragment_profile</code>.<code>updateUI()</code> is in <code>MainActivity</code></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    BottomNavigationView navView = findViewById(R.id.nav_view);\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n    NavigationUI.setupWithNavController(navView, navController);\n    updateUI(null);\n}\nprivate void updateUI(FirebaseUser user) {\n    Fragment frag = findFragmentById(R.id.fragment_profile); // This is where the mistakes begin\n    TextView txt = frag.findViewById(R.id.titleProfile);\n    txt.setText(&quot;Profile&quot;);\n}\n</code></pre>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_profile, container, false);\n\n    return view;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672697157,"post_id":74978497,"comment_id":132330434,"body_markdown":"Why do you need more than one login page? In most cases this is not neccessary.","body":"Why do you need more than one login page? In most cases this is not neccessary."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672822865,"post_id":74978497,"comment_id":132357616,"body_markdown":"What do you mean by *3 different environments*. One instance of your application is only running in one enviroment. If you have 3 environments you should have three instances of your application.","body":"What do you mean by <i>3 different environments</i>. One instance of your application is only running in one enviroment. If you have 3 environments you should have three instances of your application."},{"owner":{"account_id":5655896,"reputation":1,"user_id":4475106,"display_name":"Davide Palomo"},"score":0,"creation_date":1672915178,"post_id":74978497,"comment_id":132382272,"body_markdown":"3 different sections: student, shop and admin. http://site.url/admin, http://site.url/student, http://site.url/shop, any subsection with his own login page","body":"3 different sections: student, shop and admin. <a href=\"http://site.url/admin\" rel=\"nofollow noreferrer\">site.url/admin</a>, <a href=\"http://site.url/student\" rel=\"nofollow noreferrer\">site.url/student</a>, <a href=\"http://site.url/shop\" rel=\"nofollow noreferrer\">site.url/shop</a>, any subsection with his own login page"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672919128,"post_id":74978497,"comment_id":132383566,"body_markdown":"Why are you using section, these are role. You could handle it with one login and allow different access for different roles. There is no need for multiple logins.","body":"Why are you using section, these are role. You could handle it with one login and allow different access for different roles. There is no need for multiple logins."}],"owner":{"account_id":5655896,"reputation":1,"user_id":4475106,"display_name":"Davide Palomo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672696855,"creation_date":1672624474,"question_id":74978497,"body_markdown":"I&#39;m using Spring Boot 2.7.6 and I would like to secure my application in this way:\r\n\r\n1) a single URL is always permitted (eg. `/student/login/&lt;some code&gt;`)\r\n2) all the others URLs from the same category must be redirected (eg. `/student*` to `/student/loginPage`)\r\n\r\nand so on for all the other categories, eg:\r\n\r\n- `/category1*` &gt; `/category1/loginPage`\r\n- `/category2*` &gt; `/category2/loginPage`\r\n\r\nI tried a lot using the `SecurityFilterChain` methods but the only thing I&#39;ve achieved is to permit one single URL and lock all the others (there is no distinction between categories).\r\n\r\n```java\r\nhttp\r\n\t.authorizeRequests()\r\n\t    .antMatchers(&quot;/student/login/**&quot;).permitAll()\r\n\t    .anyRequest().authenticated()\r\n        .and()\r\n    .formLogin()\r\n        .loginPage(&quot;/generalLogin&quot;)\r\n\t    .permitAll()\r\n\t    .and()\r\n\t.httpBasic();\r\n```\r\n\r\nI found no way to substitute `anyRequest()` with the one I want.\r\n","title":"Call login page only if the request comes from a specific URL","body":"<p>I'm using Spring Boot 2.7.6 and I would like to secure my application in this way:</p>\n<ol>\n<li>a single URL is always permitted (eg. <code>/student/login/&lt;some code&gt;</code>)</li>\n<li>all the others URLs from the same category must be redirected (eg. <code>/student*</code> to <code>/student/loginPage</code>)</li>\n</ol>\n<p>and so on for all the other categories, eg:</p>\n<ul>\n<li><code>/category1*</code> &gt; <code>/category1/loginPage</code></li>\n<li><code>/category2*</code> &gt; <code>/category2/loginPage</code></li>\n</ul>\n<p>I tried a lot using the <code>SecurityFilterChain</code> methods but the only thing I've achieved is to permit one single URL and lock all the others (there is no distinction between categories).</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .authorizeRequests()\n        .antMatchers(&quot;/student/login/**&quot;).permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .formLogin()\n        .loginPage(&quot;/generalLogin&quot;)\n        .permitAll()\n        .and()\n    .httpBasic();\n</code></pre>\n<p>I found no way to substitute <code>anyRequest()</code> with the one I want.</p>\n"},{"tags":["java","spring","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":888,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672106353,"creation_date":1672106353,"answer_id":74925202,"question_id":74923999,"body_markdown":"Options should come first.\r\n\r\n    java [options] -jar jarfile [args ...]\r\n\r\nIn your case should be:\r\n\r\n    java -Dspring.config.location=/app/application.yml -jar /app/image-name.jar \r\n\r\n[Reference documentation][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis","title":"How do I get Spring to use an application.yml file in a Docker container?","body":"<p>Options should come first.</p>\n<pre><code>java [options] -jar jarfile [args ...]\n</code></pre>\n<p>In your case should be:</p>\n<pre><code>java -Dspring.config.location=/app/application.yml -jar /app/image-name.jar \n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#synopsis\" rel=\"nofollow noreferrer\">Reference documentation</a></p>\n"},{"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672696539,"post_id":74987353,"comment_id":132330312,"body_markdown":"If you would use -Dspring.config.location as JVM args and not app args (before `-jar` switch in the first example it would work right away.","body":"If you would use -Dspring.config.location as JVM args and not app args (before <code>-jar</code> switch in the first example it would work right away."},{"owner":{"account_id":8126332,"reputation":61,"user_id":6121173,"accept_rate":67,"display_name":"Tresk33"},"score":0,"creation_date":1672783663,"post_id":74987353,"comment_id":132351078,"body_markdown":"As I noted in this answer, Elyorbek Ibrokhimov suggested the same thing. I tried it, but it didnt work. Once I made the changes I outlined in this answer. It worked. It is unrelated to the arguments.","body":"As I noted in this answer, Elyorbek Ibrokhimov suggested the same thing. I tried it, but it didnt work. Once I made the changes I outlined in this answer. It worked. It is unrelated to the arguments."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672816281,"post_id":74987353,"comment_id":132355995,"body_markdown":"I think that you did it wrong. This &quot;answer&quot; clearly shows that this is the case. Moreover, depending on the actual content of your yaml, it would work without active local profile as you literally pointing out which file should be used. It could be named qwerty.yml  as well and it would still work. Profile would be needed in case if yml itself specifies that it is a profile configuration (on-profile prop or something like that) or you would use `additional-location` property to specify **directory**in which Spring should try to look for application.yml as well as application-profile.yml files","body":"I think that you did it wrong. This &quot;answer&quot; clearly shows that this is the case. Moreover, depending on the actual content of your yaml, it would work without active local profile as you literally pointing out which file should be used. It could be named qwerty.yml  as well and it would still work. Profile would be needed in case if yml itself specifies that it is a profile configuration (on-profile prop or something like that) or you would use <code>additional-location</code> property to specify <b>directory</b>in which Spring should try to look for application.yml as well as application-profile.yml files"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672816595,"post_id":74987353,"comment_id":132356060,"body_markdown":"It would also work out of the box if yml would be placed next to the jar file or in `config` directory. It is all stated in the docs. Bare in mind that order of resolution was changed between versions of spring thus you must use docs for the version that matches exactly spring you are using https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"It would also work out of the box if yml would be placed next to the jar file or in <code>config</code> directory. It is all stated in the docs. Bare in mind that order of resolution was changed between versions of spring thus you must use docs for the version that matches exactly spring you are using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672816757,"post_id":74987353,"comment_id":132356101,"body_markdown":"Having your example, removing either location or profile (not both) would still work as yml is next to jar so it will be picked up (but  requires `local` profile), or removing profile as you pinpointing the actual file to be used. Renaming back to application.yml and leaving it in the same place and remiving both props wil STILL work as it is default name and its location is next to jar (falls into category of &quot;Application properties outside of your packaged jar (application.properties and YAML variants).&quot;","body":"Having your example, removing either location or profile (not both) would still work as yml is next to jar so it will be picked up (but  requires <code>local</code> profile), or removing profile as you pinpointing the actual file to be used. Renaming back to application.yml and leaving it in the same place and remiving both props wil STILL work as it is default name and its location is next to jar (falls into category of &quot;Application properties outside of your packaged jar (application.properties and YAML variants).&quot;"}],"tags":[],"owner":{"account_id":8126332,"reputation":61,"user_id":6121173,"accept_rate":67,"display_name":"Tresk33"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672696354,"creation_date":1672696354,"answer_id":74987353,"question_id":74923999,"body_markdown":"Okay, I managed to solve this, and I really hope this helps someone in the future as well because I was banging my head against the wall over this for days. I made the change that Elyorbek Ibrokhimov had mentioned, with no luck. I even re-wrote everything in its most basic form so that it was essentially verbatim from the docs with no luck.\r\n\r\nI then decided to simply change my configuration to change my yaml file to a sub-environment yaml file by renaming it to `application-local.yaml` and then setting the active profile to `local` and it worked. I think I will have to dive into the docs on how application.yaml files are processed after learning this. I will update this with any findings I make. Perhaps someone who understands why this happens can add their own answer.\r\n\r\nBelow is my final Dockerfile:\r\n```\r\nFROM eclipse-temurin:17-jdk\r\nEXPOSE 8080\r\nRUN mkdir -p /app/\r\nADD build/libs/image-name-0.0.1-SNAPSHOT.jar /app/image-name.jar\r\nADD build/resources/main/application-local.yml /app/application-local.yml\r\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Djava.security.egd=file:/dev/./urandom -Dspring.config.location=file:/app/application-local.yml -Dspring.profiles.active=local -jar /app/image-name.jar&quot;]\r\n```\r\n\r\nI will not mark this as the accepted answer until I fully understand why this works the way it does.","title":"How do I get Spring to use an application.yml file in a Docker container?","body":"<p>Okay, I managed to solve this, and I really hope this helps someone in the future as well because I was banging my head against the wall over this for days. I made the change that Elyorbek Ibrokhimov had mentioned, with no luck. I even re-wrote everything in its most basic form so that it was essentially verbatim from the docs with no luck.</p>\n<p>I then decided to simply change my configuration to change my yaml file to a sub-environment yaml file by renaming it to <code>application-local.yaml</code> and then setting the active profile to <code>local</code> and it worked. I think I will have to dive into the docs on how application.yaml files are processed after learning this. I will update this with any findings I make. Perhaps someone who understands why this happens can add their own answer.</p>\n<p>Below is my final Dockerfile:</p>\n<pre><code>FROM eclipse-temurin:17-jdk\nEXPOSE 8080\nRUN mkdir -p /app/\nADD build/libs/image-name-0.0.1-SNAPSHOT.jar /app/image-name.jar\nADD build/resources/main/application-local.yml /app/application-local.yml\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Djava.security.egd=file:/dev/./urandom -Dspring.config.location=file:/app/application-local.yml -Dspring.profiles.active=local -jar /app/image-name.jar&quot;]\n</code></pre>\n<p>I will not mark this as the accepted answer until I fully understand why this works the way it does.</p>\n"}],"owner":{"account_id":8126332,"reputation":61,"user_id":6121173,"accept_rate":67,"display_name":"Tresk33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672696354,"creation_date":1672089091,"question_id":74923999,"body_markdown":"I am creating a simple Java/Gradle/Spring application. I am working on Dockerizing the app. When I run the app locally without docker, it properly uses the values in my `application.yml` file. However, when I run the Docker image, it doesn&#39;t use any of the values from the `application.yml` file.\r\n\r\nIn my Dockerfile below, you&#39;ll see that I copy the `application.yml` file to the same directory as my jar in the docker image. Additionally, in the entrypoint, I reference the `application.yml` file appropriately (when I change this file path to something that is incorrect, the app breaks on start-up).\r\n\r\nDockerfile:\r\n```\r\nFROM eclipse-temurin:17-jdk\r\nEXPOSE 8080\r\nRUN mkdir -p /app/\r\nADD build/libs/image-name-0.0.1-SNAPSHOT.jar /app/image-name.jar\r\nADD build/resources/main/application.yml /app/application.yml\r\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Djava.security.egd=file:/dev/./urandom -jar /app/image-name.jar --spring.config.location=file:/app/application.yml&quot;]\r\n```\r\n\r\nBelow is my `docker-compose.yml` file. I don&#39;t think this matters much as I got the same result by just using the `docker run ...` command, but I&#39;d like to add it for context:\r\n```\r\nversion: &#39;2&#39;\r\n\r\nservices:\r\n  image-name:\r\n    image: &#39;image-name:latest&#39;\r\n    container_name: image-name\r\n    ports:\r\n      - &quot;8081:8080&quot;\r\n    build:\r\n      context: .\r\n    depends_on:\r\n      - postgres_db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/compose-postgres\r\n      - SPRING_DATASOURCE_USERNAME=admin\r\n      - SPRING_DATASOURCE_PASSWORD=password\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n\r\n  postgres_db:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    container_name: postgres_db\r\n    environment:\r\n      - POSTGRES_USER=admin # TODO: CHANGE THIS LATER\r\n      - POSTGRES_PASSWORD=password # TODO: CHANGE THIS LATER\r\n```\r\n\r\nI have added the Spring Actuator dependency and exposed the health endpoint using the `application.yml`. However, when I run this via the Docker image, the log below is missing (but is present when I run locally without Docker). I also get a 404 when I hit the `/actuator/health` endpoint:\r\n```\r\n2022-12-26T15:07:08.439-06:00  INFO 23289 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n```\r\n\r\nAny idea as to what I am doing incorrectly? I have looked at seemingly every other related Stack Overflow thread with no luck.","title":"How do I get Spring to use an application.yml file in a Docker container?","body":"<p>I am creating a simple Java/Gradle/Spring application. I am working on Dockerizing the app. When I run the app locally without docker, it properly uses the values in my <code>application.yml</code> file. However, when I run the Docker image, it doesn't use any of the values from the <code>application.yml</code> file.</p>\n<p>In my Dockerfile below, you'll see that I copy the <code>application.yml</code> file to the same directory as my jar in the docker image. Additionally, in the entrypoint, I reference the <code>application.yml</code> file appropriately (when I change this file path to something that is incorrect, the app breaks on start-up).</p>\n<p>Dockerfile:</p>\n<pre><code>FROM eclipse-temurin:17-jdk\nEXPOSE 8080\nRUN mkdir -p /app/\nADD build/libs/image-name-0.0.1-SNAPSHOT.jar /app/image-name.jar\nADD build/resources/main/application.yml /app/application.yml\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java -Djava.security.egd=file:/dev/./urandom -jar /app/image-name.jar --spring.config.location=file:/app/application.yml&quot;]\n</code></pre>\n<p>Below is my <code>docker-compose.yml</code> file. I don't think this matters much as I got the same result by just using the <code>docker run ...</code> command, but I'd like to add it for context:</p>\n<pre><code>version: '2'\n\nservices:\n  image-name:\n    image: 'image-name:latest'\n    container_name: image-name\n    ports:\n      - &quot;8081:8080&quot;\n    build:\n      context: .\n    depends_on:\n      - postgres_db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/compose-postgres\n      - SPRING_DATASOURCE_USERNAME=admin\n      - SPRING_DATASOURCE_PASSWORD=password\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n\n  postgres_db:\n    image: 'postgres:13.1-alpine'\n    container_name: postgres_db\n    environment:\n      - POSTGRES_USER=admin # TODO: CHANGE THIS LATER\n      - POSTGRES_PASSWORD=password # TODO: CHANGE THIS LATER\n</code></pre>\n<p>I have added the Spring Actuator dependency and exposed the health endpoint using the <code>application.yml</code>. However, when I run this via the Docker image, the log below is missing (but is present when I run locally without Docker). I also get a 404 when I hit the <code>/actuator/health</code> endpoint:</p>\n<pre><code>2022-12-26T15:07:08.439-06:00  INFO 23289 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n</code></pre>\n<p>Any idea as to what I am doing incorrectly? I have looked at seemingly every other related Stack Overflow thread with no luck.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"answers":[{"comments":[{"owner":{"account_id":4257696,"reputation":1104,"user_id":3482923,"accept_rate":78,"display_name":"Dmitry  Adonin"},"score":0,"creation_date":1599830673,"post_id":63846419,"comment_id":112904513,"body_markdown":"Thank you for your help. Could you please share an example of an alternative solution, regarding the merging of &#39;application.yml&#39; files?","body":"Thank you for your help. Could you please share an example of an alternative solution, regarding the merging of &#39;application.yml&#39; files?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599834725,"post_id":63846419,"comment_id":112906624,"body_markdown":"@DmitryAdonin Sorry, that&#39;s for you to code, and decide how they merge.","body":"@DmitryAdonin Sorry, that&#39;s for you to code, and decide how they merge."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599824652,"creation_date":1599824652,"answer_id":63846419,"question_id":63846115,"body_markdown":"`application.yml` is, as the name indicates, an application-level file, not a module-level file.\r\n\r\nIt is the build script that assembles the final application, e.g. the `.war` file, that needs to include a `application.yml` file, if any.\r\n\r\nIf modules need properties, and cannot rely on the defaults, e.g. using the `:` syntax in `@Value(&quot;${prop.name:default}&quot;)`, they need to provide a module-level property file using `@PropertySource(&quot;classpath:/path/to/module-2.properties&quot;)`.\r\n\r\n*Note:* By default, `@PropertySource` doesn&#39;t load YAML files (see [official documentation][1]), but Spring Boot can be enhanced to support it. See [@PropertySource with YAML Files in Spring Boot | Bealdung][2].\r\n\r\n---\r\n\r\n**Alternative:** Have the application-level build script (the one building the `.war` file) merge multiple module-level build scripts into a unified `application.yml` file.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-yaml-shortcomings\r\n  [2]: https://www.baeldung.com/spring-yaml-propertysource","title":"Overriden application.yml in multi-module Spring Boot app","body":"<p><code>application.yml</code> is, as the name indicates, an application-level file, not a module-level file.</p>\n<p>It is the build script that assembles the final application, e.g. the <code>.war</code> file, that needs to include a <code>application.yml</code> file, if any.</p>\n<p>If modules need properties, and cannot rely on the defaults, e.g. using the <code>:</code> syntax in <code>@Value(&quot;${prop.name:default}&quot;)</code>, they need to provide a module-level property file using <code>@PropertySource(&quot;classpath:/path/to/module-2.properties&quot;)</code>.</p>\n<p><em>Note:</em> By default, <code>@PropertySource</code> doesn't load YAML files (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-yaml-shortcomings\" rel=\"nofollow noreferrer\">official documentation</a>), but Spring Boot can be enhanced to support it. See <a href=\"https://www.baeldung.com/spring-yaml-propertysource\" rel=\"nofollow noreferrer\">@PropertySource with YAML Files in Spring Boot | Bealdung</a>.</p>\n<hr />\n<p><strong>Alternative:</strong> Have the application-level build script (the one building the <code>.war</code> file) merge multiple module-level build scripts into a unified <code>application.yml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599825961,"creation_date":1599825961,"answer_id":63846776,"question_id":63846115,"body_markdown":"Spring Boot is a runtime framework. I understand that your modules are not spring-boot applications by themselves (you can&#39;t make a dependency on a spring boot application packaged with spring boot maven plugin, because it produces an artifact that is not really a JAR from the Java&#39;s standpoint although it does have *.jar extension).\r\n\r\nIf so, they&#39;re probably regular jars. So you should have a &quot;special&quot; module that assembles the application. This special module lists both &#39;module1&#39; and &#39;module2&#39; in `&lt;dependency&gt;` section and should contain a definition of `spring-boot-maven-plugin` in its `build` section (assuming you&#39;re using maven). But if so you shouldn&#39;t really have more than one application.yml - it will be misleading. Instead, put the `application.yml` to the `src/main/resources` of that &quot;special&quot; module.\r\n\r\nIf you really have to for whatever reason work with multiple `application.yaml` files, make sure you&#39;ve read [this thread][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33229793/how-to-add-multiple-application-properties-files-in-spring-boot/49799482","title":"Overriden application.yml in multi-module Spring Boot app","body":"<p>Spring Boot is a runtime framework. I understand that your modules are not spring-boot applications by themselves (you can't make a dependency on a spring boot application packaged with spring boot maven plugin, because it produces an artifact that is not really a JAR from the Java's standpoint although it does have *.jar extension).</p>\n<p>If so, they're probably regular jars. So you should have a &quot;special&quot; module that assembles the application. This special module lists both 'module1' and 'module2' in <code>&lt;dependency&gt;</code> section and should contain a definition of <code>spring-boot-maven-plugin</code> in its <code>build</code> section (assuming you're using maven). But if so you shouldn't really have more than one application.yml - it will be misleading. Instead, put the <code>application.yml</code> to the <code>src/main/resources</code> of that &quot;special&quot; module.</p>\n<p>If you really have to for whatever reason work with multiple <code>application.yaml</code> files, make sure you've read <a href=\"https://stackoverflow.com/questions/33229793/how-to-add-multiple-application-properties-files-in-spring-boot/49799482\">this thread</a></p>\n"},{"tags":[],"owner":{"account_id":3299369,"reputation":341,"user_id":2775891,"accept_rate":100,"display_name":"downdrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672696274,"creation_date":1672696274,"answer_id":74987339,"question_id":63846115,"body_markdown":"I know, this is already a well-aged post.\r\n\r\nI just came accross the same issue and the best solution I found was to import the module-specific configurations with the `spring.config.import` directive as described [here][1].\r\n\r\nIn this case you still have your module specific configuration in property or yaml files within that specific module and do not have too much unwanted dependencies in your project setup.\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"Overriden application.yml in multi-module Spring Boot app","body":"<p>I know, this is already a well-aged post.</p>\n<p>I just came accross the same issue and the best solution I found was to import the module-specific configurations with the <code>spring.config.import</code> directive as described <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In this case you still have your module specific configuration in property or yaml files within that specific module and do not have too much unwanted dependencies in your project setup.</p>\n"}],"owner":{"account_id":4257696,"reputation":1104,"user_id":3482923,"accept_rate":78,"display_name":"Dmitry  Adonin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63846776,"answer_count":3,"score":1,"last_activity_date":1672696274,"creation_date":1599823471,"question_id":63846115,"body_markdown":"There is a Spring Boot 2 app with such a structure:\r\n\r\n    parent-module\r\n        module-1\r\n            src\r\n                main\r\n                    java\r\n                    resources\r\n                    - application.yml\r\n        module-2\r\n            src\r\n                main\r\n                    java\r\n                    resources\r\n                    - application.yml\r\n\r\nAlso, module-1 depends on module-2, specified in pom.xml `dependencies` section.\r\n\r\nThe problem is that when I specify some properties in module-2&#39;s `application.yml` - they are not visible in main module-1&#39;s components (via `@Value` annotation). \r\n\r\nAs was answered [here][1] seems like module-1&#39;s `application.yml` overrides module-2&#39;s `application.yml`. There is a workaround - if I use name `application.yaml` in module-2 everything works fine, but I&#39;m going to add more modules and, finally, it&#39;s dirty hack.\r\n\r\nWhat I&#39;m doing wrong? Should such an hierarchy of property files specified somehow? \r\nI will be happy to provide more details if it&#39;s needed.\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52925721/3482923","title":"Overriden application.yml in multi-module Spring Boot app","body":"<p>There is a Spring Boot 2 app with such a structure:</p>\n<pre><code>parent-module\n    module-1\n        src\n            main\n                java\n                resources\n                - application.yml\n    module-2\n        src\n            main\n                java\n                resources\n                - application.yml\n</code></pre>\n<p>Also, module-1 depends on module-2, specified in pom.xml <code>dependencies</code> section.</p>\n<p>The problem is that when I specify some properties in module-2's <code>application.yml</code> - they are not visible in main module-1's components (via <code>@Value</code> annotation).</p>\n<p>As was answered <a href=\"https://stackoverflow.com/a/52925721/3482923\">here</a> seems like module-1's <code>application.yml</code> overrides module-2's <code>application.yml</code>. There is a workaround - if I use name <code>application.yaml</code> in module-2 everything works fine, but I'm going to add more modules and, finally, it's dirty hack.</p>\n<p>What I'm doing wrong? Should such an hierarchy of property files specified somehow?\nI will be happy to provide more details if it's needed.</p>\n<p>Thank you!</p>\n"},{"tags":["java","javafx","tree","treeview","scenebuilder"],"answers":[{"comments":[{"owner":{"account_id":13348814,"reputation":850,"user_id":9634620,"display_name":"geekTechnique"},"score":0,"creation_date":1551581110,"post_id":54965063,"comment_id":96690858,"body_markdown":"This is an incredible answer. Thank you so much! Given that you understand this, I want to ask, do you also know of a way to change the styling of the disclosure triangle so that it is not a solid shape, but looks more like the event viewer example from my question, like an arrow &quot;&gt;&quot;, or access to a .setStyle() of some kind for the triangle?","body":"This is an incredible answer. Thank you so much! Given that you understand this, I want to ask, do you also know of a way to change the styling of the disclosure triangle so that it is not a solid shape, but looks more like the event viewer example from my question, like an arrow &quot;&gt;&quot;, or access to a .setStyle() of some kind for the triangle?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1551586005,"post_id":54965063,"comment_id":96691481,"body_markdown":"It&#39;s not a perfect replication but I added more to the CSS file. I also can&#39;t promise the value of `-fx-shape` is proper as I don&#39;t have much experience with SVG paths; it does approximate `&gt;`, however.","body":"It&#39;s not a perfect replication but I added more to the CSS file. I also can&#39;t promise the value of <code>-fx-shape</code> is proper as I don&#39;t have much experience with SVG paths; it does approximate <code>&gt;</code>, however."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1551585972,"creation_date":1551580561,"answer_id":54965063,"question_id":54953447,"body_markdown":"The arrow is part of the [`disclosureNode`][1] of the `TreeCell`. When not specified it is the responsibility of the `TreeCell`&#39;s skin to provide a default disclosure node (e.g. the triangle). This is stated by the property-setter documentation:\r\n\r\n&gt;The node to use as the &quot;disclosure&quot; triangle, or toggle, used for expanding and collapsing items. This is only used in the case of an item in the tree which contains child items. If not specified, the TreeCell&#39;s Skin implementation is responsible for providing a default disclosure node.\r\n\r\nYet looking at the `TreeCellSkin` it appears it _does not_ provide the default disclosure node. Instead, this seems to be handled by the `TreeViewSkin` (in both JavaFX 8 and JavaFX 11). Looking at the implementation the default disclosure node is a `StackPane` with a child `StackPane` that functions as the actual arrow. Their style class is `tree-disclosure-node` and `arrow`, respectively. Note that this doesn&#39;t appear documented anywhere, including the [JavaFX CSS Reference Guide][2].\r\n\r\nThe easiest and least bug-prone method to hiding the root disclosure node is, in my opinion, to use CSS. The only problem here is that `TreeCell` provides no way to target only the root cell. But this can still be accomplished by subclassing `TreeCell` and providing our own [`PseudoClass`][3]. Then we set the [`cellFactory`][5] on our `TreeView`.\r\n\r\nTo set the graphic of the root set the [`TreeItem.graphic`][4] property of the root `TreeItem`.\r\n\r\n---\r\n\r\n**CustomTreeCell**\r\n\r\n    import javafx.beans.InvalidationListener;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.scene.control.TreeCell;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.util.Callback;\r\n    \r\n    public class CustomTreeCell&lt;T&gt; extends TreeCell&lt;T&gt; {\r\n    \r\n        private static final PseudoClass ROOT = PseudoClass.getPseudoClass(&quot;root&quot;);\r\n    \r\n        public static &lt;T&gt; Callback&lt;TreeView&lt;T&gt;, TreeCell&lt;T&gt;&gt; forTreeView() {\r\n            return treeView -&gt; new CustomTreeCell&lt;&gt;();\r\n        }\r\n    \r\n        public CustomTreeCell() {\r\n            getStyleClass().add(&quot;custom-tree-cell&quot;);\r\n    \r\n            InvalidationListener listener = observable -&gt; {\r\n                boolean isRoot = getTreeView() != null &amp;&amp; getTreeItem() == getTreeView().getRoot();\r\n                pseudoClassStateChanged(ROOT, isRoot);\r\n            };\r\n    \r\n            treeViewProperty().addListener(listener);\r\n            treeItemProperty().addListener(listener);\r\n        }\r\n    \r\n        @Override\r\n        protected void updateItem(T item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty || item == null) {\r\n                setText(null);\r\n                graphicProperty().unbind();\r\n                setGraphic(null);\r\n            } else {\r\n                setText(item.toString()); // Really only works if item is a String. Change as needed.\r\n                graphicProperty().bind(getTreeItem().graphicProperty());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**CSS File**\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .custom-tree-cell:root .tree-disclosure-node,\r\n    .custom-tree-cell:root .arrow {\r\n    \r\n        -fx-min-width: 0;\r\n        -fx-pref-width: 0;\r\n        -fx-max-width: 0;\r\n    \r\n        -fx-min-height: 0;\r\n        -fx-pref-height: 0;\r\n        -fx-max-height: 0;\r\n    \r\n    }\r\n\r\n    /* Related to question asked in the comments by OP */\r\n    .custom-tree-cell &gt; .tree-disclosure-node &gt; .arrow {\r\n        -fx-shape: &quot;M 0 0 L 10 5 L 0 10 L 0 8 L 8 5 L 0 2 Z&quot;;\r\n    }\r\n\r\n_Some notes:_\r\n\r\n1. _Since I bound the `TreeCell.graphic` property to the `TreeItem.graphic` property in my cell implementation you won&#39;t be able to set the graphic from CSS. You can modify this to simply set the graphic, rather than bind, in order to enable that functionality. Then you won&#39;t have to set the graphic of the root `TreeItem` through code but could do `.custom-tree-cell:root { -fx-graphic: ...; }`._\r\n2. _This doesn&#39;t remove the disclosure node, it just makes it have no width and no height._\r\n3. _This solution relies on implementation details; be careful when changing versions of JavaFX. I only tried this on JavaFX 11.0.2 but I believe it should work for JavaFX 8 as well._\r\n\r\n  [1]: https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeCell.html#disclosureNodeProperty\r\n  [2]: https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html\r\n  [3]: https://openjfx.io/javadoc/11/javafx.graphics/javafx/css/PseudoClass.html\r\n  [4]: https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html#graphicProperty\r\n  [5]: https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeView.html#cellFactoryProperty","title":"javafx: How do I hide the &quot;drop down arrow&quot; in a TreeView?","body":"<p>The arrow is part of the <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeCell.html#disclosureNodeProperty\" rel=\"nofollow noreferrer\"><code>disclosureNode</code></a> of the <code>TreeCell</code>. When not specified it is the responsibility of the <code>TreeCell</code>'s skin to provide a default disclosure node (e.g. the triangle). This is stated by the property-setter documentation:</p>\n\n<blockquote>\n  <p>The node to use as the \"disclosure\" triangle, or toggle, used for expanding and collapsing items. This is only used in the case of an item in the tree which contains child items. If not specified, the TreeCell's Skin implementation is responsible for providing a default disclosure node.</p>\n</blockquote>\n\n<p>Yet looking at the <code>TreeCellSkin</code> it appears it <em>does not</em> provide the default disclosure node. Instead, this seems to be handled by the <code>TreeViewSkin</code> (in both JavaFX 8 and JavaFX 11). Looking at the implementation the default disclosure node is a <code>StackPane</code> with a child <code>StackPane</code> that functions as the actual arrow. Their style class is <code>tree-disclosure-node</code> and <code>arrow</code>, respectively. Note that this doesn't appear documented anywhere, including the <a href=\"https://openjfx.io/javadoc/11/javafx.graphics/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">JavaFX CSS Reference Guide</a>.</p>\n\n<p>The easiest and least bug-prone method to hiding the root disclosure node is, in my opinion, to use CSS. The only problem here is that <code>TreeCell</code> provides no way to target only the root cell. But this can still be accomplished by subclassing <code>TreeCell</code> and providing our own <a href=\"https://openjfx.io/javadoc/11/javafx.graphics/javafx/css/PseudoClass.html\" rel=\"nofollow noreferrer\"><code>PseudoClass</code></a>. Then we set the <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeView.html#cellFactoryProperty\" rel=\"nofollow noreferrer\"><code>cellFactory</code></a> on our <code>TreeView</code>.</p>\n\n<p>To set the graphic of the root set the <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html#graphicProperty\" rel=\"nofollow noreferrer\"><code>TreeItem.graphic</code></a> property of the root <code>TreeItem</code>.</p>\n\n<hr>\n\n<p><strong>CustomTreeCell</strong></p>\n\n<pre><code>import javafx.beans.InvalidationListener;\nimport javafx.css.PseudoClass;\nimport javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeView;\nimport javafx.util.Callback;\n\npublic class CustomTreeCell&lt;T&gt; extends TreeCell&lt;T&gt; {\n\n    private static final PseudoClass ROOT = PseudoClass.getPseudoClass(\"root\");\n\n    public static &lt;T&gt; Callback&lt;TreeView&lt;T&gt;, TreeCell&lt;T&gt;&gt; forTreeView() {\n        return treeView -&gt; new CustomTreeCell&lt;&gt;();\n    }\n\n    public CustomTreeCell() {\n        getStyleClass().add(\"custom-tree-cell\");\n\n        InvalidationListener listener = observable -&gt; {\n            boolean isRoot = getTreeView() != null &amp;&amp; getTreeItem() == getTreeView().getRoot();\n            pseudoClassStateChanged(ROOT, isRoot);\n        };\n\n        treeViewProperty().addListener(listener);\n        treeItemProperty().addListener(listener);\n    }\n\n    @Override\n    protected void updateItem(T item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty || item == null) {\n            setText(null);\n            graphicProperty().unbind();\n            setGraphic(null);\n        } else {\n            setText(item.toString()); // Really only works if item is a String. Change as needed.\n            graphicProperty().bind(getTreeItem().graphicProperty());\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>CSS File</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.custom-tree-cell:root .tree-disclosure-node,\n.custom-tree-cell:root .arrow {\n\n    -fx-min-width: 0;\n    -fx-pref-width: 0;\n    -fx-max-width: 0;\n\n    -fx-min-height: 0;\n    -fx-pref-height: 0;\n    -fx-max-height: 0;\n\n}\n\n/* Related to question asked in the comments by OP */\n.custom-tree-cell &gt; .tree-disclosure-node &gt; .arrow {\n    -fx-shape: \"M 0 0 L 10 5 L 0 10 L 0 8 L 8 5 L 0 2 Z\";\n}\n</code></pre>\n\n<p><em>Some notes:</em></p>\n\n<ol>\n<li><em>Since I bound the <code>TreeCell.graphic</code> property to the <code>TreeItem.graphic</code> property in my cell implementation you won't be able to set the graphic from CSS. You can modify this to simply set the graphic, rather than bind, in order to enable that functionality. Then you won't have to set the graphic of the root <code>TreeItem</code> through code but could do <code>.custom-tree-cell:root { -fx-graphic: ...; }</code>.</em></li>\n<li><em>This doesn't remove the disclosure node, it just makes it have no width and no height.</em></li>\n<li><em>This solution relies on implementation details; be careful when changing versions of JavaFX. I only tried this on JavaFX 11.0.2 but I believe it should work for JavaFX 8 as well.</em></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12512752,"reputation":79,"user_id":9107233,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623825556,"creation_date":1623825556,"answer_id":67997576,"question_id":54953447,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n**MyTreeCellSkin.java**\r\n```\r\nimport javafx.scene.control.TreeCell;\r\nimport javafx.scene.control.TreeView;\r\nimport javafx.scene.control.skin.TreeCellSkin;\r\n\r\npublic class MyTreeCellSkin&lt;T&gt; extends TreeCellSkin&lt;T&gt; {\r\n\r\n    public MyTreeCellSkin(TreeCell&lt;T&gt; control) {\r\n        super(control);\r\n    }\r\n\r\n    @Override\r\n    protected void layoutChildren(double x, double y, double w, double h) {\r\n        super.layoutChildren(x, y, w, h);\r\n\r\n        TreeView&lt;T&gt; tree = getSkinnable().getTreeView();\r\n\r\n        int level = tree.getTreeItemLevel(getSkinnable().getTreeItem());\r\n        if (!tree.isShowRoot()) {\r\n            level--;\r\n        }\r\n        double leftMargin = getIndent() * level;\r\n\r\n        x += leftMargin;\r\n\r\n        double disclosureWidth = 18;\r\n\r\n        final int padding = 3;\r\n        // x += disclosureWidth + padding;\r\n        x += 3;\r\n\r\n        w -= (leftMargin + disclosureWidth + padding);\r\n\r\n        layoutLabelInArea(x, y, w, h);\r\n    }\r\n}\r\n```\r\n**CustomTreeCell.java**\r\n```\r\nimport javafx.beans.InvalidationListener;\r\nimport javafx.css.PseudoClass;\r\nimport javafx.scene.control.TreeCell;\r\n\r\npublic class CustomTreeCell&lt;T&gt; extends TreeCell&lt;T&gt; {\r\n\r\n    private static final PseudoClass ROOT = PseudoClass.getPseudoClass(&quot;root&quot;);\r\n\r\n    public CustomTreeCell() {\r\n        getStyleClass().add(&quot;custom-tree-cell&quot;);\r\n\r\n        InvalidationListener listener = observable -&gt; {\r\n            boolean isRoot = getTreeView() != null &amp;&amp; getTreeItem() == getTreeView().getRoot();\r\n            pseudoClassStateChanged(ROOT, isRoot);\r\n        };\r\n\r\n        treeViewProperty().addListener(listener);\r\n        treeItemProperty().addListener(listener);\r\n    }\r\n\r\n    @Override\r\n    protected void updateItem(T item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        if (empty || item == null) {\r\n            setText(null);\r\n            graphicProperty().unbind();\r\n            setGraphic(null);\r\n        } else {\r\n            setText(item.toString());\r\n            graphicProperty().bind(getTreeItem().graphicProperty());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n**main.java**\r\n```\r\ntreeView.setCellFactory(param -&gt; {\r\n           CustomTreeCell&lt;String&gt; treeCell = new CustomTreeCell&lt;&gt;();\r\n           treeCell.setSkin(new MyTreeCellSkin&lt;&gt;(treeCell));\r\n           return treeCell;\r\n});\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iqLae.png","title":"javafx: How do I hide the &quot;drop down arrow&quot; in a TreeView?","body":"<p><a href=\"https://i.stack.imgur.com/iqLae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqLae.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>MyTreeCellSkin.java</strong></p>\n<pre><code>import javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.control.skin.TreeCellSkin;\n\npublic class MyTreeCellSkin&lt;T&gt; extends TreeCellSkin&lt;T&gt; {\n\n    public MyTreeCellSkin(TreeCell&lt;T&gt; control) {\n        super(control);\n    }\n\n    @Override\n    protected void layoutChildren(double x, double y, double w, double h) {\n        super.layoutChildren(x, y, w, h);\n\n        TreeView&lt;T&gt; tree = getSkinnable().getTreeView();\n\n        int level = tree.getTreeItemLevel(getSkinnable().getTreeItem());\n        if (!tree.isShowRoot()) {\n            level--;\n        }\n        double leftMargin = getIndent() * level;\n\n        x += leftMargin;\n\n        double disclosureWidth = 18;\n\n        final int padding = 3;\n        // x += disclosureWidth + padding;\n        x += 3;\n\n        w -= (leftMargin + disclosureWidth + padding);\n\n        layoutLabelInArea(x, y, w, h);\n    }\n}\n</code></pre>\n<p><strong>CustomTreeCell.java</strong></p>\n<pre><code>import javafx.beans.InvalidationListener;\nimport javafx.css.PseudoClass;\nimport javafx.scene.control.TreeCell;\n\npublic class CustomTreeCell&lt;T&gt; extends TreeCell&lt;T&gt; {\n\n    private static final PseudoClass ROOT = PseudoClass.getPseudoClass(&quot;root&quot;);\n\n    public CustomTreeCell() {\n        getStyleClass().add(&quot;custom-tree-cell&quot;);\n\n        InvalidationListener listener = observable -&gt; {\n            boolean isRoot = getTreeView() != null &amp;&amp; getTreeItem() == getTreeView().getRoot();\n            pseudoClassStateChanged(ROOT, isRoot);\n        };\n\n        treeViewProperty().addListener(listener);\n        treeItemProperty().addListener(listener);\n    }\n\n    @Override\n    protected void updateItem(T item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty || item == null) {\n            setText(null);\n            graphicProperty().unbind();\n            setGraphic(null);\n        } else {\n            setText(item.toString());\n            graphicProperty().bind(getTreeItem().graphicProperty());\n        }\n    }\n\n}\n</code></pre>\n<p><strong>main.java</strong></p>\n<pre><code>treeView.setCellFactory(param -&gt; {\n           CustomTreeCell&lt;String&gt; treeCell = new CustomTreeCell&lt;&gt;();\n           treeCell.setSkin(new MyTreeCellSkin&lt;&gt;(treeCell));\n           return treeCell;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26262947,"reputation":11,"user_id":19933963,"display_name":"Henryk Zschuppan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672696238,"creation_date":1672666856,"answer_id":74983132,"question_id":54953447,"body_markdown":"In JavaFX 8 all you need is to update two style classes within extended TreeCell.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn my TreeCell constructor i used a StackPane as graphic and set style with inverted padding value.\r\n        \r\n        stackPane.setStyle(&quot;-fx-padding: 0 0 0 -5;&quot;);\r\n            \r\n    // update styles in updateItem method\r\n\r\n        @Override\r\n        public void updateItem(Group item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        setText(null);\r\n\t\tsetGraphic(null);\r\n        getStyleClass().remove(&quot;just-core-tree-cell&quot;);\r\n        getStyleClass().remove(&quot;core-leaf-tree-cell&quot;);\r\n                \r\n        if (empty || null == item) {\r\n          return;\r\n        }\r\n\r\n    // i coded a simple method to check if parent item is the root item\r\n    // but you can do same with a getTreeItem() parent check instead\r\n\r\n        boolean isCoreGroup = item.isParentRoot();\r\n        boolean isLeaf = item.isLeaf();\r\n    \r\n        if (isCoreGroup &amp;&amp; isLeaf) {\r\n        \t\t\tgetStyleClass().add(&quot;core-leaf-tree-cell&quot;);\r\n        \t\t}\r\n        \r\n        if (isCoreGroup &amp;&amp; !isLeaf) {\r\n        \t\t\tgetStyleClass().add(&quot;just-core-tree-cell&quot;);\r\n        \t\t}\r\n\r\n     // Do some other graphical updates on the stack pane...\r\n        setGraphic(this.stackPane);\r\n     // Set different icon depending on the TreeItem&#39;s expanded state as indicator\r\n        getTreeItem().setGraphic(iconExpanded);\r\n            \r\n**In CSS-Style-File set padding values as follow**\r\n            \r\n                .tree-cell {\r\n                \t-fx-indent: 8.0;\r\n                \t-fx-padding: 0.0 2.0 0.0 -10.0;\r\n                }\r\n                \r\n                /* (leafs) indent compensation to the left space*/\r\n                .core-leaf-tree-cell {\r\n    /* because +18 is the hard coded left space padding, BUG: JDKJDK-8180646\r\n     * TreeView renders TreeCells with superfluous indentation if disclosure \r\n     * node is not visible or smaller than 18px in width */\r\n                \t-fx-padding: 0 2px 0 -21px;\r\n                }\r\n                \r\n                .just-core-tree-cell{\r\n                \t-fx-padding: 0 2px 0 3px;\r\n                }\r\n                \r\n                .just-core-tree-cell .tree-disclosure-node, .just-core-tree-cell .arrow, .just-core-tree-cell:expanded .tree-disclosure-node .arrow\r\n                \t{\r\n                \t-fx-rotate: 0;\r\n                \t-fx-scale-shape: true;\r\n                \t-fx-min-width: 0;\r\n                \t-fx-pref-width: 0;\r\n                \t-fx-max-width: 0;\r\n                \t-fx-min-height: 0;\r\n                \t-fx-pref-height: 0;\r\n                \t-fx-max-height: 0;\r\n                }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F1tAO.png","title":"javafx: How do I hide the &quot;drop down arrow&quot; in a TreeView?","body":"<p>In JavaFX 8 all you need is to update two style classes within extended TreeCell.</p>\n<p><a href=\"https://i.stack.imgur.com/F1tAO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1tAO.png\" alt=\"enter image description here\" /></a></p>\n<p>In my TreeCell constructor i used a StackPane as graphic and set style with inverted padding value.</p>\n<pre><code>    stackPane.setStyle(&quot;-fx-padding: 0 0 0 -5;&quot;);\n        \n// update styles in updateItem method\n\n    @Override\n    public void updateItem(Group item, boolean empty) {\n    super.updateItem(item, empty);\n    setText(null);\n    setGraphic(null);\n    getStyleClass().remove(&quot;just-core-tree-cell&quot;);\n    getStyleClass().remove(&quot;core-leaf-tree-cell&quot;);\n            \n    if (empty || null == item) {\n      return;\n    }\n\n// i coded a simple method to check if parent item is the root item\n// but you can do same with a getTreeItem() parent check instead\n\n    boolean isCoreGroup = item.isParentRoot();\n    boolean isLeaf = item.isLeaf();\n\n    if (isCoreGroup &amp;&amp; isLeaf) {\n                getStyleClass().add(&quot;core-leaf-tree-cell&quot;);\n            }\n    \n    if (isCoreGroup &amp;&amp; !isLeaf) {\n                getStyleClass().add(&quot;just-core-tree-cell&quot;);\n            }\n\n // Do some other graphical updates on the stack pane...\n    setGraphic(this.stackPane);\n // Set different icon depending on the TreeItem's expanded state as indicator\n    getTreeItem().setGraphic(iconExpanded);\n        \n</code></pre>\n<p><strong>In CSS-Style-File set padding values as follow</strong></p>\n<pre><code>            .tree-cell {\n                -fx-indent: 8.0;\n                -fx-padding: 0.0 2.0 0.0 -10.0;\n            }\n            \n            /* (leafs) indent compensation to the left space*/\n            .core-leaf-tree-cell {\n/* because +18 is the hard coded left space padding, BUG: JDKJDK-8180646\n * TreeView renders TreeCells with superfluous indentation if disclosure \n * node is not visible or smaller than 18px in width */\n                -fx-padding: 0 2px 0 -21px;\n            }\n            \n            .just-core-tree-cell{\n                -fx-padding: 0 2px 0 3px;\n            }\n            \n            .just-core-tree-cell .tree-disclosure-node, .just-core-tree-cell .arrow, .just-core-tree-cell:expanded .tree-disclosure-node .arrow\n                {\n                -fx-rotate: 0;\n                -fx-scale-shape: true;\n                -fx-min-width: 0;\n                -fx-pref-width: 0;\n                -fx-max-width: 0;\n                -fx-min-height: 0;\n                -fx-pref-height: 0;\n                -fx-max-height: 0;\n            }\n</code></pre>\n"}],"owner":{"account_id":13348814,"reputation":850,"user_id":9634620,"display_name":"geekTechnique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54965063,"answer_count":3,"score":3,"last_activity_date":1672696238,"creation_date":1551481015,"question_id":54953447,"body_markdown":"Hope everyone is doing well.\r\n\r\nMy question is pretty basic: How do I make the arrow at the root of a TreeView hidden, if it&#39;s possible? A good example of what I want to achieve can be seen in Windows Event Viewer.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nWhile my javafx application looks like the image below\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBy default, that arrow next to vehicles is present. \r\n\r\nI read the documentation [here][3], but I only found .showRoot(), which doesn&#39;t achieve what I want. I would really appreciate any input, even if it&#39;s a cheat way to do it (using the x-offset property crossed my mind).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dPM2.png\r\n  [2]: https://i.stack.imgur.com/GL1tI.png\r\n  [3]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeView.html","title":"javafx: How do I hide the &quot;drop down arrow&quot; in a TreeView?","body":"<p>Hope everyone is doing well.</p>\n\n<p>My question is pretty basic: How do I make the arrow at the root of a TreeView hidden, if it's possible? A good example of what I want to achieve can be seen in Windows Event Viewer.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0dPM2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dPM2.png\" alt=\"enter image description here\"></a></p>\n\n<p>While my javafx application looks like the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/GL1tI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GL1tI.png\" alt=\"enter image description here\"></a></p>\n\n<p>By default, that arrow next to vehicles is present. </p>\n\n<p>I read the documentation <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeView.html\" rel=\"nofollow noreferrer\">here</a>, but I only found .showRoot(), which doesn't achieve what I want. I would really appreciate any input, even if it's a cheat way to do it (using the x-offset property crossed my mind).</p>\n"},{"tags":["java","jvm","javac"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1672695243,"creation_date":1672695243,"answer_id":74987239,"question_id":74987182,"body_markdown":"Because JVMS [doesn&#39;t allow access](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-5.html#jvms-5.4.4) to private members of a different class, whether it is an inner class or not. JDK 11 added the concept of [nestmates](https://openjdk.org/jeps/181) to overcome this limitation.","title":"Inner class access field before java-11","body":"<p>Because JVMS <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-5.html#jvms-5.4.4\" rel=\"noreferrer\">doesn't allow access</a> to private members of a different class, whether it is an inner class or not. JDK 11 added the concept of <a href=\"https://openjdk.org/jeps/181\" rel=\"noreferrer\">nestmates</a> to overcome this limitation.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672695429,"creation_date":1672695429,"answer_id":74987262,"question_id":74987182,"body_markdown":"The reason is that the outer and inner classes compile to different class files, which means they can&#39;t access each others&#39; private members.\r\n\r\nThe synthetic method is generated to effectively widen the access from private to package-private, but it achieves that via unnecessary indirection.\r\n\r\nIn Java 11, they introduced a new concept for this purpose which does allow classes in different files to access each others&#39; private members in certain cases (i.e. this one). \r\n\r\nSee the JEP: https://openjdk.org/jeps/181","title":"Inner class access field before java-11","body":"<p>The reason is that the outer and inner classes compile to different class files, which means they can't access each others' private members.</p>\n<p>The synthetic method is generated to effectively widen the access from private to package-private, but it achieves that via unnecessary indirection.</p>\n<p>In Java 11, they introduced a new concept for this purpose which does allow classes in different files to access each others' private members in certain cases (i.e. this one).</p>\n<p>See the JEP: <a href=\"https://openjdk.org/jeps/181\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/181</a></p>\n"},{"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1672696696,"post_id":74987270,"comment_id":132330343,"body_markdown":"There *is* information about inner classes on the JVM / class file level. See [JVMS &#167;4.7.6](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.7.6)","body":"There <i>is</i> information about inner classes on the JVM / class file level. See <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.7.6\" rel=\"nofollow noreferrer\">JVMS &#167;4.7.6</a>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672739973,"post_id":74987270,"comment_id":132337815,"body_markdown":"This question is about JVM8, so the right link is [JVMS8 &#167;4.7.6](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6) instead. As the comment at the end of that section hints at, whilst the class file can store it, the JVM execution engine ignores it. It&#39;s like generics: It&#39;s, effectively, &#39;a comment&#39; as far as the JVM is concerned. The verifier does nothing with this information (it doesn&#39;t _avoid_ rejecting things that access private members of other classes, for example).","body":"This question is about JVM8, so the right link is <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.6\" rel=\"nofollow noreferrer\">JVMS8 &#167;4.7.6</a> instead. As the comment at the end of that section hints at, whilst the class file can store it, the JVM execution engine ignores it. It&#39;s like generics: It&#39;s, effectively, &#39;a comment&#39; as far as the JVM is concerned. The verifier does nothing with this information (it doesn&#39;t <i>avoid</i> rejecting things that access private members of other classes, for example)."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1672695527,"creation_date":1672695527,"answer_id":74987270,"question_id":74987182,"body_markdown":"It&#39;s a simple conclusion based on a number of factors:\r\n\r\n1. At the JVM (class file / `java.exe`) level, __inner classes simply do not exist. At all.__ Javac &#39;fakes&#39; it, by naming your `Inner` class `Sample1$Inner` (that dollar isn&#39;t a rendering, that&#39;s its actual JVM-level name, a $ is just a symbol, just as valid as `I` or `n`), adding a parameter of type `Sample1` as first param to all constructors of Inner, replacing `new Sample1()` with `new Sample1(this)`, replacing `instanceOfOuter.new Sample1()` with `new Sample1(instanceOfOuter)`, having a `final` field of type `Sample1` (which those constructors set by using that first param), translating all calls to outer methods as being invoked on that field (given that there&#39;s no &quot;outer this&quot; at the JVM level, as there is no outer class), and so on. You can see all this using `javap -c`.\r\n\r\n2. `private` members __cannot__ be accessed by any type other than itself, therefore, given that an inner class ceases to be that once compilation has concluded (because the JVM doesn&#39;t have the inner class concept in the first place), it needs a package-private (or protected or public, as you want) way to get at it.\r\n\r\n3. The JVM _also_ has no idea what synthetic means. It&#39;s a flag, yes, and the JVM completely ignores. It doesn&#39;t know what it implies, it doesn&#39;t affect how code is to be run or interpreted _at all_. It&#39;s `javac` that knows what synthetic means. Namely: flag anything you made up to glue together the carefully managed fakery to make inner classes seem like a thing when they are purely a java-the-language (i.e. compiler) feature and don&#39;t exist at the java-the-runtime level - and when reading class files, be blind to them. Act like these synthetic methods do not exist. As in, if javac is asked to compile code that attempts to call a synthetic method, act the same way as if compiling code that attempts to call a non-existant method.\r\n\r\nAs a comment has already noted, more recent versions of java _do_ introduce this notion of inner classes at the JVM level, but not quite by enshrining the idea of &#39;inner class&#39; in the JVM Specification, but by having the &#39;nestmates&#39; concept, which lets class files list other class names that get to &#39;see&#39; and call/interact with private elements. Modern javacs, if targeting modern JVMs (&#39;modern&#39; defined here as: &quot;Has the nestmates feature available&quot;), will use nestmates and forego all the synthetics.\r\n","title":"Inner class access field before java-11","body":"<p>It's a simple conclusion based on a number of factors:</p>\n<ol>\n<li><p>At the JVM (class file / <code>java.exe</code>) level, <strong>inner classes simply do not exist. At all.</strong> Javac 'fakes' it, by naming your <code>Inner</code> class <code>Sample1$Inner</code> (that dollar isn't a rendering, that's its actual JVM-level name, a $ is just a symbol, just as valid as <code>I</code> or <code>n</code>), adding a parameter of type <code>Sample1</code> as first param to all constructors of Inner, replacing <code>new Sample1()</code> with <code>new Sample1(this)</code>, replacing <code>instanceOfOuter.new Sample1()</code> with <code>new Sample1(instanceOfOuter)</code>, having a <code>final</code> field of type <code>Sample1</code> (which those constructors set by using that first param), translating all calls to outer methods as being invoked on that field (given that there's no &quot;outer this&quot; at the JVM level, as there is no outer class), and so on. You can see all this using <code>javap -c</code>.</p>\n</li>\n<li><p><code>private</code> members <strong>cannot</strong> be accessed by any type other than itself, therefore, given that an inner class ceases to be that once compilation has concluded (because the JVM doesn't have the inner class concept in the first place), it needs a package-private (or protected or public, as you want) way to get at it.</p>\n</li>\n<li><p>The JVM <em>also</em> has no idea what synthetic means. It's a flag, yes, and the JVM completely ignores. It doesn't know what it implies, it doesn't affect how code is to be run or interpreted <em>at all</em>. It's <code>javac</code> that knows what synthetic means. Namely: flag anything you made up to glue together the carefully managed fakery to make inner classes seem like a thing when they are purely a java-the-language (i.e. compiler) feature and don't exist at the java-the-runtime level - and when reading class files, be blind to them. Act like these synthetic methods do not exist. As in, if javac is asked to compile code that attempts to call a synthetic method, act the same way as if compiling code that attempts to call a non-existant method.</p>\n</li>\n</ol>\n<p>As a comment has already noted, more recent versions of java <em>do</em> introduce this notion of inner classes at the JVM level, but not quite by enshrining the idea of 'inner class' in the JVM Specification, but by having the 'nestmates' concept, which lets class files list other class names that get to 'see' and call/interact with private elements. Modern javacs, if targeting modern JVMs ('modern' defined here as: &quot;Has the nestmates feature available&quot;), will use nestmates and forego all the synthetics.</p>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74987239,"answer_count":3,"score":4,"last_activity_date":1672695527,"creation_date":1672694583,"question_id":74987182,"body_markdown":"Having a class like this:\r\n\r\n```\r\npublic class Sample1 {\r\n\r\n    public class Inner {\r\n        private int f;\r\n    }\r\n\r\n    void go() {\r\n        Inner in = new Inner();\r\n        int value = in.f;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe byte-code for the `go` method (before java-11) calls that known synthetic method:\r\n\r\n```\r\nstatic int access$000(nestmates.Sample1$Inner);\r\n    descriptor: (Lnestmates/Sample1$Inner;)I\r\n    flags: ACC_STATIC, ACC_SYNTHETIC\r\n    Code:\r\n      stack=1, locals=1, args_size=1\r\n         0: aload_0\r\n         1: getfield      #1                  // Field f:I\r\n         4: ireturn\r\n```\r\n\r\nfrom:\r\n\r\n```\r\n0: new  #2  // class nestmates/Sample1$Inner\r\n3: dup\r\n4: aload_0\r\n5: invokespecial #3 // Method nestmates/Sample1$Inner.&quot;&lt;init&gt;&quot;:(Lnestmates/Sample1;)V\r\n8: astore_1\r\n9: aload_1\r\n10: invokestatic #4 // Method nestmates/Sample1$Inner.access$000:(Lnestmates/Sample1$Inner;)I\r\n```\r\n\r\nI&#39;ve known about this for quite some time, but I&#39;ve never questioned myself _why_ this is like this? Why javac has to do this in the first place, and why not directly `getField` and this indirection via the static method. Thank you. ","title":"Inner class access field before java-11","body":"<p>Having a class like this:</p>\n<pre><code>public class Sample1 {\n\n    public class Inner {\n        private int f;\n    }\n\n    void go() {\n        Inner in = new Inner();\n        int value = in.f;\n    }\n\n}\n</code></pre>\n<p>The byte-code for the <code>go</code> method (before java-11) calls that known synthetic method:</p>\n<pre><code>static int access$000(nestmates.Sample1$Inner);\n    descriptor: (Lnestmates/Sample1$Inner;)I\n    flags: ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: getfield      #1                  // Field f:I\n         4: ireturn\n</code></pre>\n<p>from:</p>\n<pre><code>0: new  #2  // class nestmates/Sample1$Inner\n3: dup\n4: aload_0\n5: invokespecial #3 // Method nestmates/Sample1$Inner.&quot;&lt;init&gt;&quot;:(Lnestmates/Sample1;)V\n8: astore_1\n9: aload_1\n10: invokestatic #4 // Method nestmates/Sample1$Inner.access$000:(Lnestmates/Sample1$Inner;)I\n</code></pre>\n<p>I've known about this for quite some time, but I've never questioned myself <em>why</em> this is like this? Why javac has to do this in the first place, and why not directly <code>getField</code> and this indirection via the static method. Thank you.</p>\n"},{"tags":["java","javafx","charts","jfreechart","jfreechart-fx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671755612,"post_id":74889977,"comment_id":132171271,"body_markdown":"This in an interesting question, but it currently includes multiple questions in one; it should focus on one problem only. Rather than a table, I&#39;d propose editing the point selected using a `ChartMouseListenerFX`. If you agree, please edit your question accordingly, noting the spurious `xSpin` after the button and repeated addition of `trend` to the `dataset`.","body":"This in an interesting question, but it currently includes multiple questions in one; it should focus on one problem only. Rather than a table, I&#39;d propose editing the point selected using a <code>ChartMouseListenerFX</code>. If you agree, please edit your question accordingly, noting the spurious <code>xSpin</code> after the button and repeated addition of <code>trend</code> to the <code>dataset</code>."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671789500,"post_id":74889977,"comment_id":132176312,"body_markdown":"i have edited the question with a handdrawn image of what i would like the table to look like","body":"i have edited the question with a handdrawn image of what i would like the table to look like"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671801610,"post_id":74889977,"comment_id":132179457,"body_markdown":"In this case, you should be able to use a `TableView` and create its model using the `List` returned by `XYSeries::getItems`, but I haven&#39;t tried; please [edit] your question to include a [mre] that shows your revised approach. I&#39;ll pursue the mouse listener approach separately.","body":"In this case, you should be able to use a <code>TableView</code> and create its model using the <code>List</code> returned by <code>XYSeries::getItems</code>, but I haven&#39;t tried; please <a href=\"https://stackoverflow.com/posts/74889977/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach. I&#39;ll pursue the mouse listener approach separately."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1672696242,"post_id":74889977,"comment_id":132330259,"body_markdown":"I have attempted to create a table with TableView with 2 columns but don&#39;t know how to separate the x and y values from the list returned from getItems().help would be appreciated","body":"I have attempted to create a table with TableView with 2 columns but don&#39;t know how to separate the x and y values from the list returned from getItems().help would be appreciated"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1672698059,"post_id":74889977,"comment_id":132330637,"body_markdown":"Each item in the list is an `XYDataItem` with accessors for x and y.","body":"Each item in the list is an <code>XYDataItem</code> with accessors for x and y."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1672699013,"post_id":74889977,"comment_id":132330846,"body_markdown":"how would I update the table with the XYDataItem when values are added when the add button is selected(in the add button handler.)","body":"how would I update the table with the XYDataItem when values are added when the add button is selected(in the add button handler.)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1672699707,"post_id":74889977,"comment_id":132330953,"body_markdown":"I&#39;m guessing the table&#39;s cell value factory could retrieve the value; but I haven&#39;t tried.","body":"I&#39;m guessing the table&#39;s cell value factory could retrieve the value; but I haven&#39;t tried."}],"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672695478,"creation_date":1671719667,"question_id":74889977,"body_markdown":"I would like to create a table which is by the right side of the graph which shows 2 columns of what x and y values have been inputted into the `xSpin` and `ySpin` spinners. I have drawn a picture of where I would like the table to reside. I have tried using textboxes in a grid pane layout to create a table and inputting the values directly into a grid of text boxes, however I couldn&#39;t add them individually to the series.\r\n\r\n[![picture][1]][1].\r\n[![enter image description here][2]][2]\r\n\r\n```\r\npackage Grava;\r\npublic class ScatterAdd extends Application {\r\n\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n\r\n\r\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\r\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\r\n\r\n    private JFreeChart createChart() {\r\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Image image = new Image(&quot;Grava.logo.png&quot;);\r\n        stage.getIcons().add(image);\r\n        var chart = createChart();\r\n\r\n\r\n\r\n        XYPlot plot = chart.getXYPlot();\r\n        plot.setDomainCrosshairVisible(true);\r\n        plot.setRangeCrosshairVisible(true);\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\r\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\r\n\r\n\r\n        var equation = new TextField();\r\n        series.addChangeListener((event) -&gt; {\r\n            if (series.getItemCount() &gt; 1) {\r\n                double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n                double b = coefficients[0]; // intercept\r\n                double m = coefficients[1]; // slope\r\n                equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n                double x = series.getDataItem(0).getXValue();\r\n                trend.clear();\r\n                trend.add(x, m * x + b);\r\n                x = series.getDataItem(series.getItemCount() - 1).getXValue();\r\n                trend.add(x, m * x + b);\r\n                dataset.addSeries(trend);\r\n\r\n            }\r\n        });\r\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\r\n        });\r\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\r\n        });\r\n\r\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\r\n        domainLabels.setValue(&quot;Current&quot;);\r\n\r\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\r\n        rangeLabels.setValue(&quot;Voltage&quot;);\r\n\r\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        xSpin.setEditable(true);\r\n        xSpin.setPromptText(&quot;Xvalue&quot;);\r\n\r\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        ySpin.setEditable(true);\r\n        ySpin.setPromptText(&quot;Yvalue&quot;);\r\n\r\n        var button = new Button(&quot;Add&quot;);\r\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\r\n        HBox xBox = new HBox();\r\n        xBox.getChildren().addAll(domainLabels);\r\n\r\n        HBox yBox = new HBox();\r\n        yBox.getChildren().addAll(rangeLabels);\r\n\r\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\r\n        BorderPane.setAlignment(enter, Pos.CENTER);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(new ChartViewer(chart));\r\n        root.setBottom(enter);\r\n\r\n        stage.setTitle(&quot;ScatterAdd&quot;);\r\n        stage.setScene(new Scene(root, 720, 480));\r\n        stage.show();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ugIV.jpg\r\n  [2]: https://i.stack.imgur.com/toGNO.png","title":"How would I create a table displaying the x and y values of the Spinners?","body":"<p>I would like to create a table which is by the right side of the graph which shows 2 columns of what x and y values have been inputted into the <code>xSpin</code> and <code>ySpin</code> spinners. I have drawn a picture of where I would like the table to reside. I have tried using textboxes in a grid pane layout to create a table and inputting the values directly into a grid of text boxes, however I couldn't add them individually to the series.</p>\n<p><a href=\"https://i.stack.imgur.com/4ugIV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ugIV.jpg\" alt=\"picture\" /></a>.\n<a href=\"https://i.stack.imgur.com/toGNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toGNO.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package Grava;\npublic class ScatterAdd extends Application {\n\n\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\n\n\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\n\n    private JFreeChart createChart() {\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\n    }\n\n    @Override\n    public void start(Stage stage) {\n\n        Image image = new Image(&quot;Grava.logo.png&quot;);\n        stage.getIcons().add(image);\n        var chart = createChart();\n\n\n\n        XYPlot plot = chart.getXYPlot();\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\n\n\n        var equation = new TextField();\n        series.addChangeListener((event) -&gt; {\n            if (series.getItemCount() &gt; 1) {\n                double[] coefficients = Regression.getOLSRegression(dataset, 0);\n                double b = coefficients[0]; // intercept\n                double m = coefficients[1]; // slope\n                equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\n                double x = series.getDataItem(0).getXValue();\n                trend.clear();\n                trend.add(x, m * x + b);\n                x = series.getDataItem(series.getItemCount() - 1).getXValue();\n                trend.add(x, m * x + b);\n                dataset.addSeries(trend);\n\n            }\n        });\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\n        });\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\n        });\n\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\n        domainLabels.setValue(&quot;Current&quot;);\n\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\n        rangeLabels.setValue(&quot;Voltage&quot;);\n\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        xSpin.setEditable(true);\n        xSpin.setPromptText(&quot;Xvalue&quot;);\n\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        ySpin.setEditable(true);\n        ySpin.setPromptText(&quot;Yvalue&quot;);\n\n        var button = new Button(&quot;Add&quot;);\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\n        HBox xBox = new HBox();\n        xBox.getChildren().addAll(domainLabels);\n\n        HBox yBox = new HBox();\n        yBox.getChildren().addAll(rangeLabels);\n\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\n        BorderPane.setAlignment(enter, Pos.CENTER);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(new ChartViewer(chart));\n        root.setBottom(enter);\n\n        stage.setTitle(&quot;ScatterAdd&quot;);\n        stage.setScene(new Scene(root, 720, 480));\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","quarkus","smallrye","quarkus-kafka"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1651820563,"post_id":72136068,"comment_id":127458861,"body_markdown":"Can you try adding quotes around the channel name? (I do recognize there&#39;s too many &quot;quotes&quot; here... :-) ) Like this: `mp.messaging.outgoing.&quot;quotes.ch&quot;.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer`","body":"Can you try adding quotes around the channel name? (I do recognize there&#39;s too many &quot;quotes&quot; here... :-) ) Like this: <code>mp.messaging.outgoing.&quot;quotes.ch&quot;.value.serializer=io.quarku&zwnj;&#8203;s.kafka.client.seria&zwnj;&#8203;lization.ObjectMappe&zwnj;&#8203;rSerializer</code>"},{"owner":{"account_id":3208160,"reputation":382,"user_id":2708748,"accept_rate":67,"display_name":"Johnyzhub"},"score":0,"creation_date":1651847579,"post_id":72136068,"comment_id":127468616,"body_markdown":"@Ladicek: I tried &quot;quotes.ch&quot; and &#39;quotes.ch&#39; but facing the same problem.           \n Invalid channel configuration -  the `connector` attribute must be set for channel `quotes`","body":"@Ladicek: I tried &quot;quotes.ch&quot; and &#39;quotes.ch&#39; but facing the same problem.             Invalid channel configuration -  the <code>connector</code> attribute must be set for channel <code>quotes</code>"},{"owner":{"account_id":3208160,"reputation":382,"user_id":2708748,"accept_rate":67,"display_name":"Johnyzhub"},"score":0,"creation_date":1651848331,"post_id":72136068,"comment_id":127468955,"body_markdown":"@Ladicek:                                                                                                                                I added the connector property mp.messaging.outgoing.&quot;quotes.ch&quot;.connector=smallrye-kafka  didnt fix the problem","body":"@Ladicek:                                                                                                                                I added the connector property mp.messaging.outgoing.&quot;quotes.ch&quot;.connector=smallrye-kafka  didnt fix the problem"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1651851539,"post_id":72136068,"comment_id":127470271,"body_markdown":"Okay, then that&#39;s probably a bug. SmallRye Reactive Messaging does manipulate the configuration properties quite a bit and probably doesn&#39;t support the quotation syntax. I&#39;d suggest to file an issue either in SmallRye Reactive Messaging (https://github.com/smallrye/smallrye-reactive-messaging/) or in Quarkus.","body":"Okay, then that&#39;s probably a bug. SmallRye Reactive Messaging does manipulate the configuration properties quite a bit and probably doesn&#39;t support the quotation syntax. I&#39;d suggest to file an issue either in SmallRye Reactive Messaging (<a href=\"https://github.com/smallrye/smallrye-reactive-messaging/\" rel=\"nofollow noreferrer\">github.com/smallrye/smallrye-reactive-messaging</a>) or in Quarkus."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1651910544,"post_id":72136068,"comment_id":127480977,"body_markdown":"Yes, sounds like a bug in the quarkus integration. We have tests for &quot;pure&quot; smallrye.","body":"Yes, sounds like a bug in the quarkus integration. We have tests for &quot;pure&quot; smallrye."},{"owner":{"account_id":3208160,"reputation":382,"user_id":2708748,"accept_rate":67,"display_name":"Johnyzhub"},"score":0,"creation_date":1651941723,"post_id":72136068,"comment_id":127487729,"body_markdown":"Created new issue to quarkus, https://github.com/quarkusio/quarkus/issues/25437","body":"Created new issue to quarkus, <a href=\"https://github.com/quarkusio/quarkus/issues/25437\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/25437</a>"}],"answers":[{"tags":[],"owner":{"account_id":17609632,"reputation":106,"user_id":12777955,"display_name":"Kemot 90"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665483079,"creation_date":1665483079,"answer_id":74026429,"question_id":72136068,"body_markdown":"you need update your application.properties like a this\r\n\r\n```properties\r\n# Configurazione incoming quotes Kafka topic for Channel\r\nmp.messaging.incoming.quotes.connector=smallrye-kafka\r\nmp.messaging.incoming.quotes.topic=quotes\r\nmp.messaging.incoming.quotes.auto.offset.reset=earliest\r\n```\r\n\r\nafter configuring correctly kafka you can use \r\n```java\r\n@Channel(&quot;quotes&quot;)...\r\n```\r\n\r\nOfficial documentation:\r\nmore info for your use case here https://quarkus.io/guides/kafka-reactive-getting-started\r\nand other example here https://quarkus.io/blog/getting-started-kafka/","title":"Kafka Channel name with a &#39;period&#39; in Quarkus application","body":"<p>you need update your application.properties like a this</p>\n<pre><code># Configurazione incoming quotes Kafka topic for Channel\nmp.messaging.incoming.quotes.connector=smallrye-kafka\nmp.messaging.incoming.quotes.topic=quotes\nmp.messaging.incoming.quotes.auto.offset.reset=earliest\n</code></pre>\n<p>after configuring correctly kafka you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Channel(&quot;quotes&quot;)...\n</code></pre>\n<p>Official documentation:\nmore info for your use case here <a href=\"https://quarkus.io/guides/kafka-reactive-getting-started\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/kafka-reactive-getting-started</a>\nand other example here <a href=\"https://quarkus.io/blog/getting-started-kafka/\" rel=\"nofollow noreferrer\">https://quarkus.io/blog/getting-started-kafka/</a></p>\n"}],"owner":{"account_id":3208160,"reputation":382,"user_id":2708748,"accept_rate":67,"display_name":"Johnyzhub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672695159,"creation_date":1651810065,"question_id":72136068,"body_markdown":"While I am playing with  repo [kafka-quickstart](https://github.com/quarkusio/quarkus-quickstarts/tree/main/kafka-quickstart  &quot;kafka-quickstart&quot;) , I noticed that if I add a period to the channel name quarkus is failing to start. The channel name in the github repo is &#39;quotes&#39; and I changed it to &#39;quotes.ch&#39; all over the occurrences.  \r\n&lt;br&gt;the properties file entry is changed to &lt;br&gt;\r\nmp.messaging.outgoing.**quotes.ch**.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer\r\n&lt;br&gt;The outgoing annotation with channel name &quot;quotes.ch&quot; in QuotesProcessor\r\nand the channel annotation with &quot;quotes.ch&quot; in QuotesResource\r\n\r\nThe processor application failed to start with below exception :: How to handle such names in quarkus?\r\n\r\n\r\nThread [39m [38;5;188m) [39m [38;5;151mFailed to start application (with profile dev) [39m [38;5;203m: java.lang.IllegalArgumentException: SRMSG00071: **Invalid channel configuration -  the `connector` attribute must be set for channel `quotes`**\r\n\tat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$0(ConnectorConfig.java:50)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n\tat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$1(ConnectorConfig.java:50)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.&lt;init&gt;(ConnectorConfig.java:49)\r\n\tat io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.lambda$extractConfigurationFor$0(ConfiguredChannelFactory.java:85)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.extractConfigurationFor(ConfiguredChannelFactory.java:74)\r\n\r\n&lt;b&gt;UPDATE:::&lt;/b&gt;\r\nThis problem/bug is fixed in https://github.com/quarkusio/quarkus/pull/25490","title":"Kafka Channel name with a &#39;period&#39; in Quarkus application","body":"<p>While I am playing with  repo <a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/kafka-quickstart\" rel=\"nofollow noreferrer\" title=\"kafka-quickstart\">kafka-quickstart</a> , I noticed that if I add a period to the channel name quarkus is failing to start. The channel name in the github repo is 'quotes' and I changed it to 'quotes.ch' all over the occurrences.<br />\n<br>the properties file entry is changed to <br>\nmp.messaging.outgoing.<strong>quotes.ch</strong>.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer\n<br>The outgoing annotation with channel name &quot;quotes.ch&quot; in QuotesProcessor\nand the channel annotation with &quot;quotes.ch&quot; in QuotesResource</p>\n<p>The processor application failed to start with below exception :: How to handle such names in quarkus?</p>\n<p>Thread [39m [38;5;188m) [39m [38;5;151mFailed to start application (with profile dev) [39m [38;5;203m: java.lang.IllegalArgumentException: SRMSG00071: <strong>Invalid channel configuration -  the <code>connector</code> attribute must be set for channel <code>quotes</code></strong>\nat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$0(ConnectorConfig.java:50)\nat java.base/java.util.Optional.orElseThrow(Optional.java:403)\nat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$1(ConnectorConfig.java:50)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.(ConnectorConfig.java:49)\nat io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.lambda$extractConfigurationFor$0(ConfiguredChannelFactory.java:85)\nat java.base/java.lang.Iterable.forEach(Iterable.java:75)\nat io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.extractConfigurationFor(ConfiguredChannelFactory.java:74)</p>\n<p><b>UPDATE:::</b>\nThis problem/bug is fixed in <a href=\"https://github.com/quarkusio/quarkus/pull/25490\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/pull/25490</a></p>\n"},{"tags":["java","android-studio","firebase-realtime-database","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":14327002,"reputation":16,"user_id":10348832,"display_name":"Rick Kimotho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672694227,"creation_date":1654795834,"answer_id":72564388,"question_id":72562522,"body_markdown":"Your CardView definitely matched the parent&#39;s width because it inherited the width of the RecyclerView since that&#39;s its parent.\r\n\r\nYour RecyclerView, on the other hand, has a width of 599dp. The fixed size means that it will ignore the device&#39;s width. To match the device&#39;s width and height, set it to match_parent or use 0dp since you&#39;re using a constraint layout in your case.\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;","title":"My cardview is going off screen even in wrapcontent","body":"<p>Your CardView definitely matched the parent's width because it inherited the width of the RecyclerView since that's its parent.</p>\n<p>Your RecyclerView, on the other hand, has a width of 599dp. The fixed size means that it will ignore the device's width. To match the device's width and height, set it to match_parent or use 0dp since you're using a constraint layout in your case.</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":23988603,"reputation":17,"user_id":17975099,"display_name":"Gr8 BEAST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72564388,"answer_count":1,"score":0,"last_activity_date":1672694227,"creation_date":1654786605,"question_id":72562522,"body_markdown":"\r\n\r\n\r\nMY PROBLEM - \r\n\r\n my cardview is going over the screen(can be seen in the [image][1]) even if the says matchparent.\r\n\r\n\r\n [my database node ][2]\r\nPlease help....... is this a bug or smth?\r\n\r\n\r\nWhat am i doing = i m trying to retrieve the data from firebase in a recycler view, the data is being retrieved but the item of the recyclerview is giving problem, as the cardview is half outside the screen even if the cardview is set to matchparent and wrapcontent please help if possible \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nMy recycler Item \r\n\r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/Cdate&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi&quot;\r\n        android:textSize=&quot;50dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\nmy Adapterclass \r\n\r\n\r\n    package com.sjsbhints.pdfmanager;\r\n\r\n      import android.view.LayoutInflater;\r\n       import android.view.View;\r\n         import android.view.ViewGroup;\r\n         import android.widget.TextView;\r\n\r\n        import androidx.annotation.NonNull;\r\n        import androidx.recyclerview.widget.RecyclerView;\r\n\r\n      import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n      import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n\r\n      public class CAdapter extends FirebaseRecyclerAdapter&lt;Cmodel,CAdapter.myViewHolder&gt; {\r\n\r\n    /**\r\n     * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\r\n     * {@link FirebaseRecyclerOptions} for configuration options.\r\n     *\r\n     * @param options\r\n     */\r\n    public CAdapter(@NonNull FirebaseRecyclerOptions&lt;Cmodel&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Cmodel model) {\r\n\r\n      //         if(model.Cdate.isEmpty()){\r\n         //             holder.Cdate.setText(&quot;Null&quot;);\r\n           //         }\r\n            holder.Cdate.setText(model.getCdate());\r\n         //        holder.Cheading.setText(model.getCheading());\r\n         //       holder.Cbody.setText(model.getCbody());\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.circular_item,parent,false);\r\n\r\n        return new myViewHolder(view);\r\n    }\r\n\r\n    class myViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView Cdate,Cheading,Cbody,Ndate,Nheading,Nsheading,Nbody,Tdate,Tsubject,Ttopic,Ttdate;\r\n\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n              Cdate = itemView.findViewById(R.id.Cdate);\r\n        //            Cheading = itemView.findViewById(R.id.cheading);\r\n      //            Cbody = itemView.findViewById(R.id.cbody);\r\n                    }\r\n                   }\r\n                    }\r\n\r\n\r\n\r\nmy model class \r\n\r\n    package com.sjsbhints.pdfmanager;\r\n  \r\n    public class Cmodel {\r\n\r\n    String Cdate,Cheading,Cbody,Ndate,Nheading,Nsheading,Nbody,Tdate,Tsubject,Ttopic,Ttdate;\r\n\r\n    Cmodel(){\r\n    }\r\n\r\n    public Cmodel(String cdate, String cheading, String cbody, String ndate, String nheading, String nsheading, String nbody, String tdate, String tsubject, String ttopic, String ttdate) {\r\n        Cdate = cdate;\r\n        Cheading = cheading;\r\n        Cbody = cbody;\r\n        Ndate = ndate;\r\n        Nheading = nheading;\r\n        Nsheading = nsheading;\r\n        Nbody = nbody;\r\n        Tdate = tdate;\r\n        Tsubject = tsubject;\r\n        Ttopic = ttopic;\r\n        Ttdate = ttdate;\r\n    }\r\n\r\n    public String getCdate() {\r\n        return Cdate;\r\n    }\r\n\r\n    public void setCdate(String cdate) {\r\n        Cdate = cdate;\r\n    }\r\n\r\n    public String getCheading() {\r\n        return Cheading;\r\n    }\r\n\r\n    public void setCheading(String cheading) {\r\n        Cheading = cheading;\r\n    }\r\n\r\n    public String getCbody() {\r\n        return Cbody;\r\n    }\r\n\r\n    public void setCbody(String cbody) {\r\n        Cbody = cbody;\r\n    }\r\n\r\n    public String getNdate() {\r\n        return Ndate;\r\n    }\r\n\r\n    public void setNdate(String ndate) {\r\n        Ndate = ndate;\r\n    }\r\n\r\n    public String getNheading() {\r\n        return Nheading;\r\n    }\r\n\r\n    public void setNheading(String nheading) {\r\n        Nheading = nheading;\r\n    }\r\n\r\n    public String getNsheading() {\r\n        return Nsheading;\r\n    }\r\n\r\n    public void setNsheading(String nsheading) {\r\n        Nsheading = nsheading;\r\n    }\r\n\r\n    public String getNbody() {\r\n        return Nbody;\r\n    }\r\n\r\n    public void setNbody(String nbody) {\r\n        Nbody = nbody;\r\n    }\r\n\r\n    public String getTdate() {\r\n        return Tdate;\r\n    }\r\n\r\n    public void setTdate(String tdate) {\r\n        Tdate = tdate;\r\n    }\r\n\r\n    public String getTsubject() {\r\n        return Tsubject;\r\n    }\r\n\r\n    public void setTsubject(String tsubject) {\r\n        Tsubject = tsubject;\r\n    }\r\n\r\n    public String getTtopic() {\r\n        return Ttopic;\r\n    }\r\n\r\n    public void setTtopic(String ttopic) {\r\n        Ttopic = ttopic;\r\n    }\r\n\r\n    public String getTtdate() {\r\n        return Ttdate;\r\n    }\r\n\r\n    public void setTtdate(String ttdate) {\r\n        Ttdate = ttdate;\r\n    }\r\n    }\r\n\r\n\r\nmy MainActivity\r\n\r\n\r\n           package com.sjsbhints.pdfmanager;\r\n\r\n              import androidx.annotation.Nullable;\r\n            import androidx.appcompat.app.AppCompatActivity;\r\n              import androidx.recyclerview.widget.LinearLayoutManager;\r\n            import androidx.recyclerview.widget.RecyclerView;\r\n\r\n             import android.os.Bundle;\r\n\r\n               import com.firebase.ui.database.FirebaseRecyclerOptions;\r\n              import com.google.firebase.database.FirebaseDatabase;\r\n\r\n       public class CircularAct extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    CAdapter cAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_circular2);\r\n\r\n        recyclerView = findViewById(R.id.rv);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n\r\n        FirebaseRecyclerOptions&lt;Cmodel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Cmodel&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;CircularData&quot;), Cmodel.class)\r\n                        .build();\r\n\r\n        cAdapter = new CAdapter(options);\r\n        recyclerView.setAdapter(cAdapter);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        cAdapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        cAdapter.stopListening();\r\n    }\r\n    }\r\n\r\n\r\n\r\nmy mainactivity Xml\r\n\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n          &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n         tools:context=&quot;.CircularAct&quot;&gt;\r\n\r\n         &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv&quot;\r\n        android:layout_width=&quot;599dp&quot;\r\n        android:layout_height=&quot;960dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fdrzL.jpg\r\n  [2]: https://i.stack.imgur.com/21mf0.png","title":"My cardview is going off screen even in wrapcontent","body":"<p>MY PROBLEM -</p>\n<p>my cardview is going over the screen(can be seen in the <a href=\"https://i.stack.imgur.com/fdrzL.jpg\" rel=\"nofollow noreferrer\">image</a>) even if the says matchparent.</p>\n<p><a href=\"https://i.stack.imgur.com/21mf0.png\" rel=\"nofollow noreferrer\">my database node </a>\nPlease help....... is this a bug or smth?</p>\n<p>What am i doing = i m trying to retrieve the data from firebase in a recycler view, the data is being retrieved but the item of the recyclerview is giving problem, as the cardview is half outside the screen even if the cardview is set to matchparent and wrapcontent please help if possible</p>\n<p>My recycler Item</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/Cdate&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Hi&quot;\n    android:textSize=&quot;50dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_marginTop=&quot;20dp&quot;/&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>my Adapterclass</p>\n<pre><code>package com.sjsbhints.pdfmanager;\n\n  import android.view.LayoutInflater;\n   import android.view.View;\n     import android.view.ViewGroup;\n     import android.widget.TextView;\n\n    import androidx.annotation.NonNull;\n    import androidx.recyclerview.widget.RecyclerView;\n\n  import com.firebase.ui.database.FirebaseRecyclerAdapter;\n  import com.firebase.ui.database.FirebaseRecyclerOptions;\n\n  public class CAdapter extends FirebaseRecyclerAdapter&lt;Cmodel,CAdapter.myViewHolder&gt; {\n\n/**\n * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\n * {@link FirebaseRecyclerOptions} for configuration options.\n *\n * @param options\n */\npublic CAdapter(@NonNull FirebaseRecyclerOptions&lt;Cmodel&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Cmodel model) {\n\n  //         if(model.Cdate.isEmpty()){\n     //             holder.Cdate.setText(&quot;Null&quot;);\n       //         }\n        holder.Cdate.setText(model.getCdate());\n     //        holder.Cheading.setText(model.getCheading());\n     //       holder.Cbody.setText(model.getCbody());\n\n}\n\n@NonNull\n@Override\npublic myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.circular_item,parent,false);\n\n    return new myViewHolder(view);\n}\n\nclass myViewHolder extends RecyclerView.ViewHolder{\n\n    TextView Cdate,Cheading,Cbody,Ndate,Nheading,Nsheading,Nbody,Tdate,Tsubject,Ttopic,Ttdate;\n\n    public myViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n          Cdate = itemView.findViewById(R.id.Cdate);\n    //            Cheading = itemView.findViewById(R.id.cheading);\n  //            Cbody = itemView.findViewById(R.id.cbody);\n                }\n               }\n                }\n</code></pre>\n<p>my model class</p>\n<pre><code>package com.sjsbhints.pdfmanager;\n\npublic class Cmodel {\n\nString Cdate,Cheading,Cbody,Ndate,Nheading,Nsheading,Nbody,Tdate,Tsubject,Ttopic,Ttdate;\n\nCmodel(){\n}\n\npublic Cmodel(String cdate, String cheading, String cbody, String ndate, String nheading, String nsheading, String nbody, String tdate, String tsubject, String ttopic, String ttdate) {\n    Cdate = cdate;\n    Cheading = cheading;\n    Cbody = cbody;\n    Ndate = ndate;\n    Nheading = nheading;\n    Nsheading = nsheading;\n    Nbody = nbody;\n    Tdate = tdate;\n    Tsubject = tsubject;\n    Ttopic = ttopic;\n    Ttdate = ttdate;\n}\n\npublic String getCdate() {\n    return Cdate;\n}\n\npublic void setCdate(String cdate) {\n    Cdate = cdate;\n}\n\npublic String getCheading() {\n    return Cheading;\n}\n\npublic void setCheading(String cheading) {\n    Cheading = cheading;\n}\n\npublic String getCbody() {\n    return Cbody;\n}\n\npublic void setCbody(String cbody) {\n    Cbody = cbody;\n}\n\npublic String getNdate() {\n    return Ndate;\n}\n\npublic void setNdate(String ndate) {\n    Ndate = ndate;\n}\n\npublic String getNheading() {\n    return Nheading;\n}\n\npublic void setNheading(String nheading) {\n    Nheading = nheading;\n}\n\npublic String getNsheading() {\n    return Nsheading;\n}\n\npublic void setNsheading(String nsheading) {\n    Nsheading = nsheading;\n}\n\npublic String getNbody() {\n    return Nbody;\n}\n\npublic void setNbody(String nbody) {\n    Nbody = nbody;\n}\n\npublic String getTdate() {\n    return Tdate;\n}\n\npublic void setTdate(String tdate) {\n    Tdate = tdate;\n}\n\npublic String getTsubject() {\n    return Tsubject;\n}\n\npublic void setTsubject(String tsubject) {\n    Tsubject = tsubject;\n}\n\npublic String getTtopic() {\n    return Ttopic;\n}\n\npublic void setTtopic(String ttopic) {\n    Ttopic = ttopic;\n}\n\npublic String getTtdate() {\n    return Ttdate;\n}\n\npublic void setTtdate(String ttdate) {\n    Ttdate = ttdate;\n}\n}\n</code></pre>\n<p>my MainActivity</p>\n<pre><code>       package com.sjsbhints.pdfmanager;\n\n          import androidx.annotation.Nullable;\n        import androidx.appcompat.app.AppCompatActivity;\n          import androidx.recyclerview.widget.LinearLayoutManager;\n        import androidx.recyclerview.widget.RecyclerView;\n\n         import android.os.Bundle;\n\n           import com.firebase.ui.database.FirebaseRecyclerOptions;\n          import com.google.firebase.database.FirebaseDatabase;\n\n   public class CircularAct extends AppCompatActivity {\n\nRecyclerView recyclerView;\nCAdapter cAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_circular2);\n\n    recyclerView = findViewById(R.id.rv);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n\n\n    FirebaseRecyclerOptions&lt;Cmodel&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;Cmodel&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;CircularData&quot;), Cmodel.class)\n                    .build();\n\n    cAdapter = new CAdapter(options);\n    recyclerView.setAdapter(cAdapter);\n\n}\n\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    cAdapter.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    cAdapter.stopListening();\n}\n}\n</code></pre>\n<p>my mainactivity Xml</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n      &lt;androidx.constraintlayout.widget.ConstraintLayout \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n     tools:context=&quot;.CircularAct&quot;&gt;\n\n     &lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv&quot;\n    android:layout_width=&quot;599dp&quot;\n    android:layout_height=&quot;960dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","byte-buddy","jvm-bytecode"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672693807,"creation_date":1672693807,"answer_id":74987085,"question_id":74980713,"body_markdown":"The JVM does actually allow two fields with the same name but with different types. So by defining an additional field, this is what you get.\r\n\r\nYou would need to use a transformation for this, but you will run into an additional issue where this transformation is applied late and not visible to most other transformations. Byte Buddy was designed as an additive transformer, and changes like this are not well-supported.\r\n\r\nI would therefore recommend you to rather define a new class with the desired shape, if this is possible. Other than that, ASM is the right tool for work like this. Byte Buddy exposes the ASM API in its *visit* API.","title":"How to replace generic with exact implementation using byte-buddy?","body":"<p>The JVM does actually allow two fields with the same name but with different types. So by defining an additional field, this is what you get.</p>\n<p>You would need to use a transformation for this, but you will run into an additional issue where this transformation is applied late and not visible to most other transformations. Byte Buddy was designed as an additive transformer, and changes like this are not well-supported.</p>\n<p>I would therefore recommend you to rather define a new class with the desired shape, if this is possible. Other than that, ASM is the right tool for work like this. Byte Buddy exposes the ASM API in its <em>visit</em> API.</p>\n"}],"owner":{"account_id":19752075,"reputation":205,"user_id":14463208,"display_name":"stepan2271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74987085,"answer_count":1,"score":0,"last_activity_date":1672693807,"creation_date":1672651542,"question_id":74980713,"body_markdown":"I am trying to use byte-buddy to replace generic with the exact implementation. I have the following class:\r\n```\r\npublic class ForwardingConsumer&lt;D extends DoubleConsumer&gt; implements DoubleConsumer {\r\n    private final D next;\r\n\r\n    public ForwardingConsumer(D next) {\r\n        this.next = next;\r\n    }\r\n\r\n    public void accept(double value) {\r\n        System.out.println(&quot;Some internal logic here&quot;);\r\n        this.next.accept(value);\r\n    }\r\n}\r\n```\r\nand exact implementation of DoubleConsumer:\r\n```\r\npublic class Logger implements DoubleConsumer {\r\n    @Override\r\n    public void accept(double value) {\r\n        System.out.println(value);\r\n    }\r\n}\r\n```\r\nand I want to generate a new class:\r\n```\r\npublic class ForwardingConsumerExact&lt;D extends Logger&gt; implements DoubleConsumer {\r\n    private final Logger next;\r\n\r\n    public ForwardingConsumerExact(D next) {\r\n        this.next = next;\r\n    }\r\n\r\n    public void accept(double value) {\r\n        System.out.println(&quot;Some internal logic here&quot;);\r\n        this.next.accept(value);\r\n    }\r\n}\r\n\r\n```\r\nThe main goal is to have `INVOKEVIRTUAL org/example/templating/Logger.accept (D)V` bytecode instead of `INVOKEINTERFACE java/util/function/DoubleConsumer.accept`.\r\nSo, I tried to redefine a field type, and also type variable with the following code:\r\n```\r\nvar builder = new ByteBuddy().redefine(baseClass).name(baseClass.getName() + &quot;Exact&quot;);\r\nGeneric genericType = Generic.Builder.rawType(exactClass).build();\r\n\r\nbuilder = builder.field((ElementMatcher&lt;FieldDescription&gt;) fieldDescription -&gt; true)\r\n                .transform(new ForField((td, token) -&gt; new Token(token.getName(), token.getModifiers(), genericType)));\r\n\r\nbuilder = builder.transform(named(&quot;D&quot;),\r\n                                    (typeDescription, typeVariableToken) -&gt; new TypeVariableToken(&quot;D&quot;, List.of(genericType)));\r\n\r\nMethod acceptExact = exactClass.getMethod(&quot;accept&quot;, double.class);\r\nbuilder = builder.visit(MemberSubstitution.relaxed().invokable(\r\n                    methodDescription -&gt; methodDescription.isInvokableOn(genericType.asErasure()))\r\n                                            .replaceWith(acceptExact)\r\n                                            .on(ElementMatchers.any()));\r\n```\r\nBut the final method transformation fails with the following error:\r\n```\r\nCaused by: java.lang.IllegalStateException: Cannot invoke public void org.example.templating.Logger.accept(double) on parameter 0 of type interface java.util.function.DoubleConsumer\r\n\tat net.bytebuddy.asm.MemberSubstitution$Substitution$ForMethodInvocation.resolve(MemberSubstitution.java:1136)\r\n\tat net.bytebuddy.asm.MemberSubstitution$Replacement$Binding$Resolved.make(MemberSubstitution.java:1741)\r\n\tat net.bytebuddy.asm.MemberSubstitution$SubstitutingMethodVisitor.visitMethodInsn(MemberSubstitution.java:2357)\r\n```\r\nI looked into the generated bytecode (without last method transformation), and see some strange things there. Firstly, there are two fields instead of one now:\r\n```\r\n  final Ljava/util/function/DoubleConsumer; next\r\n\r\n  // access flags 0x10\r\n  final Lorg/example/templating/Logger; next\r\n```\r\nSecondly, when I read this field it still has DoubleConsumer type:\r\n```\r\nGETFIELD org/example/templating/ForwardingConsumerExact.next : Ljava/util/function/DoubleConsumer;\r\n```\r\nIs my goal (change `INVOKEINTERFACE java/util/function/DoubleConsumer.accept` -&gt; `INVOKEVIRTUAL org/example/templating/Logger.accept`) achievable with byte-buddy? What should be done differently then?\r\n\r\nDetails: java 17, byte-buddy 1.12.20","title":"How to replace generic with exact implementation using byte-buddy?","body":"<p>I am trying to use byte-buddy to replace generic with the exact implementation. I have the following class:</p>\n<pre><code>public class ForwardingConsumer&lt;D extends DoubleConsumer&gt; implements DoubleConsumer {\n    private final D next;\n\n    public ForwardingConsumer(D next) {\n        this.next = next;\n    }\n\n    public void accept(double value) {\n        System.out.println(&quot;Some internal logic here&quot;);\n        this.next.accept(value);\n    }\n}\n</code></pre>\n<p>and exact implementation of DoubleConsumer:</p>\n<pre><code>public class Logger implements DoubleConsumer {\n    @Override\n    public void accept(double value) {\n        System.out.println(value);\n    }\n}\n</code></pre>\n<p>and I want to generate a new class:</p>\n<pre><code>public class ForwardingConsumerExact&lt;D extends Logger&gt; implements DoubleConsumer {\n    private final Logger next;\n\n    public ForwardingConsumerExact(D next) {\n        this.next = next;\n    }\n\n    public void accept(double value) {\n        System.out.println(&quot;Some internal logic here&quot;);\n        this.next.accept(value);\n    }\n}\n\n</code></pre>\n<p>The main goal is to have <code>INVOKEVIRTUAL org/example/templating/Logger.accept (D)V</code> bytecode instead of <code>INVOKEINTERFACE java/util/function/DoubleConsumer.accept</code>.\nSo, I tried to redefine a field type, and also type variable with the following code:</p>\n<pre><code>var builder = new ByteBuddy().redefine(baseClass).name(baseClass.getName() + &quot;Exact&quot;);\nGeneric genericType = Generic.Builder.rawType(exactClass).build();\n\nbuilder = builder.field((ElementMatcher&lt;FieldDescription&gt;) fieldDescription -&gt; true)\n                .transform(new ForField((td, token) -&gt; new Token(token.getName(), token.getModifiers(), genericType)));\n\nbuilder = builder.transform(named(&quot;D&quot;),\n                                    (typeDescription, typeVariableToken) -&gt; new TypeVariableToken(&quot;D&quot;, List.of(genericType)));\n\nMethod acceptExact = exactClass.getMethod(&quot;accept&quot;, double.class);\nbuilder = builder.visit(MemberSubstitution.relaxed().invokable(\n                    methodDescription -&gt; methodDescription.isInvokableOn(genericType.asErasure()))\n                                            .replaceWith(acceptExact)\n                                            .on(ElementMatchers.any()));\n</code></pre>\n<p>But the final method transformation fails with the following error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Cannot invoke public void org.example.templating.Logger.accept(double) on parameter 0 of type interface java.util.function.DoubleConsumer\n    at net.bytebuddy.asm.MemberSubstitution$Substitution$ForMethodInvocation.resolve(MemberSubstitution.java:1136)\n    at net.bytebuddy.asm.MemberSubstitution$Replacement$Binding$Resolved.make(MemberSubstitution.java:1741)\n    at net.bytebuddy.asm.MemberSubstitution$SubstitutingMethodVisitor.visitMethodInsn(MemberSubstitution.java:2357)\n</code></pre>\n<p>I looked into the generated bytecode (without last method transformation), and see some strange things there. Firstly, there are two fields instead of one now:</p>\n<pre><code>  final Ljava/util/function/DoubleConsumer; next\n\n  // access flags 0x10\n  final Lorg/example/templating/Logger; next\n</code></pre>\n<p>Secondly, when I read this field it still has DoubleConsumer type:</p>\n<pre><code>GETFIELD org/example/templating/ForwardingConsumerExact.next : Ljava/util/function/DoubleConsumer;\n</code></pre>\n<p>Is my goal (change <code>INVOKEINTERFACE java/util/function/DoubleConsumer.accept</code> -&gt; <code>INVOKEVIRTUAL org/example/templating/Logger.accept</code>) achievable with byte-buddy? What should be done differently then?</p>\n<p>Details: java 17, byte-buddy 1.12.20</p>\n"},{"tags":["java","jpa","embeddable"],"owner":{"account_id":18551699,"reputation":1,"user_id":20914502,"display_name":"tomuszom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672693288,"creation_date":1672693288,"question_id":74987026,"body_markdown":"What&#39;s the correct way to create bidirectional 1to1 mapping using Embeddable annotation? This one throws error\r\n&quot;EmpId has no persistent id property: Emp.id&quot;\r\n\r\n```\r\n@Entity\r\npublic class Per implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;per_id&quot;)\r\n    private Long id;\r\n \r\n    @OneToOne\r\n    @JoinColumn(name = &quot;per_id&quot;, referencedColumnName = &quot;emp_id&quot;)\r\n    private Emp emp;\r\n \r\n}\r\n \r\n@Embeddable\r\npublic class EmpId implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n \r\n    @OneToOne(mappedBy = &quot;emp&quot;)\r\n    private Per per;\r\n \r\n}\r\n \r\n@Entity\r\npublic class Emp implements Serializable {\r\n    @EmbeddedId\r\n    private EmpId id;\r\n}\r\n```\r\n\r\n\r\nI&#39;d like to operate entities like \r\n\r\n```\r\nper.getEmp();\r\nemp.getId().getPer();\r\n```\r\n ","title":"JPA Embeddable bidirectional","body":"<p>What's the correct way to create bidirectional 1to1 mapping using Embeddable annotation? This one throws error\n&quot;EmpId has no persistent id property: Emp.id&quot;</p>\n<pre><code>@Entity\npublic class Per implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;per_id&quot;)\n    private Long id;\n \n    @OneToOne\n    @JoinColumn(name = &quot;per_id&quot;, referencedColumnName = &quot;emp_id&quot;)\n    private Emp emp;\n \n}\n \n@Embeddable\npublic class EmpId implements Serializable {\n    private static final long serialVersionUID = 1L;\n \n    @OneToOne(mappedBy = &quot;emp&quot;)\n    private Per per;\n \n}\n \n@Entity\npublic class Emp implements Serializable {\n    @EmbeddedId\n    private EmpId id;\n}\n</code></pre>\n<p>I'd like to operate entities like</p>\n<pre><code>per.getEmp();\nemp.getId().getPer();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9461,"page":762,"page_size":100}
