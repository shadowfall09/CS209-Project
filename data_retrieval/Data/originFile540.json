{"items":[{"tags":["java","optimization","hashmap","heap-memory","hocon"],"owner":{"account_id":11633921,"reputation":11,"user_id":8521013,"display_name":"Sai Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680067713,"creation_date":1678902083,"question_id":75748310,"body_markdown":"I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).\r\n\r\nI am looking for an alternative way to represent the data **in memory** efficiently based on the structural information we have in the JSON Schema\r\n\r\nthe information is stored in immutable way, so major focus is to efficiently store and fetch.\r\n\r\n(I need to load the configs in memory, there may be a huge number of configs)\r\n\r\n(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)\r\n\r\n\r\n\r\nfollowing are the ideas i currently have, \r\n\r\n(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn&#39;t test support for substitutions.)\r\n\r\n**The data used here to compare ideas does not have any substitutions and i am considering JSON object&#39;s size as base value**\r\n\r\n1) The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs \r\n\r\n(for checking purpose i just used jsonschema2pojo to generate classes)\r\n[HOCON to JSON](https://hocon-playground.avelier.dev/)\r\n[JSONSchema to POJO](https://www.jsonschema2pojo.org/)\r\n \r\nthe main advantages i see here are:\r\n - this method preserves dot notation access\r\n - also substitutions can be achieved through object reference (if not primitive types). \r\n - type safe\r\n - The memory is also less than hashmaps and is comparable to the below object array method.\r\n\r\nthe disadvantages:\r\n - This method requires creation of so many classes and many instances of each class.\r\n - high instantiation time (one time operation)\r\n\r\n---\r\n\r\n2) using object arrays (array of references) and dropping keys.\r\neg: \r\n\r\n**json-schema (in HOCON format):**\r\n```\r\n{\r\n  app {\r\n    type: object\r\n    additionalProperties: false\r\n    properties {\r\n      name {type: string}\r\n      version {type: string}\r\n      author {\r\n        type: object\r\n        additionalProperties: { //author name can be anything - retain as hash map\r\n          additionalProperties: false\r\n          properties: {\r\n            name {type: string}\r\n            email {type: string}\r\n          }\r\n        }\r\n      }\r\n      server {\r\n        type: object\r\n        additionalProperties: false\r\n        properties {\r\n          port {type: int}\r\n          host {type: string}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**HOCON data for above schema:**\r\n```\r\napp {\r\n  name = &quot;My App&quot;\r\n  version = &quot;1.0&quot;\r\n  author {\r\n    alice {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n    bob {\r\n      name = &quot;John Doe&quot;\r\n      email = &quot;john.doe@example.com&quot;\r\n    }\r\n  }\r\n  server {\r\n    port = 8080\r\n    host = &quot;localhost&quot;\r\n  }\r\n}\r\n```\r\nA class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).\r\n\r\n```lang-java\r\nfinal class Root {\r\n\r\n    String getPath() {\r\n        return &quot;&quot;;\r\n    }\r\n    App app = new App();\r\n    final class App {\r\n        final int index = 0;\r\n        Name name = new Name();\r\n        Version version = new Version();\r\n        Author author = new Author();\r\n        Server server = new Server();\r\n\r\n        String getPath(){\r\n            return Root.this.getPath() + index;\r\n        }\r\n\r\n        final class Name {\r\n            final int index = 0;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Version {\r\n            final int index = 1;\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n        }\r\n        final class Author {                   //handles hash map\r\n            final int index = 2;\r\n            String key;                        //need to get the unknown key at runtime.\r\n            Name name = new Name();\r\n            Email email = new Email();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\r\n            }\r\n\r\n            String getPathWithKey(){\r\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\r\n            }\r\n\r\n            Author setKey(String key) {\r\n                this.key = key;\r\n                return this;\r\n            }\r\n\r\n            final class Name{\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Email{\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return author.getPathWithKey() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n        final class Server {\r\n            final int index = 3;\r\n            Port port = new Port();\r\n            Host host = new Host();\r\n\r\n            String getPath(){\r\n                return app.getPath() + &quot;.&quot; + index;\r\n            }\r\n\r\n            final class Port {\r\n                final int index = 0;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n\r\n            final class Host {\r\n                final int index = 1;\r\n\r\n                String getPath(){\r\n                    return server.getPath() + &quot;.&quot; + index;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe object array based on the above class is\r\n\r\n```\r\n    root[ \r\n    0:  app[  \r\n        0:  name,\r\n        1:  version,\r\n        2:  author { \r\n              alice: [ 0:name,\r\n                       1: email ],\r\n              bob:   [ 0: name,\r\n                       1: email ] \r\n            },\r\n        3:  server [ 0: port,\r\n                     1: host ] \r\n        ] \r\n    ]\r\n\r\n```\r\n\r\nfor which the class provides the path when given:\r\n```\r\nRoot root = new Root();\r\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\r\nreturns: 0.2.alice.0\r\n```\r\nOn comparison to above method:\r\n - memory is not much reduced compared to POJO.\r\n - loss of type safety. (doesn&#39;t feel like good design)\r\n - generic references of type Object\r\n\r\nPOJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.\r\n\r\n**is there any advantage to preferring object arrays over POJOs.**\r\n \r\n[this question discusses the class vs array memory problem](https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array)\r\n\r\nthe solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:\r\n\r\n---\r\n\r\n3) int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap. \r\n\r\nIf so based on this, i can treat each schema like a primitive type and fix it&#39;s size. so for the above example schema:\r\n\r\n```\r\nthe leaf values are:\r\napp.name           string - max 50 chars - 100 bytes\r\napp.version        string - max 20 chars - 40 bytes\r\napp.author         Map - reference - 8 bytes\r\napp.server.port    int - 32 bytes \r\napp.server.host    unknown string - ref - 8 bytes\r\n\r\nauthor hash map item array:\r\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\r\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\r\n```\r\n\r\n\r\n```\r\n&lt;--------------app----------------&gt;  \r\n                        &lt;--server--&gt;  \r\n[name, version, author, port, host]    (ByteBuffer)\r\n                |  \r\n                V  \r\n            [name, email]              (ByteBuffer)\r\n```\r\n\r\nand create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.\r\n\r\nis there any other efficient ways?","title":"Memory efficient alternative of Hashmap for storing data (HOCON config) conforming to json-schema","body":"<p>I am using the lightbend/config library to parse and store the HOCON data. The library uses HashMap to capture the hierarchy of data and has memory overhead (than json, partly because of the extra information for debugging and substitutions).</p>\n<p>I am looking for an alternative way to represent the data <strong>in memory</strong> efficiently based on the structural information we have in the JSON Schema</p>\n<p>the information is stored in immutable way, so major focus is to efficiently store and fetch.</p>\n<p>(I need to load the configs in memory, there may be a huge number of configs)</p>\n<p>(It would be better if the new structure can reduce memory without losing support for the dot notation access and supports substitutions if possible)</p>\n<p>following are the ideas i currently have,</p>\n<p>(I still use lightbend/config for parsing, i focus only on the storing part for now. Also didn't test support for substitutions.)</p>\n<p><strong>The data used here to compare ideas does not have any substitutions and i am considering JSON object's size as base value</strong></p>\n<ol>\n<li>The basic idea was to store them as POJO objects (POJO generated from JSON Schema). There may be thousands of configs</li>\n</ol>\n<p>(for checking purpose i just used jsonschema2pojo to generate classes)\n<a href=\"https://hocon-playground.avelier.dev/\" rel=\"nofollow noreferrer\">HOCON to JSON</a>\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">JSONSchema to POJO</a></p>\n<p>the main advantages i see here are:</p>\n<ul>\n<li>this method preserves dot notation access</li>\n<li>also substitutions can be achieved through object reference (if not primitive types).</li>\n<li>type safe</li>\n<li>The memory is also less than hashmaps and is comparable to the below object array method.</li>\n</ul>\n<p>the disadvantages:</p>\n<ul>\n<li>This method requires creation of so many classes and many instances of each class.</li>\n<li>high instantiation time (one time operation)</li>\n</ul>\n<hr />\n<ol start=\"2\">\n<li>using object arrays (array of references) and dropping keys.\neg:</li>\n</ol>\n<p><strong>json-schema (in HOCON format):</strong></p>\n<pre><code>{\n  app {\n    type: object\n    additionalProperties: false\n    properties {\n      name {type: string}\n      version {type: string}\n      author {\n        type: object\n        additionalProperties: { //author name can be anything - retain as hash map\n          additionalProperties: false\n          properties: {\n            name {type: string}\n            email {type: string}\n          }\n        }\n      }\n      server {\n        type: object\n        additionalProperties: false\n        properties {\n          port {type: int}\n          host {type: string}\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>HOCON data for above schema:</strong></p>\n<pre><code>app {\n  name = &quot;My App&quot;\n  version = &quot;1.0&quot;\n  author {\n    alice {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n    bob {\n      name = &quot;John Doe&quot;\n      email = &quot;john.doe@example.com&quot;\n    }\n  }\n  server {\n    port = 8080\n    host = &quot;localhost&quot;\n  }\n}\n</code></pre>\n<p>A class is created to associate index to each key and based on that the object array holds data (the hashmaps are converted as object arrays).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Root {\n\n    String getPath() {\n        return &quot;&quot;;\n    }\n    App app = new App();\n    final class App {\n        final int index = 0;\n        Name name = new Name();\n        Version version = new Version();\n        Author author = new Author();\n        Server server = new Server();\n\n        String getPath(){\n            return Root.this.getPath() + index;\n        }\n\n        final class Name {\n            final int index = 0;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Version {\n            final int index = 1;\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n        }\n        final class Author {                   //handles hash map\n            final int index = 2;\n            String key;                        //need to get the unknown key at runtime.\n            Name name = new Name();\n            Email email = new Email();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index + &quot;&quot;;\n            }\n\n            String getPathWithKey(){\n                return app.getPath() + &quot;.&quot; + index + &quot;.&quot; + key;\n            }\n\n            Author setKey(String key) {\n                this.key = key;\n                return this;\n            }\n\n            final class Name{\n                final int index = 0;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Email{\n                final int index = 1;\n\n                String getPath(){\n                    return author.getPathWithKey() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n        final class Server {\n            final int index = 3;\n            Port port = new Port();\n            Host host = new Host();\n\n            String getPath(){\n                return app.getPath() + &quot;.&quot; + index;\n            }\n\n            final class Port {\n                final int index = 0;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n\n            final class Host {\n                final int index = 1;\n\n                String getPath(){\n                    return server.getPath() + &quot;.&quot; + index;\n                }\n            }\n        }\n\n    }\n}\n\n</code></pre>\n<p>the object array based on the above class is</p>\n<pre><code>    root[ \n    0:  app[  \n        0:  name,\n        1:  version,\n        2:  author { \n              alice: [ 0:name,\n                       1: email ],\n              bob:   [ 0: name,\n                       1: email ] \n            },\n        3:  server [ 0: port,\n                     1: host ] \n        ] \n    ]\n\n</code></pre>\n<p>for which the class provides the path when given:</p>\n<pre><code>Root root = new Root();\nroot.app.author.authorMap.setKey(&quot;alice&quot;).name.getPath()\nreturns: 0.2.alice.0\n</code></pre>\n<p>On comparison to above method:</p>\n<ul>\n<li>memory is not much reduced compared to POJO.</li>\n<li>loss of type safety. (doesn't feel like good design)</li>\n<li>generic references of type Object</li>\n</ul>\n<p>POJO and object arrays seem like allocating fixed size for reference, where POJO will have references of specific type and object[] has general object reference.</p>\n<p><strong>is there any advantage to preferring object arrays over POJOs.</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/33004572/java-performance-memory-consumption-class-vs-array\">this question discusses the class vs array memory problem</a></p>\n<p>the solution to above problem was to store every pair of doubles sequentially in single dimension array. Based on this a third approach:</p>\n<hr />\n<ol start=\"3\">\n<li>int[] stores the integers contiguously in heap whereas Integer[] stores contiguous references to integer objects spread out in heap.</li>\n</ol>\n<p>If so based on this, i can treat each schema like a primitive type and fix it's size. so for the above example schema:</p>\n<pre><code>the leaf values are:\napp.name           string - max 50 chars - 100 bytes\napp.version        string - max 20 chars - 40 bytes\napp.author         Map - reference - 8 bytes\napp.server.port    int - 32 bytes \napp.server.host    unknown string - ref - 8 bytes\n\nauthor hash map item array:\n&lt;author&gt;.name   string - max 50 chars -    100 bytes\n&lt;author&gt;.email  string - max 50 chars -    100 bytes\n</code></pre>\n<pre><code>&lt;--------------app----------------&gt;  \n                        &lt;--server--&gt;  \n[name, version, author, port, host]    (ByteBuffer)\n                |  \n                V  \n            [name, email]              (ByteBuffer)\n</code></pre>\n<p>and create ByteBuffers to store the data as bytes and access based on offset. This method will require one class per schema to store the offset.</p>\n<p>is there any other efficient ways?</p>\n"},{"tags":["java","for-loop","java-stream"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1680065794,"post_id":75873257,"comment_id":133831708,"body_markdown":"Just don&#39;t `collect` at all. `forEach` is a terminal operation.","body":"Just don&#39;t <code>collect</code> at all. <code>forEach</code> is a terminal operation."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1680065871,"post_id":75873257,"comment_id":133831717,"body_markdown":"Does this answer your question? [What&#39;s the difference between map() and flatMap() methods in Java 8?](https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26684562/whats-the-difference-between-map-and-flatmap-methods-in-java-8\">What&#39;s the difference between map() and flatMap() methods in Java 8?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680067017,"creation_date":1680067017,"answer_id":75873374,"question_id":75873257,"body_markdown":"You can use `flatMap` and use `forEach` terminal operation as,\r\n\r\n```\r\n\r\nrequest.getCustomers()\r\n        .stream()\r\n        .flatMap(customer -&gt; customer.getOrders().stream())\r\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\r\n            if (order.isItemExcluded(restrictedValue)) {\r\n                response.setExcludedItem(order.getId());\r\n            }\r\n            if (treatment.isItemIncluded(restrictedValue)) {\r\n                response.setIncludedItem(order.getId());\r\n            }\r\n        }));\r\n```","title":"3 levels of nested for loop to Java Stream","body":"<p>You can use <code>flatMap</code> and use <code>forEach</code> terminal operation as,</p>\n<pre><code>\nrequest.getCustomers()\n        .stream()\n        .flatMap(customer -&gt; customer.getOrders().stream())\n        .forEach(order -&gt; restrictedValues.forEach(restrictedValue -&gt; {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680067388,"creation_date":1680067388,"answer_id":75873414,"question_id":75873257,"body_markdown":"    request.getCustomers()\r\n                    .stream()\r\n                    .flatMap(customer -&gt; customer.getOrders().stream())\r\n                    .forEach(order -&gt; {\r\n                        if(restrictedValues.stream().anyMatch(order::isItemExcluded))\r\n                            response.setExcludedItem(order.getId());\r\n                        if(restrictedValues.stream().anyMatch(order::isItemIncluded))\r\n                            response.setIncludedItem(order.getId());\r\n                    }));","title":"3 levels of nested for loop to Java Stream","body":"<pre><code>request.getCustomers()\n                .stream()\n                .flatMap(customer -&gt; customer.getOrders().stream())\n                .forEach(order -&gt; {\n                    if(restrictedValues.stream().anyMatch(order::isItemExcluded))\n                        response.setExcludedItem(order.getId());\n                    if(restrictedValues.stream().anyMatch(order::isItemIncluded))\n                        response.setIncludedItem(order.getId());\n                }));\n</code></pre>\n"}],"owner":{"account_id":28154498,"reputation":3,"user_id":21515420,"display_name":"Mayank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873414,"answer_count":2,"score":0,"last_activity_date":1680067425,"creation_date":1680065621,"question_id":75873257,"body_markdown":"I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?\r\n\r\nHere&#39;s the code I am trying to convert\r\n\r\n    Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\r\n    for (Customer customer : request.getCustomers()) {\r\n        for (Order order : customer.getOrders()) {\r\n            for (String restrictedValue : restrictedValues) {\r\n                if (order.isItemExcluded(restrictedValue)) {\r\n                    response.setExcludedItem(order.getId());\r\n                }\r\n                if (treatment.isItemIncluded(restrictedValue)) {\r\n                    response.setIncludedItem(order.getId());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhat I have done so far is below, I am kinda lost here.\r\n\r\n    request.getCustomers().stream()\r\n      .forEach(customer-&gt;{\r\n         customer.getOrders().stream()\r\n             .forEach(order-&gt;{\r\n                 order.isItemExcluded(restrictedValue)\r\n                     }).collect(????) //What to do now });&lt;/code&gt;","title":"3 levels of nested for loop to Java Stream","body":"<p>I am trying to convert normal Java code to Streams but failing to do so. Can anyone please help here?</p>\n<p>Here's the code I am trying to convert</p>\n<pre><code>Set&lt;Strings&gt; restrictedValues = getRestrictedValues();\nfor (Customer customer : request.getCustomers()) {\n    for (Order order : customer.getOrders()) {\n        for (String restrictedValue : restrictedValues) {\n            if (order.isItemExcluded(restrictedValue)) {\n                response.setExcludedItem(order.getId());\n            }\n            if (treatment.isItemIncluded(restrictedValue)) {\n                response.setIncludedItem(order.getId());\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I have done so far is below, I am kinda lost here.</p>\n<pre><code>request.getCustomers().stream()\n  .forEach(customer-&gt;{\n     customer.getOrders().stream()\n         .forEach(order-&gt;{\n             order.isItemExcluded(restrictedValue)\n                 }).collect(????) //What to do now });&lt;/code&gt;\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10070835,"reputation":102,"user_id":8219738,"display_name":"Sanu Khan"},"score":1,"creation_date":1680066565,"post_id":75873293,"comment_id":133831808,"body_markdown":"In your `addInMap` method create a new array `newParams` with the combined length of `addedParams` and `params`.Then we use `System.arraycopy` to copy the elements of `addedParams` to n`ewParams`. Then loop through the `params` and append values to `newParams`","body":"In your <code>addInMap</code> method create a new array <code>newParams</code> with the combined length of <code>addedParams</code> and <code>params</code>.Then we use <code>System.arraycopy</code> to copy the elements of <code>addedParams</code> to n<code>ewParams</code>. Then loop through the <code>params</code> and append values to <code>newParams</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680066918,"creation_date":1680066918,"answer_id":75873367,"question_id":75873293,"body_markdown":"You can create a copy of the array with a larger size to allow adding a new element at the end.\r\n\r\n```java\r\naddedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\r\naddedParams[addedParams.length - 1] = params;\r\n\r\n// or, if you want to merge the two arrays together:\r\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\r\n\r\nobjMap.put(str, addedParams);\r\n```\r\n\r\nBut this is quite inefficient. Consider using `ArrayList` instead.","title":"How to Add Values in existing Object[]","body":"<p>You can create a copy of the array with a larger size to allow adding a new element at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>addedParams = Arrays.copyOf(addedParams, addedParams.length + 1);\naddedParams[addedParams.length - 1] = params;\n\n// or, if you want to merge the two arrays together:\naddedParams = Stream.of(addedParams, params).flatMap(Arrays::stream).toArray();\n\nobjMap.put(str, addedParams);\n</code></pre>\n<p>But this is quite inefficient. Consider using <code>ArrayList</code> instead.</p>\n"}],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75873367,"answer_count":1,"score":0,"last_activity_date":1680066918,"creation_date":1680065988,"question_id":75873293,"body_markdown":"I am having a `Map&lt;String, Object[]&gt; objMap` and trying to add value in to it. But its not working as expected. My method is as below,\r\n\r\n    public void addInMap(String str, Object... params) {        \r\n            if(params != null &amp;&amp; params.length &gt; 0) {\r\n                if(objMap.containsKey(str)) {\r\n                    Object[] addedParams= objMap.get(str);\r\n                    addedParams[addedParams.length-1]=params;\r\n                    objMap.put(str, addedParams);\r\n                }\r\n                else {\r\n                    objMap.put(str, params);\r\n                }\r\n            }\r\n        }\r\n\r\nI dont want to use the `ArrayList` or `Array.asList` .\r\nWhen i am using `addedParams[addedParams.length]=params` its causing `Attempt to access illegal array index` exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.","title":"How to Add Values in existing Object[]","body":"<p>I am having a <code>Map&lt;String, Object[]&gt; objMap</code> and trying to add value in to it. But its not working as expected. My method is as below,</p>\n<pre><code>public void addInMap(String str, Object... params) {        \n        if(params != null &amp;&amp; params.length &gt; 0) {\n            if(objMap.containsKey(str)) {\n                Object[] addedParams= objMap.get(str);\n                addedParams[addedParams.length-1]=params;\n                objMap.put(str, addedParams);\n            }\n            else {\n                objMap.put(str, params);\n            }\n        }\n    }\n</code></pre>\n<p>I dont want to use the <code>ArrayList</code> or <code>Array.asList</code> .\nWhen i am using <code>addedParams[addedParams.length]=params</code> its causing <code>Attempt to access illegal array index</code> exception. Where i am doing wrong. With the above code i am not able to add more object its always showing one element in Object[]. Can you please help me to fix this issues.</p>\n"},{"tags":["java","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680066904,"post_id":75873345,"comment_id":133831874,"body_markdown":"Use @InjectMocks","body":"Use @InjectMocks"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680071395,"post_id":75873345,"comment_id":133832606,"body_markdown":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object.","body":"@InjectMocks would create an instance of the class and inject mocks to this instance, but what I need is a mock object."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1680078679,"post_id":75873345,"comment_id":133834301,"body_markdown":"Which mock maker are you using?","body":"Which mock maker are you using?"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1680109024,"post_id":75873345,"comment_id":133842974,"body_markdown":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock.","body":"I edited the answer. But, I didn&#39;t find an import for @Mock from Powermock."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680112762,"post_id":75873345,"comment_id":133843851,"body_markdown":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation.","body":"Please add MyComponentMapperClass to the PrepareForTest and use PowerMockito.mock(MyComponentMapperClass.class) to create a mock. Instead of Mock annotation."}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680066660,"creation_date":1680066660,"question_id":75873345,"body_markdown":"I am trying to create a Mock instance for spring Component class. Below is the spring component class.\r\n\r\n    @Component\r\n    public class MyComponentMapperClass {\r\n    \r\n    @Value(&quot;${some.property}&quot;)\r\n    private String var;\r\n    \r\n    public void someMapperMethod() { // }\r\n\r\nThis is my test class setup where I am trying to mock the above component class.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({MyDAOImpl.class})\r\n    public class MyDAOImplTest {\r\n    \r\n    @Mock MyComponentMapperClass myComponentMapperClass;\r\n    \r\n    }\r\n\r\nWhile debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn&#39;t happen like that.\r\nIn addition I have tried:\r\n\r\n    MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\r\n\r\nbut still mock object is not created. This seems to be very straight-forward, but I haven&#39;t figured it out yet.\r\n\r\nhere is an answer from https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe https://stackoverflow.com/questions/42049445/mock-spring-component, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!","title":"@Mock not working to mock @Component class in springboot","body":"<p>I am trying to create a Mock instance for spring Component class. Below is the spring component class.</p>\n<pre><code>@Component\npublic class MyComponentMapperClass {\n\n@Value(&quot;${some.property}&quot;)\nprivate String var;\n\npublic void someMapperMethod() { // }\n</code></pre>\n<p>This is my test class setup where I am trying to mock the above component class.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({MyDAOImpl.class})\npublic class MyDAOImplTest {\n\n@Mock MyComponentMapperClass myComponentMapperClass;\n\n}\n</code></pre>\n<p>While debugging, I see that Intellij highlights a mock object as &quot;Mock Object of XYZClass&quot;, but for the mock I created above it doesn't happen like that.\nIn addition I have tried:</p>\n<pre><code>MyComponentMapperClass myComponentMapperClass =  Mockito.mock(MyComponentMapperClass.class)\n</code></pre>\n<p>but still mock object is not created. This seems to be very straight-forward, but I haven't figured it out yet.</p>\n<p>here is an answer from <a href=\"https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe\">https://stackoverflow.com/users/2847174/ren%c3%a9-scheibe</a> <a href=\"https://stackoverflow.com/questions/42049445/mock-spring-component\">Mock Spring Component</a>, which suggests to do the same, but is not working for me. Any help is appreciated. Thanks!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680064038,"post_id":75873124,"comment_id":133831484,"body_markdown":"Please post the code of the class where you are using `AnotherService`","body":"Please post the code of the class where you are using <code>AnotherService</code>"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680064128,"post_id":75873124,"comment_id":133831497,"body_markdown":"Where are you calling `test`?","body":"Where are you calling <code>test</code>?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680065218,"post_id":75873124,"comment_id":133831642,"body_markdown":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up.","body":"Sorry, that was just an example method. I added better example code. Basically I&#39;m autowiring the service in and trying to reference it in a CommandLineRunner. I&#39;m also accessing it in other services, but this is the first way I&#39;ve tested it since setting it up."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680065671,"post_id":75873124,"comment_id":133831696,"body_markdown":"I can&#39;t reproduce it. I get the correct value for `firstService.localDirectory` in `CommandLineRunnerExecutor`. Can you provide a [mre] that shows the issue when run?","body":"I can&#39;t reproduce it. I get the correct value for <code>firstService.localDirectory</code> in <code>CommandLineRunnerExecutor</code>. Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the issue when run?"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1680066113,"post_id":75873124,"comment_id":133831742,"body_markdown":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie `firstService.localDirectory` returned null, but `firstService.getLocalDirectory()` returned the correct value;","body":"@Unmitigated turns out the autowired service had null fields until I initialized them with the appropriate getter method. ie <code>firstService.localDirectory</code> returned null, but <code>firstService.getLocalDirectory()</code> returned the correct value;"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680065367,"creation_date":1680065367,"answer_id":75873234,"question_id":75873124,"body_markdown":"Check the following:\r\n1. Whether you create an instance of `AnotherService` by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and `firstService` instance will be `null`.\r\n\r\n2. If its Spring driven - you say that your `FirstService` basically looks like this:\r\n\r\n```\r\n@Service\r\npublic class FirstService {\r\n   @Value(&quot;${test.localDirectory}&quot;)\r\n   public String localDirectory;\r\n}\r\n```\r\n\r\nMake sure that the instance you obtain in the `AnotherService#test` method is the same instance of the `FirstService` again it might be possible that you mix spring injection and regular creation of object with `new`","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>Check the following:</p>\n<ol>\n<li><p>Whether you create an instance of <code>AnotherService</code> by yourself or Spring injects it for you. If you create it bypassing spring, nothing will be injected and <code>firstService</code> instance will be <code>null</code>.</p>\n</li>\n<li><p>If its Spring driven - you say that your <code>FirstService</code> basically looks like this:</p>\n</li>\n</ol>\n<pre><code>@Service\npublic class FirstService {\n   @Value(&quot;${test.localDirectory}&quot;)\n   public String localDirectory;\n}\n</code></pre>\n<p>Make sure that the instance you obtain in the <code>AnotherService#test</code> method is the same instance of the <code>FirstService</code> again it might be possible that you mix spring injection and regular creation of object with <code>new</code></p>\n"},{"tags":[],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680066020,"creation_date":1680066020,"answer_id":75873297,"question_id":75873124,"body_markdown":"I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I think I figured it out. The autowired service had null values that were not being populated until I called the getter. I had been trying to access the public field directly, which resulted in the null value.</p>\n"}],"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75873297,"answer_count":2,"score":1,"last_activity_date":1680066020,"creation_date":1680063829,"question_id":75873124,"body_markdown":"I&#39;ve got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:\r\n\r\n    @Value(&quot;${test.localDirectory}&quot;)\r\n    public String localDirectory;\r\n\r\nI can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        logger.info(localDirectory); //returns expected value here\r\n    }\r\n\r\nHowever, when I try to access these classes from another spring @Service, they are returning null:\r\n\r\n           \r\n    @Service\r\n    public class AnotherService {\r\n    \r\n        @Autowired\r\n        private FirstService firstService\r\n\r\n        public void example(){\r\n            firstService.localDirectory //returns null\r\n        }\r\n    \r\n    }\r\n\r\nIs this expected behavior or am I doing something wrong?\r\n\r\nEDIT: Here&#39;s a better code example:\r\n\r\n\r\n    @Service\r\n    public class FirstService{\r\n     \r\n        @Value(&quot;${test.localDirectory}&quot;)\r\n        public String localDirectory;\r\n    \r\n    }\r\n    \r\n    \r\n    @Component\r\n    public class CommandLineRunnerExecutor implements CommandLineRunner {\r\n    @Autowired\r\n    private FirstService firstService;\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n                logger.info(firstService.localDirectory); //null\r\n        }\r\n    }\r\n\r\n\r\n","title":"Fields populated via @Value in my @Service class become null when accessing that class via @Autowired","body":"<p>I've got a Spring Boot application where I am populating fields in a service class by using the @Value annotation:</p>\n<pre><code>@Value(&quot;${test.localDirectory}&quot;)\npublic String localDirectory;\n</code></pre>\n<p>I can confirm these are being pulled properly, as I am checking them via ths InitializingBean method:</p>\n<pre><code>@Override\npublic void afterPropertiesSet() throws Exception {\n    logger.info(localDirectory); //returns expected value here\n}\n</code></pre>\n<p>However, when I try to access these classes from another spring @Service, they are returning null:</p>\n<pre><code>@Service\npublic class AnotherService {\n\n    @Autowired\n    private FirstService firstService\n\n    public void example(){\n        firstService.localDirectory //returns null\n    }\n\n}\n</code></pre>\n<p>Is this expected behavior or am I doing something wrong?</p>\n<p>EDIT: Here's a better code example:</p>\n<pre><code>@Service\npublic class FirstService{\n \n    @Value(&quot;${test.localDirectory}&quot;)\n    public String localDirectory;\n\n}\n\n\n@Component\npublic class CommandLineRunnerExecutor implements CommandLineRunner {\n@Autowired\nprivate FirstService firstService;\n\n    @Override\n    public void run(String... args) throws Exception {\n            logger.info(firstService.localDirectory); //null\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":1,"creation_date":1410011168,"post_id":25700887,"comment_id":40172128,"body_markdown":"@shekharsuman What is the point in making them static? Add all the numbers to a `LinkedList` sort the `List` in ascending order, take the first two items in the list.","body":"@shekharsuman What is the point in making them static? Add all the numbers to a <code>LinkedList</code> sort the <code>List</code> in ascending order, take the first two items in the list."}],"answers":[{"tags":[],"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1410011193,"creation_date":1410011193,"answer_id":25700932,"question_id":25700887,"body_markdown":"You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. \r\n\r\nHere&#39;s the code that should be in the loop:\r\n\r\n    if (number &lt; small) {\r\n        nest = small;\r\n        small = number;\r\n    } else if (number &lt; nest) {\r\n        nest = number;\r\n    } ","title":"finding smallest and second smallest number","body":"<p>You just have to get the order right. First, see if the number is smaller than the smallest number, and if so, replace it and move the old smallest number to the second smallest number. Else, if it is smaller than the second smallest number, replace that. </p>\n\n<p>Here's the code that should be in the loop:</p>\n\n<pre><code>if (number &lt; small) {\n    nest = small;\n    small = number;\n} else if (number &lt; nest) {\n    nest = number;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410011701,"creation_date":1410011701,"answer_id":25701013,"question_id":25700887,"body_markdown":"Add all the numbers to a `LinkedList&lt;Integer&gt;` then sort the `List`.  The first two items in the `List` will be the smallest.\r\n\r\n    public class Sorter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tList&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;How many numbers?&quot;);\r\n    \t\tint total = keyboard.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;What is the first number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\tSystem.out.println(&quot;whats the second number&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t// Assigning the first two numbers to smallest and second largest\r\n    \r\n    \t\tfor (int i =2;i&lt;total;i++) {                     \r\n    \t\tSystem.out.println(&quot;whats the next number?&quot;);\r\n    \t\tnumbers.add( keyboard.nextInt());\r\n    \t\t}//end forloop\r\n    \t\t\r\n    \t\tCollections.sort(numbers);\r\n    \r\n    \t\tSystem.out.printf(&quot;The smallest numbers are %d and %d&quot;,numbers.get(0),numbers.get(1)); \r\n    \t\r\n    \t}\r\n    }","title":"finding smallest and second smallest number","body":"<p>Add all the numbers to a <code>LinkedList&lt;Integer&gt;</code> then sort the <code>List</code>.  The first two items in the <code>List</code> will be the smallest.</p>\n\n<pre><code>public class Sorter {\n\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        List&lt;Integer&gt; numbers = new LinkedList&lt;Integer&gt;();\n\n        System.out.println(\"How many numbers?\");\n        int total = keyboard.nextInt();\n\n        System.out.println(\"What is the first number\");\n        numbers.add( keyboard.nextInt());\n        System.out.println(\"whats the second number\");\n        numbers.add( keyboard.nextInt());\n        // Assigning the first two numbers to smallest and second largest\n\n        for (int i =2;i&lt;total;i++) {                     \n        System.out.println(\"whats the next number?\");\n        numbers.add( keyboard.nextInt());\n        }//end forloop\n\n        Collections.sort(numbers);\n\n        System.out.printf(\"The smallest numbers are %d and %d\",numbers.get(0),numbers.get(1)); \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28154456,"reputation":1,"user_id":21515387,"display_name":"Petro Lototskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680064479,"creation_date":1680064320,"answer_id":75873147,"question_id":25700887,"body_markdown":"here is the code:\r\n\t\t  \r\n\r\n    Scanner console = new Scanner(System.in);\r\n\t\t  int min = Integer.MAX_VALUE;\r\n\t\t  int secondMin=Integer.MAX_VALUE;\r\n\t\t  while (console.hasNextInt())\r\n\t\t  {\r\n\t\t     int x = console.nextInt();\r\n\t\t     if (x &lt; min) {\r\n\t\t       secondMin=min;\r\n\t\t    \t min = x;\r\n\t\t       } else if (x &lt;secondMin &amp;&amp; x!=min)\r\n\t\t      secondMin=x;\t      \r\n\t\t    \t\t\r\n\t\t  }\r\n\t\t  System.out.println(secondMin);\r\n\r\n\t\t      }\r\n\t\t  }\r\n\r\nYou need to make sure to add **x!=min** to the &quot;**else if**&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin ","title":"finding smallest and second smallest number","body":"<p>here is the code:</p>\n<pre><code>Scanner console = new Scanner(System.in);\n      int min = Integer.MAX_VALUE;\n      int secondMin=Integer.MAX_VALUE;\n      while (console.hasNextInt())\n      {\n         int x = console.nextInt();\n         if (x &lt; min) {\n           secondMin=min;\n             min = x;\n           } else if (x &lt;secondMin &amp;&amp; x!=min)\n          secondMin=x;        \n                \n      }\n      System.out.println(secondMin);\n\n          }\n      }\n</code></pre>\n<p>You need to make sure to add <strong>x!=min</strong> to the &quot;<strong>else if</strong>&quot; condition. If this condition is not passed and the smallest number is entered twice it will be assigned to secondMin</p>\n"}],"owner":{"display_name":"user3967885"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25700932,"answer_count":3,"score":0,"last_activity_date":1680064479,"creation_date":1410010791,"question_id":25700887,"body_markdown":"This program is supposed to find the smallest and the second smallest number among x numbers. \r\nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.\r\n\r\n   \r\n\r\n     System.out.println(&quot;How many numbers?&quot;);\r\n     int total = keyboard.nextInt();\r\n     \r\n     System.out.println(&quot;What is the first number&quot;);\r\n     int small = keyboard.nextInt();\r\n   \r\n     System.out.println(&quot;whats the second number&quot;);\r\n     int nest = keyboard.nextInt();\r\n     // Assigning the first two numbers to smallest and second largest\r\n    \r\n     for (int i =2;i&lt;total;i++) {                     \r\n        System.out.println(&quot;whats the next number?&quot;);\r\n        int number = keyboard.nextInt();\r\n    \r\n        if (number &lt; small) {\r\n           small = number;\r\n        } // this part works (I think)\r\n    \r\n        if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\r\n           nest = number;\r\n        }//this part dont (I think)\r\n    \r\n     }//end forloop\r\n     System.out.printf(&quot;The smallest numbers are %d and %d&quot;,small,nest); \r\n      \r\n\r\n \r\n\r\n","title":"finding smallest and second smallest number","body":"<p>This program is supposed to find the smallest and the second smallest number among x numbers. \nThe program finds the smallest number every time, but I have problems replacing the second smallest number from the keyboard.</p>\n\n<pre><code> System.out.println(\"How many numbers?\");\n int total = keyboard.nextInt();\n\n System.out.println(\"What is the first number\");\n int small = keyboard.nextInt();\n\n System.out.println(\"whats the second number\");\n int nest = keyboard.nextInt();\n // Assigning the first two numbers to smallest and second largest\n\n for (int i =2;i&lt;total;i++) {                     \n    System.out.println(\"whats the next number?\");\n    int number = keyboard.nextInt();\n\n    if (number &lt; small) {\n       small = number;\n    } // this part works (I think)\n\n    if ((number &gt; small) &amp;&amp; (number &lt; nest)) {\n       nest = number;\n    }//this part dont (I think)\n\n }//end forloop\n System.out.printf(\"The smallest numbers are %d and %d\",small,nest); \n</code></pre>\n"},{"tags":["java","clone"],"answers":[{"tags":[],"owner":{"account_id":17466255,"reputation":363,"user_id":12662926,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680051206,"creation_date":1680051206,"answer_id":75872195,"question_id":75872168,"body_markdown":"You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects. ","title":"Cloned objects aren&#39;t equal","body":"<p>You need to override the equals method for your object. By default the equals method of any objects compares the addresses of both objects.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680062193,"creation_date":1680062193,"answer_id":75872997,"question_id":75872168,"body_markdown":"As a supplement to Charles&#39; answer, you have to override ```public boolean equals(Object obj)``` method of your ```BankAccount``` class.\r\n\r\nAnd below is an example for your reference:  \r\n```java\r\nimport java.util.Date;\r\n\r\npublic class Main {\r\n    static class BankAccount implements Cloneable {\r\n        private int id;\r\n        private int balance;\r\n        private Date createDate;\r\n        \r\n        public BankAccount(int id, int balance) {\r\n            this.id = id;\r\n            this.balance = balance;\r\n            this.createDate = new Date();\r\n        }\r\n        \r\n        public int getId() { return id; }\r\n        public int getBalance() { return balance; }\r\n        \r\n        @Override\r\n        public Object clone() { \r\n            try {\r\n                // shallow copy\r\n                BankAccount clone = (BankAccount)super.clone();\r\n                // deep copy\r\n                clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n                return clone;\r\n            } catch (CloneNotSupportedException y) {\r\n                y.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        // You have to override this function for value comparison\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            // Check if the passing Object is BankAccount\r\n            if (!(obj instanceof BankAccount))\r\n                return false;\r\n                \r\n            BankAccount otherBankAccount = (BankAccount) obj;\r\n            // You need to define your own comparison criteria to determine\r\n            //  whether 2 BankAccounts are equal\r\n            if (otherBankAccount.getId() == this.getId() \r\n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\r\n                return true;\r\n            \r\n            return false;\r\n        }\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tBankAccount account1 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account2 = (BankAccount)account1.clone();\r\n\t\tBankAccount account3 = new BankAccount(1111, 5347);\r\n\t\tBankAccount account4 = new BankAccount(1234, 5347);\r\n\t\t\r\n\t\tSystem.out.println(account2.equals(account1));\r\n\t\tSystem.out.println(account3.equals(account2));\r\n\t\tSystem.out.println(account4.equals(account2));\r\n\t}\r\n}\r\n```\r\nOutput:\r\n&gt; true  \r\n&gt; true  \r\n&gt; false","title":"Cloned objects aren&#39;t equal","body":"<p>As a supplement to Charles' answer, you have to override <code>public boolean equals(Object obj)</code> method of your <code>BankAccount</code> class.</p>\n<p>And below is an example for your reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class Main {\n    static class BankAccount implements Cloneable {\n        private int id;\n        private int balance;\n        private Date createDate;\n        \n        public BankAccount(int id, int balance) {\n            this.id = id;\n            this.balance = balance;\n            this.createDate = new Date();\n        }\n        \n        public int getId() { return id; }\n        public int getBalance() { return balance; }\n        \n        @Override\n        public Object clone() { \n            try {\n                // shallow copy\n                BankAccount clone = (BankAccount)super.clone();\n                // deep copy\n                clone.createDate = (java.util.Date)(createDate.clone());\n\n                return clone;\n            } catch (CloneNotSupportedException y) {\n                y.printStackTrace();\n                return null;\n            }\n        }\n        \n        // You have to override this function for value comparison\n        @Override\n        public boolean equals(Object obj) {\n            // Check if the passing Object is BankAccount\n            if (!(obj instanceof BankAccount))\n                return false;\n                \n            BankAccount otherBankAccount = (BankAccount) obj;\n            // You need to define your own comparison criteria to determine\n            //  whether 2 BankAccounts are equal\n            if (otherBankAccount.getId() == this.getId() \n                &amp;&amp; otherBankAccount.getBalance() == this.getBalance())\n                return true;\n            \n            return false;\n        }\n    }\n    \n    public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n        BankAccount account3 = new BankAccount(1111, 5347);\n        BankAccount account4 = new BankAccount(1234, 5347);\n        \n        System.out.println(account2.equals(account1));\n        System.out.println(account3.equals(account2));\n        System.out.println(account4.equals(account2));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>true<br />\ntrue<br />\nfalse</p>\n</blockquote>\n"}],"owner":{"account_id":27705051,"reputation":3,"user_id":21148883,"display_name":"Jack0thy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872195,"answer_count":2,"score":0,"last_activity_date":1680062193,"creation_date":1680050828,"question_id":75872168,"body_markdown":"Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.  \r\n\r\nThis is my clone method:\r\n\r\n\r\n```\r\n  @Override\r\n    public Object clone() { try {\r\n            // shallow copy\r\n            BankAccount clone = (BankAccount)super.clone();\r\n            // deep copy\r\n            clone.createDate = (java.util.Date)(createDate.clone());\r\n\r\n            return clone;\r\n        }\r\n        catch (CloneNotSupportedException y) {\r\n           return null; }\r\n```\r\n\r\nThis is my main for testing:\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        BankAccount account1 = new BankAccount(1111, 5347);\r\n        BankAccount account2 = (BankAccount)account1.clone();\r\n\r\n        System.out.println(account2.equals(account1));\r\n```\r\n\r\n\r\n","title":"Cloned objects aren&#39;t equal","body":"<p>Trying to implement deep copy, but when I test my method in the main with equal() it comes up false though all of the data is the same.</p>\n<p>This is my clone method:</p>\n<pre><code>  @Override\n    public Object clone() { try {\n            // shallow copy\n            BankAccount clone = (BankAccount)super.clone();\n            // deep copy\n            clone.createDate = (java.util.Date)(createDate.clone());\n\n            return clone;\n        }\n        catch (CloneNotSupportedException y) {\n           return null; }\n</code></pre>\n<p>This is my main for testing:</p>\n<pre><code>public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(1111, 5347);\n        BankAccount account2 = (BankAccount)account1.clone();\n\n        System.out.println(account2.equals(account1));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1680063947,"post_id":75872942,"comment_id":133831469,"body_markdown":"You could follow https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array","body":"You could follow <a href=\"https://stackoverflow.com/questions/9328727/convert-map-values-into-string-array\" title=\"convert map values into string array\">stackoverflow.com/questions/9328727/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680061612,"creation_date":1680061612,"answer_id":75872962,"question_id":75872942,"body_markdown":"You can pass a function to construct an array of the correct type. `toArray()` without any arguments always returns an array of `Object`s.\r\n\r\n```java\r\nCar[] carArray = cars.values().toArray(Car[]::new);\r\n```","title":"How to convert hasmap values to array","body":"<p>You can pass a function to construct an array of the correct type. <code>toArray()</code> without any arguments always returns an array of <code>Object</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Car[] carArray = cars.values().toArray(Car[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680061692,"creation_date":1680061692,"answer_id":75872967,"question_id":75872942,"body_markdown":"Arrays are low-level constructs you shouldn&#39;t use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need). \r\n\r\n&gt; I now want to create an array of cars from the values\r\n\r\nNo you don&#39;t. You want a `List&lt;Car&gt;` or `Collection&lt;Car&gt;`:\r\n\r\n```\r\nCollection&lt;Car&gt; justCars = cars.values();\r\n// or, if you need list-specific stuff:\r\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\r\n```\r\n\r\nThere&#39;s rather little arrays can do that lists cannot, but there&#39;s a lot that lists can do that arrays cannot.\r\n\r\nBut if you&#39;re somehow convinced you _must_ have an array, this has nothing to do with lists; to convert a collection to an array, don&#39;t call `toArray()`. Instead:\r\n\r\n```\r\nanyCollection.toArray(new Car[0]); // always 0\r\nanyCollection.toArray(Car[]::new); // or this\r\n```\r\n\r\ni.e. `cars.values().toArray(new Car[0])` does the job.\r\n","title":"How to convert hasmap values to array","body":"<p>Arrays are low-level constructs you shouldn't use unless their component type is primitive or you really know what you are doing (e.g. you have a performance need, and you are fully aware of how hard it can be to determine if you truly do have a performance need).</p>\n<blockquote>\n<p>I now want to create an array of cars from the values</p>\n</blockquote>\n<p>No you don't. You want a <code>List&lt;Car&gt;</code> or <code>Collection&lt;Car&gt;</code>:</p>\n<pre><code>Collection&lt;Car&gt; justCars = cars.values();\n// or, if you need list-specific stuff:\nList&lt;Car&gt; justCars = new ArrayList&lt;Car&gt;(cars.values());\n</code></pre>\n<p>There's rather little arrays can do that lists cannot, but there's a lot that lists can do that arrays cannot.</p>\n<p>But if you're somehow convinced you <em>must</em> have an array, this has nothing to do with lists; to convert a collection to an array, don't call <code>toArray()</code>. Instead:</p>\n<pre><code>anyCollection.toArray(new Car[0]); // always 0\nanyCollection.toArray(Car[]::new); // or this\n</code></pre>\n<p>i.e. <code>cars.values().toArray(new Car[0])</code> does the job.</p>\n"}],"owner":{"account_id":7558027,"reputation":1424,"user_id":5736835,"accept_rate":100,"display_name":"WDUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75872967,"answer_count":2,"score":0,"last_activity_date":1680061692,"creation_date":1680061338,"question_id":75872942,"body_markdown":"I have a hashmap setup like this:\r\n\r\n    cars = new HashMap&lt;Integer, Car&gt;();\r\n\r\nI now want to create an array of cars from the values:\r\n\r\n    Car[] carArray = (Car[])cars.values().toArray();\r\n\r\nBut it says I cannot cast\r\n\r\n    java.lang.Object; cannot be cast to Car\r\n\r\nWhat am i doing wrong here?\r\n\r\n","title":"How to convert hasmap values to array","body":"<p>I have a hashmap setup like this:</p>\n<pre><code>cars = new HashMap&lt;Integer, Car&gt;();\n</code></pre>\n<p>I now want to create an array of cars from the values:</p>\n<pre><code>Car[] carArray = (Car[])cars.values().toArray();\n</code></pre>\n<p>But it says I cannot cast</p>\n<pre><code>java.lang.Object; cannot be cast to Car\n</code></pre>\n<p>What am i doing wrong here?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680061581,"post_id":75872933,"comment_id":133831181,"body_markdown":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced.","body":"It is not an error, it is simply a warning the API in use in the compiler is out of date. Thread has many deprecated (no longer used) methods. If you recompile as it instructed it will tell you which methods should be replaced."},{"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"score":0,"creation_date":1680061845,"post_id":75872933,"comment_id":133831216,"body_markdown":"How to do that?","body":"How to do that?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1680064353,"post_id":75872933,"comment_id":133831526,"body_markdown":"How did you compile it in the first place?","body":"How did you compile it in the first place?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680064407,"post_id":75872933,"comment_id":133831537,"body_markdown":"The deprecation message says how to do it: by adding `-Xlint:deprecation` to the compiler flags.","body":"The deprecation message says how to do it: by adding <code>-Xlint:deprecation</code> to the compiler flags."}],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680061197,"creation_date":1680061197,"question_id":75872933,"body_markdown":"I am writing a program in java about threads.\r\n\r\n```\r\nclass ThreadOp{\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.out.println(&quot;program started...&quot;);\r\n\t\tint x=36+54;\r\n\t\ttry{\r\n\t\t\tThread.sleep(5000);\r\n\t\t}catch(Exception e){};\r\n\t\tSystem.out.println(&quot;sum is: &quot;+x);\r\n\t\t//Thread...\r\n\t\tThread t=Thread.currentThread();\r\n\t\tString tname=t.getName();\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(&quot;Current running thread is:&quot;+tname);\r\n\t\tt.setName(&quot;MyMain&quot;);\r\n\t\tSystem.out.println(t.getName());\r\n\t\tSystem.out.println(t.getId());\r\n\t\t\r\n\t\tSystem.out.println(&quot;program ended...&quot;);\r\n\t}\r\n}\r\n```\r\nHowever I am getting an error:\r\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\r\nNote: ThreadOp.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\nWhat can I do to resolve it?\r\n\r\nI am trying to understand how the various methods of threads work.\r\nI am trying to implement the methods.","title":"How t resolve the error?Note: ThreadOp.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details","body":"<p>I am writing a program in java about threads.</p>\n<pre><code>class ThreadOp{\n    public static void main(String[] args){\n        System.out.println(&quot;program started...&quot;);\n        int x=36+54;\n        try{\n            Thread.sleep(5000);\n        }catch(Exception e){};\n        System.out.println(&quot;sum is: &quot;+x);\n        //Thread...\n        Thread t=Thread.currentThread();\n        String tname=t.getName();\n        System.out.println(t.getName());\n        System.out.println(&quot;Current running thread is:&quot;+tname);\n        t.setName(&quot;MyMain&quot;);\n        System.out.println(t.getName());\n        System.out.println(t.getId());\n        \n        System.out.println(&quot;program ended...&quot;);\n    }\n}\n</code></pre>\n<p>However I am getting an error:\nC:\\Users\\PC\\Desktop\\Threads&gt;javac ThreadOp.java\nNote: ThreadOp.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.</p>\n<p>What can I do to resolve it?</p>\n<p>I am trying to understand how the various methods of threads work.\nI am trying to implement the methods.</p>\n"},{"tags":["java","file","parsing","url","filenames"],"comments":[{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":3,"creation_date":1236073637,"post_id":605696,"comment_id":417884,"body_markdown":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server.","body":"YOU do realize there is no requirement for there to be a filename at the end, or even something that looks like a filename. In this case, there may or may not be a file.xml on server."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":2,"creation_date":1236074241,"post_id":605696,"comment_id":417920,"body_markdown":"in that case, the result would be an empty string, or maybe null.","body":"in that case, the result would be an empty string, or maybe null."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1236075027,"post_id":605696,"comment_id":417957,"body_markdown":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi","body":"I think you need to define the problem more clearly. What about following URLS endings? ..../abc, ..../abc/, ..../abc.def, ..../abc.def.ghi, ..../abc?def.ghi"},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":3,"creation_date":1236076192,"post_id":605696,"comment_id":418017,"body_markdown":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename.","body":"I think it&#39;s pretty clear. If the URL points to a file, I&#39;m interested in the filename minus the extension (if it has one). Query parts fall outside the filename."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1236086311,"post_id":605696,"comment_id":418502,"body_markdown":"The client has no means of knowing if the server uses a file!","body":"The client has no means of knowing if the server uses a file!"},{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1337703432,"post_id":605696,"comment_id":13900405,"body_markdown":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way.","body":"You haven&#39;t precisely defined what you mean by a &quot;file name&quot; or an &quot;extension&quot; - and no, those aren&#39;t terms that everyone understands in the same way."},{"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"score":4,"creation_date":1339498798,"post_id":605696,"comment_id":14365383,"body_markdown":"the file name is the part of the url after the last slash.\nthe file extension is the part of the file name after the last period.","body":"the file name is the part of the url after the last slash. the file extension is the part of the file name after the last period."},{"owner":{"account_id":72372,"reputation":1543,"user_id":208992,"accept_rate":95,"display_name":"Spoonface"},"score":0,"creation_date":1353624106,"post_id":605696,"comment_id":18510335,"body_markdown":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java","body":"You might be able to do this using the Apache Commons IO FilenameUtils class. See answer provided by slashnick: <a href=\"http://stackoverflow.com/questions/8393849/how-to-get-name-of-file-object-without-its-extension-in-java\" title=\"how to get name of file object without its extension in java\">stackoverflow.com/questions/8393849/&hellip;</a>"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1430944260,"post_id":605696,"comment_id":48287148,"body_markdown":"Related: http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)","body":"Related: <a href=\"http://stackoverflow.com/questions/4050087/how-to-obtain-the-last-path-segment-of-an-uri\" title=\"how to obtain the last path segment of an uri\">stackoverflow.com/questions/4050087/&hellip;</a> (Contains the best answer, no dependencies, but does not accomplish goal of removing extension.)"}],"answers":[{"tags":[],"owner":{"account_id":24343,"reputation":10249,"user_id":61848,"accept_rate":75,"display_name":"tehvan"},"down_vote_count":5,"up_vote_count":31,"is_accepted":false,"score":26,"last_activity_date":1516756676,"creation_date":1236072792,"answer_id":605727,"question_id":605696,"body_markdown":"This should about cut it (i&#39;ll leave the error handling to you):\r\n\r\n    int slashIndex = url.lastIndexOf(&#39;/&#39;);\r\n    int dotIndex = url.lastIndexOf(&#39;.&#39;, slashIndex);\r\n    String filenameWithoutExtension;\r\n    if (dotIndex == -1) {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1);\r\n    } else {\r\n      filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\r\n    }\r\n","title":"Get file name from URL","body":"<p>This should about cut it (i'll leave the error handling to you):</p>\n\n<pre><code>int slashIndex = url.lastIndexOf('/');\nint dotIndex = url.lastIndexOf('.', slashIndex);\nString filenameWithoutExtension;\nif (dotIndex == -1) {\n  filenameWithoutExtension = url.substring(slashIndex + 1);\n} else {\n  filenameWithoutExtension = url.substring(slashIndex + 1, dotIndex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1236072876,"creation_date":1236072876,"answer_id":605737,"question_id":605696,"body_markdown":"I&#39;ve come up with this:\r\n\r\n    String url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    String file = url.substring(url.lastIndexOf(&#39;/&#39;)+1, url.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>I've come up with this:</p>\n\n<pre><code>String url = \"http://www.example.com/some/path/to/a/file.xml\";\nString file = url.substring(url.lastIndexOf('/')+1, url.lastIndexOf('.'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"down_vote_count":9,"up_vote_count":220,"is_accepted":false,"score":211,"last_activity_date":1236073406,"creation_date":1236073039,"answer_id":605746,"question_id":605696,"body_markdown":"    String fileName = url.substring( url.lastIndexOf(&#39;/&#39;)+1, url.length() );\r\n    \r\n    String fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring( url.lastIndexOf('/')+1, url.length() );\n\nString fileNameWithoutExtn = fileName.substring(0, fileName.lastIndexOf('.'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23553,"reputation":3609,"user_id":59090,"accept_rate":47,"display_name":"Ricardo Felgueiras"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1236075182,"creation_date":1236075182,"answer_id":605844,"question_id":605696,"body_markdown":"import java.io.*;\r\n \r\n    import java.net.*;\r\n\r\n    public class ConvertURLToFileName{\r\n\r\n\r\n       public static void main(String[] args)throws IOException{\r\n       BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n       System.out.print(&quot;Please enter the URL : &quot;);\r\n  \r\n       String str = in.readLine();\r\n\r\n     \r\n       try{\r\n \r\n         URL url = new URL(str);\r\n \r\n         System.out.println(&quot;File : &quot;+ url.getFile());\r\n         System.out.println(&quot;Converting process Successfully&quot;);\r\n \r\n       }  \r\n       catch (MalformedURLException me){\r\n \r\n          System.out.println(&quot;Converting process error&quot;);\r\n  \r\n     }\r\n\r\nI hope this will help you. ","title":"Get file name from URL","body":"<p>import java.io.*;</p>\n\n<pre><code>import java.net.*;\n\npublic class ConvertURLToFileName{\n\n\n   public static void main(String[] args)throws IOException{\n   BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n   System.out.print(\"Please enter the URL : \");\n\n   String str = in.readLine();\n\n\n   try{\n\n     URL url = new URL(str);\n\n     System.out.println(\"File : \"+ url.getFile());\n     System.out.println(\"Converting process Successfully\");\n\n   }  \n   catch (MalformedURLException me){\n\n      System.out.println(\"Converting process error\");\n\n }\n</code></pre>\n\n<p>I hope this will help you. </p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1474522627,"creation_date":1236075482,"answer_id":605860,"question_id":605696,"body_markdown":"Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.\r\n\r\nI can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html interesting:\r\n\r\n    // Create a file object\r\n    File file = new File(&quot;filename&quot;);\r\n    \r\n    // Convert the file object to a URL\r\n    URL url = null;\r\n    try {\r\n        // The file need not exist. It is made into an absolute path\r\n        // by prefixing the current working directory\r\n        url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\r\n    } catch (MalformedURLException e) {\r\n    }\r\n    \r\n    // Convert the URL to a file object\r\n    file = new File(url.getFile());  // d:/almanac1.4/java.io/filename\r\n    \r\n    // Read the file contents using the URL\r\n    try {\r\n        // Open an input stream\r\n        InputStream is = url.openStream();\r\n    \r\n        // Read from is\r\n    \r\n        is.close();\r\n    } catch (IOException e) {\r\n        // Could not open the file\r\n    }","title":"Get file name from URL","body":"<p>Create an URL object from the String.  When first you have an URL object there are methods to easily pull out just about any snippet of information you need.</p>\n\n<p>I can strongly recommend the Javaalmanac web site which has tons of examples, but which has since moved.  You might find <a href=\"http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html\" rel=\"nofollow noreferrer\">http://exampledepot.8waytrips.com/egs/java.io/File2Uri.html</a> interesting:</p>\n\n<pre><code>// Create a file object\nFile file = new File(\"filename\");\n\n// Convert the file object to a URL\nURL url = null;\ntry {\n    // The file need not exist. It is made into an absolute path\n    // by prefixing the current working directory\n    url = file.toURL();          // file:/d:/almanac1.4/java.io/filename\n} catch (MalformedURLException e) {\n}\n\n// Convert the URL to a file object\nfile = new File(url.getFile());  // d:/almanac1.4/java.io/filename\n\n// Read the file contents using the URL\ntry {\n    // Open an input stream\n    InputStream is = url.openStream();\n\n    // Read from is\n\n    is.close();\n} catch (IOException e) {\n    // Could not open the file\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530017,"user_id":18936,"display_name":"bobince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236076510,"creation_date":1236076037,"answer_id":605881,"question_id":605696,"body_markdown":"andy&#39;s answer redone using split():\r\n\r\n    Url u= ...;\r\n    String[] pathparts= u.getPath().split(&quot;\\\\/&quot;);\r\n    String filename= pathparts[pathparts.length-1].split(&quot;\\\\.&quot;, 1)[0];\r\n","title":"Get file name from URL","body":"<p>andy's answer redone using split():</p>\n\n<pre><code>Url u= ...;\nString[] pathparts= u.getPath().split(\"\\\\/\");\nString filename= pathparts[pathparts.length-1].split(\"\\\\.\", 1)[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":574438,"reputation":157,"user_id":225940,"display_name":"Mike"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1260132155,"creation_date":1260132155,"answer_id":1856542,"question_id":605696,"body_markdown":"    public static String getFileName(URL extUrl) {\r\n\t\t\t//URL: &quot;http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg&quot;\r\n\t\t\tString filename = &quot;&quot;;\r\n\t\t\t//PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\r\n\t\t\tString path = extUrl.getPath();\r\n\t\t\t//Checks for both forward and/or backslash \r\n\t\t\t//NOTE:**While backslashes are not supported in URL&#39;s \r\n\t\t\t//most browsers will autoreplace them with forward slashes\r\n\t\t\t//So technically if you&#39;re parsing an html page you could run into \r\n\t\t\t//a backslash , so i&#39;m accounting for them here;\r\n\t\t\tString[] pathContents = path.split(&quot;[\\\\\\\\/]&quot;);\r\n\t\t\tif(pathContents != null){\r\n\t\t\t\tint pathContentsLength = pathContents.length;\r\n\t\t\t\tSystem.out.println(&quot;Path Contents Length: &quot; + pathContentsLength);\r\n\t\t\t\tfor (int i = 0; i &lt; pathContents.length; i++) {\r\n\t\t\t\t\tSystem.out.println(&quot;Path &quot; + i + &quot;: &quot; + pathContents[i]);\r\n\t\t\t\t}\r\n\t\t\t\t//lastPart: s659629384_752969_4472.jpg\r\n\t\t\t\tString lastPart = pathContents[pathContentsLength-1];\r\n\t\t\t\tString[] lastPartContents = lastPart.split(&quot;\\\\.&quot;);\r\n\t\t\t\tif(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\r\n\t\t\t\t\tint lastPartContentLength = lastPartContents.length;\r\n\t\t\t\t\tSystem.out.println(&quot;Last Part Length: &quot; + lastPartContentLength);\r\n\t\t\t\t\t//filenames can contain . , so we assume everything before\r\n\t\t\t\t\t//the last . is the name, everything after the last . is the \r\n\t\t\t\t\t//extension\r\n\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\tfor (int i = 0; i &lt; lastPartContentLength; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Last Part &quot; + i + &quot;: &quot;+ lastPartContents[i]);\r\n\t\t\t\t\t\tif(i &lt; (lastPartContents.length -1)){\r\n\t\t\t\t\t\t\tname += lastPartContents[i] ;\r\n\t\t\t\t\t\t\tif(i &lt; (lastPartContentLength -2)){\r\n\t\t\t\t\t\t\t\tname += &quot;.&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString extension = lastPartContents[lastPartContentLength -1];\r\n\t\t\t\t\tfilename = name + &quot;.&quot; +extension;\r\n\t\t\t\t\tSystem.out.println(&quot;Name: &quot; + name);\r\n\t\t\t\t\tSystem.out.println(&quot;Extension: &quot; + extension);\r\n\t\t\t\t\tSystem.out.println(&quot;Filename: &quot; + filename);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn filename;\r\n\t\t}","title":"Get file name from URL","body":"<pre><code>public static String getFileName(URL extUrl) {\n        //URL: \"http://photosaaaaa.net/photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\"\n        String filename = \"\";\n        //PATH: /photos-ak-snc1/v315/224/13/659629384/s659629384_752969_4472.jpg\n        String path = extUrl.getPath();\n        //Checks for both forward and/or backslash \n        //NOTE:**While backslashes are not supported in URL's \n        //most browsers will autoreplace them with forward slashes\n        //So technically if you're parsing an html page you could run into \n        //a backslash , so i'm accounting for them here;\n        String[] pathContents = path.split(\"[\\\\\\\\/]\");\n        if(pathContents != null){\n            int pathContentsLength = pathContents.length;\n            System.out.println(\"Path Contents Length: \" + pathContentsLength);\n            for (int i = 0; i &lt; pathContents.length; i++) {\n                System.out.println(\"Path \" + i + \": \" + pathContents[i]);\n            }\n            //lastPart: s659629384_752969_4472.jpg\n            String lastPart = pathContents[pathContentsLength-1];\n            String[] lastPartContents = lastPart.split(\"\\\\.\");\n            if(lastPartContents != null &amp;&amp; lastPartContents.length &gt; 1){\n                int lastPartContentLength = lastPartContents.length;\n                System.out.println(\"Last Part Length: \" + lastPartContentLength);\n                //filenames can contain . , so we assume everything before\n                //the last . is the name, everything after the last . is the \n                //extension\n                String name = \"\";\n                for (int i = 0; i &lt; lastPartContentLength; i++) {\n                    System.out.println(\"Last Part \" + i + \": \"+ lastPartContents[i]);\n                    if(i &lt; (lastPartContents.length -1)){\n                        name += lastPartContents[i] ;\n                        if(i &lt; (lastPartContentLength -2)){\n                            name += \".\";\n                        }\n                    }\n                }\n                String extension = lastPartContents[lastPartContentLength -1];\n                filename = name + \".\" +extension;\n                System.out.println(\"Name: \" + name);\n                System.out.println(\"Extension: \" + extension);\n                System.out.println(\"Filename: \" + filename);\n            }\n        }\n        return filename;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":388314,"reputation":11,"user_id":747162,"display_name":"Campa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1308815785,"creation_date":1308815785,"answer_id":6450978,"question_id":605696,"body_markdown":"\tpublic String getFileNameWithoutExtension(URL url) {\r\n        String path = url.getPath();\r\n        \r\n        if (StringUtils.isBlank(path)) {\r\n        \treturn null;\r\n        }\r\n        if (StringUtils.endsWith(path, &quot;/&quot;)) {\r\n        \t//is a directory ..\r\n        \treturn null;\r\n        }\r\n \t\t\r\n\t\tFile file = new File(url.getPath());\r\n\t\tString fileNameWithExt = file.getName();\r\n\t\t\r\n\t\tint sepPosition = fileNameWithExt.lastIndexOf(&quot;.&quot;);\r\n\t\tString fileNameWithOutExt = null;\r\n\t\tif (sepPosition &gt;= 0) {\r\n\t\t\tfileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\r\n\t\t}else{\r\n\t\t\tfileNameWithOutExt = fileNameWithExt;\r\n\t\t}\r\n\t\t\r\n        return fileNameWithOutExt;\r\n\t}","title":"Get file name from URL","body":"<pre><code>public String getFileNameWithoutExtension(URL url) {\n    String path = url.getPath();\n\n    if (StringUtils.isBlank(path)) {\n        return null;\n    }\n    if (StringUtils.endsWith(path, \"/\")) {\n        //is a directory ..\n        return null;\n    }\n\n    File file = new File(url.getPath());\n    String fileNameWithExt = file.getName();\n\n    int sepPosition = fileNameWithExt.lastIndexOf(\".\");\n    String fileNameWithOutExt = null;\n    if (sepPosition &gt;= 0) {\n        fileNameWithOutExt = fileNameWithExt.substring(0,sepPosition);\n    }else{\n        fileNameWithOutExt = fileNameWithExt;\n    }\n\n    return fileNameWithOutExt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2902138,"reputation":228,"user_id":2488520,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371287724,"creation_date":1371287724,"answer_id":17122026,"question_id":605696,"body_markdown":"How about this:\r\n\r\n    String filenameWithoutExtension = null;\r\n    String fullname = new File(\r\n        new URI(&quot;http://www.xyz.com/some/deep/path/to/abc.png&quot;).getPath()).getName();\r\n\r\n    int lastIndexOfDot = fullname.lastIndexOf(&#39;.&#39;);\r\n    filenameWithoutExtension = fullname.substring(0, \r\n        lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\r\n\r\n\r\n    ","title":"Get file name from URL","body":"<p>How about this:</p>\n\n<pre><code>String filenameWithoutExtension = null;\nString fullname = new File(\n    new URI(\"http://www.xyz.com/some/deep/path/to/abc.png\").getPath()).getName();\n\nint lastIndexOfDot = fullname.lastIndexOf('.');\nfilenameWithoutExtension = fullname.substring(0, \n    lastIndexOfDot == -1 ? fullname.length() : lastIndexOfDot);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":312539,"reputation":4333,"user_id":626657,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":5,"up_vote_count":232,"is_accepted":true,"score":227,"last_activity_date":1477627857,"creation_date":1371555054,"answer_id":17167743,"question_id":605696,"body_markdown":"Instead of reinventing the wheel, how about using Apache [commons-io][1]:\r\n\r\n    import org.apache.commons.io.FilenameUtils;\r\n    \r\n    public class FilenameUtilTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(&quot;http://www.example.com/some/path/to/a/file.xml?foo=bar#test&quot;);\r\n\r\n            System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\r\n            System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\r\n            System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/","title":"Get file name from URL","body":"<p>Instead of reinventing the wheel, how about using Apache <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">commons-io</a>:</p>\n\n<pre><code>import org.apache.commons.io.FilenameUtils;\n\npublic class FilenameUtilTest {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\"http://www.example.com/some/path/to/a/file.xml?foo=bar#test\");\n\n        System.out.println(FilenameUtils.getBaseName(url.getPath())); // -&gt; file\n        System.out.println(FilenameUtils.getExtension(url.getPath())); // -&gt; xml\n        System.out.println(FilenameUtils.getName(url.getPath())); // -&gt; file.xml\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249982,"reputation":1137,"user_id":1567675,"accept_rate":22,"display_name":"Bharat Dodeja"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381481594,"creation_date":1381481594,"answer_id":19314042,"question_id":605696,"body_markdown":"Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.\r\n\r\n    import android.webkit.URLUtil;\r\n    \r\n    public String getFileNameFromURL(String url) {\r\n\t\tString fileNameWithExtension = null;\r\n\t\tString fileNameWithoutExtension = null;\r\n\t\tif (URLUtil.isValidUrl(url)) {\r\n\t\t\tfileNameWithExtension = URLUtil.guessFileName(url, null, null);\r\n\t\t\tif (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\r\n\t\t\t\tString[] f = fileNameWithExtension.split(&quot;.&quot;);\r\n\t\t\t\tif (f != null &amp; f.length &gt; 1) {\r\n\t\t\t\t\tfileNameWithoutExtension = f[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fileNameWithoutExtension;\r\n\t}","title":"Get file name from URL","body":"<p>Here is the simplest way to do it in Android. I know it will not work in Java but It may help Android application developer.</p>\n\n<pre><code>import android.webkit.URLUtil;\n\npublic String getFileNameFromURL(String url) {\n    String fileNameWithExtension = null;\n    String fileNameWithoutExtension = null;\n    if (URLUtil.isValidUrl(url)) {\n        fileNameWithExtension = URLUtil.guessFileName(url, null, null);\n        if (fileNameWithExtension != null &amp;&amp; !fileNameWithExtension.isEmpty()) {\n            String[] f = fileNameWithExtension.split(\".\");\n            if (f != null &amp; f.length &gt; 1) {\n                fileNameWithoutExtension = f[0];\n            }\n        }\n    }\n    return fileNameWithoutExtension;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218420,"reputation":2261,"user_id":1185555,"accept_rate":44,"display_name":"Serhii Bohutskyi"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1383251957,"creation_date":1383251957,"answer_id":19716225,"question_id":605696,"body_markdown":"Urls can have parameters in the end, this\r\n\r\n     /**\r\n     * Getting file name from url without extension\r\n     * @param url string\r\n     * @return file name\r\n     */\r\n    public static String getFileName(String url) {\r\n        String fileName;\r\n        int slashIndex = url.lastIndexOf(&quot;/&quot;);\r\n        int qIndex = url.lastIndexOf(&quot;?&quot;);\r\n        if (qIndex &gt; slashIndex) {//if has parameters\r\n            fileName = url.substring(slashIndex + 1, qIndex);\r\n        } else {\r\n            fileName = url.substring(slashIndex + 1);\r\n        }\r\n        if (fileName.contains(&quot;.&quot;)) {\r\n            fileName = fileName.substring(0, fileName.lastIndexOf(&quot;.&quot;));\r\n        }\r\n\r\n        return fileName;\r\n    }","title":"Get file name from URL","body":"<p>Urls can have parameters in the end, this</p>\n\n<pre><code> /**\n * Getting file name from url without extension\n * @param url string\n * @return file name\n */\npublic static String getFileName(String url) {\n    String fileName;\n    int slashIndex = url.lastIndexOf(\"/\");\n    int qIndex = url.lastIndexOf(\"?\");\n    if (qIndex &gt; slashIndex) {//if has parameters\n        fileName = url.substring(slashIndex + 1, qIndex);\n    } else {\n        fileName = url.substring(slashIndex + 1);\n    }\n    if (fileName.contains(\".\")) {\n        fileName = fileName.substring(0, fileName.lastIndexOf(\".\"));\n    }\n\n    return fileName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256821,"reputation":769,"user_id":1216112,"accept_rate":85,"display_name":"Chaiavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438161894,"creation_date":1408387926,"answer_id":25370132,"question_id":605696,"body_markdown":"In order to return filename **without extension** and **without parameters** use the following:\r\n\r\n    String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\r\n    return filenameWithParams.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n\r\n\r\n\r\n\r\n\r\nIn order to return **filename with extension without params** use this:\r\n\r\n    /** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\r\n     * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\r\n     * This method will remove parameters after the extension\r\n     *\r\n     * @param urlStr original url string from which we will extract the filename\r\n     * @return filename from the url if it exists, or an empty string in all other cases */\r\n    private String getFileNameFromUrl(String urlStr) {\r\n        String baseName = FilenameUtils.getBaseName(urlStr);\r\n        String extension = FilenameUtils.getExtension(urlStr);\r\n\r\n        try {\r\n            extension = extension.split(&quot;\\\\?&quot;)[0]; // removing parameters from url if they exist\r\n            return baseName.isEmpty() ? &quot;&quot; : baseName + &quot;.&quot; + extension;\r\n        } catch (NullPointerException npe) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n","title":"Get file name from URL","body":"<p>In order to return filename <strong>without extension</strong> and <strong>without parameters</strong> use the following:</p>\n\n<pre><code>String filenameWithParams = FilenameUtils.getBaseName(urlStr); // may hold params if http://example.com/a?param=yes\nreturn filenameWithParams.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n</code></pre>\n\n<p>In order to return <strong>filename with extension without params</strong> use this:</p>\n\n<pre><code>/** Parses a URL and extracts the filename from it or returns an empty string (if filename is non existent in the url) &lt;br/&gt;\n * This method will work in win/unix formats, will work with mixed case of slashes (forward and backward) &lt;br/&gt;\n * This method will remove parameters after the extension\n *\n * @param urlStr original url string from which we will extract the filename\n * @return filename from the url if it exists, or an empty string in all other cases */\nprivate String getFileNameFromUrl(String urlStr) {\n    String baseName = FilenameUtils.getBaseName(urlStr);\n    String extension = FilenameUtils.getExtension(urlStr);\n\n    try {\n        extension = extension.split(\"\\\\?\")[0]; // removing parameters from url if they exist\n        return baseName.isEmpty() ? \"\" : baseName + \".\" + extension;\n    } catch (NullPointerException npe) {\n        return \"\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1415397689,"creation_date":1415397004,"answer_id":26810644,"question_id":605696,"body_markdown":"Keep it simple :\r\n\r\n\t/**\r\n\t * This function will take an URL as input and return the file name.\r\n\t * &lt;p&gt;Examples :&lt;/p&gt;\r\n\t * &lt;ul&gt;\r\n\t * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\r\n\t * &lt;/ul&gt;\r\n\t * \r\n\t * @param url The input URL\r\n\t * @return The URL file name\r\n\t */\r\n\tpublic static String getFileNameFromUrl(URL url) {\r\n\t\t\r\n\t\tString urlString = url.getFile();\r\n\t\t\r\n\t\treturn urlString.substring(urlString.lastIndexOf(&#39;/&#39;) + 1).split(&quot;\\\\?&quot;)[0].split(&quot;#&quot;)[0];\r\n\t}","title":"Get file name from URL","body":"<p>Keep it simple :</p>\n\n<pre><code>/**\n * This function will take an URL as input and return the file name.\n * &lt;p&gt;Examples :&lt;/p&gt;\n * &lt;ul&gt;\n * &lt;li&gt;http://example.com/a/b/c/test.txt -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/ -&gt; an empty string &lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt?param=value -&gt; test.txt&lt;/li&gt;\n * &lt;li&gt;http://example.com/test.txt#anchor -&gt; test.txt&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param url The input URL\n * @return The URL file name\n */\npublic static String getFileNameFromUrl(URL url) {\n\n    String urlString = url.getFile();\n\n    return urlString.substring(urlString.lastIndexOf('/') + 1).split(\"\\\\?\")[0].split(\"#\")[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4124772,"reputation":1930,"user_id":3384222,"accept_rate":0,"display_name":"Pravin Bhosale"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422888029,"creation_date":1422888029,"answer_id":28280175,"question_id":605696,"body_markdown":"    create a new file with string image path\r\n    \r\n        String imagePath;\r\n        File test = new File(imagePath);\r\n        test.getName();\r\n        test.getPath();\r\n        getExtension(test.getName());\r\n        \r\n        \r\n        public static String getExtension(String uri) {\r\n        \t\tif (uri == null) {\r\n        \t\t\treturn null;\r\n        \t\t}\r\n        \r\n        \t\tint dot = uri.lastIndexOf(&quot;.&quot;);\r\n        \t\tif (dot &gt;= 0) {\r\n        \t\t\treturn uri.substring(dot);\r\n        \t\t} else {\r\n        \t\t\t// No extension.\r\n        \t\t\treturn &quot;&quot;;\r\n        \t\t}\r\n        \t}","title":"Get file name from URL","body":"<pre><code>create a new file with string image path\n\n    String imagePath;\n    File test = new File(imagePath);\n    test.getName();\n    test.getPath();\n    getExtension(test.getName());\n\n\n    public static String getExtension(String uri) {\n            if (uri == null) {\n                return null;\n            }\n\n            int dot = uri.lastIndexOf(\".\");\n            if (dot &gt;= 0) {\n                return uri.substring(dot);\n            } else {\n                // No extension.\n                return \"\";\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1437111500,"creation_date":1437111500,"answer_id":31469017,"question_id":605696,"body_markdown":"**Get** File **Name with Extension**, **without Extension**, **only Extension** with just 3 line:\r\n\r\n    String urlStr = &quot;http://www.example.com/yourpath/foler/test.png&quot;;\r\n\r\n    String fileName = urlStr.substring(urlStr.lastIndexOf(&#39;/&#39;)+1, urlStr.length());\r\n    String fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf(&#39;.&#39;));\r\n    String fileExtension = urlStr.substring(urlStr.lastIndexOf(&quot;.&quot;));\r\n\r\n    Log.i(&quot;File Name&quot;, fileName);\r\n    Log.i(&quot;File Name Without Extension&quot;, fileNameWithoutExtension);\r\n    Log.i(&quot;File Extension&quot;, fileExtension);\r\n\r\n\r\n**Log Result:**\r\n\r\n    File Name(13656): test.png\r\n    File Name Without Extension(13656): test\r\n    File Extension(13656): .png\r\n\r\nHope it will help you.","title":"Get file name from URL","body":"<p><strong>Get</strong> File <strong>Name with Extension</strong>, <strong>without Extension</strong>, <strong>only Extension</strong> with just 3 line:</p>\n\n<pre><code>String urlStr = \"http://www.example.com/yourpath/foler/test.png\";\n\nString fileName = urlStr.substring(urlStr.lastIndexOf('/')+1, urlStr.length());\nString fileNameWithoutExtension = fileName.substring(0, fileName.lastIndexOf('.'));\nString fileExtension = urlStr.substring(urlStr.lastIndexOf(\".\"));\n\nLog.i(\"File Name\", fileName);\nLog.i(\"File Name Without Extension\", fileNameWithoutExtension);\nLog.i(\"File Extension\", fileExtension);\n</code></pre>\n\n<p><strong>Log Result:</strong></p>\n\n<pre><code>File Name(13656): test.png\nFile Name Without Extension(13656): test\nFile Extension(13656): .png\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1448281416,"creation_date":1448281416,"answer_id":33871029,"question_id":605696,"body_markdown":"If you don&#39;t need to get rid of the file extension, here&#39;s a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:\r\n\r\n    import java.net.URI\r\n    import java.nio.file.Paths\r\n    \r\n    String url = &quot;http://example.org/file?p=foo&amp;q=bar&quot;\r\n    String filename = Paths.get(new URI(url).getPath()).getFileName().toString()","title":"Get file name from URL","body":"<p>If you don't need to get rid of the file extension, here's a way to do it without resorting to error-prone String manipulation and without using external libraries. Works with Java 1.7+:</p>\n\n<pre><code>import java.net.URI\nimport java.nio.file.Paths\n\nString url = \"http://example.org/file?p=foo&amp;q=bar\"\nString filename = Paths.get(new URI(url).getPath()).getFileName().toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1455617893,"creation_date":1455617893,"answer_id":35429735,"question_id":605696,"body_markdown":"    String fileName = url.substring(url.lastIndexOf(&#39;/&#39;) + 1);","title":"Get file name from URL","body":"<pre><code>String fileName = url.substring(url.lastIndexOf('/') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472119197,"creation_date":1472119197,"answer_id":39142179,"question_id":605696,"body_markdown":"If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:\r\n\r\n    public static String getFilenameFromURL(URL url) {\r\n        return new File(url.getPath().toString()).getName();\r\n    }\r\n\r\nFor example, this input URL:\r\n    \r\n    &quot;http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000&quot;\r\n\r\nWould be translated to this output String:\r\n\r\n    image.png","title":"Get file name from URL","body":"<p>If you want to get only the filename from a java.net.URL (not including any query parameters), you could use the following function:</p>\n\n<pre><code>public static String getFilenameFromURL(URL url) {\n    return new File(url.getPath().toString()).getName();\n}\n</code></pre>\n\n<p>For example, this input URL:</p>\n\n<pre><code>\"http://example.com/image.png?version=2&amp;amp;modificationDate=1449846324000\"\n</code></pre>\n\n<p>Would be translated to this output String:</p>\n\n<pre><code>image.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482244756,"creation_date":1482242869,"answer_id":41244248,"question_id":605696,"body_markdown":"I&#39;ve found that some urls when passed directly to `FilenameUtils.getName` return unwanted results and this needs to be wrapped up to avoid exploits.\n\nFor example, \n\n    System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n\nreturns\n\n&gt; ..\n\nwhich I doubt anyone wants to allow.\n\nThe following function seems to work fine, and shows some of these test cases, and it returns `null` when the filename can&#39;t be determined.\n\n    public static String getFilenameFromUrl(String url)\n    {\n        if (url == null)\n            return null;\n        \n        try\n        {\n            // Add a protocol if none found\n            if (! url.contains(&quot;//&quot;))\n                url = &quot;http://&quot; + url;\n\n            URL uri = new URL(url);\n            String result = FilenameUtils.getName(uri.getPath());\n\n            if (result == null || result.isEmpty())\n                return null;\n\n            if (result.contains(&quot;..&quot;))\n                return null;\n\n            return result;\n        }\n        catch (MalformedURLException e)\n        {\n            return null;\n        }\n    }\n   \n\n\n  \n### This is wrapped up with some simple tests cases in the following example:\n\n    import java.util.Objects;\n    import java.net.URL;\n    import org.apache.commons.io.FilenameUtils;\n    \n    class Main {\n    \n      public static void main(String[] args) {\n        validateFilename(null, null);\n        validateFilename(&quot;&quot;, null);\n        validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n        validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;http://www.google.com&quot;, null);\n        validateFilename(&quot;http://www.google.com#test&quot;, null);\n        validateFilename(&quot;http://www.google.com////&quot;, null);\n        validateFilename(&quot;www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/..&quot;, null);\n        validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n        validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n        validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n      }\n    \n      private static void validateFilename(String url, String expectedFilename){\n        String actualFilename = getFilenameFromUrl(url);\n    \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;url:&quot; + url);\n        System.out.println(&quot;filename:&quot; + expectedFilename);\n    \n        if (! Objects.equals(actualFilename, expectedFilename))\n          throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n      }\n    \n      public static String getFilenameFromUrl(String url)\n      {\n        if (url == null)\n          return null;\n    \n        try\n        {\n          // Add a protocol if none found\n          if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n    \n          URL uri = new URL(url);\n          String result = FilenameUtils.getName(uri.getPath());\n    \n          if (result == null || result.isEmpty())\n            return null;\n    \n          if (result.contains(&quot;..&quot;))\n            return null;\n    \n          return result;\n        }\n        catch (MalformedURLException e)\n        {\n          return null;\n        }\n      }\n    }\n\n","title":"Get file name from URL","body":"<p>I've found that some urls when passed directly to <code>FilenameUtils.getName</code> return unwanted results and this needs to be wrapped up to avoid exploits.</p>\n<p>For example,</p>\n<pre><code>System.out.println(FilenameUtils.getName(&quot;http://www.google.com/..&quot;));\n</code></pre>\n<p>returns</p>\n<blockquote>\n<p>..</p>\n</blockquote>\n<p>which I doubt anyone wants to allow.</p>\n<p>The following function seems to work fine, and shows some of these test cases, and it returns <code>null</code> when the filename can't be determined.</p>\n<pre><code>public static String getFilenameFromUrl(String url)\n{\n    if (url == null)\n        return null;\n    \n    try\n    {\n        // Add a protocol if none found\n        if (! url.contains(&quot;//&quot;))\n            url = &quot;http://&quot; + url;\n\n        URL uri = new URL(url);\n        String result = FilenameUtils.getName(uri.getPath());\n\n        if (result == null || result.isEmpty())\n            return null;\n\n        if (result.contains(&quot;..&quot;))\n            return null;\n\n        return result;\n    }\n    catch (MalformedURLException e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<h3>This is wrapped up with some simple tests cases in the following example:</h3>\n<pre><code>import java.util.Objects;\nimport java.net.URL;\nimport org.apache.commons.io.FilenameUtils;\n\nclass Main {\n\n  public static void main(String[] args) {\n    validateFilename(null, null);\n    validateFilename(&quot;&quot;, null);\n    validateFilename(&quot;www.google.com/../me/you?trex=5#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;www.google.com/../me/you?trex=5 is the num#sdf&quot;, &quot;you&quot;);\n    validateFilename(&quot;http://www.google.com/test.png?test&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;http://www.google.com&quot;, null);\n    validateFilename(&quot;http://www.google.com#test&quot;, null);\n    validateFilename(&quot;http://www.google.com////&quot;, null);\n    validateFilename(&quot;www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/..&quot;, null);\n    validateFilename(&quot;http://www.google.com/test&quot;, &quot;test&quot;);\n    validateFilename(&quot;https://www.google.com/../../test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/test.png&quot;, &quot;test.png&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex=5&quot;, &quot;you&quot;);\n    validateFilename(&quot;file://www.google.com/../me/you?trex&quot;, &quot;you&quot;);\n  }\n\n  private static void validateFilename(String url, String expectedFilename){\n    String actualFilename = getFilenameFromUrl(url);\n\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;url:&quot; + url);\n    System.out.println(&quot;filename:&quot; + expectedFilename);\n\n    if (! Objects.equals(actualFilename, expectedFilename))\n      throw new RuntimeException(&quot;Problem, actual=&quot; + actualFilename + &quot; and expected=&quot; + expectedFilename + &quot; are not equal&quot;);\n  }\n\n  public static String getFilenameFromUrl(String url)\n  {\n    if (url == null)\n      return null;\n\n    try\n    {\n      // Add a protocol if none found\n      if (! url.contains(&quot;//&quot;))\n        url = &quot;http://&quot; + url;\n\n      URL uri = new URL(url);\n      String result = FilenameUtils.getName(uri.getPath());\n\n      if (result == null || result.isEmpty())\n        return null;\n\n      if (result.contains(&quot;..&quot;))\n        return null;\n\n      return result;\n    }\n    catch (MalformedURLException e)\n    {\n      return null;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496234241,"creation_date":1496234241,"answer_id":44285041,"question_id":605696,"body_markdown":"Beyond the all advanced methods, my simple trick is `StringTokenizer`:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class URLName {\r\n    \tpublic static void main(String args[]){\r\n    \t\tString url = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    \t\tStringTokenizer tokens = new StringTokenizer(url, &quot;/&quot;);\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\twhile(tokens.hasMoreTokens()){\r\n    \t\t\tparts.add(tokens.nextToken());\r\n    \t\t}\r\n    \t\tString file = parts.get(parts.size() -1);\r\n    \t\tint dot = file.indexOf(&quot;.&quot;);\r\n    \t\tString fileName = file.substring(0, dot);\r\n    \t\tSystem.out.println(fileName);\r\n    \t}\r\n    }","title":"Get file name from URL","body":"<p>Beyond the all advanced methods, my simple trick is <code>StringTokenizer</code>:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.StringTokenizer;\n\npublic class URLName {\n    public static void main(String args[]){\n        String url = \"http://www.example.com/some/path/to/a/file.xml\";\n        StringTokenizer tokens = new StringTokenizer(url, \"/\");\n\n        ArrayList&lt;String&gt; parts = new ArrayList&lt;&gt;();\n\n        while(tokens.hasMoreTokens()){\n            parts.add(tokens.nextToken());\n        }\n        String file = parts.get(parts.size() -1);\n        int dot = file.indexOf(\".\");\n        String fileName = file.substring(0, dot);\n        System.out.println(fileName);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":137257,"reputation":4974,"user_id":341320,"accept_rate":76,"display_name":"juanmirocks"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1568118317,"creation_date":1510153998,"answer_id":47183212,"question_id":605696,"body_markdown":"One liner:\r\n\r\n\r\n    new File(uri.getPath).getName\r\n\r\n\r\nComplete code (in a scala REPL):\r\n\r\n\r\n    import java.io.File\r\n    import java.net.URI\r\n    \r\n    val uri = new URI(&quot;http://example.org/file.txt?whatever&quot;)\r\n    \r\n    new File(uri.getPath).getName\r\n    res18: String = file.txt\r\n\r\n**Note**: `URI#gePath` is already intelligent enough to strip off query parameters and the protocol&#39;s scheme. Examples:\r\n\r\n\r\n    new URI(&quot;http://example.org/hey/file.txt?whatever&quot;).getPath\r\n    res20: String = /hey/file.txt\r\n    \r\n    new URI(&quot;hdfs:///hey/file.txt&quot;).getPath\r\n    res21: String = /hey/file.txt\r\n    \r\n    new URI(&quot;file:///hey/file.txt&quot;).getPath\r\n    res22: String = /hey/file.txt","title":"Get file name from URL","body":"<p>One liner:</p>\n\n<pre><code>new File(uri.getPath).getName\n</code></pre>\n\n<p>Complete code (in a scala REPL):</p>\n\n<pre><code>import java.io.File\nimport java.net.URI\n\nval uri = new URI(\"http://example.org/file.txt?whatever\")\n\nnew File(uri.getPath).getName\nres18: String = file.txt\n</code></pre>\n\n<p><strong>Note</strong>: <code>URI#gePath</code> is already intelligent enough to strip off query parameters and the protocol's scheme. Examples:</p>\n\n<pre><code>new URI(\"http://example.org/hey/file.txt?whatever\").getPath\nres20: String = /hey/file.txt\n\nnew URI(\"hdfs:///hey/file.txt\").getPath\nres21: String = /hey/file.txt\n\nnew URI(\"file:///hey/file.txt\").getPath\nres22: String = /hey/file.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279796,"reputation":74,"user_id":3858815,"display_name":"EricE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510517777,"creation_date":1510517777,"answer_id":47253488,"question_id":605696,"body_markdown":"The `Url` object in [urllib][1] allows you to access the path&#39;s unescaped filename. Here are some examples:\r\n\r\n    String raw = &quot;http://www.example.com/some/path/to/a/file.xml&quot;;\r\n    assertEquals(&quot;file.xml&quot;, Url.parse(raw).path().filename());\r\n\r\n    raw = &quot;http://www.example.com/files/r%C3%A9sum%C3%A9.pdf&quot;;\r\n    assertEquals(&quot;r&#233;sum&#233;.pdf&quot;, Url.parse(raw).path().filename());\r\n\r\n\r\n  [1]: https://github.com/EricEdens/urllib","title":"Get file name from URL","body":"<p>The <code>Url</code> object in <a href=\"https://github.com/EricEdens/urllib\" rel=\"nofollow noreferrer\">urllib</a> allows you to access the path's unescaped filename. Here are some examples:</p>\n\n<pre><code>String raw = \"http://www.example.com/some/path/to/a/file.xml\";\nassertEquals(\"file.xml\", Url.parse(raw).path().filename());\n\nraw = \"http://www.example.com/files/r%C3%A9sum%C3%A9.pdf\";\nassertEquals(\"résumé.pdf\", Url.parse(raw).path().filename());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5000772,"reputation":534,"user_id":4019879,"display_name":"Giang Phan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1530950225,"creation_date":1530950225,"answer_id":51221150,"question_id":605696,"body_markdown":"There are some ways:\r\n\r\n**Java 7 File I/O:**\r\n\r\n    String fileName = Paths.get(strUrl).getFileName().toString();\r\n\r\n**Apache Commons:**\r\n\r\n    String fileName = FilenameUtils.getName(strUrl);\r\n\r\n**Using Jersey:**\r\n\r\n    UriBuilder buildURI = UriBuilder.fromUri(strUrl);\r\n    URI uri = buildURI.build();\r\n    String fileName = Paths.get(uri.getPath()).getFileName();\r\n\r\n**Substring:**\r\n\r\n    String fileName = strUrl.substring(strUrl.lastIndexOf(&#39;/&#39;) + 1);\r\n\r\n","title":"Get file name from URL","body":"<p>There are some ways:</p>\n\n<p><strong>Java 7 File I/O:</strong></p>\n\n<pre><code>String fileName = Paths.get(strUrl).getFileName().toString();\n</code></pre>\n\n<p><strong>Apache Commons:</strong></p>\n\n<pre><code>String fileName = FilenameUtils.getName(strUrl);\n</code></pre>\n\n<p><strong>Using Jersey:</strong></p>\n\n<pre><code>UriBuilder buildURI = UriBuilder.fromUri(strUrl);\nURI uri = buildURI.build();\nString fileName = Paths.get(uri.getPath()).getFileName();\n</code></pre>\n\n<p><strong>Substring:</strong></p>\n\n<pre><code>String fileName = strUrl.substring(strUrl.lastIndexOf('/') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14892216,"reputation":9,"user_id":10935531,"display_name":"Via Marie Inte"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1549853318,"creation_date":1549853318,"answer_id":54623329,"question_id":605696,"body_markdown":"I have the same problem, with yours. I solved it by this:\r\n\r\n    var URL = window.location.pathname; // Gets page name\r\n    var page = URL.substring(URL.lastIndexOf(&#39;/&#39;) + 1); \r\n    console.info(page)\r\n","title":"Get file name from URL","body":"<p>I have the same problem, with yours. I solved it by this:</p>\n\n<pre><code>var URL = window.location.pathname; // Gets page name\nvar page = URL.substring(URL.lastIndexOf('/') + 1); \nconsole.info(page)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4392368,"reputation":2150,"user_id":3580357,"display_name":"Benjamin Caure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567598929,"creation_date":1567598929,"answer_id":57788089,"question_id":605696,"body_markdown":"If you are using **Spring**, there is a [helper](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html) to handle URIs.\r\nHere is the solution:\r\n\r\n\r\n    List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\r\n    String filename = pathSegments.get(pathSegments.size()-1);","title":"Get file name from URL","body":"<p>If you are using <strong>Spring</strong>, there is a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponentsBuilder.html\" rel=\"nofollow noreferrer\">helper</a> to handle URIs.\nHere is the solution:</p>\n\n<pre><code>List&lt;String&gt; pathSegments = UriComponentsBuilder.fromUriString(url).build().getPathSegments();\nString filename = pathSegments.get(pathSegments.size()-1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218716,"reputation":11,"user_id":1185798,"display_name":"GangrenaGastrit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583944511,"creation_date":1583944511,"answer_id":60640685,"question_id":605696,"body_markdown":"return new File(Uri.parse(url).getPath()).getName()","title":"Get file name from URL","body":"<p>return new File(Uri.parse(url).getPath()).getName()</p>\n"},{"tags":[],"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658347203,"creation_date":1658347203,"answer_id":73057493,"question_id":605696,"body_markdown":"String fileNameWithExtension = url.substring( url.lastIndexOf(&#39;/&#39;)+1);\r\n\r\nString fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf(&#39;.&#39;));","title":"Get file name from URL","body":"<p>String fileNameWithExtension = url.substring( url.lastIndexOf('/')+1);</p>\n<p>String fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf('.'));</p>\n"},{"tags":[],"owner":{"account_id":28154175,"reputation":1,"user_id":21515151,"display_name":"Sticky Bandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680060877,"creation_date":1680060706,"answer_id":75872895,"question_id":605696,"body_markdown":"All these answers are either too much code or don&#39;t address if the url ends in a / or what if it ends in a ///.\r\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.\r\n\r\n    if(remoteURL!=null) {\r\n      String[] urlParts=remoteURL.split(&quot;/&quot;);\r\n      String filename=urlParts[urlParts.length-1];\r\n    }","title":"Get file name from URL","body":"<p>All these answers are either too much code or don't address if the url ends in a / or what if it ends in a ///.\nThis is what I used.  And I send it into a chooser save dialog so &quot;&quot; just means they have to type in a name.</p>\n<pre><code>if(remoteURL!=null) {\n  String[] urlParts=remoteURL.split(&quot;/&quot;);\n  String filename=urlParts[urlParts.length-1];\n}\n</code></pre>\n"}],"owner":{"account_id":4301,"reputation":7894,"user_id":6400,"accept_rate":90,"display_name":"Sietse"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251188,"favorite_count":0,"down_vote_count":1,"up_vote_count":178,"accepted_answer_id":17167743,"answer_count":29,"score":177,"last_activity_date":1680060877,"creation_date":1236072265,"question_id":605696,"body_markdown":"In Java, given a `java.net.URL` or a `String` in the form of `http://www.example.com/some/path/to/a/file.xml` , what is the easiest way to get the file name, minus the extension? So, in this example, I&#39;m looking for something that returns `&quot;file&quot;`. \r\n\r\nI can think of several ways to do this, but I&#39;m looking for something that&#39;s easy to read and short.","title":"Get file name from URL","body":"<p>In Java, given a <code>java.net.URL</code> or a <code>String</code> in the form of <code>http://www.example.com/some/path/to/a/file.xml</code> , what is the easiest way to get the file name, minus the extension? So, in this example, I'm looking for something that returns <code>\"file\"</code>. </p>\n\n<p>I can think of several ways to do this, but I'm looking for something that's easy to read and short.</p>\n"},{"tags":["java","spring","gradle","compilation","querydsl"],"owner":{"account_id":27295548,"reputation":11,"user_id":20813230,"display_name":"박민규"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680059723,"creation_date":1680057958,"question_id":75872681,"body_markdown":"inteliJ 2022.3.2\r\ngradle 7.6 version\r\n\r\n\\&lt;build.gradle\\&gt;\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\r\n    }\r\n    \r\n    group = &#39;heyuniverse&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n        querydsl.extendsFrom compileClasspath\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    //    implementation &#39;ch.pete.appconfig:appconfig:0.1.0&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n        implementation group: &#39;org.javassist&#39;, name: &#39;javassist&#39;, version: &#39;3.15.0-GA&#39;\r\n    \r\n        // === QueryDsl\r\n        implementation &#39;com.querydsl:querydsl-jpa:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties[&#39;querydsl.version&#39;]}:jakarta&quot;\r\n    //    annotationProcessor &#39;com.querydsl:querydsl-apt:5.0.0:jakarta&#39;\r\n        annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\r\n        annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\r\n    \r\n        //JWT\r\n        implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-api&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-impl&#39;, version: &#39;0.11.2&#39;\r\n        runtimeOnly group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt-jackson&#39;, version: &#39;0.11.2&#39;\r\n    \r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    def querydslDir = &quot;$buildDir/generated/querydsl&quot;\r\n    \r\n    \r\n    clean {\r\n        delete file(&quot;build/generated&quot;)\r\n    }\r\n    \r\n    querydsl {\r\n        library = &quot;com.querydsl:querydsl-apt&quot;\r\n        jpa = true\r\n        querydslSourcesDir = querydslDir\r\n    }\r\n    \r\n    sourceSets {\r\n        main.java.srcDir querydslDir\r\n    }\r\n    \r\n    compileQuerydsl {\r\n        options.annotationProcessorPath = configurations.querydsl\r\n    }\r\n\r\nI am developing a web application using the above development environment. \r\n\r\nI am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    \r\n    \r\n    Compilation failed; see the compiler error output for details.\r\n    \r\n    Try:\r\n    Run with --stacktrace option to get the stack trace.\r\n    \r\n    \r\n    Run with --info or --debug option to get more log output.\r\n    Run with --scan to get full insights.\r\n    \r\n    Get more help at https://help.gradle.org\r\n    BUILD FAILED in 4s\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n    \r\n    \r\n    error: Attempt to recreate a file for type xxx.xxx.QClass\r\n\r\nI have tried various solutions, but I haven&#39;t been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.\r\n\r\nI have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.\r\n","title":"An error occurs during the build process in a spring project","body":"<p>inteliJ 2022.3.2\ngradle 7.6 version</p>\n<p>&lt;build.gradle&gt;</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;com.ewerk.gradle.plugins.querydsl&quot; version &quot;1.0.10&quot;\n}\n\ngroup = 'heyuniverse'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    querydsl.extendsFrom compileClasspath\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n//    implementation 'ch.pete.appconfig:appconfig:0.1.0'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'org.javassist', name: 'javassist', version: '3.15.0-GA'\n\n    // === QueryDsl\n    implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'\n    annotationProcessor &quot;com.querydsl:querydsl-apt:${dependencyManagement.importedProperties['querydsl.version']}:jakarta&quot;\n//    annotationProcessor 'com.querydsl:querydsl-apt:5.0.0:jakarta'\n    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;\n    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;\n\n    //JWT\n    implementation group: 'io.jsonwebtoken', name: 'jjwt-api', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-impl', version: '0.11.2'\n    runtimeOnly group: 'io.jsonwebtoken', name: 'jjwt-jackson', version: '0.11.2'\n\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ndef querydslDir = &quot;$buildDir/generated/querydsl&quot;\n\n\nclean {\n    delete file(&quot;build/generated&quot;)\n}\n\nquerydsl {\n    library = &quot;com.querydsl:querydsl-apt&quot;\n    jpa = true\n    querydslSourcesDir = querydslDir\n}\n\nsourceSets {\n    main.java.srcDir querydslDir\n}\n\ncompileQuerydsl {\n    options.annotationProcessorPath = configurations.querydsl\n}\n</code></pre>\n<p>I am developing a web application using the above development environment.</p>\n<p>I am able to create and run QClasses using compileQuerydsl locally, but when I try to build using gradle to create a jar file for deployment, I encounter the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\nWhat went wrong:\nExecution failed for task ':compileJava'.\n\n\nCompilation failed; see the compiler error output for details.\n\nTry:\nRun with --stacktrace option to get the stack trace.\n\n\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nGet more help at https://help.gradle.org\nBUILD FAILED in 4s\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n\n\nerror: Attempt to recreate a file for type xxx.xxx.QClass\n</code></pre>\n<p>I have tried various solutions, but I haven't been able to find a solution. Could you please advise me on what might be causing the issue? Thank you so much in advance.</p>\n<p>I have tried various methods such as modifying the script in different ways and clearing the caches of IDE and Gradle, but I have not been able to obtain any results.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1421597851,"post_id":28011888,"comment_id":44411027,"body_markdown":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?","body":"Do you right-click on a folder that is one of the source roots ot test source roots folder of the project?"},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598154,"post_id":28011888,"comment_id":44411140,"body_markdown":"Added a screenshot @BranislavLazic.","body":"Added a screenshot @BranislavLazic."},{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":0,"creation_date":1421598181,"post_id":28011888,"comment_id":44411151,"body_markdown":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines","body":"@JBNizet see screenshot, think i&#39;m doing it correctly as this is how it worked in RubyMines"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1421598350,"post_id":28011888,"comment_id":44411212,"body_markdown":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer.","body":"Given the color of the folder, it&#39;s not a sources root folder. Read Bohuslav Burghardt&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1421599584,"creation_date":1421598130,"answer_id":28011967,"question_id":28011888,"body_markdown":"IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.\r\n\r\nIn your case, right click the `src/main` directory in the project structure view and select *Mark directory As/Sources Root*. That should fix it.\r\n\r\n---\r\n\r\nAlso, Gradle expects Java classes to be placed in `src/main/java` (and test Java classes in `src/test/java`) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.\r\n\r\nHere is a quote from [Gradle guide][1] regarding this issue:\r\n\r\n&gt; Gradle expects to find your production source code under src/main/java\r\n&gt; and your test source code under src/test/java\r\n\r\n\r\n  [1]: http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html","title":"IntelliJ how do I generate a new class?","body":"<p>IntelliJ will offer the option to create new class in the new menu, only if you right click within the part of your project structure, which is marked as Sources root or Test sources root.</p>\n\n<p>In your case, right click the <code>src/main</code> directory in the project structure view and select <em>Mark directory As/Sources Root</em>. That should fix it.</p>\n\n<hr>\n\n<p>Also, Gradle expects Java classes to be placed in <code>src/main/java</code> (and test Java classes in <code>src/test/java</code>) by default. I think that if you followed this convention, IntelliJ would mark those folders as (Test) Sources Root automatically. So maybe it would be better solution to adjust your project structure according to this convention.</p>\n\n<p>Here is a quote from <a href=\"http://www.gradle.org/docs/current/userguide/tutorial_java_projects.html\">Gradle guide</a> regarding this issue:</p>\n\n<blockquote>\n  <p>Gradle expects to find your production source code under src/main/java\n  and your test source code under src/test/java</p>\n</blockquote>\n"}],"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16381,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28011967,"answer_count":1,"score":10,"last_activity_date":1680059492,"creation_date":1421597673,"question_id":28011888,"body_markdown":"When I go to my project structure and right click -&gt; new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)\r\n\r\n![intellij][1]\r\n\r\n  [1]: http://i.stack.imgur.com/x3Luh.png","title":"IntelliJ how do I generate a new class?","body":"<p>When I go to my project structure and right click -> new, I only see new file/folder etc... but no class generation or packages. How do I get IntelliJ to do this? (I have Intellij 14 Ultimate - see image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/x3Luh.png\" alt=\"intellij\"></p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"score":1,"creation_date":1352376612,"post_id":13288735,"comment_id":18118401,"body_markdown":"What&#39;s the value given for ${java.home}?","body":"What&#39;s the value given for ${java.home}?"},{"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"score":0,"creation_date":1352376973,"post_id":13288735,"comment_id":18118537,"body_markdown":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?","body":"Are you running Maven from the command line or in an IDE like Eclipse or IntelliJ?"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377617,"post_id":13288735,"comment_id":18118810,"body_markdown":"@metalmadz JAVA_HOME is environment variable","body":"@metalmadz JAVA_HOME is environment variable"},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1352377643,"post_id":13288735,"comment_id":18118825,"body_markdown":"@cuberoot, i am running it from within the Eclipse","body":"@cuberoot, i am running it from within the Eclipse"},{"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"score":0,"creation_date":1352378287,"post_id":13288735,"comment_id":18119134,"body_markdown":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?","body":"I have always avoided placing the JDK/JREs in directories containing spaces (cf. &quot;Program Files&quot;) as that has been known to mess with Maven. Perhaps give that a try?"}],"answers":[{"tags":[],"owner":{"account_id":27595,"reputation":1973,"user_id":72985,"accept_rate":100,"display_name":"groodt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352378045,"creation_date":1352378045,"answer_id":13289242,"question_id":13288735,"body_markdown":"Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.\r\n\r\nMake sure you have set your JRE in Eclipse preferences to your desired JDK.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Sounds like you are running Maven in Eclipse. Eclipse does not consult JAVA_HOME.</p>\n\n<p>Make sure you have set your JRE in Eclipse preferences to your desired JDK.</p>\n"},{"tags":[],"owner":{"account_id":1791896,"reputation":2154,"user_id":1632075,"accept_rate":100,"display_name":"Maddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352378710,"creation_date":1352378710,"answer_id":13289356,"question_id":13288735,"body_markdown":"It seems your JAVA_HOME is set to point to the JRE in eclipse.","title":"Maven not picking JAVA_HOME correctly","body":"<p>It seems your JAVA_HOME is set to point to the JRE in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":46211,"reputation":29587,"user_id":136445,"accept_rate":70,"display_name":"Manfred Moser"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1352492246,"creation_date":1352397868,"answer_id":13295026,"question_id":13288735,"body_markdown":"You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. \r\n\r\nAlso in order to check what runtime Maven is using just call\r\n\r\n    mvn -v\r\n\r\nIf you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run \r\n \r\n    mvn dependency:tree\r\n\r\nor if that fails just remove one dependency after another until the problems is gone for the command above. \r\n\r\nThen, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You should NEVER use system scope dependencies. All the code in tools.jar will be available just via the running JVM already. You should remove this dependency altogether.. </p>\n\n<p>Also in order to check what runtime Maven is using just call</p>\n\n<pre><code>mvn -v\n</code></pre>\n\n<p>If you are still having a dependency to the tools jar as a problem, one of the dependencies you added has that dependency (and it is really bad quality). To find out which one it is run </p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>or if that fails just remove one dependency after another until the problems is gone for the command above. </p>\n\n<p>Then, when you know where it comes from you can decide what to do next. One path would be to use an exclusion on the dependency that pull tools in.</p>\n"},{"tags":[],"owner":{"account_id":35226,"reputation":9468,"user_id":99691,"accept_rate":40,"display_name":"gordy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360022888,"creation_date":1360022888,"answer_id":14698032,"question_id":13288735,"body_markdown":"When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.","title":"Maven not picking JAVA_HOME correctly","body":"<p>When you add the JAVA_HOME environment variable, if there are spaces in the path you must wrap the whole thing in quotes.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1423581414,"creation_date":1397726288,"answer_id":23129154,"question_id":13288735,"body_markdown":"It&#39;s a bug in the Eclipse Maven support. Eclipse doesn&#39;t support all of the global Maven properties as per the [**Maven specs**][1].\r\n\r\n  [1]: http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\r\n\r\nAccording to the specs:\r\n\r\n&gt; ${java.home} specifies the path to the current JRE_HOME environment\r\n&gt; use with relative paths to get for example\r\n\r\nAt least in Eclipse 4.3.1 that is not the case, here `java.home` always points to the *JRE that was used to launch Eclipse*, not the build JRE.\r\n\r\nTo fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to `eclipse.ini` (*before* `-vmargs`!):\r\n\r\n    -vm\r\n    C:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>It's a bug in the Eclipse Maven support. Eclipse doesn't support all of the global Maven properties as per the <a href=\"http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide\"><strong>Maven specs</strong></a>.</p>\n\n<p>According to the specs:</p>\n\n<blockquote>\n  <p>${java.home} specifies the path to the current JRE_HOME environment\n  use with relative paths to get for example</p>\n</blockquote>\n\n<p>At least in Eclipse 4.3.1 that is not the case, here <code>java.home</code> always points to the <em>JRE that was used to launch Eclipse</em>, not the build JRE.</p>\n\n<p>To fix the issue you need to start Eclipse using the JRE from the JDK by adding something like this to <code>eclipse.ini</code> (<em>before</em> <code>-vmargs</code>!):</p>\n\n<pre><code>-vm\nC:/&lt;your_path_to_jdk170&gt;/jre/bin/server/jvm.dll\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5159476,"reputation":21,"user_id":4131642,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413883851,"creation_date":1413883851,"answer_id":26483355,"question_id":13288735,"body_markdown":"Maven ${java.home} property is set and taken from different places depending your Eclipse execution: \r\n\r\n - from the default JRE selected for the workspace\r\n&gt; Window&gt;Preferences&gt;Java&gt;Installed JREs\r\n\r\n - from the specific Eclipse project, \r\n\r\n     &gt; Java Build Path&gt;Libraries&gt;JRE System Library\r\n\r\n - from the Run configuration.\r\n\r\n     &gt;Run Configurations&gt; Specific Run Configuration &gt; JRE\r\n\r\nRemember your JRE home paths points to a JDK or JRE under JDK\r\n\r\n","title":"Maven not picking JAVA_HOME correctly","body":"<p>Maven ${java.home} property is set and taken from different places depending your Eclipse execution: </p>\n\n<ul>\n<li><p>from the default JRE selected for the workspace</p>\n\n<blockquote>\n  <p>Window>Preferences>Java>Installed JREs</p>\n</blockquote></li>\n<li><p>from the specific Eclipse project, </p>\n\n<blockquote>\n  <p>Java Build Path>Libraries>JRE System Library</p>\n</blockquote></li>\n<li><p>from the Run configuration.</p>\n\n<blockquote>\n  <p>Run Configurations> Specific Run Configuration > JRE</p>\n</blockquote></li>\n</ul>\n\n<p>Remember your JRE home paths points to a JDK or JRE under JDK</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484869586,"creation_date":1484869586,"answer_id":41753759,"question_id":13288735,"body_markdown":"You might be using the wrong Maven installation. Switch it in Window &gt; Preferences &gt; Maven &gt; Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.\r\n\r\nI suspect what was causing this issue is that the Fedora Maven install was using Fedora&#39;s OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora&#39;s OpenJDK is weird and non-standard), so Maven can&#39;t find it.","title":"Maven not picking JAVA_HOME correctly","body":"<p>You might be using the wrong Maven installation. Switch it in Window > Preferences > Maven > Installations. I had mine set to the Fedora Maven install; changing it back to the default (the version embedded in m2e) fixed the problem for me.</p>\n\n<p>I suspect what was causing this issue is that the Fedora Maven install was using Fedora's OpenJDK, which probably puts tools.jar in a weird location (everything about Fedora's OpenJDK is weird and non-standard), so Maven can't find it.</p>\n"},{"tags":[],"owner":{"account_id":191465,"reputation":2509,"user_id":432053,"accept_rate":60,"display_name":"Vijay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580404722,"creation_date":1580404722,"answer_id":59991263,"question_id":13288735,"body_markdown":"Also look in the .mavenrc file in your home dir. \r\nThis caught me off guard. \r\n\r\nI changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. ","title":"Maven not picking JAVA_HOME correctly","body":"<p>Also look in the .mavenrc file in your home dir. \nThis caught me off guard. </p>\n\n<p>I changed everything as suggested only to find that my .mavenrc file set the JAVA_HOME to an older version. </p>\n"},{"tags":[],"owner":{"account_id":2453,"reputation":3435,"user_id":3419,"accept_rate":50,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631818381,"creation_date":1631818381,"answer_id":69213726,"question_id":13288735,"body_markdown":"Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.","title":"Maven not picking JAVA_HOME correctly","body":"<p>Check to see if you have a .mavenrc file, it may be forcing JAVA_HOME to be something other that what is set in the environment variable.</p>\n"},{"tags":[],"owner":{"account_id":25613331,"reputation":41,"user_id":19386384,"display_name":"Carlos Eduardo Gorges"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680057082,"creation_date":1680057082,"answer_id":75872615,"question_id":13288735,"body_markdown":"it&#39;s just a bug in maven support for eclipse. You can ignore this error for now.\r\n\r\nThe support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2&#39;s JDBC driver license) that never will resided in a public repository ...","title":"Maven not picking JAVA_HOME correctly","body":"<p>it's just a bug in maven support for eclipse. You can ignore this error for now.</p>\n<p>The support for local dependencies will be discontinued in near future, I think the maven developers understand this approach is not the best way to resolve this, but we know that exists some proprietary jars (like db2's JDBC driver license) that never will resided in a public repository ...</p>\n"}],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71903,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":23129154,"answer_count":10,"score":35,"last_activity_date":1680057082,"creation_date":1352376209,"question_id":13288735,"body_markdown":"I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.\r\n\r\nAs I added them maven started complaining for the missing `tools.jar`, so i added below to my `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen i ran the maven install, i got an error for the missing jar as below :\r\n\r\n    [ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\r\n\r\nThe issue is that the `tools.jar` is in &quot;`C:\\Program Files\\Java\\jdk1.6.0_26\\lib`&quot; and is correctly set in the `JAVA_HOME` environment variable but the maven is still looking in jre folder as in error message &quot;`C:\\Program Files\\Java\\jre6\\lib\\tools.jar`&quot;.\r\n\r\n    C:\\&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk1.6.0_26\r\n\r\n**Interestingly**: when i set the full path in dependency, it worked just fine. But i don&#39;t want to hard code it.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCan someone suggest any dynamic solution for this?","title":"Maven not picking JAVA_HOME correctly","body":"<p>I am on windows environment and using maven to compile my project. Although I just created the project and added the dependencies for various libararies.</p>\n\n<p>As I added them maven started complaining for the missing <code>tools.jar</code>, so i added below to my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${java.home}/../lib/tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When i ran the maven install, i got an error for the missing jar as below :</p>\n\n<pre><code>[ERROR] Failed to execute goal on project GApp: Could not resolve dependencies for project GApp:GApp:war:0.0.1-SNAPSHOT: Could not find artifact com.sun:tools:jar:1.6 at specified path C:\\Program Files\\Java\\jre6\\lib\\tools.jar -&gt; [Help 1]\n</code></pre>\n\n<p>The issue is that the <code>tools.jar</code> is in \"<code>C:\\Program Files\\Java\\jdk1.6.0_26\\lib</code>\" and is correctly set in the <code>JAVA_HOME</code> environment variable but the maven is still looking in jre folder as in error message \"<code>C:\\Program Files\\Java\\jre6\\lib\\tools.jar</code>\".</p>\n\n<pre><code>C:\\&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.6.0_26\n</code></pre>\n\n<p><strong>Interestingly</strong>: when i set the full path in dependency, it worked just fine. But i don't want to hard code it.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun&lt;/groupId&gt;\n  &lt;artifactId&gt;tools&lt;/artifactId&gt;\n  &lt;version&gt;1.6&lt;/version&gt;\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;C:\\Program Files\\Java\\jdk1.6.0_26\\lib\\tools.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can someone suggest any dynamic solution for this?</p>\n"},{"tags":["java","mysql","spring-boot","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680056748,"creation_date":1680056748,"answer_id":75872596,"question_id":75870191,"body_markdown":"Seems to me like perhaps your Spring code is trying to connect to some **local** MySQL instance? i.e. your `application-test.properties` Spring config is not using a remote server? `mysql -h` has nothing to do with your `mvn test` command... \r\n\r\nIn any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use [TestContainers](https://www.testcontainers.org/modules/databases/jdbc/) to start/run/stop a whole database server as part of your tests. \r\n\r\nOtherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you&#39;re really using at runtime will always do the correct thing. ","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>Seems to me like perhaps your Spring code is trying to connect to some <strong>local</strong> MySQL instance? i.e. your <code>application-test.properties</code> Spring config is not using a remote server? <code>mysql -h</code> has nothing to do with your <code>mvn test</code> command...</p>\n<p>In any case, connecting to external instances for tests is not recommended (for the exact reason you are seeing - if the database is unavailable for any reason, you cannot deploy anything).  If your Jenkins instances have Docker available, you can use <a href=\"https://www.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">TestContainers</a> to start/run/stop a whole database server as part of your tests.</p>\n<p>Otherwise, depending on your test coverage needs, you can mock the Spring Repository objects and query results, and trust that the library you're really using at runtime will always do the correct thing.</p>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680056748,"creation_date":1680030685,"question_id":75870191,"body_markdown":"I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:\r\n\r\nI have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.\r\n\r\nTo troubleshoot the issue, I am adding the following step for testing purposes:\r\n\r\n    stage(&#39;Run the test cases&#39;){\r\n     \tsteps{\r\n     \twithCredentials([usernamePassword(credentialsId: &#39;4a632d56-baf5-4455-90fe-21e6823f58f1&#39;, passwordVariable: &#39;password&#39;, usernameVariable: &#39;user&#39;)]) {\r\n            sh &quot;mysql connection&quot;\r\n            sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\r\n            sh &quot;connection testing done&quot;\r\n            sh &quot;mvn test&quot;\r\n        }\r\n     \t}\r\n    }\r\n\r\nI have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.\r\n\r\n**Error:\r\nERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/run/mysqld/mysqld.sock&#39; (2)**\r\n\r\nAny help would be really appeciated:","title":"Not able to run spring boot mvn test cases while using MySQL DB on Jenkins server","body":"<p>I am new to the Jenkins server and am currently testing it out. However, I am encountering an error with the following scenario:</p>\n<p>I have a Spring Boot application with a MySQL database, and I am attempting to run a test case on the Jenkins server. Unfortunately, the Jenkins server is unable to connect to the MySQL database.</p>\n<p>To troubleshoot the issue, I am adding the following step for testing purposes:</p>\n<pre><code>stage('Run the test cases'){\n    steps{\n    withCredentials([usernamePassword(credentialsId: '4a632d56-baf5-4455-90fe-21e6823f58f1', passwordVariable: 'password', usernameVariable: 'user')]) {\n        sh &quot;mysql connection&quot;\n        sh &quot;mysql -h 192.168.112.2 -umaninder -pmaninder&quot;\n        sh &quot;connection testing done&quot;\n        sh &quot;mvn test&quot;\n    }\n    }\n}\n</code></pre>\n<p>I have mentioned the IP address of the machine on which my MySQL Server is installed and I am able to connect with MySQL DB if I use the same command on Jenkins machine terminal but somehow here it is getting failed.</p>\n<p><strong>Error:\nERROR 2002 (HY000): Can't connect to local MySQL server through socket '/run/mysqld/mysqld.sock' (2)</strong></p>\n<p>Any help would be really appeciated:</p>\n"},{"tags":["javascript","python","java","selenium-webdriver","robotframework"],"owner":{"account_id":24349255,"reputation":1,"user_id":18285323,"display_name":"kahirrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680055875,"creation_date":1679910654,"question_id":75854316,"body_markdown":"How to perform localization testing on MAC OS.\r\n\r\nI am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.\r\n         \r\n```\r\n*** Settings ***\r\n    Documentation    Tests to check Rendering of webApps\r\n    Library    SeleniumLibrary\r\n    Resource     ../../../../../resources/commonFunctionality.robot\r\n    \r\n    *** Variables ***\r\n    ${googleF}     https://google.com\r\n\r\n    ${g1}      صور  \r\n    \r\n    *** Test Cases ***\r\n    \r\n    Arabic_Fragment_Win_WebApps_Rendering\r\n         [Documentation]     Test to check  websites are rendering in Arabic language\r\n         [Tags]     261FARAC\r\n          Open brower go to url google.com\r\n          Validate that google page is render in specified language\r\n          close browser\r\n    \r\n    *** Keywords ***\r\n    Open brower go to url google.com\r\n        ${options}=    Evaluate    sys.modules[&#39;selenium.webdriver&#39;].ChromeOptions()    sys, selenium.webdriver\r\n        #Call Method    ${options}    add_argument    --headless\r\n        Call Method    ${options}    add_argument    --no-sandbox\r\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\r\n        Call Method    ${options}    add_argument    --lang\\=ar\r\n        Create WebDriver    Chrome    chrome_options=${options}\r\n        go to    ${googleF}\r\n        maximize browser window\r\n        sleep  12 seconds\r\n    \r\n    Validate that google page is render in specified language\r\n        ${googlevalidation}=    get text     xpath://a[text()=&#39;صور&#39;]\r\n        log to console      ${googlevalidation}\r\n        should be equal as strings      ${g1}      ${googlevalidation}\r\n    \r\n```\r\n   ","title":"Localization testing in MAC system with selenium and robot framework","body":"<p>How to perform localization testing on MAC OS.</p>\n<p>I am running the below code to change the browser local to arabic language in windows system and it is working fine but same code I am using on MAC system it is opening the web page in English language only.</p>\n<pre><code>*** Settings ***\n    Documentation    Tests to check Rendering of webApps\n    Library    SeleniumLibrary\n    Resource     ../../../../../resources/commonFunctionality.robot\n    \n    *** Variables ***\n    ${googleF}     https://google.com\n\n    ${g1}      صور  \n    \n    *** Test Cases ***\n    \n    Arabic_Fragment_Win_WebApps_Rendering\n         [Documentation]     Test to check  websites are rendering in Arabic language\n         [Tags]     261FARAC\n          Open brower go to url google.com\n          Validate that google page is render in specified language\n          close browser\n    \n    *** Keywords ***\n    Open brower go to url google.com\n        ${options}=    Evaluate    sys.modules['selenium.webdriver'].ChromeOptions()    sys, selenium.webdriver\n        #Call Method    ${options}    add_argument    --headless\n        Call Method    ${options}    add_argument    --no-sandbox\n        Call Method    ${options}    add_argument    --disable-dev-shm-usage\n        Call Method    ${options}    add_argument    --lang\\=ar\n        Create WebDriver    Chrome    chrome_options=${options}\n        go to    ${googleF}\n        maximize browser window\n        sleep  12 seconds\n    \n    Validate that google page is render in specified language\n        ${googlevalidation}=    get text     xpath://a[text()='صور']\n        log to console      ${googlevalidation}\n        should be equal as strings      ${g1}      ${googlevalidation}\n    \n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"score":0,"creation_date":1683524794,"post_id":75872462,"comment_id":134374200,"body_markdown":"I got this working","body":"I got this working"}],"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054939,"creation_date":1680054939,"question_id":75872462,"body_markdown":"I&#39;m displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.\r\n```\r\n&lt;table&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt; ID &lt;/th&gt;\r\n            &lt;th&gt; Date &lt;/th&gt;\r\n            &lt;th&gt; User &lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\r\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\r\n            &lt;/form&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\n[image of times in html table](https://i.stack.imgur.com/zGr79.png)\r\n\r\nThe thing I&#39;m having a problem with is adding the time to a user that selects it. I&#39;m using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.\r\n```\r\n@PostMapping(&quot;/add_time_user&quot;)\r\npublic String addTime(Authentication authentication, Time time) {\r\n    if (authentication != null) {\r\n        User user = userService.getUser(authentication.getName());\r\n        user.setTime(time.getTime());\r\n    }\r\n    System.out.println(time.getId());\r\n    System.out.println(authentication.getName());\r\n\r\n    return &quot;redirect:/times&quot;;\r\n}\r\n```\r\nWhen I tried this though, the time was always null but I was able to retrieve the user. I don&#39;t know if I&#39;m sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I&#39;d try it with this.\r\n\r\nI also looked into another selection option but it was a drop down and I&#39;m looking for using the button next to the item in a list.","title":"How do I select an item from a table or ordered list in thymeleaf and assign a value from the list to a user?","body":"<p>I'm displaying times into a table in thymeleaf that have a Long id, SQL Date time, and Long user which holds the ID of a user who selects the time.</p>\n<pre><code>&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt; ID &lt;/th&gt;\n            &lt;th&gt; Date &lt;/th&gt;\n            &lt;th&gt; User &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr th:if=&quot;${times.empty}&quot;&gt;\n            &lt;td colspan=&quot;2&quot;&gt; No Times Available &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr th:each=&quot;time : ${times}&quot;&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/add_time_user}&quot; th:object=&quot;${time}&quot; method=&quot;post&quot;&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.id}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;h4 th:text=&quot;${time.time}&quot;&gt;&lt;/h4&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Select&quot; /&gt;&lt;/td&gt;\n            &lt;/form&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zGr79.png\" rel=\"nofollow noreferrer\">image of times in html table</a></p>\n<p>The thing I'm having a problem with is adding the time to a user that selects it. I'm using this PostMapping to try to add a time to a user by getting them from the database by the username from their auth and then adding the time to user and saving it.</p>\n<pre><code>@PostMapping(&quot;/add_time_user&quot;)\npublic String addTime(Authentication authentication, Time time) {\n    if (authentication != null) {\n        User user = userService.getUser(authentication.getName());\n        user.setTime(time.getTime());\n    }\n    System.out.println(time.getId());\n    System.out.println(authentication.getName());\n\n    return &quot;redirect:/times&quot;;\n}\n</code></pre>\n<p>When I tried this though, the time was always null but I was able to retrieve the user. I don't know if I'm sending the data the right way but the registration for a user sends the user data to a different url and then processes it, so I thought I'd try it with this.</p>\n<p>I also looked into another selection option but it was a drop down and I'm looking for using the button next to the item in a list.</p>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":28153595,"reputation":1,"user_id":21514663,"display_name":"Tresmail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680054916,"creation_date":1680054916,"question_id":75872460,"body_markdown":"Get the key and values of a record/struct from a Bigquery Java result. \r\n\r\n\r\n\r\n```\r\n\t\tBigQuery bigquery = BigQueryOptions.newBuilder()\r\n\t\t    .setCredentials(credentials)\r\n\t\t    .build()\r\n\t\t    .getService();\r\n\r\n\r\n\t\tQueryJobConfiguration queryConfig =\r\n\t\t    QueryJobConfiguration.newBuilder(\r\n\t\t        &quot;SELECT * FROM `table` LIMIT 2&quot;)\r\n\t\t    \t.setUseLegacySql(false)\r\n\t\t        .build();\r\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n    \r\n        queryJob = queryJob.waitFor();\r\n    \r\n        if (queryJob == null) {\r\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\r\n        } \r\n        else if (queryJob.getStatus().getError() != null) {\r\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\r\n        }\r\n        TableResult result = queryJob.getQueryResults();\r\n\t\tfor (FieldValueList row : result.iterateAll()) {\r\n\t\t\t  FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\r\n\t\t\t  FieldValueList tRow = tFieldValue.getRecordValue();\r\n}\r\n```\r\nI can&#39;t find any functionality within the Bigquery API that allows you to find the key and value pairs. I&#39;ve looked at the schema:\r\n`\t\tSchema schema = result.getSchema(); `, and it does show that the value is indeed returning as a record with repeated fields.","title":"Get the key value pair of record fields","body":"<p>Get the key and values of a record/struct from a Bigquery Java result.</p>\n<pre><code>        BigQuery bigquery = BigQueryOptions.newBuilder()\n            .setCredentials(credentials)\n            .build()\n            .getService();\n\n\n        QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(\n                &quot;SELECT * FROM `table` LIMIT 2&quot;)\n                .setUseLegacySql(false)\n                .build();\n        JobId jobId = JobId.of(UUID.randomUUID().toString());\n        Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n    \n        queryJob = queryJob.waitFor();\n    \n        if (queryJob == null) {\n          throw new RuntimeException(&quot;Job no longer exists&quot;);\n        } \n        else if (queryJob.getStatus().getError() != null) {\n          throw new RuntimeException(queryJob.getStatus().getError().toString());\n        }\n        TableResult result = queryJob.getQueryResults();\n        for (FieldValueList row : result.iterateAll()) {\n              FieldValue tFieldValue = row.get(&quot;fieldwithRecords&quot;);\n              FieldValueList tRow = tFieldValue.getRecordValue();\n}\n</code></pre>\n<p>I can't find any functionality within the Bigquery API that allows you to find the key and value pairs. I've looked at the schema:\n<code>      Schema schema = result.getSchema();</code>, and it does show that the value is indeed returning as a record with repeated fields.</p>\n"},{"tags":["java","firefox","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1416518972,"creation_date":1416517730,"answer_id":27049597,"question_id":27049514,"body_markdown":"`By.className` is looking for a class with the name entered.\r\n\r\n`By.cssSelector` is looking for a match for the selector you entered.\r\n\r\nWhat you&#39;re attempting is to match the text of the `div` against `class`, which won&#39;t work.\r\n\r\nYou can try something like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//div[contains(text(),&#39;&quot;+expectedText+&quot;&#39;)]&quot;)).click();","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p><code>By.className</code> is looking for a class with the name entered.</p>\n\n<p><code>By.cssSelector</code> is looking for a match for the selector you entered.</p>\n\n<p>What you're attempting is to match the text of the <code>div</code> against <code>class</code>, which won't work.</p>\n\n<p>You can try something like this:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(text(),'\"+expectedText+\"')]\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5359948,"reputation":1,"user_id":4271532,"display_name":"Anthony Long"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1545220521,"creation_date":1416517762,"answer_id":27049609,"question_id":27049514,"body_markdown":"I believe this will work:\r\n\r\n    driver.findElement(By.className(&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;).click();\r\n","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>I believe this will work:</p>\n\n<pre><code>driver.findElement(By.className(\"x-grid3-cell-inner x-grid3-col-expRepCol\").click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496633,"reputation":3080,"user_id":11179336,"display_name":"Ajeet Verma"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1680054824,"creation_date":1562035419,"answer_id":56844649,"question_id":27049514,"body_markdown":"    &lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\r\n    &lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\r\n\r\nThe above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.\r\n    \r\n    # for selenium old version:\r\n    driver.find_element_by_css_selector(&quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\n\r\n    # for selenium new version\r\n    driver.find_element(By.CSS_SELECTOR, &quot;div[class^=&#39;dd algo algo-sr&#39;]&quot;)\r\nIn the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.\r\n\r\nfind elements with css selector partial match on attribute values:\r\n[![find elements with css selector partial match on attribute values][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jbq1z.jpg","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<pre><code>&lt;div class=&quot;dd algo algo-sr Sr&quot; data-937=&quot;5d1abd07c5a33&quot;&gt;\n&lt;div class=&quot;dd algo algo-sr fst Sr&quot; data-0ab=&quot;5d1abd837d907&quot;&gt;\n</code></pre>\n<p>The above 2 are the HTML elements in yahoo search results. So if we wanna get these elements using a partial class name with selenium python, here is the solution.</p>\n<pre><code># for selenium old version:\ndriver.find_element_by_css_selector(&quot;div[class^='dd algo algo-sr']&quot;)\n\n# for selenium new version\ndriver.find_element(By.CSS_SELECTOR, &quot;div[class^='dd algo algo-sr']&quot;)\n</code></pre>\n<p>In the same way, we can get any elements with a partial match on any attribute values like class name, id, etc.</p>\n<p>find elements with css selector partial match on attribute values:\n<a href=\"https://i.stack.imgur.com/jbq1z.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jbq1z.jpg\" alt=\"find elements with css selector partial match on attribute values\" /></a></p>\n"}],"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32398,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27049597,"answer_count":3,"score":8,"last_activity_date":1680054824,"creation_date":1416517338,"question_id":27049514,"body_markdown":"In the frame I&#39;m working with, I have the following element:\r\n\r\n    &lt;div class=&quot;x-grid3-cell-inner x-grid3-col-expRepCol&quot;&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\r\n\r\nAs well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.className(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nAnd I have also tried with cssSelector:\r\n\r\n    String expectedText = &quot;New session from client IP&quot;;\r\n    driver.findElement(By.cssSelector(&quot;div[class*=&#39;&quot;+expectedText+&quot;&#39;]&quot;)).click();\r\n\r\nBut WebDriver keeps throwing an exception stating it&#39;s unable to locate that element.  Any suggestions as to what could be the problem?","title":"Selenium WebDriver Finding Element by Partial Class Name","body":"<p>In the frame I'm working with, I have the following element:</p>\n\n<pre><code>&lt;div class=\"x-grid3-cell-inner x-grid3-col-expRepCol\"&gt;  New session from client IP 192.168.5.3 (ST=/CC=/C=) at VIP 192.168.5.2 Listener /Common/Tomcat (Reputation=Unknown)&lt;/div&gt;\n</code></pre>\n\n<p>As well as many other similar elements.  I am trying to locate this element by partial name text and click it with the following code:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.className(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>And I have also tried with cssSelector:</p>\n\n<pre><code>String expectedText = \"New session from client IP\";\ndriver.findElement(By.cssSelector(\"div[class*='\"+expectedText+\"']\")).click();\n</code></pre>\n\n<p>But WebDriver keeps throwing an exception stating it's unable to locate that element.  Any suggestions as to what could be the problem?</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680088470,"post_id":75872435,"comment_id":133836832,"body_markdown":"You don&#39;t seem to have created a Docker network; see [How to communicate between Docker containers via &quot;hostname&quot;](https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695).  `localhost` in Docker is almost always the current container and not another container or the host system and you probably need a `docker run -e SPRING_DATASOURCE_URL=...` option to point your application container at the database.","body":"You don&#39;t seem to have created a Docker network; see <a href=\"https://stackoverflow.com/questions/30545023/how-to-communicate-between-docker-containers-via-hostname/35184695#35184695\">How to communicate between Docker containers via &quot;hostname&quot;</a>.  <code>localhost</code> in Docker is almost always the current container and not another container or the host system and you probably need a <code>docker run -e SPRING_DATASOURCE_URL=...</code> option to point your application container at the database."}],"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680054636,"creation_date":1680054636,"question_id":75872435,"body_markdown":"I am making a java spring boot application and I am having difficulties setting up the database.\r\n\r\nthis is my docker set up:\r\n\r\n\r\n```\r\n pull docker image \r\n\r\n $ docker pull mysql:latest\r\n\r\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\r\n \r\n now mysql server is running now let us pull the phpmyadmin and create the container\r\n\r\n $ docker pull phpmyadmin/phpmyadmin:latest\r\n\r\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\r\n```\r\nand this is my application.properties: \r\n\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=pass123\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n\r\n```\r\nEvery time I run the program I get this:\r\n\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nI tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.","title":"The driver has not received any packets from the server","body":"<p>I am making a java spring boot application and I am having difficulties setting up the database.</p>\n<p>this is my docker set up:</p>\n<pre><code> pull docker image \n\n $ docker pull mysql:latest\n\n $ docker run --name dev-mysql -e MYSQL_ROOT_PASSWORD=pass123 -d mysql:latest\n \n now mysql server is running now let us pull the phpmyadmin and create the container\n\n $ docker pull phpmyadmin/phpmyadmin:latest\n\n $ docker run --name dev-phpmyadmin -d --link dev-mysql:db -p 7098:80 phpmyadmin/phpmyadmin\n</code></pre>\n<p>and this is my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:7098/FitBuddy?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=pass123\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n</code></pre>\n<p>Every time I run the program I get this:</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.example.FitnessApplication.main(FitnessApplication.java:10) ~[main/:na]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I tried deleting and creating the containers again and based on the error the problem is in the connection not in the code.</p>\n"},{"tags":["java","maven","evosuite"],"answers":[{"tags":[],"owner":{"account_id":11323030,"reputation":89,"user_id":8302867,"display_name":"Rakesh Mahendrakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524078824,"creation_date":1524078824,"answer_id":49907385,"question_id":49883301,"body_markdown":"I guess you are looking at parameters which will be used to generate unit tests using maven:\r\nI use below maven command for me to generate and test\r\n\r\n    mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\r\n\r\nAbove command should be able to generate the tests and execute. \r\n\r\nYou can refer to this article if you need more information on the Evosuite with Maven http://www.evosuite.org/documentation/maven-plugin/","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>I guess you are looking at parameters which will be used to generate unit tests using maven:\nI use below maven command for me to generate and test</p>\n\n<pre><code>mvn clean compile -DmemoryInMB=2000 -Dcores=4 -DtimeInMinutesPerClass=10 evosuite:generate test\n</code></pre>\n\n<p>Above command should be able to generate the tests and execute. </p>\n\n<p>You can refer to this article if you need more information on the Evosuite with Maven <a href=\"http://www.evosuite.org/documentation/maven-plugin/\" rel=\"nofollow noreferrer\">http://www.evosuite.org/documentation/maven-plugin/</a></p>\n"}],"owner":{"account_id":10952630,"reputation":357,"user_id":8048523,"display_name":"ttk203"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680054292,"creation_date":1523982972,"question_id":49883301,"body_markdown":"When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:\r\n\r\n\r\n    $ java -jar evosuite-1.0.6.jar -listParameters\r\n    ...\r\n    sandbox              boolean        true               Execute tests in a sandbox environment\r\n    sandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\r\n    ...\r\n\r\nNormally those parameters are passed simply by `-D&lt;param&gt;=&lt;value&gt;`.\r\nHowever for my project I&#39;m using Maven and not invoking Evosuite direclty from the command line.\r\n\r\nI tried `mvn -D&lt;param&gt;=&lt;value&gt;` but it doesn&#39;t seem to work. Any idea on how to accomplish that ?\r\n\r\n","title":"How to pass EvoSuite parameters when using Maven?","body":"<p>When generating tests cases with Evosuite we can pass parameters several parameters, e.g.:</p>\n\n<pre><code>$ java -jar evosuite-1.0.6.jar -listParameters\n...\nsandbox              boolean        true               Execute tests in a sandbox environment\nsandbox_mode         SandboxMode    RECOMMENDED        Mode in which the sandbox is applied (Values: [OFF, RECOMMENDED\n...\n</code></pre>\n\n<p>Normally those parameters are passed simply by <code>-D&lt;param&gt;=&lt;value&gt;</code>.\nHowever for my project I'm using Maven and not invoking Evosuite direclty from the command line.</p>\n\n<p>I tried <code>mvn -D&lt;param&gt;=&lt;value&gt;</code> but it doesn't seem to work. Any idea on how to accomplish that ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":416696,"reputation":8975,"user_id":792232,"accept_rate":75,"display_name":"Abhi"},"score":0,"creation_date":1327306678,"post_id":8968687,"comment_id":11233751,"body_markdown":"refer this link http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query","body":"refer this link <a href=\"http://stackoverflow.com/questions/5332333/android-problem-getting-contacts-photo-from-data-email-query\" title=\"android problem getting contacts photo from data email query\">stackoverflow.com/questions/5332333/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":79683,"reputation":12454,"user_id":225780,"accept_rate":100,"display_name":"Adrian F&#226;ciu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327306767,"creation_date":1327306767,"answer_id":8968740,"question_id":8968687,"body_markdown":"You can use [ContactsContract.Contacts.Photo][1] to get the picture for the specified contact.\r\n\r\nFull example from the above documentation link:\r\n\r\n    public InputStream openDisplayPhoto(long contactId) {\r\n         Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\r\n         Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\r\n         try {\r\n             AssetFileDescriptor fd =\r\n                 getContentResolver().openAssetFileDescriptor(displayPhotoUri, &quot;r&quot;);\r\n             return fd.createInputStream();\r\n         } catch (IOException e) {\r\n             return null;\r\n         }\r\n     }\r\n\r\n  [1]: http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html","title":"how to get photo from contacts?","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/provider/ContactsContract.Contacts.Photo.html\" rel=\"nofollow\">ContactsContract.Contacts.Photo</a> to get the picture for the specified contact.</p>\n\n<p>Full example from the above documentation link:</p>\n\n<pre><code>public InputStream openDisplayPhoto(long contactId) {\n     Uri contactUri = ContentUris.withAppendedId(Contacts.CONTENT_URI, contactId);\n     Uri displayPhotoUri = Uri.withAppendedPath(contactUri, Contacts.Photo.DISPLAY_PHOTO);\n     try {\n         AssetFileDescriptor fd =\n             getContentResolver().openAssetFileDescriptor(displayPhotoUri, \"r\");\n         return fd.createInputStream();\n     } catch (IOException e) {\n         return null;\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":1185553,"reputation":540,"user_id":1159613,"accept_rate":50,"display_name":"Wolf87"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680053470,"answer_count":1,"score":1,"last_activity_date":1680053479,"creation_date":1327306355,"question_id":8968687,"body_markdown":"I want to get photo from contacts, if some contacts don&#39;t have photo to return default photo(just silhouette), how can I do that?\r\nThanks in advance,\r\nWolf.","title":"how to get photo from contacts?","body":"<p>I want to get photo from contacts, if some contacts don't have photo to return default photo(just silhouette), how can I do that?\nThanks in advance,\nWolf.</p>\n"},{"tags":["java","amazon-web-services","sdk","version"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1680053103,"post_id":75872156,"comment_id":133830292,"body_markdown":"Checking with the SDK team if V2 has an equilivant class.","body":"Checking with the SDK team if V2 has an equilivant class."}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680053457,"creation_date":1680053457,"answer_id":75872348,"question_id":75872156,"body_markdown":"This might be want you are looking for:\r\n\r\n[software.amazon.awssdk.core.util.VersionInfo][1]\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>This might be want you are looking for:</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/util/VersionInfo.html\" rel=\"nofollow noreferrer\">software.amazon.awssdk.core.util.VersionInfo</a></p>\n"}],"owner":{"account_id":3460669,"reputation":13,"user_id":9627598,"display_name":"W. Ely Paysinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75872348,"answer_count":1,"score":1,"last_activity_date":1680053457,"creation_date":1680050703,"question_id":75872156,"body_markdown":"Same question as [here](https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051) except for this question is for the [v2 sdk](https://sdk.amazonaws.com/java/api/latest/index.html).\r\n\r\n&gt; I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.\r\n&gt; \r\n&gt; Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?\r\n\r\n\r\n\r\nI&#39;ve tried looking in the [Github repo](https://github.com/aws/aws-sdk-java-v2) as well as the [API docs](https://sdk.amazonaws.com/java/api/latest/index.html)  but can&#39;t seem to find it.","title":"How do I get Java AWS SDK v2 version from code? (ie 2.20.34)","body":"<p>Same question as <a href=\"https://stackoverflow.com/questions/40617523/how-do-i-get-java-aws-sdk-version-from-code/40734051#40734051\">here</a> except for this question is for the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">v2 sdk</a>.</p>\n<blockquote>\n<p>I have my Java code running in some managed environment that provides AWS SDK. I found out that some methods on classes are unavailable in that environment compared to documentation for recent version of AWS SDK.</p>\n<p>Is there a way to programmatically find out version of AWS SDK that is available? Is there any information class that provides such information?</p>\n</blockquote>\n<p>I've tried looking in the <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">Github repo</a> as well as the <a href=\"https://sdk.amazonaws.com/java/api/latest/index.html\" rel=\"nofollow noreferrer\">API docs</a>  but can't seem to find it.</p>\n"},{"tags":["java","apache-commons-logging"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679956675,"post_id":75860461,"comment_id":133810963,"body_markdown":"Check whether you use `log4j` or `log4j2` as logging api. Depending on that your properties and configuration files may be named differently. https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","body":"Check whether you use <code>log4j</code> or <code>log4j2</code> as logging api. Depending on that your properties and configuration files may be named differently. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680043137,"creation_date":1680043137,"answer_id":75871645,"question_id":75860461,"body_markdown":"Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:\r\n\r\n    -Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\r\n\r\nSimple- I know- but I was missing the file: in my path.\r\n\r\n","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>Thank you to John Williams for his direction- it was very helpful in getting me on the right track.  It did not fully work.  What I ended up doing was the following:</p>\n<pre><code>-Dlog4j.configuration=&quot;file:/C:/Path/config/log4j.properties&quot;\n</code></pre>\n<p>Simple- I know- but I was missing the file: in my path.</p>\n"}],"owner":{"account_id":17423855,"reputation":694,"user_id":12628951,"display_name":"Jt5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75871645,"answer_count":1,"score":1,"last_activity_date":1680053398,"creation_date":1679952003,"question_id":75860461,"body_markdown":"I have a Java application that uses Apache Commons Logging. Currently the config file for this is in `src/main/resources/`. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.  \r\n\r\nI have tried the following to specify a directory named config which will be at the same level as the jar file:\r\n\r\n    static {\r\n       System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\r\n    }\r\n    private Log logger = LogFactory.getLog(MyClass.class);\r\n\r\nI have also tried:\r\n\r\n    -Dlog4j.configuration=file://./config/log4j.properties\r\n\r\nI have tried several variations of the -D, some with file, some without.\r\n\r\nHow do I move the configuration file to outside the Jar?","title":"Apache Commons Logging - How to move configuration file to outside the Jar?","body":"<p>I have a Java application that uses Apache Commons Logging. Currently the config file for this is in <code>src/main/resources/</code>. It runs and logs as I would like. The problem is that this config file gets compiled into the jar file. When it is deployed, this will be an issue. I need to be able to change logging levels etc once deployed. I understand Apache Commons Logging is a &quot;higher level&quot; implementation that actually uses another implementation underneath, in this case it is log4j.</p>\n<p>I have tried the following to specify a directory named config which will be at the same level as the jar file:</p>\n<pre><code>static {\n   System.setProperty(&quot;log4j.configuration&quot;,&quot;./config/log4j.properties&quot;);\n}\nprivate Log logger = LogFactory.getLog(MyClass.class);\n</code></pre>\n<p>I have also tried:</p>\n<pre><code>-Dlog4j.configuration=file://./config/log4j.properties\n</code></pre>\n<p>I have tried several variations of the -D, some with file, some without.</p>\n<p>How do I move the configuration file to outside the Jar?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680052460,"creation_date":1680052460,"answer_id":75872276,"question_id":74987912,"body_markdown":"This may not be the exact answer.\r\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\r\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.\r\n\r\n","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>This may not be the exact answer.\nI switched my IDE. Using Intellij now. Everything seemed to resolve by itself.\nVisual Studio Code is a great IDE. However, I now believe that we need some extra support when building spring-cloud applications. Especially when it comes to new learning.</p>\n"}],"owner":{"account_id":27415772,"reputation":1,"user_id":20914989,"display_name":"prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680052460,"creation_date":1672702340,"question_id":74987912,"body_markdown":"I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\r\nI am stuck at a point where the vsCode is not able to import the following two classes\r\n\r\n1. org.springframework.cloud.stream.annotation.Output\r\n2. org.springframework.messaging.MessageChannel\r\n\r\nThe Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project&#39;s build.gradle\r\n\r\n\r\n```\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-rabbit&#39;)\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-kafka&#39;)\r\n```\r\n\r\nI also tried adding the following in the cradle-wrapper.properties\r\n  distributionUrl=https\\://github.com/spring-cloud/spring-cloud-release.wiki.git\r\nhowever, it did not help\r\n\r\nHere is a portion of my build.gradle which describes the boot version, java version\r\n\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;product-composite-service&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11.0.16.1&#39;\r\n\r\n```\r\n\r\n```\r\next {\r\n\tspringCloudVersion = &quot;2021.0.5.RELEASE&quot;\r\n}\r\n\r\n```\r\n\r\nAlso based on \r\n\r\nThis is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.\r\n\r\n\r\nRegards,\r\nPrakash\r\n\r\n\r\n\r\n\r\nMentioned in the problem.","title":"Issue with importing org.springframework.cloud.stream.annotation.Output","body":"<p>I am following a book &quot;Hands-On Microservices with Spring Boot and Spring Cloud&quot; by Magnus Larsson. I am using vsCode IDE for coding. With hurdles, I was able to get to 40% of the book.\nI am stuck at a point where the vsCode is not able to import the following two classes</p>\n<ol>\n<li>org.springframework.cloud.stream.annotation.Output</li>\n<li>org.springframework.messaging.MessageChannel</li>\n</ol>\n<p>The Build tool used through out the book is Gradle. As directed, I have added the following in the dependencies in the corresponding project's build.gradle</p>\n<pre><code>    implementation('org.springframework.cloud:spring-cloud-starter-stream-rabbit')\n    implementation('org.springframework.cloud:spring-cloud-starter-stream-kafka')\n</code></pre>\n<p>I also tried adding the following in the cradle-wrapper.properties\ndistributionUrl=https://github.com/spring-cloud/spring-cloud-release.wiki.git\nhowever, it did not help</p>\n<p>Here is a portion of my build.gradle which describes the boot version, java version</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.4'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n}\n\ngroup = 'product-composite-service'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11.0.16.1'\n\n</code></pre>\n<pre><code>ext {\n    springCloudVersion = &quot;2021.0.5.RELEASE&quot;\n}\n\n</code></pre>\n<p>Also based on</p>\n<p>This is the first time I am building a java project with Gradle &amp; vsCode, so, please excuse my ignorance.</p>\n<p>Regards,\nPrakash</p>\n<p>Mentioned in the problem.</p>\n"},{"tags":["java","ssl-certificate"],"owner":{"account_id":2337062,"reputation":149,"user_id":2049142,"accept_rate":44,"display_name":"user2049142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680052990,"answer_count":0,"score":0,"last_activity_date":1680052069,"creation_date":1680052069,"question_id":75872254,"body_markdown":"I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I&#39;m just not sure how to do it. ","title":"How do I configure embedded tomcat server to use self signed certificate?","body":"<p>I have a simple spring boot web api application using java 20 and I just need to be able to test on localhost/8080. The app works fine; however, talend api tester refuses my requests, asking me if I have a valid certificate instead. Given difficulties with permissions, I created a keystore in a directory under /Home. I assume that I will need to configure my application.properties file, I'm just not sure how to do it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1680054140,"post_id":75871050,"comment_id":133830401,"body_markdown":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.\n\n&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;","body":"Starting with Android 13 and up. You must request runtime authorization to display a message. You must request POST_NOTIFICATIONS access.  &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680051647,"creation_date":1680051647,"answer_id":75872229,"question_id":75871050,"body_markdown":"Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:\r\n\r\n```\r\nnotificationManager.createNotificationChannel(\r\n            NotificationChannel(\r\n                CHANNEL_ID, CHANNEL_NAME,\r\n                NotificationManager.IMPORTANCE_DEFAULT\r\n            )\r\n        )\r\n```\r\nRead [here](https://developer.android.com/develop/ui/views/notifications/channels)\r\n\r\nFrom Android 13 onwards, request `POST_NOTIFICATIONS` runtime permission. Read [here](https://developer.android.com/develop/ui/views/notifications/notification-permission)","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<p>Starting from Android 8.0 and above, need to create notification channel before building a notification as follows:</p>\n<pre><code>notificationManager.createNotificationChannel(\n            NotificationChannel(\n                CHANNEL_ID, CHANNEL_NAME,\n                NotificationManager.IMPORTANCE_DEFAULT\n            )\n        )\n</code></pre>\n<p>Read <a href=\"https://developer.android.com/develop/ui/views/notifications/channels\" rel=\"nofollow noreferrer\">here</a></p>\n<p>From Android 13 onwards, request <code>POST_NOTIFICATIONS</code> runtime permission. Read <a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":18471408,"reputation":5,"user_id":13456203,"display_name":"THE Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680051647,"creation_date":1680037409,"question_id":75871050,"body_markdown":"```\r\npackage com.example.notification;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.res.ResourcesCompat;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\r\n    private  static final  int  NOTIFICATION_ID= 100;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\r\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\r\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\r\n\r\n\r\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\nNotification notification;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .setChannelId(CHANNEL_ID)\r\n                    .build();\r\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\r\n\r\n        } else{\r\n            notification= new Notification.Builder(this)\r\n                    .setLargeIcon(largeIcon)\r\n                    .setSmallIcon(R.drawable.handbag)\r\n                    .setContentText(&quot;new message&quot;)\r\n                    .setSubText(&quot;new message for khan&quot;)\r\n                    .build();\r\n\r\n        }\r\n        nm.notify(NOTIFICATION_ID,notification);\r\n    }\r\n}\r\n```\r\nhere is the code i write \r\n\r\n\r\ncan you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................","title":"i create an app for notification showing but when i run the app no notifiction is pop","body":"<pre><code>package com.example.notification;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.res.ResourcesCompat;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\nprivate  static final  String CHANNEL_ID =&quot; My channel&quot;;\n    private  static final  int  NOTIFICATION_ID= 100;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Drawable drawable= ResourcesCompat.getDrawable(getResources(),R.drawable.handbag,null);\n        BitmapDrawable bitmapDrawable= (BitmapDrawable)drawable;\n        Bitmap largeIcon = bitmapDrawable.getBitmap();\n\n\n        NotificationManager nm= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\nNotification notification;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .setChannelId(CHANNEL_ID)\n                    .build();\n            nm.createNotificationChannel((new NotificationChannel(CHANNEL_ID,&quot;New channel&quot;,NotificationManager.IMPORTANCE_HIGH)));\n\n        } else{\n            notification= new Notification.Builder(this)\n                    .setLargeIcon(largeIcon)\n                    .setSmallIcon(R.drawable.handbag)\n                    .setContentText(&quot;new message&quot;)\n                    .setSubText(&quot;new message for khan&quot;)\n                    .build();\n\n        }\n        nm.notify(NOTIFICATION_ID,notification);\n    }\n}\n</code></pre>\n<p>here is the code i write</p>\n<p>can you please tell me where my code goes wrong it have too show the notification when i open the app but no notification is there ..........................................................................................................................................</p>\n"},{"tags":["java","ansi-escape"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564623665,"post_id":57299879,"comment_id":101095124,"body_markdown":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like.","body":"Not all Consoles can work with these codes or give unexpected results and therefore it&#39;s basically a waste of time (in my opinion). If you want to add a little pizazz to your console application then perhaps consider displaying a JOptionPane. You can use HTML to format your text whichever way you like."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564645311,"post_id":57299879,"comment_id":101101000,"body_markdown":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console","body":"@DevilsHnd But the plugin says it is for eclipse users and if you look at the image you can clearly see bold/italic and underline examples on eclipse console"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1564647450,"post_id":57299879,"comment_id":101102153,"body_markdown":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this [SO Thread](https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes). This sort of thing will always give issues (imho).","body":"Oh..I&#39;m sorry. I was under the assumption that you wanted to utilize these codes for an application you are developing for anyone to use rather than everyone needing Eclipse for which to properly use the app. I assume you&#39;ve read this <a href=\"https://stackoverflow.com/questions/6286701/an-eclipse-console-view-that-respects-ansi-color-codes\">SO Thread</a>. This sort of thing will always give issues (imho)."},{"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"score":0,"creation_date":1564647835,"post_id":57299879,"comment_id":101102370,"body_markdown":"But you can see in the SO Thread link you gave people able to make it work.\nMy problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong","body":"But you can see in the SO Thread link you gave people able to make it work. My problem is that color is working with this plugin on my eclipse console but bold/underline and italic does not and I do not know why or what am I doing wrong"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":0,"creation_date":1608509919,"post_id":57299879,"comment_id":115598901,"body_markdown":"I supported, see first screenshot at https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold.","body":"I supported, see first screenshot at <a href=\"https://marketplace.eclipse.org/content/ansi-escape-console#group-screenshots\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>. But often the bold font is not very &quot;bold&quot; (and if the plugin is configured &quot;Windows style&quot;, with bold =&gt; intense, that makes it even less visible. Please file a bug if indeed is not bold."}],"owner":{"account_id":16426506,"reputation":145,"user_id":11866427,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680050914,"creation_date":1564614405,"question_id":57299879,"body_markdown":"I am using eclipse IDE latest version with this plugin:\r\n\r\n[https://github.com/mihnita/ansi-econsole][1]\r\n\r\nor\r\n\r\n[https://mihai-nita.net/java/][2]\r\n\r\nand\r\n\r\n[https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg][3]\r\n\r\nAnd like you can see in the picture the plugin should support **italic/bold/underline** \r\n\r\nBut I can not make it work.\r\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.\r\n\r\nI checked here:\r\n[https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println][4]\r\n\r\n\r\n\r\n\t\tSystem.out.println(&quot;Hello \\u001b[1;31mred\\u001b[0m world!&quot;);\r\n\t\tSystem.out.println(&quot;\\033[0;1m&quot; + &quot;Bold text&quot;);\r\n\t\tSystem.out.println(&quot;\\u001B[1m&quot; + &quot;I am bold&quot;);\r\n\r\n\r\nI want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin\r\n\r\n\r\n  [1]: https://github.com/mihnita/ansi-econsole\r\n  [2]: https://mihai-nita.net/java/\r\n  [3]: https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\r\n  [4]: https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","title":"Print bold text to console output","body":"<p>I am using eclipse IDE latest version with this plugin:</p>\n\n<p><a href=\"https://github.com/mihnita/ansi-econsole\" rel=\"nofollow noreferrer\">https://github.com/mihnita/ansi-econsole</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://mihai-nita.net/java/\" rel=\"nofollow noreferrer\">https://mihai-nita.net/java/</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg\" rel=\"nofollow noreferrer\">https://mihai-nita.net/wp-content/uploads/2013/06/AECSample.jpg</a></p>\n\n<p>And like you can see in the picture the plugin should support <strong>italic/bold/underline</strong> </p>\n\n<p>But I can not make it work.\nI can not understand why bold, italic and underline does not work I am able to print colored text with ANSI plugin.</p>\n\n<p>I checked here:\n<a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a></p>\n\n<pre><code>    System.out.println(\"Hello \\u001b[1;31mred\\u001b[0m world!\");\n    System.out.println(\"\\033[0;1m\" + \"Bold text\");\n    System.out.println(\"\\u001B[1m\" + \"I am bold\");\n</code></pre>\n\n<p>I want to see italic/underline and bold on console output texts but right now only colors and background colors worth with the plugin</p>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"owner":{"account_id":20132331,"reputation":21,"user_id":19057737,"display_name":"dumb163"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680050338,"creation_date":1680049494,"question_id":75872092,"body_markdown":"When I use Post method, i want generate a UUID and add relation with equipment_model, how can I do it?\r\n\r\n**equipment_model**\r\n\r\n*id: Unique identifier*\r\n\r\n*name: Name of equipament model*\r\n\r\n**equipment**\r\n\r\n\r\n*id: Unique identifier equipment*\r\n\r\n*equipment_model_id: foreign key to refer entity equipment_model*\r\n\r\n*name: Name of equipment*\r\n\r\nIm trying that:\r\n\r\n**Equipment  class**\r\n\r\n    @Entity\r\n    @Table(name = &quot;equipment&quot;, schema = &quot;operation&quot;)\r\n    public class Equipment implements Serializable{\r\n    \r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n    \tprivate UUID id;\r\n    \t\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;equipment_model_id&quot;, nullable = false)\r\n        private UUID  equipment_model_id;\r\n    \r\n        private String name;\r\n    \r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n        public UUID getEquipment_model_id() {\r\n            return equipment_model_id;\r\n        }\r\n        public void setEquipment_model_id(UUID equipment_model_id) {\r\n            this.equipment_model_id = equipment_model_id;\r\n        }\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n**Equipment_model class**\r\n\r\n    @Entity\r\n    public class Equipment_model implements Serializable{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\n    \tprivate UUID id;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic UUID getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(UUID id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}    \t\r\n    }\r\n\r\n\r\n**EquipmentResource class:**\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/&quot;)\r\n    @Tag(name = &quot;test&quot;,description = &quot;xd&quot;)\r\n    \r\n    public class EquipmentResource {\r\n    \r\n        @Autowired\r\n        private EquipmentRepository equipmentRepository;\r\n    \r\n        @GetMapping(&quot;/equipments&quot;)\r\n        public List&lt;Equipment&gt; listEquipments(){\r\n            return equipmentRepository.findAll();\r\n        }\r\n    \r\n        @PostMapping(&quot;/post&quot;)\r\n        public Equipment createEquipment(@RequestBody Equipment equipment) {\r\n            equipment.setId(UUID.randomUUID());\r\n            return equipmentRepository.save(equipment);\r\n        }  \r\n    }\r\n\r\n**Equipment repository**\r\n\r\n    public interface EquipmentRepository extends JpaRepository&lt;Equipment,UUID&gt;{\r\n    }\r\n\r\n`ERROR`:   &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [equipment_model_id\\&quot; of relation \\&quot;equipment]&quot;,\r\n\r\n","title":"How can I modify to use PostMapping and add relation with another class?","body":"<p>When I use Post method, i want generate a UUID and add relation with equipment_model, how can I do it?</p>\n<p><strong>equipment_model</strong></p>\n<p><em>id: Unique identifier</em></p>\n<p><em>name: Name of equipament model</em></p>\n<p><strong>equipment</strong></p>\n<p><em>id: Unique identifier equipment</em></p>\n<p><em>equipment_model_id: foreign key to refer entity equipment_model</em></p>\n<p><em>name: Name of equipment</em></p>\n<p>Im trying that:</p>\n<p><strong>Equipment  class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;equipment&quot;, schema = &quot;operation&quot;)\npublic class Equipment implements Serializable{\n\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n    \n    @GeneratedValue(strategy = GenerationType.UUID)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;equipment_model_id&quot;, nullable = false)\n    private UUID  equipment_model_id;\n\n    private String name;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public UUID getEquipment_model_id() {\n        return equipment_model_id;\n    }\n    public void setEquipment_model_id(UUID equipment_model_id) {\n        this.equipment_model_id = equipment_model_id;\n    }\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n}\n</code></pre>\n<p><strong>Equipment_model class</strong></p>\n<pre><code>@Entity\npublic class Equipment_model implements Serializable{\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n\n    private UUID id;\n    private String name;\n    \n    public UUID getId() {\n        return id;\n    }\n    public void setId(UUID id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }       \n}\n</code></pre>\n<p><strong>EquipmentResource class:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/&quot;)\n@Tag(name = &quot;test&quot;,description = &quot;xd&quot;)\n\npublic class EquipmentResource {\n\n    @Autowired\n    private EquipmentRepository equipmentRepository;\n\n    @GetMapping(&quot;/equipments&quot;)\n    public List&lt;Equipment&gt; listEquipments(){\n        return equipmentRepository.findAll();\n    }\n\n    @PostMapping(&quot;/post&quot;)\n    public Equipment createEquipment(@RequestBody Equipment equipment) {\n        equipment.setId(UUID.randomUUID());\n        return equipmentRepository.save(equipment);\n    }  \n}\n</code></pre>\n<p><strong>Equipment repository</strong></p>\n<pre><code>public interface EquipmentRepository extends JpaRepository&lt;Equipment,UUID&gt;{\n}\n</code></pre>\n<p><code>ERROR</code>:   &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [equipment_model_id&quot; of relation &quot;equipment]&quot;,</p>\n"},{"tags":["java","android","datepicker","datepickerdialog"],"comments":[{"owner":{"account_id":6283,"reputation":4942,"user_id":10505,"accept_rate":100,"display_name":"greg7gkb"},"score":0,"creation_date":1328649530,"post_id":8620781,"comment_id":11555728,"body_markdown":"Same issue is being reported by a few of our users (including a Droid x2 user), and we haven&#39;t been able to repro in-house either.","body":"Same issue is being reported by a few of our users (including a Droid x2 user), and we haven&#39;t been able to repro in-house either."},{"owner":{"account_id":957326,"reputation":1010,"user_id":982394,"accept_rate":50,"display_name":"HannahMitt"},"score":0,"creation_date":1339600164,"post_id":8620781,"comment_id":14402025,"body_markdown":"Also repros on the Motorola Razr","body":"Also repros on the Motorola Razr"},{"owner":{"account_id":6283,"reputation":4942,"user_id":10505,"accept_rate":100,"display_name":"greg7gkb"},"score":0,"creation_date":1343674794,"post_id":8620781,"comment_id":15561542,"body_markdown":"Anyone have updates on this?  We&#39;re still getting reports of it in the field... no access to a Razr unfortunately :(","body":"Anyone have updates on this?  We&#39;re still getting reports of it in the field... no access to a Razr unfortunately :("},{"owner":{"account_id":23966,"reputation":276,"user_id":60585,"display_name":"jrg"},"score":0,"creation_date":1387533989,"post_id":8620781,"comment_id":31004829,"body_markdown":"I have a Sony Xperia phone running an Android 4.1.1 which doesn&#39;t offer dates before 1980 in its Date Picker.","body":"I have a Sony Xperia phone running an Android 4.1.1 which doesn&#39;t offer dates before 1980 in its Date Picker."}],"answers":[{"tags":[],"owner":{"account_id":1119582,"reputation":20696,"user_id":1108213,"accept_rate":71,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324684020,"creation_date":1324676828,"answer_id":8620903,"question_id":8620781,"body_markdown":"Starting date of Android devices starts from Jan 1, 1970. Maybe this can be your case. Android calculates time as a number of milliseconds passed since Jan 1, 1970.\r\n\r\nI&#39;ve found a kind of hack for your case.\r\nHere I create dynamically datePicker:\r\n\r\n         DatePicker dp = new DatePicker(this);\r\n         dp.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\r\n         v.addView(dp);\r\n\r\nIn the manifest file I declare a custom theme for my application - I want the same theme for the application. By the way you can do the same for activity.\r\n\r\n     &lt;application\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot; \r\n        android:theme=&quot;@style/CustomTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HelloDatePickerActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\nIn a styles.xml I do this:\r\n\r\n    &lt;style name=&quot;CustomTheme&quot; parent=&quot;android:Theme.Light&quot;&gt;\r\n        &lt;item name=&quot;android:startYear&quot;&gt;1890&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nThe default start date in my case is 1900. Thus, for me this approach works.\r\n\r\nHope this will help you!","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>Starting date of Android devices starts from Jan 1, 1970. Maybe this can be your case. Android calculates time as a number of milliseconds passed since Jan 1, 1970.</p>\n\n<p>I've found a kind of hack for your case.\nHere I create dynamically datePicker:</p>\n\n<pre><code>     DatePicker dp = new DatePicker(this);\n     dp.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));\n     v.addView(dp);\n</code></pre>\n\n<p>In the manifest file I declare a custom theme for my application - I want the same theme for the application. By the way you can do the same for activity.</p>\n\n<pre><code> &lt;application\n    android:icon=\"@drawable/ic_launcher\"\n    android:label=\"@string/app_name\" \n    android:theme=\"@style/CustomTheme\"&gt;\n    &lt;activity\n        android:name=\".HelloDatePickerActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>In a styles.xml I do this:</p>\n\n<pre><code>&lt;style name=\"CustomTheme\" parent=\"android:Theme.Light\"&gt;\n    &lt;item name=\"android:startYear\"&gt;1890&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>The default start date in my case is 1900. Thus, for me this approach works.</p>\n\n<p>Hope this will help you!</p>\n"},{"tags":[],"owner":{"account_id":196333,"reputation":5086,"user_id":439716,"accept_rate":100,"display_name":"Telmo Marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324677505,"creation_date":1324677505,"answer_id":8620981,"question_id":8620781,"body_markdown":"I see you already tried something similar, but have you tried setting the following:\r\n\r\n    android:startYear=&quot;1900&quot;\r\n\r\ndirectly on the `DatePicker` XML?\r\n\r\nLike so:\r\n\r\n    &lt;DatePicker\r\n              android:startYear=&quot;1900&quot;\r\n              android:endYear=&quot;2100&quot;\r\n              android:layout_width=&quot;wrap_content&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n    &gt;&lt;/DatePicker&gt;\r\n\r\nReference: http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>I see you already tried something similar, but have you tried setting the following:</p>\n\n<pre><code>android:startYear=\"1900\"\n</code></pre>\n\n<p>directly on the <code>DatePicker</code> XML?</p>\n\n<p>Like so:</p>\n\n<pre><code>&lt;DatePicker\n          android:startYear=\"1900\"\n          android:endYear=\"2100\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n&gt;&lt;/DatePicker&gt;\n</code></pre>\n\n<p>Reference: <a href=\"http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html\" rel=\"nofollow\">http://kevsaidwhat.blogspot.com/2011/10/fun-with-android-datepicker-and-1970.html</a></p>\n"},{"tags":[],"owner":{"account_id":382762,"reputation":437,"user_id":738196,"display_name":"Keilaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680048004,"creation_date":1400863273,"answer_id":23834450,"question_id":8620781,"body_markdown":"I realize this question is a little old, and that this answer will not apply to older devices, but I&#39;ve recently been made aware of this issue on a newer device (the **Huawei Mediapad 7 Youth**), so I figured I&#39;d update this with newer information:\r\n\r\nStarting with API 11, the methods necessary to do this are exposed. Remember, while Calendar may use Unix Epoch as zero, Java (at least until ~JRE 8?) uses signed numbers, so negatives are completely acceptable. Thankfully you don&#39;t need to be fully aware of this, as this code runs fine:\r\n\r\n\t// This is API 11!\r\n\ttry {\r\n\t\t// Hack to (try to) force minDate to 1888 instead of 1970.\r\n\t\tDatePicker dp = dialog.getDatePicker();\r\n\t\tCalendar minCal = Calendar.getInstance();\r\n\t\tminCal.set(1888, Calendar.JANUARY, 1, 0, 0, 0);\r\n\t\tdp.setMinDate(minCal.getTimeInMillis());\r\n\r\n\t\tif (maxDate &gt; 0)\r\n\t\t\tdp.setMaxDate(maxDate);\r\n\t} catch (NoSuchMethodError e) {\r\n\t\tLog.w(TAG, &quot;Can&#39;t set min/max dates: device/Android version is too old.&quot;);\r\n\t}\r\n\r\nI used 1888 so that any reports stating this is the minimum will make it clear that the code was executed and not ignored/overridden. I should note I have not yet heard back whether or not this works on the reported device.\r\n\r\nedit: This is an old post. I think I did get confirmation but I don&#39;t remember at this point. Also, instead of try-catch this should likely check the API version instead. I&#39;ve learned much since the days of this post. :)","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>I realize this question is a little old, and that this answer will not apply to older devices, but I've recently been made aware of this issue on a newer device (the <strong>Huawei Mediapad 7 Youth</strong>), so I figured I'd update this with newer information:</p>\n<p>Starting with API 11, the methods necessary to do this are exposed. Remember, while Calendar may use Unix Epoch as zero, Java (at least until ~JRE 8?) uses signed numbers, so negatives are completely acceptable. Thankfully you don't need to be fully aware of this, as this code runs fine:</p>\n<pre><code>// This is API 11!\ntry {\n    // Hack to (try to) force minDate to 1888 instead of 1970.\n    DatePicker dp = dialog.getDatePicker();\n    Calendar minCal = Calendar.getInstance();\n    minCal.set(1888, Calendar.JANUARY, 1, 0, 0, 0);\n    dp.setMinDate(minCal.getTimeInMillis());\n\n    if (maxDate &gt; 0)\n        dp.setMaxDate(maxDate);\n} catch (NoSuchMethodError e) {\n    Log.w(TAG, &quot;Can't set min/max dates: device/Android version is too old.&quot;);\n}\n</code></pre>\n<p>I used 1888 so that any reports stating this is the minimum will make it clear that the code was executed and not ignored/overridden. I should note I have not yet heard back whether or not this works on the reported device.</p>\n<p>edit: This is an old post. I think I did get confirmation but I don't remember at this point. Also, instead of try-catch this should likely check the API version instead. I've learned much since the days of this post. :)</p>\n"},{"tags":[],"owner":{"account_id":2610832,"reputation":6512,"user_id":2260963,"display_name":"Manmohan Soni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411538796,"creation_date":1411538796,"answer_id":26009686,"question_id":8620781,"body_markdown":"Hi I found the solution for it. you can set the -ve value in the setMinDate() method and it works for me.\r\n\r\n    dp.setMinDate(-1576800000000L);","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>Hi I found the solution for it. you can set the -ve value in the setMinDate() method and it works for me.</p>\n\n<pre><code>dp.setMinDate(-1576800000000L);\n</code></pre>\n"}],"owner":{"account_id":24103,"reputation":27933,"user_id":61072,"accept_rate":56,"display_name":"esilver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4954,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1680048004,"creation_date":1324675729,"question_id":8620781,"body_markdown":"We have a member reporting that he is unable to set a date before Jan 1, 1970 on our DatePickerDialog. This issue does not repro for us.\r\n\r\nI am already aware that the DatePickerDialog does not expose the setMinDate/setMaxDate functions of the underlying DatePicker, so it would seem that some kind of handset maker-specific modification is affecting the minDate/maxDate.\r\n\r\nThis user reports he is running a Droid x2 on Verizon running 2.2 Froyo. While we believe he is correct in his description of his device model, many users are confused about the OS version, so he may be running 2.3.\r\n\r\nI attempted to solve this problem by adding this theme to my Activity:\r\n\r\n\t&lt;style name=&quot;profile_editor_theme&quot;&gt;\t    \r\n\t\t&lt;item name=&quot;android:endYear&quot;&gt;2025&lt;/item&gt;\r\n\t\t&lt;item name=&quot;android:startYear&quot;&gt;1910&lt;/item&gt;\r\n\t&lt;/style&gt;\r\n\r\nWhile this theme on my activity had the intended effect of constraining the DatePickerDialog on my test devices (a Galaxy tab and an original Motorola Droid), it apparently had no effect for the user. \r\n\r\nThis issue repros for our user 100% of the time, but works correctly for us on our own devices. \r\n\r\nCan anyone explain what might be causing this and how we could fix it? \r\n\r\nI have [filed this bug against Google][1] on this matter.\r\n\r\nThanks!\r\n\r\n\r\n  [1]: http://code.google.com/p/android/issues/detail?id=23481&amp;thanks=23481&amp;ts=1324675034","title":"DatePickerDialog incorrectly enforcing a minimum date of Jan 1, 1970","body":"<p>We have a member reporting that he is unable to set a date before Jan 1, 1970 on our DatePickerDialog. This issue does not repro for us.</p>\n\n<p>I am already aware that the DatePickerDialog does not expose the setMinDate/setMaxDate functions of the underlying DatePicker, so it would seem that some kind of handset maker-specific modification is affecting the minDate/maxDate.</p>\n\n<p>This user reports he is running a Droid x2 on Verizon running 2.2 Froyo. While we believe he is correct in his description of his device model, many users are confused about the OS version, so he may be running 2.3.</p>\n\n<p>I attempted to solve this problem by adding this theme to my Activity:</p>\n\n<pre><code>&lt;style name=\"profile_editor_theme\"&gt;     \n    &lt;item name=\"android:endYear\"&gt;2025&lt;/item&gt;\n    &lt;item name=\"android:startYear\"&gt;1910&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>While this theme on my activity had the intended effect of constraining the DatePickerDialog on my test devices (a Galaxy tab and an original Motorola Droid), it apparently had no effect for the user. </p>\n\n<p>This issue repros for our user 100% of the time, but works correctly for us on our own devices. </p>\n\n<p>Can anyone explain what might be causing this and how we could fix it? </p>\n\n<p>I have <a href=\"http://code.google.com/p/android/issues/detail?id=23481&amp;thanks=23481&amp;ts=1324675034\" rel=\"noreferrer\">filed this bug against Google</a> on this matter.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","xml","manifest"],"comments":[{"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"score":0,"creation_date":1533639130,"post_id":51724814,"comment_id":90410198,"body_markdown":"can  you post your Activity xml code","body":"can  you post your Activity xml code"},{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":0,"creation_date":1533639482,"post_id":51724814,"comment_id":90410404,"body_markdown":"Updated @Abhishekkumar","body":"Updated @Abhishekkumar"},{"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"score":0,"creation_date":1533639831,"post_id":51724814,"comment_id":90410630,"body_markdown":"Go with my Answer, sure it will work for you @Emmanuel","body":"Go with my Answer, sure it will work for you @Emmanuel"},{"owner":{"account_id":1353734,"reputation":5840,"user_id":1292557,"accept_rate":65,"display_name":"Abu Yousuf"},"score":0,"creation_date":1533640180,"post_id":51724814,"comment_id":90410831,"body_markdown":"No need to set `Activity` title programatically just set `label` in both `application` and `Activity` tag","body":"No need to set <code>Activity</code> title programatically just set <code>label</code> in both <code>application</code> and <code>Activity</code> tag"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1533640590,"post_id":51724814,"comment_id":90411100,"body_markdown":"I don&#39;t get your question What do you mean by `it changes the application name`? do you mean the name on launcher icon or name on ActionBar ?","body":"I don&#39;t get your question What do you mean by <code>it changes the application name</code>? do you mean the name on launcher icon or name on ActionBar ?"},{"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"score":0,"creation_date":1533640657,"post_id":51724814,"comment_id":90411141,"body_markdown":"Name of the launcher icon @ADM","body":"Name of the launcher icon @ADM"}],"answers":[{"tags":[],"owner":{"account_id":10559524,"reputation":1790,"user_id":7779712,"display_name":"mehul chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533639863,"creation_date":1533638836,"answer_id":51724920,"question_id":51724814,"body_markdown":"Remove this line from mainfests\r\n\r\n    android:label=&quot;@string/login_screen_label&quot;","title":"Activity android:label change application name","body":"<p>Remove this line from mainfests</p>\n\n<pre><code>android:label=\"@string/login_screen_label\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7733149,"reputation":622,"user_id":5855551,"display_name":"Neha Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533638964,"creation_date":1533638964,"answer_id":51724967,"question_id":51724814,"body_markdown":"    Toolbar toolBar = (Toolbar) findViewById(R.id.toolbar_actionbar);   \r\n    toolbar.setTitle(your label);\r\nif you are using AppTheme with Actionbar like DarkActionbar so you need to setup your toolbar and set title in toolbar as above \r\n    \r\n","title":"Activity android:label change application name","body":"<pre><code>Toolbar toolBar = (Toolbar) findViewById(R.id.toolbar_actionbar);   \ntoolbar.setTitle(your label);\n</code></pre>\n\n<p>if you are using AppTheme with Actionbar like DarkActionbar so you need to setup your toolbar and set title in toolbar as above </p>\n"},{"tags":[],"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533639699,"creation_date":1533639096,"answer_id":51725017,"question_id":51724814,"body_markdown":"You can go with below code inside your `onCreate()`\r\n\r\n    getSupportActionBar().setTitle(&quot;My title&quot;);\r\n\r\nFULL CODE :\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash_screen);\r\n        getSupportActionBar().setTitle(&quot;My title&quot;);\r\n\r\n      }\r\n    }\r\n","title":"Activity android:label change application name","body":"<p>You can go with below code inside your <code>onCreate()</code></p>\n\n<pre><code>getSupportActionBar().setTitle(\"My title\");\n</code></pre>\n\n<p>FULL CODE :</p>\n\n<pre><code>  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_splash_screen);\n    getSupportActionBar().setTitle(\"My title\");\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1353734,"reputation":5840,"user_id":1292557,"accept_rate":65,"display_name":"Abu Yousuf"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1533639680,"creation_date":1533639680,"answer_id":51725182,"question_id":51724814,"body_markdown":"Add `android:label=&quot;app name&quot;` in `application` tag \r\n\r\nUsing `android:label` in `application` tag will set Application name. And using `android:label` in `Activity` tag will set the title of the `Activity`.","title":"Activity android:label change application name","body":"<p>Add <code>android:label=\"app name\"</code> in <code>application</code> tag </p>\n\n<p>Using <code>android:label</code> in <code>application</code> tag will set Application name. And using <code>android:label</code> in <code>Activity</code> tag will set the title of the <code>Activity</code>.</p>\n"},{"tags":[],"owner":{"account_id":18450705,"reputation":11,"user_id":13462745,"display_name":"Loodle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680046957,"creation_date":1680046957,"answer_id":75871934,"question_id":51724814,"body_markdown":"That&#39;s right.\r\nAccording to android developer API documents, &#39;label&#39; in &#39;activity&#39; is first priority then in &#39;application&#39;.\r\n\r\nTo change in-app label use \r\n\r\n    title=&quot;&quot;\r\n\r\nIn\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n    }","title":"Activity android:label change application name","body":"<p>That's right.\nAccording to android developer API documents, 'label' in 'activity' is first priority then in 'application'.</p>\n<p>To change in-app label use</p>\n<pre><code>title=&quot;&quot;\n</code></pre>\n<p>In</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n}\n</code></pre>\n"}],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51725182,"answer_count":5,"score":1,"last_activity_date":1680046957,"creation_date":1533638535,"question_id":51724814,"body_markdown":"I started a new project without an activity, I then created my own and register them to manifest as below. But it seams whenever I placed a label on my LoginActivity it changes the application name.\r\n\r\n    &lt;application\r\n        android:name=&quot;.app.ApplicationController&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.LoginActivity&quot;\r\n            android:label=&quot;@string/login_screen_label&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.RegisterActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;/&gt;\r\n    \r\n    &lt;/application&gt;\r\n\r\nAnd my string resources \r\n\r\n    &lt;string name=&quot;app_name&quot;&gt;My ToDo&lt;/string&gt;\r\n    &lt;string name=&quot;login_screen_label&quot;&gt;Log in&lt;/string&gt;\r\nWhat am i doing wrong \r\n\r\n\r\nUPDATE `actitity_login.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;0dp&quot; &gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"Activity android:label change application name","body":"<p>I started a new project without an activity, I then created my own and register them to manifest as below. But it seams whenever I placed a label on my LoginActivity it changes the application name.</p>\n\n<pre><code>&lt;application\n    android:name=\".app.ApplicationController\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".activities.LoginActivity\"\n        android:label=\"@string/login_screen_label\"\n        android:launchMode=\"singleTop\"\n        android:windowSoftInputMode=\"adjustPan\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=\".activities.RegisterActivity\"\n        android:launchMode=\"singleTop\"\n        android:windowSoftInputMode=\"adjustPan\" /&gt;\n    &lt;activity\n        android:name=\".activities.MainActivity\"\n        android:launchMode=\"singleTop\"/&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>And my string resources </p>\n\n<pre><code>&lt;string name=\"app_name\"&gt;My ToDo&lt;/string&gt;\n&lt;string name=\"login_screen_label\"&gt;Log in&lt;/string&gt;\n</code></pre>\n\n<p>What am i doing wrong </p>\n\n<p>UPDATE <code>actitity_login.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"0dp\" &gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":2,"creation_date":1679674659,"post_id":75835225,"comment_id":133769130,"body_markdown":"use a **Multi Root Workspace**","body":"use a <b>Multi Root Workspace</b>"},{"owner":{"account_id":1852030,"reputation":2067,"user_id":1678371,"accept_rate":44,"display_name":"Lucian Thorr"},"score":0,"creation_date":1679678082,"post_id":75835225,"comment_id":133770020,"body_markdown":"As far as I can, multi root workspaces are essentially the opposite of what I&#39;m looking for.  I would like multiple settings.json files for the same root based on which folder I am in.  Mult-Root workspaces are establishing that disparate folders belong to the same project and settings.json configuration.","body":"As far as I can, multi root workspaces are essentially the opposite of what I&#39;m looking for.  I would like multiple settings.json files for the same root based on which folder I am in.  Mult-Root workspaces are establishing that disparate folders belong to the same project and settings.json configuration."},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":2,"creation_date":1679680675,"post_id":75835225,"comment_id":133770592,"body_markdown":"you have a separate settings.json per Workspace in the Multi Root Workspace","body":"you have a separate settings.json per Workspace in the Multi Root Workspace"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1679882562,"post_id":75835225,"comment_id":133795075,"body_markdown":"[multi-root workspaces](https://code.visualstudio.com/docs/editor/multi-root-workspaces) is the answer you were looking for.","body":"<a href=\"https://code.visualstudio.com/docs/editor/multi-root-workspaces\" rel=\"nofollow noreferrer\">multi-root workspaces</a> is the answer you were looking for."}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680046669,"creation_date":1679690945,"answer_id":75838021,"question_id":75835225,"body_markdown":"If appropriate for your use-case, use [multi-root workspaces](https://code.visualstudio.com/docs/editor/multi-root-workspaces). Each root workspace has its own `.vscode/settings` file, and settings can be applied to the whole multi-root workspace in its `.code-workspace` file.\r\n\r\nIt is currently not supported to have specific `settings.json` apply to specific subdirectories in regular workspaces. See the following issue tickets:\r\n\r\n- [Monolithic structure, multiple project settings\r\n#32693](https://github.com/microsoft/vscode/issues/32693)\r\n\r\n- [Add ability to extend from other settings files #15909](https://github.com/microsoft/vscode/issues/15909)\r\n\r\n&lt;sup&gt;&lt;sub&gt;[You can show your support for the feature-request by giving a thumbs up reaction to the issue. But please _don&#39;t_ make a &quot;me too&quot; comment.](https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions) &quot;me too&quot; comments generally come off as annoying to repo maintainers because they clutter up discussion and don&#39;t contribute anything of significant value.&lt;/sub&gt;&lt;/sup&gt;","title":"Is it possible to have multiple projects in a single VS Code workspace?","body":"<p>If appropriate for your use-case, use <a href=\"https://code.visualstudio.com/docs/editor/multi-root-workspaces\" rel=\"nofollow noreferrer\">multi-root workspaces</a>. Each root workspace has its own <code>.vscode/settings</code> file, and settings can be applied to the whole multi-root workspace in its <code>.code-workspace</code> file.</p>\n<p>It is currently not supported to have specific <code>settings.json</code> apply to specific subdirectories in regular workspaces. See the following issue tickets:</p>\n<ul>\n<li><p><a href=\"https://github.com/microsoft/vscode/issues/32693\" rel=\"nofollow noreferrer\">Monolithic structure, multiple project settings\n#32693</a></p>\n</li>\n<li><p><a href=\"https://github.com/microsoft/vscode/issues/15909\" rel=\"nofollow noreferrer\">Add ability to extend from other settings files #15909</a></p>\n</li>\n</ul>\n<p><sup><sub><a href=\"https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions\" rel=\"nofollow noreferrer\">You can show your support for the feature-request by giving a thumbs up reaction to the issue. But please <em>don't</em> make a &quot;me too&quot; comment.</a> &quot;me too&quot; comments generally come off as annoying to repo maintainers because they clutter up discussion and don't contribute anything of significant value.</sub></sup></p>\n"}],"owner":{"account_id":1852030,"reputation":2067,"user_id":1678371,"accept_rate":44,"display_name":"Lucian Thorr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680046669,"creation_date":1679669974,"question_id":75835225,"body_markdown":"I have a Java project and I&#39;m using VS Code with the Extensions for Java pack.  The project is essentially two separate applications. There&#39;s the app and there&#39;s its build tool.\r\nThey are both in the same repo and are essentially siblings, structure-wise.\r\n```\r\n/src/builder/java/xyz\r\n/src/main/java/xyz\r\n```\r\n\r\nThe problem is that they can have different, conflicting dependencies.\r\nCan I edit the `settings.json` such that I can set a `java.project.referencedLibraries` for each application separately?","title":"Is it possible to have multiple projects in a single VS Code workspace?","body":"<p>I have a Java project and I'm using VS Code with the Extensions for Java pack.  The project is essentially two separate applications. There's the app and there's its build tool.\nThey are both in the same repo and are essentially siblings, structure-wise.</p>\n<pre><code>/src/builder/java/xyz\n/src/main/java/xyz\n</code></pre>\n<p>The problem is that they can have different, conflicting dependencies.\nCan I edit the <code>settings.json</code> such that I can set a <code>java.project.referencedLibraries</code> for each application separately?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680045389,"creation_date":1680045389,"answer_id":75871822,"question_id":75871690,"body_markdown":"Change the return type of the Bean method that returns the `InMemoryUserDetailsManager` to `UserDetailsManager`. Also, remove `@EnableWebSecurity` from the controller; it&#39;s already present on your configuration.\r\n\r\n```java\r\n@Bean\r\npublic UserDetailsManager userDetailsManager() {\r\n    // ...\r\n    return new InMemoryUserDetailsManager(user);\r\n}\r\n```","title":"Injection of UserDetailsManager and AuthenticationManager fails","body":"<p>Change the return type of the Bean method that returns the <code>InMemoryUserDetailsManager</code> to <code>UserDetailsManager</code>. Also, remove <code>@EnableWebSecurity</code> from the controller; it's already present on your configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic UserDetailsManager userDetailsManager() {\n    // ...\n    return new InMemoryUserDetailsManager(user);\n}\n</code></pre>\n"}],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75871822,"answer_count":1,"score":1,"last_activity_date":1680045389,"creation_date":1680043653,"question_id":75871690,"body_markdown":"I want to inject UserDetailsManager and AuthenticationManager into a controller(AuthenticationController):\r\n\r\n```java\r\n@RestController\r\n@EnableWebSecurity\r\npublic class AuthenticationController {\r\n\r\n    private final UserDetailsManager userDetailsManager;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public AuthenticationController(\r\n            UserDetailsManager userDetailsManager,\r\n            AuthenticationManager authenticationManager) {\r\n        this.userDetailsManager = userDetailsManager;\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n}\r\n```\r\nThe configuration file should have already done that:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n   @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n}\r\n\r\n```\r\nHowever, I get the error when I start the app (SpringChatServerApplication)\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in haohanyang.springchat.server.controllers.AuthenticationController required a bean of type &#39;org.springframework.security.provisioning.UserDetailsManager&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.provisioning.UserDetailsManager&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\nIt worked when I had only one SpringBootApplication. The error occurred after I put the Client SpringBoot application into the project. But those configuration files are in the same context as the server app. According to project facets in the IDE.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe structure of project is \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny help is much appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xzD3z.png\r\n  [2]: https://i.stack.imgur.com/ZGDHp.png","title":"Injection of UserDetailsManager and AuthenticationManager fails","body":"<p>I want to inject UserDetailsManager and AuthenticationManager into a controller(AuthenticationController):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@EnableWebSecurity\npublic class AuthenticationController {\n\n    private final UserDetailsManager userDetailsManager;\n    private final AuthenticationManager authenticationManager;\n\n    @Autowired\n    public AuthenticationController(\n            UserDetailsManager userDetailsManager,\n            AuthenticationManager authenticationManager) {\n        this.userDetailsManager = userDetailsManager;\n        this.authenticationManager = authenticationManager;\n    }\n}\n</code></pre>\n<p>The configuration file should have already done that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n   @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n}\n\n</code></pre>\n<p>However, I get the error when I start the app (SpringChatServerApplication)</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in haohanyang.springchat.server.controllers.AuthenticationController required a bean of type 'org.springframework.security.provisioning.UserDetailsManager' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.provisioning.UserDetailsManager' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>It worked when I had only one SpringBootApplication. The error occurred after I put the Client SpringBoot application into the project. But those configuration files are in the same context as the server app. According to project facets in the IDE.</p>\n<p><a href=\"https://i.stack.imgur.com/ZGDHp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGDHp.png\" alt=\"enter image description here\" /></a></p>\n<p>The structure of project is</p>\n<p><a href=\"https://i.stack.imgur.com/xzD3z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xzD3z.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460656684,"creation_date":1460656324,"answer_id":36630470,"question_id":36630217,"body_markdown":"There are probably (way) better ways to organize this, but probably the cleanest fix is just to define a `boolean validate` parameter to the constructor of your cell implementation. (You really don&#39;t want the logic to be &quot;if the title of the column is equal to some specific text, then validate&quot;. You would be utterly screwed when your boss came in to the office and asked you to internationalize the application, or even just change the title of the column, for example.)\r\n\r\nUsing an entire inner class just to implement the callback seems completely redundant, but keeping that you would have to pass the parameter through it:\r\n\r\n    public static class TextFieldCellFactory\r\n            implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\r\n\r\n        private final boolean validate ;\r\n\r\n        public TextFieldCellFactory(boolean validate) {\r\n            this.validate = validate ;\r\n        }\r\n\r\n        @Override\r\n        public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\r\n            TextFieldCell textFieldCell = new TextFieldCell(validate);\r\n            return textFieldCell;\r\n\r\n        }\r\n\r\n        public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\r\n\r\n            private TextArea textField;\r\n            private StringProperty boundToCurrently = null;\r\n            private String last_text;\r\n\r\n            public TextFieldCell(boolean validate) {\r\n\r\n                textField = new TextArea();\r\n                textField.setWrapText(true);\r\n                textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\r\n                last_text=&quot;&quot;;\r\n\r\n\r\n\r\n                this.setGraphic(textField);\r\n\r\n                if (validate) {\r\n                    textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \r\n    //only if textfield is in the text2 column\r\n                        if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\r\n                        if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \r\n                            textField.setText(last_text);\r\n                            textField.selectAll();\r\n                            System.out.println(&quot;blur&quot;);\r\n    \r\n                        }\r\n    \r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n          // ...\r\n\r\n    }\r\n\r\nThen of course you just do\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n    clmtext.setMinWidth(160);\r\n    clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n    clmtext.setCellFactory(new TextFieldCellFactory(false));\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n    clmtext2.setMinWidth(160);\r\n    clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n    clmtext2.setCellFactory(new TextFieldCellFactory(true));\r\n\r\n\r\n(To properly answer your question, you can get the text of the column from within the cell to which it is attached with `getTableColumn().getText()`, but as I pointed out, actually basing the logic on the value displayed in a column header will make your code completely unmaintainable.)\r\n\r\nAnd I guess for completeness, I should also mention that your `TextFieldCellFactory` class looks like it is not really serving any purpose. I would remove it entirely and just have the `TextFieldCell` class, and do\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n    clmtext.setMinWidth(160);\r\n    clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n    clmtext.setCellFactory(c -&gt; new TextFieldCell(false));\r\n\r\n    TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n    clmtext2.setMinWidth(160);\r\n    clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n    clmtext2.setCellFactory(c -&gt; new TextFieldCell(true));\r\n\r\n","title":"javafx : get the name of the column","body":"<p>There are probably (way) better ways to organize this, but probably the cleanest fix is just to define a <code>boolean validate</code> parameter to the constructor of your cell implementation. (You really don't want the logic to be \"if the title of the column is equal to some specific text, then validate\". You would be utterly screwed when your boss came in to the office and asked you to internationalize the application, or even just change the title of the column, for example.)</p>\n\n<p>Using an entire inner class just to implement the callback seems completely redundant, but keeping that you would have to pass the parameter through it:</p>\n\n<pre><code>public static class TextFieldCellFactory\n        implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\n\n    private final boolean validate ;\n\n    public TextFieldCellFactory(boolean validate) {\n        this.validate = validate ;\n    }\n\n    @Override\n    public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\n        TextFieldCell textFieldCell = new TextFieldCell(validate);\n        return textFieldCell;\n\n    }\n\n    public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\n\n        private TextArea textField;\n        private StringProperty boundToCurrently = null;\n        private String last_text;\n\n        public TextFieldCell(boolean validate) {\n\n            textField = new TextArea();\n            textField.setWrapText(true);\n            textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\n            last_text=\"\";\n\n\n\n            this.setGraphic(textField);\n\n            if (validate) {\n                textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \n//only if textfield is in the text2 column\n                    if(isNowFocused){last_text=textField.getText();  System.out.println(\"NOW focus \"+last_text);}\n                    if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \n                        textField.setText(last_text);\n                        textField.selectAll();\n                        System.out.println(\"blur\");\n\n                    }\n\n                });\n            }\n\n        }\n\n      // ...\n\n}\n</code></pre>\n\n<p>Then of course you just do</p>\n\n<pre><code>TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(\"Text\");\nclmtext.setMinWidth(160);\nclmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text\"));\nclmtext.setCellFactory(new TextFieldCellFactory(false));\n\nTableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(\"Text2\");\nclmtext2.setMinWidth(160);\nclmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text2\"));\nclmtext2.setCellFactory(new TextFieldCellFactory(true));\n</code></pre>\n\n<p>(To properly answer your question, you can get the text of the column from within the cell to which it is attached with <code>getTableColumn().getText()</code>, but as I pointed out, actually basing the logic on the value displayed in a column header will make your code completely unmaintainable.)</p>\n\n<p>And I guess for completeness, I should also mention that your <code>TextFieldCellFactory</code> class looks like it is not really serving any purpose. I would remove it entirely and just have the <code>TextFieldCell</code> class, and do</p>\n\n<pre><code>TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(\"Text\");\nclmtext.setMinWidth(160);\nclmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text\"));\nclmtext.setCellFactory(c -&gt; new TextFieldCell(false));\n\nTableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(\"Text2\");\nclmtext2.setMinWidth(160);\nclmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"text2\"));\nclmtext2.setCellFactory(c -&gt; new TextFieldCell(true));\n</code></pre>\n"}],"owner":{"account_id":4662894,"reputation":224,"user_id":3776738,"accept_rate":78,"display_name":"user3776738"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2789,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36630470,"answer_count":1,"score":1,"last_activity_date":1680042548,"creation_date":1460655491,"question_id":36630217,"body_markdown":"How do I get the name of the column of a `textfield` inside a JavaFX table?\r\nI need this to check the value of the cells only in the `text2` column. I tried it with `textfield.parent()` but I didn&#39;t get a useful result.  \r\n**Edit:** I removed some unnecessary log, which was not helpful for understanding.Now it is more convenient.  \r\nHere is my Code:\r\n\r\n    import java.util.ArrayList;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.scene.control.ContentDisplay;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.util.Callback;\r\n    \r\n    import javafx.application.Application;\r\n    import static javafx.application.Application.launch;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    /*interface inside_table\r\n    {\r\n        public String get_column_name\r\n    }*/\r\n    \r\n    public class Supermain extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            \r\n            ArrayList myindizes=new ArrayList();\r\n            \r\n            \r\n    \r\n            final TableView&lt;myTextRow&gt; table = new TableView&lt;&gt;();\r\n            table.setEditable(true);\r\n            table.setStyle(&quot;-fx-text-wrap: true;&quot;);\r\n    \r\n            //Table columns\r\n            TableColumn&lt;myTextRow, String&gt; clmID = new TableColumn&lt;&gt;(&quot;ID&quot;);\r\n            clmID.setMinWidth(160);\r\n            clmID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\r\n    \r\n            TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n            clmtext.setMinWidth(160);\r\n            clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\r\n            clmtext.setCellFactory(new TextFieldCellFactory());\r\n    \r\n            TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\r\n            clmtext2.setMinWidth(160);\r\n            clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\r\n            clmtext2.setCellFactory(new TextFieldCellFactory());\r\n    \r\n            //Add data\r\n            final ObservableList&lt;myTextRow&gt; data = FXCollections.observableArrayList(\r\n                    new myTextRow(5, &quot;Lorem&quot;,&quot;bla&quot;),\r\n                    new myTextRow(2, &quot;Ipsum&quot;,&quot;bla&quot;)\r\n            );\r\n    \r\n            table.getColumns().addAll(clmID, clmtext,clmtext2);\r\n            table.setItems(data);\r\n    \r\n            HBox hBox = new HBox();\r\n            hBox.setSpacing(5.0);\r\n            hBox.setPadding(new Insets(5, 5, 5, 5));\r\n    \r\n            Button btn = new Button();\r\n            btn.setText(&quot;Get Data&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n                    for (myTextRow data1 : data) {\r\n                        System.out.println(&quot;data:&quot; + data1.getText2());\r\n                    }\r\n                }\r\n            });\r\n    \r\n            hBox.getChildren().add(btn);\r\n    \r\n            BorderPane pane = new BorderPane();\r\n            pane.setTop(hBox);\r\n            pane.setCenter(table);\r\n            primaryStage.setScene(new Scene(pane, 640, 480));\r\n            primaryStage.show();\r\n            \r\n    \r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    \r\n        public static class TextFieldCellFactory\r\n                implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\r\n    \r\n            @Override\r\n            public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\r\n                TextFieldCell textFieldCell = new TextFieldCell();\r\n                return textFieldCell;\r\n               \r\n            }\r\n    \r\n            public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\r\n                \r\n                private TextArea textField;\r\n                private StringProperty boundToCurrently = null;\r\n                private String last_text;\r\n                \r\n    \r\n                public TextFieldCell() {\r\n    \r\n                    textField = new TextArea();\r\n                    textField.setWrapText(true);\r\n                    textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\r\n                    last_text=&quot;&quot;;\r\n                    \r\n                    \r\n    \r\n                    this.setGraphic(textField);\r\n                    \r\n                    textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \r\n    //only if textfield is in the text2 column\r\n                        if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\r\n                        if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \r\n                            textField.setText(last_text);\r\n                            textField.selectAll();\r\n                            System.out.println(&quot;blur&quot;);\r\n                            \r\n                        }\r\n                        \r\n                    });\r\n                    \r\n                }\r\n    \r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (!empty) {\r\n                        // Show the Text Field\r\n                        this.setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n                        \r\n                        \r\n                       // myindizes.add(getIndex());\r\n    \r\n                        // Retrieve the actual String Property that should be bound to the TextField\r\n                        // If the TextField is currently bound to a different StringProperty\r\n                        // Unbind the old property and rebind to the new one\r\n                        ObservableValue&lt;String&gt; ov = getTableColumn().getCellObservableValue(getIndex());\r\n                        SimpleStringProperty sp = (SimpleStringProperty) ov;\r\n    \r\n                        if (this.boundToCurrently == null) {\r\n                            this.boundToCurrently = sp;\r\n                            this.textField.textProperty().bindBidirectional(sp);\r\n                        } else if (this.boundToCurrently != sp) {\r\n                            this.textField.textProperty().unbindBidirectional(this.boundToCurrently);\r\n                            this.boundToCurrently = sp;\r\n                            this.textField.textProperty().bindBidirectional(this.boundToCurrently);\r\n                        }\r\n    \r\n                        double height = real_lines_height(textField.getText(), this.getWidth(), 30, 22);\r\n                        textField.setPrefHeight(height);\r\n                        textField.setMaxHeight(height);\r\n                        \r\n                        textField.setMaxHeight(Double.MAX_VALUE);\r\n                        // if height bigger than the biggest height in the row\r\n                        //-&gt; change all heights of the row(textfields ()typeof textarea) to this height\r\n                        // else leave the height as it is\r\n                        \r\n                        \r\n                        //System.out.println(&quot;item=&quot; + item + &quot; ObservableValue&lt;String&gt;=&quot; + ov.getValue());\r\n                        //this.textField.setText(item);  // No longer need this!!!\r\n                    } else {\r\n                        this.setContentDisplay(ContentDisplay.TEXT_ONLY);\r\n                    }\r\n                }//update\r\n                \r\n                private boolean isValid(String s){\r\n                   \r\n                    if(s.length()&lt;7){return true;}\r\n                    return false;  \r\n\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public class myTextRow {\r\n    \r\n            private final SimpleIntegerProperty ID;\r\n    \r\n            private final SimpleStringProperty text;\r\n            private final SimpleStringProperty text2;\r\n    \r\n            public myTextRow(int ID, String text,String text2) {\r\n    \r\n                this.ID = new SimpleIntegerProperty(ID);\r\n                this.text = new SimpleStringProperty(text);\r\n                this.text2 = new SimpleStringProperty(text2);\r\n    \r\n    \r\n            }\r\n    \r\n            \r\n            //setter\r\n            public void setID(int id) {\r\n                this.ID.set(id);\r\n            }\r\n    \r\n            public void setText(String text) {\r\n                this.text.set(text);\r\n            }\r\n    \r\n            public void setText2(String text) {         \r\n                this.text2.set(text);         \r\n            }\r\n    \r\n           //getter\r\n            public int getID() {\r\n                return ID.get();\r\n            }\r\n    \r\n            public String getText() {\r\n                return text.get();\r\n            }\r\n    \r\n            public String getText2() {\r\n                return text2.get();\r\n            }\r\n            \r\n            //properties\r\n            public StringProperty textProperty() {\r\n            return text;\r\n    \r\n            }\r\n    \r\n            public StringProperty text2Property() {\r\n            return text2;\r\n    \r\n            }\r\n    \r\n        public IntegerProperty IDProperty() {\r\n            return ID;\r\n        }\r\n        \r\n        }\r\n    \r\n        private static double real_lines_height(String s, double width, double heightCorrector, double widthCorrector) {\r\n            HBox h = new HBox();\r\n            Label l = new Label(&quot;Text&quot;);\r\n            h.getChildren().add(l);\r\n            Scene sc = new Scene(h);\r\n            l.applyCss();\r\n            double line_height = l.prefHeight(-1);\r\n    \r\n            int new_lines = s.replaceAll(&quot;[^\\r\\n|\\r|\\n]&quot;, &quot;&quot;).length();\r\n            //  System.out.println(&quot;new lines= &quot;+new_lines);\r\n            String[] lines = s.split(&quot;\\r\\n|\\r|\\n&quot;);\r\n            //  System.out.println(&quot;line count func= &quot;+ lines.length);\r\n            int count = 0;\r\n            //double rest=0;\r\n            for (int i = 0; i &lt; lines.length; i++) {\r\n                double text_width = get_text_width(lines[i]);\r\n                double plus_lines = Math.ceil(text_width / (width - widthCorrector));\r\n                if (plus_lines &gt; 1) {\r\n                    count += plus_lines;\r\n                    //rest+= (text_width / (width-widthCorrector)) - plus_lines;\r\n                } else {\r\n                    count += 1;\r\n                }\r\n    \r\n            }\r\n            //count+=(int) Math.ceil(rest);\r\n            count += new_lines - lines.length;\r\n    \r\n            return count * line_height + heightCorrector;\r\n        }\r\n    \r\n        private static double get_text_width(String s) {\r\n            HBox h = new HBox();\r\n            Label l = new Label(s);\r\n            l.setWrapText(false);\r\n            h.getChildren().add(l);\r\n            Scene sc = new Scene(h);\r\n            l.applyCss();\r\n            \r\n            return l.prefWidth(-1);\r\n    \r\n        }\r\n        \r\n    }","title":"javafx : get the name of the column","body":"<p>How do I get the name of the column of a <code>textfield</code> inside a JavaFX table?\nI need this to check the value of the cells only in the <code>text2</code> column. I tried it with <code>textfield.parent()</code> but I didn't get a useful result.<br />\n<strong>Edit:</strong> I removed some unnecessary log, which was not helpful for understanding.Now it is more convenient.<br />\nHere is my Code:</p>\n<pre><code>import java.util.ArrayList;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.scene.control.ContentDisplay;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TextArea;\nimport javafx.util.Callback;\n\nimport javafx.application.Application;\nimport static javafx.application.Application.launch;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\n\n/*interface inside_table\n{\n    public String get_column_name\n}*/\n\npublic class Supermain extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        ArrayList myindizes=new ArrayList();\n        \n        \n\n        final TableView&lt;myTextRow&gt; table = new TableView&lt;&gt;();\n        table.setEditable(true);\n        table.setStyle(&quot;-fx-text-wrap: true;&quot;);\n\n        //Table columns\n        TableColumn&lt;myTextRow, String&gt; clmID = new TableColumn&lt;&gt;(&quot;ID&quot;);\n        clmID.setMinWidth(160);\n        clmID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\n\n        TableColumn&lt;myTextRow, String&gt; clmtext = new TableColumn&lt;&gt;(&quot;Text&quot;);\n        clmtext.setMinWidth(160);\n        clmtext.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text&quot;));\n        clmtext.setCellFactory(new TextFieldCellFactory());\n\n        TableColumn&lt;myTextRow, String&gt; clmtext2 = new TableColumn&lt;&gt;(&quot;Text2&quot;);\n        clmtext2.setMinWidth(160);\n        clmtext2.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;text2&quot;));\n        clmtext2.setCellFactory(new TextFieldCellFactory());\n\n        //Add data\n        final ObservableList&lt;myTextRow&gt; data = FXCollections.observableArrayList(\n                new myTextRow(5, &quot;Lorem&quot;,&quot;bla&quot;),\n                new myTextRow(2, &quot;Ipsum&quot;,&quot;bla&quot;)\n        );\n\n        table.getColumns().addAll(clmID, clmtext,clmtext2);\n        table.setItems(data);\n\n        HBox hBox = new HBox();\n        hBox.setSpacing(5.0);\n        hBox.setPadding(new Insets(5, 5, 5, 5));\n\n        Button btn = new Button();\n        btn.setText(&quot;Get Data&quot;);\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n            @Override\n            public void handle(ActionEvent event) {\n                for (myTextRow data1 : data) {\n                    System.out.println(&quot;data:&quot; + data1.getText2());\n                }\n            }\n        });\n\n        hBox.getChildren().add(btn);\n\n        BorderPane pane = new BorderPane();\n        pane.setTop(hBox);\n        pane.setCenter(table);\n        primaryStage.setScene(new Scene(pane, 640, 480));\n        primaryStage.show();\n        \n\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n\n    public static class TextFieldCellFactory\n            implements Callback&lt;TableColumn&lt;myTextRow, String&gt;, TableCell&lt;myTextRow, String&gt;&gt; {\n\n        @Override\n        public TableCell&lt;myTextRow, String&gt; call(TableColumn&lt;myTextRow, String&gt; param) {\n            TextFieldCell textFieldCell = new TextFieldCell();\n            return textFieldCell;\n           \n        }\n\n        public static class TextFieldCell extends TableCell&lt;myTextRow, String&gt; {\n            \n            private TextArea textField;\n            private StringProperty boundToCurrently = null;\n            private String last_text;\n            \n\n            public TextFieldCell() {\n\n                textField = new TextArea();\n                textField.setWrapText(true);\n                textField.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\n                last_text=&quot;&quot;;\n                \n                \n\n                this.setGraphic(textField);\n                \n                textField.focusedProperty().addListener((obs, wasFocused, isNowFocused) -&gt; { \n//only if textfield is in the text2 column\n                    if(isNowFocused){last_text=textField.getText();  System.out.println(&quot;NOW focus &quot;+last_text);}\n                    if (! isNowFocused &amp;&amp; ! isValid(textField.getText())) { \n                        textField.setText(last_text);\n                        textField.selectAll();\n                        System.out.println(&quot;blur&quot;);\n                        \n                    }\n                    \n                });\n                \n            }\n\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n                if (!empty) {\n                    // Show the Text Field\n                    this.setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n                    \n                    \n                   // myindizes.add(getIndex());\n\n                    // Retrieve the actual String Property that should be bound to the TextField\n                    // If the TextField is currently bound to a different StringProperty\n                    // Unbind the old property and rebind to the new one\n                    ObservableValue&lt;String&gt; ov = getTableColumn().getCellObservableValue(getIndex());\n                    SimpleStringProperty sp = (SimpleStringProperty) ov;\n\n                    if (this.boundToCurrently == null) {\n                        this.boundToCurrently = sp;\n                        this.textField.textProperty().bindBidirectional(sp);\n                    } else if (this.boundToCurrently != sp) {\n                        this.textField.textProperty().unbindBidirectional(this.boundToCurrently);\n                        this.boundToCurrently = sp;\n                        this.textField.textProperty().bindBidirectional(this.boundToCurrently);\n                    }\n\n                    double height = real_lines_height(textField.getText(), this.getWidth(), 30, 22);\n                    textField.setPrefHeight(height);\n                    textField.setMaxHeight(height);\n                    \n                    textField.setMaxHeight(Double.MAX_VALUE);\n                    // if height bigger than the biggest height in the row\n                    //-&gt; change all heights of the row(textfields ()typeof textarea) to this height\n                    // else leave the height as it is\n                    \n                    \n                    //System.out.println(&quot;item=&quot; + item + &quot; ObservableValue&lt;String&gt;=&quot; + ov.getValue());\n                    //this.textField.setText(item);  // No longer need this!!!\n                } else {\n                    this.setContentDisplay(ContentDisplay.TEXT_ONLY);\n                }\n            }//update\n            \n            private boolean isValid(String s){\n               \n                if(s.length()&lt;7){return true;}\n                return false;  \n\n\n            }\n\n        }\n\n    }\n\n    public class myTextRow {\n\n        private final SimpleIntegerProperty ID;\n\n        private final SimpleStringProperty text;\n        private final SimpleStringProperty text2;\n\n        public myTextRow(int ID, String text,String text2) {\n\n            this.ID = new SimpleIntegerProperty(ID);\n            this.text = new SimpleStringProperty(text);\n            this.text2 = new SimpleStringProperty(text2);\n\n\n        }\n\n        \n        //setter\n        public void setID(int id) {\n            this.ID.set(id);\n        }\n\n        public void setText(String text) {\n            this.text.set(text);\n        }\n\n        public void setText2(String text) {         \n            this.text2.set(text);         \n        }\n\n       //getter\n        public int getID() {\n            return ID.get();\n        }\n\n        public String getText() {\n            return text.get();\n        }\n\n        public String getText2() {\n            return text2.get();\n        }\n        \n        //properties\n        public StringProperty textProperty() {\n        return text;\n\n        }\n\n        public StringProperty text2Property() {\n        return text2;\n\n        }\n\n    public IntegerProperty IDProperty() {\n        return ID;\n    }\n    \n    }\n\n    private static double real_lines_height(String s, double width, double heightCorrector, double widthCorrector) {\n        HBox h = new HBox();\n        Label l = new Label(&quot;Text&quot;);\n        h.getChildren().add(l);\n        Scene sc = new Scene(h);\n        l.applyCss();\n        double line_height = l.prefHeight(-1);\n\n        int new_lines = s.replaceAll(&quot;[^\\r\\n|\\r|\\n]&quot;, &quot;&quot;).length();\n        //  System.out.println(&quot;new lines= &quot;+new_lines);\n        String[] lines = s.split(&quot;\\r\\n|\\r|\\n&quot;);\n        //  System.out.println(&quot;line count func= &quot;+ lines.length);\n        int count = 0;\n        //double rest=0;\n        for (int i = 0; i &lt; lines.length; i++) {\n            double text_width = get_text_width(lines[i]);\n            double plus_lines = Math.ceil(text_width / (width - widthCorrector));\n            if (plus_lines &gt; 1) {\n                count += plus_lines;\n                //rest+= (text_width / (width-widthCorrector)) - plus_lines;\n            } else {\n                count += 1;\n            }\n\n        }\n        //count+=(int) Math.ceil(rest);\n        count += new_lines - lines.length;\n\n        return count * line_height + heightCorrector;\n    }\n\n    private static double get_text_width(String s) {\n        HBox h = new HBox();\n        Label l = new Label(s);\n        l.setWrapText(false);\n        h.getChildren().add(l);\n        Scene sc = new Scene(h);\n        l.applyCss();\n        \n        return l.prefWidth(-1);\n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1680075305,"post_id":75871578,"comment_id":133833485,"body_markdown":"This is a recipe for disaster on several levels. Don&#39;t do it, even if it perhaps seems to work.","body":"This is a recipe for disaster on several levels. Don&#39;t do it, even if it perhaps seems to work."},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1680105228,"post_id":75871578,"comment_id":133841974,"body_markdown":"@Ladicek could you explain more why it would be a recipe for disaster? \nAlso, you are saying that all quarkus extensions should be based on the same version correct? This specific case didn&#39;t work, but I couldn&#39;t find any documentation that says quarkus extensions have to be the same version.","body":"@Ladicek could you explain more why it would be a recipe for disaster?  Also, you are saying that all quarkus extensions should be based on the same version correct? This specific case didn&#39;t work, but I couldn&#39;t find any documentation that says quarkus extensions have to be the same version."},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":2,"creation_date":1680160568,"post_id":75871578,"comment_id":133851532,"body_markdown":"Quarkus is not a set of libraries, it is a platform. All extensions depend on Quarkus core, and they may depend on each other (for example, most extensions will depend in one way or another on ArC, the CDI implementation in Quarkus). The platform is built and tested and meant to be used as a single cohesive whole. I don&#39;t think anyone has ever considered the option to rip out one piece of the platform and replace it with a transplant of an equivalent piece from a different version of the platform, which is probably why you can&#39;t find anything about that in the documentation.","body":"Quarkus is not a set of libraries, it is a platform. All extensions depend on Quarkus core, and they may depend on each other (for example, most extensions will depend in one way or another on ArC, the CDI implementation in Quarkus). The platform is built and tested and meant to be used as a single cohesive whole. I don&#39;t think anyone has ever considered the option to rip out one piece of the platform and replace it with a transplant of an equivalent piece from a different version of the platform, which is probably why you can&#39;t find anything about that in the documentation."}],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680042409,"creation_date":1680042409,"question_id":75871578,"body_markdown":"Let&#39;s say I have a pom.xml like \r\n```\r\n&lt;properties&gt;\r\n  &lt;quarkus-plugin.version&gt;2.13.3.Final&lt;/quarkus-plugin.version&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.13.3.Final&lt;/quarkus.platform.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nDo all quarkus extensions have to be 2.13.3.FINAL version? Or would it be possible to have something like the code below? This would allow one extension to be a different version, while all other extensions default to the `quarkus.platform.version`.\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\r\n      &lt;version&gt;2.16.4.FINAL&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Do all quarkus extensions have to be the same version?","body":"<p>Let's say I have a pom.xml like</p>\n<pre><code>&lt;properties&gt;\n  &lt;quarkus-plugin.version&gt;2.13.3.Final&lt;/quarkus-plugin.version&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.13.3.Final&lt;/quarkus.platform.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Do all quarkus extensions have to be 2.13.3.FINAL version? Or would it be possible to have something like the code below? This would allow one extension to be a different version, while all other extensions default to the <code>quarkus.platform.version</code>.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-redis-client&lt;/artifactId&gt;\n      &lt;version&gt;2.16.4.FINAL&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","arraylist"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":2,"creation_date":1680033339,"post_id":75870438,"comment_id":133827285,"body_markdown":"Please edit your question to show a screenshot of the Firebase console with a document containing the data that you&#39;re trying to read.","body":"Please edit your question to show a screenshot of the Firebase console with a document containing the data that you&#39;re trying to read."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680073677,"post_id":75870438,"comment_id":133833089,"body_markdown":"What do you mean by &quot;how can I retrieve all the data in a single table&quot;? Please show us a concrete example. Please edit your question and add the information Frank asked for, and please also respond using @.","body":"What do you mean by &quot;how can I retrieve all the data in a single table&quot;? Please show us a concrete example. Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":28133137,"reputation":1,"user_id":21497299,"display_name":"michamicha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680041460,"creation_date":1680032480,"question_id":75870438,"body_markdown":"This code is written in Java programming language and uses the Firebase Firestore database to retrieve data. The code retrieves dynamic data of multiple users, and each user has multiple tests. The data includes dwell time, flight time 2, and flight time 3, and the name of the test. but lets assume that the field in this case (dwelltime,ft2,ft3) is a table containing multiple values in the firestore how can i retreive all the data in a single table. i would be extremly grateful any help i would appreciate it\r\n\r\n\r\n```\r\nfor (QueryDocumentSnapshot document : task.getResult()) { \r\n    mdw.add(document.getLong(&quot;dwelltime&quot;)); \r\n    mft2.add(document.getLong(&quot;ft2&quot;));\r\n    mft3.add(document.getLong(&quot;ft3&quot;));\r\n    name.add(doc.getString(&quot;nom&quot;));\r\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n}\r\n```\r\n\r\n\r\nthis is a screenshot of my firebase data :\r\n\r\n\r\n[screenshot][1]\r\n\r\ni tried the following but i only get the first document of the users. something is missing \r\n\r\n     \r\n```\r\nfor (QueryDocumentSnapshot document : task.getResult()) { \r\n    ArrayList&lt;Long&gt; dwellTimes = (ArrayList&lt;Long&gt;) document.get(&quot;dwell time&quot;);\r\n    dwell.addAll(dwellTimes);\r\n\r\n    ArrayList&lt;Long&gt; flightTimes2 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 2&quot;);\r\n    flightm2.addAll(flightTimes2);\r\n\r\n    ArrayList&lt;Long&gt; flightTimes3 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 3&quot;);\r\n    flightm3.addAll(flightTimes3);\r\n\r\n    name.add(doc.getString(&quot;nom&quot;));\r\n\r\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0CuxB.png","title":"how to retreive data from firestore of a field with multiple values","body":"<p>This code is written in Java programming language and uses the Firebase Firestore database to retrieve data. The code retrieves dynamic data of multiple users, and each user has multiple tests. The data includes dwell time, flight time 2, and flight time 3, and the name of the test. but lets assume that the field in this case (dwelltime,ft2,ft3) is a table containing multiple values in the firestore how can i retreive all the data in a single table. i would be extremly grateful any help i would appreciate it</p>\n<pre><code>for (QueryDocumentSnapshot document : task.getResult()) { \n    mdw.add(document.getLong(&quot;dwelltime&quot;)); \n    mft2.add(document.getLong(&quot;ft2&quot;));\n    mft3.add(document.getLong(&quot;ft3&quot;));\n    name.add(doc.getString(&quot;nom&quot;));\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n}\n</code></pre>\n<p>this is a screenshot of my firebase data :</p>\n<p><a href=\"https://i.stack.imgur.com/0CuxB.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>i tried the following but i only get the first document of the users. something is missing</p>\n<pre><code>for (QueryDocumentSnapshot document : task.getResult()) { \n    ArrayList&lt;Long&gt; dwellTimes = (ArrayList&lt;Long&gt;) document.get(&quot;dwell time&quot;);\n    dwell.addAll(dwellTimes);\n\n    ArrayList&lt;Long&gt; flightTimes2 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 2&quot;);\n    flightm2.addAll(flightTimes2);\n\n    ArrayList&lt;Long&gt; flightTimes3 = (ArrayList&lt;Long&gt;) document.get(&quot;flight time 3&quot;);\n    flightm3.addAll(flightTimes3);\n\n    name.add(doc.getString(&quot;nom&quot;));\n\n    Log.d(&quot;getdata1&quot;, &quot;y = &quot; + y);\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml","junit5","jacoco"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680041680,"post_id":75871461,"comment_id":133828864,"body_markdown":"I would suggest to remove the configuration part for `default-prepare-agent`...part... and keep the defaults which are defined by the plugin...","body":"I would suggest to remove the configuration part for <code>default-prepare-agent</code>...part... and keep the defaults which are defined by the plugin..."},{"owner":{"account_id":21220868,"reputation":5,"user_id":15607473,"display_name":"Shpot"},"score":0,"creation_date":1680042961,"post_id":75871461,"comment_id":133829061,"body_markdown":"@khmarbaise Thanks! It worked, but build still does not fail: `[INFO] Tests are skipped.`","body":"@khmarbaise Thanks! It worked, but build still does not fail: <code>[INFO] Tests are skipped.</code>"}],"owner":{"account_id":21220868,"reputation":5,"user_id":15607473,"display_name":"Shpot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680041245,"creation_date":1680041245,"question_id":75871461,"body_markdown":"I want to configure Maven build to fail if test coverage is lower than 85%\r\nTried to use Jacoco plugin, but regardless of the coverage the build does not fail.\r\n\r\nRuning tests with coverage in Idea works. \r\n\r\nWhen i try to run `mvn clean verify` or `mvn test` this message appears:\r\n```\r\n[INFO] Skipping JaCoCo execution due to missing execution data file:C:\\Users\\Shpot\\Desktop\\payneteasy\\EQSP_project\\target\\jacoco.exec\r\n```\r\n\r\nWhat have I done wrong?\r\n\r\nMy `pom.xml`:\r\n\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;destFile&gt;${basedir}/target/jacoco.exec&lt;/destFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\r\n                                            &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.85&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\r\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\r\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\r\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nMy JUnit5 tests are like that:\r\n\r\n```\r\npackage pne;\r\n\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass CcsrchTest {\r\n\r\n    @Test\r\n    void hideCreditCardInformationInText() {\r\n     ...\r\n    }\r\n}\r\n```","title":"Maven build with Jacoco code coverage check never fails","body":"<p>I want to configure Maven build to fail if test coverage is lower than 85%\nTried to use Jacoco plugin, but regardless of the coverage the build does not fail.</p>\n<p>Runing tests with coverage in Idea works.</p>\n<p>When i try to run <code>mvn clean verify</code> or <code>mvn test</code> this message appears:</p>\n<pre><code>[INFO] Skipping JaCoCo execution due to missing execution data file:C:\\Users\\Shpot\\Desktop\\payneteasy\\EQSP_project\\target\\jacoco.exec\n</code></pre>\n<p>What have I done wrong?</p>\n<p>My <code>pom.xml</code>:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${basedir}/target/jacoco.exec&lt;/destFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule implementation=&quot;org.jacoco.maven.RuleConfiguration&quot;&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\n                                            &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.85&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit implementation=&quot;org.jacoco.report.check.Limit&quot;&gt;\n                                            &lt;counter&gt;CLASS&lt;/counter&gt;\n                                            &lt;value&gt;MISSEDCOUNT&lt;/value&gt;\n                                            &lt;maximum&gt;0&lt;/maximum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My JUnit5 tests are like that:</p>\n<pre><code>package pne;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nclass CcsrchTest {\n\n    @Test\n    void hideCreditCardInformationInText() {\n     ...\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-gemfire","oql"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679590211,"post_id":75823572,"comment_id":133752647,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1965382,"reputation":21,"user_id":1765803,"display_name":"Anthony Baker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679676839,"creation_date":1679676839,"answer_id":75836356,"question_id":75823572,"body_markdown":"Check out the query docs: https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html\r\n\r\nHere&#39;s an example of how to use bind parameters.\r\n\r\n    // specify the  query string\r\n     String queryString = &quot;SELECT DISTINCT * FROM /exampleRegion p WHERE p.status = $1&quot;;\r\n    \r\n    QueryService queryService = cache.getQueryService();\r\n    Query query = queryService.newQuery(queryString);\r\n    \r\n    // set a query bind parameter\r\n    Object[] params = new Object[1];\r\n    params[0] = &quot;active&quot;;\r\n    \r\n    // Execute the query locally. It returns the results set.\r\n    SelectResults results = (SelectResults) query.execute(params);\r\n\r\n","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>Check out the query docs: <a href=\"https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html\" rel=\"nofollow noreferrer\">https://docs.vmware.com/en/VMware-GemFire/10.0/gf/getting_started-querying_quick_reference.html</a></p>\n<p>Here's an example of how to use bind parameters.</p>\n<pre><code>// specify the  query string\n String queryString = &quot;SELECT DISTINCT * FROM /exampleRegion p WHERE p.status = $1&quot;;\n\nQueryService queryService = cache.getQueryService();\nQuery query = queryService.newQuery(queryString);\n\n// set a query bind parameter\nObject[] params = new Object[1];\nparams[0] = &quot;active&quot;;\n\n// Execute the query locally. It returns the results set.\nSelectResults results = (SelectResults) query.execute(params);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9741041,"reputation":63,"user_id":7222611,"display_name":"Udo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680040256,"creation_date":1679931364,"answer_id":75857661,"question_id":75823572,"body_markdown":"If you require data for a specific time frame, you will have to add a field which will the contain the date/data you want to query against.\r\n\r\nIn your case you want to query some time parameter. Best way to store this, would be a `long` field that would represent the Date as a long. Then your query would require a simple `&gt;=` and `&lt;` comparison, which are quick, because they aren&#39;t String comparisons.\r\n\r\n```String query = &quot;SELECT * from /DataRegion r where r.createdDate &gt;= $1 AND r.createdDate &lt; $2&quot;;```\r\n\r\nThen your query becomes simpler, as all you&#39;d have to do is determine the start and end date in terms of its `long` representation. `new Date(2023,03,10).getTime()` (of course you should use the java.util.Calender class, but this is just for example purposes).\r\n\r\nThen using the bind logic in GemFire, you can then run the query.\r\n\r\n```QueryService queryService = cache.getQueryService();\r\nQuery query = queryService.newQuery(queryString);\r\n\r\n// set a query bind parameter\r\nObject[] params = new Object[2];\r\nparams[0] = new Date(2023,03,10).getTime();\r\nparams[1] = new Date(2023,03,12).getTime();\r\n\r\n// Execute the query locally. It returns the results set.\r\nSelectResults results = (SelectResults) query.execute(params);\r\n","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>If you require data for a specific time frame, you will have to add a field which will the contain the date/data you want to query against.</p>\n<p>In your case you want to query some time parameter. Best way to store this, would be a <code>long</code> field that would represent the Date as a long. Then your query would require a simple <code>&gt;=</code> and <code>&lt;</code> comparison, which are quick, because they aren't String comparisons.</p>\n<p><code>String query = &quot;SELECT * from /DataRegion r where r.createdDate &gt;= $1 AND r.createdDate &lt; $2&quot;;</code></p>\n<p>Then your query becomes simpler, as all you'd have to do is determine the start and end date in terms of its <code>long</code> representation. <code>new Date(2023,03,10).getTime()</code> (of course you should use the java.util.Calender class, but this is just for example purposes).</p>\n<p>Then using the bind logic in GemFire, you can then run the query.</p>\n<pre><code>Query query = queryService.newQuery(queryString);\n\n// set a query bind parameter\nObject[] params = new Object[2];\nparams[0] = new Date(2023,03,10).getTime();\nparams[1] = new Date(2023,03,12).getTime();\n\n// Execute the query locally. It returns the results set.\nSelectResults results = (SelectResults) query.execute(params);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680039313,"creation_date":1680038989,"answer_id":75871229,"question_id":75823572,"body_markdown":"@Udo is correct, here!\r\n\r\nStoring or exposing some timestamp (`long` or `Long&#39; value) on your application domain object(s), that are stored and managed in VMware GemFire, is actually preferable in this case.\r\n\r\nIt could even look something like this...\r\n\r\n```java\r\npackage example.app.customers.model;\r\n\r\nimport java.time.Instant\r\n...\r\n@Region(&quot;Customers&quot;)\r\nclass Customer {\r\n\r\n  private Long id;\r\n\r\n  private Instant joined;\r\n\r\n  private final String name;\r\n\r\n  public long getJoinedTimestamp() {\r\n\r\n    Instant localJoined = this.joined;\r\n\r\n    return localJoined != null ? localJoined.toEpochMilli() : 0L;\r\n  }\r\n\r\n  // other getters, setters and accessors omitted\r\n\r\n}\r\n```\r\n\r\nHowever, I would NOT use `java.util.Calendar`, but rather use the (`@since`) **Java 8** date/time types in the `java.time` package ([Javadoc][1]), like `java.time.Instant` ([Javadoc][2]).\r\n\r\nThen, it would also be a simple matter to write a derived query using the ***Spring Data (SD) [GemFire]*** *Repository* abstraction, too!\r\n\r\nThere is no need to use GemFire&#39;s OQL-based query API (:P) in this case!\r\n\r\nSo, you could have SD GemFire Repository declaration like the following:\r\n\r\n```java\r\npackage example.app.customers.repo;\r\n\r\ninterface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; {\r\n\r\n  List&lt;Customer&gt; findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThan(Long begin, Long end);\r\n```\r\n\r\n&gt; NOTE: The time range could be inclusive, too, such as `findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThanEqual(..)` as well.\r\n\r\n&gt; NOTE: In my example above, the joined timestamp is inclusive on the lower bound and exclusive on the upper bound.\r\n\r\nYou can find out more about *Spring Data GemFire&#39;s* (SDG) extension of *Spring Data&#39;s (SD) Repository* infrastructure and querying capabilities here, in the [SDG doc][3], and specifically on SDG derived (OQL) queries in [doc][4] as well.\r\n\r\nFor more general information on the *Spring Data Repository* infrastructure abstraction, see the *Spring Data Commons&#39;* [documentation][5], and specifically about [query methods][6].\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [3]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories\r\n  [4]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories.queries.executing\r\n  [5]: https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories\r\n  [6]: https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>@Udo is correct, here!</p>\n<p>Storing or exposing some timestamp (<code>long</code> or `Long' value) on your application domain object(s), that are stored and managed in VMware GemFire, is actually preferable in this case.</p>\n<p>It could even look something like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example.app.customers.model;\n\nimport java.time.Instant\n...\n@Region(&quot;Customers&quot;)\nclass Customer {\n\n  private Long id;\n\n  private Instant joined;\n\n  private final String name;\n\n  public long getJoinedTimestamp() {\n\n    Instant localJoined = this.joined;\n\n    return localJoined != null ? localJoined.toEpochMilli() : 0L;\n  }\n\n  // other getters, setters and accessors omitted\n\n}\n</code></pre>\n<p>However, I would NOT use <code>java.util.Calendar</code>, but rather use the (<code>@since</code>) <strong>Java 8</strong> date/time types in the <code>java.time</code> package (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a>), like <code>java.time.Instant</code> (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\">Javadoc</a>).</p>\n<p>Then, it would also be a simple matter to write a derived query using the <em><strong>Spring Data (SD) [GemFire]</strong></em> <em>Repository</em> abstraction, too!</p>\n<p>There is no need to use GemFire's OQL-based query API (:P) in this case!</p>\n<p>So, you could have SD GemFire Repository declaration like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example.app.customers.repo;\n\ninterface CustomerRepository extends CrudRepository&lt;Customer, Long&gt; {\n\n  List&lt;Customer&gt; findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThan(Long begin, Long end);\n</code></pre>\n<blockquote>\n<p>NOTE: The time range could be inclusive, too, such as <code>findByJoinedTimestampGreaterThanEqualAndJoinedTimestampLessThanEqual(..)</code> as well.</p>\n</blockquote>\n<blockquote>\n<p>NOTE: In my example above, the joined timestamp is inclusive on the lower bound and exclusive on the upper bound.</p>\n</blockquote>\n<p>You can find out more about <em>Spring Data GemFire's</em> (SDG) extension of <em>Spring Data's (SD) Repository</em> infrastructure and querying capabilities here, in the <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories\" rel=\"nofollow noreferrer\">SDG doc</a>, and specifically on SDG derived (OQL) queries in <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#gemfire-repositories.queries.executing\" rel=\"nofollow noreferrer\">doc</a> as well.</p>\n<p>For more general information on the <em>Spring Data Repository</em> infrastructure abstraction, see the <em>Spring Data Commons'</em> <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories\" rel=\"nofollow noreferrer\">documentation</a>, and specifically about <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/#repositories.query-methods\" rel=\"nofollow noreferrer\">query methods</a>.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":19083946,"reputation":11,"user_id":13935616,"display_name":"ayush srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1680040256,"creation_date":1679577749,"question_id":75823572,"body_markdown":"Can anyone help me with fecthing exactly last 24 hr data directly using gemfire OQL or some custom java code.\r\n\r\ni tried using LIKE query and fetch two days of data but i am not sure how two pass dynamic data in gemfire query since everything is treated as string.","title":"Fetch Last 24 hour data using Gemfire OQL","body":"<p>Can anyone help me with fecthing exactly last 24 hr data directly using gemfire OQL or some custom java code.</p>\n<p>i tried using LIKE query and fetch two days of data but i am not sure how two pass dynamic data in gemfire query since everything is treated as string.</p>\n"},{"tags":["java","tls1.3","ssl-client-authentication"],"owner":{"account_id":4673039,"reputation":125,"user_id":3784352,"display_name":"John Gregg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680039687,"creation_date":1680039687,"question_id":75871305,"body_markdown":"I am getting the &quot;no available authentication&quot; scheme in Oracle Java 11.0.17 with client authentication and TLS 1.3.  Server is 11.0.18.  Many of my search results say the problem is a DSA certificate, but I don&#39;t have a DSA cert so I&#39;d like to know more about what&#39;s happening.\r\n\r\nReverting to TLS 1.2 works around the problem.\r\n\r\nRegardless of whether I force TLS 1.2, even if the client hello message says it supports 1.3, the server hello message always says 1.2.\r\n\r\nBoth client and server have certificate algorithm SHA256withRSA.  That&#39;s what&#39;s printed in verbose SSL and in keytool -list.\r\n\r\nThe certificate requests from the server look identical.\r\n\r\nAfter the server asks for the client cert, I get a sequence of messages like\r\n\r\n    Unavailable authentication scheme: ecdsa_secp256r1_sha256\r\n\r\nI get that same message for secp256, secp384, and secp521.\r\n  \r\nWhen the handshake succeeds with TLS 1.2, the secp521 is the last of those messages before the &quot;matching alias&quot; message.\r\n\r\nWhen the handshake fails with TLS 1.3, I get a bunch more similar &quot;unavailable auth scheme&quot; messages.  The one after 521 is rsa_pss_rsae_sha256, which makes me think that it works for TLS 1.2 but not for 1.3.\r\n\r\nIn both cases, rsa_pss_rsae_sha256 is the signature algo in the ECDH server key exchange message.  My searches of rsa_pss_rsae_sha256 don&#39;t turn up any answers, or at least none that I understand.\r\n","title":"&quot;No available authentication scheme&quot; and TLS 1.3","body":"<p>I am getting the &quot;no available authentication&quot; scheme in Oracle Java 11.0.17 with client authentication and TLS 1.3.  Server is 11.0.18.  Many of my search results say the problem is a DSA certificate, but I don't have a DSA cert so I'd like to know more about what's happening.</p>\n<p>Reverting to TLS 1.2 works around the problem.</p>\n<p>Regardless of whether I force TLS 1.2, even if the client hello message says it supports 1.3, the server hello message always says 1.2.</p>\n<p>Both client and server have certificate algorithm SHA256withRSA.  That's what's printed in verbose SSL and in keytool -list.</p>\n<p>The certificate requests from the server look identical.</p>\n<p>After the server asks for the client cert, I get a sequence of messages like</p>\n<pre><code>Unavailable authentication scheme: ecdsa_secp256r1_sha256\n</code></pre>\n<p>I get that same message for secp256, secp384, and secp521.</p>\n<p>When the handshake succeeds with TLS 1.2, the secp521 is the last of those messages before the &quot;matching alias&quot; message.</p>\n<p>When the handshake fails with TLS 1.3, I get a bunch more similar &quot;unavailable auth scheme&quot; messages.  The one after 521 is rsa_pss_rsae_sha256, which makes me think that it works for TLS 1.2 but not for 1.3.</p>\n<p>In both cases, rsa_pss_rsae_sha256 is the signature algo in the ECDH server key exchange message.  My searches of rsa_pss_rsae_sha256 don't turn up any answers, or at least none that I understand.</p>\n"},{"tags":["c#","java","c++","floating-point","int"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1340376369,"post_id":11158476,"comment_id":14633000,"body_markdown":"Where are you getting the max floating point value of 3.4 * 10 ^ 38 from?","body":"Where are you getting the max floating point value of 3.4 * 10 ^ 38 from?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":9,"creation_date":1340376370,"post_id":11158476,"comment_id":14633002,"body_markdown":"The precision of the float for large numbers is much lower than an int.","body":"The precision of the float for large numbers is much lower than an int."},{"owner":{"account_id":196596,"reputation":102331,"user_id":440119,"accept_rate":91,"display_name":"Benjamin Lindley"},"score":3,"creation_date":1340376381,"post_id":11158476,"comment_id":14633009,"body_markdown":"Hmm... You say &quot;floating numbers&quot; as if it&#39;s obvious to you what that means, but is it?","body":"Hmm... You say &quot;floating numbers&quot; as if it&#39;s obvious to you what that means, but is it?"},{"owner":{"account_id":5436,"reputation":164882,"user_id":8747,"accept_rate":100,"display_name":"Robᵩ"},"score":0,"creation_date":1340377472,"post_id":11158476,"comment_id":14633571,"body_markdown":"Obligatory link: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","body":"Obligatory link: <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1340378491,"post_id":11158476,"comment_id":14634096,"body_markdown":"Imagine you have an `int` value which represents a price in cents and another `int` value which represents a price in dollars. The question is; how can the amount in dollars be more than the amount in cents? If you can answer that question, you have answered your own. ;)","body":"Imagine you have an <code>int</code> value which represents a price in cents and another <code>int</code> value which represents a price in dollars. The question is; how can the amount in dollars be more than the amount in cents? If you can answer that question, you have answered your own. ;)"},{"owner":{"account_id":249276,"reputation":21540,"user_id":525217,"accept_rate":100,"display_name":"mfontanini"},"score":0,"creation_date":1340378818,"post_id":11158476,"comment_id":14634275,"body_markdown":"How do you know an `int` is represented using 32-bits? This might be true for C# and Java, but not for C++.","body":"How do you know an <code>int</code> is represented using 32-bits? This might be true for C# and Java, but not for C++."},{"owner":{"account_id":86993,"reputation":100152,"user_id":241536,"accept_rate":84,"display_name":"John Dibling"},"score":0,"creation_date":1340379644,"post_id":11158476,"comment_id":14634666,"body_markdown":"A `float` and an `int` are *not* **necesarrily** exactly 32 bits.  The Standard doesn&#39;t define the sizes absolutely -- only in terms relative to other types.","body":"A <code>float</code> and an <code>int</code> are <i>not</i> <b>necesarrily</b> exactly 32 bits.  The Standard doesn&#39;t define the sizes absolutely -- only in terms relative to other types."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1340376376,"creation_date":1340376376,"answer_id":11158535,"question_id":11158476,"body_markdown":"These are based on IEEE754 floating point specification, that is why it is possible. Please read this [documentation][1]. It is not just about how many bits.\r\n\r\n\r\n  [1]: http://steve.hollasch.net/cgindex/coding/ieeefloat.html","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>These are based on IEEE754 floating point specification, that is why it is possible. Please read this <a href=\"http://steve.hollasch.net/cgindex/coding/ieeefloat.html\" rel=\"noreferrer\">documentation</a>. It is not just about how many bits.</p>\n"},{"tags":[],"owner":{"account_id":459853,"reputation":21518,"user_id":860585,"accept_rate":95,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1340376702,"creation_date":1340376380,"answer_id":11158537,"question_id":11158476,"body_markdown":"A float might store a higher number value, but it will not be precise even on digits before the decimal dot.\r\nConsider the following example:\r\n\r\n    float a = 123456789012345678901234567890f; //30 digits\r\n    Console.WriteLine(a);  // 1.234568E+29\r\n\r\nNotice that barely any precision is kept.\r\n\r\nAn integer on the other hand will always precisely store any number within its range of values.\r\n\r\nFor the sake of comparison, let&#39;s look at a double precision floating point number:\r\n\r\n\tdouble a = 123456789012345678901234567890d; //30 digits\r\n\tConsole.WriteLine(a); // 1.23456789012346E+29\r\n\r\nNotice that roughly twice as much significant digits are preserved.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>A float might store a higher number value, but it will not be precise even on digits before the decimal dot.\nConsider the following example:</p>\n\n<pre><code>float a = 123456789012345678901234567890f; //30 digits\nConsole.WriteLine(a);  // 1.234568E+29\n</code></pre>\n\n<p>Notice that barely any precision is kept.</p>\n\n<p>An integer on the other hand will always precisely store any number within its range of values.</p>\n\n<p>For the sake of comparison, let's look at a double precision floating point number:</p>\n\n<pre><code>double a = 123456789012345678901234567890d; //30 digits\nConsole.WriteLine(a); // 1.23456789012346E+29\n</code></pre>\n\n<p>Notice that roughly twice as much significant digits are preserved.</p>\n"},{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340376688,"creation_date":1340376688,"answer_id":11158636,"question_id":11158476,"body_markdown":"The hint is in the &quot;floating&quot; part of &quot;floating point&quot;. What you say basically assumes fixed point. A floating point number does not &quot;reserve space&quot; for the digits after the decimal point - it has a limited number of digits (23 binary) and remembers what power of two to multiply it by.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>The hint is in the \"floating\" part of \"floating point\". What you say basically assumes fixed point. A floating point number does not \"reserve space\" for the digits after the decimal point - it has a limited number of digits (23 binary) and remembers what power of two to multiply it by.</p>\n"},{"tags":[],"owner":{"account_id":27080,"reputation":62662,"user_id":71059,"accept_rate":95,"display_name":"AakashM"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1340376786,"creation_date":1340376786,"answer_id":11158675,"question_id":11158476,"body_markdown":"Your intuition quite rightly tells you that there can be no more **information content** in one than the other, because they both have 32 bits. But that doesn&#39;t mean we can&#39;t use those bits to **represent** different values.\r\n\r\nSuppose I invent two new datatypes, `uint4` and `foo4`. `uint4` uses 4 bits to represent an integer, in the standard binary representation, so we have\r\n\r\n    bits   value\r\n    0000       0\r\n    0001       1\r\n    0010       2\r\n    ...\r\n    1111      15\r\n\r\nBut `foo4` uses 4 bits to represent these values:\r\n\r\n    bits   value\r\n    0000       0\r\n    0001      42\r\n    0010     -97\r\n    0011       1\r\n    ...\r\n    1110      pi\r\n    1111       e\r\n\r\nNow `foo4` has a  much **wider** range of values than `uint4`, despite having the same number of bits! How? Because there are some `uint4` values that **can&#39;t** be represented by `foo4`, so those &#39;slots&#39; in the bit mapping are available for other values.\r\n\r\n---\r\n\r\nIt is the same for `int` and `float` - they can both store values from a set of 2&lt;sup&gt;32&lt;/sup&gt; values, just *different* sets of 2&lt;sup&gt;32&lt;/sup&gt; values.\r\n\r\n\r\n","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<p>Your intuition quite rightly tells you that there can be no more <strong>information content</strong> in one than the other, because they both have 32 bits. But that doesn't mean we can't use those bits to <strong>represent</strong> different values.</p>\n\n<p>Suppose I invent two new datatypes, <code>uint4</code> and <code>foo4</code>. <code>uint4</code> uses 4 bits to represent an integer, in the standard binary representation, so we have</p>\n\n<pre><code>bits   value\n0000       0\n0001       1\n0010       2\n...\n1111      15\n</code></pre>\n\n<p>But <code>foo4</code> uses 4 bits to represent these values:</p>\n\n<pre><code>bits   value\n0000       0\n0001      42\n0010     -97\n0011       1\n...\n1110      pi\n1111       e\n</code></pre>\n\n<p>Now <code>foo4</code> has a  much <strong>wider</strong> range of values than <code>uint4</code>, despite having the same number of bits! How? Because there are some <code>uint4</code> values that <strong>can't</strong> be represented by <code>foo4</code>, so those 'slots' in the bit mapping are available for other values.</p>\n\n<hr>\n\n<p>It is the same for <code>int</code> and <code>float</code> - they can both store values from a set of 2<sup>32</sup> values, just <em>different</em> sets of 2<sup>32</sup> values.</p>\n"}],"owner":{"account_id":1240261,"reputation":3190,"user_id":1203043,"accept_rate":84,"display_name":"idish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23579,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":11158675,"answer_count":4,"score":45,"last_activity_date":1680038512,"creation_date":1340376198,"question_id":11158476,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [what the difference between the float and integer data type when the size is same in java?](https://stackoverflow.com/questions/4806944/what-the-difference-between-the-float-and-integer-data-type-when-the-size-is-sam)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nAs you probably know, both of these types are 32-bits.`int` can hold only integer numbers, whereas `float` also supports [floating point](http://en.wikipedia.org/wiki/Floating_point) numbers (as the type names suggest).\r\n\r\nHow is it possible then that the max value of `int` is 2&lt;sup&gt;31&lt;/sup&gt;, and the max value of  `float` is 3.4*10&lt;sup&gt;38&lt;/sup&gt;, while both of them are 32 bits?\r\n\r\nI think that `int`&#39;s max value capacity should be higher than the float because it doesn&#39;t save memory for the floating number and accepts only integer numbers. I&#39;ll be glad for an explanation in that case.","title":"Why do float and int have such different maximum values even though they&#39;re the same number of bits?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/4806944/what-the-difference-between-the-float-and-integer-data-type-when-the-size-is-sam\">what the difference between the float and integer data type when the size is same in java?</a>  </p>\n</blockquote>\n\n\n\n<p>As you probably know, both of these types are 32-bits.<code>int</code> can hold only integer numbers, whereas <code>float</code> also supports <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"noreferrer\">floating point</a> numbers (as the type names suggest).</p>\n\n<p>How is it possible then that the max value of <code>int</code> is 2<sup>31</sup>, and the max value of  <code>float</code> is 3.4*10<sup>38</sup>, while both of them are 32 bits?</p>\n\n<p>I think that <code>int</code>'s max value capacity should be higher than the float because it doesn't save memory for the floating number and accepts only integer numbers. I'll be glad for an explanation in that case.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680038345,"creation_date":1680037626,"question_id":75871082,"body_markdown":"So stemming from this question: https://stackoverflow.com/questions/42912616/spring-test-context-best-practice \r\n\r\nLet&#39;s say you are trying to load a Spring test in Intellij but do not want to run each JUnit test in its own JVM fork (maven surefire plugin&#39;s `fork=class` mode). \r\n\r\nWe instead want to use the default - where all the tests run in same JVM. This will run much faster.\r\n\r\nBut this does not currently work for me because I&#39;m getting &quot;BeanAlreadyDefined&quot; exceptions for some of my auto-configured beans. \r\n\r\nThe stackoverflow question I linked says how to fix it when the Spring beans are already written. But I&#39;m writing new ones. And I want to make them in a way that is following best practices.\r\n\r\nIs there some guide to making Spring JUnit Tests capable of being ran within the same JVM? ","title":"Are there Spring Test best practices to avoid Spring Bean Already Defined Exceptions without having to resort to Fork=Class?","body":"<p>So stemming from this question: <a href=\"https://stackoverflow.com/questions/42912616/spring-test-context-best-practice\">Spring test context best practice</a></p>\n<p>Let's say you are trying to load a Spring test in Intellij but do not want to run each JUnit test in its own JVM fork (maven surefire plugin's <code>fork=class</code> mode).</p>\n<p>We instead want to use the default - where all the tests run in same JVM. This will run much faster.</p>\n<p>But this does not currently work for me because I'm getting &quot;BeanAlreadyDefined&quot; exceptions for some of my auto-configured beans.</p>\n<p>The stackoverflow question I linked says how to fix it when the Spring beans are already written. But I'm writing new ones. And I want to make them in a way that is following best practices.</p>\n<p>Is there some guide to making Spring JUnit Tests capable of being ran within the same JVM?</p>\n"},{"tags":["java","intellij-idea","tabnine"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1680091057,"post_id":75871155,"comment_id":133837469,"body_markdown":"It should be possible to reassign shortcuts in &quot;Settings/Preferences | Keymap&quot;","body":"It should be possible to reassign shortcuts in &quot;Settings/Preferences | Keymap&quot;"}],"owner":{"account_id":12077366,"reputation":31,"user_id":8830328,"display_name":"C. H."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680038316,"creation_date":1680038316,"question_id":75871155,"body_markdown":"Apparently it is &quot;Alt + ]&quot; for next suggestion and &quot;Alt + [&quot; for the previous suggestion, but how can one input these shortcuts when [ and ] are Alt shortcuts by themselves?","title":"How do you navigate through Tabnine suggestions?","body":"<p>Apparently it is &quot;Alt + ]&quot; for next suggestion and &quot;Alt + [&quot; for the previous suggestion, but how can one input these shortcuts when [ and ] are Alt shortcuts by themselves?</p>\n"},{"tags":["java","hadoop","jar","javac"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037470,"creation_date":1680037470,"answer_id":75871060,"question_id":75862852,"body_markdown":"Hadoop does not support Java 11 until latest version 3.3.4\r\n\r\nIf you have both 8 and 11 installed and are not using that version, I&#39;d suggest uninstalling Java 11 completely from your systems. \r\n\r\nSame goes for **external** systems that run that JAR file, such as YARN ResourceManagers. \r\n\r\nI&#39;d recommend using Maven/Gradle to compile JARs, not manually running `javac`","title":"UnsupportedClassVersionError in Hadoop despite the version being correct","body":"<p>Hadoop does not support Java 11 until latest version 3.3.4</p>\n<p>If you have both 8 and 11 installed and are not using that version, I'd suggest uninstalling Java 11 completely from your systems.</p>\n<p>Same goes for <strong>external</strong> systems that run that JAR file, such as YARN ResourceManagers.</p>\n<p>I'd recommend using Maven/Gradle to compile JARs, not manually running <code>javac</code></p>\n"}],"owner":{"account_id":23228110,"reputation":1,"user_id":18126343,"display_name":"RS N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680037470,"creation_date":1679983908,"question_id":75862852,"body_markdown":"When I am running a JAR file using Hadoop, I am running into this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: WordCount has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:405)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.hadoop.util.RunJar.run(RunJar.java:316)\r\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n```\r\n\r\nIt used to work before but I don&#39;t know why it suddenly stopped working. I think after trying this I had worked on some other code and now when I went back to this it started giving this error.\r\n\r\nI have tried:\r\n\r\n1. Both multi-node and single-node.\r\n2. I used update-alternatives to set java, javac and jar to the openJDK 8 version.\r\n3. I have tried target -8 in the javac command.\r\n4. I tried 2 ways to compile it:\r\n   `bin/hadoop com.sun.tools.javac.Main WordCount.java`\r\n   and\r\n   `javac WordCount.java -cp $HADOOP_CLASSPATH`\r\n5. Also tried compiling and jar using the entire path like /usr/lib/jvm/java-8-openjdk-amd64/bin/javac and the same path/jar.\r\n6. I have tried getting the JAR file from someone else for whom the command is working. Using the same JAR file also gave the same error.\r\n\r\nI am really at a loss. How do I proceed now?\r\n\r\nI have Java 11 and 8 installed but I have checked JAVA_HOME, javac -version and java -version. They are correct. hadoop-env.sh is also set correctly.","title":"UnsupportedClassVersionError in Hadoop despite the version being correct","body":"<p>When I am running a JAR file using Hadoop, I am running into this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: WordCount has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:405)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:316)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\n</code></pre>\n<p>It used to work before but I don't know why it suddenly stopped working. I think after trying this I had worked on some other code and now when I went back to this it started giving this error.</p>\n<p>I have tried:</p>\n<ol>\n<li>Both multi-node and single-node.</li>\n<li>I used update-alternatives to set java, javac and jar to the openJDK 8 version.</li>\n<li>I have tried target -8 in the javac command.</li>\n<li>I tried 2 ways to compile it:\n<code>bin/hadoop com.sun.tools.javac.Main WordCount.java</code>\nand\n<code>javac WordCount.java -cp $HADOOP_CLASSPATH</code></li>\n<li>Also tried compiling and jar using the entire path like /usr/lib/jvm/java-8-openjdk-amd64/bin/javac and the same path/jar.</li>\n<li>I have tried getting the JAR file from someone else for whom the command is working. Using the same JAR file also gave the same error.</li>\n</ol>\n<p>I am really at a loss. How do I proceed now?</p>\n<p>I have Java 11 and 8 installed but I have checked JAVA_HOME, javac -version and java -version. They are correct. hadoop-env.sh is also set correctly.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":9719796,"reputation":88,"user_id":7208876,"display_name":"Loc Le Xuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679480454,"creation_date":1679480454,"answer_id":75810971,"question_id":75810764,"body_markdown":"I don&#39;t think upgrade gradle version is a good idea for this. Since flutter is a cross-platform frameword, it has some limit in use latest version of gradle.\r\n\r\nSo, I can give you some recommend to fix, hope this help you that downgrade java version and gradle version\r\n\r\n```\r\nSampleApp\r\n- android\r\n  - app\r\n  - build.gradle\r\n- gradle\r\n  - gradle-wrapper.properties\r\nbuild.gradle\r\n```\r\n\r\nAs you can see, we have two build.gradle file seperately, \r\nYou should downgrade version in project/build.gradle\r\n\r\n```\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        ...\r\n    }\r\n\r\n```\r\nAnd in gradle-wrapper.properties, you should downgrade version, too\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\r\n```\r\n\r\n\r\nThen in terminal, you call `flutter clean` and `flutter run` to build again. \r\nHope this help\r\n\r\n\r\n ","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I don't think upgrade gradle version is a good idea for this. Since flutter is a cross-platform frameword, it has some limit in use latest version of gradle.</p>\n<p>So, I can give you some recommend to fix, hope this help you that downgrade java version and gradle version</p>\n<pre><code>SampleApp\n- android\n  - app\n  - build.gradle\n- gradle\n  - gradle-wrapper.properties\nbuild.gradle\n</code></pre>\n<p>As you can see, we have two build.gradle file seperately,\nYou should downgrade version in project/build.gradle</p>\n<pre><code>    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        ...\n    }\n\n</code></pre>\n<p>And in gradle-wrapper.properties, you should downgrade version, too</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip\n</code></pre>\n<p>Then in terminal, you call <code>flutter clean</code> and <code>flutter run</code> to build again.\nHope this help</p>\n"},{"tags":[],"owner":{"account_id":18770926,"reputation":1,"user_id":13687753,"display_name":"Dmitriy Reuta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037233,"creation_date":1679481042,"answer_id":75811086,"question_id":75810764,"body_markdown":"Try `flutter doctor -v`. This will give you much more detailed info about your environment.\r\n\r\nBut I recommend you use Android Studio so that you don&#39;t have to reinvent the wheel. It&#39;s much easier to start out on and can save you a lot of time.\r\n","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>Try <code>flutter doctor -v</code>. This will give you much more detailed info about your environment.</p>\n<p>But I recommend you use Android Studio so that you don't have to reinvent the wheel. It's much easier to start out on and can save you a lot of time.</p>\n"},{"tags":[],"owner":{"account_id":26669471,"reputation":74,"user_id":20281089,"display_name":"KarlMathuthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679482112,"creation_date":1679482112,"answer_id":75811271,"question_id":75810764,"body_markdown":"I just answered another guy with the same problem as yours, I guess it&#39;s gonna work as it worked for me Check this , [I answered][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75635750/20281089","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I just answered another guy with the same problem as yours, I guess it's gonna work as it worked for me Check this , <a href=\"https://stackoverflow.com/a/75635750/20281089\">I answered</a></p>\n"}],"owner":{"account_id":21024560,"reputation":31,"user_id":15450169,"display_name":"Prathamesh Potabatti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680037233,"creation_date":1679479188,"question_id":75810764,"body_markdown":"I am using Windows 11 machine and learning flutter for the first time and I am using it without Android Studio. I have installed and setup the android SDK manually. Added the SDK to path. Made an ANDROID_SDK_ROOT environment variable. Using the sdkmanager I have installed the &quot;build-tools;33.0.1&quot; &quot;platforms;android-33&quot; &quot;platform-tools&quot;. I have added flutter sdk, platform-tools to path.\r\n\r\nI have manually installed Gradle version 8.0.2 and added it to path as well.\r\n\r\nNow I opened VS Code, opened the command palette and selected Flutter:New Project and then selecting Application.\r\n\r\nI ran &quot;flutter run&quot; in the bash terminal but received the following error:\r\n[this is the error I get](https://i.stack.imgur.com/g4p36.png)\r\n\r\nHere is my gradle version:\r\n[gradle version 8.0.2](https://i.stack.imgur.com/G7jIP.png)\r\n\r\nFlutter Doctor output:\r\n[I am using flutter without android studio](https://i.stack.imgur.com/9xcov.png)\r\n\r\nI have installed jdk version 19.0.2 and added that to path as well. Added JAVA_HOME variable in the environment.\r\n\r\nI have tried changing the version of gradle in the gradle-wrapper.properties file:\r\n[Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine](https://i.stack.imgur.com/22nCL.png)\r\n\r\nBefore the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine.\r\nDue to this in my .gradle folder there are two subfolders made, which are 7.5 and 8.0.2.\r\n\r\nI have tried deleting this folder and recompiling it, but it still doesn&#39;t work.\r\n\r\nI have searched the web and tried multiple solutions. I ran `flutter clean`, `flutter pub get` etc. etc. but none of them seem to work. What can I try next?\r\n\r\nHere is my `root/android/app/build.gradle` script:\r\n\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;1&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion flutter.compileSdkVersion\r\n    ndkVersion flutter.ndkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        applicationId &quot;com.example.sampleapp&quot;\r\n        // You can update the following values to match your application needs.\r\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\r\n        minSdkVersion flutter.minSdkVersion\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n}\r\n```\r\n\r\nI tried many solutions available on the internet, but none of them seem to work.","title":"Flutter: Gradle task assembleDebug failed with exit code 1, using flutter without android studio","body":"<p>I am using Windows 11 machine and learning flutter for the first time and I am using it without Android Studio. I have installed and setup the android SDK manually. Added the SDK to path. Made an ANDROID_SDK_ROOT environment variable. Using the sdkmanager I have installed the &quot;build-tools;33.0.1&quot; &quot;platforms;android-33&quot; &quot;platform-tools&quot;. I have added flutter sdk, platform-tools to path.</p>\n<p>I have manually installed Gradle version 8.0.2 and added it to path as well.</p>\n<p>Now I opened VS Code, opened the command palette and selected Flutter:New Project and then selecting Application.</p>\n<p>I ran &quot;flutter run&quot; in the bash terminal but received the following error:\n<a href=\"https://i.stack.imgur.com/g4p36.png\" rel=\"nofollow noreferrer\">this is the error I get</a></p>\n<p>Here is my gradle version:\n<a href=\"https://i.stack.imgur.com/G7jIP.png\" rel=\"nofollow noreferrer\">gradle version 8.0.2</a></p>\n<p>Flutter Doctor output:\n<a href=\"https://i.stack.imgur.com/9xcov.png\" rel=\"nofollow noreferrer\">I am using flutter without android studio</a></p>\n<p>I have installed jdk version 19.0.2 and added that to path as well. Added JAVA_HOME variable in the environment.</p>\n<p>I have tried changing the version of gradle in the gradle-wrapper.properties file:\n<a href=\"https://i.stack.imgur.com/22nCL.png\" rel=\"nofollow noreferrer\">Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine</a></p>\n<p>Before the version was gradle-7.5-all.zip, so I simply changed it to gradle-8.0.2-all.zip, matching the one installed on my machine.\nDue to this in my .gradle folder there are two subfolders made, which are 7.5 and 8.0.2.</p>\n<p>I have tried deleting this folder and recompiling it, but it still doesn't work.</p>\n<p>I have searched the web and tried multiple solutions. I ran <code>flutter clean</code>, <code>flutter pub get</code> etc. etc. but none of them seem to work. What can I try next?</p>\n<p>Here is my <code>root/android/app/build.gradle</code> script:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.sampleapp&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion flutter.minSdkVersion\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n</code></pre>\n<p>I tried many solutions available on the internet, but none of them seem to work.</p>\n"},{"tags":["java","swing","swingutilities"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1680022931,"post_id":75868874,"comment_id":133824732,"body_markdown":"This question has nothing to do with Javascript btw","body":"This question has nothing to do with Javascript btw"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680024152,"post_id":75868874,"comment_id":133825084,"body_markdown":"With regards to this `label.setIcon(image)`. you no not have a variable called `image`. Change it to `label.setIcon(icon)`.","body":"With regards to this <code>label.setIcon(image)</code>. you no not have a variable called <code>image</code>. Change it to <code>label.setIcon(icon)</code>."}],"answers":[{"tags":[],"owner":{"account_id":5209321,"reputation":116,"user_id":4166251,"display_name":"Stanimir Stamenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022409,"creation_date":1680022409,"answer_id":75868986,"question_id":75868874,"body_markdown":"[`new ImageIcon(&quot;momos.jpeg&quot;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.lang.String)) searches for a file named `momos.jpeg` in the current working directory.  Are you sure you&#39;re starting the application from the directory containing `momos.jpeg`?\r\n\r\nIt is generally better to specify `URL` to a classpath resource, like:\r\n\r\n```java\r\n        ImageIcon icon = new ImageIcon(Label.class.getResource(&quot;momos.jpeg&quot;));\r\n```\r\n\r\nAs long as `momos.jpeg` is in the same directory/package as the application `Label` class, it will be located no matter the current working directory.\r\n","title":"The image Icon doesn&#39;t show up","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>new ImageIcon(&quot;momos.jpeg&quot;)</code></a> searches for a file named <code>momos.jpeg</code> in the current working directory.  Are you sure you're starting the application from the directory containing <code>momos.jpeg</code>?</p>\n<p>It is generally better to specify <code>URL</code> to a classpath resource, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ImageIcon icon = new ImageIcon(Label.class.getResource(&quot;momos.jpeg&quot;));\n</code></pre>\n<p>As long as <code>momos.jpeg</code> is in the same directory/package as the application <code>Label</code> class, it will be located no matter the current working directory.</p>\n"}],"owner":{"account_id":28150131,"reputation":1,"user_id":21511852,"display_name":"Federico Serrano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680037203,"creation_date":1680021535,"question_id":75868874,"body_markdown":"I&#39;m trying out the different functions of the frame and label, and the image icon doesn&#39;t show up. The code runs perfectly, but the image doesn&#39;t appear. \r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.border.Border;\r\n\r\npublic class Label {\r\npublic static void main(String[] args) {\r\n\t\r\n\tImageIcon icon = new ImageIcon(&quot;momos.jpeg&quot;);\r\n\t\r\n\tBorder border = BorderFactory.createLineBorder(Color.pink,10);\r\n\t\r\n\tJLabel label = new JLabel();\r\n\tlabel.setText(&quot;MOMAZOS!?!??!?!&quot;);\r\n\tlabel.setIcon(image);\r\n\tlabel.setHorizontalTextPosition(JLabel.CENTER);// set text CENTER, RIGHT OR LEFT of image icon\r\n\tlabel.setVerticalTextPosition(JLabel.BOTTOM);//set text TOP, CENTER OR BOTTOM of image icon\r\n\tlabel.setForeground(new Color(0xFF00AA));\r\n\tlabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC,40));\r\n\tlabel.setIconTextGap(100);\r\n\tlabel.setBorder(border);\r\n\tlabel.setVerticalAlignment(JLabel.TOP);\r\n\tlabel.setHorizontalAlignment(JLabel.RIGHT);\r\n\r\n\tJFrame frame = new JFrame();\r\n\tframe.setVisible(true);\r\n\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tframe.setSize(1000,1000);\r\n\tframe.getContentPane().setBackground(new Color(0x39FF14));\r\n\tframe.add(label);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n```\r\n\r\nI need for the image to work.","title":"The image Icon doesn&#39;t show up","body":"<p>I'm trying out the different functions of the frame and label, and the image icon doesn't show up. The code runs perfectly, but the image doesn't appear.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.border.Border;\n\npublic class Label {\npublic static void main(String[] args) {\n    \n    ImageIcon icon = new ImageIcon(&quot;momos.jpeg&quot;);\n    \n    Border border = BorderFactory.createLineBorder(Color.pink,10);\n    \n    JLabel label = new JLabel();\n    label.setText(&quot;MOMAZOS!?!??!?!&quot;);\n    label.setIcon(image);\n    label.setHorizontalTextPosition(JLabel.CENTER);// set text CENTER, RIGHT OR LEFT of image icon\n    label.setVerticalTextPosition(JLabel.BOTTOM);//set text TOP, CENTER OR BOTTOM of image icon\n    label.setForeground(new Color(0xFF00AA));\n    label.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC,40));\n    label.setIconTextGap(100);\n    label.setBorder(border);\n    label.setVerticalAlignment(JLabel.TOP);\n    label.setHorizontalAlignment(JLabel.RIGHT);\n\n    JFrame frame = new JFrame();\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(1000,1000);\n    frame.getContentPane().setBackground(new Color(0x39FF14));\n    frame.add(label);\n\n    }\n\n}\n</code></pre>\n<pre><code></code></pre>\n<p>I need for the image to work.</p>\n"},{"tags":["java","android","image-processing","renderscript"],"comments":[{"owner":{"account_id":580967,"reputation":2273,"user_id":237912,"display_name":"Greg"},"score":2,"creation_date":1263509733,"post_id":2067955,"comment_id":1997533,"body_markdown":"Unfortunately the images will always be different so I won&#39;t be able create a blurred version ahead of time.  Plus I won&#39;t know the blur intensity ahead of time either.","body":"Unfortunately the images will always be different so I won&#39;t be able create a blurred version ahead of time.  Plus I won&#39;t know the blur intensity ahead of time either."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1263560337,"post_id":2067955,"comment_id":2001326,"body_markdown":"Could you post your code, it maybe it is the algorithm/code that is inefficient, 30 secs to go through an 640x480 image is slow, I&#39;d have thought  5 secs was slow to but then again depends on the processor.","body":"Could you post your code, it maybe it is the algorithm/code that is inefficient, 30 secs to go through an 640x480 image is slow, I&#39;d have thought  5 secs was slow to but then again depends on the processor."}],"answers":[{"tags":[],"owner":{"account_id":78719,"reputation":931,"user_id":223826,"display_name":"Luke"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1263521012,"creation_date":1263521012,"answer_id":2068981,"question_id":2067955,"body_markdown":"This is a shot in the dark, but you might try shrinking the image and then enlarging it again. This can be done with `Bitmap.createScaledBitmap(Bitmap src, int dstWidth, int dstHeight, boolean filter)`. Make sure and set the filter parameter to true. It&#39;ll run in native code so it might be faster.","title":"Fast Bitmap Blur For Android SDK","body":"<p>This is a shot in the dark, but you might try shrinking the image and then enlarging it again. This can be done with <code>Bitmap.createScaledBitmap(Bitmap src, int dstWidth, int dstHeight, boolean filter)</code>. Make sure and set the filter parameter to true. It'll run in native code so it might be faster.</p>\n"},{"tags":[],"owner":{"account_id":282068,"reputation":8540,"user_id":578746,"accept_rate":83,"display_name":"Yahel"},"down_vote_count":1,"up_vote_count":318,"is_accepted":false,"score":317,"last_activity_date":1557308168,"creation_date":1333627596,"answer_id":10028267,"question_id":2067955,"body_markdown":"For future Googlers, here is an algorithm that I ported from Quasimondo. It&#39;s kind of a mix between a box blur and a gaussian blur, it&#39;s very pretty and quite fast too.\r\n\r\n**Update for people encountering the ArrayIndexOutOfBoundsException problem :** @anthonycr in the comments provides this information : \r\n\r\n&gt; I found that by replacing Math.abs with StrictMath.abs or some other\r\n&gt; abs implementation, the crash does not occur.\r\n\r\n\t/**\r\n\t * Stack Blur v1.0 from\r\n\t * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\r\n\t * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\r\n\t * http://incubator.quasimondo.com\r\n\t *\r\n\t * created Feburary 29, 2004\r\n\t * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\r\n\t * http://www.kayenko.com\r\n\t * ported april 5th, 2012\r\n\t *\r\n\t * This is a compromise between Gaussian Blur and Box blur\r\n\t * It creates much better looking blurs than Box Blur, but is\r\n\t * 7x faster than my Gaussian Blur implementation.\r\n\t *\r\n\t * I called it Stack Blur because this describes best how this\r\n\t * filter works internally: it creates a kind of moving stack\r\n\t * of colors whilst scanning through the image. Thereby it\r\n\t * just has to add one new block of color to the right side\r\n\t * of the stack and remove the leftmost color. The remaining\r\n\t * colors on the topmost layer of the stack are either added on\r\n\t * or reduced by one, depending on if they are on the right or\r\n\t * on the left side of the stack.\r\n\t *\t\r\n\t * If you are using this algorithm in your code please add\r\n\t * the following line:\r\n\t * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\r\n\t */\r\n\r\n\tpublic Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\r\n\r\n\t\tint width = Math.round(sentBitmap.getWidth() * scale);\r\n\t\tint height = Math.round(sentBitmap.getHeight() * scale);\r\n\t\tsentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\r\n\r\n\t\tBitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\r\n\r\n\t\tif (radius &lt; 1) {\r\n\t\t\treturn (null);\r\n\t\t}\r\n\r\n\t\tint w = bitmap.getWidth();\r\n\t\tint h = bitmap.getHeight();\r\n\r\n\t\tint[] pix = new int[w * h];\r\n\t\tLog.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n\t\tbitmap.getPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n\t\tint wm = w - 1;\r\n\t\tint hm = h - 1;\r\n\t\tint wh = w * h;\r\n\t\tint div = radius + radius + 1;\r\n\r\n\t\tint r[] = new int[wh];\r\n\t\tint g[] = new int[wh];\r\n\t\tint b[] = new int[wh];\r\n\t\tint rsum, gsum, bsum, x, y, i, p, yp, yi, yw;\r\n\t\tint vmin[] = new int[Math.max(w, h)];\r\n\r\n\t\tint divsum = (div + 1) &gt;&gt; 1;\r\n\t\tdivsum *= divsum;\r\n\t\tint dv[] = new int[256 * divsum];\r\n\t\tfor (i = 0; i &lt; 256 * divsum; i++) {\r\n\t\t\tdv[i] = (i / divsum);\r\n\t\t}\r\n\r\n\t\tyw = yi = 0;\r\n\r\n\t\tint[][] stack = new int[div][3];\r\n\t\tint stackpointer;\r\n\t\tint stackstart;\r\n\t\tint[] sir;\r\n\t\tint rbs;\r\n\t\tint r1 = radius + 1;\r\n\t\tint routsum, goutsum, boutsum;\r\n\t\tint rinsum, ginsum, binsum;\r\n\r\n\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tp = pix[yi + Math.min(wm, Math.max(i, 0))];\r\n\t\t\t\tsir = stack[i + radius];\r\n\t\t\t\tsir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n\t\t\t\tsir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n\t\t\t\tsir[2] = (p &amp; 0x0000ff);\r\n\t\t\t\trbs = r1 - Math.abs(i);\r\n\t\t\t\trsum += sir[0] * rbs;\r\n\t\t\t\tgsum += sir[1] * rbs;\r\n\t\t\t\tbsum += sir[2] * rbs;\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += sir[0];\r\n\t\t\t\t\tginsum += sir[1];\r\n\t\t\t\t\tbinsum += sir[2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += sir[0];\r\n\t\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\t\tboutsum += sir[2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstackpointer = radius;\r\n\r\n\t\t\tfor (x = 0; x &lt; w; x++) {\r\n\r\n\t\t\t\tr[yi] = dv[rsum];\r\n\t\t\t\tg[yi] = dv[gsum];\r\n\t\t\t\tb[yi] = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tsir = stack[stackstart % div];\r\n\r\n\t\t\t\troutsum -= sir[0];\r\n\t\t\t\tgoutsum -= sir[1];\r\n\t\t\t\tboutsum -= sir[2];\r\n\r\n\t\t\t\tif (y == 0) {\r\n\t\t\t\t\tvmin[x] = Math.min(x + radius + 1, wm);\r\n\t\t\t\t}\r\n\t\t\t\tp = pix[yw + vmin[x]];\r\n\r\n\t\t\t\tsir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n\t\t\t\tsir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n\t\t\t\tsir[2] = (p &amp; 0x0000ff);\r\n\r\n\t\t\t\trinsum += sir[0];\r\n\t\t\t\tginsum += sir[1];\r\n\t\t\t\tbinsum += sir[2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tsir = stack[(stackpointer) % div];\r\n\r\n\t\t\t\troutsum += sir[0];\r\n\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\tboutsum += sir[2];\r\n\r\n\t\t\t\trinsum -= sir[0];\r\n\t\t\t\tginsum -= sir[1];\r\n\t\t\t\tbinsum -= sir[2];\r\n\r\n\t\t\t\tyi++;\r\n\t\t\t}\r\n\t\t\tyw += w;\r\n\t\t}\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\typ = -radius * w;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tyi = Math.max(0, yp) + x;\r\n\r\n\t\t\t\tsir = stack[i + radius];\r\n\r\n\t\t\t\tsir[0] = r[yi];\r\n\t\t\t\tsir[1] = g[yi];\r\n\t\t\t\tsir[2] = b[yi];\r\n\r\n\t\t\t\trbs = r1 - Math.abs(i);\r\n\r\n\t\t\t\trsum += r[yi] * rbs;\r\n\t\t\t\tgsum += g[yi] * rbs;\r\n\t\t\t\tbsum += b[yi] * rbs;\r\n\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += sir[0];\r\n\t\t\t\t\tginsum += sir[1];\r\n\t\t\t\t\tbinsum += sir[2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += sir[0];\r\n\t\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\t\tboutsum += sir[2];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i &lt; hm) {\r\n\t\t\t\t\typ += w;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tyi = x;\r\n\t\t\tstackpointer = radius;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\t// Preserve alpha channel: ( 0xff000000 &amp; pix[yi] )\r\n\t\t\t\tpix[yi] = ( 0xff000000 &amp; pix[yi] ) | ( dv[rsum] &lt;&lt; 16 ) | ( dv[gsum] &lt;&lt; 8 ) | dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tsir = stack[stackstart % div];\r\n\r\n\t\t\t\troutsum -= sir[0];\r\n\t\t\t\tgoutsum -= sir[1];\r\n\t\t\t\tboutsum -= sir[2];\r\n\r\n\t\t\t\tif (x == 0) {\r\n\t\t\t\t\tvmin[y] = Math.min(y + r1, hm) * w;\r\n\t\t\t\t}\r\n\t\t\t\tp = x + vmin[y];\r\n\r\n\t\t\t\tsir[0] = r[p];\r\n\t\t\t\tsir[1] = g[p];\r\n\t\t\t\tsir[2] = b[p];\r\n\r\n\t\t\t\trinsum += sir[0];\r\n\t\t\t\tginsum += sir[1];\r\n\t\t\t\tbinsum += sir[2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tsir = stack[stackpointer];\r\n\r\n\t\t\t\troutsum += sir[0];\r\n\t\t\t\tgoutsum += sir[1];\r\n\t\t\t\tboutsum += sir[2];\r\n\r\n\t\t\t\trinsum -= sir[0];\r\n\t\t\t\tginsum -= sir[1];\r\n\t\t\t\tbinsum -= sir[2];\r\n\r\n\t\t\t\tyi += w;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tLog.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n\t\tbitmap.setPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n\t\treturn (bitmap);\r\n\t}\r\n","title":"Fast Bitmap Blur For Android SDK","body":"<p>For future Googlers, here is an algorithm that I ported from Quasimondo. It's kind of a mix between a box blur and a gaussian blur, it's very pretty and quite fast too.</p>\n\n<p><strong>Update for people encountering the ArrayIndexOutOfBoundsException problem :</strong> @anthonycr in the comments provides this information : </p>\n\n<blockquote>\n  <p>I found that by replacing Math.abs with StrictMath.abs or some other\n  abs implementation, the crash does not occur.</p>\n</blockquote>\n\n<pre><code>/**\n * Stack Blur v1.0 from\n * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\n * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\n * http://incubator.quasimondo.com\n *\n * created Feburary 29, 2004\n * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\n * http://www.kayenko.com\n * ported april 5th, 2012\n *\n * This is a compromise between Gaussian Blur and Box blur\n * It creates much better looking blurs than Box Blur, but is\n * 7x faster than my Gaussian Blur implementation.\n *\n * I called it Stack Blur because this describes best how this\n * filter works internally: it creates a kind of moving stack\n * of colors whilst scanning through the image. Thereby it\n * just has to add one new block of color to the right side\n * of the stack and remove the leftmost color. The remaining\n * colors on the topmost layer of the stack are either added on\n * or reduced by one, depending on if they are on the right or\n * on the left side of the stack.\n *  \n * If you are using this algorithm in your code please add\n * the following line:\n * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\n */\n\npublic Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\n\n    int width = Math.round(sentBitmap.getWidth() * scale);\n    int height = Math.round(sentBitmap.getHeight() * scale);\n    sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\n\n    Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\n\n    if (radius &lt; 1) {\n        return (null);\n    }\n\n    int w = bitmap.getWidth();\n    int h = bitmap.getHeight();\n\n    int[] pix = new int[w * h];\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.getPixels(pix, 0, w, 0, 0, w, h);\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int div = radius + radius + 1;\n\n    int r[] = new int[wh];\n    int g[] = new int[wh];\n    int b[] = new int[wh];\n    int rsum, gsum, bsum, x, y, i, p, yp, yi, yw;\n    int vmin[] = new int[Math.max(w, h)];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[] = new int[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int[][] stack = new int[div][3];\n    int stackpointer;\n    int stackstart;\n    int[] sir;\n    int rbs;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum;\n    int rinsum, ginsum, binsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = pix[yi + Math.min(wm, Math.max(i, 0))];\n            sir = stack[i + radius];\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            rbs = r1 - Math.abs(i);\n            rsum += sir[0] * rbs;\n            gsum += sir[1] * rbs;\n            bsum += sir[2] * rbs;\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n\n            if (y == 0) {\n                vmin[x] = Math.min(x + radius + 1, wm);\n            }\n            p = pix[yw + vmin[x]];\n\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[(stackpointer) % div];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = Math.max(0, yp) + x;\n\n            sir = stack[i + radius];\n\n            sir[0] = r[yi];\n            sir[1] = g[yi];\n            sir[2] = b[yi];\n\n            rbs = r1 - Math.abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            // Preserve alpha channel: ( 0xff000000 &amp; pix[yi] )\n            pix[yi] = ( 0xff000000 &amp; pix[yi] ) | ( dv[rsum] &lt;&lt; 16 ) | ( dv[gsum] &lt;&lt; 8 ) | dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n\n            if (x == 0) {\n                vmin[y] = Math.min(y + r1, hm) * w;\n            }\n            p = x + vmin[y];\n\n            sir[0] = r[p];\n            sir[1] = g[p];\n            sir[2] = b[p];\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[stackpointer];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n\n            yi += w;\n        }\n    }\n\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.setPixels(pix, 0, w, 0, 0, w, h);\n\n    return (bitmap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195874,"reputation":10260,"user_id":439026,"accept_rate":91,"display_name":"zeh"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1398292248,"creation_date":1344986506,"answer_id":11962240,"question_id":2067955,"body_markdown":"**EDIT (April 2014):** This is a question/answer page that still gets a lot of hits it seems. I know I&#39;m always getting upvotes for this post. But if you&#39;re reading this, you need to realize **the answers posted here (both mine and the accepted answer) are out of date.** If you want to implement efficient blur *today*, [you should use RenderScript](https://stackoverflow.com/questions/14988990/android-fast-bitmap-blur) instead of the NDK or Java. RenderScript runs on Android 2.2+ (using the [Android Support Library](http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html)), so there&#39;s no reason not to use it.\r\n\r\nThe old answer follows, but beware as it&#39;s outdated.\r\n\r\n----------\r\n\r\nFor future&#178; Googlers, here is an algorithm that I ported from Yahel&#39;s port of Quasimondo&#39;s algorithm, but using the NDK. It&#39;s based on Yahel&#39;s answer, of course. But this is running native C code, so it&#39;s faster. Much faster. Like, 40 times faster.\r\n\r\nI find that using the NDK is how all image manipulation should be done on Android... it&#39;s somewhat annoying to implement at first (read a great tutorial on using JNI and the NDK [here][1]), but much better, and near real time for a lot of things.\r\n\r\nFor reference, using Yahel&#39;s Java function, it took 10 seconds to blur my 480x532 pixels image with a blur radius of 10. But it took 250ms using the native C version. And I&#39;m pretty sure it can still be further optimized... I just did a dumb conversion of the java code, there&#39;s probably some manipulations that can be shortened, didn&#39;t want to spend too much time refactoring the whole thing.\r\n\r\n\t#include &lt;jni.h&gt;\r\n\t#include &lt;string.h&gt;\r\n\t#include &lt;math.h&gt;\r\n\t#include &lt;stdio.h&gt;\r\n\t#include &lt;android/log.h&gt;\r\n\t#include &lt;android/bitmap.h&gt;\r\n\r\n\t#define LOG_TAG\t&quot;libbitmaputils&quot;\r\n\t#define LOGI(...)  __android_log_print(ANDROID_LOG_INFO,LOG_TAG,__VA_ARGS__)\r\n\t#define LOGE(...)  __android_log_print(ANDROID_LOG_ERROR,LOG_TAG,__VA_ARGS__)\r\n\r\n\ttypedef struct {\r\n\t\tuint8_t red;\r\n\t\tuint8_t green;\r\n\t\tuint8_t blue;\r\n\t\tuint8_t alpha;\r\n\t} rgba;\r\n\r\n\tJNIEXPORT void JNICALL Java_com_insert_your_package_ClassName_functionToBlur(JNIEnv* env, jobject obj, jobject bitmapIn, jobject bitmapOut, jint radius) {\r\n\t\tLOGI(&quot;Blurring bitmap...&quot;);\r\n\r\n\t\t// Properties\r\n\t\tAndroidBitmapInfo\tinfoIn;\r\n\t\tvoid*\t\t\t\tpixelsIn;\r\n\t\tAndroidBitmapInfo\tinfoOut;\r\n\t\tvoid*\t\t\t\tpixelsOut;\r\n\r\n\t\tint\tret;\r\n\r\n\t\t// Get image info\r\n\t\tif ((ret = AndroidBitmap_getInfo(env, bitmapIn, &amp;infoIn)) &lt; 0 || (ret = AndroidBitmap_getInfo(env, bitmapOut, &amp;infoOut)) &lt; 0) {\r\n\t\t\tLOGE(&quot;AndroidBitmap_getInfo() failed ! error=%d&quot;, ret);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check image\r\n\t\tif (infoIn.format != ANDROID_BITMAP_FORMAT_RGBA_8888 || infoOut.format != ANDROID_BITMAP_FORMAT_RGBA_8888) {\r\n\t\t\tLOGE(&quot;Bitmap format is not RGBA_8888!&quot;);\r\n\t\t\tLOGE(&quot;==&gt; %d %d&quot;, infoIn.format, infoOut.format);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Lock all images\r\n\t\tif ((ret = AndroidBitmap_lockPixels(env, bitmapIn, &amp;pixelsIn)) &lt; 0 || (ret = AndroidBitmap_lockPixels(env, bitmapOut, &amp;pixelsOut)) &lt; 0) {\r\n\t\t\tLOGE(&quot;AndroidBitmap_lockPixels() failed ! error=%d&quot;, ret);\r\n\t\t}\r\n\r\n\t\tint h = infoIn.height;\r\n\t\tint w = infoIn.width;\r\n\r\n\t\tLOGI(&quot;Image size is: %i %i&quot;, w, h);\r\n\t\t\r\n\t\trgba* input = (rgba*) pixelsIn;\r\n\t\trgba* output = (rgba*) pixelsOut;\r\n\r\n\t\tint wm = w - 1;\r\n\t\tint hm = h - 1;\r\n\t\tint wh = w * h;\r\n\t\tint whMax = max(w, h);\r\n\t\tint div = radius + radius + 1;\r\n\r\n\t\tint r[wh];\r\n\t\tint g[wh];\r\n\t\tint b[wh];\r\n\t\tint rsum, gsum, bsum, x, y, i, yp, yi, yw;\r\n\t\trgba p;\r\n\t\tint vmin[whMax];\r\n\r\n\t\tint divsum = (div + 1) &gt;&gt; 1;\r\n\t\tdivsum *= divsum;\r\n\t\tint dv[256 * divsum];\r\n\t\tfor (i = 0; i &lt; 256 * divsum; i++) {\r\n\t\t\tdv[i] = (i / divsum);\r\n\t\t}\r\n\r\n\t\tyw = yi = 0;\r\n\r\n\t\tint stack[div][3];\r\n\t\tint stackpointer;\r\n\t\tint stackstart;\r\n\t\tint rbs;\r\n\t\tint ir;\r\n\t\tint ip;\r\n\t\tint r1 = radius + 1;\r\n\t\tint routsum, goutsum, boutsum;\r\n\t\tint rinsum, ginsum, binsum;\r\n\r\n\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tp = input[yi + min(wm, max(i, 0))];\r\n\r\n\t\t\t\tir = i + radius; // same as sir\r\n\r\n\t\t\t\tstack[ir][0] = p.red;\r\n\t\t\t\tstack[ir][1] = p.green;\r\n\t\t\t\tstack[ir][2] = p.blue;\r\n\t\t\t\trbs = r1 - abs(i);\r\n\t\t\t\trsum += stack[ir][0] * rbs;\r\n\t\t\t\tgsum += stack[ir][1] * rbs;\r\n\t\t\t\tbsum += stack[ir][2] * rbs;\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\t\tbinsum += stack[ir][2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\t\tboutsum += stack[ir][2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstackpointer = radius;\r\n\r\n\t\t\tfor (x = 0; x &lt; w; x++) {\r\n\r\n\t\t\t\tr[yi] = dv[rsum];\r\n\t\t\t\tg[yi] = dv[gsum];\r\n\t\t\t\tb[yi] = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tir = stackstart % div; // same as sir\r\n\r\n\t\t\t\troutsum -= stack[ir][0];\r\n\t\t\t\tgoutsum -= stack[ir][1];\r\n\t\t\t\tboutsum -= stack[ir][2];\r\n\r\n\t\t\t\tif (y == 0) {\r\n\t\t\t\t\tvmin[x] = min(x + radius + 1, wm);\r\n\t\t\t\t}\r\n\t\t\t\tp = input[yw + vmin[x]];\r\n\r\n\t\t\t\tstack[ir][0] = p.red;\r\n\t\t\t\tstack[ir][1] = p.green;\r\n\t\t\t\tstack[ir][2] = p.blue;\r\n\r\n\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\tbinsum += stack[ir][2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tir = (stackpointer) % div; // same as sir\r\n\r\n\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\tboutsum += stack[ir][2];\r\n\r\n\t\t\t\trinsum -= stack[ir][0];\r\n\t\t\t\tginsum -= stack[ir][1];\r\n\t\t\t\tbinsum -= stack[ir][2];\r\n\r\n\t\t\t\tyi++;\r\n\t\t\t}\r\n\t\t\tyw += w;\r\n\t\t}\r\n\t\tfor (x = 0; x &lt; w; x++) {\r\n\t\t\trinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\r\n\t\t\typ = -radius * w;\r\n\t\t\tfor (i = -radius; i &lt;= radius; i++) {\r\n\t\t\t\tyi = max(0, yp) + x;\r\n\r\n\t\t\t\tir = i + radius; // same as sir\r\n\r\n\t\t\t\tstack[ir][0] = r[yi];\r\n\t\t\t\tstack[ir][1] = g[yi];\r\n\t\t\t\tstack[ir][2] = b[yi];\r\n\r\n\t\t\t\trbs = r1 - abs(i);\r\n\r\n\t\t\t\trsum += r[yi] * rbs;\r\n\t\t\t\tgsum += g[yi] * rbs;\r\n\t\t\t\tbsum += b[yi] * rbs;\r\n\r\n\t\t\t\tif (i &gt; 0) {\r\n\t\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\t\tbinsum += stack[ir][2];\r\n\t\t\t\t} else {\r\n\t\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\t\tboutsum += stack[ir][2];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i &lt; hm) {\r\n\t\t\t\t\typ += w;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tyi = x;\r\n\t\t\tstackpointer = radius;\r\n\t\t\tfor (y = 0; y &lt; h; y++) {\r\n\t\t\t\toutput[yi].red = dv[rsum];\r\n\t\t\t\toutput[yi].green = dv[gsum];\r\n\t\t\t\toutput[yi].blue = dv[bsum];\r\n\r\n\t\t\t\trsum -= routsum;\r\n\t\t\t\tgsum -= goutsum;\r\n\t\t\t\tbsum -= boutsum;\r\n\r\n\t\t\t\tstackstart = stackpointer - radius + div;\r\n\t\t\t\tir = stackstart % div; // same as sir\r\n\r\n\t\t\t\troutsum -= stack[ir][0];\r\n\t\t\t\tgoutsum -= stack[ir][1];\r\n\t\t\t\tboutsum -= stack[ir][2];\r\n\r\n\t\t\t\tif (x == 0) vmin[y] = min(y + r1, hm) * w;\r\n\t\t\t\tip = x + vmin[y];\r\n\r\n\t\t\t\tstack[ir][0] = r[ip];\r\n\t\t\t\tstack[ir][1] = g[ip];\r\n\t\t\t\tstack[ir][2] = b[ip];\r\n\r\n\t\t\t\trinsum += stack[ir][0];\r\n\t\t\t\tginsum += stack[ir][1];\r\n\t\t\t\tbinsum += stack[ir][2];\r\n\r\n\t\t\t\trsum += rinsum;\r\n\t\t\t\tgsum += ginsum;\r\n\t\t\t\tbsum += binsum;\r\n\r\n\t\t\t\tstackpointer = (stackpointer + 1) % div;\r\n\t\t\t\tir = stackpointer; // same as sir\r\n\r\n\t\t\t\troutsum += stack[ir][0];\r\n\t\t\t\tgoutsum += stack[ir][1];\r\n\t\t\t\tboutsum += stack[ir][2];\r\n\r\n\t\t\t\trinsum -= stack[ir][0];\r\n\t\t\t\tginsum -= stack[ir][1];\r\n\t\t\t\tbinsum -= stack[ir][2];\r\n\r\n\t\t\t\tyi += w;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Unlocks everything\r\n\t\tAndroidBitmap_unlockPixels(env, bitmapIn);\r\n\t\tAndroidBitmap_unlockPixels(env, bitmapOut);\r\n\r\n\t\tLOGI (&quot;Bitmap blurred.&quot;);\r\n\t}\r\n\r\n\tint min(int a, int b) {\r\n\t\treturn a &gt; b ? b : a;\r\n\t}\r\n\r\n\tint max(int a, int b) {\r\n\t\treturn a &gt; b ? a : b;\r\n\t}\r\n\r\nThen use it like this (considering a class called com.insert.your.package.ClassName and a native function called functionToBlur, as the code above states):\r\n\r\n\t// Create a copy\r\n\tBitmap bitmapOut = bitmapIn.copy(Bitmap.Config.ARGB_8888, true);\r\n\t// Blur the copy\r\n\tfunctionToBlur(bitmapIn, bitmapOut, __radius);\r\n\r\nIt expects a RGB_8888 bitmap!\r\n\r\nTo use a RGB_565 bitmap, either create a converted copy before passing the parameter (yuck), or change the function to use a new `rgb565` type instead of `rgba`:\r\n\r\n\ttypedef struct {\r\n\t\tuint16_t byte0;\r\n\t} rgb565;\r\n\r\nThe problem is that if you do that you can&#39;t read `.red`, `.green` and `.blue` of the pixel anymore, you need to read the byte properly, duh. When I needed that before, I did this:\r\n\r\n\tr = (pixels[x].byte0 &amp; 0xF800) &gt;&gt; 8;\r\n\tg = (pixels[x].byte0 &amp; 0x07E0) &gt;&gt; 3;\r\n\tb = (pixels[x].byte0 &amp; 0x001F) &lt;&lt; 3;\r\n\r\nBut there&#39;s probably some less dumb way of doing it. I&#39;m not much of a low-level C coder, I&#39;m afraid.\r\n\r\n  [1]: http://www.ibm.com/developerworks/opensource/tutorials/os-androidndk/section5.html","title":"Fast Bitmap Blur For Android SDK","body":"<p><strong>EDIT (April 2014):</strong> This is a question/answer page that still gets a lot of hits it seems. I know I'm always getting upvotes for this post. But if you're reading this, you need to realize <strong>the answers posted here (both mine and the accepted answer) are out of date.</strong> If you want to implement efficient blur <em>today</em>, <a href=\"https://stackoverflow.com/questions/14988990/android-fast-bitmap-blur\">you should use RenderScript</a> instead of the NDK or Java. RenderScript runs on Android 2.2+ (using the <a href=\"http://android-developers.blogspot.com/2013/09/renderscript-in-android-support-library.html\" rel=\"nofollow noreferrer\">Android Support Library</a>), so there's no reason not to use it.</p>\n\n<p>The old answer follows, but beware as it's outdated.</p>\n\n<hr>\n\n<p>For future² Googlers, here is an algorithm that I ported from Yahel's port of Quasimondo's algorithm, but using the NDK. It's based on Yahel's answer, of course. But this is running native C code, so it's faster. Much faster. Like, 40 times faster.</p>\n\n<p>I find that using the NDK is how all image manipulation should be done on Android... it's somewhat annoying to implement at first (read a great tutorial on using JNI and the NDK <a href=\"http://www.ibm.com/developerworks/opensource/tutorials/os-androidndk/section5.html\" rel=\"nofollow noreferrer\">here</a>), but much better, and near real time for a lot of things.</p>\n\n<p>For reference, using Yahel's Java function, it took 10 seconds to blur my 480x532 pixels image with a blur radius of 10. But it took 250ms using the native C version. And I'm pretty sure it can still be further optimized... I just did a dumb conversion of the java code, there's probably some manipulations that can be shortened, didn't want to spend too much time refactoring the whole thing.</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;string.h&gt;\n#include &lt;math.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;android/log.h&gt;\n#include &lt;android/bitmap.h&gt;\n\n#define LOG_TAG \"libbitmaputils\"\n#define LOGI(...)  __android_log_print(ANDROID_LOG_INFO,LOG_TAG,__VA_ARGS__)\n#define LOGE(...)  __android_log_print(ANDROID_LOG_ERROR,LOG_TAG,__VA_ARGS__)\n\ntypedef struct {\n    uint8_t red;\n    uint8_t green;\n    uint8_t blue;\n    uint8_t alpha;\n} rgba;\n\nJNIEXPORT void JNICALL Java_com_insert_your_package_ClassName_functionToBlur(JNIEnv* env, jobject obj, jobject bitmapIn, jobject bitmapOut, jint radius) {\n    LOGI(\"Blurring bitmap...\");\n\n    // Properties\n    AndroidBitmapInfo   infoIn;\n    void*               pixelsIn;\n    AndroidBitmapInfo   infoOut;\n    void*               pixelsOut;\n\n    int ret;\n\n    // Get image info\n    if ((ret = AndroidBitmap_getInfo(env, bitmapIn, &amp;infoIn)) &lt; 0 || (ret = AndroidBitmap_getInfo(env, bitmapOut, &amp;infoOut)) &lt; 0) {\n        LOGE(\"AndroidBitmap_getInfo() failed ! error=%d\", ret);\n        return;\n    }\n\n    // Check image\n    if (infoIn.format != ANDROID_BITMAP_FORMAT_RGBA_8888 || infoOut.format != ANDROID_BITMAP_FORMAT_RGBA_8888) {\n        LOGE(\"Bitmap format is not RGBA_8888!\");\n        LOGE(\"==&gt; %d %d\", infoIn.format, infoOut.format);\n        return;\n    }\n\n    // Lock all images\n    if ((ret = AndroidBitmap_lockPixels(env, bitmapIn, &amp;pixelsIn)) &lt; 0 || (ret = AndroidBitmap_lockPixels(env, bitmapOut, &amp;pixelsOut)) &lt; 0) {\n        LOGE(\"AndroidBitmap_lockPixels() failed ! error=%d\", ret);\n    }\n\n    int h = infoIn.height;\n    int w = infoIn.width;\n\n    LOGI(\"Image size is: %i %i\", w, h);\n\n    rgba* input = (rgba*) pixelsIn;\n    rgba* output = (rgba*) pixelsOut;\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int whMax = max(w, h);\n    int div = radius + radius + 1;\n\n    int r[wh];\n    int g[wh];\n    int b[wh];\n    int rsum, gsum, bsum, x, y, i, yp, yi, yw;\n    rgba p;\n    int vmin[whMax];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int stack[div][3];\n    int stackpointer;\n    int stackstart;\n    int rbs;\n    int ir;\n    int ip;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum;\n    int rinsum, ginsum, binsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = input[yi + min(wm, max(i, 0))];\n\n            ir = i + radius; // same as sir\n\n            stack[ir][0] = p.red;\n            stack[ir][1] = p.green;\n            stack[ir][2] = p.blue;\n            rbs = r1 - abs(i);\n            rsum += stack[ir][0] * rbs;\n            gsum += stack[ir][1] * rbs;\n            bsum += stack[ir][2] * rbs;\n            if (i &gt; 0) {\n                rinsum += stack[ir][0];\n                ginsum += stack[ir][1];\n                binsum += stack[ir][2];\n            } else {\n                routsum += stack[ir][0];\n                goutsum += stack[ir][1];\n                boutsum += stack[ir][2];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            ir = stackstart % div; // same as sir\n\n            routsum -= stack[ir][0];\n            goutsum -= stack[ir][1];\n            boutsum -= stack[ir][2];\n\n            if (y == 0) {\n                vmin[x] = min(x + radius + 1, wm);\n            }\n            p = input[yw + vmin[x]];\n\n            stack[ir][0] = p.red;\n            stack[ir][1] = p.green;\n            stack[ir][2] = p.blue;\n\n            rinsum += stack[ir][0];\n            ginsum += stack[ir][1];\n            binsum += stack[ir][2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            ir = (stackpointer) % div; // same as sir\n\n            routsum += stack[ir][0];\n            goutsum += stack[ir][1];\n            boutsum += stack[ir][2];\n\n            rinsum -= stack[ir][0];\n            ginsum -= stack[ir][1];\n            binsum -= stack[ir][2];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = routsum = goutsum = boutsum = rsum = gsum = bsum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = max(0, yp) + x;\n\n            ir = i + radius; // same as sir\n\n            stack[ir][0] = r[yi];\n            stack[ir][1] = g[yi];\n            stack[ir][2] = b[yi];\n\n            rbs = r1 - abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += stack[ir][0];\n                ginsum += stack[ir][1];\n                binsum += stack[ir][2];\n            } else {\n                routsum += stack[ir][0];\n                goutsum += stack[ir][1];\n                boutsum += stack[ir][2];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            output[yi].red = dv[rsum];\n            output[yi].green = dv[gsum];\n            output[yi].blue = dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n\n            stackstart = stackpointer - radius + div;\n            ir = stackstart % div; // same as sir\n\n            routsum -= stack[ir][0];\n            goutsum -= stack[ir][1];\n            boutsum -= stack[ir][2];\n\n            if (x == 0) vmin[y] = min(y + r1, hm) * w;\n            ip = x + vmin[y];\n\n            stack[ir][0] = r[ip];\n            stack[ir][1] = g[ip];\n            stack[ir][2] = b[ip];\n\n            rinsum += stack[ir][0];\n            ginsum += stack[ir][1];\n            binsum += stack[ir][2];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            ir = stackpointer; // same as sir\n\n            routsum += stack[ir][0];\n            goutsum += stack[ir][1];\n            boutsum += stack[ir][2];\n\n            rinsum -= stack[ir][0];\n            ginsum -= stack[ir][1];\n            binsum -= stack[ir][2];\n\n            yi += w;\n        }\n    }\n\n    // Unlocks everything\n    AndroidBitmap_unlockPixels(env, bitmapIn);\n    AndroidBitmap_unlockPixels(env, bitmapOut);\n\n    LOGI (\"Bitmap blurred.\");\n}\n\nint min(int a, int b) {\n    return a &gt; b ? b : a;\n}\n\nint max(int a, int b) {\n    return a &gt; b ? a : b;\n}\n</code></pre>\n\n<p>Then use it like this (considering a class called com.insert.your.package.ClassName and a native function called functionToBlur, as the code above states):</p>\n\n<pre><code>// Create a copy\nBitmap bitmapOut = bitmapIn.copy(Bitmap.Config.ARGB_8888, true);\n// Blur the copy\nfunctionToBlur(bitmapIn, bitmapOut, __radius);\n</code></pre>\n\n<p>It expects a RGB_8888 bitmap!</p>\n\n<p>To use a RGB_565 bitmap, either create a converted copy before passing the parameter (yuck), or change the function to use a new <code>rgb565</code> type instead of <code>rgba</code>:</p>\n\n<pre><code>typedef struct {\n    uint16_t byte0;\n} rgb565;\n</code></pre>\n\n<p>The problem is that if you do that you can't read <code>.red</code>, <code>.green</code> and <code>.blue</code> of the pixel anymore, you need to read the byte properly, duh. When I needed that before, I did this:</p>\n\n<pre><code>r = (pixels[x].byte0 &amp; 0xF800) &gt;&gt; 8;\ng = (pixels[x].byte0 &amp; 0x07E0) &gt;&gt; 3;\nb = (pixels[x].byte0 &amp; 0x001F) &lt;&lt; 3;\n</code></pre>\n\n<p>But there's probably some less dumb way of doing it. I'm not much of a low-level C coder, I'm afraid.</p>\n"},{"tags":[],"owner":{"account_id":3252454,"reputation":2597,"user_id":2742365,"display_name":"Victor  Laskin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380280078,"creation_date":1380280078,"answer_id":19049224,"question_id":2067955,"body_markdown":"For future Googlers who choose NDK approach - i find reliable mentioned stackblur algorithm. I found C++ implementation which does not rely on SSE here - http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32 which contains some optimizations using static tables like:\r\n\r\n    static unsigned short const stackblur_mul[255] =\r\n    {\r\n    \t512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\r\n\t\t454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\r\n\t\t482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\r\n\t\t437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\r\n\t\t497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\r\n\t\t320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\r\n\t\t446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\r\n\t\t329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\r\n\t\t505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\r\n\t\t399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\r\n\t\t324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\r\n\t\t268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\r\n\t\t451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\r\n\t\t385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\r\n\t\t332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\r\n\t\t289,287,285,282,280,278,275,273,271,269,267,265,263,261,259\r\n    };\r\n\r\n    static unsigned char const stackblur_shr[255] =\r\n    {\r\n\t\t9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\r\n\t\t17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\r\n\t\t19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\r\n\t\t20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\r\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\r\n\t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\r\n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\r\n\t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n\t\t23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n\t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24\r\n    }; \r\n\r\nI made modification of stackblur algorithm for multi-core systems - it can be found here http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/ \r\nAs more and more devices have 4 cores - optimizations give 4x speed benefit.","title":"Fast Bitmap Blur For Android SDK","body":"<p>For future Googlers who choose NDK approach - i find reliable mentioned stackblur algorithm. I found C++ implementation which does not rely on SSE here - <a href=\"http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32\" rel=\"nofollow\">http://www.antigrain.com/__code/include/agg_blur.h.html#stack_blur_rgba32</a> which contains some optimizations using static tables like:</p>\n\n<pre><code>static unsigned short const stackblur_mul[255] =\n{\n    512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n    454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n    482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n    437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n    497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n    320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n    446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n    329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n    505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n    399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n    324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n    268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n    451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n    385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n    332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n    289,287,285,282,280,278,275,273,271,269,267,265,263,261,259\n};\n\nstatic unsigned char const stackblur_shr[255] =\n{\n    9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\n    17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\n    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24\n}; \n</code></pre>\n\n<p>I made modification of stackblur algorithm for multi-core systems - it can be found here <a href=\"http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/\" rel=\"nofollow\">http://vitiy.info/stackblur-algorithm-multi-threaded-blur-for-cpp/</a> \nAs more and more devices have 4 cores - optimizations give 4x speed benefit.</p>\n"},{"tags":[],"owner":{"account_id":2361731,"reputation":1001,"user_id":2068280,"accept_rate":80,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386325826,"creation_date":1386325826,"answer_id":20421640,"question_id":2067955,"body_markdown":"Use Render Script as mentioned here http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/","title":"Fast Bitmap Blur For Android SDK","body":"<p>Use Render Script as mentioned here <a href=\"http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/\" rel=\"nofollow\">http://blog.neteril.org/blog/2013/08/12/blurring-images-on-android/</a></p>\n"},{"tags":[],"owner":{"account_id":240700,"reputation":14136,"user_id":511082,"accept_rate":91,"display_name":"b_yng"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1389378639,"creation_date":1389378639,"answer_id":21051758,"question_id":2067955,"body_markdown":"You can now use [ScriptIntrinsicBlur][1] from the RenderScript library to blur quickly. [Here][2] is how to access the RenderScript API. The following is a class I made to blur Views and Bitmaps:\r\n\r\n    public class BlurBuilder {\r\n\t    private static final float BITMAP_SCALE = 0.4f;\r\n\t    private static final float BLUR_RADIUS = 7.5f;\r\n\r\n\t    public static Bitmap blur(View v) {\r\n\t\t    return blur(v.getContext(), getScreenshot(v));\r\n\t    }\r\n\r\n\t    public static Bitmap blur(Context ctx, Bitmap image) {\r\n\t\t    int width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n\t\t    int height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n\r\n\t\t    Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\r\n\t\t    Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n\r\n\t\t    RenderScript rs = RenderScript.create(ctx);\r\n\t\t    ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n\t\t    Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n\t\t    Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n\t\t    theIntrinsic.setRadius(BLUR_RADIUS);\r\n\t\t    theIntrinsic.setInput(tmpIn);\r\n\t\t    theIntrinsic.forEach(tmpOut);\r\n\t\t    tmpOut.copyTo(outputBitmap);\r\n\r\n\t\t    return outputBitmap;\r\n\t    }\r\n\t\r\n\t    private static Bitmap getScreenshot(View v) {\r\n\t\t    Bitmap b = Bitmap.createBitmap(v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);\r\n\t\t    Canvas c = new Canvas(b);\r\n\t\t    v.draw(c);\r\n\t\t    return b;\r\n\t    }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\r\n  [2]: http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis","title":"Fast Bitmap Blur For Android SDK","body":"<p>You can now use <a href=\"http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\" rel=\"noreferrer\">ScriptIntrinsicBlur</a> from the RenderScript library to blur quickly. <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"noreferrer\">Here</a> is how to access the RenderScript API. The following is a class I made to blur Views and Bitmaps:</p>\n\n<pre><code>public class BlurBuilder {\n    private static final float BITMAP_SCALE = 0.4f;\n    private static final float BLUR_RADIUS = 7.5f;\n\n    public static Bitmap blur(View v) {\n        return blur(v.getContext(), getScreenshot(v));\n    }\n\n    public static Bitmap blur(Context ctx, Bitmap image) {\n        int width = Math.round(image.getWidth() * BITMAP_SCALE);\n        int height = Math.round(image.getHeight() * BITMAP_SCALE);\n\n        Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\n        Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n\n        RenderScript rs = RenderScript.create(ctx);\n        ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n        Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n        Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n        theIntrinsic.setRadius(BLUR_RADIUS);\n        theIntrinsic.setInput(tmpIn);\n        theIntrinsic.forEach(tmpOut);\n        tmpOut.copyTo(outputBitmap);\n\n        return outputBitmap;\n    }\n\n    private static Bitmap getScreenshot(View v) {\n        Bitmap b = Bitmap.createBitmap(v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas c = new Canvas(b);\n        v.draw(c);\n        return b;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85391,"reputation":5204,"user_id":238089,"accept_rate":76,"display_name":"Yura Shinkarev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399699614,"creation_date":1389869185,"answer_id":21159565,"question_id":2067955,"body_markdown":"Nicolas POMEPUY advice. I think this link will be helpful: [**Blur effect for Android design**][1]\r\n\r\nSample project at [github][2]\r\n\r\n\t@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n\tprivate static Bitmap fastblur16(Bitmap source, int radius, Context ctx) {    \r\n\t\tBitmap bitmap = source.copy(source.getConfig(), true);    \r\n\t\tRenderScript rs = RenderScript.create(ctx);\r\n\t\tAllocation input = Allocation.createFromBitmap(rs, source, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_SCRIPT);\r\n\t\tAllocation output = Allocation.createTyped(rs, input.getType());\r\n\t\tScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n\t\tscript.setRadius(radius);\r\n\t\tscript.setInput(input);\r\n\t\tscript.forEach(output);\r\n\t\toutput.copyTo(bitmap);\r\n\t\treturn bitmap;\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://nicolaspomepuy.fr/blur-effect-for-android-design/ &quot;Blur effect for Android design&quot;\r\n  [2]: https://github.com/PomepuyN/BlurEffectForAndroidDesign","title":"Fast Bitmap Blur For Android SDK","body":"<p>Nicolas POMEPUY advice. I think this link will be helpful: <a href=\"http://nicolaspomepuy.fr/blur-effect-for-android-design/\" rel=\"nofollow\" title=\"Blur effect for Android design\"><strong>Blur effect for Android design</strong></a></p>\n\n<p>Sample project at <a href=\"https://github.com/PomepuyN/BlurEffectForAndroidDesign\" rel=\"nofollow\">github</a></p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\nprivate static Bitmap fastblur16(Bitmap source, int radius, Context ctx) {    \n    Bitmap bitmap = source.copy(source.getConfig(), true);    \n    RenderScript rs = RenderScript.create(ctx);\n    Allocation input = Allocation.createFromBitmap(rs, source, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_SCRIPT);\n    Allocation output = Allocation.createTyped(rs, input.getType());\n    ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n    script.setRadius(radius);\n    script.setInput(input);\n    script.forEach(output);\n    output.copyTo(bitmap);\n    return bitmap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":273,"is_accepted":false,"score":273,"last_activity_date":1680036776,"creation_date":1397681778,"answer_id":23119957,"question_id":2067955,"body_markdown":"Android Blur Guide 2016\r\n-----------------------\r\n[with Showcase/Benchmark App][1] and [Source on GitHub][2].\r\n*Also check out the Blur framework I&#39;m currently working on: [Dali][3].*\r\n\r\nAfter experimenting a lot I can now safely give you some solid recommendations that will make your life easier in Android when using the Android Framework.\r\n\r\n## Load and Use a down scaled Bitmap (for very blurry images) ##\r\n\r\nNever use the full size of a Bitmap. The bigger the image the more needs to be blurred and also the higher the blur radius needs to be and usually, the higher the blur radius the longer the algorithm takes.\r\n\r\n```java\r\nfinal BitmapFactory.Options options = new BitmapFactory.Options();\r\noptions.inSampleSize = 8;\r\nBitmap blurTemplate = BitmapFactory.decodeResource(getResources(), R.drawable.myImage, options);\r\n```\r\n\r\nThis will load the bitmap with `inSampleSize` 8, so only 1/64 of the original image. Test what `inSampleSize` suits your needs, but keep it 2^n (2,4,8,...) to avoid degrading quality due to scaling. [See Google doc for more][4]\r\n\r\nAnother huge advantage is that bitmap loading will be really fast. In my early blur testing I figured that the longest time during the whole blur process was the image loading. So to load a 1920x1080 image from disk my Nexus 5 needed 500ms while the blurring only took another 250 ms or so.\r\n\r\n## Use Renderscript ##\r\n\r\nRenderscript provides [`ScriptIntrinsicBlur`][5] which is a Gaussian blur filter. It has good visual quality and is just the fastest you realistically get on Android. Google claims to be [&quot;typically 2-3x faster than a multithreaded C implementation and often 10x+ faster than a Java implementation&quot;][6]. Renderscript is really sophisticated (using the fastest processing device (GPU, ISP, etc.), etc.) and there is also the [v8 support library for it making it compatible down to 2.2][7]. Well at least in theory, through my own tests and reports from other devs it seems that it is not possible to use Renderscript blindly, since the hardware/driver fragmentation seems to cause problems with some devices, even with higher SDK level (e.g. I had troubles with the 4.1 Nexus S) so be careful and test on a lot of devices. Here&#39;s a simple example that will get you started:\r\n\r\n```java\r\n//define this only once if blurring multiple times\r\nRenderScript rs = RenderScript.create(context);\r\n\r\n(...)\r\n//this will blur the bitmapOriginal with a radius of 8 and save it in bitmapOriginal\r\nfinal Allocation input = Allocation.createFromBitmap(rs, bitmapOriginal); //use this constructor for best performance, because it uses USAGE_SHARED mode which reuses memory\r\nfinal Allocation output = Allocation.createTyped(rs, input.getType());\r\nfinal ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\nscript.setRadius(8f);\r\nscript.setInput(input);\r\nscript.forEach(output);\r\noutput.copyTo(bitmapOriginal);\r\n```\r\n\r\nWhen using the v8 support with Gradle, which is specifically recommended by Google [&quot;because they include the latest improvements&quot;][7], you only [need to add 2 lines to your build script][8] and use `android.support.v8.renderscript` with current build tools ([updated syntax for android Gradle plugin v14+][9])\r\n\r\n```groovy\r\nandroid {\r\n    ...\r\n    defaultConfig {\r\n        ...\r\n        renderscriptTargetApi 19\r\n        renderscriptSupportModeEnabled true\r\n    }\r\n}\r\n```\r\n\r\nSimple benchmark on a Nexus 5 - comparing RenderScript with different other java and Renderscript implementations:\r\n\r\n![The average runtime per blur on different pic sizes][10]\r\nThe average runtime per blur on different pic sizes\r\n\r\n![Megapixels per sec that can be blurred][11]\r\nMegapixels per sec that can be blurred\r\n\r\nEach value is the avg of 250 rounds. `RS_GAUSS_FAST` is `ScriptIntrinsicBlur` (and nearly always the fastest), others that start with `RS_` are mostly convolve implementations with simple kernels. [The details of the algorithms can be found here][2]. This is not purely blurring, since a good portion is garbage collection that is measured. This can be seen in this here (`ScriptIntrinsicBlur` on a 100x100 image with about 500 rounds)\r\n\r\n![enter image description here][12]\r\n\r\nThe spikes are gc.\r\n\r\nYou can check for yourself, the benchmark app is in the Playstore: [BlurBenchmark][1]\r\n\r\n## Reuses Bitmap wherever possible (if priority: performance &gt; memory footprint) ##\r\n\r\nIf you need multiple blurs for a live blur or similar and your memory allows it, do not load the bitmap from drawables multiple times, but keep it &quot;cached&quot; in a member variable. In this case always try to use the same variables, to keep garbage collecting to a minimum.\r\n\r\nAlso check out the new [`inBitmap` option when loading][13] from a file or drawable which will reuse the bitmap memory and save garbage collection time.\r\n\r\n## For blending from sharp to blurry\r\n\r\nThe simple and naive method is just to use 2 `ImageViews`, one blurred, and alpha fade them. But if you want a more sophisticated look that smoothly fades from sharp to blurry, then check out [Roman Nurik&#39;s post about how to do it like in his Muzei app][14].\r\n\r\nBasically he explains that he pre-blurs some frames with different blur extents and uses them as key frames in an animation that looks really smooth.\r\n\r\n![Diagram where Nurik explains his approach][15]\r\n\r\n\r\n[1]: https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\r\n[2]: https://github.com/patrickfav/BlurTestAndroid\r\n[3]: https://github.com/patrickfav/Dali\r\n[4]: http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#load-bitmap\r\n[5]: http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\r\n[6]: http://android-developers.blogspot.co.at/2013/08/renderscript-intrinsics.html\r\n[7]: http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\r\n[8]: http://android-developers.blogspot.co.at/2013/09/renderscript-in-android-support-library.html\r\n[9]: http://tools.android.com/tech-docs/new-build-system\r\n[10]: http://i.stack.imgur.com/pO3LN.png\r\n[11]: http://i.stack.imgur.com/EjRgJ.png\r\n[12]: http://i.stack.imgur.com/AdFr0.png\r\n[13]: http://developer.android.com/training/displaying-bitmaps/manage-memory.html#inBitmap\r\n[14]: https://plus.google.com/+RomanNurik/posts/2sTQ1X2Cb2Z\r\n[15]: http://i.stack.imgur.com/GosOl.png","title":"Fast Bitmap Blur For Android SDK","body":"<h2>Android Blur Guide 2016</h2>\n<p><a href=\"https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\" rel=\"nofollow noreferrer\">with Showcase/Benchmark App</a> and <a href=\"https://github.com/patrickfav/BlurTestAndroid\" rel=\"nofollow noreferrer\">Source on GitHub</a>.\n<em>Also check out the Blur framework I'm currently working on: <a href=\"https://github.com/patrickfav/Dali\" rel=\"nofollow noreferrer\">Dali</a>.</em></p>\n<p>After experimenting a lot I can now safely give you some solid recommendations that will make your life easier in Android when using the Android Framework.</p>\n<h2>Load and Use a down scaled Bitmap (for very blurry images)</h2>\n<p>Never use the full size of a Bitmap. The bigger the image the more needs to be blurred and also the higher the blur radius needs to be and usually, the higher the blur radius the longer the algorithm takes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final BitmapFactory.Options options = new BitmapFactory.Options();\noptions.inSampleSize = 8;\nBitmap blurTemplate = BitmapFactory.decodeResource(getResources(), R.drawable.myImage, options);\n</code></pre>\n<p>This will load the bitmap with <code>inSampleSize</code> 8, so only 1/64 of the original image. Test what <code>inSampleSize</code> suits your needs, but keep it 2^n (2,4,8,...) to avoid degrading quality due to scaling. <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#load-bitmap\" rel=\"nofollow noreferrer\">See Google doc for more</a></p>\n<p>Another huge advantage is that bitmap loading will be really fast. In my early blur testing I figured that the longest time during the whole blur process was the image loading. So to load a 1920x1080 image from disk my Nexus 5 needed 500ms while the blurring only took another 250 ms or so.</p>\n<h2>Use Renderscript</h2>\n<p>Renderscript provides <a href=\"http://developer.android.com/reference/android/renderscript/ScriptIntrinsicBlur.html\" rel=\"nofollow noreferrer\"><code>ScriptIntrinsicBlur</code></a> which is a Gaussian blur filter. It has good visual quality and is just the fastest you realistically get on Android. Google claims to be <a href=\"http://android-developers.blogspot.co.at/2013/08/renderscript-intrinsics.html\" rel=\"nofollow noreferrer\">&quot;typically 2-3x faster than a multithreaded C implementation and often 10x+ faster than a Java implementation&quot;</a>. Renderscript is really sophisticated (using the fastest processing device (GPU, ISP, etc.), etc.) and there is also the <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"nofollow noreferrer\">v8 support library for it making it compatible down to 2.2</a>. Well at least in theory, through my own tests and reports from other devs it seems that it is not possible to use Renderscript blindly, since the hardware/driver fragmentation seems to cause problems with some devices, even with higher SDK level (e.g. I had troubles with the 4.1 Nexus S) so be careful and test on a lot of devices. Here's a simple example that will get you started:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//define this only once if blurring multiple times\nRenderScript rs = RenderScript.create(context);\n\n(...)\n//this will blur the bitmapOriginal with a radius of 8 and save it in bitmapOriginal\nfinal Allocation input = Allocation.createFromBitmap(rs, bitmapOriginal); //use this constructor for best performance, because it uses USAGE_SHARED mode which reuses memory\nfinal Allocation output = Allocation.createTyped(rs, input.getType());\nfinal ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\nscript.setRadius(8f);\nscript.setInput(input);\nscript.forEach(output);\noutput.copyTo(bitmapOriginal);\n</code></pre>\n<p>When using the v8 support with Gradle, which is specifically recommended by Google <a href=\"http://developer.android.com/guide/topics/renderscript/compute.html#access-rs-apis\" rel=\"nofollow noreferrer\">&quot;because they include the latest improvements&quot;</a>, you only <a href=\"http://android-developers.blogspot.co.at/2013/09/renderscript-in-android-support-library.html\" rel=\"nofollow noreferrer\">need to add 2 lines to your build script</a> and use <code>android.support.v8.renderscript</code> with current build tools (<a href=\"http://tools.android.com/tech-docs/new-build-system\" rel=\"nofollow noreferrer\">updated syntax for android Gradle plugin v14+</a>)</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        renderscriptTargetApi 19\n        renderscriptSupportModeEnabled true\n    }\n}\n</code></pre>\n<p>Simple benchmark on a Nexus 5 - comparing RenderScript with different other java and Renderscript implementations:</p>\n<p><img src=\"https://i.stack.imgur.com/pO3LN.png\" alt=\"The average runtime per blur on different pic sizes\" />\nThe average runtime per blur on different pic sizes</p>\n<p><img src=\"https://i.stack.imgur.com/EjRgJ.png\" alt=\"Megapixels per sec that can be blurred\" />\nMegapixels per sec that can be blurred</p>\n<p>Each value is the avg of 250 rounds. <code>RS_GAUSS_FAST</code> is <code>ScriptIntrinsicBlur</code> (and nearly always the fastest), others that start with <code>RS_</code> are mostly convolve implementations with simple kernels. <a href=\"https://github.com/patrickfav/BlurTestAndroid\" rel=\"nofollow noreferrer\">The details of the algorithms can be found here</a>. This is not purely blurring, since a good portion is garbage collection that is measured. This can be seen in this here (<code>ScriptIntrinsicBlur</code> on a 100x100 image with about 500 rounds)</p>\n<p><img src=\"https://i.stack.imgur.com/AdFr0.png\" alt=\"enter image description here\" /></p>\n<p>The spikes are gc.</p>\n<p>You can check for yourself, the benchmark app is in the Playstore: <a href=\"https://play.google.com/store/apps/details?id=at.favre.app.blurbenchmark\" rel=\"nofollow noreferrer\">BlurBenchmark</a></p>\n<h2>Reuses Bitmap wherever possible (if priority: performance &gt; memory footprint)</h2>\n<p>If you need multiple blurs for a live blur or similar and your memory allows it, do not load the bitmap from drawables multiple times, but keep it &quot;cached&quot; in a member variable. In this case always try to use the same variables, to keep garbage collecting to a minimum.</p>\n<p>Also check out the new <a href=\"http://developer.android.com/training/displaying-bitmaps/manage-memory.html#inBitmap\" rel=\"nofollow noreferrer\"><code>inBitmap</code> option when loading</a> from a file or drawable which will reuse the bitmap memory and save garbage collection time.</p>\n<h2>For blending from sharp to blurry</h2>\n<p>The simple and naive method is just to use 2 <code>ImageViews</code>, one blurred, and alpha fade them. But if you want a more sophisticated look that smoothly fades from sharp to blurry, then check out <a href=\"https://plus.google.com/+RomanNurik/posts/2sTQ1X2Cb2Z\" rel=\"nofollow noreferrer\">Roman Nurik's post about how to do it like in his Muzei app</a>.</p>\n<p>Basically he explains that he pre-blurs some frames with different blur extents and uses them as key frames in an animation that looks really smooth.</p>\n<p><img src=\"https://i.stack.imgur.com/GosOl.png\" alt=\"Diagram where Nurik explains his approach\" /></p>\n"},{"tags":[],"owner":{"account_id":60447,"reputation":57542,"user_id":180538,"accept_rate":91,"display_name":"WarrenFaith"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1401806593,"creation_date":1401806593,"answer_id":24018144,"question_id":2067955,"body_markdown":"We tried to implement RenderScript blur like mentioned above in different answers. We were limited to use the v8 RenderScript version and that caused us a lot of trouble.\r\n\r\n- Samsung S3 crashed randomly whenever we tried to use the renderscript\r\n- Other devices (across different APIs) randomly showed different color issues\r\n\r\nI want to share our dirty Java-only version which is slow and should be done on a separate thread and, if possible, before usage and therefore persisted.\r\n\r\n    private final Paint mPaint = new Paint();\r\n\r\n    public Bitmap blur(final String pathToBitmap) {\r\n        final BitmapFactory.Options options = new BitmapFactory.Options();\r\n        final Bitmap normalOne = BitmapFactory.decodeFile(pathToBitmap, options);\r\n        final Bitmap resultBitmap = Bitmap.createBitmap(options.outWidth, options.outHeight, Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(resultBitmap);\r\n        mPaint.setAlpha(180);\r\n        canvas.drawBitmap(normalOne, 0, 0, mPaint);\r\n        int blurRadius = 12;\r\n        for (int row = -blurRadius; row &lt; blurRadius; row += 2) {\r\n            for (int col = -blurRadius; col &lt; blurRadius; col += 2) {\r\n                if (col * col + row * row &lt;= blurRadius * blurRadius) {\r\n                    mPaint.setAlpha((blurRadius * blurRadius) / ((col * col + row * row) + 1) * 2);\r\n                    canvas.drawBitmap(normalOne, row, col, mPaint);\r\n                }\r\n            }\r\n        }\r\n        normalOne.recycle();\r\n        return resultBitmap;\r\n    }\r\n\r\nThis solution is far from perfect but creates a reasonable blur effect based on the fact, that it draws highly transparent version of the same image on top of a barely transparent &quot;sharp&quot; version. The alpha depends on the distance to the origin.\r\n\r\nYou can adjust some &quot;magic numbers&quot; to your needs.\r\nI just wanted to share that &quot;solution&quot; for everybody who has issues with the v8 support version of RenderScript.","title":"Fast Bitmap Blur For Android SDK","body":"<p>We tried to implement RenderScript blur like mentioned above in different answers. We were limited to use the v8 RenderScript version and that caused us a lot of trouble.</p>\n\n<ul>\n<li>Samsung S3 crashed randomly whenever we tried to use the renderscript</li>\n<li>Other devices (across different APIs) randomly showed different color issues</li>\n</ul>\n\n<p>I want to share our dirty Java-only version which is slow and should be done on a separate thread and, if possible, before usage and therefore persisted.</p>\n\n<pre><code>private final Paint mPaint = new Paint();\n\npublic Bitmap blur(final String pathToBitmap) {\n    final BitmapFactory.Options options = new BitmapFactory.Options();\n    final Bitmap normalOne = BitmapFactory.decodeFile(pathToBitmap, options);\n    final Bitmap resultBitmap = Bitmap.createBitmap(options.outWidth, options.outHeight, Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(resultBitmap);\n    mPaint.setAlpha(180);\n    canvas.drawBitmap(normalOne, 0, 0, mPaint);\n    int blurRadius = 12;\n    for (int row = -blurRadius; row &lt; blurRadius; row += 2) {\n        for (int col = -blurRadius; col &lt; blurRadius; col += 2) {\n            if (col * col + row * row &lt;= blurRadius * blurRadius) {\n                mPaint.setAlpha((blurRadius * blurRadius) / ((col * col + row * row) + 1) * 2);\n                canvas.drawBitmap(normalOne, row, col, mPaint);\n            }\n        }\n    }\n    normalOne.recycle();\n    return resultBitmap;\n}\n</code></pre>\n\n<p>This solution is far from perfect but creates a reasonable blur effect based on the fact, that it draws highly transparent version of the same image on top of a barely transparent \"sharp\" version. The alpha depends on the distance to the origin.</p>\n\n<p>You can adjust some \"magic numbers\" to your needs.\nI just wanted to share that \"solution\" for everybody who has issues with the v8 support version of RenderScript.</p>\n"},{"tags":[],"owner":{"account_id":2374319,"reputation":510,"user_id":3138706,"display_name":"Niks"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1407758131,"creation_date":1407758131,"answer_id":25242707,"question_id":2067955,"body_markdown":"This code is work perfect for me\r\n\r\n    Bitmap tempbg = BitmapFactory.decodeResource(getResources(),R.drawable.b1); //Load a background.\r\n    Bitmap final_Bitmap = BlurImage(tempbg);\r\n\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n\tBitmap BlurImage (Bitmap input)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\tRenderScript  rsScript = RenderScript.create(getApplicationContext());\r\n\t\tAllocation alloc = Allocation.createFromBitmap(rsScript, input);\r\n\r\n\t\tScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(rsScript,   Element.U8_4(rsScript));\r\n\t\tblur.setRadius(21);\r\n\t\tblur.setInput(alloc);\r\n\r\n\t\tBitmap result = Bitmap.createBitmap(input.getWidth(), input.getHeight(), Bitmap.Config.ARGB_8888);\r\n\t\tAllocation outAlloc = Allocation.createFromBitmap(rsScript, result);\r\n\t\t\r\n\t\tblur.forEach(outAlloc);\r\n\t\toutAlloc.copyTo(result);\r\n\r\n\t\trsScript.destroy();\r\n\t\treturn result;\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\treturn input;\r\n\t\t}\r\n\t\t\r\n\t}","title":"Fast Bitmap Blur For Android SDK","body":"<p>This code is work perfect for me</p>\n\n<pre><code>Bitmap tempbg = BitmapFactory.decodeResource(getResources(),R.drawable.b1); //Load a background.\nBitmap final_Bitmap = BlurImage(tempbg);\n\n\n@SuppressLint(\"NewApi\")\nBitmap BlurImage (Bitmap input)\n{\n    try\n    {\n    RenderScript  rsScript = RenderScript.create(getApplicationContext());\n    Allocation alloc = Allocation.createFromBitmap(rsScript, input);\n\n    ScriptIntrinsicBlur blur = ScriptIntrinsicBlur.create(rsScript,   Element.U8_4(rsScript));\n    blur.setRadius(21);\n    blur.setInput(alloc);\n\n    Bitmap result = Bitmap.createBitmap(input.getWidth(), input.getHeight(), Bitmap.Config.ARGB_8888);\n    Allocation outAlloc = Allocation.createFromBitmap(rsScript, result);\n\n    blur.forEach(outAlloc);\n    outAlloc.copyTo(result);\n\n    rsScript.destroy();\n    return result;\n    }\n    catch (Exception e) {\n        // TODO: handle exception\n        return input;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2433540,"reputation":614,"user_id":2123961,"accept_rate":64,"display_name":"mradzinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412120995,"creation_date":1412120995,"answer_id":26132078,"question_id":2067955,"body_markdown":"For those still having issues with Renderscript support library on x86 chipsets, please have a look at this post by the creator of the library. It looks like the fix he prepared didn&#39;t make it somehow to the Build Tools v20.0.0, so he provides the files to fix it manually and a brief explanation of how to do it.\r\n\r\nhttps://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347","title":"Fast Bitmap Blur For Android SDK","body":"<p>For those still having issues with Renderscript support library on x86 chipsets, please have a look at this post by the creator of the library. It looks like the fix he prepared didn't make it somehow to the Build Tools v20.0.0, so he provides the files to fix it manually and a brief explanation of how to do it.</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&amp;groupby=&amp;sort=&amp;id=71347</a></p>\n"},{"tags":[],"owner":{"account_id":4601602,"reputation":1989,"user_id":3732187,"display_name":"Vansuita Jr."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413555329,"creation_date":1413554173,"answer_id":26426666,"question_id":2067955,"body_markdown":"This is for all people who need to increase the radius of `ScriptIntrinsicBlur` to obtain a harder gaussian blur.\r\n\r\nInstead of to put the radius more than 25, you can scale down the image and get the same result. I wrote a class called `GaussianBlur`. Below you can see how to use, and the whole class implementation.\r\n\r\nUsage:\r\n\r\n    GaussianBlur gaussian = new GaussianBlur(context);\r\n    gaussian.setMaxImageSize(60);\r\n    gaussian.setRadius(25); //max\r\n\r\n    Bitmap output = gaussian.render(&lt;your bitmap&gt;,true);\r\n    Drawable d = new BitmapDrawable(getResources(),output);\r\nClass:\r\n\r\n   \r\n\r\n     public class GaussianBlur {\r\n        private final int DEFAULT_RADIUS = 25;\r\n        private final float DEFAULT_MAX_IMAGE_SIZE = 400;\r\n    \r\n        private Context context;\r\n        private int radius;\r\n        private float maxImageSize;\r\n    \r\n        public GaussianBlur(Context context) {\r\n        this.context = context;\r\n        setRadius(DEFAULT_RADIUS);\r\n        setMaxImageSize(DEFAULT_MAX_IMAGE_SIZE);\r\n        } \r\n    \r\n        public Bitmap render(Bitmap bitmap, boolean scaleDown) {\r\n        RenderScript rs = RenderScript.create(context);\r\n    \r\n        if (scaleDown) {\r\n            bitmap = scaleDown(bitmap);\r\n        }\r\n    \r\n        Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);\r\n    \r\n        Allocation inAlloc = Allocation.createFromBitmap(rs, bitmap, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_GRAPHICS_TEXTURE);\r\n        Allocation outAlloc = Allocation.createFromBitmap(rs, output);\r\n    \r\n        ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, inAlloc.getElement()); // Element.U8_4(rs));\r\n        script.setRadius(getRadius());\r\n        script.setInput(inAlloc);\r\n        script.forEach(outAlloc);\r\n        outAlloc.copyTo(output);\r\n    \r\n        rs.destroy();\r\n    \r\n        return output;\r\n    }\r\n    \r\n    public Bitmap scaleDown(Bitmap input) {\r\n        float ratio = Math.min((float) getMaxImageSize() / input.getWidth(), (float) getMaxImageSize() / input.getHeight());\r\n        int width = Math.round((float) ratio * input.getWidth());\r\n        int height = Math.round((float) ratio * input.getHeight());\r\n    \r\n        return Bitmap.createScaledBitmap(input, width, height, true);\r\n    }\r\n    \r\n    public int getRadius() {\r\n        return radius;\r\n    }\r\n    \r\n    public void setRadius(int radius) {\r\n        this.radius = radius;\r\n    }\r\n    \r\n    public float getMaxImageSize() {\r\n        return maxImageSize;\r\n    }\r\n    \r\n    public void setMaxImageSize(float maxImageSize) {\r\n        this.maxImageSize = maxImageSize;\r\n    }\r\n        }","title":"Fast Bitmap Blur For Android SDK","body":"<p>This is for all people who need to increase the radius of <code>ScriptIntrinsicBlur</code> to obtain a harder gaussian blur.</p>\n\n<p>Instead of to put the radius more than 25, you can scale down the image and get the same result. I wrote a class called <code>GaussianBlur</code>. Below you can see how to use, and the whole class implementation.</p>\n\n<p>Usage:</p>\n\n<pre><code>GaussianBlur gaussian = new GaussianBlur(context);\ngaussian.setMaxImageSize(60);\ngaussian.setRadius(25); //max\n\nBitmap output = gaussian.render(&lt;your bitmap&gt;,true);\nDrawable d = new BitmapDrawable(getResources(),output);\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code> public class GaussianBlur {\n    private final int DEFAULT_RADIUS = 25;\n    private final float DEFAULT_MAX_IMAGE_SIZE = 400;\n\n    private Context context;\n    private int radius;\n    private float maxImageSize;\n\n    public GaussianBlur(Context context) {\n    this.context = context;\n    setRadius(DEFAULT_RADIUS);\n    setMaxImageSize(DEFAULT_MAX_IMAGE_SIZE);\n    } \n\n    public Bitmap render(Bitmap bitmap, boolean scaleDown) {\n    RenderScript rs = RenderScript.create(context);\n\n    if (scaleDown) {\n        bitmap = scaleDown(bitmap);\n    }\n\n    Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);\n\n    Allocation inAlloc = Allocation.createFromBitmap(rs, bitmap, Allocation.MipmapControl.MIPMAP_NONE, Allocation.USAGE_GRAPHICS_TEXTURE);\n    Allocation outAlloc = Allocation.createFromBitmap(rs, output);\n\n    ScriptIntrinsicBlur script = ScriptIntrinsicBlur.create(rs, inAlloc.getElement()); // Element.U8_4(rs));\n    script.setRadius(getRadius());\n    script.setInput(inAlloc);\n    script.forEach(outAlloc);\n    outAlloc.copyTo(output);\n\n    rs.destroy();\n\n    return output;\n}\n\npublic Bitmap scaleDown(Bitmap input) {\n    float ratio = Math.min((float) getMaxImageSize() / input.getWidth(), (float) getMaxImageSize() / input.getHeight());\n    int width = Math.round((float) ratio * input.getWidth());\n    int height = Math.round((float) ratio * input.getHeight());\n\n    return Bitmap.createScaledBitmap(input, width, height, true);\n}\n\npublic int getRadius() {\n    return radius;\n}\n\npublic void setRadius(int radius) {\n    this.radius = radius;\n}\n\npublic float getMaxImageSize() {\n    return maxImageSize;\n}\n\npublic void setMaxImageSize(float maxImageSize) {\n    this.maxImageSize = maxImageSize;\n}\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419425490,"creation_date":1419425490,"answer_id":27637235,"question_id":2067955,"body_markdown":"from Mario Viviani blog one can use this solution from 17 Android Version:\r\n\r\nhttps://plus.google.com/+MarioViviani/posts/fhuzYkji9zz\r\n\r\nor \r\n\r\nhttps://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8","title":"Fast Bitmap Blur For Android SDK","body":"<p>from Mario Viviani blog one can use this solution from 17 Android Version:</p>\n\n<p><a href=\"https://plus.google.com/+MarioViviani/posts/fhuzYkji9zz\" rel=\"nofollow\">https://plus.google.com/+MarioViviani/posts/fhuzYkji9zz</a></p>\n\n<p>or </p>\n\n<p><a href=\"https://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8\" rel=\"nofollow\">https://gist.github.com/Mariuxtheone/903c35b4927c0df18cf8</a></p>\n"},{"tags":[],"owner":{"account_id":3514786,"reputation":724,"user_id":2938493,"display_name":"Artificioo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1441305493,"creation_date":1441305493,"answer_id":32383118,"question_id":2067955,"body_markdown":"This worked fine for me: [How to Blur Images Efficiently with Android&#39;s RenderScript][1]\r\n\r\n    public class BlurBuilder {\r\n\t    private static final float BITMAP_SCALE = 0.4f;\r\n    \tprivate static final float BLUR_RADIUS = 7.5f;\r\n\r\n    \t@SuppressLint(&quot;NewApi&quot;)\r\n    \tpublic static Bitmap blur(Context context, Bitmap image) {\r\n    \t\tint width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n    \t\tint height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n\r\n    \t\tBitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height,\r\n\t\t\t\tfalse);\r\n\t    \tBitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n\r\n\t\t    RenderScript rs = RenderScript.create(context);\r\n\t    \tScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs,\r\n\t\t\t\tElement.U8_4(rs));\r\n\t\t\tAllocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n\t\t\tAllocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n\t\t\ttheIntrinsic.setRadius(BLUR_RADIUS);\r\n\t\t\ttheIntrinsic.setInput(tmpIn);\r\n\t\t\ttheIntrinsic.forEach(tmpOut);\r\n\t\t\ttmpOut.copyTo(outputBitmap);\r\n\r\n\t\t\treturn outputBitmap;\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://futurestud.io/blog/how-to-blur-images-efficiently-with-androids-renderscript/","title":"Fast Bitmap Blur For Android SDK","body":"<p>This worked fine for me: <a href=\"https://futurestud.io/blog/how-to-blur-images-efficiently-with-androids-renderscript/\">How to Blur Images Efficiently with Android's RenderScript</a></p>\n\n<pre><code>public class BlurBuilder {\n    private static final float BITMAP_SCALE = 0.4f;\n    private static final float BLUR_RADIUS = 7.5f;\n\n    @SuppressLint(\"NewApi\")\n    public static Bitmap blur(Context context, Bitmap image) {\n        int width = Math.round(image.getWidth() * BITMAP_SCALE);\n        int height = Math.round(image.getHeight() * BITMAP_SCALE);\n\n        Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height,\n            false);\n        Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n\n        RenderScript rs = RenderScript.create(context);\n        ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs,\n            Element.U8_4(rs));\n        Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n        Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n        theIntrinsic.setRadius(BLUR_RADIUS);\n        theIntrinsic.setInput(tmpIn);\n        theIntrinsic.forEach(tmpOut);\n        tmpOut.copyTo(outputBitmap);\n\n        return outputBitmap;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1897247,"reputation":10210,"user_id":1713920,"accept_rate":92,"display_name":"vir us"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1444251830,"creation_date":1444251830,"answer_id":33002383,"question_id":2067955,"body_markdown":"Thanks @Yahel for the code. \r\nPosting the same method with **alpha channel blurring** support as it took me some time to make it work correctly so it may save someone&#39;s time:\r\n\r\n\r\n    /**\r\n     * Stack Blur v1.0 from\r\n     * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\r\n     * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\r\n     * http://incubator.quasimondo.com\r\n     * &lt;p/&gt;\r\n     * created Feburary 29, 2004\r\n     * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\r\n     * http://www.kayenko.com\r\n     * ported april 5th, 2012\r\n     * &lt;p/&gt;\r\n     * This is a compromise between Gaussian Blur and Box blur\r\n     * It creates much better looking blurs than Box Blur, but is\r\n     * 7x faster than my Gaussian Blur implementation.\r\n     * &lt;p/&gt;\r\n     * I called it Stack Blur because this describes best how this\r\n     * filter works internally: it creates a kind of moving stack\r\n     * of colors whilst scanning through the image. Thereby it\r\n     * just has to add one new block of color to the right side\r\n     * of the stack and remove the leftmost color. The remaining\r\n     * colors on the topmost layer of the stack are either added on\r\n     * or reduced by one, depending on if they are on the right or\r\n     * on the left side of the stack.\r\n     * &lt;p/&gt;\r\n     * If you are using this algorithm in your code please add\r\n     * the following line:\r\n     * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\r\n     */\r\n\r\n    public static Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\r\n\r\n        int width = Math.round(sentBitmap.getWidth() * scale);\r\n        int height = Math.round(sentBitmap.getHeight() * scale);\r\n        sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\r\n\r\n        Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\r\n\r\n        if (radius &lt; 1) {\r\n            return (null);\r\n        }\r\n\r\n        int w = bitmap.getWidth();\r\n        int h = bitmap.getHeight();\r\n\r\n        int[] pix = new int[w * h];\r\n        Log.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n        bitmap.getPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n        int wm = w - 1;\r\n        int hm = h - 1;\r\n        int wh = w * h;\r\n        int div = radius + radius + 1;\r\n\r\n        int r[] = new int[wh];\r\n        int g[] = new int[wh];\r\n        int b[] = new int[wh];\r\n        int a[] = new int[wh];\r\n        int rsum, gsum, bsum, asum, x, y, i, p, yp, yi, yw;\r\n        int vmin[] = new int[Math.max(w, h)];\r\n\r\n        int divsum = (div + 1) &gt;&gt; 1;\r\n        divsum *= divsum;\r\n        int dv[] = new int[256 * divsum];\r\n        for (i = 0; i &lt; 256 * divsum; i++) {\r\n            dv[i] = (i / divsum);\r\n        }\r\n\r\n        yw = yi = 0;\r\n\r\n        int[][] stack = new int[div][4];\r\n        int stackpointer;\r\n        int stackstart;\r\n        int[] sir;\r\n        int rbs;\r\n        int r1 = radius + 1;\r\n        int routsum, goutsum, boutsum, aoutsum;\r\n        int rinsum, ginsum, binsum, ainsum;\r\n\r\n        for (y = 0; y &lt; h; y++) {\r\n            rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\r\n            for (i = -radius; i &lt;= radius; i++) {\r\n                p = pix[yi + Math.min(wm, Math.max(i, 0))];\r\n                sir = stack[i + radius];\r\n                sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n                sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n                sir[2] = (p &amp; 0x0000ff);\r\n                sir[3] = 0xff &amp; (p &gt;&gt; 24);\r\n\r\n                rbs = r1 - Math.abs(i);\r\n                rsum += sir[0] * rbs;\r\n                gsum += sir[1] * rbs;\r\n                bsum += sir[2] * rbs;\r\n                asum += sir[3] * rbs;\r\n                if (i &gt; 0) {\r\n                    rinsum += sir[0];\r\n                    ginsum += sir[1];\r\n                    binsum += sir[2];\r\n                    ainsum += sir[3];\r\n                } else {\r\n                    routsum += sir[0];\r\n                    goutsum += sir[1];\r\n                    boutsum += sir[2];\r\n                    aoutsum += sir[3];\r\n                }\r\n            }\r\n            stackpointer = radius;\r\n\r\n            for (x = 0; x &lt; w; x++) {\r\n\r\n                r[yi] = dv[rsum];\r\n                g[yi] = dv[gsum];\r\n                b[yi] = dv[bsum];\r\n                a[yi] = dv[asum];\r\n\r\n                rsum -= routsum;\r\n                gsum -= goutsum;\r\n                bsum -= boutsum;\r\n                asum -= aoutsum;\r\n\r\n                stackstart = stackpointer - radius + div;\r\n                sir = stack[stackstart % div];\r\n\r\n                routsum -= sir[0];\r\n                goutsum -= sir[1];\r\n                boutsum -= sir[2];\r\n                aoutsum -= sir[3];\r\n\r\n                if (y == 0) {\r\n                    vmin[x] = Math.min(x + radius + 1, wm);\r\n                }\r\n                p = pix[yw + vmin[x]];\r\n\r\n                sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\r\n                sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\r\n                sir[2] = (p &amp; 0x0000ff);\r\n                sir[3] = 0xff &amp; (p &gt;&gt; 24);\r\n\r\n                rinsum += sir[0];\r\n                ginsum += sir[1];\r\n                binsum += sir[2];\r\n                ainsum += sir[3];\r\n\r\n                rsum += rinsum;\r\n                gsum += ginsum;\r\n                bsum += binsum;\r\n                asum += ainsum;\r\n\r\n                stackpointer = (stackpointer + 1) % div;\r\n                sir = stack[(stackpointer) % div];\r\n\r\n                routsum += sir[0];\r\n                goutsum += sir[1];\r\n                boutsum += sir[2];\r\n                aoutsum += sir[3];\r\n\r\n                rinsum -= sir[0];\r\n                ginsum -= sir[1];\r\n                binsum -= sir[2];\r\n                ainsum -= sir[3];\r\n\r\n                yi++;\r\n            }\r\n            yw += w;\r\n        }\r\n        for (x = 0; x &lt; w; x++) {\r\n            rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\r\n            yp = -radius * w;\r\n            for (i = -radius; i &lt;= radius; i++) {\r\n                yi = Math.max(0, yp) + x;\r\n\r\n                sir = stack[i + radius];\r\n\r\n                sir[0] = r[yi];\r\n                sir[1] = g[yi];\r\n                sir[2] = b[yi];\r\n                sir[3] = a[yi];\r\n\r\n                rbs = r1 - Math.abs(i);\r\n\r\n                rsum += r[yi] * rbs;\r\n                gsum += g[yi] * rbs;\r\n                bsum += b[yi] * rbs;\r\n                asum += a[yi] * rbs;\r\n\r\n                if (i &gt; 0) {\r\n                    rinsum += sir[0];\r\n                    ginsum += sir[1];\r\n                    binsum += sir[2];\r\n                    ainsum += sir[3];\r\n                } else {\r\n                    routsum += sir[0];\r\n                    goutsum += sir[1];\r\n                    boutsum += sir[2];\r\n                    aoutsum += sir[3];\r\n                }\r\n\r\n                if (i &lt; hm) {\r\n                    yp += w;\r\n                }\r\n            }\r\n            yi = x;\r\n            stackpointer = radius;\r\n            for (y = 0; y &lt; h; y++) {\r\n                pix[yi] = (dv[asum] &lt;&lt; 24) | (dv[rsum] &lt;&lt; 16) | (dv[gsum] &lt;&lt; 8) | dv[bsum];\r\n\r\n                rsum -= routsum;\r\n                gsum -= goutsum;\r\n                bsum -= boutsum;\r\n                asum -= aoutsum;\r\n\r\n                stackstart = stackpointer - radius + div;\r\n                sir = stack[stackstart % div];\r\n\r\n                routsum -= sir[0];\r\n                goutsum -= sir[1];\r\n                boutsum -= sir[2];\r\n                aoutsum -= sir[3];\r\n\r\n                if (x == 0) {\r\n                    vmin[y] = Math.min(y + r1, hm) * w;\r\n                }\r\n                p = x + vmin[y];\r\n\r\n\r\n                sir[0] = r[p];\r\n                sir[1] = g[p];\r\n                sir[2] = b[p];\r\n                sir[3] = a[p];\r\n\r\n                rinsum += sir[0];\r\n                ginsum += sir[1];\r\n                binsum += sir[2];\r\n                ainsum += sir[3];\r\n\r\n                rsum += rinsum;\r\n                gsum += ginsum;\r\n                bsum += binsum;\r\n                asum += ainsum;\r\n\r\n                stackpointer = (stackpointer + 1) % div;\r\n                sir = stack[stackpointer];\r\n\r\n                routsum += sir[0];\r\n                goutsum += sir[1];\r\n                boutsum += sir[2];\r\n                aoutsum += sir[3];\r\n\r\n                rinsum -= sir[0];\r\n                ginsum -= sir[1];\r\n                binsum -= sir[2];\r\n                ainsum -= sir[3];\r\n\r\n                yi += w;\r\n            }\r\n        }\r\n\r\n        Log.e(&quot;pix&quot;, w + &quot; &quot; + h + &quot; &quot; + pix.length);\r\n        bitmap.setPixels(pix, 0, w, 0, 0, w, h);\r\n\r\n        return (bitmap);\r\n    }","title":"Fast Bitmap Blur For Android SDK","body":"<p>Thanks @Yahel for the code. \nPosting the same method with <strong>alpha channel blurring</strong> support as it took me some time to make it work correctly so it may save someone's time:</p>\n\n<pre><code>/**\n * Stack Blur v1.0 from\n * http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html\n * Java Author: Mario Klingemann &lt;mario at quasimondo.com&gt;\n * http://incubator.quasimondo.com\n * &lt;p/&gt;\n * created Feburary 29, 2004\n * Android port : Yahel Bouaziz &lt;yahel at kayenko.com&gt;\n * http://www.kayenko.com\n * ported april 5th, 2012\n * &lt;p/&gt;\n * This is a compromise between Gaussian Blur and Box blur\n * It creates much better looking blurs than Box Blur, but is\n * 7x faster than my Gaussian Blur implementation.\n * &lt;p/&gt;\n * I called it Stack Blur because this describes best how this\n * filter works internally: it creates a kind of moving stack\n * of colors whilst scanning through the image. Thereby it\n * just has to add one new block of color to the right side\n * of the stack and remove the leftmost color. The remaining\n * colors on the topmost layer of the stack are either added on\n * or reduced by one, depending on if they are on the right or\n * on the left side of the stack.\n * &lt;p/&gt;\n * If you are using this algorithm in your code please add\n * the following line:\n * Stack Blur Algorithm by Mario Klingemann &lt;mario@quasimondo.com&gt;\n */\n\npublic static Bitmap fastblur(Bitmap sentBitmap, float scale, int radius) {\n\n    int width = Math.round(sentBitmap.getWidth() * scale);\n    int height = Math.round(sentBitmap.getHeight() * scale);\n    sentBitmap = Bitmap.createScaledBitmap(sentBitmap, width, height, false);\n\n    Bitmap bitmap = sentBitmap.copy(sentBitmap.getConfig(), true);\n\n    if (radius &lt; 1) {\n        return (null);\n    }\n\n    int w = bitmap.getWidth();\n    int h = bitmap.getHeight();\n\n    int[] pix = new int[w * h];\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.getPixels(pix, 0, w, 0, 0, w, h);\n\n    int wm = w - 1;\n    int hm = h - 1;\n    int wh = w * h;\n    int div = radius + radius + 1;\n\n    int r[] = new int[wh];\n    int g[] = new int[wh];\n    int b[] = new int[wh];\n    int a[] = new int[wh];\n    int rsum, gsum, bsum, asum, x, y, i, p, yp, yi, yw;\n    int vmin[] = new int[Math.max(w, h)];\n\n    int divsum = (div + 1) &gt;&gt; 1;\n    divsum *= divsum;\n    int dv[] = new int[256 * divsum];\n    for (i = 0; i &lt; 256 * divsum; i++) {\n        dv[i] = (i / divsum);\n    }\n\n    yw = yi = 0;\n\n    int[][] stack = new int[div][4];\n    int stackpointer;\n    int stackstart;\n    int[] sir;\n    int rbs;\n    int r1 = radius + 1;\n    int routsum, goutsum, boutsum, aoutsum;\n    int rinsum, ginsum, binsum, ainsum;\n\n    for (y = 0; y &lt; h; y++) {\n        rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\n        for (i = -radius; i &lt;= radius; i++) {\n            p = pix[yi + Math.min(wm, Math.max(i, 0))];\n            sir = stack[i + radius];\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            sir[3] = 0xff &amp; (p &gt;&gt; 24);\n\n            rbs = r1 - Math.abs(i);\n            rsum += sir[0] * rbs;\n            gsum += sir[1] * rbs;\n            bsum += sir[2] * rbs;\n            asum += sir[3] * rbs;\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n                ainsum += sir[3];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n                aoutsum += sir[3];\n            }\n        }\n        stackpointer = radius;\n\n        for (x = 0; x &lt; w; x++) {\n\n            r[yi] = dv[rsum];\n            g[yi] = dv[gsum];\n            b[yi] = dv[bsum];\n            a[yi] = dv[asum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n            asum -= aoutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n            aoutsum -= sir[3];\n\n            if (y == 0) {\n                vmin[x] = Math.min(x + radius + 1, wm);\n            }\n            p = pix[yw + vmin[x]];\n\n            sir[0] = (p &amp; 0xff0000) &gt;&gt; 16;\n            sir[1] = (p &amp; 0x00ff00) &gt;&gt; 8;\n            sir[2] = (p &amp; 0x0000ff);\n            sir[3] = 0xff &amp; (p &gt;&gt; 24);\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n            ainsum += sir[3];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n            asum += ainsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[(stackpointer) % div];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n            aoutsum += sir[3];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n            ainsum -= sir[3];\n\n            yi++;\n        }\n        yw += w;\n    }\n    for (x = 0; x &lt; w; x++) {\n        rinsum = ginsum = binsum = ainsum = routsum = goutsum = boutsum = aoutsum = rsum = gsum = bsum = asum = 0;\n        yp = -radius * w;\n        for (i = -radius; i &lt;= radius; i++) {\n            yi = Math.max(0, yp) + x;\n\n            sir = stack[i + radius];\n\n            sir[0] = r[yi];\n            sir[1] = g[yi];\n            sir[2] = b[yi];\n            sir[3] = a[yi];\n\n            rbs = r1 - Math.abs(i);\n\n            rsum += r[yi] * rbs;\n            gsum += g[yi] * rbs;\n            bsum += b[yi] * rbs;\n            asum += a[yi] * rbs;\n\n            if (i &gt; 0) {\n                rinsum += sir[0];\n                ginsum += sir[1];\n                binsum += sir[2];\n                ainsum += sir[3];\n            } else {\n                routsum += sir[0];\n                goutsum += sir[1];\n                boutsum += sir[2];\n                aoutsum += sir[3];\n            }\n\n            if (i &lt; hm) {\n                yp += w;\n            }\n        }\n        yi = x;\n        stackpointer = radius;\n        for (y = 0; y &lt; h; y++) {\n            pix[yi] = (dv[asum] &lt;&lt; 24) | (dv[rsum] &lt;&lt; 16) | (dv[gsum] &lt;&lt; 8) | dv[bsum];\n\n            rsum -= routsum;\n            gsum -= goutsum;\n            bsum -= boutsum;\n            asum -= aoutsum;\n\n            stackstart = stackpointer - radius + div;\n            sir = stack[stackstart % div];\n\n            routsum -= sir[0];\n            goutsum -= sir[1];\n            boutsum -= sir[2];\n            aoutsum -= sir[3];\n\n            if (x == 0) {\n                vmin[y] = Math.min(y + r1, hm) * w;\n            }\n            p = x + vmin[y];\n\n\n            sir[0] = r[p];\n            sir[1] = g[p];\n            sir[2] = b[p];\n            sir[3] = a[p];\n\n            rinsum += sir[0];\n            ginsum += sir[1];\n            binsum += sir[2];\n            ainsum += sir[3];\n\n            rsum += rinsum;\n            gsum += ginsum;\n            bsum += binsum;\n            asum += ainsum;\n\n            stackpointer = (stackpointer + 1) % div;\n            sir = stack[stackpointer];\n\n            routsum += sir[0];\n            goutsum += sir[1];\n            boutsum += sir[2];\n            aoutsum += sir[3];\n\n            rinsum -= sir[0];\n            ginsum -= sir[1];\n            binsum -= sir[2];\n            ainsum -= sir[3];\n\n            yi += w;\n        }\n    }\n\n    Log.e(\"pix\", w + \" \" + h + \" \" + pix.length);\n    bitmap.setPixels(pix, 0, w, 0, 0, w, h);\n\n    return (bitmap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381587,"reputation":567,"user_id":3573092,"accept_rate":50,"display_name":"Huseyin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474313362,"creation_date":1474313362,"answer_id":39580674,"question_id":2067955,"body_markdown":"I used this before..\r\n\r\n    public static Bitmap myblur(Bitmap image, Context context) {\r\n                final float BITMAP_SCALE = 0.4f;\r\n                final float BLUR_RADIUS = 7.5f;\r\n                int width = Math.round(image.getWidth() * BITMAP_SCALE);\r\n                int height = Math.round(image.getHeight() * BITMAP_SCALE);\r\n                Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\r\n                Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\r\n                RenderScript rs = RenderScript.create(context);\r\n                ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\r\n                Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\r\n                Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\r\n                theIntrinsic.setRadius(BLUR_RADIUS);\r\n                theIntrinsic.setInput(tmpIn);\r\n                theIntrinsic.forEach(tmpOut);\r\n                tmpOut.copyTo(outputBitmap);\r\n                return outputBitmap;\r\n            }","title":"Fast Bitmap Blur For Android SDK","body":"<p>I used this before..</p>\n\n<pre><code>public static Bitmap myblur(Bitmap image, Context context) {\n            final float BITMAP_SCALE = 0.4f;\n            final float BLUR_RADIUS = 7.5f;\n            int width = Math.round(image.getWidth() * BITMAP_SCALE);\n            int height = Math.round(image.getHeight() * BITMAP_SCALE);\n            Bitmap inputBitmap = Bitmap.createScaledBitmap(image, width, height, false);\n            Bitmap outputBitmap = Bitmap.createBitmap(inputBitmap);\n            RenderScript rs = RenderScript.create(context);\n            ScriptIntrinsicBlur theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs));\n            Allocation tmpIn = Allocation.createFromBitmap(rs, inputBitmap);\n            Allocation tmpOut = Allocation.createFromBitmap(rs, outputBitmap);\n            theIntrinsic.setRadius(BLUR_RADIUS);\n            theIntrinsic.setInput(tmpIn);\n            theIntrinsic.forEach(tmpOut);\n            tmpOut.copyTo(outputBitmap);\n            return outputBitmap;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80183,"reputation":221,"user_id":226896,"display_name":"mmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474773839,"creation_date":1474773839,"answer_id":39683067,"question_id":2067955,"body_markdown":"Here is a realtime blurring overlay using RenderScript, which seems to be fast enough.\r\n\r\nhttps://github.com/mmin18/RealtimeBlurView\r\n","title":"Fast Bitmap Blur For Android SDK","body":"<p>Here is a realtime blurring overlay using RenderScript, which seems to be fast enough.</p>\n\n<p><a href=\"https://github.com/mmin18/RealtimeBlurView\" rel=\"nofollow\">https://github.com/mmin18/RealtimeBlurView</a></p>\n"},{"tags":[],"owner":{"account_id":7421604,"reputation":358,"user_id":6165150,"accept_rate":40,"display_name":"wings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486489283,"creation_date":1486489283,"answer_id":42096443,"question_id":2067955,"body_markdown":"I found that decreasing **contrast, brightness and saturation** a little makes blurred images more pretty so I combined various methods from stack overflow and made this [Blur Class](https://github.com/ankit-gaur/android/blob/master/BlurClass.java)  which deals with blurring images, changing brightness, saturation, contrast and size of the blurred images. It can also convert images from drawable to bitmap and vice-versa. ","title":"Fast Bitmap Blur For Android SDK","body":"<p>I found that decreasing <strong>contrast, brightness and saturation</strong> a little makes blurred images more pretty so I combined various methods from stack overflow and made this <a href=\"https://github.com/ankit-gaur/android/blob/master/BlurClass.java\" rel=\"nofollow noreferrer\">Blur Class</a>  which deals with blurring images, changing brightness, saturation, contrast and size of the blurred images. It can also convert images from drawable to bitmap and vice-versa. </p>\n"},{"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557407651,"creation_date":1557407651,"answer_id":56060266,"question_id":2067955,"body_markdown":"On the i/o 2019 the following solution was presented:\r\n\r\n    /**\r\n     * Blurs the given Bitmap image\r\n     * @param bitmap Image to blur\r\n     * @param applicationContext Application context\r\n     * @return Blurred bitmap image\r\n     */\r\n    @WorkerThread\r\n    fun blurBitmap(bitmap: Bitmap, applicationContext: Context): Bitmap {\r\n        lateinit var rsContext: RenderScript\r\n        try {\r\n    \r\n            // Create the output bitmap\r\n            val output = Bitmap.createBitmap(\r\n                    bitmap.width, bitmap.height, bitmap.config)\r\n    \r\n            // Blur the image\r\n            rsContext = RenderScript.create(applicationContext, RenderScript.ContextType.DEBUG)\r\n            val inAlloc = Allocation.createFromBitmap(rsContext, bitmap)\r\n            val outAlloc = Allocation.createTyped(rsContext, inAlloc.type)\r\n            val theIntrinsic = ScriptIntrinsicBlur.create(rsContext, Element.U8_4(rsContext))\r\n            theIntrinsic.apply {\r\n                setRadius(10f)\r\n                theIntrinsic.setInput(inAlloc)\r\n                theIntrinsic.forEach(outAlloc)\r\n            }\r\n            outAlloc.copyTo(output)\r\n    \r\n            return output\r\n        } finally {\r\n            rsContext.finish()\r\n        }\r\n    }","title":"Fast Bitmap Blur For Android SDK","body":"<p>On the i/o 2019 the following solution was presented:</p>\n\n<pre><code>/**\n * Blurs the given Bitmap image\n * @param bitmap Image to blur\n * @param applicationContext Application context\n * @return Blurred bitmap image\n */\n@WorkerThread\nfun blurBitmap(bitmap: Bitmap, applicationContext: Context): Bitmap {\n    lateinit var rsContext: RenderScript\n    try {\n\n        // Create the output bitmap\n        val output = Bitmap.createBitmap(\n                bitmap.width, bitmap.height, bitmap.config)\n\n        // Blur the image\n        rsContext = RenderScript.create(applicationContext, RenderScript.ContextType.DEBUG)\n        val inAlloc = Allocation.createFromBitmap(rsContext, bitmap)\n        val outAlloc = Allocation.createTyped(rsContext, inAlloc.type)\n        val theIntrinsic = ScriptIntrinsicBlur.create(rsContext, Element.U8_4(rsContext))\n        theIntrinsic.apply {\n            setRadius(10f)\n            theIntrinsic.setInput(inAlloc)\n            theIntrinsic.forEach(outAlloc)\n        }\n        outAlloc.copyTo(output)\n\n        return output\n    } finally {\n        rsContext.finish()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":580967,"reputation":2273,"user_id":237912,"display_name":"Greg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158090,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":2068981,"answer_count":19,"score":196,"last_activity_date":1680036776,"creation_date":1263507287,"question_id":2067955,"body_markdown":"Currently in an Android application that I&#39;m developing I&#39;m looping through the pixels of an image to blur it.  This takes about 30 seconds on a 640x480 image.  \r\n\r\nWhile browsing apps in the Android Market I came across one that includes a blur feature and their blur is very fast (like 5 seconds) so they must be using a different method of blurring.\r\n\r\nAnyone know a faster way other than looping through the pixels?","title":"Fast Bitmap Blur For Android SDK","body":"<p>Currently in an Android application that I'm developing I'm looping through the pixels of an image to blur it.  This takes about 30 seconds on a 640x480 image.  </p>\n\n<p>While browsing apps in the Android Market I came across one that includes a blur feature and their blur is very fast (like 5 seconds) so they must be using a different method of blurring.</p>\n\n<p>Anyone know a faster way other than looping through the pixels?</p>\n"},{"tags":["java","android","orientation","android-videoview"],"comments":[{"owner":{"account_id":1178217,"reputation":8223,"user_id":1153703,"accept_rate":54,"display_name":"Bikesh M"},"score":0,"creation_date":1471341066,"post_id":11031295,"comment_id":65296978,"body_markdown":"check this answer http://stackoverflow.com/a/38971707/1153703","body":"check this answer <a href=\"http://stackoverflow.com/a/38971707/1153703\">stackoverflow.com/a/38971707/1153703</a>"}],"answers":[{"tags":[],"owner":{"account_id":1197713,"reputation":3073,"user_id":1169079,"accept_rate":59,"display_name":"user1169079"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339670549,"creation_date":1339670549,"answer_id":11031410,"question_id":11031295,"body_markdown":"Unless you specify otherwise, a configuration change (such as a change in screen orientation, language, input devices, etc) will cause your current activity to be destroyed, going through the normal activity lifecycle process of onPause(), onStop(), and onDestroy() as appropriate. If the activity had been in the foreground or visible to the user, once onDestroy() is called in that instance then a new instance of the activity will be created, with whatever savedInstanceState the previous instance had generated from onSaveInstanceState(Bundle).\r\n\r\nSo what happened behind the scenes: currnet VideoView Activity (landscape) is destroyed, a new VideoView Activity (portrait) is created due screenOrientation configuration has been changed, and destoryed immidiately (where you can see the effects on screen), last activity in stack is shown. \r\n\r\nTry to handle this methods and check\r\n\r\n        @Override\r\n    protected void onResume() {\r\n        mVideoView.resume();\r\n        super.onResume();\r\n    }\r\n    \r\n    @Override\r\n    protected void onPause() {\r\n        mVideoView.suspend();\r\n        super.onPause();\r\n    }\r\n    \r\n    @Override\r\n    protected void onDestroy() {\r\n        mVideoView.stopPlayback();\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to keep playing video while changing to landscape mode android","body":"<p>Unless you specify otherwise, a configuration change (such as a change in screen orientation, language, input devices, etc) will cause your current activity to be destroyed, going through the normal activity lifecycle process of onPause(), onStop(), and onDestroy() as appropriate. If the activity had been in the foreground or visible to the user, once onDestroy() is called in that instance then a new instance of the activity will be created, with whatever savedInstanceState the previous instance had generated from onSaveInstanceState(Bundle).</p>\n\n<p>So what happened behind the scenes: currnet VideoView Activity (landscape) is destroyed, a new VideoView Activity (portrait) is created due screenOrientation configuration has been changed, and destoryed immidiately (where you can see the effects on screen), last activity in stack is shown. </p>\n\n<p>Try to handle this methods and check</p>\n\n<pre><code>    @Override\nprotected void onResume() {\n    mVideoView.resume();\n    super.onResume();\n}\n\n@Override\nprotected void onPause() {\n    mVideoView.suspend();\n    super.onPause();\n}\n\n@Override\nprotected void onDestroy() {\n    mVideoView.stopPlayback();\n    super.onDestroy();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395253,"reputation":27958,"user_id":758104,"accept_rate":65,"display_name":"Vipul"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1680036741,"creation_date":1339671908,"answer_id":11031762,"question_id":11031295,"body_markdown":"all you need to do is add this to activity in AndroidManifest.xml:\r\n\r\n     android:configChanges=&quot;orientation&quot;\r\n\r\nYour Video activity should look something like this.   \r\n\r\n     &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \r\n      android:configChanges=&quot;orientation&quot; /&gt;\r\n\r\nAccording to [this answer](https://stackoverflow.com/a/7012863):\r\n&gt;If your target API level 13 or higher, you must include the `screenSize` value in addition to the `orientation` value as described [here][1]. Your Video activity should look something like this.   \r\n&gt;\r\n&gt;      &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \r\n&gt;       android:configChanges=&quot;orientation|screenSize&quot; /&gt;\r\n\r\nAnd then add the following method to VideoPlayerActivity:\r\n\r\n    @Override\r\n\tpublic void onConfigurationChanged(Configuration newConfig) {\r\n\t    super.onConfigurationChanged(newConfig);\r\n\t}\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange","title":"How to keep playing video while changing to landscape mode android","body":"<p>all you need to do is add this to activity in AndroidManifest.xml:</p>\n<pre><code> android:configChanges=&quot;orientation&quot;\n</code></pre>\n<p>Your Video activity should look something like this.</p>\n<pre><code> &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \n  android:configChanges=&quot;orientation&quot; /&gt;\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/a/7012863\">this answer</a>:</p>\n<blockquote>\n<p>If your target API level 13 or higher, you must include the <code>screenSize</code> value in addition to the <code>orientation</code> value as described <a href=\"http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange\" rel=\"nofollow noreferrer\">here</a>. Your Video activity should look something like this.</p>\n<pre><code> &lt;activity android:name=&quot;.VideoPlayerActivity&quot; \n  android:configChanges=&quot;orientation|screenSize&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>And then add the following method to VideoPlayerActivity:</p>\n<pre><code>@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13416941,"reputation":71,"user_id":9681087,"display_name":"Mikhael Lauda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528176983,"creation_date":1528173095,"answer_id":50692079,"question_id":11031295,"body_markdown":"**Full Screen Landscape Video**\r\n\r\nAndroidManifext.xml (Setting the orientation)\r\n\r\n            &lt;activity\r\n            android:name=&quot;.Video1&quot;\r\n            android:screenOrientation=&quot;landscape&quot; /&gt;\r\n\r\nVideo1.xml Code :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Video1&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/videoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;&gt;\r\n    &lt;/VideoView&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\nVideo1.java Code :\r\n\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.WindowManager;\r\n    import android.widget.MediaController;\r\n    import android.widget.VideoView;\r\n\r\n    public class Video1 extends AppCompatActivity {\r\n\r\n    private VideoView videoView;\r\n    private MediaController mediaController;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video1);\r\n\r\n        videoView = findViewById(R.id.videoView);\r\n        String fullScreen =  getIntent().getStringExtra(&quot;fullScreenInd&quot;);\r\n        if(&quot;y&quot;.equals(fullScreen)){\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n        Uri videoUri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.YOUR_VIDEO_NAME);\r\n\r\n        videoView.setVideoURI(videoUri);\r\n\r\n        mediaController = new FullScreenMediaController(this);\r\n        mediaController.setAnchorView(videoView);\r\n\r\n        videoView.setMediaController(mediaController);\r\n        videoView.start();\r\n        }\r\n    }\r\n\r\nFullScreenMediaControler.java Code :\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.Gravity;\r\n    import android.view.View;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.ImageButton;\r\n    import android.widget.MediaController;\r\n\r\n    public class FullScreenMediaController extends MediaController {\r\n\r\n    private ImageButton fullScreen;\r\n    private String isFullScreen;\r\n\r\n    public FullScreenMediaController(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    @Override\r\n    public void setAnchorView(View view) {\r\n\r\n        super.setAnchorView(view);\r\n\r\n        //image button for full screen to be added to media controller\r\n        fullScreen = new ImageButton (super.getContext());\r\n\r\n        FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\r\n        params.gravity = Gravity.RIGHT;\r\n        params.rightMargin = 80;\r\n        addView(fullScreen, params);\r\n\r\n        //fullscreen indicator from intent\r\n        isFullScreen =  ((Activity)getContext()).getIntent().\r\n                getStringExtra(&quot;fullScreenInd&quot;);\r\n\r\n        if(&quot;y&quot;.equals(isFullScreen)){\r\n            fullScreen.setImageResource(R.drawable.ic_fullscreen_exit);\r\n        }else{\r\n            fullScreen.setImageResource(R.drawable.ic_fullscreen);\r\n        }\r\n\r\n        //add listener to image button to handle full screen and exit full screen events\r\n        fullScreen.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent intent = new Intent(getContext(),Video1.class);\r\n\r\n                if(&quot;y&quot;.equals(isFullScreen)){\r\n                    intent.putExtra(&quot;fullScreenInd&quot;, &quot;&quot;);\r\n                }else{\r\n                    intent.putExtra(&quot;fullScreenInd&quot;, &quot;y&quot;);\r\n                }\r\n                ((Activity)getContext()).startActivity(intent);\r\n            }\r\n        });\r\n      }\r\n    }","title":"How to keep playing video while changing to landscape mode android","body":"<p><strong>Full Screen Landscape Video</strong></p>\n\n<p>AndroidManifext.xml (Setting the orientation)</p>\n\n<pre><code>        &lt;activity\n        android:name=\".Video1\"\n        android:screenOrientation=\"landscape\" /&gt;\n</code></pre>\n\n<p>Video1.xml Code :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".Video1\"&gt;\n\n&lt;VideoView\n    android:id=\"@+id/videoView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"center\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"&gt;\n&lt;/VideoView&gt;\n</code></pre>\n\n<p></p>\n\n<p>Video1.java Code :</p>\n\n<pre><code>import android.net.Uri;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.WindowManager;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\npublic class Video1 extends AppCompatActivity {\n\nprivate VideoView videoView;\nprivate MediaController mediaController;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_video1);\n\n    videoView = findViewById(R.id.videoView);\n    String fullScreen =  getIntent().getStringExtra(\"fullScreenInd\");\n    if(\"y\".equals(fullScreen)){\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n    }\n\n    Uri videoUri = Uri.parse(\"android.resource://\"+getPackageName()+\"/\"+R.raw.YOUR_VIDEO_NAME);\n\n    videoView.setVideoURI(videoUri);\n\n    mediaController = new FullScreenMediaController(this);\n    mediaController.setAnchorView(videoView);\n\n    videoView.setMediaController(mediaController);\n    videoView.start();\n    }\n}\n</code></pre>\n\n<p>FullScreenMediaControler.java Code :</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.widget.FrameLayout;\nimport android.widget.ImageButton;\nimport android.widget.MediaController;\n\npublic class FullScreenMediaController extends MediaController {\n\nprivate ImageButton fullScreen;\nprivate String isFullScreen;\n\npublic FullScreenMediaController(Context context) {\n    super(context);\n}\n\n@Override\npublic void setAnchorView(View view) {\n\n    super.setAnchorView(view);\n\n    //image button for full screen to be added to media controller\n    fullScreen = new ImageButton (super.getContext());\n\n    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\n    params.gravity = Gravity.RIGHT;\n    params.rightMargin = 80;\n    addView(fullScreen, params);\n\n    //fullscreen indicator from intent\n    isFullScreen =  ((Activity)getContext()).getIntent().\n            getStringExtra(\"fullScreenInd\");\n\n    if(\"y\".equals(isFullScreen)){\n        fullScreen.setImageResource(R.drawable.ic_fullscreen_exit);\n    }else{\n        fullScreen.setImageResource(R.drawable.ic_fullscreen);\n    }\n\n    //add listener to image button to handle full screen and exit full screen events\n    fullScreen.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Intent intent = new Intent(getContext(),Video1.class);\n\n            if(\"y\".equals(isFullScreen)){\n                intent.putExtra(\"fullScreenInd\", \"\");\n            }else{\n                intent.putExtra(\"fullScreenInd\", \"y\");\n            }\n            ((Activity)getContext()).startActivity(intent);\n        }\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":461772,"reputation":485,"user_id":863701,"accept_rate":39,"display_name":"gilush14"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23429,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11031762,"answer_count":3,"score":25,"last_activity_date":1680036741,"creation_date":1339670077,"question_id":11031295,"body_markdown":"I&#39;m playing video (on `VideoView`) on portrait mode (not on full screen) and when I change to \r\n\r\nlandscape mode the video stop.\r\n\r\nWhen I change it to landscape that video will appear on full screen and will keep playing. \r\n\r\nAny Suggestion?","title":"How to keep playing video while changing to landscape mode android","body":"<p>I'm playing video (on <code>VideoView</code>) on portrait mode (not on full screen) and when I change to </p>\n\n<p>landscape mode the video stop.</p>\n\n<p>When I change it to landscape that video will appear on full screen and will keep playing. </p>\n\n<p>Any Suggestion?</p>\n"},{"tags":["java","jpa","enums","jpa-2.0","enumerated-types"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1680036703,"post_id":75869789,"comment_id":133827971,"body_markdown":"Java 10 has not been supported for about 5 years.  Any reason you&#39;re stuck on that?","body":"Java 10 has not been supported for about 5 years.  Any reason you&#39;re stuck on that?"},{"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"score":1,"creation_date":1680037725,"post_id":75869789,"comment_id":133828190,"body_markdown":"I would love to upgrade, but it&#39;s not my decision.","body":"I would love to upgrade, but it&#39;s not my decision."}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680036609,"creation_date":1680036609,"answer_id":75870954,"question_id":75869789,"body_markdown":"If *JPA2* really means ***JPA 2.1*** then ```AttributeConverter``` is the perfect solution.\r\n\r\n&gt;A class that implements this interface can be used to convert entity attribute state into database column representation and back again. Note that the X and Y types may be the same Java type.\r\n\r\nIn this case there is an entity\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // Custom converter registered manually\r\n    @Convert(converter = AccountTypeConverter.class)\r\n    private AccountType type;\r\n\r\n    private Double balance;\r\n\r\n    // Getters and setters omitted for brevity\r\n}\r\n```\r\nand an enumerated field `AccountType`\r\n\r\n```java\r\npublic enum AccountType {\r\n\r\n    DEBIT(&quot;D&quot;),\r\n\r\n    CREDIT(&quot;C&quot;);\r\n    private final String shortValue;\r\n\r\n    private AccountType(String value) {\r\n        this.shortValue = value;\r\n    }\r\n\r\n    public String getShortValue() {\r\n        return shortValue;\r\n    }\r\n\r\n    private static final Function&lt;String, AccountType&gt; byShortValue = s -&gt;\r\n            Arrays.stream(values())\r\n                    .filter(e -&gt; e.getShortValue().equals(s))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid account type: &quot; + s));\r\n\r\n    public static AccountType fromShortValue(String shortValue) {\r\n        return Optional.ofNullable(shortValue)\r\n                .map(byShortValue)\r\n                .orElse(null);\r\n    }\r\n}\r\n```\r\nFinally, the instructed `AccountTypeConverter` should be like\r\n\r\n```java\r\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(AccountType attribute) {\r\n        return Optional.ofNullable(attribute)\r\n                .map(AccountType::getShortValue)\r\n                .orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public AccountType convertToEntityAttribute(String dbData) {\r\n        return AccountType.fromShortValue(dbData);\r\n    }\r\n}\r\n```\r\n\r\nWhen opening an `Account`\r\n\r\n```java\r\ndoInJPA(emFactory, em -&gt; {\r\n    var debit = new Account()\r\n            .setId(1L)\r\n            .setBalance(10_000d)\r\n            .setType(AccountType.DEBIT);\r\n    var credit = new Account()\r\n            .setId(2L)\r\n            .setBalance(30_000d)\r\n            .setType(AccountType.CREDIT);\r\n    em.persist(debit);\r\n    em.persist(credit);\r\n});\r\n```\r\nthe generated SQL statements are like this\r\n\r\n```sql\r\nINSERT INTO account \r\n    (balance, type, id) \r\nVALUES (\r\n    10000,\r\n    &#39;D&#39;,\r\n    1\r\n);\r\n\r\nINSERT INTO account \r\n    (balance, type, id) \r\nVALUES (\r\n    30000,\r\n    &#39;C&#39;,\r\n    2\r\n);\r\n```\r\n\r\nThe previous example shows how to implement and register an attribute converter to a field of an enity. If you have multiple entities with the same type of enumerated field and all occurrences should be converted, then it is possible to **auto-register** the converter.\r\n\r\n**Auto-registered `AttributeConverter`**\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\r\n\r\n    // implementation is same\r\n}\r\n```\r\nIn this case annotating the entity field is no longer necessary.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    // Previously registered converter applied automatically\r\n    private AccountType type;\r\n\r\n    private Double balance;\r\n\r\n    // Getters and setters omitted for brevity\r\n}\r\n```\r\n","title":"In JPA2 and Java 10, how do I map the value of an enum to an @Enumerated column?","body":"<p>If <em>JPA2</em> really means <em><strong>JPA 2.1</strong></em> then <code>AttributeConverter</code> is the perfect solution.</p>\n<blockquote>\n<p>A class that implements this interface can be used to convert entity attribute state into database column representation and back again. Note that the X and Y types may be the same Java type.</p>\n</blockquote>\n<p>In this case there is an entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    private Long id;\n\n    // Custom converter registered manually\n    @Convert(converter = AccountTypeConverter.class)\n    private AccountType type;\n\n    private Double balance;\n\n    // Getters and setters omitted for brevity\n}\n</code></pre>\n<p>and an enumerated field <code>AccountType</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AccountType {\n\n    DEBIT(&quot;D&quot;),\n\n    CREDIT(&quot;C&quot;);\n    private final String shortValue;\n\n    private AccountType(String value) {\n        this.shortValue = value;\n    }\n\n    public String getShortValue() {\n        return shortValue;\n    }\n\n    private static final Function&lt;String, AccountType&gt; byShortValue = s -&gt;\n            Arrays.stream(values())\n                    .filter(e -&gt; e.getShortValue().equals(s))\n                    .findFirst()\n                    .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid account type: &quot; + s));\n\n    public static AccountType fromShortValue(String shortValue) {\n        return Optional.ofNullable(shortValue)\n                .map(byShortValue)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>Finally, the instructed <code>AccountTypeConverter</code> should be like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(AccountType attribute) {\n        return Optional.ofNullable(attribute)\n                .map(AccountType::getShortValue)\n                .orElse(null);\n    }\n\n    @Override\n    public AccountType convertToEntityAttribute(String dbData) {\n        return AccountType.fromShortValue(dbData);\n    }\n}\n</code></pre>\n<p>When opening an <code>Account</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>doInJPA(emFactory, em -&gt; {\n    var debit = new Account()\n            .setId(1L)\n            .setBalance(10_000d)\n            .setType(AccountType.DEBIT);\n    var credit = new Account()\n            .setId(2L)\n            .setBalance(30_000d)\n            .setType(AccountType.CREDIT);\n    em.persist(debit);\n    em.persist(credit);\n});\n</code></pre>\n<p>the generated SQL statements are like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO account \n    (balance, type, id) \nVALUES (\n    10000,\n    'D',\n    1\n);\n\nINSERT INTO account \n    (balance, type, id) \nVALUES (\n    30000,\n    'C',\n    2\n);\n</code></pre>\n<p>The previous example shows how to implement and register an attribute converter to a field of an enity. If you have multiple entities with the same type of enumerated field and all occurrences should be converted, then it is possible to <strong>auto-register</strong> the converter.</p>\n<p><strong>Auto-registered <code>AttributeConverter</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class AccountTypeConverter implements AttributeConverter&lt;AccountType, String&gt; {\n\n    // implementation is same\n}\n</code></pre>\n<p>In this case annotating the entity field is no longer necessary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    private Long id;\n\n    // Previously registered converter applied automatically\n    private AccountType type;\n\n    private Double balance;\n\n    // Getters and setters omitted for brevity\n}\n</code></pre>\n"}],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75870954,"answer_count":1,"score":0,"last_activity_date":1680036609,"creation_date":1680027891,"question_id":75869789,"body_markdown":"I&#39;m using Java 10.  If I define an enum like this\r\n\r\n    public enum MyEnum {\r\n      NAME1(&quot;value 1&quot;),\r\n      NAME2(&quot;value 2&quot;),\r\n    \t...\r\n    }\r\n\r\nand then I have a JPA-mapped database column that is defined by the enum\r\n\r\n      @Enumerated(value = EnumType.STRING)\r\n      private MyEnum status;\r\n\r\nWhat else do I need to do to map the value of the enum (e.g. &quot;value 2&quot;) to the column &quot;status&quot; instead of the name, which is getting mapped currently?\r\n\r\n","title":"In JPA2 and Java 10, how do I map the value of an enum to an @Enumerated column?","body":"<p>I'm using Java 10.  If I define an enum like this</p>\n<pre><code>public enum MyEnum {\n  NAME1(&quot;value 1&quot;),\n  NAME2(&quot;value 2&quot;),\n    ...\n}\n</code></pre>\n<p>and then I have a JPA-mapped database column that is defined by the enum</p>\n<pre><code>  @Enumerated(value = EnumType.STRING)\n  private MyEnum status;\n</code></pre>\n<p>What else do I need to do to map the value of the enum (e.g. &quot;value 2&quot;) to the column &quot;status&quot; instead of the name, which is getting mapped currently?</p>\n"},{"tags":["java","gradle","intellij-idea","build.gradle"],"comments":[{"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"score":0,"creation_date":1680036614,"post_id":75870946,"comment_id":133827948,"body_markdown":"Recreated question and answer from unanswered other post: https://stackoverflow.com/questions/59167463/gradle-tasks-are-not-appear-in-gradle-tasks-panel","body":"Recreated question and answer from unanswered other post: <a href=\"https://stackoverflow.com/questions/59167463/gradle-tasks-are-not-appear-in-gradle-tasks-panel\" title=\"gradle tasks are not appear in gradle tasks panel\">stackoverflow.com/questions/59167463/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680036568,"creation_date":1680036568,"answer_id":75870947,"question_id":75870946,"body_markdown":"Reload the Gradle project and review the logs. If any exception or issue happens during the loading process, it will result in an unpopulated Gradle tasks panel.","title":"Gradle tasks do not appear in the Gradle tasks panel in IntelliJ","body":"<p>Reload the Gradle project and review the logs. If any exception or issue happens during the loading process, it will result in an unpopulated Gradle tasks panel.</p>\n"}],"owner":{"account_id":5867721,"reputation":341,"user_id":4621102,"display_name":"StevenPG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680036568,"creation_date":1680036568,"question_id":75870946,"body_markdown":"While using IntelliJ and gradle, I run into an issue where gradle tasks do not appear in the gradle tasks window.\r\n\r\nFor example, where you can usually select project &gt; Tasks &gt; build &gt; clean to clean the project, the &quot;Tasks&quot; option is unavailable.\r\n\r\nExample from a similar question across two IDEs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dDxuB.png\r\n\r\nWhat would cause the IntelliJ Gradle panel to not populate?","title":"Gradle tasks do not appear in the Gradle tasks panel in IntelliJ","body":"<p>While using IntelliJ and gradle, I run into an issue where gradle tasks do not appear in the gradle tasks window.</p>\n<p>For example, where you can usually select project &gt; Tasks &gt; build &gt; clean to clean the project, the &quot;Tasks&quot; option is unavailable.</p>\n<p>Example from a similar question across two IDEs:</p>\n<p><a href=\"https://i.stack.imgur.com/dDxuB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dDxuB.png\" alt=\"enter image description here\" /></a></p>\n<p>What would cause the IntelliJ Gradle panel to not populate?</p>\n"},{"tags":["java","image","image-processing","bufferedimage"],"comments":[{"owner":{"account_id":2574793,"reputation":8017,"user_id":2232744,"accept_rate":72,"display_name":"Jordan.J.D"},"score":1,"creation_date":1405369093,"post_id":24745147,"comment_id":38389577,"body_markdown":"possible duplicate of [Re-sizing an image without loosing quality](http://stackoverflow.com/questions/7951290/re-sizing-an-image-without-loosing-quality)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7951290/re-sizing-an-image-without-loosing-quality\">Re-sizing an image without loosing quality</a>"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":1,"creation_date":1405369524,"post_id":24745147,"comment_id":38389830,"body_markdown":"@JordanD I&#39;ve already looked at that and it did not resolve the issue....","body":"@JordanD I&#39;ve already looked at that and it did not resolve the issue...."},{"owner":{"account_id":2562510,"reputation":1624,"user_id":2223360,"display_name":"clearlyspam23"},"score":0,"creation_date":1405369884,"post_id":24745147,"comment_id":38390009,"body_markdown":"you may have already tried this, but if not, have you tried doing bicubic interpolation instead of bilinear?","body":"you may have already tried this, but if not, have you tried doing bicubic interpolation instead of bilinear?"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":0,"creation_date":1405370513,"post_id":24745147,"comment_id":38390367,"body_markdown":"@clearlyspam23 I have tried that and saw no significant difference in the images. Thank you for the suggestion though!","body":"@clearlyspam23 I have tried that and saw no significant difference in the images. Thank you for the suggestion though!"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1405370932,"post_id":24745147,"comment_id":38390570,"body_markdown":"possible duplicate of [How to get a good quality thumbnail](http://stackoverflow.com/questions/7742175/how-to-get-a-good-quality-thumbnail)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7742175/how-to-get-a-good-quality-thumbnail\">How to get a good quality thumbnail</a>"},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1405371296,"post_id":24745147,"comment_id":38390779,"body_markdown":"This is what linear interpolation looks like. You need to use Bi-Cubic to get proper results.","body":"This is what linear interpolation looks like. You need to use Bi-Cubic to get proper results."},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1405371495,"post_id":24745147,"comment_id":38390889,"body_markdown":"See this answer for workaround: http://stackoverflow.com/a/6585767/882403","body":"See this answer for workaround: <a href=\"http://stackoverflow.com/a/6585767/882403\">stackoverflow.com/a/6585767/882403</a>"},{"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"score":0,"creation_date":1405371670,"post_id":24745147,"comment_id":38390966,"body_markdown":"@dimoniy Update to show how `BICUBIC` isn&#39;t any different from the `BILINEAR`. That answer and all other ones have been read and looked through. I have found no solution that I&#39;ve worked through that satisfies so far... This is why I decided to ask my own question. Thank you for the suggested [ready looked through] reading :)","body":"@dimoniy Update to show how <code>BICUBIC</code> isn&#39;t any different from the <code>BILINEAR</code>. That answer and all other ones have been read and looked through. I have found no solution that I&#39;ve worked through that satisfies so far... This is why I decided to ask my own question. Thank you for the suggested [ready looked through] reading :)"},{"owner":{"account_id":4230755,"reputation":7764,"user_id":3536342,"display_name":"DavidPostill"},"score":0,"creation_date":1405421727,"post_id":24745147,"comment_id":38410164,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/11967458/how-to-resize-a-image-without-losing-quality-using-java","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11967458/how-to-resize-a-image-without-losing-quality-using-java\" title=\"how to resize a image without losing quality using java\">stackoverflow.com/questions/11967458/&hellip;</a>"},{"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"score":1,"creation_date":1591117764,"post_id":24745147,"comment_id":109932005,"body_markdown":"Another similar question: [How to resize the buffered image n graphics 2d in java?](https://stackoverflow.com/questions/4756268/how-to-resize-the-buffered-image-n-graphics-2d-in-java)","body":"Another similar question: <a href=\"https://stackoverflow.com/questions/4756268/how-to-resize-the-buffered-image-n-graphics-2d-in-java\">How to resize the buffered image n graphics 2d in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1570102553,"creation_date":1405372905,"answer_id":24746194,"question_id":24745147,"body_markdown":"Given your input image, the method from the answer in the first link in the comments (kudos to Chris Campbell) produces one of the following thumbnails:\r\n\r\n![enter image description here][2]\r\n![enter image description here][1]\r\n\r\n\r\n(The other one is the thumbnail that you created with MS Paint. It&#39;s hard to call one of them &quot;better&quot; than the other...)\r\n\r\n\r\nEDIT: Just to point this out as well: The main problem with your original code was that you did not really *scale* the image in multiple steps. You just used a strange loop to &quot;compute&quot; the target size. The key point is that you actually perform the *scaling* in multiple steps.\r\n\r\n\r\nJust for completeness, the MVCE\r\n\r\n*(Edit: I mentioned Chris Campbell and referred to the source via the comments, but to make this more clear here: The following is based on the article [The Perils of Image.getScaledInstance()](https://community.oracle.com/docs/DOC-983611) )*\r\n\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Transparency;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.Iterator;\r\n\r\n    import javax.imageio.IIOImage;\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.ImageWriteParam;\r\n    import javax.imageio.ImageWriter;\r\n    import javax.imageio.stream.ImageOutputStream;\r\n    import javax.imageio.stream.MemoryCacheImageOutputStream;\r\n\r\n    public class ResizeQuality\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            BufferedImage image = ImageIO.read(new File(&quot;X0aPT.jpg&quot;));\r\n            BufferedImage scaled = getScaledInstance(\r\n                image, 51, 75, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\r\n            writeJPG(scaled, new FileOutputStream(&quot;X0aPT_tn.jpg&quot;), 0.85f);\r\n        }\r\n\r\n        public static BufferedImage getScaledInstance(\r\n            BufferedImage img, int targetWidth,\r\n            int targetHeight, Object hint, \r\n            boolean higherQuality)\r\n        {\r\n            int type =\r\n                (img.getTransparency() == Transparency.OPAQUE)\r\n                ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\r\n            BufferedImage ret = (BufferedImage) img;\r\n            int w, h;\r\n            if (higherQuality)\r\n            {\r\n                // Use multi-step technique: start with original size, then\r\n                // scale down in multiple passes with drawImage()\r\n                // until the target size is reached\r\n                w = img.getWidth();\r\n                h = img.getHeight();\r\n            }\r\n            else\r\n            {\r\n                // Use one-step technique: scale directly from original\r\n                // size to target size with a single drawImage() call\r\n                w = targetWidth;\r\n                h = targetHeight;\r\n            }\r\n\r\n            do\r\n            {\r\n                if (higherQuality &amp;&amp; w &gt; targetWidth)\r\n                {\r\n                    w /= 2;\r\n                    if (w &lt; targetWidth)\r\n                    {\r\n                        w = targetWidth;\r\n                    }\r\n                }\r\n\r\n                if (higherQuality &amp;&amp; h &gt; targetHeight)\r\n                {\r\n                    h /= 2;\r\n                    if (h &lt; targetHeight)\r\n                    {\r\n                        h = targetHeight;\r\n                    }\r\n                }\r\n\r\n                BufferedImage tmp = new BufferedImage(w, h, type);\r\n                Graphics2D g2 = tmp.createGraphics();\r\n                g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\r\n                g2.drawImage(ret, 0, 0, w, h, null);\r\n                g2.dispose();\r\n\r\n                ret = tmp;\r\n            } while (w != targetWidth || h != targetHeight);\r\n\r\n            return ret;\r\n        }\r\n\r\n        public static void writeJPG(\r\n            BufferedImage bufferedImage,\r\n            OutputStream outputStream,\r\n            float quality) throws IOException\r\n        {\r\n            Iterator&lt;ImageWriter&gt; iterator =\r\n                ImageIO.getImageWritersByFormatName(&quot;jpg&quot;);\r\n            ImageWriter imageWriter = iterator.next();\r\n            ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\r\n            imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n            imageWriteParam.setCompressionQuality(quality);\r\n            ImageOutputStream imageOutputStream =\r\n                new MemoryCacheImageOutputStream(outputStream);\r\n            imageWriter.setOutput(imageOutputStream);\r\n            IIOImage iioimage = new IIOImage(bufferedImage, null, null);\r\n            imageWriter.write(null, iioimage, imageWriteParam);\r\n            imageOutputStream.flush();\r\n        }    \r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bbPis.jpg\r\n  [2]: http://i.stack.imgur.com/kORO1.jpg","title":"Java - resize image without losing quality","body":"<p>Given your input image, the method from the answer in the first link in the comments (kudos to Chris Campbell) produces one of the following thumbnails:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kORO1.jpg\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/bbPis.jpg\" alt=\"enter image description here\"></p>\n\n<p>(The other one is the thumbnail that you created with MS Paint. It's hard to call one of them \"better\" than the other...)</p>\n\n<p>EDIT: Just to point this out as well: The main problem with your original code was that you did not really <em>scale</em> the image in multiple steps. You just used a strange loop to \"compute\" the target size. The key point is that you actually perform the <em>scaling</em> in multiple steps.</p>\n\n<p>Just for completeness, the MVCE</p>\n\n<p><em>(Edit: I mentioned Chris Campbell and referred to the source via the comments, but to make this more clear here: The following is based on the article <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">The Perils of Image.getScaledInstance()</a> )</em></p>\n\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Transparency;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.Iterator;\n\nimport javax.imageio.IIOImage;\nimport javax.imageio.ImageIO;\nimport javax.imageio.ImageWriteParam;\nimport javax.imageio.ImageWriter;\nimport javax.imageio.stream.ImageOutputStream;\nimport javax.imageio.stream.MemoryCacheImageOutputStream;\n\npublic class ResizeQuality\n{\n    public static void main(String[] args) throws IOException\n    {\n        BufferedImage image = ImageIO.read(new File(\"X0aPT.jpg\"));\n        BufferedImage scaled = getScaledInstance(\n            image, 51, 75, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\n        writeJPG(scaled, new FileOutputStream(\"X0aPT_tn.jpg\"), 0.85f);\n    }\n\n    public static BufferedImage getScaledInstance(\n        BufferedImage img, int targetWidth,\n        int targetHeight, Object hint, \n        boolean higherQuality)\n    {\n        int type =\n            (img.getTransparency() == Transparency.OPAQUE)\n            ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\n        BufferedImage ret = (BufferedImage) img;\n        int w, h;\n        if (higherQuality)\n        {\n            // Use multi-step technique: start with original size, then\n            // scale down in multiple passes with drawImage()\n            // until the target size is reached\n            w = img.getWidth();\n            h = img.getHeight();\n        }\n        else\n        {\n            // Use one-step technique: scale directly from original\n            // size to target size with a single drawImage() call\n            w = targetWidth;\n            h = targetHeight;\n        }\n\n        do\n        {\n            if (higherQuality &amp;&amp; w &gt; targetWidth)\n            {\n                w /= 2;\n                if (w &lt; targetWidth)\n                {\n                    w = targetWidth;\n                }\n            }\n\n            if (higherQuality &amp;&amp; h &gt; targetHeight)\n            {\n                h /= 2;\n                if (h &lt; targetHeight)\n                {\n                    h = targetHeight;\n                }\n            }\n\n            BufferedImage tmp = new BufferedImage(w, h, type);\n            Graphics2D g2 = tmp.createGraphics();\n            g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\n            g2.drawImage(ret, 0, 0, w, h, null);\n            g2.dispose();\n\n            ret = tmp;\n        } while (w != targetWidth || h != targetHeight);\n\n        return ret;\n    }\n\n    public static void writeJPG(\n        BufferedImage bufferedImage,\n        OutputStream outputStream,\n        float quality) throws IOException\n    {\n        Iterator&lt;ImageWriter&gt; iterator =\n            ImageIO.getImageWritersByFormatName(\"jpg\");\n        ImageWriter imageWriter = iterator.next();\n        ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\n        imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n        imageWriteParam.setCompressionQuality(quality);\n        ImageOutputStream imageOutputStream =\n            new MemoryCacheImageOutputStream(outputStream);\n        imageWriter.setOutput(imageOutputStream);\n        IIOImage iioimage = new IIOImage(bufferedImage, null, null);\n        imageWriter.write(null, iioimage, imageWriteParam);\n        imageOutputStream.flush();\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405379084,"creation_date":1405377016,"answer_id":24747085,"question_id":24745147,"body_markdown":"The result seems to be better (than the result of your program), if you apply **Gaussian blur** before resizing:\r\n\r\nThis is the result I get, with `sigma * (scale factor) = 0.3`:\r\n\r\n![Thumbnail when bluring first(sigma=15.0)][1] \r\n\r\nWith [ImageJ][2] the code to do this is quite short:\r\n\r\n    import ij.IJ;\r\n    import ij.ImagePlus;\r\n    import ij.io.Opener;\r\n    import ij.process.ImageProcessor;\r\n\r\n    public class Resizer {\r\n    \r\n        public static void main(String[] args) {\r\n            processPicture(&quot;X0aPT.jpg&quot;, &quot;output.jpg&quot;, 0.0198, ImageProcessor.NONE, 0.3);\r\n        }\r\n\r\n        public static void processPicture(String inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\r\n            Opener opener = new Opener();\r\n            ImageProcessor ip = opener.openImage(inputFile).getProcessor();\r\n            ip.blurGaussian(sigmaFactor / scaleFactor);\r\n            ip.setInterpolationMethod(interpolationMethod);\r\n            ImageProcessor outputProcessor = ip.resize((int)(ip.getWidth() * scaleFactor), (int)(ip.getHeight()*scaleFactor));\r\n            IJ.saveAs(new ImagePlus(&quot;&quot;, outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf(&#39;.&#39;)+1), outputFilePath);\r\n        }\r\n        \r\n    }\r\n\r\nBTW: You only need `ij-1.49d.jar` (or equivalent for other version); there&#39;s no need to *install* ImageJ.\r\n\r\n  [1]: http://i.stack.imgur.com/SJSTh.jpg\r\n  [2]: http://imagej.net","title":"Java - resize image without losing quality","body":"<p>The result seems to be better (than the result of your program), if you apply <strong>Gaussian blur</strong> before resizing:</p>\n\n<p>This is the result I get, with <code>sigma * (scale factor) = 0.3</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SJSTh.jpg\" alt=\"Thumbnail when bluring first(sigma=15.0)\"> </p>\n\n<p>With <a href=\"http://imagej.net\" rel=\"nofollow noreferrer\">ImageJ</a> the code to do this is quite short:</p>\n\n<pre><code>import ij.IJ;\nimport ij.ImagePlus;\nimport ij.io.Opener;\nimport ij.process.ImageProcessor;\n\npublic class Resizer {\n\n    public static void main(String[] args) {\n        processPicture(\"X0aPT.jpg\", \"output.jpg\", 0.0198, ImageProcessor.NONE, 0.3);\n    }\n\n    public static void processPicture(String inputFile, String outputFilePath, double scaleFactor, int interpolationMethod, double sigmaFactor) {\n        Opener opener = new Opener();\n        ImageProcessor ip = opener.openImage(inputFile).getProcessor();\n        ip.blurGaussian(sigmaFactor / scaleFactor);\n        ip.setInterpolationMethod(interpolationMethod);\n        ImageProcessor outputProcessor = ip.resize((int)(ip.getWidth() * scaleFactor), (int)(ip.getHeight()*scaleFactor));\n        IJ.saveAs(new ImagePlus(\"\", outputProcessor), outputFilePath.substring(outputFilePath.lastIndexOf('.')+1), outputFilePath);\n    }\n\n}\n</code></pre>\n\n<p>BTW: You only need <code>ij-1.49d.jar</code> (or equivalent for other version); there's no need to <em>install</em> ImageJ.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1594852261,"creation_date":1424614129,"answer_id":28658733,"question_id":24745147,"body_markdown":"[Thumbnailator][1] is a library that was written to create high-quality thumbnails in a simple manner, and doing a batch conversion of existing images is one of its use cases.\r\n\r\nPerforming batch resizing\r\n---\r\n\r\nFor example, to adapt your example using Thumbnailator, you should be able to achieve similar results with the following code:\r\n\r\n    File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\r\n    Thumbnails.of(folder.listFiles())\r\n        .size(112, 75)\r\n        .outputFormat(&quot;jpg&quot;)\r\n        .toFiles(Rename.PREFIX_DOT_THUMBNAIL);\r\n\r\nThis will go ahead and takes all files in your `images` directory and proceed to process them one by one, try to resize them to fit in the dimensions of 112 x 75, and it will attempt to preserve the aspect ratio of the original image to prevent &quot;warping&quot; of the image.\r\n\r\nThumbnailator will go ahead and read all files, regardless of image types (as long as the Java Image IO supports the format, Thumbnailator will process it), perform the resizing operation and output the thumbnails as JPEG files, while tacking on a `thumbnail.` to the beginning of the file name.\r\n\r\nThe following is an illustration of how the file name of the original will be used in the file name of the thumbnail if the above code is executed.\r\n\r\n    images/fireworks.jpg     -&gt;  images/thumbnail.fireworks.jpg\r\n    images/illustration.png  -&gt;  images/thumbnail.illustration.png\r\n    images/mountains.jpg     -&gt;  images/thumbnail.mountains.jpg\r\n\r\nGenerating high-quality thumbnails\r\n---\r\n\r\nIn terms of image quality, as mentioned in [Marco13&#39;s answer][2], the technique described by Chris Campbell in his [The Perils of Image.getScaledInstance()][3] is implemented in Thumbnailator, resulting in high-quality thumbnails without requiring any complicated processing.\r\n\r\nThe following is the thumbnail generated when resizing the fireworks image shown in the original question using Thumbnailator:\r\n\r\n![Thumbnail of image in original question][4]\r\n\r\nThe above image was created with the following code:\r\n\r\n    BufferedImage thumbnail = \r\n        Thumbnails.of(new URL(&quot;https://i.stack.imgur.com/X0aPT.jpg&quot;))\r\n            .height(75)\r\n            .asBufferedImage();\r\n    \r\n    ImageIO.write(thumbnail, &quot;png&quot;, new File(&quot;24745147.png&quot;));\r\n\r\nThe code shows that it can also accept URLs as input, and that Thumbnailator is also capable of creating `BufferedImage`s as well.\r\n\r\n---\r\n\r\nDisclaimer: I am the maintainer of the [Thumbnailator][1] library.\r\n\r\n  [1]: https://github.com/coobird/thumbnailator\r\n  [2]: https://stackoverflow.com/a/24746194/17172\r\n  [3]: https://community.oracle.com/docs/DOC-983611\r\n  [4]: https://i.stack.imgur.com/lKM5P.png\r\n","title":"Java - resize image without losing quality","body":"<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"noreferrer\">Thumbnailator</a> is a library that was written to create high-quality thumbnails in a simple manner, and doing a batch conversion of existing images is one of its use cases.</p>\n<h2>Performing batch resizing</h2>\n<p>For example, to adapt your example using Thumbnailator, you should be able to achieve similar results with the following code:</p>\n<pre><code>File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\nThumbnails.of(folder.listFiles())\n    .size(112, 75)\n    .outputFormat(&quot;jpg&quot;)\n    .toFiles(Rename.PREFIX_DOT_THUMBNAIL);\n</code></pre>\n<p>This will go ahead and takes all files in your <code>images</code> directory and proceed to process them one by one, try to resize them to fit in the dimensions of 112 x 75, and it will attempt to preserve the aspect ratio of the original image to prevent &quot;warping&quot; of the image.</p>\n<p>Thumbnailator will go ahead and read all files, regardless of image types (as long as the Java Image IO supports the format, Thumbnailator will process it), perform the resizing operation and output the thumbnails as JPEG files, while tacking on a <code>thumbnail.</code> to the beginning of the file name.</p>\n<p>The following is an illustration of how the file name of the original will be used in the file name of the thumbnail if the above code is executed.</p>\n<pre><code>images/fireworks.jpg     -&gt;  images/thumbnail.fireworks.jpg\nimages/illustration.png  -&gt;  images/thumbnail.illustration.png\nimages/mountains.jpg     -&gt;  images/thumbnail.mountains.jpg\n</code></pre>\n<h2>Generating high-quality thumbnails</h2>\n<p>In terms of image quality, as mentioned in <a href=\"https://stackoverflow.com/a/24746194/17172\">Marco13's answer</a>, the technique described by Chris Campbell in his <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"noreferrer\">The Perils of Image.getScaledInstance()</a> is implemented in Thumbnailator, resulting in high-quality thumbnails without requiring any complicated processing.</p>\n<p>The following is the thumbnail generated when resizing the fireworks image shown in the original question using Thumbnailator:</p>\n<p><img src=\"https://i.stack.imgur.com/lKM5P.png\" alt=\"Thumbnail of image in original question\" /></p>\n<p>The above image was created with the following code:</p>\n<pre><code>BufferedImage thumbnail = \n    Thumbnails.of(new URL(&quot;https://i.stack.imgur.com/X0aPT.jpg&quot;))\n        .height(75)\n        .asBufferedImage();\n\nImageIO.write(thumbnail, &quot;png&quot;, new File(&quot;24745147.png&quot;));\n</code></pre>\n<p>The code shows that it can also accept URLs as input, and that Thumbnailator is also capable of creating <code>BufferedImage</code>s as well.</p>\n<hr />\n<p>Disclaimer: I am the maintainer of the <a href=\"https://github.com/coobird/thumbnailator\" rel=\"noreferrer\">Thumbnailator</a> library.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1680036244,"creation_date":1459555233,"answer_id":36367652,"question_id":24745147,"body_markdown":"Unfortunately, there is no recommended out-of-the-box scaling in Java that provides visually good results. Among others, here are the methods I recommend for scaling:\r\n\r\n* Lanczos3 Resampling (usually visually better, but slower)\r\n* Progressive Down Scaling (usually visually fine, can be quite fast)\r\n* One-Step scaling for up scaling (with `Graphics2d` bicubic fast and good results, usually not as good as Lanczos3)\r\n\r\nExamples for every method can be found in this answer.\r\n\r\nVisual Comparison\r\n=====================\r\n\r\nHere is your image scaled to `96x140` with different methods/libs. Click on the image to get the full size:\r\n\r\n[![comparison][1]][1]\r\n\r\n[![comparison zoom][2]][2]\r\n\r\n1. Morten Nobel&#39;s lib Lanczos3\r\n2. Thumbnailator Bilinear Progressive Scaling\r\n3. Imgscalr ULTRA_QUALTY (1/7 step Bicubic Progressive Scaling)\r\n4. Imgscalr QUALTY (1/2 step Bicubic Progressive Scaling)\r\n5. Morten Nobel&#39;s lib Bilinear Progressive Scaling\r\n6. `Graphics2d` Bicubic interpolation\r\n7. `Graphics2d` Nearest Neighbor interpolation\r\n8. Photoshop CS5 bicubic as reference\r\n\r\nUnfortunately a single image is not enough to judge a scaling algorithm, you should test icons with sharp edges, photos with text, etc.\r\n\r\nLanczos Resampling\r\n=====================\r\n\r\nIs said to be good for up- and especially downscaling. Unfortunately [there is no native implementation in current JDK][3] so you either implement it yourself and use a lib like [Morten Nobel&#39;s lib][4]. A simple example using said lib:\r\n\r\n```java\r\nResampleOp resizeOp = new ResampleOp(dWidth, dHeight);\r\nresizeOp.setFilter(ResampleFilters.getLanczos3Filter());\r\nBufferedImage scaledImage = resizeOp.filter(imageToScale, null);\r\n```\r\n        \r\nThe lib is [published on maven-central][5] which is not mentioned, unfortunately. The downside is that it usually is very slow without any highly optimized or hardware accelerated implementations known to me. Nobel&#39;s implementation is about 8 times slower than a 1/2 step progressive scaling algorithm with `Graphics2d`. [Read more about this lib on his blog][6].\r\n\r\nProgressive Scaling\r\n=====================\r\nMentioned in [Chris Campbell&#39;s blog about scaling][7] in Java, progressive scaling is basically incrementally scaling an image in smaller steps until the final dimensions are reached. Campbell describes it as halving width/height until you reach target. This produces good results and can be used with `Graphics2D` which can be hardware accelerated, therefore usually having very good performance with acceptable results in most cases. The major downside of this is if downscaled less than half using `Graphics2D` provides the same mediocre results since it is only scaled once.\r\n\r\nHere is a simple example on how it works:\r\n\r\n[![progressive scaling][8]][8]\r\n\r\nThe following libs incorporate forms of progressive scaling based on `Graphics2d`:\r\n\r\n[Thumbnailator v0.4.8][9]\r\n---------------------\r\nUses the progressive bilinear algorithm if the target is at least half of every dimension, otherwise it uses simple `Graphics2d` bilinear scaling and bicubic for upscaling.\r\n\r\n```java\r\nResizer resizer = DefaultResizerFactory.getInstance().getResizer(\r\n  new Dimension(imageToScale.getWidth(), imageToScale.getHeight()), \r\n  new Dimension(dWidth, dHeight))\r\nBufferedImage scaledImage = new FixedSizeThumbnailMaker(\r\n  dWidth, dHeight, false, true).resizer(resizer).make(imageToScale);\r\n```\r\n\r\nIt is as fast or slightly faster than one-step scaling with `Graphics2d` scoring an average of 6.9 sec in my [benchmark][10].\r\n\r\n[Imgscalr v4.2][11]\r\n---------------------\r\nUses progressive bicubic scaling. In the `QUALITY` setting it uses Campbell style algorithm with halving the dimensions every step while the `ULTRA_QUALITY` has finer steps, reducing the size every increment by 1/7 which generates generally softer images but minimizes the instances where only 1 iteration is used.\r\n\r\n```java\r\nBufferedImage scaledImage = Scalr.resize(imageToScale, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_EXACT, dWidth, dHeight, bufferedImageOpArray);\r\n```\r\n        \r\nThe major downside is performance. `ULTRA_QUALITY` is considerably slower than the other libs. Even `QUALITY` a bit slower than Thumbnailator&#39;s implementation. My simple [benchmark][10] resulted in 26.2 sec and 11.1 sec average respectively.\r\n\r\n[Morten Nobel&#39;s lib v0.8.6][4]\r\n---------------------\r\nHas also implementations for progressive scaling for all basic `Graphics2d` (bilinear, bicubic &amp; nearest neighbor)\r\n\r\n```java\r\nBufferedImage scaledImage = new MultiStepRescaleOp(dWidth, dHeight, RenderingHints.VALUE_INTERPOLATION_BILINEAR).filter(imageToScale, null);\r\n```\r\n\r\nA word on JDK Scaling Methods\r\n=====================\r\nCurrent jdk way to scale an image would be something like this\r\n\r\n```java\r\nscaledImage = new BufferedImage(dWidth, dHeight, imageType);\r\nGraphics2D graphics2D = scaledImage.createGraphics();\r\ngraphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\ngraphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\r\ngraphics2D.dispose();\r\n```\r\n\r\nbut most are very disappointed with the result of downscaling no matter what interpolation or other `RenderHints` are used. On the other hand upscaling seems to produce acceptable images (best would be bicubic). In previous JDK version (we&#39;re talking 90s v1.1) `Image.getScaledInstance()` was introduced which provided good visual results with parameter `SCALE_AREA_AVERAGING` but you are discouraged to use it - [read the full explanation here][7].\r\n\r\n\r\n[1]: http://i.stack.imgur.com/sH1tO.png\r\n[2]: http://i.stack.imgur.com/JhRQT.png\r\n[3]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6500894\r\n[4]: https://github.com/mortennobel/java-image-scaling\r\n[5]: http://mvnrepository.com/artifact/com.mortennobel/java-image-scaling\r\n[6]: https://blog.nobel-joergensen.com/2008/12/20/downscaling-images-in-java/\r\n[7]: https://community.oracle.com/docs/DOC-983611\r\n[8]: http://i.stack.imgur.com/xGtdc.png\r\n[9]: https://github.com/coobird/thumbnailator\r\n[10]: https://stackoverflow.com/a/36295066/774398\r\n[11]: https://github.com/thebuzzmedia/imgscalr\r\n","title":"Java - resize image without losing quality","body":"<p>Unfortunately, there is no recommended out-of-the-box scaling in Java that provides visually good results. Among others, here are the methods I recommend for scaling:</p>\n<ul>\n<li>Lanczos3 Resampling (usually visually better, but slower)</li>\n<li>Progressive Down Scaling (usually visually fine, can be quite fast)</li>\n<li>One-Step scaling for up scaling (with <code>Graphics2d</code> bicubic fast and good results, usually not as good as Lanczos3)</li>\n</ul>\n<p>Examples for every method can be found in this answer.</p>\n<h1>Visual Comparison</h1>\n<p>Here is your image scaled to <code>96x140</code> with different methods/libs. Click on the image to get the full size:</p>\n<p><a href=\"https://i.stack.imgur.com/sH1tO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sH1tO.png\" alt=\"comparison\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JhRQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JhRQT.png\" alt=\"comparison zoom\" /></a></p>\n<ol>\n<li>Morten Nobel's lib Lanczos3</li>\n<li>Thumbnailator Bilinear Progressive Scaling</li>\n<li>Imgscalr ULTRA_QUALTY (1/7 step Bicubic Progressive Scaling)</li>\n<li>Imgscalr QUALTY (1/2 step Bicubic Progressive Scaling)</li>\n<li>Morten Nobel's lib Bilinear Progressive Scaling</li>\n<li><code>Graphics2d</code> Bicubic interpolation</li>\n<li><code>Graphics2d</code> Nearest Neighbor interpolation</li>\n<li>Photoshop CS5 bicubic as reference</li>\n</ol>\n<p>Unfortunately a single image is not enough to judge a scaling algorithm, you should test icons with sharp edges, photos with text, etc.</p>\n<h1>Lanczos Resampling</h1>\n<p>Is said to be good for up- and especially downscaling. Unfortunately <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6500894\" rel=\"nofollow noreferrer\">there is no native implementation in current JDK</a> so you either implement it yourself and use a lib like <a href=\"https://github.com/mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">Morten Nobel's lib</a>. A simple example using said lib:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResampleOp resizeOp = new ResampleOp(dWidth, dHeight);\nresizeOp.setFilter(ResampleFilters.getLanczos3Filter());\nBufferedImage scaledImage = resizeOp.filter(imageToScale, null);\n</code></pre>\n<p>The lib is <a href=\"http://mvnrepository.com/artifact/com.mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">published on maven-central</a> which is not mentioned, unfortunately. The downside is that it usually is very slow without any highly optimized or hardware accelerated implementations known to me. Nobel's implementation is about 8 times slower than a 1/2 step progressive scaling algorithm with <code>Graphics2d</code>. <a href=\"https://blog.nobel-joergensen.com/2008/12/20/downscaling-images-in-java/\" rel=\"nofollow noreferrer\">Read more about this lib on his blog</a>.</p>\n<h1>Progressive Scaling</h1>\n<p>Mentioned in <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">Chris Campbell's blog about scaling</a> in Java, progressive scaling is basically incrementally scaling an image in smaller steps until the final dimensions are reached. Campbell describes it as halving width/height until you reach target. This produces good results and can be used with <code>Graphics2D</code> which can be hardware accelerated, therefore usually having very good performance with acceptable results in most cases. The major downside of this is if downscaled less than half using <code>Graphics2D</code> provides the same mediocre results since it is only scaled once.</p>\n<p>Here is a simple example on how it works:</p>\n<p><a href=\"https://i.stack.imgur.com/xGtdc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGtdc.png\" alt=\"progressive scaling\" /></a></p>\n<p>The following libs incorporate forms of progressive scaling based on <code>Graphics2d</code>:</p>\n<h2><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">Thumbnailator v0.4.8</a></h2>\n<p>Uses the progressive bilinear algorithm if the target is at least half of every dimension, otherwise it uses simple <code>Graphics2d</code> bilinear scaling and bicubic for upscaling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Resizer resizer = DefaultResizerFactory.getInstance().getResizer(\n  new Dimension(imageToScale.getWidth(), imageToScale.getHeight()), \n  new Dimension(dWidth, dHeight))\nBufferedImage scaledImage = new FixedSizeThumbnailMaker(\n  dWidth, dHeight, false, true).resizer(resizer).make(imageToScale);\n</code></pre>\n<p>It is as fast or slightly faster than one-step scaling with <code>Graphics2d</code> scoring an average of 6.9 sec in my <a href=\"https://stackoverflow.com/a/36295066/774398\">benchmark</a>.</p>\n<h2><a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"nofollow noreferrer\">Imgscalr v4.2</a></h2>\n<p>Uses progressive bicubic scaling. In the <code>QUALITY</code> setting it uses Campbell style algorithm with halving the dimensions every step while the <code>ULTRA_QUALITY</code> has finer steps, reducing the size every increment by 1/7 which generates generally softer images but minimizes the instances where only 1 iteration is used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage scaledImage = Scalr.resize(imageToScale, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_EXACT, dWidth, dHeight, bufferedImageOpArray);\n</code></pre>\n<p>The major downside is performance. <code>ULTRA_QUALITY</code> is considerably slower than the other libs. Even <code>QUALITY</code> a bit slower than Thumbnailator's implementation. My simple <a href=\"https://stackoverflow.com/a/36295066/774398\">benchmark</a> resulted in 26.2 sec and 11.1 sec average respectively.</p>\n<h2><a href=\"https://github.com/mortennobel/java-image-scaling\" rel=\"nofollow noreferrer\">Morten Nobel's lib v0.8.6</a></h2>\n<p>Has also implementations for progressive scaling for all basic <code>Graphics2d</code> (bilinear, bicubic &amp; nearest neighbor)</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage scaledImage = new MultiStepRescaleOp(dWidth, dHeight, RenderingHints.VALUE_INTERPOLATION_BILINEAR).filter(imageToScale, null);\n</code></pre>\n<h1>A word on JDK Scaling Methods</h1>\n<p>Current jdk way to scale an image would be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>scaledImage = new BufferedImage(dWidth, dHeight, imageType);\nGraphics2D graphics2D = scaledImage.createGraphics();\ngraphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\ngraphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\ngraphics2D.dispose();\n</code></pre>\n<p>but most are very disappointed with the result of downscaling no matter what interpolation or other <code>RenderHints</code> are used. On the other hand upscaling seems to produce acceptable images (best would be bicubic). In previous JDK version (we're talking 90s v1.1) <code>Image.getScaledInstance()</code> was introduced which provided good visual results with parameter <code>SCALE_AREA_AVERAGING</code> but you are discouraged to use it - <a href=\"https://community.oracle.com/docs/DOC-983611\" rel=\"nofollow noreferrer\">read the full explanation here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5506710,"reputation":1578,"user_id":4374374,"accept_rate":86,"display_name":"Quark"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466861362,"creation_date":1466861362,"answer_id":38029032,"question_id":24745147,"body_markdown":"We should not forget a [TwelveMonkeys Library][1]\r\n\r\nIt contains a really impressive filter collection.\r\n\r\nUsage example:\r\n\r\n    BufferedImage input = ...; // Image to resample\r\n    int width, height = ...; // new width/height\r\n    \r\n    BufferedImageOp resampler = new ResampleOp(width, height, ResampleOp.FILTER_LANCZOS);\r\n    BufferedImage output = resampler.filter(input, null);\r\n\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"Java - resize image without losing quality","body":"<p>We should not forget a <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"noreferrer\">TwelveMonkeys Library</a></p>\n\n<p>It contains a really impressive filter collection.</p>\n\n<p>Usage example:</p>\n\n<pre><code>BufferedImage input = ...; // Image to resample\nint width, height = ...; // new width/height\n\nBufferedImageOp resampler = new ResampleOp(width, height, ResampleOp.FILTER_LANCZOS);\nBufferedImage output = resampler.filter(input, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10465628,"reputation":115,"user_id":7715134,"display_name":"MaMaRo N0"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1510939435,"creation_date":1510230185,"answer_id":47201774,"question_id":24745147,"body_markdown":"After days of research i would prefer javaxt.\r\n\r\nuse The[`javaxt.io.Image`][1] class has a constructor like:\r\n\r\n    public Image(java.awt.image.BufferedImage bufferedImage)\r\n\r\nso you can do ([`another example`][2]):\r\n\r\n    javaxt.io.Image image = new javaxt.io.Image(bufferedImage);\r\n    image.setWidth(50);\r\n    image.setOutputQuality(1);\r\n    \r\nHere&#39;s the output:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://www.javaxt.com/documentation/?jar=javaxt-core.jar&amp;class=Image&amp;package=javaxt.io\r\n  [2]: http://www.javaxt.com/javaxt-core/javaxt.io.Image/\r\n  [3]: https://i.stack.imgur.com/PDQ0t.jpg","title":"Java - resize image without losing quality","body":"<p>After days of research i would prefer javaxt.</p>\n\n<p>use The<a href=\"http://www.javaxt.com/documentation/?jar=javaxt-core.jar&amp;class=Image&amp;package=javaxt.io\" rel=\"noreferrer\"><code>javaxt.io.Image</code></a> class has a constructor like:</p>\n\n<pre><code>public Image(java.awt.image.BufferedImage bufferedImage)\n</code></pre>\n\n<p>so you can do (<a href=\"http://www.javaxt.com/javaxt-core/javaxt.io.Image/\" rel=\"noreferrer\"><code>another example</code></a>):</p>\n\n<pre><code>javaxt.io.Image image = new javaxt.io.Image(bufferedImage);\nimage.setWidth(50);\nimage.setOutputQuality(1);\n</code></pre>\n\n<p>Here's the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PDQ0t.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PDQ0t.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8252988,"reputation":1070,"user_id":6206976,"display_name":"Maxwell Cheng"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517395107,"creation_date":1517395107,"answer_id":48540076,"question_id":24745147,"body_markdown":"Below are my own implementation of Progressive Scaling, without using any external library. Hope this help.\r\n\r\n    private static BufferedImage progressiveScaling(BufferedImage before, Integer longestSideLength) {\r\n        if (before != null) {\r\n            Integer w = before.getWidth();\r\n            Integer h = before.getHeight();\r\n\r\n            Double ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\r\n            \r\n            //Multi Step Rescale operation\r\n            //This technique is describen in Chris Campbell’s blog The Perils of Image.getScaledInstance(). As Chris mentions, when downscaling to something less than factor 0.5, you get the best result by doing multiple downscaling with a minimum factor of 0.5 (in other words: each scaling operation should scale to maximum half the size).\r\n            while (ratio &lt; 0.5) {\r\n                BufferedImage tmp = scale(before, 0.5);\r\n                before = tmp;\r\n                w = before.getWidth();\r\n                h = before.getHeight();\r\n                ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\r\n            }\r\n            BufferedImage after = scale(before, ratio);\r\n            return after;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private static BufferedImage scale(BufferedImage imageToScale, Double ratio) {\r\n        Integer dWidth = ((Double) (imageToScale.getWidth() * ratio)).intValue();\r\n        Integer dHeight = ((Double) (imageToScale.getHeight() * ratio)).intValue();\r\n        BufferedImage scaledImage = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D graphics2D = scaledImage.createGraphics();\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        graphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\r\n        graphics2D.dispose();\r\n        return scaledImage;\r\n    }","title":"Java - resize image without losing quality","body":"<p>Below are my own implementation of Progressive Scaling, without using any external library. Hope this help.</p>\n\n<pre><code>private static BufferedImage progressiveScaling(BufferedImage before, Integer longestSideLength) {\n    if (before != null) {\n        Integer w = before.getWidth();\n        Integer h = before.getHeight();\n\n        Double ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\n\n        //Multi Step Rescale operation\n        //This technique is describen in Chris Campbell’s blog The Perils of Image.getScaledInstance(). As Chris mentions, when downscaling to something less than factor 0.5, you get the best result by doing multiple downscaling with a minimum factor of 0.5 (in other words: each scaling operation should scale to maximum half the size).\n        while (ratio &lt; 0.5) {\n            BufferedImage tmp = scale(before, 0.5);\n            before = tmp;\n            w = before.getWidth();\n            h = before.getHeight();\n            ratio = h &gt; w ? longestSideLength.doubleValue() / h : longestSideLength.doubleValue() / w;\n        }\n        BufferedImage after = scale(before, ratio);\n        return after;\n    }\n    return null;\n}\n\nprivate static BufferedImage scale(BufferedImage imageToScale, Double ratio) {\n    Integer dWidth = ((Double) (imageToScale.getWidth() * ratio)).intValue();\n    Integer dHeight = ((Double) (imageToScale.getHeight() * ratio)).intValue();\n    BufferedImage scaledImage = new BufferedImage(dWidth, dHeight, BufferedImage.TYPE_INT_RGB);\n    Graphics2D graphics2D = scaledImage.createGraphics();\n    graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    graphics2D.drawImage(imageToScale, 0, 0, dWidth, dHeight, null);\n    graphics2D.dispose();\n    return scaledImage;\n}\n</code></pre>\n"}],"owner":{"account_id":4096271,"reputation":1231,"user_id":3362954,"accept_rate":18,"display_name":"user3362954"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93779,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"answer_count":7,"score":70,"last_activity_date":1680036244,"creation_date":1405368922,"question_id":24745147,"body_markdown":"I have 10,000 photos that need to be resized so I have a Java program to do that. Unfortunately, the quality of the image is poorly lost and I don&#39;t have access to the uncompressed images.\r\n\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n     \r\n    \r\n    import javax.imageio.ImageIO;\r\n    /**\r\n     * This class will resize all the images in a given folder\r\n     * @author \r\n     *\r\n     */\r\n    public class JavaImageResizer {\r\n     \r\n        public static void main(String[] args) throws IOException {\r\n     \r\n            File folder = new File(&quot;/Users/me/Desktop/images/&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n            System.out.println(&quot;Total No of Files:&quot;+listOfFiles.length);\r\n            BufferedImage img = null;\r\n            BufferedImage tempPNG = null;\r\n            BufferedImage tempJPG = null;\r\n            File newFilePNG = null;\r\n            File newFileJPG = null;\r\n            for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n                  if (listOfFiles[i].isFile()) {\r\n                    System.out.println(&quot;File &quot; + listOfFiles[i].getName());\r\n                    img = ImageIO.read(new File(&quot;/Users/me/Desktop/images/&quot;+listOfFiles[i].getName()));\r\n                    tempJPG = resizeImage(img, img.getWidth(), img.getHeight());\r\n                    newFileJPG = new File(&quot;/Users/me/Desktop/images/&quot;+listOfFiles[i].getName()+&quot;_New&quot;);\r\n                    ImageIO.write(tempJPG, &quot;jpg&quot;, newFileJPG);\r\n                  }\r\n            }\r\n            System.out.println(&quot;DONE&quot;);\r\n        }\r\n     \r\n        /**\r\n         * This function resize the image file and returns the BufferedImage object that can be saved to file system.\r\n         */\r\n            public static BufferedImage resizeImage(final Image image, int width, int height) {\r\n    \tint targetw = 0;\r\n    \tint targeth = 75;\r\n    \t\r\n    \tif (width &gt; height)targetw = 112;\r\n    \telse targetw = 50;\r\n    \t\r\n    \tdo {\r\n    \t\tif (width &gt; targetw) {\r\n    \t\t\twidth /= 2;\r\n    \t\t\tif (width &lt; targetw) width = targetw;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (height &gt; targeth) {\r\n    \t\t\theight /= 2;\r\n    \t\t\tif (height &lt; targeth) height = targeth;\r\n    \t\t}\r\n    \t} while (width != targetw || height != targeth);\r\n    \t\r\n        final BufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n        final Graphics2D graphics2D = bufferedImage.createGraphics();\r\n        graphics2D.setComposite(AlphaComposite.Src);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\r\n        graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n        graphics2D.drawImage(image, 0, 0, width, height, null);\r\n        graphics2D.dispose();\r\n    \t\r\n        return bufferedImage;\r\n    }\r\n\r\nAn image I am working with is this:\r\n![Firwork - original - large][1]\r\n\r\nThis is the manual resizing I&#39;ve done in Microsoft Paint:\r\n\r\n![resize - using Paint - small][2]\r\n\r\nand this is the output from my program [bilinear]:\r\n\r\n![resize - using java program - small][3]\r\n\r\n**UPDATE:** No significant difference using `BICUBIC`\r\n\r\nand this is the output from my program [bicubic]:\r\n\r\n![enter image description here][4]\r\n\r\n\r\nis there anyway to increase the quality of the program output so I don&#39;t have to manually resize all photos?\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/X0aPT.jpg\r\n  [2]: http://i.stack.imgur.com/bbPis.jpg\r\n  [3]: http://i.stack.imgur.com/Z7tD3.jpg\r\n  [4]: http://i.stack.imgur.com/oMU52.jpg","title":"Java - resize image without losing quality","body":"<p>I have 10,000 photos that need to be resized so I have a Java program to do that. Unfortunately, the quality of the image is poorly lost and I don't have access to the uncompressed images.</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.AlphaComposite;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\n\nimport javax.imageio.ImageIO;\n/**\n * This class will resize all the images in a given folder\n * @author \n *\n */\npublic class JavaImageResizer {\n\n    public static void main(String[] args) throws IOException {\n\n        File folder = new File(\"/Users/me/Desktop/images/\");\n        File[] listOfFiles = folder.listFiles();\n        System.out.println(\"Total No of Files:\"+listOfFiles.length);\n        BufferedImage img = null;\n        BufferedImage tempPNG = null;\n        BufferedImage tempJPG = null;\n        File newFilePNG = null;\n        File newFileJPG = null;\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n              if (listOfFiles[i].isFile()) {\n                System.out.println(\"File \" + listOfFiles[i].getName());\n                img = ImageIO.read(new File(\"/Users/me/Desktop/images/\"+listOfFiles[i].getName()));\n                tempJPG = resizeImage(img, img.getWidth(), img.getHeight());\n                newFileJPG = new File(\"/Users/me/Desktop/images/\"+listOfFiles[i].getName()+\"_New\");\n                ImageIO.write(tempJPG, \"jpg\", newFileJPG);\n              }\n        }\n        System.out.println(\"DONE\");\n    }\n\n    /**\n     * This function resize the image file and returns the BufferedImage object that can be saved to file system.\n     */\n        public static BufferedImage resizeImage(final Image image, int width, int height) {\n    int targetw = 0;\n    int targeth = 75;\n\n    if (width &gt; height)targetw = 112;\n    else targetw = 50;\n\n    do {\n        if (width &gt; targetw) {\n            width /= 2;\n            if (width &lt; targetw) width = targetw;\n        }\n\n        if (height &gt; targeth) {\n            height /= 2;\n            if (height &lt; targeth) height = targeth;\n        }\n    } while (width != targetw || height != targeth);\n\n    final BufferedImage bufferedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    final Graphics2D graphics2D = bufferedImage.createGraphics();\n    graphics2D.setComposite(AlphaComposite.Src);\n    graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    graphics2D.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\n    graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n    graphics2D.drawImage(image, 0, 0, width, height, null);\n    graphics2D.dispose();\n\n    return bufferedImage;\n}\n</code></pre>\n\n<p>An image I am working with is this:\n<img src=\"https://i.stack.imgur.com/X0aPT.jpg\" alt=\"Firwork - original - large\"></p>\n\n<p>This is the manual resizing I've done in Microsoft Paint:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bbPis.jpg\" alt=\"resize - using Paint - small\"></p>\n\n<p>and this is the output from my program [bilinear]:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Z7tD3.jpg\" alt=\"resize - using java program - small\"></p>\n\n<p><strong>UPDATE:</strong> No significant difference using <code>BICUBIC</code></p>\n\n<p>and this is the output from my program [bicubic]:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oMU52.jpg\" alt=\"enter image description here\"></p>\n\n<p>is there anyway to increase the quality of the program output so I don't have to manually resize all photos?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1676370163,"post_id":75367061,"comment_id":133118909,"body_markdown":"Have you tried `@Named` ? https://www.baeldung.com/mapstruct-custom-mapper","body":"Have you tried <code>@Named</code> ? <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct-custom-mapper</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680036819,"post_id":75367061,"comment_id":133828005,"body_markdown":"To be clear, your issue is how to map between `String` and the corresponding `enum` of the field?","body":"To be clear, your issue is how to map between <code>String</code> and the corresponding <code>enum</code> of the field?"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680036069,"creation_date":1680036069,"answer_id":75870879,"question_id":75367061,"body_markdown":"Before using a library, look at the documentation, you will always find the solution to common problems.\r\n\r\n[MapStruct 1.5.3.Final Reference Guide][1]\r\n\r\nYou can also look at the documentation of the Mapping annotation:\r\n\r\n[@Mapping][2]\r\n\r\nIf you have all the information from requestDTO to populate the User and the Role you need ([Controlling nested bean mappings][3]):\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserRoleMapper {\r\n    \r\n        @Mapping( target = &quot;user.userName&quot;, source = &quot;userName&quot; )\r\n        @Mapping( target = &quot;role.role&quot;, source = &quot;role&quot; )\r\n        ...\r\n        ...\r\n        UserRole toUserRole(UserRoleRequestDTO dto);\r\n    \r\n    }\r\n\r\nThere is also a project on GitHub with many examples:\r\n\r\n[mapstruct-examples][4]&lt;br&gt;\r\n[mapstruct-examples -&gt; mapstruct-nested-bean-mappings][5]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/\r\n  [2]: https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html\r\n  [3]: https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-nested-bean-mappings/src/main/java/org/mapstruct/example/mapper/FishTankMapper.java\r\n  [4]: https://github.com/mapstruct/mapstruct-examples\r\n  [5]: https://github.com/mapstruct/mapstruct-examples/tree/main/mapstruct-nested-bean-mappings","title":"How to map a String to an application object in Mapstruct","body":"<p>Before using a library, look at the documentation, you will always find the solution to common problems.</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/\" rel=\"nofollow noreferrer\">MapStruct 1.5.3.Final Reference Guide</a></p>\n<p>You can also look at the documentation of the Mapping annotation:</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/Mapping.html\" rel=\"nofollow noreferrer\">@Mapping</a></p>\n<p>If you have all the information from requestDTO to populate the User and the Role you need (<a href=\"https://github.com/mapstruct/mapstruct-examples/blob/main/mapstruct-nested-bean-mappings/src/main/java/org/mapstruct/example/mapper/FishTankMapper.java\" rel=\"nofollow noreferrer\">Controlling nested bean mappings</a>):</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserRoleMapper {\n\n    @Mapping( target = &quot;user.userName&quot;, source = &quot;userName&quot; )\n    @Mapping( target = &quot;role.role&quot;, source = &quot;role&quot; )\n    ...\n    ...\n    UserRole toUserRole(UserRoleRequestDTO dto);\n\n}\n</code></pre>\n<p>There is also a project on GitHub with many examples:</p>\n<p><a href=\"https://github.com/mapstruct/mapstruct-examples\" rel=\"nofollow noreferrer\">mapstruct-examples</a><br>\n<a href=\"https://github.com/mapstruct/mapstruct-examples/tree/main/mapstruct-nested-bean-mappings\" rel=\"nofollow noreferrer\">mapstruct-examples -&gt; mapstruct-nested-bean-mappings</a></p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680036069,"creation_date":1675721142,"question_id":75367061,"body_markdown":"Let&#39;s say I have this UserRole class.\r\n\r\nIt contains the roles of each user.\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;user_roles&quot;)\r\npublic class UserRole implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column\r\n\tprivate long userRoleId;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;users_fk&quot;), nullable=false)\r\n\tprivate User user;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;role_id&quot;, foreignKey = @ForeignKey(name = &quot;roles_fk&quot;), nullable=false)\r\n\tprivate Role role;\r\n\r\n\t...\r\n\r\n}\r\n```\r\n\r\nNow I want to have a DTO class with just userName and role that will map to the original class.\r\n\r\n```\r\npublic class UserRoleRequestDTO {\r\n\t\r\n\tprivate String userName;\r\n\t\r\n\tprivate String role;\r\n\r\n\t...\r\n}\r\n```\r\n\r\nHow do I create a mapper for that?\r\n\r\n```\r\n@Mapper\r\npublic interface UserRoleMapper {\r\n\t\r\n\t@Mapping(//** What goes here? **//) \r\n\tUserRole UserRoleRequestDTOtoUserRole(UserRoleRequestDTO userRoleRequestDTO);\r\n\t\r\n}\r\n```","title":"How to map a String to an application object in Mapstruct","body":"<p>Let's say I have this UserRole class.</p>\n<p>It contains the roles of each user.</p>\n<pre><code>@Entity\n@Table(name=&quot;user_roles&quot;)\npublic class UserRole implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column\n    private long userRoleId;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, foreignKey = @ForeignKey(name = &quot;users_fk&quot;), nullable=false)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;, foreignKey = @ForeignKey(name = &quot;roles_fk&quot;), nullable=false)\n    private Role role;\n\n    ...\n\n}\n</code></pre>\n<p>Now I want to have a DTO class with just userName and role that will map to the original class.</p>\n<pre><code>public class UserRoleRequestDTO {\n    \n    private String userName;\n    \n    private String role;\n\n    ...\n}\n</code></pre>\n<p>How do I create a mapper for that?</p>\n<pre><code>@Mapper\npublic interface UserRoleMapper {\n    \n    @Mapping(//** What goes here? **//) \n    UserRole UserRoleRequestDTOtoUserRole(UserRoleRequestDTO userRoleRequestDTO);\n    \n}\n</code></pre>\n"},{"tags":["java","spring","multithreading"],"owner":{"account_id":5424919,"reputation":1,"user_id":4317524,"display_name":"S100Headache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680034889,"creation_date":1679512079,"question_id":75816360,"body_markdown":"I have a Spring service that processes messages from many devices (more devices than threads), and need a way to ensure multiple threads do not process messages from the same device at once. In other words, if a thread is already handling a message from one device, I want the same one to handle other messages from that device. Most of the problems with the system I am working on stem from simultaneous processing of messages from the same device.\r\n\r\nI also have a message producer class and a message consumer class. The messages are being sent to an ActiveMQ queue. The messages have an identifier field (the IMEI of the device).\r\n\r\nThe question here: https://stackoverflow.com/questions/8162332/thread-pool-that-binds-tasks-for-a-given-id-to-the-same-thread has the original poster hit on exactly what I need, but I am completely lost on how to implement this. Currently in my application, the ThreadPoolTaskExecutor beans are defined in XML. Can I put this logic in the message consumer, or do I have to spin one of the ThreadPoolTaskExecutor beans off into a configuration class to do this? Also, I have never customized a BlockingQueue before.\r\n\r\nEDIT: I tried putting a ConcurrentHashMap in the message consumer class, checking to see if the IMEI was being processed, and either putting it into the map, processing, and removing when done, or throwing the message back into the queue, and it seems to have had no effect. I had two messages, arriving milliseconds apart, being processed by different threads simultaneously.\r\n\r\nEDIT AGAIN: Turns out I was updating the wrong method. It&#39;s now working as I intended it to.","title":"Need help ensuring messages from the same sender do not get handled by multiple ThreadPoolTaskExecutor simultaneously","body":"<p>I have a Spring service that processes messages from many devices (more devices than threads), and need a way to ensure multiple threads do not process messages from the same device at once. In other words, if a thread is already handling a message from one device, I want the same one to handle other messages from that device. Most of the problems with the system I am working on stem from simultaneous processing of messages from the same device.</p>\n<p>I also have a message producer class and a message consumer class. The messages are being sent to an ActiveMQ queue. The messages have an identifier field (the IMEI of the device).</p>\n<p>The question here: <a href=\"https://stackoverflow.com/questions/8162332/thread-pool-that-binds-tasks-for-a-given-id-to-the-same-thread\">Thread pool that binds tasks for a given ID to the same thread</a> has the original poster hit on exactly what I need, but I am completely lost on how to implement this. Currently in my application, the ThreadPoolTaskExecutor beans are defined in XML. Can I put this logic in the message consumer, or do I have to spin one of the ThreadPoolTaskExecutor beans off into a configuration class to do this? Also, I have never customized a BlockingQueue before.</p>\n<p>EDIT: I tried putting a ConcurrentHashMap in the message consumer class, checking to see if the IMEI was being processed, and either putting it into the map, processing, and removing when done, or throwing the message back into the queue, and it seems to have had no effect. I had two messages, arriving milliseconds apart, being processed by different threads simultaneously.</p>\n<p>EDIT AGAIN: Turns out I was updating the wrong method. It's now working as I intended it to.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680036529,"post_id":75870698,"comment_id":133827926,"body_markdown":"What is this property suppose to do: spring.datasource.hikari.schema=classpath:/schema.sql ? If you are initializing the database from the script schema.sql then please add it to the question. It can be the source of the errors reported. On the other hand if you want Spring to initialize it from the entities then remove that file. You can&#39;t have both.","body":"What is this property suppose to do: spring.datasource.hikari.schema=classpath:/schema.sql ? If you are initializing the database from the script schema.sql then please add it to the question. It can be the source of the errors reported. On the other hand if you want Spring to initialize it from the entities then remove that file. You can&#39;t have both."}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680034652,"creation_date":1680034652,"question_id":75870698,"body_markdown":"I try to connect postgreSql with spring boot.\r\nI use jakarta.persistance library \r\n\r\nBut i get an error. Actually, project is running but get an two error. When i send POST request, application give another error.\r\n\r\n```\r\npackage com.fsk.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Table\r\n@Entity(name = &quot;employee&quot;)\r\n@Data\r\npublic class Employee implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_name&quot;, nullable = false)\r\n    private String employeeName;\r\n\r\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\r\n    private String employeeSurname;\r\n\r\n    @Column(name = &quot;employee_email&quot;,\r\n            nullable = false,\r\n            unique = true)\r\n    private String employeeEmail;\r\n\r\n    @Column(name = &quot;employee_identity_number&quot;,\r\n            nullable = false,\r\n            unique = true,\r\n            length = 11)\r\n    private String employeeIdentityNumber;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nAbove code is my entity class.\r\n\r\n```\r\n#SERVER-CFG\r\nserver.port=1905\r\n\r\n#SPRING-CFG\r\nspring.application.name=hibernate_tutorial\r\n\r\n#DATABASE_CFG\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/hibernatedatabase\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.hikari.schema=classpath:/schema.sql\r\n\r\n#HIBERNATE-CFG\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n```\r\n\r\nAbove code is my application.properties file.\r\n\r\nWhen i click run button,\r\n\r\nFirst error is\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start with 1 increment by 50&quot; via JDBC Statement\r\n\t\r\n```\r\n\r\nMy Second error is\r\n\r\n````\r\n2023-03-28T22:48:19.048+03:00  WARN 94178 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    create table &quot;employee&quot; (\r\n       &quot;id&quot; bigint not null,\r\n        &quot;employee_email&quot; varchar(255) not null,\r\n        &quot;employee_identity_number&quot; varchar(11) not null,\r\n        &quot;employee_name&quot; varchar(255) not null,\r\n        &quot;employee_surname&quot; varchar(255) not null,\r\n        primary key (&quot;id&quot;)\r\n    )&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table &quot;employee&quot; (\r\n       &quot;id&quot; bigint not null,\r\n        &quot;employee_email&quot; varchar(255) not null,\r\n        &quot;employee_identity_number&quot; varchar(11) not null,\r\n        &quot;employee_name&quot; varchar(255) not null,\r\n        &quot;employee_surname&quot; varchar(255) not null,\r\n        primary key (&quot;id&quot;)\r\n    )&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:502) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:486) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.fsk.HibernateApplication.main(HibernateApplication.java:10) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\r\n  Position: 19\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 36 common frames omitted\r\n````\r\n\r\nWhile i send my post request,\r\n\r\n````\r\nCompleted initialization in 2 ms\r\nHibernate: \r\n    select\r\n        nextval(&#39;&quot;employee_seq&quot;&#39;)\r\n2023-03-28T23:13:04.750+03:00  WARN 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2023-03-28T23:13:04.750+03:00 ERROR 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;employee_seq&quot; does not exist\r\n  Position: 16\r\n2023-03-28T23:13:04.758+03:00 ERROR 94178 --- [nio-1905-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;employee_seq&quot; does not exist\r\n  Position: 16\r\n```\r\n\r\nHow can i fix theese errors.??","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start 1 increment 50&quot; via JDBC Statement","body":"<p>I try to connect postgreSql with spring boot.\nI use jakarta.persistance library</p>\n<p>But i get an error. Actually, project is running but get an two error. When i send POST request, application give another error.</p>\n<pre><code>package com.fsk.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.io.Serializable;\n\n@Table\n@Entity(name = &quot;employee&quot;)\n@Data\npublic class Employee implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;employee_name&quot;, nullable = false)\n    private String employeeName;\n\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\n    private String employeeSurname;\n\n    @Column(name = &quot;employee_email&quot;,\n            nullable = false,\n            unique = true)\n    private String employeeEmail;\n\n    @Column(name = &quot;employee_identity_number&quot;,\n            nullable = false,\n            unique = true,\n            length = 11)\n    private String employeeIdentityNumber;\n\n\n}\n\n</code></pre>\n<p>Above code is my entity class.</p>\n<pre><code>#SERVER-CFG\nserver.port=1905\n\n#SPRING-CFG\nspring.application.name=hibernate_tutorial\n\n#DATABASE_CFG\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/hibernatedatabase\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.hikari.schema=classpath:/schema.sql\n\n#HIBERNATE-CFG\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>Above code is my application.properties file.</p>\n<p>When i click run button,</p>\n<p>First error is</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create sequence &quot;employee_seq&quot; start with 1 increment by 50&quot; via JDBC Statement\n    \n</code></pre>\n<p>My Second error is</p>\n<pre><code>2023-03-28T22:48:19.048+03:00  WARN 94178 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    create table &quot;employee&quot; (\n       &quot;id&quot; bigint not null,\n        &quot;employee_email&quot; varchar(255) not null,\n        &quot;employee_identity_number&quot; varchar(11) not null,\n        &quot;employee_name&quot; varchar(255) not null,\n        &quot;employee_surname&quot; varchar(255) not null,\n        primary key (&quot;id&quot;)\n    )&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table &quot;employee&quot; (\n       &quot;id&quot; bigint not null,\n        &quot;employee_email&quot; varchar(255) not null,\n        &quot;employee_identity_number&quot; varchar(11) not null,\n        &quot;employee_name&quot; varchar(255) not null,\n        &quot;employee_surname&quot; varchar(255) not null,\n        primary key (&quot;id&quot;)\n    )&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:502) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:486) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:176) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:254) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.fsk.HibernateApplication.main(HibernateApplication.java:10) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\n  Position: 19\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.4.jar:42.5.4]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 36 common frames omitted\n</code></pre>\n<p>While i send my post request,</p>\n<pre><code>Completed initialization in 2 ms\nHibernate: \n    select\n        nextval('&quot;employee_seq&quot;')\n2023-03-28T23:13:04.750+03:00  WARN 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2023-03-28T23:13:04.750+03:00 ERROR 94178 --- [nio-1905-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;employee_seq&quot; does not exist\n  Position: 16\n2023-03-28T23:13:04.758+03:00 ERROR 94178 --- [nio-1905-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: relation &quot;employee_seq&quot; does not exist\n  Position: 16\n```\n\nHow can i fix theese errors.??\n</code></pre>\n"},{"tags":["java","spring","crud-repository"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679827263,"post_id":75847169,"comment_id":133787105,"body_markdown":"You say that you get message - `could not upload...`. Looking at the code, this does not mean that `save()` does nothing, but that you are actually swallowing an exception thrown somewhere in the service (the `catch` clause for `Exception`). That&#39;s why generally it&#39;s bad idea to catch an `Exception`. Print the stack trace and edit question to include it, people won&#39;t be able to help without it.","body":"You say that you get message - <code>could not upload...</code>. Looking at the code, this does not mean that <code>save()</code> does nothing, but that you are actually swallowing an exception thrown somewhere in the service (the <code>catch</code> clause for <code>Exception</code>). That&#39;s why generally it&#39;s bad idea to catch an <code>Exception</code>. Print the stack trace and edit question to include it, people won&#39;t be able to help without it."},{"owner":{"account_id":12410862,"reputation":1,"user_id":17199917,"display_name":"hendrikvalcke"},"score":0,"creation_date":1679828191,"post_id":75847169,"comment_id":133787241,"body_markdown":"Sorry, you&#39;re right. here&#39;s the exception: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;","body":"Sorry, you&#39;re right. here&#39;s the exception: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.Measurement&zwnj;&#8203;sFile&quot;"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679829362,"post_id":75847169,"comment_id":133787418,"body_markdown":"Looks like you have not specified generation strategy for the id. Maybe [Hibernate error: ids for this class must be manually assigned before calling save():](https://stackoverflow.com/questions/10997494/hibernate-error-ids-for-this-class-must-be-manually-assigned-before-calling-sav) will help.","body":"Looks like you have not specified generation strategy for the id. Maybe <a href=\"https://stackoverflow.com/questions/10997494/hibernate-error-ids-for-this-class-must-be-manually-assigned-before-calling-sav\">Hibernate error: ids for this class must be manually assigned before calling save():</a> will help."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679835290,"post_id":75847169,"comment_id":133788246,"body_markdown":"Don&#39;t set the id to 0. Try 1 instead. It is just for testing however. After that you should use a generated value.","body":"Don&#39;t set the id to 0. Try 1 instead. It is just for testing however. After that you should use a generated value."}],"owner":{"account_id":12410862,"reputation":1,"user_id":17199917,"display_name":"hendrikvalcke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680033810,"creation_date":1679826618,"question_id":75847169,"body_markdown":"I&#39;m trying to save a `MeasurementsFile` object to a repository and the `repository.save(measurementsFile)` does nothing. I&#39;ve tried googling it but I find nothing similar.    \r\nWeirdly the code did work before when my parser which created the `List&lt;MeasurementsRow&gt;` didn&#39;t work and returned an empty list.\r\nI tried saving it without setting the ID so [this question](https://stackoverflow.com/questions/60812312/crudrepository-save-method-doesnt-save-any-in-db) isn&#39;t relevant.\r\n\r\nUpload method in my controller which calls the `fileservice` `saveMeasurementsFile` method: (I hardcoded the `id` to `0L` while testing. When running this just returns the &quot;could not upload...&quot; message.):\r\n```\r\n @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;ResponseMessage&gt; uploadMeasurements(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        //what about the other parameters such as id, has2ndMic, hasBackboard and references speeds?\r\n        String message = &quot;&quot;;\r\n        logger.info(&quot;POST: excel&quot;);\r\n        if (ExcelHelper.hasExcelFormat(file)) {\r\n            try {\r\n                logger.info(&quot;file name: &quot;+file.getOriginalFilename());\r\n                fileService.saveMeasurementsFile(file,0L);\r\n                message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\r\n                return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\r\n            } catch (Exception e) {\r\n                message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\r\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\r\n            }\r\n        }\r\n        message = &quot;Please upload an excel file!&quot;;\r\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseMessage(message));\r\n    }\r\n\r\n```\r\n  \r\nThe saveMeasurementsFile() method in the fileservice (the program stops after the &quot;inserted MeasurementRows&quot; message. If i leave out the .setID and .setMeasurementsMic1 the problem still occurs):\r\n```\r\npublic void saveMeasurementsFile(MultipartFile file, long id) {\r\n        try {\r\n            logger.info(&quot;reached before excelhelper is called, input stream:&quot;+file.getInputStream()+&quot; with name &quot;+ file.getOriginalFilename() +&quot; and contenttype: &quot;+ file.getContentType());\r\n\r\n            List&lt;MeasurementRow&gt; measurementRows = ExcelHelper.toMeasurementRows(file.getInputStream());\r\n            logger.info(&quot;&quot;+measurementRows.size()+&quot; rows&quot;);\r\n            MeasurementsFile measurementsFile = new MeasurementsFile();\r\n            logger.info(&quot;created new MeasurementsFile&quot;);\r\n            measurementsFile.setMeasurementsMic1(measurementRows);\r\n            logger.info(&quot;inserted measurementRows&quot;);\r\n            measurementsFile.setId(id);\r\n            logger.info(&quot;set id: &quot;+id);\r\n            measurementRepository.save(measurementsFile);\r\n            logger.info(&quot;saved MeasurementsFile&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;fail to store excel data!&quot;);\r\n        }\r\n    }\r\n```\r\nWhen I print the trace of the exception I get the following: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;. Is .setId not what they mean?\r\n\r\n  \r\nMy MeasurentsFile class:  \r\n```\r\n@Entity\r\npublic class MeasurementsFile {\r\n    @Id\r\n    private Long id;\r\n    @Column\r\n    @OneToMany\r\n    private List&lt;MeasurementRow&gt; measurementsMic1;\r\n    @Column\r\n    @OneToMany\r\n    private List&lt;MeasurementRow&gt; measurementsMic2;//when the setup has 2 mics, a second input file is uploaded\r\n    @Column\r\n    private double height;\r\n    @Column\r\n    private int[] referenceSpeeds; //passengercar and heavy vehicles\r\n    @Column\r\n    private boolean hasSecondaryMic;\r\n    @Column\r\n    private boolean hasBackingboard;\r\n    //columnIDs and their default values\r\n    private int numberColumnID=0;\r\n    private int dateColumnID=0;\r\n    private int timeColumnID=0;\r\n    private int vehicleColumnID=0;\r\n    private int speedColumnID=0;\r\n    private int airTempColumnID=0;\r\n    private int roadTempColumnID=0;//(optional)\r\n    private int windSpeedColumnID=0;//(optional)\r\n    private int laMaxColumnID=0;\r\n    private int laMaxArrayColumnID=0;//26 elements by default (optional)\r\n}\r\n``` \r\n(I left out the imports and getter and setter functions since they&#39;re just autogenerated)","title":"CrudRepository .save(Entity e) throws JPASystemException: ids for this class must be manually assigned before calling save()","body":"<p>I'm trying to save a <code>MeasurementsFile</code> object to a repository and the <code>repository.save(measurementsFile)</code> does nothing. I've tried googling it but I find nothing similar.<br />\nWeirdly the code did work before when my parser which created the <code>List&lt;MeasurementsRow&gt;</code> didn't work and returned an empty list.\nI tried saving it without setting the ID so <a href=\"https://stackoverflow.com/questions/60812312/crudrepository-save-method-doesnt-save-any-in-db\">this question</a> isn't relevant.</p>\n<p>Upload method in my controller which calls the <code>fileservice</code> <code>saveMeasurementsFile</code> method: (I hardcoded the <code>id</code> to <code>0L</code> while testing. When running this just returns the &quot;could not upload...&quot; message.):</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;ResponseMessage&gt; uploadMeasurements(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        //what about the other parameters such as id, has2ndMic, hasBackboard and references speeds?\n        String message = &quot;&quot;;\n        logger.info(&quot;POST: excel&quot;);\n        if (ExcelHelper.hasExcelFormat(file)) {\n            try {\n                logger.info(&quot;file name: &quot;+file.getOriginalFilename());\n                fileService.saveMeasurementsFile(file,0L);\n                message = &quot;Uploaded the file successfully: &quot; + file.getOriginalFilename();\n                return ResponseEntity.status(HttpStatus.OK).body(new ResponseMessage(message));\n            } catch (Exception e) {\n                message = &quot;Could not upload the file: &quot; + file.getOriginalFilename() + &quot;!&quot;;\n                return ResponseEntity.status(HttpStatus.EXPECTATION_FAILED).body(new ResponseMessage(message));\n            }\n        }\n        message = &quot;Please upload an excel file!&quot;;\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(new ResponseMessage(message));\n    }\n\n</code></pre>\n<p>The saveMeasurementsFile() method in the fileservice (the program stops after the &quot;inserted MeasurementRows&quot; message. If i leave out the .setID and .setMeasurementsMic1 the problem still occurs):</p>\n<pre><code>public void saveMeasurementsFile(MultipartFile file, long id) {\n        try {\n            logger.info(&quot;reached before excelhelper is called, input stream:&quot;+file.getInputStream()+&quot; with name &quot;+ file.getOriginalFilename() +&quot; and contenttype: &quot;+ file.getContentType());\n\n            List&lt;MeasurementRow&gt; measurementRows = ExcelHelper.toMeasurementRows(file.getInputStream());\n            logger.info(&quot;&quot;+measurementRows.size()+&quot; rows&quot;);\n            MeasurementsFile measurementsFile = new MeasurementsFile();\n            logger.info(&quot;created new MeasurementsFile&quot;);\n            measurementsFile.setMeasurementsMic1(measurementRows);\n            logger.info(&quot;inserted measurementRows&quot;);\n            measurementsFile.setId(id);\n            logger.info(&quot;set id: &quot;+id);\n            measurementRepository.save(measurementsFile);\n            logger.info(&quot;saved MeasurementsFile&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;fail to store excel data!&quot;);\n        }\n    }\n</code></pre>\n<p>When I print the trace of the exception I get the following: &quot;org.springframework.orm.jpa.JpaSystemException: ids for this class must be manually assigned before calling save(): be.uantwerpen.ft.se.tutorial_backend.model.users.MeasurementsFile&quot;. Is .setId not what they mean?</p>\n<p>My MeasurentsFile class:</p>\n<pre><code>@Entity\npublic class MeasurementsFile {\n    @Id\n    private Long id;\n    @Column\n    @OneToMany\n    private List&lt;MeasurementRow&gt; measurementsMic1;\n    @Column\n    @OneToMany\n    private List&lt;MeasurementRow&gt; measurementsMic2;//when the setup has 2 mics, a second input file is uploaded\n    @Column\n    private double height;\n    @Column\n    private int[] referenceSpeeds; //passengercar and heavy vehicles\n    @Column\n    private boolean hasSecondaryMic;\n    @Column\n    private boolean hasBackingboard;\n    //columnIDs and their default values\n    private int numberColumnID=0;\n    private int dateColumnID=0;\n    private int timeColumnID=0;\n    private int vehicleColumnID=0;\n    private int speedColumnID=0;\n    private int airTempColumnID=0;\n    private int roadTempColumnID=0;//(optional)\n    private int windSpeedColumnID=0;//(optional)\n    private int laMaxColumnID=0;\n    private int laMaxArrayColumnID=0;//26 elements by default (optional)\n}\n</code></pre>\n<p>(I left out the imports and getter and setter functions since they're just autogenerated)</p>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":6969075,"reputation":1138,"user_id":5346051,"display_name":"Mohammed Mahmoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680032935,"creation_date":1680032935,"answer_id":75870501,"question_id":75870175,"body_markdown":"You can achieve the desired behavior by setting the android:layout_width property of the TextViews to &quot;wrap_content&quot; and setting the android:layout_weight property of the parent LinearLayout to &quot;1&quot;. This will make the TextViews wrap their content and take up equal space within the LinearLayout.\r\n\r\nHere&#39;s the updated code:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    LinearLayout nameLayout = findViewById(R.id.names);\r\n\r\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\r\n\r\n    for (String name : playerNames) {\r\n        if (name.contains(&quot;,&quot;)) {\r\n            String[] splitNames = name.split(&quot;,&quot;);\r\n            names.addAll(Arrays.asList(splitNames));\r\n        } else {\r\n            names.add(name);\r\n        }\r\n    }\r\n\r\n    String[] namesArray = names.toArray(new String[0]);\r\n\r\n    for (int i = 0; i &lt; playerNames.length; i++) {\r\n        namesArray[i] = names.get(0).trim();\r\n    }\r\n\r\n    for (String name : playerNames) {\r\n        TextView textView = new TextView(this);\r\n        textView.setTextSize(20);\r\n        textView.setText(name.trim());\r\n        textView.setTextColor(getResources().getColor(R.color.yellow));\r\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                1\r\n        );\r\n        params.setMargins(20, 0, 0, 0);\r\n        textView.setLayoutParams(params);\r\n        nameLayout.addView(textView);\r\n    }\r\n}\r\n\r\nIn the above code, we set the layout_width property of the TextView to &quot;wrap_content&quot; in the LinearLayout.LayoutParams constructor. We also set the layout_weight property of the LinearLayout to &quot;1&quot;, which will make the TextViews take up equal space within the parent LinearLayout.\r\n\r\nWith this updated code, if the player names are too long and fill the width of the screen, the TextViews will stack above each other instead of overflowing horizontally.\r\n\r\n\r\n\r\n","title":"how to stack EditTexts","body":"<p>You can achieve the desired behavior by setting the android:layout_width property of the TextViews to &quot;wrap_content&quot; and setting the android:layout_weight property of the parent LinearLayout to &quot;1&quot;. This will make the TextViews wrap their content and take up equal space within the LinearLayout.</p>\n<p>Here's the updated code:</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\nLinearLayout nameLayout = findViewById(R.id.names);\n\nString[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\n\nfor (String name : playerNames) {\n    if (name.contains(&quot;,&quot;)) {\n        String[] splitNames = name.split(&quot;,&quot;);\n        names.addAll(Arrays.asList(splitNames));\n    } else {\n        names.add(name);\n    }\n}\n\nString[] namesArray = names.toArray(new String[0]);\n\nfor (int i = 0; i &lt; playerNames.length; i++) {\n    namesArray[i] = names.get(0).trim();\n}\n\nfor (String name : playerNames) {\n    TextView textView = new TextView(this);\n    textView.setTextSize(20);\n    textView.setText(name.trim());\n    textView.setTextColor(getResources().getColor(R.color.yellow));\n    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.WRAP_CONTENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT,\n            1\n    );\n    params.setMargins(20, 0, 0, 0);\n    textView.setLayoutParams(params);\n    nameLayout.addView(textView);\n}\n</code></pre>\n<p>}</p>\n<p>In the above code, we set the layout_width property of the TextView to &quot;wrap_content&quot; in the LinearLayout.LayoutParams constructor. We also set the layout_weight property of the LinearLayout to &quot;1&quot;, which will make the TextViews take up equal space within the parent LinearLayout.</p>\n<p>With this updated code, if the player names are too long and fill the width of the screen, the TextViews will stack above each other instead of overflowing horizontally.</p>\n"}],"owner":{"account_id":28129776,"reputation":1,"user_id":21494560,"display_name":"Pola90000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680032935,"creation_date":1680030564,"question_id":75870175,"body_markdown":"i made a game and added EditTexts for players names but I want to make it that if the players names are long that fills the width of the screen the names should stack above each other\r\nnote: the TextViews are generated using the java code\r\n\r\ni tried asking chatgpt but it did not give me what i want and i searched for it in this site but the problem that the content of the TextViews changes so i dont know how to make it work\r\n\r\nthe code i use (if it would help)\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    LinearLayout nameLayout = findViewById(R.id.names);\r\n\r\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\r\n\r\n    for (String name : playerNames) {\r\n        if (name.contains(&quot;,&quot;)) {\r\n            String[] splitNames = name.split(&quot;,&quot;);\r\n            names.addAll(Arrays.asList(splitNames));\r\n        } else {\r\n            names.add(name);\r\n        }\r\n    }\r\n\r\n    String[] namesArray = names.toArray(new String[0]);\r\n\r\n    for (int i = 0; i &lt; playerNames.length; i++) {\r\n        namesArray[i] = names.get(0).trim();\r\n    }\r\n\r\n    for (String name : playerNames) {\r\n        TextView textView = new TextView(this);\r\n        textView.setTextSize(20);\r\n        textView.setText(name.trim());\r\n        textView.setTextColor(getResources().getColor(R.color.yellow));\r\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        params.setMargins(20, 0, 0, 0);\r\n        textView.setLayoutParams(params);\r\n        nameLayout.addView(textView);\r\n    }\r\n}\r\n```","title":"how to stack EditTexts","body":"<p>i made a game and added EditTexts for players names but I want to make it that if the players names are long that fills the width of the screen the names should stack above each other\nnote: the TextViews are generated using the java code</p>\n<p>i tried asking chatgpt but it did not give me what i want and i searched for it in this site but the problem that the content of the TextViews changes so i dont know how to make it work</p>\n<p>the code i use (if it would help)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    LinearLayout nameLayout = findViewById(R.id.names);\n\n    String[] playerNames = getIntent().getStringArrayExtra(&quot;player_names&quot;);\n\n    for (String name : playerNames) {\n        if (name.contains(&quot;,&quot;)) {\n            String[] splitNames = name.split(&quot;,&quot;);\n            names.addAll(Arrays.asList(splitNames));\n        } else {\n            names.add(name);\n        }\n    }\n\n    String[] namesArray = names.toArray(new String[0]);\n\n    for (int i = 0; i &lt; playerNames.length; i++) {\n        namesArray[i] = names.get(0).trim();\n    }\n\n    for (String name : playerNames) {\n        TextView textView = new TextView(this);\n        textView.setTextSize(20);\n        textView.setText(name.trim());\n        textView.setTextColor(getResources().getColor(R.color.yellow));\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.WRAP_CONTENT,\n                LinearLayout.LayoutParams.WRAP_CONTENT\n        );\n        params.setMargins(20, 0, 0, 0);\n        textView.setLayoutParams(params);\n        nameLayout.addView(textView);\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","connection"],"comments":[{"owner":{"account_id":143722,"reputation":39127,"user_id":352268,"accept_rate":94,"display_name":"Donald Miner"},"score":0,"creation_date":1335409670,"post_id":10326057,"comment_id":13296561,"body_markdown":"Looks like somewhere in your configuration files you need to set the location of the jobtracker or namenode or something.","body":"Looks like somewhere in your configuration files you need to set the location of the jobtracker or namenode or something."},{"owner":{"account_id":1146864,"reputation":1587,"user_id":1129408,"accept_rate":79,"display_name":"Ahmadov"},"score":0,"creation_date":1335423731,"post_id":10326057,"comment_id":13299616,"body_markdown":"The whole thing is totally messed up. I fix one error, subsequently several other errors pop up. Now, the namenode won&#39;t start. Guess I have to erase and reinstall completely","body":"The whole thing is totally messed up. I fix one error, subsequently several other errors pop up. Now, the namenode won&#39;t start. Guess I have to erase and reinstall completely"}],"answers":[{"tags":[],"owner":{"account_id":5147,"reputation":8203,"user_id":8136,"accept_rate":83,"display_name":"MattMcKnight"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1335464888,"creation_date":1335464888,"answer_id":10339271,"question_id":10326057,"body_markdown":"When you see this, it basically means that you are unable to connected to the NameNode. It&#39;s either not running or running on a different port. If you backed up your working *-site.xml files, you may be able go back to the working version without the complete re-install you sugges in the comment to your question.","title":"Hadoop Connection Refused Error","body":"<p>When you see this, it basically means that you are unable to connected to the NameNode. It's either not running or running on a different port. If you backed up your working *-site.xml files, you may be able go back to the working version without the complete re-install you sugges in the comment to your question.</p>\n"},{"tags":[],"owner":{"account_id":2374790,"reputation":24,"user_id":4232708,"display_name":"JaUnCpp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439876597,"creation_date":1439876597,"answer_id":32064380,"question_id":10326057,"body_markdown":"I have struggled two days and the night between to find out the answer to this problem. \r\n\r\nIn my case( and I&#39;m sure this is the problem in most cases )  had to create the hadoop temporary folder by hand and add them to the hdfs-site.xml !\r\n\r\n    &lt;property&gt;\r\n    &lt;name&gt;dfs.data.dir&lt;/name&gt;\r\n    &lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name/data&lt;/value&gt;\r\n    &lt;final&gt;true&lt;/final&gt; \r\n    &lt;/property&gt; \r\n    &lt;property&gt; \r\n    &lt;name&gt;dfs.name.dir&lt;/name&gt;\r\n    &lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name&lt;/value&gt; \r\n    &lt;final&gt;true&lt;/final&gt; \r\n    &lt;/property&gt;\r\n\r\nI hope this helps you guys not to go through the same hell as me.\r\n\r\nBesides that\r\n\r\n    chown user_name hadoop_folder hadoop_temp_folder\r\n    chmod 755 hadoop_folder hadoop_temp_folder\r\n    \r\n","title":"Hadoop Connection Refused Error","body":"<p>I have struggled two days and the night between to find out the answer to this problem. </p>\n\n<p>In my case( and I'm sure this is the problem in most cases )  had to create the hadoop temporary folder by hand and add them to the hdfs-site.xml !</p>\n\n<pre><code>&lt;property&gt;\n&lt;name&gt;dfs.data.dir&lt;/name&gt;\n&lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name/data&lt;/value&gt;\n&lt;final&gt;true&lt;/final&gt; \n&lt;/property&gt; \n&lt;property&gt; \n&lt;name&gt;dfs.name.dir&lt;/name&gt;\n&lt;value&gt;/home/stefan/Downloads/hadoop-2.7.1/tmp/dfs/name&lt;/value&gt; \n&lt;final&gt;true&lt;/final&gt; \n&lt;/property&gt;\n</code></pre>\n\n<p>I hope this helps you guys not to go through the same hell as me.</p>\n\n<p>Besides that</p>\n\n<pre><code>chown user_name hadoop_folder hadoop_temp_folder\nchmod 755 hadoop_folder hadoop_temp_folder\n</code></pre>\n"}],"owner":{"account_id":1146864,"reputation":1587,"user_id":1129408,"accept_rate":79,"display_name":"Ahmadov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10339271,"answer_count":2,"score":0,"last_activity_date":1680032477,"creation_date":1335403457,"question_id":10326057,"body_markdown":"I was trying to install RMR (RHadoop) package and I somehow managed to mess up my hadoop setup. Now, it gives the connection refused error which I just can&#39;t find a solution for. Any help would be appreciated. Thanks\r\n\r\n  \r\n\r\n     java.net.ConnectException: Call to master/***.***.***.***:54310 failed on connection exception: java.net.ConnectException: Connection refused\r\n\tat org.apache.hadoop.ipc.Client.wrapException(Client.java:1095)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1071)\r\n\tat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)\r\n\tat $Proxy2.getProtocolVersion(Unknown Source)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)\r\n\tat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)\r\n\tat org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:238)\r\n\tat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:203)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)\r\n\tat org.apache.hadoop.mapred.Child$4.run(Child.java:254)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1093)\r\n\tat org.apache.hadoop.mapred.Child.main(Child.java:249)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)\r\n\tat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)\r\n\tat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)\r\n\tat org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)\r\n\tat org.apache.hadoop.ipc.Client.getConnection(Client.java:1202)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1046)\r\n\t... 18 more\r\n","title":"Hadoop Connection Refused Error","body":"<p>I was trying to install RMR (RHadoop) package and I somehow managed to mess up my hadoop setup. Now, it gives the connection refused error which I just can't find a solution for. Any help would be appreciated. Thanks</p>\n\n<pre><code> java.net.ConnectException: Call to master/***.***.***.***:54310 failed on connection exception: java.net.ConnectException: Connection refused\nat org.apache.hadoop.ipc.Client.wrapException(Client.java:1095)\nat org.apache.hadoop.ipc.Client.call(Client.java:1071)\nat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:225)\nat $Proxy2.getProtocolVersion(Unknown Source)\nat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:396)\nat org.apache.hadoop.ipc.RPC.getProxy(RPC.java:379)\nat org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:119)\nat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:238)\nat org.apache.hadoop.hdfs.DFSClient.&lt;init&gt;(DFSClient.java:203)\nat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:89)\nat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1386)\nat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)\nat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1404)\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:254)\nat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)\nat org.apache.hadoop.mapred.Child$4.run(Child.java:254)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:396)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1093)\nat org.apache.hadoop.mapred.Child.main(Child.java:249)\nCaused by: java.net.ConnectException: Connection refused\nat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\nat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:574)\nat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)\nat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:489)\nat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:434)\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:560)\nat org.apache.hadoop.ipc.Client$Connection.access$2000(Client.java:184)\nat org.apache.hadoop.ipc.Client.getConnection(Client.java:1202)\nat org.apache.hadoop.ipc.Client.call(Client.java:1046)\n... 18 more\n</code></pre>\n"},{"tags":["java","compiler-construction","javac","dead-code","code-elimination"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1375260195,"post_id":17965562,"comment_id":26259554,"body_markdown":"Well have you tried it to see? `javap -c` will make it pretty clear...","body":"Well have you tried it to see? <code>javap -c</code> will make it pretty clear..."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":3,"creation_date":1375260277,"post_id":17965562,"comment_id":26259603,"body_markdown":"@JonSkeet I haven&#39;t yet, since I was hoping to find a list of these constructs, so I don&#39;t have to try them out one by one. Also, I&#39;d probably not be able to come up with all possibilities... But, for the two examples shown above, of course, you are right, I could check...","body":"@JonSkeet I haven&#39;t yet, since I was hoping to find a list of these constructs, so I don&#39;t have to try them out one by one. Also, I&#39;d probably not be able to come up with all possibilities... But, for the two examples shown above, of course, you are right, I could check..."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1375260483,"post_id":17965562,"comment_id":26259732,"body_markdown":"For the record, the first two are eliminated the third one isn&#39;t.","body":"For the record, the first two are eliminated the third one isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375260540,"creation_date":1375260540,"answer_id":17965685,"question_id":17965562,"body_markdown":"I see that for 2nd example it gets removed too\r\n\r\nthis was my class\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tfinal int VALUE = 3;\r\n    \t\tif (VALUE &gt; 9) System.out.println(&quot;VALUE &gt; 9 ???&quot;);\r\n    \t}\r\n    }\r\n\r\nand this is decompiled version\r\n\r\n    Compiled from &quot;Test.java&quot;\r\n    public class Test extends java.lang.Object{\r\n    public Test();\r\n      Code:\r\n       0:   aload_0\r\n       1:   invokespecial   #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   return\r\n    \r\n    public static void main(java.lang.String[])   throws java.lang.Exception;\r\n      Code:\r\n       0:   return\r\n    \r\n    }","title":"javac code elimination capabilities","body":"<p>I see that for 2nd example it gets removed too</p>\n\n<p>this was my class</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception{\n        final int VALUE = 3;\n        if (VALUE &gt; 9) System.out.println(\"VALUE &gt; 9 ???\");\n    }\n}\n</code></pre>\n\n<p>and this is decompiled version</p>\n\n<pre><code>Compiled from \"Test.java\"\npublic class Test extends java.lang.Object{\npublic Test();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   return\n\npublic static void main(java.lang.String[])   throws java.lang.Exception;\n  Code:\n   0:   return\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680032398,"creation_date":1375260613,"answer_id":17965716,"question_id":17965562,"body_markdown":"I have run a few tests and it seems (logically) that javac removes the code iif (if and only if) the condition is a [constant expression][1] that evaluates to false.\r\n\r\nIn summary, constant expressions are expressions that only use constants as operands, i.e. primitives, string literals and `final` primitives or Strings variables that have been initialised with a constant value.\r\n\r\nNote that this is compiler dependent as the JLS does not force the compiler to be that smart as explained at the very bottom of [14.21][2]:\r\n\r\n&gt; An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file.\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\r\n [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21","title":"javac code elimination capabilities","body":"<p>I have run a few tests and it seems (logically) that javac removes the code iif (if and only if) the condition is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">constant expression</a> that evaluates to false.</p>\n<p>In summary, constant expressions are expressions that only use constants as operands, i.e. primitives, string literals and <code>final</code> primitives or Strings variables that have been initialised with a constant value.</p>\n<p>Note that this is compiler dependent as the JLS does not force the compiler to be that smart as explained at the very bottom of <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"nofollow noreferrer\">14.21</a>:</p>\n<blockquote>\n<p>An optimizing compiler may realize that the statement x=3; will never be executed and may choose to omit the code for that statement from the generated class file.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375260798,"creation_date":1375260798,"answer_id":17965781,"question_id":17965562,"body_markdown":"My guess would be that this is implementation specific (Oracle, IBM,...).\r\n\r\nIf you&#39;re interested in Oracle&#39;s version, a good place to start looking for resources would be the OpenJDK project:\r\nhttp://openjdk.java.net/groups/compiler/","title":"javac code elimination capabilities","body":"<p>My guess would be that this is implementation specific (Oracle, IBM,...).</p>\n\n<p>If you're interested in Oracle's version, a good place to start looking for resources would be the OpenJDK project:\n<a href=\"http://openjdk.java.net/groups/compiler/\" rel=\"nofollow\">http://openjdk.java.net/groups/compiler/</a></p>\n"},{"tags":[],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1375291043,"creation_date":1375263751,"answer_id":17966917,"question_id":17965562,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nassylias seems to have found the answer (let me just put it all together):\r\n\r\n[Chapter &quot;14.21. Unreachable Statements&quot; of the JLS][1] specifies, that, in general, any unreachable statement in the code is considered a compile-time-error, with the only exception being a special treatment of `if`-statements to specifically allow for conditional compiles.\r\n\r\nTherefore, the **only** construct that **may** result in code elimination (if the compiler chooses to do so!) is:\r\n\r\n    if (compileTimeConstantExpression) {\r\n        doThis(); // may be removed if compileTimeConstantExpression == false;\r\n    } else {\r\n        doThat(); // may be removed if compileTimeConstantExpression == true;\r\n    }\r\n\r\n(the `else`-part is optional, of course)\r\n\r\nAll other constructs that would allow for code elimination, like for example `while (false) ...`, are disallowed and cause a compile-time-error instead rather than resulting in conditional compilation.\r\n\r\nThe definition for what constitutes an acceptable `compileTimeConstantExpression` can be found in [chapter &quot;15.28. Constant Expressions&quot; of the JLS][2]. Another great page with further examples can be found here: [Compile Time Constants in Java][3]\r\n\r\n*Note: There is no requirement for a compiler to remove the &quot;unreachable&quot; sections of an `if`-stament. `javac` seems to do this reliably, but other compilers may not. The only way to know for sure is to check the output via decompilation, for example using `javap -c` as suggested by Jon Skeet.*\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\r\n  [3]: http://www.jforeach.com/compile-time-constants-in-java/116","title":"javac code elimination capabilities","body":"\n\n<p>assylias seems to have found the answer (let me just put it all together):</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\" rel=\"noreferrer\">Chapter \"14.21. Unreachable Statements\" of the JLS</a> specifies, that, in general, any unreachable statement in the code is considered a compile-time-error, with the only exception being a special treatment of <code>if</code>-statements to specifically allow for conditional compiles.</p>\n\n<p>Therefore, the <strong>only</strong> construct that <strong>may</strong> result in code elimination (if the compiler chooses to do so!) is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (compileTimeConstantExpression) {\n    doThis(); // may be removed if compileTimeConstantExpression == false;\n} else {\n    doThat(); // may be removed if compileTimeConstantExpression == true;\n}\n</code></pre>\n\n<p>(the <code>else</code>-part is optional, of course)</p>\n\n<p>All other constructs that would allow for code elimination, like for example <code>while (false) ...</code>, are disallowed and cause a compile-time-error instead rather than resulting in conditional compilation.</p>\n\n<p>The definition for what constitutes an acceptable <code>compileTimeConstantExpression</code> can be found in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">chapter \"15.28. Constant Expressions\" of the JLS</a>. Another great page with further examples can be found here: <a href=\"http://www.jforeach.com/compile-time-constants-in-java/116\" rel=\"noreferrer\">Compile Time Constants in Java</a></p>\n\n<p><em>Note: There is no requirement for a compiler to remove the \"unreachable\" sections of an <code>if</code>-stament. <code>javac</code> seems to do this reliably, but other compilers may not. The only way to know for sure is to check the output via decompilation, for example using <code>javap -c</code> as suggested by Jon Skeet.</em></p>\n"}],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":17966917,"answer_count":4,"score":7,"last_activity_date":1680032398,"creation_date":1375260148,"question_id":17965562,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nI&#39;m having a hard time finding information about `javac`&#39;s code elimination capabilities:\r\n\r\nI read that if you have something like the following, the `if`-statement will be eliminated:\r\n\r\n    static final boolean DEBUG = false;\r\n\r\n    if (DEBUG) System.out.println(&quot;Hello World!&quot;); // will be removed\r\n\r\nBut how about this, for example:\r\n\r\n    static final int VALUE = 3;\r\n\r\n    if (VALUE &gt; 9) System.out.println(&quot;VALUE &gt; 9 ???&quot;); // will this be removed?\r\n\r\nOr this:\r\n\r\n    static final SomeEnum VALUE = SomeEnum.FOO;\r\n\r\n    if (VALUE==SomeEnum.BAR) System.out.println(&quot;Bar???&quot;); // will this be removed?\r\n\r\nSince it&#39;s very difficult/impossible to analyze a program to find all dead code (probably similar to the halting problem), I would imagine that there are only a few well-defined constructs (like the first example above), which `javac` will recognize and remove reliably. Is there a comprehensive list of these constructs?","title":"javac code elimination capabilities","body":"\n\n<p>I'm having a hard time finding information about <code>javac</code>'s code elimination capabilities:</p>\n\n<p>I read that if you have something like the following, the <code>if</code>-statement will be eliminated:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final boolean DEBUG = false;\n\nif (DEBUG) System.out.println(\"Hello World!\"); // will be removed\n</code></pre>\n\n<p>But how about this, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final int VALUE = 3;\n\nif (VALUE &gt; 9) System.out.println(\"VALUE &gt; 9 ???\"); // will this be removed?\n</code></pre>\n\n<p>Or this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static final SomeEnum VALUE = SomeEnum.FOO;\n\nif (VALUE==SomeEnum.BAR) System.out.println(\"Bar???\"); // will this be removed?\n</code></pre>\n\n<p>Since it's very difficult/impossible to analyze a program to find all dead code (probably similar to the halting problem), I would imagine that there are only a few well-defined constructs (like the first example above), which <code>javac</code> will recognize and remove reliably. Is there a comprehensive list of these constructs?</p>\n"},{"tags":["java","tree","binary"],"answers":[{"tags":[],"owner":{"account_id":8303122,"reputation":130,"user_id":6241158,"display_name":"M Germanos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680011210,"creation_date":1680011210,"answer_id":75867121,"question_id":75867061,"body_markdown":"Maybe adding to the string when you are at the node only will fix this problem. \r\nso:\r\n\r\n    private String searchAndStore(Node node, String s) {\r\n            if (node == null) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            searchAndStore(node.getR(), s);\r\n            s += node.getElement());\r\n            searchAndStore(node.getL(), s);\r\n            return s\r\n        }","title":"How to store attributes from a node in a binary tree by doing in-order traversal","body":"<p>Maybe adding to the string when you are at the node only will fix this problem.\nso:</p>\n<pre><code>private String searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        searchAndStore(node.getR(), s);\n        s += node.getElement());\n        searchAndStore(node.getL(), s);\n        return s\n    }\n</code></pre>\n"}],"owner":{"account_id":25675779,"reputation":13,"user_id":19439224,"display_name":"Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680032320,"creation_date":1680010873,"question_id":75867061,"body_markdown":"```\r\nprivate void searchAndStore(Node node, String s) {\r\n        if (node == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        searchAndStore(node.getR(), s);\r\n        System.out.println(node.getElement());\r\n        searchAndStore(node.getL(), s);\r\n    }\r\n```\r\n\r\nI am trying to do a binary search and store the elements in each node in an array in the order of in order traversal.\r\n\r\nIt&#39;s simple enough if I am just printing the result as I&#39;ve done above, but I am trying to return a String with the same results.\r\n\r\nAny insight would be appreciated.\r\n\r\n```\r\nprivate String searchAndStore(Node node, String s) {\r\n        if (node == null) {\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        s += searchAndStore(node.getR(), s);\r\n        s += node.getElement());\r\n        s += searchAndStore(node.getL(), s);\r\n        return s\r\n    }\r\n```\r\n\r\nThis doesn&#39;t work as nodes are visited multiple times.","title":"How to store attributes from a node in a binary tree by doing in-order traversal","body":"<pre><code>private void searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        searchAndStore(node.getR(), s);\n        System.out.println(node.getElement());\n        searchAndStore(node.getL(), s);\n    }\n</code></pre>\n<p>I am trying to do a binary search and store the elements in each node in an array in the order of in order traversal.</p>\n<p>It's simple enough if I am just printing the result as I've done above, but I am trying to return a String with the same results.</p>\n<p>Any insight would be appreciated.</p>\n<pre><code>private String searchAndStore(Node node, String s) {\n        if (node == null) {\n            return &quot;&quot;;\n        }\n\n        s += searchAndStore(node.getR(), s);\n        s += node.getElement());\n        s += searchAndStore(node.getL(), s);\n        return s\n    }\n</code></pre>\n<p>This doesn't work as nodes are visited multiple times.</p>\n"},{"tags":["java","backend"],"comments":[{"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"score":0,"creation_date":1680031487,"post_id":75870233,"comment_id":133826863,"body_markdown":"done sorry typing mistake! :) I have corrected it now :)","body":"done sorry typing mistake! :) I have corrected it now :)"},{"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"score":0,"creation_date":1680031928,"post_id":75870233,"comment_id":133826960,"body_markdown":"@Progman no it doesn&#39;t answer my question as I have created an abstract class I need to call a method of the parent class I am expecting an output as mentioned in my question. I don&#39;t understand how I get that output!","body":"@Progman no it doesn&#39;t answer my question as I have created an abstract class I need to call a method of the parent class I am expecting an output as mentioned in my question. I don&#39;t understand how I get that output!"},{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":1,"creation_date":1680032190,"post_id":75870233,"comment_id":133827030,"body_markdown":"There are a lot of ways you *could* get to your desired output, but fundamentally, you need to understand that your `obj` is a pointer to a `TestingImpl3333` object that only contains the `m1` implementation from your `TestImpl2222` class.  Casting your `obj` to a type of `TestingImpl1111` doesn&#39;t swap out the implementation of your `m1` function. Generally casting objects is more for appeasing the compiler or for enforcing certain &quot;rules&quot; in your code, rather than changing functional behavior of your code (as opposed to casting primitive types, like double to int, which can change behavior).","body":"There are a lot of ways you <i>could</i> get to your desired output, but fundamentally, you need to understand that your <code>obj</code> is a pointer to a <code>TestingImpl3333</code> object that only contains the <code>m1</code> implementation from your <code>TestImpl2222</code> class.  Casting your <code>obj</code> to a type of <code>TestingImpl1111</code> doesn&#39;t swap out the implementation of your <code>m1</code> function. Generally casting objects is more for appeasing the compiler or for enforcing certain &quot;rules&quot; in your code, rather than changing functional behavior of your code (as opposed to casting primitive types, like double to int, which can change behavior)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1680032249,"post_id":75870233,"comment_id":133827046,"body_markdown":"The accepted answer for [How to call the overridden method of a superclass?](https://stackoverflow.com/questions/15668032/how-to-call-the-overridden-method-of-a-superclass) has the correct answer: _You cannot do what you want. The way polymorphism works is by doing what you are seeing._ And this will never change because that is the way Java is designed to do it.","body":"The accepted answer for <a href=\"https://stackoverflow.com/questions/15668032/how-to-call-the-overridden-method-of-a-superclass\">How to call the overridden method of a superclass?</a> has the correct answer: <i>You cannot do what you want. The way polymorphism works is by doing what you are seeing.</i> And this will never change because that is the way Java is designed to do it."}],"answers":[{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680032048,"creation_date":1680032048,"answer_id":75870386,"question_id":75870233,"body_markdown":"Ok, casting an object to its parent wont make it a parent object.\r\n \r\nIn your case, ```obj``` is an instance of ```TestingImpl3333```.\r\n\r\nSo whatever method you call on it, it will first check whether ```TestingImpl3333``` is implementing it or not. If implemented, it uses that. \r\n\r\nIf not, it will look into its parent.\r\n\r\nThats how polymorphism works","title":"how do I call a method which was implemented in abstract parent class and which was overridden in child class as well in a new test class?","body":"<p>Ok, casting an object to its parent wont make it a parent object.</p>\n<p>In your case, <code>obj</code> is an instance of <code>TestingImpl3333</code>.</p>\n<p>So whatever method you call on it, it will first check whether <code>TestingImpl3333</code> is implementing it or not. If implemented, it uses that.</p>\n<p>If not, it will look into its parent.</p>\n<p>Thats how polymorphism works</p>\n"}],"owner":{"account_id":8753625,"reputation":9,"user_id":6545854,"display_name":"Siddharth Mone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680032268,"answer_count":1,"score":-1,"last_activity_date":1680032048,"creation_date":1680031024,"question_id":75870233,"body_markdown":"I am very new in programming, while learning Java i got into a doubt, my situation is, I am trying to call a implemented method of a class TestingImpl1111 from interface ITesting1111  in a test class by creating a object of a abstract parent class using child class constructor, \r\nbut i am not able to call the method m1() which was as implemented in class TestingImpl1111 as out put.\r\nit always brings the overridden method m1 in class TestingImpl2222\r\n\r\nthis is my code below :- \r\n\r\n\r\n```\r\npackage PolymorphismAndAbstraction.Example1.Example2;\r\n\r\ninterface ITesting1111\r\n{\r\n\tvoid m1();\r\n\tvoid m2();\r\n\tvoid m3();\r\n}\r\nabstract class TestingImpl1111 implements ITesting1111\r\n{\r\n\tpublic void m1()\r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 1111&quot;);\r\n\t}\r\n}\r\nabstract class TestingImpl2222 extends TestingImpl1111\r\n{\r\n\tpublic void m1() \r\n\t{\r\n\t\tSystem.out.println(&quot;testing method m1 from interface in class 2222 which was implemented in class 1111 as well.&quot;);\t\t\r\n\t}\t\r\n\tpublic void m2() \r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 2222&quot;);\t\t\r\n\t}\t\r\n}\r\n class TestingImpl3333 extends TestingImpl2222\r\n{\r\n\t\tpublic void m2() \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;testing method m2 from interface in class 3333 which was implemented in class 2222 as well.&quot;);\t\t\r\n\t\t}\r\n\tpublic void m3()\r\n\t{\r\n\t\tSystem.out.println(&quot;testing method from interface in class 3333&quot;);\t\t\r\n\t}\r\n}\r\n\r\npublic class Test1234 \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\t\r\n\t\tTestingImpl1111 obj = new TestingImpl3333();\t\t\r\n\t\t\r\n\t\t((TestingImpl1111)obj).m1();\r\n\t\tobj.m1();\r\n\t\t((TestingImpl2222)obj).m2();\r\n\t\tobj.m2();\t\t\r\n\t\tobj.m3();\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nand below is output i am geting :- \r\n\r\n\r\n```\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method from interface in class 3333\r\n```\r\n\r\nBut output i am expecting is :- \r\n\r\n\r\n```\r\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\r\ntesting method from interface in class 1111\r\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\r\ntesting method from interface in class 2222\r\ntesting method from interface in class 3333\r\n```\r\n\r\nPlease explain me what I am doing wrong here how do i get my desiered output ??\r\n\r\n","title":"how do I call a method which was implemented in abstract parent class and which was overridden in child class as well in a new test class?","body":"<p>I am very new in programming, while learning Java i got into a doubt, my situation is, I am trying to call a implemented method of a class TestingImpl1111 from interface ITesting1111  in a test class by creating a object of a abstract parent class using child class constructor,\nbut i am not able to call the method m1() which was as implemented in class TestingImpl1111 as out put.\nit always brings the overridden method m1 in class TestingImpl2222</p>\n<p>this is my code below :-</p>\n<pre><code>package PolymorphismAndAbstraction.Example1.Example2;\n\ninterface ITesting1111\n{\n    void m1();\n    void m2();\n    void m3();\n}\nabstract class TestingImpl1111 implements ITesting1111\n{\n    public void m1()\n    {\n        System.out.println(&quot;testing method from interface in class 1111&quot;);\n    }\n}\nabstract class TestingImpl2222 extends TestingImpl1111\n{\n    public void m1() \n    {\n        System.out.println(&quot;testing method m1 from interface in class 2222 which was implemented in class 1111 as well.&quot;);      \n    }   \n    public void m2() \n    {\n        System.out.println(&quot;testing method from interface in class 2222&quot;);      \n    }   \n}\n class TestingImpl3333 extends TestingImpl2222\n{\n        public void m2() \n        {\n            System.out.println(&quot;testing method m2 from interface in class 3333 which was implemented in class 2222 as well.&quot;);      \n        }\n    public void m3()\n    {\n        System.out.println(&quot;testing method from interface in class 3333&quot;);      \n    }\n}\n\npublic class Test1234 \n{\n    public static void main(String[] args) \n    {   \n        TestingImpl1111 obj = new TestingImpl3333();        \n        \n        ((TestingImpl1111)obj).m1();\n        obj.m1();\n        ((TestingImpl2222)obj).m2();\n        obj.m2();       \n        obj.m3();       \n    }\n\n}\n\n</code></pre>\n<p>and below is output i am geting :-</p>\n<pre><code>testing method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method from interface in class 3333\n</code></pre>\n<p>But output i am expecting is :-</p>\n<pre><code>testing method m1 from interface in class 2222 which was implemented in class 1111 as well.\ntesting method from interface in class 1111\ntesting method m2 from interface in class 3333 which was implemented in class 2222 as well.\ntesting method from interface in class 2222\ntesting method from interface in class 3333\n</code></pre>\n<p>Please explain me what I am doing wrong here how do i get my desiered output ??</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679933875,"post_id":75857654,"comment_id":133806098,"body_markdown":"Is it fine with api &lt; 33 ?","body":"Is it fine with api &lt; 33 ?"},{"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"score":0,"creation_date":1679974964,"post_id":75857654,"comment_id":133813161,"body_markdown":"Yes it was fine in previous version of app. This version has same issue with all api, but I have modified many things in my app so Im not able to find the actual case.\n**can you please, check my updated Q. at the bottom**","body":"Yes it was fine in previous version of app. This version has same issue with all api, but I have modified many things in my app so Im not able to find the actual case. <b>can you please, check my updated Q. at the bottom</b>"},{"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"score":0,"creation_date":1679977969,"post_id":75857654,"comment_id":133813459,"body_markdown":"**Second Attempt**\nWhile I comment SplashActivity and make MainActivity as Launcher Activity then the problem disappear. !!! it means something wrong with the Splach Activity","body":"<b>Second Attempt</b> While I comment SplashActivity and make MainActivity as Launcher Activity then the problem disappear. !!! it means something wrong with the Splach Activity"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679992017,"post_id":75857654,"comment_id":133815903,"body_markdown":"Suggest you rollback your changes one by one to determine which was the breaking change that caused the issue","body":"Suggest you rollback your changes one by one to determine which was the breaking change that caused the issue"}],"answers":[{"tags":[],"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680031586,"creation_date":1680031586,"answer_id":75870319,"question_id":75857654,"body_markdown":"**FINALLY** found the solution. There was 2 issues 1. OnConfigrationChanged by lifecycle while using appOpenAds. 2. Synchronized background data with server, once finished recreated baseActivity. Anyway thanks dear","title":"SomeActivity.java automatically finish, killed or returned back to previous Activity without touch","body":"<p><strong>FINALLY</strong> found the solution. There was 2 issues 1. OnConfigrationChanged by lifecycle while using appOpenAds. 2. Synchronized background data with server, once finished recreated baseActivity. Anyway thanks dear</p>\n"}],"owner":{"account_id":17044149,"reputation":21,"user_id":12331378,"display_name":"Dhiraj Thapaliya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680031586,"creation_date":1679931317,"question_id":75857654,"body_markdown":"**Dear Expert**, I&#39;am dealing with one problem since few days. I searched for solution but found nothing so I&#39;m here with you. Hope you will help and thanks in advance...\r\n\r\n**Question:** I have an ABC App trying to update with API level 33(Android 13) Everything goes fine but e.g.- I open app-&gt; click button to launch new Activity.java-&gt; launched success but **PROBLEM** comes here ! The Activity close automatically after 2/3/4 seconds without error or without touching my phone but if again I open same Activity then it remain open until I close it.\r\n\r\n\r\n**Few Things Appear in Logcat before close Activity:**\r\n*This Activity Do Nothing unless I try to do so*\r\n\r\n\r\n```\r\nDEBUG: elapsed 2 / 6\r\n2023-03-27 20:58:20.352 24711-24763 FA                      com.my.package        V  Recording user engagement, ms: 4262\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         I  Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:230500000\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package        I  Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 230500000\r\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         V  Dynamite loader version &gt;= 2, using loadModule2NoCrashUtils\r\n2023-03-27 20:58:20.396 24711-24711 Ads                     com.my.package         I  Use RequestConfiguration.Builder().setTestDeviceIds(Arrays.asList(&quot;333C8AE82F2C89B0AF4DCBD658E0F35C&quot;)) to get test ads on this device.\r\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity paused, time: 2548080784\r\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity resumed, time: 2548080807\r\n2023-03-27 20:58:20.406 24711-25006 AudioManager            com.my.package         I  In isSpeakerphoneOn(), calling application: # Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library\r\n2023-03-27 20:58:20.419 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus false\r\n2023-03-27 20:58:20.435 24711-25183 Ads                     com.my.package         W  Not retrying to fetch app settings\r\n2023-03-27 20:58:20.460  3263-3714  ActivityManagerWrapper  com.miui.home                        E  getRecentTasks: taskId=5899   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=# Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library/.activities.ActivitySplash }\r\n2023-03-27 20:58:20.521 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus true\r\n2023-03-27 20:58:20.538 24711-24711 RecyclerView            com.my.package         W  No adapter attached; skipping layout\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb40000789c40d628 : 5(40960 size) total buffers - 0(0 size) used buffers - 21/27 (recycle/alloc) - 10/27 (fetch/transfer)\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb4000079959dc428 : 5(40960 size) total buffers - 0(0 size) used buffers - 15/20 (recycle/alloc) - 7/20 (fetch/transfer)\r\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  evictor expired: 2, evicted: 2\r\n2023-03-27 20:58:21.909 24711-24711 Ads                     com.my.package         W  GET LOCATION COMPILED\r\n2023-03-27 20:58:21.980 24711-24711 ExoPlayerImpl           com.my.package         I  Init 43758ef [AndroidXMedia3/1.0.0-beta03] [curtana, Redmi Note 9 Pro, Xiaomi, 31]\r\n2023-03-27 20:58:21.991 24711-24711 Ads                     com.my.package         I  ExoPlayerAdapter initialized.\r\n2023-03-27 20:58:22.287 24711-25340 DMCodecAdapterFactory   com.my.package         I  Creating an asynchronous MediaCodec adapter for track type audio\r\n2023-03-27 20:58:22.289 24711-25349 CCodec                  com.my.package         D  allocate(c2.android.aac.decoder)\r\n2023-03-27 20:58:22.293 24711-25349 CCodec                  com.my.package         I  Created component [c2.android.aac.decoder]\r\n```\r\n\r\n**Android Studio Version: Electric Eel 2022.1.1**\r\n\r\n**Manifist**\r\n\r\n```\r\n&lt;supports-screens\r\n        android:anyDensity=&quot;true&quot;\r\n        android:largeScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:smallScreens=&quot;true&quot;\r\n        android:xlargeScreens=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; &lt;!-- SET-ALARM --&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;!-- WAKE --&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt; &lt;!-- STORAGE --&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;&lt;!--API 33 for songs--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&lt;!--API 33 for albumArt--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&lt;!--API S--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&lt;!--API 33--&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;\r\n        tools:node=&quot;remove&quot; /&gt; &lt;!-- THIS QUERIES ONLY FOR YOUTUBE LIVE --&gt;\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;com.google.android.youtube.api.service.START&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\r\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\r\n    &lt;/queries&gt;\r\n&lt;application\r\n        android:name=&quot;.activities.MyApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:resizeableActivity=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;false&quot;\r\n        android:theme=&quot;@style/Theme.RadioApp&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;33&quot;&gt;\r\n...\r\n&lt;activity\r\n            android:name=&quot;.activities.ActivitySplash&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n&lt;activity\r\n            android:name=&quot;.activities.OpenedActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\r\n...\r\n```\r\n\r\n\r\n**Build.gradle (APP)**\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\nandroid {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;com.my.package&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 33\r\n        versionCode 71\r\n        versionName &quot;4.8.2&quot;\r\n        ndk.abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        debug {\r\n            shrinkResources false\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n\r\n        release {\r\n            shrinkResources true\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildTypes.each {\r\n        it.buildConfigField &#39;String&#39;, &#39;APP_URL&#39;, APP_URL\r\n        it.buildConfigField &#39;String&#39;, &#39;API_KEY&#39;, API_KEY\r\n        it.buildConfigField &#39;String&#39;, &#39;admob_pub_id&#39;, admob_pub_id\r\n        it.buildConfigField &#39;String&#39;, &#39;admob_app_id&#39;, admob_app_id\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\n    //    bundle {\r\n//        language {\r\n//            enableSplit = false\r\n//        }\r\n//    }\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n    lint {\r\n        disable &#39;GradleDependency&#39;, &#39;OldTargetApi&#39;\r\n    }\r\n    namespace &#39;com.my.package&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n\r\n//    GOOGLE LIBRARY\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;com.google.android.play:core:1.10.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.2&#39;\r\n//for app open ads\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.6.0&#39;\r\n    //Duplicate class found- below solve\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n\r\n    //seekbar and layout library\r\n    implementation &#39;com.sothree.slidinguppanel:library:3.4.0&#39;\r\n    implementation &#39;com.labo.kaji:relativepopupwindow:0.3.1&#39;\r\n    implementation &#39;com.github.warkiz.widget:indicatorseekbar:2.1.2&#39;\r\n\r\n    //ripple click effect library\r\n    implementation &#39;com.balysv:material-ripple:1.0.2&#39;\r\n    //Player\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.4&#39;\r\n    //image library\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;jp.wasabeef:picasso-transformations:2.4.0&#39;\r\n\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation(platform(&#39;com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11&#39;))\r\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11&quot;)\r\n\r\n    //shimmer effect library\r\n    implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n\r\n    //multidex library\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n    implementation &#39;com.shawnlin:number-picker:2.4.4&#39;\r\n\r\n//for equalizer\r\n    implementation &#39;com.diogobernardino:williamchart:2.2&#39;//don&#39;t change to higher\r\n\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n\r\n    implementation &#39;com.pierfrancescosoffritti.androidyoutubeplayer:core:11.1.0&#39;\r\n\r\n    //implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&#39;\r\n    // animation\r\n    implementation &#39;com.airbnb.android:lottie:6.0.0&#39;\r\n\r\n//    TabLayout\r\n    implementation &#39;com.github.Andy671:Dachshund-Tab-Layout:v0.3.3&#39;\r\n\r\n    //implementation &#39;com.github.droidbond:LoadingButton:0.1.5&#39;\r\n    implementation &#39;com.zeugmasolutions.localehelper:locale-helper-android:1.5.1&#39;\r\n    //local storage\r\n    implementation &#39;androidx.room:room-runtime:2.5.0&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.0&#39;\r\n    implementation &#39;commons-io:commons-io:20030203.000550&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**build.gradle (project)**\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven {\r\n            url &quot;https://jitpack.io&quot;\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\n**Application**\r\n\r\n```\r\n\r\npublic class MyApplication extends Application {\r\n\r\n\tpublic MyApplication() {}\r\n\r\n\t@Override\r\n\tpublic void onCreate() {\r\n\t\tsuper.onCreate();\r\n\t\ttry {\r\n\t\t\tSharedPref.init(this);\r\n\t\t\tAdsManager.initializeAd(this);\r\n\t\t\tMobileAds.initialize(this, initializationStatus -&gt; {\r\n\t\t\t});\r\n\t\t\tSetting setting = SharedPref.get().getSettingModel();\r\n\t\t\tif (setting != null){\r\n\t\t\t\tif (setting.show_open.equals(Constant.ACTIVE)){\r\n\t\t\t\t\tnew AppOpenManager(this, this.getString(R.string.admob_open_ads));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch (Exception e){\r\n\t\t\t//\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tSharedPref.get().setDarkMode(SharedPref.get().isDarkModeOn());\r\n\t\t} catch (Exception e) {\r\n\t\t\t//\r\n\t\t}\r\n\t\tFirebaseAnalytics.getInstance(this);\r\n\t\tFirebaseMessaging.getInstance().subscribeToTopic(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Please help, Big Thanks**\r\n\r\n\r\n**I&#39;ve Tried:**\r\n- Opening another Activity -&gt; Same problem\r\n- Unistal/ReInstall App -&gt; Same p.\r\n- Using Emulator/ Real device -&gt; Same p.\r\n- Removed Admob ads from Opened Activity -&gt; Same p.\r\n- And few things more...\r\n\r\n**Update-1**\r\nThis line appear in red color even ActivitySplash.java already finished\r\n```\r\ngetRecentTasks: taskId=5942   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.my.package/.activities.ActivitySplash }\r\n```\r\n**ActivitySplash.java**\r\n```\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\r\n        setWindowFlag(this, WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS, false);\r\n        getWindow().setStatusBarColor(Color.TRANSPARENT);\r\n\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        DataParser.fetchSettingData(ActivitySplash.this, () -&gt; {\r\n            SharedPref.get().getFcmToken();\r\n            notificationOpenHandler();\r\n        });\r\n    }\r\n\r\n\r\n    public void notificationOpenHandler() {\r\n        try {\r\n            if (getIntent().getExtras() != null) {\r\n                new Handler().postDelayed(() -&gt; {\r\n                    Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    intent.putExtra(Constant.FCM_TITLE, getIntent().getStringExtra(Constant.FCM_TITLE));\r\n                    intent.putExtra(Constant.FCM_LINK, getIntent().getStringExtra(Constant.FCM_LINK));\r\n                    intent.putExtra(Constant.FCM_BROWSER, getIntent().getIntExtra(Constant.FCM_BROWSER, 0));\r\n                    intent.putExtra(Constant.FCM_IMAGE, getIntent().getStringExtra(Constant.FCM_IMAGE));\r\n                    intent.putExtra(Constant.FCM_EXTRA, getIntent().getStringExtra(Constant.FCM_EXTRA));\r\n                    startActivity(intent);\r\n                    finish();\r\n                    overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n                }, Constant.SPLASH_TIME);\r\n            } else {\r\n                moveToNext();\r\n            }\r\n        } catch (Exception e) {\r\n            moveToNext();\r\n        }\r\n    }\r\n\r\n    private void moveToNext() {\r\n        new Handler().postDelayed(() -&gt; {\r\n            Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            startActivity(intent);\r\n            finish();\r\n            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\r\n        }, Constant.SPLASH_TIME);\r\n    }\r\n\r\n    public static void setWindowFlag(Activity activity, final int bits, boolean on) {\r\n        Window win = activity.getWindow();\r\n        WindowManager.LayoutParams winParams = win.getAttributes();\r\n        if (on) {\r\n            winParams.flags |= bits;\r\n        } else {\r\n            winParams.flags &amp;= ~bits;\r\n        }\r\n        win.setAttributes(winParams);\r\n    }\r\n}\r\n```","title":"SomeActivity.java automatically finish, killed or returned back to previous Activity without touch","body":"<p><strong>Dear Expert</strong>, I'am dealing with one problem since few days. I searched for solution but found nothing so I'm here with you. Hope you will help and thanks in advance...</p>\n<p><strong>Question:</strong> I have an ABC App trying to update with API level 33(Android 13) Everything goes fine but e.g.- I open app-&gt; click button to launch new Activity.java-&gt; launched success but <strong>PROBLEM</strong> comes here ! The Activity close automatically after 2/3/4 seconds without error or without touching my phone but if again I open same Activity then it remain open until I close it.</p>\n<p><strong>Few Things Appear in Logcat before close Activity:</strong>\n<em>This Activity Do Nothing unless I try to do so</em></p>\n<pre><code>DEBUG: elapsed 2 / 6\n2023-03-27 20:58:20.352 24711-24763 FA                      com.my.package        V  Recording user engagement, ms: 4262\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         I  Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:230500000\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package        I  Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 230500000\n2023-03-27 20:58:20.390 24711-24711 DynamiteModule          com.my.package         V  Dynamite loader version &gt;= 2, using loadModule2NoCrashUtils\n2023-03-27 20:58:20.396 24711-24711 Ads                     com.my.package         I  Use RequestConfiguration.Builder().setTestDeviceIds(Arrays.asList(&quot;333C8AE82F2C89B0AF4DCBD658E0F35C&quot;)) to get test ads on this device.\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity paused, time: 2548080784\n2023-03-27 20:58:20.401 24711-24763 FA                      com.my.package         V  Activity resumed, time: 2548080807\n2023-03-27 20:58:20.406 24711-25006 AudioManager            com.my.package         I  In isSpeakerphoneOn(), calling application: # Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\n2023-03-27 20:58:20.419 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus false\n2023-03-27 20:58:20.435 24711-25183 Ads                     com.my.package         W  Not retrying to fetch app settings\n2023-03-27 20:58:20.460  3263-3714  ActivityManagerWrapper  com.miui.home                        E  getRecentTasks: taskId=5899   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library/.activities.ActivitySplash }\n2023-03-27 20:58:20.521 24711-24711 DecorView[]             com.my.package         D  onWindowFocusChanged hasWindowFocus true\n2023-03-27 20:58:20.538 24711-24711 RecyclerView            com.my.package         W  No adapter attached; skipping layout\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb40000789c40d628 : 5(40960 size) total buffers - 0(0 size) used buffers - 21/27 (recycle/alloc) - 10/27 (fetch/transfer)\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  bufferpool2 0xb4000079959dc428 : 5(40960 size) total buffers - 0(0 size) used buffers - 15/20 (recycle/alloc) - 7/20 (fetch/transfer)\n2023-03-27 20:58:21.265 24711-25240 BufferPoolAccessor2.0   com.my.package         D  evictor expired: 2, evicted: 2\n2023-03-27 20:58:21.909 24711-24711 Ads                     com.my.package         W  GET LOCATION COMPILED\n2023-03-27 20:58:21.980 24711-24711 ExoPlayerImpl           com.my.package         I  Init 43758ef [AndroidXMedia3/1.0.0-beta03] [curtana, Redmi Note 9 Pro, Xiaomi, 31]\n2023-03-27 20:58:21.991 24711-24711 Ads                     com.my.package         I  ExoPlayerAdapter initialized.\n2023-03-27 20:58:22.287 24711-25340 DMCodecAdapterFactory   com.my.package         I  Creating an asynchronous MediaCodec adapter for track type audio\n2023-03-27 20:58:22.289 24711-25349 CCodec                  com.my.package         D  allocate(c2.android.aac.decoder)\n2023-03-27 20:58:22.293 24711-25349 CCodec                  com.my.package         I  Created component [c2.android.aac.decoder]\n</code></pre>\n<p><strong>Android Studio Version: Electric Eel 2022.1.1</strong></p>\n<p><strong>Manifist</strong></p>\n<pre><code>&lt;supports-screens\n        android:anyDensity=&quot;true&quot;\n        android:largeScreens=&quot;true&quot;\n        android:normalScreens=&quot;true&quot;\n        android:smallScreens=&quot;true&quot;\n        android:xlargeScreens=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt; &lt;!-- SET-ALARM --&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n     &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;!-- WAKE --&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt; &lt;!-- STORAGE --&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;&lt;!--API 33 for songs--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;&lt;!--API 33 for albumArt--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;&lt;!--API S--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&lt;!--API 33--&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;\n        tools:node=&quot;remove&quot; /&gt; &lt;!-- THIS QUERIES ONLY FOR YOUTUBE LIVE --&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;com.google.android.youtube.api.service.START&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\n        &lt;package android:name=&quot;com.whatsapp.w4b&quot; /&gt;\n    &lt;/queries&gt;\n&lt;application\n        android:name=&quot;.activities.MyApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;false&quot;\n        android:theme=&quot;@style/Theme.RadioApp&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;33&quot;&gt;\n...\n&lt;activity\n            android:name=&quot;.activities.ActivitySplash&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n            android:exported=&quot;true&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n&lt;activity\n            android:name=&quot;.activities.OpenedActivity&quot;\n            android:exported=&quot;false&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            tools:ignore=&quot;LockedOrientationActivity&quot; /&gt;\n...\n</code></pre>\n<p><strong>Build.gradle (APP)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;com.my.package&quot;\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode 71\n        versionName &quot;4.8.2&quot;\n        ndk.abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n        multiDexEnabled true\n    }\n    buildTypes {\n        debug {\n            shrinkResources false\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildTypes.each {\n        it.buildConfigField 'String', 'APP_URL', APP_URL\n        it.buildConfigField 'String', 'API_KEY', API_KEY\n        it.buildConfigField 'String', 'admob_pub_id', admob_pub_id\n        it.buildConfigField 'String', 'admob_app_id', admob_app_id\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    //    bundle {\n//        language {\n//            enableSplit = false\n//        }\n//    }\n    useLibrary 'org.apache.http.legacy'\n    lint {\n        disable 'GradleDependency', 'OldTargetApi'\n    }\n    namespace 'com.my.package'\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.8.0'\n\n//    GOOGLE LIBRARY\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-analytics:21.2.0'\n    implementation 'com.google.android.gms:play-services-ads:21.5.0'\n    implementation 'com.google.android.play:core:1.10.3'\n    implementation 'com.google.firebase:firebase-messaging:23.1.2'\n//for app open ads\n\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.6.0'\n    //Duplicate class found- below solve\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n\n    //seekbar and layout library\n    implementation 'com.sothree.slidinguppanel:library:3.4.0'\n    implementation 'com.labo.kaji:relativepopupwindow:0.3.1'\n    implementation 'com.github.warkiz.widget:indicatorseekbar:2.1.2'\n\n    //ripple click effect library\n    implementation 'com.balysv:material-ripple:1.0.2'\n    //Player\n    implementation 'com.google.android.exoplayer:exoplayer:2.18.4'\n    //image library\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'jp.wasabeef:picasso-transformations:2.4.0'\n\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation(platform('com.squareup.okhttp3:okhttp-bom:5.0.0-alpha.11'))\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.11&quot;)\n\n    //shimmer effect library\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n\n    //multidex library\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    implementation 'com.shawnlin:number-picker:2.4.4'\n\n//for equalizer\n    implementation 'com.diogobernardino:williamchart:2.2'//don't change to higher\n\n    implementation 'androidx.preference:preference:1.2.0'\n\n    implementation 'com.pierfrancescosoffritti.androidyoutubeplayer:core:11.1.0'\n\n    //implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\n    // animation\n    implementation 'com.airbnb.android:lottie:6.0.0'\n\n//    TabLayout\n    implementation 'com.github.Andy671:Dachshund-Tab-Layout:v0.3.3'\n\n    //implementation 'com.github.droidbond:LoadingButton:0.1.5'\n    implementation 'com.zeugmasolutions.localehelper:locale-helper-android:1.5.1'\n    //local storage\n    implementation 'androidx.room:room-runtime:2.5.0'\n    annotationProcessor 'androidx.room:room-compiler:2.5.0'\n    implementation 'commons-io:commons-io:20030203.000550'\n\n}\n\n</code></pre>\n<p><strong>build.gradle (project)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath 'com.google.gms:google-services:4.3.15'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven {\n            url &quot;https://jitpack.io&quot;\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p><strong>Application</strong></p>\n<pre><code>\npublic class MyApplication extends Application {\n\n    public MyApplication() {}\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        try {\n            SharedPref.init(this);\n            AdsManager.initializeAd(this);\n            MobileAds.initialize(this, initializationStatus -&gt; {\n            });\n            Setting setting = SharedPref.get().getSettingModel();\n            if (setting != null){\n                if (setting.show_open.equals(Constant.ACTIVE)){\n                    new AppOpenManager(this, this.getString(R.string.admob_open_ads));\n                }\n            }\n        }catch (Exception e){\n            //\n        }\n        try {\n            SharedPref.get().setDarkMode(SharedPref.get().isDarkModeOn());\n        } catch (Exception e) {\n            //\n        }\n        FirebaseAnalytics.getInstance(this);\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Please help, Big Thanks</strong></p>\n<p><strong>I've Tried:</strong></p>\n<ul>\n<li>Opening another Activity -&gt; Same problem</li>\n<li>Unistal/ReInstall App -&gt; Same p.</li>\n<li>Using Emulator/ Real device -&gt; Same p.</li>\n<li>Removed Admob ads from Opened Activity -&gt; Same p.</li>\n<li>And few things more...</li>\n</ul>\n<p><strong>Update-1</strong>\nThis line appear in red color even ActivitySplash.java already finished</p>\n<pre><code>getRecentTasks: taskId=5942   userId=0   baseIntent=Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.my.package/.activities.ActivitySplash }\n</code></pre>\n<p><strong>ActivitySplash.java</strong></p>\n<pre><code>    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);\n        setWindowFlag(this, WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS, false);\n        getWindow().setStatusBarColor(Color.TRANSPARENT);\n\n        setContentView(R.layout.activity_splash);\n\n        DataParser.fetchSettingData(ActivitySplash.this, () -&gt; {\n            SharedPref.get().getFcmToken();\n            notificationOpenHandler();\n        });\n    }\n\n\n    public void notificationOpenHandler() {\n        try {\n            if (getIntent().getExtras() != null) {\n                new Handler().postDelayed(() -&gt; {\n                    Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    intent.putExtra(Constant.FCM_TITLE, getIntent().getStringExtra(Constant.FCM_TITLE));\n                    intent.putExtra(Constant.FCM_LINK, getIntent().getStringExtra(Constant.FCM_LINK));\n                    intent.putExtra(Constant.FCM_BROWSER, getIntent().getIntExtra(Constant.FCM_BROWSER, 0));\n                    intent.putExtra(Constant.FCM_IMAGE, getIntent().getStringExtra(Constant.FCM_IMAGE));\n                    intent.putExtra(Constant.FCM_EXTRA, getIntent().getStringExtra(Constant.FCM_EXTRA));\n                    startActivity(intent);\n                    finish();\n                    overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n                }, Constant.SPLASH_TIME);\n            } else {\n                moveToNext();\n            }\n        } catch (Exception e) {\n            moveToNext();\n        }\n    }\n\n    private void moveToNext() {\n        new Handler().postDelayed(() -&gt; {\n            Intent intent = new Intent(ActivitySplash.this, MainActivity.class);\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            startActivity(intent);\n            finish();\n            overridePendingTransition(R.anim.fade_in, R.anim.fade_out);\n        }, Constant.SPLASH_TIME);\n    }\n\n    public static void setWindowFlag(Activity activity, final int bits, boolean on) {\n        Window win = activity.getWindow();\n        WindowManager.LayoutParams winParams = win.getAttributes();\n        if (on) {\n            winParams.flags |= bits;\n        } else {\n            winParams.flags &amp;= ~bits;\n        }\n        win.setAttributes(winParams);\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1680026129,"post_id":75869410,"comment_id":133825612,"body_markdown":"Isn&#39;t a private ctor an implementation detail? Usually you don&#39;t test implementation details inside a class, but you test (at least by mocking/stubbing) the interaction between classes. So a private default ctor (without arguments) is usually used to prevent instantiation of utility classes. If there is any other ctor you could simply remove the private ctor - and it cannot be invoked anylonger. If ther is no other ctor, what would happen if this is invoked?","body":"Isn&#39;t a private ctor an implementation detail? Usually you don&#39;t test implementation details inside a class, but you test (at least by mocking/stubbing) the interaction between classes. So a private default ctor (without arguments) is usually used to prevent instantiation of utility classes. If there is any other ctor you could simply remove the private ctor - and it cannot be invoked anylonger. If ther is no other ctor, what would happen if this is invoked?"},{"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"score":0,"creation_date":1680026753,"post_id":75869410,"comment_id":133825767,"body_markdown":"@cyberbrain there are no other constructors. The test ensures that the class can not be instantiated and the constructor throws exception.","body":"@cyberbrain there are no other constructors. The test ensures that the class can not be instantiated and the constructor throws exception."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1680027694,"post_id":75869410,"comment_id":133825979,"body_markdown":"If you make Foo an interface instead of a class you can delete the constructor. Deleted code doesn&#39;t hurt your test coverage.","body":"If you make Foo an interface instead of a class you can delete the constructor. Deleted code doesn&#39;t hurt your test coverage."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1680030091,"post_id":75869410,"comment_id":133826517,"body_markdown":"Mockito doesn&#39;t support to mock private methods or constructors (see https://github.com/mockito/mockito/wiki/Mockito-And-Private-Methods). Also I don&#39;t see, how you could ever verify this, your test wants to see the exception, so just call the private ctor to get it? Or is the problem the mocking - or better stubbing here - of `final` classes?","body":"Mockito doesn&#39;t support to mock private methods or constructors (see <a href=\"https://github.com/mockito/mockito/wiki/Mockito-And-Private-Methods\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/wiki/Mockito-And-Private-Methods</a>)&zwnj;&#8203;. Also I don&#39;t see, how you could ever verify this, your test wants to see the exception, so just call the private ctor to get it? Or is the problem the mocking - or better stubbing here - of <code>final</code> classes?"},{"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"score":0,"creation_date":1680031494,"post_id":75869410,"comment_id":133826865,"body_markdown":"@cyberbrain there is a compillation error if I just call it - &quot;Foo() has private access&quot;.","body":"@cyberbrain there is a compillation error if I just call it - &quot;Foo() has private access&quot;."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1680031913,"post_id":75869410,"comment_id":133826953,"body_markdown":"exactly. So I still don&#39;t get what should be tested here? That no other ctor calls it? You just wrote there are none. That no static method of that class returns an instance of it? You should check the static methods to not emit an instance of that class then. So what exactly should be tested? Don&#39;t even know why the exception is thrown...","body":"exactly. So I still don&#39;t get what should be tested here? That no other ctor calls it? You just wrote there are none. That no static method of that class returns an instance of it? You should check the static methods to not emit an instance of that class then. So what exactly should be tested? Don&#39;t even know why the exception is thrown..."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680027477,"creation_date":1680027477,"answer_id":75869737,"question_id":75869410,"body_markdown":"You can try to use supress method of PowerMockito:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Foo.class)\r\n    public class FooTest {\r\n    \r\n        @Test(expected = UnsupportedOperationException.class)\r\n        public void testFoo() throws Exception {\r\n            PowerMockito.suppress(PowerMockito.constructor(Foo.class));\r\n            Foo instance = PowerMockito.newInstance(Foo.class);\r\n        }\r\n    } \r\n\r\nNote that annotations is very necessary here.","title":"How to invoke a private constructor with JUnit / Mockito?","body":"<p>You can try to use supress method of PowerMockito:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Foo.class)\npublic class FooTest {\n\n    @Test(expected = UnsupportedOperationException.class)\n    public void testFoo() throws Exception {\n        PowerMockito.suppress(PowerMockito.constructor(Foo.class));\n        Foo instance = PowerMockito.newInstance(Foo.class);\n    }\n} \n</code></pre>\n<p>Note that annotations is very necessary here.</p>\n"}],"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680031557,"creation_date":1680025188,"question_id":75869410,"body_markdown":"Since PowerMock contains an old version of Mockito, I&#39;m trying to get rid of PowerMock and fix old tests with pure Mockito.\r\n\r\nI am testing the class with private constructor which should not be invoked:\r\n\r\n```\r\npublic final class Foo {\r\n    private Foo() {\r\n        throw new UnsupportedOperationException(&quot;Constructor should not be invoked.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt was tested using PowerMock Whitebox:\r\n\r\n```\r\n@Test(expected=UnsupportedOperationException.class)\r\npublic void testFoo() throws Exception {\r\n    invokeConstructor(Foo.class, (Object[]) null);\r\n}\r\n```\r\n\r\nI could not find a possibility to invoke a constructor using JUnit or Mockito without creating a new instance of a class.","title":"How to invoke a private constructor with JUnit / Mockito?","body":"<p>Since PowerMock contains an old version of Mockito, I'm trying to get rid of PowerMock and fix old tests with pure Mockito.</p>\n<p>I am testing the class with private constructor which should not be invoked:</p>\n<pre><code>public final class Foo {\n    private Foo() {\n        throw new UnsupportedOperationException(&quot;Constructor should not be invoked.&quot;);\n    }\n}\n</code></pre>\n<p>It was tested using PowerMock Whitebox:</p>\n<pre><code>@Test(expected=UnsupportedOperationException.class)\npublic void testFoo() throws Exception {\n    invokeConstructor(Foo.class, (Object[]) null);\n}\n</code></pre>\n<p>I could not find a possibility to invoke a constructor using JUnit or Mockito without creating a new instance of a class.</p>\n"},{"tags":["java","multithreading","performance","rest"],"answers":[{"tags":[],"owner":{"account_id":6354467,"reputation":2024,"user_id":4932315,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520088514,"creation_date":1520088514,"answer_id":49085389,"question_id":49085197,"body_markdown":"In fact there are some solutions to this problem. It depends on the datas and variables. I will explain some possible results but of course not all.  \r\nIn your case the second option is less possible because you have many variables in a fly, like date and location, return or not and so on. But in other similar problems it could be useful.\r\n\r\n## 1 - Concurrent calls\r\n\r\nA first possibility is to make concurrent calls to all the given APIs, and show the results then.  \r\nIf the longer request lasts 5 seconds, all the requests are sent at the same time and 5 seconds later you have the response.  \r\nImagine: you load the page and there is no results, there is a loader or something like that. During the loader loading, an AJAX request to their servers is getting the results taken from all the websites.  \r\nOnce all the results loaded they are displayed on the page.\r\n\r\n## 2 - Compiling datas\r\n\r\nAn other possiblity is to use the same technique as search engines, loads datas and compile them.  \r\nEvery 5 minutes (for example) a request is sent to every website and stored into a database. So when you are asking for the page, the datas are already in the database.\r\n\r\nThis option is difficult to realize for websites like MakeMyTrip because there are many location, many dates, and it&#39;s impossible to load all the datas.","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>In fact there are some solutions to this problem. It depends on the datas and variables. I will explain some possible results but of course not all.<br>\nIn your case the second option is less possible because you have many variables in a fly, like date and location, return or not and so on. But in other similar problems it could be useful.</p>\n\n<h2>1 - Concurrent calls</h2>\n\n<p>A first possibility is to make concurrent calls to all the given APIs, and show the results then.<br>\nIf the longer request lasts 5 seconds, all the requests are sent at the same time and 5 seconds later you have the response.<br>\nImagine: you load the page and there is no results, there is a loader or something like that. During the loader loading, an AJAX request to their servers is getting the results taken from all the websites.<br>\nOnce all the results loaded they are displayed on the page.</p>\n\n<h2>2 - Compiling datas</h2>\n\n<p>An other possiblity is to use the same technique as search engines, loads datas and compile them.<br>\nEvery 5 minutes (for example) a request is sent to every website and stored into a database. So when you are asking for the page, the datas are already in the database.</p>\n\n<p>This option is difficult to realize for websites like MakeMyTrip because there are many location, many dates, and it's impossible to load all the datas.</p>\n"},{"tags":[],"owner":{"account_id":1356631,"reputation":726,"user_id":1294908,"accept_rate":60,"display_name":"Sree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520838963,"creation_date":1520838963,"answer_id":49229910,"question_id":49085197,"body_markdown":"You might get a certain price in the first query and later when you try to purchase the ticket, often the prices have gone up. So I would say a mix of everything is used in aggregation sites.\r\n\r\nAPIs are sold commercially by providers and they carry SLAs. So you can have a robust scalable infrastructure on cloud (say AWS) and yours APIs fetch data from a fast highly available data source - and you can always meet millisecond SLAs every single time. An AWS Lambda function always runs as fast as possible regardless of the load.\r\n\r\nSo, I don&#39;t see a problem concurrently accessing APIs, aggregating the results and displaying it. Also, I don&#39;t see a problem applying some level of caching (either at the aggregator side or at the provider side) especially for slow APIs.\r\n\r\nClient side cache can be updated by push notification instead of pull. So whenever there&#39;s an update in server data, the same is replicated at the client side. This avoids the need for running schedulers (check AWS SNS).\r\n\r\nYour question is mainly focusing on tech and not business.\r\n\r\nOnline travel agencies (OTAs), such as Expedia, get most of their flight content through Global Distribution Systems (e.g., Sabre, Amadeus). Most airlines currently have agreed to make available their full content in the GDSs. The OTAs then make money from payments from airlines, GDSs and potentially (although less and less commonly) from the traveler. Air content is usually sold through an agency model, so the OTA does not take inventory risk on it.\r\n","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>You might get a certain price in the first query and later when you try to purchase the ticket, often the prices have gone up. So I would say a mix of everything is used in aggregation sites.</p>\n\n<p>APIs are sold commercially by providers and they carry SLAs. So you can have a robust scalable infrastructure on cloud (say AWS) and yours APIs fetch data from a fast highly available data source - and you can always meet millisecond SLAs every single time. An AWS Lambda function always runs as fast as possible regardless of the load.</p>\n\n<p>So, I don't see a problem concurrently accessing APIs, aggregating the results and displaying it. Also, I don't see a problem applying some level of caching (either at the aggregator side or at the provider side) especially for slow APIs.</p>\n\n<p>Client side cache can be updated by push notification instead of pull. So whenever there's an update in server data, the same is replicated at the client side. This avoids the need for running schedulers (check AWS SNS).</p>\n\n<p>Your question is mainly focusing on tech and not business.</p>\n\n<p>Online travel agencies (OTAs), such as Expedia, get most of their flight content through Global Distribution Systems (e.g., Sabre, Amadeus). Most airlines currently have agreed to make available their full content in the GDSs. The OTAs then make money from payments from airlines, GDSs and potentially (although less and less commonly) from the traveler. Air content is usually sold through an agency model, so the OTA does not take inventory risk on it.</p>\n"}],"owner":{"account_id":6413279,"reputation":1949,"user_id":4972226,"accept_rate":40,"display_name":"Yathish Manjunath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1554,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680031313,"creation_date":1520087411,"question_id":49085197,"body_markdown":"Websites like makemytrip fetches flight booking details from different airlines api providers like jetairways, indigo and so on.\r\n\r\nwhen we visit there home page we see flight booking details of various airlines.\r\n\r\nSince this information cant be cached. \r\nHow will they make rest calls to all those api providers assuming there can be 10k - 20k of airlines api providers to display data on there home/search page.\r\n\r\n**1) Will they make concurrent calls to all those api providers to fetch data, whenever we visit there home/search page ?** \r\n\r\nBut considering number of threads in the pool this would take time to fetch data and map them in the response object, which will cause delay in page load time.\r\n\r\n**2) If we think of storing these data in search engines like elastic search, this even wont help as the data is not latest one.**\r\n\r\nEven if we think of having a **&quot;scheduler job&quot;** which makes rest calls to api providers to get latest data every 5 minutes and store in Elastic search. This would make display stale data in that 5 minutes of span time.","title":"Rest API call to fetch data from multiple API providers in very minimal time : Example websites like makemytrip","body":"<p>Websites like makemytrip fetches flight booking details from different airlines api providers like jetairways, indigo and so on.</p>\n\n<p>when we visit there home page we see flight booking details of various airlines.</p>\n\n<p>Since this information cant be cached. \nHow will they make rest calls to all those api providers assuming there can be 10k - 20k of airlines api providers to display data on there home/search page.</p>\n\n<p><strong>1) Will they make concurrent calls to all those api providers to fetch data, whenever we visit there home/search page ?</strong> </p>\n\n<p>But considering number of threads in the pool this would take time to fetch data and map them in the response object, which will cause delay in page load time.</p>\n\n<p><strong>2) If we think of storing these data in search engines like elastic search, this even wont help as the data is not latest one.</strong></p>\n\n<p>Even if we think of having a <strong>\"scheduler job\"</strong> which makes rest calls to api providers to get latest data every 5 minutes and store in Elastic search. This would make display stale data in that 5 minutes of span time.</p>\n"},{"tags":["java","spring-boot","wsdl"],"owner":{"account_id":2295871,"reputation":77,"user_id":2017319,"display_name":"user2017319"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680030639,"creation_date":1680030639,"question_id":75870184,"body_markdown":"I&#39;m facing an issue with incorrect WSDL files that are not within our jurisdiction. I have fixed all the problematic classes, but the problem is that whenever I run mvn clean install, the classes are regenerated, and the issue reappears.\r\n\r\nDoes anyone know how I can avoid redownloading these WSDL files?","title":"spring boot maven-jaxb2-plugin, prevent regenerating classes from wsdl","body":"<p>I'm facing an issue with incorrect WSDL files that are not within our jurisdiction. I have fixed all the problematic classes, but the problem is that whenever I run mvn clean install, the classes are regenerated, and the issue reappears.</p>\n<p>Does anyone know how I can avoid redownloading these WSDL files?</p>\n"},{"tags":["java","image","spring","properties","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311108656,"creation_date":1311108656,"answer_id":6753969,"question_id":6752630,"body_markdown":"Upon further inspection, it doesn&#39;t seem like I can set a &#39;location&#39; for images anywhere but I did find out that you can specify images 1 of 3 ways:\r\n\r\n - Classpath: &quot;image.png&quot;\r\n - Absolute: &quot;/home/user/Pictures/image.png&quot; \r\n - Url: &quot;https://encrypted.google.com/images/logos/ssl_ps_logo.png&quot;","title":"Spring JasperReports Images Location","body":"<p>Upon further inspection, it doesn't seem like I can set a 'location' for images anywhere but I did find out that you can specify images 1 of 3 ways:</p>\n\n<ul>\n<li>Classpath: \"image.png\"</li>\n<li>Absolute: \"/home/user/Pictures/image.png\" </li>\n<li>Url: \"https://encrypted.google.com/images/logos/ssl_ps_logo.png\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680029540,"creation_date":1311137709,"answer_id":6757176,"question_id":6752630,"body_markdown":"I recommend creating the following report parameters:\r\n\r\n- ROOT_DIR -- `&quot;/reports/&quot;`\r\n- IMAGE_DIR -- `$P{ROOT_DIR} + &quot;images/&quot;`\r\n- STYLE_DIR -- `$P{ROOT_DIR} + &quot;styles/&quot;`\r\n- SUBREPORT_DIR -- `$P{ROOT_DIR} + &quot;subreports/&quot;`\r\n- COMMON_DIR -- `$P{SUBREPORT_DIR} + &quot;common/&quot;`\r\n\r\nThis allows the images directory to be relative to the `ROOT_DIR` path. It also allows you to change `ROOT_DIR` dynamically. The parameters must be declared in their relative order.\r\n\r\nIn your case, using an absolute path:\r\n\r\n- ROOT_DIR -- `&quot;/home/user/&quot;`\r\n- IMAGE_DIR -- `$P{ROOT_DIR} + &quot;Pictures/&quot;`\r\n\r\nNote that changing between operating systems, directory structures, environments (e.g., migrating to JasperReports Server from JasperReports &amp; JSF) and so forth, can be accomplished without having to modify the report. (Well, some modifications are required for JasperReports Server.)\r\n\r\n","title":"Spring JasperReports Images Location","body":"<p>I recommend creating the following report parameters:</p>\n<ul>\n<li>ROOT_DIR -- <code>&quot;/reports/&quot;</code></li>\n<li>IMAGE_DIR -- <code>$P{ROOT_DIR} + &quot;images/&quot;</code></li>\n<li>STYLE_DIR -- <code>$P{ROOT_DIR} + &quot;styles/&quot;</code></li>\n<li>SUBREPORT_DIR -- <code>$P{ROOT_DIR} + &quot;subreports/&quot;</code></li>\n<li>COMMON_DIR -- <code>$P{SUBREPORT_DIR} + &quot;common/&quot;</code></li>\n</ul>\n<p>This allows the images directory to be relative to the <code>ROOT_DIR</code> path. It also allows you to change <code>ROOT_DIR</code> dynamically. The parameters must be declared in their relative order.</p>\n<p>In your case, using an absolute path:</p>\n<ul>\n<li>ROOT_DIR -- <code>&quot;/home/user/&quot;</code></li>\n<li>IMAGE_DIR -- <code>$P{ROOT_DIR} + &quot;Pictures/&quot;</code></li>\n</ul>\n<p>Note that changing between operating systems, directory structures, environments (e.g., migrating to JasperReports Server from JasperReports &amp; JSF) and so forth, can be accomplished without having to modify the report. (Well, some modifications are required for JasperReports Server.)</p>\n"},{"tags":[],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311285983,"creation_date":1311285983,"answer_id":6783401,"question_id":6752630,"body_markdown":"Following @Dave&#39;s advice I split out the base directory into a Parameter and gave it a default. That way I can specify either an absolute path, classpath or url. Here are the relevant pieces of code:\r\n\r\nController:\r\n\r\n   `modelMap.put(&quot;ROOT_DIR&quot;, &quot;/srv/images/&quot;);`\r\n\r\n-Or-\r\n\r\n   `modelMap.put(&quot;ROOT_DIR&quot;, &quot;http://site.com/images/&quot;);`\r\n\r\njrxml File:\r\n\r\n    &lt;parameter name=&quot;ROOT_DIR&quot; class=&quot;java.lang.String&quot;&gt;\r\n\t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;/home/user/Pictures/&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    &lt;/parameter&gt;\r\n    ...\r\n    &lt;imageExpression class=&quot;java.lang.String&quot;&gt;\r\n       &lt;![CDATA[$P{ROOT_DIR}+&quot;leaf_banner_red.png&quot;]]&gt;\r\n    &lt;/imageExpression&gt;","title":"Spring JasperReports Images Location","body":"<p>Following @Dave's advice I split out the base directory into a Parameter and gave it a default. That way I can specify either an absolute path, classpath or url. Here are the relevant pieces of code:</p>\n\n<p>Controller:</p>\n\n<p><code>modelMap.put(\"ROOT_DIR\", \"/srv/images/\");</code></p>\n\n<p>-Or-</p>\n\n<p><code>modelMap.put(\"ROOT_DIR\", \"http://site.com/images/\");</code></p>\n\n<p>jrxml File:</p>\n\n<pre><code>&lt;parameter name=\"ROOT_DIR\" class=\"java.lang.String\"&gt;\n    &lt;defaultValueExpression&gt;&lt;![CDATA[\"/home/user/Pictures/\"]]&gt;&lt;/defaultValueExpression&gt;\n&lt;/parameter&gt;\n...\n&lt;imageExpression class=\"java.lang.String\"&gt;\n   &lt;![CDATA[$P{ROOT_DIR}+\"leaf_banner_red.png\"]]&gt;\n&lt;/imageExpression&gt;\n</code></pre>\n"}],"owner":{"account_id":417030,"reputation":1981,"user_id":792789,"accept_rate":100,"display_name":"Justin Wrobel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5010,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6757176,"answer_count":3,"score":4,"last_activity_date":1680029540,"creation_date":1311102204,"question_id":6752630,"body_markdown":"JasperReport requires (by default) that images be in &quot;WEB-INF/classes/&quot;. I&#39;d like to share images between PDFs and normal JSP pages. I&#39;d rather not clutter up classpath with garbage image files. How do I force JR to use a different location for images?","title":"Spring JasperReports Images Location","body":"<p>JasperReport requires (by default) that images be in \"WEB-INF/classes/\". I'd like to share images between PDFs and normal JSP pages. I'd rather not clutter up classpath with garbage image files. How do I force JR to use a different location for images?</p>\n"},{"tags":["java","html","angular","selenium-webdriver","intellij-idea"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679956691,"post_id":75859131,"comment_id":133810968,"body_markdown":"It&#39;s possible that all you need here is a webdriverwait...  try/catch your &quot;driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;1000000&quot;);&quot; call to see what exception is thrown and add it to your post.","body":"It&#39;s possible that all you need here is a webdriverwait...  try/catch your &quot;driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;1000000&quot;&zwnj;&#8203;);&quot; call to see what exception is thrown and add it to your post."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679957592,"post_id":75859131,"comment_id":133811094,"body_markdown":"angular front-ends are very active, so adding some of the code you have before this call to your post would be helpful too.  (for instance, it&#39;ll change styles from pristine, to touched, to dirty, etc... ex: &#39;ng-touched&#39; class has been added to the element you posted)","body":"angular front-ends are very active, so adding some of the code you have before this call to your post would be helpful too.  (for instance, it&#39;ll change styles from pristine, to touched, to dirty, etc... ex: &#39;ng-touched&#39; class has been added to the element you posted)"},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1680011782,"post_id":75859131,"comment_id":133821441,"body_markdown":"@pcalkins thanks for the initial information. I&#39;ve added the code that that is above the /input and added the error msg I receive when I run the test.","body":"@pcalkins thanks for the initial information. I&#39;ve added the code that that is above the /input and added the error msg I receive when I run the test."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680020469,"post_id":75859131,"comment_id":133824044,"body_markdown":"you can see by the exception that the selector is wrong... it&#39;s showing &quot;#mat\\-input\\-0&quot;.  Post your Selenium code with some of the lines before you try to find that element.","body":"you can see by the exception that the selector is wrong... it&#39;s showing &quot;#mat\\-input\\-0&quot;.  Post your Selenium code with some of the lines before you try to find that element."},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1680028449,"post_id":75859131,"comment_id":133826140,"body_markdown":"@pcalkins upated","body":"@pcalkins upated"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680029070,"post_id":75859131,"comment_id":133826285,"body_markdown":"I would use: driver.findElement(By.xpath(&quot;//input[@id=&#39;mat-input-0&#39;]&quot;)).sendKeys(&quot;xxx&quot;);  (But you should add webdriverwaits to all these calls:  https://www.selenium.dev/documentation/webdriver/waits/ ) You&#39;ll be able to remove all those sleeps too.","body":"I would use: driver.findElement(By.xpath(&quot;//input[@id=&#39;mat-input-0&#39;]&quot;)).s&zwnj;&#8203;endKeys(&quot;xxx&quot;);  (But you should add webdriverwaits to all these calls:  <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/waits</a> ) You&#39;ll be able to remove all those sleeps too."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680029197,"post_id":75859131,"comment_id":133826309,"body_markdown":"also, do not do this: driver.switchTo().frame(0); (unnecessary)","body":"also, do not do this: driver.switchTo().frame(0); (unnecessary)"},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1680029364,"post_id":75859131,"comment_id":133826345,"body_markdown":"@pcalkins thanks ill check it out and see if it works. Also I need that piece of code to get past the iframe for the login page otherwise i wont be able to log in.","body":"@pcalkins thanks ill check it out and see if it works. Also I need that piece of code to get past the iframe for the login page otherwise i wont be able to log in."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680030978,"post_id":75859131,"comment_id":133826733,"body_markdown":"ahh... gotcha.  You can also use a webdriverwait for that with expected condition of frameToBeAvailableAndSwitchToIt:  https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#frameToBeAvailableAndSwitchToIt(int)  It&#39;ll both wait until it&#39;s ready and switch the driver to that frame.","body":"ahh... gotcha.  You can also use a webdriverwait for that with expected condition of frameToBeAvailableAndSwitchToIt:  <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#frameToBeAvailableAndSwitchToIt(int)\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>  It&#39;ll both wait until it&#39;s ready and switch the driver to that frame."},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1680034080,"post_id":75859131,"comment_id":133827435,"body_markdown":"@pcalkins wanted to thank you again for the help over the last two days. I&#39;m confused as well about how to use waits and expected conditions but its better than nothing. I wanted to ask if you do any tutoring or would be interested in it? I&#39;m willing to pay. I don&#39;t want the answers, I want to understand what needs to be done and how its happening.","body":"@pcalkins wanted to thank you again for the help over the last two days. I&#39;m confused as well about how to use waits and expected conditions but its better than nothing. I wanted to ask if you do any tutoring or would be interested in it? I&#39;m willing to pay. I don&#39;t want the answers, I want to understand what needs to be done and how its happening."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680034671,"post_id":75859131,"comment_id":133827556,"body_markdown":"I don&#39;t.  I can say that when I want to learning something I read a lot.  If you feel you need more than the tutorial at selenium.dev (and I don&#39;t blame you, it&#39;s not the best documentation), buy a book on Java and Selenium and read through that.  Once you&#39;re done reading just go about your task and things will start to click as you get things done and the grokking begins!  (it also helps if you have a good grasp on HTML, Javascript and some server-side language too...)","body":"I don&#39;t.  I can say that when I want to learning something I read a lot.  If you feel you need more than the tutorial at selenium.dev (and I don&#39;t blame you, it&#39;s not the best documentation), buy a book on Java and Selenium and read through that.  Once you&#39;re done reading just go about your task and things will start to click as you get things done and the grokking begins!  (it also helps if you have a good grasp on HTML, Javascript and some server-side language too...)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1680112380,"post_id":75859131,"comment_id":133843776,"body_markdown":"You might also find my hobby project useful while learning:  https://www.browsermator.com","body":"You might also find my hobby project useful while learning:  <a href=\"https://www.browsermator.com\" rel=\"nofollow noreferrer\">browsermator.com</a>"}],"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680028420,"creation_date":1679941285,"question_id":75859131,"body_markdown":"I&#39;m working on creating an automation test bed for my job and I&#39;m running into an issue where I can&#39;t access and send through a method with how their html is written.\r\n\r\n```\r\n&lt;div class=&quot;mat-form-field-wrapper ng-tns-c183-3&quot;&gt;\r\n &lt;div class=&quot;mat-form-field-flex ng-tns-c183-3&quot;&gt;\r\n  &lt;div class=&quot;mat-form-field-infix ng-tns-c183-3&quot;&gt;\r\n\r\n   &lt;input _ngcontent-ibj-c243=&quot;&quot; maxlength=&quot;800&quot; matinput=&quot;&quot; \r\n   formcontrolname=&quot;filterValue&quot; class=&quot;mat-input-element mat-form-field- \r\n   autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field- \r\n   autofill-monitored ng-touched&quot; ng-reflect-name=&quot;filterValue&quot; ng-reflect- \r\n   maxlength=&quot;800&quot; id=&quot;mat-input-0&quot; aria-invalid=&quot;false&quot; aria- \r\n   required=&quot;false&quot;&gt;\r\n\r\n  &lt;span class=&quot;mat-form-field-label-wrapper ng-tns-c183-3&quot;&gt;&lt;label \r\n  class=&quot;mat-form-field-label ng-tns-c183-3 mat-empty mat-form-field-empty \r\n  ng-star-inserted&quot; ng-reflect-disabled=&quot;true&quot; id=&quot;mat-form-field-label-3&quot; \r\n  ng-reflect-ng-switch=&quot;true&quot; for=&quot;mat-input-0&quot; aria-owns=&quot;mat-input-0&quot;&gt; \r\n  &lt;mat-label _ngcontent-ibj-c243=&quot;&quot; class=&quot;ng-tns-c183-3 ng-star- \r\n  inserted&quot;&gt;Search&lt;/mat-label&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;true&quot;\r\n}--&gt;&lt;/label&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-if&quot;: &quot;true&quot;\r\n}--&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;mat-form-field-underline ng-tns-c183-3 ng-star-inserted&quot;&gt;&lt;span class=&quot;mat-form-field-ripple ng-tns-c183-3&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-if&quot;: &quot;true&quot;\r\n}--&gt;&lt;div class=&quot;mat-form-field-subscript-wrapper ng-tns-c183-3&quot; ng-reflect-ng-switch=&quot;hint&quot;&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;error&quot;\r\n}--&gt;&lt;div class=&quot;mat-form-field-hint-wrapper ng-tns-c183-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted&quot; style=&quot;opacity: 1; transform: translateY(0%);&quot;&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-if&quot;: &quot;&quot;\r\n}--&gt;&lt;div class=&quot;mat-form-field-hint-spacer ng-tns-c183-3&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;!--bindings={\r\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;hint&quot;\r\n}--&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n \r\n```\r\n[![image of input wrapped][1]][1]\r\nThis is the input that I&#39;m trying to access with the method.\r\n\r\n\r\n\r\n\r\nI&#39;m attempting to pass through a regular set of alphanumerics so that I can perform a search using the search bar.\r\n\r\nThese are all of the methods I&#39;ve tried.\r\n```\r\n//driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search-field\\&quot;]&quot;)).sendKeys(&quot;1000000&quot;);\r\n//driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;1000000&quot;);\r\n//driver.findElement(By.xpath(&quot;//input[@class=&#39;mat-input-element mat-form-field-autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field-autofill-monitored ng-touched&#39;]&quot;)).sendKeys(&quot;1000045949&quot;);\r\n//driver.findElement(By.class(&quot;mat-input-element&quot;)).sendKeys(&quot;1000000);\r\n```\r\n\r\n```\r\nWARNING: Unable to find an exact match for CDP version 111, so returning the closest version found: 110\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#mat\\-input\\-0&quot;}\r\n  (Session info: chrome=111.0.5563.147)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [ac239ea7458d50777e81aa5e2d1214ba, findElement {using=id, value=mat-input-0}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.147, chrome: {chromedriverVersion: 111.0.5563.64 (c710e93d5b63..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:62610}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:62610/devtoo..., se:cdpVersion: 111.0.5563.147, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: ac239ea7458d50777e81aa5e2d1214ba\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\r\n\tat fgi.fgiCreateCode.main(fgiCreateCode.java:35)\r\n```\r\n\r\n```\r\npackage fgi;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class fgiCreateCode {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;xxx&quot;);\r\n\r\n        ChromeOptions options=new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        //Launching the browser\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;xxx&quot;);\r\n\r\n\r\n        driver.manage().window().maximize();\r\n\r\n        Thread.sleep(3000);\r\n\r\n        driver.switchTo().frame(0);\r\n\r\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xxx&quot;);\r\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xxx&quot;);\r\n        driver.findElement(By.xpath(&quot;//button[@class=&#39;btn btn-primary&#39;]&quot;)).click();\r\n        Thread.sleep(5000);\r\n\r\n        //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search-field\\&quot;]&quot;)).sendKeys(&quot;xxx&quot;);\r\n        //driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;xxx&quot;);\r\n        //driver.findElement(By.xpath(&quot;//input[@class=&#39;mat-input-element mat-form-field-autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field-autofill-monitored ng-touched&#39;]&quot;)).sendKeys(&quot;xxx&quot;);\r\n\r\n\r\n        driver.close();\r\n    }\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/E4hSH.jpg","title":"Can&#39;t perform sendKeys method in angular webapp","body":"<p>I'm working on creating an automation test bed for my job and I'm running into an issue where I can't access and send through a method with how their html is written.</p>\n<pre><code>&lt;div class=&quot;mat-form-field-wrapper ng-tns-c183-3&quot;&gt;\n &lt;div class=&quot;mat-form-field-flex ng-tns-c183-3&quot;&gt;\n  &lt;div class=&quot;mat-form-field-infix ng-tns-c183-3&quot;&gt;\n\n   &lt;input _ngcontent-ibj-c243=&quot;&quot; maxlength=&quot;800&quot; matinput=&quot;&quot; \n   formcontrolname=&quot;filterValue&quot; class=&quot;mat-input-element mat-form-field- \n   autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field- \n   autofill-monitored ng-touched&quot; ng-reflect-name=&quot;filterValue&quot; ng-reflect- \n   maxlength=&quot;800&quot; id=&quot;mat-input-0&quot; aria-invalid=&quot;false&quot; aria- \n   required=&quot;false&quot;&gt;\n\n  &lt;span class=&quot;mat-form-field-label-wrapper ng-tns-c183-3&quot;&gt;&lt;label \n  class=&quot;mat-form-field-label ng-tns-c183-3 mat-empty mat-form-field-empty \n  ng-star-inserted&quot; ng-reflect-disabled=&quot;true&quot; id=&quot;mat-form-field-label-3&quot; \n  ng-reflect-ng-switch=&quot;true&quot; for=&quot;mat-input-0&quot; aria-owns=&quot;mat-input-0&quot;&gt; \n  &lt;mat-label _ngcontent-ibj-c243=&quot;&quot; class=&quot;ng-tns-c183-3 ng-star- \n  inserted&quot;&gt;Search&lt;/mat-label&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;true&quot;\n}--&gt;&lt;/label&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-if&quot;: &quot;true&quot;\n}--&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;mat-form-field-underline ng-tns-c183-3 ng-star-inserted&quot;&gt;&lt;span class=&quot;mat-form-field-ripple ng-tns-c183-3&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-if&quot;: &quot;true&quot;\n}--&gt;&lt;div class=&quot;mat-form-field-subscript-wrapper ng-tns-c183-3&quot; ng-reflect-ng-switch=&quot;hint&quot;&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;error&quot;\n}--&gt;&lt;div class=&quot;mat-form-field-hint-wrapper ng-tns-c183-3 ng-trigger ng-trigger-transitionMessages ng-star-inserted&quot; style=&quot;opacity: 1; transform: translateY(0%);&quot;&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-if&quot;: &quot;&quot;\n}--&gt;&lt;div class=&quot;mat-form-field-hint-spacer ng-tns-c183-3&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;!--bindings={\n  &quot;ng-reflect-ng-switch-case&quot;: &quot;hint&quot;\n}--&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/E4hSH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4hSH.jpg\" alt=\"image of input wrapped\" /></a>\nThis is the input that I'm trying to access with the method.</p>\n<p>I'm attempting to pass through a regular set of alphanumerics so that I can perform a search using the search bar.</p>\n<p>These are all of the methods I've tried.</p>\n<pre><code>//driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search-field\\&quot;]&quot;)).sendKeys(&quot;1000000&quot;);\n//driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;1000000&quot;);\n//driver.findElement(By.xpath(&quot;//input[@class='mat-input-element mat-form-field-autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field-autofill-monitored ng-touched']&quot;)).sendKeys(&quot;1000045949&quot;);\n//driver.findElement(By.class(&quot;mat-input-element&quot;)).sendKeys(&quot;1000000);\n</code></pre>\n<pre><code>WARNING: Unable to find an exact match for CDP version 111, so returning the closest version found: 110\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#mat\\-input\\-0&quot;}\n  (Session info: chrome=111.0.5563.147)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [ac239ea7458d50777e81aa5e2d1214ba, findElement {using=id, value=mat-input-0}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.147, chrome: {chromedriverVersion: 111.0.5563.64 (c710e93d5b63..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:62610}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:62610/devtoo..., se:cdpVersion: 111.0.5563.147, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: ac239ea7458d50777e81aa5e2d1214ba\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\n    at fgi.fgiCreateCode.main(fgiCreateCode.java:35)\n</code></pre>\n<pre><code>package fgi;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class fgiCreateCode {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;xxx&quot;);\n\n        ChromeOptions options=new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        //Launching the browser\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;xxx&quot;);\n\n\n        driver.manage().window().maximize();\n\n        Thread.sleep(3000);\n\n        driver.switchTo().frame(0);\n\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xxx&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xxx&quot;);\n        driver.findElement(By.xpath(&quot;//button[@class='btn btn-primary']&quot;)).click();\n        Thread.sleep(5000);\n\n        //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;search-field\\&quot;]&quot;)).sendKeys(&quot;xxx&quot;);\n        //driver.findElement(By.id(&quot;mat-input-0&quot;)).sendKeys(&quot;xxx&quot;);\n        //driver.findElement(By.xpath(&quot;//input[@class='mat-input-element mat-form-field-autofill-control ng-tns-c183-3 ng-pristine ng-valid cdk-text-field-autofill-monitored ng-touched']&quot;)).sendKeys(&quot;xxx&quot;);\n\n\n        driver.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680028270,"creation_date":1680026355,"answer_id":75869578,"question_id":75868810,"body_markdown":"The key point you are missing is the contract between _overriding_ and _overloading_. They are entirely different.\r\n\r\n## Overriding\r\n\r\n```\r\nclass A {\r\n  void foo() { System.out.println(&quot;A&quot;); }\r\n}\r\n\r\nclass B extends A {\r\n  void foo() { System.out.println(&quot;B&quot;); }\r\n}\r\n\r\nvoid main() {\r\n  A a1 = new A();\r\n  a1.foo();\r\n  A a2 = new B();\r\n  a2.foo();\r\n}\r\n```\r\n\r\nB&#39;s `foo()` definition _overrides_ A&#39;s foo definition. It does that because its name __and__ its parameter types (both &#39;no parameters&#39; here) are entirely identical to A&#39;s. Java uses dynamic dispatch to do overriding, in other words, the above code prints &#39;A&#39;, then &#39;B&#39;. Even though the `a2` variable type is `A`, the object that this variable is actually pointing at (in java slang, &#39;referencing&#39; - just another word for pointer) is of type B, and due to dynamic dispatch rules, B&#39;s foo() is invoked.\r\n\r\nNote that the signatures have to match _exactly_ for overriding to apply. You can ask the compiler to verify that you are overriding something using the `@Override` annotation. This annotation does nothing (not having it doesn&#39;t mean it isn&#39;t an override), unless the method doesn&#39;t override anything, in which case `javac` will error out when you attempt to compile it. Consider it compiler-checked documentation.\r\n\r\n## Overloading\r\n\r\nIf the method signature does not _match precisely_, then as far as java is concerned, they are 2 __utterly unrelated methods__. In java terminology, that is called an _overload_. Not an _override_:\r\n\r\n```\r\nclass A {\r\n  void foo(String a) {System.out.println(&quot;String&quot;); }\r\n  void foo(Object a) {System.out.println(&quot;Object&quot;): }\r\n}\r\n\r\nvoid main() {\r\n  String x = &quot;&quot;;\r\n  foo(x);\r\n  Object y = &quot;&quot;;\r\n  foo(y);\r\n}\r\n```\r\n\r\nUnlike overrides, overloads are _statically dispatched_. Meaning, the actual type of the thing is immaterial, it&#39;s about the type of the expression at compile time.  Thus, even though both `x` and `y` are pointing at strings, the above prints `String` and then `Object`, because `y` (the variable itself, not the object it points at) is of type `Object`.\r\n\r\n## Explaining your snippet\r\n\r\nYou&#39;ve got a weird combo of overrides and overloads. Specifically,\r\n\r\nB&#39;s `f(A obj)` is an _override_ - it overrides A&#39;s `f(A obj)`. However, B&#39;s `f(D obj)` is an _overload_ - it doesn&#39;t override anything. If you slap a `@Override` annotation on there, it would produce a compiler error. Hence, B, the type, has 3 __completely unrelated__ methods:\r\n\r\n* foo(A)\r\n* foo(B)\r\n* foo(C)\r\n\r\nWhich implementation ends up being used is not something javac cares about, that&#39;s java&#39;s (the runtime)&#39;s problem. Javac just figures out which of the 3 methods is meant, and writes that into the produced class file. Java.exe will figure out from the receiver&#39;s _actual type_ (the `z` in `z.foo(x)` is called the &#39;received&#39;) which implementation to invoke).\r\n\r\nThus:\r\n\r\n```java\r\nSystem.out.println(a2.f(b));\r\n```\r\n\r\nThe compiler goes:\r\n\r\n`a2` is of type `A` (that it is at runtime actually pointing at an instance of B is immaterial here, we&#39;re still compiling, we&#39;re not running anything yet). A has 2 methods, both named foo: `foo(A)` and `foo(D)`.\r\n\r\nYou are passing an expression to it of type `B`. Given that B is not a D, But all Bs are As, clearlyt then you meant `foo(A)`, and javac will dutifully encode a call to `A::foo(A)` into the class file.\r\n\r\nAt runtime, java sees this, checks the actual receiver&#39;s type which ends up being an instance of B, and calls B&#39;s override of `foo(A)`, which prints B &amp; A.\r\n\r\n-------\r\n\r\n```java\r\nSystem.out.println(a2.f(c));\r\n```\r\n\r\nExplanation is identical.\r\n\r\n-------\r\n\r\n```java\r\n        System.out.println(a2.f(d));\r\n```\r\n\r\nAh, now, the compiler can tell: `d`, the variable (not the object it points at) is of type `D`, therefore, the compiler writes this into the class file as a call to `A::foo(d)`. At runtime, You get `A &amp; D`, because whilst the object `a2` points at is of type `B`, B has not overridden foo&#39;s `foo(D)` method.\r\n\r\n-------\r\n\r\nUsing the same logic, you can explain every answer. I&#39;ll leave the rest as an exercise to the reader :)\r\n","title":"Casting of hierarichally overrided method - Java","body":"<p>The key point you are missing is the contract between <em>overriding</em> and <em>overloading</em>. They are entirely different.</p>\n<h2>Overriding</h2>\n<pre><code>class A {\n  void foo() { System.out.println(&quot;A&quot;); }\n}\n\nclass B extends A {\n  void foo() { System.out.println(&quot;B&quot;); }\n}\n\nvoid main() {\n  A a1 = new A();\n  a1.foo();\n  A a2 = new B();\n  a2.foo();\n}\n</code></pre>\n<p>B's <code>foo()</code> definition <em>overrides</em> A's foo definition. It does that because its name <strong>and</strong> its parameter types (both 'no parameters' here) are entirely identical to A's. Java uses dynamic dispatch to do overriding, in other words, the above code prints 'A', then 'B'. Even though the <code>a2</code> variable type is <code>A</code>, the object that this variable is actually pointing at (in java slang, 'referencing' - just another word for pointer) is of type B, and due to dynamic dispatch rules, B's foo() is invoked.</p>\n<p>Note that the signatures have to match <em>exactly</em> for overriding to apply. You can ask the compiler to verify that you are overriding something using the <code>@Override</code> annotation. This annotation does nothing (not having it doesn't mean it isn't an override), unless the method doesn't override anything, in which case <code>javac</code> will error out when you attempt to compile it. Consider it compiler-checked documentation.</p>\n<h2>Overloading</h2>\n<p>If the method signature does not <em>match precisely</em>, then as far as java is concerned, they are 2 <strong>utterly unrelated methods</strong>. In java terminology, that is called an <em>overload</em>. Not an <em>override</em>:</p>\n<pre><code>class A {\n  void foo(String a) {System.out.println(&quot;String&quot;); }\n  void foo(Object a) {System.out.println(&quot;Object&quot;): }\n}\n\nvoid main() {\n  String x = &quot;&quot;;\n  foo(x);\n  Object y = &quot;&quot;;\n  foo(y);\n}\n</code></pre>\n<p>Unlike overrides, overloads are <em>statically dispatched</em>. Meaning, the actual type of the thing is immaterial, it's about the type of the expression at compile time.  Thus, even though both <code>x</code> and <code>y</code> are pointing at strings, the above prints <code>String</code> and then <code>Object</code>, because <code>y</code> (the variable itself, not the object it points at) is of type <code>Object</code>.</p>\n<h2>Explaining your snippet</h2>\n<p>You've got a weird combo of overrides and overloads. Specifically,</p>\n<p>B's <code>f(A obj)</code> is an <em>override</em> - it overrides A's <code>f(A obj)</code>. However, B's <code>f(D obj)</code> is an <em>overload</em> - it doesn't override anything. If you slap a <code>@Override</code> annotation on there, it would produce a compiler error. Hence, B, the type, has 3 <strong>completely unrelated</strong> methods:</p>\n<ul>\n<li>foo(A)</li>\n<li>foo(B)</li>\n<li>foo(C)</li>\n</ul>\n<p>Which implementation ends up being used is not something javac cares about, that's java's (the runtime)'s problem. Javac just figures out which of the 3 methods is meant, and writes that into the produced class file. Java.exe will figure out from the receiver's <em>actual type</em> (the <code>z</code> in <code>z.foo(x)</code> is called the 'received') which implementation to invoke).</p>\n<p>Thus:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(a2.f(b));\n</code></pre>\n<p>The compiler goes:</p>\n<p><code>a2</code> is of type <code>A</code> (that it is at runtime actually pointing at an instance of B is immaterial here, we're still compiling, we're not running anything yet). A has 2 methods, both named foo: <code>foo(A)</code> and <code>foo(D)</code>.</p>\n<p>You are passing an expression to it of type <code>B</code>. Given that B is not a D, But all Bs are As, clearlyt then you meant <code>foo(A)</code>, and javac will dutifully encode a call to <code>A::foo(A)</code> into the class file.</p>\n<p>At runtime, java sees this, checks the actual receiver's type which ends up being an instance of B, and calls B's override of <code>foo(A)</code>, which prints B &amp; A.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(a2.f(c));\n</code></pre>\n<p>Explanation is identical.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>        System.out.println(a2.f(d));\n</code></pre>\n<p>Ah, now, the compiler can tell: <code>d</code>, the variable (not the object it points at) is of type <code>D</code>, therefore, the compiler writes this into the class file as a call to <code>A::foo(d)</code>. At runtime, You get <code>A &amp; D</code>, because whilst the object <code>a2</code> points at is of type <code>B</code>, B has not overridden foo's <code>foo(D)</code> method.</p>\n<hr />\n<p>Using the same logic, you can explain every answer. I'll leave the rest as an exercise to the reader :)</p>\n"}],"owner":{"account_id":24104556,"reputation":187,"user_id":18075950,"display_name":"Suleyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75869578,"answer_count":1,"score":0,"last_activity_date":1680028270,"creation_date":1680021135,"question_id":75868810,"body_markdown":"I have a code snippet:\r\n\r\n```java\r\nclass A {\r\n    public String f(A obj) { return (&quot;A &amp; A&quot;);}\r\n    public String f(D obj) { return (&quot;A &amp; D&quot;);}\r\n}\r\n\r\nclass B extends A {\r\n    public String f(A obj) { return (&quot;B &amp; A&quot;);}\r\n    public String f(B obj) { return (&quot;B &amp; B&quot;);}\r\n}\r\n\r\nclass C extends B{\r\n}\r\n\r\nclass D extends B{\r\n}\r\n\r\nclass Test {\r\n    public static void main (String [] args){\r\n        A a1 = new A();\r\n        A a2 = new B();\r\n        B b = new B();\r\n        C c = new C();\r\n        D d = new D();\r\n        System.out.println(a1.f(b));\r\n        System.out.println(a1.f(c));\r\n        System.out.println(a1.f(d));\r\n        System.out.println(a2.f(b));\r\n        System.out.println(a2.f(c));\r\n        System.out.println(a2.f(d));\r\n        System.out.println(b.f(b));\r\n        System.out.println(b.f(c));\r\n        System.out.println(b.f(d));\r\n    }\r\n}\r\n```\r\n\r\nThe answer is:\r\n```\r\nA &amp; A\r\nA &amp; A\r\nA &amp; D\r\nB &amp; A\r\nB &amp; A\r\nA &amp; D\r\nB &amp; B\r\nB &amp; B\r\nA &amp; D\r\n```\r\n\r\nBut I don&#39;t understand why starting from `a2.f(b)`. Can someone explain me the logic behind these ? Because there is casting of hierirchally overrided method and I&#39;m totally lost.","title":"Casting of hierarichally overrided method - Java","body":"<p>I have a code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    public String f(A obj) { return (&quot;A &amp; A&quot;);}\n    public String f(D obj) { return (&quot;A &amp; D&quot;);}\n}\n\nclass B extends A {\n    public String f(A obj) { return (&quot;B &amp; A&quot;);}\n    public String f(B obj) { return (&quot;B &amp; B&quot;);}\n}\n\nclass C extends B{\n}\n\nclass D extends B{\n}\n\nclass Test {\n    public static void main (String [] args){\n        A a1 = new A();\n        A a2 = new B();\n        B b = new B();\n        C c = new C();\n        D d = new D();\n        System.out.println(a1.f(b));\n        System.out.println(a1.f(c));\n        System.out.println(a1.f(d));\n        System.out.println(a2.f(b));\n        System.out.println(a2.f(c));\n        System.out.println(a2.f(d));\n        System.out.println(b.f(b));\n        System.out.println(b.f(c));\n        System.out.println(b.f(d));\n    }\n}\n</code></pre>\n<p>The answer is:</p>\n<pre><code>A &amp; A\nA &amp; A\nA &amp; D\nB &amp; A\nB &amp; A\nA &amp; D\nB &amp; B\nB &amp; B\nA &amp; D\n</code></pre>\n<p>But I don't understand why starting from <code>a2.f(b)</code>. Can someone explain me the logic behind these ? Because there is casting of hierirchally overrided method and I'm totally lost.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680027905,"post_id":75869535,"comment_id":133826026,"body_markdown":"The error message means that a port that the java wants to listen to is already being listened to. I suspect that it is the port 2345. The following needs to come out of the while(true) loop: server = new ServerSocket(2345). Alternatively you unintentionally have another instance of this process running already.","body":"The error message means that a port that the java wants to listen to is already being listened to. I suspect that it is the port 2345. The following needs to come out of the while(true) loop: server = new ServerSocket(2345). Alternatively you unintentionally have another instance of this process running already."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1680028111,"post_id":75869535,"comment_id":133826061,"body_markdown":"Good catch! I missed that.","body":"Good catch! I missed that."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680027905,"creation_date":1680027905,"answer_id":75869791,"question_id":75869535,"body_markdown":"Your log shows two different exceptions (NullPointerException and BindException), which might be directly related or not.\r\n\r\nFor the BindException, check what process is occupying the address you intend to use. Very likely it is your own server, but you can verify by following\r\nhttps://stackoverflow.com/questions/48198/how-do-i-find-out-which-process-is-listening-on-a-tcp-or-udp-port-on-windows\r\nor https://stackoverflow.com/questions/126002/what-processes-are-using-which-ports-on-unix\r\n\r\nFor the NullPointerException check the stack trace (maybe you can improve your code to provide one) to find out where in your source code the reference gets resolved and work around that.\r\nJust by looking at your code I guess the NullPointerException occurs at Server.getRectangle() as it is getting called before a rectangle was received via the network.","title":"Exception in thread &quot;Server Thread&quot; java.lang.RuntimeException: java.net.BindException: Address already in use: bind","body":"<p>Your log shows two different exceptions (NullPointerException and BindException), which might be directly related or not.</p>\n<p>For the BindException, check what process is occupying the address you intend to use. Very likely it is your own server, but you can verify by following\n<a href=\"https://stackoverflow.com/questions/48198/how-do-i-find-out-which-process-is-listening-on-a-tcp-or-udp-port-on-windows\">How do I find out which process is listening on a TCP or UDP port on Windows?</a>\nor <a href=\"https://stackoverflow.com/questions/126002/what-processes-are-using-which-ports-on-unix\">What processes are using which ports on unix?</a></p>\n<p>For the NullPointerException check the stack trace (maybe you can improve your code to provide one) to find out where in your source code the reference gets resolved and work around that.\nJust by looking at your code I guess the NullPointerException occurs at Server.getRectangle() as it is getting called before a rectangle was received via the network.</p>\n"}],"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75869791,"answer_count":1,"score":-1,"last_activity_date":1680027905,"creation_date":1680026085,"question_id":75869535,"body_markdown":"**Error:**\r\n\r\n    [!] Server waiting.\r\n    Cannot invoke &quot;task2.SerializableRectangle.getX()&quot; because &quot;this.m_rectangle&quot; is null\r\n    Rectangle (Object) (10.0,10.0,200.0,200.0).\r\n    Exception in thread &quot;Server Thread&quot; java.lang.RuntimeException: java.net.BindException: Address already in use: bind\r\n    \tat task2.Server.run(Server.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.net.BindException: Address already in use: bind\r\n    \tat java.base/sun.nio.ch.Net.bind0(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n    \tat java.base/sun.nio.ch.Net.bind(Net.java:544)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:629)\r\n    \tat java.base/java.net.ServerSocket.bind(ServerSocket.java:393)\r\n    \tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:275)\r\n    \tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:168)\r\n    \tat task2.Server.run(Server.java:17)\r\n    \t... 1 more\r\n\r\n**Objective:**\r\nI am trying to have a Server with `JavaFx` running and then send an serialized description for a `Graphics` object and have the Server draw it on `JavaFx` Canvas.\r\n\r\n**Server.java:**\r\n\r\n    public class Server implements Runnable {\r\n        private SerializableRectangle m_rectangle = null;\r\n        @Override\r\n        public void run() {\r\n            ServerSocket server = null;\r\n            try {\r\n                while(true) {\r\n    \r\n                    server = new ServerSocket(2345);\r\n                    System.out.println(&quot;[!] Server waiting.&quot;);\r\n    \r\n                    Socket pipe = null;\r\n                    pipe = server.accept();\r\n    \r\n                    ObjectInputStream serverInputStream = new ObjectInputStream(pipe.getInputStream());\r\n                    m_rectangle = (SerializableRectangle) serverInputStream.readObject();\r\n    \r\n                    System.out.println(m_rectangle.toString());\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public Rectangle getRectangle(){\r\n            return new Rectangle(\r\n                    (int)m_rectangle.getX(),\r\n                    (int)m_rectangle.getY(),\r\n                    (int)m_rectangle.getWidth(),\r\n                    (int)m_rectangle.getHeight()\r\n            );\r\n        }\r\n    }\r\n\r\n**ServerApplication.java:**\r\n\r\n    public class ServerApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            stage.setTitle(&quot;Server Application&quot;);\r\n            Group root = new Group();\r\n            Canvas canvas = new Canvas(300, 250);\r\n            GraphicsContext context = canvas.getGraphicsContext2D();\r\n            drawShape(context);\r\n            root.getChildren().add(canvas);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }\r\n    \r\n        private void drawShape(GraphicsContext context)\r\n        {\r\n            try{\r\n                Server server = new Server();\r\n                Thread serverThread = (new Thread(server));\r\n                serverThread.setName(&quot;Server Thread&quot;);\r\n                serverThread.setDaemon(true);\r\n                serverThread.start();\r\n    \r\n                Rectangle rect = server.getRectangle();\r\n                context.fillRect(rect.getX(), rect.getY(), rect.getWidth(), rect.getHeight());\r\n                context.setStroke(Color.BLUE);\r\n    \r\n            }catch (Exception ex){\r\n                System.out.println(ex.getMessage());\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**Client.java:**\r\n\r\n    public class Client {\r\n        public static void main(String[] args) {\r\n            Socket socket = null;\r\n            try {\r\n                socket = new Socket(InetAddress.getLocalHost(), 2345);\r\n    \r\n                ObjectOutputStream clientOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n                clientOutputStream.writeObject(new SerializableRectangle(10, 10, 200, 200));\r\n                clientOutputStream.close();\r\n    \r\n            } catch (UnknownHostException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }","title":"Exception in thread &quot;Server Thread&quot; java.lang.RuntimeException: java.net.BindException: Address already in use: bind","body":"<p><strong>Error:</strong></p>\n<pre><code>[!] Server waiting.\nCannot invoke &quot;task2.SerializableRectangle.getX()&quot; because &quot;this.m_rectangle&quot; is null\nRectangle (Object) (10.0,10.0,200.0,200.0).\nException in thread &quot;Server Thread&quot; java.lang.RuntimeException: java.net.BindException: Address already in use: bind\n    at task2.Server.run(Server.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.net.BindException: Address already in use: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n    at java.base/sun.nio.ch.Net.bind(Net.java:544)\n    at java.base/sun.nio.ch.NioSocketImpl.bind(NioSocketImpl.java:629)\n    at java.base/java.net.ServerSocket.bind(ServerSocket.java:393)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:275)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:168)\n    at task2.Server.run(Server.java:17)\n    ... 1 more\n</code></pre>\n<p><strong>Objective:</strong>\nI am trying to have a Server with <code>JavaFx</code> running and then send an serialized description for a <code>Graphics</code> object and have the Server draw it on <code>JavaFx</code> Canvas.</p>\n<p><strong>Server.java:</strong></p>\n<pre><code>public class Server implements Runnable {\n    private SerializableRectangle m_rectangle = null;\n    @Override\n    public void run() {\n        ServerSocket server = null;\n        try {\n            while(true) {\n\n                server = new ServerSocket(2345);\n                System.out.println(&quot;[!] Server waiting.&quot;);\n\n                Socket pipe = null;\n                pipe = server.accept();\n\n                ObjectInputStream serverInputStream = new ObjectInputStream(pipe.getInputStream());\n                m_rectangle = (SerializableRectangle) serverInputStream.readObject();\n\n                System.out.println(m_rectangle.toString());\n            }\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public Rectangle getRectangle(){\n        return new Rectangle(\n                (int)m_rectangle.getX(),\n                (int)m_rectangle.getY(),\n                (int)m_rectangle.getWidth(),\n                (int)m_rectangle.getHeight()\n        );\n    }\n}\n</code></pre>\n<p><strong>ServerApplication.java:</strong></p>\n<pre><code>public class ServerApplication extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setTitle(&quot;Server Application&quot;);\n        Group root = new Group();\n        Canvas canvas = new Canvas(300, 250);\n        GraphicsContext context = canvas.getGraphicsContext2D();\n        drawShape(context);\n        root.getChildren().add(canvas);\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    private void drawShape(GraphicsContext context)\n    {\n        try{\n            Server server = new Server();\n            Thread serverThread = (new Thread(server));\n            serverThread.setName(&quot;Server Thread&quot;);\n            serverThread.setDaemon(true);\n            serverThread.start();\n\n            Rectangle rect = server.getRectangle();\n            context.fillRect(rect.getX(), rect.getY(), rect.getWidth(), rect.getHeight());\n            context.setStroke(Color.BLUE);\n\n        }catch (Exception ex){\n            System.out.println(ex.getMessage());\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>Client.java:</strong></p>\n<pre><code>public class Client {\n    public static void main(String[] args) {\n        Socket socket = null;\n        try {\n            socket = new Socket(InetAddress.getLocalHost(), 2345);\n\n            ObjectOutputStream clientOutputStream = new ObjectOutputStream(socket.getOutputStream());\n            clientOutputStream.writeObject(new SerializableRectangle(10, 10, 200, 200));\n            clientOutputStream.close();\n\n        } catch (UnknownHostException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rsa","saml","keytool"],"comments":[{"owner":{"account_id":1931337,"reputation":2684,"user_id":1740662,"display_name":"Bernhard Thalmayr"},"score":0,"creation_date":1569619642,"post_id":58136994,"comment_id":102669183,"body_markdown":"You can just generate a key pair via keytool or openssl, you do not need the saml tools. The public key is enclosed in the certificate, which is more or less the public key singed with the private key of the issuing party.","body":"You can just generate a key pair via keytool or openssl, you do not need the saml tools. The public key is enclosed in the certificate, which is more or less the public key singed with the private key of the issuing party."}],"answers":[{"tags":[],"owner":{"account_id":3715511,"reputation":1234,"user_id":3091835,"display_name":"winstonhong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680027618,"creation_date":1569624843,"answer_id":58142043,"question_id":58136994,"body_markdown":"**Question**: \r\n\r\nI am trying to generate a private/public key pair in X.509 format along with a self signed cert which I need to use for my SAML application.\r\n\r\n**Answer**:&lt;br&gt; \r\n\r\n(1) On Ubuntu 22.04, I run the following native openssl command to generate a private/public key pair in X.509 format for a Shibboleth SAML SP application successfully.\r\n```\r\nopenssl genrsa -out key.pem 2048\r\nopenssl req -new -key key.pem -out certreq.csr -days 365\r\nopenssl x509 -req -in certreq.csr -signkey key.pem -out cert.pem\r\n```\r\n\r\n(2) I upload the generated public cert/key (i.e., cert.pem) of the Shibboleth SAML SP application to a Shibboleth SAML IdP.\r\n\r\n(3) I log in to the Shibboleth SAML SP application successfully through the authentication provided by Shibboleth SAML IdP and OpenLDAP.\r\n\r\n**Remark**:\r\n\r\n(I) Please ensure that the IdP or SP database defines sufficient length for Type which is used to store public cert/key or private key, e.g., varchar(2500). \r\n\r\n(II) If you run the openssl command under Windows environment, please check my answer for another StackOverflow question [Git status ignore line endings / identical files / windows &amp; linux environment / dropbox / mled](https://stackoverflow.com/questions/20496084/git-status-ignore-line-endings-identical-files-windows-linux-environment/49324186#49324186) to remove &quot;premature EOF&quot; from the end of private key and public cert/key.\r\n\r\n(III) [How to build and run Shibboleth SAML IdP and SP using Docker container](https://github.com/winstonhong/Shibboleth-SAML-IdP-and-SP) at GitHub repository provide an instruction on how to build and run a Shibboleth SAML IdP and SAML SP testbed to test your SAML SP application. \r\n\r\nThe standalone Shibboleth SAML IdP testbed allows you to check the log to debug your certificate issue.","title":"Keytool - Generate Public key in X.509 format using existing private key","body":"<p><strong>Question</strong>:</p>\n<p>I am trying to generate a private/public key pair in X.509 format along with a self signed cert which I need to use for my SAML application.</p>\n<p><strong>Answer</strong>:<br></p>\n<p>(1) On Ubuntu 22.04, I run the following native openssl command to generate a private/public key pair in X.509 format for a Shibboleth SAML SP application successfully.</p>\n<pre><code>openssl genrsa -out key.pem 2048\nopenssl req -new -key key.pem -out certreq.csr -days 365\nopenssl x509 -req -in certreq.csr -signkey key.pem -out cert.pem\n</code></pre>\n<p>(2) I upload the generated public cert/key (i.e., cert.pem) of the Shibboleth SAML SP application to a Shibboleth SAML IdP.</p>\n<p>(3) I log in to the Shibboleth SAML SP application successfully through the authentication provided by Shibboleth SAML IdP and OpenLDAP.</p>\n<p><strong>Remark</strong>:</p>\n<p>(I) Please ensure that the IdP or SP database defines sufficient length for Type which is used to store public cert/key or private key, e.g., varchar(2500).</p>\n<p>(II) If you run the openssl command under Windows environment, please check my answer for another StackOverflow question <a href=\"https://stackoverflow.com/questions/20496084/git-status-ignore-line-endings-identical-files-windows-linux-environment/49324186#49324186\">Git status ignore line endings / identical files / windows &amp; linux environment / dropbox / mled</a> to remove &quot;premature EOF&quot; from the end of private key and public cert/key.</p>\n<p>(III) <a href=\"https://github.com/winstonhong/Shibboleth-SAML-IdP-and-SP\" rel=\"nofollow noreferrer\">How to build and run Shibboleth SAML IdP and SP using Docker container</a> at GitHub repository provide an instruction on how to build and run a Shibboleth SAML IdP and SAML SP testbed to test your SAML SP application.</p>\n<p>The standalone Shibboleth SAML IdP testbed allows you to check the log to debug your certificate issue.</p>\n"}],"owner":{"account_id":16076681,"reputation":479,"user_id":11603750,"display_name":"Killer Beast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58142043,"answer_count":1,"score":1,"last_activity_date":1680027618,"creation_date":1569596229,"question_id":58136994,"body_markdown":"I am trying to generate a private/public key pair in `X.509` format along with a self signed cert which I need to use for my SAML application.\r\n\r\nHere is what I have done:\r\n\r\n 1. Generate Self Signed Cert and Private Key from [here][1] and save\r\n    them in `.pem` format.\r\n 2. Use the private key and generate a public key\r\n    with the command `openssl rsa -in key.pem -pubout -out pubkey.pem`\r\n\r\nWhen I give these keys to my SAML application, it errors out on the public key generated on step 2 with the following message:\r\n\r\n`java.io.IOException: Short read of DER length`\r\n\r\nWhat&#39;s that I am doing wrong here? \r\n\r\n\r\n  [1]: https://www.samltool.com/self_signed_certs.php","title":"Keytool - Generate Public key in X.509 format using existing private key","body":"<p>I am trying to generate a private/public key pair in <code>X.509</code> format along with a self signed cert which I need to use for my SAML application.</p>\n\n<p>Here is what I have done:</p>\n\n<ol>\n<li>Generate Self Signed Cert and Private Key from <a href=\"https://www.samltool.com/self_signed_certs.php\" rel=\"nofollow noreferrer\">here</a> and save\nthem in <code>.pem</code> format.</li>\n<li>Use the private key and generate a public key\nwith the command <code>openssl rsa -in key.pem -pubout -out pubkey.pem</code></li>\n</ol>\n\n<p>When I give these keys to my SAML application, it errors out on the public key generated on step 2 with the following message:</p>\n\n<p><code>java.io.IOException: Short read of DER length</code></p>\n\n<p>What's that I am doing wrong here? </p>\n"},{"tags":["java","microservices","openshift","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679675361,"creation_date":1679675361,"answer_id":75836133,"question_id":75836029,"body_markdown":"Your expectations for a Pub/Sub topic do not match It&#39;s ise case or capabilities.\r\n\r\nIf want only a single receiver to process a message then you should be using a **queue** and **a** command, not events.\r\n\r\nWhen using events and Pub/Sub (topics) with multiple subscribers doing the same task, then you have to make sure that the event processing is idempotent.","title":"How can I configure AMQ broker on Openshift 4 to ensure messages are consumed by only one pod in a publish-subscriber model?","body":"<p>Your expectations for a Pub/Sub topic do not match It's ise case or capabilities.</p>\n<p>If want only a single receiver to process a message then you should be using a <strong>queue</strong> and <strong>a</strong> command, not events.</p>\n<p>When using events and Pub/Sub (topics) with multiple subscribers doing the same task, then you have to make sure that the event processing is idempotent.</p>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680027424,"creation_date":1679766928,"answer_id":75843561,"question_id":75836029,"body_markdown":"Since you&#39;re using ActiveMQ Artemis you can use the shared subscription functionality introduced in JMS 2. When configuring your `DefaultJmsListenerContainerFactory` use [`setSubscriptionShared`][1]:\r\n\r\n```java\r\nfactory.setPubSubDomain(true);\r\nfactory.setSubscriptionShared(true);\r\nreturn factory;\r\n```\r\nThen on your listener you can set the subscription name, e.g.:\r\n```java\r\n@JmsListener(destination = &quot;${queue.dummyObject}&quot;,\r\n             subscription = &quot;mySubscriptionName&quot;,\r\n             containerFactory = &quot;jmsListenerContainerPublisherFactory&quot;)\r\n```\r\nEach *set* of subscribers will need to use a unique subscription name so that only one of them receives the message rather than all of them.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html#setSubscriptionShared(boolean)\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html#setSubscriptionName(java.lang.String)","title":"How can I configure AMQ broker on Openshift 4 to ensure messages are consumed by only one pod in a publish-subscriber model?","body":"<p>Since you're using ActiveMQ Artemis you can use the shared subscription functionality introduced in JMS 2. When configuring your <code>DefaultJmsListenerContainerFactory</code> use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/AbstractMessageListenerContainer.html#setSubscriptionShared(boolean)\" rel=\"nofollow noreferrer\"><code>setSubscriptionShared</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>factory.setPubSubDomain(true);\nfactory.setSubscriptionShared(true);\nreturn factory;\n</code></pre>\n<p>Then on your listener you can set the subscription name, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;${queue.dummyObject}&quot;,\n             subscription = &quot;mySubscriptionName&quot;,\n             containerFactory = &quot;jmsListenerContainerPublisherFactory&quot;)\n</code></pre>\n<p>Each <em>set</em> of subscribers will need to use a unique subscription name so that only one of them receives the message rather than all of them.</p>\n"}],"owner":{"account_id":5331841,"reputation":63,"user_id":4252229,"display_name":"simyaci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843561,"answer_count":2,"score":0,"last_activity_date":1680027424,"creation_date":1679674769,"question_id":75836029,"body_markdown":"I am using Openshift 4 to deploy multiple microservices which are connected via an AMQ broker using a publish-subscribe messaging model. However, when I increase number of pod to 2,  I am running into an issue where all pods are consuming the same message, rather than just one. \r\n\r\nCan someone suggest how to configure java code below or the AMQ broker to ensure that messages are consumed by only one pod in a publish-subscriber model? Are there any specific settings I should be aware of or changes I need to make to my configuration? Thank you.\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; jmsListenerContainerPublisherFactory(ConnectionFactory connectionFactory,\r\n                                                                                                             DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setErrorHandler(throwable -&gt; {\r\n            log.info(&quot;An error has occurred in the transaction: &quot; + throwable.getMessage());\r\n            log.error(&quot;Error: &quot;, throwable);\r\n        });\r\n        configurer.configure(factory, connectionFactory);\r\n        factory.setPubSubDomain(true);\r\n        return factory;\r\n    }\r\n\r\nListener:\r\n\r\n\r\n    @JmsListener(destination = &quot;${queue.dummyObject}&quot;,\r\n            containerFactory = &quot;jmsListenerContainerPublisherFactory&quot;)\r\n    public void onConsumePublishedMessage(String message) throws JsonProcessingException {\r\n        DummyObjectDTO dummyObjectDTO = mapper.readValue(message, DummyObjectDTO.class);\r\n        LOG.info(&quot; Received onConsumePublishedMessage message : &quot; + dummyObjectDTO);\r\n    }\r\n\r\n\r\nProducer:\r\n\r\n    private  &lt;T&gt; T  sendFeatured(T value, String queue, boolean publish, Selector selector) {\r\n        *\r\n        *\r\n        jmsTemplate.setPubSubDomain(true);\r\n        jmsTemplate.convertAndSend(queue, objectAsJson);\r\n        *\r\n        *\r\n        return value;\r\n    }","title":"How can I configure AMQ broker on Openshift 4 to ensure messages are consumed by only one pod in a publish-subscriber model?","body":"<p>I am using Openshift 4 to deploy multiple microservices which are connected via an AMQ broker using a publish-subscribe messaging model. However, when I increase number of pod to 2,  I am running into an issue where all pods are consuming the same message, rather than just one.</p>\n<p>Can someone suggest how to configure java code below or the AMQ broker to ensure that messages are consumed by only one pod in a publish-subscriber model? Are there any specific settings I should be aware of or changes I need to make to my configuration? Thank you.</p>\n<p>Configuration:</p>\n<pre><code>@Bean\npublic JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; jmsListenerContainerPublisherFactory(ConnectionFactory connectionFactory,\n                                                                                                         DefaultJmsListenerContainerFactoryConfigurer configurer) {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setErrorHandler(throwable -&gt; {\n        log.info(&quot;An error has occurred in the transaction: &quot; + throwable.getMessage());\n        log.error(&quot;Error: &quot;, throwable);\n    });\n    configurer.configure(factory, connectionFactory);\n    factory.setPubSubDomain(true);\n    return factory;\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@JmsListener(destination = &quot;${queue.dummyObject}&quot;,\n        containerFactory = &quot;jmsListenerContainerPublisherFactory&quot;)\npublic void onConsumePublishedMessage(String message) throws JsonProcessingException {\n    DummyObjectDTO dummyObjectDTO = mapper.readValue(message, DummyObjectDTO.class);\n    LOG.info(&quot; Received onConsumePublishedMessage message : &quot; + dummyObjectDTO);\n}\n</code></pre>\n<p>Producer:</p>\n<pre><code>private  &lt;T&gt; T  sendFeatured(T value, String queue, boolean publish, Selector selector) {\n    *\n    *\n    jmsTemplate.setPubSubDomain(true);\n    jmsTemplate.convertAndSend(queue, objectAsJson);\n    *\n    *\n    return value;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","multipartfile"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680027571,"post_id":75869644,"comment_id":133825944,"body_markdown":"Is the problem that the new images do not get written to C:/Users/felix/Documents/Programmeren/Advanced Programming Techniques/eindOpdracht/eindOpdracht/src/main/resources/static/images/ or that the images there do not get displayed?","body":"Is the problem that the new images do not get written to C:/Users/felix/Documents/Programmeren/Advanced Programming Techniques/eindOpdracht/eindOpdracht/src/main/resources/stat&zwnj;&#8203;ic/images/ or that the images there do not get displayed?"},{"owner":{"account_id":25837455,"reputation":3,"user_id":19573631,"display_name":"Juanita Pardo Isidoro Rasgado"},"score":0,"creation_date":1680029498,"post_id":75869644,"comment_id":133826369,"body_markdown":"the pictures uploaded are present in the folder (the same folder as the other pictures) and the img code is the same for all images, so that isn&#39;t the problem. So yeah it just doesn&#39;t get displayed. I get this error in the console of the browser: Failed to load resource: the server responded with a status of 404 ()","body":"the pictures uploaded are present in the folder (the same folder as the other pictures) and the img code is the same for all images, so that isn&#39;t the problem. So yeah it just doesn&#39;t get displayed. I get this error in the console of the browser: Failed to load resource: the server responded with a status of 404 ()"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680072562,"post_id":75869644,"comment_id":133832837,"body_markdown":"Maybe add the code that fetches the image files to the question - looks like the problem is there - perhaps a stale list of files is being retained.","body":"Maybe add the code that fetches the image files to the question - looks like the problem is there - perhaps a stale list of files is being retained."}],"owner":{"account_id":25837455,"reputation":3,"user_id":19573631,"display_name":"Juanita Pardo Isidoro Rasgado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680026818,"creation_date":1680026818,"question_id":75869644,"body_markdown":"I making an application where you can upload a picture but the problem is that you cannot see the picture when it is uploaded even though the path name and reference is correct. Pictures who were in my folder already do show up on the site.\r\n\r\nMy html\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Plantenverzorging&lt;/title&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; th:href=&quot;@{mystyle.css}&quot; href=&quot;mystyle.css&quot;/&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;nav class=&quot;navbar navbar-expand-lg navbar-custom&quot;&gt;\r\n        &lt;div class=&quot;container-fluid&quot;&gt;\r\n            &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;Home&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/nav&gt;\r\n    \r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-12&quot;&gt;\r\n                &lt;div&gt;\r\n                    &lt;h1&gt;Plantenverzorging&lt;/h1&gt;\r\n                    &lt;p&gt;Welkom bij Plantenverzorging, de webapplicatie die je helpt om je planten gezond en gelukkig te\r\n                        houden.&lt;/p&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div th:each=&quot;plant : ${plants}&quot; class=&quot;col-md-4&quot;&gt;\r\n                &lt;a th:href=&quot;@{|/plantdetails/${plant.id}|}&quot;&gt;\r\n                    &lt;img th:if=&quot;${plant.image != null}&quot; th:src=&quot;@{${&#39;/images/&#39; + plant.image}}&quot; src=&quot;../static/images/default-plant-image.jpg&quot; class=&quot;img-responsive&quot; th:alt=&quot;${plant.name}&quot;&gt;\r\n                    &lt;img th:unless=&quot;${plant.image != null}&quot; th:src=&quot;@{/images/default-plant-image.jpg}&quot; class=&quot;img-responsive&quot; th:alt=&quot;${plant.name}&quot;&gt;\r\n                &lt;/a&gt;\r\n                &lt;h2 th:text=&quot;${plant.name}&quot;&gt;&lt;/h2&gt;\r\n                &lt;p th:text=&quot;${plant.description}&quot;&gt;&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;div class=&quot;button-container&quot;&gt;\r\n            &lt;a href=&quot;/add&quot; class=&quot;btn btn-success btn-lg&quot;&gt;Add&lt;/a&gt;\r\n            &lt;a class=&quot;btn btn-danger btn-lg&quot; style=&quot;margin-left: 10px;&quot;&gt;Delete&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy controller:\r\n\r\n    package be.thomasmore.eindopdracht.controllers;\r\n    \r\n    import be.thomasmore.eindopdracht.models.Plant;\r\n    import be.thomasmore.eindopdracht.repositories.PlantRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    @Controller\r\n    public class AddController {\r\n        @Autowired\r\n        private PlantRepository plantRepository;\r\n    \r\n        @GetMapping(&quot;/add&quot;)\r\n        public String addPlant(Model model) {\r\n            model.addAttribute(&quot;plant&quot;, new Plant());\r\n            return &quot;add&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/add&quot;)\r\n        public String savePlant(@ModelAttribute(&quot;plant&quot;) Plant plant,\r\n                                @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n            if (!file.isEmpty()) {\r\n                String fileName = file.getOriginalFilename();\r\n                String uploadDir = &quot;C:/Users/felix/Documents/Programmeren/Advanced Programming Techniques/eindOpdracht/eindOpdracht/src/main/resources/static/images/&quot;;\r\n                String filePath = uploadDir + fileName;\r\n                File dest = new File(filePath);\r\n                file.transferTo(dest);\r\n                plant.setImage(fileName);\r\n            }\r\n    \r\n            plantRepository.save(plant);\r\n    \r\n            return &quot;redirect:/&quot;;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand my class: \r\n\r\n    package be.thomasmore.eindopdracht.models;\r\n    \r\n    import jakarta.persistence.*;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    public class Plant {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n        private UUID id;\r\n        private String name;\r\n        private String description;\r\n        private String deadlines;\r\n        private String image;\r\n    \r\n        public Plant() {\r\n        }\r\n    \r\n        public UUID getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(UUID id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getDeadlines() {\r\n            return deadlines;\r\n        }\r\n    \r\n        public void setDeadlines(String deadlines) {\r\n            this.deadlines = deadlines;\r\n        }\r\n    \r\n        public String getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\nHere is a picture of what the website looks like, as you can see the images at first seem to work fine but the images who are uploaded when teh application is running do not get recognized: \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UWx6F.png","title":"Picture does not show up when it is uploaded recently","body":"<p>I making an application where you can upload a picture but the problem is that you cannot see the picture when it is uploaded even though the path name and reference is correct. Pictures who were in my folder already do show up on the site.</p>\n<p>My html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Plantenverzorging&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; th:href=&quot;@{mystyle.css}&quot; href=&quot;mystyle.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-custom&quot;&gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;Home&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n\n&lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-12&quot;&gt;\n            &lt;div&gt;\n                &lt;h1&gt;Plantenverzorging&lt;/h1&gt;\n                &lt;p&gt;Welkom bij Plantenverzorging, de webapplicatie die je helpt om je planten gezond en gelukkig te\n                    houden.&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div th:each=&quot;plant : ${plants}&quot; class=&quot;col-md-4&quot;&gt;\n            &lt;a th:href=&quot;@{|/plantdetails/${plant.id}|}&quot;&gt;\n                &lt;img th:if=&quot;${plant.image != null}&quot; th:src=&quot;@{${'/images/' + plant.image}}&quot; src=&quot;../static/images/default-plant-image.jpg&quot; class=&quot;img-responsive&quot; th:alt=&quot;${plant.name}&quot;&gt;\n                &lt;img th:unless=&quot;${plant.image != null}&quot; th:src=&quot;@{/images/default-plant-image.jpg}&quot; class=&quot;img-responsive&quot; th:alt=&quot;${plant.name}&quot;&gt;\n            &lt;/a&gt;\n            &lt;h2 th:text=&quot;${plant.name}&quot;&gt;&lt;/h2&gt;\n            &lt;p th:text=&quot;${plant.description}&quot;&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;button-container&quot;&gt;\n        &lt;a href=&quot;/add&quot; class=&quot;btn btn-success btn-lg&quot;&gt;Add&lt;/a&gt;\n        &lt;a class=&quot;btn btn-danger btn-lg&quot; style=&quot;margin-left: 10px;&quot;&gt;Delete&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>my controller:</p>\n<pre><code>package be.thomasmore.eindopdracht.controllers;\n\nimport be.thomasmore.eindopdracht.models.Plant;\nimport be.thomasmore.eindopdracht.repositories.PlantRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.File;\nimport java.io.IOException;\n\n@Controller\npublic class AddController {\n    @Autowired\n    private PlantRepository plantRepository;\n\n    @GetMapping(&quot;/add&quot;)\n    public String addPlant(Model model) {\n        model.addAttribute(&quot;plant&quot;, new Plant());\n        return &quot;add&quot;;\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public String savePlant(@ModelAttribute(&quot;plant&quot;) Plant plant,\n                            @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        if (!file.isEmpty()) {\n            String fileName = file.getOriginalFilename();\n            String uploadDir = &quot;C:/Users/felix/Documents/Programmeren/Advanced Programming Techniques/eindOpdracht/eindOpdracht/src/main/resources/static/images/&quot;;\n            String filePath = uploadDir + fileName;\n            File dest = new File(filePath);\n            file.transferTo(dest);\n            plant.setImage(fileName);\n        }\n\n        plantRepository.save(plant);\n\n        return &quot;redirect:/&quot;;\n    }\n\n\n}\n</code></pre>\n<p>and my class:</p>\n<pre><code>package be.thomasmore.eindopdracht.models;\n\nimport jakarta.persistence.*;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.util.UUID;\n\n@Entity\npublic class Plant {\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(columnDefinition = &quot;BINARY(16)&quot;)\n    private UUID id;\n    private String name;\n    private String description;\n    private String deadlines;\n    private String image;\n\n    public Plant() {\n    }\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getDeadlines() {\n        return deadlines;\n    }\n\n    public void setDeadlines(String deadlines) {\n        this.deadlines = deadlines;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n</code></pre>\n<p>Here is a picture of what the website looks like, as you can see the images at first seem to work fine but the images who are uploaded when teh application is running do not get recognized:</p>\n<p><a href=\"https://i.stack.imgur.com/UWx6F.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","web","webview","android-webview"],"answers":[{"tags":[],"owner":{"account_id":28077179,"reputation":1,"user_id":21448832,"display_name":"Riyadh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680026705,"creation_date":1680026667,"answer_id":75869617,"question_id":75803490,"body_markdown":"   The problem has been resolved  \r\n\r\n\r\n \r\n\r\n            if (errorCode != WebViewClient.ERROR_HOST_LOOKUP\r\n                    &amp;&amp;\r\n           errorCode != WebViewClient.ERROR_CONNECT) {\r\n                mWebView.loadUrl(Url1);\r\n            } else {\r\n\r\n                mWebView.loadUrl(Url2);\r\n            }\r\n\r\n\r\n\r\n    }\r\n\r\n","title":"Android Web App - If the connection is successful for url1, else url2?","body":"<p>The problem has been resolved</p>\n<pre><code>        if (errorCode != WebViewClient.ERROR_HOST_LOOKUP\n                &amp;&amp;\n       errorCode != WebViewClient.ERROR_CONNECT) {\n            mWebView.loadUrl(Url1);\n        } else {\n\n            mWebView.loadUrl(Url2);\n        }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":28077179,"reputation":1,"user_id":21448832,"display_name":"Riyadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75869617,"answer_count":1,"score":0,"last_activity_date":1680026705,"creation_date":1679414019,"question_id":75803490,"body_markdown":"I have a webview android app.\r\nThere are countries that block the main domain of the website.\r\n[enter image description here](https://i.stack.imgur.com/ekTIR.jpg)\r\nAnd I have a secondary link to open in these networks - countries.\r\nnote. Website blocking here, is not about malicious websites. Rather, some newspapers and websites do not contain any violations.\r\nI use java\r\nI need to use command\r\n\r\n```\r\n  String url1 = &quot;htttps://domainone.com&quot;;\r\n  String url2 = &quot;htttps://domaintwo.com&quot;;\r\nif \r\n```\r\nurl1 - connection is successful {\r\n```\r\nwebview.loadUrl(url1);\r\n```\r\n}\r\n\r\n```\r\nelse {\r\n    webview.loadUrl(url2);\r\n}\r\n \r\n```\r\n\r\nor\r\nIf the error does not appear\r\nnet::ERR_CONNECTION_RESET\r\n{\r\n\r\n```\r\n\r\n    webview.loadUrl(url1);\r\n\r\n```\r\n\r\n}\r\n```\r\nelse {\r\nwebview.loadUrl(url2);\r\n}\r\n```\r\nneed code showing the method with thanks.\r\n","title":"Android Web App - If the connection is successful for url1, else url2?","body":"<p>I have a webview android app.\nThere are countries that block the main domain of the website.\n<a href=\"https://i.stack.imgur.com/ekTIR.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nAnd I have a secondary link to open in these networks - countries.\nnote. Website blocking here, is not about malicious websites. Rather, some newspapers and websites do not contain any violations.\nI use java\nI need to use command</p>\n<pre><code>  String url1 = &quot;htttps://domainone.com&quot;;\n  String url2 = &quot;htttps://domaintwo.com&quot;;\nif \n</code></pre>\n<p>url1 - connection is successful {</p>\n<pre><code>webview.loadUrl(url1);\n</code></pre>\n<p>}</p>\n<pre><code>else {\n    webview.loadUrl(url2);\n}\n \n</code></pre>\n<p>or\nIf the error does not appear\nnet::ERR_CONNECTION_RESET\n{</p>\n<pre><code>\n    webview.loadUrl(url1);\n\n</code></pre>\n<p>}</p>\n<pre><code>else {\nwebview.loadUrl(url2);\n}\n</code></pre>\n<p>need code showing the method with thanks.</p>\n"},{"tags":["java","android","bottom-sheet","android-bottomsheetdialog","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":27142392,"reputation":11,"user_id":20683092,"display_name":"Victoria Olegovna"},"score":0,"creation_date":1680008394,"post_id":75866583,"comment_id":133820347,"body_markdown":"https://s10.gifyu.com/images/expected.gif  -&gt; Expected Result","body":"<a href=\"https://s10.gifyu.com/images/expected.gif\" rel=\"nofollow noreferrer\">s10.gifyu.com/images/expected.gif</a>  -&gt; Expected Result"}],"owner":{"account_id":27142392,"reputation":11,"user_id":20683092,"display_name":"Victoria Olegovna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680026586,"creation_date":1680008350,"question_id":75866583,"body_markdown":"Good afternoon I have a BottomSheetFragment which contains a ViewPager2 with multiple fragments inside.\r\nThe ViewPager has horizontal scrolling between fragments, but content scrolling within each fragment DOES NOT WORK.\r\n\r\nlayout BottomSheetFragment:\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/bg_bottom_sheet&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;37dp&quot;\r\n        android:layout_height=&quot;5dp&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:src=&quot;@drawable/shape_gray&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rvAnalyticsTabs&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;32dp&quot;\r\n        android:layout_marginHorizontal=&quot;12dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/bg_default_tab&quot;\r\n        android:clipToPadding=&quot;false&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;2dp&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        tools:listitem=&quot;@layout/item_analytics_event_tab&quot; /&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/viewPager&quot;\r\n        android:layout_marginBottom=&quot;200dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nFragment layout inside ViewPager2 :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot; /&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/wvAnalytic&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:isScrollContainer=&quot;true&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nInside the fragment, in the onViewCreated method:\r\n\r\n    val behavior = BottomSheetBehavior.from(requireView().parent as View)\r\n    behavior.state = BottomSheetBehavior.STATE_COLLAPSED","title":"Scroll not working inside bottom sheet fragment. How can i fix it?","body":"<p>Good afternoon I have a BottomSheetFragment which contains a ViewPager2 with multiple fragments inside.\nThe ViewPager has horizontal scrolling between fragments, but content scrolling within each fragment DOES NOT WORK.</p>\n<p>layout BottomSheetFragment:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.appcompat.widget.LinearLayoutCompat \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/bg_bottom_sheet&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n&lt;ImageView\n    android:layout_width=&quot;37dp&quot;\n    android:layout_height=&quot;5dp&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginBottom=&quot;15dp&quot;\n    android:src=&quot;@drawable/shape_gray&quot; /&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rvAnalyticsTabs&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;32dp&quot;\n    android:layout_marginHorizontal=&quot;12dp&quot;\n    android:layout_marginBottom=&quot;8dp&quot;\n    android:background=&quot;@drawable/bg_default_tab&quot;\n    android:clipToPadding=&quot;false&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:padding=&quot;2dp&quot;\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n    tools:listitem=&quot;@layout/item_analytics_event_tab&quot; /&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/viewPager&quot;\n    android:layout_marginBottom=&quot;200dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Fragment layout inside ViewPager2 :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/white&quot; /&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/wvAnalytic&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:isScrollContainer=&quot;true&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Inside the fragment, in the onViewCreated method:</p>\n<pre><code>val behavior = BottomSheetBehavior.from(requireView().parent as View)\nbehavior.state = BottomSheetBehavior.STATE_COLLAPSED\n</code></pre>\n"},{"tags":["java","arrays","multithreading","final"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1442890425,"creation_date":1442890425,"answer_id":32707624,"question_id":32707583,"body_markdown":"You keep updating both `high` and `low` inside the `run()` method, making them by definition not effectively final.\r\n\r\nSince you don&#39;t need them outside the `run()` method anyway, just move the two lines inside.\r\n\r\n    public void HiLo(int[] numbers){\r\n\r\n        Runnable r2 = new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                int high = numbers[0];\r\n                int low = numbers[0];\r\n                System.out.println(&quot;The highest value is: &quot;);\r\n","title":"local variables referenced from an inner class must be final or effectively final","body":"<p>You keep updating both <code>high</code> and <code>low</code> inside the <code>run()</code> method, making them by definition not effectively final.</p>\n\n<p>Since you don't need them outside the <code>run()</code> method anyway, just move the two lines inside.</p>\n\n<pre><code>public void HiLo(int[] numbers){\n\n    Runnable r2 = new Runnable(){\n        @Override\n        public void run() {\n            int high = numbers[0];\n            int low = numbers[0];\n            System.out.println(\"The highest value is: \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680026539,"creation_date":1680026539,"answer_id":75869604,"question_id":32707583,"body_markdown":"Another possibility is to just declare a separate `final` variable that can be used.  It&#39;s pretty rare that &quot;just move your variables into the inner class&quot; will work, that&#39;s a special case.  For example, this:\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        fields[i] = new JTextField(&quot;&quot;);\r\n        fields[i].setEditable(false);\r\n        fields[i].addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                addComponents(i);\r\n            }\r\n        });\r\n\r\nCan be changed to this:\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        fields[i] = new JTextField(&quot;&quot;);\r\n        fields[i].setEditable(false);\r\n        final int j = i;\r\n        fields[i].addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                addComponents(j);\r\n            }\r\n        });\r\n\r\nBe very careful when doing this with reference types.  Declaring a `final` *local variable* does little with reference types.  If make a final reference class like this:\r\n\r\n    final var temp = new MyMutableClass();\r\n\r\nThe fields of that class **do not** become immutable.  You can still modify them, and that&#39;s usually very bad.  Better to stick to immutable types (make a special immutable type if you can) to avoid errors unless you are certain that you know what you are doing.\r\n","title":"local variables referenced from an inner class must be final or effectively final","body":"<p>Another possibility is to just declare a separate <code>final</code> variable that can be used.  It's pretty rare that &quot;just move your variables into the inner class&quot; will work, that's a special case.  For example, this:</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    fields[i] = new JTextField(&quot;&quot;);\n    fields[i].setEditable(false);\n    fields[i].addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            addComponents(i);\n        }\n    });\n</code></pre>\n<p>Can be changed to this:</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    fields[i] = new JTextField(&quot;&quot;);\n    fields[i].setEditable(false);\n    final int j = i;\n    fields[i].addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            addComponents(j);\n        }\n    });\n</code></pre>\n<p>Be very careful when doing this with reference types.  Declaring a <code>final</code> <em>local variable</em> does little with reference types.  If make a final reference class like this:</p>\n<pre><code>final var temp = new MyMutableClass();\n</code></pre>\n<p>The fields of that class <strong>do not</strong> become immutable.  You can still modify them, and that's usually very bad.  Better to stick to immutable types (make a special immutable type if you can) to avoid errors unless you are certain that you know what you are doing.</p>\n"}],"owner":{"account_id":6848558,"reputation":183,"user_id":5266451,"accept_rate":100,"display_name":"Bails"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47365,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":32707624,"answer_count":2,"score":13,"last_activity_date":1680026539,"creation_date":1442890049,"question_id":32707583,"body_markdown":"This program is the final assignment for my class and I&#39;m have issues figuring out why I&#39;m receiving the error &quot;local variables referenced from an inner class must be final or effectively final&quot;. The program is running concurrent threads to sort an array of #&#39;s and then find the high and low values of that array. When I created it without the concurrency, I didn&#39;t have this error. I&#39;m struggling as to where to finalize the high and low variable.\r\n\r\n    public void HiLo(int[] numbers){\r\n       \r\n        int high = numbers[0];\r\n        int low = numbers[0];\r\n       \r\n        Runnable r2 = new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;The highest value is: &quot;);\r\n                for (int index = 1; index &lt; numbers.length; index++){\r\n                    if (numbers[index] &gt; high)\r\n                        high = numbers[index];\r\n                    System.out.println(high);\r\n                    }\r\n                System.out.println();\r\n                System.out.println(&quot;The lowest value is: &quot;);\r\n                for (int ind = 1; ind &lt; numbers.length; ind++){\r\n                    if (numbers[ind] &lt; low)\r\n                        low = numbers[ind];\r\n                    System.out.println(low);\r\n                }\r\n            }\r\n        };\r\n        pool.execute(r2);\r\n    }\r\n\r\nThis is the block of code producing the error. If I make either the int high = numbers[0]; or int low = numbers[0]; final then I get an error that I can&#39;t make that value final and the error for the opposite variable disappears.\r\n\r\nHere is the rest of the program. Any help is appreciated.\r\n\r\n    package concurrentthread;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.Executor;\r\n    import java.util.concurrent.Executors;\r\n\r\n\r\n    public class ConcurrentThread {\r\n\r\n        static Executor pool = Executors.newFixedThreadPool(2);\r\n\r\n    public static void main(String[] args) {\r\n        int size;\r\n        \r\n        Scanner keyboard = new Scanner(System.in);\r\n        \r\n        ConcurrentThread sort = new ConcurrentThread();\r\n        ConcurrentThread hilo = new ConcurrentThread();\r\n        \r\n        System.out.println(&quot;This program will calculate the highest and lowest &quot;\r\n                    + &quot;numbers entered by the user \\nand also sort them in &quot;\r\n                    + &quot;ascending order&quot;);\r\n        System.out.println();\r\n        System.out.print(&quot;How many numbers would you like in the array? &quot;);\r\n            size = keyboard.nextInt();\r\n            \r\n        final int[] numbers = new int[size];\r\n\r\n        for (int index = 0; index &lt; numbers.length; index++){\r\n            System.out.print(&quot;Please enter a number between 1 and 100: &quot;);\r\n            numbers[index] = keyboard.nextInt(); \r\n        }\r\n        \r\n        System.out.println();\r\n        sort.Sort(numbers);\r\n        hilo.HiLo(numbers);\r\n        \r\n        //System.exit(0);\r\n    }\r\n    \r\n    public void Sort(int[] numbers){\r\n        int sort = numbers[0];\r\n        \r\n        Runnable r1 = () -&gt; {\r\n            Arrays.sort(numbers);\r\n            System.out.println(&quot;The sorted values are: &quot;);\r\n            for (int index = 0; index &lt; numbers.length; index++)\r\n                System.out.print(numbers[index] + &quot; &quot;);\r\n            \r\n            System.out.println();\r\n        };\r\n        pool.execute(r1);\r\n    }\r\n    \r\n    public void HiLo(int[] numbers){\r\n       \r\n        final int high = numbers[0];\r\n        int low = numbers[0];\r\n       \r\n        Runnable r2 = new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;The highest value is: &quot;);\r\n                for (int index = 1; index &lt; numbers.length; index++){\r\n                    if (numbers[index] &gt; high)\r\n                        high = numbers[index];\r\n                    System.out.println(high);\r\n                    }\r\n                System.out.println();\r\n                System.out.println(&quot;The lowest value is: &quot;);\r\n                for (int ind = 1; ind &lt; numbers.length; ind++){\r\n                    if (numbers[ind] &lt; low)\r\n                        low = numbers[ind];\r\n                    System.out.println(low);\r\n                }\r\n            }\r\n        };\r\n        pool.execute(r2);\r\n    }\r\n}","title":"local variables referenced from an inner class must be final or effectively final","body":"<p>This program is the final assignment for my class and I'm have issues figuring out why I'm receiving the error \"local variables referenced from an inner class must be final or effectively final\". The program is running concurrent threads to sort an array of #'s and then find the high and low values of that array. When I created it without the concurrency, I didn't have this error. I'm struggling as to where to finalize the high and low variable.</p>\n\n<pre><code>public void HiLo(int[] numbers){\n\n    int high = numbers[0];\n    int low = numbers[0];\n\n    Runnable r2 = new Runnable(){\n        @Override\n        public void run() {\n            System.out.println(\"The highest value is: \");\n            for (int index = 1; index &lt; numbers.length; index++){\n                if (numbers[index] &gt; high)\n                    high = numbers[index];\n                System.out.println(high);\n                }\n            System.out.println();\n            System.out.println(\"The lowest value is: \");\n            for (int ind = 1; ind &lt; numbers.length; ind++){\n                if (numbers[ind] &lt; low)\n                    low = numbers[ind];\n                System.out.println(low);\n            }\n        }\n    };\n    pool.execute(r2);\n}\n</code></pre>\n\n<p>This is the block of code producing the error. If I make either the int high = numbers[0]; or int low = numbers[0]; final then I get an error that I can't make that value final and the error for the opposite variable disappears.</p>\n\n<p>Here is the rest of the program. Any help is appreciated.</p>\n\n<pre><code>package concurrentthread;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\n\n\npublic class ConcurrentThread {\n\n    static Executor pool = Executors.newFixedThreadPool(2);\n\npublic static void main(String[] args) {\n    int size;\n\n    Scanner keyboard = new Scanner(System.in);\n\n    ConcurrentThread sort = new ConcurrentThread();\n    ConcurrentThread hilo = new ConcurrentThread();\n\n    System.out.println(\"This program will calculate the highest and lowest \"\n                + \"numbers entered by the user \\nand also sort them in \"\n                + \"ascending order\");\n    System.out.println();\n    System.out.print(\"How many numbers would you like in the array? \");\n        size = keyboard.nextInt();\n\n    final int[] numbers = new int[size];\n\n    for (int index = 0; index &lt; numbers.length; index++){\n        System.out.print(\"Please enter a number between 1 and 100: \");\n        numbers[index] = keyboard.nextInt(); \n    }\n\n    System.out.println();\n    sort.Sort(numbers);\n    hilo.HiLo(numbers);\n\n    //System.exit(0);\n}\n\npublic void Sort(int[] numbers){\n    int sort = numbers[0];\n\n    Runnable r1 = () -&gt; {\n        Arrays.sort(numbers);\n        System.out.println(\"The sorted values are: \");\n        for (int index = 0; index &lt; numbers.length; index++)\n            System.out.print(numbers[index] + \" \");\n\n        System.out.println();\n    };\n    pool.execute(r1);\n}\n\npublic void HiLo(int[] numbers){\n\n    final int high = numbers[0];\n    int low = numbers[0];\n\n    Runnable r2 = new Runnable(){\n        @Override\n        public void run() {\n            System.out.println(\"The highest value is: \");\n            for (int index = 1; index &lt; numbers.length; index++){\n                if (numbers[index] &gt; high)\n                    high = numbers[index];\n                System.out.println(high);\n                }\n            System.out.println();\n            System.out.println(\"The lowest value is: \");\n            for (int ind = 1; ind &lt; numbers.length; ind++){\n                if (numbers[ind] &lt; low)\n                    low = numbers[ind];\n                System.out.println(low);\n            }\n        }\n    };\n    pool.execute(r2);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","swing","mouseevent","jtextfield","mouseclick-event"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1680026065,"post_id":75869504,"comment_id":133825597,"body_markdown":"Does this answer your question? [local variables referenced from an inner class must be final or effectively final](https://stackoverflow.com/questions/32707583/local-variables-referenced-from-an-inner-class-must-be-final-or-effectively-fina)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32707583/local-variables-referenced-from-an-inner-class-must-be-final-or-effectively-fina\">local variables referenced from an inner class must be final or effectively final</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680026645,"post_id":75869504,"comment_id":133825741,"body_markdown":"That answer isn&#39;t great because it doesn&#39;t address the OPs use case.  I added another answer besides the accepted one to explain a bit further how the OP might proceed.","body":"That answer isn&#39;t great because it doesn&#39;t address the OPs use case.  I added another answer besides the accepted one to explain a bit further how the OP might proceed."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1680031713,"post_id":75869504,"comment_id":133826907,"body_markdown":"If you are wedded to the `for(dvc : devicelist)` loop, think about changing `fields` to a `List` and just `append()` the new textfield.","body":"If you are wedded to the <code>for(dvc : devicelist)</code> loop, think about changing <code>fields</code> to a <code>List</code> and just <code>append()</code> the new textfield."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680026269,"creation_date":1680026269,"answer_id":75869567,"question_id":75869504,"body_markdown":"Assign value of `i` to a local final variable like\r\n```\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    fields[i] = new JTextField(&quot;&quot;);\r\n    fields[i].setEditable(false);\r\nfinal int j=i;\r\n    fields[i].addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            addComponents(j);\r\n        }\r\n    });\r\n}\r\n```","title":"How to add local variable inside mouseclick event?","body":"<p>Assign value of <code>i</code> to a local final variable like</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    fields[i] = new JTextField(&quot;&quot;);\n    fields[i].setEditable(false);\nfinal int j=i;\n    fields[i].addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            addComponents(j);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":25428339,"reputation":39,"user_id":19233194,"display_name":"Rohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75869567,"answer_count":1,"score":0,"last_activity_date":1680026515,"creation_date":1680025850,"question_id":75869504,"body_markdown":"Here I want to call `addComponents(i)`, but it says `i` is undefined inside the mouseClicked event function.\r\n\r\nExact error:\r\n\r\n&gt; local variables referenced from an inner class must be final or effectively final\r\n\r\nHere is my code:\r\n\r\n    int i =0;\r\n\tfor (dvc:devicelist) {\r\n\t\tfields[i] = new JTextField(&quot;&quot;);\r\n\t\tfields[i].setEditable(false);\r\n\t\tfields[i].addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\taddComponents(i);\r\n\t\t\t}\r\n\t\t});i++;\r\n\t}","title":"How to add local variable inside mouseclick event?","body":"<p>Here I want to call <code>addComponents(i)</code>, but it says <code>i</code> is undefined inside the mouseClicked event function.</p>\n<p>Exact error:</p>\n<blockquote>\n<p>local variables referenced from an inner class must be final or effectively final</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre><code>int i =0;\nfor (dvc:devicelist) {\n    fields[i] = new JTextField(&quot;&quot;);\n    fields[i].setEditable(false);\n    fields[i].addMouseListener(new MouseAdapter() {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            addComponents(i);\n        }\n    });i++;\n}\n</code></pre>\n"},{"tags":["java","xpages","javabeans","managed-bean"],"answers":[{"tags":[],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680026096,"creation_date":1679842884,"answer_id":75848502,"question_id":75847651,"body_markdown":"You can’t store any Notes object (those that have a `recycle()` method in the session or application scope. No session, database, view, document or RichText object. \r\n\r\nPlain Java objects are ok. So you can store db.filePath or replicaId. For documents the unid.\r\n\r\nSo remove db from the constructor.\r\nYou could add db to the method parameters. \r\n\r\nYou can write a setUserTabs method. It would need the user and a collection as parameters. Something like\r\n\r\n```java\r\nvoid setUserTabs(String user, Collection&lt;String&gt; tabs) {\r\n  ...\r\n}\r\n```\r\n\r\nThe hassle then is to load all user documents and check if they are still in the collection or are there new ones. \r\n\r\n```java\r\nCollection&lt;String&gt; existing = getUsertabs(...);\r\ntabs.forEach(t -&gt; if(!existing.contains(t) { makeNew(t) });\r\nexisting.forEach( ex -&gt; if (!tabs.contains(ex) {removeTab(ex.unid} );\r\n```\r\n\r\nRoughly along these lines. Be aware you can&#39;t add/remove to a collection from inside a forEach loop.\r\n\r\nFinally in your loop you are missing doc.recycle(); ","title":"Best practice for storing and reading data from Java Beans in XPages","body":"<p>You can’t store any Notes object (those that have a <code>recycle()</code> method in the session or application scope. No session, database, view, document or RichText object.</p>\n<p>Plain Java objects are ok. So you can store db.filePath or replicaId. For documents the unid.</p>\n<p>So remove db from the constructor.\nYou could add db to the method parameters.</p>\n<p>You can write a setUserTabs method. It would need the user and a collection as parameters. Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setUserTabs(String user, Collection&lt;String&gt; tabs) {\n  ...\n}\n</code></pre>\n<p>The hassle then is to load all user documents and check if they are still in the collection or are there new ones.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;String&gt; existing = getUsertabs(...);\ntabs.forEach(t -&gt; if(!existing.contains(t) { makeNew(t) });\nexisting.forEach( ex -&gt; if (!tabs.contains(ex) {removeTab(ex.unid} );\n</code></pre>\n<p>Roughly along these lines. Be aware you can't add/remove to a collection from inside a forEach loop.</p>\n<p>Finally in your loop you are missing doc.recycle();</p>\n"}],"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680026096,"creation_date":1679832452,"question_id":75847651,"body_markdown":"I have the following Java bean code that stores a list of tabs in an `ArrayList&lt;String&gt;` in a sessionScope, so I do not have to look it up for every request. \r\n\r\n```java\r\npublic class BeanMethods {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tpublic Database db;\r\n\tpublic ArrayList&lt;String&gt; userTabs;\r\n\r\n\tpublic BeanMethods() {\r\n\t\tdb = ExtLibUtil.getCurrentDatabase();\r\n\t\tuserTabs = new ArrayList&lt;String&gt;();\r\n\t}\r\n\r\n\tpublic ArrayList&lt;String&gt; getUserTabs(String uid) throws NotesException {\r\n\t\tif (userTabs.isEmpty()) {\r\n\t\t\tuserTabs = getUserTabs2(uid);\r\n\t\t}\r\n\t\treturn userTabs;\r\n\t}\r\n\r\n\tpublic ArrayList&lt;String&gt; getUserTabs2(String uid) throws NotesException {\r\n\r\n\t\tdb = ExtLibUtil.getCurrentDatabase();\r\n\t\tString key = &quot;TAB_UID_&quot; + uid;\r\n\t\tDocumentCollection dc = db.getView(&quot;LookupKey&quot;).getAllDocumentsByKey(key, true);\r\n\r\n\t\tDocument d = dc.getFirstDocument();\r\n\t\twhile (d != null) {\r\n\t\t\tString tabTitle = d.getItemValueString(&quot;Title&quot;);\r\n\t\t\tuserTabs.add(tabTitle + &quot;|&quot; + d.getItemValueString(&quot;UniqueId&quot;));\r\n\t\t\td = dc.getNextDocument(d);\r\n\t\t}\r\n\t\treturn userTabs;\r\n\t}\r\n}\r\n```\r\n\r\nI have a few question about this\r\n\r\n1. How can I update user tabs property at runtime?\r\n2. I have noticed that in some or all cases the db variable that is set in the constructor is not maintained, looks like I need to set it in each method? am I missing something here?\r\n3. Is there a better way to write this code?\r\n","title":"Best practice for storing and reading data from Java Beans in XPages","body":"<p>I have the following Java bean code that stores a list of tabs in an <code>ArrayList&lt;String&gt;</code> in a sessionScope, so I do not have to look it up for every request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BeanMethods {\n\n    private static final long serialVersionUID = 1L;\n    public Database db;\n    public ArrayList&lt;String&gt; userTabs;\n\n    public BeanMethods() {\n        db = ExtLibUtil.getCurrentDatabase();\n        userTabs = new ArrayList&lt;String&gt;();\n    }\n\n    public ArrayList&lt;String&gt; getUserTabs(String uid) throws NotesException {\n        if (userTabs.isEmpty()) {\n            userTabs = getUserTabs2(uid);\n        }\n        return userTabs;\n    }\n\n    public ArrayList&lt;String&gt; getUserTabs2(String uid) throws NotesException {\n\n        db = ExtLibUtil.getCurrentDatabase();\n        String key = &quot;TAB_UID_&quot; + uid;\n        DocumentCollection dc = db.getView(&quot;LookupKey&quot;).getAllDocumentsByKey(key, true);\n\n        Document d = dc.getFirstDocument();\n        while (d != null) {\n            String tabTitle = d.getItemValueString(&quot;Title&quot;);\n            userTabs.add(tabTitle + &quot;|&quot; + d.getItemValueString(&quot;UniqueId&quot;));\n            d = dc.getNextDocument(d);\n        }\n        return userTabs;\n    }\n}\n</code></pre>\n<p>I have a few question about this</p>\n<ol>\n<li>How can I update user tabs property at runtime?</li>\n<li>I have noticed that in some or all cases the db variable that is set in the constructor is not maintained, looks like I need to set it in each method? am I missing something here?</li>\n<li>Is there a better way to write this code?</li>\n</ol>\n"},{"tags":["java","multidimensional-array","substring"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680024177,"post_id":75869082,"comment_id":133825088,"body_markdown":"I think you have an [XY problem](https://en.wikipedia.org/wiki/XY_problem). What are you *actually* trying to do? Side note: `random.nextInt(19)` never returns `19` - I don&#39;t know what you&#39;re trying to do, but my guess is you want `random.nextInt(20)`","body":"I think you have an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>. What are you <i>actually</i> trying to do? Side note: <code>random.nextInt(19)</code> never returns <code>19</code> - I don&#39;t know what you&#39;re trying to do, but my guess is you want <code>random.nextInt(20)</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680024587,"post_id":75869082,"comment_id":133825197,"body_markdown":"If you want to become a software developer, you will need debugging skills. As a professional, you won&#39;t be able to come to Stack Overflow every time. It so happens, this is a good program to practice debugging.  Here are three things commonly used in debugging:  1) Pretend you are the computer. Follow the flow of the program. If needed, used pen and paper for the computer memory. 2) Insert `System.out.println (...);` lines into the code.  In place of &quot;...&quot;, put something to indicate where the program is, and the values of variables. 3) Use a debugger, often built into an IDE.","body":"If you want to become a software developer, you will need debugging skills. As a professional, you won&#39;t be able to come to Stack Overflow every time. It so happens, this is a good program to practice debugging.  Here are three things commonly used in debugging:  1) Pretend you are the computer. Follow the flow of the program. If needed, used pen and paper for the computer memory. 2) Insert <code>System.out.println (...);</code> lines into the code.  In place of &quot;...&quot;, put something to indicate where the program is, and the values of variables. 3) Use a debugger, often built into an IDE."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680024936,"post_id":75869082,"comment_id":133825295,"body_markdown":"What is the significance of the variables x &amp; y. Every time you enter a word they both increment by 1 - x++, y++. They very quickly get greater than the length of the string entered and generate the StringIndexOutOfBoundsException","body":"What is the significance of the variables x &amp; y. Every time you enter a word they both increment by 1 - x++, y++. They very quickly get greater than the length of the string entered and generate the StringIndexOutOfBoundsException"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680025672,"post_id":75869082,"comment_id":133825507,"body_markdown":"Off-topic, because it doesn&#39;t cause the out-of-bounds condtion: It is useful to consult the API of classes, interfaces, and methods you use.  What do you want to do with `word.substring(x++, y++);` ? What do you think the  does? Try a debugging test with this code: `String foo = &quot;Hello, World!&quot;;         System.out.println (&quot;Foo 7 &gt;&quot; +foo.substring (7,7)  + &quot;&lt; &quot;);` . If you wonder about that result,  see the [`.subString (int, int)` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int))","body":"Off-topic, because it doesn&#39;t cause the out-of-bounds condtion: It is useful to consult the API of classes, interfaces, and methods you use.  What do you want to do with <code>word.substring(x++, y++);</code> ? What do you think the  does? Try a debugging test with this code: <code>String foo = &quot;Hello, World!&quot;;         System.out.println (&quot;Foo 7 &gt;&quot; +foo.substring (7,7)  + &quot;&lt; &quot;);</code> . If you wonder about that result,  see the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\"><code>.subString (int, int)</code> API</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680026264,"post_id":75869082,"comment_id":133825653,"body_markdown":"Can you, please, edit the question again, to include the complete stack trace? The stack trace will indicate which line of your code triggered the error. Also, show samples of input and the result of each.","body":"Can you, please, edit the question again, to include the complete stack trace? The stack trace will indicate which line of your code triggered the error. Also, show samples of input and the result of each."}],"owner":{"account_id":21470361,"reputation":1,"user_id":15819476,"display_name":"Balbina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680025992,"creation_date":1680022930,"question_id":75869082,"body_markdown":"I&#39;m trying to make an alphabet soup but I keep getting the &quot;String index out of range&quot; error:\r\n\r\n Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 4\r\n\tat java.lang.String.substring(String.java:1963)\r\n\r\n when I try to insert the substring dynamically. I want to generate dynamic indexes for the substring() so that after each iteration of the nested loop it increases it&#39;s indexes by one and the next letter of the word is inserted in the next position of the array.\r\n (The fRandom is meant to insert each word in a random row of the array).\r\n\r\n Here&#39;s my code so far:\r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n            Scanner read = new Scanner(System.in);\r\n            Random random = new Random();\r\n            \r\n            int i; int j; int fRandom;\r\n            int counter = 0; String word = &quot;&quot;;\r\n            int x = 0; int y = 0;\r\n            \r\n            String matrix[][] = new String[20][20];\r\n            \r\n            for(i = 0; i &lt; 20; i++) {\r\n                fRandom = random.nextInt(19);\r\n                for(j = 0; j &lt; 20; j++) {\r\n                    if(counter &lt; 5){\r\n                        System.out.println(&quot;Enter word between 3 and 5 characters&quot;);\r\n                        word = read.next();\r\n                        while(word.length() &gt; 5 || word.length() &lt; 3){\r\n                        System.out.println(&quot;Must have between 3 and 5 characters&quot;);\r\n                        word = read.next();\r\n                    }\r\n                    }\r\n                    matrix[fRandom][j] = word.substring(x++, y++);\r\n                    counter += 1;\r\n                }\r\n            }\r\n\r\n Whenever I run the program with a static substring(0,1) it doesn&#39;t throw any errors but the same letter is inserted into every position of the array, and if I use the substring(0) with only the start index, the entire word goes into each position of the array.\r\n I have tried printing at different stages of the code to see what is wrong, and I&#39;ve narrowed it to the substring() method, everything else works fine.\r\n I&#39;ve also tried changing the fRandom to &quot;fRandom = random.nextInt(20)&quot; but it throws an error.\r\n Thanks for your suggestions!\r\n","title":"How can I insert a substring(a,b) in a 2d array in Java? (each character in a position of the array)","body":"<p>I'm trying to make an alphabet soup but I keep getting the &quot;String index out of range&quot; error:</p>\n<p>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 4\nat java.lang.String.substring(String.java:1963)</p>\n<p>when I try to insert the substring dynamically. I want to generate dynamic indexes for the substring() so that after each iteration of the nested loop it increases it's indexes by one and the next letter of the word is inserted in the next position of the array.\n(The fRandom is meant to insert each word in a random row of the array).</p>\n<p>Here's my code so far:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner read = new Scanner(System.in);\n        Random random = new Random();\n        \n        int i; int j; int fRandom;\n        int counter = 0; String word = &quot;&quot;;\n        int x = 0; int y = 0;\n        \n        String matrix[][] = new String[20][20];\n        \n        for(i = 0; i &lt; 20; i++) {\n            fRandom = random.nextInt(19);\n            for(j = 0; j &lt; 20; j++) {\n                if(counter &lt; 5){\n                    System.out.println(&quot;Enter word between 3 and 5 characters&quot;);\n                    word = read.next();\n                    while(word.length() &gt; 5 || word.length() &lt; 3){\n                    System.out.println(&quot;Must have between 3 and 5 characters&quot;);\n                    word = read.next();\n                }\n                }\n                matrix[fRandom][j] = word.substring(x++, y++);\n                counter += 1;\n            }\n        }\n</code></pre>\n<p>Whenever I run the program with a static substring(0,1) it doesn't throw any errors but the same letter is inserted into every position of the array, and if I use the substring(0) with only the start index, the entire word goes into each position of the array.\nI have tried printing at different stages of the code to see what is wrong, and I've narrowed it to the substring() method, everything else works fine.\nI've also tried changing the fRandom to &quot;fRandom = random.nextInt(20)&quot; but it throws an error.\nThanks for your suggestions!</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user7392562"},"score":0,"creation_date":1680024626,"post_id":75869256,"comment_id":133825204,"body_markdown":"To fix this, you can create a new FileOutputStream object for each iteration of the loop.","body":"To fix this, you can create a new FileOutputStream object for each iteration of the loop."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680024753,"post_id":75869256,"comment_id":133825242,"body_markdown":"I tried this code and it works for me. What are the files you are trying to zip?","body":"I tried this code and it works for me. What are the files you are trying to zip?"},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680024783,"post_id":75869256,"comment_id":133825253,"body_markdown":"@CardinalSystem no; `close()` implies flush. Your suggestion _never_ solves a problem (unless the streams you are using are quite broken. ZipOutputStream is not broken, at least, specifically, not like that).","body":"@CardinalSystem no; <code>close()</code> implies flush. Your suggestion <i>never</i> solves a problem (unless the streams you are using are quite broken. ZipOutputStream is not broken, at least, specifically, not like that)."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680024800,"post_id":75869256,"comment_id":133825256,"body_markdown":"@SiNGH_VJ That advice does not make sense.","body":"@SiNGH_VJ That advice does not make sense."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1680024951,"post_id":75869256,"comment_id":133825298,"body_markdown":"@Michael Nothing in the code indicates a problem, and using that code myself, it produces zips with multiple entries just fine. You have a more general problem of not using try-with, and `fis.transferTo(zipOut)` is a lot simpler than the loop you made, but that&#39;s just code quality issues, does not explain what you say you observe. Elaborate on what you are doing and what &#39;unable to&#39; actually means. Do you get an error? A corrupt zip? Nothing happens and no zip file appears?","body":"@Michael Nothing in the code indicates a problem, and using that code myself, it produces zips with multiple entries just fine. You have a more general problem of not using try-with, and <code>fis.transferTo(zipOut)</code> is a lot simpler than the loop you made, but that&#39;s just code quality issues, does not explain what you say you observe. Elaborate on what you are doing and what &#39;unable to&#39; actually means. Do you get an error? A corrupt zip? Nothing happens and no zip file appears?"}],"answers":[{"tags":[],"owner":{"account_id":27894405,"reputation":1,"user_id":21300034,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680025916,"creation_date":1680025626,"answer_id":75869471,"question_id":75869256,"body_markdown":"I got it to work. Here is my code:\r\n\r\n\tZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(&quot;c:\\\\temp\\\\MyZipFile.zip&quot;));\r\n\tfor (int i = 0; i &lt; screenShotList.size(); i++) {\r\n\t\tFile fileToZip = screenShotList.get(i);\r\n\t\tFileInputStream fis = new FileInputStream(fileToZip);\r\n\t\tZipEntry zipEntry = new ZipEntry(screenShotFileNameList.get(i));\r\n\t\tzipOut.putNextEntry(zipEntry);\r\n\t\tbyte[] bytes = new byte[1024];\r\n\t\tint length;\r\n\t\twhile ((length = fis.read(bytes)) &gt;= 0) {\r\n\t\t\tzipOut.write(bytes, 0, length);\r\n\t\t}\r\n\t\tfis.close();\r\n\t\tzipOut.closeEntry();\r\n\t}\r\n\tzipOut.close();","title":"Java / Unable to write multiple files to .zip","body":"<p>I got it to work. Here is my code:</p>\n<pre><code>ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(&quot;c:\\\\temp\\\\MyZipFile.zip&quot;));\nfor (int i = 0; i &lt; screenShotList.size(); i++) {\n    File fileToZip = screenShotList.get(i);\n    FileInputStream fis = new FileInputStream(fileToZip);\n    ZipEntry zipEntry = new ZipEntry(screenShotFileNameList.get(i));\n    zipOut.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zipOut.write(bytes, 0, length);\n    }\n    fis.close();\n    zipOut.closeEntry();\n}\nzipOut.close();\n</code></pre>\n"}],"owner":{"account_id":27894405,"reputation":1,"user_id":21300034,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680025916,"creation_date":1680024104,"question_id":75869256,"body_markdown":"-&gt; I cannot figure this out.  I am able to write one file to a zip file, but I cannot write more than one.  I cannot seem to get this to work out.  Here is the code that will write one file into a .zip:\r\n\r\n```\r\nFileInputStream fin = new FileInputStream(screenShotList.get(0));\r\nZipOutputStream zout = new ZipOutputStream(new FileOutputStream(&quot;C:\\\\temp\\\\NameOfZip.zip&quot;));\r\nzout.putNextEntry(new ZipEntry(screenShotFileNameList.get(0)));\r\nbyte[] buffer = new byte[1024];\r\nint byteRead;\r\nwhile((byteRead=fin.read(buffer))&gt;0) {\r\n     zout.write(buffer, 0, byteRead);\r\n}\r\nzout.closeEntry();\r\nzout.close();\r\nfin.close();\r\n\r\n```\r\n-&gt; Here is me trying to loop it, but this code fails.  It does not even write a .zip to the file path:\r\n\r\n```\r\nFileOutputStream fos = new FileOutputStream(&quot;MyZipFile.zip&quot;);\r\nZipOutputStream zipOut = new ZipOutputStream(fos);\r\nfor (int i=0; i&lt;screenShotList.size(); i++) {\r\n     File fileToZip = screenShotList.get(i);\r\n     FileInputStream fis = new FileInputStream(fileToZip);\r\n     ZipEntry zipEntry = new ZipEntry(screenShotFileNameList.get(i));\r\n     zipOut.putNextEntry(zipEntry);\r\n\r\n     byte[] bytes = new byte[1024];\r\n     int length;\r\n     while((length = fis.read(bytes)) &gt;= 0) {\r\n          zipOut.write(bytes, 0, length);\r\n     }\r\n     fis.close();\r\n}\r\nzipOut.close();\r\nfos.close();\r\n```\r\n\r\n-&gt; I have tried so many different things.  What am I doing wrong?\r\n\r\nI have tried moving the classes in and out of the loop.  I have tried random stuff from the internet.  I am clearly missing a key point here.","title":"Java / Unable to write multiple files to .zip","body":"<p>-&gt; I cannot figure this out.  I am able to write one file to a zip file, but I cannot write more than one.  I cannot seem to get this to work out.  Here is the code that will write one file into a .zip:</p>\n<pre><code>FileInputStream fin = new FileInputStream(screenShotList.get(0));\nZipOutputStream zout = new ZipOutputStream(new FileOutputStream(&quot;C:\\\\temp\\\\NameOfZip.zip&quot;));\nzout.putNextEntry(new ZipEntry(screenShotFileNameList.get(0)));\nbyte[] buffer = new byte[1024];\nint byteRead;\nwhile((byteRead=fin.read(buffer))&gt;0) {\n     zout.write(buffer, 0, byteRead);\n}\nzout.closeEntry();\nzout.close();\nfin.close();\n\n</code></pre>\n<p>-&gt; Here is me trying to loop it, but this code fails.  It does not even write a .zip to the file path:</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(&quot;MyZipFile.zip&quot;);\nZipOutputStream zipOut = new ZipOutputStream(fos);\nfor (int i=0; i&lt;screenShotList.size(); i++) {\n     File fileToZip = screenShotList.get(i);\n     FileInputStream fis = new FileInputStream(fileToZip);\n     ZipEntry zipEntry = new ZipEntry(screenShotFileNameList.get(i));\n     zipOut.putNextEntry(zipEntry);\n\n     byte[] bytes = new byte[1024];\n     int length;\n     while((length = fis.read(bytes)) &gt;= 0) {\n          zipOut.write(bytes, 0, length);\n     }\n     fis.close();\n}\nzipOut.close();\nfos.close();\n</code></pre>\n<p>-&gt; I have tried so many different things.  What am I doing wrong?</p>\n<p>I have tried moving the classes in and out of the loop.  I have tried random stuff from the internet.  I am clearly missing a key point here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"score":1,"creation_date":1287724629,"post_id":3993982,"comment_id":26720290,"body_markdown":"Take a look to the [Reflection API](http://download.oracle.com/javase/tutorial/reflect/).","body":"Take a look to the <a href=\"http://download.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">Reflection API</a>."},{"owner":{"account_id":17122873,"reputation":321,"user_id":12390724,"display_name":"A.Alessio"},"score":1,"creation_date":1590566574,"post_id":3993982,"comment_id":109724013,"body_markdown":"Very related question with answers here: https://stackoverflow.com/questions/2674554/how-do-you-know-a-variable-type-in-java.","body":"Very related question with answers here: <a href=\"https://stackoverflow.com/questions/2674554/how-do-you-know-a-variable-type-in-java\" title=\"how do you know a variable type in java\">stackoverflow.com/questions/2674554/&hellip;</a>."},{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1617423491,"post_id":3993982,"comment_id":118304668,"body_markdown":"Does this answer your question? [How do you know a variable type in java?](https://stackoverflow.com/questions/2674554/how-do-you-know-a-variable-type-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2674554/how-do-you-know-a-variable-type-in-java\">How do you know a variable type in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":213318,"reputation":6164,"user_id":466646,"accept_rate":94,"display_name":"Alex Abdugafarov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1369192420,"creation_date":1287723316,"answer_id":3993992,"question_id":3993982,"body_markdown":"You may work with Integer instead of int, Double instead of double, etc. (such classes exists for all primitive types).\r\nThen you may use the operator instanceof, like `if(var instanceof Integer){...}`","title":"How to check type of variable in Java?","body":"<p>You may work with Integer instead of int, Double instead of double, etc. (such classes exists for all primitive types).\nThen you may use the operator instanceof, like <code>if(var instanceof Integer){...}</code></p>\n"},{"tags":[],"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"down_vote_count":4,"up_vote_count":145,"is_accepted":false,"score":141,"last_activity_date":1568903826,"creation_date":1287723353,"answer_id":3993995,"question_id":3993982,"body_markdown":"Java is a statically typed language, so the compiler does most of this checking for you.  Once you declare a variable to be a certain type, the compiler will ensure that it is only ever assigned values of that type (or values that are sub-types of that type).\r\n\r\nThe examples you gave (`int`, array, `double`) these are all primitives, and there are no sub-types of them.  Thus, if you declare a variable to be an `int`:\r\n\r\n    int x;\r\n\r\nYou can be sure it will only ever hold `int` values.\r\n\r\nIf you declared a variable to be a `List`, however, it is possible that the variable will hold sub-types of `List`.  Examples of these include `ArrayList`, `LinkedList`, etc.\r\n\r\nIf you did have a `List` variable, and you needed to know if it was an `ArrayList`, you could do the following:\r\n\r\n    List y;\r\n    ...\r\n    if (y instanceof ArrayList) { \r\n      ...its and ArrayList...\r\n    }\r\n\r\nHowever, if you find yourself thinking you need to do that, you may want to rethink your approach.  In most cases, if you follow object-oriented principles, you will not need to do this.  There are, of course, exceptions to every rule, though.","title":"How to check type of variable in Java?","body":"<p>Java is a statically typed language, so the compiler does most of this checking for you.  Once you declare a variable to be a certain type, the compiler will ensure that it is only ever assigned values of that type (or values that are sub-types of that type).</p>\n\n<p>The examples you gave (<code>int</code>, array, <code>double</code>) these are all primitives, and there are no sub-types of them.  Thus, if you declare a variable to be an <code>int</code>:</p>\n\n<pre><code>int x;\n</code></pre>\n\n<p>You can be sure it will only ever hold <code>int</code> values.</p>\n\n<p>If you declared a variable to be a <code>List</code>, however, it is possible that the variable will hold sub-types of <code>List</code>.  Examples of these include <code>ArrayList</code>, <code>LinkedList</code>, etc.</p>\n\n<p>If you did have a <code>List</code> variable, and you needed to know if it was an <code>ArrayList</code>, you could do the following:</p>\n\n<pre><code>List y;\n...\nif (y instanceof ArrayList) { \n  ...its and ArrayList...\n}\n</code></pre>\n\n<p>However, if you find yourself thinking you need to do that, you may want to rethink your approach.  In most cases, if you follow object-oriented principles, you will not need to do this.  There are, of course, exceptions to every rule, though.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1495521402,"creation_date":1287723443,"answer_id":3993998,"question_id":3993982,"body_markdown":"The first part of your question is meaningless. There is no circumstance in which you don&#39;t know the type of a primitive variable at compile time.\r\n\r\nRe the second part, the only circumstance that you don&#39;t already know whether a variable is an array is if it is an Object. In which case `object.getClass().isArray()` will tell you.","title":"How to check type of variable in Java?","body":"<p>The first part of your question is meaningless. There is no circumstance in which you don't know the type of a primitive variable at compile time.</p>\n\n<p>Re the second part, the only circumstance that you don't already know whether a variable is an array is if it is an Object. In which case <code>object.getClass().isArray()</code> will tell you.</p>\n"},{"tags":[],"owner":{"account_id":406422,"reputation":719,"user_id":775928,"display_name":"Mvcoile"},"down_vote_count":11,"up_vote_count":64,"is_accepted":false,"score":53,"last_activity_date":1369320373,"creation_date":1369320373,"answer_id":16717058,"question_id":3993982,"body_markdown":"Actually quite easy to roll your own tester, by abusing Java&#39;s method overload ability. Though I&#39;m still curious if there is an official method in the sdk.\r\n\r\nExample:\r\n\r\n\tclass Typetester {\r\n\t\tvoid printType(byte x) {\r\n\t\t\tSystem.out.println(x + &quot; is an byte&quot;);\r\n\t\t}\r\n\t\tvoid printType(int x) {\r\n\t\t\tSystem.out.println(x + &quot; is an int&quot;);\r\n\t\t}\r\n\t\tvoid printType(float x) {\r\n\t\t\tSystem.out.println(x + &quot; is an float&quot;);\r\n\t\t}\r\n\t\tvoid printType(double x) {\r\n\t\t\tSystem.out.println(x + &quot; is an double&quot;);\r\n\t\t}\r\n\t\tvoid printType(char x) {\r\n\t\t\tSystem.out.println(x + &quot; is an char&quot;);\r\n\t\t}\r\n\t}\r\nthen:\r\n\r\n    Typetester t = new Typetester();\r\n    t.printType( yourVariable );\r\n","title":"How to check type of variable in Java?","body":"<p>Actually quite easy to roll your own tester, by abusing Java's method overload ability. Though I'm still curious if there is an official method in the sdk.</p>\n\n<p>Example:</p>\n\n<pre><code>class Typetester {\n    void printType(byte x) {\n        System.out.println(x + \" is an byte\");\n    }\n    void printType(int x) {\n        System.out.println(x + \" is an int\");\n    }\n    void printType(float x) {\n        System.out.println(x + \" is an float\");\n    }\n    void printType(double x) {\n        System.out.println(x + \" is an double\");\n    }\n    void printType(char x) {\n        System.out.println(x + \" is an char\");\n    }\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>Typetester t = new Typetester();\nt.printType( yourVariable );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1506348410,"creation_date":1424002011,"answer_id":28525862,"question_id":3993982,"body_markdown":"`a.getClass().getName()` - will give you the datatype of the actual object referred to by `a`, but not the datatype that the variable `a` was originally declared as or subsequently cast to.\r\n\r\n`boolean b = a instanceof String` - will give you whether or not the actual object referred to by `a` is an instance of a specific class.\r\nAgain, the datatype that the variable `a` was originally declared as or subsequently cast to has no bearing on the result of the instanceof operator.\r\n\r\nI took this information from:\r\nhttps://stackoverflow.com/questions/2674554/how-know-a-variable-type-in-java\r\n\r\nThis can happen. I&#39;m trying to parse a `String` into an int and I&#39;d like to know if my `Integer.parseInt(s.substring(a, b))` is kicking out an int or garbage before I try to sum it up.\r\n\r\nBy the way, this is known as Reflection. Here&#39;s some more information on the subject: http://docs.oracle.com/javase/tutorial/reflect/","title":"How to check type of variable in Java?","body":"<p><code>a.getClass().getName()</code> - will give you the datatype of the actual object referred to by <code>a</code>, but not the datatype that the variable <code>a</code> was originally declared as or subsequently cast to.</p>\n\n<p><code>boolean b = a instanceof String</code> - will give you whether or not the actual object referred to by <code>a</code> is an instance of a specific class.\nAgain, the datatype that the variable <code>a</code> was originally declared as or subsequently cast to has no bearing on the result of the instanceof operator.</p>\n\n<p>I took this information from:\n<a href=\"https://stackoverflow.com/questions/2674554/how-know-a-variable-type-in-java\">How do you know a variable type in java?</a></p>\n\n<p>This can happen. I'm trying to parse a <code>String</code> into an int and I'd like to know if my <code>Integer.parseInt(s.substring(a, b))</code> is kicking out an int or garbage before I try to sum it up.</p>\n\n<p>By the way, this is known as Reflection. Here's some more information on the subject: <a href=\"http://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/reflect/</a></p>\n"},{"tags":[],"owner":{"account_id":7994457,"reputation":61,"user_id":6031284,"display_name":"Vinicius Arruda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495521386,"creation_date":1462311422,"answer_id":37014807,"question_id":3993982,"body_markdown":"I did it using: `if(x.getClass() == MyClass.class){...}`","title":"How to check type of variable in Java?","body":"<p>I did it using: <code>if(x.getClass() == MyClass.class){...}</code></p>\n"},{"tags":[],"owner":{"account_id":8610392,"reputation":99,"user_id":6449037,"display_name":"Amogh"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1506348234,"creation_date":1497249336,"answer_id":44492788,"question_id":3993982,"body_markdown":"Well, I think checking the type of variable can be done this way. \r\n\r\n    public &lt;T extends Object&gt; void checkType(T object) {\t\r\n\t\tif (object instanceof Integer)\r\n\t\t\tSystem.out.println(&quot;Integer &quot;);\r\n\t\telse if(object instanceof Double)\r\n\t\t\tSystem.out.println(&quot;Double &quot;);\r\n\t\telse if(object instanceof Float)\r\n\t\t\tSystem.out.println(&quot;Float : &quot;);\r\n\t\telse if(object instanceof List)\r\n\t\t\tSystem.out.println(&quot;List! &quot;);\r\n\t\telse if(object instanceof Set)\r\n\t\t\tSystem.out.println(&quot;Set! &quot;);\r\n\t}\r\n\r\nThis way you need not have multiple overloaded methods. I think it is good practice to use collections over arrays due to the added benefits. Having said that, I do not know how to check for an array type. Maybe someone can improve this solution. Hope this helps! \r\n\r\nP.S Yes, I know that this doesn&#39;t check for primitives as well. ","title":"How to check type of variable in Java?","body":"<p>Well, I think checking the type of variable can be done this way. </p>\n\n<pre><code>public &lt;T extends Object&gt; void checkType(T object) {    \n    if (object instanceof Integer)\n        System.out.println(\"Integer \");\n    else if(object instanceof Double)\n        System.out.println(\"Double \");\n    else if(object instanceof Float)\n        System.out.println(\"Float : \");\n    else if(object instanceof List)\n        System.out.println(\"List! \");\n    else if(object instanceof Set)\n        System.out.println(\"Set! \");\n}\n</code></pre>\n\n<p>This way you need not have multiple overloaded methods. I think it is good practice to use collections over arrays due to the added benefits. Having said that, I do not know how to check for an array type. Maybe someone can improve this solution. Hope this helps! </p>\n\n<p>P.S Yes, I know that this doesn't check for primitives as well. </p>\n"},{"tags":[],"owner":{"account_id":4561554,"reputation":153,"user_id":3703753,"display_name":"Neil Regan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508273367,"creation_date":1508272629,"answer_id":46798814,"question_id":3993982,"body_markdown":"I wasn&#39;t happy with any of these answers, and the one that&#39;s right has no explanation and negative votes so I searched around, found some stuff and edited it so that it is easy to understand. Have a play with it, not as straight forward as one would hope.\r\n\r\n    //move your variable into an Object type\r\n    Object obj=whatYouAreChecking;\r\n    System.out.println(obj);\r\n\r\n    // moving the class type into a Class variable\r\n    Class cls=obj.getClass();\r\n    System.out.println(cls);\r\n\r\n    // convert that Class Variable to a neat String\r\n    String answer = cls.getSimpleName();\r\n    System.out.println(answer);\r\n\r\n\r\n\r\nHere is a method:\r\n\r\n    public static void checkClass (Object obj) {\r\n        Class cls = obj.getClass();\r\n        System.out.println(&quot;The type of the object is: &quot; + cls.getSimpleName());       \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to check type of variable in Java?","body":"<p>I wasn't happy with any of these answers, and the one that's right has no explanation and negative votes so I searched around, found some stuff and edited it so that it is easy to understand. Have a play with it, not as straight forward as one would hope.</p>\n\n<pre><code>//move your variable into an Object type\nObject obj=whatYouAreChecking;\nSystem.out.println(obj);\n\n// moving the class type into a Class variable\nClass cls=obj.getClass();\nSystem.out.println(cls);\n\n// convert that Class Variable to a neat String\nString answer = cls.getSimpleName();\nSystem.out.println(answer);\n</code></pre>\n\n<p>Here is a method:</p>\n\n<pre><code>public static void checkClass (Object obj) {\n    Class cls = obj.getClass();\n    System.out.println(\"The type of the object is: \" + cls.getSimpleName());       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1533803816,"creation_date":1533802621,"answer_id":51762028,"question_id":3993982,"body_markdown":"Just use:\r\n\r\n    .getClass().getSimpleName();\r\n\r\nExample:\r\n\r\n    StringBuilder randSB = new StringBuilder(&quot;just a String&quot;);\r\n    System.out.println(randSB.getClass().getSimpleName());\r\n\r\nOutput:\r\n\r\n    StringBuilder","title":"How to check type of variable in Java?","body":"<p>Just use:</p>\n\n<pre><code>.getClass().getSimpleName();\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>StringBuilder randSB = new StringBuilder(\"just a String\");\nSystem.out.println(randSB.getClass().getSimpleName());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>StringBuilder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14450779,"reputation":1273,"user_id":10804423,"display_name":"iggy12345"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549476677,"creation_date":1549476677,"answer_id":54559999,"question_id":3993982,"body_markdown":"None of these answers work if the variable is an uninitialized generic type\r\n\r\nAnd from what I can find, it&#39;s only possible using an &lt;a href=&quot;https://stackoverflow.com/questions/182636/how-to-determine-the-class-of-a-generic-type?noredirect=1&amp;lq=1&quot;&gt;extremely ugly workaround&lt;/a&gt;, or by passing in an initialized parameter to your function, making it in-place, see here:\r\n\r\n    &lt;T&gt; T MyMethod(...){ if(T.class == MyClass.class){...}}\r\nIs NOT valid because you cannot pull the type out of the `T` parameter directly, since it is erased at runtime time.\r\n\r\n    &lt;T&gt; void MyMethod(T out, ...){ if(out.getClass() == MyClass.class){...}}\r\nThis works because the caller is responsible to instantiating the variable `out` before calling. This will still throw an exception if out is null when called, but compared to the linked solution, this is by far the easiest way to do this\r\n\r\nI know this is a kind of specific application, but since this is the first result on google for finding the type of a variable with java (and given that `T` is a kind of variable), I feel it should be included","title":"How to check type of variable in Java?","body":"<p>None of these answers work if the variable is an uninitialized generic type</p>\n\n<p>And from what I can find, it's only possible using an <a href=\"https://stackoverflow.com/questions/182636/how-to-determine-the-class-of-a-generic-type?noredirect=1&amp;lq=1\">extremely ugly workaround</a>, or by passing in an initialized parameter to your function, making it in-place, see here:</p>\n\n<pre><code>&lt;T&gt; T MyMethod(...){ if(T.class == MyClass.class){...}}\n</code></pre>\n\n<p>Is NOT valid because you cannot pull the type out of the <code>T</code> parameter directly, since it is erased at runtime time.</p>\n\n<pre><code>&lt;T&gt; void MyMethod(T out, ...){ if(out.getClass() == MyClass.class){...}}\n</code></pre>\n\n<p>This works because the caller is responsible to instantiating the variable <code>out</code> before calling. This will still throw an exception if out is null when called, but compared to the linked solution, this is by far the easiest way to do this</p>\n\n<p>I know this is a kind of specific application, but since this is the first result on google for finding the type of a variable with java (and given that <code>T</code> is a kind of variable), I feel it should be included</p>\n"},{"tags":[],"owner":{"account_id":9526713,"reputation":138,"user_id":7079731,"accept_rate":0,"display_name":"GeekyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562763392,"creation_date":1562763392,"answer_id":56971219,"question_id":3993982,"body_markdown":"You can check it easily using `Java.lang.Class.getSimpleName()` Method Only if variable has non-primitive type. It doesnt work with primitive types int ,long etc.\r\n\r\nreference - [Here is the Oracle docs link][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html","title":"How to check type of variable in Java?","body":"<p>You can check it easily using <code>Java.lang.Class.getSimpleName()</code> Method Only if variable has non-primitive type. It doesnt work with primitive types int ,long etc.</p>\n\n<p>reference - <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Here is the Oracle docs link</a></p>\n"},{"tags":[],"owner":{"account_id":17279455,"reputation":71,"user_id":12513383,"display_name":"Doktor"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1593804594,"creation_date":1593804594,"answer_id":62721663,"question_id":3993982,"body_markdown":"Basically , For example :\r\n\r\n    public class Kerem\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tshort x = 10;\r\n    \t\tshort y = 3;\r\n    \t\tObject o = y;\r\n    \t\tSystem.out.println(o.getClass()); // java.lang.Short\r\n    \t}\r\n    \r\n    }","title":"How to check type of variable in Java?","body":"<p>Basically , For example :</p>\n<pre><code>public class Kerem\n{\n    public static void main(String[] args)\n    {\n        short x = 10;\n        short y = 3;\n        Object o = y;\n        System.out.println(o.getClass()); // java.lang.Short\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19575726,"reputation":455,"user_id":14325834,"display_name":"SlinnShady"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601481901,"creation_date":1601481901,"answer_id":64141480,"question_id":3993982,"body_markdown":"I hit this question as I was trying to get something similar working using Generics. Taking some of the answers and adding getClass().isArray() I get the following that seems to work. \r\n\r\n    public class TypeTester &lt;T extends Number&gt;{\r\n\r\n    &lt;T extends Object&gt; String tester(T ToTest){\r\n\r\n        if (ToTest instanceof Integer) return (&quot;Integer&quot;);\r\n        else if(ToTest instanceof Double) return (&quot;Double&quot;);\r\n        else if(ToTest instanceof Float) return (&quot;Float&quot;);\r\n        else if(ToTest instanceof String) return (&quot;String&quot;);\r\n        else if(ToTest.getClass().isArray()) return (&quot;Array&quot;);\r\n        else return (&quot;Unsure&quot;);\r\n    }\r\n    }\r\n\r\nI call it with this where the myArray part was simply to get an Array into callFunction.tester() to test it.\r\n\r\n    public class Generics {\r\n    public static void main(String[] args) {\r\n        int [] myArray = new int [10];\r\n\r\n        TypeTester&lt;Integer&gt; callFunction = new TypeTester&lt;Integer&gt;();\r\n        System.out.println(callFunction.tester(myArray));\r\n    }\r\n    }\r\n\r\nYou can swap out the myArray in the final line for say 10.2F to test Float etc","title":"How to check type of variable in Java?","body":"<p>I hit this question as I was trying to get something similar working using Generics. Taking some of the answers and adding getClass().isArray() I get the following that seems to work.</p>\n<pre><code>public class TypeTester &lt;T extends Number&gt;{\n\n&lt;T extends Object&gt; String tester(T ToTest){\n\n    if (ToTest instanceof Integer) return (&quot;Integer&quot;);\n    else if(ToTest instanceof Double) return (&quot;Double&quot;);\n    else if(ToTest instanceof Float) return (&quot;Float&quot;);\n    else if(ToTest instanceof String) return (&quot;String&quot;);\n    else if(ToTest.getClass().isArray()) return (&quot;Array&quot;);\n    else return (&quot;Unsure&quot;);\n}\n}\n</code></pre>\n<p>I call it with this where the myArray part was simply to get an Array into callFunction.tester() to test it.</p>\n<pre><code>public class Generics {\npublic static void main(String[] args) {\n    int [] myArray = new int [10];\n\n    TypeTester&lt;Integer&gt; callFunction = new TypeTester&lt;Integer&gt;();\n    System.out.println(callFunction.tester(myArray));\n}\n}\n</code></pre>\n<p>You can swap out the myArray in the final line for say 10.2F to test Float etc</p>\n"},{"tags":[],"owner":{"account_id":20890141,"reputation":1,"user_id":15345703,"display_name":"Mr. Linseman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615086719,"creation_date":1615086719,"answer_id":66512841,"question_id":3993982,"body_markdown":"```\r\npublic static void chkType(Object var){\t\t\r\n\t\tString type = var.getClass().toString();\r\n\t\tSystem.out.println(type.substring(16));\t\t\r\n\t\t//assertEquals(type,&quot;class java.lang.Boolean&quot;);\r\n\t\t//assertEquals(type,&quot;class java.lang.Character&quot;);\r\n\t\t//assertEquals(type,&quot;class java.lang.Integer&quot;);\r\n\t\t//assertEquals(type,&quot;class java.lang.Double&quot;);\t\t\r\n\t}\r\n```","title":"How to check type of variable in Java?","body":"<pre><code>public static void chkType(Object var){     \n        String type = var.getClass().toString();\n        System.out.println(type.substring(16));     \n        //assertEquals(type,&quot;class java.lang.Boolean&quot;);\n        //assertEquals(type,&quot;class java.lang.Character&quot;);\n        //assertEquals(type,&quot;class java.lang.Integer&quot;);\n        //assertEquals(type,&quot;class java.lang.Double&quot;);      \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12467740,"reputation":6213,"user_id":9077019,"display_name":"Parth kharecha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641279053,"creation_date":1641279053,"answer_id":70574981,"question_id":3993982,"body_markdown":"    var.getClass().getSimpleName()\r\n\r\nLet&#39;s take a example\r\n\r\n    String[] anArrayOfStrings = { &quot;Agra&quot;, &quot;Mysore&quot;, &quot;Chandigarh&quot;, &quot;Bhopal&quot; };\r\n    List&lt;String&gt; strList = Arrays.asList(anArrayOfStrings); \r\n    \r\n    anArrayOfStrings.getClass().getSimpleName() //res =&gt;  String[]\r\n    strList.getClass().getSimpleName() // res =&gt; ArrayList","title":"How to check type of variable in Java?","body":"<pre><code>var.getClass().getSimpleName()\n</code></pre>\n<p>Let's take a example</p>\n<pre><code>String[] anArrayOfStrings = { &quot;Agra&quot;, &quot;Mysore&quot;, &quot;Chandigarh&quot;, &quot;Bhopal&quot; };\nList&lt;String&gt; strList = Arrays.asList(anArrayOfStrings); \n\nanArrayOfStrings.getClass().getSimpleName() //res =&gt;  String[]\nstrList.getClass().getSimpleName() // res =&gt; ArrayList\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13167529,"reputation":559,"user_id":9511113,"display_name":"code_conundrum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666592375,"creation_date":1666592375,"answer_id":74177243,"question_id":3993982,"body_markdown":"A simple solution I found was the following rather than wondering about fire command. Also, you can check this [article](https://www.delftstack.com/howto/java/how-to-check-type-of-a-variable-in-java/)\r\n\r\n```java\r\npublic class DataTypeCheck \r\n{\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tString jobTitle = &quot;Agent&quot;;\r\n\t\tint employeeId = 7;\r\n\t\tdouble floating= 10.0;\r\n\t\tString bond = jobTitle + employeeId;\r\n\r\n\t\tSystem.out.println(((Object)floating).getClass().getSimpleName());\r\n\t\tSystem.out.println(((Object)employeeId).getClass().getSimpleName());\r\n\t\tSystem.out.println(((Object)jobTitle).getClass().getSimpleName());\r\n\t\tSystem.out.println(((Object)bond).getClass().getSimpleName());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```java\r\nOutput:\r\nDouble\r\nInteger\r\nString\r\nString\r\n```","title":"How to check type of variable in Java?","body":"<p>A simple solution I found was the following rather than wondering about fire command. Also, you can check this <a href=\"https://www.delftstack.com/howto/java/how-to-check-type-of-a-variable-in-java/\" rel=\"nofollow noreferrer\">article</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataTypeCheck \n{\n\n    public static void main(String[] args)\n    {\n        String jobTitle = &quot;Agent&quot;;\n        int employeeId = 7;\n        double floating= 10.0;\n        String bond = jobTitle + employeeId;\n\n        System.out.println(((Object)floating).getClass().getSimpleName());\n        System.out.println(((Object)employeeId).getClass().getSimpleName());\n        System.out.println(((Object)jobTitle).getClass().getSimpleName());\n        System.out.println(((Object)bond).getClass().getSimpleName());\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Output:\nDouble\nInteger\nString\nString\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680025456,"creation_date":1680024179,"answer_id":75869266,"question_id":3993982,"body_markdown":" An `Object` instance can be type-tested in several ways and for array properties by checking its `Class` type like this:\r\n\r\n    public static &lt;T&gt; void typetest(final T t) {\r\n     if (t != null) {\r\n      \r\n      final Class&lt;? extends Object&gt; clazz = t.getClass();\r\n      // Check is an Object is an array \r\n      if (clazz.isArray()) {\r\n        // Shows array Object type\r\n        System.out.println(&quot;Is array of type: [&quot; + clazz.getSimpleName() + &quot;]&quot;);\r\n      }\r\n      \r\n      // Check is an Object is an array / get a non-null result array class for array Object types \r\n      final Class&lt;?&gt; ct = clazz.getComponentType();\r\n      if (ct != null) {\r\n        // Shows array primitive/Object type\r\n        if (ct.isPrimitive()) {\r\n          System.out.println(&quot;Primitive array of type: [&quot; + ct.getSimpleName() + &quot;]&quot;);\r\n        } else {\r\n          System.out.println(&quot;Array of Object type: [&quot; + ct.getSimpleName() + &quot;]&quot;);\r\n        }\r\n      }\r\n      \r\n      // Since Java 12 there&#39;s also \r\n      final Class&lt;?&gt; arrayType = ct.arrayType();\r\n      \r\n      // Matches a Objects are instances of List \r\n      if (t instanceof List) {\r\n        // ...\r\n      // Matches a Objects are instances of Collection (i. e. List, Set...) \r\n      } else if (t instanceof Collection) {\r\n        // ...\r\n      // Matches a Objects are instances of Map (i. e. List, Set...) \r\n      } else if (t instanceof Map) {\r\n      }\r\n      \r\n      // Matches all Objects that have List as superclass or implement interface \r\n      if (List.class.getClass().isAssignableFrom(clazz)) {\r\n        // ...\r\n      // Matches all Objects that have Collection as superclass or implement interface \r\n      } else if (Collection.class.getClass().isAssignableFrom(clazz)) {\r\n        // ...\r\n      // Matches all Objects that have Map as superclass or implement interface \r\n      } else if (Map.class.getClass().isAssignableFrom(clazz)) {\r\n        // ...\r\n      }\r\n     }\r\n    }\r\n\r\nNote, that it&#39;s possible to check against specific types and implemented interfaces or inheritance from superclasses with `isAssignableFrom()`.\r\n\r\nIf an Object was wrapped or cast beforehand, it&#39;s not possible to get back that type information, though, to my knowledge.\r\n\r\nAnother option is using `Array.getLength(arrayObject)`, which should work on all types of arrays, throwing an `IllegalArgumentException`, if the argument is not an array, which can be handled accordingly. This has the advantage of getting the array&#39;s size at once.","title":"How to check type of variable in Java?","body":"<p>An <code>Object</code> instance can be type-tested in several ways and for array properties by checking its <code>Class</code> type like this:</p>\n<pre><code>public static &lt;T&gt; void typetest(final T t) {\n if (t != null) {\n  \n  final Class&lt;? extends Object&gt; clazz = t.getClass();\n  // Check is an Object is an array \n  if (clazz.isArray()) {\n    // Shows array Object type\n    System.out.println(&quot;Is array of type: [&quot; + clazz.getSimpleName() + &quot;]&quot;);\n  }\n  \n  // Check is an Object is an array / get a non-null result array class for array Object types \n  final Class&lt;?&gt; ct = clazz.getComponentType();\n  if (ct != null) {\n    // Shows array primitive/Object type\n    if (ct.isPrimitive()) {\n      System.out.println(&quot;Primitive array of type: [&quot; + ct.getSimpleName() + &quot;]&quot;);\n    } else {\n      System.out.println(&quot;Array of Object type: [&quot; + ct.getSimpleName() + &quot;]&quot;);\n    }\n  }\n  \n  // Since Java 12 there's also \n  final Class&lt;?&gt; arrayType = ct.arrayType();\n  \n  // Matches a Objects are instances of List \n  if (t instanceof List) {\n    // ...\n  // Matches a Objects are instances of Collection (i. e. List, Set...) \n  } else if (t instanceof Collection) {\n    // ...\n  // Matches a Objects are instances of Map (i. e. List, Set...) \n  } else if (t instanceof Map) {\n  }\n  \n  // Matches all Objects that have List as superclass or implement interface \n  if (List.class.getClass().isAssignableFrom(clazz)) {\n    // ...\n  // Matches all Objects that have Collection as superclass or implement interface \n  } else if (Collection.class.getClass().isAssignableFrom(clazz)) {\n    // ...\n  // Matches all Objects that have Map as superclass or implement interface \n  } else if (Map.class.getClass().isAssignableFrom(clazz)) {\n    // ...\n  }\n }\n}\n</code></pre>\n<p>Note, that it's possible to check against specific types and implemented interfaces or inheritance from superclasses with <code>isAssignableFrom()</code>.</p>\n<p>If an Object was wrapped or cast beforehand, it's not possible to get back that type information, though, to my knowledge.</p>\n<p>Another option is using <code>Array.getLength(arrayObject)</code>, which should work on all types of arrays, throwing an <code>IllegalArgumentException</code>, if the argument is not an array, which can be handled accordingly. This has the advantage of getting the array's size at once.</p>\n"}],"owner":{"account_id":56883,"reputation":66564,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690261,"favorite_count":0,"down_vote_count":0,"up_vote_count":178,"answer_count":17,"score":178,"last_activity_date":1680025456,"creation_date":1287723078,"question_id":3993982,"body_markdown":"How can I check to make sure my variable is an int, array, double, etc...? \r\n\r\nEdit: For example, how can I check that a variable is an array? Is there some function to do this?","title":"How to check type of variable in Java?","body":"<p>How can I check to make sure my variable is an int, array, double, etc...? </p>\n\n<p>Edit: For example, how can I check that a variable is an array? Is there some function to do this?</p>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":26260429,"reputation":195,"user_id":19931837,"display_name":"Manisha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680025218,"creation_date":1680025218,"question_id":75869415,"body_markdown":"I am using ViewPager2 like this in my fragment.\r\n\r\n    viewPager2 = root_view.findViewById(R.id.viewPagerImageSlider);\r\n                \r\n    CompositePageTransformer compositePageTransformer = new CompositePageTransformer();\r\n    compositePageTransformer.addTransformer(new MarginPageTransformer(10));\r\n    compositePageTransformer.addTransformer(new ViewPager2.PageTransformer() {\r\n        @Override\r\n        public void transformPage(@NonNull View page, float position) {\r\n            float r = 1 - Math.abs(position);\r\n            page.setScaleY(0.85f + r * 0.15f);\r\n        }\r\n    });\r\n    viewPager2.setPageTransformer(compositePageTransformer);\r\n    \r\n    viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\r\n        @Override\r\n        public void onPageSelected(int position) {\r\n            super.onPageSelected(position);\r\n            sliderHandler.removeCallbacks(sliderRunnable);\r\n            sliderHandler.postDelayed(sliderRunnable, 5000); // slide duration 2 seconds\r\n        }\r\n    });\r\n    \r\n    viewPager2.setClipToPadding(false);\r\n    viewPager2.setClipChildren(false);\r\n    viewPager2.setOffscreenPageLimit(3);\r\n    viewPager2.getChildAt(0).setOverScrollMode(RecyclerView.OVER_SCROLL_NEVER);\r\n    \r\n    sliderAdapter = new SliderAdapter(getActivity(),sliderList,viewPager2);\r\n    \r\n    LoadSlider();\r\n    \r\n            \r\n    }\r\n            \r\n            \r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        sliderHandler.removeCallbacks(sliderRunnable);\r\n    }\r\n    \r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        sliderHandler.postDelayed(sliderRunnable, 2000);\r\n        //user_points(points);\r\n    }\r\n    \r\n    Runnable sliderRunnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            viewPager2.setCurrentItem(viewPager2.getCurrentItem() + 1);\r\n        }\r\n    };\r\n        \r\n    private void LoadSlider() {\r\n            \r\n    \tApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\r\n    \tCall&lt;List&lt;ModelSlider&gt;&gt; call = apiService.getSlider(&quot;slider&quot;);\r\n    \tcall.enqueue(new Callback&lt;List&lt;ModelSlider&gt;&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic void onResponse(@NonNull Call&lt;List&lt;ModelSlider&gt;&gt; call, @NonNull retrofit2.Response&lt;List&lt;ModelSlider&gt;&gt; response) {\r\n    \t\t\tsliderList = response.body();\r\n    \t\t\tsliderAdapter.setSlidersList(sliderList);\r\n    \t\t\tviewPager2.setAdapter(sliderAdapter);\r\n    \t\t}\r\n    \r\n    \t});\r\n    \r\n    }  \r\n\r\n          \r\n\r\n\r\n   \r\n\r\n\r\n\r\nand my adapter class is like this\r\n\r\n    public class SliderAdapter extends RecyclerView.Adapter&lt;SliderAdapter.MyviewHolder&gt;{\r\n        Context context;\r\n        List&lt;ModelSlider&gt; slidersList;\r\n        private ViewPager2 viewPager2;\r\n    \r\n        public SliderAdapter(Context context, List&lt;ModelSlider&gt; slidersList,ViewPager2 viewPager2) {\r\n            this.context = context;\r\n            this.slidersList = slidersList;\r\n            this.viewPager2 = viewPager2;\r\n        }\r\n    \r\n        public void setSlidersList(List&lt;ModelSlider&gt; slidersList) {\r\n            this.slidersList = slidersList;\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public SliderAdapter.MyviewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.slide_item_container,parent,false);\r\n            return new MyviewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(SliderAdapter.MyviewHolder holder, int position) {\r\n            final ModelSlider slider_list = slidersList.get(position);\r\n    \r\n            holder.title.setText(slider_list.getSlider_title());\r\n            holder.img.setImageResource(R.drawable.daily_bonus);\r\n            holder.description.setText(slider_list.getSlider_description());\r\n            holder.txt_action.setText(slider_list.getSlider_action());\r\n    \r\n          holder.txt_action.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (slider_list.getSlider_type().equals(&quot;1&quot;)) {\r\n                        Uri uri = Uri.parse(slider_list.getSlider_extra());\r\n                        Intent intent = new Intent(Intent.ACTION_VIEW, uri);\r\n                        context.startActivity(intent);\r\n                    }else {\r\n                        Toast.makeText(context, &quot;This is Offer Slider&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            if (position == slidersList.size()- 2){\r\n                viewPager2.post(runnable);\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            if(slidersList != null){\r\n                return slidersList.size();\r\n            }\r\n            return 0;\r\n    \r\n        }\r\n    \r\n        public static class MyviewHolder extends RecyclerView.ViewHolder {\r\n            TextView txt_action,title,description;\r\n            ImageView img;\r\n    \r\n            public MyviewHolder(View itemView) {\r\n                super(itemView);\r\n                title = itemView.findViewById(R.id.title);\r\n                description = itemView.findViewById(R.id.description);\r\n                img = itemView.findViewById(R.id.img);\r\n                txt_action = itemView.findViewById(R.id.txt_action);\r\n            }\r\n        }\r\n    \r\n        public Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                notifyDataSetChanged();\r\n            }\r\n        };\r\n    }\r\n\r\nI have currently two slides, its changing from first to second but on second its stop and not changing back to first. I think I am missing something but I do not getting idea whats wrong with the code. Let me know if someone here can help me for solve the puzzle. Thanks!\r\n","title":"Infinity Scroll Slider with ViewPager2 and RecyclerView","body":"<p>I am using ViewPager2 like this in my fragment.</p>\n<pre><code>viewPager2 = root_view.findViewById(R.id.viewPagerImageSlider);\n            \nCompositePageTransformer compositePageTransformer = new CompositePageTransformer();\ncompositePageTransformer.addTransformer(new MarginPageTransformer(10));\ncompositePageTransformer.addTransformer(new ViewPager2.PageTransformer() {\n    @Override\n    public void transformPage(@NonNull View page, float position) {\n        float r = 1 - Math.abs(position);\n        page.setScaleY(0.85f + r * 0.15f);\n    }\n});\nviewPager2.setPageTransformer(compositePageTransformer);\n\nviewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n    @Override\n    public void onPageSelected(int position) {\n        super.onPageSelected(position);\n        sliderHandler.removeCallbacks(sliderRunnable);\n        sliderHandler.postDelayed(sliderRunnable, 5000); // slide duration 2 seconds\n    }\n});\n\nviewPager2.setClipToPadding(false);\nviewPager2.setClipChildren(false);\nviewPager2.setOffscreenPageLimit(3);\nviewPager2.getChildAt(0).setOverScrollMode(RecyclerView.OVER_SCROLL_NEVER);\n\nsliderAdapter = new SliderAdapter(getActivity(),sliderList,viewPager2);\n\nLoadSlider();\n\n        \n}\n        \n        \n@Override\npublic void onPause() {\n    super.onPause();\n    sliderHandler.removeCallbacks(sliderRunnable);\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    sliderHandler.postDelayed(sliderRunnable, 2000);\n    //user_points(points);\n}\n\nRunnable sliderRunnable = new Runnable() {\n    @Override\n    public void run() {\n        viewPager2.setCurrentItem(viewPager2.getCurrentItem() + 1);\n    }\n};\n    \nprivate void LoadSlider() {\n        \n    ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\n    Call&lt;List&lt;ModelSlider&gt;&gt; call = apiService.getSlider(&quot;slider&quot;);\n    call.enqueue(new Callback&lt;List&lt;ModelSlider&gt;&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;List&lt;ModelSlider&gt;&gt; call, @NonNull retrofit2.Response&lt;List&lt;ModelSlider&gt;&gt; response) {\n            sliderList = response.body();\n            sliderAdapter.setSlidersList(sliderList);\n            viewPager2.setAdapter(sliderAdapter);\n        }\n\n    });\n\n}  \n\n      \n</code></pre>\n<p>and my adapter class is like this</p>\n<pre><code>public class SliderAdapter extends RecyclerView.Adapter&lt;SliderAdapter.MyviewHolder&gt;{\n    Context context;\n    List&lt;ModelSlider&gt; slidersList;\n    private ViewPager2 viewPager2;\n\n    public SliderAdapter(Context context, List&lt;ModelSlider&gt; slidersList,ViewPager2 viewPager2) {\n        this.context = context;\n        this.slidersList = slidersList;\n        this.viewPager2 = viewPager2;\n    }\n\n    public void setSlidersList(List&lt;ModelSlider&gt; slidersList) {\n        this.slidersList = slidersList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public SliderAdapter.MyviewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.slide_item_container,parent,false);\n        return new MyviewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(SliderAdapter.MyviewHolder holder, int position) {\n        final ModelSlider slider_list = slidersList.get(position);\n\n        holder.title.setText(slider_list.getSlider_title());\n        holder.img.setImageResource(R.drawable.daily_bonus);\n        holder.description.setText(slider_list.getSlider_description());\n        holder.txt_action.setText(slider_list.getSlider_action());\n\n      holder.txt_action.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (slider_list.getSlider_type().equals(&quot;1&quot;)) {\n                    Uri uri = Uri.parse(slider_list.getSlider_extra());\n                    Intent intent = new Intent(Intent.ACTION_VIEW, uri);\n                    context.startActivity(intent);\n                }else {\n                    Toast.makeText(context, &quot;This is Offer Slider&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        if (position == slidersList.size()- 2){\n            viewPager2.post(runnable);\n        }\n\n    }\n\n    @Override\n    public int getItemCount() {\n        if(slidersList != null){\n            return slidersList.size();\n        }\n        return 0;\n\n    }\n\n    public static class MyviewHolder extends RecyclerView.ViewHolder {\n        TextView txt_action,title,description;\n        ImageView img;\n\n        public MyviewHolder(View itemView) {\n            super(itemView);\n            title = itemView.findViewById(R.id.title);\n            description = itemView.findViewById(R.id.description);\n            img = itemView.findViewById(R.id.img);\n            txt_action = itemView.findViewById(R.id.txt_action);\n        }\n    }\n\n    public Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            notifyDataSetChanged();\n        }\n    };\n}\n</code></pre>\n<p>I have currently two slides, its changing from first to second but on second its stop and not changing back to first. I think I am missing something but I do not getting idea whats wrong with the code. Let me know if someone here can help me for solve the puzzle. Thanks!</p>\n"},{"tags":["java","android","pdu"],"comments":[{"owner":{"account_id":1044828,"reputation":7482,"user_id":1050058,"accept_rate":60,"display_name":"Trung Nguyen"},"score":0,"creation_date":1347163469,"post_id":12335642,"comment_id":16560236,"body_markdown":"Here the alternative [link](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.5_r1/com/android/internal/telephony/GsmSmsTest.java) in linked question. I&#39;m not 100% sure about your goal. But if you want a snippet to create like real sms which built-in `broadcast receiver` can catch, i will add an answer","body":"Here the alternative <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.5_r1/com/android/internal/telephony/GsmSmsTest.java\" rel=\"nofollow noreferrer\">link</a> in linked question. I&#39;m not 100% sure about your goal. But if you want a snippet to create like real sms which built-in <code>broadcast receiver</code> can catch, i will add an answer"},{"owner":{"account_id":1551426,"reputation":2379,"user_id":1443717,"accept_rate":93,"display_name":"StrikeForceZero"},"score":0,"creation_date":1347175284,"post_id":12335642,"comment_id":16561669,"body_markdown":"@Yul I need a method or library that takes a few strings (sender address, destination address, message, timestamp, .. and everything else contained in a PDU) and creates the PDU and stores it in a `byte[]` as if it was a &quot;real&quot; SMS that was sent to that device. `SmsMessage.createFromPdu()` needs to be able to parse it properly. so yes if you have code that can &quot;create like real sms which built-in broadcast receiver can catch&quot; that would be perfect.","body":"@Yul I need a method or library that takes a few strings (sender address, destination address, message, timestamp, .. and everything else contained in a PDU) and creates the PDU and stores it in a <code>byte[]</code> as if it was a &quot;real&quot; SMS that was sent to that device. <code>SmsMessage.createFromPdu()</code> needs to be able to parse it properly. so yes if you have code that can &quot;create like real sms which built-in broadcast receiver can catch&quot; that would be perfect."},{"owner":{"account_id":1121136,"reputation":24750,"user_id":1109425,"accept_rate":100,"display_name":"nandeesh"},"score":0,"creation_date":1347189193,"post_id":12335642,"comment_id":16563815,"body_markdown":"are you using any specific device or are you using emulator?","body":"are you using any specific device or are you using emulator?"},{"owner":{"account_id":1551426,"reputation":2379,"user_id":1443717,"accept_rate":93,"display_name":"StrikeForceZero"},"score":0,"creation_date":1347194468,"post_id":12335642,"comment_id":16564734,"body_markdown":"@nandeesh I&#39;m using both. I know how to telnet or use eclipse emulator control to broadcast an SMS, but my app needs to produce these.","body":"@nandeesh I&#39;m using both. I know how to telnet or use eclipse emulator control to broadcast an SMS, but my app needs to produce these."},{"owner":{"account_id":1121136,"reputation":24750,"user_id":1109425,"accept_rate":100,"display_name":"nandeesh"},"score":0,"creation_date":1347203587,"post_id":12335642,"comment_id":16566553,"body_markdown":"The problem is the pdus are different for each manufacturer, so even if you succeed on one, it wont work on another","body":"The problem is the pdus are different for each manufacturer, so even if you succeed on one, it wont work on another"},{"owner":{"account_id":1551426,"reputation":2379,"user_id":1443717,"accept_rate":93,"display_name":"StrikeForceZero"},"score":0,"creation_date":1347204136,"post_id":12335642,"comment_id":16566671,"body_markdown":"@nandeesh Is there a way to create one that is used locally on the same device? like opposite of `SmsMessage.createFromPdu()`","body":"@nandeesh Is there a way to create one that is used locally on the same device? like opposite of <code>SmsMessage.createFromPdu()</code>"},{"owner":{"account_id":1121136,"reputation":24750,"user_id":1109425,"accept_rate":100,"display_name":"nandeesh"},"score":0,"creation_date":1347206637,"post_id":12335642,"comment_id":16567181,"body_markdown":"I doubt it. but i have posted an answer. do check.","body":"I doubt it. but i have posted an answer. do check."}],"answers":[{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347152518,"creation_date":1347152518,"answer_id":12335713,"question_id":12335642,"body_markdown":"Its been a LONG time since I&#39;ve done any direct PDU wrangling, but when I did I quickly gave up and used [SMSLib][1]: the PDU utilities it has worked perfectly for sending via Nokia phones (over a serial link). My assumption (which may be wrong) is that they will work for Android as well, assuming the interface is actually compliant with the spec.\r\n\r\n\r\n  [1]: http://code.google.com/p/smslib/","title":"Create PDU for Android that works with SmsMessage.createFromPdu() (GSM 3gpp)","body":"<p>Its been a LONG time since I've done any direct PDU wrangling, but when I did I quickly gave up and used <a href=\"http://code.google.com/p/smslib/\" rel=\"nofollow\">SMSLib</a>: the PDU utilities it has worked perfectly for sending via Nokia phones (over a serial link). My assumption (which may be wrong) is that they will work for Android as well, assuming the interface is actually compliant with the spec.</p>\n"},{"tags":[],"owner":{"account_id":1044828,"reputation":7482,"user_id":1050058,"accept_rate":60,"display_name":"Trung Nguyen"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1680025013,"creation_date":1347188720,"answer_id":12338541,"question_id":12335642,"body_markdown":"Maybe this snippet doesn&#39;t have many detail fields like you want but for my **simple purpose** it can invoke notification like another sms.\r\n\r\n    private static void createFakeSms(Context context, String sender,\r\n      String body) {\r\n      byte[] pdu = null;\r\n      byte[] scBytes = PhoneNumberUtils\r\n        .networkPortionToCalledPartyBCD(&quot;0000000000&quot;);\r\n      byte[] senderBytes = PhoneNumberUtils\r\n        .networkPortionToCalledPartyBCD(sender);\r\n      int lsmcs = scBytes.length;\r\n      byte[] dateBytes = new byte[7];\r\n      Calendar calendar = new GregorianCalendar();\r\n      dateBytes[0] = reverseByte((byte)(calendar.get(Calendar.YEAR)));\r\n      dateBytes[1] = reverseByte((byte)(calendar.get(Calendar.MONTH) + 1));\r\n      dateBytes[2] = reverseByte((byte)(calendar.get(Calendar.DAY_OF_MONTH)));\r\n      dateBytes[3] = reverseByte((byte)(calendar.get(Calendar.HOUR_OF_DAY)));\r\n      dateBytes[4] = reverseByte((byte)(calendar.get(Calendar.MINUTE)));\r\n      dateBytes[5] = reverseByte((byte)(calendar.get(Calendar.SECOND)));\r\n      dateBytes[6] = reverseByte((byte)((calendar.get(Calendar.ZONE_OFFSET) + calendar\r\n        .get(Calendar.DST_OFFSET)) / (60 * 1000 * 15)));\r\n      try {\r\n        ByteArrayOutputStream bo = new ByteArrayOutputStream();\r\n        bo.write(lsmcs);\r\n        bo.write(scBytes);\r\n        bo.write(0x04);\r\n        bo.write((byte) sender.length());\r\n        bo.write(senderBytes);\r\n        bo.write(0x00);\r\n        bo.write(0x00); // encoding: 0 for default 7bit\r\n        bo.write(dateBytes);\r\n        try {\r\n          String sReflectedClassName = &quot;com.android.internal.telephony.GsmAlphabet&quot;;\r\n          Class cReflectedNFCExtras = Class.forName(sReflectedClassName);\r\n          Method stringToGsm7BitPacked = cReflectedNFCExtras.getMethod(\r\n            &quot;stringToGsm7BitPacked&quot;, new Class[] {\r\n              String.class\r\n            });\r\n          stringToGsm7BitPacked.setAccessible(true);\r\n          byte[] bodybytes = (byte[]) stringToGsm7BitPacked.invoke(null,\r\n            body);\r\n          bo.write(bodybytes);\r\n        } catch (Exception e) {}\r\n    \r\n        pdu = bo.toByteArray();\r\n      } catch (IOException e) {}\r\n    \r\n      Intent intent = new Intent();\r\n      intent.setClassName(&quot;com.android.mms&quot;,\r\n        &quot;com.android.mms.transaction.SmsReceiverService&quot;);\r\n      intent.setAction(&quot;android.provider.Telephony.SMS_RECEIVED&quot;);\r\n      intent.putExtra(&quot;pdus&quot;, new Object[] {\r\n        pdu\r\n      });\r\n      intent.putExtra(&quot;format&quot;, &quot;3gpp&quot;);\r\n      context.startService(intent);\r\n    }\r\n    \r\n    private static byte reverseByte(byte b) {\r\n      return (byte)((b &amp; 0xF0) &gt;&gt; 4 | (b &amp; 0x0F) &lt;&lt; 4);\r\n    }\r\n\r\n    public static final SmsMessage[] getMessagesFromIntent(\r\n      Intent intent) {\r\n      Object[] messages = (Object[]) intent.getSerializableExtra(&quot;pdus&quot;);\r\n      byte[][] pduObjs = new byte[messages.length][];\r\n    \r\n      for (int i = 0; i &lt; messages.length; i++) {\r\n        pduObjs[i] = (byte[]) messages[i];\r\n      }\r\n      byte[][] pdus = new byte[pduObjs.length][];\r\n      int pduCount = pdus.length;\r\n      SmsMessage[] msgs = new SmsMessage[pduCount];\r\n      for (int i = 0; i &lt; pduCount; i++) {\r\n        pdus[i] = pduObjs[i];\r\n        msgs[i] = SmsMessage.createFromPdu(pdus[i]);\r\n      }\r\n      return msgs;\r\n    }","title":"Create PDU for Android that works with SmsMessage.createFromPdu() (GSM 3gpp)","body":"<p>Maybe this snippet doesn't have many detail fields like you want but for my <strong>simple purpose</strong> it can invoke notification like another sms.</p>\n<pre><code>private static void createFakeSms(Context context, String sender,\n  String body) {\n  byte[] pdu = null;\n  byte[] scBytes = PhoneNumberUtils\n    .networkPortionToCalledPartyBCD(&quot;0000000000&quot;);\n  byte[] senderBytes = PhoneNumberUtils\n    .networkPortionToCalledPartyBCD(sender);\n  int lsmcs = scBytes.length;\n  byte[] dateBytes = new byte[7];\n  Calendar calendar = new GregorianCalendar();\n  dateBytes[0] = reverseByte((byte)(calendar.get(Calendar.YEAR)));\n  dateBytes[1] = reverseByte((byte)(calendar.get(Calendar.MONTH) + 1));\n  dateBytes[2] = reverseByte((byte)(calendar.get(Calendar.DAY_OF_MONTH)));\n  dateBytes[3] = reverseByte((byte)(calendar.get(Calendar.HOUR_OF_DAY)));\n  dateBytes[4] = reverseByte((byte)(calendar.get(Calendar.MINUTE)));\n  dateBytes[5] = reverseByte((byte)(calendar.get(Calendar.SECOND)));\n  dateBytes[6] = reverseByte((byte)((calendar.get(Calendar.ZONE_OFFSET) + calendar\n    .get(Calendar.DST_OFFSET)) / (60 * 1000 * 15)));\n  try {\n    ByteArrayOutputStream bo = new ByteArrayOutputStream();\n    bo.write(lsmcs);\n    bo.write(scBytes);\n    bo.write(0x04);\n    bo.write((byte) sender.length());\n    bo.write(senderBytes);\n    bo.write(0x00);\n    bo.write(0x00); // encoding: 0 for default 7bit\n    bo.write(dateBytes);\n    try {\n      String sReflectedClassName = &quot;com.android.internal.telephony.GsmAlphabet&quot;;\n      Class cReflectedNFCExtras = Class.forName(sReflectedClassName);\n      Method stringToGsm7BitPacked = cReflectedNFCExtras.getMethod(\n        &quot;stringToGsm7BitPacked&quot;, new Class[] {\n          String.class\n        });\n      stringToGsm7BitPacked.setAccessible(true);\n      byte[] bodybytes = (byte[]) stringToGsm7BitPacked.invoke(null,\n        body);\n      bo.write(bodybytes);\n    } catch (Exception e) {}\n\n    pdu = bo.toByteArray();\n  } catch (IOException e) {}\n\n  Intent intent = new Intent();\n  intent.setClassName(&quot;com.android.mms&quot;,\n    &quot;com.android.mms.transaction.SmsReceiverService&quot;);\n  intent.setAction(&quot;android.provider.Telephony.SMS_RECEIVED&quot;);\n  intent.putExtra(&quot;pdus&quot;, new Object[] {\n    pdu\n  });\n  intent.putExtra(&quot;format&quot;, &quot;3gpp&quot;);\n  context.startService(intent);\n}\n\nprivate static byte reverseByte(byte b) {\n  return (byte)((b &amp; 0xF0) &gt;&gt; 4 | (b &amp; 0x0F) &lt;&lt; 4);\n}\n\npublic static final SmsMessage[] getMessagesFromIntent(\n  Intent intent) {\n  Object[] messages = (Object[]) intent.getSerializableExtra(&quot;pdus&quot;);\n  byte[][] pduObjs = new byte[messages.length][];\n\n  for (int i = 0; i &lt; messages.length; i++) {\n    pduObjs[i] = (byte[]) messages[i];\n  }\n  byte[][] pdus = new byte[pduObjs.length][];\n  int pduCount = pdus.length;\n  SmsMessage[] msgs = new SmsMessage[pduCount];\n  for (int i = 0; i &lt; pduCount; i++) {\n    pdus[i] = pduObjs[i];\n    msgs[i] = SmsMessage.createFromPdu(pdus[i]);\n  }\n  return msgs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1121136,"reputation":24750,"user_id":1109425,"accept_rate":100,"display_name":"nandeesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347206548,"creation_date":1347206548,"answer_id":12340619,"question_id":12335642,"body_markdown":"Do check this [code in console.c](http://androidxref.com/4.0.4/xref/external/qemu/android/console.c#1576). This is where android emulator creates the pdu and [RIL.java](http://androidxref.com/4.0.4/xref/frameworks/base/telephony/java/com/android/internal/telephony/RIL.java#2467) where the CMT message is converted to an SmsMessage. You can use `SmsMessage.getPdu` to get the pdu. But `SmsMessage.newFromCmt` looks to be a internal api. So it might not be reliable. \r\n\r\nFurther this is just for Gsm,  cdma has a completely different codeflow and since RIL.java and modem are completely manufacturer specific, this might only work on emulator.  \r\n\r\nUsually GSM code is more reliable on android, so might as well work on gsm phone. Do give it a try.\r\n","title":"Create PDU for Android that works with SmsMessage.createFromPdu() (GSM 3gpp)","body":"<p>Do check this <a href=\"http://androidxref.com/4.0.4/xref/external/qemu/android/console.c#1576\" rel=\"nofollow\">code in console.c</a>. This is where android emulator creates the pdu and <a href=\"http://androidxref.com/4.0.4/xref/frameworks/base/telephony/java/com/android/internal/telephony/RIL.java#2467\" rel=\"nofollow\">RIL.java</a> where the CMT message is converted to an SmsMessage. You can use <code>SmsMessage.getPdu</code> to get the pdu. But <code>SmsMessage.newFromCmt</code> looks to be a internal api. So it might not be reliable. </p>\n\n<p>Further this is just for Gsm,  cdma has a completely different codeflow and since RIL.java and modem are completely manufacturer specific, this might only work on emulator.  </p>\n\n<p>Usually GSM code is more reliable on android, so might as well work on gsm phone. Do give it a try.</p>\n"}],"owner":{"account_id":1551426,"reputation":2379,"user_id":1443717,"accept_rate":93,"display_name":"StrikeForceZero"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22882,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":12338541,"answer_count":3,"score":12,"last_activity_date":1680025013,"creation_date":1347151486,"question_id":12335642,"body_markdown":"**Goal:** (NOTE: The answer selected generates a GSM (3gpp) PDU) for [CDMA (3gpp2) please refer here][1]\r\n\r\nTo create a PDU that can be passed into `SmsMessage.createFromPdu(byte[] pdu)`.\r\nI&#39;m &quot;Broadcasting an Intent&quot; to one of my `BroadcastReciever` that listens for SMS messages.\r\n\r\nOne `BroadcastReciever`\r\n\r\nUsing `android.provider.Telephony.SMS_RECEIVED` for *&quot;real&quot;* SMS&#39;s \r\n\r\nUsing a custom `intent-filter` action for these new *&quot;application SMS&#39;s&quot;*.\r\n\r\n    @Override\r\n\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t\r\n\t\tBundle bundle = intent.getExtras();\r\n\r\n\t\tif (bundle != null) {\r\n\t\t\tObject[] pdusObj = (Object[]) bundle.get(&quot;pdus&quot;);\r\n\t\t\tSmsMessage[] messages = new SmsMessage[pdusObj.length];\r\n\r\n\t\t\t// getting SMS information from Pdu.\r\n\t\t\tfor (int i = 0; i &lt; pdusObj.length; i++) {\r\n\t\t\t\tmessages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (SmsMessage currentMessage : messages) {\r\n                //the currentMessage.getDisplayOriginatingAddress() \r\n                //or .getDisplayMessageBody() is null if I Broadcast a fake sms\r\n\t\t\t\tLog.i(&quot;BB&quot;, &quot;address:&quot;+currentMessage.getDisplayOriginatingAddress()+&quot; message:&quot;+currentMessage.getDisplayMessageBody());\r\n        ...\r\n\r\nSo I want my `BroadcastReciever` to be able to handle both types of messages without adding extra code \r\n\r\n(yes I know I can have a different `BroadcastReciever` for the different `intent-filter` action but I would like to actually pull this off as I know it can be done, I&#39;m stubborn)\r\n\r\n**Research:**\r\n\r\nI&#39;ve been doing research all day/night. I&#39;ve tried writing my own even though I&#39;m very terrible with the math and conversions and creating a suitable algorithm. I&#39;ve looked over [Stack topics on PDUs][2], and [Create PDU Android][3] but the link is broken in the answer. I even Looked at `com.google.android.mms.pdu` source code\r\n\r\nso far I&#39;ve only been able to create a PDU without a &quot;*originating address*&quot; using some code from http://www.wrankl.de/JavaPC/SMSTools.html\r\n\r\n**PDU:**\r\n\r\ndestination: 555 message: helloworld\r\n\r\n    &quot;1100038155f50000aa0ae8329bfdbebfe56c32&quot;\r\n\r\nWhich obviously isn&#39;t valid...\r\n\r\n**Side Notes:**\r\n\r\nI don&#39;t plan on doing anything with the PDU besides local use, I do not want hard coded PDU&#39;s in my code because I&#39;m not reusing the PDU.\r\n\r\nIf there is anything I can add to the code I&#39;m using to add in a *&quot;originating address&quot;*, that will work. Or does anyone have info on a Library I&#39;m not aware of?\r\n\r\n\r\nThanks\r\n\r\n**Updates:**\r\n\r\ntried \r\n\r\n    byte[] by =(byte[])(SmsMessage.getSubmitPdu(&quot;12345&quot;, &quot;1234&quot;, &quot;hello&quot;, false).encodedMessage);\r\n\r\nwhich gives me the following (in hex representation)\r\n\r\n    &quot;0000100200000000000000000000000004010203040000000e000320ec400107102e8cbb366f00&quot;\r\n\r\ndid&#39;t work\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/12487634/1443717\r\n  [2]: https://stackoverflow.com/tags/pdu/hot\r\n  [3]: https://stackoverflow.com/q/5822806/1443717","title":"Create PDU for Android that works with SmsMessage.createFromPdu() (GSM 3gpp)","body":"<p><strong>Goal:</strong> (NOTE: The answer selected generates a GSM (3gpp) PDU) for <a href=\"https://stackoverflow.com/q/12487634/1443717\">CDMA (3gpp2) please refer here</a></p>\n\n<p>To create a PDU that can be passed into <code>SmsMessage.createFromPdu(byte[] pdu)</code>.\nI'm \"Broadcasting an Intent\" to one of my <code>BroadcastReciever</code> that listens for SMS messages.</p>\n\n<p>One <code>BroadcastReciever</code></p>\n\n<p>Using <code>android.provider.Telephony.SMS_RECEIVED</code> for <em>\"real\"</em> SMS's </p>\n\n<p>Using a custom <code>intent-filter</code> action for these new <em>\"application SMS's\"</em>.</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n\n    Bundle bundle = intent.getExtras();\n\n    if (bundle != null) {\n        Object[] pdusObj = (Object[]) bundle.get(\"pdus\");\n        SmsMessage[] messages = new SmsMessage[pdusObj.length];\n\n        // getting SMS information from Pdu.\n        for (int i = 0; i &lt; pdusObj.length; i++) {\n            messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i]);\n        }\n\n        for (SmsMessage currentMessage : messages) {\n            //the currentMessage.getDisplayOriginatingAddress() \n            //or .getDisplayMessageBody() is null if I Broadcast a fake sms\n            Log.i(\"BB\", \"address:\"+currentMessage.getDisplayOriginatingAddress()+\" message:\"+currentMessage.getDisplayMessageBody());\n    ...\n</code></pre>\n\n<p>So I want my <code>BroadcastReciever</code> to be able to handle both types of messages without adding extra code </p>\n\n<p>(yes I know I can have a different <code>BroadcastReciever</code> for the different <code>intent-filter</code> action but I would like to actually pull this off as I know it can be done, I'm stubborn)</p>\n\n<p><strong>Research:</strong></p>\n\n<p>I've been doing research all day/night. I've tried writing my own even though I'm very terrible with the math and conversions and creating a suitable algorithm. I've looked over <a href=\"https://stackoverflow.com/tags/pdu/hot\">Stack topics on PDUs</a>, and <a href=\"https://stackoverflow.com/q/5822806/1443717\">Create PDU Android</a> but the link is broken in the answer. I even Looked at <code>com.google.android.mms.pdu</code> source code</p>\n\n<p>so far I've only been able to create a PDU without a \"<em>originating address</em>\" using some code from <a href=\"http://www.wrankl.de/JavaPC/SMSTools.html\" rel=\"nofollow noreferrer\">http://www.wrankl.de/JavaPC/SMSTools.html</a></p>\n\n<p><strong>PDU:</strong></p>\n\n<p>destination: 555 message: helloworld</p>\n\n<pre><code>\"1100038155f50000aa0ae8329bfdbebfe56c32\"\n</code></pre>\n\n<p>Which obviously isn't valid...</p>\n\n<p><strong>Side Notes:</strong></p>\n\n<p>I don't plan on doing anything with the PDU besides local use, I do not want hard coded PDU's in my code because I'm not reusing the PDU.</p>\n\n<p>If there is anything I can add to the code I'm using to add in a <em>\"originating address\"</em>, that will work. Or does anyone have info on a Library I'm not aware of?</p>\n\n<p>Thanks</p>\n\n<p><strong>Updates:</strong></p>\n\n<p>tried </p>\n\n<pre><code>byte[] by =(byte[])(SmsMessage.getSubmitPdu(\"12345\", \"1234\", \"hello\", false).encodedMessage);\n</code></pre>\n\n<p>which gives me the following (in hex representation)</p>\n\n<pre><code>\"0000100200000000000000000000000004010203040000000e000320ec400107102e8cbb366f00\"\n</code></pre>\n\n<p>did't work</p>\n"},{"tags":["java","spring","jmx","mbeans","spring-micrometer"],"owner":{"account_id":25699398,"reputation":23,"user_id":19459641,"display_name":"Hiccup Test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680024303,"creation_date":1680024303,"question_id":75869287,"body_markdown":"We have a system with multiple tenants that adds a tag, which connects a specific metric to some tenant. Let&#39;s call it **tenant_id**.\r\n\r\nAccording to micrometer documentation, https://micrometer.io/docs/concepts, section 3,JMX is **hierarchical**. This means that:\r\n\r\n&gt; When publishing metrics to hierarchical systems, Micrometer flattens\r\n&gt; the set of tag key/value pairs and adds them to the name\r\n\r\nI see in **jconsole** that micrometer will add said **tenant_id** to name like {metric_name_formatted_for_jmx}.tenant_id.{value_for_tenant_id}.\r\n\r\nIs there a way to make the value for tenant_id to be an attribute for said MBean instead of part of its name?","title":"How to export Micrometer metrics to JMX MBeans with own attributes?","body":"<p>We have a system with multiple tenants that adds a tag, which connects a specific metric to some tenant. Let's call it <strong>tenant_id</strong>.</p>\n<p>According to micrometer documentation, <a href=\"https://micrometer.io/docs/concepts\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/concepts</a>, section 3,JMX is <strong>hierarchical</strong>. This means that:</p>\n<blockquote>\n<p>When publishing metrics to hierarchical systems, Micrometer flattens\nthe set of tag key/value pairs and adds them to the name</p>\n</blockquote>\n<p>I see in <strong>jconsole</strong> that micrometer will add said <strong>tenant_id</strong> to name like {metric_name_formatted_for_jmx}.tenant_id.{value_for_tenant_id}.</p>\n<p>Is there a way to make the value for tenant_id to be an attribute for said MBean instead of part of its name?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","facade"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1680014723,"post_id":75867679,"comment_id":133822280,"body_markdown":"can u show `AccountDto` class ?","body":"can u show <code>AccountDto</code> class ?"},{"owner":{"account_id":23518722,"reputation":1,"user_id":17566207,"display_name":"Alperen G&#246;kbak"},"score":0,"creation_date":1680020678,"post_id":75867679,"comment_id":133824123,"body_markdown":"`\ndata class AccountDto(\n        val id: String?,\n        val balance: BigDecimal? = BigDecimal.ZERO,\n        val creationDate: LocalDateTime,\n        val customer: AccountCustomerDto?,\n        val transactions: Set&lt;TransactionDto&gt;?\n)\n`","body":"` data class AccountDto(         val id: String?,         val balance: BigDecimal? = BigDecimal.ZERO,         val creationDate: LocalDateTime,         val customer: AccountCustomerDto?,         val transactions: Set&lt;TransactionDto&gt;? ) `"}],"owner":{"account_id":23518722,"reputation":1,"user_id":17566207,"display_name":"Alperen G&#246;kbak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680024258,"creation_date":1680014332,"question_id":75867679,"body_markdown":"```\r\n@Component\r\npublic class AccountDtoConverter {\r\n    private final CustomerDtoConverter customerDtoConverter;\r\n    private final TransactionDtoConverter transactionDtoConverter;\r\n\r\n    public AccountDtoConverter(CustomerDtoConverter customerDtoConverter, TransactionDtoConverter transactionDtoConverter) {\r\n        this.customerDtoConverter = customerDtoConverter;\r\n        this.transactionDtoConverter = transactionDtoConverter;\r\n    }\r\n\r\n    public AccountDto convert(Account from) {\r\n        return new AccountDto(from.getId(),\r\n                from.getBalance(),\r\n                from.getCreationDate(),\r\n                customerDtoConverter.convertToAccountCustomer(from.getCustomer()),\r\n                Objects.requireNonNull(from.getTransaction())\r\n                        .stream()\r\n                        .map(transactionDtoConverter::convert)\r\n                        .collect(Collectors.toSet()));\r\n    }\r\n}\r\n\r\n@Component\r\npublic class TransactionDtoConverter {\r\n\r\n    public TransactionDto convert(Transaction from) {\r\n        return new TransactionDto(from.getId(),\r\n                from.getTransactionType(),\r\n                from.getAmount(),\r\n                from.getTransactionDate());\r\n    }\r\n}\r\n\r\ndata class AccountDto( \r\n    val id: String?,\r\n    val balance: BigDecimal? = BigDecimal.ZERO,\r\n    val creationDate: LocalDateTime,\r\n    val customer: AccountCustomerDto?,\r\n    val transactions: Set&lt;TransactionDto&gt;? ) \r\n\r\n```\r\nI&#39;ve took error **&#39;map(java.util.function.Function&lt;? super org.hibernate.Transaction,? extends R&gt;)&#39; in &#39;java.util.stream.Stream&#39; cannot be applied to &#39;(&lt;method reference&gt;)&#39;** in;\r\n\r\n```\r\n.map(transactionDtoConverter::convert)\r\n```\r\nthat line. I shared the whole code block upside. I&#39;m using Intellij IDEA. And that is just one of my classes. \r\n\r\n\r\n\r\nMy java version is JDK 19.0.2, I&#39;ve created that class while watching one course on YouTube. But instructor was using the 11.0 version. Could that error be caused java version ?\r\nLastly, we did example that regarding spring boot.","title":"Cannot be applied to &#39;(&lt;method reference&gt;)&#39;","body":"<pre><code>@Component\npublic class AccountDtoConverter {\n    private final CustomerDtoConverter customerDtoConverter;\n    private final TransactionDtoConverter transactionDtoConverter;\n\n    public AccountDtoConverter(CustomerDtoConverter customerDtoConverter, TransactionDtoConverter transactionDtoConverter) {\n        this.customerDtoConverter = customerDtoConverter;\n        this.transactionDtoConverter = transactionDtoConverter;\n    }\n\n    public AccountDto convert(Account from) {\n        return new AccountDto(from.getId(),\n                from.getBalance(),\n                from.getCreationDate(),\n                customerDtoConverter.convertToAccountCustomer(from.getCustomer()),\n                Objects.requireNonNull(from.getTransaction())\n                        .stream()\n                        .map(transactionDtoConverter::convert)\n                        .collect(Collectors.toSet()));\n    }\n}\n\n@Component\npublic class TransactionDtoConverter {\n\n    public TransactionDto convert(Transaction from) {\n        return new TransactionDto(from.getId(),\n                from.getTransactionType(),\n                from.getAmount(),\n                from.getTransactionDate());\n    }\n}\n\ndata class AccountDto( \n    val id: String?,\n    val balance: BigDecimal? = BigDecimal.ZERO,\n    val creationDate: LocalDateTime,\n    val customer: AccountCustomerDto?,\n    val transactions: Set&lt;TransactionDto&gt;? ) \n\n</code></pre>\n<p>I've took error <strong>'map(java.util.function.Function&lt;? super org.hibernate.Transaction,? extends R&gt;)' in 'java.util.stream.Stream' cannot be applied to '()'</strong> in;</p>\n<pre><code>.map(transactionDtoConverter::convert)\n</code></pre>\n<p>that line. I shared the whole code block upside. I'm using Intellij IDEA. And that is just one of my classes.</p>\n<p>My java version is JDK 19.0.2, I've created that class while watching one course on YouTube. But instructor was using the 11.0 version. Could that error be caused java version ?\nLastly, we did example that regarding spring boot.</p>\n"},{"tags":["java","xml","spring","jackson"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680024089,"creation_date":1680022910,"answer_id":75869079,"question_id":75847581,"body_markdown":"The String is XML, not JSON. To deserialise it you need to define the target class and use a JAXB unmarshaller as follows:\r\n\r\n    package com.whatever.yahooparser;\r\n    \r\n    import java.io.InputStream;\r\n    import java.io.StringReader;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    \r\n    import jakarta.xml.bind.JAXBContext;\r\n    import jakarta.xml.bind.JAXBException;\r\n    import jakarta.xml.bind.annotation.XmlElement;\r\n    import jakarta.xml.bind.annotation.XmlRootElement;\r\n    import jakarta.xml.bind.annotation.XmlType;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    @XmlRootElement(name = &quot;Product&quot;)\r\n    @XmlType()\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class ProductModel {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception { //throws JAXBException {\r\n    \t\tString input = &quot;&lt;ns2:Product   xmlns:ns2=\\&quot;urn:http://xy/fzyz-service\\&quot;&gt;     &lt;ns2:searchId&gt;6419e0d870253f55398d26d4&lt;/ns2:searchId&gt;   &lt;ns2:travelers&gt;         &lt;ns2:traveler&gt;          &lt;ns2:guest&gt;false&lt;/ns2:guest&gt;        &lt;/ns2:traveler&gt;     &lt;/ns2:travelers&gt;    &lt;ns2:hasInsurance&gt;false&lt;/ns2:hasInsurance&gt; &lt;/ns2:Product&gt;&quot;;\r\n    \t\t\t\r\n    \t\tJAXBContext context = JAXBContext.newInstance(ProductModel.class);\r\n    \t\tProductModel productModel = (ProductModel) context.createUnmarshaller()\r\n    \t      .unmarshal(new StringReader(input));\r\n    \t\tSystem.out.println(productModel);\r\n    \t}\r\n    \t\r\n        private String searchId;\r\n        private Traveler[] travelers;\r\n        private boolean hasInsurance;\r\n    \r\n        @XmlElement(name = &quot;searchId&quot;)\r\n        public void setSearchId(String searchId) {\r\n            this.searchId = searchId;\r\n        }\r\n    \r\n        @XmlElement(name = &quot;travelers&quot;)\r\n        public void setTravelers(Traveler[] travelers) {\r\n            this.travelers = travelers;\r\n        }\r\n        \r\n        @XmlElement(name = &quot;hasInsurance&quot;)\r\n        public void setHasInsurance(boolean hasInsurance) {\r\n            this.hasInsurance = hasInsurance;\r\n        }\r\n    \r\n        @Data\r\n        public static class Traveler {\r\n        \t\r\n         \tboolean guest;\r\n    \r\n            @XmlElement(name = &quot;traveler&quot;)\r\n    \t\tpublic void setGuest(boolean guest) {\r\n    \t\t\tthis.guest = guest;\r\n    \t\t}\r\n        \t\r\n        \t\r\n        }\r\n    }\r\n\r\nOutput as follows:\r\n\r\n    ProductModel(searchId=6419e0d870253f55398d26d4, travelers=[ProductModel.Traveler(guest=false)], hasInsurance=false)\r\n\r\nThe following are also required.\r\n\r\npackage-info.java (at package level)\r\n\r\n    @XmlSchema(\r\n        namespace=&quot;urn:http://xy/fzyz-service&quot;,\r\n        elementFormDefault=XmlNsForm.QUALIFIED)  \r\n    \r\n    package com.whatever.yahooparser;\r\n    \r\n    import jakarta.xml.bind.annotation.XmlSchema;\r\n    import jakarta.xml.bind.annotation.XmlNsForm;\r\n\r\nDependencies for JAXB as follows (Java 17+)\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"How to convert json/String to org.w3c.dom.Element object in Java","body":"<p>The String is XML, not JSON. To deserialise it you need to define the target class and use a JAXB unmarshaller as follows:</p>\n<pre><code>package com.whatever.yahooparser;\n\nimport java.io.InputStream;\nimport java.io.StringReader;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\n\nimport jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@XmlRootElement(name = &quot;Product&quot;)\n@XmlType()\n@NoArgsConstructor\n@Data\npublic class ProductModel {\n    \n    \n    public static void main(String[] args) throws Exception { //throws JAXBException {\n        String input = &quot;&lt;ns2:Product   xmlns:ns2=\\&quot;urn:http://xy/fzyz-service\\&quot;&gt;     &lt;ns2:searchId&gt;6419e0d870253f55398d26d4&lt;/ns2:searchId&gt;   &lt;ns2:travelers&gt;         &lt;ns2:traveler&gt;          &lt;ns2:guest&gt;false&lt;/ns2:guest&gt;        &lt;/ns2:traveler&gt;     &lt;/ns2:travelers&gt;    &lt;ns2:hasInsurance&gt;false&lt;/ns2:hasInsurance&gt; &lt;/ns2:Product&gt;&quot;;\n            \n        JAXBContext context = JAXBContext.newInstance(ProductModel.class);\n        ProductModel productModel = (ProductModel) context.createUnmarshaller()\n          .unmarshal(new StringReader(input));\n        System.out.println(productModel);\n    }\n    \n    private String searchId;\n    private Traveler[] travelers;\n    private boolean hasInsurance;\n\n    @XmlElement(name = &quot;searchId&quot;)\n    public void setSearchId(String searchId) {\n        this.searchId = searchId;\n    }\n\n    @XmlElement(name = &quot;travelers&quot;)\n    public void setTravelers(Traveler[] travelers) {\n        this.travelers = travelers;\n    }\n    \n    @XmlElement(name = &quot;hasInsurance&quot;)\n    public void setHasInsurance(boolean hasInsurance) {\n        this.hasInsurance = hasInsurance;\n    }\n\n    @Data\n    public static class Traveler {\n        \n        boolean guest;\n\n        @XmlElement(name = &quot;traveler&quot;)\n        public void setGuest(boolean guest) {\n            this.guest = guest;\n        }\n        \n        \n    }\n}\n</code></pre>\n<p>Output as follows:</p>\n<pre><code>ProductModel(searchId=6419e0d870253f55398d26d4, travelers=[ProductModel.Traveler(guest=false)], hasInsurance=false)\n</code></pre>\n<p>The following are also required.</p>\n<p>package-info.java (at package level)</p>\n<pre><code>@XmlSchema(\n    namespace=&quot;urn:http://xy/fzyz-service&quot;,\n    elementFormDefault=XmlNsForm.QUALIFIED)  \n\npackage com.whatever.yahooparser;\n\nimport jakarta.xml.bind.annotation.XmlSchema;\nimport jakarta.xml.bind.annotation.XmlNsForm;\n</code></pre>\n<p>Dependencies for JAXB as follows (Java 17+)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18660896,"reputation":21,"user_id":13602132,"display_name":"Angad yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680024089,"creation_date":1679831751,"question_id":75847581,"body_markdown":"`&lt;ns2:Product \txmlns:ns2=&quot;urn:http://xy/fzyz-service&quot;&gt; \t&lt;ns2:searchId&gt;6419e0d870253f55398d26d4&lt;/ns2:searchId&gt; \t&lt;ns2:travelers&gt; \t\t&lt;ns2:traveler&gt; \t\t\t&lt;ns2:guest&gt;false&lt;/ns2:guest&gt; \t\t&lt;/ns2:traveler&gt; \t&lt;/ns2:travelers&gt; \t&lt;ns2:hasInsurance&gt;false&lt;/ns2:hasInsurance&gt; &lt;/ns2:Product&gt;`\r\n\r\nI am getting above Xml in String format &amp; I have to convert it into Element type.\r\n\r\n`class  Demo{ Element any; }`\r\n\r\nI have tried below code of objectMapper but getting error\r\n\r\n`Element element  =  objectMapper.convertValue(aboveXmlInStringFormat,Element.class);`\r\n\r\n`Cannot cast &#39;com.sun.org.apache.xerces.internal.dom.DeferredDocumentImpl&#39; to &#39;org.w3c.dom.Element&#39;`","title":"How to convert json/String to org.w3c.dom.Element object in Java","body":"<p><code>&lt;ns2:Product   xmlns:ns2=&quot;urn:http://xy/fzyz-service&quot;&gt;     &lt;ns2:searchId&gt;6419e0d870253f55398d26d4&lt;/ns2:searchId&gt;   &lt;ns2:travelers&gt;         &lt;ns2:traveler&gt;          &lt;ns2:guest&gt;false&lt;/ns2:guest&gt;        &lt;/ns2:traveler&gt;     &lt;/ns2:travelers&gt;    &lt;ns2:hasInsurance&gt;false&lt;/ns2:hasInsurance&gt; &lt;/ns2:Product&gt;</code></p>\n<p>I am getting above Xml in String format &amp; I have to convert it into Element type.</p>\n<p><code>class  Demo{ Element any; }</code></p>\n<p>I have tried below code of objectMapper but getting error</p>\n<p><code>Element element  =  objectMapper.convertValue(aboveXmlInStringFormat,Element.class);</code></p>\n<p><code>Cannot cast 'com.sun.org.apache.xerces.internal.dom.DeferredDocumentImpl' to 'org.w3c.dom.Element'</code></p>\n"},{"tags":["java","polymorphism"],"answers":[{"tags":[],"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300704999,"creation_date":1300704999,"answer_id":5376659,"question_id":5376614,"body_markdown":"Your `Polymorphism Type 1` and `Polymorphism Type 2` is the same polymorphism :)","title":"Polymorphism using Interface and Classes","body":"<p>Your <code>Polymorphism Type 1</code> and <code>Polymorphism Type 2</code> is the same polymorphism :)</p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300705031,"creation_date":1300705031,"answer_id":5376671,"question_id":5376614,"body_markdown":"With respect to **runtime** behavior there is **no different**. But \r\n\r\nThe difference is with the **compilation**. ie\r\n\r\n\r\nIn 1st Type as you are using the direct class references you need both the classes to be present at the compile time.\r\n\r\nBut With 2nd type the classes are required only at the runtime.","title":"Polymorphism using Interface and Classes","body":"<p>With respect to <strong>runtime</strong> behavior there is <strong>no different</strong>. But </p>\n\n<p>The difference is with the <strong>compilation</strong>. ie</p>\n\n<p>In 1st Type as you are using the direct class references you need both the classes to be present at the compile time.</p>\n\n<p>But With 2nd type the classes are required only at the runtime.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1300705172,"creation_date":1300705172,"answer_id":5376690,"question_id":5376614,"body_markdown":"I guess there&#39;s one difference between\r\n\r\n    Command c = CommandFactory.getCommand(&quot;Read&quot;);\r\n\r\nand \r\n\r\n    A a =  new B();\r\n\r\n... in the first case, you have *no option* but to use the interface (or just `Object`) because the expression on right hand side of the assignment operator is of type `Command`.\r\n\r\nIn the second case, you&#39;re deliberately *choosing* to assign the result to a variable of type `A`, even though you *could* have written\r\n\r\n    B b = new B();\r\n\r\nThis is really just a difference in the design choices though - it doesn&#39;t affect how a call to `c.execute()` or `a.execute()` will actually behave.","title":"Polymorphism using Interface and Classes","body":"<p>I guess there's one difference between</p>\n\n<pre><code>Command c = CommandFactory.getCommand(\"Read\");\n</code></pre>\n\n<p>and </p>\n\n<pre><code>A a =  new B();\n</code></pre>\n\n<p>... in the first case, you have <em>no option</em> but to use the interface (or just <code>Object</code>) because the expression on right hand side of the assignment operator is of type <code>Command</code>.</p>\n\n<p>In the second case, you're deliberately <em>choosing</em> to assign the result to a variable of type <code>A</code>, even though you <em>could</em> have written</p>\n\n<pre><code>B b = new B();\n</code></pre>\n\n<p>This is really just a difference in the design choices though - it doesn't affect how a call to <code>c.execute()</code> or <code>a.execute()</code> will actually behave.</p>\n"},{"tags":[],"owner":{"account_id":336374,"reputation":186,"user_id":663992,"display_name":"PLane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300705261,"creation_date":1300705261,"answer_id":5376705,"question_id":5376614,"body_markdown":"No difference in binding (runtime). Type 1 is tightly coupled whereas type 2 is loosely coupled, makes a difference in compiling.","title":"Polymorphism using Interface and Classes","body":"<p>No difference in binding (runtime). Type 1 is tightly coupled whereas type 2 is loosely coupled, makes a difference in compiling.</p>\n"},{"tags":[],"owner":{"account_id":11400287,"reputation":31,"user_id":8357455,"display_name":"Onkar Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680023986,"creation_date":1680023986,"answer_id":75869239,"question_id":5376614,"body_markdown":"As a user, for Type 2 you will not require implementations of the interface to be included/imported. Means you just order instance of any implementation without knowing/including/importing that implementation itself.\r\n\r\nFor Type 1, you need to include/import each implementation in case you have to use that implementation.","title":"Polymorphism using Interface and Classes","body":"<p>As a user, for Type 2 you will not require implementations of the interface to be included/imported. Means you just order instance of any implementation without knowing/including/importing that implementation itself.</p>\n<p>For Type 1, you need to include/import each implementation in case you have to use that implementation.</p>\n"}],"owner":{"account_id":285358,"reputation":13115,"user_id":583980,"accept_rate":74,"display_name":"Swaranga Sarma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9019,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5376690,"answer_count":5,"score":5,"last_activity_date":1680023986,"creation_date":1300704740,"question_id":5376614,"body_markdown":"Is there any difference on the polymorphism coded below? Basically is there difference in the binding of the method calls?\r\n\r\nPolymorphism Type 1:\r\n\r\n    class A\r\n    {\r\n        public void method()\r\n        {\r\n            // do stuff\r\n        }\r\n    }\r\n    \r\n    class B extends A\r\n    {\r\n        public void method()\r\n        {\r\n            // do other stuff\r\n        }\r\n    }\r\n\r\nNow I do stuff with B using A\r\n\r\n    A a =  new B();\r\n    a.method();\r\n\r\n\r\n\r\nPolymorphism type 2:\r\n\r\n    public interface Command\r\n    {\r\n        public void execute();\r\n    }\r\n    \r\n    public class ReadCommand implements Command\r\n    {\r\n        public void execute()\r\n        {\r\n            //do reading stuff\r\n        }\r\n    }\r\n    \r\n    public class WriteCommand implements Command\r\n    {\r\n        public void execute()\r\n        {\r\n            //do writing stuff\r\n        }\r\n    }\r\n    \r\n    public class CommandFactory\r\n    {\r\n        public static Command getCommand(String s)\r\n        {\r\n            if(s.equals(&quot;Read&quot;))\r\n            {\r\n                return new ReadCommand();\r\n            }\r\n            if(s.equals(&quot;Write&quot;))\r\n            {\r\n                return new WriteCommand();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    }\r\n\r\nNow I use the command factory:\r\n\r\n    Command c = CommandFactory.getCommand(&quot;Read&quot;);\r\n    c.execute();\r\n\r\nMy question is : Is there any difference in the above two polymorphisms. I know both are examples of run time polymorphism, but is there any difference [with respect to binding of the methods], or any other difference for that matter?","title":"Polymorphism using Interface and Classes","body":"<p>Is there any difference on the polymorphism coded below? Basically is there difference in the binding of the method calls?</p>\n\n<p>Polymorphism Type 1:</p>\n\n<pre><code>class A\n{\n    public void method()\n    {\n        // do stuff\n    }\n}\n\nclass B extends A\n{\n    public void method()\n    {\n        // do other stuff\n    }\n}\n</code></pre>\n\n<p>Now I do stuff with B using A</p>\n\n<pre><code>A a =  new B();\na.method();\n</code></pre>\n\n<p>Polymorphism type 2:</p>\n\n<pre><code>public interface Command\n{\n    public void execute();\n}\n\npublic class ReadCommand implements Command\n{\n    public void execute()\n    {\n        //do reading stuff\n    }\n}\n\npublic class WriteCommand implements Command\n{\n    public void execute()\n    {\n        //do writing stuff\n    }\n}\n\npublic class CommandFactory\n{\n    public static Command getCommand(String s)\n    {\n        if(s.equals(\"Read\"))\n        {\n            return new ReadCommand();\n        }\n        if(s.equals(\"Write\"))\n        {\n            return new WriteCommand();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now I use the command factory:</p>\n\n<pre><code>Command c = CommandFactory.getCommand(\"Read\");\nc.execute();\n</code></pre>\n\n<p>My question is : Is there any difference in the above two polymorphisms. I know both are examples of run time polymorphism, but is there any difference [with respect to binding of the methods], or any other difference for that matter?</p>\n"},{"tags":["java","eclipse","hashset"],"comments":[{"owner":{"account_id":2657731,"reputation":542,"user_id":2298063,"display_name":"rhozet"},"score":0,"creation_date":1390735522,"post_id":21362616,"comment_id":32212135,"body_markdown":"plz explain me...if you can help me with answer for my question Or I mean If I want to convert list to hashset , using custom duplicate criteria, whats the best way to do..","body":"plz explain me...if you can help me with answer for my question Or I mean If I want to convert list to hashset , using custom duplicate criteria, whats the best way to do.."},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1390736272,"post_id":21362616,"comment_id":32212357,"body_markdown":"I do not understand what you want to do, do you want to store `Mobile` objects or `Comperator` objects in the set? If the first, implement your `hashcode` and `equals` in the `Mobile` class (you can use your `Comperator` implementation for `equals`). `HashSet` doesn&#39;t have a constructor which accepts a `Comperator` as the first argument, and it makes no sense either. `TreeSet` does, because it uses the comperator to order the objects (but `HashSet` is unordered)","body":"I do not understand what you want to do, do you want to store <code>Mobile</code> objects or <code>Comperator</code> objects in the set? If the first, implement your <code>hashcode</code> and <code>equals</code> in the <code>Mobile</code> class (you can use your <code>Comperator</code> implementation for <code>equals</code>). <code>HashSet</code> doesn&#39;t have a constructor which accepts a <code>Comperator</code> as the first argument, and it makes no sense either. <code>TreeSet</code> does, because it uses the comperator to order the objects (but <code>HashSet</code> is unordered)"},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1390736391,"post_id":21362616,"comment_id":32212384,"body_markdown":"Here&#39;s the java api: http://docs.oracle.com/javase/7/docs/api/.  `Comparator` is an interface, and can&#39;t be instantiated with just a `new` call (you must define the necessary functions).","body":"Here&#39;s the java api: <a href=\"http://docs.oracle.com/javase/7/docs/api/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api</a>.  <code>Comparator</code> is an interface, and can&#39;t be instantiated with just a <code>new</code> call (you must define the necessary functions)."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1390736422,"post_id":21362616,"comment_id":32212394,"body_markdown":"@Teepeemm `Comparator` is the name of `Mobile` class&#39;s *inner class*.","body":"@Teepeemm <code>Comparator</code> is the name of <code>Mobile</code> class&#39;s <i>inner class</i>."},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1390736908,"post_id":21362616,"comment_id":32212528,"body_markdown":"@MarkoTopolnik Is there some documentation for `Mobile`?  It&#39;s not in the JDK, and searching for &quot;Java Mobile api&quot; doesn&#39;t give an api (not that I can recognize).","body":"@MarkoTopolnik Is there some documentation for <code>Mobile</code>?  It&#39;s not in the JDK, and searching for &quot;Java Mobile api&quot; doesn&#39;t give an api (not that I can recognize)."},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1390738277,"post_id":21362616,"comment_id":32212859,"body_markdown":"So OP is asking us to debug a class he wrote without giving us the source code?","body":"So OP is asking us to debug a class he wrote without giving us the source code?"},{"owner":{"account_id":90578,"reputation":69072,"user_id":249281,"accept_rate":92,"display_name":"Sheridan"},"score":0,"creation_date":1390748679,"post_id":21362616,"comment_id":32216019,"body_markdown":"@user323696, please add [all relevant code](http://stackoverflow.com/help/mcve) for your problem in order to prevent your question from being closed by the community.","body":"@user323696, please add <a href=\"http://stackoverflow.com/help/mcve\">all relevant code</a> for your problem in order to prevent your question from being closed by the community."},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1632441485,"post_id":21362616,"comment_id":122500007,"body_markdown":"The guy really just wanted to know the difference between a HashSet and a TreeSet.  Then 3 people started nitpicking about syntax (which was irrelevant anyway) and closed his question because of it.","body":"The guy really just wanted to know the difference between a HashSet and a TreeSet.  Then 3 people started nitpicking about syntax (which was irrelevant anyway) and closed his question because of it."}],"answers":[{"tags":[],"owner":{"account_id":1458423,"reputation":5361,"user_id":1373425,"accept_rate":79,"display_name":"Maciej Cygan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390736255,"creation_date":1390735928,"answer_id":21362822,"question_id":21362616,"body_markdown":"Hashset is designed not to accept duplicates !. So if your set does not contain given element it will add it to the set. If however in your set such element appears 2nd (same) element will not be added and will be discarded. \r\n\r\n **HashSet:**\r\n\r\n  &gt; class offers constant time performance for the basic operations (add, \r\n   &gt; remove, contains and size). it does not guarantee that the order of   \r\n   &gt; elements will remain constant over time iteration performance depends \r\n   &gt; on the initial capacity and the load factor of the HashSet. It&#39;s   \r\n   &gt; quite safe to accept default load factor but you may want to specify  \r\n   &gt; an initial capacity that&#39;s about twice the size to which you expect   \r\n   &gt; the set to grow. \r\n\r\n**TreeSet:**\r\n\r\n&gt; guarantees log(n) time cost for the basic operations (add, remove and\r\n&gt; contains) guarantees that elements of set will be sorted (ascending,\r\n&gt; natural, or the one specified by you via it&#39;s constructor) doesn&#39;t\r\n&gt; offer any tuning parameters for iteration performance offers a few\r\n&gt; handy methods to deal with the ordered set like first(), last(),\r\n&gt; headSet(), and tailSet() etc \r\n\r\n**Important points:**\r\n&gt; \r\n&gt; Both guarantee duplicate-free collection of elements It is generally\r\n&gt; faster to add elements to the HashSet and then convert the collection\r\n&gt; to a TreeSet for a duplicate-free sorted traversal. None of these\r\n&gt; implementation are synchronized. That is if multiple threads access a\r\n&gt; set concurrently, and at least one of the threads modifies the set, it\r\n&gt; must be synchronized externally. LinkedHashSet is in some sense\r\n&gt; intermediate between HashSet and TreeSet. Implemented as a hash table\r\n&gt; with a linked list running through it, however it provides\r\n&gt; insertion-ordered iteration which is not same as sorted traversal\r\n&gt; guaranteed by TreeSet.\r\n\r\n","title":"Why can&#39;t custom comparator be used with hashSet to check duplicate objects","body":"<p>Hashset is designed not to accept duplicates !. So if your set does not contain given element it will add it to the set. If however in your set such element appears 2nd (same) element will not be added and will be discarded. </p>\n\n<p><strong>HashSet:</strong></p>\n\n<blockquote>\n  <p>class offers constant time performance for the basic operations (add, \n  remove, contains and size). it does not guarantee that the order of<br>\n  elements will remain constant over time iteration performance depends \n  on the initial capacity and the load factor of the HashSet. It's<br>\n  quite safe to accept default load factor but you may want to specify<br>\n  an initial capacity that's about twice the size to which you expect<br>\n  the set to grow. </p>\n</blockquote>\n\n<p><strong>TreeSet:</strong></p>\n\n<blockquote>\n  <p>guarantees log(n) time cost for the basic operations (add, remove and\n  contains) guarantees that elements of set will be sorted (ascending,\n  natural, or the one specified by you via it's constructor) doesn't\n  offer any tuning parameters for iteration performance offers a few\n  handy methods to deal with the ordered set like first(), last(),\n  headSet(), and tailSet() etc </p>\n</blockquote>\n\n<p><strong>Important points:</strong></p>\n\n<blockquote>\n  <p>Both guarantee duplicate-free collection of elements It is generally\n  faster to add elements to the HashSet and then convert the collection\n  to a TreeSet for a duplicate-free sorted traversal. None of these\n  implementation are synchronized. That is if multiple threads access a\n  set concurrently, and at least one of the threads modifies the set, it\n  must be synchronized externally. LinkedHashSet is in some sense\n  intermediate between HashSet and TreeSet. Implemented as a hash table\n  with a linked list running through it, however it provides\n  insertion-ordered iteration which is not same as sorted traversal\n  guaranteed by TreeSet.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1680023839,"creation_date":1390736336,"answer_id":21362884,"question_id":21362616,"body_markdown":"`HashSet` is backed by a hashtable, which is an unordered data structure. This is why it has no need for a comparator. On the other hand, `TreeSet` is backed by a binary search tree (an ordered structure), and so it needs a comparator.\r\n\r\nThe correctness of a hashtable relies on the `equals` method, while its performance relies on a well-chosen `hashCode`. You can read more about it in the Javadoc of `HashSet` and the `Object.hashCode()` method itself.\r\n","title":"Why can&#39;t custom comparator be used with hashSet to check duplicate objects","body":"<p><code>HashSet</code> is backed by a hashtable, which is an unordered data structure. This is why it has no need for a comparator. On the other hand, <code>TreeSet</code> is backed by a binary search tree (an ordered structure), and so it needs a comparator.</p>\n<p>The correctness of a hashtable relies on the <code>equals</code> method, while its performance relies on a well-chosen <code>hashCode</code>. You can read more about it in the Javadoc of <code>HashSet</code> and the <code>Object.hashCode()</code> method itself.</p>\n"}],"owner":{"account_id":2657731,"reputation":542,"user_id":2298063,"display_name":"rhozet"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17700,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":21362884,"answer_count":2,"score":7,"last_activity_date":1680023839,"creation_date":1390734482,"question_id":21362616,"body_markdown":"I want to use a custom comparator to filter duplicate objects from a `HashSet`.\r\n\r\nIn the `Mobile` class, I have defined a non-static nested `Comparator` class for comparing. The criterium which is used by this comparator is the `id` field of the `Mobile` object.\r\n\r\n    Set&lt;Mobile&gt; treeSet = new TreeSet&lt;&gt;(new Mobile().new Comparator()); // works\r\n\r\n\r\n    Set&lt;Mobile&gt; hashSet = new HashSet&lt;&gt;(new Mobile().new Comparator()); // does not work\r\n\r\n\r\nEven though it works perfectly for a `TreeSet`, Eclipse shows a syntax error when I try this with a `HashSet`, \r\n\r\nIt appears that I need to override the `equals` and `hashcode` methods in the `Mobile` class if I want to use a `HashSet`. However, I would prefer to use a comparator instead.\r\n\r\nWhy is this the case?","title":"Why can&#39;t custom comparator be used with hashSet to check duplicate objects","body":"<p>I want to use a custom comparator to filter duplicate objects from a <code>HashSet</code>.</p>\n<p>In the <code>Mobile</code> class, I have defined a non-static nested <code>Comparator</code> class for comparing. The criterium which is used by this comparator is the <code>id</code> field of the <code>Mobile</code> object.</p>\n<pre><code>Set&lt;Mobile&gt; treeSet = new TreeSet&lt;&gt;(new Mobile().new Comparator()); // works\n\n\nSet&lt;Mobile&gt; hashSet = new HashSet&lt;&gt;(new Mobile().new Comparator()); // does not work\n</code></pre>\n<p>Even though it works perfectly for a <code>TreeSet</code>, Eclipse shows a syntax error when I try this with a <code>HashSet</code>,</p>\n<p>It appears that I need to override the <code>equals</code> and <code>hashcode</code> methods in the <code>Mobile</code> class if I want to use a <code>HashSet</code>. However, I would prefer to use a comparator instead.</p>\n<p>Why is this the case?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680023731,"creation_date":1680023731,"answer_id":75869199,"question_id":75869134,"body_markdown":"It&#39;s not possible at the moment.\r\n\r\nYou can [vote for the corresponding request](https://youtrack.jetbrains.com/issue/IDEA-259009/Option-to-hide-run-command-and-exit-code-from-the-output) in YouTrack.","title":"Disable path output message in Intellij","body":"<p>It's not possible at the moment.</p>\n<p>You can <a href=\"https://youtrack.jetbrains.com/issue/IDEA-259009/Option-to-hide-run-command-and-exit-code-from-the-output\" rel=\"nofollow noreferrer\">vote for the corresponding request</a> in YouTrack.</p>\n"}],"owner":{"account_id":25588829,"reputation":200,"user_id":19366064,"display_name":"Michael Xia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680023831,"answer_count":1,"score":0,"last_activity_date":1680023731,"creation_date":1680023293,"question_id":75869134,"body_markdown":"When I run a .java file in Intellij, I see the following message:\r\n\r\n    C:\\Users\\Username\\.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1.....\r\n    \r\n    Process finished with exit code 0\r\n\r\nIs there a way to disable this message?","title":"Disable path output message in Intellij","body":"<p>When I run a .java file in Intellij, I see the following message:</p>\n<pre><code>C:\\Users\\Username\\.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.1.....\n\nProcess finished with exit code 0\n</code></pre>\n<p>Is there a way to disable this message?</p>\n"},{"tags":["java","graphql","netflix-dgs"],"answers":[{"tags":[],"owner":{"account_id":12015704,"reputation":714,"user_id":8790942,"display_name":"Danil Kuznetsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680023596,"creation_date":1680015172,"answer_id":75867828,"question_id":75756876,"body_markdown":"If I get your question right,\r\n\r\nThere are several possible ways to obtain arguments.\r\n\r\nDataFetchingEnvironment should contain all needed info \r\n\r\n1) Getting argument by name \r\n``MyFilter dfe = dfe.getArgument(&quot;filter&quot;);``\r\nwhere `dfe` instance of `DataFetchingEnvironment` that should be passed to dataFetcher. Like it is done in DGS example..\r\n\r\n```\r\n@DgsData(parentType = &quot;Query&quot;, field = &quot;shows&quot;)\r\npublic DataFetcherResult&lt;List&lt;Show&gt;&gt; shows(DataFetchingEnvironment dfe) {\r\n  dfe.getSelectionSet().contains(&quot;reviews&quot;)\r\n....\r\n```\r\n\r\n2) Getting all available arguments via `DataFetchingEnvironment` method \r\n`Map&lt;String, Object&gt; getArguments()`. It should return the arguments that have been passed in via the graphql query.\r\n\r\n3) If any previous options don&#39;t suitable, then there is one more.\r\n\r\nGetting `DataFetchingFieldSelectionSet` via `DataFetchingEnvironment` method `getSelectionSet()`\r\n\r\n`DataFetchingFieldSelectionSet` has a method \r\n\r\n```\r\nMap&lt;String,Map&lt;String,Object&gt;&gt; getArguments()\r\n```\r\nIt returns a map of the arguments for each field in the selection set. ","title":"DGS pre-loading with filter","body":"<p>If I get your question right,</p>\n<p>There are several possible ways to obtain arguments.</p>\n<p>DataFetchingEnvironment should contain all needed info</p>\n<ol>\n<li>Getting argument by name\n<code>MyFilter dfe = dfe.getArgument(&quot;filter&quot;);</code>\nwhere <code>dfe</code> instance of <code>DataFetchingEnvironment</code> that should be passed to dataFetcher. Like it is done in DGS example..</li>\n</ol>\n<pre><code>@DgsData(parentType = &quot;Query&quot;, field = &quot;shows&quot;)\npublic DataFetcherResult&lt;List&lt;Show&gt;&gt; shows(DataFetchingEnvironment dfe) {\n  dfe.getSelectionSet().contains(&quot;reviews&quot;)\n....\n</code></pre>\n<ol start=\"2\">\n<li><p>Getting all available arguments via <code>DataFetchingEnvironment</code> method\n<code>Map&lt;String, Object&gt; getArguments()</code>. It should return the arguments that have been passed in via the graphql query.</p>\n</li>\n<li><p>If any previous options don't suitable, then there is one more.</p>\n</li>\n</ol>\n<p>Getting <code>DataFetchingFieldSelectionSet</code> via <code>DataFetchingEnvironment</code> method <code>getSelectionSet()</code></p>\n<p><code>DataFetchingFieldSelectionSet</code> has a method</p>\n<pre><code>Map&lt;String,Map&lt;String,Object&gt;&gt; getArguments()\n</code></pre>\n<p>It returns a map of the arguments for each field in the selection set.</p>\n"}],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680023596,"creation_date":1678972990,"question_id":75756876,"body_markdown":"Let&#39;s say I have the following schema\r\n\r\n```\r\ntype Query {\r\n  shows: [Show]\r\n}\r\n\r\ntype Show {\r\n  # The showId may or may not be there, depending on the scenario.\r\n  showId: ID\r\n  title: String\r\n  reviews(filter: MyFilter): [Review]\r\n}\r\n\r\ntype Review {\r\n  starRating: Int\r\n  text: String\r\n}\r\n```\r\n\r\nI want to use Netflix DGS [pre-loading](https://netflix.github.io/dgs/advanced/context-passing/#pre-loading) to fetch reviews in one DB query with the shows as I can easily join it in the DB. Moreover implementing it effectively using DataLoaders is far from straightforward. The question is how to access the review filter `MyFilter` from the shows fetcher?\r\n","title":"DGS pre-loading with filter","body":"<p>Let's say I have the following schema</p>\n<pre><code>type Query {\n  shows: [Show]\n}\n\ntype Show {\n  # The showId may or may not be there, depending on the scenario.\n  showId: ID\n  title: String\n  reviews(filter: MyFilter): [Review]\n}\n\ntype Review {\n  starRating: Int\n  text: String\n}\n</code></pre>\n<p>I want to use Netflix DGS <a href=\"https://netflix.github.io/dgs/advanced/context-passing/#pre-loading\" rel=\"nofollow noreferrer\">pre-loading</a> to fetch reviews in one DB query with the shows as I can easily join it in the DB. Moreover implementing it effectively using DataLoaders is far from straightforward. The question is how to access the review filter <code>MyFilter</code> from the shows fetcher?</p>\n"},{"tags":["java","spring","spring-boot","spring-session"],"owner":{"account_id":1205529,"reputation":3090,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680023200,"creation_date":1679159472,"question_id":75777418,"body_markdown":"I&#39;m working on a library (based on Spring Boot 2.7) that provides a console (admin console of sorts) with authentication support. This console would be exposed in `/console` context. So, I have the below filter chain configuration.\r\n\r\n```java\r\n@Bean\r\n@Order(-1)\r\npublic SecurityFilterChain consoleFilterChain(HttpSecurity http) throws Exception {\r\n    http.antMacher(&quot;/console/**&quot;)\r\n         .csrf().disable()\r\n         .authorizeRequests().anyRequest().authenticated()\r\n         .and()\r\n         .authenticationManger(customConsoleAuthenticationManager(http))\r\n         .formlogin()\r\n         .and()\r\n         .logout().permitAll();\r\n\r\n     return http.build();\r\n}\r\n```\r\n\r\nThe filter is restricted to `/console/**` endpoints so that the client app can implement its own filter for non-console endpoints.\r\n\r\nFor the console, though, I need a database-backed session (so that it works across multiple containers). Hence, I&#39;m using `spring-session-jdbc` with `spring.session.store-type` set to `jdbc` set in Spring&#39;s Environment (via `AppEnvironmentPostProcessor`).\r\n\r\nThe problem with this though is if the client app chooses to use Spring Session, it will be forced to use a database session (or override the property in which case Console login would break). \r\n\r\nHence, I need to configure the session store type (and preferably other properties like table name) for the console end-point itself.\r\n\r\n[This doc section][1] talks about customization session storage but how would I make it work with `spring-session-jdbc`?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/servlet/authentication/session-management.html#customizing-where-authentication-is-stored","title":"Spring Boot 2 - Configure different spring session store type for different end points","body":"<p>I'm working on a library (based on Spring Boot 2.7) that provides a console (admin console of sorts) with authentication support. This console would be exposed in <code>/console</code> context. So, I have the below filter chain configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(-1)\npublic SecurityFilterChain consoleFilterChain(HttpSecurity http) throws Exception {\n    http.antMacher(&quot;/console/**&quot;)\n         .csrf().disable()\n         .authorizeRequests().anyRequest().authenticated()\n         .and()\n         .authenticationManger(customConsoleAuthenticationManager(http))\n         .formlogin()\n         .and()\n         .logout().permitAll();\n\n     return http.build();\n}\n</code></pre>\n<p>The filter is restricted to <code>/console/**</code> endpoints so that the client app can implement its own filter for non-console endpoints.</p>\n<p>For the console, though, I need a database-backed session (so that it works across multiple containers). Hence, I'm using <code>spring-session-jdbc</code> with <code>spring.session.store-type</code> set to <code>jdbc</code> set in Spring's Environment (via <code>AppEnvironmentPostProcessor</code>).</p>\n<p>The problem with this though is if the client app chooses to use Spring Session, it will be forced to use a database session (or override the property in which case Console login would break).</p>\n<p>Hence, I need to configure the session store type (and preferably other properties like table name) for the console end-point itself.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/5.8/servlet/authentication/session-management.html#customizing-where-authentication-is-stored\" rel=\"nofollow noreferrer\">This doc section</a> talks about customization session storage but how would I make it work with <code>spring-session-jdbc</code>?</p>\n"},{"tags":["java","unit-testing","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586321465,"creation_date":1586321045,"answer_id":61093475,"question_id":61090441,"body_markdown":"As of Mockito 2.x, Mockito now supports mocking of final classes and methods. \r\n\r\nExample:\r\n\r\n Say we have a `MyList` class shown below as the collaborator in test cases.\r\n\r\nWe’ll add a new `finalMethod` to this class:\r\n\r\n    public class MyList extends AbstractList {\r\n        final public int finalMethod() {\r\n            return 0;\r\n        }\r\n    }\r\n\r\nAnd we&#39;ll also extend it with a final subclass:\r\n\r\n\r\n    public final class FinalList extends MyList {     \r\n        @Override\r\n        public int size() {\r\n            return 1;\r\n        }\r\n    }\r\n\r\nBefore Mockito can be used for mocking final classes and methods, it needs to be configured.\r\n\r\nWe need to add a text file to the project&#39;s src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:\r\n    \r\n\r\n&gt;   mock-maker-inline\r\n\r\nMockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.\r\n\r\n**Mock a Final Method:**\r\n\r\nOnce Mockito is properly configured, a final method can be mocked like any other:\r\n\r\n\r\n    @Test\r\n    public void whenMockFinalMethodMockWorks() {\r\n     \r\n        MyList myList = new MyList();\r\n     \r\n        MyList mock = mock(MyList.class);\r\n        when(mock.finalMethod()).thenReturn(1);\r\n     \r\n        assertNotEquals(mock.finalMethod(), myList.finalMethod());\r\n    }\r\n\r\nBy creating a concrete instance and a mock instance of MyList, we can compare the values returned by both versions of `finalMethod()` and verify that the mock is called.\r\n\r\n**Mock a Final Class:**\r\n\r\nMocking a final class is just as easy as mocking any other class:\r\n\r\n\r\n    @Test\r\n    public void whenMockFinalClassMockWorks() {\r\n     \r\n        FinalList finalList = new FinalList();\r\n     \r\n        FinalList mock = mock(FinalList.class);\r\n        when(mock.size()).thenReturn(2);\r\n     \r\n        assertNotEquals(mock.size(), finalList.size());\r\n    }\r\n\r\nSimilar to the test above, we create a concrete instance and a mock instance of our final class, mock a method and verify that the mocked instance behaves differently.\r\n\r\nReference: https://www.baeldung.com/mockito-final","title":"Final class and Final method - Mocking with Mockito 2","body":"<p>As of Mockito 2.x, Mockito now supports mocking of final classes and methods. </p>\n\n<p>Example:</p>\n\n<p>Say we have a <code>MyList</code> class shown below as the collaborator in test cases.</p>\n\n<p>We’ll add a new <code>finalMethod</code> to this class:</p>\n\n<pre><code>public class MyList extends AbstractList {\n    final public int finalMethod() {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>And we'll also extend it with a final subclass:</p>\n\n<pre><code>public final class FinalList extends MyList {     \n    @Override\n    public int size() {\n        return 1;\n    }\n}\n</code></pre>\n\n<p>Before Mockito can be used for mocking final classes and methods, it needs to be configured.</p>\n\n<p>We need to add a text file to the project's src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:</p>\n\n<blockquote>\n  <p>mock-maker-inline</p>\n</blockquote>\n\n<p>Mockito checks the extensions directory for configuration files when it is loaded. This file enables the mocking of final methods and classes.</p>\n\n<p><strong>Mock a Final Method:</strong></p>\n\n<p>Once Mockito is properly configured, a final method can be mocked like any other:</p>\n\n<pre><code>@Test\npublic void whenMockFinalMethodMockWorks() {\n\n    MyList myList = new MyList();\n\n    MyList mock = mock(MyList.class);\n    when(mock.finalMethod()).thenReturn(1);\n\n    assertNotEquals(mock.finalMethod(), myList.finalMethod());\n}\n</code></pre>\n\n<p>By creating a concrete instance and a mock instance of MyList, we can compare the values returned by both versions of <code>finalMethod()</code> and verify that the mock is called.</p>\n\n<p><strong>Mock a Final Class:</strong></p>\n\n<p>Mocking a final class is just as easy as mocking any other class:</p>\n\n<pre><code>@Test\npublic void whenMockFinalClassMockWorks() {\n\n    FinalList finalList = new FinalList();\n\n    FinalList mock = mock(FinalList.class);\n    when(mock.size()).thenReturn(2);\n\n    assertNotEquals(mock.size(), finalList.size());\n}\n</code></pre>\n\n<p>Similar to the test above, we create a concrete instance and a mock instance of our final class, mock a method and verify that the mocked instance behaves differently.</p>\n\n<p>Reference: <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-final</a></p>\n"}],"owner":{"account_id":6961311,"reputation":59,"user_id":5340634,"display_name":"Viswanath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680023010,"creation_date":1586298646,"question_id":61090441,"body_markdown":"Is the feature provided by Mockito 2 to mock final methods and final classes using org.mockito.plugins.MockMaker(mock-maker-inline) generally available(released) or still in the incubation phase. I am using mockito-core-2.23.4 artifact in my application. Need suggestions in mocking the final classes and methods. Is it advisable to use this approach or look for alternate options?","title":"Final class and Final method - Mocking with Mockito 2","body":"<p>Is the feature provided by Mockito 2 to mock final methods and final classes using org.mockito.plugins.MockMaker(mock-maker-inline) generally available(released) or still in the incubation phase. I am using mockito-core-2.23.4 artifact in my application. Need suggestions in mocking the final classes and methods. Is it advisable to use this approach or look for alternate options?</p>\n"},{"tags":["java","maven","selenium-webdriver","jenkins","bitbucket"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679899535,"creation_date":1679899535,"answer_id":75852796,"question_id":75834230,"body_markdown":"&gt; Connect to artifactory failed: Connection timed out (Connection timed out)\r\n\r\nYou have a network issue between maven and artifactory.  Talk to those who set up this scenario. ","title":"Jenkins failing due to an error could not transfer artifacts to central artifactory","body":"<blockquote>\n<p>Connect to artifactory failed: Connection timed out (Connection timed out)</p>\n</blockquote>\n<p>You have a network issue between maven and artifactory.  Talk to those who set up this scenario.</p>\n"}],"owner":{"account_id":28114525,"reputation":1,"user_id":21481823,"display_name":"Alia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680022741,"creation_date":1679664404,"question_id":75834230,"body_markdown":"Scenario:\r\n\r\nBuilds run fine when using the already cached dependencies. However, when updating the version of Selenium 3 to Selenium 4 or for any other dependencies, I am getting the following error of build failure.\r\n\r\n&gt;[ERROR] Failed to execute goal on project XXX: Could not resolve dependencies for &gt;project XXXl:jar:1.0-SNAPSHOT: Failed to collect dependencies at &gt;org.testng:testng:jar:7.5: Failed to read artifact descriptor for &gt;org.testng:testng:jar:7.5: Could not transfer artifact org.testng:testng:pom:7.5 &gt;from/to central (artifactory link): Connect to artifactory failed: Connection &gt;timed out (Connection timed out)\r\n\r\n\r\nTried updating settings.xml, updated settings.xml in bitbucket and gave the file path, and added settings.xml directly in Jenkins manage.\r\n\r\nIf this has happened to anyone, please let me know your ideas on resolving it. ","title":"Jenkins failing due to an error could not transfer artifacts to central artifactory","body":"<p>Scenario:</p>\n<p>Builds run fine when using the already cached dependencies. However, when updating the version of Selenium 3 to Selenium 4 or for any other dependencies, I am getting the following error of build failure.</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project XXX: Could not resolve dependencies for &gt;project XXXl:jar:1.0-SNAPSHOT: Failed to collect dependencies at &gt;org.testng:testng:jar:7.5: Failed to read artifact descriptor for &gt;org.testng:testng:jar:7.5: Could not transfer artifact org.testng:testng:pom:7.5 &gt;from/to central (artifactory link): Connect to artifactory failed: Connection &gt;timed out (Connection timed out)</p>\n</blockquote>\n<p>Tried updating settings.xml, updated settings.xml in bitbucket and gave the file path, and added settings.xml directly in Jenkins manage.</p>\n<p>If this has happened to anyone, please let me know your ideas on resolving it.</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680022629,"creation_date":1680018454,"answer_id":75868397,"question_id":75868120,"body_markdown":"You can create POJO class corresponding to json\r\n\r\n    public class ResponseData {\r\n\r\n      private Result result;\r\n\r\n      //getters and setters\r\n\r\n\r\n    }\r\n\r\nand use the bodyToFlux() and bodyToMono() methods\r\n\r\n    Mono&lt;ResponseData&gt; response = webClient.post()\r\n                .uri(new URI(url)))\r\n                .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                .retrieve()\r\n                .bodyToMono(ResponseData.class);\r\n\r\nIf more customization is needed on JSON, the you can use `map` method after reading response body as string\r\n\r\n        Mono&lt;ResponseData&gt; response = webClient.post()\r\n                .uri(new URI(url)))\r\n                .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n                .map(body-&gt;sanitizeMethod(body));","title":"How to parse JSON that is of type Mono&lt;String&gt; into a Mono&lt;Object&gt;","body":"<p>You can create POJO class corresponding to json</p>\n<pre><code>public class ResponseData {\n\n  private Result result;\n\n  //getters and setters\n\n\n}\n</code></pre>\n<p>and use the bodyToFlux() and bodyToMono() methods</p>\n<pre><code>Mono&lt;ResponseData&gt; response = webClient.post()\n            .uri(new URI(url)))\n            .body(BodyInserters.fromMultipartData(multiValueMap))\n            .retrieve()\n            .bodyToMono(ResponseData.class);\n</code></pre>\n<p>If more customization is needed on JSON, the you can use <code>map</code> method after reading response body as string</p>\n<pre><code>    Mono&lt;ResponseData&gt; response = webClient.post()\n            .uri(new URI(url)))\n            .body(BodyInserters.fromMultipartData(multiValueMap))\n            .retrieve()\n            .bodyToMono(String.class);\n            .map(body-&gt;sanitizeMethod(body));\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75868397,"answer_count":1,"score":1,"last_activity_date":1680022629,"creation_date":1680016730,"question_id":75868120,"body_markdown":"I have the following JSON below. This JSON is what is returned back after I make the WebClient call to an API which is also shown below.\r\n\r\nOnce the response comes back as a Mono\\&lt;String\\&gt;, I need to parse it into my desired format and convert it into a Mono\\&lt;Object\\&gt;, for example using `JsonSanitizer.sanitize` to convert my String into an Object (which is how I did it via RestTemplate) but in this case it is a Mono\\&lt;String\\&gt; instead of just a String. All the examples I have seen uses `block()` to do the conversion, however, that defeats the purpose of using reactive. How can I make this conversion using Mono\\&lt;String\\&gt;?\r\n\r\n```\r\nMono&lt;String&gt; response = webClient.post()\r\n                .uri(new URI(url)))\r\n                .body(BodyInserters.fromMultipartData(multiValueMap))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n```\r\n\r\n```\r\n{\r\n  &quot;result&quot;: {\r\n    &quot;books&quot;: {\r\n      &quot;book&quot;: {\r\n        &quot;creator&quot;: &quot;k&quot;,\r\n        &quot;created&quot;: &quot;Tue Mar 28 01:01:50 UTC 2023&quot;,\r\n        &quot;author&quot;: &quot;&quot;\r\n      }\r\n    },\r\n    &quot;response&quot;: {\r\n      &quot;respMsg&quot;: &quot;Successfully Completed&quot;,\r\n      &quot;respCode&quot;: &quot;200&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"How to parse JSON that is of type Mono&lt;String&gt; into a Mono&lt;Object&gt;","body":"<p>I have the following JSON below. This JSON is what is returned back after I make the WebClient call to an API which is also shown below.</p>\n<p>Once the response comes back as a Mono&lt;String&gt;, I need to parse it into my desired format and convert it into a Mono&lt;Object&gt;, for example using <code>JsonSanitizer.sanitize</code> to convert my String into an Object (which is how I did it via RestTemplate) but in this case it is a Mono&lt;String&gt; instead of just a String. All the examples I have seen uses <code>block()</code> to do the conversion, however, that defeats the purpose of using reactive. How can I make this conversion using Mono&lt;String&gt;?</p>\n<pre><code>Mono&lt;String&gt; response = webClient.post()\n                .uri(new URI(url)))\n                .body(BodyInserters.fromMultipartData(multiValueMap))\n                .retrieve()\n                .bodyToMono(String.class);\n</code></pre>\n<pre><code>{\n  &quot;result&quot;: {\n    &quot;books&quot;: {\n      &quot;book&quot;: {\n        &quot;creator&quot;: &quot;k&quot;,\n        &quot;created&quot;: &quot;Tue Mar 28 01:01:50 UTC 2023&quot;,\n        &quot;author&quot;: &quot;&quot;\n      }\n    },\n    &quot;response&quot;: {\n      &quot;respMsg&quot;: &quot;Successfully Completed&quot;,\n      &quot;respCode&quot;: &quot;200&quot;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","tomcat","jndi","context.xml"],"comments":[{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":0,"creation_date":1331058392,"post_id":9589379,"comment_id":12161623,"body_markdown":"Similar issue: http://stackoverflow.com/questions/4158468/tomcat-context-management","body":"Similar issue: <a href=\"http://stackoverflow.com/questions/4158468/tomcat-context-management\" title=\"tomcat context management\">stackoverflow.com/questions/4158468/tomcat-context-managemen&zwnj;&#8203;t</a>"},{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":0,"creation_date":1331058675,"post_id":9589379,"comment_id":12161736,"body_markdown":"Answer already presented in this site: http://stackoverflow.com/questions/7142365/how-to-provide-a-context-configuration-for-a-web-application-under-tomcat","body":"Answer already presented in this site: <a href=\"http://stackoverflow.com/questions/7142365/how-to-provide-a-context-configuration-for-a-web-application-under-tomcat\" title=\"how to provide a context configuration for a web application under tomcat\">stackoverflow.com/questions/7142365/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1331057901,"creation_date":1331057901,"answer_id":9589548,"question_id":9589379,"body_markdown":"I&#39;ve run into the same problem and the documentation is at least inadequate, if not directly misleading.\r\n\r\nThe problem is, that if you copy a new version of an already deployed WAR file to the webapps directory, Tomcat will not redeploy the existing application but undeploy the old application and then deploy the new application. The difference may first seem insignificant, but the problem is that during undeployment of the old application, any context files in conf/Catalina/localhost are deleted as well. Then, the new context file from the current WAR file will be copied to conf/Catalina/localhost during deployment of the new application.\r\n\r\nThe only feasible solution I&#39;ve found is not to deploy the new application as a WAR file, but to replace or overwrite the expanded directory, e.g. not to copy aaa.war to webapps/ but to unpack aaa.war directly into webapps/aaa/.","title":"Tomcat updates context.xml but should not","body":"<p>I've run into the same problem and the documentation is at least inadequate, if not directly misleading.</p>\n\n<p>The problem is, that if you copy a new version of an already deployed WAR file to the webapps directory, Tomcat will not redeploy the existing application but undeploy the old application and then deploy the new application. The difference may first seem insignificant, but the problem is that during undeployment of the old application, any context files in conf/Catalina/localhost are deleted as well. Then, the new context file from the current WAR file will be copied to conf/Catalina/localhost during deployment of the new application.</p>\n\n<p>The only feasible solution I've found is not to deploy the new application as a WAR file, but to replace or overwrite the expanded directory, e.g. not to copy aaa.war to webapps/ but to unpack aaa.war directly into webapps/aaa/.</p>\n"},{"tags":[],"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022543,"creation_date":1680022543,"answer_id":75869010,"question_id":9589379,"body_markdown":"In your conf/server.xml add copyXML=&quot;false&quot; deployXML=&quot;false&quot;, or at least just deployXML=&quot;false&quot; to your Host (localhost in this case)\r\n\r\nThis should require conf/Catalina/localhost/AppName.xml if webapps/AppName/META-INF/context.xml exists but Tomcat won&#39;t copy context.xml to AppName.xml automatically, requiring an Admin to do it. This should help ensure container environment configuration overrides are in place. Keep a copy of your overrides outside conf/Catalina/localhost/ in case you trigger an undeploy (autoDeploy=&quot;true&quot;) and Tomcat deletes it.\r\n\r\nhttps://tomcat.apache.org/tomcat-9.0-doc/config/host.html","title":"Tomcat updates context.xml but should not","body":"<p>In your conf/server.xml add copyXML=&quot;false&quot; deployXML=&quot;false&quot;, or at least just deployXML=&quot;false&quot; to your Host (localhost in this case)</p>\n<p>This should require conf/Catalina/localhost/AppName.xml if webapps/AppName/META-INF/context.xml exists but Tomcat won't copy context.xml to AppName.xml automatically, requiring an Admin to do it. This should help ensure container environment configuration overrides are in place. Keep a copy of your overrides outside conf/Catalina/localhost/ in case you trigger an undeploy (autoDeploy=&quot;true&quot;) and Tomcat deletes it.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/host.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/host.html</a></p>\n"}],"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9589548,"answer_count":2,"score":5,"last_activity_date":1680022543,"creation_date":1331057169,"question_id":9589379,"body_markdown":"Tomcat documentation (http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)\r\n\r\n&gt; Only if a context file does not exist for the application in the\r\n&gt; $CATALINA_BASE/conf/[enginename]/[hostname]/, in an individual file at\r\n&gt; /META-INF/context.xml inside the application files. If the web\r\n&gt; application is packaged as a WAR then /META-INF/context.xml will be\r\n&gt; copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\r\n&gt; match the application&#39;s context path. __Once this file exists, it will\r\n&gt; not be replaced if a new WAR with a newer /META-INF/context.xml is\r\n&gt; placed in the host&#39;s appBase.__\r\n\r\nText in bold is clear. But I notify as not true. (I need exactly this behaviour)\r\n\r\nHere are steps:\r\n\r\n1. aaa.war with context.xml included into META-INF\r\n2. copy to webapps. tomcat deploys.  File `conf\\Catalina\\localhost\\aaa.xml` OK\r\n3. change aaa.war by changing META-INF/context.xml\r\n4. copy to webapps\r\n5. File `conf\\Catalina\\localhost\\aaa.xml` is changed!!!\r\n\r\nWhat is wrong? Is it a bug or a hidden feature?\r\n\r\nBackground - the issue I want to resolve:\r\n\r\nConfiguration independent build and installation. I plant to ship war file. Client per-configures his Tomcat using his own settings. when I ship a new release I just delivery the war without config and when deployed it will use client specific configuration.\r\n\r\nBy documentation the best place is the context.xml But if it overwritten each time it make no sense to use at all. (why would I use JNDI and such a things if new deliverable has to  created? Changing something in build-time is not a big configuration advantage.)\r\n\r\n\r\nEnvironment: windows, tomcat 6.0.33\r\n\r\n","title":"Tomcat updates context.xml but should not","body":"<p>Tomcat documentation (http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)</p>\n\n<blockquote>\n  <p>Only if a context file does not exist for the application in the\n  $CATALINA_BASE/conf/[enginename]/[hostname]/, in an individual file at\n  /META-INF/context.xml inside the application files. If the web\n  application is packaged as a WAR then /META-INF/context.xml will be\n  copied to $CATALINA_BASE/conf/[enginename]/[hostname]/ and renamed to\n  match the application's context path. <strong>Once this file exists, it will\n  not be replaced if a new WAR with a newer /META-INF/context.xml is\n  placed in the host's appBase.</strong></p>\n</blockquote>\n\n<p>Text in bold is clear. But I notify as not true. (I need exactly this behaviour)</p>\n\n<p>Here are steps:</p>\n\n<ol>\n<li>aaa.war with context.xml included into META-INF</li>\n<li>copy to webapps. tomcat deploys.  File <code>conf\\Catalina\\localhost\\aaa.xml</code> OK</li>\n<li>change aaa.war by changing META-INF/context.xml</li>\n<li>copy to webapps</li>\n<li>File <code>conf\\Catalina\\localhost\\aaa.xml</code> is changed!!!</li>\n</ol>\n\n<p>What is wrong? Is it a bug or a hidden feature?</p>\n\n<p>Background - the issue I want to resolve:</p>\n\n<p>Configuration independent build and installation. I plant to ship war file. Client per-configures his Tomcat using his own settings. when I ship a new release I just delivery the war without config and when deployed it will use client specific configuration.</p>\n\n<p>By documentation the best place is the context.xml But if it overwritten each time it make no sense to use at all. (why would I use JNDI and such a things if new deliverable has to  created? Changing something in build-time is not a big configuration advantage.)</p>\n\n<p>Environment: windows, tomcat 6.0.33</p>\n"},{"tags":["java","spring","rest","spring-mvc","versioning"],"comments":[{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1385584894,"post_id":20198275,"comment_id":30208022,"body_markdown":"http://stackoverflow.com/questions/11715874/best-practices-examples-on-organizing-versioned-rest-api-code-in-java-spring","body":"<a href=\"http://stackoverflow.com/questions/11715874/best-practices-examples-on-organizing-versioned-rest-api-code-in-java-spring\" title=\"best practices examples on organizing versioned rest api code in java spring\">stackoverflow.com/questions/11715874/&hellip;</a>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1385588266,"post_id":20198275,"comment_id":30209704,"body_markdown":"@flup I don&#39;t understand your comment. That just says that you can use headers and, as I said, what spring provides out of the box is not sufficient to support APIs that are updated constantly. Even worse the link on that answer uses the version in the URL.","body":"@flup I don&#39;t understand your comment. That just says that you can use headers and, as I said, what spring provides out of the box is not sufficient to support APIs that are updated constantly. Even worse the link on that answer uses the version in the URL."},{"owner":{"account_id":952861,"reputation":4985,"user_id":978676,"display_name":"bimsapi"},"score":0,"creation_date":1385589282,"post_id":20198275,"comment_id":30210198,"body_markdown":"Maybe not exactly what you are looking for, but Spring 3.2 supports a &quot;produces&quot; parameter on RequestMapping. The one caveat is that the version list has to be explicit. E.g., `produces={&quot;application/json-1.0&quot;, &quot;application/json-1.1&quot;}`, etc","body":"Maybe not exactly what you are looking for, but Spring 3.2 supports a &quot;produces&quot; parameter on RequestMapping. The one caveat is that the version list has to be explicit. E.g., <code>produces={&quot;application&#47;json-1.0&quot;, &quot;application&#47;json-1.1&quot;}</code>, etc"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1385589744,"post_id":20198275,"comment_id":30210438,"body_markdown":"@bimsapi yes I know about that parameter. and you made me realise that I made a mistake in the question. Since produces doesn&#39;t accept a range of versions, I&#39;m writing my own `ProducesRequestCondition`, which can understand versions. As I mentioned above, in order to write this class, I had to also rewrite `RequestMappingInfoHandlerMapping`, `RequestMappingHandlerMapping` and `RequestMappingInfo`, because `RequestMappingInfo` is final :(.","body":"@bimsapi yes I know about that parameter. and you made me realise that I made a mistake in the question. Since produces doesn&#39;t accept a range of versions, I&#39;m writing my own <code>ProducesRequestCondition</code>, which can understand versions. As I mentioned above, in order to write this class, I had to also rewrite <code>RequestMappingInfoHandlerMapping</code>, <code>RequestMappingHandlerMapping</code> and <code>RequestMappingInfo</code>, because <code>RequestMappingInfo</code> is final :(."},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1385590701,"post_id":20198275,"comment_id":30210860,"body_markdown":"The question/problem looks like a duplicate to me, even if you prefer a different solution direction. The accepted answer there says you can use headers, but other answers using content type would answer the question too.","body":"The question/problem looks like a duplicate to me, even if you prefer a different solution direction. The accepted answer there says you can use headers, but other answers using content type would answer the question too."},{"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"score":0,"creation_date":1385593107,"post_id":20198275,"comment_id":30211856,"body_markdown":"It looks to me like you don&#39;t have 9 versions of this resource, you only have 2.  I would say that if you want to version the API (it appears you do), then put the version in the URI.  If you want to version the resource (or its representation) that this endpoint refers to, put it in the accept header.  I wouldn&#39;t recommend doing both, or it will get messy (as you&#39;ve discovered).","body":"It looks to me like you don&#39;t have 9 versions of this resource, you only have 2.  I would say that if you want to version the API (it appears you do), then put the version in the URI.  If you want to version the resource (or its representation) that this endpoint refers to, put it in the accept header.  I wouldn&#39;t recommend doing both, or it will get messy (as you&#39;ve discovered)."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1385626359,"post_id":20198275,"comment_id":30221893,"body_markdown":"We need to support several versions of our APIs, these differences are usually minor changes that would make some calls from some clients incompatible (it wont be strange if we need to support 4 minor versions, in which some endpoints are incompatible). I appreciate the suggestion to put it in the url, but we know that it&#39;s a step in the wrong direction, as we have a couple of apps with the version in the URL and there&#39;s a lot of work involved every time we need to bump the version.","body":"We need to support several versions of our APIs, these differences are usually minor changes that would make some calls from some clients incompatible (it wont be strange if we need to support 4 minor versions, in which some endpoints are incompatible). I appreciate the suggestion to put it in the url, but we know that it&#39;s a step in the wrong direction, as we have a couple of apps with the version in the URL and there&#39;s a lot of work involved every time we need to bump the version."},{"owner":{"account_id":1120999,"reputation":2035,"user_id":1109309,"accept_rate":62,"display_name":"Alexey Andreev"},"score":1,"creation_date":1385632641,"post_id":20198275,"comment_id":30225551,"body_markdown":"@Augusto, you actually you haven&#39;t too. Just design your API changes a way that doesn&#39;t break backward compatibility. Just give me example of changes that break compatibility and I show you how to make these changes in non-breaking fashion.","body":"@Augusto, you actually you haven&#39;t too. Just design your API changes a way that doesn&#39;t break backward compatibility. Just give me example of changes that break compatibility and I show you how to make these changes in non-breaking fashion."},{"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"score":1,"creation_date":1385632951,"post_id":20198275,"comment_id":30225731,"body_markdown":"Did you have a look at http://stackoverflow.com/a/10336769/2615437 which seems to imply that your statement &quot;This is not possible in spring as the 2 methods have the same RequestMapping annotation and Spring fails to load.&quot; is not totally correct?","body":"Did you have a look at <a href=\"http://stackoverflow.com/a/10336769/2615437\">stackoverflow.com/a/10336769/2615437</a> which seems to imply that your statement &quot;This is not possible in spring as the 2 methods have the same RequestMapping annotation and Spring fails to load.&quot; is not totally correct?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1385637137,"post_id":20198275,"comment_id":30228226,"body_markdown":"@xworker I haven&#39;t seen that. It&#39;s a close solution to what I&#39;m doing at the moment (as I need my own custom condition), but it definitely looks **way** tidier than my implementation","body":"@xworker I haven&#39;t seen that. It&#39;s a close solution to what I&#39;m doing at the moment (as I need my own custom condition), but it definitely looks <b>way</b> tidier than my implementation"},{"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"score":1,"creation_date":1385644416,"post_id":20198275,"comment_id":30232514,"body_markdown":"xwoker vs. xworker :-)","body":"xwoker vs. xworker :-)"},{"owner":{"account_id":1492815,"reputation":3769,"user_id":1399502,"display_name":"Jonathan W"},"score":0,"creation_date":1386035702,"post_id":20198275,"comment_id":30362391,"body_markdown":"I&#39;m with Alexey on this one. Follow semantic versioning rules and minimize major version changes, and you won&#39;t have to micromanage version ranges. If you&#39;re required to make a series of backwards-incompatible changes, you aren&#39;t managing your system very well. I know that&#39;s not the answer you&#39;re looking for, but sometimes the answer is to not to build a ladder to scale the 20-foot wall at the end of the dark alley, but to turn around and go back to Main Street. :)","body":"I&#39;m with Alexey on this one. Follow semantic versioning rules and minimize major version changes, and you won&#39;t have to micromanage version ranges. If you&#39;re required to make a series of backwards-incompatible changes, you aren&#39;t managing your system very well. I know that&#39;s not the answer you&#39;re looking for, but sometimes the answer is to not to build a ladder to scale the 20-foot wall at the end of the dark alley, but to turn around and go back to Main Street. :)"},{"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"score":0,"creation_date":1617615617,"post_id":20198275,"comment_id":118344327,"body_markdown":"https://github.com/augusto/restVersioning is too difficult to debug, if error happened.","body":"<a href=\"https://github.com/augusto/restVersioning\" rel=\"nofollow noreferrer\">github.com/augusto/restVersioning</a> is too difficult to debug, if error happened."}],"answers":[{"tags":[],"owner":{"account_id":2651380,"reputation":902,"user_id":2292966,"accept_rate":40,"display_name":"codesalsa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385593670,"creation_date":1385593670,"answer_id":20254873,"question_id":20198275,"body_markdown":"In produces you can have negation. So for method1 say `produces=&quot;!...1.7&quot;` and in method2 have the positive. \r\n\r\nThe produces is also an array so you for method1 you can say `produces={&quot;...1.6&quot;,&quot;!...1.7&quot;,&quot;...1.8&quot;}` etc (accept all except 1.7)\r\n\r\nOfcourse not as ideal as ranges that you have in mind but I think easier to maintain than other custom stuff if this is something uncommon in your system. Good luck!","title":"How to manage REST API versioning with spring?","body":"<p>In produces you can have negation. So for method1 say <code>produces=\"!...1.7\"</code> and in method2 have the positive. </p>\n\n<p>The produces is also an array so you for method1 you can say <code>produces={\"...1.6\",\"!...1.7\",\"...1.8\"}</code> etc (accept all except 1.7)</p>\n\n<p>Ofcourse not as ideal as ranges that you have in mind but I think easier to maintain than other custom stuff if this is something uncommon in your system. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":3616345,"reputation":1173,"user_id":3016088,"display_name":"elusive-code"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1385884695,"creation_date":1385701968,"answer_id":20278798,"question_id":20198275,"body_markdown":"I would still recommend using URL&#39;s for versioning because in URLs @RequestMapping supports patterns and path parameters, which format could be specified with regexp.\r\n\r\nAnd to handle client upgrades (which you mentioned in comment) you can use aliases like &#39;latest&#39;. Or have unversioned version of api which uses latest version (yeah).\r\n\r\nAlso using path parameters you can implement any complex version handling logic, and if you already want to have ranges, you very well might want something more soon enough.\r\n\r\nHere is a couple of examples:\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.1/method&quot;,\r\n        &quot;/**/public_api/1.2/method&quot;,\r\n    })\r\n    public void method1(){\r\n    }\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.3/method&quot;\r\n        &quot;/**/public_api/latest/method&quot;\r\n        &quot;/**/public_api/method&quot; \r\n    })\r\n    public void method2(){\r\n    }\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/1.4/method&quot;\r\n        &quot;/**/public_api/beta/method&quot;\r\n    })\r\n    public void method2(){\r\n    }\r\n\r\n    //handles all 1.* requests\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version:1\\\\.\\\\d+}/method&quot;\r\n    })\r\n    public void methodManual1(@PathVariable(&quot;version&quot;) String version){\r\n    }\r\n\r\n    //handles 1.0-1.6 range, but somewhat ugly\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version:1\\\\.[0123456]?}/method&quot;\r\n    })\r\n    public void methodManual1(@PathVariable(&quot;version&quot;) String version){\r\n    }\r\n\r\n    //fully manual version handling\r\n    @RequestMapping({\r\n        &quot;/**/public_api/{version}/method&quot;\r\n    })\r\n    public void methodManual2(@PathVariable(&quot;version&quot;) String version){\r\n        int[] versionParts = getVersionParts(version);\r\n        //manual handling of versions\r\n    }\r\n\r\n    public int[] getVersionParts(String version){\r\n        try{\r\n            String[] versionParts = version.split(&quot;\\\\.&quot;);\r\n            int[] result = new int[versionParts.length];\r\n            for(int i=0;i&lt;versionParts.length;i++){\r\n                result[i] = Integer.parseInt(versionParts[i]);\r\n            }\r\n            return result;\r\n        }catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n**Based on the last approach you can actually implement something like what you want.** \r\n\r\nFor example you can have a controller that contains only method stabs with version handling. \r\n\r\nIn that handling you look (using reflection/AOP/code generation libraries) in some spring service/component or in the same class for method with the same name/signature and required @VersionRange and invoke it passing all parameters.","title":"How to manage REST API versioning with spring?","body":"<p>I would still recommend using URL's for versioning because in URLs @RequestMapping supports patterns and path parameters, which format could be specified with regexp.</p>\n\n<p>And to handle client upgrades (which you mentioned in comment) you can use aliases like 'latest'. Or have unversioned version of api which uses latest version (yeah).</p>\n\n<p>Also using path parameters you can implement any complex version handling logic, and if you already want to have ranges, you very well might want something more soon enough.</p>\n\n<p>Here is a couple of examples:</p>\n\n<pre><code>@RequestMapping({\n    \"/**/public_api/1.1/method\",\n    \"/**/public_api/1.2/method\",\n})\npublic void method1(){\n}\n\n@RequestMapping({\n    \"/**/public_api/1.3/method\"\n    \"/**/public_api/latest/method\"\n    \"/**/public_api/method\" \n})\npublic void method2(){\n}\n\n@RequestMapping({\n    \"/**/public_api/1.4/method\"\n    \"/**/public_api/beta/method\"\n})\npublic void method2(){\n}\n\n//handles all 1.* requests\n@RequestMapping({\n    \"/**/public_api/{version:1\\\\.\\\\d+}/method\"\n})\npublic void methodManual1(@PathVariable(\"version\") String version){\n}\n\n//handles 1.0-1.6 range, but somewhat ugly\n@RequestMapping({\n    \"/**/public_api/{version:1\\\\.[0123456]?}/method\"\n})\npublic void methodManual1(@PathVariable(\"version\") String version){\n}\n\n//fully manual version handling\n@RequestMapping({\n    \"/**/public_api/{version}/method\"\n})\npublic void methodManual2(@PathVariable(\"version\") String version){\n    int[] versionParts = getVersionParts(version);\n    //manual handling of versions\n}\n\npublic int[] getVersionParts(String version){\n    try{\n        String[] versionParts = version.split(\"\\\\.\");\n        int[] result = new int[versionParts.length];\n        for(int i=0;i&lt;versionParts.length;i++){\n            result[i] = Integer.parseInt(versionParts[i]);\n        }\n        return result;\n    }catch (Exception ex) {\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Based on the last approach you can actually implement something like what you want.</strong> </p>\n\n<p>For example you can have a controller that contains only method stabs with version handling. </p>\n\n<p>In that handling you look (using reflection/AOP/code generation libraries) in some spring service/component or in the same class for method with the same name/signature and required @VersionRange and invoke it passing all parameters.</p>\n"},{"tags":[],"owner":{"display_name":"user41871"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1385888234,"creation_date":1385886313,"answer_id":20310221,"question_id":20198275,"body_markdown":"The `@RequestMapping` annotation supports a `headers` element that allows you to narrow the matching requests. In particular you can use the `Accept` header here.\r\n\r\n    @RequestMapping(headers = {\r\n        &quot;Accept=application/vnd.company.app-1.0+json&quot;,\r\n        &quot;Accept=application/vnd.company.app-1.1+json&quot;\r\n    })\r\n\r\nThis isn&#39;t exactly what you&#39;re describing, since it doesn&#39;t directly handle ranges, but the element does support the * wildcard as well as !=. So at least you could get away with using a wildcard for cases where all versions support the endpoint in question, or even all minor versions of a given major version (e.g. 1.*).\r\n\r\nI don&#39;t think I&#39;ve actually used this element before (if I have I don&#39;t remember), so I&#39;m just going off the documentation at\r\n\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\r\n","title":"How to manage REST API versioning with spring?","body":"<p>The <code>@RequestMapping</code> annotation supports a <code>headers</code> element that allows you to narrow the matching requests. In particular you can use the <code>Accept</code> header here.</p>\n\n<pre><code>@RequestMapping(headers = {\n    \"Accept=application/vnd.company.app-1.0+json\",\n    \"Accept=application/vnd.company.app-1.1+json\"\n})\n</code></pre>\n\n<p>This isn't exactly what you're describing, since it doesn't directly handle ranges, but the element does support the * wildcard as well as !=. So at least you could get away with using a wildcard for cases where all versions support the endpoint in question, or even all minor versions of a given major version (e.g. 1.*).</p>\n\n<p>I don't think I've actually used this element before (if I have I don't remember), so I'm just going off the documentation at</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html</a></p>\n"},{"tags":[],"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1519279155,"creation_date":1386059020,"answer_id":20346070,"question_id":20198275,"body_markdown":"Regardless whether versioning can be avoided by doing backwards compatible changes (which might not always possible when you are bound by some corporate guidelines or your API clients are implemented in a buggy way and would break even if they should not) the abstracted requirement is an interesting one: \r\n\r\n**How can I do a custom request mapping that does arbitrary evaluations of header values from the request without doing the evaluation in the method body?**\r\n\r\nAs described in [this SO answer][1] you actually can have the same `@RequestMapping` and use a different annotation to differentiate during the actual routing that happens during runtime. To do so, you will have to:\r\n\r\n1. Create a new annotation `VersionRange`.\r\n2. Implement a `RequestCondition&lt;VersionRange&gt;`. Since you will have something like a best-match algorithm you will have to check whether methods annotated with other `VersionRange` values provide a better match for the current request.\r\n3. Implement a `VersionRangeRequestMappingHandlerMapping` based on the annotation and request condition (as described in the post[ How to implement @RequestMapping custom properties\r\n][1]).\r\n4. Configure spring to evaluate your `VersionRangeRequestMappingHandlerMapping` before using the default `RequestMappingHandlerMapping` (e.g. by setting its order to 0).\r\n\r\nThis wouldn&#39;t require any hacky replacements of Spring components but uses the Spring configuration and extension mechanisms so it should work even if you update your Spring version (as long as the new version supports these mechanisms).\r\n\r\n  [1]: https://stackoverflow.com/a/10336769/2615437","title":"How to manage REST API versioning with spring?","body":"<p>Regardless whether versioning can be avoided by doing backwards compatible changes (which might not always possible when you are bound by some corporate guidelines or your API clients are implemented in a buggy way and would break even if they should not) the abstracted requirement is an interesting one: </p>\n\n<p><strong>How can I do a custom request mapping that does arbitrary evaluations of header values from the request without doing the evaluation in the method body?</strong></p>\n\n<p>As described in <a href=\"https://stackoverflow.com/a/10336769/2615437\">this SO answer</a> you actually can have the same <code>@RequestMapping</code> and use a different annotation to differentiate during the actual routing that happens during runtime. To do so, you will have to:</p>\n\n<ol>\n<li>Create a new annotation <code>VersionRange</code>.</li>\n<li>Implement a <code>RequestCondition&lt;VersionRange&gt;</code>. Since you will have something like a best-match algorithm you will have to check whether methods annotated with other <code>VersionRange</code> values provide a better match for the current request.</li>\n<li>Implement a <code>VersionRangeRequestMappingHandlerMapping</code> based on the annotation and request condition (as described in the post<a href=\"https://stackoverflow.com/a/10336769/2615437\"> How to implement @RequestMapping custom properties\n</a>).</li>\n<li>Configure spring to evaluate your <code>VersionRangeRequestMappingHandlerMapping</code> before using the default <code>RequestMappingHandlerMapping</code> (e.g. by setting its order to 0).</li>\n</ol>\n\n<p>This wouldn't require any hacky replacements of Spring components but uses the Spring configuration and extension mechanisms so it should work even if you update your Spring version (as long as the new version supports these mechanisms).</p>\n"},{"tags":[],"owner":{"account_id":910866,"reputation":2490,"user_id":944768,"accept_rate":48,"display_name":"hevi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386172599,"creation_date":1386172599,"answer_id":20379951,"question_id":20198275,"body_markdown":"You can use AOP, around interception\r\n\r\nConsider having a request mapping which receives all the `/**/public_api/*` and in this method do nothing;\r\n\r\n    @RequestMapping({\r\n        &quot;/**/public_api/*&quot;\r\n    })\r\n    public void method2(Model model){\r\n    }\r\n\r\nAfter\r\n\r\n\t@Override\r\n\tpublic void around(Method method, Object[] args, Object target)\r\n\t\tthrows Throwable {\r\n\t       // look for the requested version from model parameter, call it desired range\r\n\t       // check the target object for @VersionRange annotation with reflection and acquire version ranges, call the function if it is in the desired range\r\n\r\n\r\n\t}\r\nThe only constraint is that all has to be in the same controller.\r\n\r\nFor AOP configuration have a look at http://www.mkyong.com/spring/spring-aop-examples-advice/","title":"How to manage REST API versioning with spring?","body":"<p>You can use AOP, around interception</p>\n\n<p>Consider having a request mapping which receives all the <code>/**/public_api/*</code> and in this method do nothing;</p>\n\n<pre><code>@RequestMapping({\n    \"/**/public_api/*\"\n})\npublic void method2(Model model){\n}\n</code></pre>\n\n<p>After</p>\n\n<pre><code>@Override\npublic void around(Method method, Object[] args, Object target)\n    throws Throwable {\n       // look for the requested version from model parameter, call it desired range\n       // check the target object for @VersionRange annotation with reflection and acquire version ranges, call the function if it is in the desired range\n\n\n}\n</code></pre>\n\n<p>The only constraint is that all has to be in the same controller.</p>\n\n<p>For AOP configuration have a look at <a href=\"http://www.mkyong.com/spring/spring-aop-examples-advice/\" rel=\"nofollow\">http://www.mkyong.com/spring/spring-aop-examples-advice/</a></p>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1486658512,"creation_date":1389926995,"answer_id":21176971,"question_id":20198275,"body_markdown":"I just created a custom solution. I&#39;m using the `@ApiVersion` annotation in combination with `@RequestMapping` annotation inside `@Controller` classes.\r\n\r\nExample:\r\n--\r\n\r\n\t@Controller\r\n\t@RequestMapping(&quot;x&quot;)\r\n\t@ApiVersion(1)\r\n\tclass MyController {\r\n\r\n\t\t@RequestMapping(&quot;a&quot;)\r\n\t\tvoid a() {}\t\t\t// maps to /v1/x/a\r\n\r\n\t\t@RequestMapping(&quot;b&quot;)\r\n\t\t@ApiVersion(2)\r\n\t\tvoid b() {}\t\t\t// maps to /v2/x/b\r\n\r\n\t\t@RequestMapping(&quot;c&quot;)\r\n\t\t@ApiVersion({1,3})\r\n\t\tvoid c() {}\t\t\t// maps to /v1/x/c\r\n\t\t\t\t\t\t\t//  and to /v3/x/c\r\n\r\n\t}\r\n\r\nImplementation:\r\n--\r\n\r\n**ApiVersion.java** annotation:\r\n\r\n\t@Target({ElementType.METHOD, ElementType.TYPE})\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\tpublic @interface ApiVersion {\r\n\t\tint[] value();\r\n\t}\r\n\r\n**ApiVersionRequestMappingHandlerMapping.java** (this is mostly copy and paste from `RequestMappingHandlerMapping`):\r\n\r\n\tpublic class ApiVersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n\r\n\t\tprivate final String prefix;\r\n\t\r\n\t\tpublic ApiVersionRequestMappingHandlerMapping(String prefix) {\r\n\t\t\tthis.prefix = prefix;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n\t\t\tRequestMappingInfo info = super.getMappingForMethod(method, handlerType);\r\n\t\t\tif(info == null) return null;\r\n\r\n\t\t\tApiVersion methodAnnotation = AnnotationUtils.findAnnotation(method, ApiVersion.class);\r\n\t\t\tif(methodAnnotation != null) {\r\n\t\t\t\tRequestCondition&lt;?&gt; methodCondition = getCustomMethodCondition(method);\r\n\t\t\t\t// Concatenate our ApiVersion with the usual request mapping\r\n\t\t\t\tinfo = createApiVersionInfo(methodAnnotation, methodCondition).combine(info);\r\n\t\t\t} else {\r\n\t\t\t\tApiVersion typeAnnotation = AnnotationUtils.findAnnotation(handlerType, ApiVersion.class);\r\n\t\t\t\tif(typeAnnotation != null) {\r\n\t\t\t\t\tRequestCondition&lt;?&gt; typeCondition = getCustomTypeCondition(handlerType);\r\n\t\t\t\t\t// Concatenate our ApiVersion with the usual request mapping\r\n\t\t\t\t\tinfo = createApiVersionInfo(typeAnnotation, typeCondition).combine(info);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn info;\r\n\t\t}\r\n\t\t\r\n\t\tprivate RequestMappingInfo createApiVersionInfo(ApiVersion annotation, RequestCondition&lt;?&gt; customCondition) {\r\n\t\t\tint[] values = annotation.value();\r\n\t\t\tString[] patterns = new String[values.length];\r\n\t\t\tfor(int i=0; i&lt;values.length; i++) {\r\n\t\t\t\t// Build the URL prefix\r\n\t\t\t\tpatterns[i] = prefix+values[i]; \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn new RequestMappingInfo(\r\n\t\t\t\t\tnew PatternsRequestCondition(patterns, getUrlPathHelper(), getPathMatcher(), useSuffixPatternMatch(), useTrailingSlashMatch(), getFileExtensions()),\r\n\t\t\t\t\tnew RequestMethodsRequestCondition(),\r\n\t\t\t\t\tnew ParamsRequestCondition(),\r\n\t\t\t\t\tnew HeadersRequestCondition(),\r\n\t\t\t\t\tnew ConsumesRequestCondition(),\r\n\t\t\t\t\tnew ProducesRequestCondition(),\r\n\t\t\t\t\tcustomCondition);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nInjection into WebMvcConfigurationSupport:\r\n\r\n\tpublic class WebMvcConfig extends WebMvcConfigurationSupport {\r\n\t\t@Override\r\n\t\tpublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n\t\t\treturn new ApiVersionRequestMappingHandlerMapping(&quot;v&quot;);\r\n\t\t}\r\n\t}","title":"How to manage REST API versioning with spring?","body":"<p>I just created a custom solution. I'm using the <code>@ApiVersion</code> annotation in combination with <code>@RequestMapping</code> annotation inside <code>@Controller</code> classes.</p>\n\n<h2>Example:</h2>\n\n<pre><code>@Controller\n@RequestMapping(\"x\")\n@ApiVersion(1)\nclass MyController {\n\n    @RequestMapping(\"a\")\n    void a() {}         // maps to /v1/x/a\n\n    @RequestMapping(\"b\")\n    @ApiVersion(2)\n    void b() {}         // maps to /v2/x/b\n\n    @RequestMapping(\"c\")\n    @ApiVersion({1,3})\n    void c() {}         // maps to /v1/x/c\n                        //  and to /v3/x/c\n\n}\n</code></pre>\n\n<h2>Implementation:</h2>\n\n<p><strong>ApiVersion.java</strong> annotation:</p>\n\n<pre><code>@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ApiVersion {\n    int[] value();\n}\n</code></pre>\n\n<p><strong>ApiVersionRequestMappingHandlerMapping.java</strong> (this is mostly copy and paste from <code>RequestMappingHandlerMapping</code>):</p>\n\n<pre><code>public class ApiVersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n\n    private final String prefix;\n\n    public ApiVersionRequestMappingHandlerMapping(String prefix) {\n        this.prefix = prefix;\n    }\n\n    @Override\n    protected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n        RequestMappingInfo info = super.getMappingForMethod(method, handlerType);\n        if(info == null) return null;\n\n        ApiVersion methodAnnotation = AnnotationUtils.findAnnotation(method, ApiVersion.class);\n        if(methodAnnotation != null) {\n            RequestCondition&lt;?&gt; methodCondition = getCustomMethodCondition(method);\n            // Concatenate our ApiVersion with the usual request mapping\n            info = createApiVersionInfo(methodAnnotation, methodCondition).combine(info);\n        } else {\n            ApiVersion typeAnnotation = AnnotationUtils.findAnnotation(handlerType, ApiVersion.class);\n            if(typeAnnotation != null) {\n                RequestCondition&lt;?&gt; typeCondition = getCustomTypeCondition(handlerType);\n                // Concatenate our ApiVersion with the usual request mapping\n                info = createApiVersionInfo(typeAnnotation, typeCondition).combine(info);\n            }\n        }\n\n        return info;\n    }\n\n    private RequestMappingInfo createApiVersionInfo(ApiVersion annotation, RequestCondition&lt;?&gt; customCondition) {\n        int[] values = annotation.value();\n        String[] patterns = new String[values.length];\n        for(int i=0; i&lt;values.length; i++) {\n            // Build the URL prefix\n            patterns[i] = prefix+values[i]; \n        }\n\n        return new RequestMappingInfo(\n                new PatternsRequestCondition(patterns, getUrlPathHelper(), getPathMatcher(), useSuffixPatternMatch(), useTrailingSlashMatch(), getFileExtensions()),\n                new RequestMethodsRequestCondition(),\n                new ParamsRequestCondition(),\n                new HeadersRequestCondition(),\n                new ConsumesRequestCondition(),\n                new ProducesRequestCondition(),\n                customCondition);\n    }\n\n}\n</code></pre>\n\n<p>Injection into WebMvcConfigurationSupport:</p>\n\n<pre><code>public class WebMvcConfig extends WebMvcConfigurationSupport {\n    @Override\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\n        return new ApiVersionRequestMappingHandlerMapping(\"v\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1683393,"reputation":802,"user_id":1547153,"accept_rate":57,"display_name":"Tim Schimandle"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454713110,"creation_date":1454713110,"answer_id":35234966,"question_id":20198275,"body_markdown":"What about just using inheritance to model versioning? That is what I&#39;m using in my project and it requires no special spring configuration and gets me exactly what I want.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/test/1&quot;)\r\n    @Deprecated\r\n    public class Test1 {\r\n    ...Fields Getters Setters...\r\n        @RequestMapping(method = RequestMethod.GET)\r\n        @Deprecated\r\n        public Test getTest(Long id) {\r\n            return serviceClass.getTestById(id);\r\n        }\r\n        @RequestMapping(method = RequestMethod.PUT)\r\n        public Test getTest(Test test) {\r\n            return serviceClass.updateTest(test);\r\n        }\r\n    \r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/test/2&quot;)\r\n    public class Test2 extends Test1 {\r\n    ...Fields Getters Setters...\r\n        @Override\r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public Test getTest(Long id) {\r\n            return serviceClass.getAUpdated(id);\r\n        }\r\n    \r\n        @RequestMapping(method = RequestMethod.DELETE)\r\n        public Test deleteTest(Long id) {\r\n            return serviceClass.deleteTestById(id);\r\n        }\r\n    }\r\n\r\nThis set up allows for little duplication of code and the ability to overwrite methods into new versions of the api with little work. It also saves the need to complicate your source code with version switching logic. If you don&#39;t code an endpoint in a version it will grab the previous version by default.\r\n\r\nCompared to what others are doing this seems way easier. Is there something I&#39;m missing? ","title":"How to manage REST API versioning with spring?","body":"<p>What about just using inheritance to model versioning? That is what I'm using in my project and it requires no special spring configuration and gets me exactly what I want.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/test/1\")\n@Deprecated\npublic class Test1 {\n...Fields Getters Setters...\n    @RequestMapping(method = RequestMethod.GET)\n    @Deprecated\n    public Test getTest(Long id) {\n        return serviceClass.getTestById(id);\n    }\n    @RequestMapping(method = RequestMethod.PUT)\n    public Test getTest(Test test) {\n        return serviceClass.updateTest(test);\n    }\n\n}\n\n@RestController\n@RequestMapping(value = \"/test/2\")\npublic class Test2 extends Test1 {\n...Fields Getters Setters...\n    @Override\n    @RequestMapping(method = RequestMethod.GET)\n    public Test getTest(Long id) {\n        return serviceClass.getAUpdated(id);\n    }\n\n    @RequestMapping(method = RequestMethod.DELETE)\n    public Test deleteTest(Long id) {\n        return serviceClass.deleteTestById(id);\n    }\n}\n</code></pre>\n\n<p>This set up allows for little duplication of code and the ability to overwrite methods into new versions of the api with little work. It also saves the need to complicate your source code with version switching logic. If you don't code an endpoint in a version it will grab the previous version by default.</p>\n\n<p>Compared to what others are doing this seems way easier. Is there something I'm missing? </p>\n"},{"tags":[],"owner":{"account_id":1931161,"reputation":1869,"user_id":1740520,"accept_rate":20,"display_name":"mspapant"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1471795243,"creation_date":1471795243,"answer_id":39066141,"question_id":20198275,"body_markdown":"I have implemented a solution which handles **PERFECTLY** the problem with rest versioning.\r\n\r\nGeneral Speaking there are 3 major approaches for rest versioning:\r\n\r\n - **Path**-based approch, in which the client defines the version in URL:\r\n\r\n        http://localhost:9001/api/v1/user\r\n        http://localhost:9001/api/v2/user\r\n\r\n - **Content-Type** header, in which the client defines the version in **Accept** header:\r\n\r\n        http://localhost:9001/api/v1/user with \r\n        Accept: application/vnd.app-1.0+json OR application/vnd.app-2.0+json\r\n\r\n - **Custom Header**, in which the client defines the version in a custom header.\r\n\r\nThe **problem** with the **first** approach is that if you change the version let&#39;s say from v1 -&gt; v2, probably you need to copy-paste the v1 resources that haven&#39;t changed to v2 path \r\n\r\nThe **problem** with the **second** approach is that some tools like http://swagger.io/ cannot distinct between operations with same path but different Content-Type (check issue https://github.com/OAI/OpenAPI-Specification/issues/146)\r\n\r\n**The solution**\r\n\r\nSince i am working a lot with rest documentation tools, i prefer to use the first approach. My solution handles the **problem** with the first approach, so you don&#39;t need to copy-paste the endpoint to the new version.\r\n\r\nLet&#39;s say we have v1 and v2 versions for the User controller:\r\n\r\n    package com.mspapant.example.restVersion.controller;\r\n\r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n    /**\r\n     * The user controller.\r\n     *\r\n     * @author : Manos Papantonakos on 19/8/2016.\r\n     */\r\n    @Controller\r\n    @Api(value = &quot;user&quot;, description = &quot;Operations about users&quot;)\r\n    public class UserController {\r\n\r\n        /**\r\n         * Return the user.\r\n         *\r\n         * @return the user\r\n         */\r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/api/v1/user&quot;)\r\n        @ApiOperation(value = &quot;Returns user&quot;, notes = &quot;Returns the user&quot;, tags = {&quot;GET&quot;, &quot;User&quot;})\r\n        public String getUserV1() {\r\n             return &quot;User V1&quot;;\r\n        }\r\n\r\n        /**\r\n         * Return the user.\r\n         *\r\n         * @return the user\r\n         */\r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/api/v2/user&quot;)\r\n        @ApiOperation(value = &quot;Returns user&quot;, notes = &quot;Returns the user&quot;, tags = {&quot;GET&quot;, &quot;User&quot;})\r\n        public String getUserV2() {\r\n             return &quot;User V2&quot;;\r\n        }\r\n     }\r\n\r\nThe **requirement** is if i request the **v1** for the user resource i have to take the **&quot;User V1&quot;** repsonse, otherwise if i request the **v2**, **v3** and so on i have to take the **&quot;User V2&quot;** response.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn order to implement this in spring, we need to override the default **RequestMappingHandlerMapping** behavior:\r\n\r\n    package com.mspapant.example.restVersion.conf.mapping;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.web.method.HandlerMethod;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n\r\n    public class VersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n\r\n        @Value(&quot;${server.apiContext}&quot;)\r\n        private String apiContext;\r\n\r\n        @Value(&quot;${server.versionContext}&quot;)\r\n        private String versionContext;\r\n\r\n        @Override\r\n        protected HandlerMethod lookupHandlerMethod(String lookupPath, HttpServletRequest request) throws Exception {\r\n            HandlerMethod method = super.lookupHandlerMethod(lookupPath, request);\r\n            if (method == null &amp;&amp; lookupPath.contains(getApiAndVersionContext())) {\r\n                String afterAPIURL = lookupPath.substring(lookupPath.indexOf(getApiAndVersionContext()) + getApiAndVersionContext().length());\r\n                String version = afterAPIURL.substring(0, afterAPIURL.indexOf(&quot;/&quot;));\r\n                String path = afterAPIURL.substring(version.length() + 1);\r\n\r\n                int previousVersion = getPreviousVersion(version);\r\n                if (previousVersion != 0) {\r\n                    lookupPath = getApiAndVersionContext() + previousVersion + &quot;/&quot; + path;\r\n                    final String lookupFinal = lookupPath;\r\n                    return lookupHandlerMethod(lookupPath, new HttpServletRequestWrapper(request) {\r\n                        @Override\r\n                        public String getRequestURI() {\r\n                            return lookupFinal;\r\n                        }\r\n\r\n                        @Override\r\n                        public String getServletPath() {\r\n                            return lookupFinal;\r\n                        }});\r\n                }\r\n            }\r\n            return method;\r\n        }\r\n\r\n        private String getApiAndVersionContext() {\r\n            return &quot;/&quot; + apiContext + &quot;/&quot; + versionContext;\r\n        }\r\n\r\n        private int getPreviousVersion(final String version) {\r\n            return new Integer(version) - 1 ;\r\n        }\r\n   }\r\n\r\nThe implementation reads the version in the URL and asks from spring to resolve the URL .In case this URL does not exists (for example the client requested **v3**) then we try with **v2** and so one until we find the **most recent version** for the resource.\r\n\r\nIn order to see the benefits from this implementation, let&#39;s say we have two resources: User and Company:\r\n\r\n    http://localhost:9001/api/v{version}/user\r\n    http://localhost:9001/api/v{version}/company\r\n\r\nLet&#39;s say we made a change in company &quot;contract&quot; that breaks the client. So we implement the `http://localhost:9001/api/v2/company` and we ask from client to change to v2 instead on v1.\r\n\r\nSo the new requests from client are: \r\n\r\n    http://localhost:9001/api/v2/user\r\n    http://localhost:9001/api/v2/company\r\n\r\ninstead of:\r\n\r\n    http://localhost:9001/api/v1/user\r\n    http://localhost:9001/api/v1/company\r\n\r\nThe **best** part here is that with this solution the client will get the user information from v1 and company information from v2 **without the need** to create a new (same) endpoint from user v2!\r\n\r\n\r\n**Rest Documentation**\r\nAs i said before the reason i select the URL-based versioning approach is that some tools like swagger do not document differently the endpoints with the same URL but different content type. With this solution, both endpoints are displayed since have different URL:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pCP7v.png\r\n  [2]: http://i.stack.imgur.com/Hbeln.png\r\n\r\n\r\n**GIT**\r\n\r\nSolution implementation at:\r\nhttps://github.com/mspapant/restVersioningExample/\r\n","title":"How to manage REST API versioning with spring?","body":"<p>I have implemented a solution which handles <strong>PERFECTLY</strong> the problem with rest versioning.</p>\n\n<p>General Speaking there are 3 major approaches for rest versioning:</p>\n\n<ul>\n<li><p><strong>Path</strong>-based approch, in which the client defines the version in URL:</p>\n\n<pre><code>http://localhost:9001/api/v1/user\nhttp://localhost:9001/api/v2/user\n</code></pre></li>\n<li><p><strong>Content-Type</strong> header, in which the client defines the version in <strong>Accept</strong> header:</p>\n\n<pre><code>http://localhost:9001/api/v1/user with \nAccept: application/vnd.app-1.0+json OR application/vnd.app-2.0+json\n</code></pre></li>\n<li><p><strong>Custom Header</strong>, in which the client defines the version in a custom header.</p></li>\n</ul>\n\n<p>The <strong>problem</strong> with the <strong>first</strong> approach is that if you change the version let's say from v1 -> v2, probably you need to copy-paste the v1 resources that haven't changed to v2 path </p>\n\n<p>The <strong>problem</strong> with the <strong>second</strong> approach is that some tools like <a href=\"http://swagger.io/\" rel=\"noreferrer\">http://swagger.io/</a> cannot distinct between operations with same path but different Content-Type (check issue <a href=\"https://github.com/OAI/OpenAPI-Specification/issues/146\" rel=\"noreferrer\">https://github.com/OAI/OpenAPI-Specification/issues/146</a>)</p>\n\n<p><strong>The solution</strong></p>\n\n<p>Since i am working a lot with rest documentation tools, i prefer to use the first approach. My solution handles the <strong>problem</strong> with the first approach, so you don't need to copy-paste the endpoint to the new version.</p>\n\n<p>Let's say we have v1 and v2 versions for the User controller:</p>\n\n<pre><code>package com.mspapant.example.restVersion.controller;\n\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n/**\n * The user controller.\n *\n * @author : Manos Papantonakos on 19/8/2016.\n */\n@Controller\n@Api(value = \"user\", description = \"Operations about users\")\npublic class UserController {\n\n    /**\n     * Return the user.\n     *\n     * @return the user\n     */\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.GET, value = \"/api/v1/user\")\n    @ApiOperation(value = \"Returns user\", notes = \"Returns the user\", tags = {\"GET\", \"User\"})\n    public String getUserV1() {\n         return \"User V1\";\n    }\n\n    /**\n     * Return the user.\n     *\n     * @return the user\n     */\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.GET, value = \"/api/v2/user\")\n    @ApiOperation(value = \"Returns user\", notes = \"Returns the user\", tags = {\"GET\", \"User\"})\n    public String getUserV2() {\n         return \"User V2\";\n    }\n }\n</code></pre>\n\n<p>The <strong>requirement</strong> is if i request the <strong>v1</strong> for the user resource i have to take the <strong>\"User V1\"</strong> repsonse, otherwise if i request the <strong>v2</strong>, <strong>v3</strong> and so on i have to take the <strong>\"User V2\"</strong> response.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pCP7v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pCP7v.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to implement this in spring, we need to override the default <strong>RequestMappingHandlerMapping</strong> behavior:</p>\n\n<pre><code>package com.mspapant.example.restVersion.conf.mapping;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.method.HandlerMethod;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\npublic class VersionRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n\n    @Value(\"${server.apiContext}\")\n    private String apiContext;\n\n    @Value(\"${server.versionContext}\")\n    private String versionContext;\n\n    @Override\n    protected HandlerMethod lookupHandlerMethod(String lookupPath, HttpServletRequest request) throws Exception {\n        HandlerMethod method = super.lookupHandlerMethod(lookupPath, request);\n        if (method == null &amp;&amp; lookupPath.contains(getApiAndVersionContext())) {\n            String afterAPIURL = lookupPath.substring(lookupPath.indexOf(getApiAndVersionContext()) + getApiAndVersionContext().length());\n            String version = afterAPIURL.substring(0, afterAPIURL.indexOf(\"/\"));\n            String path = afterAPIURL.substring(version.length() + 1);\n\n            int previousVersion = getPreviousVersion(version);\n            if (previousVersion != 0) {\n                lookupPath = getApiAndVersionContext() + previousVersion + \"/\" + path;\n                final String lookupFinal = lookupPath;\n                return lookupHandlerMethod(lookupPath, new HttpServletRequestWrapper(request) {\n                    @Override\n                    public String getRequestURI() {\n                        return lookupFinal;\n                    }\n\n                    @Override\n                    public String getServletPath() {\n                        return lookupFinal;\n                    }});\n            }\n        }\n        return method;\n    }\n\n    private String getApiAndVersionContext() {\n        return \"/\" + apiContext + \"/\" + versionContext;\n    }\n\n    private int getPreviousVersion(final String version) {\n        return new Integer(version) - 1 ;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>The implementation reads the version in the URL and asks from spring to resolve the URL .In case this URL does not exists (for example the client requested <strong>v3</strong>) then we try with <strong>v2</strong> and so one until we find the <strong>most recent version</strong> for the resource.</p>\n\n<p>In order to see the benefits from this implementation, let's say we have two resources: User and Company:</p>\n\n<pre><code>http://localhost:9001/api/v{version}/user\nhttp://localhost:9001/api/v{version}/company\n</code></pre>\n\n<p>Let's say we made a change in company \"contract\" that breaks the client. So we implement the <code>http://localhost:9001/api/v2/company</code> and we ask from client to change to v2 instead on v1.</p>\n\n<p>So the new requests from client are: </p>\n\n<pre><code>http://localhost:9001/api/v2/user\nhttp://localhost:9001/api/v2/company\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>http://localhost:9001/api/v1/user\nhttp://localhost:9001/api/v1/company\n</code></pre>\n\n<p>The <strong>best</strong> part here is that with this solution the client will get the user information from v1 and company information from v2 <strong>without the need</strong> to create a new (same) endpoint from user v2!</p>\n\n<p><strong>Rest Documentation</strong>\nAs i said before the reason i select the URL-based versioning approach is that some tools like swagger do not document differently the endpoints with the same URL but different content type. With this solution, both endpoints are displayed since have different URL:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hbeln.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Hbeln.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>GIT</strong></p>\n\n<p>Solution implementation at:\n<a href=\"https://github.com/mspapant/restVersioningExample/\" rel=\"noreferrer\">https://github.com/mspapant/restVersioningExample/</a></p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641493077,"creation_date":1554408593,"answer_id":55524151,"question_id":20198275,"body_markdown":"I already tried to version my API using the *URI Versioning*, like:\r\n\r\n    /api/v1/orders\r\n    /api/v2/orders\r\n\r\nBut there are some challenges when trying to make this work: how organize your code with different versions? How manage two (or more) versions at the same time? What&#39;s the impact when removing some version?\r\n\r\nThe best alternative that I found was not version the entire API, but **control the version on each endpoint**. This pattern is called [Versioning using Accept header][1] or [Versioning through content negotiation][2]:\r\n\r\n&gt; This approach allows us to version a single resource representation\r\n&gt; instead of versioning the entire API which gives us a more granular\r\n&gt; control over versioning. It also creates a smaller footprint in the\r\n&gt; code base as we don’t have to fork the entire application when\r\n&gt; creating a new version. Another advantage of this approach is that it\r\n&gt; doesn’t require implementing URI routing rules introduced by\r\n&gt; versioning through the URI path.\r\n\r\n# Implementation on Spring\r\n\r\nFirst, you create a Controller with a `produces` attribute, that will applied by default on each endpoint inside the same class.\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/orders/&quot;, produces = &quot;application/vnd.company.etc.v1+json&quot;)\r\n    public class OrderController {\r\n    \r\n    }\r\n\r\nAfter that, we can imagine a possible scenario where you have two versions (*v1* and *v2*) of an endpoint for &quot;create an order&quot;:\r\n\r\n\r\n    @Deprecated\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;OrderResponse&gt; createV1(\r\n\t\t\t@RequestBody OrderRequest orderRequest) {\r\n\r\n\t\tOrderResponse response = createOrderService.createOrder(orderRequest);\r\n\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n\t}\r\n\r\n\t@PostMapping(\r\n\t\t\tproduces = &quot;application/vnd.company.etc.v2+json&quot;,\r\n\t\t\tconsumes = &quot;application/vnd.company.etc.v2+json&quot;)\r\n\tpublic ResponseEntity&lt;OrderResponseV2&gt; createV2(\r\n\t\t\t@RequestBody OrderRequestV2 orderRequest) {\r\n\r\n\t\tOrderResponse response = createOrderService.createOrder(orderRequest);\r\n\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n\t}\r\n\r\nDone! Just call each endpoint using the desired *Http Header* version:\r\n\r\n    Content-Type: application/vnd.company.etc.v1+json\r\n\r\nOr, to call the v2:\r\n\r\n    Content-Type: application/vnd.company.etc.v2+json\r\n\r\nAbout your worries:\r\n\r\n&gt; And since not all methods in an API change in the same release, I\r\n&gt; don&#39;t want to go to each of my controllers and change anything for a\r\n&gt; handler that hasn&#39;t changed between versions\r\n\r\nAs explained, this strategy maintains each Controller and endpoint with his actual version. You only modify the endpoint that have modifications and needs a new version.\r\n\r\n# And the Swagger?\r\n\r\nSetup the Swagger with different versions is also very easy using this strategy. [See this answer][3] to more details.\r\n\r\n\r\n  [1]: https://restfulapi.net/versioning/\r\n  [2]: https://www.xmatters.com/integrations/blog-four-rest-api-versioning-strategies/\r\n  [3]: https://stackoverflow.com/a/53615701/2387977","title":"How to manage REST API versioning with spring?","body":"<p>I already tried to version my API using the <em>URI Versioning</em>, like:</p>\n<pre><code>/api/v1/orders\n/api/v2/orders\n</code></pre>\n<p>But there are some challenges when trying to make this work: how organize your code with different versions? How manage two (or more) versions at the same time? What's the impact when removing some version?</p>\n<p>The best alternative that I found was not version the entire API, but <strong>control the version on each endpoint</strong>. This pattern is called <a href=\"https://restfulapi.net/versioning/\" rel=\"nofollow noreferrer\">Versioning using Accept header</a> or <a href=\"https://www.xmatters.com/integrations/blog-four-rest-api-versioning-strategies/\" rel=\"nofollow noreferrer\">Versioning through content negotiation</a>:</p>\n<blockquote>\n<p>This approach allows us to version a single resource representation\ninstead of versioning the entire API which gives us a more granular\ncontrol over versioning. It also creates a smaller footprint in the\ncode base as we don’t have to fork the entire application when\ncreating a new version. Another advantage of this approach is that it\ndoesn’t require implementing URI routing rules introduced by\nversioning through the URI path.</p>\n</blockquote>\n<h1>Implementation on Spring</h1>\n<p>First, you create a Controller with a <code>produces</code> attribute, that will applied by default on each endpoint inside the same class.</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/orders/&quot;, produces = &quot;application/vnd.company.etc.v1+json&quot;)\npublic class OrderController {\n\n}\n</code></pre>\n<p>After that, we can imagine a possible scenario where you have two versions (<em>v1</em> and <em>v2</em>) of an endpoint for &quot;create an order&quot;:</p>\n<pre><code>@Deprecated\n@PostMapping\npublic ResponseEntity&lt;OrderResponse&gt; createV1(\n        @RequestBody OrderRequest orderRequest) {\n\n    OrderResponse response = createOrderService.createOrder(orderRequest);\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n}\n\n@PostMapping(\n        produces = &quot;application/vnd.company.etc.v2+json&quot;,\n        consumes = &quot;application/vnd.company.etc.v2+json&quot;)\npublic ResponseEntity&lt;OrderResponseV2&gt; createV2(\n        @RequestBody OrderRequestV2 orderRequest) {\n\n    OrderResponse response = createOrderService.createOrder(orderRequest);\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n}\n</code></pre>\n<p>Done! Just call each endpoint using the desired <em>Http Header</em> version:</p>\n<pre><code>Content-Type: application/vnd.company.etc.v1+json\n</code></pre>\n<p>Or, to call the v2:</p>\n<pre><code>Content-Type: application/vnd.company.etc.v2+json\n</code></pre>\n<p>About your worries:</p>\n<blockquote>\n<p>And since not all methods in an API change in the same release, I\ndon't want to go to each of my controllers and change anything for a\nhandler that hasn't changed between versions</p>\n</blockquote>\n<p>As explained, this strategy maintains each Controller and endpoint with his actual version. You only modify the endpoint that have modifications and needs a new version.</p>\n<h1>And the Swagger?</h1>\n<p>Setup the Swagger with different versions is also very easy using this strategy. <a href=\"https://stackoverflow.com/a/53615701/2387977\">See this answer</a> to more details.</p>\n"},{"tags":[],"owner":{"account_id":20070912,"reputation":23,"user_id":14715699,"display_name":"IvarAlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022470,"creation_date":1680021833,"answer_id":75868902,"question_id":20198275,"body_markdown":"Just wanted to share my **Kotlin / Spring 5.3.x implementation** of URL versioning, in case someone finds it useful.\r\n\r\nI have an **Annotation** class defining start and end version. If the end version is not set, it&#39;s only valid for a single version. \r\n\r\n    const val VERSION_PREFIX = &quot;v&quot;\r\n\r\n    @Target(AnnotationTarget.FUNCTION, AnnotationTarget.CLASS)\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    annotation class VersionedResource(\r\n        val version: Int,\r\n        val toVersion: Int = 0\r\n    )\r\n    \r\n    fun VersionedResource.validate() {\r\n        /* Do whatever validation you need */\r\n    }\r\n\r\n    fun VersionedResource.getRange(): IntRange {\r\n        validate()\r\n        return if (toVersion == 0) version..version\r\n        else version..toVersion\r\n    }\r\n\r\nThis is then utilized by a **custom RequestMappingHandlerMapping** like this: \r\n\r\n    class VersionedRequestHandlerMapping : RequestMappingHandlerMapping() {\r\n\r\n    companion object {\r\n        val logger: Logger = LoggerFactory.getLogger(this::class.java)\r\n    }\r\n\r\n    override fun getMappingForMethod(method: Method, handlerType: Class&lt;*&gt;): RequestMappingInfo? {\r\n        val mappingInfo = super.getMappingForMethod(method, handlerType) ?: return null\r\n        val versions = getAndValidateAnnotatedVersions(method, handlerType) ?: return mappingInfo\r\n\r\n        val versionedPatterns = mutableSetOf&lt;String&gt;()\r\n        mappingInfo.patternsCondition?.apply {\r\n            patterns.forEach { path -&gt;\r\n                versions.forEach { version -&gt;\r\n                    &quot;/$VERSION_PREFIX$version$path&quot;\r\n                        .apply { versionedPatterns.add(this) }\r\n                        .also { logger.debug(&quot;Generated versioned request-mapping: &#39;$it&#39;&quot;) }\r\n                }\r\n            }\r\n        } ?: throw IllegalStateException(\r\n            &quot;Cannot create versioned request mapping patterns when there are no patterns from before.&quot;\r\n        )\r\n\r\n        return buildRequestMappingWithNewPaths(versionedPatterns, mappingInfo)\r\n    }\r\n\r\n    private fun getAndValidateAnnotatedVersions(\r\n        method: Method,\r\n        handlerType: Class&lt;*&gt;\r\n    ): IntRange? {\r\n        return (AnnotationUtils.findAnnotation(method, VersionedResource::class.java) // Prioritizes method before class\r\n            ?: AnnotationUtils.findAnnotation(handlerType, VersionedResource::class.java))\r\n            ?.run { getRange() }\r\n    }\r\n\r\n    private fun buildRequestMappingWithNewPaths(\r\n        versionedPatterns: Set&lt;String&gt;,\r\n        mappingInfo: RequestMappingInfo\r\n    ): RequestMappingInfo {\r\n        return RequestMappingInfo\r\n            .paths(*versionedPatterns.toTypedArray())\r\n            .methods(*mappingInfo.methodsCondition.methods.toTypedArray())\r\n            .params(*mappingInfo.paramsCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .headers(*mappingInfo.headersCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .consumes(*mappingInfo.consumesCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .produces(*mappingInfo.producesCondition.expressions.map { it.toString() }.toTypedArray())\r\n            .apply { mappingInfo.name?.let { mappingName(it) } }\r\n            .build()\r\n    }\r\n    }\r\n\r\n**Config** looks like this. \r\n\r\n    @Configuration\r\n    class VersionedResourceConfig : DelegatingWebMvcConfiguration() {\r\n    \r\n        @Autowired\r\n        private lateinit var context: ApplicationContext\r\n    \r\n        @Autowired\r\n        private lateinit var jacksonObjectMapper: ObjectMapper\r\n    \r\n        override fun createRequestMappingHandlerMapping(): RequestMappingHandlerMapping {\r\n            return VersionedRequestHandlerMapping().apply {\r\n                applicationContext = context\r\n                setRemoveSemicolonContent(false)\r\n                setDetectHandlerMethodsInAncestorContexts(true)\r\n            }\r\n        }\r\n    \r\n        // For some reason I needed to add this, since it was being overridden \r\n        override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;?&gt;) {\r\n            converters.add(MappingJackson2HttpMessageConverter(jacksonObjectMapper))\r\n            super.configureMessageConverters(converters)\r\n        }\r\n    }\r\n\r\nNow I&#39;m able to define a **versioned resource** like this: \r\n\r\n    @RestController\r\n    @VersionedResource(version = 1, toVersion =  2)\r\n    @RequestMapping(path = [&quot;/some/resource&quot;]) // Should handle multiple paths as well\r\n    class SomeResource() {\r\n    \r\n        @GetMapping\r\n        fun getSomething() {\r\n            // Will be mapped to /v1/some/resource and /v2/some/resource\r\n        }\r\n    \r\n        @VersionedResource(2)\r\n        @GetMapping(&quot;stuff&quot;)\r\n        fun getSomethingElse() {\r\n            // Will be mapped only to /v2/some/resource/stuff (overrides class spec)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to manage REST API versioning with spring?","body":"<p>Just wanted to share my <strong>Kotlin / Spring 5.3.x implementation</strong> of URL versioning, in case someone finds it useful.</p>\n<p>I have an <strong>Annotation</strong> class defining start and end version. If the end version is not set, it's only valid for a single version.</p>\n<pre><code>const val VERSION_PREFIX = &quot;v&quot;\n\n@Target(AnnotationTarget.FUNCTION, AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class VersionedResource(\n    val version: Int,\n    val toVersion: Int = 0\n)\n\nfun VersionedResource.validate() {\n    /* Do whatever validation you need */\n}\n\nfun VersionedResource.getRange(): IntRange {\n    validate()\n    return if (toVersion == 0) version..version\n    else version..toVersion\n}\n</code></pre>\n<p>This is then utilized by a <strong>custom RequestMappingHandlerMapping</strong> like this:</p>\n<pre><code>class VersionedRequestHandlerMapping : RequestMappingHandlerMapping() {\n\ncompanion object {\n    val logger: Logger = LoggerFactory.getLogger(this::class.java)\n}\n\noverride fun getMappingForMethod(method: Method, handlerType: Class&lt;*&gt;): RequestMappingInfo? {\n    val mappingInfo = super.getMappingForMethod(method, handlerType) ?: return null\n    val versions = getAndValidateAnnotatedVersions(method, handlerType) ?: return mappingInfo\n\n    val versionedPatterns = mutableSetOf&lt;String&gt;()\n    mappingInfo.patternsCondition?.apply {\n        patterns.forEach { path -&gt;\n            versions.forEach { version -&gt;\n                &quot;/$VERSION_PREFIX$version$path&quot;\n                    .apply { versionedPatterns.add(this) }\n                    .also { logger.debug(&quot;Generated versioned request-mapping: '$it'&quot;) }\n            }\n        }\n    } ?: throw IllegalStateException(\n        &quot;Cannot create versioned request mapping patterns when there are no patterns from before.&quot;\n    )\n\n    return buildRequestMappingWithNewPaths(versionedPatterns, mappingInfo)\n}\n\nprivate fun getAndValidateAnnotatedVersions(\n    method: Method,\n    handlerType: Class&lt;*&gt;\n): IntRange? {\n    return (AnnotationUtils.findAnnotation(method, VersionedResource::class.java) // Prioritizes method before class\n        ?: AnnotationUtils.findAnnotation(handlerType, VersionedResource::class.java))\n        ?.run { getRange() }\n}\n\nprivate fun buildRequestMappingWithNewPaths(\n    versionedPatterns: Set&lt;String&gt;,\n    mappingInfo: RequestMappingInfo\n): RequestMappingInfo {\n    return RequestMappingInfo\n        .paths(*versionedPatterns.toTypedArray())\n        .methods(*mappingInfo.methodsCondition.methods.toTypedArray())\n        .params(*mappingInfo.paramsCondition.expressions.map { it.toString() }.toTypedArray())\n        .headers(*mappingInfo.headersCondition.expressions.map { it.toString() }.toTypedArray())\n        .consumes(*mappingInfo.consumesCondition.expressions.map { it.toString() }.toTypedArray())\n        .produces(*mappingInfo.producesCondition.expressions.map { it.toString() }.toTypedArray())\n        .apply { mappingInfo.name?.let { mappingName(it) } }\n        .build()\n}\n}\n</code></pre>\n<p><strong>Config</strong> looks like this.</p>\n<pre><code>@Configuration\nclass VersionedResourceConfig : DelegatingWebMvcConfiguration() {\n\n    @Autowired\n    private lateinit var context: ApplicationContext\n\n    @Autowired\n    private lateinit var jacksonObjectMapper: ObjectMapper\n\n    override fun createRequestMappingHandlerMapping(): RequestMappingHandlerMapping {\n        return VersionedRequestHandlerMapping().apply {\n            applicationContext = context\n            setRemoveSemicolonContent(false)\n            setDetectHandlerMethodsInAncestorContexts(true)\n        }\n    }\n\n    // For some reason I needed to add this, since it was being overridden \n    override fun configureMessageConverters(converters: MutableList&lt;HttpMessageConverter&lt;*&gt;?&gt;) {\n        converters.add(MappingJackson2HttpMessageConverter(jacksonObjectMapper))\n        super.configureMessageConverters(converters)\n    }\n}\n</code></pre>\n<p>Now I'm able to define a <strong>versioned resource</strong> like this:</p>\n<pre><code>@RestController\n@VersionedResource(version = 1, toVersion =  2)\n@RequestMapping(path = [&quot;/some/resource&quot;]) // Should handle multiple paths as well\nclass SomeResource() {\n\n    @GetMapping\n    fun getSomething() {\n        // Will be mapped to /v1/some/resource and /v2/some/resource\n    }\n\n    @VersionedResource(2)\n    @GetMapping(&quot;stuff&quot;)\n    fun getSomethingElse() {\n        // Will be mapped only to /v2/some/resource/stuff (overrides class spec)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130886,"favorite_count":0,"down_vote_count":1,"up_vote_count":151,"accepted_answer_id":20346070,"answer_count":10,"score":150,"last_activity_date":1680022470,"creation_date":1385397469,"question_id":20198275,"body_markdown":"I&#39;ve been searching how to manage a REST API versions using Spring 3.2.x, but I haven&#39;t find anything that is easy to maintain. I&#39;ll explain first the problem I have, and then a solution... but I do wonder if I&#39;m re-inventing the wheel here.\n\nI want to manage the version based on the Accept header, and for example if a request has the Accept header `application/vnd.company.app-1.1+json`, I want spring MVC to forward this to the method that handles this version. And since not all methods in an API change in the same release, I don&#39;t want to go to each of my controllers and change anything for a handler that hasn&#39;t changed between versions. I also don&#39;t want to have the logic to figure out which version to use in the controller themselves (using service locators) as Spring is already discovering which method to call.\n\nSo taken an API with versions 1.0, to 1.8 where a handler was introduced in version 1.0 and modified in v1.7, I would like handle this in the following way. Imagine that the code is inside a controller, and that there&#39;s some code that is able to extract the version from the header. (The following is invalid in Spring)\n\n    @RequestMapping(...)\n    @VersionRange(1.0,1.6)\n    @ResponseBody\n    public Object method1() {\n       // so something\n       return object;\n    }\n\n    @RequestMapping(...) //same Request mapping annotation\n    @VersionRange(1.7)\n    @ResponseBody\n    public Object method2() {\n       // so something\n       return object;\n    }\n\nThis is not possible in spring as the 2 methods have the same `RequestMapping` annotation and Spring fails to load. The idea is that the `VersionRange` annotation can define an open or closed version range. The first method is valid from versions 1.0 to 1.6, while the second for version 1.7 onwards (including the latest version 1.8). I know that this approach breaks if someone decides to pass version 99.99, but that&#39;s something I&#39;m OK to live with.\n\n\nNow, since the above is not possible without a serious rework of how spring works, I was thinking of tinkering with the way handlers matched to requests, in particular to write my own `ProducesRequestCondition`, and have the version range in there. For example\n\nCode:\n\n    @RequestMapping(..., produces = &quot;application/vnd.company.app-[1.0-1.6]+json)\n    @ResponseBody\n    public Object method1() {\n       // so something\n       return object;\n    }\n \n    @RequestMapping(..., produces = &quot;application/vnd.company.app-[1.7-]+json)\n    @ResponseBody\n    public Object method2() {\n       // so something\n       return object;\n    }\n\nIn this way, I can have closed or open version ranges defined in the produces part of the annotation. I&#39;m working on this solution now, with the problem that I still had to replace some core Spring MVC classes (`RequestMappingInfoHandlerMapping`, `RequestMappingHandlerMapping` and `RequestMappingInfo`), which I don&#39;t like, because it means extra work whenever I decide to upgrade to a newer version of spring.\n\n\nI would appreciate any thoughts... and especially, any suggestion to do this in a simpler, easier to maintain way.\n\n---\n## Edit\nAdding a bounty. To get the bounty, please answer the question above without suggesting to have this logic in the controller themselves. Spring already has a lot of logic to select which controller method to call, and I want to piggyback on that.\n\n---\n## Edit 2\nI&#39;ve shared the original POC (with some improvements) in github: https://github.com/augusto/restVersioning\n","title":"How to manage REST API versioning with spring?","body":"<p>I've been searching how to manage a REST API versions using Spring 3.2.x, but I haven't find anything that is easy to maintain. I'll explain first the problem I have, and then a solution... but I do wonder if I'm re-inventing the wheel here.</p>\n<p>I want to manage the version based on the Accept header, and for example if a request has the Accept header <code>application/vnd.company.app-1.1+json</code>, I want spring MVC to forward this to the method that handles this version. And since not all methods in an API change in the same release, I don't want to go to each of my controllers and change anything for a handler that hasn't changed between versions. I also don't want to have the logic to figure out which version to use in the controller themselves (using service locators) as Spring is already discovering which method to call.</p>\n<p>So taken an API with versions 1.0, to 1.8 where a handler was introduced in version 1.0 and modified in v1.7, I would like handle this in the following way. Imagine that the code is inside a controller, and that there's some code that is able to extract the version from the header. (The following is invalid in Spring)</p>\n<pre><code>@RequestMapping(...)\n@VersionRange(1.0,1.6)\n@ResponseBody\npublic Object method1() {\n   // so something\n   return object;\n}\n\n@RequestMapping(...) //same Request mapping annotation\n@VersionRange(1.7)\n@ResponseBody\npublic Object method2() {\n   // so something\n   return object;\n}\n</code></pre>\n<p>This is not possible in spring as the 2 methods have the same <code>RequestMapping</code> annotation and Spring fails to load. The idea is that the <code>VersionRange</code> annotation can define an open or closed version range. The first method is valid from versions 1.0 to 1.6, while the second for version 1.7 onwards (including the latest version 1.8). I know that this approach breaks if someone decides to pass version 99.99, but that's something I'm OK to live with.</p>\n<p>Now, since the above is not possible without a serious rework of how spring works, I was thinking of tinkering with the way handlers matched to requests, in particular to write my own <code>ProducesRequestCondition</code>, and have the version range in there. For example</p>\n<p>Code:</p>\n<pre><code>@RequestMapping(..., produces = &quot;application/vnd.company.app-[1.0-1.6]+json)\n@ResponseBody\npublic Object method1() {\n   // so something\n   return object;\n}\n\n@RequestMapping(..., produces = &quot;application/vnd.company.app-[1.7-]+json)\n@ResponseBody\npublic Object method2() {\n   // so something\n   return object;\n}\n</code></pre>\n<p>In this way, I can have closed or open version ranges defined in the produces part of the annotation. I'm working on this solution now, with the problem that I still had to replace some core Spring MVC classes (<code>RequestMappingInfoHandlerMapping</code>, <code>RequestMappingHandlerMapping</code> and <code>RequestMappingInfo</code>), which I don't like, because it means extra work whenever I decide to upgrade to a newer version of spring.</p>\n<p>I would appreciate any thoughts... and especially, any suggestion to do this in a simpler, easier to maintain way.</p>\n<hr />\n<h2>Edit</h2>\n<p>Adding a bounty. To get the bounty, please answer the question above without suggesting to have this logic in the controller themselves. Spring already has a lot of logic to select which controller method to call, and I want to piggyback on that.</p>\n<hr />\n<h2>Edit 2</h2>\n<p>I've shared the original POC (with some improvements) in github: <a href=\"https://github.com/augusto/restVersioning\" rel=\"noreferrer\">https://github.com/augusto/restVersioning</a></p>\n"},{"tags":["java","generics","comparator"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1679838334,"post_id":75848087,"comment_id":133788777,"body_markdown":"You need to use a generic comparator which takes a `method reference` or `lambda` which acts as a key extractor to be used for the comparisons.  Take a look at the `Comparator` interface source code included with the `JDK`, usually in `src.zip` to see how it is written.  Or just use the one included in the `JDK`.","body":"You need to use a generic comparator which takes a <code>method reference</code> or <code>lambda</code> which acts as a key extractor to be used for the comparisons.  Take a look at the <code>Comparator</code> interface source code included with the <code>JDK</code>, usually in <code>src.zip</code> to see how it is written.  Or just use the one included in the <code>JDK</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1679838533,"post_id":75848087,"comment_id":133788797,"body_markdown":"Note: There&#39;s not really a need to check the `src.zip` which may or may not be present - it is [available on GitHub](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Comparator.java)","body":"Note: There&#39;s not really a need to check the <code>src.zip</code> which may or may not be present - it is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Comparator.java\" rel=\"nofollow noreferrer\">available on GitHub</a>"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1679849535,"post_id":75848087,"comment_id":133790565,"body_markdown":"You declared `T extends Comparable` but Event doesn&#39;t implement Comparable so it isn&#39;t a suitable T.","body":"You declared <code>T extends Comparable</code> but Event doesn&#39;t implement Comparable so it isn&#39;t a suitable T."},{"owner":{"account_id":28129084,"reputation":11,"user_id":21493967,"display_name":"XterS"},"score":0,"creation_date":1679926333,"post_id":75848087,"comment_id":133803732,"body_markdown":"@DavidJones thank you, turns out I didn&#39;t need generic type T to implement Comparable in this case","body":"@DavidJones thank you, turns out I didn&#39;t need generic type T to implement Comparable in this case"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022445,"creation_date":1679937350,"answer_id":75858570,"question_id":75848087,"body_markdown":"I find your design somewhat confusing and overly complicated. So here are some suggestions.\r\n\r\n- Define a `QuickSort` class that has a `static quickSort` method.\r\n- Define a `Node` class (or record) that has the data types on which to sort.  Doing it this way makes it easier to specify multiple Comparator options and also allows the quick sort to be used for a list of Nodes that have different values and types to be sorted.\r\n- First, get you `quickSort` working with no specified comparator.\r\n- Then, get it working using a comparator from the `Comparator interface`. Try different options such as `reverseOrder()`, `thenComparing()`, `etc`.  \r\n\r\nUnless you have to implement your own comparator, you can stop here.  Otherwise, since everthing works, you can focus on your comparators which greatly limits where any developmental errors would originate.\r\n\r\nI would start with something like the following:\r\n```\r\nrecord Node&lt;T&gt;(T data1, T data2) {\r\n}\r\n\r\nclass QuickSort {\r\n    public static &lt;T&gt; void quickSort(Node&lt;T&gt;[] nodes, int low, int high, \r\n                Comparator&lt;Node&lt;T&gt;&gt; comp) { //initially, comp can be ignored.\r\n  \r\n}\r\n```\r\n\r\n```\r\n","title":"How to address a Comparator of a class in external generic method?","body":"<p>I find your design somewhat confusing and overly complicated. So here are some suggestions.</p>\n<ul>\n<li>Define a <code>QuickSort</code> class that has a <code>static quickSort</code> method.</li>\n<li>Define a <code>Node</code> class (or record) that has the data types on which to sort.  Doing it this way makes it easier to specify multiple Comparator options and also allows the quick sort to be used for a list of Nodes that have different values and types to be sorted.</li>\n<li>First, get you <code>quickSort</code> working with no specified comparator.</li>\n<li>Then, get it working using a comparator from the <code>Comparator interface</code>. Try different options such as <code>reverseOrder()</code>, <code>thenComparing()</code>, <code>etc</code>.</li>\n</ul>\n<p>Unless you have to implement your own comparator, you can stop here.  Otherwise, since everthing works, you can focus on your comparators which greatly limits where any developmental errors would originate.</p>\n<p>I would start with something like the following:</p>\n<pre><code>record Node&lt;T&gt;(T data1, T data2) {\n}\n\nclass QuickSort {\n    public static &lt;T&gt; void quickSort(Node&lt;T&gt;[] nodes, int low, int high, \n                Comparator&lt;Node&lt;T&gt;&gt; comp) { //initially, comp can be ignored.\n  \n}\n</code></pre>\n<pre><code></code></pre>\n"}],"owner":{"account_id":28129084,"reputation":11,"user_id":21493967,"display_name":"XterS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680022445,"creation_date":1679837779,"question_id":75848087,"body_markdown":"I&#39;m looking into how to use comparators to perform comparisons based on different fields.\r\nSo I created a class `Event`, which contains two Comparators. \r\n\r\n    \r\n```\r\nclass Event {\r\n    int x, y;\r\n    boolean isLeft;\r\n    int index;\r\n\r\n    Event(int x, int y, boolean isLeft, int index) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.isLeft = isLeft;\r\n        this.index = index;\r\n    }\r\n\r\n    public static &lt;T extends Comparable&gt; T[] quickSort(T[] a, int fst, int last, Comparator&lt;T&gt; comp) {\r\n        int left = fst;\r\n        int right = last;\r\n        int middle = (last + fst) / 2;\r\n        T x = a[middle];\r\n\r\n        do {\r\n            while (comp.compare(a[left], x) &lt; 0) left++;\r\n            while (comp.compare(a[right], x) &gt; 0) right--;\r\n            if (left &lt;= right) {\r\n                T temp = a[right];\r\n                a[right] = a[left];\r\n                a[left] = temp;\r\n                left++;\r\n                right--;\r\n            }\r\n        } while (left &lt;= right);\r\n\r\n        if (left &lt; last) {\r\n            quickSort(a, left, last, comp);\r\n        }\r\n        if (fst &lt; right) {\r\n            quickSort(a, fst, right, comp);\r\n        }\r\n\r\n        return a;\r\n    }\r\n\r\n    static class XComparator implements Comparator&lt;Event&gt; {\r\n        @Override\r\n        public int compare(Event e1, Event e2) {\r\n            return (e1.x &lt; e2.x) ? -1 : (e1.x &gt; e2.x) ? 1 : (e1.y &lt; e2.y) ? -1 : 1;\r\n        }\r\n    }\r\n\r\n    static class YComparator implements Comparator&lt;Event&gt; {\r\n        @Override\r\n        public int compare(Event e1, Event e2) {\r\n            return (e1.y &lt; e2.y) ? -1 : (e1.y &gt; e2.y) ? 1 : (e1.x &lt; e2.x) ? -1 : 1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe problem occurs when I pass the Comparator to a generic method of another class. A conflict of generic types I provide for `value` &amp; `current.value`, and Comparator, is following:\r\n\r\n&gt; &#39;compare(Event, Event)&#39; in &#39;Event.YComparator&#39; cannot be applied to &#39;(T, T)&#39;\r\n\r\n\r\n```\r\nNode Rec(Node current, T value, Event.YComparator comp) {\r\n        if (current == null) {\r\n            size++;\r\n            current = new Node(value);\r\n            return current;\r\n        }\r\n\r\n        else if (comp.compare(value, current.value) &lt; 0) {\r\n            current.leftChild = Rec(current.leftChild, value, comp);\r\n        } else if(comp.compare(value, current.value) &gt; 0) {\r\n            current.rightChild = Rec(current.rightChild, value, comp);\r\n        } else {\r\n            return current;\r\n        }\r\n```\r\n\r\nBut I can&#39;t find a solution, because Comparators are specific and should be tied to a class (they use its&#39; fields).\r\n\r\nI need any insight on this issue.","title":"How to address a Comparator of a class in external generic method?","body":"<p>I'm looking into how to use comparators to perform comparisons based on different fields.\nSo I created a class <code>Event</code>, which contains two Comparators.</p>\n<pre><code>class Event {\n    int x, y;\n    boolean isLeft;\n    int index;\n\n    Event(int x, int y, boolean isLeft, int index) {\n        this.x = x;\n        this.y = y;\n        this.isLeft = isLeft;\n        this.index = index;\n    }\n\n    public static &lt;T extends Comparable&gt; T[] quickSort(T[] a, int fst, int last, Comparator&lt;T&gt; comp) {\n        int left = fst;\n        int right = last;\n        int middle = (last + fst) / 2;\n        T x = a[middle];\n\n        do {\n            while (comp.compare(a[left], x) &lt; 0) left++;\n            while (comp.compare(a[right], x) &gt; 0) right--;\n            if (left &lt;= right) {\n                T temp = a[right];\n                a[right] = a[left];\n                a[left] = temp;\n                left++;\n                right--;\n            }\n        } while (left &lt;= right);\n\n        if (left &lt; last) {\n            quickSort(a, left, last, comp);\n        }\n        if (fst &lt; right) {\n            quickSort(a, fst, right, comp);\n        }\n\n        return a;\n    }\n\n    static class XComparator implements Comparator&lt;Event&gt; {\n        @Override\n        public int compare(Event e1, Event e2) {\n            return (e1.x &lt; e2.x) ? -1 : (e1.x &gt; e2.x) ? 1 : (e1.y &lt; e2.y) ? -1 : 1;\n        }\n    }\n\n    static class YComparator implements Comparator&lt;Event&gt; {\n        @Override\n        public int compare(Event e1, Event e2) {\n            return (e1.y &lt; e2.y) ? -1 : (e1.y &gt; e2.y) ? 1 : (e1.x &lt; e2.x) ? -1 : 1;\n        }\n    }\n}\n</code></pre>\n<p>The problem occurs when I pass the Comparator to a generic method of another class. A conflict of generic types I provide for <code>value</code> &amp; <code>current.value</code>, and Comparator, is following:</p>\n<blockquote>\n<p>'compare(Event, Event)' in 'Event.YComparator' cannot be applied to '(T, T)'</p>\n</blockquote>\n<pre><code>Node Rec(Node current, T value, Event.YComparator comp) {\n        if (current == null) {\n            size++;\n            current = new Node(value);\n            return current;\n        }\n\n        else if (comp.compare(value, current.value) &lt; 0) {\n            current.leftChild = Rec(current.leftChild, value, comp);\n        } else if(comp.compare(value, current.value) &gt; 0) {\n            current.rightChild = Rec(current.rightChild, value, comp);\n        } else {\n            return current;\n        }\n</code></pre>\n<p>But I can't find a solution, because Comparators are specific and should be tied to a class (they use its' fields).</p>\n<p>I need any insight on this issue.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9713889,"reputation":2076,"user_id":7204912,"display_name":"ChrisB"},"score":0,"creation_date":1680020411,"post_id":75868489,"comment_id":133824031,"body_markdown":"It might be helful to people if you could translate the contents of the image showing the problem into english. (Maybe just add that as text below).","body":"It might be helful to people if you could translate the contents of the image showing the problem into english. (Maybe just add that as text below)."},{"owner":{"account_id":26859844,"reputation":935,"user_id":20443541,"display_name":"kaliiiiiiiii"},"score":0,"creation_date":1680023851,"post_id":75868489,"comment_id":133824979,"body_markdown":"You&#39;re getting detected. Solutions for Python would be, to use [Selenium-Profiles](https://github.com/kaliiiiiiiiii/Selenium-Profiles) or undetected-chromedriver","body":"You&#39;re getting detected. Solutions for Python would be, to use <a href=\"https://github.com/kaliiiiiiiiii/Selenium-Profiles\" rel=\"nofollow noreferrer\">Selenium-Profiles</a> or undetected-chromedriver"}],"owner":{"account_id":23546909,"reputation":1,"user_id":17590209,"display_name":"dead1nside.qq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680022440,"creation_date":1680019068,"question_id":75868489,"body_markdown":"I want to connect to google meet using selenium web driver .But when I run my script I see this:\r\n[![enter image description here][1]][1]\r\n\r\nTranslation - &quot;You are not allowed to participate in this meeting&quot;\r\n\r\nI can&#39;t access google meet because I use selenium web driver. Any ideas how can I pass it?\r\nActually I need solution like this(see below) when i can access google meeting without google acc (in guest mode by entering some name):\r\n[![enter image description here][2]][2]\r\n\r\nAs I see perfect solution, I run google chrome with guest mode and then I enter some name and join to google meet\r\n\r\nI hope to get solution in Java or find out that my problem is not solved in any way or maybe there are some alternatives\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lCLol.png\r\n  [2]: https://i.stack.imgur.com/xDqCT.png","title":"Connect to google meet by selenium web driver","body":"<p>I want to connect to google meet using selenium web driver .But when I run my script I see this:\n<a href=\"https://i.stack.imgur.com/lCLol.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lCLol.png\" alt=\"enter image description here\" /></a></p>\n<p>Translation - &quot;You are not allowed to participate in this meeting&quot;</p>\n<p>I can't access google meet because I use selenium web driver. Any ideas how can I pass it?\nActually I need solution like this(see below) when i can access google meeting without google acc (in guest mode by entering some name):\n<a href=\"https://i.stack.imgur.com/xDqCT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDqCT.png\" alt=\"enter image description here\" /></a></p>\n<p>As I see perfect solution, I run google chrome with guest mode and then I enter some name and join to google meet</p>\n<p>I hope to get solution in Java or find out that my problem is not solved in any way or maybe there are some alternatives</p>\n"},{"tags":["java","android","google-cloud-platform","google-oauth","mysql-connector"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1679789597,"post_id":75845224,"comment_id":133783957,"body_markdown":"Please read: [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004)","body":"Please read: <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a>"},{"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"score":0,"creation_date":1679857170,"post_id":75845224,"comment_id":133791840,"body_markdown":"Thanks @MorrisonChang. I am changing my app structure to route through a web server instead of directly connecting.","body":"Thanks @MorrisonChang. I am changing my app structure to route through a web server instead of directly connecting."},{"owner":{"account_id":24326039,"reputation":2411,"user_id":18265570,"display_name":"Roopa M"},"score":0,"creation_date":1679908803,"post_id":75845224,"comment_id":133798893,"body_markdown":"Seems like your issue is resolved, Can you share yours solution as answer so that it helps others too?","body":"Seems like your issue is resolved, Can you share yours solution as answer so that it helps others too?"}],"answers":[{"tags":[],"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680022118,"creation_date":1680022118,"answer_id":75868941,"question_id":75845224,"body_markdown":"For anyone having a similar issue, I solved this by using the following architecture: Android App &lt;-&gt; Web Server &lt;-&gt; Cloud SQL. \r\n\r\nApp code to request data from server\r\n```\r\nString url = &quot;http://999.999.9.99:999&quot;;//URL of web server. This example just plugs into one that is locally hosted.\r\nStringRequest strRequest = new StringRequest(Request.Method.GET, url,\r\n                response -&gt; {\r\n                    String result = response.toString();\r\n                    Toast.makeText(MainActivity.this,result, Toast.LENGTH_LONG).show();\r\n                },\r\n                error -&gt; {\r\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n                    Log.e(&quot;MainActivity&quot;, error.getCause().getMessage());\r\n                    Log.e(&quot;MainActivity&quot;, &quot;loadDogImage error: ${error.localizedMessage}&quot;);\r\n                });\r\n       \r\nrequestQueue = Volley.newRequestQueue(MainActivity.this);\r\nrequestQueue.add(strRequest);\r\n```\r\nServer code. I used node.js + the MySQL node library\r\n```\r\nconst express = require(&quot;express&quot;);\r\nconst app = express();\r\nconst port = 80;\r\nconst mysql = require(&#39;mysql&#39;);\r\n\r\nlet connection = mysql.createConnection({\r\n  host: &#39;99.99.99.999&#39;,//cloud SQL access IP Address\r\n  user: &#39;some_user&#39;, //username\r\n  database: &#39;some_database&#39;, //database name\r\n  password: &#39;some_password&#39; //user password\r\n});\r\n\r\n  connection.connect(function(err) {\r\n    if (err) {\r\n      console.error(&#39;Error connecting: &#39; + err.stack);\r\n      return;\r\n    }\r\n    console.log(&#39;Connected as thread id: &#39; + connection.threadId);\r\n  });\r\n\r\napp.get(&quot;/&quot;, (req, res) =&gt; {\r\n  console.log(req.url);\r\n  connection.query(\r\n      &quot;SELECT * FROM `test_table` LIMIT 1&quot;, \r\n      function(error, results, fields) {\r\n        if (error) throw error;\r\n        res.json(results);\r\n      }\r\n    );\r\n});\r\n\r\napp.listen(port,err =&gt; {\r\n  if (err) {\r\n    console.log(&quot;there was a problem&quot;, err);\r\n    return;\r\n  }\r\n  console.log(&#39;listening on port &#39; + port);\r\n\r\n});\r\n\r\n```","title":"Google Cloud SQL Authentication Error When Trying to Connect Through Android App","body":"<p>For anyone having a similar issue, I solved this by using the following architecture: Android App &lt;-&gt; Web Server &lt;-&gt; Cloud SQL.</p>\n<p>App code to request data from server</p>\n<pre><code>String url = &quot;http://999.999.9.99:999&quot;;//URL of web server. This example just plugs into one that is locally hosted.\nStringRequest strRequest = new StringRequest(Request.Method.GET, url,\n                response -&gt; {\n                    String result = response.toString();\n                    Toast.makeText(MainActivity.this,result, Toast.LENGTH_LONG).show();\n                },\n                error -&gt; {\n                    Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n                    Log.e(&quot;MainActivity&quot;, error.getCause().getMessage());\n                    Log.e(&quot;MainActivity&quot;, &quot;loadDogImage error: ${error.localizedMessage}&quot;);\n                });\n       \nrequestQueue = Volley.newRequestQueue(MainActivity.this);\nrequestQueue.add(strRequest);\n</code></pre>\n<p>Server code. I used node.js + the MySQL node library</p>\n<pre><code>const express = require(&quot;express&quot;);\nconst app = express();\nconst port = 80;\nconst mysql = require('mysql');\n\nlet connection = mysql.createConnection({\n  host: '99.99.99.999',//cloud SQL access IP Address\n  user: 'some_user', //username\n  database: 'some_database', //database name\n  password: 'some_password' //user password\n});\n\n  connection.connect(function(err) {\n    if (err) {\n      console.error('Error connecting: ' + err.stack);\n      return;\n    }\n    console.log('Connected as thread id: ' + connection.threadId);\n  });\n\napp.get(&quot;/&quot;, (req, res) =&gt; {\n  console.log(req.url);\n  connection.query(\n      &quot;SELECT * FROM `test_table` LIMIT 1&quot;, \n      function(error, results, fields) {\n        if (error) throw error;\n        res.json(results);\n      }\n    );\n});\n\napp.listen(port,err =&gt; {\n  if (err) {\n    console.log(&quot;there was a problem&quot;, err);\n    return;\n  }\n  console.log('listening on port ' + port);\n\n});\n\n</code></pre>\n"}],"owner":{"account_id":5692131,"reputation":23,"user_id":4499868,"display_name":"CurtisF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868941,"answer_count":1,"score":0,"last_activity_date":1680022118,"creation_date":1679789289,"question_id":75845224,"body_markdown":"The task I am trying to complete is to connect to a Google Cloud MySQL database via an Android application. I am following this guide: https://cloud.google.com/sql/docs/mysql/connect-connectors. \r\nI have added my IP address to the allowed networks for the database instance and have enabled the cloud SQL API. I used the example code as a starting point, but I get this error when I run the application (using a simulator):\r\n```\r\n2023-03-25 15:58:37.727 13755-13755/com.example.connectiontest E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.connectiontest, PID: 13755\r\n    com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Could not create connection to database server.\r\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\r\n        at android.view.View.performClick(View.java:7506)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\r\n        at android.view.View.performClickInternal(View.java:7483)\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n        at android.view.View$PerformClick.run(View.java:29334)\r\n        at android.os.Handler.handleCallback(Handler.java:942)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)&#160;\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)&#160;\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)&#160;\r\n        at android.view.View.performClick(View.java:7506)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)&#160;\r\n        at android.view.View.performClickInternal(View.java:7483)&#160;\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160;\r\n        at android.view.View$PerformClick.run(View.java:29334)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n     Caused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\r\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:256)\r\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215)\r\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57)\r\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43)\r\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)&#160;\r\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)&#160;\r\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)&#160;\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)&#160;\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)&#160;\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)&#160;\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)&#160;\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)&#160;\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)&#160;\r\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)&#160;\r\n        at android.view.View.performClick(View.java:7506)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)&#160;\r\n        at android.view.View.performClickInternal(View.java:7483)&#160;\r\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160;\r\n        at android.view.View$PerformClick.run(View.java:29334)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:942)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n     Caused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n        at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125)\r\n2023-03-25 15:58:37.728 13755-13755/com.example.connectiontest E/AndroidRuntime:     at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\r\n        at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\r\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:390)\r\n        \t... 33 more\r\n```\r\nI read up on the Application Default Credentials, but I do not believe environment variables are a thing on mobile devices (correct me if I am wrong), and I have been unsuccessful in finding an alternate method of authentication in Google&#39;s docs. My simplified application code is below for reference. \r\n\r\nMain Activity\r\n```\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Properties;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String CONNECTION_NAME = &quot;***&quot;;\r\n    private static final String DB_NAME = &quot;***&quot;;\r\n    private static final String DB_USER = &quot;***&quot;;\r\n    private static final String DB_PASSWORD = &quot;***&quot;;\r\n\r\n    Button testConn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        testConn = (Button) findViewById(R.id.button);\r\n        testConn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String jdbcURL = String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME);\r\n                Properties connProps = new Properties();\r\n                connProps.setProperty(&quot;user&quot;, DB_USER);\r\n                connProps.setProperty(&quot;password&quot;, DB_PASSWORD);\r\n                connProps.setProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n                connProps.setProperty(&quot;cloudSqlInstance&quot;, CONNECTION_NAME);\r\n\r\n \r\n                HikariConfig config = new HikariConfig();\r\n                config.setJdbcUrl(jdbcURL);\r\n                config.setDataSourceProperties(connProps);\r\n                config.setConnectionTimeout(10000); \r\n\r\n                HikariDataSource connectionPool = new HikariDataSource(config);//this is where the code breaks\r\n\r\n                try {\r\n                    Connection conn = connectionPool.getConnection();\r\n                    String stmt = &quot;SELECT test_field FROM test_table limit 1;&quot;;\r\n                    PreparedStatement selectStmt = conn.prepareStatement(stmt);\r\n                    selectStmt.setQueryTimeout(10); \r\n                    ResultSet rs = selectStmt.executeQuery();\r\n                    while (rs.next()) {\r\n                        Toast.makeText(getApplicationContext(), rs.getString(&quot;test_field&quot;), Toast.LENGTH_LONG).show();\r\n                    }\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.connectiontest&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.connectiontest&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    packagingOptions {\r\n        resources.excludes.add(&quot;META-INF/*&quot;)\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation files(&#39;libs/mysql-connector-j-8.0.32.jar&#39;)\r\n    implementation &#39;com.zaxxer:HikariCP:3.4.5&#39;\r\n    implementation &#39;com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.11.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\nAny help is be greatly appreciated!","title":"Google Cloud SQL Authentication Error When Trying to Connect Through Android App","body":"<p>The task I am trying to complete is to connect to a Google Cloud MySQL database via an Android application. I am following this guide: <a href=\"https://cloud.google.com/sql/docs/mysql/connect-connectors\" rel=\"nofollow noreferrer\">https://cloud.google.com/sql/docs/mysql/connect-connectors</a>.\nI have added my IP address to the allowed networks for the database instance and have enabled the cloud SQL API. I used the example code as a starting point, but I get this error when I run the application (using a simulator):</p>\n<pre><code>2023-03-25 15:58:37.727 13755-13755/com.example.connectiontest E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.connectiontest, PID: 13755\n    com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Could not create connection to database server.\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53)\n        at android.view.View.performClick(View.java:7506)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\n        at android.view.View.performClickInternal(View.java:7483)\n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n        at android.view.View$PerformClick.run(View.java:29334)\n        at android.os.Handler.handleCallback(Handler.java:942)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.sql.SQLNonTransientConnectionException: Could not create connection to database server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:997)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814)\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444)\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237)\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) \n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) \n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53) \n        at android.view.View.performClick(View.java:7506) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202) \n        at android.view.View.performClickInternal(View.java:7483) \n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) \n        at android.view.View$PerformClick.run(View.java:29334) \n        at android.os.Handler.handleCallback(Handler.java:942) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loopOnce(Looper.java:201) \n        at android.os.Looper.loop(Looper.java:288) \n        at android.app.ActivityThread.main(ActivityThread.java:7872) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n     Caused by: java.lang.RuntimeException: Unable to obtain credentials to communicate with the Cloud SQL API\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:392)\n        at com.google.cloud.sql.core.CoreSocketFactory.getInstance(CoreSocketFactory.java:140)\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:256)\n        at com.google.cloud.sql.core.CoreSocketFactory.connect(CoreSocketFactory.java:215)\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:57)\n        at com.google.cloud.sql.mysql.SocketFactory.connect(SocketFactory.java:43)\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:944)\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:814) \n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:444) \n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:237) \n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) \n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) \n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) \n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) \n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) \n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) \n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) \n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) \n        at com.example.connectiontest.MainActivity$1.onClick(MainActivity.java:53) \n        at android.view.View.performClick(View.java:7506) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202) \n        at android.view.View.performClickInternal(View.java:7483) \n        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) \n        at android.view.View$PerformClick.run(View.java:29334) \n        at android.os.Handler.handleCallback(Handler.java:942) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loopOnce(Looper.java:201) \n        at android.os.Looper.loop(Looper.java:288) \n        at android.app.ActivityThread.main(ActivityThread.java:7872) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) \n     Caused by: java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n        at com.google.auth.oauth2.DefaultCredentialsProvider.getDefaultCredentials(DefaultCredentialsProvider.java:125)\n2023-03-25 15:58:37.728 13755-13755/com.example.connectiontest E/AndroidRuntime:     at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:125)\n        at com.google.auth.oauth2.GoogleCredentials.getApplicationDefault(GoogleCredentials.java:97)\n        at com.google.cloud.sql.core.CoreSocketFactory$ApplicationDefaultCredentialFactory.create(CoreSocketFactory.java:390)\n            ... 33 more\n</code></pre>\n<p>I read up on the Application Default Credentials, but I do not believe environment variables are a thing on mobile devices (correct me if I am wrong), and I have been unsuccessful in finding an alternate method of authentication in Google's docs. My simplified application code is below for reference.</p>\n<p>Main Activity</p>\n<pre><code>import java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String CONNECTION_NAME = &quot;***&quot;;\n    private static final String DB_NAME = &quot;***&quot;;\n    private static final String DB_USER = &quot;***&quot;;\n    private static final String DB_PASSWORD = &quot;***&quot;;\n\n    Button testConn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        testConn = (Button) findViewById(R.id.button);\n        testConn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String jdbcURL = String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME);\n                Properties connProps = new Properties();\n                connProps.setProperty(&quot;user&quot;, DB_USER);\n                connProps.setProperty(&quot;password&quot;, DB_PASSWORD);\n                connProps.setProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n                connProps.setProperty(&quot;cloudSqlInstance&quot;, CONNECTION_NAME);\n\n \n                HikariConfig config = new HikariConfig();\n                config.setJdbcUrl(jdbcURL);\n                config.setDataSourceProperties(connProps);\n                config.setConnectionTimeout(10000); \n\n                HikariDataSource connectionPool = new HikariDataSource(config);//this is where the code breaks\n\n                try {\n                    Connection conn = connectionPool.getConnection();\n                    String stmt = &quot;SELECT test_field FROM test_table limit 1;&quot;;\n                    PreparedStatement selectStmt = conn.prepareStatement(stmt);\n                    selectStmt.setQueryTimeout(10); \n                    ResultSet rs = selectStmt.executeQuery();\n                    while (rs.next()) {\n                        Toast.makeText(getApplicationContext(), rs.getString(&quot;test_field&quot;), Toast.LENGTH_LONG).show();\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.connectiontest'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.connectiontest&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    packagingOptions {\n        resources.excludes.add(&quot;META-INF/*&quot;)\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation files('libs/mysql-connector-j-8.0.32.jar')\n    implementation 'com.zaxxer:HikariCP:3.4.5'\n    implementation 'com.google.cloud.sql:mysql-socket-factory-connector-j-8:1.11.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Any help is be greatly appreciated!</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658438268,"creation_date":1658438268,"answer_id":73072739,"question_id":73071773,"body_markdown":"The class that your mindBodyClientServiceImpl is using (indirectly) is org.springframework.boot.configurationprocessor.json.JSONException.\r\n\r\nThis comes from your build.gradle:\r\n\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\nSince you have declared as compileOnly here:\r\n\r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n\r\nbut apparently the JSONException is used at run time, it makes your app fail when packaging with Jar2exe. The solution to this could be to include the whole dependency like so:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\nJust a blind guess, but probably your application could fail again, but this time at least you can see the JSONException and fix the underlying issue.\r\n\r\n","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>The class that your mindBodyClientServiceImpl is using (indirectly) is org.springframework.boot.configurationprocessor.json.JSONException.</p>\n<p>This comes from your build.gradle:</p>\n<pre><code>annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n</code></pre>\n<p>Since you have declared as compileOnly here:</p>\n<pre><code>configurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n</code></pre>\n<p>but apparently the JSONException is used at run time, it makes your app fail when packaging with Jar2exe. The solution to this could be to include the whole dependency like so:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-configuration-processor'\n</code></pre>\n<p>Just a blind guess, but probably your application could fail again, but this time at least you can see the JSONException and fix the underlying issue.</p>\n"},{"tags":[],"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666690479,"creation_date":1666690479,"answer_id":74191955,"question_id":73071773,"body_markdown":"Starting with SpringBoot 2.4 the dependency \r\n\r\n    org.springframework.boot:spring-boot-configuration-processor\r\n\r\nis no longer contained in the resulting fat-jar ([Spring Boot 2.4 Release Notes][1]).\r\n\r\n&gt; Jar Optimizations\r\n&gt;\r\n&gt; When generating runnable Spring Boot jars, empty starter dependencies will now be automatically removed. Since most starters only provide transitive dependencies, there is little point in packaging them in the final jar.\r\n&gt;\r\n&gt; Spring Boot annotation processors are also removed as well as they are only useful during the build. These are spring-boot-autoconfigure-processor and spring-boot-configuration-processor.\r\n\r\nIf the exception is thrown in you own code, check that you are not using\r\n\r\n    org.springframework.boot.configurationprocessor.json.JSONException\r\n    org.springframework.boot.configurationprocessor.json.JSONObject\r\n\r\nIf you are using those, replace them, e.g.:\r\n\r\n    org.json.JSONException\r\n    org.json.JSONObject\r\n\r\nYou might need to include the related [dependency][2]:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n      &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#jar-optimizations\r\n  [2]: https://search.maven.org/artifact/org.json/json/20220924/bundle","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>Starting with SpringBoot 2.4 the dependency</p>\n<pre><code>org.springframework.boot:spring-boot-configuration-processor\n</code></pre>\n<p>is no longer contained in the resulting fat-jar (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#jar-optimizations\" rel=\"noreferrer\">Spring Boot 2.4 Release Notes</a>).</p>\n<blockquote>\n<p>Jar Optimizations</p>\n<p>When generating runnable Spring Boot jars, empty starter dependencies will now be automatically removed. Since most starters only provide transitive dependencies, there is little point in packaging them in the final jar.</p>\n<p>Spring Boot annotation processors are also removed as well as they are only useful during the build. These are spring-boot-autoconfigure-processor and spring-boot-configuration-processor.</p>\n</blockquote>\n<p>If the exception is thrown in you own code, check that you are not using</p>\n<pre><code>org.springframework.boot.configurationprocessor.json.JSONException\norg.springframework.boot.configurationprocessor.json.JSONObject\n</code></pre>\n<p>If you are using those, replace them, e.g.:</p>\n<pre><code>org.json.JSONException\norg.json.JSONObject\n</code></pre>\n<p>You might need to include the related <a href=\"https://search.maven.org/artifact/org.json/json/20220924/bundle\" rel=\"noreferrer\">dependency</a>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.json&lt;/groupId&gt;\n  &lt;artifactId&gt;json&lt;/artifactId&gt;\n  &lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14545475,"reputation":11,"user_id":10505832,"display_name":"Sudhir Ahirkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680022013,"creation_date":1680022013,"answer_id":75868925,"question_id":73071773,"body_markdown":"For me, Same issue occurs in sit environment and jar &#39;spring-boot-configuration-processor&#39; classes (JSONException,JSONObject) creating issues. so have replaced with org.json classes and issue resolved","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>For me, Same issue occurs in sit environment and jar 'spring-boot-configuration-processor' classes (JSONException,JSONObject) creating issues. so have replaced with org.json classes and issue resolved</p>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13193,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73072739,"answer_count":3,"score":4,"last_activity_date":1680022013,"creation_date":1658432314,"question_id":73071773,"body_markdown":"I am getting following error when I run my spring boot service in production as windows service. Service exe is created by [Jar2exe][1].\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mindbodyApplication&#39;: Unsatisfied dependency expressed through field &#39;mindBodyClientService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mindBodyClientServiceImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat com.rossmoor.mindbody.MindbodyApplication.main(MindbodyApplication.java:43)\r\n    \t... 8 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mindBodyClientServiceImpl&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n    \t... 28 more\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n    \t... 40 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n    \t... 42 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 46 more\r\n\r\nStrange thing is it runs properly when I run it through Intellij Idea on production machine.\r\nBoth service exe and code in Intellij Idea work properly on my development machine.\r\nHere is my build.gradle file :\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    //\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    //\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n    \tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \r\n    //\t// https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp\r\n    //\timplementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.10.0&#39;\r\n    \r\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    \timplementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.6.9.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/antlr/antlr\r\n    \timplementation group: &#39;antlr&#39;, name: &#39;antlr&#39;, version: &#39;2.7.7&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/com.fasterxml/classmate\r\n    \timplementation group: &#39;com.fasterxml&#39;, name: &#39;classmate&#39;, version: &#39;1.5.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.activation/javax.activation-api\r\n    \timplementation group: &#39;javax.activation&#39;, name: &#39;javax.activation-api&#39;, version: &#39;1.2.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\r\n    \timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    \timplementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\r\n    \timplementation group: &#39;net.bytebuddy&#39;, name: &#39;byte-buddy&#39;, version: &#39;1.12.12&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\r\n    \timplementation group: &#39;org.glassfish.jaxb&#39;, name: &#39;jaxb-runtime&#39;, version: &#39;4.0.0&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations\r\n    \timplementation group: &#39;org.hibernate.common&#39;, name: &#39;hibernate-commons-annotations&#39;, version: &#39;6.0.2.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss/jandex\r\n    \timplementation group: &#39;org.jboss&#39;, name: &#39;jandex&#39;, version: &#39;2.4.3.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging\r\n    \timplementation group: &#39;org.jboss.logging&#39;, name: &#39;jboss-logging&#39;, version: &#39;3.5.0.Final&#39;\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.jboss.spec.javax.transaction/jboss-transaction-api_1.2_spec\r\n    \timplementation group: &#39;org.jboss.spec.javax.transaction&#39;, name: &#39;jboss-transaction-api_1.2_spec&#39;, version: &#39;1.1.1.Final&#39;\r\n    \r\n    \timplementation files(&#39;lib/connection-manager-2.0.0.1.jar&#39;)\r\n    \timplementation files(&#39;lib/Utils-2.0.0.1.jar&#39;)\r\n    \timplementation files(&#39;lib/TinyLog-2.0.0.1.jar&#39;)\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n  [1]: https://www.jar2exe.com/","title":"How to fix java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error?","body":"<p>I am getting following error when I run my spring boot service in production as windows service. Service exe is created by <a href=\"https://www.jar2exe.com/\" rel=\"nofollow noreferrer\">Jar2exe</a>.</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mindbodyApplication': Unsatisfied dependency expressed through field 'mindBodyClientService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mindBodyClientServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.rossmoor.mindbody.MindbodyApplication.main(MindbodyApplication.java:43)\n    ... 8 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mindBodyClientServiceImpl': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 28 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.rossmoor.mindbody.services.web.MindBodyClientServiceImpl] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@18769467]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 40 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 42 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 46 more\n</code></pre>\n<p>Strange thing is it runs properly when I run it through Intellij Idea on production machine.\nBoth service exe and code in Intellij Idea work properly on my development machine.\nHere is my build.gradle file :</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//  implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n//  developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    // https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n\n//  // https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp\n//  implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.10.0'\n\n// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.6.9.Final'\n\n    // https://mvnrepository.com/artifact/antlr/antlr\n    implementation group: 'antlr', name: 'antlr', version: '2.7.7'\n\n    // https://mvnrepository.com/artifact/com.fasterxml/classmate\n    implementation group: 'com.fasterxml', name: 'classmate', version: '1.5.1'\n\n    // https://mvnrepository.com/artifact/javax.activation/javax.activation-api\n    implementation group: 'javax.activation', name: 'javax.activation-api', version: '1.2.0'\n\n    // https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'\n\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n\n    // https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy\n    implementation group: 'net.bytebuddy', name: 'byte-buddy', version: '1.12.12'\n\n    // https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\n    implementation group: 'org.glassfish.jaxb', name: 'jaxb-runtime', version: '4.0.0'\n\n    // https://mvnrepository.com/artifact/org.hibernate.common/hibernate-commons-annotations\n    implementation group: 'org.hibernate.common', name: 'hibernate-commons-annotations', version: '6.0.2.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss/jandex\n    implementation group: 'org.jboss', name: 'jandex', version: '2.4.3.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss.logging/jboss-logging\n    implementation group: 'org.jboss.logging', name: 'jboss-logging', version: '3.5.0.Final'\n\n    // https://mvnrepository.com/artifact/org.jboss.spec.javax.transaction/jboss-transaction-api_1.2_spec\n    implementation group: 'org.jboss.spec.javax.transaction', name: 'jboss-transaction-api_1.2_spec', version: '1.1.1.Final'\n\n    implementation files('lib/connection-manager-2.0.0.1.jar')\n    implementation files('lib/Utils-2.0.0.1.jar')\n    implementation files('lib/TinyLog-2.0.0.1.jar')\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","cors","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679943423,"creation_date":1679943423,"answer_id":75859410,"question_id":75848314,"body_markdown":"Capture your HTTP request that triggered this failure, pay attention to the all of the `Origin` headers (and all values).  \r\n\r\nFrom the error on your server, it appears to have received multiple `Origin` headers, and one of them was either empty/null (or had the string `null`), and the other was the value `*`","title":"Java Jetty Server giving error for blocked by CORS policy","body":"<p>Capture your HTTP request that triggered this failure, pay attention to the all of the <code>Origin</code> headers (and all values).</p>\n<p>From the error on your server, it appears to have received multiple <code>Origin</code> headers, and one of them was either empty/null (or had the string <code>null</code>), and the other was the value <code>*</code></p>\n"}],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680021752,"creation_date":1679841051,"question_id":75848314,"body_markdown":"I am trying to add a CORS Filter to a Jetty Server (using Jetty 11.0.14) to allow Headers to be used from other domains but I am getting a few errors.\r\n\r\nWhen making a request I am getting\r\n\r\n    from origin &#39;null&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;null, *&#39;, but only one is allowed.\r\n\r\nI have a simple Jetty Server for testing to reproduce the issue I am having\r\n\r\n    import org.eclipse.jetty.util.thread.*;\r\n    import org.eclipse.jetty.server.*;\r\n    import org.eclipse.jetty.servlet.*;\r\n    import org.eclipse.jetty.servlets.*;\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    import java.io.*;\r\n\r\n    public class WebServerUtil {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // setup server\r\n                QueuedThreadPool threadPool = new QueuedThreadPool();\r\n                threadPool.setName(&quot;server&quot;);\r\n                Server server = new Server(threadPool);\r\n\r\n                // setup server connections\r\n                HttpConfiguration config = new HttpConfiguration();\r\n                HttpConnectionFactory httpConnection = new HttpConnectionFactory(config);\r\n                ServerConnector connector = new ServerConnector(server, httpConnection);\r\n                connector.setHost(&quot;0.0.0.0&quot;);\r\n                connector.setPort(8080);\r\n                server.setConnectors(new Connector[] { connector });\r\n\r\n                // setup handler\r\n                ServletHandler handler = new ServletHandler();\r\n                server.setHandler(handler);\r\n\r\n                // setup cors\r\n                FilterHolder filter = new FilterHolder(CrossOriginFilter.class);\r\n                filter.setName(&quot;CORS&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;*&quot;);\r\n                filter.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;POST, GET, OPTIONS&quot;);\r\n                FilterMapping mapping = new FilterMapping();\r\n                mapping.setFilterName(&quot;CORS&quot;);\r\n                mapping.setPathSpecs(new String[] {&quot;/*&quot;});\r\n                mapping.setDispatches(FilterMapping.ALL);\r\n                handler.addFilter(filter, mapping);\r\n\r\n                // basic route\r\n                ServletHolder nothing = new ServletHolder(new Nothing());\r\n                handler.addServletWithMapping(nothing, &quot;/&quot;);\r\n\r\n                // start server\r\n                server.start();\r\n                server.join();\r\n            } catch(Exception error) {\r\n                System.out.println(error.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n    class Nothing extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\nIf I remove the line for `handler.addFilter(filter, mapping);` under the setup cors bit it works but only when making requests with no Headers. I think I am doing something wrong with the CORS Filter setup\r\n\r\n*UPDATE*\r\n\r\nI have found another scenario where it works for both with and without Headers. If I remove the line for `handler.addFilter(filter, mapping);` under the setup cors and change the Nothing HttpServlet to manually handle the Options\r\n\r\n    class Nothing extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n        protected void doOptions(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{}&quot;);\r\n        }\r\n        protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n            res.setStatus(200);\r\n            res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n            res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\r\n            res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\nThen it works fine but this feels like a hack","title":"Java Jetty Server giving error for blocked by CORS policy","body":"<p>I am trying to add a CORS Filter to a Jetty Server (using Jetty 11.0.14) to allow Headers to be used from other domains but I am getting a few errors.</p>\n<p>When making a request I am getting</p>\n<pre><code>from origin 'null' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values 'null, *', but only one is allowed.\n</code></pre>\n<p>I have a simple Jetty Server for testing to reproduce the issue I am having</p>\n<pre><code>import org.eclipse.jetty.util.thread.*;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.servlet.*;\nimport org.eclipse.jetty.servlets.*;\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.*;\nimport java.io.*;\n\npublic class WebServerUtil {\n    public static void main(String[] args) {\n        try {\n            // setup server\n            QueuedThreadPool threadPool = new QueuedThreadPool();\n            threadPool.setName(&quot;server&quot;);\n            Server server = new Server(threadPool);\n\n            // setup server connections\n            HttpConfiguration config = new HttpConfiguration();\n            HttpConnectionFactory httpConnection = new HttpConnectionFactory(config);\n            ServerConnector connector = new ServerConnector(server, httpConnection);\n            connector.setHost(&quot;0.0.0.0&quot;);\n            connector.setPort(8080);\n            server.setConnectors(new Connector[] { connector });\n\n            // setup handler\n            ServletHandler handler = new ServletHandler();\n            server.setHandler(handler);\n\n            // setup cors\n            FilterHolder filter = new FilterHolder(CrossOriginFilter.class);\n            filter.setName(&quot;CORS&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_ORIGINS_PARAM, &quot;*&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_HEADERS_PARAM, &quot;*&quot;);\n            filter.setInitParameter(CrossOriginFilter.ALLOWED_METHODS_PARAM, &quot;POST, GET, OPTIONS&quot;);\n            FilterMapping mapping = new FilterMapping();\n            mapping.setFilterName(&quot;CORS&quot;);\n            mapping.setPathSpecs(new String[] {&quot;/*&quot;});\n            mapping.setDispatches(FilterMapping.ALL);\n            handler.addFilter(filter, mapping);\n\n            // basic route\n            ServletHolder nothing = new ServletHolder(new Nothing());\n            handler.addServletWithMapping(nothing, &quot;/&quot;);\n\n            // start server\n            server.start();\n            server.join();\n        } catch(Exception error) {\n            System.out.println(error.getMessage());\n        }\n    }\n}\n\nclass Nothing extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>If I remove the line for <code>handler.addFilter(filter, mapping);</code> under the setup cors bit it works but only when making requests with no Headers. I think I am doing something wrong with the CORS Filter setup</p>\n<p><em>UPDATE</em></p>\n<p>I have found another scenario where it works for both with and without Headers. If I remove the line for <code>handler.addFilter(filter, mapping);</code> under the setup cors and change the Nothing HttpServlet to manually handle the Options</p>\n<pre><code>class Nothing extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    protected void doOptions(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{}&quot;);\n    }\n    protected void doGet(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        res.setStatus(200);\n        res.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n        res.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS&quot;);\n        res.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        res.getWriter().println(&quot;{\\&quot;message\\&quot;:\\&quot;Nothing\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>Then it works fine but this feels like a hack</p>\n"},{"tags":["java","spring","spring-boot","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679992394,"post_id":75860861,"comment_id":133816024,"body_markdown":"`@Qualifier`/ your config *is the way* to fix the cited problem, but the error message points to constructor... If you plan to re-generate often, you *should* (in any case you *can*) use your config only, and exclude `ApiClient` from &quot;component scanning&quot;. Alternatively you could &quot;appropriate&quot; the generated code... (I.e. making it &quot;regular, versioned source&quot;, improving to your needs...but switching from &quot;API first&quot; to &quot;code next&quot; approach:)","body":"<code>@Qualifier</code>/ your config <i>is the way</i> to fix the cited problem, but the error message points to constructor... If you plan to re-generate often, you <i>should</i> (in any case you <i>can</i>) use your config only, and exclude <code>ApiClient</code> from &quot;component scanning&quot;. Alternatively you could &quot;appropriate&quot; the generated code... (I.e. making it &quot;regular, versioned source&quot;, improving to your needs...but switching from &quot;API first&quot; to &quot;code next&quot; approach:)"},{"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"score":0,"creation_date":1679997730,"post_id":75860861,"comment_id":133817431,"body_markdown":"@xerx593 Unfortunately, there is no chance for me to change the approach on a short-notice since it&#39;s a huge project. This ApiClient will be generated for each deployment. I tried to override ApiClient with a custom mustache template, but since there isn&#39;t any clear documentation about how to override the constructor, I couldn&#39;t find anything useful.","body":"@xerx593 Unfortunately, there is no chance for me to change the approach on a short-notice since it&#39;s a huge project. This ApiClient will be generated for each deployment. I tried to override ApiClient with a custom mustache template, but since there isn&#39;t any clear documentation about how to override the constructor, I couldn&#39;t find anything useful."}],"answers":[{"tags":[],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680021436,"creation_date":1680021436,"answer_id":75868856,"question_id":75860861,"body_markdown":"I could be able to solve my problems by writing a custom mvn module with the ApiClient mustache template. \r\nIf you are wondering how is the constructor in this template;\r\n```\r\n    public ApiClient({{#restTemplateBeanName}}@Qualifier(&quot;{{restTemplateBeanName}}&quot;) {{/restTemplateBeanName}}RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n        init();\r\n    }\r\n```Generator class\r\n\r\npublic class RGenerator extends JavaClientCodegen {\r\n\r\n    public static final String NAME = &quot;R&quot;;\r\n    public static final String REST_TEMPLATE_BEAN_NAME = &quot;restTemplateBeanName&quot;;\r\n\r\n    protected String restTemplateBeanName;\r\n\r\n    protected String propertiesConfigName;\r\n\r\n    public CodegenType getTag() {\r\n      return CodegenType.CLIENT;\r\n    }\r\n\r\n    public String getName() {\r\n      return NAME;\r\n    }\r\n\r\n    public String getHelp() {\r\n      return &quot;Generates a R client library.&quot;;\r\n    }\r\n\r\n    public RGenerator() {\r\n        super();\r\n        this.cliOptions.add(CliOption.newString(REST_TEMPLATE_BEAN_NAME, &quot;An optional RestTemplate bean name&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void processOpts() {\r\n        super.processOpts();\r\n        setTemplateDir(NAME);\r\n        if (RESTTEMPLATE.equals(getLibrary())) {\r\n            this.restTemplateBeanName = (String) this.additionalProperties.get(REST_TEMPLATE_BEAN_NAME);\r\n        }\r\n\r\n    }\r\n\r\n```","title":"Spring Boot - Parameter of constructor required a single bean, but multiple were found for Generated ApiClient Constructor","body":"<p>I could be able to solve my problems by writing a custom mvn module with the ApiClient mustache template.\nIf you are wondering how is the constructor in this template;</p>\n<pre><code>    public ApiClient({{#restTemplateBeanName}}@Qualifier(&quot;{{restTemplateBeanName}}&quot;) {{/restTemplateBeanName}}RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n        init();\n    }\n```Generator class\n\npublic class RGenerator extends JavaClientCodegen {\n\n    public static final String NAME = &quot;R&quot;;\n    public static final String REST_TEMPLATE_BEAN_NAME = &quot;restTemplateBeanName&quot;;\n\n    protected String restTemplateBeanName;\n\n    protected String propertiesConfigName;\n\n    public CodegenType getTag() {\n      return CodegenType.CLIENT;\n    }\n\n    public String getName() {\n      return NAME;\n    }\n\n    public String getHelp() {\n      return &quot;Generates a R client library.&quot;;\n    }\n\n    public RGenerator() {\n        super();\n        this.cliOptions.add(CliOption.newString(REST_TEMPLATE_BEAN_NAME, &quot;An optional RestTemplate bean name&quot;));\n    }\n\n    @Override\n    public void processOpts() {\n        super.processOpts();\n        setTemplateDir(NAME);\n        if (RESTTEMPLATE.equals(getLibrary())) {\n            this.restTemplateBeanName = (String) this.additionalProperties.get(REST_TEMPLATE_BEAN_NAME);\n        }\n\n    }\n\n</code></pre>\n"}],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75868856,"answer_count":1,"score":1,"last_activity_date":1680021436,"creation_date":1679955763,"question_id":75860861,"body_markdown":"I&#39;m working on a Spring Boot application and I&#39;m getting an error related to multiple beans being found for generated ApiClient constructor. \r\nThe error message says:\r\n```\r\nParameter 0 of constructor in com.xxx.client.xxx.accounts.ApiClient required a single bean, but 5 were found:\r\n- accessTokenRestTemplate: defined by method &#39;accessTokenRestTemplate&#39; in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration$OAuth2ClientConfiguration.class]\r\n- interServiceRestTemplate: defined by method &#39;interServiceRestTemplate&#39; in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration.class]\r\n- fdsRestTemplate: defined by method &#39;fdsRestTemplate&#39; in class path resource [XXX/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\r\n- pfRestTemplate: defined by method &#39;pfRestTemplate&#39; in class path resource [XXX/openapi/common/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\r\n- clientRestTemplate: defined by method &#39;clientRestTemplate&#39; in class path resource [XXX/client/resttemplate/configuration/ClientHttpConfiguration.class]\r\n\r\n```\r\n\r\nBasically, my generated ApiClient has a constructor\r\n```\r\n    public ApiClient() {\r\n        this.restTemplate = buildRestTemplate();\r\n        init();\r\n    }\r\n\r\n    @Autowired\r\n    public ApiClient(RestTemplate restTemplate) {\r\n        this.restTemplate = restTemplate;\r\n        init();\r\n    }\r\n```\r\n\r\nThe error points this generated ApiClient and I believe it&#39;s because of this constructor.\r\nI am using &#39;EnableAutoConfiguration&#39; feature and I have the configuration class;\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({SecurityProperties.class, OrchestrationProperties.class})\r\n@Slf4j\r\npublic class LimitApiRestTemplateAutoConfiguration {\r\n    public static final String ACCOUNT_API_CLIENT = &quot;accountApiClient&quot;;\r\n\r\n    /**\r\n     * Create the limits {@link ApiClient} client.\r\n     *\r\n     * @param fdsRestTemplate The fds {@code RestTemplate}.\r\n     * @param properties      The {@code OrchestrationProperties}.\r\n     * @return The {@code ApiClient}.\r\n     */\r\n    @Bean\r\n    @Qualifier(ACCOUNT_API_CLIENT)\r\n    public ApiClient accountApiClient(@Qualifier(&quot;fdsRestTemplate&quot;) RestTemplate fdsRestTemplate,\r\n                                          LimitApiOrchestrationProperties properties) {\r\n        log.info(&quot;Creating limitsApiClient, properties: {}&quot;, properties);\r\n\r\n        ApiClient apiClient = new ApiClient(fdsRestTemplate);\r\n        apiClient.setBasePath(properties.getLimitsBaseUrl());\r\n\r\n        return apiClient;\r\n    }\r\n\r\n```\r\nI tried to use Qualifier to use &#39;fdsRestTemplate&#39; bean, but it didn&#39;t work. I am still getting the error. \r\n\r\nI also tried to override the ApiClient by using ApiClient.mustache, but it&#39;s really hard. \r\n\r\n\r\nWhat I am missing here? I can provide more details, the ApiClient is generated with an OpenApi Generator.\r\n\r\n","title":"Spring Boot - Parameter of constructor required a single bean, but multiple were found for Generated ApiClient Constructor","body":"<p>I'm working on a Spring Boot application and I'm getting an error related to multiple beans being found for generated ApiClient constructor.\nThe error message says:</p>\n<pre><code>Parameter 0 of constructor in com.xxx.client.xxx.accounts.ApiClient required a single bean, but 5 were found:\n- accessTokenRestTemplate: defined by method 'accessTokenRestTemplate' in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration$OAuth2ClientConfiguration.class]\n- interServiceRestTemplate: defined by method 'interServiceRestTemplate' in class path resource [com/XXX/XXX/communication/http/HttpCommunicationConfiguration.class]\n- fdsRestTemplate: defined by method 'fdsRestTemplate' in class path resource [XXX/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\n- pfRestTemplate: defined by method 'pfRestTemplate' in class path resource [XXX/openapi/common/configuration/ApiRestTemplateOpenApiAutoConfiguration.class]\n- clientRestTemplate: defined by method 'clientRestTemplate' in class path resource [XXX/client/resttemplate/configuration/ClientHttpConfiguration.class]\n\n</code></pre>\n<p>Basically, my generated ApiClient has a constructor</p>\n<pre><code>    public ApiClient() {\n        this.restTemplate = buildRestTemplate();\n        init();\n    }\n\n    @Autowired\n    public ApiClient(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n        init();\n    }\n</code></pre>\n<p>The error points this generated ApiClient and I believe it's because of this constructor.\nI am using 'EnableAutoConfiguration' feature and I have the configuration class;</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({SecurityProperties.class, OrchestrationProperties.class})\n@Slf4j\npublic class LimitApiRestTemplateAutoConfiguration {\n    public static final String ACCOUNT_API_CLIENT = &quot;accountApiClient&quot;;\n\n    /**\n     * Create the limits {@link ApiClient} client.\n     *\n     * @param fdsRestTemplate The fds {@code RestTemplate}.\n     * @param properties      The {@code OrchestrationProperties}.\n     * @return The {@code ApiClient}.\n     */\n    @Bean\n    @Qualifier(ACCOUNT_API_CLIENT)\n    public ApiClient accountApiClient(@Qualifier(&quot;fdsRestTemplate&quot;) RestTemplate fdsRestTemplate,\n                                          LimitApiOrchestrationProperties properties) {\n        log.info(&quot;Creating limitsApiClient, properties: {}&quot;, properties);\n\n        ApiClient apiClient = new ApiClient(fdsRestTemplate);\n        apiClient.setBasePath(properties.getLimitsBaseUrl());\n\n        return apiClient;\n    }\n\n</code></pre>\n<p>I tried to use Qualifier to use 'fdsRestTemplate' bean, but it didn't work. I am still getting the error.</p>\n<p>I also tried to override the ApiClient by using ApiClient.mustache, but it's really hard.</p>\n<p>What I am missing here? I can provide more details, the ApiClient is generated with an OpenApi Generator.</p>\n"},{"tags":["java","spring","validation","web-services","postman"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679558027,"creation_date":1679554419,"answer_id":75819968,"question_id":75819892,"body_markdown":"You can override the behaviour by implementing custom exception handler\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler extends DefaultHandlerExceptionResolver {\r\n    \r\n        @ResponseStatus(BAD_REQUEST)\r\n        @ExceptionHandler(value = {MethodArgumentNotValidException.class})\r\n        protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception) {\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            exception.getBindingResult().getAllErrors().forEach((error) -&gt; {\r\n                String fieldName = ((FieldError) error).getField();\r\n                String errorMessage = error.getDefaultMessage();\r\n                errors.put(fieldName, errorMessage);\r\n            });\r\n            return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errors));\r\n        }\r\n    }\r\n\r\nIn case of `ConstraintVoilationException` you can add new exception handler\r\n\r\n    @ResponseStatus(BAD_REQUEST)\r\n    @ExceptionHandler(value = {ConstraintViolationException.class})\r\n    protected ResponseEntity&lt;Object&gt; handleConstraintVoilation(ConstraintViolationException exception) {\r\n        var violations = exception.getConstraintViolations();\r\n        var errs = violations.\r\n            stream().\r\n            map(ConstraintViolation::getMessage).\r\n            toList();\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errs));\r\n    }\r\n","title":"propertyPath being appended in error messages","body":"<p>You can override the behaviour by implementing custom exception handler</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends DefaultHandlerExceptionResolver {\n\n    @ResponseStatus(BAD_REQUEST)\n    @ExceptionHandler(value = {MethodArgumentNotValidException.class})\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException exception) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        exception.getBindingResult().getAllErrors().forEach((error) -&gt; {\n            String fieldName = ((FieldError) error).getField();\n            String errorMessage = error.getDefaultMessage();\n            errors.put(fieldName, errorMessage);\n        });\n        return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errors));\n    }\n}\n</code></pre>\n<p>In case of <code>ConstraintVoilationException</code> you can add new exception handler</p>\n<pre><code>@ResponseStatus(BAD_REQUEST)\n@ExceptionHandler(value = {ConstraintViolationException.class})\nprotected ResponseEntity&lt;Object&gt; handleConstraintVoilation(ConstraintViolationException exception) {\n    var violations = exception.getConstraintViolations();\n    var errs = violations.\n        stream().\n        map(ConstraintViolation::getMessage).\n        toList();\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    return status(BAD_REQUEST).body(Collections.singletonMap(&quot;errors&quot;, errs));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680021187,"creation_date":1679561071,"answer_id":75820817,"question_id":75819892,"body_markdown":"Inside your `handleConstraintVoilation(ConstraintViolationException ex)`, you can get a list of all the messages \r\n\r\n    var errors = new ArrayList&lt;&gt;(ex.getConstraintViolations());\r\n    var errs = errors.stream().map(ConstraintViolation::getMessage).toList();","title":"propertyPath being appended in error messages","body":"<p>Inside your <code>handleConstraintVoilation(ConstraintViolationException ex)</code>, you can get a list of all the messages</p>\n<pre><code>var errors = new ArrayList&lt;&gt;(ex.getConstraintViolations());\nvar errs = errors.stream().map(ConstraintViolation::getMessage).toList();\n</code></pre>\n"}],"owner":{"account_id":10912623,"reputation":23,"user_id":9956200,"display_name":"MoonPie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75819968,"answer_count":2,"score":0,"last_activity_date":1680021187,"creation_date":1679553521,"question_id":75819892,"body_markdown":"This is my validation class which implements ConstraintValidator\r\n\r\n```\r\n@Slf4j\r\npublic class DocumentMetaDataValidation implements ConstraintValidator&lt;DocumentMetaDataValidator, DocumentMetaDataApplicationRequest&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(DocumentMetaDataApplicationRequest dataApplicationRequest, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        constraintValidatorContext.disableDefaultConstraintViolation();\r\n        if(!Objects.nonNull(dataApplicationRequest)) {\r\n            log.error(&quot;Request Parameter is null/empty : &quot;);\r\n            constraintValidatorContext\r\n                    .buildConstraintViolationWithTemplate(&quot;Required parameter DocumentMetaDataApplicationRequest cannot be null/empty&quot;)\r\n                    .addConstraintViolation();\r\n            return false;\r\n        }\r\n        Set&lt;String&gt; documentTypeSet=new HashSet&lt;&gt;();\r\n        dataApplicationRequest.getDocumentDetails().stream().forEach(documentDetails -&gt;\r\n            documentTypeSet.add(documentDetails.getDocumentType()));\r\n\r\n        if (documentTypeSet.size()!=dataApplicationRequest.getDocumentDetails().size()){\r\n            log.error(&quot;Duplicate document type present &quot;);\r\n            constraintValidatorContext\r\n                    .buildConstraintViolationWithTemplate(&quot;Duplicate document type present&quot;)\r\n                    .addConstraintViolation();\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nThis is my controller :\r\n\r\n```\r\n@PostMapping(path = &quot;/{referenceId}&quot;)\r\n  public Mono&lt;DocumentUploadResponse&gt; upload(\r\n      @NotBlank(message = &quot;reference Id cannot be blank&quot;)\r\n      @PathVariable(value = &quot;referenceId&quot;) String referenceId,\r\n      @NotEmpty(message = &quot;List should not be empty&quot;)\r\n      @DocumentValidator @RequestPart(value = &quot;documents&quot;) List&lt;FilePart&gt; document,\r\n      @DocumentMetaDataValidator @Valid @NotNull(message = &quot;DocumentMetadata cannot be null&quot;)\r\n      @RequestPart(value = &quot;documentsMetaData&quot;) DocumentMetaDataApplicationRequest documentMetaDataApplicationRequest) {\r\n\r\n    log.info(&quot;inside DocumentStorageController : uploadDocument()&quot;);\r\n    return documentStorageService.upload(referenceId, document, documentMetaDataApplicationRequest);\r\n\r\n  }\r\n```\r\n\r\n\r\nThis is my validator class\r\n\r\n```\r\n@Target( { FIELD, PARAMETER })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = DocumentMetaDataValidation.class)\r\npublic @interface DocumentMetaDataValidator {\r\n    public String message() default ErrorMessage.VALIDATION_ERROR;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n\r\nInstead of getting error as &quot;Duplicate document type present&quot; im getting &quot;upload.DocumentMetaDataApplicationRequest : Duplicate document type present&quot;\r\nwhere upload is the method in my controller and DocumentMetaDataApplicationRequest is the class that I am trying to validate.\r\n\r\nI tried to go through documentation It seems its is appending something called &quot;propertyPath&quot; which Im not able to get rid of.","title":"propertyPath being appended in error messages","body":"<p>This is my validation class which implements ConstraintValidator</p>\n<pre><code>@Slf4j\npublic class DocumentMetaDataValidation implements ConstraintValidator&lt;DocumentMetaDataValidator, DocumentMetaDataApplicationRequest&gt; {\n\n    @Override\n    public boolean isValid(DocumentMetaDataApplicationRequest dataApplicationRequest, ConstraintValidatorContext constraintValidatorContext) {\n\n        constraintValidatorContext.disableDefaultConstraintViolation();\n        if(!Objects.nonNull(dataApplicationRequest)) {\n            log.error(&quot;Request Parameter is null/empty : &quot;);\n            constraintValidatorContext\n                    .buildConstraintViolationWithTemplate(&quot;Required parameter DocumentMetaDataApplicationRequest cannot be null/empty&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n        Set&lt;String&gt; documentTypeSet=new HashSet&lt;&gt;();\n        dataApplicationRequest.getDocumentDetails().stream().forEach(documentDetails -&gt;\n            documentTypeSet.add(documentDetails.getDocumentType()));\n\n        if (documentTypeSet.size()!=dataApplicationRequest.getDocumentDetails().size()){\n            log.error(&quot;Duplicate document type present &quot;);\n            constraintValidatorContext\n                    .buildConstraintViolationWithTemplate(&quot;Duplicate document type present&quot;)\n                    .addConstraintViolation();\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>This is my controller :</p>\n<pre><code>@PostMapping(path = &quot;/{referenceId}&quot;)\n  public Mono&lt;DocumentUploadResponse&gt; upload(\n      @NotBlank(message = &quot;reference Id cannot be blank&quot;)\n      @PathVariable(value = &quot;referenceId&quot;) String referenceId,\n      @NotEmpty(message = &quot;List should not be empty&quot;)\n      @DocumentValidator @RequestPart(value = &quot;documents&quot;) List&lt;FilePart&gt; document,\n      @DocumentMetaDataValidator @Valid @NotNull(message = &quot;DocumentMetadata cannot be null&quot;)\n      @RequestPart(value = &quot;documentsMetaData&quot;) DocumentMetaDataApplicationRequest documentMetaDataApplicationRequest) {\n\n    log.info(&quot;inside DocumentStorageController : uploadDocument()&quot;);\n    return documentStorageService.upload(referenceId, document, documentMetaDataApplicationRequest);\n\n  }\n</code></pre>\n<p>This is my validator class</p>\n<pre><code>@Target( { FIELD, PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = DocumentMetaDataValidation.class)\npublic @interface DocumentMetaDataValidator {\n    public String message() default ErrorMessage.VALIDATION_ERROR;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>Instead of getting error as &quot;Duplicate document type present&quot; im getting &quot;upload.DocumentMetaDataApplicationRequest : Duplicate document type present&quot;\nwhere upload is the method in my controller and DocumentMetaDataApplicationRequest is the class that I am trying to validate.</p>\n<p>I tried to go through documentation It seems its is appending something called &quot;propertyPath&quot; which Im not able to get rid of.</p>\n"},{"tags":["java","spring","spring-boot","grpc","grpc-java"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679823878,"post_id":75846759,"comment_id":133786674,"body_markdown":"GRPC doesn&#39;t natively support HTTP1x only HTTP2. If you want to use HTTP1 you need some gateway in between that will do the conversion.","body":"GRPC doesn&#39;t natively support HTTP1x only HTTP2. If you want to use HTTP1 you need some gateway in between that will do the conversion."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679823903,"post_id":75846759,"comment_id":133786677,"body_markdown":"Probably simply missing the domain and any prefixed protocol. It cannot guess the domain.","body":"Probably simply missing the domain and any prefixed protocol. It cannot guess the domain."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1679825620,"post_id":75846759,"comment_id":133786870,"body_markdown":"@M.Deinum - That is what I have tried doing by referring to the docs at https://github.com/grpc-ecosystem/grpc-gateway\nThe Docs are in Go reference and tried doing the same for Java, but still not working.","body":"@M.Deinum - That is what I have tried doing by referring to the docs at <a href=\"https://github.com/grpc-ecosystem/grpc-gateway\" rel=\"nofollow noreferrer\">github.com/grpc-ecosystem/grpc-gateway</a> The Docs are in Go reference and tried doing the same for Java, but still not working."}],"answers":[{"tags":[],"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680021107,"creation_date":1680021107,"answer_id":75868805,"question_id":75846759,"body_markdown":"Java gRPC does not support any notion of converting from http1 to http2 and you can not add it to it by utilizing grpc-gateway. You CAN use grpc-gateway to create a separate proxy that can handle this conversion, but it would run as it&#39;s own separate process, independent of your Java application.\r\n\r\nYou may have adopted some Go specific instructions that have grpc-gateway embedded in the gRPC server, but this is only possible for Go implementations. I would recommend taking another look at the instructions and build your standalone gateway.","title":"Not able to execute HTTP/1.x requests for gRPC service","body":"<p>Java gRPC does not support any notion of converting from http1 to http2 and you can not add it to it by utilizing grpc-gateway. You CAN use grpc-gateway to create a separate proxy that can handle this conversion, but it would run as it's own separate process, independent of your Java application.</p>\n<p>You may have adopted some Go specific instructions that have grpc-gateway embedded in the gRPC server, but this is only possible for Go implementations. I would recommend taking another look at the instructions and build your standalone gateway.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680021107,"creation_date":1679820942,"question_id":75846759,"body_markdown":"I am trying to execute an HTTP/1.x request for a gRPC service, but getting below error.\r\n```\r\nio.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: GET /author/1 \r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception.connectionError(Http2Exception.java:109) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.readClientPrefaceString(Http2ConnectionHandler.java:317) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:247) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nMy .proto file is as below.\r\n```\r\nsyntax = &quot;proto3&quot;;\r\npackage com.myapp.grpc_server.proto;\r\n\r\noption java_multiple_files = true;\r\n\r\nimport &quot;google/api/annotations.proto&quot;;\r\n\r\nmessage Book {\r\n  int32 book_id = 1;\r\n  string title = 2;\r\n  float book_price = 3;\r\n  int32 pages = 4;\r\n  int32 author_id = 5;\r\n}\r\n\r\nmessage Author {\r\n  int32 author_id = 1;\r\n  string first_name = 2;\r\n  string last_name = 3;\r\n  string gender = 4;\r\n  int32 book_id = 5;\r\n}\r\n\r\nservice BookAuthorService {\r\n  //unary - synchronous - client will send one request and one response will be received.\r\n  rpc getAuthor(Author) returns (Author) {\r\n    option (google.api.http) = {\r\n      get: &quot;/author/{id}&quot;\r\n    };\r\n  }\r\n}\r\n```\r\n[![My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis][1]][1]\r\n\r\n\r\n```\r\nMy proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\r\n```\r\n[![generated sources after compiling][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x89oj.png\r\n  [2]: https://i.stack.imgur.com/uAfJB.png\r\n\r\n```\r\ngenerated sources after compiling\r\n```\r\nGrpcService Class\r\n\r\n```\r\npackage com.myapp.grpcserver.service;\r\n\r\nimport com.myapp.grpc_server.proto.Author;\r\nimport com.myapp.grpc_server.proto.Book;\r\nimport com.myapp.grpc_server.proto.BookAuthorServiceGrpc;\r\nimport com.myapp.grpcserver.setup.TempDB;\r\nimport io.grpc.stub.StreamObserver;\r\nimport net.devh.boot.grpc.server.service.GrpcService;\r\n\r\n@GrpcService\r\npublic class BookAuthorService extends BookAuthorServiceGrpc.BookAuthorServiceImplBase {\r\n\r\n    @Override\r\n    public void getAuthor(Author request, StreamObserver&lt;Author&gt; responseObserver) {\r\n        TempDB.authors.stream()\r\n                .filter(author -&gt; author.getAuthorId() == request.getAuthorId())\r\n                .findFirst()\r\n                .ifPresent(responseObserver::onNext);\r\n        responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\nI am firing a GET Request using browser on the defined end-point but getting above error. Please suggest where I am wrong and what I need to do. Please share any working examples in Java as official docs of grpc-gateway is in Go.","title":"Not able to execute HTTP/1.x requests for gRPC service","body":"<p>I am trying to execute an HTTP/1.x request for a gRPC service, but getting below error.</p>\n<pre><code>io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception: Unexpected HTTP/1.x request: GET /author/1 \n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2Exception.connectionError(Http2Exception.java:109) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.readClientPrefaceString(Http2ConnectionHandler.java:317) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler$PrefaceDecoder.decode(Http2ConnectionHandler.java:247) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler.decode(Http2ConnectionHandler.java:453) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[grpc-netty-shaded-1.51.0.jar:1.51.0]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My .proto file is as below.</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.myapp.grpc_server.proto;\n\noption java_multiple_files = true;\n\nimport &quot;google/api/annotations.proto&quot;;\n\nmessage Book {\n  int32 book_id = 1;\n  string title = 2;\n  float book_price = 3;\n  int32 pages = 4;\n  int32 author_id = 5;\n}\n\nmessage Author {\n  int32 author_id = 1;\n  string first_name = 2;\n  string last_name = 3;\n  string gender = 4;\n  int32 book_id = 5;\n}\n\nservice BookAuthorService {\n  //unary - synchronous - client will send one request and one response will be received.\n  rpc getAuthor(Author) returns (Author) {\n    option (google.api.http) = {\n      get: &quot;/author/{id}&quot;\n    };\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x89oj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x89oj.png\" alt=\"My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\" /></a></p>\n<pre><code>My proto directory containing my .proto file along with annotations.proto and http.proto files copied from googleapis github.com/googleapis/googleapis\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uAfJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAfJB.png\" alt=\"generated sources after compiling\" /></a></p>\n<pre><code>generated sources after compiling\n</code></pre>\n<p>GrpcService Class</p>\n<pre><code>package com.myapp.grpcserver.service;\n\nimport com.myapp.grpc_server.proto.Author;\nimport com.myapp.grpc_server.proto.Book;\nimport com.myapp.grpc_server.proto.BookAuthorServiceGrpc;\nimport com.myapp.grpcserver.setup.TempDB;\nimport io.grpc.stub.StreamObserver;\nimport net.devh.boot.grpc.server.service.GrpcService;\n\n@GrpcService\npublic class BookAuthorService extends BookAuthorServiceGrpc.BookAuthorServiceImplBase {\n\n    @Override\n    public void getAuthor(Author request, StreamObserver&lt;Author&gt; responseObserver) {\n        TempDB.authors.stream()\n                .filter(author -&gt; author.getAuthorId() == request.getAuthorId())\n                .findFirst()\n                .ifPresent(responseObserver::onNext);\n        responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>I am firing a GET Request using browser on the defined end-point but getting above error. Please suggest where I am wrong and what I need to do. Please share any working examples in Java as official docs of grpc-gateway is in Go.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9452,"page":540,"page_size":100}
