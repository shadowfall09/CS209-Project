{"items":[{"tags":["java","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1680114614,"post_id":75876681,"comment_id":133844287,"body_markdown":"How do you determine today which cases need to be executed where?","body":"How do you determine today which cases need to be executed where?"}],"answers":[{"tags":[],"owner":{"account_id":14468532,"reputation":11,"user_id":10451214,"display_name":"Merav2110"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680090848,"creation_date":1680090848,"answer_id":75876860,"question_id":75876681,"body_markdown":"you can use data-provider config (testNG), how do you run this tests?\r\nI imagine you have some jenkins job that is running the tests. The tests don&#39;t need to know where are they running you just need to pass IP or URL from the job.\r\nAlso in java you can create a factory that give the test the correct URL to run on.","title":"How to execute selenium cucumber test cases in different environment at the same time","body":"<p>you can use data-provider config (testNG), how do you run this tests?\nI imagine you have some jenkins job that is running the tests. The tests don't need to know where are they running you just need to pass IP or URL from the job.\nAlso in java you can create a factory that give the test the correct URL to run on.</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680090848,"creation_date":1680089814,"question_id":75876681,"body_markdown":"I have 100 test cases in selenium-cucumber framework as part of regression suite. I need to execute 50 tests in qa environment and 50 in dev environment at the same time (in the same jenkins build). How can I achieve this? I have two property files, one is for dev and other one is for qa. ","title":"How to execute selenium cucumber test cases in different environment at the same time","body":"<p>I have 100 test cases in selenium-cucumber framework as part of regression suite. I need to execute 50 tests in qa environment and 50 in dev environment at the same time (in the same jenkins build). How can I achieve this? I have two property files, one is for dev and other one is for qa.</p>\n"},{"tags":["java","html","templates","velocity"],"owner":{"account_id":19163290,"reputation":13,"user_id":13998601,"display_name":"Sarvesh Bhogale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680090677,"creation_date":1680090677,"question_id":75876830,"body_markdown":"I am facing an issue while using Velocity template wherein if the Candidate work history is spanning over two pages some of the content gets split which I want to avoid.\r\nFor Example:-\r\n[![SampleResume](https://i.stack.imgur.com/BRGE5.png)](https://i.stack.imgur.com/BRGE5.png)\r\n\r\nSo if the Candidate work history spans the page break I want to push it to next page so all work history for that facility is together on one page.\r\n\r\nVelocity code for the same is below\r\n\r\n\r\n```\r\n&lt;tr&gt;\r\n&lt;td valign=&quot;top&quot;\r\n  style=&quot;width:32%;text-align: right;font-size: 14px;padding-right: 50px;&quot;&gt;\r\n    &lt;span style=&quot;font-weight:bold;display:block;padding-top:3px;padding-bottom:3px;padding-left:10px;color: #1181d1;&quot;&gt; Work History &lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;td valign=&quot;top&quot; style=&quot;width:68%;padding-left:10px;font-size: 14px;&quot;&gt;\r\n  &lt;span style=&quot;display:block;padding:5px;color: #333333;&quot;&gt;\r\n    #foreach ($dataRow in $resume.referList)\r\n\tFacility:  $dataRow.ClientName&lt;br/&gt;\r\n\tReference: $dataRow.FirstName $dataRow.LastName&lt;br/&gt;\r\n\tTitle:     $dataRow.ReferJobTitle - $dataRow.Unit&lt;br/&gt;\r\n\tPhone:     $dataRow.ReferPhone     Email: $dataRow.ReferEmail&lt;br/&gt;\r\n\tFrom:      $dataRow.FromDate - To:$dataRow.ToDate&lt;br/&gt;\r\n        #if($foreach.hasNext)&lt;br/&gt;#end\r\n     #end\r\n  &lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\n\r\nAny suggestions on how can I solve this issue\r\n\r\nI tried using the suggestion mentioned below\r\n\r\nReference URL - https://community.jamasoftware.com/discussion/forcing-page-break-for-velocity-html-reports","title":"Forcing a Page break for Velocity HTML resumes","body":"<p>I am facing an issue while using Velocity template wherein if the Candidate work history is spanning over two pages some of the content gets split which I want to avoid.\nFor Example:-\n<a href=\"https://i.stack.imgur.com/BRGE5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRGE5.png\" alt=\"SampleResume\" /></a></p>\n<p>So if the Candidate work history spans the page break I want to push it to next page so all work history for that facility is together on one page.</p>\n<p>Velocity code for the same is below</p>\n<pre><code>&lt;tr&gt;\n&lt;td valign=&quot;top&quot;\n  style=&quot;width:32%;text-align: right;font-size: 14px;padding-right: 50px;&quot;&gt;\n    &lt;span style=&quot;font-weight:bold;display:block;padding-top:3px;padding-bottom:3px;padding-left:10px;color: #1181d1;&quot;&gt; Work History &lt;/span&gt;\n&lt;/td&gt;\n&lt;td valign=&quot;top&quot; style=&quot;width:68%;padding-left:10px;font-size: 14px;&quot;&gt;\n  &lt;span style=&quot;display:block;padding:5px;color: #333333;&quot;&gt;\n    #foreach ($dataRow in $resume.referList)\n    Facility:  $dataRow.ClientName&lt;br/&gt;\n    Reference: $dataRow.FirstName $dataRow.LastName&lt;br/&gt;\n    Title:     $dataRow.ReferJobTitle - $dataRow.Unit&lt;br/&gt;\n    Phone:     $dataRow.ReferPhone     Email: $dataRow.ReferEmail&lt;br/&gt;\n    From:      $dataRow.FromDate - To:$dataRow.ToDate&lt;br/&gt;\n        #if($foreach.hasNext)&lt;br/&gt;#end\n     #end\n  &lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>Any suggestions on how can I solve this issue</p>\n<p>I tried using the suggestion mentioned below</p>\n<p>Reference URL - <a href=\"https://community.jamasoftware.com/discussion/forcing-page-break-for-velocity-html-reports\" rel=\"nofollow noreferrer\">https://community.jamasoftware.com/discussion/forcing-page-break-for-velocity-html-reports</a></p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":28153071,"reputation":1,"user_id":21514227,"display_name":"Beritan Ko&#231;"},"score":0,"creation_date":1680094557,"post_id":75872513,"comment_id":133838519,"body_markdown":"How can I optimize my  siparisGosterBtn? can you help me?","body":"How can I optimize my  siparisGosterBtn? can you help me?"}],"tags":[],"owner":{"account_id":7318750,"reputation":1812,"user_id":5575410,"display_name":"Ayush Khare"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680055647,"creation_date":1680055647,"answer_id":75872513,"question_id":75872067,"body_markdown":"According to [RecyclerView.onBindViewHolder][1] documentation, it states:\r\n\r\n&gt; RecyclerView will not call this method again if the position of the item changes in the data set unless the item itself is invalidated or the new position cannot be determined\r\n\r\nSo for your code the optimal solution will be changing the onClickListener of `siparisGosterBtn ` like below:\r\n\r\n```\r\nholder.siparisGosterBtn.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n         String kID=getRef(holder.getAdapterPosition()).getKey(); --&gt; // change position to holder.getAdapterPosition()\r\n         Intent intent=new Intent(AdminYeniSiparisActivity.this,AdminKullaniciUrunActivity.class);\r\n         intent.putExtra(&quot;kid&quot;,kID);\r\n         startActivity(intent);\r\n      }\r\n    });\r\n ```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#onbindviewholder_1","title":"Do not treat position as fixed; only use immediately and call `holder.getAdapterPosition()` to look it up later erorrr","body":"<p>According to <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#onbindviewholder_1\" rel=\"nofollow noreferrer\">RecyclerView.onBindViewHolder</a> documentation, it states:</p>\n<blockquote>\n<p>RecyclerView will not call this method again if the position of the item changes in the data set unless the item itself is invalidated or the new position cannot be determined</p>\n</blockquote>\n<p>So for your code the optimal solution will be changing the onClickListener of <code>siparisGosterBtn </code> like below:</p>\n<pre><code>holder.siparisGosterBtn.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View v) {\n         String kID=getRef(holder.getAdapterPosition()).getKey(); --&gt; // change position to holder.getAdapterPosition()\n         Intent intent=new Intent(AdminYeniSiparisActivity.this,AdminKullaniciUrunActivity.class);\n         intent.putExtra(&quot;kid&quot;,kID);\n         startActivity(intent);\n      }\n    });\n</code></pre>\n"}],"owner":{"account_id":28153071,"reputation":1,"user_id":21514227,"display_name":"Beritan Ko&#231;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680090655,"creation_date":1680049033,"question_id":75872067,"body_markdown":"    private RecyclerView siparisList;\r\n    private DatabaseReference siparisRef;\r\n        \r\n    \r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_admin_yeni_siparis);\r\n        \r\n        \r\n            siparisRef= FirebaseDatabase.getInstance().getReference().child(&quot;Siparis&quot;);\r\n            siparisList=findViewById(R.id.siparis_list);\r\n            siparisList.setLayoutManager(new LinearLayoutManager(this));\r\n        \r\n        }\r\n        \r\n        \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n        \r\n            FirebaseRecyclerOptions&lt;AdminSiparis&gt; options=\r\n                    new FirebaseRecyclerOptions.Builder&lt;AdminSiparis&gt;()\r\n                            .setQuery(siparisRef,AdminSiparis.class)\r\n                            .build();\r\n        \r\n            FirebaseRecyclerAdapter&lt;AdminSiparis,AdminSiparisViewHolder&gt; adapter=\r\n                    new FirebaseRecyclerAdapter&lt;AdminSiparis, AdminSiparisViewHolder&gt;(options) {\r\n                        @Override\r\n                        protected void onBindViewHolder(@NonNull AdminSiparisViewHolder holder,int position, @NonNull AdminSiparis model) {\r\n                            holder.kullanıcıİsmi.setText(&quot;İsim:&quot;+model.getIsim());\r\n                            holder.kullanıcıTelefon.setText(&quot;Telefon:&quot;+model.getTelefon());\r\n                            holder.kullanıcıToplamTutar.setText(&quot;Toplam Miktar:&quot;+model.getToplamMiktar()+&quot;TL&quot;);\r\n                            holder.kullanıcıTarih.setText(&quot;Siparis Tarih:&quot;+model.getTarih()+&quot;&quot;+model.getZaman());\r\n                            holder.kullanıcıGonderiAddress.setText(&quot;Address:&quot;+model.getAddress()+&quot;,&quot;+model.getIl());\r\n        \r\n        \r\n                            holder.siparisGosterBtn.setOnClickListener(new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View v) {\r\n                                    String kID=getRef(position).getKey();\r\n        \r\n        \r\n        \r\n        \r\n                                    Intent intent=new Intent(AdminYeniSiparisActivity.this,AdminKullaniciUrunActivity.class);\r\n                                    intent.putExtra(&quot;kid&quot;,kID);\r\n                                    startActivity(intent);\r\n                                }\r\n                            });\r\n        \r\n                        }\r\n        \r\n                        @NonNull\r\n                        @Override\r\n                        public AdminSiparisViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                            View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.siparis_layout,parent,false);\r\n                            return new AdminSiparisViewHolder(view);\r\n                        }\r\n                    };\r\n            siparisList.setAdapter(adapter);\r\n            adapter.startListening();\r\n            \r\n        \r\n        }\r\n        \r\n        \r\n        public static class AdminSiparisViewHolder extends RecyclerView.ViewHolder{\r\n            public TextView kullanıcıİsmi,kullanıcıTelefon,kullanıcıToplamTutar,kullanıcıTarih,kullanıcıGonderiAddress;\r\n            public Button siparisGosterBtn;\r\n        \r\n            public AdminSiparisViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n        \r\n                kullanıcıİsmi=itemView.findViewById(R.id.siparis_kullanıcı_adı);\r\n                kullanıcıTelefon=itemView.findViewById(R.id.siparis_telefon_numarası);\r\n                kullanıcıToplamTutar=itemView.findViewById(R.id.siparis_toplam_fiyat);\r\n                kullanıcıGonderiAddress=itemView.findViewById(R.id.siparis_address_il);\r\n                kullanıcıTarih=itemView.findViewById(R.id.siparis_tarih_saat);\r\n                siparisGosterBtn=itemView.findViewById(R.id.siparis_kontrol_btn);\r\n        \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI&#39;m getting an error like this I tried getAdapter Position but it still creates problems","title":"Do not treat position as fixed; only use immediately and call `holder.getAdapterPosition()` to look it up later erorrr","body":"<pre><code>private RecyclerView siparisList;\nprivate DatabaseReference siparisRef;\n    \n\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_admin_yeni_siparis);\n    \n    \n        siparisRef= FirebaseDatabase.getInstance().getReference().child(&quot;Siparis&quot;);\n        siparisList=findViewById(R.id.siparis_list);\n        siparisList.setLayoutManager(new LinearLayoutManager(this));\n    \n    }\n    \n    \n    @Override\n    protected void onStart() {\n        super.onStart();\n    \n        FirebaseRecyclerOptions&lt;AdminSiparis&gt; options=\n                new FirebaseRecyclerOptions.Builder&lt;AdminSiparis&gt;()\n                        .setQuery(siparisRef,AdminSiparis.class)\n                        .build();\n    \n        FirebaseRecyclerAdapter&lt;AdminSiparis,AdminSiparisViewHolder&gt; adapter=\n                new FirebaseRecyclerAdapter&lt;AdminSiparis, AdminSiparisViewHolder&gt;(options) {\n                    @Override\n                    protected void onBindViewHolder(@NonNull AdminSiparisViewHolder holder,int position, @NonNull AdminSiparis model) {\n                        holder.kullanıcıİsmi.setText(&quot;İsim:&quot;+model.getIsim());\n                        holder.kullanıcıTelefon.setText(&quot;Telefon:&quot;+model.getTelefon());\n                        holder.kullanıcıToplamTutar.setText(&quot;Toplam Miktar:&quot;+model.getToplamMiktar()+&quot;TL&quot;);\n                        holder.kullanıcıTarih.setText(&quot;Siparis Tarih:&quot;+model.getTarih()+&quot;&quot;+model.getZaman());\n                        holder.kullanıcıGonderiAddress.setText(&quot;Address:&quot;+model.getAddress()+&quot;,&quot;+model.getIl());\n    \n    \n                        holder.siparisGosterBtn.setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View v) {\n                                String kID=getRef(position).getKey();\n    \n    \n    \n    \n                                Intent intent=new Intent(AdminYeniSiparisActivity.this,AdminKullaniciUrunActivity.class);\n                                intent.putExtra(&quot;kid&quot;,kID);\n                                startActivity(intent);\n                            }\n                        });\n    \n                    }\n    \n                    @NonNull\n                    @Override\n                    public AdminSiparisViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.siparis_layout,parent,false);\n                        return new AdminSiparisViewHolder(view);\n                    }\n                };\n        siparisList.setAdapter(adapter);\n        adapter.startListening();\n        \n    \n    }\n    \n    \n    public static class AdminSiparisViewHolder extends RecyclerView.ViewHolder{\n        public TextView kullanıcıİsmi,kullanıcıTelefon,kullanıcıToplamTutar,kullanıcıTarih,kullanıcıGonderiAddress;\n        public Button siparisGosterBtn;\n    \n        public AdminSiparisViewHolder(@NonNull View itemView) {\n            super(itemView);\n    \n            kullanıcıİsmi=itemView.findViewById(R.id.siparis_kullanıcı_adı);\n            kullanıcıTelefon=itemView.findViewById(R.id.siparis_telefon_numarası);\n            kullanıcıToplamTutar=itemView.findViewById(R.id.siparis_toplam_fiyat);\n            kullanıcıGonderiAddress=itemView.findViewById(R.id.siparis_address_il);\n            kullanıcıTarih=itemView.findViewById(R.id.siparis_tarih_saat);\n            siparisGosterBtn=itemView.findViewById(R.id.siparis_kontrol_btn);\n    \n        }\n    }\n\n}\n</code></pre>\n<p>I'm getting an error like this I tried getAdapter Position but it still creates problems</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":12577170,"reputation":109,"user_id":9149202,"display_name":"Ravindu Fernando"},"score":0,"creation_date":1680152595,"post_id":75876727,"comment_id":133850122,"body_markdown":"Thanks for the answer. \nTo rephrase the question, is there a way to add a common block inside &lt;dependency&gt; tag?\nThe scenario you mentioned is to cater a requirement to use a private repository with self-defined groupIds for artifacts. The &lt;exclusions&gt; are to prevent Maven from downloading transitive dependencies (which will fail).","body":"Thanks for the answer.  To rephrase the question, is there a way to add a common block inside &lt;dependency&gt; tag? The scenario you mentioned is to cater a requirement to use a private repository with self-defined groupIds for artifacts. The &lt;exclusions&gt; are to prevent Maven from downloading transitive dependencies (which will fail)."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680160931,"post_id":75876727,"comment_id":133851629,"body_markdown":"No. In the long run, you are probably better of if you tidy up the POMs of those dependencies in the private repository. This means, remove transitive dependencies that are not needed (why are they in the POM in the first place?) and add dependencies on other dependencies that are actually needed.","body":"No. In the long run, you are probably better of if you tidy up the POMs of those dependencies in the private repository. This means, remove transitive dependencies that are not needed (why are they in the POM in the first place?) and add dependencies on other dependencies that are actually needed."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680090086,"creation_date":1680090086,"answer_id":75876727,"question_id":75876567,"body_markdown":"No.\r\n\r\nThe whole approach is &quot;unclean&quot;.\r\n\r\nFirst of all, if you use 100 dependencies directly in your source code, there is probably something wrong.\r\n\r\nI seems more likely that you do the transitive dependency resolution yourself. This is in most cases not advisable. Every dependency should have its own dependencies. In this way you usually need very few direct dependencies and get the rest as transitive dependencies. ","title":"Adding a tag inside &lt;dependency&gt; tag without repetition in pom.xml","body":"<p>No.</p>\n<p>The whole approach is &quot;unclean&quot;.</p>\n<p>First of all, if you use 100 dependencies directly in your source code, there is probably something wrong.</p>\n<p>I seems more likely that you do the transitive dependency resolution yourself. This is in most cases not advisable. Every dependency should have its own dependencies. In this way you usually need very few direct dependencies and get the rest as transitive dependencies.</p>\n"}],"owner":{"account_id":12577170,"reputation":109,"user_id":9149202,"display_name":"Ravindu Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680090086,"creation_date":1680089138,"question_id":75876567,"body_markdown":"I have a POM file with nearly 100 dependencies defined as follows;\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sample.artifact&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sample-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;${sample.version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHowever I need to add an &lt;exclusions&gt; tag inside these dependencies to prevent Maven from downloading transitive dependencies. I&#39;m able to do it as follows;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sample.artifact&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sample-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;${sample.version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHowever I think adding this &lt;exclusions&gt; block inside every &lt;dependency&gt; reduces the readability since it more than doubles the number of lines in the POM.\r\n\r\nIs there a cleaner way to achieve this?\r\n\r\n","title":"Adding a tag inside &lt;dependency&gt; tag without repetition in pom.xml","body":"<p>I have a POM file with nearly 100 dependencies defined as follows;</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.sample.artifact&lt;/groupId&gt;\n        &lt;artifactId&gt;sample-artifact&lt;/artifactId&gt;\n        &lt;version&gt;${sample.version}&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>However I need to add an  tag inside these dependencies to prevent Maven from downloading transitive dependencies. I'm able to do it as follows;</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sample.artifact&lt;/groupId&gt;\n        &lt;artifactId&gt;sample-artifact&lt;/artifactId&gt;\n        &lt;version&gt;${sample.version}&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;*&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>However I think adding this  block inside every  reduces the readability since it more than doubles the number of lines in the POM.</p>\n<p>Is there a cleaner way to achieve this?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1680105040,"post_id":75876703,"comment_id":133841915,"body_markdown":"The event listener gets the characters as they are drawn. If a text line is drawn in the PDF using a single string argument of a text showing instruction, the event listener gets the whole line, too. If a text line is drawn using a separate string for each character, the event listener gets the line character by character. No bug, just the design of PDF.","body":"The event listener gets the characters as they are drawn. If a text line is drawn in the PDF using a single string argument of a text showing instruction, the event listener gets the whole line, too. If a text line is drawn using a separate string for each character, the event listener gets the line character by character. No bug, just the design of PDF."},{"owner":{"account_id":18642147,"reputation":45,"user_id":13587664,"display_name":"PanBorewicz"},"score":0,"creation_date":1680159337,"post_id":75876703,"comment_id":133851245,"body_markdown":"Thanks, for an answer, I have tried different pdfs and that is the case. In different pdf&#39;s it work fine. I have check now how SimpleTextExtractionStrategy implements ITextExtractionStrategy. My filters uses TextRegionEventFilter. Thanks for a track :)","body":"Thanks, for an answer, I have tried different pdfs and that is the case. In different pdf&#39;s it work fine. I have check now how SimpleTextExtractionStrategy implements ITextExtractionStrategy. My filters uses TextRegionEventFilter. Thanks for a track :)"}],"owner":{"account_id":18642147,"reputation":45,"user_id":13587664,"display_name":"PanBorewicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680089928,"creation_date":1680089928,"question_id":75876703,"body_markdown":"I have problem with itextpdf. I&#39;m developing a resume parser based on LinkedIn generated pdfs.\r\n\r\nBefore I start to create location based filters I&#39;d parse whole text with SimpleTextExtractionStrategy concat it as a one String and separate it by System.lineSeparator(). And I get a line after line in the same order like I have in pdf.\r\n\r\n```\r\npublic String getNameAndSurname(PdfDocument pdfDoc) {\r\n        SimpleTextExtractionStrategy strategy = new SimpleTextExtractionStrategy();\r\n        PdfCanvasProcessor proc = new PdfCanvasProcessor(strategy);\r\n        proc.processPageContent(pdfDoc.getFirstPage());\r\n        System.out.println(strategy.getResultantText());\r\n        return strategy.getResultantText().split(System.lineSeparator())[0];\r\n    }\r\n```\r\n\r\nBut I need to read a line after line and separate Resume Blocks like Education, or Experience.\r\n\r\nI have create custom filter extending TextRegionEventFilter. Everything&#39;s works, but in some cases I got value as single character. I have checked there is no special signs in splitted lines.\r\n\r\nI have try to concat it but this is difficult to set rule when it should hapend.\r\n\r\n```\r\n @Override\r\n    public boolean accept(IEventData data, EventType type) {\r\n        if (type.equals(EventType.RENDER_TEXT)) {\r\n            TextRenderInfo renderInfo = (TextRenderInfo) data;\r\n                if (\r\n                        setBlock(renderInfo, BLOCK_START, BLOCK_END) &amp;&amp;\r\n                        isFontMatch(renderInfo, LINE_FONT_NAME, LINE_FONT_SIZE)\r\n                ) {\r\n                    super.elements.add(renderInfo.getText());\r\n                    return true;\r\n                }\r\n            }\r\n        return false;\r\n    }\r\n```\r\n\r\nIs it library bug? or how to even start to debug it?\r\n\r\nI try to change a page size, from getFrom document to set it directly to PageSize.A4, I was also try to connect characters but I can&#39;t established when word is fully merged, because there is no rule when next world will be separated or not for characters.\r\n\r\n\r\n\r\noutput:\r\n\r\n    {\r\n            &quot;jobRole&quot;: &quot;T&quot;,\r\n            &quot;company&quot;: &quot;Company 4&quot;,\r\n            &quot;timePeriod&quot;: &quot;XXX 2017 - XXX 2017 (3 months)&quot;\r\n        },\r\n        {\r\n            &quot;jobRole&quot;: &quot;r&quot;,\r\n            &quot;company&quot;: &quot;Company 3&quot;,\r\n            &quot;timePeriod&quot;: &quot;XXX 2016 - XXX 2016 (9 months)&quot;\r\n        },\r\n        {\r\n            &quot;jobRole&quot;: &quot;a&quot;,\r\n            &quot;company&quot;: &quot;Company2&quot;,\r\n            &quot;timePeriod&quot;: &quot;XXX 2014 - XXX 2015 (10 months)&quot;\r\n        },\r\n        {\r\n            &quot;jobRole&quot;: &quot;i&quot;,\r\n            &quot;company&quot;: &quot;Company1&quot;,\r\n            &quot;timePeriod&quot;: &quot;XXX 2014 - XXX 2014 (7 months)&quot;\r\n        }","title":"itextpdf location TextRegionEventFilter returns letter by letter","body":"<p>I have problem with itextpdf. I'm developing a resume parser based on LinkedIn generated pdfs.</p>\n<p>Before I start to create location based filters I'd parse whole text with SimpleTextExtractionStrategy concat it as a one String and separate it by System.lineSeparator(). And I get a line after line in the same order like I have in pdf.</p>\n<pre><code>public String getNameAndSurname(PdfDocument pdfDoc) {\n        SimpleTextExtractionStrategy strategy = new SimpleTextExtractionStrategy();\n        PdfCanvasProcessor proc = new PdfCanvasProcessor(strategy);\n        proc.processPageContent(pdfDoc.getFirstPage());\n        System.out.println(strategy.getResultantText());\n        return strategy.getResultantText().split(System.lineSeparator())[0];\n    }\n</code></pre>\n<p>But I need to read a line after line and separate Resume Blocks like Education, or Experience.</p>\n<p>I have create custom filter extending TextRegionEventFilter. Everything's works, but in some cases I got value as single character. I have checked there is no special signs in splitted lines.</p>\n<p>I have try to concat it but this is difficult to set rule when it should hapend.</p>\n<pre><code> @Override\n    public boolean accept(IEventData data, EventType type) {\n        if (type.equals(EventType.RENDER_TEXT)) {\n            TextRenderInfo renderInfo = (TextRenderInfo) data;\n                if (\n                        setBlock(renderInfo, BLOCK_START, BLOCK_END) &amp;&amp;\n                        isFontMatch(renderInfo, LINE_FONT_NAME, LINE_FONT_SIZE)\n                ) {\n                    super.elements.add(renderInfo.getText());\n                    return true;\n                }\n            }\n        return false;\n    }\n</code></pre>\n<p>Is it library bug? or how to even start to debug it?</p>\n<p>I try to change a page size, from getFrom document to set it directly to PageSize.A4, I was also try to connect characters but I can't established when word is fully merged, because there is no rule when next world will be separated or not for characters.</p>\n<p>output:</p>\n<pre><code>{\n        &quot;jobRole&quot;: &quot;T&quot;,\n        &quot;company&quot;: &quot;Company 4&quot;,\n        &quot;timePeriod&quot;: &quot;XXX 2017 - XXX 2017 (3 months)&quot;\n    },\n    {\n        &quot;jobRole&quot;: &quot;r&quot;,\n        &quot;company&quot;: &quot;Company 3&quot;,\n        &quot;timePeriod&quot;: &quot;XXX 2016 - XXX 2016 (9 months)&quot;\n    },\n    {\n        &quot;jobRole&quot;: &quot;a&quot;,\n        &quot;company&quot;: &quot;Company2&quot;,\n        &quot;timePeriod&quot;: &quot;XXX 2014 - XXX 2015 (10 months)&quot;\n    },\n    {\n        &quot;jobRole&quot;: &quot;i&quot;,\n        &quot;company&quot;: &quot;Company1&quot;,\n        &quot;timePeriod&quot;: &quot;XXX 2014 - XXX 2014 (7 months)&quot;\n    }\n</code></pre>\n"},{"tags":["java","ssl","keystore"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1631653425,"post_id":69184456,"comment_id":122279943,"body_markdown":"Did you set `javax.net.ssl.keyStorePassword` too?","body":"Did you set <code>javax.net.ssl.keyStorePassword</code> too?"},{"owner":{"account_id":16532427,"reputation":31,"user_id":11945303,"display_name":"Anuj Kumar"},"score":0,"creation_date":1631653536,"post_id":69184456,"comment_id":122279974,"body_markdown":"Yes, I added the password too","body":"Yes, I added the password too"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631657548,"post_id":69184456,"comment_id":122280913,"body_markdown":"At what point did you set the system property? It may already have been read: they are only read once and stored in variables. Conversely the container may be setting it after you. You need to use the custom SSL context.","body":"At what point did you set the system property? It may already have been read: they are only read once and stored in variables. Conversely the container may be setting it after you. You need to use the custom SSL context."},{"owner":{"account_id":16532427,"reputation":31,"user_id":11945303,"display_name":"Anuj Kumar"},"score":0,"creation_date":1631683740,"post_id":69184456,"comment_id":122285054,"body_markdown":"@user207421 I specified the system properties via command line as -Djavax.net.ssl.keyStore=somepath -Djavax.net.ssl.keyStorePassword=pwd","body":"@user207421 I specified the system properties via command line as -Djavax.net.ssl.keyStore=somepath -Djavax.net.ssl.keyStorePassword=pwd"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1631684314,"post_id":69184456,"comment_id":122285171,"body_markdown":"OK well I think you&#39;re going to have to stick to the custom code. In the nature of things the container is entitled to do whatever it likes about system properties.","body":"OK well I think you&#39;re going to have to stick to the custom code. In the nature of things the container is entitled to do whatever it likes about system properties."},{"owner":{"account_id":2932924,"reputation":405,"user_id":2512629,"display_name":"Vincent Guyard"},"score":0,"creation_date":1648704143,"post_id":69184456,"comment_id":126692984,"body_markdown":"I have the same problem, could you solved it?","body":"I have the same problem, could you solved it?"}],"answers":[{"tags":[],"owner":{"account_id":13013343,"reputation":113,"user_id":9405542,"display_name":"Diarmuid Leonard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680089422,"creation_date":1680089422,"answer_id":75876620,"question_id":69184456,"body_markdown":"I had the same issue when the server&#39;s truststore was incorrect.  Prior to the above SSL client logs were &#39;No X.509 cert selected for RSA&#39; and &#39;No available authentication scheme&#39;. Prior to that was the biggest clue - &quot;certificate authorities&quot; in the CertificateRequest contained only the CN for the server&#39;s cert - not the server&#39;s CN for its CA.\r\n\r\nSee also https://stackoverflow.com/questions/9299133/why-doesnt-java-send-the-client-certificate-during-ssl-handshake","title":"No X.509 certificate for client authentication SSL issue in java","body":"<p>I had the same issue when the server's truststore was incorrect.  Prior to the above SSL client logs were 'No X.509 cert selected for RSA' and 'No available authentication scheme'. Prior to that was the biggest clue - &quot;certificate authorities&quot; in the CertificateRequest contained only the CN for the server's cert - not the server's CN for its CA.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/9299133/why-doesnt-java-send-the-client-certificate-during-ssl-handshake\">why doesn&#39;t java send the client certificate during SSL handshake?</a></p>\n"}],"owner":{"account_id":16532427,"reputation":31,"user_id":11945303,"display_name":"Anuj Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6931,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680089422,"creation_date":1631653136,"question_id":69184456,"body_markdown":"I&#39;m working on a server in a distributed application that has browser clients and also participates in server-to-server communication with a 3rd party. My server has a CA-signed certificate to let my clients connect using TLS (SSL) communication using HTTP/S and XMPP(secure). That&#39;s all working fine.\r\n\r\nNow I need to securely connect to a 3rd party server. In this communication, my server acts as client and I&#39;ve a client certificate signed by the 3rd party.\r\n\r\nThe issue is when I tried adding the client certificates that I got from the 3rd party server and using the standard system configuration (-Djavax.net.ssl.keyStore=xyz). I get a &quot;No X.509 certificate for client authentication&quot; error in the debug log for SSL.\r\n\r\n```\r\njavax.net.ssl|FINE|01|main|2021-09-15 02:07:40.538 IST|CertificateMessage.java:297|No X.509 certificate for client authentication, use empty Certificate message instead\r\njavax.net.ssl|FINE|01|main|2021-09-15 02:07:40.538 IST|CertificateMessage.java:328|Produced client Certificate handshake message (\r\n&quot;Certificates&quot;: &lt;empty list&gt;\r\n)\r\n```\r\n\r\nBut when I use a custom SSL context with the same keystore, it works fine. Following is the code for the same.\r\n```\r\n                String keystorePath = &quot;keystorePath&quot;;\r\n                String keystorePassword = &quot;changeit&quot;;\r\n\r\n                // Make a KeyStore from the JKS file\r\n                KeyStore ks = null;\r\n                try {\r\n                    ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n                } catch (KeyStoreException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try (\r\n                    FileInputStream fis = new FileInputStream(keystorePath)) {\r\n                    ks.load(fis, keystorePassword.toCharArray());\r\n                }\r\n\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                tmf.init(ks);\r\n\r\n                // Make a KeyManagerFactory from the KeyStore\r\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                kmf.init(ks, keystorePassword.toCharArray());\r\n\r\n                // Get hold of the default trust manager\r\n                X509TrustManager x509Tm = null;\r\n                for (TrustManager tm : tmf.getTrustManagers()) {\r\n                    if (tm instanceof X509TrustManager) {\r\n                        x509Tm = (X509TrustManager) tm;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // Now make an SSL Context with our Key Manager and the default Trust Manager\r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(kmf.getKeyManagers(), null, null);\r\n                return okHttpClient.newBuilder()\r\n                        .sslSocketFactory(sslContext.getSocketFactory(), x509Tm)\r\n                        .connectTimeout(10000, TimeUnit.MILLISECONDS)\r\n                        .readTimeout(10000, TimeUnit.MILLISECONDS)\r\n                        .build();\r\n```\r\n \r\nI want to use only the standard system configuration for keystore and not the custom SSL context.","title":"No X.509 certificate for client authentication SSL issue in java","body":"<p>I'm working on a server in a distributed application that has browser clients and also participates in server-to-server communication with a 3rd party. My server has a CA-signed certificate to let my clients connect using TLS (SSL) communication using HTTP/S and XMPP(secure). That's all working fine.</p>\n<p>Now I need to securely connect to a 3rd party server. In this communication, my server acts as client and I've a client certificate signed by the 3rd party.</p>\n<p>The issue is when I tried adding the client certificates that I got from the 3rd party server and using the standard system configuration (-Djavax.net.ssl.keyStore=xyz). I get a &quot;No X.509 certificate for client authentication&quot; error in the debug log for SSL.</p>\n<pre><code>javax.net.ssl|FINE|01|main|2021-09-15 02:07:40.538 IST|CertificateMessage.java:297|No X.509 certificate for client authentication, use empty Certificate message instead\njavax.net.ssl|FINE|01|main|2021-09-15 02:07:40.538 IST|CertificateMessage.java:328|Produced client Certificate handshake message (\n&quot;Certificates&quot;: &lt;empty list&gt;\n)\n</code></pre>\n<p>But when I use a custom SSL context with the same keystore, it works fine. Following is the code for the same.</p>\n<pre><code>                String keystorePath = &quot;keystorePath&quot;;\n                String keystorePassword = &quot;changeit&quot;;\n\n                // Make a KeyStore from the JKS file\n                KeyStore ks = null;\n                try {\n                    ks = KeyStore.getInstance(&quot;JKS&quot;);\n                } catch (KeyStoreException e) {\n                    e.printStackTrace();\n                }\n                try (\n                    FileInputStream fis = new FileInputStream(keystorePath)) {\n                    ks.load(fis, keystorePassword.toCharArray());\n                }\n\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n                tmf.init(ks);\n\n                // Make a KeyManagerFactory from the KeyStore\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n                kmf.init(ks, keystorePassword.toCharArray());\n\n                // Get hold of the default trust manager\n                X509TrustManager x509Tm = null;\n                for (TrustManager tm : tmf.getTrustManagers()) {\n                    if (tm instanceof X509TrustManager) {\n                        x509Tm = (X509TrustManager) tm;\n                        break;\n                    }\n                }\n\n                // Now make an SSL Context with our Key Manager and the default Trust Manager\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n                sslContext.init(kmf.getKeyManagers(), null, null);\n                return okHttpClient.newBuilder()\n                        .sslSocketFactory(sslContext.getSocketFactory(), x509Tm)\n                        .connectTimeout(10000, TimeUnit.MILLISECONDS)\n                        .readTimeout(10000, TimeUnit.MILLISECONDS)\n                        .build();\n</code></pre>\n<p>I want to use only the standard system configuration for keystore and not the custom SSL context.</p>\n"},{"tags":["java","jdbc","hana"],"comments":[{"owner":{"account_id":4273138,"reputation":1388,"user_id":3494492,"accept_rate":83,"display_name":"kiwixz"},"score":0,"creation_date":1412282193,"post_id":26169190,"comment_id":41027816,"body_markdown":"The only idea i have would be to search for the number 10 in your code...","body":"The only idea i have would be to search for the number 10 in your code..."},{"owner":{"account_id":546235,"reputation":1379,"user_id":1648895,"accept_rate":93,"display_name":"Oleg Dulin"},"score":0,"creation_date":1412282675,"post_id":26169190,"comment_id":41028043,"body_markdown":"The error is not coming from my code...","body":"The error is not coming from my code..."}],"answers":[{"tags":[],"owner":{"account_id":3602099,"reputation":126,"user_id":3005200,"display_name":"user3005200"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1412363550,"creation_date":1412361058,"answer_id":26184679,"question_id":26169190,"body_markdown":"Judging by the stack trace references to the AuthenticationManager, are you positive your user name and password are correct? Also the method name putBigUnicode on the stacktrace makes me think there might be  some invalid character like a “ in there","title":"Why would I be getting an java.lang.ArrayIndexOutOfBoundsException from SAP HANA JDBC Driver?","body":"<p>Judging by the stack trace references to the AuthenticationManager, are you positive your user name and password are correct? Also the method name putBigUnicode on the stacktrace makes me think there might be  some invalid character like a “ in there</p>\n"}],"owner":{"account_id":546235,"reputation":1379,"user_id":1648895,"accept_rate":93,"display_name":"Oleg Dulin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26184679,"answer_count":1,"score":1,"last_activity_date":1680089417,"creation_date":1412281989,"question_id":26169190,"body_markdown":"I am configuring my connection pool as follows:\r\n\r\n    dataSource = new BasicDataSource();\r\n    dataSource.setUrl(&quot;jdbc:sap://********:30015&quot;);\r\n    dataSource.setDriverClassName(&quot;com.sap.db.jdbc.Driver&quot;);\r\n    dataSource.setMaxActive(20);\r\n    dataSource.setMaxIdle(0);\r\n    dataSource.setMaxIdle(0);\r\n    dataSource.setUsername(&quot;*******&quot;);\r\n    dataSource.setPassword(&quot;*******&quot;);\r\n\r\nHowever, when the connection gets initialized, I get this exception:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: 10\r\n            at com.sap.db.util.StructuredBytes.putBigUnicode(StructuredBytes.java:568)\r\n            at com.sap.db.util.MemIndirection.putBigUnicode(MemIndirection.java:186)\r\n            at com.sap.db.jdbc.packet.DataPartAuthentication.putBigUnicode(DataPartAuthentication.java:192)\r\n            at com.sap.db.util.security.AuthenticationManager.addClientProofPart(AuthenticationManager.java:139)\r\n            at com.sap.db.util.security.AbstractAuthenticationManager.connect(AbstractAuthenticationManager.java:39)\r\n            at com.sap.db.jdbc.ConnectionSapDB.openSession(ConnectionSapDB.java:586)\r\n            at com.sap.db.jdbc.ConnectionSapDB.doConnect(ConnectionSapDB.java:436)\r\n            at com.sap.db.jdbc.ConnectionSapDB.&lt;init&gt;(ConnectionSapDB.java:195)\r\n            at com.sap.db.jdbc.ConnectionSapDBFinalize.&lt;init&gt;(ConnectionSapDBFinalize.java:13)\r\n            at com.sap.db.jdbc.Driver.connect(Driver.java:255)\r\n            at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n            at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n            at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\r\n            at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\r\n            at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\r\n            at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n\r\nAs you can see the exception is deep in SAP HANA JDBC Driver code, not my code. But I also don&#39;t understand what I could possibly be doing wrong in this situation ?\r\n\r\nAny help and suggestions on how to debug this are greatly appreciated.\r\n","title":"Why would I be getting an java.lang.ArrayIndexOutOfBoundsException from SAP HANA JDBC Driver?","body":"<p>I am configuring my connection pool as follows:</p>\n\n<pre><code>dataSource = new BasicDataSource();\ndataSource.setUrl(\"jdbc:sap://********:30015\");\ndataSource.setDriverClassName(\"com.sap.db.jdbc.Driver\");\ndataSource.setMaxActive(20);\ndataSource.setMaxIdle(0);\ndataSource.setMaxIdle(0);\ndataSource.setUsername(\"*******\");\ndataSource.setPassword(\"*******\");\n</code></pre>\n\n<p>However, when the connection gets initialized, I get this exception:</p>\n\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: 10\n        at com.sap.db.util.StructuredBytes.putBigUnicode(StructuredBytes.java:568)\n        at com.sap.db.util.MemIndirection.putBigUnicode(MemIndirection.java:186)\n        at com.sap.db.jdbc.packet.DataPartAuthentication.putBigUnicode(DataPartAuthentication.java:192)\n        at com.sap.db.util.security.AuthenticationManager.addClientProofPart(AuthenticationManager.java:139)\n        at com.sap.db.util.security.AbstractAuthenticationManager.connect(AbstractAuthenticationManager.java:39)\n        at com.sap.db.jdbc.ConnectionSapDB.openSession(ConnectionSapDB.java:586)\n        at com.sap.db.jdbc.ConnectionSapDB.doConnect(ConnectionSapDB.java:436)\n        at com.sap.db.jdbc.ConnectionSapDB.&lt;init&gt;(ConnectionSapDB.java:195)\n        at com.sap.db.jdbc.ConnectionSapDBFinalize.&lt;init&gt;(ConnectionSapDBFinalize.java:13)\n        at com.sap.db.jdbc.Driver.connect(Driver.java:255)\n        at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n        at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n        at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\n        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n</code></pre>\n\n<p>As you can see the exception is deep in SAP HANA JDBC Driver code, not my code. But I also don't understand what I could possibly be doing wrong in this situation ?</p>\n\n<p>Any help and suggestions on how to debug this are greatly appreciated.</p>\n"},{"tags":["java","ruby-on-rails","encryption","aes"],"comments":[{"owner":{"account_id":8682,"reputation":16007,"user_id":15754,"display_name":"dbugger"},"score":0,"creation_date":1680090321,"post_id":75876572,"comment_id":133837246,"body_markdown":"secret_key_generation method looks suspect. why are you building a string of integers and passing to from_byte_array_to_base64","body":"secret_key_generation method looks suspect. why are you building a string of integers and passing to from_byte_array_to_base64"},{"owner":{"account_id":27654944,"reputation":1,"user_id":21109048,"display_name":"shaik praveen"},"score":0,"creation_date":1680180810,"post_id":75876572,"comment_id":133856667,"body_markdown":"I am trying to get exact output like java.In order to get the output like StringUtil.fromByteArrayToBase64((key).getBytes())) I used the do loop.I tried without do loop also but it also failed","body":"I am trying to get exact output like java.In order to get the output like StringUtil.fromByteArrayToBase64((key).getBytes())) I used the do loop.I tried without do loop also but it also failed"},{"owner":{"account_id":8682,"reputation":16007,"user_id":15754,"display_name":"dbugger"},"score":0,"creation_date":1680180949,"post_id":75876572,"comment_id":133856711,"body_markdown":"A string of concatenated integers is not an array -- will never work as you expect.  Need to work through step by step.","body":"A string of concatenated integers is not an array -- will never work as you expect.  Need to work through step by step."}],"owner":{"account_id":27654944,"reputation":1,"user_id":21109048,"display_name":"shaik praveen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680089301,"creation_date":1680089171,"question_id":75876572,"body_markdown":"I am trying to convert some code from java to ruby but its not working properly.I am trying to encrypt a string in ruby using Cipher with AES algorithm\r\n\r\n    \r\n```\r\npublic String encryptData(String data, String requestorId, String encryptionKey) throws  InvalidKeyException, NoSuchAlgorithmException,NoSuchPaddingException, IllegalBlockSizeException, BadPaddingException, InvalidAlgorithmParameterException\r\n{\r\n    String encryptedData = data;\r\n    SecretKey secretKey1 = secretKeyGeneration(requestorId, encryptionKey,&quot;AES&quot;, 256);\r\n    byte[] encrytedString1 = encrypt(secretKey1, data);\r\n    encryptedData = StringUtil.fromByteArrayToBase64(encrytedString1);\t\t\r\n    return encryptedData;\r\n}\r\n\r\n public static SecretKey secretKeyGeneration(String requestor, String key, String algo, Integer size)\r\n{\r\n    NAPISecretKey napiSecretKey = new NAPISecretKey();\r\n    napiSecretKey.setAlgorithm(algo);\r\n    napiSecretKey.setKey(StringUtil.fromByteArrayToBase64((key).getBytes()));\r\n    napiSecretKey.setSize(size);\r\n \treturn decodeSecretKey(napiSecretKey.getKey(), napiSecretKey.getAlgorithm());\r\n}\r\n\r\npublic static SecretKey decodeSecretKey(String key, String algo)\r\n{\r\n    if (&quot;AES&quot;.equals(algo)) {\r\n    \treturn new SecretKeySpec(StringUtil.fromBase64ToByteArray(key), algo);}\r\n\telse {\r\n    \tthrow new UnsupportedOperationException(algo + &quot; is not supported&quot;);}\r\n}\r\n\r\npublic class NAPISecretKey {\r\n\tprivate\tString\talgorithm;\t\r\n    private\tint\tsize;\r\n    private\tString\tkey;\r\n    public String getAlgorithm() {\r\n    \treturn algorithm;}\r\n    public void setAlgorithm(String algorithm) {\r\n    this.algorithm = algorithm;}\r\n    public int getSize() {\r\n    return size;}\r\n    public void setSize(int size) {\r\n    this.size = size;}\r\n    public String getKey() {\r\n    return key;}\r\n    public void setKey(String key) {\r\n    this.key = key;}\r\n}\r\n\r\npublic static byte\\[\\] encrypt(SecretKey secretKey, String plaintext) throws InvalidKeyException, NoSuchAlgorithmException, NoSuchPaddingException, IllegalBlockSizeException,\r\nBadPaddingException, InvalidAlgorithmParameterException\r\n{\r\n    return encrypt(secretKey, StringUtil.fromStringToByteArray(plaintext));\r\n}\r\npublic static byte\\[\\] encrypt(SecretKey secretKey, byte\\[\\] plaintext) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,IllegalBlockSizeException,BadPaddingException, InvalidAlgorithmParameterException\r\n{\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(new byte\\[16\\]));\r\n    return cipher.doFinal(plaintext);\r\n}\r\n\r\nimport java.nio.charset.Charset;\r\nimport java.util.Base64;\r\nimport java.util.Base64.Decoder;\r\nimport java.util.Base64.Encoder;\r\n\r\npublic class StringUtil {\r\n\tprivate\tstatic\tCharset\tcharset;\r\n\tprivate StringUtil() {\r\n\t\tsuper();\r\n\t}\r\n\tstatic {\r\n\t\tcharset=Charset.forName(&quot;UTF-8&quot;);\r\n\t}\r\n\tpublic\tstatic\tbyte[]\tfromBase64ToByteArray(String data) {\r\n\t\tDecoder\tdecoder=Base64.getDecoder();\r\n\t\treturn\tdecoder.decode(fromStringToByteArray(data));\r\n\t}\r\n\tpublic\tstatic\tString\tfromByteArrayToBase64(byte[]\tdata) {\r\n\t\tEncoder\tencoder=Base64.getEncoder();\r\n\t\treturn\tencoder.encodeToString(data);\r\n\t}\r\n\tpublic\tstatic\tbyte[]\tfromStringToByteArray(String data) {\r\n\t\treturn\tdata.getBytes(charset);\r\n\t}\r\n\tpublic\tstatic\tString\tfromByteArrayToString(byte[] data) {\r\n\t\treturn\tnew String(data,charset);\r\n\t}\r\n}\r\n\r\n\r\n```\r\nthe ruby code is \r\n    \r\n```\r\ndef encrypt_data\r\n      encryption_key=&quot;12345678&quot;\r\n      requestor_id=&quot;IN000000&quot;\r\n      encrypted_data = params[:orderReqDtls] || request.headers[:orderReqDtls]\r\n      encrypted_data = @order_data if caller_locations.any? { |loc| loc.label == &#39;generate_json_order_data&#39; }\r\n      secret_key = secret_key_generation(requestor_id, encryption_key, &quot;AES&quot;, 256)\r\n      encrypted_string = encrypt(secret_key, encrypted_data)\r\n      encrypted_data = Base64.strict_encode64(encrypted_string)\r\n      return render json: {data:encrypted_data}\r\n    end\r\n\r\n    def secret_key_generation(requestor, key, algo, size)\r\n      napi_secret_key = NAPISecretKey.new\r\n      napi_secret_key.algorithm = algo\r\n      base64_encoded_key = &quot;&quot;\r\n      key.bytes.each do |i|\r\n        base64_encoded_key+=i.to_s\r\n      end\r\n      napi_secret_key.key = from_byte_array_to_base64(base64_encoded_key)\r\n      napi_secret_key.size = size\r\n      return decode_secret_key(napi_secret_key.key,napi_secret_key.algorithm )\r\n    end\r\n\r\n    def decode_secret_key(key, algo)\r\n      if algo == &quot;AES&quot;\r\n        decodedKey = Base64.decode64(key)\r\n      else\r\n        raise &quot;#{algo} is not supported&quot;\r\n      end\r\n    end\r\n\r\n    def encrypt(secret_key, plaintext)\r\n      text=&quot;&quot;\r\n      plaintext.bytes.each do |i|\r\n        text+=i.to_s\r\n      end\r\n      cipher = OpenSSL::Cipher.new(&#39;AES-256-ECB&#39;)\r\n      cipher.encrypt\r\n      cipher.key = secret_key\r\n      cipher.iv = &quot;\\0&quot; * 16\r\n      encrypted_data = cipher.update(plaintext) + cipher.final\r\n    end\r\n```\r\n\r\nthe output encrypted code is different for both the cases for any given output.can you suggest me the changes in ruby to get the same output","title":"how to convert java to ruby","body":"<p>I am trying to convert some code from java to ruby but its not working properly.I am trying to encrypt a string in ruby using Cipher with AES algorithm</p>\n<pre><code>public String encryptData(String data, String requestorId, String encryptionKey) throws  InvalidKeyException, NoSuchAlgorithmException,NoSuchPaddingException, IllegalBlockSizeException, BadPaddingException, InvalidAlgorithmParameterException\n{\n    String encryptedData = data;\n    SecretKey secretKey1 = secretKeyGeneration(requestorId, encryptionKey,&quot;AES&quot;, 256);\n    byte[] encrytedString1 = encrypt(secretKey1, data);\n    encryptedData = StringUtil.fromByteArrayToBase64(encrytedString1);      \n    return encryptedData;\n}\n\n public static SecretKey secretKeyGeneration(String requestor, String key, String algo, Integer size)\n{\n    NAPISecretKey napiSecretKey = new NAPISecretKey();\n    napiSecretKey.setAlgorithm(algo);\n    napiSecretKey.setKey(StringUtil.fromByteArrayToBase64((key).getBytes()));\n    napiSecretKey.setSize(size);\n    return decodeSecretKey(napiSecretKey.getKey(), napiSecretKey.getAlgorithm());\n}\n\npublic static SecretKey decodeSecretKey(String key, String algo)\n{\n    if (&quot;AES&quot;.equals(algo)) {\n        return new SecretKeySpec(StringUtil.fromBase64ToByteArray(key), algo);}\n    else {\n        throw new UnsupportedOperationException(algo + &quot; is not supported&quot;);}\n}\n\npublic class NAPISecretKey {\n    private String  algorithm;  \n    private int size;\n    private String  key;\n    public String getAlgorithm() {\n        return algorithm;}\n    public void setAlgorithm(String algorithm) {\n    this.algorithm = algorithm;}\n    public int getSize() {\n    return size;}\n    public void setSize(int size) {\n    this.size = size;}\n    public String getKey() {\n    return key;}\n    public void setKey(String key) {\n    this.key = key;}\n}\n\npublic static byte\\[\\] encrypt(SecretKey secretKey, String plaintext) throws InvalidKeyException, NoSuchAlgorithmException, NoSuchPaddingException, IllegalBlockSizeException,\nBadPaddingException, InvalidAlgorithmParameterException\n{\n    return encrypt(secretKey, StringUtil.fromStringToByteArray(plaintext));\n}\npublic static byte\\[\\] encrypt(SecretKey secretKey, byte\\[\\] plaintext) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,IllegalBlockSizeException,BadPaddingException, InvalidAlgorithmParameterException\n{\n    Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(new byte\\[16\\]));\n    return cipher.doFinal(plaintext);\n}\n\nimport java.nio.charset.Charset;\nimport java.util.Base64;\nimport java.util.Base64.Decoder;\nimport java.util.Base64.Encoder;\n\npublic class StringUtil {\n    private static  Charset charset;\n    private StringUtil() {\n        super();\n    }\n    static {\n        charset=Charset.forName(&quot;UTF-8&quot;);\n    }\n    public  static  byte[]  fromBase64ToByteArray(String data) {\n        Decoder decoder=Base64.getDecoder();\n        return  decoder.decode(fromStringToByteArray(data));\n    }\n    public  static  String  fromByteArrayToBase64(byte[]    data) {\n        Encoder encoder=Base64.getEncoder();\n        return  encoder.encodeToString(data);\n    }\n    public  static  byte[]  fromStringToByteArray(String data) {\n        return  data.getBytes(charset);\n    }\n    public  static  String  fromByteArrayToString(byte[] data) {\n        return  new String(data,charset);\n    }\n}\n\n\n</code></pre>\n<p>the ruby code is</p>\n<pre><code>def encrypt_data\n      encryption_key=&quot;12345678&quot;\n      requestor_id=&quot;IN000000&quot;\n      encrypted_data = params[:orderReqDtls] || request.headers[:orderReqDtls]\n      encrypted_data = @order_data if caller_locations.any? { |loc| loc.label == 'generate_json_order_data' }\n      secret_key = secret_key_generation(requestor_id, encryption_key, &quot;AES&quot;, 256)\n      encrypted_string = encrypt(secret_key, encrypted_data)\n      encrypted_data = Base64.strict_encode64(encrypted_string)\n      return render json: {data:encrypted_data}\n    end\n\n    def secret_key_generation(requestor, key, algo, size)\n      napi_secret_key = NAPISecretKey.new\n      napi_secret_key.algorithm = algo\n      base64_encoded_key = &quot;&quot;\n      key.bytes.each do |i|\n        base64_encoded_key+=i.to_s\n      end\n      napi_secret_key.key = from_byte_array_to_base64(base64_encoded_key)\n      napi_secret_key.size = size\n      return decode_secret_key(napi_secret_key.key,napi_secret_key.algorithm )\n    end\n\n    def decode_secret_key(key, algo)\n      if algo == &quot;AES&quot;\n        decodedKey = Base64.decode64(key)\n      else\n        raise &quot;#{algo} is not supported&quot;\n      end\n    end\n\n    def encrypt(secret_key, plaintext)\n      text=&quot;&quot;\n      plaintext.bytes.each do |i|\n        text+=i.to_s\n      end\n      cipher = OpenSSL::Cipher.new('AES-256-ECB')\n      cipher.encrypt\n      cipher.key = secret_key\n      cipher.iv = &quot;\\0&quot; * 16\n      encrypted_data = cipher.update(plaintext) + cipher.final\n    end\n</code></pre>\n<p>the output encrypted code is different for both the cases for any given output.can you suggest me the changes in ruby to get the same output</p>\n"},{"tags":["java","import","automation","intellij-idea"],"comments":[{"owner":{"account_id":1796566,"reputation":929,"user_id":1635855,"accept_rate":83,"display_name":"Wuaner"},"score":29,"creation_date":1463336065,"post_id":12585253,"comment_id":62012828,"body_markdown":"`ctrl + alt + l` will send my pc to sleep..LOL. linux btw.","body":"<code>ctrl + alt + l</code> will send my pc to sleep..LOL. linux btw."},{"owner":{"account_id":2863665,"reputation":5360,"user_id":2458372,"accept_rate":68,"display_name":"JavaDeveloper"},"score":29,"creation_date":1485874557,"post_id":12585253,"comment_id":71099971,"body_markdown":"alt + control + o   : works best on Mac","body":"alt + control + o   : works best on Mac"},{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":0,"creation_date":1488905982,"post_id":12585253,"comment_id":72433947,"body_markdown":"@Wuaner you can disable it through  `All Settings` =&gt; `Keyboards` =&gt; `Shortcuts` . By the way &lt;kbd&gt;ctrl&lt;/kbd&gt; &lt;kbd&gt;alt&lt;/kbd&gt;  &lt;kbd&gt;l&lt;/kbd&gt;  is used to format the code in `Intellij`","body":"@Wuaner you can disable it through  <code>All Settings</code> =&gt; <code>Keyboards</code> =&gt; <code>Shortcuts</code> . By the way &lt;kbd&gt;ctrl&lt;/kbd&gt; &lt;kbd&gt;alt&lt;/kbd&gt;  &lt;kbd&gt;l&lt;/kbd&gt;  is used to format the code in <code>Intellij</code>"},{"owner":{"account_id":1924499,"reputation":769,"user_id":1735269,"accept_rate":40,"display_name":"somshivam"},"score":2,"creation_date":1550063036,"post_id":12585253,"comment_id":96131517,"body_markdown":"alt + control + o working in windows + IDEA","body":"alt + control + o working in windows + IDEA"},{"owner":{"account_id":65943,"reputation":3325,"user_id":193744,"display_name":"Sebastian Juarez"},"score":0,"creation_date":1641507869,"post_id":12585253,"comment_id":124829080,"body_markdown":"Mac: option + control + o","body":"Mac: option + control + o"}],"answers":[{"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":6,"creation_date":1348584069,"post_id":12585304,"comment_id":16959157,"body_markdown":"You can also set the option for &quot;Optimize imports on the fly&quot;, under the `Editor &gt; Auto Import` section","body":"You can also set the option for &quot;Optimize imports on the fly&quot;, under the <code>Editor &gt; Auto Import</code> section"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1348584212,"post_id":12585304,"comment_id":16959222,"body_markdown":"That is cool, but can drive you crazy if it imports the wrong class.","body":"That is cool, but can drive you crazy if it imports the wrong class."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":3,"creation_date":1348584250,"post_id":12585304,"comment_id":16959246,"body_markdown":"that is what the second option for &quot;Add unambiguous imports on the fly&quot; is for :) You can disable the first and only enable the unambiguous setting.","body":"that is what the second option for &quot;Add unambiguous imports on the fly&quot; is for :) You can disable the first and only enable the unambiguous setting."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1348584458,"post_id":12585304,"comment_id":16959358,"body_markdown":"True, but sometimes you use a class which is fine in one module but isn&#39;t in the dependencies of another and you end up including something under `com.sun.*` or `sun.*`","body":"True, but sometimes you use a class which is fine in one module but isn&#39;t in the dependencies of another and you end up including something under <code>com.sun.*</code> or <code>sun.*</code>"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1348584785,"post_id":12585304,"comment_id":16959498,"body_markdown":"Not sure if I follow what you mean, but both settings will only add imports for classes on the classpath. You can configure classes or packages to be excluded from automatic import also.","body":"Not sure if I follow what you mean, but both settings will only add imports for classes on the classpath. You can configure classes or packages to be excluded from automatic import also."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1348585348,"post_id":12585304,"comment_id":16959777,"body_markdown":"This is true, but it much easier to do this when there is multiple options. When there is automatically one choice, its trickier to find how to exclude a package.","body":"This is true, but it much easier to do this when there is multiple options. When there is automatically one choice, its trickier to find how to exclude a package."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":1,"up_vote_count":119,"is_accepted":true,"score":118,"last_activity_date":1348583835,"creation_date":1348583835,"answer_id":12585304,"question_id":12585253,"body_markdown":"When you commit, tick the `Optimize imports` option on the right.  This will become the default until you change it.\r\n\r\nI prefer using the `Reformat code` option as well.","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>When you commit, tick the <code>Optimize imports</code> option on the right.  This will become the default until you change it.</p>\n\n<p>I prefer using the <code>Reformat code</code> option as well.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1348585006,"creation_date":1348584056,"answer_id":12585362,"question_id":12585253,"body_markdown":"You can check checkbox in the commit dialog.\r\n\r\n![enter image description here][1]\r\n\r\nYou can use settings to automatically optimize imports since 11.1 and above.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/F3Onx.png\r\n  [2]: http://i.stack.imgur.com/1OsZA.png","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>You can check checkbox in the commit dialog.</p>\n\n<p><img src=\"https://i.stack.imgur.com/F3Onx.png\" alt=\"enter image description here\"></p>\n\n<p>You can use settings to automatically optimize imports since 11.1 and above.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1OsZA.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":936266,"reputation":16127,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"score":19,"creation_date":1508457373,"post_id":30634421,"comment_id":80628813,"body_markdown":"I just tried and it does not remove unused imports (on IDEA 2017.2.4)","body":"I just tried and it does not remove unused imports (on IDEA 2017.2.4)"},{"owner":{"account_id":4965399,"reputation":1444,"user_id":3994927,"display_name":"Matilda Smeds"},"score":1,"creation_date":1605091791,"post_id":30634421,"comment_id":114544214,"body_markdown":"For me its Preferences &gt; Editor &gt; General &gt; Auto Import, and check the &quot;Optimize imports on the fly&quot;. It works. I&#39;m using IntelliJ IDEA 2020.1.4","body":"For me its Preferences &gt; Editor &gt; General &gt; Auto Import, and check the &quot;Optimize imports on the fly&quot;. It works. I&#39;m using IntelliJ IDEA 2020.1.4"}],"tags":[],"owner":{"account_id":410608,"reputation":25367,"user_id":782535,"accept_rate":100,"display_name":"Madan Sapkota"},"comment_count":2,"down_vote_count":1,"up_vote_count":170,"is_accepted":false,"score":169,"last_activity_date":1505373851,"creation_date":1433388332,"answer_id":30634421,"question_id":12585253,"body_markdown":"If you are using IntelliJ IDEA or Android Studio:\r\n\r\n![Android optimize imports][1]\r\n\r\nGo to **Settings &lt;kbd&gt;&gt;&lt;/kbd&gt; Editor &lt;kbd&gt;&gt;&lt;/kbd&gt; General &lt;kbd&gt;&gt;&lt;/kbd&gt;Auto Import** and check the **Optimize imports on the fly** checkbox.\r\n\r\n  [1]: http://i.stack.imgur.com/0k4Pv.png","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>If you are using IntelliJ IDEA or Android Studio:</p>\n\n<p><img src=\"https://i.stack.imgur.com/0k4Pv.png\" alt=\"Android optimize imports\"></p>\n\n<p>Go to <strong>Settings <kbd>></kbd> Editor <kbd>></kbd> General <kbd>></kbd>Auto Import</strong> and check the <strong>Optimize imports on the fly</strong> checkbox.</p>\n"},{"tags":[],"owner":{"account_id":1083817,"reputation":1146,"user_id":1080033,"accept_rate":47,"display_name":"Artur Owczarek"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1456138353,"creation_date":1456138353,"answer_id":35551716,"question_id":12585253,"body_markdown":"**Choose the project/module** you want to remove unused import from in Project view. Then from **Code** menu choose **Optimize imports** and confirm with **Run**. The imports will be cleaned in whole project/module.","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p><strong>Choose the project/module</strong> you want to remove unused import from in Project view. Then from <strong>Code</strong> menu choose <strong>Optimize imports</strong> and confirm with <strong>Run</strong>. The imports will be cleaned in whole project/module.</p>\n"},{"comments":[{"owner":{"account_id":5332911,"reputation":983,"user_id":4252996,"accept_rate":92,"display_name":"mondayguy"},"score":8,"creation_date":1519723564,"post_id":45577804,"comment_id":85014858,"body_markdown":"and ctrl+alt+o for Windows","body":"and ctrl+alt+o for Windows"},{"owner":{"account_id":3845267,"reputation":1033,"user_id":3187019,"display_name":"PathToLife"},"score":7,"creation_date":1594330110,"post_id":45577804,"comment_id":111096904,"body_markdown":"Update for 2020. We use ctrl + option + o (macOS)","body":"Update for 2020. We use ctrl + option + o (macOS)"}],"tags":[],"owner":{"account_id":1902985,"reputation":1042,"user_id":1718442,"display_name":"Jay"},"comment_count":2,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1576059297,"creation_date":1502225419,"answer_id":45577804,"question_id":12585253,"body_markdown":"In Mac IntelliJ IDEA, the command is &lt;kbd&gt;Cmd&lt;/kbd&gt; + &lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; \r\n\r\nFor some older versions it is apparently &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt;.\r\n\r\n(Letter O not Zero 0) on the latest version 2019.x \r\n","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>In Mac IntelliJ IDEA, the command is <kbd>Cmd</kbd> + <kbd>Option</kbd> + <kbd>O</kbd> </p>\n\n<p>For some older versions it is apparently <kbd>Ctrl</kbd> + <kbd>Option</kbd> + <kbd>O</kbd>.</p>\n\n<p>(Letter O not Zero 0) on the latest version 2019.x </p>\n"},{"comments":[{"owner":{"account_id":1747780,"reputation":300,"user_id":1597560,"accept_rate":54,"display_name":"Chetan Nellekeri"},"score":4,"creation_date":1523615093,"post_id":46288978,"comment_id":86643719,"body_markdown":"Its Option+ **Control** +O","body":"Its Option+ <b>Control</b> +O"}],"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1525698054,"creation_date":1505773205,"answer_id":46288978,"question_id":12585253,"body_markdown":"In IntelliJ, select the project you want to optimize imports on, go to **Code** menu and choose **Optimize imports** and a small **Optimize Imports** popup window will appear. On the popup window you need to click on **Run** button. Or alternatively, on IntelliJ on Mac, you can use a keyboard short cut **&lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;Command&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt;**","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>In IntelliJ, select the project you want to optimize imports on, go to <strong>Code</strong> menu and choose <strong>Optimize imports</strong> and a small <strong>Optimize Imports</strong> popup window will appear. On the popup window you need to click on <strong>Run</strong> button. Or alternatively, on IntelliJ on Mac, you can use a keyboard short cut <strong><kbd>Option</kbd> + <kbd>Command</kbd> + <kbd>O</kbd></strong></p>\n"},{"tags":[],"owner":{"account_id":2783527,"reputation":1363,"user_id":2395542,"accept_rate":86,"display_name":"Damiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543856524,"creation_date":1543856524,"answer_id":53598420,"question_id":12585253,"body_markdown":"Or you can do the following shortcut :\r\n\r\n**MAC** : Shift + Command + A (Enter Action menu pops up)\r\n\r\nAnd write : `Optimize Imports`","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>Or you can do the following shortcut :</p>\n\n<p><strong>MAC</strong> : Shift + Command + A (Enter Action menu pops up)</p>\n\n<p>And write : <code>Optimize Imports</code></p>\n"},{"tags":[],"owner":{"account_id":9618872,"reputation":579,"user_id":7140730,"display_name":"Manimaran Samuthirapandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1565617621,"creation_date":1565617621,"answer_id":57462431,"question_id":12585253,"body_markdown":"In mac book\r\n\r\nIntelliJ\r\n\r\nControl + Option + o (not a zero, letter &quot;o&quot;)","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>In mac book</p>\n\n<p>IntelliJ</p>\n\n<p>Control + Option + o (not a zero, letter \"o\")</p>\n"},{"tags":[],"owner":{"account_id":4733,"reputation":7158,"user_id":7255,"accept_rate":100,"display_name":"Steve Pitchers"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568284025,"creation_date":1568284025,"answer_id":57904754,"question_id":12585253,"body_markdown":"`File/Settings/Inpsections/Imports` and change &quot;Unused import&quot; to Error.  This marks them more clearly in the Inspections gutter and the Inspection Results panel.","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p><code>File/Settings/Inpsections/Imports</code> and change \"Unused import\" to Error.  This marks them more clearly in the Inspections gutter and the Inspection Results panel.</p>\n"},{"tags":[],"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624964901,"creation_date":1624964901,"answer_id":68177563,"question_id":12585253,"body_markdown":"To remove the unused imports in windows. please use the default key combination below.\r\n\r\n**`CTRL + ALT + O    ---&gt; to remove the unused imports in windows.`**\r\n\r\nHowever, you can also change the keymap of **&quot;Optimize Imports&quot; in settings.**","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>To remove the unused imports in windows. please use the default key combination below.</p>\n<p><strong><code>CTRL + ALT + O    ---&gt; to remove the unused imports in windows.</code></strong></p>\n<p>However, you can also change the keymap of <strong>&quot;Optimize Imports&quot; in settings.</strong></p>\n"},{"tags":[],"owner":{"account_id":14346863,"reputation":51,"user_id":10363517,"display_name":"mustafa k&#252;&#231;&#252;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674840604,"creation_date":1674840604,"answer_id":75261461,"question_id":12585253,"body_markdown":"If you want to use &lt;code&gt;CTRL + Alt + L&lt;/code&gt; (remove unused imports while formatting code), you can use &lt;code&gt;CTRL + Alt + Shift + L&lt;/code&gt; (once) and there is a checkbox in the popup you should check\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6vFlm.png","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>If you want to use <code>CTRL + Alt + L</code> (remove unused imports while formatting code), you can use <code>CTRL + Alt + Shift + L</code> (once) and there is a checkbox in the popup you should check</p>\n<p><a href=\"https://i.stack.imgur.com/6vFlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vFlm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5949795,"reputation":305,"user_id":4681045,"display_name":"Josue Abarca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680088498,"creation_date":1680088498,"answer_id":75876476,"question_id":12585253,"body_markdown":"Now you also have the option to just search for unused imports\r\n\r\n - Code -&gt; Analyze Code -&gt; Run Inspection by Name.\r\n - Unused Import\r\n - Whole Project\r\n\r\nSource: https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code \r\n\r\n","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>Now you also have the option to just search for unused imports</p>\n<ul>\n<li>Code -&gt; Analyze Code -&gt; Run Inspection by Name.</li>\n<li>Unused Import</li>\n<li>Whole Project</li>\n</ul>\n<p>Source: <a href=\"https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code\">How to use IntelliJ IDEA to find all unused code?</a></p>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239292,"favorite_count":0,"down_vote_count":0,"up_vote_count":198,"accepted_answer_id":12585304,"answer_count":12,"score":198,"last_activity_date":1680088498,"creation_date":1348583670,"question_id":12585253,"body_markdown":"Is there a way to remove unused imports in Intellij IDEA on commit?\r\n\r\nIt is not very optimal to do it manually, &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; helps but it&#39;s still manual.","title":"How to remove unused imports in Intellij IDEA on commit?","body":"<p>Is there a way to remove unused imports in Intellij IDEA on commit?</p>\n\n<p>It is not very optimal to do it manually, <kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>O</kbd> helps but it's still manual.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3071095,"reputation":746,"user_id":2601742,"accept_rate":100,"display_name":"Dan Oak"},"score":1,"creation_date":1515781000,"post_id":47883931,"comment_id":83446123,"body_markdown":"Looks like it&#39;s a known issue (see https://github.com/rzwitserloot/lombok/issues/1347).","body":"Looks like it&#39;s a known issue (see <a href=\"https://github.com/rzwitserloot/lombok/issues/1347\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/1347</a>)."}],"answers":[{"comments":[{"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"score":4,"creation_date":1519818574,"post_id":47884368,"comment_id":85061912,"body_markdown":"Caution! Currently this `@Builder.Default` is broken from v1.16.16 = It will initialise your fields to `null` regardless of the specified default initialised value set at the field level... See [Issue here](https://github.com/rzwitserloot/lombok/issues/1347)","body":"Caution! Currently this <code>@Builder.Default</code> is broken from v1.16.16 = It will initialise your fields to <code>null</code> regardless of the specified default initialised value set at the field level... See <a href=\"https://github.com/rzwitserloot/lombok/issues/1347\" rel=\"nofollow noreferrer\">Issue here</a>"},{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"score":0,"creation_date":1526562300,"post_id":47884368,"comment_id":87800029,"body_markdown":"The solution is not perfect as you have two initialize the field twice. Once on field declaration, and the second time in a constructor. It makes the code error-prone. I used to use this one https://stackoverflow.com/a/50392165/2443502","body":"The solution is not perfect as you have two initialize the field twice. Once on field declaration, and the second time in a constructor. It makes the code error-prone. I used to use this one <a href=\"https://stackoverflow.com/a/50392165/2443502\">stackoverflow.com/a/50392165/2443502</a>"},{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":1,"creation_date":1544089047,"post_id":47884368,"comment_id":94155092,"body_markdown":"To make the code less error-prone, I&#39;ve added a JUnit test which verify that the no-arg constructor is well written : `assertThat(new UserInfo().equals(UserInfo.builder().build()).describedAs(&quot;some properties marked with @Builder.Default are not properly set in the no-arg constructor&quot;).isTrue();`","body":"To make the code less error-prone, I&#39;ve added a JUnit test which verify that the no-arg constructor is well written : <code>assertThat(new UserInfo().equals(UserInfo.builder().build()).describedAs(&quot;s&zwnj;&#8203;ome properties marked with @Builder.Default are not properly set in the no-arg constructor&quot;).isTrue();</code>"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1675877529,"post_id":47884368,"comment_id":133024183,"body_markdown":"After the fix you can use a generated constructor if you have one to make your explicit constructor work: `@NoArgsConstructor @Builder class UserInfo { @Builder.Default boolean isEmailConfirmed = true; UserInfo(String custom) { this(); restOfConstructor(); } }`","body":"After the fix you can use a generated constructor if you have one to make your explicit constructor work: <code>@NoArgsConstructor @Builder class UserInfo { @Builder.Default boolean isEmailConfirmed = true; UserInfo(String custom) { this(); restOfConstructor(); } }</code>"}],"tags":[],"owner":{"account_id":2067715,"reputation":2001,"user_id":1842905,"display_name":"Michael A. Schaffrath"},"comment_count":4,"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1610091069,"creation_date":1513677616,"answer_id":47884368,"question_id":47883931,"body_markdown":"My guess is that it&#39;s not possible (without having delomboked the code). But why don&#39;t you just implement the constructor you need? Lombok is meant to make your life easier, and if something won&#39;t work with Lombok, just do it the old fashioned way.\r\n\r\n    @Data\r\n\t@Builder\r\n\t@AllArgsConstructor\r\n\tpublic class UserInfo { \r\n\t    private int id;\r\n\t    private String nick;\r\n\t    @Builder.Default\r\n\t    private boolean isEmailConfirmed = true;\r\n\t    \r\n\t    public UserInfo(){\r\n\t    \tisEmailConfirmed = true;\r\n\t    }\r\n\t}\r\n\r\nConsole output:  \r\n\r\n    ui: true\r\n    ui2: true\r\n\r\n**Update**  \r\nAs of 01/2021, [this bug seems to be fixed in Lombok][1], at least for generated constructors. Note that there is still [a similar issue][2] when you mix `Builder.Default` and explicit constructors. \r\n\r\n\r\n  [1]: https://github.com/rzwitserloot/lombok/issues/1347\r\n  [2]: https://github.com/rzwitserloot/lombok/issues/2340","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>My guess is that it's not possible (without having delomboked the code). But why don't you just implement the constructor you need? Lombok is meant to make your life easier, and if something won't work with Lombok, just do it the old fashioned way.</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\npublic class UserInfo { \n    private int id;\n    private String nick;\n    @Builder.Default\n    private boolean isEmailConfirmed = true;\n    \n    public UserInfo(){\n        isEmailConfirmed = true;\n    }\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>ui: true\nui2: true\n</code></pre>\n<p><strong>Update</strong><br />\nAs of 01/2021, <a href=\"https://github.com/rzwitserloot/lombok/issues/1347\" rel=\"noreferrer\">this bug seems to be fixed in Lombok</a>, at least for generated constructors. Note that there is still <a href=\"https://github.com/rzwitserloot/lombok/issues/2340\" rel=\"noreferrer\">a similar issue</a> when you mix <code>Builder.Default</code> and explicit constructors.</p>\n"},{"comments":[{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"score":11,"creation_date":1539860338,"post_id":48924901,"comment_id":92658447,"body_markdown":"It is discouraged to have a logic in property based getters. Imagine the situation you want to add an additional method in the class, the method depends on the field (isEmailConfirmed). It can be confused for the implementor to use a field directly or call getter instead. The values can differ which may lead to bugs.","body":"It is discouraged to have a logic in property based getters. Imagine the situation you want to add an additional method in the class, the method depends on the field (isEmailConfirmed). It can be confused for the implementor to use a field directly or call getter instead. The values can differ which may lead to bugs."},{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1539917347,"post_id":48924901,"comment_id":92683418,"body_markdown":"@MarcinKłopotek Your point is good, but I feel that can be handle by using Deprecated annotation on that private field to restrict it using directly. Also, if I am the implementor of that class and i know i need an default value and i have written a code for it then obviously i should be knowing that i should not use that field directly for using it on some other logic method in that class.","body":"@MarcinKłopotek Your point is good, but I feel that can be handle by using Deprecated annotation on that private field to restrict it using directly. Also, if I am the implementor of that class and i know i need an default value and i have written a code for it then obviously i should be knowing that i should not use that field directly for using it on some other logic method in that class."},{"owner":{"account_id":2443056,"reputation":936,"user_id":2131040,"accept_rate":57,"display_name":"prash"},"score":2,"creation_date":1564152394,"post_id":48924901,"comment_id":100949168,"body_markdown":"@SahilChhabra Ambiguity is bad. Deprecated has a special purpose unless you want to make users of your code further confused. Lastly *assuming* that its &quot;your class&quot; and &quot;you should be knowing &quot; this field is not to be used etc. etc has another serious issue.. stick to the consistency and your code will show care to both future developers and its end users!","body":"@SahilChhabra Ambiguity is bad. Deprecated has a special purpose unless you want to make users of your code further confused. Lastly <i>assuming</i> that its &quot;your class&quot; and &quot;you should be knowing &quot; this field is not to be used etc. etc has another serious issue.. stick to the consistency and your code will show care to both future developers and its end users!"},{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1564164148,"post_id":48924901,"comment_id":100954391,"body_markdown":"@prash You can’t follow all the best practices everytime. Sometimes you have to deviate when using a buggy third party code. You can choose to not use the third party code at all or choose a work around by making sure that future developers are informed about the usage(here Deprecated can do that job well). It’s just a choice and opinion. I am happy that you have an opinion of your own. Also, I recommend you to read about Deprecated usage again - https://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/deprecation/deprecation.html","body":"@prash You can’t follow all the best practices everytime. Sometimes you have to deviate when using a buggy third party code. You can choose to not use the third party code at all or choose a work around by making sure that future developers are informed about the usage(here Deprecated can do that job well). It’s just a choice and opinion. I am happy that you have an opinion of your own. Also, I recommend you to read about Deprecated usage again - <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/javadoc/deprecation/deprecation.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/javadoc/&hellip;</a>"},{"owner":{"account_id":2443056,"reputation":936,"user_id":2131040,"accept_rate":57,"display_name":"prash"},"score":0,"creation_date":1564369045,"post_id":48924901,"comment_id":100994012,"body_markdown":"I believe @Marcin Kłopotek answer is better since initialization concerns should be handled once at the constructor and not meant for overriding at getters (glad it has got higher numbers of up-votes). I am not sure if you have worked on EJBs where this type of code would have caused other issues. Same goes for multi-threading scenarios. Best practices is just not my opinion - it is industry wide standards because developers should try and minimize ambiguity. Yes Deprecated is still a way to go and appreciate that you have shared the link at least some marker is better than nothing!","body":"I believe @Marcin Kłopotek answer is better since initialization concerns should be handled once at the constructor and not meant for overriding at getters (glad it has got higher numbers of up-votes). I am not sure if you have worked on EJBs where this type of code would have caused other issues. Same goes for multi-threading scenarios. Best practices is just not my opinion - it is industry wide standards because developers should try and minimize ambiguity. Yes Deprecated is still a way to go and appreciate that you have shared the link at least some marker is better than nothing!"},{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":2,"creation_date":1564381145,"post_id":48924901,"comment_id":100996381,"body_markdown":"@prash I agree his answer is better. I just gave another way of doing it. I agree it has issues like you mentioned, but that depends on the use-case. Also, I never said anything against Best Practices. I just said sometimes you can&#39;t follow every best practice (again depending on the use-case).","body":"@prash I agree his answer is better. I just gave another way of doing it. I agree it has issues like you mentioned, but that depends on the use-case. Also, I never said anything against Best Practices. I just said sometimes you can&#39;t follow every best practice (again depending on the use-case)."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1633069634,"post_id":48924901,"comment_id":122666487,"body_markdown":"Isn&#39;t this what `@Getter(lazy=true)` exists for?","body":"Isn&#39;t this what <code>@Getter(lazy=true)</code> exists for?"}],"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"comment_count":7,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1519294834,"creation_date":1519294834,"answer_id":48924901,"question_id":47883931,"body_markdown":"Another way is define your own **getter** method **overriding** the **lombok** getter:\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    public class UserInfo { \r\n        private int id;\r\n        private String nick;\r\n        private Boolean isEmailConfirmed;\r\n    \r\n        public Boolean getIsEmailConfirmed(){\r\n          return Objects.isNull(isEmailConfirmed) ? true : isEmailConfirmed;\r\n        }\r\n    }","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>Another way is define your own <strong>getter</strong> method <strong>overriding</strong> the <strong>lombok</strong> getter:</p>\n\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\npublic class UserInfo { \n    private int id;\n    private String nick;\n    private Boolean isEmailConfirmed;\n\n    public Boolean getIsEmailConfirmed(){\n      return Objects.isNull(isEmailConfirmed) ? true : isEmailConfirmed;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"score":2,"creation_date":1526563264,"post_id":50392165,"comment_id":87800746,"body_markdown":"Since Lombok has many quirks that when you are not aware of may bring a lot of headaches than benefits you can also try either Immutables (https://immutables.github.io) or Autovalue (https://github.com/google/auto/blob/master/value/userguide/builders.md).","body":"Since Lombok has many quirks that when you are not aware of may bring a lot of headaches than benefits you can also try either Immutables (<a href=\"https://immutables.github.io\" rel=\"nofollow noreferrer\">immutables.github.io</a>) or Autovalue (<a href=\"https://github.com/google/auto/blob/master/value/userguide/builders.md\" rel=\"nofollow noreferrer\">github.com/google/auto/blob/master/value/userguide/builders&zwnj;&#8203;.md</a>)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":3,"creation_date":1541439148,"post_id":50392165,"comment_id":93209170,"body_markdown":"All other tools have a single big disadvantage: They generate a new class. They have surely fewer problems as they&#39;re just annotation processors using a well-known (and ugly) API. Lombok has to work differently and it indeed has a few bugs. However, I&#39;m using it since its beginning and I&#39;m pretty happy with it.","body":"All other tools have a single big disadvantage: They generate a new class. They have surely fewer problems as they&#39;re just annotation processors using a well-known (and ugly) API. Lombok has to work differently and it indeed has a few bugs. However, I&#39;m using it since its beginning and I&#39;m pretty happy with it."},{"owner":{"account_id":46170,"reputation":674,"user_id":136298,"accept_rate":44,"display_name":"Simon Tower"},"score":0,"creation_date":1547154705,"post_id":50392165,"comment_id":95105475,"body_markdown":"The annotation isn&#39;t totally broken, but it has issues with non-primitive objects. The defaults are working for me with `Boolean` as of version `1.16.22`","body":"The annotation isn&#39;t totally broken, but it has issues with non-primitive objects. The defaults are working for me with <code>Boolean</code> as of version <code>1.16.22</code>"},{"owner":{"account_id":2816410,"reputation":4256,"user_id":2421349,"accept_rate":68,"display_name":"kibowki"},"score":1,"creation_date":1547788330,"post_id":50392165,"comment_id":95320307,"body_markdown":"For anyone who wants to know how to do this when you have `@Singular` annotations, check out this comment: https://github.com/rzwitserloot/lombok/issues/1347#issuecomment-455429294\n\nTLDR: Move your `@Singular` annotations into the newly created private constructor.","body":"For anyone who wants to know how to do this when you have <code>@Singular</code> annotations, check out this comment: <a href=\"https://github.com/rzwitserloot/lombok/issues/1347#issuecomment-455429294\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/&hellip;</a>  TLDR: Move your <code>@Singular</code> annotations into the newly created private constructor."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1583862511,"post_id":50392165,"comment_id":107253289,"body_markdown":"It does not appear to be broken any longer with the newest version of Lombok.","body":"It does not appear to be broken any longer with the newest version of Lombok."},{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"score":0,"creation_date":1657112479,"post_id":50392165,"comment_id":128731769,"body_markdown":"`@Builder.Default` [is still broken](https://github.com/projectlombok/lombok/issues/2340).","body":"<code>@Builder.Default</code> <a href=\"https://github.com/projectlombok/lombok/issues/2340\" rel=\"nofollow noreferrer\">is still broken</a>."}],"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":6,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1680088256,"creation_date":1526562123,"answer_id":50392165,"question_id":47883931,"body_markdown":"Since the [`@Builder.Default` annotation is broken][1], I wouldn&#39;t use it at all. You can, however, use the following approach by moving the `@Builder` annotation from class level to the custom constructor:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class UserInfo {\r\n        \r\n        private int id;\r\n        private String nick;\r\n        private boolean isEmailConfirmed = true;\r\n    \r\n        @Builder\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        private UserInfo(int id, String nick, Boolean isEmailConfirmed) {\r\n            this.id = id;\r\n            this.nick = nick;\r\n            this.isEmailConfirmed = Optional.ofNullable(isEmailConfirmed).orElse(this.isEmailConfirmed);\r\n        }\r\n    }\r\n\r\nThis way you ensure:\r\n \r\n - the field `isEmailConfirmed` is initialized only in one place making the code less error-prone and easier to maintain later\r\n - the `UserInfo` class will be initialized the same way either you use a builder or a no-args constructor\r\n\r\nIn other words, the condition holds `true`:\r\n\r\n    new UserInfo().equals(UserInfo.builder().build())\r\n\r\nIn that case, the object creation is consistent no matter how you create it. It is especially important when your class is used by a mapping framework or by JPA provider when you are not instantiating it manually by a builder but a no-args constructor is invoked behind your back to create the instance.\r\n\r\nThe approach [described above][2] is very similar but it has a major drawback. You have to initialize the field in two places which makes the code error-prone as you are required to keep the values consistent.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2340\r\n  [2]: https://stackoverflow.com/a/47884368/2443502","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>Since the <a href=\"https://github.com/projectlombok/lombok/issues/2340\" rel=\"noreferrer\"><code>@Builder.Default</code> annotation is broken</a>, I wouldn't use it at all. You can, however, use the following approach by moving the <code>@Builder</code> annotation from class level to the custom constructor:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class UserInfo {\n    \n    private int id;\n    private String nick;\n    private boolean isEmailConfirmed = true;\n\n    @Builder\n    @SuppressWarnings(&quot;unused&quot;)\n    private UserInfo(int id, String nick, Boolean isEmailConfirmed) {\n        this.id = id;\n        this.nick = nick;\n        this.isEmailConfirmed = Optional.ofNullable(isEmailConfirmed).orElse(this.isEmailConfirmed);\n    }\n}\n</code></pre>\n<p>This way you ensure:</p>\n<ul>\n<li>the field <code>isEmailConfirmed</code> is initialized only in one place making the code less error-prone and easier to maintain later</li>\n<li>the <code>UserInfo</code> class will be initialized the same way either you use a builder or a no-args constructor</li>\n</ul>\n<p>In other words, the condition holds <code>true</code>:</p>\n<pre><code>new UserInfo().equals(UserInfo.builder().build())\n</code></pre>\n<p>In that case, the object creation is consistent no matter how you create it. It is especially important when your class is used by a mapping framework or by JPA provider when you are not instantiating it manually by a builder but a no-args constructor is invoked behind your back to create the instance.</p>\n<p>The approach <a href=\"https://stackoverflow.com/a/47884368/2443502\">described above</a> is very similar but it has a major drawback. You have to initialize the field in two places which makes the code error-prone as you are required to keep the values consistent.</p>\n"},{"comments":[{"owner":{"account_id":12403036,"reputation":81,"user_id":9039341,"display_name":"Ali Ertugrul"},"score":0,"creation_date":1595315438,"post_id":56212101,"comment_id":111423858,"body_markdown":"I use the same approach but instead of using: `UserInfo ui = new UserInfo().toBuilder().build();` I prefer using: `UserInfo ui = new UserInfo();` same thing with less code.","body":"I use the same approach but instead of using: <code>UserInfo ui = new UserInfo().toBuilder().build();</code> I prefer using: <code>UserInfo ui = new UserInfo();</code> same thing with less code."}],"tags":[],"owner":{"account_id":2663609,"reputation":674,"user_id":2302698,"display_name":"laurent"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558300865,"creation_date":1558300865,"answer_id":56212101,"question_id":47883931,"body_markdown":"Here&#39;s my approach : \r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class UserInfo { \r\n    private int id;\r\n    private String nick;\r\n    private boolean isEmailConfirmed = true;\r\n}\r\n```\r\nAnd then\r\n```java\r\nUserInfo ui = new UserInfo().toBuilder().build();\r\n```\r\n\r\n\r\n","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>Here's my approach : </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class UserInfo { \n    private int id;\n    private String nick;\n    private boolean isEmailConfirmed = true;\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>UserInfo ui = new UserInfo().toBuilder().build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558436171,"creation_date":1558436171,"answer_id":56236774,"question_id":47883931,"body_markdown":"Custom constructors and `@Builder.Default` probably will never work together.\r\n\r\nFramework authors want to avoid double initializations for `@Builder`.\r\n\r\nI reuse `.builder()` by `public static CLAZZ of(...)` methods:\r\n\r\n    @Builder\r\n    public class Connection {\r\n        private String user;\r\n        private String pass;\r\n    \r\n        @Builder.Default\r\n        private long timeout = 10_000;\r\n    \r\n        @Builder.Default\r\n        private String port = &quot;8080&quot;;\r\n    \r\n        public static Connection of(String user, String pass) {\r\n            return Connection.builder()\r\n                .user(user)\r\n                .pass(pass)\r\n                .build();\r\n        }\r\n    \r\n        public static Connection of(String user, String pass, String port) {\r\n            return Connection.builder()\r\n                .user(user)\r\n                .pass(pass)\r\n                .port(port)\r\n                .build();\r\n        }\r\n    \r\n        public static Connection of(String user, String pass, String port, long timeout) {\r\n            return Connection.builder()\r\n                .user(user)\r\n                .pass(pass)\r\n                .port(port)\r\n                .timeout(timeout)\r\n                .build();\r\n        }\r\n    }\r\n\r\nCheck corresponding discussion: https://github.com/rzwitserloot/lombok/issues/1347","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>Custom constructors and <code>@Builder.Default</code> probably will never work together.</p>\n\n<p>Framework authors want to avoid double initializations for <code>@Builder</code>.</p>\n\n<p>I reuse <code>.builder()</code> by <code>public static CLAZZ of(...)</code> methods:</p>\n\n<pre><code>@Builder\npublic class Connection {\n    private String user;\n    private String pass;\n\n    @Builder.Default\n    private long timeout = 10_000;\n\n    @Builder.Default\n    private String port = \"8080\";\n\n    public static Connection of(String user, String pass) {\n        return Connection.builder()\n            .user(user)\n            .pass(pass)\n            .build();\n    }\n\n    public static Connection of(String user, String pass, String port) {\n        return Connection.builder()\n            .user(user)\n            .pass(pass)\n            .port(port)\n            .build();\n    }\n\n    public static Connection of(String user, String pass, String port, long timeout) {\n        return Connection.builder()\n            .user(user)\n            .pass(pass)\n            .port(port)\n            .timeout(timeout)\n            .build();\n    }\n}\n</code></pre>\n\n<p>Check corresponding discussion: <a href=\"https://github.com/rzwitserloot/lombok/issues/1347\" rel=\"nofollow noreferrer\">https://github.com/rzwitserloot/lombok/issues/1347</a></p>\n"},{"tags":[],"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571047296,"creation_date":1571047296,"answer_id":58374397,"question_id":47883931,"body_markdown":"My experience is that `@Builder` works best when it is the only means of instantiating a class, and therefore works best when paired with `@Value` rather than `@Data`.\r\n\r\nFor classes where all fields are mutable in any order anyway, and for which you want to keep the chained calls, consider replacing it with `@Accessors(chain=true)` or `@Accessors(fluent=true)`.\r\n\r\n```java\r\n@Data\r\n@Accessors(fluent=true)\r\npublic class UserInfo {\r\n    private int id;\r\n    private String nick;\r\n    private boolean isEmailConfirmed = true;\r\n}\r\n```\r\nThis allows you to construct your objects fluently in the code, and avoid un-necessary creation of Builder objects:\r\n```java\r\nUserInfo ui = new UserInfo().id(25).nick(&quot;John&quot;);\r\n```","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>My experience is that <code>@Builder</code> works best when it is the only means of instantiating a class, and therefore works best when paired with <code>@Value</code> rather than <code>@Data</code>.</p>\n\n<p>For classes where all fields are mutable in any order anyway, and for which you want to keep the chained calls, consider replacing it with <code>@Accessors(chain=true)</code> or <code>@Accessors(fluent=true)</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(fluent=true)\npublic class UserInfo {\n    private int id;\n    private String nick;\n    private boolean isEmailConfirmed = true;\n}\n</code></pre>\n\n<p>This allows you to construct your objects fluently in the code, and avoid un-necessary creation of Builder objects:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>UserInfo ui = new UserInfo().id(25).nick(\"John\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3531078,"reputation":2299,"user_id":2950614,"display_name":"ifelse.codes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575284300,"creation_date":1575284300,"answer_id":59137488,"question_id":47883931,"body_markdown":"Initialize the properties in the No-Arg `Constructor`\r\n\r\nconverted  \r\n`private boolean isEmailConfirmed = true;`\r\n\r\nto\r\n```\r\npublic class UserInfo {\r\n    \r\n    public UserInfo() {\r\n        this.isEmailConfirmed = true;\r\n    }\r\n\r\n}","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>Initialize the properties in the No-Arg <code>Constructor</code></p>\n\n<p>converted<br>\n<code>private boolean isEmailConfirmed = true;</code></p>\n\n<p>to</p>\n\n<pre><code>public class UserInfo {\n\n    public UserInfo() {\n        this.isEmailConfirmed = true;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11122647,"reputation":178,"user_id":8165096,"accept_rate":80,"display_name":"Andrey Serebryanskiy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1579126497,"creation_date":1579126497,"answer_id":59760330,"question_id":47883931,"body_markdown":"In version 1.18.2 both `@NoArgsConstructor` and `@Builder` work, but not completely. \r\n\r\nConstructor with one or more fields will null all other default initialisations: `new UserInfo(&quot;Some nick&quot;)` will cause `isEmailConfirmed` to be false again.\r\n\r\nMy way to handle this is:\r\n\r\n```java\r\npublic UserInfo(String nick) {\r\n  this();\r\n  this.nick = nick;\r\n}\r\n```\r\n\r\nThis way all default fields will be initialised and we&#39;ll get expected constructor.\r\n","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>In version 1.18.2 both <code>@NoArgsConstructor</code> and <code>@Builder</code> work, but not completely. </p>\n\n<p>Constructor with one or more fields will null all other default initialisations: <code>new UserInfo(\"Some nick\")</code> will cause <code>isEmailConfirmed</code> to be false again.</p>\n\n<p>My way to handle this is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public UserInfo(String nick) {\n  this();\n  this.nick = nick;\n}\n</code></pre>\n\n<p>This way all default fields will be initialised and we'll get expected constructor.</p>\n"},{"tags":[],"owner":{"account_id":1198141,"reputation":251,"user_id":1169421,"display_name":"George L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579799428,"creation_date":1579799428,"answer_id":59883859,"question_id":47883931,"body_markdown":"You can create a static Builder class with default values populated:\r\n\r\n```\r\n@Data\r\n@Builder(builderClassName=&quot;Builder&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class UserInfo {\r\n    private int id;\r\n    private String nick;\r\n    private boolean isEmailConfirmed;\r\n    public static class Builder{\r\n          //Set defaults here\r\n          private boolean isEmailConfirmed = true;\r\n    }\r\n}\r\n```","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>You can create a static Builder class with default values populated:</p>\n\n<pre><code>@Data\n@Builder(builderClassName=\"Builder\")\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserInfo {\n    private int id;\n    private String nick;\n    private boolean isEmailConfirmed;\n    public static class Builder{\n          //Set defaults here\n          private boolean isEmailConfirmed = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2056089,"reputation":10271,"user_id":3457177,"accept_rate":78,"display_name":"Vitalii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173358,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":47884368,"answer_count":9,"score":98,"last_activity_date":1680088256,"creation_date":1513676292,"question_id":47883931,"body_markdown":"I have an object\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserInfo {\r\n        private int id;\r\n        private String nick;\r\n        private boolean isEmailConfirmed = true;\r\n    }\r\n\r\nAnd I initialize it in two ways\r\n\r\n    UserInfo ui = new UserInfo();\r\n    UserInfo ui2 = UserInfo.builder().build();\r\n\r\n    System.out.println(&quot;ui: &quot; + ui.isEmailConfirmed());\r\n    System.out.println(&quot;ui2: &quot; + ui2.isEmailConfirmed());\r\n\r\n\r\nHere is output\r\n\r\n    ui: true\r\n    ui2: false\r\n\r\nIt seems that builder does not get a default value. I add `@Builder.Default` annotation to my property and my object now looks like this\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class UserInfo { \r\n        private int id;\r\n        private String nick;\r\n        @Builder.Default\r\n        private boolean isEmailConfirmed = true;\r\n    }\r\n\r\nHere is console output\r\n\r\n    ui: false\r\n    ui2: true\r\n\r\nHow can I make them both be `true`?\r\n\r\n\r\n","title":"Default value in lombok. How to init default with both constructor and builder","body":"<p>I have an object</p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserInfo {\n    private int id;\n    private String nick;\n    private boolean isEmailConfirmed = true;\n}\n</code></pre>\n\n<p>And I initialize it in two ways</p>\n\n<pre><code>UserInfo ui = new UserInfo();\nUserInfo ui2 = UserInfo.builder().build();\n\nSystem.out.println(\"ui: \" + ui.isEmailConfirmed());\nSystem.out.println(\"ui2: \" + ui2.isEmailConfirmed());\n</code></pre>\n\n<p>Here is output</p>\n\n<pre><code>ui: true\nui2: false\n</code></pre>\n\n<p>It seems that builder does not get a default value. I add <code>@Builder.Default</code> annotation to my property and my object now looks like this</p>\n\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserInfo { \n    private int id;\n    private String nick;\n    @Builder.Default\n    private boolean isEmailConfirmed = true;\n}\n</code></pre>\n\n<p>Here is console output</p>\n\n<pre><code>ui: false\nui2: true\n</code></pre>\n\n<p>How can I make them both be <code>true</code>?</p>\n"},{"tags":["java","spring","spring-boot","abstract-class"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1461484636,"post_id":36819357,"comment_id":61213192,"body_markdown":"Do you want a ping mapping for every controller that extends BaseController (`admin/ping`, for example)? Or one `/ping` mapping, irrespective of how many BaseController subclasses you create?","body":"Do you want a ping mapping for every controller that extends BaseController (<code>admin&#47;ping</code>, for example)? Or one <code>&#47;ping</code> mapping, irrespective of how many BaseController subclasses you create?"},{"owner":{"account_id":4829637,"reputation":6153,"user_id":3898122,"accept_rate":40,"display_name":"Renat Gatin"},"score":0,"creation_date":1461556337,"post_id":36819357,"comment_id":61234317,"body_markdown":"I want ping method to be in a root of requestMapping like /ping","body":"I want ping method to be in a root of requestMapping like /ping"}],"answers":[{"comments":[{"owner":{"account_id":4829637,"reputation":6153,"user_id":3898122,"accept_rate":40,"display_name":"Renat Gatin"},"score":0,"creation_date":1461556233,"post_id":36825816,"comment_id":61234281,"body_markdown":"Thank you for your answer! Yes you are right both ClientController and AdminController are extending BaseController. If I put ping() method to ClientController and AdminController then it will be duplication of same method in these to Controllers...","body":"Thank you for your answer! Yes you are right both ClientController and AdminController are extending BaseController. If I put ping() method to ClientController and AdminController then it will be duplication of same method in these to Controllers..."}],"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461515107,"creation_date":1461515107,"answer_id":36825816,"question_id":36819357,"body_markdown":"I tlooks like you are using another \r\n\r\n    class ClientController extends BaseController\r\n\r\nBoth ClientController and AdminController map /ping to their inherited method ping(). Spring can map /ping only to the one or the other, thats why you get the exception.\r\n\r\nYou are writing \r\n\r\n&gt; I do not want to duplicate ping() resource in multiple Controllers\r\n\r\nand there is no need to do this. Put your ping() method in its own controller, remove it from the BaseControler and thats it.\r\n\r\nAnyway, I would not recomand to use inheritance in controllers, it makes things mostly more complicated than it helps.\r\n\r\n\r\n\r\n\r\n","title":"How to create common &#39;/ping&#39; API resource in abstract BaseController?","body":"<p>I tlooks like you are using another </p>\n\n<pre><code>class ClientController extends BaseController\n</code></pre>\n\n<p>Both ClientController and AdminController map /ping to their inherited method ping(). Spring can map /ping only to the one or the other, thats why you get the exception.</p>\n\n<p>You are writing </p>\n\n<blockquote>\n  <p>I do not want to duplicate ping() resource in multiple Controllers</p>\n</blockquote>\n\n<p>and there is no need to do this. Put your ping() method in its own controller, remove it from the BaseControler and thats it.</p>\n\n<p>Anyway, I would not recomand to use inheritance in controllers, it makes things mostly more complicated than it helps.</p>\n"}],"owner":{"account_id":4829637,"reputation":6153,"user_id":3898122,"accept_rate":40,"display_name":"Renat Gatin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680087957,"creation_date":1461472990,"question_id":36819357,"body_markdown":"I have BaseController:\r\n\r\n    @Controller\r\n    public abstract class BaseController {\r\n    \r\n    \t/**\r\n    \t * The Logger for this class hierarchy\r\n    \t */\r\n    \tprotected Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    \t\r\n    \t@RequestMapping(value = &quot;/ping&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ServiceResponse&lt;?&gt; ping() {\r\n    \t\tServiceResponse&lt;Object&gt; serviceResponse = new ServiceResponse&lt;&gt;(ResponseStatus.SUCCESS);\r\n    \t\treturn serviceResponse;\r\n    \t}\r\n    }\r\n\r\n\r\nAnd few other Controllers that extend this BaseController like this:\r\n\r\n    @RestController\r\n    @RequestMapping(value= &quot;/admin&quot;)\r\n    public class AdminController extends BaseController {\r\n    \t\r\n    \t@RequestMapping(\r\n    \t\t\tvalue = &quot;/all&quot;, \r\n    \t\t\tmethod = RequestMethod.GET,\r\n    \t\t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ServiceResponse&lt;List&lt;Account&gt;&gt; getAll() {\r\n    \t\tServiceResponse&lt;List&lt;Account&gt;&gt; serviceResponse = accountService.getAll();\r\n    \t\treturn serviceResponse;\r\n    \t}\r\n    }\r\n\r\nBut as soon as I moved ping() resource BaseController I get errors on Server startup:\r\n\r\n    2016-04-23 21:31:39.862 ERROR 2335 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map &#39;clientController&#39; method \r\n    public ca.gatin.api.response.ServiceResponse&lt;?&gt; ca.gatin.api.controller.BaseController.ping()\r\n    to {[/admin/ping],produces=[application/json]}: There is already &#39;adminController&#39; bean method\r\n    public ca.gatin.api.response.ServiceResponse&lt;?&gt; ca.gatin.api.controller.BaseController.ping() mapped.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\r\n    \tat ca.gatin.TodoAppApplication.main(TodoAppApplication.java:10) [classes/:na]\r\n\r\nIt is just, I do not want to duplicate ping() resource in multiple Controllers. How can I move it to BaseController properly?","title":"How to create common &#39;/ping&#39; API resource in abstract BaseController?","body":"<p>I have BaseController:</p>\n\n<pre><code>@Controller\npublic abstract class BaseController {\n\n    /**\n     * The Logger for this class hierarchy\n     */\n    protected Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    @RequestMapping(value = \"/ping\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ServiceResponse&lt;?&gt; ping() {\n        ServiceResponse&lt;Object&gt; serviceResponse = new ServiceResponse&lt;&gt;(ResponseStatus.SUCCESS);\n        return serviceResponse;\n    }\n}\n</code></pre>\n\n<p>And few other Controllers that extend this BaseController like this:</p>\n\n<pre><code>@RestController\n@RequestMapping(value= \"/admin\")\npublic class AdminController extends BaseController {\n\n    @RequestMapping(\n            value = \"/all\", \n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public ServiceResponse&lt;List&lt;Account&gt;&gt; getAll() {\n        ServiceResponse&lt;List&lt;Account&gt;&gt; serviceResponse = accountService.getAll();\n        return serviceResponse;\n    }\n}\n</code></pre>\n\n<p>But as soon as I moved ping() resource BaseController I get errors on Server startup:</p>\n\n<pre><code>2016-04-23 21:31:39.862 ERROR 2335 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'clientController' method \npublic ca.gatin.api.response.ServiceResponse&lt;?&gt; ca.gatin.api.controller.BaseController.ping()\nto {[/admin/ping],produces=[application/json]}: There is already 'adminController' bean method\npublic ca.gatin.api.response.ServiceResponse&lt;?&gt; ca.gatin.api.controller.BaseController.ping() mapped.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772) ~[spring-beans-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538) ~[spring-context-4.2.5.RELEASE.jar:4.2.5.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118) ~[spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:766) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.createAndRefreshContext(SpringApplication.java:361) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1191) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1180) [spring-boot-1.3.3.RELEASE.jar:1.3.3.RELEASE]\n    at ca.gatin.TodoAppApplication.main(TodoAppApplication.java:10) [classes/:na]\n</code></pre>\n\n<p>It is just, I do not want to duplicate ping() resource in multiple Controllers. How can I move it to BaseController properly?</p>\n"},{"tags":["java","spring-webflux","r2dbc-postgresql"],"answers":[{"comments":[{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1679385655,"post_id":75795905,"comment_id":133707707,"body_markdown":"Thanks for your fast reply, I really appreciate that! I did try out you example but it is still not working: I do not get the lines into the DB (the queries are ok I tried them out). I also changed the above code so you can see my original attempt of saving the article data (the list argument). . . . but no success until now!","body":"Thanks for your fast reply, I really appreciate that! I did try out you example but it is still not working: I do not get the lines into the DB (the queries are ok I tried them out). I also changed the above code so you can see my original attempt of saving the article data (the list argument). . . . but no success until now!"},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1679385720,"post_id":75795905,"comment_id":133707729,"body_markdown":"I am a old-timer in Java but this stuff is not easy I can tell you. So once again the articles are arriving at the body of the client -&gt; .bodyToFlux(ArticleDestiny.class) (I also tried to use a switchIfEmpty() after the body but that also failed, hmmmm)! The buffer after the body-to-flux also works as expected! Next I call the service in a publish so I thought no then() needed? But as I said I am new to all this stuff (but did read a lot).","body":"I am a old-timer in Java but this stuff is not easy I can tell you. So once again the articles are arriving at the body of the client -&gt; .bodyToFlux(ArticleDestiny.class) (I also tried to use a switchIfEmpty() after the body but that also failed, hmmmm)! The buffer after the body-to-flux also works as expected! Next I call the service in a publish so I thought no then() needed? But as I said I am new to all this stuff (but did read a lot)."},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1679386520,"post_id":75795905,"comment_id":133707917,"body_markdown":"We are considering using this stuff in one of our projects and the batch-inserts is a key issue which we should resolve! It is a bit strange that I only found those low-level-batch implementations? There is no pretty-styled-Spring-avoiding-boilerplate code yet, right?","body":"We are considering using this stuff in one of our projects and the batch-inserts is a key issue which we should resolve! It is a bit strange that I only found those low-level-batch implementations? There is no pretty-styled-Spring-avoiding-boilerplate code yet, right?"}],"tags":[],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679351625,"creation_date":1679351625,"answer_id":75795905,"question_id":75794748,"body_markdown":"It is skipped due to no subscribers after reactive chain is completed.\r\n\r\nTry below code snippet.\r\n\r\n```java\r\n    public void articleDestinyBatchStream(List&lt;String&gt; articles) {\r\n        log.info(&quot;connectionFactory {}&quot;, connectionFactory.getMetadata().getName());\r\n\r\n        Mono.from(connectionFactory.create())\r\n                .flatMapMany(connection -&gt; Flux.from(connection.createBatch()\r\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values (&#39;DE&#39;, &#39;123&#39;, &#39;some name&#39;, &#39;23.23&#39;)&quot;)\r\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values (&#39;BE&#39;, &#39;456&#39;, &#39;some other name&#39;, &#39;44.44&#39;)&quot;)\r\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values (&#39;NL&#39;, &#39;789&#39;, &#39;some new name&#39;, &#39;55.55&#39;)&quot;)\r\n                        .execute()))\r\n                .then();\r\n\r\n    }\r\n```\r\n\r\n`then()` statement throws away whatever the return \r\nvalue is and just signals to the calling client when everything is done. ","title":"Postgres r2dbc batch insert problems","body":"<p>It is skipped due to no subscribers after reactive chain is completed.</p>\n<p>Try below code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void articleDestinyBatchStream(List&lt;String&gt; articles) {\n        log.info(&quot;connectionFactory {}&quot;, connectionFactory.getMetadata().getName());\n\n        Mono.from(connectionFactory.create())\n                .flatMapMany(connection -&gt; Flux.from(connection.createBatch()\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values ('DE', '123', 'some name', '23.23')&quot;)\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values ('BE', '456', 'some other name', '44.44')&quot;)\n                        .add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) values ('NL', '789', 'some new name', '55.55')&quot;)\n                        .execute()))\n                .then();\n\n    }\n</code></pre>\n<p><code>then()</code> statement throws away whatever the return\nvalue is and just signals to the calling client when everything is done.</p>\n"},{"comments":[{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1679502368,"post_id":75814191,"comment_id":133734710,"body_markdown":"But there is yet another problem! The connection needs to be closed and the question is how and where to do that!","body":"But there is yet another problem! The connection needs to be closed and the question is how and where to do that!"},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1680103192,"post_id":75814191,"comment_id":133841365,"body_markdown":"I might need to start another thread concerning the working batch inserts based on a streaming article flow, but inserted with a blocking (from-mono) single-connection. The goal would be to get the batches working on a article-Flux, combined with a connection-Flux! But not sure how to do that and close the multiple connection that the Flux opens","body":"I might need to start another thread concerning the working batch inserts based on a streaming article flow, but inserted with a blocking (from-mono) single-connection. The goal would be to get the batches working on a article-Flux, combined with a connection-Flux! But not sure how to do that and close the multiple connection that the Flux opens"}],"tags":[],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680087913,"creation_date":1679498628,"answer_id":75814191,"question_id":75794748,"body_markdown":"**The solution I found works on a streaming article flux but a single connection:**\r\n\r\nfind next the details \r\n\r\n**first the router:**\r\n\r\n    @Bean\r\n    public RouterFunction&lt;ServerResponse&gt; root(ArticleHandler articleHandler) {\r\n        return RouterFunctions.route()\r\n                .GET(&quot;/article-stream-to-origin&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamToOrigen)\r\n                .GET(&quot;/article-stream-from-origin/{backPressure}&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamFromOrigin)\r\n                .GET(&quot;/article-batch-stream-from-origin/{backPressure}&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamFromOrigin)\r\n                .GET(&quot;/articles&quot;, RequestPredicates.accept(MediaType.APPLICATION_JSON),  articleHandler::getAllArticles)\r\n\r\n**The handler**\r\n\r\n       public Mono&lt;ServerResponse&gt; getAllArticles(ServerRequest request) {\r\n        var all = articleService.getAllArticles(Sort.by(&quot;id&quot;));\r\n        return ok().body(fromPublisher(all, ArticleDestiny.class));\r\n    }\r\n\r\n\r\n        public Mono&lt;ServerResponse&gt; getArticleStreamFromOrigin(ServerRequest request) {\r\n        long backPressure = Long.valueOf(request.pathVariable(&quot;backPressure&quot;));\r\n        Flux&lt;ArticleOrigin&gt; all = streamService.getAllArticleStreamFromOrigin(backPressure);\r\n\r\n        return ok().contentType(MediaType.APPLICATION_NDJSON) //TEXT_EVENT_STREAM APPLICATION_NDJSON\r\n                .body(fromPublisher(all, ArticleOrigin.class));\r\n    }\r\n\r\n\r\n**The client that calls the all-articles service**\r\n\r\n    public  Mono&lt;Void&gt; getArticleBatchStreamToOrigin(Long backPressure) {\r\n\r\n                 Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\r\n                .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\r\n                .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\r\n                .retrieve()\r\n                .bodyToFlux(ArticleDestiny.class);\r\n\r\n        streamService.articleDestinyBatchStream(articleFlux, backPressure);\r\n        return Mono.empty();\r\n    }\r\n\r\n\r\n**and finally the service with a single (blocking) connection**\r\n\r\n    public Mono&lt;Void&gt; articleDestinyBatchStream(Flux&lt;ArticleDestiny&gt; articles, Long backPressure) {\r\n        Connection con = Mono.from(Mono.from(connectionFactory.create())).block();\r\n        articles\r\n                .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000l))\r\n                .publishOn(Schedulers.newParallel(&quot;main&quot;))\r\n                .doOnNext(a -&gt; log.info(&quot;article batch size: &quot; + a.size()))\r\n\r\n                .flatMap(a -&gt; {\r\n                    log.info(&quot;inside &quot; + a.size());\r\n\r\n                        Batch batch = con.createBatch();\r\n\r\n                        a.forEach(article -&gt; {\r\n                            String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,\r\n                                    article.getCountryCode(),\r\n                                    article.getArtNumber(),\r\n                                    article.getName(),\r\n                                    article.getPrice());\r\n                            batch.add(sql);\r\n                        });\r\n\r\n                        log.debug(&quot;print each batch: &quot; + batch);\r\n\r\n                        return Mono.from(batch.execute()).doFinally((st -&gt; con.close()));\r\n\r\n                }).subscribe();\r\n\r\n        return Mono.empty();\r\n\r\n    }\r\n\r\n**any comments to solve this blocking db connection?**\r\n\r\n\r\n","title":"Postgres r2dbc batch insert problems","body":"<p><strong>The solution I found works on a streaming article flux but a single connection:</strong></p>\n<p>find next the details</p>\n<p><strong>first the router:</strong></p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; root(ArticleHandler articleHandler) {\n    return RouterFunctions.route()\n            .GET(&quot;/article-stream-to-origin&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamToOrigen)\n            .GET(&quot;/article-stream-from-origin/{backPressure}&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamFromOrigin)\n            .GET(&quot;/article-batch-stream-from-origin/{backPressure}&quot;, RequestPredicates.accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE)), articleHandler::getArticleStreamFromOrigin)\n            .GET(&quot;/articles&quot;, RequestPredicates.accept(MediaType.APPLICATION_JSON),  articleHandler::getAllArticles)\n</code></pre>\n<p><strong>The handler</strong></p>\n<pre><code>   public Mono&lt;ServerResponse&gt; getAllArticles(ServerRequest request) {\n    var all = articleService.getAllArticles(Sort.by(&quot;id&quot;));\n    return ok().body(fromPublisher(all, ArticleDestiny.class));\n}\n\n\n    public Mono&lt;ServerResponse&gt; getArticleStreamFromOrigin(ServerRequest request) {\n    long backPressure = Long.valueOf(request.pathVariable(&quot;backPressure&quot;));\n    Flux&lt;ArticleOrigin&gt; all = streamService.getAllArticleStreamFromOrigin(backPressure);\n\n    return ok().contentType(MediaType.APPLICATION_NDJSON) //TEXT_EVENT_STREAM APPLICATION_NDJSON\n            .body(fromPublisher(all, ArticleOrigin.class));\n}\n</code></pre>\n<p><strong>The client that calls the all-articles service</strong></p>\n<pre><code>public  Mono&lt;Void&gt; getArticleBatchStreamToOrigin(Long backPressure) {\n\n             Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\n            .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\n            .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\n            .retrieve()\n            .bodyToFlux(ArticleDestiny.class);\n\n    streamService.articleDestinyBatchStream(articleFlux, backPressure);\n    return Mono.empty();\n}\n</code></pre>\n<p><strong>and finally the service with a single (blocking) connection</strong></p>\n<pre><code>public Mono&lt;Void&gt; articleDestinyBatchStream(Flux&lt;ArticleDestiny&gt; articles, Long backPressure) {\n    Connection con = Mono.from(Mono.from(connectionFactory.create())).block();\n    articles\n            .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000l))\n            .publishOn(Schedulers.newParallel(&quot;main&quot;))\n            .doOnNext(a -&gt; log.info(&quot;article batch size: &quot; + a.size()))\n\n            .flatMap(a -&gt; {\n                log.info(&quot;inside &quot; + a.size());\n\n                    Batch batch = con.createBatch();\n\n                    a.forEach(article -&gt; {\n                        String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES ('%s','%s','%s','%s')&quot;,\n                                article.getCountryCode(),\n                                article.getArtNumber(),\n                                article.getName(),\n                                article.getPrice());\n                        batch.add(sql);\n                    });\n\n                    log.debug(&quot;print each batch: &quot; + batch);\n\n                    return Mono.from(batch.execute()).doFinally((st -&gt; con.close()));\n\n            }).subscribe();\n\n    return Mono.empty();\n\n}\n</code></pre>\n<p><strong>any comments to solve this blocking db connection?</strong></p>\n"}],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680087913,"creation_date":1679342181,"question_id":75794748,"body_markdown":"**I am trying to batch-persist a Flux-stream of articles into a Postgres r2dbc**\r\n\r\nThe application has two identical article tables (article_origin and article_destiny)\r\nThe origin table has a million article which I try to batch-insert into the empty article_destiny table!\r\nA web-client calls a article-endpoint and requests a single Flux stream. The application works without the batch-insert, but takes more than 20 minutes to persist all the articles one by one.\r\n\r\nThe articles arrive at the articleDestinyBatchStream \r\nand the buffer (with the back-pressure as argument) produces the batch-size chunks.\r\n\r\nBut the **.map(connection -&gt; {** is skipped for some reason I do not understand!\r\n\r\nPlease help\r\n\r\nNext find the relevant code snippets:\r\n\r\n\r\n**The web-client**\r\n\r\n    public void getArticleBatchStreamToOrigin(Long backPressure) {\r\n    try {\r\n        client.get()\r\n                .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\r\n                .accept(MediaType.TEXT_EVENT_STREAM) //APPLICATION_NDJSON TEXT_EVENT_STREAM\r\n                .retrieve()\r\n                .bodyToFlux(ArticleDestiny.class)\r\n                .buffer(backPressure.intValue())\r\n                .subscribe(articles -&gt; {\r\n                    streamService.articleDestinyBatchStream(articles);\r\n                    log.info(&quot;at client article batch size={} &quot;, articles.size());\r\n                });\r\n    } catch (WebClientResponseException wcre) {\r\n        log.error(&quot;Error Response Code is {} and Response Body is {}&quot;, wcre.getRawStatusCode(), wcre.getResponseBodyAsString());\r\n        log.error(&quot;Exception in method getArticleStream()&quot;, wcre);\r\n        throw wcre;\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Exception in method getArticleStream()&quot;, ex);\r\n        throw ex;\r\n    }\r\n}\r\n\r\n**The article streaming service (one million articles) called by the client**\r\n\r\n    public Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\r\n    return articleOriginRepository\r\n            .findAll()\r\n            .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\r\n}\r\n\r\n**The article batch persist:**\r\n\r\n      public Mono&lt;Void&gt; articleDestinyBatchStream(List&lt;ArticleDestiny&gt; articles) {\r\n        log.info(&quot;connectionFactory {}&quot;, connectionFactory.getMetadata().getName());\r\n\r\n        return Mono.from(connectionFactory.create())\r\n                .map(connection -&gt; {\r\n                    Batch batch = connection.createBatch();\r\n\r\n                    for (ArticleDestiny article :articles) {\r\n                        batch.add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) &quot; +\r\n                                &quot;values (&#39;${article.countryCode}&#39;,&#39;${article.artNumber}&#39;, &#39;${article.name}&#39;, &#39;${article.price}&#39;)&quot;);\r\n                    }\r\n\r\n                   return batch.execute();\r\n                }).then();\r\n\r\n    }\r\n\r\n**here find config details**\r\n\r\n    @SpringBootApplication(exclude = { R2dbcDataAutoConfiguration.class, R2dbcAutoConfiguration.class })\r\n\r\n\r\n**and next the config class that extends the AbstractR2dbcConfiguration**\r\n\r\n    @Bean\r\n    public ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\r\n        var initializer = new ConnectionFactoryInitializer();\r\n        initializer.setConnectionFactory(connectionFactory());\r\n        CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n        populator.addPopulators(\r\n                new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\r\n        );\r\n        initializer.setDatabasePopulator(populator);\r\n        return initializer;\r\n    }\r\n\r\n    @Override\r\n    @Primary\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n\r\n        return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\r\n                .host(&quot;localhost&quot;)\r\n                .port(5677)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;secret&quot;)\r\n                .database(&quot;article_flux_db&quot;)\r\n                .build());\r\n    }\r\n\r\n**another attempt to create the batches**\r\n\r\n        public Mono&lt;Void&gt; articleDestinyBatchStream(List&lt;ArticleDestiny&gt; articles) {\r\n\r\n        return Mono.from(connectionFactory.create())\r\n                .flatMap(c -&gt; {\r\n                    Batch batch = c.createBatch();\r\n                    for (ArticleDestiny article :articles) {\r\n                        batch.add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) &quot; +\r\n                                &quot;values (&#39;${article.countryCode}&#39;,&#39;${article.artNumber}&#39;, &#39;${article.name}&#39;, &#39;${article.price}&#39;)&quot;);\r\n                    }\r\n                    return Mono.empty();\r\n                }).then();\r\n    }","title":"Postgres r2dbc batch insert problems","body":"<p><strong>I am trying to batch-persist a Flux-stream of articles into a Postgres r2dbc</strong></p>\n<p>The application has two identical article tables (article_origin and article_destiny)\nThe origin table has a million article which I try to batch-insert into the empty article_destiny table!\nA web-client calls a article-endpoint and requests a single Flux stream. The application works without the batch-insert, but takes more than 20 minutes to persist all the articles one by one.</p>\n<p>The articles arrive at the articleDestinyBatchStream\nand the buffer (with the back-pressure as argument) produces the batch-size chunks.</p>\n<p>But the <strong>.map(connection -&gt; {</strong> is skipped for some reason I do not understand!</p>\n<p>Please help</p>\n<p>Next find the relevant code snippets:</p>\n<p><strong>The web-client</strong></p>\n<pre><code>public void getArticleBatchStreamToOrigin(Long backPressure) {\ntry {\n    client.get()\n            .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\n            .accept(MediaType.TEXT_EVENT_STREAM) //APPLICATION_NDJSON TEXT_EVENT_STREAM\n            .retrieve()\n            .bodyToFlux(ArticleDestiny.class)\n            .buffer(backPressure.intValue())\n            .subscribe(articles -&gt; {\n                streamService.articleDestinyBatchStream(articles);\n                log.info(&quot;at client article batch size={} &quot;, articles.size());\n            });\n} catch (WebClientResponseException wcre) {\n    log.error(&quot;Error Response Code is {} and Response Body is {}&quot;, wcre.getRawStatusCode(), wcre.getResponseBodyAsString());\n    log.error(&quot;Exception in method getArticleStream()&quot;, wcre);\n    throw wcre;\n} catch (Exception ex) {\n    log.error(&quot;Exception in method getArticleStream()&quot;, ex);\n    throw ex;\n}\n</code></pre>\n<p>}</p>\n<p><strong>The article streaming service (one million articles) called by the client</strong></p>\n<pre><code>public Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\nreturn articleOriginRepository\n        .findAll()\n        .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\n</code></pre>\n<p>}</p>\n<p><strong>The article batch persist:</strong></p>\n<pre><code>  public Mono&lt;Void&gt; articleDestinyBatchStream(List&lt;ArticleDestiny&gt; articles) {\n    log.info(&quot;connectionFactory {}&quot;, connectionFactory.getMetadata().getName());\n\n    return Mono.from(connectionFactory.create())\n            .map(connection -&gt; {\n                Batch batch = connection.createBatch();\n\n                for (ArticleDestiny article :articles) {\n                    batch.add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) &quot; +\n                            &quot;values ('${article.countryCode}','${article.artNumber}', '${article.name}', '${article.price}')&quot;);\n                }\n\n               return batch.execute();\n            }).then();\n\n}\n</code></pre>\n<p><strong>here find config details</strong></p>\n<pre><code>@SpringBootApplication(exclude = { R2dbcDataAutoConfiguration.class, R2dbcAutoConfiguration.class })\n</code></pre>\n<p><strong>and next the config class that extends the AbstractR2dbcConfiguration</strong></p>\n<pre><code>@Bean\npublic ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\n    var initializer = new ConnectionFactoryInitializer();\n    initializer.setConnectionFactory(connectionFactory());\n    CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n    populator.addPopulators(\n            new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\n    );\n    initializer.setDatabasePopulator(populator);\n    return initializer;\n}\n\n@Override\n@Primary\n@Bean\npublic ConnectionFactory connectionFactory() {\n\n    return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\n            .host(&quot;localhost&quot;)\n            .port(5677)\n            .username(&quot;admin&quot;)\n            .password(&quot;secret&quot;)\n            .database(&quot;article_flux_db&quot;)\n            .build());\n}\n</code></pre>\n<p><strong>another attempt to create the batches</strong></p>\n<pre><code>    public Mono&lt;Void&gt; articleDestinyBatchStream(List&lt;ArticleDestiny&gt; articles) {\n\n    return Mono.from(connectionFactory.create())\n            .flatMap(c -&gt; {\n                Batch batch = c.createBatch();\n                for (ArticleDestiny article :articles) {\n                    batch.add(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) &quot; +\n                            &quot;values ('${article.countryCode}','${article.artNumber}', '${article.name}', '${article.price}')&quot;);\n                }\n                return Mono.empty();\n            }).then();\n}\n</code></pre>\n"},{"tags":["java","webassembly"],"answers":[{"comments":[{"owner":{"account_id":196498,"reputation":1957,"user_id":439965,"display_name":"RReverser"},"score":0,"creation_date":1618873800,"post_id":67167422,"comment_id":118730161,"body_markdown":"They&#39;re not asking about JavaScript, they&#39;re asking about Java. They&#39;re totally different languages...","body":"They&#39;re not asking about JavaScript, they&#39;re asking about Java. They&#39;re totally different languages..."}],"tags":[],"owner":{"account_id":3292708,"reputation":2764,"user_id":2770641,"display_name":"sbc100"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618856728,"creation_date":1618856728,"answer_id":67167422,"question_id":67165416,"body_markdown":"While one could, in theory, write a compiler from JavaScript to WebAssembly, converting JavaScript to WebAssembly is not currently possible or something that WebAssembly was explicitly designed for.   If you want to write code that looks somewhat like JavaScript, but targets WebAssembly, the closest thing today is probably AssemblyScript: https://www.assemblyscript.org/.","title":"How to generate .wasm file or .wast file from java source code?","body":"<p>While one could, in theory, write a compiler from JavaScript to WebAssembly, converting JavaScript to WebAssembly is not currently possible or something that WebAssembly was explicitly designed for.   If you want to write code that looks somewhat like JavaScript, but targets WebAssembly, the closest thing today is probably AssemblyScript: <a href=\"https://www.assemblyscript.org/\" rel=\"nofollow noreferrer\">https://www.assemblyscript.org/</a>.</p>\n"}],"owner":{"account_id":3350267,"reputation":924,"user_id":6051117,"accept_rate":100,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680087745,"creation_date":1618848173,"question_id":67165416,"body_markdown":"How I can generate .wasm file or .wast file for the following code:\r\n\r\n    import java.util.ArrayList;\r\n    public class NewClass2\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            ArrayList&lt;String&gt; lis = new ArrayList&lt;&gt;();\r\n            lis.add(&quot;My&quot;);\r\n            lis.add(&quot;Name&quot;);\r\n            System.out.println(lis.get(2));\r\n        }\r\n    }\r\n\r\nCan anyone help me in this regard? I have check TeaVM, CheerpJ, etc, but unable to find to get generate web assembly code.","title":"How to generate .wasm file or .wast file from java source code?","body":"<p>How I can generate .wasm file or .wast file for the following code:</p>\n<pre><code>import java.util.ArrayList;\npublic class NewClass2\n{\n    public static void main(String[] args)\n    {\n        ArrayList&lt;String&gt; lis = new ArrayList&lt;&gt;();\n        lis.add(&quot;My&quot;);\n        lis.add(&quot;Name&quot;);\n        System.out.println(lis.get(2));\n    }\n}\n</code></pre>\n<p>Can anyone help me in this regard? I have check TeaVM, CheerpJ, etc, but unable to find to get generate web assembly code.</p>\n"},{"tags":["java","unit-testing","junit","yaml"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680084971,"post_id":75875823,"comment_id":133835993,"body_markdown":"It looks like a unit test since you use mocks? In that case, you don&#39;t want to access the application.yaml at all. You should probably create a constructor setting the value instead of using field injection, so you can create the object in your test with a fixed value.","body":"It looks like a unit test since you use mocks? In that case, you don&#39;t want to access the application.yaml at all. You should probably create a constructor setting the value instead of using field injection, so you can create the object in your test with a fixed value."}],"answers":[{"comments":[{"owner":{"account_id":25709391,"reputation":3,"user_id":19468182,"display_name":"Uladzislau Niamira"},"score":0,"creation_date":1680086861,"post_id":75876096,"comment_id":133836428,"body_markdown":"I am using Lombok and @RequiredArgsContructor. Is there a way to use your way in my situation?","body":"I am using Lombok and @RequiredArgsContructor. Is there a way to use your way in my situation?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680087407,"post_id":75876096,"comment_id":133836543,"body_markdown":"@UladzislauNiamira We also prefer to use Lombok; these are the cases we make an exception. Spring `@ConfigurationProperties` are an alternative, but I guess for a single String that&#39;s overkill.","body":"@UladzislauNiamira We also prefer to use Lombok; these are the cases we make an exception. Spring <code>@ConfigurationProperties</code> are an alternative, but I guess for a single String that&#39;s overkill."}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680086260,"creation_date":1680086260,"answer_id":75876096,"question_id":75875823,"body_markdown":"You can set the value in the constructor instead of attaching the annotation to the field.\r\n\r\n```\r\n@Service\r\nclass RegistrationService {\r\n private final UserProfileRepository userProfileRepository;\r\n private final String defaultAdminId;\r\n\r\n public RegistrationService(UserProfileRepository userProfileRepository,\r\n                            @Value(&quot;${user-service.defaultAdminId}&quot;) String defaultAdminId) {\r\n  this.userProfileRepository = userProfileRepository;\r\n  this.defaultAdminId = defaultAdminId;\r\n }\r\n}\r\n```\r\n\r\nThen you can choose the admin Id in your test freely without having to access the actual value from the application.yaml.\r\n\r\n```\r\nclass RegistrationServiceTest {\r\n private final static String defaultId = &quot;some-valid-uuid&quot;;\r\n\r\n private UserProfileRepository userProfileRepository;\r\n\r\n private RegistrationService registrationService;\r\n\r\n @BeforeEach\r\n void setup() {\r\n  userProfileRepository = mock(UserProfileRepository.class); // or use @Mock etc\r\n  registrationService = new RegistrationService(userProfileRepository, defaultId);\r\n }\r\n}\r\n```","title":"How can I get value from application.yaml in test environment","body":"<p>You can set the value in the constructor instead of attaching the annotation to the field.</p>\n<pre><code>@Service\nclass RegistrationService {\n private final UserProfileRepository userProfileRepository;\n private final String defaultAdminId;\n\n public RegistrationService(UserProfileRepository userProfileRepository,\n                            @Value(&quot;${user-service.defaultAdminId}&quot;) String defaultAdminId) {\n  this.userProfileRepository = userProfileRepository;\n  this.defaultAdminId = defaultAdminId;\n }\n}\n</code></pre>\n<p>Then you can choose the admin Id in your test freely without having to access the actual value from the application.yaml.</p>\n<pre><code>class RegistrationServiceTest {\n private final static String defaultId = &quot;some-valid-uuid&quot;;\n\n private UserProfileRepository userProfileRepository;\n\n private RegistrationService registrationService;\n\n @BeforeEach\n void setup() {\n  userProfileRepository = mock(UserProfileRepository.class); // or use @Mock etc\n  registrationService = new RegistrationService(userProfileRepository, defaultId);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680087650,"creation_date":1680087650,"answer_id":75876345,"question_id":75875823,"body_markdown":"Here&#39;s the configuration properties version:\r\n\r\n```\r\n@ConfigurationProperties(prefix=&quot;user-service&quot;)\r\n@Data\r\nclass UserServiceProperties {\r\n private String defaultAdminId;\r\n}\r\n\r\n@Service\r\n@RequiredArgsConstructor \r\nclass RegistrationService {\r\n private final UserServiceProperties properties;\r\n \r\n private UserProfile notClientMapper(UserRegistrationForNotClientDto userRegistrationForNotClientDto) {\r\n  ...\r\n   userProfile.setAdminId(UUID.fromString(properties.getDefaultAdminId()));\r\n  ...\r\n }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass RegistrationServiceTest {\r\n private final static String defaultId = &quot;some-valid-uuid&quot;;\r\n\r\n @Mock\r\n private UserServiceProperties properties;\r\n\r\n @InjectMocks\r\n private RegistrationService registrationService;\r\n\r\n @BeforeEach\r\n void setup() {\r\n  when(properties.getDefaultAdminId()).thenReturn(defaultId);\r\n }\r\n}\r\n```","title":"How can I get value from application.yaml in test environment","body":"<p>Here's the configuration properties version:</p>\n<pre><code>@ConfigurationProperties(prefix=&quot;user-service&quot;)\n@Data\nclass UserServiceProperties {\n private String defaultAdminId;\n}\n\n@Service\n@RequiredArgsConstructor \nclass RegistrationService {\n private final UserServiceProperties properties;\n \n private UserProfile notClientMapper(UserRegistrationForNotClientDto userRegistrationForNotClientDto) {\n  ...\n   userProfile.setAdminId(UUID.fromString(properties.getDefaultAdminId()));\n  ...\n }\n}\n\n@ExtendWith(MockitoExtension.class)\nclass RegistrationServiceTest {\n private final static String defaultId = &quot;some-valid-uuid&quot;;\n\n @Mock\n private UserServiceProperties properties;\n\n @InjectMocks\n private RegistrationService registrationService;\n\n @BeforeEach\n void setup() {\n  when(properties.getDefaultAdminId()).thenReturn(defaultId);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":25709391,"reputation":3,"user_id":19468182,"display_name":"Uladzislau Niamira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75876345,"answer_count":2,"score":0,"last_activity_date":1680087650,"creation_date":1680084541,"question_id":75875823,"body_markdown":"I need to get a value from my application.yaml in production environment like this:\r\n\r\n```\r\n@Value(&quot;${user-service.defaultAdminId}&quot;)\r\n    private final String DEFAULT_ADMIN_ID;\r\n```\r\n\r\nThis value will be set up in userProfile variable in RegistrationService class:\r\n\r\n```\r\nprivate UserProfile notClientMapper(UserRegistrationForNotClientDto userRegistrationForNotClientDto) {\r\n        PassportData passportData = passportDataMapper.toEntityDataFromRegistrationForNotClientDto(\r\n                userRegistrationForNotClientDto);\r\n        Client client = clientMapper.mapTo(\r\n                userRegistrationForNotClientDto, passportData);\r\n        UserProfile userProfile = userProfileMapper.toUserProfileFromRegistrationForNotClientDto(\r\n                userRegistrationForNotClientDto, client);\r\n\r\n        userProfile.setAdminId(UUID.fromString(DEFAULT_ADMIN_ID));\r\n        userProfile.setQrData(qrDataGenerator.generateQRData());\r\n        passwordEncoder(userRegistrationForNotClientDto.getPassword(), userProfile);\r\n        return userProfile;\r\n    }\r\n```\r\n\r\nWell, my issue is when the application run in production environment everything work, but I also need to pass unit test for this block of code like this:\r\n\r\n```\r\n@Test\r\n    @DisplayName(&quot;When correct dto for registration not client then return after success registration for not client dto&quot;)\r\n    public void returnAfterSuccessRegistrationForNotClient() {\r\n        UserRegistrationForNotClientDto newUserNotClientDto\r\n                = DtoCreatorForTest.getUserRegistrationForNotClientDto();\r\n        mockTuneUpsCreateAfterSuccessRegistrationDtoForNotClient(newUserNotClientDto);\r\n\r\n        UserAfterSuccessRegistrationForNotClientDto expected =\r\n                DtoCreatorForTest.getAfterRegistrationNotClientDto(newUserNotClientDto);\r\n        UserAfterSuccessRegistrationForNotClientDto actual =\r\n                registrationService.registrationForNotClient(newUserNotClientDto);\r\n        Mockito.verify(userProfileRepository, Mockito.times(1)).save(any());\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n```\r\n\r\n And in test environment a DEFAULT_ADMIN_ID related to the value in applicatin.yaml is&#39;t set up.\r\nSo, not surprisingly I get a NPE. \r\nI&#39;m confused what can I do to fix this problem.  \r\n\r\n\r\nI try to get the value from application.yaml in test environment.\r\nExpecting to get that one.\r\nActually getting NPE.","title":"How can I get value from application.yaml in test environment","body":"<p>I need to get a value from my application.yaml in production environment like this:</p>\n<pre><code>@Value(&quot;${user-service.defaultAdminId}&quot;)\n    private final String DEFAULT_ADMIN_ID;\n</code></pre>\n<p>This value will be set up in userProfile variable in RegistrationService class:</p>\n<pre><code>private UserProfile notClientMapper(UserRegistrationForNotClientDto userRegistrationForNotClientDto) {\n        PassportData passportData = passportDataMapper.toEntityDataFromRegistrationForNotClientDto(\n                userRegistrationForNotClientDto);\n        Client client = clientMapper.mapTo(\n                userRegistrationForNotClientDto, passportData);\n        UserProfile userProfile = userProfileMapper.toUserProfileFromRegistrationForNotClientDto(\n                userRegistrationForNotClientDto, client);\n\n        userProfile.setAdminId(UUID.fromString(DEFAULT_ADMIN_ID));\n        userProfile.setQrData(qrDataGenerator.generateQRData());\n        passwordEncoder(userRegistrationForNotClientDto.getPassword(), userProfile);\n        return userProfile;\n    }\n</code></pre>\n<p>Well, my issue is when the application run in production environment everything work, but I also need to pass unit test for this block of code like this:</p>\n<pre><code>@Test\n    @DisplayName(&quot;When correct dto for registration not client then return after success registration for not client dto&quot;)\n    public void returnAfterSuccessRegistrationForNotClient() {\n        UserRegistrationForNotClientDto newUserNotClientDto\n                = DtoCreatorForTest.getUserRegistrationForNotClientDto();\n        mockTuneUpsCreateAfterSuccessRegistrationDtoForNotClient(newUserNotClientDto);\n\n        UserAfterSuccessRegistrationForNotClientDto expected =\n                DtoCreatorForTest.getAfterRegistrationNotClientDto(newUserNotClientDto);\n        UserAfterSuccessRegistrationForNotClientDto actual =\n                registrationService.registrationForNotClient(newUserNotClientDto);\n        Mockito.verify(userProfileRepository, Mockito.times(1)).save(any());\n        Assertions.assertEquals(expected, actual);\n    }\n</code></pre>\n<p>And in test environment a DEFAULT_ADMIN_ID related to the value in applicatin.yaml is't set up.\nSo, not surprisingly I get a NPE.\nI'm confused what can I do to fix this problem.</p>\n<p>I try to get the value from application.yaml in test environment.\nExpecting to get that one.\nActually getting NPE.</p>\n"},{"tags":["java","sql","jdbc","azure-sql-database"],"comments":[{"owner":{"account_id":26215335,"reputation":2350,"user_id":19893538,"display_name":"Bhavani"},"score":2,"creation_date":1679995424,"post_id":75864362,"comment_id":133816818,"body_markdown":"Once run the same query in SSMS to check getting error or not?","body":"Once run the same query in SSMS to check getting error or not?"},{"owner":{"account_id":26215335,"reputation":2350,"user_id":19893538,"display_name":"Bhavani"},"score":0,"creation_date":1679997351,"post_id":75864362,"comment_id":133817320,"body_markdown":"Instead of fowudatabase.dbo.weather just mention weather and try once.","body":"Instead of fowudatabase.dbo.weather just mention weather and try once."},{"owner":{"account_id":24736871,"reputation":13,"user_id":18624121,"display_name":"Alccro"},"score":0,"creation_date":1680000904,"post_id":75864362,"comment_id":133818240,"body_markdown":"@Bhavani The query runs ok when i just use weather or dbo.weather in  the Azure query editor. But does not work if I do that from the query statement in the method.","body":"@Bhavani The query runs ok when i just use weather or dbo.weather in  the Azure query editor. But does not work if I do that from the query statement in the method."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680041408,"post_id":75864362,"comment_id":133828824,"body_markdown":"Please create a [mcve]. Your problem doesn&#39;t seem to have anything to do with Kafka. Refactor your SQL code to an external function and test it separately. Also worth pointing out that Kafka Connect JDBC Sink can probably already do what you want.","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your problem doesn&#39;t seem to have anything to do with Kafka. Refactor your SQL code to an external function and test it separately. Also worth pointing out that Kafka Connect JDBC Sink can probably already do what you want."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1680041822,"post_id":75864362,"comment_id":133828890,"body_markdown":"Q: It sounds like you might have &quot;connected&quot; to one database ... but you&#39;re querying a *different* database (i.e. making a cross-DB query).  Look here: https://azure.microsoft.com/en-us/blog/querying-remote-databases-in-azure-sql-db/ and here: https://learn.microsoft.com/en-us/azure/azure-sql/database/elastic-query-getting-started-vertical?view=azuresql","body":"Q: It sounds like you might have &quot;connected&quot; to one database ... but you&#39;re querying a <i>different</i> database (i.e. making a cross-DB query).  Look here: <a href=\"https://azure.microsoft.com/en-us/blog/querying-remote-databases-in-azure-sql-db/\" rel=\"nofollow noreferrer\">azure.microsoft.com/en-us/blog/&hellip;</a> and here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-sql/database/elastic-query-getting-started-vertical?view=azuresql\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/azure-sql/database/&hellip;</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1680041899,"post_id":75864362,"comment_id":133828901,"body_markdown":"INSERT into table?  that&#39;s a SQL keyword.  You should never name a table &quot;table&quot;.  Leave off &quot;database.dbo&quot; as well.  Should just be a sensible table name.","body":"INSERT into table?  that&#39;s a SQL keyword.  You should never name a table &quot;table&quot;.  Leave off &quot;database.dbo&quot; as well.  Should just be a sensible table name."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1680042044,"post_id":75864362,"comment_id":133828925,"body_markdown":"@duffymo: I suspect the OP probably just substituted example names &quot;database.dbo.table&quot; for his *real* schema.  That&#39;s what I&#39;d do, anyway :)","body":"@duffymo: I suspect the OP probably just substituted example names &quot;database.dbo.table&quot; for his <i>real</i> schema.  That&#39;s what I&#39;d do, anyway :)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1680043531,"post_id":75864362,"comment_id":133829144,"body_markdown":"I don&#39;t see how telling me that table is named WEATHER_DATA gives away any secrets.  Silly.","body":"I don&#39;t see how telling me that table is named WEATHER_DATA gives away any secrets.  Silly."},{"owner":{"account_id":24736871,"reputation":13,"user_id":18624121,"display_name":"Alccro"},"score":0,"creation_date":1680072227,"post_id":75864362,"comment_id":133832763,"body_markdown":"@duffymo - I did just replace the real schema name with database.dbo.table.","body":"@duffymo - I did just replace the real schema name with database.dbo.table."},{"owner":{"account_id":24736871,"reputation":13,"user_id":18624121,"display_name":"Alccro"},"score":0,"creation_date":1680072453,"post_id":75864362,"comment_id":133832813,"body_markdown":"@Paulsm4 - thanks for the heads up. I did wonder about this but I&#39;m still not sure it&#39;s the right way to go about it. I&#39;m not really cross-querying as I only have one table. I just want to add data to it from a kafka topic. As you can tell I&#39;m new to all this. I&#39;ll have another look at the links you provided and keep trying.","body":"@Paulsm4 - thanks for the heads up. I did wonder about this but I&#39;m still not sure it&#39;s the right way to go about it. I&#39;m not really cross-querying as I only have one table. I just want to add data to it from a kafka topic. As you can tell I&#39;m new to all this. I&#39;ll have another look at the links you provided and keep trying."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1680090931,"post_id":75864362,"comment_id":133837435,"body_markdown":"You&#39;d find this easier if you decomposed your problem some more.  Write a repository class whose sole responsibility is to deal with the database.  Unit test it until it works perfectly.  Inject an instance into the Kafka component that handles messaging.  It&#39;s called the single responsibility principle.  The code you posted is doing too much.","body":"You&#39;d find this easier if you decomposed your problem some more.  Write a repository class whose sole responsibility is to deal with the database.  Unit test it until it works perfectly.  Inject an instance into the Kafka component that handles messaging.  It&#39;s called the single responsibility principle.  The code you posted is doing too much."}],"answers":[{"tags":[],"owner":{"account_id":24736871,"reputation":13,"user_id":18624121,"display_name":"Alccro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680087643,"creation_date":1680087643,"answer_id":75876343,"question_id":75864362,"body_markdown":"Update:\r\n\r\nIt was a properties error with the datasource. \r\nTurns out \r\n`props.put(&quot;url&quot;,&quot;jdbc:sqlserver://****.database.windows.net:1433;databaseName=****&quot;)`\r\n\r\nis correct, not \r\n\r\n`props.put(&quot;url&quot;, &quot;jdbc:sqlserver://****.database.windows.net:1433);`\r\n \r\n`props.put(&quot;database&quot;, &quot;****&quot;);`","title":"Cannot get an Azure SQL Server query to execute from a small kafka consumer application using vertx and the JDBC connector","body":"<p>Update:</p>\n<p>It was a properties error with the datasource.\nTurns out\n<code>props.put(&quot;url&quot;,&quot;jdbc:sqlserver://****.database.windows.net:1433;databaseName=****&quot;)</code></p>\n<p>is correct, not</p>\n<p><code>props.put(&quot;url&quot;, &quot;jdbc:sqlserver://****.database.windows.net:1433);</code></p>\n<p><code>props.put(&quot;database&quot;, &quot;****&quot;);</code></p>\n"}],"owner":{"account_id":24736871,"reputation":13,"user_id":18624121,"display_name":"Alccro"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680087643,"creation_date":1679994829,"question_id":75864362,"body_markdown":"I am trying to insert data into an azure sql server using a java Kafka consumer application. I have a connection to the database confirmed. \r\n\r\nHere is the method.\r\n\r\n```\r\nprivate void poll(KafkaConsumer&lt;String, JsonObject&gt; consumer) {\r\n    vertx.setPeriodic(TIME_OUT_MS,\r\n        timerId -&gt; consumer.poll(Duration.ofMillis(POLL_MS)).onSuccess(records -&gt; {\r\n          for (int i = 0; i &lt; records.size(); i++) {\r\n            KafkaConsumerRecord&lt;String, JsonObject&gt; record = records.recordAt(i);\r\n            System.out.println(\r\n                &quot;key=&quot; + record.key() + &quot;,value=&quot; + record.value() + &quot;,partition=&quot; +\r\n                    record.partition() + &quot;,timestamp=&quot; + record.timestamp() + &quot;,offset=&quot; + record.offset());\r\n\r\n            Weather weather = toParams(record);\r\n            JsonObject datasourceConfig = PropertiesHelper.getDatasourceProperties();\r\n            JDBCPool pool = JDBCPool.pool(vertx, datasourceConfig);\r\n            String query = &quot;INSERT INTO database.dbo.table (captureTime, waveHeight, wavePeriod, waveDirection, windSpeed, windDirection) values (?, ?, ?, ?, ?, ?)&quot;;\r\n            pool\r\n                .getConnection()\r\n                .onFailure(e -&gt; {\r\n                  System.out.println(&quot;failed to get a connection: &quot; + e.toString());\r\n                })\r\n                .onSuccess(conn -&gt; {\r\n                  conn\r\n                      .preparedQuery(query)\r\n                      .execute(Tuple.of(weather.getCaptureTime(), weather.getWaveHeight(), weather.getWavePeriod(),\r\n                          weather.getWaveDirection(), weather.getWindSpeed(), weather.getWindDirection()))\r\n                      .onFailure(e -&gt; {\r\n                        System.out.println(&quot;failed to execute query: &quot; + e.toString());\r\n                        conn.close();\r\n                      })\r\n                      .onSuccess(rows -&gt; {\r\n                        System.out.println(&quot;successfully added row &quot; + weather.getCaptureTime());\r\n                        conn.close();\r\n                      });\r\n                });\r\n          }\r\n        }).onFailure(cause -&gt; {\r\n          System.out.println(\r\n              &quot;Something went wrong when polling &quot; + cause.toString());\r\n          cause.printStackTrace();\r\n\r\n          vertx.cancelTimer(timerId);\r\n        }));\r\n  }\r\n```\r\n\r\nI think the issue is with the \r\n```\r\nString query = &quot;INSERT INTO {database.dbo.table} (captureTime, waveHeight, wavePeriod, waveDirection, windSpeed, windDirection) values (?, ?, ?, ?, ?, ?)&quot;;\r\n```\r\nquery line, but I&#39;m not sure what to try next.\r\n \r\n\r\nMy issue is that no matter how I word my sql query string I get one of two errors. If I use the full databasename.dbo.tablename in the query I get `&quot;Reference to database and/or server name is not supported in the version of SQL server&quot;`. But if I use any variation of tablename and/or dbo I get an `&quot;invalid object&quot;` error instead.  I think I have tried most variations of the name but so far no success. \r\n\r\nAny help would be gratefully received.","title":"Cannot get an Azure SQL Server query to execute from a small kafka consumer application using vertx and the JDBC connector","body":"<p>I am trying to insert data into an azure sql server using a java Kafka consumer application. I have a connection to the database confirmed.</p>\n<p>Here is the method.</p>\n<pre><code>private void poll(KafkaConsumer&lt;String, JsonObject&gt; consumer) {\n    vertx.setPeriodic(TIME_OUT_MS,\n        timerId -&gt; consumer.poll(Duration.ofMillis(POLL_MS)).onSuccess(records -&gt; {\n          for (int i = 0; i &lt; records.size(); i++) {\n            KafkaConsumerRecord&lt;String, JsonObject&gt; record = records.recordAt(i);\n            System.out.println(\n                &quot;key=&quot; + record.key() + &quot;,value=&quot; + record.value() + &quot;,partition=&quot; +\n                    record.partition() + &quot;,timestamp=&quot; + record.timestamp() + &quot;,offset=&quot; + record.offset());\n\n            Weather weather = toParams(record);\n            JsonObject datasourceConfig = PropertiesHelper.getDatasourceProperties();\n            JDBCPool pool = JDBCPool.pool(vertx, datasourceConfig);\n            String query = &quot;INSERT INTO database.dbo.table (captureTime, waveHeight, wavePeriod, waveDirection, windSpeed, windDirection) values (?, ?, ?, ?, ?, ?)&quot;;\n            pool\n                .getConnection()\n                .onFailure(e -&gt; {\n                  System.out.println(&quot;failed to get a connection: &quot; + e.toString());\n                })\n                .onSuccess(conn -&gt; {\n                  conn\n                      .preparedQuery(query)\n                      .execute(Tuple.of(weather.getCaptureTime(), weather.getWaveHeight(), weather.getWavePeriod(),\n                          weather.getWaveDirection(), weather.getWindSpeed(), weather.getWindDirection()))\n                      .onFailure(e -&gt; {\n                        System.out.println(&quot;failed to execute query: &quot; + e.toString());\n                        conn.close();\n                      })\n                      .onSuccess(rows -&gt; {\n                        System.out.println(&quot;successfully added row &quot; + weather.getCaptureTime());\n                        conn.close();\n                      });\n                });\n          }\n        }).onFailure(cause -&gt; {\n          System.out.println(\n              &quot;Something went wrong when polling &quot; + cause.toString());\n          cause.printStackTrace();\n\n          vertx.cancelTimer(timerId);\n        }));\n  }\n</code></pre>\n<p>I think the issue is with the</p>\n<pre><code>String query = &quot;INSERT INTO {database.dbo.table} (captureTime, waveHeight, wavePeriod, waveDirection, windSpeed, windDirection) values (?, ?, ?, ?, ?, ?)&quot;;\n</code></pre>\n<p>query line, but I'm not sure what to try next.</p>\n<p>My issue is that no matter how I word my sql query string I get one of two errors. If I use the full databasename.dbo.tablename in the query I get <code>&quot;Reference to database and/or server name is not supported in the version of SQL server&quot;</code>. But if I use any variation of tablename and/or dbo I get an <code>&quot;invalid object&quot;</code> error instead.  I think I have tried most variations of the name but so far no success.</p>\n<p>Any help would be gratefully received.</p>\n"},{"tags":["java","android","android-studio","bluetooth"],"comments":[{"owner":{"account_id":16434596,"reputation":862,"user_id":11872490,"display_name":"Kabir"},"score":1,"creation_date":1564900389,"post_id":57344298,"comment_id":101176760,"body_markdown":"Refere this link :https://github.com/tutsplus/Android-BluetoothScannerFinishedProject","body":"Refere this link :<a href=\"https://github.com/tutsplus/Android-BluetoothScannerFinishedProject\" rel=\"nofollow noreferrer\">github.com/tutsplus/Android-BluetoothScannerFinishedProject</a>"},{"owner":{"account_id":14326449,"reputation":67,"user_id":10348428,"display_name":"Abstract123"},"score":0,"creation_date":1564907071,"post_id":57344298,"comment_id":101178015,"body_markdown":"I did come across this link. Could not really understand all of the elements used in this code, for instance DeviceListFragment. Will spend more time on it. Thanks.","body":"I did come across this link. Could not really understand all of the elements used in this code, for instance DeviceListFragment. Will spend more time on it. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":27446708,"reputation":21,"user_id":20940306,"display_name":"Mohib Ul Rehman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680087601,"creation_date":1680087601,"answer_id":75876336,"question_id":57344298,"body_markdown":"You didn&#39;t clear the existing array list and add all whatever you scan again. There is need of check when you scan next time either add only the items in list or clear both lists then add them again.\r\n\r\n\r\nFollowing line needs to be modified.\r\n\r\n        allDevices.addAll(deviceList);       \r\n\r\n\r\njust clear allDevices arraylist before this line will solve your problem.","title":"Update nearby unpaired bluetooth devices list in listview [Android Studio]","body":"<p>You didn't clear the existing array list and add all whatever you scan again. There is need of check when you scan next time either add only the items in list or clear both lists then add them again.</p>\n<p>Following line needs to be modified.</p>\n<pre><code>    allDevices.addAll(deviceList);       \n</code></pre>\n<p>just clear allDevices arraylist before this line will solve your problem.</p>\n"}],"owner":{"account_id":14326449,"reputation":67,"user_id":10348428,"display_name":"Abstract123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680087601,"creation_date":1564899650,"question_id":57344298,"body_markdown":"Note: I am completely new to android studio (java) and this is my very first project. \r\n\r\nI am trying to scan all (paired and unpaired) bluetooth devices and display a list of these devices on application screen. \r\n\r\nI have been successful in getting a list so far but following issues persist:\r\n\r\n1) As new unpaired devices are scanned, earlier scanned devices are repeated in the display list as duplicates. \r\n\r\n2) If I turn off discover-ability in a device, the list is not updated and keeps showing the turned off (no longer available) device in the list.\r\n\r\n**Problem: Bluetooth device list is not updated correctly every time a device becomes available or unavailable.** \r\n\r\nI have tried clearing my array list before it is updated. Doesn&#39;t seem to work. Also, I understand there are a lot of resources on stackoverflow and other websites that cover similar topics of getting nearby bluetooth device list. I have followed multiple of them and written my code but could not come across anything that could solve this &quot;list update&quot; issue. \r\n\r\nI am sharing current code and results. Please suggest edits/additions.\r\n\r\nAppreciate your time and help. \r\n\r\n***Main Activity Class Code***\r\n\r\n```Main Activity Class, android studio\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int REQUEST_ENABLE_BT = 1;                         //Enable bluetooth request variable\r\n    private static final int REQUEST_DISCOVERABILITY = 1 ;                  //Make bluetooth discoverable request variable\r\n\r\n    private BluetoothAdapter btAdapter;                                     //Define bluetooth adapter variable\r\n\r\n    ArrayList&lt;String&gt; deviceList = new ArrayList&lt;&gt;();                       //Store paired devices list\r\n    ArrayList&lt;String&gt; newDevices = new ArrayList&lt;&gt;();                       //Store available devices list\r\n    ArrayList&lt;String&gt; allDevices = new ArrayList&lt;&gt;();                       //Store all devices for display on screen\r\n\r\n    ListView btList;                                                        //Define list UI item\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {                    //On activity creation do the following\r\n\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);                             //Pre-written -- to set layout as screen UI\r\n\r\n\r\n        btList = (ListView)findViewById(R.id.list1);                        //Set list variable to UI item in layout\r\n\r\n\r\n        btAdapter = BluetoothAdapter.getDefaultAdapter();                   //Initialize adapter\r\n\r\n\r\n        if(allDevices != null){\r\n\r\n            allDevices.clear();                                             //Clear array to display fresh list\r\n        }\r\n\r\n\r\n\r\n        int MY_PERMISSIONS_REQUEST_ACCESS_COARSE_LOCATION = 1;\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},   //Ask for permission to turn on location\r\n                MY_PERMISSIONS_REQUEST_ACCESS_COARSE_LOCATION);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    public void btOn(View view){                                           //Bluetooth On event\r\n\r\n        if (btAdapter != null) {\r\n\r\n            if (!btAdapter.isEnabled()) {                                  //Enable bluetooth if not enables already\r\n                Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n            }\r\n            else{                                                          //If already enabled display list of paired devices\r\n\r\n                pairedList();\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if (requestCode == REQUEST_ENABLE_BT) {\r\n\r\n            if (resultCode == RESULT_OK) {\r\n\r\n                pairedList();                                              //If user has enabled bluetooth, show list of paired devices\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public void discoverOn(){                                              //Method for setting bluetooth on discoverable mode\r\n                                                                           //for 5 minutes\r\n        Intent discoverableIntent =\r\n                new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n        discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\r\n        startActivityForResult(discoverableIntent, REQUEST_DISCOVERABILITY);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public void scanNewDevices(View view){                                  //Scan for unpaired available bluetooth devices when &quot;scan button&quot; is clicked\r\n\r\n        discoverOn();                                                       //Set bluetooth to discoverable\r\n\r\n        if (btAdapter.isDiscovering()) {\r\n                                                                            //Bluetooth is already in mode discovery mode, we cancel to restart it again\r\n            btAdapter.cancelDiscovery();\r\n        }\r\n        btAdapter.startDiscovery();                                         //Start scanning\r\n\r\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n\r\n        registerReceiver(receiver, filter);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void pairedList(){                                                //Method gets list of paired devices\r\n\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = btAdapter.getBondedDevices();\r\n\r\n        if (deviceList != null) {                                            //Clear older list items\r\n            deviceList.clear();\r\n        }\r\n\r\n        if(pairedDevices != null) {\r\n            for (BluetoothDevice bt : pairedDevices) {\r\n\r\n                deviceList.add(bt.getName() + &#39;\\n&#39; + bt.getAddress());      //Add current items\r\n            }\r\n        }\r\n\r\n\r\n        Toast.makeText(getApplicationContext(), &quot;Showing Paired Devices&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n        allDevices.addAll(deviceList);                                      //Update final display list\r\n\r\n        showList();                                                         //Display list on screen\r\n\r\n    }\r\n\r\n\r\n                                                                            //Create a BroadcastReceiver for ACTION_FOUND.\r\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n                                                                            //Discovery has found a device. Get the BluetoothDevice\r\n                                                                            //object and its info from the Intent.\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n\r\n\r\n\r\n                if(newDevices != null){\r\n\r\n                    newDevices.clear();                                     //Clear earlier list\r\n\r\n                }\r\n\r\n\r\n                if (device != null ) {\r\n\r\n                    newDevices.add(device.getName() + &#39;\\n&#39; + device.getAddress());\r\n\r\n                    allDevices.addAll(newDevices);                          //Update new devices in final display list\r\n\r\n                    showList();                                             //Display list\r\n                }\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onDestroy() {                                           //When application is closed,\r\n        super.onDestroy();\r\n                                                                           //Unregister the ACTION_FOUND receiver.\r\n        unregisterReceiver(receiver);\r\n    }\r\n\r\n\r\n\r\n    public void showList(){                                                 //Method to set device list to ListView UI\r\n\r\n        final ArrayAdapter&lt;String&gt; adapter = new  ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1, allDevices);\r\n\r\n        btList.setAdapter(adapter);\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n***activity_main.xml code: to get understanding of layout***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;96dp&quot;\r\n        android:layout_marginLeft=&quot;96dp&quot;\r\n        android:layout_marginTop=&quot;56dp&quot;\r\n        android:onClick=&quot;btOn&quot;\r\n        android:text=&quot;@string/btbutton&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list1&quot;\r\n        android:layout_width=&quot;305dp&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginLeft=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;204dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:layout_marginRight=&quot;32dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;104dp&quot;\r\n        android:layout_marginLeft=&quot;104dp&quot;\r\n        android:layout_marginTop=&quot;124dp&quot;\r\n        android:onClick=&quot;scanNewDevices&quot;\r\n        android:text=&quot;@string/button2&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n***Current Results***\r\n\r\nDuplicate device names and if I turn off any of these devices, they are still displayed in the list.\r\n\r\n\r\n[![Duplicate device names and if I turn off any of these devices, they are still displayed in the list][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gIfeKm.png","title":"Update nearby unpaired bluetooth devices list in listview [Android Studio]","body":"<p>Note: I am completely new to android studio (java) and this is my very first project. </p>\n\n<p>I am trying to scan all (paired and unpaired) bluetooth devices and display a list of these devices on application screen. </p>\n\n<p>I have been successful in getting a list so far but following issues persist:</p>\n\n<p>1) As new unpaired devices are scanned, earlier scanned devices are repeated in the display list as duplicates. </p>\n\n<p>2) If I turn off discover-ability in a device, the list is not updated and keeps showing the turned off (no longer available) device in the list.</p>\n\n<p><strong>Problem: Bluetooth device list is not updated correctly every time a device becomes available or unavailable.</strong> </p>\n\n<p>I have tried clearing my array list before it is updated. Doesn't seem to work. Also, I understand there are a lot of resources on stackoverflow and other websites that cover similar topics of getting nearby bluetooth device list. I have followed multiple of them and written my code but could not come across anything that could solve this \"list update\" issue. </p>\n\n<p>I am sharing current code and results. Please suggest edits/additions.</p>\n\n<p>Appreciate your time and help. </p>\n\n<p><strong><em>Main Activity Class Code</em></strong></p>\n\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int REQUEST_ENABLE_BT = 1;                         //Enable bluetooth request variable\n    private static final int REQUEST_DISCOVERABILITY = 1 ;                  //Make bluetooth discoverable request variable\n\n    private BluetoothAdapter btAdapter;                                     //Define bluetooth adapter variable\n\n    ArrayList&lt;String&gt; deviceList = new ArrayList&lt;&gt;();                       //Store paired devices list\n    ArrayList&lt;String&gt; newDevices = new ArrayList&lt;&gt;();                       //Store available devices list\n    ArrayList&lt;String&gt; allDevices = new ArrayList&lt;&gt;();                       //Store all devices for display on screen\n\n    ListView btList;                                                        //Define list UI item\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {                    //On activity creation do the following\n\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);                             //Pre-written -- to set layout as screen UI\n\n\n        btList = (ListView)findViewById(R.id.list1);                        //Set list variable to UI item in layout\n\n\n        btAdapter = BluetoothAdapter.getDefaultAdapter();                   //Initialize adapter\n\n\n        if(allDevices != null){\n\n            allDevices.clear();                                             //Clear array to display fresh list\n        }\n\n\n\n        int MY_PERMISSIONS_REQUEST_ACCESS_COARSE_LOCATION = 1;\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},   //Ask for permission to turn on location\n                MY_PERMISSIONS_REQUEST_ACCESS_COARSE_LOCATION);\n\n\n\n    }\n\n\n\n    public void btOn(View view){                                           //Bluetooth On event\n\n        if (btAdapter != null) {\n\n            if (!btAdapter.isEnabled()) {                                  //Enable bluetooth if not enables already\n                Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n            }\n            else{                                                          //If already enabled display list of paired devices\n\n                pairedList();\n\n            }\n        }\n\n    }\n\n\n\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode == REQUEST_ENABLE_BT) {\n\n            if (resultCode == RESULT_OK) {\n\n                pairedList();                                              //If user has enabled bluetooth, show list of paired devices\n\n            }\n\n        }\n    }\n\n\n    public void discoverOn(){                                              //Method for setting bluetooth on discoverable mode\n                                                                           //for 5 minutes\n        Intent discoverableIntent =\n                new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n        discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\n        startActivityForResult(discoverableIntent, REQUEST_DISCOVERABILITY);\n\n\n    }\n\n\n\n\n    public void scanNewDevices(View view){                                  //Scan for unpaired available bluetooth devices when \"scan button\" is clicked\n\n        discoverOn();                                                       //Set bluetooth to discoverable\n\n        if (btAdapter.isDiscovering()) {\n                                                                            //Bluetooth is already in mode discovery mode, we cancel to restart it again\n            btAdapter.cancelDiscovery();\n        }\n        btAdapter.startDiscovery();                                         //Start scanning\n\n        IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n\n        registerReceiver(receiver, filter);\n\n\n    }\n\n\n\n\n\n\n    public void pairedList(){                                                //Method gets list of paired devices\n\n        Set&lt;BluetoothDevice&gt; pairedDevices = btAdapter.getBondedDevices();\n\n        if (deviceList != null) {                                            //Clear older list items\n            deviceList.clear();\n        }\n\n        if(pairedDevices != null) {\n            for (BluetoothDevice bt : pairedDevices) {\n\n                deviceList.add(bt.getName() + '\\n' + bt.getAddress());      //Add current items\n            }\n        }\n\n\n        Toast.makeText(getApplicationContext(), \"Showing Paired Devices\",Toast.LENGTH_SHORT).show();\n\n        allDevices.addAll(deviceList);                                      //Update final display list\n\n        showList();                                                         //Display list on screen\n\n    }\n\n\n                                                                            //Create a BroadcastReceiver for ACTION_FOUND.\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n                                                                            //Discovery has found a device. Get the BluetoothDevice\n                                                                            //object and its info from the Intent.\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n\n\n\n                if(newDevices != null){\n\n                    newDevices.clear();                                     //Clear earlier list\n\n                }\n\n\n                if (device != null ) {\n\n                    newDevices.add(device.getName() + '\\n' + device.getAddress());\n\n                    allDevices.addAll(newDevices);                          //Update new devices in final display list\n\n                    showList();                                             //Display list\n                }\n\n            }\n        }\n    };\n\n    @Override\n    protected void onDestroy() {                                           //When application is closed,\n        super.onDestroy();\n                                                                           //Unregister the ACTION_FOUND receiver.\n        unregisterReceiver(receiver);\n    }\n\n\n\n    public void showList(){                                                 //Method to set device list to ListView UI\n\n        final ArrayAdapter&lt;String&gt; adapter = new  ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1, allDevices);\n\n        btList.setAdapter(adapter);\n\n    }\n\n}\n\n\n</code></pre>\n\n<p><strong><em>activity_main.xml code: to get understanding of layout</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/btbutton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"96dp\"\n        android:layout_marginLeft=\"96dp\"\n        android:layout_marginTop=\"56dp\"\n        android:onClick=\"btOn\"\n        android:text=\"@string/btbutton\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ListView\n        android:id=\"@+id/list1\"\n        android:layout_width=\"305dp\"\n        android:layout_height=\"500dp\"\n        android:layout_marginStart=\"32dp\"\n        android:layout_marginLeft=\"32dp\"\n        android:layout_marginTop=\"204dp\"\n        android:layout_marginEnd=\"32dp\"\n        android:layout_marginRight=\"32dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"104dp\"\n        android:layout_marginLeft=\"104dp\"\n        android:layout_marginTop=\"124dp\"\n        android:onClick=\"scanNewDevices\"\n        android:text=\"@string/button2\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong><em>Current Results</em></strong></p>\n\n<p>Duplicate device names and if I turn off any of these devices, they are still displayed in the list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gIfeKm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIfeKm.png\" alt=\"Duplicate device names and if I turn off any of these devices, they are still displayed in the list\"></a></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1679000162,"post_id":75761548,"comment_id":133647032,"body_markdown":"That would be a terrible program structure since it is confusing data with code structure. Instead, there should be a Play class with a name and a type and a collection of Play objects, such as an array, List, Map, or other. The JSON equivalent would be a JSONArray, not a single JSONObject","body":"That would be a terrible program structure since it is confusing data with code structure. Instead, there should be a Play class with a name and a type and a collection of Play objects, such as an array, List, Map, or other. The JSON equivalent would be a JSONArray, not a single JSONObject"},{"owner":{"account_id":20174412,"reputation":43,"user_id":14796445,"display_name":"Naky"},"score":0,"creation_date":1679000736,"post_id":75761548,"comment_id":133647157,"body_markdown":"@HovercraftFullOfEels I agree, but I can&#39;t change the json file, only the java code. In this case, the Plays class respects the json structure and it parses correctly. The big problem is when I have to take the attribute&#39;s name because i can&#39;t have a &#39;name&#39; attribute in the first place, as it would mess up the parsing. If it&#39;s impossible to do, I accept alternative ways of writing the Plays code, but without messing the parsing I don&#39;t think it can be made. That&#39;s why I didn&#39;t include the parsing code, but if needed i can do it.","body":"@HovercraftFullOfEels I agree, but I can&#39;t change the json file, only the java code. In this case, the Plays class respects the json structure and it parses correctly. The big problem is when I have to take the attribute&#39;s name because i can&#39;t have a &#39;name&#39; attribute in the first place, as it would mess up the parsing. If it&#39;s impossible to do, I accept alternative ways of writing the Plays code, but without messing the parsing I don&#39;t think it can be made. That&#39;s why I didn&#39;t include the parsing code, but if needed i can do it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679001261,"post_id":75761548,"comment_id":133647274,"body_markdown":"Which JSON parser are you using?","body":"Which JSON parser are you using?"},{"owner":{"account_id":20174412,"reputation":43,"user_id":14796445,"display_name":"Naky"},"score":0,"creation_date":1679001507,"post_id":75761548,"comment_id":133647322,"body_markdown":"@markspace I&#39;m using Jackson. When using readValue method, the parsers reads my json file and assigns each element to the respective java element, following the json file structure. If the structures are not the same, errors pop in.","body":"@markspace I&#39;m using Jackson. When using readValue method, the parsers reads my json file and assigns each element to the respective java element, following the json file structure. If the structures are not the same, errors pop in."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679001977,"post_id":75761548,"comment_id":133647419,"body_markdown":"I&#39;m still not sure of the question, it looks like your code will work.  Alternately, you cause use the `readTree(input)` method of object mapper to read an arbitrary tree and verify the strings yourself.","body":"I&#39;m still not sure of the question, it looks like your code will work.  Alternately, you cause use the <code>readTree(input)</code> method of object mapper to read an arbitrary tree and verify the strings yourself."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679022059,"creation_date":1679001975,"answer_id":75761783,"question_id":75761548,"body_markdown":"Unless you really do want a different implementation for each named play, rather than a simple POJO which holds name and type, do it like this:\r\n```\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic class Test2 {\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String json = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;hamlet\\&quot;: {\\n&quot; +\r\n                &quot;         \\&quot;name\\&quot;: \\&quot;Hamlet\\&quot;,\\n&quot; +\r\n                &quot;         \\&quot;type\\&quot;: \\&quot;tragedy\\&quot;\\n&quot; +\r\n                &quot;     },\\n&quot; +\r\n                &quot;     \\&quot;aslike\\&quot;: {\\n&quot; +\r\n                &quot;         \\&quot;name\\&quot;: \\&quot;As You Like It\\&quot;,\\n&quot; +\r\n                &quot;         \\&quot;type\\&quot;: \\&quot;comedy\\&quot;\\n&quot; +\r\n                &quot;     },\\n&quot; +\r\n                &quot;     \\&quot;othello\\&quot;: {\\n&quot; +\r\n                &quot;         \\&quot;name\\&quot;: \\&quot;Othello\\&quot;,\\n&quot; +\r\n                &quot;         \\&quot;type\\&quot;: \\&quot;tragedy\\&quot;\\n&quot; +\r\n                &quot;     }\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map&lt;String,Play&gt; plays = mapper.createParser(json)\r\n            .readValueAs(new TypeReference&lt;Map&lt;String,Play&gt;&gt;() {});\r\n    }\r\n}\r\n\r\nclass Play {\r\n    public String name;\r\n    public String type;\r\n}\r\n```\r\nWe have told `ObjectMapper` that we want the data as a `Map&lt;String,Play&gt;`, so it will use the attribute names in the top level JSON object (i.e.&quot;hamlet&quot;, &quot;aslike&quot; and so on) as keys in the `Map`, and use the structure of the `Play` class to parse the values of those attributes.\r\n\r\nOnce you have that data structure you can iterate over the `Map` entries to verify that the key of the entry matches the `name` field of the value.\r\n\r\nHow you&#39;ll verify that &quot;aslike&quot; matches &quot;As You Like It&quot;, I don&#39;t know.\r\n\r\n","title":"Can I compare a random value with the name of an class&#39; attribute?","body":"<p>Unless you really do want a different implementation for each named play, rather than a simple POJO which holds name and type, do it like this:</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class Test2 {\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        String json = &quot;{\\n&quot; +\n                &quot;    \\&quot;hamlet\\&quot;: {\\n&quot; +\n                &quot;         \\&quot;name\\&quot;: \\&quot;Hamlet\\&quot;,\\n&quot; +\n                &quot;         \\&quot;type\\&quot;: \\&quot;tragedy\\&quot;\\n&quot; +\n                &quot;     },\\n&quot; +\n                &quot;     \\&quot;aslike\\&quot;: {\\n&quot; +\n                &quot;         \\&quot;name\\&quot;: \\&quot;As You Like It\\&quot;,\\n&quot; +\n                &quot;         \\&quot;type\\&quot;: \\&quot;comedy\\&quot;\\n&quot; +\n                &quot;     },\\n&quot; +\n                &quot;     \\&quot;othello\\&quot;: {\\n&quot; +\n                &quot;         \\&quot;name\\&quot;: \\&quot;Othello\\&quot;,\\n&quot; +\n                &quot;         \\&quot;type\\&quot;: \\&quot;tragedy\\&quot;\\n&quot; +\n                &quot;     }\\n&quot; +\n                &quot;}&quot;;\n        Map&lt;String,Play&gt; plays = mapper.createParser(json)\n            .readValueAs(new TypeReference&lt;Map&lt;String,Play&gt;&gt;() {});\n    }\n}\n\nclass Play {\n    public String name;\n    public String type;\n}\n</code></pre>\n<p>We have told <code>ObjectMapper</code> that we want the data as a <code>Map&lt;String,Play&gt;</code>, so it will use the attribute names in the top level JSON object (i.e.&quot;hamlet&quot;, &quot;aslike&quot; and so on) as keys in the <code>Map</code>, and use the structure of the <code>Play</code> class to parse the values of those attributes.</p>\n<p>Once you have that data structure you can iterate over the <code>Map</code> entries to verify that the key of the entry matches the <code>name</code> field of the value.</p>\n<p>How you'll verify that &quot;aslike&quot; matches &quot;As You Like It&quot;, I don't know.</p>\n"},{"tags":[],"owner":{"account_id":20174412,"reputation":43,"user_id":14796445,"display_name":"Naky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680087526,"creation_date":1680087526,"answer_id":75876319,"question_id":75761548,"body_markdown":"Ok, didn&#39;t really find a solution to my &quot;comparing name with an attibute&#39;s name&quot; problem, but i found a workaround. Thanks to @tgdavies for the cue, even if unintentional.\r\n\r\nMy solution was using nested HashMaps in a form like this:\r\n\r\n    HashMap&lt;Object, HashMap&lt;String, String&gt;&gt;\r\n\r\nto parse the json code. This way it doesn&#39;t mess the parsing itself and I&#39;m also assigning each object to his properties expressed as strings, which allows me to access them easily and correctly.","title":"Can I compare a random value with the name of an class&#39; attribute?","body":"<p>Ok, didn't really find a solution to my &quot;comparing name with an attibute's name&quot; problem, but i found a workaround. Thanks to @tgdavies for the cue, even if unintentional.</p>\n<p>My solution was using nested HashMaps in a form like this:</p>\n<pre><code>HashMap&lt;Object, HashMap&lt;String, String&gt;&gt;\n</code></pre>\n<p>to parse the json code. This way it doesn't mess the parsing itself and I'm also assigning each object to his properties expressed as strings, which allows me to access them easily and correctly.</p>\n"}],"owner":{"account_id":20174412,"reputation":43,"user_id":14796445,"display_name":"Naky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75876319,"answer_count":2,"score":1,"last_activity_date":1680087526,"creation_date":1679000054,"question_id":75761548,"body_markdown":"I have a chunk of code like this:\r\n\r\n    public class Plays {\r\n\t    private Hamlet hamlet;\r\n\t    private AsLike aslike;\r\n\t    private Othello othello;\r\n\t\r\n\t    public Plays() {\r\n\t\t\r\n        }\r\n\r\n        //getters &amp; setters\r\n\t}\r\nI know it would be better to do a class &quot;Play.java&quot; instead of &quot;Plays.java&quot;, and then store the different instances into a list, but I have to parse a json file and the json is written as nested objects:\r\n\r\n    {\r\n        &quot;hamlet&quot;: {\r\n    \t     &quot;name&quot;: &quot;Hamlet&quot;,\r\n    \t     &quot;type&quot;: &quot;tragedy&quot;\r\n         },\r\n         &quot;aslike&quot;: {\r\n    \t     &quot;name&quot;: &quot;As You Like It&quot;,\r\n    \t     &quot;type&quot;: &quot;comedy&quot;\r\n   \t     },\r\n         &quot;othello&quot;: {\r\n    \t     &quot;name&quot;: &quot;Othello&quot;,\r\n    \t     &quot;type&quot;: &quot;tragedy&quot;\r\n         }\r\n    }\r\nFirst rule: this json file cannot be modified, as bad as it looks. The issue is that my json parser of course wouldn&#39;t parse correctly if the java structure was different than the json one, so I don&#39;t see how could I change that. But that&#39;s not the real problem.\r\n\r\nThe problem now is I have to compare a String value to the name itself of an attribute (hamlet, aslike or othello) of the Plays class. For example, I want the program to verify if the word &quot;hamlet&quot; is the same as the attribute&#39;s name (hamlet) of the Plays class. Is it even possible? I know the problem lies in the code structure, but as I said I don&#39;t really know how to change that without messing up the parsing (as long as I know, a json object must correspond to an object in java, a json list a list in java etc...).","title":"Can I compare a random value with the name of an class&#39; attribute?","body":"<p>I have a chunk of code like this:</p>\n<pre><code>public class Plays {\n    private Hamlet hamlet;\n    private AsLike aslike;\n    private Othello othello;\n\n    public Plays() {\n    \n    }\n\n    //getters &amp; setters\n}\n</code></pre>\n<p>I know it would be better to do a class &quot;Play.java&quot; instead of &quot;Plays.java&quot;, and then store the different instances into a list, but I have to parse a json file and the json is written as nested objects:</p>\n<pre><code>{\n    &quot;hamlet&quot;: {\n         &quot;name&quot;: &quot;Hamlet&quot;,\n         &quot;type&quot;: &quot;tragedy&quot;\n     },\n     &quot;aslike&quot;: {\n         &quot;name&quot;: &quot;As You Like It&quot;,\n         &quot;type&quot;: &quot;comedy&quot;\n     },\n     &quot;othello&quot;: {\n         &quot;name&quot;: &quot;Othello&quot;,\n         &quot;type&quot;: &quot;tragedy&quot;\n     }\n}\n</code></pre>\n<p>First rule: this json file cannot be modified, as bad as it looks. The issue is that my json parser of course wouldn't parse correctly if the java structure was different than the json one, so I don't see how could I change that. But that's not the real problem.</p>\n<p>The problem now is I have to compare a String value to the name itself of an attribute (hamlet, aslike or othello) of the Plays class. For example, I want the program to verify if the word &quot;hamlet&quot; is the same as the attribute's name (hamlet) of the Plays class. Is it even possible? I know the problem lies in the code structure, but as I said I don't really know how to change that without messing up the parsing (as long as I know, a json object must correspond to an object in java, a json list a list in java etc...).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":6,"creation_date":1413060578,"post_id":26319130,"comment_id":41303594,"body_markdown":"It doesn&#39;t _just_ implements `Collection`.","body":"It doesn&#39;t <i>just</i> implements <code>Collection</code>."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1413060628,"post_id":26319130,"comment_id":41303607,"body_markdown":"AbstractCollection is a hell of a less noisy to read at a glance.","body":"AbstractCollection is a hell of a less noisy to read at a glance."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1413060661,"post_id":26319130,"comment_id":41303619,"body_markdown":"Typically, abstract implementations define some of the common functionality which likely going to be used by most if not all other implementations, it&#39;s there to make your life easier, but you don&#39;t need to use it","body":"Typically, abstract implementations define some of the common functionality which likely going to be used by most if not all other implementations, it&#39;s there to make your life easier, but you don&#39;t need to use it"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":12,"creation_date":1413060721,"post_id":26319130,"comment_id":41303640,"body_markdown":"Line 1 of [the documentation](http://docs.oracle.com/javase/8/docs/api/java/util/AbstractCollection.html) answers your question: &quot;This class provides a skeletal implementation of the Collection interface, to minimize the effort required to implement this interface.&quot;","body":"Line 1 of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/AbstractCollection.html\" rel=\"nofollow noreferrer\">the documentation</a> answers your question: &quot;This class provides a skeletal implementation of the Collection interface, to minimize the effort required to implement this interface.&quot;"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":2,"creation_date":1413061591,"post_id":26319130,"comment_id":41303888,"body_markdown":"@Boann And what that implies is that some collection implementations will NOT be using `AbstractCollection` because they will provide their own implementation of all the methods defined in the `Collection` interface. For example, Guava&#39;s `ForwardingList`","body":"@Boann And what that implies is that some collection implementations will NOT be using <code>AbstractCollection</code> because they will provide their own implementation of all the methods defined in the <code>Collection</code> interface. For example, Guava&#39;s <code>ForwardingList</code>"},{"owner":{"account_id":544207,"reputation":699,"user_id":913582,"accept_rate":72,"display_name":"Navdeep Singh"},"score":0,"creation_date":1504015801,"post_id":26319130,"comment_id":78840802,"body_markdown":"Abstract Classes show us the path to how to implement the interfaces.","body":"Abstract Classes show us the path to how to implement the interfaces."}],"answers":[{"tags":[],"owner":{"account_id":1748947,"reputation":1890,"user_id":1598508,"accept_rate":100,"display_name":"Krzysztof Jabłoński"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1413062113,"creation_date":1413062113,"answer_id":26319335,"question_id":26319130,"body_markdown":"Code is best documentation out there :-) Source can be checked in JDK, and for example in [code-grep pages](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractCollection.java).\r\n\r\nAnd there you one can see, that `AbstractCollection` class (at least in java 6b-14) offers straight-forward implementations of `isEmpty()`, `contains()`,  `toArray()`, `toArray(T[] a)`, `remove(Object o)`, `containsAll(Collection&lt;?&gt; c)` `addAll(Collection&lt;? extends E&gt; c)`, `removeAll(Collection&lt;?&gt; c)`, `retainAll(Collection&lt;?&gt; c)`, `clear()` and `toString()`.\r\n\r\nMentioned methods depend on implementations of `add(E e)`, `iterator()` and (optionally) `remove(Object o)`.","title":"What is the purpose of AbstractCollection","body":"<p>Code is best documentation out there :-) Source can be checked in JDK, and for example in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/AbstractCollection.java\" rel=\"nofollow\">code-grep pages</a>.</p>\n\n<p>And there you one can see, that <code>AbstractCollection</code> class (at least in java 6b-14) offers straight-forward implementations of <code>isEmpty()</code>, <code>contains()</code>,  <code>toArray()</code>, <code>toArray(T[] a)</code>, <code>remove(Object o)</code>, <code>containsAll(Collection&lt;?&gt; c)</code> <code>addAll(Collection&lt;? extends E&gt; c)</code>, <code>removeAll(Collection&lt;?&gt; c)</code>, <code>retainAll(Collection&lt;?&gt; c)</code>, <code>clear()</code> and <code>toString()</code>.</p>\n\n<p>Mentioned methods depend on implementations of <code>add(E e)</code>, <code>iterator()</code> and (optionally) <code>remove(Object o)</code>.</p>\n"},{"tags":[],"owner":{"account_id":12018604,"reputation":160,"user_id":8792873,"display_name":"Angelixus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575777810,"creation_date":1571790151,"answer_id":58513874,"question_id":26319130,"body_markdown":"Maybe it is a little late to answer but just in case I want to answer this question.\r\n\r\n1. `AbstractCollection` is used since all the child collections share some functionalities in common as Krzysztof said and, since this functionality is common (exactly the same lines of code) we can use inheritance to rehuse that code and make the design cleaner, easier to understand and more maintainable.\r\n\r\n2. We use the interface since an interface defines the &quot;contract&quot; that every class implementing the interface must provide, i.e the methods that the subclasses must have. This question is similar to, why can&#39;t we use `ArrayList` instead of List, you can do that, but 90% of the times you will be interested on adding/setting, deleting and knowing the size of an `ArrayList` and the `List` interface assures you that anything that is written after a new somewhere will implement this methods (and others) so you can call them and polymorphism will do the work. Also, using the interface as a reference allows you to change the type of the concrete implementation without changing anything (only the new calls) and also allows you to change the specific type at runtime, using the specific class reference you are constraining yourself to that reference and only that.","title":"What is the purpose of AbstractCollection","body":"<p>Maybe it is a little late to answer but just in case I want to answer this question.</p>\n\n<ol>\n<li><p><code>AbstractCollection</code> is used since all the child collections share some functionalities in common as Krzysztof said and, since this functionality is common (exactly the same lines of code) we can use inheritance to rehuse that code and make the design cleaner, easier to understand and more maintainable.</p></li>\n<li><p>We use the interface since an interface defines the \"contract\" that every class implementing the interface must provide, i.e the methods that the subclasses must have. This question is similar to, why can't we use <code>ArrayList</code> instead of List, you can do that, but 90% of the times you will be interested on adding/setting, deleting and knowing the size of an <code>ArrayList</code> and the <code>List</code> interface assures you that anything that is written after a new somewhere will implement this methods (and others) so you can call them and polymorphism will do the work. Also, using the interface as a reference allows you to change the type of the concrete implementation without changing anything (only the new calls) and also allows you to change the specific type at runtime, using the specific class reference you are constraining yourself to that reference and only that.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575778113,"creation_date":1575778113,"answer_id":59232360,"question_id":26319130,"body_markdown":"Adding to what @Angelixus says in https://stackoverflow.com/a/58513874/139985:\r\n\r\nOne reason to NOT do this:\r\n\r\n    AbstractCollection col = (AbstractCollection) someCollection;\r\n\r\nis that subtypes of `Collection` are NOT guaranteed to extend the `AbstractCollection` base class.  \r\n\r\nIt is certainly the case that most (if not all) of the standard collection types do extend this base class.  However, this may not apply to all 3rd-party collection classes.  If you encounter a collection class that is implemented without extending `AbstractCollection`, the above will give either a compilation error or a runtime exception, depending on the *declared* type of `someCollection`.","title":"What is the purpose of AbstractCollection","body":"<p>Adding to what @Angelixus says in <a href=\"https://stackoverflow.com/a/58513874/139985\">https://stackoverflow.com/a/58513874/139985</a>:</p>\n\n<p>One reason to NOT do this:</p>\n\n<pre><code>AbstractCollection col = (AbstractCollection) someCollection;\n</code></pre>\n\n<p>is that subtypes of <code>Collection</code> are NOT guaranteed to extend the <code>AbstractCollection</code> base class.  </p>\n\n<p>It is certainly the case that most (if not all) of the standard collection types do extend this base class.  However, this may not apply to all 3rd-party collection classes.  If you encounter a collection class that is implemented without extending <code>AbstractCollection</code>, the above will give either a compilation error or a runtime exception, depending on the <em>declared</em> type of <code>someCollection</code>.</p>\n"},{"tags":[],"owner":{"account_id":17271228,"reputation":11,"user_id":12984519,"display_name":"Jim Hiaini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597321119,"creation_date":1597321119,"answer_id":63395023,"question_id":26319130,"body_markdown":"`Collection` interface declares useful methods that all implementing classes must supply. But it is a bother if every class that implements the `Collection` interface has to supply so many methods. \r\n\r\nTo make life easier for us, the library supplies a class `AbstractCollection` that leaves the fundamental methods `size` and `iterator` abstract but implements the routine methods in terms of them. For example:\r\n\r\n```\r\npublic abstract class AbstractCollection&lt;E&gt;\r\n    implements Collection&lt;E&gt;\r\n{\r\n    ...\r\n    public abstract Iterator&lt;E&gt; iterator();\r\n    public boolean contains(Object obj)\r\n    {\r\n        for (E element : this) // calls iterator()\r\n            if (element.equals(obj))\r\n                return true;\r\n        return false;\r\n    }\r\n    ...\r\n}\r\n\r\n```\r\n\r\nConcrete collection class can now extend the `AbstractCollection` class. It is up to us now to supply `iterator` method, but the `contains` method has been taken care of by the `AbstractCollection` superclass. However, if the subclass has a more efficient way of implementing `contains`, it is free to do so. &lt;b&gt;But this approach is a bit outdated&lt;/b&gt;.","title":"What is the purpose of AbstractCollection","body":"<p><code>Collection</code> interface declares useful methods that all implementing classes must supply. But it is a bother if every class that implements the <code>Collection</code> interface has to supply so many methods.</p>\n<p>To make life easier for us, the library supplies a class <code>AbstractCollection</code> that leaves the fundamental methods <code>size</code> and <code>iterator</code> abstract but implements the routine methods in terms of them. For example:</p>\n<pre><code>public abstract class AbstractCollection&lt;E&gt;\n    implements Collection&lt;E&gt;\n{\n    ...\n    public abstract Iterator&lt;E&gt; iterator();\n    public boolean contains(Object obj)\n    {\n        for (E element : this) // calls iterator()\n            if (element.equals(obj))\n                return true;\n        return false;\n    }\n    ...\n}\n\n</code></pre>\n<p>Concrete collection class can now extend the <code>AbstractCollection</code> class. It is up to us now to supply <code>iterator</code> method, but the <code>contains</code> method has been taken care of by the <code>AbstractCollection</code> superclass. However, if the subclass has a more efficient way of implementing <code>contains</code>, it is free to do so. <b>But this approach is a bit outdated</b>.</p>\n"},{"tags":[],"owner":{"account_id":4871805,"reputation":31,"user_id":3928020,"display_name":"gathila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631669215,"creation_date":1631630961,"answer_id":69179978,"question_id":26319130,"body_markdown":"These classes are called **skeletal implementation** classes. Naming convention is Abstract*Interface* where interface is the name of the interface (eg - AbstractList). They are created by combining interfaces and abstract classes. \r\n\r\nGenerally when we design an interface and when there is obvious implementation to the interface methods, we can provide the default methods in the interface so that the person who implements the interface can follow the default implementation and provide the custom implementation on top of it. But there are limits on how much implementation assistance you can provide with default methods. A reason is interfaces are not permitted to contain instance fields or nonpublic static members. We can however combine the advantages of interfaces and abstract classes.\r\n\r\nRefer to the example below. Suppose we have method which accept int array and return a List of Integers which contains square of each elements.\r\n\r\n    public static List&lt;Integer&gt; squaredList(int [] e) {\r\n\t\t\r\n\t\treturn new AbstractList&lt;Integer&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Integer get(int index) {\r\n\t\t\t\treturn e[index] * e[index];\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int size() {\r\n\t\t\t\treturn e.length;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nAbstractCollection, 2 methods are abstract. If you want\r\nTo implement an unmodifiable collection, the programmer needs only to extend this class and provide implementations for the iterator and size methods. (The iterator returned by the iterator method must implement hasNext and next.)\r\nThese type of implementation is very useful when you are implementing an immutable classes which has a method to return a Collection.\r\n\r\nTo implement a modifiable collection, the programmer must additionally override this class&#39;s add method (which otherwise throws an UnsupportedOperationException), and the iterator returned by the iterator method must additionally implement its remove method.\r\n\r\nRefer the java docs for additional info\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractCollection.html","title":"What is the purpose of AbstractCollection","body":"<p>These classes are called <strong>skeletal implementation</strong> classes. Naming convention is Abstract<em>Interface</em> where interface is the name of the interface (eg - AbstractList). They are created by combining interfaces and abstract classes.</p>\n<p>Generally when we design an interface and when there is obvious implementation to the interface methods, we can provide the default methods in the interface so that the person who implements the interface can follow the default implementation and provide the custom implementation on top of it. But there are limits on how much implementation assistance you can provide with default methods. A reason is interfaces are not permitted to contain instance fields or nonpublic static members. We can however combine the advantages of interfaces and abstract classes.</p>\n<p>Refer to the example below. Suppose we have method which accept int array and return a List of Integers which contains square of each elements.</p>\n<pre><code>public static List&lt;Integer&gt; squaredList(int [] e) {\n    \n    return new AbstractList&lt;Integer&gt;() {\n\n        @Override\n        public Integer get(int index) {\n            return e[index] * e[index];\n        }\n\n        @Override\n        public int size() {\n            return e.length;\n        }\n    };\n}\n</code></pre>\n<p>AbstractCollection, 2 methods are abstract. If you want\nTo implement an unmodifiable collection, the programmer needs only to extend this class and provide implementations for the iterator and size methods. (The iterator returned by the iterator method must implement hasNext and next.)\nThese type of implementation is very useful when you are implementing an immutable classes which has a method to return a Collection.</p>\n<p>To implement a modifiable collection, the programmer must additionally override this class's add method (which otherwise throws an UnsupportedOperationException), and the iterator returned by the iterator method must additionally implement its remove method.</p>\n<p>Refer the java docs for additional info\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractCollection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/AbstractCollection.html</a></p>\n"},{"tags":[],"owner":{"account_id":7307087,"reputation":442,"user_id":10661805,"display_name":"Ray Jasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680087198,"creation_date":1680086831,"answer_id":75876202,"question_id":26319130,"body_markdown":"Here&#39;s an interesting quote worth referencing from [Core Java, Volume I―Fundamentals, 10th Edition](https://learning.oreilly.com/library/view/core-java-r-volume/9780134177335/ch06.html#:-:text=In%20the%20Java%20API%2C%20you%20will,methods%20in%20the%20interface.):\r\n\r\n&gt;  In the Java API, you will find a number of interfaces with companion classes that implement some or all of its methods, such as `Collection`/`AbstractCollection` or `MouseListener`/`MouseAdapter`. With Java SE 8, this technique is obsolete. Just implement the methods in the interface.","title":"What is the purpose of AbstractCollection","body":"<p>Here's an interesting quote worth referencing from <a href=\"https://learning.oreilly.com/library/view/core-java-r-volume/9780134177335/ch06.html#:-:text=In%20the%20Java%20API%2C%20you%20will,methods%20in%20the%20interface.\" rel=\"nofollow noreferrer\">Core Java, Volume I―Fundamentals, 10th Edition</a>:</p>\n<blockquote>\n<p>In the Java API, you will find a number of interfaces with companion classes that implement some or all of its methods, such as <code>Collection</code>/<code>AbstractCollection</code> or <code>MouseListener</code>/<code>MouseAdapter</code>. With Java SE 8, this technique is obsolete. Just implement the methods in the interface.</p>\n</blockquote>\n"}],"owner":{"account_id":3584524,"reputation":91,"user_id":2991988,"display_name":"JAVAJOKER1093"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4064,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1680087198,"creation_date":1413060501,"question_id":26319130,"body_markdown":"`AbstractCollection` implements `Collection`. So why is `AbstractCollection` there and why do we use `Collection` instead of directly using `AbstractCollection`?","title":"What is the purpose of AbstractCollection","body":"<p><code>AbstractCollection</code> implements <code>Collection</code>. So why is <code>AbstractCollection</code> there and why do we use <code>Collection</code> instead of directly using <code>AbstractCollection</code>?</p>\n"},{"tags":["java","android","rest","visual-studio-code","postman"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680002650,"post_id":75865580,"comment_id":133818689,"body_markdown":"You are probably missing something that your app/retrofit is doing. Why don&#39;t you compare the request the app makes with the ones you are making in Postman?","body":"You are probably missing something that your app/retrofit is doing. Why don&#39;t you compare the request the app makes with the ones you are making in Postman?"},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1680002903,"post_id":75865580,"comment_id":133818758,"body_markdown":"@KenWolf: How can I compare them? just comparing the links inside of Android Studio LOG? it is same as postman one.","body":"@KenWolf: How can I compare them? just comparing the links inside of Android Studio LOG? it is same as postman one."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680003070,"post_id":75865580,"comment_id":133818810,"body_markdown":"Different ways: 1) Increase logging client-side (eg via OKhttp logging interceptor) so you can see the full request (headers, etc.). 2) Check on the server side. 3) Use a proxy (fiddler, etc.) to sniff traffic","body":"Different ways: 1) Increase logging client-side (eg via OKhttp logging interceptor) so you can see the full request (headers, etc.). 2) Check on the server side. 3) Use a proxy (fiddler, etc.) to sniff traffic"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680003844,"post_id":75865580,"comment_id":133819025,"body_markdown":"Play around with Postman x-wwwform-urlencoded, perhaps your retrofit call is sending that rather than application/json.","body":"Play around with Postman x-wwwform-urlencoded, perhaps your retrofit call is sending that rather than application/json."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1680074319,"post_id":75865580,"comment_id":133833253,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":1,"creation_date":1680085150,"post_id":75865580,"comment_id":133836036,"body_markdown":"@KenWolf: Your two comments answer to my question. Please expand your comments and post an answer to remove this post from unanswered list. (I used `.setLevel(HttpLoggingInterceptor.Level.BODY));` for full debug)","body":"@KenWolf: Your two comments answer to my question. Please expand your comments and post an answer to remove this post from unanswered list. (I used <code>.setLevel(HttpLoggingInterceptor.Level.BODY));</code> for full debug)"}],"answers":[{"tags":[],"owner":{"account_id":13097416,"reputation":1,"user_id":9462927,"display_name":"b02laire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680003349,"creation_date":1680003349,"answer_id":75865739,"question_id":75865580,"body_markdown":"The problem here might be related to the headers of your request.\r\nMake sure you are sending the same headers via Postman/VS Code as the ones used in your Android app\r\n","title":"Rest api is returning bad request using VSCode or postman while it is working with my android app?","body":"<p>The problem here might be related to the headers of your request.\nMake sure you are sending the same headers via Postman/VS Code as the ones used in your Android app</p>\n"},{"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680086817,"creation_date":1680085915,"answer_id":75876051,"question_id":75865580,"body_markdown":"Your app is doing something that you are missing in the Postman call. For example: \r\n\r\n* Missing headers\r\n* Fields\r\n* Content formatting\r\n\r\nTo solve this you&#39;ll need to see the full request that your app is making - often default logging is not enough. \r\n\r\nThere are a few ways to do this:\r\n1) Increase logging client-side (eg via [OKHttp logging interceptor][1]) \r\n2) Check on the server side. \r\n3) Use a proxy (`Fiddler`, `Charles` etc.) to sniff network traffic\r\n\r\nI would go with 1) as the simplest. The likelihood is you are missing some headers or similar.\r\n\r\n\r\n  [1]: https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor","title":"Rest api is returning bad request using VSCode or postman while it is working with my android app?","body":"<p>Your app is doing something that you are missing in the Postman call. For example:</p>\n<ul>\n<li>Missing headers</li>\n<li>Fields</li>\n<li>Content formatting</li>\n</ul>\n<p>To solve this you'll need to see the full request that your app is making - often default logging is not enough.</p>\n<p>There are a few ways to do this:</p>\n<ol>\n<li>Increase logging client-side (eg via <a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"nofollow noreferrer\">OKHttp logging interceptor</a>)</li>\n<li>Check on the server side.</li>\n<li>Use a proxy (<code>Fiddler</code>, <code>Charles</code> etc.) to sniff network traffic</li>\n</ol>\n<p>I would go with 1) as the simplest. The likelihood is you are missing some headers or similar.</p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75876051,"answer_count":2,"score":1,"last_activity_date":1680086817,"creation_date":1680002343,"question_id":75865580,"body_markdown":"My problem is opposite of most of problems that have been posted in web like\r\nhttps://stackoverflow.com/q/59790817/21193451 or https://stackoverflow.com/q/42758443/21193451\r\n\r\nMy rest API is working very well on my java android app but it fail to login using Thunder Client VSCode extension or desktop postman running with Xampp. All of these API tools returning `Status: 400 Bad Request` and can&#39;t verify even first field of login form while in android app it has no problem.\r\n\r\nWhat has caused this problem?\r\n\r\nI am using retrofit2 for my working java codes: (phone = 123456, password = 123456789)\r\n\r\n    @POST(&quot;http://localhost/myapp/index.php/auth/login&quot;)\r\n        ApiResponse&lt;AuthResponse&gt; login(@Body UserLogin userLogin);\r\n\r\n\r\nand in VSCode \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nand this is the my Xampp details:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOJ8L.png\r\n  [2]: https://i.stack.imgur.com/q1u4W.png","title":"Rest api is returning bad request using VSCode or postman while it is working with my android app?","body":"<p>My problem is opposite of most of problems that have been posted in web like\n<a href=\"https://stackoverflow.com/q/59790817/21193451\">Why is my API working with Postman but not working with Java Get request</a> or <a href=\"https://stackoverflow.com/q/42758443/21193451\">HttpClient returning Bad Request while Postman is working fine</a></p>\n<p>My rest API is working very well on my java android app but it fail to login using Thunder Client VSCode extension or desktop postman running with Xampp. All of these API tools returning <code>Status: 400 Bad Request</code> and can't verify even first field of login form while in android app it has no problem.</p>\n<p>What has caused this problem?</p>\n<p>I am using retrofit2 for my working java codes: (phone = 123456, password = 123456789)</p>\n<pre><code>@POST(&quot;http://localhost/myapp/index.php/auth/login&quot;)\n    ApiResponse&lt;AuthResponse&gt; login(@Body UserLogin userLogin);\n</code></pre>\n<p>and in VSCode</p>\n<p><a href=\"https://i.stack.imgur.com/q1u4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q1u4W.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the my Xampp details:</p>\n<p><a href=\"https://i.stack.imgur.com/IOJ8L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IOJ8L.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","ip","remote-desktop"],"owner":{"account_id":18293048,"reputation":1,"user_id":13319466,"display_name":"lifeandtimes89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680086471,"creation_date":1680086471,"question_id":75876144,"body_markdown":"I am wondering if anyone can help me? I am creating an app that will listen for remote desktop style connections coming through 3rd party apps on a mobile device and print the IP address of the connecting device in the app screen. For this example I am using the Anydesk application on both my Samsung S20 phone thats up to date and my windows laptop but want to test it on others once its working. Both devices are on the same network as well. I have created the app in Android Studio and installed it on my phone, the app opens but when I make a remote connection through my windows machine the IP address does not display in the app, the textview text just remains\r\n\r\n\r\n\r\nThe code seems to be written correctly, I need a serversocket to listen for the connections and the getInetAddress should get the ip and print it. \r\nI have looked through the logcat output and see a couple of errors but I am not sure how to resolve them or if its actually a problem with my code. I will print the red &quot;E&quot; and yellow &quot;W&quot; errors here as they seem to be the most sever and the code i am using. The name of the app is app5\r\n\r\n&gt; 6749-6749  studio.deploy           pid-6749                             E  Could not get package user id: run-as: unknown package: com.example.app5\r\n  6749-6749  studio.deploy           pid-6749                             E  Could not find apks for this package: com.example.app5\r\n 6749-6749  studio.deploy           pid-6749                             E  Could not get package user id: run-as: unknown package: com.example.app5\r\n 6749-6749  studio.deploy           pid-6749                             E  Could not find apks for this package: com.example.app5\r\n\r\n&gt;  6944-6944  ziparchive              com.example.app5                     W  Unable to open &#39;/data/app/~~O9Dj0vAM547hLLzf45vTPg==/com.example.app5-ywR6kD_lsw69JIUb7DTFGQ==/base.dm&#39;: No such file or directory\r\n 6944-6944  ziparchive              com.example.app5                     W  Unable to open &#39;/data/app/~~O9Dj0vAM547hLLzf45vTPg==/com.example.app5-ywR6kD_lsw69JIUb7DTFGQ==/base.dm&#39;: No such file or directory\r\n\r\n&gt; 6944-6944  om.example.app5         com.example.app5                     W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\n6944-6944  om.example.app5         com.example.app5                     W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\n\r\nI am aware the following error is a screen issue but I am not experiencing any visual issues with the app when it is open\r\n&gt; 1513-4565  WindowManager           pid-1513                             E  win=Window{23ac548 u0 com.example.app5/com.example.app5.MainActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=8 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136\r\n\r\nThe androidmanifest only needed one permission added based on my research for &quot;android.permission.INTERNET&quot; which i have dded\r\n\r\nHere is my MainActivity. I followed some of the suggestions by the IDE to resolve the R. error which is why there a &quot;SurpressLint&quot; there\r\n\r\n```\r\npackage com.example.app5;\r\n\r\nimport static com.example.app5.R.*;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.os.Bundle;\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView mIpAddressTextView;\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mIpAddressTextView = findViewById(id.ip_address_text_view);\r\n\r\n        // Start listening for incoming network connections on port 5000\r\n        new Thread(() -&gt; {\r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(5000);\r\n                while (true) {\r\n                    Socket socket = serverSocket.accept();\r\n\r\n                    // Get the IP address of the connected device\r\n                    InetAddress inetAddress = socket.getInetAddress();\r\n                    String ipAddress = inetAddress.getHostAddress();\r\n\r\n                    // Display the IP address in the app\r\n                    runOnUiThread(() -&gt; mIpAddressTextView.setText(ipAddress));\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\nAny advice would be appreciated\r\n","title":"My android app is not printing the remote host IP address from a 3rd party application","body":"<p>I am wondering if anyone can help me? I am creating an app that will listen for remote desktop style connections coming through 3rd party apps on a mobile device and print the IP address of the connecting device in the app screen. For this example I am using the Anydesk application on both my Samsung S20 phone thats up to date and my windows laptop but want to test it on others once its working. Both devices are on the same network as well. I have created the app in Android Studio and installed it on my phone, the app opens but when I make a remote connection through my windows machine the IP address does not display in the app, the textview text just remains</p>\n<p>The code seems to be written correctly, I need a serversocket to listen for the connections and the getInetAddress should get the ip and print it.\nI have looked through the logcat output and see a couple of errors but I am not sure how to resolve them or if its actually a problem with my code. I will print the red &quot;E&quot; and yellow &quot;W&quot; errors here as they seem to be the most sever and the code i am using. The name of the app is app5</p>\n<blockquote>\n<p>6749-6749  studio.deploy           pid-6749                             E  Could not get package user id: run-as: unknown package: com.example.app5\n6749-6749  studio.deploy           pid-6749                             E  Could not find apks for this package: com.example.app5\n6749-6749  studio.deploy           pid-6749                             E  Could not get package user id: run-as: unknown package: com.example.app5\n6749-6749  studio.deploy           pid-6749                             E  Could not find apks for this package: com.example.app5</p>\n</blockquote>\n<blockquote>\n<p>6944-6944  ziparchive              com.example.app5                     W  Unable to open '/data/app/~~O9Dj0vAM547hLLzf45vTPg==/com.example.app5-ywR6kD_lsw69JIUb7DTFGQ==/base.dm': No such file or directory\n6944-6944  ziparchive              com.example.app5                     W  Unable to open '/data/app/~~O9Dj0vAM547hLLzf45vTPg==/com.example.app5-ywR6kD_lsw69JIUb7DTFGQ==/base.dm': No such file or directory</p>\n</blockquote>\n<blockquote>\n<p>6944-6944  om.example.app5         com.example.app5                     W  Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\n6944-6944  om.example.app5         com.example.app5                     W  Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)</p>\n</blockquote>\n<p>I am aware the following error is a screen issue but I am not experiencing any visual issues with the app when it is open</p>\n<blockquote>\n<p>1513-4565  WindowManager           pid-1513                             E  win=Window{23ac548 u0 com.example.app5/com.example.app5.MainActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=8 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136</p>\n</blockquote>\n<p>The androidmanifest only needed one permission added based on my research for &quot;android.permission.INTERNET&quot; which i have dded</p>\n<p>Here is my MainActivity. I followed some of the suggestions by the IDE to resolve the R. error which is why there a &quot;SurpressLint&quot; there</p>\n<pre><code>package com.example.app5;\n\nimport static com.example.app5.R.*;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView mIpAddressTextView;\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mIpAddressTextView = findViewById(id.ip_address_text_view);\n\n        // Start listening for incoming network connections on port 5000\n        new Thread(() -&gt; {\n            try {\n                ServerSocket serverSocket = new ServerSocket(5000);\n                while (true) {\n                    Socket socket = serverSocket.accept();\n\n                    // Get the IP address of the connected device\n                    InetAddress inetAddress = socket.getInetAddress();\n                    String ipAddress = inetAddress.getHostAddress();\n\n                    // Display the IP address in the app\n                    runOnUiThread(() -&gt; mIpAddressTextView.setText(ipAddress));\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Any advice would be appreciated</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27908544,"reputation":1,"user_id":21311222,"display_name":"Pavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680086407,"creation_date":1680086407,"answer_id":75876132,"question_id":75688704,"body_markdown":"I thought dependency was missing :-\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n","title":"cannot access javax.persistence.criteria.CriteriaDelete class file for javax.persistence.criteria.CriteriaDelete not found","body":"<p>I thought dependency was missing :-</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23452248,"reputation":11,"user_id":17508254,"display_name":"ismail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680086407,"creation_date":1678386681,"question_id":75688704,"body_markdown":"I am learning Hibernate. I want to connect SQL server. I wrote this code and I receive an exception\r\n\r\n```\r\nSessionFactory factory = new Configuration()\r\n        .configure(&quot;hibernate.cfg.xml&quot;)\r\n        .addAnnotatedClass(Car.class)\r\n        .buildSessionFactory();\r\n\r\nSession session = factory.getCurrentSession();\r\n\r\ntry {\r\n    session.beginTransaction();\r\n    List&lt;Car&gt; cars =  session.createQuery(&quot;from cars&quot;).getResultList();\r\n\r\n    for (Car car : cars) {\r\n        System.out.println(car.getCars_name());\r\n    }\r\n\r\n    session.getTransaction().commit();\r\n} finally {\r\n    factory.close();\r\n}\r\n```\r\n\r\n&gt;cannot access javax.persistence.criteria.CriteriaDelete\r\n  class file for javax.persistence.criteria.CriteriaDelete not found\r\n","title":"cannot access javax.persistence.criteria.CriteriaDelete class file for javax.persistence.criteria.CriteriaDelete not found","body":"<p>I am learning Hibernate. I want to connect SQL server. I wrote this code and I receive an exception</p>\n<pre><code>SessionFactory factory = new Configuration()\n        .configure(&quot;hibernate.cfg.xml&quot;)\n        .addAnnotatedClass(Car.class)\n        .buildSessionFactory();\n\nSession session = factory.getCurrentSession();\n\ntry {\n    session.beginTransaction();\n    List&lt;Car&gt; cars =  session.createQuery(&quot;from cars&quot;).getResultList();\n\n    for (Car car : cars) {\n        System.out.println(car.getCars_name());\n    }\n\n    session.getTransaction().commit();\n} finally {\n    factory.close();\n}\n</code></pre>\n<blockquote>\n<p>cannot access javax.persistence.criteria.CriteriaDelete\nclass file for javax.persistence.criteria.CriteriaDelete not found</p>\n</blockquote>\n"},{"tags":["java","object","if-statement","while-loop","compile-time"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680085338,"post_id":75875856,"comment_id":133836069,"body_markdown":"You can&#39;t stop a user entering letters. Read the entire line and check if it&#39;s a digit or not. If it&#39;s not, ask again.","body":"You can&#39;t stop a user entering letters. Read the entire line and check if it&#39;s a digit or not. If it&#39;s not, ask again."}],"owner":{"account_id":27201526,"reputation":1,"user_id":20733707,"display_name":"apophis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680085410,"answer_count":0,"score":0,"last_activity_date":1680085450,"creation_date":1680084774,"question_id":75875856,"body_markdown":"Im a beginner at java programming and this is from our intermediate java programming class. How do i add a validation that does not accept alphabets and restarts only the selected operation??`\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\npackage Calcu;\r\nimport java.util.Scanner;\r\n\r\n//Assignment\r\n//1.  What is Abstraction in OOP\r\n//2. Give an example of program where abstraction is presented\r\n\r\nclass Add{\r\n\tvoid AddM(double num) {\r\n\t\tSystem.out.print(&quot;Enter Number for Addition: &quot;);\r\n\t}\r\n}\r\n\r\nclass Sub{\r\n\tvoid SubM(double num) {\r\n\t\tSystem.out.print(&quot;Enter Number for Subtraction: &quot;);\r\n\t}\r\n}\r\n\r\nclass Mult{\r\n\tvoid MultM(double num) {\r\n\t\tSystem.out.print(&quot;Enter Number for Multiplication: &quot;);\r\n\t}\r\n}\r\n\r\nclass Div{\r\n\tvoid DivM(double num) {\r\n\t\tSystem.out.print(&quot;Enter Number for Division: &quot;);\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n\tstatic Scanner s = new Scanner(System.in);\r\n\tpublic static void main(String[] args) {\r\n\t\twhile(true){\r\n\t\t\tSystem.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n\t\t\tSystem.out.println(&quot;~~Calculator~~&quot;);\r\n\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\tSystem.out.println(&quot;Select Operation: &quot;);\r\n\t\t\tSystem.out.println(&quot;1 for Addition&quot;);\r\n\t\t\tSystem.out.println(&quot;2 for Subtraction&quot;);\r\n\t\t\tSystem.out.println(&quot;3 for Multiplication&quot;);\r\n\t\t\tSystem.out.println(&quot;4 for Division&quot;);\r\n\t\t\tSystem.out.println(&quot;Type s to terminate program&quot;);\r\n\t\t\tSystem.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\r\n\t\t\tString in = s.next();\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (in.equals(&quot;1&quot;)) {\r\n\t\t\t\t\tAdd calcuA = new Add();\r\n\t\t\t\t\tcalcuA.AddM(0);\r\n\t\t\t\t\tdouble a = s.nextDouble();\r\n\t\t\t\t\tcalcuA.AddM(0);\r\n\t\t\t\t\tdouble b = s.nextDouble();\r\n\t\t\t\t\tSystem.out.println(&quot;--&gt;The Sum is: &quot; + (a + b) + &quot;&lt;--&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\telse if (in.equals(&quot;2&quot;)) {\r\n\t\t\t\t\tSub calcuS = new Sub();\r\n\t\t\t\t\tcalcuS.SubM(0);\r\n\t\t\t\t\tdouble c = s.nextDouble();\r\n\t\t\t\t\tcalcuS.SubM(0);\r\n\t\t\t\t\tdouble d = s.nextDouble();\r\n\t\t\t\t\tSystem.out.println(&quot;--&gt;The Difference is: &quot; + (c - d) + &quot;&lt;--&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse if (in.equals(&quot;3&quot;)){\r\n\t\t\t\t\tMult calcuM = new Mult();\r\n\t\t\t\t\tcalcuM.MultM(0);\r\n\t\t\t\t\tdouble e = s.nextDouble();\r\n\t\t\t\t\tcalcuM.MultM(0);\r\n\t\t\t\t\tdouble f = s.nextDouble();\r\n\t\t\t\t\tSystem.out.println(&quot;--&gt;The Product is: &quot; + (e * f) + &quot;&lt;--&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse if(in.equals(&quot;4&quot;)) {\r\n\t\t\t\t\tDiv calcuD = new Div();\r\n\t\t\t\t\tcalcuD.DivM(0);\r\n\t\t\t\t\tdouble g = s.nextDouble();\r\n\t\t\t\t\tcalcuD.DivM(0);\r\n\t\t\t\t\tdouble f = s.nextDouble();\r\n\t\t\t\t\tSystem.out.println(&quot;--&gt;The Quotient is: &quot; + (g / f) + &quot;&lt;--&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse if(in.equals(&quot;s&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Thank you for using this calculator. Console Terminating...&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Choose only from the numbers represented above...&quot;);\r\n\t\t\t\t}\r\n\t\t\t}catch(Exception letters){\r\n\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\tSystem.out.println(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Only numbers are allowed! Try again!!&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried using try catch but the results prints out the whole program and not the &quot;enter number for the selected operation(addition, subtraction, division, multiplication)&quot;\r\nive tried changing the conditions of while, adding other validation and moving them from places but i couldn&#39;t achieve the results i was looking.\r\n    \r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~Calculator~~\r\n \r\nSelect Operation: \r\n1 for Addition\r\n2 for Subtraction\r\n3 for Multiplication\r\n4 for Division\r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n2\r\nEnter Number for Subtraction: jk\r\n \r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nOnly numbers are allowed! Try again!!\r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~Calculator~~\r\n \r\nSelect Operation: \r\n1 for Addition\r\n2 for Subtraction\r\n3 for Multiplication\r\n4 for Division\r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\nChoose only from the numbers represented above...\r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\n~~Calculator~~\r\n \r\nSelect Operation: \r\n1 for Addition\r\n2 for Subtraction\r\n3 for Multiplication\r\n4 for Division\r\n~~~~~~~~~~~~~~~~~~~~~~~~~\r\n","title":"How to add a validation that rejects letters","body":"<p>Im a beginner at java programming and this is from our intermediate java programming class. How do i add a validation that does not accept alphabets and restarts only the selected operation??`</p>\n<p>Here is my code:</p>\n<pre><code>package Calcu;\nimport java.util.Scanner;\n\n//Assignment\n//1.  What is Abstraction in OOP\n//2. Give an example of program where abstraction is presented\n\nclass Add{\n    void AddM(double num) {\n        System.out.print(&quot;Enter Number for Addition: &quot;);\n    }\n}\n\nclass Sub{\n    void SubM(double num) {\n        System.out.print(&quot;Enter Number for Subtraction: &quot;);\n    }\n}\n\nclass Mult{\n    void MultM(double num) {\n        System.out.print(&quot;Enter Number for Multiplication: &quot;);\n    }\n}\n\nclass Div{\n    void DivM(double num) {\n        System.out.print(&quot;Enter Number for Division: &quot;);\n    }\n}\n\npublic class Main {\n    static Scanner s = new Scanner(System.in);\n    public static void main(String[] args) {\n        while(true){\n            System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n            System.out.println(&quot;~~Calculator~~&quot;);\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Select Operation: &quot;);\n            System.out.println(&quot;1 for Addition&quot;);\n            System.out.println(&quot;2 for Subtraction&quot;);\n            System.out.println(&quot;3 for Multiplication&quot;);\n            System.out.println(&quot;4 for Division&quot;);\n            System.out.println(&quot;Type s to terminate program&quot;);\n            System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n            String in = s.next();\n\n            try {\n                if (in.equals(&quot;1&quot;)) {\n                    Add calcuA = new Add();\n                    calcuA.AddM(0);\n                    double a = s.nextDouble();\n                    calcuA.AddM(0);\n                    double b = s.nextDouble();\n                    System.out.println(&quot;--&gt;The Sum is: &quot; + (a + b) + &quot;&lt;--&quot;);\n                    System.out.println(&quot; &quot;);\n                }\n\n\n                else if (in.equals(&quot;2&quot;)) {\n                    Sub calcuS = new Sub();\n                    calcuS.SubM(0);\n                    double c = s.nextDouble();\n                    calcuS.SubM(0);\n                    double d = s.nextDouble();\n                    System.out.println(&quot;--&gt;The Difference is: &quot; + (c - d) + &quot;&lt;--&quot;);\n                    System.out.println(&quot; &quot;);\n\n                }\n\n                else if (in.equals(&quot;3&quot;)){\n                    Mult calcuM = new Mult();\n                    calcuM.MultM(0);\n                    double e = s.nextDouble();\n                    calcuM.MultM(0);\n                    double f = s.nextDouble();\n                    System.out.println(&quot;--&gt;The Product is: &quot; + (e * f) + &quot;&lt;--&quot;);\n                    System.out.println(&quot; &quot;);\n                }\n\n                else if(in.equals(&quot;4&quot;)) {\n                    Div calcuD = new Div();\n                    calcuD.DivM(0);\n                    double g = s.nextDouble();\n                    calcuD.DivM(0);\n                    double f = s.nextDouble();\n                    System.out.println(&quot;--&gt;The Quotient is: &quot; + (g / f) + &quot;&lt;--&quot;);\n                    System.out.println(&quot; &quot;);\n                }\n                else if(in.equals(&quot;s&quot;)) {\n                    System.out.println(&quot;Thank you for using this calculator. Console Terminating...&quot;);\n                    break;\n                }\n\n                else {\n                    System.out.println(&quot;Choose only from the numbers represented above...&quot;);\n                }\n            }catch(Exception letters){\n                System.out.println(&quot; &quot;);\n                System.out.println(&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\n                System.out.println(&quot;Only numbers are allowed! Try again!!&quot;);\n                \n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I've tried using try catch but the results prints out the whole program and not the &quot;enter number for the selected operation(addition, subtraction, division, multiplication)&quot;\nive tried changing the conditions of while, adding other validation and moving them from places but i couldn't achieve the results i was looking.</p>\n<pre><code>~~Calculator~~\n \nSelect Operation: \n1 for Addition\n2 for Subtraction\n3 for Multiplication\n4 for Division\n</code></pre>\n<p>2\nEnter Number for Subtraction: jk</p>\n<p>!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nOnly numbers are allowed! Try again!!</p>\n<pre><code>~~Calculator~~\n \nSelect Operation: \n1 for Addition\n2 for Subtraction\n3 for Multiplication\n4 for Division\n</code></pre>\n<p>Choose only from the numbers represented above...</p>\n<pre><code>~~Calculator~~\n \nSelect Operation: \n1 for Addition\n2 for Subtraction\n3 for Multiplication\n4 for Division\n</code></pre>\n"},{"tags":["java","swagger","dropwizard"],"owner":{"account_id":2808554,"reputation":53,"user_id":2415278,"display_name":"siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680084686,"creation_date":1680032927,"question_id":75870496,"body_markdown":"I am currently working on a project to upgrade from Java 8 to Java 17. Along with Java, I am also upgrading other libraries like Dropwizard, Hibernate, and Swagger. I am using &lt;https://github.com/smoketurner/dropwizard-swagger&gt;&#160;for the Swagger-Dropwizard integration. I&#160;updated all the RESP API and DTO annotations, but when I try to start the service, I am getting below runtime error. Has anyone tried upgrading Swagger-Dropwizard integration? Any suggestions or pointer on the following issue are appreciated. Thanks\r\n\r\n```\r\nWARN  [2023-03-28 19:25:35,282] org.eclipse.jetty.server.handler.ContextHandler.ROOT: unavailable\r\n! java.lang.IllegalArgumentException: org.glassfish.hk2.api.ProxyCtl referenced from a method is not visible from class loader\r\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:883)\r\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:721)\r\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:648)\r\n! at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:440)\r\n! at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329)\r\n! at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205)\r\n! at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:438)\r\n! at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1037)\r\n! at org.jvnet.hk2.internal.ProxyUtilities$3.run(ProxyUtilities.java:120)\r\n! at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n! at org.jvnet.hk2.internal.ProxyUtilities.secureCreate(ProxyUtilities.java:115)\r\n! at org.jvnet.hk2.internal.ProxyUtilities.generateProxy(ProxyUtilities.java:194)\r\n! ... 76 common frames omitted\r\n! Causing: org.glassfish.hk2.api.MultiException: A MultiException has 2 exceptions.  They are:\r\n! 1. java.lang.IllegalArgumentException: org.glassfish.hk2.api.ProxyCtl referenced from a method is not visible from class loader\r\n! 2. java.lang.IllegalArgumentException: While attempting to create a Proxy for javax.ws.rs.core.HttpHeaders in scope org.glassfish.jersey.process.internal.RequestScoped an error occured while creating the proxy\r\n! \r\n! at org.jvnet.hk2.internal.ProxyUtilities.generateProxy(ProxyUtilities.java:211)\r\n! at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2074)\r\n! at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)\r\n! at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)\r\n! at org.glassfish.jersey.inject.hk2.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:103)\r\n! at org.jvnet.hk2.internal.Utilities.justInject(Utilities.java:988)\r\n! at org.jvnet.hk2.internal.ServiceLocatorImpl.inject(ServiceLocatorImpl.java:998)\r\n! at org.jvnet.hk2.internal.ServiceLocatorImpl.inject(ServiceLocatorImpl.java:976)\r\n! at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.inject(AbstractHk2InjectionManager.java:207)\r\n! at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.inject(ImmediateHk2InjectionManager.java:30)\r\n! at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:427)\r\n! at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:297)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n! at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\r\n! at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:296)\r\n! at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\r\n! at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\r\n! at javax.servlet.GenericServlet.init(GenericServlet.java:203)\r\n! at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\r\n! at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n! at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\r\n! at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n! at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n! at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n! at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n! at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n! at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n! at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n! at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n! at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at com.codahale.metrics.jetty9.InstrumentedHandler.doStart(InstrumentedHandler.java:138)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:426)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at org.eclipse.jetty.server.handler.StatisticsHandler.doStart(StatisticsHandler.java:264)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\r\n! at org.eclipse.jetty.server.Server.start(Server.java:423)\r\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\r\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\r\n! at org.eclipse.jetty.server.Server.doStart(Server.java:387)\r\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n! at io.dropwizard.cli.ServerCommand.run(ServerCommand.java:52)\r\n! at io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:68)\r\n! at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\r\n! at io.dropwizard.cli.Cli.run(Cli.java:78)\r\n! at io.dropwizard.Application.run(Application.java:94)\r\n```","title":"java.lang.IllegalArgumentException: org.glassfish.hk2.api.ProxyCtl referenced from a method is not visible from class loader","body":"<p>I am currently working on a project to upgrade from Java 8 to Java 17. Along with Java, I am also upgrading other libraries like Dropwizard, Hibernate, and Swagger. I am using <a href=\"https://github.com/smoketurner/dropwizard-swagger\" rel=\"nofollow noreferrer\">https://github.com/smoketurner/dropwizard-swagger</a> for the Swagger-Dropwizard integration. I updated all the RESP API and DTO annotations, but when I try to start the service, I am getting below runtime error. Has anyone tried upgrading Swagger-Dropwizard integration? Any suggestions or pointer on the following issue are appreciated. Thanks</p>\n<pre><code>WARN  [2023-03-28 19:25:35,282] org.eclipse.jetty.server.handler.ContextHandler.ROOT: unavailable\n! java.lang.IllegalArgumentException: org.glassfish.hk2.api.ProxyCtl referenced from a method is not visible from class loader\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:883)\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:721)\n! at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:648)\n! at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:440)\n! at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329)\n! at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205)\n! at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:438)\n! at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1037)\n! at org.jvnet.hk2.internal.ProxyUtilities$3.run(ProxyUtilities.java:120)\n! at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n! at org.jvnet.hk2.internal.ProxyUtilities.secureCreate(ProxyUtilities.java:115)\n! at org.jvnet.hk2.internal.ProxyUtilities.generateProxy(ProxyUtilities.java:194)\n! ... 76 common frames omitted\n! Causing: org.glassfish.hk2.api.MultiException: A MultiException has 2 exceptions.  They are:\n! 1. java.lang.IllegalArgumentException: org.glassfish.hk2.api.ProxyCtl referenced from a method is not visible from class loader\n! 2. java.lang.IllegalArgumentException: While attempting to create a Proxy for javax.ws.rs.core.HttpHeaders in scope org.glassfish.jersey.process.internal.RequestScoped an error occured while creating the proxy\n! \n! at org.jvnet.hk2.internal.ProxyUtilities.generateProxy(ProxyUtilities.java:211)\n! at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2074)\n! at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)\n! at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)\n! at org.glassfish.jersey.inject.hk2.ContextInjectionResolverImpl.resolve(ContextInjectionResolverImpl.java:103)\n! at org.jvnet.hk2.internal.Utilities.justInject(Utilities.java:988)\n! at org.jvnet.hk2.internal.ServiceLocatorImpl.inject(ServiceLocatorImpl.java:998)\n! at org.jvnet.hk2.internal.ServiceLocatorImpl.inject(ServiceLocatorImpl.java:976)\n! at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.inject(AbstractHk2InjectionManager.java:207)\n! at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.inject(ImmediateHk2InjectionManager.java:30)\n! at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:427)\n! at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:297)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n! at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\n! at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:296)\n! at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\n! at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\n! at javax.servlet.GenericServlet.init(GenericServlet.java:203)\n! at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\n! at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n! at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)\n! at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n! at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n! at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n! at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n! at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n! at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n! at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n! at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n! at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n! at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at com.codahale.metrics.jetty9.InstrumentedHandler.doStart(InstrumentedHandler.java:138)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:426)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at org.eclipse.jetty.server.handler.StatisticsHandler.doStart(StatisticsHandler.java:264)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169)\n! at org.eclipse.jetty.server.Server.start(Server.java:423)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97)\n! at org.eclipse.jetty.server.Server.doStart(Server.java:387)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n! at io.dropwizard.cli.ServerCommand.run(ServerCommand.java:52)\n! at io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:68)\n! at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\n! at io.dropwizard.cli.Cli.run(Cli.java:78)\n! at io.dropwizard.Application.run(Application.java:94)\n</code></pre>\n"},{"tags":["java","xml","kotlin"],"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1680085931,"post_id":75875707,"comment_id":133836206,"body_markdown":"Which platform/OS are you running on, and how are you viewing the file?","body":"Which platform/OS are you running on, and how are you viewing the file?"}],"owner":{"account_id":26971923,"reputation":21,"user_id":20537817,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680083887,"creation_date":1680083887,"question_id":75875707,"body_markdown":"When appending new student to class I get unnecessary new lines inside existing student tags. How can I solve the issue so that formatting remains the same?\r\n\r\nclass.xml:\r\n```\r\n&lt;class&gt;\r\n&lt;student&gt;\r\n  &lt;name&gt;\r\n    &lt;first&gt;John&lt;/first&gt;\r\n    &lt;last&gt;Doe&lt;/last&gt;\r\n  &lt;/name&gt;\r\n&lt;/student&gt;\r\n&lt;/class&gt;\r\n```\r\nmy code:\r\n```\r\nimport java.io.File\r\nimport javax.xml.parsers.DocumentBuilderFactory\r\nimport javax.xml.transform.OutputKeys\r\nimport javax.xml.transform.TransformerFactory\r\nimport javax.xml.transform.dom.DOMSource\r\nimport javax.xml.transform.stream.StreamResult\r\n\r\nfun main() {\r\n    val filename = &quot;class.xml&quot;\r\n    // load the XML file into a Document object using the same DocumentBuilder instance\r\n    val dbFactory = DocumentBuilderFactory.newInstance()\r\n    val dBuilder = dbFactory.newDocumentBuilder()\r\n    val doc = dBuilder.parse(File(filename))\r\n    // create a new student element using the same DocumentBuilder instance\r\n    val newStudent = createStudent(doc, &quot;Jane&quot;, &quot;Doe&quot;)\r\n    // get the root element\r\n    val root = doc.documentElement\r\n    // append the new student element to the class element\r\n    root.appendChild(newStudent)\r\n    // write the modified Document object back to the XML file\r\n    val transformerFactory = TransformerFactory.newInstance()\r\n    val transformer = transformerFactory.newTransformer()\r\n    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;)\r\n    transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;)\r\n    val source = DOMSource(doc)\r\n    val result = StreamResult(File(&quot;out.xml&quot;))\r\n    transformer.transform(source, result)\r\n}\r\n\r\nfun createStudent(doc: org.w3c.dom.Document, firstName: String, lastName: String): org.w3c.dom.Element {\r\n    // create student element using the provided Document object\r\n    val student = doc.createElement(&quot;student&quot;)\r\n    // create child elements and add to student element\r\n    val nameElement = doc.createElement(&quot;name&quot;)\r\n    val firstElement = doc.createElement(&quot;first&quot;)\r\n    firstElement.textContent = firstName\r\n    val lastElement = doc.createElement(&quot;last&quot;)\r\n    lastElement.textContent = lastName\r\n    nameElement.appendChild(firstElement)\r\n    nameElement.appendChild(lastElement)\r\n    student.appendChild(nameElement)\r\n    return student\r\n}\r\n```\r\nout.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;class&gt;\r\n  \r\n  &lt;student&gt;\r\n      \r\n    &lt;name&gt;\r\n          \r\n      &lt;first&gt;John&lt;/first&gt;\r\n          \r\n      &lt;last&gt;Doe&lt;/last&gt;\r\n        \r\n    &lt;/name&gt;\r\n    \r\n  &lt;/student&gt;\r\n  \r\n  &lt;student&gt;\r\n    &lt;name&gt;\r\n      &lt;first&gt;Jane&lt;/first&gt;\r\n      &lt;last&gt;Doe&lt;/last&gt;\r\n    &lt;/name&gt;\r\n  &lt;/student&gt;\r\n&lt;/class&gt;\r\n```\r\nhow can I get rid of these new lines that are produced when running my code. They appear only in student elements that already existed before appending the new student","title":"XML output in Kotlin remove unnecessary new lines","body":"<p>When appending new student to class I get unnecessary new lines inside existing student tags. How can I solve the issue so that formatting remains the same?</p>\n<p>class.xml:</p>\n<pre><code>&lt;class&gt;\n&lt;student&gt;\n  &lt;name&gt;\n    &lt;first&gt;John&lt;/first&gt;\n    &lt;last&gt;Doe&lt;/last&gt;\n  &lt;/name&gt;\n&lt;/student&gt;\n&lt;/class&gt;\n</code></pre>\n<p>my code:</p>\n<pre><code>import java.io.File\nimport javax.xml.parsers.DocumentBuilderFactory\nimport javax.xml.transform.OutputKeys\nimport javax.xml.transform.TransformerFactory\nimport javax.xml.transform.dom.DOMSource\nimport javax.xml.transform.stream.StreamResult\n\nfun main() {\n    val filename = &quot;class.xml&quot;\n    // load the XML file into a Document object using the same DocumentBuilder instance\n    val dbFactory = DocumentBuilderFactory.newInstance()\n    val dBuilder = dbFactory.newDocumentBuilder()\n    val doc = dBuilder.parse(File(filename))\n    // create a new student element using the same DocumentBuilder instance\n    val newStudent = createStudent(doc, &quot;Jane&quot;, &quot;Doe&quot;)\n    // get the root element\n    val root = doc.documentElement\n    // append the new student element to the class element\n    root.appendChild(newStudent)\n    // write the modified Document object back to the XML file\n    val transformerFactory = TransformerFactory.newInstance()\n    val transformer = transformerFactory.newTransformer()\n    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;)\n    transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;)\n    val source = DOMSource(doc)\n    val result = StreamResult(File(&quot;out.xml&quot;))\n    transformer.transform(source, result)\n}\n\nfun createStudent(doc: org.w3c.dom.Document, firstName: String, lastName: String): org.w3c.dom.Element {\n    // create student element using the provided Document object\n    val student = doc.createElement(&quot;student&quot;)\n    // create child elements and add to student element\n    val nameElement = doc.createElement(&quot;name&quot;)\n    val firstElement = doc.createElement(&quot;first&quot;)\n    firstElement.textContent = firstName\n    val lastElement = doc.createElement(&quot;last&quot;)\n    lastElement.textContent = lastName\n    nameElement.appendChild(firstElement)\n    nameElement.appendChild(lastElement)\n    student.appendChild(nameElement)\n    return student\n}\n</code></pre>\n<p>out.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;class&gt;\n  \n  &lt;student&gt;\n      \n    &lt;name&gt;\n          \n      &lt;first&gt;John&lt;/first&gt;\n          \n      &lt;last&gt;Doe&lt;/last&gt;\n        \n    &lt;/name&gt;\n    \n  &lt;/student&gt;\n  \n  &lt;student&gt;\n    &lt;name&gt;\n      &lt;first&gt;Jane&lt;/first&gt;\n      &lt;last&gt;Doe&lt;/last&gt;\n    &lt;/name&gt;\n  &lt;/student&gt;\n&lt;/class&gt;\n</code></pre>\n<p>how can I get rid of these new lines that are produced when running my code. They appear only in student elements that already existed before appending the new student</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1680086440,"post_id":75875685,"comment_id":133836319,"body_markdown":"Most likely &quot;java.version&quot; is a reserved property set by Maven. Call your own property something else.","body":"Most likely &quot;java.version&quot; is a reserved property set by Maven. Call your own property something else."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680123412,"post_id":75875685,"comment_id":133846360,"body_markdown":"Why is there a profile in a `settings.xml` does not belong there nor makes it sense... also using `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` instead of target/source etc. starting from JDK9+...","body":"Why is there a profile in a <code>settings.xml</code> does not belong there nor makes it sense... also using <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code> instead of target/source etc. starting from JDK9+..."}],"owner":{"account_id":2423257,"reputation":81,"user_id":2115763,"display_name":"user2115763"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680083766,"creation_date":1680083766,"question_id":75875685,"body_markdown":"there are some properties in my pom.xml:\r\n```\r\n&lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.compilerVersion&gt;${java.version}&lt;/maven.compiler.compilerVersion&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nbut when I check the effective-pom, I found they became:\r\n```\r\n    &lt;maven.compiler.compilerVersion&gt;11.0.2&lt;/maven.compiler.compilerVersion&gt;\r\n    &lt;maven.compiler.source&gt;11.0.2&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11.0.2&lt;/maven.compiler.target&gt;\r\n```\r\n(my JDK version is 11.0.2.)\r\n\r\nbut my question is, why they became to &#39;11.0.2&#39; while I&#39;ve already let them be 11 manually?\r\n\r\n(and it will cause error when mvn compile: &quot;Error: Java: invalid target release: 11.0.2&quot;(translation from the CN message, I&#39;am not sure whether it&#39;s the same with the really En message))\r\n\r\nthe new info found after post this question 30 min: these property values are overrided by a actived profiler in settings.xml with the same name:\r\n```\r\n&lt;profile&gt;\r\n    &lt;id&gt;java11&lt;/id&gt;\r\n    &lt;activation&gt;\r\n        &lt;jdk&gt;11&lt;/jdk&gt;\r\n    &lt;/activation&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.compilerVersion&gt;${java.version}&lt;/maven.compiler.compilerVersion&gt;\r\n    &lt;/properties&gt;\r\n&lt;/profile&gt;\r\n```\r\n\r\nbut the question is the same: since the value of &lt;java.version&gt; in the settings.xml is also &#39;11&#39;, why when inlining to the maven.compiler.... properties, it became to &#39;11.0.2&#39;?(there is no &#39;11.0.2&#39; appearence in any places)","title":"maven.compiler.target in pom.xml not working","body":"<p>there are some properties in my pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.compilerVersion&gt;${java.version}&lt;/maven.compiler.compilerVersion&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>but when I check the effective-pom, I found they became:</p>\n<pre><code>    &lt;maven.compiler.compilerVersion&gt;11.0.2&lt;/maven.compiler.compilerVersion&gt;\n    &lt;maven.compiler.source&gt;11.0.2&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11.0.2&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>(my JDK version is 11.0.2.)</p>\n<p>but my question is, why they became to '11.0.2' while I've already let them be 11 manually?</p>\n<p>(and it will cause error when mvn compile: &quot;Error: Java: invalid target release: 11.0.2&quot;(translation from the CN message, I'am not sure whether it's the same with the really En message))</p>\n<p>the new info found after post this question 30 min: these property values are overrided by a actived profiler in settings.xml with the same name:</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;java11&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;jdk&gt;11&lt;/jdk&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.compilerVersion&gt;${java.version}&lt;/maven.compiler.compilerVersion&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>but the question is the same: since the value of &lt;java.version&gt; in the settings.xml is also '11', why when inlining to the maven.compiler.... properties, it became to '11.0.2'?(there is no '11.0.2' appearence in any places)</p>\n"},{"tags":["java","voip","cisco","jtapi","cisco-jtapi"],"answers":[{"comments":[{"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"score":0,"creation_date":1680081845,"post_id":75869940,"comment_id":133835214,"body_markdown":"Hi,\nAt the beginning of the script I get the RTP ports by the CiscoRTPInputStartedEvent:\nhandler.ctipRTPOutputStarted.waitTrue();\n\ndestHost = ctipRTPOutputStartedEvent.getRTPOutputProperties().getRemoteAddress().getHostAddress();\ndestPort = ctipRTPOutputStartedEvent.getRTPOutputProperties().getRemotePort();","body":"Hi, At the beginning of the script I get the RTP ports by the CiscoRTPInputStartedEvent: handler.ctipRTPOutputStarted.waitTrue();  destHost = ctipRTPOutputStartedEvent.getRTPOutputProperties().getRemote&zwnj;&#8203;Address().getHostAdd&zwnj;&#8203;ress(); destPort = ctipRTPOutputStartedEvent.getRTPOutputProperties().getRemote&zwnj;&#8203;Port();"},{"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"score":0,"creation_date":1680082273,"post_id":75869940,"comment_id":133835319,"body_markdown":"But, there is no RTP event I see after using the consult besides the CiscoRTPInputStoppedEv and CiscoRTPOuputStoppedEv.\nI edited the thread message and added the full events I&#39;m getting after using the consult method (couldn&#39;t put it here because of length msg limit).","body":"But, there is no RTP event I see after using the consult besides the CiscoRTPInputStoppedEv and CiscoRTPOuputStoppedEv. I edited the thread message and added the full events I&#39;m getting after using the consult method (couldn&#39;t put it here because of length msg limit)."}],"tags":[],"owner":{"account_id":9165397,"reputation":361,"user_id":6815236,"display_name":"David Staudt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680028943,"creation_date":1680028943,"answer_id":75869940,"question_id":75798233,"body_markdown":"In general you should enable and handle the [CiscoRTPInputStartedEv][1], which will indicate the new IP:Port where the hold media will be coming from.\r\n\r\n\r\n  [1]: https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucm/jtapi_dev/14_0_1/cucm_b_cisco-unified-jtapi-developers-guide-14/cucm_b_cisco-unified-jtapi-developers-guide-1251_chapter_0101.html#CUCM_RF_C2425FA7_00","title":"Getting RTP ports of the held call after using consult","body":"<p>In general you should enable and handle the <a href=\"https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucm/jtapi_dev/14_0_1/cucm_b_cisco-unified-jtapi-developers-guide-14/cucm_b_cisco-unified-jtapi-developers-guide-1251_chapter_0101.html#CUCM_RF_C2425FA7_00\" rel=\"nofollow noreferrer\">CiscoRTPInputStartedEv</a>, which will indicate the new IP:Port where the hold media will be coming from.</p>\n"}],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680082935,"creation_date":1679382777,"question_id":75798233,"body_markdown":"I am using call consult in my script:\r\n\r\n    dialoutCall = (CiscoCall) provider.createCall();\r\n    TerminalConnection terminalConnection = ctipTerminal.getTerminalConnections()[0];\r\n    dialoutCall.consult(terminalConnection,dialToNum);\r\n\r\nwhen using consult the other existing call state is changed to hold and the RTP ports are being changed, is it possible to obtain the RTP ports of the call that is on hold state?\r\n\r\nThe events I get after using consult:\r\n\r\n    Received--&gt; Call/CiscoTermConnSelectChangedEv CTI_1\r\n    Received--&gt; Terminal/CiscoRTPInputStoppedEv\r\n    Received--&gt; Terminal/CiscoRTPOutputStoppedEv\r\n    Received--&gt; Call/CallCtlTermConnHeldEv CTI_1\r\n    Received--&gt; Call/ConsultCallActive\r\n    Received--&gt; Call/ConnCreatedEv 6050:CampusPT:1\r\n    Received--&gt; Call/ConnConnectedEv 6050:CampusPT:1\r\n    Received--&gt; Call/CallCtlConnInitiatedEv 6050:CampusPT:1\r\n    Received--&gt; Call/TermConnCreatedEv CTI_1\r\n    Received--&gt; Call/TermConnActiveEv CTI_1\r\n    Received--&gt; Call/CallCtlTermConnTalkingEv CTI_1\r\n    Received--&gt; Call/CallCtlConnDialingEv 6050:CampusPT:1\r\n    Received--&gt; Call/CallCtlConnEstablishedEv 6050:CampusPT:1\r\n    Received--&gt; Call/ConnInProgressEv 6001:CampusPT:1\r\n    Received--&gt; Call/CallCtlConnOfferedEv 6001:CampusPT:1\r\n    Received--&gt; Call/ConnAlertingEv 6001:CampusPT:1\r\n    Received--&gt; Call/CallCtlConnAlertingEv 6001:CampusPT:1\r\n    ","title":"Getting RTP ports of the held call after using consult","body":"<p>I am using call consult in my script:</p>\n<pre><code>dialoutCall = (CiscoCall) provider.createCall();\nTerminalConnection terminalConnection = ctipTerminal.getTerminalConnections()[0];\ndialoutCall.consult(terminalConnection,dialToNum);\n</code></pre>\n<p>when using consult the other existing call state is changed to hold and the RTP ports are being changed, is it possible to obtain the RTP ports of the call that is on hold state?</p>\n<p>The events I get after using consult:</p>\n<pre><code>Received--&gt; Call/CiscoTermConnSelectChangedEv CTI_1\nReceived--&gt; Terminal/CiscoRTPInputStoppedEv\nReceived--&gt; Terminal/CiscoRTPOutputStoppedEv\nReceived--&gt; Call/CallCtlTermConnHeldEv CTI_1\nReceived--&gt; Call/ConsultCallActive\nReceived--&gt; Call/ConnCreatedEv 6050:CampusPT:1\nReceived--&gt; Call/ConnConnectedEv 6050:CampusPT:1\nReceived--&gt; Call/CallCtlConnInitiatedEv 6050:CampusPT:1\nReceived--&gt; Call/TermConnCreatedEv CTI_1\nReceived--&gt; Call/TermConnActiveEv CTI_1\nReceived--&gt; Call/CallCtlTermConnTalkingEv CTI_1\nReceived--&gt; Call/CallCtlConnDialingEv 6050:CampusPT:1\nReceived--&gt; Call/CallCtlConnEstablishedEv 6050:CampusPT:1\nReceived--&gt; Call/ConnInProgressEv 6001:CampusPT:1\nReceived--&gt; Call/CallCtlConnOfferedEv 6001:CampusPT:1\nReceived--&gt; Call/ConnAlertingEv 6001:CampusPT:1\nReceived--&gt; Call/CallCtlConnAlertingEv 6001:CampusPT:1\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":7273299,"reputation":11,"user_id":5545516,"display_name":"xzhou"},"score":0,"creation_date":1680080481,"post_id":75875106,"comment_id":133834844,"body_markdown":"As I ListIterator cannot write backward, and if your List Item is complex enough, ListIterator cannot even read backward.","body":"As I ListIterator cannot write backward, and if your List Item is complex enough, ListIterator cannot even read backward."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680080702,"post_id":75875106,"comment_id":133834907,"body_markdown":"Anyway, stepping through it with a debugger, `String previousElement = iterator.previous();` has a value of C which causes the following if statement to evaluate to false","body":"Anyway, stepping through it with a debugger, <code>String previousElement = iterator.previous();</code> has a value of C which causes the following if statement to evaluate to false"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680081078,"post_id":75875106,"comment_id":133835011,"body_markdown":"what you should do is add in an extra iterator.previous() before your String previousElement and iterator.next() before iterator.remove().","body":"what you should do is add in an extra iterator.previous() before your String previousElement and iterator.next() before iterator.remove()."}],"answers":[{"tags":[],"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680081605,"creation_date":1680081141,"answer_id":75875253,"question_id":75875106,"body_markdown":"  The iterator keeps 2 indexes. see private class java.util.ArrayList.Itr\r\n\r\n    int cursor;       // index of next element to return\r\n    int lastRet = -1; // index of last element returned; -1 if no such\r\n\r\nAfter your condition `if (element.equals(&quot;C&quot;))` has passed, the `cursor` is equal to 3, because that would be next element even though, there isn&#39;t 3rd element in that list. So by calling `iterator.hasPrevious()`, you are actually refering to index `cursor-1`, which is 2 and that is letter &quot;C&quot;.\r\nThen, when you called `iterator.previous()`, it actually returned element on index 2, which again is letter &quot;C&quot;.\r\nSo in the end, you basically rewritten index 2 and then removed it&#39;s value.\r\n\r\nTo better understand what is going on, go over source code of ListIterator, it is kinda easy to understand, just go loop by loop and write down values if it helps.","title":"Java change List item with ListIterator error","body":"<p>The iterator keeps 2 indexes. see private class java.util.ArrayList.Itr</p>\n<pre><code>int cursor;       // index of next element to return\nint lastRet = -1; // index of last element returned; -1 if no such\n</code></pre>\n<p>After your condition <code>if (element.equals(&quot;C&quot;))</code> has passed, the <code>cursor</code> is equal to 3, because that would be next element even though, there isn't 3rd element in that list. So by calling <code>iterator.hasPrevious()</code>, you are actually refering to index <code>cursor-1</code>, which is 2 and that is letter &quot;C&quot;.\nThen, when you called <code>iterator.previous()</code>, it actually returned element on index 2, which again is letter &quot;C&quot;.\nSo in the end, you basically rewritten index 2 and then removed it's value.</p>\n<p>To better understand what is going on, go over source code of ListIterator, it is kinda easy to understand, just go loop by loop and write down values if it helps.</p>\n"},{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680081622,"post_id":75875267,"comment_id":133835166,"body_markdown":"@experimentunit1998X Yeah, the docs even say &quot;Note that alternating calls to next and previous will return the same element repeatedly.&quot;","body":"@experimentunit1998X Yeah, the docs even say &quot;Note that alternating calls to next and previous will return the same element repeatedly.&quot;"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680081656,"post_id":75875267,"comment_id":133835173,"body_markdown":"yes, but i was confused why the docs said that, so i went to check the debugger again","body":"yes, but i was confused why the docs said that, so i went to check the debugger again"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680081596,"creation_date":1680081229,"answer_id":75875267,"question_id":75875106,"body_markdown":"If you call `next`, and then `previous`, the list iterator will not have moved at all, and both calls will return the same element. You are just moving one position forward and then one backward, right?\r\n\r\nTherefore, in this part of the code:\r\n\r\n    if (element.equals(&quot;C&quot;)) {\r\n        if (iterator.hasPrevious()) {\r\n            String previousElement = iterator.previous();\r\n            if (previousElement.equals(&quot;B&quot;)) {\r\n\r\nThe `previous` call will return the same thing as the `next` call on the first line, so `previousElement` will always be equal to `element`. Since `element` is &quot;C&quot;, it can&#39;t be &quot;B&quot;, and the innermost if statement will never be run.\r\n\r\nYou should call `previous` and extra time\r\n\r\n    if (element.equals(&quot;C&quot;)) {\r\n        iterator.previous(); // &lt;--- here!\r\n        if (iterator.hasPrevious()) {\r\n            String previousElement = iterator.previous();\r\n            if (previousElement.equals(&quot;B&quot;)) {\r\n\r\nThis is always safe to call because you just called `next` 2 lines before. Going back is always safe, since you are just going back to where you came from.\r\n\r\nSimilarly, after the `if (previousElement.equals(&quot;B&quot;))` statement, you also need to call `next` an extra time:\r\n\r\n    }\r\n    iterator.next();\r\n    iterator.next();\r\n    iterator.remove();\r\n\r\nBy counting the number of times `next` and `previous` called before this point, you can see that both of these `next`s are safe.\r\n\r\nNote that this would end up in an infinite loop if the list starts with &quot;C&quot;. You can call `next` in the `else` block of `if (iterator.hasPrevious())` to prevent this.","title":"Java change List item with ListIterator error","body":"<p>If you call <code>next</code>, and then <code>previous</code>, the list iterator will not have moved at all, and both calls will return the same element. You are just moving one position forward and then one backward, right?</p>\n<p>Therefore, in this part of the code:</p>\n<pre><code>if (element.equals(&quot;C&quot;)) {\n    if (iterator.hasPrevious()) {\n        String previousElement = iterator.previous();\n        if (previousElement.equals(&quot;B&quot;)) {\n</code></pre>\n<p>The <code>previous</code> call will return the same thing as the <code>next</code> call on the first line, so <code>previousElement</code> will always be equal to <code>element</code>. Since <code>element</code> is &quot;C&quot;, it can't be &quot;B&quot;, and the innermost if statement will never be run.</p>\n<p>You should call <code>previous</code> and extra time</p>\n<pre><code>if (element.equals(&quot;C&quot;)) {\n    iterator.previous(); // &lt;--- here!\n    if (iterator.hasPrevious()) {\n        String previousElement = iterator.previous();\n        if (previousElement.equals(&quot;B&quot;)) {\n</code></pre>\n<p>This is always safe to call because you just called <code>next</code> 2 lines before. Going back is always safe, since you are just going back to where you came from.</p>\n<p>Similarly, after the <code>if (previousElement.equals(&quot;B&quot;))</code> statement, you also need to call <code>next</code> an extra time:</p>\n<pre><code>}\niterator.next();\niterator.next();\niterator.remove();\n</code></pre>\n<p>By counting the number of times <code>next</code> and <code>previous</code> called before this point, you can see that both of these <code>next</code>s are safe.</p>\n<p>Note that this would end up in an infinite loop if the list starts with &quot;C&quot;. You can call <code>next</code> in the <code>else</code> block of <code>if (iterator.hasPrevious())</code> to prevent this.</p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680082630,"creation_date":1680081844,"answer_id":75875370,"question_id":75875106,"body_markdown":"nb: Not quite sure what you are doing with the sequence.\r\n\r\n\r\n   \r\n\r\n     int count=0;\r\n            while (iterator.hasNext()){\r\n            \r\n            String element = iterator.next();\r\n                        if (element.equals(&quot;C&quot;)) {\r\n                            if (iterator.hasPrevious()) {\r\n                                String previousElement = iterator.previous();\r\n                                if (previousElement.equals(&quot;B&quot;)) {\r\n                list.set((count-1),&quot;BC&quot;);\r\n    count-=1;\r\n                                }\r\n          iterator.next(); // not sure what&#39;s happening in the sequence with this\r\n                                iterator.remove();\r\n            count++;\r\n            }\r\n\r\n\r\nIt may be better to search with list.indexOf  or list.lastIndexOf , list.size , list.get","title":"Java change List item with ListIterator error","body":"<p>nb: Not quite sure what you are doing with the sequence.</p>\n<pre><code> int count=0;\n        while (iterator.hasNext()){\n        \n        String element = iterator.next();\n                    if (element.equals(&quot;C&quot;)) {\n                        if (iterator.hasPrevious()) {\n                            String previousElement = iterator.previous();\n                            if (previousElement.equals(&quot;B&quot;)) {\n            list.set((count-1),&quot;BC&quot;);\ncount-=1;\n                            }\n      iterator.next(); // not sure what's happening in the sequence with this\n                            iterator.remove();\n        count++;\n        }\n</code></pre>\n<p>It may be better to search with list.indexOf  or list.lastIndexOf , list.size , list.get</p>\n"}],"owner":{"account_id":7273299,"reputation":11,"user_id":5545516,"display_name":"xzhou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680082630,"creation_date":1680080311,"question_id":75875106,"body_markdown":"trying to modify a List under some condition with ListIterator, could anyone help me out?\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.ListIterator;\r\n\r\npublic class TestIterator {\r\n    public static void main(String[] args){\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;A&quot;);\r\n        list.add(&quot;B&quot;);\r\n        list.add(&quot;C&quot;);\r\n        System.out.println(&quot;List before modification: &quot; + list);\r\n        ListIterator&lt;String&gt; iterator = list.listIterator();\r\n        while (iterator.hasNext()) {\r\n            String element = iterator.next();\r\n            if (element.equals(&quot;C&quot;)) {\r\n                if (iterator.hasPrevious()) {\r\n                    String previousElement = iterator.previous();\r\n                    if (previousElement.equals(&quot;B&quot;)) {\r\n                        iterator.set(&quot;BC&quot;);\r\n                    }\r\n                    iterator.next();\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;List before modification: &quot; + list);\r\n    }\r\n}\r\n```\r\n\r\nexpected output is:\r\nList before modification: [A, B, C]\r\nList after modification: [A, BC]\r\n\r\nreal output is:\r\nList before modification: [A, B, C]\r\nList before modification: [A, B]\r\n","title":"Java change List item with ListIterator error","body":"<p>trying to modify a List under some condition with ListIterator, could anyone help me out?</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.ListIterator;\n\npublic class TestIterator {\n    public static void main(String[] args){\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;A&quot;);\n        list.add(&quot;B&quot;);\n        list.add(&quot;C&quot;);\n        System.out.println(&quot;List before modification: &quot; + list);\n        ListIterator&lt;String&gt; iterator = list.listIterator();\n        while (iterator.hasNext()) {\n            String element = iterator.next();\n            if (element.equals(&quot;C&quot;)) {\n                if (iterator.hasPrevious()) {\n                    String previousElement = iterator.previous();\n                    if (previousElement.equals(&quot;B&quot;)) {\n                        iterator.set(&quot;BC&quot;);\n                    }\n                    iterator.next();\n                    iterator.remove();\n                }\n            }\n        }\n        System.out.println(&quot;List before modification: &quot; + list);\n    }\n}\n</code></pre>\n<p>expected output is:\nList before modification: [A, B, C]\nList after modification: [A, BC]</p>\n<p>real output is:\nList before modification: [A, B, C]\nList before modification: [A, B]</p>\n"},{"tags":["java","android","firebase-storage"],"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680082595,"creation_date":1680082212,"question_id":75875435,"body_markdown":"I am trying to download an audio file from firebase storage to an specific folder of local device storage with the code written below getting an exception as mentioned.\r\n\r\n    storageReference.child(audioName).getFile(destinationFile)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;FileDownloadTask.TaskSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    Toast.makeText(context, &quot;audio downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        })\r\n        .addOnProgressListener(new OnProgressListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onProgress(@NonNull FileDownloadTask.TaskSnapshot snapshot) {\r\n                holder.textFileSize.setText(&quot;Downloading...\\n&quot; + snapshot.getBytesTransferred() + &quot; / &quot; + snapshot.getTotalByteCount());\r\n\r\n            }\r\n        })\r\n        .addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });`\r\n    \r\n    Help me resolve this issue.","title":"Firebase storage : An error occurred, please check the HTTP result code and inner exception for server response","body":"<p>I am trying to download an audio file from firebase storage to an specific folder of local device storage with the code written below getting an exception as mentioned.</p>\n<pre><code>storageReference.child(audioName).getFile(destinationFile)\n    .addOnCompleteListener(new OnCompleteListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;FileDownloadTask.TaskSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                Toast.makeText(context, &quot;audio downloaded&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    })\n    .addOnProgressListener(new OnProgressListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onProgress(@NonNull FileDownloadTask.TaskSnapshot snapshot) {\n            holder.textFileSize.setText(&quot;Downloading...\\n&quot; + snapshot.getBytesTransferred() + &quot; / &quot; + snapshot.getTotalByteCount());\n\n        }\n    })\n    .addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });`\n\nHelp me resolve this issue.\n</code></pre>\n"},{"tags":["java","utf-8","java.util.scanner"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1466502441,"post_id":37940919,"comment_id":63330833,"body_markdown":"The variable probably stores the correct values, but they cannot be printed/displayed in your environment. How do you output the String?","body":"The variable probably stores the correct values, but they cannot be printed/displayed in your environment. How do you output the String?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":4,"creation_date":1466502455,"post_id":37940919,"comment_id":63330844,"body_markdown":"Are **sure** it is rubbish? Some Fonts simply don&#39;t have the code points to be rendered a character, thus replacing with &quot;?&quot;.","body":"Are <b>sure</b> it is rubbish? Some Fonts simply don&#39;t have the code points to be rendered a character, thus replacing with &quot;?&quot;."},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":0,"creation_date":1466502707,"post_id":37940919,"comment_id":63331025,"body_markdown":"Did println and it goes out ?&#225;rka with the iso verision trying for caps utf-8","body":"Did println and it goes out ?&#225;rka with the iso verision trying for caps utf-8"},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":1,"creation_date":1466502757,"post_id":37940919,"comment_id":63331070,"body_markdown":"Nope UTF-8 not working either","body":"Nope UTF-8 not working either"},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":0,"creation_date":1466503394,"post_id":37940919,"comment_id":63331507,"body_markdown":"the output is written on screen by system.out.println and also into the file using buffered output stream","body":"the output is written on screen by system.out.println and also into the file using buffered output stream"}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1466502498,"post_id":37940968,"comment_id":63330882,"body_markdown":"Why would you suggest that? The question title seems to imply that the input is UTF-8.","body":"Why would you suggest that? The question title seems to imply that the input is UTF-8."},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":0,"creation_date":1466502544,"post_id":37940968,"comment_id":63330915,"body_markdown":"Almost. It however doesn&#39;t store &quot;ř&quot; in variable. so Input š&#225;rka Output ?&#225;rka","body":"Almost. It however doesn&#39;t store &quot;ř&quot; in variable. so Input š&#225;rka Output ?&#225;rka"},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":0,"creation_date":1466502612,"post_id":37940968,"comment_id":63330963,"body_markdown":"Czech is latin2 AFAIK.","body":"Czech is latin2 AFAIK."},{"owner":{"account_id":8183029,"reputation":27,"user_id":6159571,"accept_rate":0,"display_name":"checkerchief"},"score":0,"creation_date":1466503428,"post_id":37940968,"comment_id":63331523,"body_markdown":"@Lance try &quot;ISO-8859-2&quot;","body":"@Lance try &quot;ISO-8859-2&quot;"}],"tags":[],"owner":{"account_id":8183029,"reputation":27,"user_id":6159571,"accept_rate":0,"display_name":"checkerchief"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1466503401,"creation_date":1466502392,"answer_id":37940968,"question_id":37940919,"body_markdown":"I would suggest you to try\r\n\r\n    Scanner input= new Scanner(System.in, &quot;ISO-8859-1&quot;);\r\n\r\nEDIT:\r\nAs you said some characters are still not working consider trying:\r\n\r\n    Scanner input= new Scanner(System.in, &quot;ISO-8859-2&quot;);\r\n\r\n&quot;ISO-8859-2&quot; suprorts Czech [Check this for more information][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO/IEC_8859-2","title":"Scan input with UTF-8 in Java","body":"<p>I would suggest you to try</p>\n\n<pre><code>Scanner input= new Scanner(System.in, \"ISO-8859-1\");\n</code></pre>\n\n<p>EDIT:\nAs you said some characters are still not working consider trying:</p>\n\n<pre><code>Scanner input= new Scanner(System.in, \"ISO-8859-2\");\n</code></pre>\n\n<p>\"ISO-8859-2\" suprorts Czech <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-2\" rel=\"nofollow\">Check this for more information</a></p>\n"},{"comments":[{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":1,"creation_date":1466503031,"post_id":37941146,"comment_id":63331260,"body_markdown":"This might be the problem. I am using english(US) machine but I want my program to recognize czech letters as well. Is this the issue? the Program will be used in czech computers only. So default system encoding will always be Czech","body":"This might be the problem. I am using english(US) machine but I want my program to recognize czech letters as well. Is this the issue? the Program will be used in czech computers only. So default system encoding will always be Czech"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1466503363,"post_id":37941146,"comment_id":63331486,"body_markdown":"System.in is going native, hence a problem. Now an IDE console might just be something different. Best would be _not_ to use System.in. On Windows you might have success with **&quot;Windows-1252&quot;** - MSWindows Latin-1 - instead of &quot;ISO-8859-1&quot; - official Latin-1.","body":"System.in is going native, hence a problem. Now an IDE console might just be something different. Best would be <i>not</i> to use System.in. On Windows you might have success with <b>&quot;Windows-1252&quot;</b> - MSWindows Latin-1 - instead of &quot;ISO-8859-1&quot; - official Latin-1."},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":0,"creation_date":1466503839,"post_id":37941146,"comment_id":63331812,"body_markdown":"How can I check quickly if the code is could run on czech region PC?","body":"How can I check quickly if the code is could run on czech region PC?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1466504052,"post_id":37941146,"comment_id":63331960,"body_markdown":"99.99% certain that there is no problem in Czechia.","body":"99.99% certain that there is no problem in Czechia."},{"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"score":0,"creation_date":1466504182,"post_id":37941146,"comment_id":63332050,"body_markdown":"Thanks I put my head on the block for trusting you so I hope its ok :) You rock by the way!","body":"Thanks I put my head on the block for trusting you so I hope its ok :) You rock by the way!"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1466504857,"post_id":37941146,"comment_id":63332533,"body_markdown":"I&#39;ll send a treat if as-is reading of System.in does not work... (Prerequisite) `System.getProperty(&quot;file.encoding&quot;)` must not have been tampered with.","body":"I&#39;ll send a treat if as-is reading of System.in does not work... (Prerequisite) <code>System.getProperty(&quot;file.encoding&quot;)</code> must not have been tampered with."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1466502861,"creation_date":1466502861,"answer_id":37941146,"question_id":37940919,"body_markdown":"Use `new Scanner(System.in)`. This uses the default operating system&#39;s encoding, the same as System.in uses. The String (as always) contains the Unicode version, which you then may write to a file using\r\n\r\n    new OutputStreamWriter(new FileOutputStream(...), &quot;UTF-8&quot;)\r\n\r\nor other (simpler) methods.","title":"Scan input with UTF-8 in Java","body":"<p>Use <code>new Scanner(System.in)</code>. This uses the default operating system's encoding, the same as System.in uses. The String (as always) contains the Unicode version, which you then may write to a file using</p>\n\n<pre><code>new OutputStreamWriter(new FileOutputStream(...), \"UTF-8\")\n</code></pre>\n\n<p>or other (simpler) methods.</p>\n"},{"tags":[],"owner":{"account_id":6140444,"reputation":3472,"user_id":4788022,"display_name":"JJPandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679673953,"creation_date":1466503291,"answer_id":37941315,"question_id":37940919,"body_markdown":"*This should be a comment but sadly I don&#39;t have that privilege yet.*  \r\n\r\nWhen debugging (by outputing some text to a file, browser, or just watch them in an IDE), don&#39;t rush to say &quot;it&#39;s not working because I get ? characters here&quot;.  \r\n\r\nMaybe it&#39;s just your IDE/system that can&#39;t display those utf-8 chars.  \r\n\r\nTo be really sure, you can copy the outputted text from file/browser/debugger, then paste it to Notepad++ (or some other editor that has a hex editor), then use `view in hex`, if you see `0xefbfbd` (utf-8&#39;s &quot;can&#39;t decode this&quot; code), then it&#39;s broken. Otherwise everything&#39;s fine.","title":"Scan input with UTF-8 in Java","body":"<p><em>This should be a comment but sadly I don't have that privilege yet.</em></p>\n<p>When debugging (by outputing some text to a file, browser, or just watch them in an IDE), don't rush to say &quot;it's not working because I get ? characters here&quot;.</p>\n<p>Maybe it's just your IDE/system that can't display those utf-8 chars.</p>\n<p>To be really sure, you can copy the outputted text from file/browser/debugger, then paste it to Notepad++ (or some other editor that has a hex editor), then use <code>view in hex</code>, if you see <code>0xefbfbd</code> (utf-8's &quot;can't decode this&quot; code), then it's broken. Otherwise everything's fine.</p>\n"}],"owner":{"account_id":7233560,"reputation":203,"user_id":5519581,"accept_rate":25,"display_name":"Lance"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37941146,"answer_count":3,"score":1,"last_activity_date":1680082595,"creation_date":1466502279,"question_id":37940919,"body_markdown":"I am trying to find a way to get values actually typed into a variable so I can output them into a file.  \r\nThe problem is that the scanner doesn&#39;t recognize the Czech letters such as &quot;ř ; &#225; ; ž ; š&quot; etc.  \r\nHere is the code sample:\r\n\r\n    String jmeno;\r\n    Scanner input= new Scanner(System.in, &quot;utf-8&quot;);\r\n    jmeno = input.next();\r\nWhat I type:\r\n\r\n&gt; Š&#225;rka\r\n\r\nWhat is stored in variable jm&#233;no:\r\n\r\n&gt; ??rka\r\n\r\nThe &quot;?&quot; represent junk characters, with the question marks in black boxes.  \r\nHow should I adjust the code, so that the letters are recieved correctly by the variable?\r\n\r\nAlso the computer I am using has EN(US) system encoding.","title":"Scan input with UTF-8 in Java","body":"<p>I am trying to find a way to get values actually typed into a variable so I can output them into a file.<br />\nThe problem is that the scanner doesn't recognize the Czech letters such as &quot;ř ; á ; ž ; š&quot; etc.<br />\nHere is the code sample:</p>\n<pre><code>String jmeno;\nScanner input= new Scanner(System.in, &quot;utf-8&quot;);\njmeno = input.next();\n</code></pre>\n<p>What I type:</p>\n<blockquote>\n<p>Šárka</p>\n</blockquote>\n<p>What is stored in variable jméno:</p>\n<blockquote>\n<p>??rka</p>\n</blockquote>\n<p>The &quot;?&quot; represent junk characters, with the question marks in black boxes.<br />\nHow should I adjust the code, so that the letters are recieved correctly by the variable?</p>\n<p>Also the computer I am using has EN(US) system encoding.</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1680081997,"post_id":75875327,"comment_id":133835248,"body_markdown":"Please, check that you set up enough Memory to your java application..","body":"Please, check that you set up enough Memory to your java application.."},{"owner":{"account_id":13327812,"reputation":50,"user_id":9620228,"display_name":"H.Khadem"},"score":2,"creation_date":1680082354,"post_id":75875327,"comment_id":133835341,"body_markdown":"I have monitored both java applications and rabbimq memory and CPU usages, they do not have memory or CPU shortages.","body":"I have monitored both java applications and rabbimq memory and CPU usages, they do not have memory or CPU shortages."},{"owner":{"account_id":271537,"reputation":489,"user_id":562122,"display_name":"Justin N"},"score":0,"creation_date":1680098281,"post_id":75875327,"comment_id":133839723,"body_markdown":"`deleteQueueIfEmpty()` gives me pause.  If you happen to delete a queue that has a listener attached, would it not also then remove that listener?  Does every instance of BaseConsumer have a one-to-one relationship with the queue it&#39;s listening on?","body":"<code>deleteQueueIfEmpty()</code> gives me pause.  If you happen to delete a queue that has a listener attached, would it not also then remove that listener?  Does every instance of BaseConsumer have a one-to-one relationship with the queue it&#39;s listening on?"},{"owner":{"account_id":13327812,"reputation":50,"user_id":9620228,"display_name":"H.Khadem"},"score":0,"creation_date":1680722145,"post_id":75875327,"comment_id":133948211,"body_markdown":"for each instance of our application, every instance of BaseConsumer has a one-to-one relationship with the queue it&#39;s listening on. even if the queue is deleted and the listeners removed, new listeners will be added with the new instances of the application going online. I hope I understood your question correctly. if not let me know so I can explain more","body":"for each instance of our application, every instance of BaseConsumer has a one-to-one relationship with the queue it&#39;s listening on. even if the queue is deleted and the listeners removed, new listeners will be added with the new instances of the application going online. I hope I understood your question correctly. if not let me know so I can explain more"}],"owner":{"account_id":13327812,"reputation":50,"user_id":9620228,"display_name":"H.Khadem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680082388,"creation_date":1680081623,"question_id":75875327,"body_markdown":"I am using rabbitmq in a microservice environment, and I use it to send messages and events to other services. \r\nmy projects are java spring boot and I am using rabbitmq java client&#39;s latest version. \r\nThe problem is some consumers stop consuming at a random point in time, and the only way to get them going again is to restart the application. I have not been able to find a pattern. here is what I have done and know:\r\n\r\n * some consumers stop working not all of them.\r\n * I have enabled auto-recovery option\r\n * publishers of the same application have no problems.\r\n * This is my rabbitmq client: https://mvnrepository.com/artifact/com.rabbitmq/amqp-client/5.17.0\r\n * I have monitored both java applications and rabbimq memory and CPU usages, they do not have memory or CPU shortages\r\n * I have read the following links and they did not solve my problem: \r\n\r\nhttps://stackoverflow.com/questions/22941644/rabbitmq-surviving-a-consumer-disconnection-using-defaultconsumer\r\n\r\nhttps://stackoverflow.com/questions/49338247/rabbitmq-connect-disconnect-notifications\r\n\r\nhttps://stackoverflow.com/questions/17811786/rabbitmq-disconnect-me-after-some-time\r\n\r\nhttps://stackoverflow.com/questions/38771664/rabbitmq-java-client-stops-consuming-messages\r\n\r\nhttps://stackoverflow.com/questions/48033118/temporarily-stop-consuming-rabbitmq-messages-and-resume-later\r\n\r\nhttps://stackoverflow.com/questions/6732936/rabbitmq-consumer-stops-receiving-messages\r\n\r\nhttps://stackoverflow.com/questions/3284731/rabbitmq-message-consumers-stop-consuming-messages\r\n\r\n\r\n * this is how I have coded my base consumer : \r\n\r\n```java\r\n\r\npublic abstract class BaseConsumer implements Consumer {\r\n    private final Logger log = LoggerFactory.getLogger(BaseConsumer.class);\r\n\r\n    protected Connection connection;\r\n    protected Channel channel;\r\n    protected String exchangeType;\r\n    protected String exchangeName;\r\n    protected String queueName;\r\n    protected String routingKey;\r\n    protected String consumerTag;\r\n    protected String deadLetterExchangeName;\r\n    protected String deadLetterQueueName;\r\n    protected String deadLetterRoutingKey;\r\n    protected boolean autoDelete;\r\n    protected boolean durableQueue;\r\n    protected boolean exclusiveQueue;\r\n    protected boolean requiresConfirm;\r\n\r\n    protected BaseConsumer(Connection connection) {\r\n        this.connection = connection;\r\n        this.requiresConfirm = false;\r\n    }\r\n\r\n    @Override\r\n    public void consume() {\r\n        consumeMessage();\r\n    }\r\n\r\n    protected void consumeMessage() {\r\n        try {\r\n            Channel channel = createChannel();\r\n            declareChannel(channel);\r\n            log.info(String.format(&quot;%s: [*] Waiting for %s. To exit press CTRL+C&quot;, getClassName(), queueName));\r\n            channel.basicConsume(queueName, !requiresConfirm, consumerTag, getConsumer(channel));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private DefaultConsumer getConsumer(Channel channel) {\r\n        return new DefaultConsumer(channel) {\r\n            @Override\r\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) {\r\n                handleMessageProcess(body, envelope);\r\n            }\r\n        };\r\n    }\r\n\r\n    private void handleMessageProcess(byte[] body, Envelope envelope) {\r\n        String message = new String(body);\r\n        log.info(String.format(&quot;%s: [x] received &#39;%s&#39;&quot;, getClassName(), message));\r\n        long deliveryTag = envelope.getDeliveryTag();\r\n        if (validateMessage(message)) {\r\n            log.info(&quot;validation was Successful&quot;);\r\n            if (requiresConfirm) {\r\n                log.info(&quot;******** handling delivery&quot;);\r\n                try {\r\n                    basicConsume(message);\r\n                    ackMessage(channel, deliveryTag);\r\n                } catch (Exception e) {\r\n                    log.error(String.format(&quot;Consume Failed Moving Message To DLQ. Error Is: \\n%s&quot;, e));\r\n                    nackMessage(channel, deliveryTag);\r\n                }\r\n            } else {\r\n                basicConsume(message);\r\n            }\r\n        } else {\r\n            log.info(&quot;validation was not Successful&quot;);\r\n            messageNotValidProcess(message, deliveryTag);\r\n        }\r\n    }\r\n\r\n    protected void ackMessage(Channel channel, long deliveryTag) {\r\n        try {\r\n            log.info(&quot;Message was acknowledged&quot;);\r\n            channel.basicAck(deliveryTag, false);\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected void nackMessage(Channel channel, long deliveryTag) {\r\n        try {\r\n            log.info(&quot;Message Not Acknowledged&quot;);\r\n            channel.basicNack(deliveryTag, false, false);\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected boolean validateMessage(String message) {\r\n        return ValidationUtils.isJsonObject(message);\r\n    }\r\n\r\n    protected void basicConsume(String message) {\r\n        log.info(&quot; [x] consumed &#39;&quot; + message + &quot;&#39; (do nothing - not implemented)&quot;);\r\n    }\r\n\r\n    protected void messageNotValidProcess(String message, long deliveryTag) {\r\n        log.info(String.format(&quot;[x] %d consuming was unsuccessful. %s is not valid %s&quot;, deliveryTag, queueName, message));\r\n    }\r\n\r\n    private Channel createChannel() throws IOException {\r\n        if (this.channel == null || !this.channel.isOpen()) {\r\n            this.channel = connection.createChannel();\r\n            try {\r\n                declareChannel(channel);\r\n            } catch (IOException | ShutdownSignalException exception) {\r\n                this.channel = connection.createChannel();\r\n                log.warn(&quot;Queue parameters had changed, trying recreating them...&quot;);\r\n                deleteQueueIfEmpty(channel, queueName);\r\n                if (deadLetterQueueName != null) {\r\n                    deleteQueueIfEmpty(channel, deadLetterQueueName);\r\n                }\r\n                declareChannel(channel);\r\n            }\r\n        }\r\n        return channel;\r\n    }\r\n\r\n    private void declareChannel(Channel channel) throws IOException {\r\n        channel.exchangeDeclare(exchangeName, exchangeType);\r\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\r\n        if (deadLetterExchangeName != null &amp;&amp; deadLetterRoutingKey != null &amp;&amp; deadLetterQueueName != null) {\r\n            args.put(&quot;x-dead-letter-exchange&quot;, deadLetterExchangeName);\r\n            args.put(&quot;x-dead-letter-routing-key&quot;, deadLetterRoutingKey);\r\n            channel.exchangeDeclare(deadLetterExchangeName, exchangeType);\r\n            channel.queueDeclare(deadLetterQueueName, false, false, false, null);\r\n            channel.queueBind(deadLetterQueueName, deadLetterExchangeName, deadLetterRoutingKey);\r\n        }\r\n        channel.queueDeclare(queueName, durableQueue, autoDelete, exclusiveQueue, args);\r\n        channel.queueBind(queueName, exchangeName, routingKey);\r\n\r\n        if (requiresConfirm) {\r\n            channel.confirmSelect();\r\n            channel.addConfirmListener(this::confirmed, this::notConfirmed);\r\n        }\r\n    }\r\n\r\n    private void deleteQueueIfEmpty(Channel channel, String queueName) {\r\n        log.info(String.format(&quot;Deleting Queue: %s&quot;, queueName));\r\n        try {\r\n            channel.queueDelete(queueName, false, true);\r\n        } catch (Exception e) {\r\n            log.error(String.format(&quot;Couldn&#39;t delete queue with name: %s&quot;, queueName));\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected void confirmed(long sequenceNumber, boolean multiple) {\r\n        // code when message is confirmed\r\n        log.info(String.format(&quot;Message with sequenceNumber: %d is confirmed.&quot;, sequenceNumber));\r\n    }\r\n\r\n    protected void notConfirmed(long sequenceNumber, boolean multiple) {\r\n        // code when message is nack-ed\r\n        log.info(String.format(&quot;Message with sequenceNumber: %d is NOT confirmed!!!&quot;, sequenceNumber));\r\n    }\r\n\r\n    private String getClassName() {\r\n        return this.getClass().getSimpleName();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI have many classes extending this abstract class and implementing the parts that I need to. this is a serious problem for me because some features of our application does not work properly. \r\n\r\nthanks in advance.\r\n","title":"Rabbitmq Consumers Stops consuming - java client","body":"<p>I am using rabbitmq in a microservice environment, and I use it to send messages and events to other services.\nmy projects are java spring boot and I am using rabbitmq java client's latest version.\nThe problem is some consumers stop consuming at a random point in time, and the only way to get them going again is to restart the application. I have not been able to find a pattern. here is what I have done and know:</p>\n<ul>\n<li>some consumers stop working not all of them.</li>\n<li>I have enabled auto-recovery option</li>\n<li>publishers of the same application have no problems.</li>\n<li>This is my rabbitmq client: <a href=\"https://mvnrepository.com/artifact/com.rabbitmq/amqp-client/5.17.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.rabbitmq/amqp-client/5.17.0</a></li>\n<li>I have monitored both java applications and rabbimq memory and CPU usages, they do not have memory or CPU shortages</li>\n<li>I have read the following links and they did not solve my problem:</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/22941644/rabbitmq-surviving-a-consumer-disconnection-using-defaultconsumer\">RabbitMQ - surviving a consumer disconnection using DefaultConsumer</a></p>\n<p><a href=\"https://stackoverflow.com/questions/49338247/rabbitmq-connect-disconnect-notifications\">RabbitMQ Connect/Disconnect Notifications</a></p>\n<p><a href=\"https://stackoverflow.com/questions/17811786/rabbitmq-disconnect-me-after-some-time\">RabbitMQ disconnect me after some time</a></p>\n<p><a href=\"https://stackoverflow.com/questions/38771664/rabbitmq-java-client-stops-consuming-messages\">RabbitMQ java client stops consuming messages</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48033118/temporarily-stop-consuming-rabbitmq-messages-and-resume-later\">Temporarily stop consuming RabbitMQ messages and resume later</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6732936/rabbitmq-consumer-stops-receiving-messages\">RabbitMQ consumer stops receiving messages</a></p>\n<p><a href=\"https://stackoverflow.com/questions/3284731/rabbitmq-message-consumers-stop-consuming-messages\">RabbitMQ message consumers stop consuming messages</a></p>\n<ul>\n<li>this is how I have coded my base consumer :</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic abstract class BaseConsumer implements Consumer {\n    private final Logger log = LoggerFactory.getLogger(BaseConsumer.class);\n\n    protected Connection connection;\n    protected Channel channel;\n    protected String exchangeType;\n    protected String exchangeName;\n    protected String queueName;\n    protected String routingKey;\n    protected String consumerTag;\n    protected String deadLetterExchangeName;\n    protected String deadLetterQueueName;\n    protected String deadLetterRoutingKey;\n    protected boolean autoDelete;\n    protected boolean durableQueue;\n    protected boolean exclusiveQueue;\n    protected boolean requiresConfirm;\n\n    protected BaseConsumer(Connection connection) {\n        this.connection = connection;\n        this.requiresConfirm = false;\n    }\n\n    @Override\n    public void consume() {\n        consumeMessage();\n    }\n\n    protected void consumeMessage() {\n        try {\n            Channel channel = createChannel();\n            declareChannel(channel);\n            log.info(String.format(&quot;%s: [*] Waiting for %s. To exit press CTRL+C&quot;, getClassName(), queueName));\n            channel.basicConsume(queueName, !requiresConfirm, consumerTag, getConsumer(channel));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private DefaultConsumer getConsumer(Channel channel) {\n        return new DefaultConsumer(channel) {\n            @Override\n            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) {\n                handleMessageProcess(body, envelope);\n            }\n        };\n    }\n\n    private void handleMessageProcess(byte[] body, Envelope envelope) {\n        String message = new String(body);\n        log.info(String.format(&quot;%s: [x] received '%s'&quot;, getClassName(), message));\n        long deliveryTag = envelope.getDeliveryTag();\n        if (validateMessage(message)) {\n            log.info(&quot;validation was Successful&quot;);\n            if (requiresConfirm) {\n                log.info(&quot;******** handling delivery&quot;);\n                try {\n                    basicConsume(message);\n                    ackMessage(channel, deliveryTag);\n                } catch (Exception e) {\n                    log.error(String.format(&quot;Consume Failed Moving Message To DLQ. Error Is: \\n%s&quot;, e));\n                    nackMessage(channel, deliveryTag);\n                }\n            } else {\n                basicConsume(message);\n            }\n        } else {\n            log.info(&quot;validation was not Successful&quot;);\n            messageNotValidProcess(message, deliveryTag);\n        }\n    }\n\n    protected void ackMessage(Channel channel, long deliveryTag) {\n        try {\n            log.info(&quot;Message was acknowledged&quot;);\n            channel.basicAck(deliveryTag, false);\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n\n    protected void nackMessage(Channel channel, long deliveryTag) {\n        try {\n            log.info(&quot;Message Not Acknowledged&quot;);\n            channel.basicNack(deliveryTag, false, false);\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n\n    protected boolean validateMessage(String message) {\n        return ValidationUtils.isJsonObject(message);\n    }\n\n    protected void basicConsume(String message) {\n        log.info(&quot; [x] consumed '&quot; + message + &quot;' (do nothing - not implemented)&quot;);\n    }\n\n    protected void messageNotValidProcess(String message, long deliveryTag) {\n        log.info(String.format(&quot;[x] %d consuming was unsuccessful. %s is not valid %s&quot;, deliveryTag, queueName, message));\n    }\n\n    private Channel createChannel() throws IOException {\n        if (this.channel == null || !this.channel.isOpen()) {\n            this.channel = connection.createChannel();\n            try {\n                declareChannel(channel);\n            } catch (IOException | ShutdownSignalException exception) {\n                this.channel = connection.createChannel();\n                log.warn(&quot;Queue parameters had changed, trying recreating them...&quot;);\n                deleteQueueIfEmpty(channel, queueName);\n                if (deadLetterQueueName != null) {\n                    deleteQueueIfEmpty(channel, deadLetterQueueName);\n                }\n                declareChannel(channel);\n            }\n        }\n        return channel;\n    }\n\n    private void declareChannel(Channel channel) throws IOException {\n        channel.exchangeDeclare(exchangeName, exchangeType);\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n        if (deadLetterExchangeName != null &amp;&amp; deadLetterRoutingKey != null &amp;&amp; deadLetterQueueName != null) {\n            args.put(&quot;x-dead-letter-exchange&quot;, deadLetterExchangeName);\n            args.put(&quot;x-dead-letter-routing-key&quot;, deadLetterRoutingKey);\n            channel.exchangeDeclare(deadLetterExchangeName, exchangeType);\n            channel.queueDeclare(deadLetterQueueName, false, false, false, null);\n            channel.queueBind(deadLetterQueueName, deadLetterExchangeName, deadLetterRoutingKey);\n        }\n        channel.queueDeclare(queueName, durableQueue, autoDelete, exclusiveQueue, args);\n        channel.queueBind(queueName, exchangeName, routingKey);\n\n        if (requiresConfirm) {\n            channel.confirmSelect();\n            channel.addConfirmListener(this::confirmed, this::notConfirmed);\n        }\n    }\n\n    private void deleteQueueIfEmpty(Channel channel, String queueName) {\n        log.info(String.format(&quot;Deleting Queue: %s&quot;, queueName));\n        try {\n            channel.queueDelete(queueName, false, true);\n        } catch (Exception e) {\n            log.error(String.format(&quot;Couldn't delete queue with name: %s&quot;, queueName));\n            e.printStackTrace();\n        }\n    }\n\n    protected void confirmed(long sequenceNumber, boolean multiple) {\n        // code when message is confirmed\n        log.info(String.format(&quot;Message with sequenceNumber: %d is confirmed.&quot;, sequenceNumber));\n    }\n\n    protected void notConfirmed(long sequenceNumber, boolean multiple) {\n        // code when message is nack-ed\n        log.info(String.format(&quot;Message with sequenceNumber: %d is NOT confirmed!!!&quot;, sequenceNumber));\n    }\n\n    private String getClassName() {\n        return this.getClass().getSimpleName();\n    }\n}\n\n\n</code></pre>\n<p>I have many classes extending this abstract class and implementing the parts that I need to. this is a serious problem for me because some features of our application does not work properly.</p>\n<p>thanks in advance.</p>\n"},{"tags":["java","input","java.util.scanner","system","bufferedinputstream"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1419687696,"post_id":27667599,"comment_id":43750208,"body_markdown":"`System.in` read from file descriptor 0 which is also standard input.  This could be redirected from a file or read from the console.  Can you clarify what your doubt is, perhaps its not as complicated as you imagine it might be.","body":"<code>System.in</code> read from file descriptor 0 which is also standard input.  This could be redirected from a file or read from the console.  Can you clarify what your doubt is, perhaps its not as complicated as you imagine it might be."},{"owner":{"account_id":4996715,"reputation":77,"user_id":4017022,"accept_rate":80,"display_name":"Hamza Maher Abdel-rahman"},"score":1,"creation_date":1419689751,"post_id":27667599,"comment_id":43750746,"body_markdown":"System.in is like an object ( stream more likely ), we don&#39;t write what we want on it it just reads what we wrote from the CMD , right ? then Scanner translate the whole stream into int or double and so on","body":"System.in is like an object ( stream more likely ), we don&#39;t write what we want on it it just reads what we wrote from the CMD , right ? then Scanner translate the whole stream into int or double and so on"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1419690047,"post_id":27667599,"comment_id":43750814,"body_markdown":"Correct, the input comes via the OS rather than using CMD as such.","body":"Correct, the input comes via the OS rather than using CMD as such."}],"answers":[{"comments":[{"owner":{"account_id":4996715,"reputation":77,"user_id":4017022,"accept_rate":80,"display_name":"Hamza Maher Abdel-rahman"},"score":0,"creation_date":1419687687,"post_id":27667663,"comment_id":43750203,"body_markdown":"so is the ( stdin ) the same as ( System.in ) with a different pronunciation ?","body":"so is the ( stdin ) the same as ( System.in ) with a different pronunciation ?"},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":1,"creation_date":1419687761,"post_id":27667663,"comment_id":43750223,"body_markdown":"Well `System.in` (if not set to anthying else), is the Java equivalent of `stdin`, a virtual file that reads from the terminal/command line/...","body":"Well <code>System.in</code> (if not set to anthying else), is the Java equivalent of <code>stdin</code>, a virtual file that reads from the terminal/command line/..."},{"owner":{"account_id":4996715,"reputation":77,"user_id":4017022,"accept_rate":80,"display_name":"Hamza Maher Abdel-rahman"},"score":0,"creation_date":1419688236,"post_id":27667663,"comment_id":43750360,"body_markdown":"ah , so System.in is something that we declare so that i can write whatever i want through the command line and then Scanner&#39;s job is to translate what in the System.in .. am i right ?","body":"ah , so System.in is something that we declare so that i can write whatever i want through the command line and then Scanner&#39;s job is to translate what in the System.in .. am i right ?"},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":1,"creation_date":1419688301,"post_id":27667663,"comment_id":43750377,"body_markdown":"I think that&#39;s more or less correct yes. If you mean with *&quot;we&quot;*, the user.","body":"I think that&#39;s more or less correct yes. If you mean with <i>&quot;we&quot;</i>, the user."},{"owner":{"account_id":4996715,"reputation":77,"user_id":4017022,"accept_rate":80,"display_name":"Hamza Maher Abdel-rahman"},"score":1,"creation_date":1419688478,"post_id":27667663,"comment_id":43750425,"body_markdown":"we programmers declare it so that user can write whatever he wants throughout this input stream and it doesn&#39;t wait for an input until scanner is asked to","body":"we programmers declare it so that user can write whatever he wants throughout this input stream and it doesn&#39;t wait for an input until scanner is asked to"},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":1,"creation_date":1419688592,"post_id":27667663,"comment_id":43750461,"body_markdown":"Well the `stdin` and the `Scanner` run asynchrone. It can take a long time before the `Scanner` tries to parse input. If in the mean time, a user already provides input, the `Scanner` will parse that input first. If not, it **blocks** until the user provides the input.","body":"Well the <code>stdin</code> and the <code>Scanner</code> run asynchrone. It can take a long time before the <code>Scanner</code> tries to parse input. If in the mean time, a user already provides input, the <code>Scanner</code> will parse that input first. If not, it <b>blocks</b> until the user provides the input."}],"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1419686971,"creation_date":1419686560,"answer_id":27667663,"question_id":27667599,"body_markdown":"`System.in` is a `BufferedInputStream`, such a `Stream` can be any input stream (for instance a network socket, or a file), but also the standard input channel `stdin`.\r\n\r\n`stdin` is the content you type in the command line, so obviously, it doesn&#39;t show anything.\r\n\r\nWhen you create a `Scanner` as shown in your question, you feed the standard input channel to that `Scanner`, but the scanner won&#39;t do anything until it is asked to. A scanner is a *wrapper*: a construct that makes it easier (more convenient) to parse input from the `stdin`. It does not offer additional functionality in the sense you can do all what a scanner does by yourself, but it is way easier to use a scanner if you want to *parse* for instance integers from the `stdin`.\r\n\r\nSo when you for instance type:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int val = sc.nextInt();\r\n    System.out.println(2*val);\r\n\r\nIt will wait until you input a line, parse it to an integer and print the double of the inputted value on the standard output channel (`stdout`).\r\n\r\n---\r\n\r\nA few concluding notes:\r\n\r\n &gt; `System.in` is not `final`, you can use `System.setIn` to set another input stream as the standard input string. For instance a file or a network socket.\r\n &gt; The default `System.in` can also take input from for instance a file or a *pipe* if you for instance call the program as `java -jar program.jar &lt; inputfile`.","title":"System.in and Scanner object","body":"<p><code>System.in</code> is a <code>BufferedInputStream</code>, such a <code>Stream</code> can be any input stream (for instance a network socket, or a file), but also the standard input channel <code>stdin</code>.</p>\n\n<p><code>stdin</code> is the content you type in the command line, so obviously, it doesn't show anything.</p>\n\n<p>When you create a <code>Scanner</code> as shown in your question, you feed the standard input channel to that <code>Scanner</code>, but the scanner won't do anything until it is asked to. A scanner is a <em>wrapper</em>: a construct that makes it easier (more convenient) to parse input from the <code>stdin</code>. It does not offer additional functionality in the sense you can do all what a scanner does by yourself, but it is way easier to use a scanner if you want to <em>parse</em> for instance integers from the <code>stdin</code>.</p>\n\n<p>So when you for instance type:</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nint val = sc.nextInt();\nSystem.out.println(2*val);\n</code></pre>\n\n<p>It will wait until you input a line, parse it to an integer and print the double of the inputted value on the standard output channel (<code>stdout</code>).</p>\n\n<hr>\n\n<p>A few concluding notes:</p>\n\n<blockquote>\n  <p><code>System.in</code> is not <code>final</code>, you can use <code>System.setIn</code> to set another input stream as the standard input string. For instance a file or a network socket.\n  The default <code>System.in</code> can also take input from for instance a file or a <em>pipe</em> if you for instance call the program as <code>java -jar program.jar &lt; inputfile</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":2,"creation_date":1419686847,"post_id":27667689,"comment_id":43749992,"body_markdown":"Not entirely true. If no input arrives and you can `Scanner.nextInt`, it will block the program execution until such input arrives.","body":"Not entirely true. If no input arrives and you can <code>Scanner.nextInt</code>, it will block the program execution until such input arrives."}],"tags":[],"owner":{"account_id":5177776,"reputation":878,"user_id":4144303,"accept_rate":17,"display_name":"Abhishek"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419687983,"creation_date":1419686759,"answer_id":27667689,"question_id":27667599,"body_markdown":"`Scanner` is a class in `java.util` package .\r\n\r\nWhen you write `Scanner sc=new Scanner(System.in)` you are trying to read the input from the `&quot;standard&quot; input stream`. Mainly `System.in` is used for reading the input from the console\r\n\r\nScanner holds the program execution until the input arrives, that is how it is meant to be.\r\n\r\nAnd your question that when you print the `System.in` you end end up with a output like `java.io.BufferedInputStream@15db9742`, this output is called as the object `hash code` and you are likely to get this kind of output if you try to print an object.\r\nHere you are getting the hash code because you are trying to print an entire stream.","title":"System.in and Scanner object","body":"<p><code>Scanner</code> is a class in <code>java.util</code> package .</p>\n\n<p>When you write <code>Scanner sc=new Scanner(System.in)</code> you are trying to read the input from the <code>\"standard\" input stream</code>. Mainly <code>System.in</code> is used for reading the input from the console</p>\n\n<p>Scanner holds the program execution until the input arrives, that is how it is meant to be.</p>\n\n<p>And your question that when you print the <code>System.in</code> you end end up with a output like <code>java.io.BufferedInputStream@15db9742</code>, this output is called as the object <code>hash code</code> and you are likely to get this kind of output if you try to print an object.\nHere you are getting the hash code because you are trying to print an entire stream.</p>\n"}],"owner":{"account_id":4996715,"reputation":77,"user_id":4017022,"accept_rate":80,"display_name":"Hamza Maher Abdel-rahman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27667663,"answer_count":2,"score":1,"last_activity_date":1680082271,"creation_date":1419686214,"question_id":27667599,"body_markdown":"I am having a problem to understand what *System.in* do. All I understand is that it&#39;s a data field in the System class and that it&#39;s declaration is: \r\n\r\n    public static final InputStream in\r\n\r\nIt&#39;s declared final so it cannot be changed.  \r\nAs mentioned in the Oracle source they say that &quot;in&quot; is the &quot;standard&quot; input stream. This stream is already open and ready to supply input data. Typically this stream corresponds to keyboard input or another input source specified by the host environment or user.  \r\nWhat does this exactly mean?\r\n\r\nWhen I write the following code : \r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\nThat *Scanner* object is ready to scan what&#39;s in *System.in*, but nothing shows up in the CMD.\r\n\r\nAnother point is that when I try to print *System.in*, I end up with an output like:  \r\n\r\n&gt; java.io.BufferedInputStream@15db9742\r\n\r\nCan anyone please explain the whole process and what&#39;s the exact job of both *System.in* and *Scanner* class! ","title":"System.in and Scanner object","body":"<p>I am having a problem to understand what <em>System.in</em> do. All I understand is that it's a data field in the System class and that it's declaration is:</p>\n<pre><code>public static final InputStream in\n</code></pre>\n<p>It's declared final so it cannot be changed.<br />\nAs mentioned in the Oracle source they say that &quot;in&quot; is the &quot;standard&quot; input stream. This stream is already open and ready to supply input data. Typically this stream corresponds to keyboard input or another input source specified by the host environment or user.<br />\nWhat does this exactly mean?</p>\n<p>When I write the following code :</p>\n<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n<p>That <em>Scanner</em> object is ready to scan what's in <em>System.in</em>, but nothing shows up in the CMD.</p>\n<p>Another point is that when I try to print <em>System.in</em>, I end up with an output like:</p>\n<blockquote>\n<p>java.io.BufferedInputStream@15db9742</p>\n</blockquote>\n<p>Can anyone please explain the whole process and what's the exact job of both <em>System.in</em> and <em>Scanner</em> class!</p>\n"},{"tags":["java","android","android-studio","kotlin","service"],"answers":[{"comments":[{"owner":{"account_id":2449723,"reputation":404,"user_id":2136290,"accept_rate":71,"display_name":"StevenTB"},"score":1,"creation_date":1636041237,"post_id":69604952,"comment_id":123457122,"body_markdown":"I have the same issue on a Pixel 6 - Android 12 device. Event if my app launches a foreground service thanks to the Activity Recognition API, Crashlytics recorded these exceptions","body":"I have the same issue on a Pixel 6 - Android 12 device. Event if my app launches a foreground service thanks to the Activity Recognition API, Crashlytics recorded these exceptions"},{"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"score":0,"creation_date":1636206991,"post_id":69604952,"comment_id":123497275,"body_markdown":"Yeah, it&#39;s really annoying. Just downgrade to API Level 30 and it should go away.","body":"Yeah, it&#39;s really annoying. Just downgrade to API Level 30 and it should go away."},{"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"score":1,"creation_date":1637411521,"post_id":69604952,"comment_id":123822124,"body_markdown":"@user924 No, they added this new restriction in Android 12. You cannot start a service from background without user doing something on your apps UI.","body":"@user924 No, they added this new restriction in Android 12. You cannot start a service from background without user doing something on your apps UI."},{"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"score":0,"creation_date":1638590473,"post_id":69604952,"comment_id":124135508,"body_markdown":"@user924 No it is not. I&#39;ve literally linked an article which states this is a behaviour change starting from API level 31. You can check the article by Google from the last 2 links in answer. If you have an official source stating that this behaviour is same for Android 11, feel free to link it.","body":"@user924 No it is not. I&#39;ve literally linked an article which states this is a behaviour change starting from API level 31. You can check the article by Google from the last 2 links in answer. If you have an official source stating that this behaviour is same for Android 11, feel free to link it."},{"owner":{"account_id":1551432,"reputation":1140,"user_id":1443721,"accept_rate":19,"display_name":"user1443721"},"score":1,"creation_date":1648186521,"post_id":69604952,"comment_id":126565606,"body_markdown":"@StevenTB I have the same issue as yours. Have you got any solution for it?","body":"@StevenTB I have the same issue as yours. Have you got any solution for it?"},{"owner":{"account_id":2449723,"reputation":404,"user_id":2136290,"accept_rate":71,"display_name":"StevenTB"},"score":1,"creation_date":1648208470,"post_id":69604952,"comment_id":126572092,"body_markdown":"@user1443721 I had to ask the user to disable the battery optimization in order to avoid background start restrictions : https://developer.android.com/guide/components/foreground-services#background-start-restriction-exemptions","body":"@user1443721 I had to ask the user to disable the battery optimization in order to avoid background start restrictions : <a href=\"https://developer.android.com/guide/components/foreground-services#background-start-restriction-exemptions\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/&hellip;</a>"},{"owner":{"account_id":1551432,"reputation":1140,"user_id":1443721,"accept_rate":19,"display_name":"user1443721"},"score":1,"creation_date":1648218578,"post_id":69604952,"comment_id":126575933,"body_markdown":"Thanks! battery optimization is another Exemption. Wondering why the exemption of activity recognition transition does not work.","body":"Thanks! battery optimization is another Exemption. Wondering why the exemption of activity recognition transition does not work."},{"owner":{"account_id":2449723,"reputation":404,"user_id":2136290,"accept_rate":71,"display_name":"StevenTB"},"score":0,"creation_date":1648237279,"post_id":69604952,"comment_id":126582265,"body_markdown":"@user1443721 Activity Recognition Transition is an exemption special case, so you can start your job even if the app is not in foreground :)","body":"@user1443721 Activity Recognition Transition is an exemption special case, so you can start your job even if the app is not in foreground :)"},{"owner":{"account_id":1551432,"reputation":1140,"user_id":1443721,"accept_rate":19,"display_name":"user1443721"},"score":0,"creation_date":1648273520,"post_id":69604952,"comment_id":126587865,"body_markdown":"@StevenTB Not always. Sometimes I got the exception :(. My phone is Pixel 3a with Android 12. check my post https://stackoverflow.com/questions/71583345/how-to-use-activity-recognition-exemptions-to-start-foregroundservice-from-backg","body":"@StevenTB Not always. Sometimes I got the exception :(. My phone is Pixel 3a with Android 12. check my post <a href=\"https://stackoverflow.com/questions/71583345/how-to-use-activity-recognition-exemptions-to-start-foregroundservice-from-backg\" title=\"how to use activity recognition exemptions to start foregroundservice from backg\">stackoverflow.com/questions/71583345/&hellip;</a>"},{"owner":{"account_id":13776356,"reputation":2129,"user_id":9942608,"display_name":"Himanshi Thakur"},"score":0,"creation_date":1648550157,"post_id":69604952,"comment_id":126647106,"body_markdown":"@user1443721 geofencing events also come under the exemption but getting ForegroundServiceStartNotAllowedException when I try to start my service from there. Did you find any solution?","body":"@user1443721 geofencing events also come under the exemption but getting ForegroundServiceStartNotAllowedException when I try to start my service from there. Did you find any solution?"},{"owner":{"account_id":9166619,"reputation":3537,"user_id":6815931,"accept_rate":14,"display_name":"Ready Android"},"score":0,"creation_date":1680088045,"post_id":69604952,"comment_id":133836731,"body_markdown":"I don&#39;t know why Google is confused to start background work. Before Android 8 there were no restrictions then they came to foreground services by separating background services then they came to start background service using only Worker and in Android 12 they are again saying to use Exact Alarm to start foreground service...what the hell they are trying to do, don&#39;t know. Just do whatever they want at the SDK level, just ask the developer to write only one line of code. Why Foreground, Background, Alarm, \n Worker, JobIntentService, Scheduler lablablab....","body":"I don&#39;t know why Google is confused to start background work. Before Android 8 there were no restrictions then they came to foreground services by separating background services then they came to start background service using only Worker and in Android 12 they are again saying to use Exact Alarm to start foreground service...what the hell they are trying to do, don&#39;t know. Just do whatever they want at the SDK level, just ask the developer to write only one line of code. Why Foreground, Background, Alarm,   Worker, JobIntentService, Scheduler lablablab...."},{"owner":{"account_id":9166619,"reputation":3537,"user_id":6815931,"accept_rate":14,"display_name":"Ready Android"},"score":0,"creation_date":1680088247,"post_id":69604952,"comment_id":133836785,"body_markdown":"Being a senior developer you can&#39;t find the solution for ForegroundServiceStartNotAllowedException then what about freshers and Juniors...Seriously there is no straightforward answer to this issue...Round, Round, Round and no solution...","body":"Being a senior developer you can&#39;t find the solution for ForegroundServiceStartNotAllowedException then what about freshers and Juniors...Seriously there is no straightforward answer to this issue...Round, Round, Round and no solution..."},{"owner":{"account_id":8524323,"reputation":1986,"user_id":6390206,"display_name":"Aanal Shah"},"score":0,"creation_date":1680253444,"post_id":69604952,"comment_id":133870375,"body_markdown":"@VedprakashWagh Can you post your solution here? The solution using WorkManager. My doubt is should I start the service from the doWork() method?","body":"@VedprakashWagh Can you post your solution here? The solution using WorkManager. My doubt is should I start the service from the doWork() method?"},{"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"score":0,"creation_date":1680346226,"post_id":69604952,"comment_id":133885223,"body_markdown":"@AanalShah No you don&#39;t have to use Services if you&#39;re using WorkManager. What&#39;s your specific use case?","body":"@AanalShah No you don&#39;t have to use Services if you&#39;re using WorkManager. What&#39;s your specific use case?"},{"owner":{"account_id":8524323,"reputation":1986,"user_id":6390206,"display_name":"Aanal Shah"},"score":0,"creation_date":1680528873,"post_id":69604952,"comment_id":133909013,"body_markdown":"@VedprakashWagh I want to display a Foreground Service. I am getting crashes for Android 12 and 13.","body":"@VedprakashWagh I want to display a Foreground Service. I am getting crashes for Android 12 and 13."}],"tags":[],"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"comment_count":15,"down_vote_count":2,"up_vote_count":39,"is_accepted":true,"score":37,"last_activity_date":1634478568,"creation_date":1634478568,"answer_id":69604952,"question_id":69604951,"body_markdown":"# How to reproduce the crash\r\n\r\nStep 1. Update your `targetSdkVersion` and `compileSdkVersion` to SDK 31.\r\n\r\nStep 2. Try to run any Foreground service when your app is in background. In my case, it was the widget&#39;s `onUpdate` method being called after `updatePeriodMillis` time, which will start a Foreground service, which updates the data by fetching appropriate information from internet.\r\n\r\n\r\n\r\n**Remember**: The background execution limits added in Android 8.0 have nothing to do with this problem. This limitation/exception was added in Android 12/SDK 31 - [Source][1].\r\n\r\n----------\r\n\r\n# What is this exception, and why was it added?\r\n\r\nApps that target Android 12 (API level 31) or higher can&#39;t start foreground services while running in the background, except for a few special cases. If an app tries to start a foreground service while the app is running in the background, and the foreground service doesn&#39;t satisfy one of the exceptional cases, the system throws a `ForegroundServiceStartNotAllowedException`.\r\n\r\nThese [special cases][2] are:\r\n\r\n - Your app transitions from a user-visible state, such as an activity.\r\n - Your app can start an activity from the background, except for the case where the app has an activity in the back stack of an existing task.\r\n - Your app receives a high-priority message using Firebase Cloud Messaging.\r\n - The user performs an action on a UI element related to your app. For example, they might interact with a bubble, notification, widget, or activity.\r\n\r\n - Your app invokes an exact alarm to complete an action that the user requests.\r\n\r\n - Your app is the device&#39;s current input method.\r\n\r\n - Your app receives an event that&#39;s related to geofencing or activity recognition transition.\r\n\r\n - After the device reboots and receives the ACTION_BOOT_COMPLETED, ACTION_LOCKED_BOOT_COMPLETED, or ACTION_MY_PACKAGE_REPLACED intent action in a broadcast receiver.\r\n\r\n - Your app receives the ACTION_TIMEZONE_CHANGED, ACTION_TIME_CHANGED, or ACTION_LOCALE_CHANGED intent action in a broadcast receiver.\r\n\r\n - Your app receives a Bluetooth broadcast that requires the BLUETOOTH_CONNECT or BLUETOOTH_SCAN permissions.\r\n\r\n - Apps with certain system roles or permission, such as device owners and profile owners.\r\n\r\n - Your app uses the Companion Device Manager and declares the REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND permission or the REQUEST_COMPANION_RUN_IN_BACKGROUND permission. Whenever possible, use REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND.\r\n\r\n - The user turns off battery optimizations for your app. You can help users find this option by sending them to your app&#39;s App info page in system settings. To do so, invoke an intent that contains the ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS intent action.\r\n\r\n----------\r\n\r\n# Possible solutions\r\n\r\n## Solution 1\r\n\r\n\r\nThis will work for a while in Play Store until Google makes it mandatory to upgrade to API level 31.\r\n\r\nCurrently, starting November 2021 all apps must target API Level 30 and above. So if you&#39;re using API Level 31 for your app, downgrading your `compileSdkVersion` &amp; `targetSdkVersion` to API Level 30 should fix the issue (atleast for a while).\r\n\r\n## Solution 2\r\n\r\n### For time-sensitive work\r\n\r\nIf you were using Foreground service to do work that is time sensitive, start Foreground services within an exact alarm. Check out more about this from documentation here -&gt; [Set an exact alarm][3].\r\n\r\n### For time-insensitive/expedited work\r\n\r\nThis is the solution that I ended up using for my app. Use `WorkManager` to schedule and start the background work. Check out more about this from documentation here -&gt; [Schedule expedited work][4].\r\n\r\n\r\nYou can know more about WorkManager here -&gt; [WorkManager][5]\r\n\r\nGithub Repo for WorkManager samples -&gt; [WorkManager Samples][6]\r\n\r\n\r\nI added this answer specifically because searching for this exception does not bring up any resources to know why the service behaves differently on Android 12. All this is present in Google&#39;s documentation, and always remember to check the behaviour changes from the doc.\r\n\r\nEverything related to this change can be found here -&gt; [Android 12 Behavior Changes][7], specifically within the [Foreground Service launch restrictions][8].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ForegroundServiceStartNotAllowedException\r\n  [2]: https://developer.android.com/guide/components/foreground-services#background-start-restriction-exemptions\r\n  [3]: https://developer.android.com/training/scheduling/alarms#exact\r\n  [4]: https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#expedited\r\n  [5]: https://developer.android.com/topic/libraries/architecture/workmanager/\r\n  [6]: https://github.com/android/architecture-components-samples/tree/android-s/WorkManagerSample\r\n  [7]: https://developer.android.com/about/versions/12/behavior-changes-12\r\n  [8]: https://developer.android.com/about/versions/12/behavior-changes-12#foreground-service-launch-restrictions","title":"Getting android.app.ForegroundServiceStartNotAllowedException in Android 12 (SDK 31)","body":"<h1>How to reproduce the crash</h1>\n<p>Step 1. Update your <code>targetSdkVersion</code> and <code>compileSdkVersion</code> to SDK 31.</p>\n<p>Step 2. Try to run any Foreground service when your app is in background. In my case, it was the widget's <code>onUpdate</code> method being called after <code>updatePeriodMillis</code> time, which will start a Foreground service, which updates the data by fetching appropriate information from internet.</p>\n<p><strong>Remember</strong>: The background execution limits added in Android 8.0 have nothing to do with this problem. This limitation/exception was added in Android 12/SDK 31 - <a href=\"https://developer.android.com/reference/android/app/ForegroundServiceStartNotAllowedException\" rel=\"noreferrer\">Source</a>.</p>\n<hr />\n<h1>What is this exception, and why was it added?</h1>\n<p>Apps that target Android 12 (API level 31) or higher can't start foreground services while running in the background, except for a few special cases. If an app tries to start a foreground service while the app is running in the background, and the foreground service doesn't satisfy one of the exceptional cases, the system throws a <code>ForegroundServiceStartNotAllowedException</code>.</p>\n<p>These <a href=\"https://developer.android.com/guide/components/foreground-services#background-start-restriction-exemptions\" rel=\"noreferrer\">special cases</a> are:</p>\n<ul>\n<li><p>Your app transitions from a user-visible state, such as an activity.</p>\n</li>\n<li><p>Your app can start an activity from the background, except for the case where the app has an activity in the back stack of an existing task.</p>\n</li>\n<li><p>Your app receives a high-priority message using Firebase Cloud Messaging.</p>\n</li>\n<li><p>The user performs an action on a UI element related to your app. For example, they might interact with a bubble, notification, widget, or activity.</p>\n</li>\n<li><p>Your app invokes an exact alarm to complete an action that the user requests.</p>\n</li>\n<li><p>Your app is the device's current input method.</p>\n</li>\n<li><p>Your app receives an event that's related to geofencing or activity recognition transition.</p>\n</li>\n<li><p>After the device reboots and receives the ACTION_BOOT_COMPLETED, ACTION_LOCKED_BOOT_COMPLETED, or ACTION_MY_PACKAGE_REPLACED intent action in a broadcast receiver.</p>\n</li>\n<li><p>Your app receives the ACTION_TIMEZONE_CHANGED, ACTION_TIME_CHANGED, or ACTION_LOCALE_CHANGED intent action in a broadcast receiver.</p>\n</li>\n<li><p>Your app receives a Bluetooth broadcast that requires the BLUETOOTH_CONNECT or BLUETOOTH_SCAN permissions.</p>\n</li>\n<li><p>Apps with certain system roles or permission, such as device owners and profile owners.</p>\n</li>\n<li><p>Your app uses the Companion Device Manager and declares the REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND permission or the REQUEST_COMPANION_RUN_IN_BACKGROUND permission. Whenever possible, use REQUEST_COMPANION_START_FOREGROUND_SERVICES_FROM_BACKGROUND.</p>\n</li>\n<li><p>The user turns off battery optimizations for your app. You can help users find this option by sending them to your app's App info page in system settings. To do so, invoke an intent that contains the ACTION_IGNORE_BATTERY_OPTIMIZATION_SETTINGS intent action.</p>\n</li>\n</ul>\n<hr />\n<h1>Possible solutions</h1>\n<h2>Solution 1</h2>\n<p>This will work for a while in Play Store until Google makes it mandatory to upgrade to API level 31.</p>\n<p>Currently, starting November 2021 all apps must target API Level 30 and above. So if you're using API Level 31 for your app, downgrading your <code>compileSdkVersion</code> &amp; <code>targetSdkVersion</code> to API Level 30 should fix the issue (atleast for a while).</p>\n<h2>Solution 2</h2>\n<h3>For time-sensitive work</h3>\n<p>If you were using Foreground service to do work that is time sensitive, start Foreground services within an exact alarm. Check out more about this from documentation here -&gt; <a href=\"https://developer.android.com/training/scheduling/alarms#exact\" rel=\"noreferrer\">Set an exact alarm</a>.</p>\n<h3>For time-insensitive/expedited work</h3>\n<p>This is the solution that I ended up using for my app. Use <code>WorkManager</code> to schedule and start the background work. Check out more about this from documentation here -&gt; <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#expedited\" rel=\"noreferrer\">Schedule expedited work</a>.</p>\n<p>You can know more about WorkManager here -&gt; <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/\" rel=\"noreferrer\">WorkManager</a></p>\n<p>Github Repo for WorkManager samples -&gt; <a href=\"https://github.com/android/architecture-components-samples/tree/android-s/WorkManagerSample\" rel=\"noreferrer\">WorkManager Samples</a></p>\n<p>I added this answer specifically because searching for this exception does not bring up any resources to know why the service behaves differently on Android 12. All this is present in Google's documentation, and always remember to check the behaviour changes from the doc.</p>\n<p>Everything related to this change can be found here -&gt; <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"noreferrer\">Android 12 Behavior Changes</a>, specifically within the <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#foreground-service-launch-restrictions\" rel=\"noreferrer\">Foreground Service launch restrictions</a>.</p>\n"},{"comments":[{"owner":{"account_id":6966515,"reputation":591,"user_id":5344336,"display_name":"brettywhite"},"score":1,"creation_date":1642172236,"post_id":70378618,"comment_id":125007289,"body_markdown":"Thanks for this. Gave it a try and unfortunately it did not work. I have a similar question over [here](https://stackoverflow.com/questions/70711950/android-12-foregroundservicestartnotallowedexception-while-in-foreground) Except it seems that i&#39;m getting this error while in foreground","body":"Thanks for this. Gave it a try and unfortunately it did not work. I have a similar question over <a href=\"https://stackoverflow.com/questions/70711950/android-12-foregroundservicestartnotallowedexception-while-in-foreground\">here</a> Except it seems that i&#39;m getting this error while in foreground"},{"owner":{"account_id":1666903,"reputation":6114,"user_id":1534123,"accept_rate":87,"display_name":"slezadav"},"score":3,"creation_date":1642953979,"post_id":70378618,"comment_id":125205547,"body_markdown":"This does not help at all, at least not on Samsung devices. When the service get started by something like KEYCODE_MEDIA_PLAY, while the app is totally background it still crashes.","body":"This does not help at all, at least not on Samsung devices. When the service get started by something like KEYCODE_MEDIA_PLAY, while the app is totally background it still crashes."},{"owner":{"account_id":3215929,"reputation":485,"user_id":2714637,"display_name":"Ahmed Garhy"},"score":0,"creation_date":1662944609,"post_id":70378618,"comment_id":130116115,"body_markdown":"adding the service type is not fixing the issue!","body":"adding the service type is not fixing the issue!"}],"tags":[],"owner":{"account_id":132559,"reputation":984,"user_id":333325,"display_name":"Jadent"},"comment_count":3,"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1680082239,"creation_date":1639655843,"answer_id":70378618,"question_id":69604951,"body_markdown":"If your App is a MediaPlayer (i.e. uses a `MediaBrowseService`) and you are experiencing the `ForegroundServiceStartNotAllowedException` crash then you may need to:\r\n\r\n1) Update your Manifest to specify that your service is for media playback using `android:foregroundServiceType=&quot;mediaPlayback&quot;` in the `Service` declaration\r\n\r\n2) Include the `ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK` parameter in your call to the `Serivce.startForeground` method\r\n\r\nAlso note, if you are using ExoPlayer then see the suggestions from the Android team here that may help with tracking down the cause of crashes due to `ForegroundServiceStartNotAllowedException` exceptions being thrown\r\n\r\nhttps://github.com/androidx/media/issues/111#issuecomment-1406466363\r\n\r\nFurthermore, there is some really useful and up to date (to API31) information on `ForegroundServices` here: https://www.hellsoft.se/your-guide-to-foreground-services-on-andorid/","title":"Getting android.app.ForegroundServiceStartNotAllowedException in Android 12 (SDK 31)","body":"<p>If your App is a MediaPlayer (i.e. uses a <code>MediaBrowseService</code>) and you are experiencing the <code>ForegroundServiceStartNotAllowedException</code> crash then you may need to:</p>\n<ol>\n<li><p>Update your Manifest to specify that your service is for media playback using <code>android:foregroundServiceType=&quot;mediaPlayback&quot;</code> in the <code>Service</code> declaration</p>\n</li>\n<li><p>Include the <code>ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK</code> parameter in your call to the <code>Serivce.startForeground</code> method</p>\n</li>\n</ol>\n<p>Also note, if you are using ExoPlayer then see the suggestions from the Android team here that may help with tracking down the cause of crashes due to <code>ForegroundServiceStartNotAllowedException</code> exceptions being thrown</p>\n<p><a href=\"https://github.com/androidx/media/issues/111#issuecomment-1406466363\" rel=\"nofollow noreferrer\">https://github.com/androidx/media/issues/111#issuecomment-1406466363</a></p>\n<p>Furthermore, there is some really useful and up to date (to API31) information on <code>ForegroundServices</code> here: <a href=\"https://www.hellsoft.se/your-guide-to-foreground-services-on-andorid/\" rel=\"nofollow noreferrer\">https://www.hellsoft.se/your-guide-to-foreground-services-on-andorid/</a></p>\n"},{"tags":[],"owner":{"account_id":3909007,"reputation":17,"user_id":3234870,"accept_rate":50,"display_name":"user3234870"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1650222730,"creation_date":1649753316,"answer_id":71839664,"question_id":69604951,"body_markdown":"use &lt;code&gt;.setForegroundServiceBehavior(NotificationCompat.FOREGROUND_SERVICE_IMMEDIATE)&lt;/code&gt; in creating the Notification and also &lt;code&gt;NotificationManager.IMPORTANCE_MAX&lt;/code&gt;.","title":"Getting android.app.ForegroundServiceStartNotAllowedException in Android 12 (SDK 31)","body":"<p>use <code>.setForegroundServiceBehavior(NotificationCompat.FOREGROUND_SERVICE_IMMEDIATE)</code> in creating the Notification and also <code>NotificationManager.IMPORTANCE_MAX</code>.</p>\n"}],"owner":{"account_id":12143210,"reputation":3642,"user_id":10635880,"display_name":"Vedprakash Wagh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15513,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":69604952,"answer_count":3,"score":35,"last_activity_date":1680082239,"creation_date":1634478568,"question_id":69604951,"body_markdown":"I upgraded my apps `targetSdkVersion` and `compileSdkVersion` to SDK 31, and started receiving the following crash in app in a service that updates widget in background.\r\n\r\n    java.lang.RuntimeException: \r\n      at android.app.ActivityThread.handleReceiver (ActivityThread.java:4321)\r\n      at android.app.ActivityThread.access$1600 (ActivityThread.java:247)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2068)\r\n      at android.os.Handler.dispatchMessage (Handler.java:106)\r\n      at android.os.Looper.loopOnce (Looper.java:201)\r\n      at android.os.Looper.loop (Looper.java:288)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7842)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:548)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1003)\r\n    Caused by: android.app.ForegroundServiceStartNotAllowedException: \r\n      at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel (ForegroundServiceStartNotAllowedException.java:54)\r\n      at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel (ForegroundServiceStartNotAllowedException.java:50)\r\n      at android.os.Parcel.readParcelable (Parcel.java:3333)\r\n      at android.os.Parcel.createExceptionOrNull (Parcel.java:2420)\r\n      at android.os.Parcel.createException (Parcel.java:2409)\r\n      at android.os.Parcel.readException (Parcel.java:2392)\r\n      at android.os.Parcel.readException (Parcel.java:2334)\r\n      at android.app.IActivityManager$Stub$Proxy.startService (IActivityManager.java:5971)\r\n      at android.app.ContextImpl.startServiceCommon (ContextImpl.java:1847)\r\n      at android.app.ContextImpl.startForegroundService (ContextImpl.java:1823)\r\n      at android.content.ContextWrapper.startForegroundService (ContextWrapper.java:779)\r\n      at android.content.ContextWrapper.startForegroundService (ContextWrapper.java:779)\r\n      at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onUpdate (WidgetClassName.java:48)\r\n      at android.appwidget.AppWidgetProvider.onReceive (AppWidgetProvider.java:66)\r\n      at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onReceive (WidgetClassName.java)\r\n      at android.app.ActivityThread.handleReceiver (ActivityThread.java:4312)\r\n      at android.app.ActivityThread.access$1600 (ActivityThread.java:247)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2068)\r\n      at android.os.Handler.dispatchMessage (Handler.java:106)\r\n      at android.os.Looper.loopOnce (Looper.java:201)\r\n      at android.os.Looper.loop (Looper.java:288)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7842)\r\n      at java.lang.reflect.Method.invoke (Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:548)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1003)\r\n    Caused by: android.os.RemoteException: \r\n      at com.android.server.am.ActiveServices.startServiceLocked (ActiveServices.java:691)\r\n      at com.android.server.am.ActiveServices.startServiceLocked (ActiveServices.java:616)\r\n      at com.android.server.am.ActivityManagerService.startService (ActivityManagerService.java:11839)\r\n      at android.app.IActivityManager$Stub.onTransact (IActivityManager.java:2519)\r\n      at com.android.server.am.ActivityManagerService.onTransact (ActivityManagerService.java:2498)\r\n\r\n\r\nAlso, if you&#39;re using something like Firebase Crashlytics, your stacktrace must be something like this -&gt;\r\n\r\n    Caused by android.app.ForegroundServiceStartNotAllowedException: startForegroundService() not allowed due to mAllowStartForeground false: service com.mypackage.appname/.ui.widget.widget_package.MyForegroundServiceName\r\n           at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel(ForegroundServiceStartNotAllowedException.java:54)\r\n           at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel(ForegroundServiceStartNotAllowedException.java:50)\r\n           at android.os.Parcel.readParcelable(Parcel.java:3333)\r\n           at android.os.Parcel.createExceptionOrNull(Parcel.java:2420)\r\n           at android.os.Parcel.createException(Parcel.java:2409)\r\n           at android.os.Parcel.readException(Parcel.java:2392)\r\n           at android.os.Parcel.readException(Parcel.java:2334)\r\n           at android.app.IActivityManager$Stub$Proxy.startService(IActivityManager.java:5971)\r\n           at android.app.ContextImpl.startServiceCommon(ContextImpl.java:1847)\r\n           at android.app.ContextImpl.startForegroundService(ContextImpl.java:1823)\r\n           at android.content.ContextWrapper.startForegroundService(ContextWrapper.java:779)\r\n           at android.content.ContextWrapper.startForegroundService(ContextWrapper.java:779)\r\n           at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onUpdate(WidgetClassName.java:48)\r\n           at android.appwidget.AppWidgetProvider.onReceive(AppWidgetProvider.java:66)\r\n           at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onReceive(WidgetClassName.java)\r\n           at android.app.ActivityThread.handleReceiver(ActivityThread.java:4312)\r\n           at android.app.ActivityThread.access$1600(ActivityThread.java:247)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2068)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loopOnce(Looper.java:201)\r\n           at android.os.Looper.loop(Looper.java:288)\r\n           at android.app.ActivityThread.main(ActivityThread.java:7842)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\n\r\nI&#39;m adding the way to reproduce this issue, and fixes to this problem, because I did not find any documentation about this on StackOverflow when I searched for it.","title":"Getting android.app.ForegroundServiceStartNotAllowedException in Android 12 (SDK 31)","body":"<p>I upgraded my apps <code>targetSdkVersion</code> and <code>compileSdkVersion</code> to SDK 31, and started receiving the following crash in app in a service that updates widget in background.</p>\n<pre><code>java.lang.RuntimeException: \n  at android.app.ActivityThread.handleReceiver (ActivityThread.java:4321)\n  at android.app.ActivityThread.access$1600 (ActivityThread.java:247)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2068)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:201)\n  at android.os.Looper.loop (Looper.java:288)\n  at android.app.ActivityThread.main (ActivityThread.java:7842)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:548)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1003)\nCaused by: android.app.ForegroundServiceStartNotAllowedException: \n  at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel (ForegroundServiceStartNotAllowedException.java:54)\n  at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel (ForegroundServiceStartNotAllowedException.java:50)\n  at android.os.Parcel.readParcelable (Parcel.java:3333)\n  at android.os.Parcel.createExceptionOrNull (Parcel.java:2420)\n  at android.os.Parcel.createException (Parcel.java:2409)\n  at android.os.Parcel.readException (Parcel.java:2392)\n  at android.os.Parcel.readException (Parcel.java:2334)\n  at android.app.IActivityManager$Stub$Proxy.startService (IActivityManager.java:5971)\n  at android.app.ContextImpl.startServiceCommon (ContextImpl.java:1847)\n  at android.app.ContextImpl.startForegroundService (ContextImpl.java:1823)\n  at android.content.ContextWrapper.startForegroundService (ContextWrapper.java:779)\n  at android.content.ContextWrapper.startForegroundService (ContextWrapper.java:779)\n  at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onUpdate (WidgetClassName.java:48)\n  at android.appwidget.AppWidgetProvider.onReceive (AppWidgetProvider.java:66)\n  at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onReceive (WidgetClassName.java)\n  at android.app.ActivityThread.handleReceiver (ActivityThread.java:4312)\n  at android.app.ActivityThread.access$1600 (ActivityThread.java:247)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2068)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:201)\n  at android.os.Looper.loop (Looper.java:288)\n  at android.app.ActivityThread.main (ActivityThread.java:7842)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:548)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1003)\nCaused by: android.os.RemoteException: \n  at com.android.server.am.ActiveServices.startServiceLocked (ActiveServices.java:691)\n  at com.android.server.am.ActiveServices.startServiceLocked (ActiveServices.java:616)\n  at com.android.server.am.ActivityManagerService.startService (ActivityManagerService.java:11839)\n  at android.app.IActivityManager$Stub.onTransact (IActivityManager.java:2519)\n  at com.android.server.am.ActivityManagerService.onTransact (ActivityManagerService.java:2498)\n</code></pre>\n<p>Also, if you're using something like Firebase Crashlytics, your stacktrace must be something like this -&gt;</p>\n<pre><code>Caused by android.app.ForegroundServiceStartNotAllowedException: startForegroundService() not allowed due to mAllowStartForeground false: service com.mypackage.appname/.ui.widget.widget_package.MyForegroundServiceName\n       at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel(ForegroundServiceStartNotAllowedException.java:54)\n       at android.app.ForegroundServiceStartNotAllowedException$1.createFromParcel(ForegroundServiceStartNotAllowedException.java:50)\n       at android.os.Parcel.readParcelable(Parcel.java:3333)\n       at android.os.Parcel.createExceptionOrNull(Parcel.java:2420)\n       at android.os.Parcel.createException(Parcel.java:2409)\n       at android.os.Parcel.readException(Parcel.java:2392)\n       at android.os.Parcel.readException(Parcel.java:2334)\n       at android.app.IActivityManager$Stub$Proxy.startService(IActivityManager.java:5971)\n       at android.app.ContextImpl.startServiceCommon(ContextImpl.java:1847)\n       at android.app.ContextImpl.startForegroundService(ContextImpl.java:1823)\n       at android.content.ContextWrapper.startForegroundService(ContextWrapper.java:779)\n       at android.content.ContextWrapper.startForegroundService(ContextWrapper.java:779)\n       at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onUpdate(WidgetClassName.java:48)\n       at android.appwidget.AppWidgetProvider.onReceive(AppWidgetProvider.java:66)\n       at com.mypackage.appname.ui.widget.widget_package.WidgetClassName.onReceive(WidgetClassName.java)\n       at android.app.ActivityThread.handleReceiver(ActivityThread.java:4312)\n       at android.app.ActivityThread.access$1600(ActivityThread.java:247)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2068)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loopOnce(Looper.java:201)\n       at android.os.Looper.loop(Looper.java:288)\n       at android.app.ActivityThread.main(ActivityThread.java:7842)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I'm adding the way to reproduce this issue, and fixes to this problem, because I did not find any documentation about this on StackOverflow when I searched for it.</p>\n"},{"tags":["java","spring","merge","snowflake-schema"],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680082061,"creation_date":1680082061,"question_id":75875410,"body_markdown":"We have java application that read data from ElasticSearch and stores it in Snowflake.\r\nSo want use snowflake Merge conecpt. \r\nFrom ESdata how can we create Source DataFrame and Update values.\r\nHere is what I have tried.\r\n\r\n       Updatable target = session.table(&quot;KEYSIGHT_SP_PMA3_CONTENT_TEST&quot;);\r\n        Updatable source = session.table(&quot;KEYSIGHT_SP_PMA3_CONTENT_TEST&quot;);\r\n  \r\n        int updated = 0;\r\n        int inserted = 0;\r\n\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            Map&lt;String, Column&gt; values = new HashMap&lt;&gt;();\r\n            // values.put(Functions.col(&quot;ID&quot;), Functions.lit(&quot;CUflNIYB35bthTSQDeQM&quot;));\r\n            values.put(&quot;INSERT_DATE&quot;, Functions.lit(i + &quot;2003-03-28 09:29:44.912&quot;));\r\n            values.put(&quot;INSERT_TYPE&quot;, Functions.lit(i + &quot;xyzwww&quot;));\r\n\r\n            MergeResult mergeResult = target.merge(source, target.col(&quot;ID&quot;).equal_to(Functions.lit(&quot;CUflNIYB35bthTSQDeQM&quot;)))\r\n                    .whenMatched().updateColumn(values)\r\n                    .whenNotMatched().insertRow(values)\r\n                    .collect();\r\n            updated += mergeResult.getRowsUpdated();\r\n            inserted += mergeResult.getRowsInserted();\r\n            System.out.println(mergeResult);\r\n        }","title":"Create snowflake dataframe from java object while doing merge","body":"<p>We have java application that read data from ElasticSearch and stores it in Snowflake.\nSo want use snowflake Merge conecpt.\nFrom ESdata how can we create Source DataFrame and Update values.\nHere is what I have tried.</p>\n<pre><code>   Updatable target = session.table(&quot;KEYSIGHT_SP_PMA3_CONTENT_TEST&quot;);\n    Updatable source = session.table(&quot;KEYSIGHT_SP_PMA3_CONTENT_TEST&quot;);\n\n    int updated = 0;\n    int inserted = 0;\n\n    for (int i = 0; i &lt; 10000; i++) {\n        Map&lt;String, Column&gt; values = new HashMap&lt;&gt;();\n        // values.put(Functions.col(&quot;ID&quot;), Functions.lit(&quot;CUflNIYB35bthTSQDeQM&quot;));\n        values.put(&quot;INSERT_DATE&quot;, Functions.lit(i + &quot;2003-03-28 09:29:44.912&quot;));\n        values.put(&quot;INSERT_TYPE&quot;, Functions.lit(i + &quot;xyzwww&quot;));\n\n        MergeResult mergeResult = target.merge(source, target.col(&quot;ID&quot;).equal_to(Functions.lit(&quot;CUflNIYB35bthTSQDeQM&quot;)))\n                .whenMatched().updateColumn(values)\n                .whenNotMatched().insertRow(values)\n                .collect();\n        updated += mergeResult.getRowsUpdated();\n        inserted += mergeResult.getRowsInserted();\n        System.out.println(mergeResult);\n    }\n</code></pre>\n"},{"tags":["java","rest","jersey","restful-url","restful-architecture"],"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1553532147,"post_id":22227487,"comment_id":97410168,"body_markdown":"About rest hierarchy structure see https://stackoverflow.com/questions/20951419/what-are-best-practices-for-rest-nested-resources","body":"About rest hierarchy structure see <a href=\"https://stackoverflow.com/questions/20951419/what-are-best-practices-for-rest-nested-resources\" title=\"what are best practices for rest nested resources\">stackoverflow.com/questions/20951419/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394118180,"post_id":22227835,"comment_id":33751373,"body_markdown":"Hi thanks for your answer. But doing it that way I wouldn&#39;t I have to do a lot of if/switch inside the prodcuts resource to find the matching business/validation logic?","body":"Hi thanks for your answer. But doing it that way I wouldn&#39;t I have to do a lot of if/switch inside the prodcuts resource to find the matching business/validation logic?"},{"owner":{"account_id":3549643,"reputation":2077,"user_id":2964811,"display_name":"nndru"},"score":0,"creation_date":1394118481,"post_id":22227835,"comment_id":33751589,"body_markdown":"You should introduce some kind of registry where you can specify product type as a key and some kind of validation logic (function, class, etc) as a value. Hence, client code will be stable and only new  registry items will be added. This approach can be used bot at client or server side.","body":"You should introduce some kind of registry where you can specify product type as a key and some kind of validation logic (function, class, etc) as a value. Hence, client code will be stable and only new  registry items will be added. This approach can be used bot at client or server side."},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394119169,"post_id":22227835,"comment_id":33752094,"body_markdown":"I like the idea you introduced with your edit. Just return ref info or something like a link to the actual resource. Seems like a good restful solution.","body":"I like the idea you introduced with your edit. Just return ref info or something like a link to the actual resource. Seems like a good restful solution."},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394120224,"post_id":22227835,"comment_id":33752899,"body_markdown":"Okay next question how would you do create/update of products for the basket?","body":"Okay next question how would you do create/update of products for the basket?"},{"owner":{"account_id":3549643,"reputation":2077,"user_id":2964811,"display_name":"nndru"},"score":0,"creation_date":1394181234,"post_id":22227835,"comment_id":33782893,"body_markdown":"Product creation/updating within basket consists from two steps:\n1) create product of concrete type, e.g. `post books/` request body: `{ &lt;book entity properties&gt; }`, you will get `book_id`,\n2) assign product with concrete basket, e.g. `post basket/{basket_id}/products` request body: `{ product_id: &lt;book_id obtained on previous step&gt;, type: &quot;book&quot; }`\nHence, relation between basket and products should be treated as resource to, so you can perform any CRUD manipulations on it.","body":"Product creation/updating within basket consists from two steps: 1) create product of concrete type, e.g. <code>post books&#47;</code> request body: <code>{ &lt;book entity properties&gt; }</code>, you will get <code>book_id</code>, 2) assign product with concrete basket, e.g. <code>post basket&#47;{basket_id}&#47;products</code> request body: <code>{ product_id: &lt;book_id obtained on previous step&gt;, type: &quot;book&quot; }</code> Hence, relation between basket and products should be treated as resource to, so you can perform any CRUD manipulations on it."}],"tags":[],"owner":{"account_id":3549643,"reputation":2077,"user_id":2964811,"display_name":"nndru"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394181311,"creation_date":1394117230,"answer_id":22227835,"question_id":22227487,"body_markdown":"I think that next manner can be used. We have a basket with products, so each product can be identified by url: `baskets/{basket_id}/products/{product_id}` and this url will represent  common product (in form of json/form/etc), if you want to specify concrete product type, than you should provide query parameter that defines product type, for example:`baskets/{basket_id}/products/{product_id}?type=book`, etc. Any product will have unique identifier, but you should control that product with provided id has type that you have requested. Hope this helps.\r\n\r\n\r\n----------\r\n\r\n\r\nEdit:\r\n-----\r\nAnother approach is when you querying basket products you can return some kind of shortcuts list, each item of that list will contain product id an product type id. Then, to get concrete product, you should build concrete product url with concrete product id. For example (if we use json):\r\nget `/baskets/{basket_id}/products`, got `[{ id: 1, type: &quot;book&quot;}, ...]`, then get `/books/1`, but this approach will need two server calls.","title":"RESTful resources - How to structure the urls for a list of objects?","body":"<p>I think that next manner can be used. We have a basket with products, so each product can be identified by url: <code>baskets/{basket_id}/products/{product_id}</code> and this url will represent  common product (in form of json/form/etc), if you want to specify concrete product type, than you should provide query parameter that defines product type, for example:<code>baskets/{basket_id}/products/{product_id}?type=book</code>, etc. Any product will have unique identifier, but you should control that product with provided id has type that you have requested. Hope this helps.</p>\n\n<hr>\n\n<h2>Edit:</h2>\n\n<p>Another approach is when you querying basket products you can return some kind of shortcuts list, each item of that list will contain product id an product type id. Then, to get concrete product, you should build concrete product url with concrete product id. For example (if we use json):\nget <code>/baskets/{basket_id}/products</code>, got <code>[{ id: 1, type: \"book\"}, ...]</code>, then get <code>/books/1</code>, but this approach will need two server calls.</p>\n"},{"comments":[{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394120193,"post_id":22228926,"comment_id":33752872,"body_markdown":"Hi thanks for your answers. I am using json and a js client. How would you build a create route for a new cd product? Would you use post baskets/{basketId}/products/{productId)?type=cd?","body":"Hi thanks for your answers. I am using json and a js client. How would you build a create route for a new cd product? Would you use post baskets/{basketId}/products/{productId)?type=cd?"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1394120369,"post_id":22228926,"comment_id":33753014,"body_markdown":"No, Jackson can handle polymorphy with a little help (see this: http://programmerbruce.blogspot.co.at/2011/05/deserialize-json-with-jackson-into.html) or you could do it manually by checking the &quot;type&quot; before serializing it to a static type. Let the client just also send the CD Object and cast it on the server side accordingly.","body":"No, Jackson can handle polymorphy with a little help (see this: <a href=\"http://programmerbruce.blogspot.co.at/2011/05/deserialize-json-with-jackson-into.html\" rel=\"nofollow noreferrer\">programmerbruce.blogspot.co.at/2011/05/&hellip;</a>) or you could do it manually by checking the &quot;type&quot; before serializing it to a static type. Let the client just also send the CD Object and cast it on the server side accordingly."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1394120469,"post_id":22228926,"comment_id":33753099,"body_markdown":"Its really freeing once you stop thinking of objects in a static way :)","body":"Its really freeing once you stop thinking of objects in a static way :)"},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394120602,"post_id":22228926,"comment_id":33753216,"body_markdown":":-) so you would just post to baskets/{basketId}/products/{productId).","body":":-) so you would just post to baskets/{basketId}/products/{productId)."},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394120977,"post_id":22228926,"comment_id":33753535,"body_markdown":"How would you handle the different validations for each class?","body":"How would you handle the different validations for each class?"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1394121623,"post_id":22228926,"comment_id":33753997,"body_markdown":"Jackson creates the correct static type, so not different than usual (on the serverside)?","body":"Jackson creates the correct static type, so not different than usual (on the serverside)?"},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394122384,"post_id":22228926,"comment_id":33754504,"body_markdown":"I meant custom validations ;-) and additional logic. If that&#39;s all in one resource that might get pretty big.","body":"I meant custom validations ;-) and additional logic. If that&#39;s all in one resource that might get pretty big."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1394123318,"post_id":22228926,"comment_id":33755206,"body_markdown":"I dont think thats a problem specific to this issue, or I dont understand what you exactly imply by &quot;validation&quot;?","body":"I dont think thats a problem specific to this issue, or I dont understand what you exactly imply by &quot;validation&quot;?"},{"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"score":0,"creation_date":1394124302,"post_id":22228926,"comment_id":33755937,"body_markdown":"For example an cd has an attribute like artist where I have to make a check if that artist is already in my database and than do something accordingl  (Just some example). And if I have to do that for every product inside the product resource it would get bloated and with a lot of ifs. When I am thinking about it again I could create some factory that does all that for me.","body":"For example an cd has an attribute like artist where I have to make a check if that artist is already in my database and than do something accordingl  (Just some example). And if I have to do that for every product inside the product resource it would get bloated and with a lot of ifs. When I am thinking about it again I could create some factory that does all that for me."}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680082044,"creation_date":1394119945,"answer_id":22228926,"question_id":22227487,"body_markdown":"Think more dynamic, don&#39;t get stuck in thinking in static languages: I would keep `baskets/{basketId}/products/{productId}` and return polymorphic types.\r\n\r\nThis can be implemented in java like this:\r\n\r\n```java\r\npublic class BasketResponse {\r\n   private Product product;\r\n}\r\n\r\npublic class Product {\r\n   private long id;\r\n   private String type;\r\n}\r\n\r\npublic class CD extends Product {\r\n   private String albumName;\r\n   \r\n   public CD() {\r\n      super.setType(&quot;CD&quot;);\r\n   }\r\n}\r\n```\r\n\r\nThis will only work of course with a dynamic datatype like JSON. Jackson serializes the object with the properties of the actual type not the declared type.\r\n\r\nOn the client side, if you are using a dynamic language like JavaScript than this is no problem since you just have to check the `type` to see what properties you will expect. If you are using a static language like java you have to cast the types according to the `type` field. Usually JSON frameworks can assist you in correct casting your types (again see Jackson doc)\r\n","title":"RESTful resources - How to structure the urls for a list of objects?","body":"<p>Think more dynamic, don't get stuck in thinking in static languages: I would keep <code>baskets/{basketId}/products/{productId}</code> and return polymorphic types.</p>\n<p>This can be implemented in java like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BasketResponse {\n   private Product product;\n}\n\npublic class Product {\n   private long id;\n   private String type;\n}\n\npublic class CD extends Product {\n   private String albumName;\n   \n   public CD() {\n      super.setType(&quot;CD&quot;);\n   }\n}\n</code></pre>\n<p>This will only work of course with a dynamic datatype like JSON. Jackson serializes the object with the properties of the actual type not the declared type.</p>\n<p>On the client side, if you are using a dynamic language like JavaScript than this is no problem since you just have to check the <code>type</code> to see what properties you will expect. If you are using a static language like java you have to cast the types according to the <code>type</code> field. Usually JSON frameworks can assist you in correct casting your types (again see Jackson doc)</p>\n"},{"tags":[],"owner":{"account_id":3088832,"reputation":3115,"user_id":2615437,"accept_rate":50,"display_name":"xwoker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394125425,"creation_date":1394125425,"answer_id":22231155,"question_id":22227487,"body_markdown":"Roy Fielding gives [the following advice][1] regarding REST APIs:\r\n\r\n&gt; A REST API must not define fixed resource names or hierarchies (an obvious coupling of client and server).\r\n\r\nSo there is no &quot;RESTful&quot; URI structure beside this one: **Don&#39;t depend on URI structures!**\r\n\r\nAlso have a look at [this answer][2] to [a similar question][3].\r\n\r\nI think your interface / implementation should be reflected in the media type and not the uri path.\r\n\r\n\r\n  [1]: http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\r\n  [2]: https://stackoverflow.com/a/21080256/2615437\r\n  [3]: https://stackoverflow.com/questions/21067968/rest-resource-path-design","title":"RESTful resources - How to structure the urls for a list of objects?","body":"<p>Roy Fielding gives <a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\" rel=\"nofollow noreferrer\">the following advice</a> regarding REST APIs:</p>\n\n<blockquote>\n  <p>A REST API must not define fixed resource names or hierarchies (an obvious coupling of client and server).</p>\n</blockquote>\n\n<p>So there is no \"RESTful\" URI structure beside this one: <strong>Don't depend on URI structures!</strong></p>\n\n<p>Also have a look at <a href=\"https://stackoverflow.com/a/21080256/2615437\">this answer</a> to <a href=\"https://stackoverflow.com/questions/21067968/rest-resource-path-design\">a similar question</a>.</p>\n\n<p>I think your interface / implementation should be reflected in the media type and not the uri path.</p>\n"},{"tags":[],"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394136048,"creation_date":1394136048,"answer_id":22234693,"question_id":22227487,"body_markdown":"    URI + Resource should define any Rest Endpoint.\r\n\r\nIn your case URI is \r\n\r\n    basket/{basketId}/product/{productId)\r\n\r\nand Resource is `product`\r\n\r\n    CDs and Books are just the type of resource. Its important you understand this.\r\n\r\nSo it could be defined like\r\n\r\n    /basket/{basketId}/product/{productId)?type=CD\r\n    /basket/{basketId}/product/{productId)?type=Book\r\n\r\n","title":"RESTful resources - How to structure the urls for a list of objects?","body":"<pre><code>URI + Resource should define any Rest Endpoint.\n</code></pre>\n\n<p>In your case URI is </p>\n\n<pre><code>basket/{basketId}/product/{productId)\n</code></pre>\n\n<p>and Resource is <code>product</code></p>\n\n<pre><code>CDs and Books are just the type of resource. Its important you understand this.\n</code></pre>\n\n<p>So it could be defined like</p>\n\n<pre><code>/basket/{basketId}/product/{productId)?type=CD\n/basket/{basketId}/product/{productId)?type=Book\n</code></pre>\n"}],"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1680082044,"creation_date":1394116382,"question_id":22227487,"body_markdown":"I hope I can explain what is troubling me.\r\n\r\nExample: I have an object basket with a list of product objects. So normally I would build my routes like this baskets/{basketId}/products/{productId). But product is an interface and there are different implementations like cds and books that all require their own resource representation.\r\n\r\nSo how do I build my routes now?\r\n\r\nLike one of those?:\r\n\r\n    baskets/{basketId}/products/{productId)/cds,\r\n    baskets/{basketId}/products/{productId)/books\r\n\r\nand so on\r\n\r\n    baskets/{basketId}/products/{productId)/cds/{productId} , \r\n    baskets/{basketId}/products/{productId)/books/{productId}\r\n    baskets/{basketId}/cds/{productId},\r\n    baskets/{basketId}/books/{productId}\r\n\r\nWhat would be the restful way?","title":"RESTful resources - How to structure the urls for a list of objects?","body":"<p>I hope I can explain what is troubling me.</p>\n\n<p>Example: I have an object basket with a list of product objects. So normally I would build my routes like this baskets/{basketId}/products/{productId). But product is an interface and there are different implementations like cds and books that all require their own resource representation.</p>\n\n<p>So how do I build my routes now?</p>\n\n<p>Like one of those?:</p>\n\n<pre><code>baskets/{basketId}/products/{productId)/cds,\nbaskets/{basketId}/products/{productId)/books\n</code></pre>\n\n<p>and so on</p>\n\n<pre><code>baskets/{basketId}/products/{productId)/cds/{productId} , \nbaskets/{basketId}/products/{productId)/books/{productId}\nbaskets/{basketId}/cds/{productId},\nbaskets/{basketId}/books/{productId}\n</code></pre>\n\n<p>What would be the restful way?</p>\n"},{"tags":["java","postgresql","liquibase","ddl"],"comments":[{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":1,"creation_date":1680075826,"post_id":75874285,"comment_id":133833615,"body_markdown":"table related to so many objects, pg_dump is the right tool. https://stackoverflow.com/questions/2593803/how-to-generate-the-create-table-sql-statement-for-an-existing-table-in-postgr?answertab=scoredesc#tab-top","body":"table related to so many objects, pg_dump is the right tool. <a href=\"https://stackoverflow.com/questions/2593803/how-to-generate-the-create-table-sql-statement-for-an-existing-table-in-postgr?answertab=scoredesc#tab-top\" title=\"how to generate the create table sql statement for an existing table in postgr\">stackoverflow.com/questions/2593803/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680078185,"post_id":75874285,"comment_id":133834180,"body_markdown":"Yes, it is possible (if only because some of those IDEs are written in Java...), but your question is not specific enough for Stack Overflow.","body":"Yes, it is possible (if only because some of those IDEs are written in Java...), but your question is not specific enough for Stack Overflow."}],"answers":[{"comments":[{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":1,"creation_date":1680078350,"post_id":75874529,"comment_id":133834214,"body_markdown":"That is not bad, but it is hard not to forget anything: for example, I don&#39;t see support for `CREATE TEMP TABLE ... ON COMMIT DROP`. In practice, running `pg_dump -s` is usually preferable.","body":"That is not bad, but it is hard not to forget anything: for example, I don&#39;t see support for <code>CREATE TEMP TABLE ... ON COMMIT DROP</code>. In practice, running <code>pg_dump -s</code> is usually preferable."},{"owner":{"account_id":8817368,"reputation":164,"user_id":6588343,"display_name":"mmoehrlein"},"score":1,"creation_date":1680078926,"post_id":75874529,"comment_id":133834365,"body_markdown":"@LaurenzAlbe True. I edited the answer to state that this will not always work. I do aggree that pg_dump is the better option. This would just be an option of using pg_dump would not be possible for any reason or it needed to be realised through some kind of sql query.","body":"@LaurenzAlbe True. I edited the answer to state that this will not always work. I do aggree that pg_dump is the better option. This would just be an option of using pg_dump would not be possible for any reason or it needed to be realised through some kind of sql query."}],"tags":[],"owner":{"account_id":8817368,"reputation":164,"user_id":6588343,"display_name":"mmoehrlein"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680081983,"creation_date":1680076387,"answer_id":75874529,"question_id":75874285,"body_markdown":"Generating the table definition is not that straight forward and this will not work 100% of the time.\r\n\r\nYou can use this function to generate/extract the definition of a table given an oid: \r\n\r\n```sql\r\nCREATE OR REPLACE FUNCTION public.tabledef(oid)\r\n RETURNS text\r\n LANGUAGE sql\r\n STRICT\r\nAS $function$\r\n/* snatched from https://github.com/filiprem/pg-tools */\r\nWITH attrdef AS (\r\n    SELECT\r\n        n.nspname,\r\n        c.relname,\r\n        pg_catalog.array_to_string(c.reloptions || array(select &#39;toast.&#39; || x from pg_catalog.unnest(tc.reloptions) x), &#39;, &#39;) as relopts,\r\n        c.relpersistence,\r\n        a.attnum,\r\n        a.attname,\r\n        pg_catalog.format_type(a.atttypid, a.atttypmod) as atttype,\r\n        (SELECT substring(pg_catalog.pg_get_expr(d.adbin, d.adrelid, true) for 128) FROM pg_catalog.pg_attrdef d\r\n            WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef) as attdefault,\r\n        a.attnotnull,\r\n        (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t\r\n            WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation &lt;&gt; t.typcollation) as attcollation,\r\n        a.attidentity,\r\n        a.attgenerated\r\n    FROM pg_catalog.pg_attribute a\r\n    JOIN pg_catalog.pg_class c ON a.attrelid = c.oid\r\n    JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid\r\n    LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\r\n    WHERE a.attrelid = $1\r\n        AND a.attnum &gt; 0\r\n        AND NOT a.attisdropped\r\n    ORDER BY a.attnum\r\n),\r\ncoldef AS (\r\n    SELECT\r\n        attrdef.nspname,\r\n        attrdef.relname,\r\n        attrdef.relopts,\r\n        attrdef.relpersistence,\r\n        pg_catalog.format(\r\n            &#39;%I %s%s%s%s%s&#39;,\r\n            attrdef.attname,\r\n            attrdef.atttype,\r\n            case when attrdef.attcollation is null then &#39;&#39; else pg_catalog.format(&#39; COLLATE %I&#39;, attrdef.attcollation) end,\r\n            case when attrdef.attnotnull then &#39; NOT NULL&#39; else &#39;&#39; end,\r\n            case when attrdef.attdefault is null then &#39;&#39;\r\n                else case when attrdef.attgenerated = &#39;s&#39; then pg_catalog.format(&#39; GENERATED ALWAYS AS (%s) STORED&#39;, attrdef.attdefault)\r\n                    when attrdef.attgenerated &lt;&gt; &#39;&#39; then &#39; GENERATED AS NOT_IMPLEMENTED&#39;\r\n                    else pg_catalog.format(&#39; DEFAULT %s&#39;, attrdef.attdefault)\r\n                end\r\n            end,\r\n            case when attrdef.attidentity&lt;&gt;&#39;&#39; then pg_catalog.format(&#39; GENERATED %s AS IDENTITY&#39;,\r\n                    case attrdef.attidentity when &#39;d&#39; then &#39;BY DEFAULT&#39; when &#39;a&#39; then &#39;ALWAYS&#39; else &#39;NOT_IMPLEMENTED&#39; end)\r\n                else &#39;&#39; end\r\n        ) as col_create_sql\r\n    FROM attrdef\r\n    ORDER BY attrdef.attnum\r\n),\r\ntabdef AS (\r\n    SELECT\r\n        coldef.nspname,\r\n        coldef.relname,\r\n        coldef.relopts,\r\n        coldef.relpersistence,\r\n        string_agg(coldef.col_create_sql, E&#39;,\\n    &#39;) as cols_create_sql\r\n    FROM coldef\r\n    GROUP BY\r\n        coldef.nspname, coldef.relname, coldef.relopts, coldef.relpersistence\r\n)\r\nSELECT\r\n    format(\r\n        &#39;CREATE%s TABLE %I.%I%s%s%s;&#39;,\r\n        case tabdef.relpersistence when &#39;t&#39; then &#39; TEMP&#39; when &#39;u&#39; then &#39; UNLOGGED&#39; else &#39;&#39; end,\r\n        tabdef.nspname,\r\n        tabdef.relname,\r\n        coalesce(\r\n            (SELECT format(E&#39;\\n    PARTITION OF %I.%I %s\\n&#39;, pn.nspname, pc.relname,\r\n                pg_get_expr(c.relpartbound, c.oid))\r\n                FROM pg_class c JOIN pg_inherits i ON c.oid = i.inhrelid\r\n                JOIN pg_class pc ON pc.oid = i.inhparent\r\n                JOIN pg_namespace pn ON pn.oid = pc.relnamespace\r\n                WHERE c.oid = $1),\r\n            format(E&#39; (\\n    %s\\n)&#39;, tabdef.cols_create_sql)\r\n        ),\r\n        case when tabdef.relopts &lt;&gt; &#39;&#39; then format(&#39; WITH (%s)&#39;, tabdef.relopts) else &#39;&#39; end,\r\n        coalesce(E&#39;\\nPARTITION BY &#39;||pg_get_partkeydef($1), &#39;&#39;)\r\n    ) as table_create_sql\r\nFROM tabdef\r\n$function$\r\n;\r\n\r\n\r\n```\r\n\r\nYou can then call the function like this `SELECT tabledef(&#39;&lt;tablename&gt;&#39;::regclass::oid);`\r\n\r\nThis version fetches the first oid matching the tablename. This could collide with a index or something similar if the name is not unique. In that case you need to check pg_class and find the oid that way. (`SELECT * FROM pg_catalog.pg_class WHERE relname = &#39;&lt;tablename&gt;&#39;`).","title":"Is it possible to generate DDL from existing database table with Java?","body":"<p>Generating the table definition is not that straight forward and this will not work 100% of the time.</p>\n<p>You can use this function to generate/extract the definition of a table given an oid:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION public.tabledef(oid)\n RETURNS text\n LANGUAGE sql\n STRICT\nAS $function$\n/* snatched from https://github.com/filiprem/pg-tools */\nWITH attrdef AS (\n    SELECT\n        n.nspname,\n        c.relname,\n        pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ') as relopts,\n        c.relpersistence,\n        a.attnum,\n        a.attname,\n        pg_catalog.format_type(a.atttypid, a.atttypmod) as atttype,\n        (SELECT substring(pg_catalog.pg_get_expr(d.adbin, d.adrelid, true) for 128) FROM pg_catalog.pg_attrdef d\n            WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef) as attdefault,\n        a.attnotnull,\n        (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t\n            WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation &lt;&gt; t.typcollation) as attcollation,\n        a.attidentity,\n        a.attgenerated\n    FROM pg_catalog.pg_attribute a\n    JOIN pg_catalog.pg_class c ON a.attrelid = c.oid\n    JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid\n    LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)\n    WHERE a.attrelid = $1\n        AND a.attnum &gt; 0\n        AND NOT a.attisdropped\n    ORDER BY a.attnum\n),\ncoldef AS (\n    SELECT\n        attrdef.nspname,\n        attrdef.relname,\n        attrdef.relopts,\n        attrdef.relpersistence,\n        pg_catalog.format(\n            '%I %s%s%s%s%s',\n            attrdef.attname,\n            attrdef.atttype,\n            case when attrdef.attcollation is null then '' else pg_catalog.format(' COLLATE %I', attrdef.attcollation) end,\n            case when attrdef.attnotnull then ' NOT NULL' else '' end,\n            case when attrdef.attdefault is null then ''\n                else case when attrdef.attgenerated = 's' then pg_catalog.format(' GENERATED ALWAYS AS (%s) STORED', attrdef.attdefault)\n                    when attrdef.attgenerated &lt;&gt; '' then ' GENERATED AS NOT_IMPLEMENTED'\n                    else pg_catalog.format(' DEFAULT %s', attrdef.attdefault)\n                end\n            end,\n            case when attrdef.attidentity&lt;&gt;'' then pg_catalog.format(' GENERATED %s AS IDENTITY',\n                    case attrdef.attidentity when 'd' then 'BY DEFAULT' when 'a' then 'ALWAYS' else 'NOT_IMPLEMENTED' end)\n                else '' end\n        ) as col_create_sql\n    FROM attrdef\n    ORDER BY attrdef.attnum\n),\ntabdef AS (\n    SELECT\n        coldef.nspname,\n        coldef.relname,\n        coldef.relopts,\n        coldef.relpersistence,\n        string_agg(coldef.col_create_sql, E',\\n    ') as cols_create_sql\n    FROM coldef\n    GROUP BY\n        coldef.nspname, coldef.relname, coldef.relopts, coldef.relpersistence\n)\nSELECT\n    format(\n        'CREATE%s TABLE %I.%I%s%s%s;',\n        case tabdef.relpersistence when 't' then ' TEMP' when 'u' then ' UNLOGGED' else '' end,\n        tabdef.nspname,\n        tabdef.relname,\n        coalesce(\n            (SELECT format(E'\\n    PARTITION OF %I.%I %s\\n', pn.nspname, pc.relname,\n                pg_get_expr(c.relpartbound, c.oid))\n                FROM pg_class c JOIN pg_inherits i ON c.oid = i.inhrelid\n                JOIN pg_class pc ON pc.oid = i.inhparent\n                JOIN pg_namespace pn ON pn.oid = pc.relnamespace\n                WHERE c.oid = $1),\n            format(E' (\\n    %s\\n)', tabdef.cols_create_sql)\n        ),\n        case when tabdef.relopts &lt;&gt; '' then format(' WITH (%s)', tabdef.relopts) else '' end,\n        coalesce(E'\\nPARTITION BY '||pg_get_partkeydef($1), '')\n    ) as table_create_sql\nFROM tabdef\n$function$\n;\n\n\n</code></pre>\n<p>You can then call the function like this <code>SELECT tabledef('&lt;tablename&gt;'::regclass::oid);</code></p>\n<p>This version fetches the first oid matching the tablename. This could collide with a index or something similar if the name is not unique. In that case you need to check pg_class and find the oid that way. (<code>SELECT * FROM pg_catalog.pg_class WHERE relname = '&lt;tablename&gt;'</code>).</p>\n"}],"owner":{"account_id":6672145,"reputation":7,"user_id":5147973,"display_name":"Kerem Y&#252;cel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1680084630,"answer_count":1,"score":-1,"last_activity_date":1680081983,"creation_date":1680074581,"question_id":75874285,"body_markdown":"My expectation is to generate DDL string from existing tables. Like most of the IDE&#39;s do with one click, but via Java. I am using PostgreSQL as database.\r\n\r\nWhat I want to gather is simply this;\r\n\r\nFrom mySchema.myTable\r\n\r\n| Column A | Column B |\r\n| -------- | -------- |\r\n| Cell 1   | Cell 2   |\r\n| Cell 3   | Cell 4   |\r\n\r\nSome magical code returns create table script as String\r\n\r\n```sql\r\ncreate table myTable (\r\n   columnA ....\r\n   columnB ....\r\n)\r\n```\r\n\r\nand so on","title":"Is it possible to generate DDL from existing database table with Java?","body":"<p>My expectation is to generate DDL string from existing tables. Like most of the IDE's do with one click, but via Java. I am using PostgreSQL as database.</p>\n<p>What I want to gather is simply this;</p>\n<p>From mySchema.myTable</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column A</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cell 1</td>\n<td>Cell 2</td>\n</tr>\n<tr>\n<td>Cell 3</td>\n<td>Cell 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Some magical code returns create table script as String</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table myTable (\n   columnA ....\n   columnB ....\n)\n</code></pre>\n<p>and so on</p>\n"},{"tags":["java","android"],"owner":{"account_id":1090746,"reputation":569,"user_id":1085437,"accept_rate":14,"display_name":"Hector4888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680081648,"creation_date":1680079865,"question_id":75875025,"body_markdown":"I am sending data using following code\r\n\r\n    branchUniversalObject = new BranchUniversalObject()\r\n                .setCanonicalIdentifier(&quot;item/12345&quot;)\r\n                .setCanonicalUrl(&quot;https://branch.io/deepviews&quot;)\r\n                .setContentIndexingMode(BranchUniversalObject.CONTENT_INDEX_MODE.PRIVATE)\r\n                .setLocalIndexMode(BranchUniversalObject.CONTENT_INDEX_MODE.PUBLIC)\r\n                .setTitle(activityFullDetails.getName())\r\n                .setContentDescription(activityFullDetails.getDescription())\r\n                .setContentImageUrl(activityFullDetails.getHeaderImage().getFilePath())\r\n\r\n\r\nHow do I get my title, description and ImageUrl again?","title":"How to recieve data after sending data to BranchIoUri","body":"<p>I am sending data using following code</p>\n<pre><code>branchUniversalObject = new BranchUniversalObject()\n            .setCanonicalIdentifier(&quot;item/12345&quot;)\n            .setCanonicalUrl(&quot;https://branch.io/deepviews&quot;)\n            .setContentIndexingMode(BranchUniversalObject.CONTENT_INDEX_MODE.PRIVATE)\n            .setLocalIndexMode(BranchUniversalObject.CONTENT_INDEX_MODE.PUBLIC)\n            .setTitle(activityFullDetails.getName())\n            .setContentDescription(activityFullDetails.getDescription())\n            .setContentImageUrl(activityFullDetails.getHeaderImage().getFilePath())\n</code></pre>\n<p>How do I get my title, description and ImageUrl again?</p>\n"},{"tags":["java","utf-8","inputstream","outputstream"],"answers":[{"comments":[{"owner":{"account_id":537375,"reputation":358,"user_id":905911,"accept_rate":64,"display_name":"Gaurav Wadhwani"},"score":0,"creation_date":1352750931,"post_id":13350733,"comment_id":18221585,"body_markdown":"i read that but the problem is tht i need to read a URL, those functions dont read url.","body":"i read that but the problem is tht i need to read a URL, those functions dont read url."},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1352751041,"post_id":13350733,"comment_id":18221630,"body_markdown":"@user905911 u dindn&#39;t specify that in your question","body":"@user905911 u dindn&#39;t specify that in your question"},{"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"score":1,"creation_date":1468265086,"post_id":13350733,"comment_id":64045718,"body_markdown":"`fin.close();` and `fout.close();` must b called in a `finally` block. And since Java 7 it&#39;s better to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) approach.","body":"<code>fin.close();</code> and <code>fout.close();</code> must b called in a <code>finally</code> block. And since Java 7 it&#39;s better to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> approach."}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352751079,"creation_date":1352750791,"answer_id":13350733,"question_id":13350676,"body_markdown":"[Read and Write UTF-8 File in Java][1]\r\n\r\nI see you are writing in utf-8 but not specifically reading in utf-8. Follow the example I&#39;ve provided in the link.\r\n\r\n    try {\r\n       Reader reader =\r\n          new InputStreamReader(\r\n             new FileInputStream(args[0]),&quot;UTF-8&quot;);\r\n       BufferedReader fin = new BufferedReader(reader);\r\n       Writer writer =\r\n          new OutputStreamWriter(\r\n             new FileOutputStream(args[1]), &quot;UTF-8&quot;);\r\n       BufferedWriter fout = new BufferedWriter(writer);\r\n       String s;\r\n       while ((s=fin.readLine())!=null) {\r\n          fout.write(s);\r\n          fout.newLine();\r\n       }\r\n                \r\n                //Remember to call close. \r\n                //calling close on a BufferedReader/BufferedWriter \r\n                // will automatically call close on its underlying stream \r\n       fin.close();\r\n       fout.close();\r\n    } catch (IOException e) {\r\n       e.printStackTrace();\r\n    }\r\n\r\n  [1]: http://www.xyzws.com/javafaq/how-to-read-and-write-utf8-file-in-java/164","title":"How to read/write a file in UTF-8 in Java?","body":"<p><a href=\"http://www.xyzws.com/javafaq/how-to-read-and-write-utf8-file-in-java/164\" rel=\"nofollow\">Read and Write UTF-8 File in Java</a></p>\n\n<p>I see you are writing in utf-8 but not specifically reading in utf-8. Follow the example I've provided in the link.</p>\n\n<pre><code>try {\n   Reader reader =\n      new InputStreamReader(\n         new FileInputStream(args[0]),\"UTF-8\");\n   BufferedReader fin = new BufferedReader(reader);\n   Writer writer =\n      new OutputStreamWriter(\n         new FileOutputStream(args[1]), \"UTF-8\");\n   BufferedWriter fout = new BufferedWriter(writer);\n   String s;\n   while ((s=fin.readLine())!=null) {\n      fout.write(s);\n      fout.newLine();\n   }\n\n            //Remember to call close. \n            //calling close on a BufferedReader/BufferedWriter \n            // will automatically call close on its underlying stream \n   fin.close();\n   fout.close();\n} catch (IOException e) {\n   e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1352751274,"post_id":13350772,"comment_id":18221736,"body_markdown":"@Aubin - Sure, at least if you&#39;re talking about the input stream: `URLConnection conn = url.openConnection(); InputStream is = conn.getInputStream();`. Then use `is` as the input stream.","body":"@Aubin - Sure, at least if you&#39;re talking about the input stream: <code>URLConnection conn = url.openConnection(); InputStream is = conn.getInputStream();</code>. Then use <code>is</code> as the input stream."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1352751574,"post_id":13350772,"comment_id":18221846,"body_markdown":"@user905911 - I noted another problem with your code. See the first paragraph of my revised answer.","body":"@user905911 - I noted another problem with your code. See the first paragraph of my revised answer."},{"owner":{"account_id":537375,"reputation":358,"user_id":905911,"accept_rate":64,"display_name":"Gaurav Wadhwani"},"score":0,"creation_date":1352753295,"post_id":13350772,"comment_id":18222547,"body_markdown":"@TedHopp : Sir, it worked. But i dont no how to change FileWriter. Should i change to OutputStreamWriter ?","body":"@TedHopp : Sir, it worked. But i dont no how to change FileWriter. Should i change to OutputStreamWriter ?"},{"owner":{"account_id":537375,"reputation":358,"user_id":905911,"accept_rate":64,"display_name":"Gaurav Wadhwani"},"score":0,"creation_date":1352753699,"post_id":13350772,"comment_id":18222698,"body_markdown":"ok so i changed that to \n    FileOutputStream fos = new FileOutputStream(&quot;ppre_DirectionResponse.xml&quot;);\n      Writer out = new OutputStreamWriter(fos, &quot;UTF8&quot;);","body":"ok so i changed that to      FileOutputStream fos = new FileOutputStream(&quot;ppre_DirectionResponse.xml&quot;);       Writer out = new OutputStreamWriter(fos, &quot;UTF8&quot;);"},{"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"score":0,"creation_date":1468264906,"post_id":13350772,"comment_id":64045614,"body_markdown":"Since Java 7 it could be done in a shorter way: `BufferedReader br = Files.newBufferedReader(Paths.get(&quot;DirectionResponse.xml&quot;), StandardCharsets.UTF_8);`","body":"Since Java 7 it could be done in a shorter way: <code>BufferedReader br = Files.newBufferedReader(Paths.get(&quot;DirectionResponse.xml&quot;), StandardCharsets.UTF_8);</code>"}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":5,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1655395476,"creation_date":1352750972,"answer_id":13350772,"question_id":13350676,"body_markdown":"First, you need to call `output.close()` (or at least call `output.flush()`) before you reopen the file for input. That&#39;s probably the main cause of your problems.\r\n\r\nThen, you shouldn&#39;t use `FileReader` or `FileWriter` for this because it always uses the platform-default encoding (which is often not UTF-8). From [the docs for `FileReader`][1]:\r\n\r\n&gt;The constructors of this class assume that the default character encoding and the default byte-buffer size are appropriate.\r\n\r\nYou have the same problem when using a `FileWriter`. Replace this:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;DirectionResponse.xml&quot; ));\r\n\r\nwith something like this:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(\r\n        new FileInputStream(&quot;DirectionResponse.xml&quot;), &quot;UTF-8&quot;));\r\n\r\nand similarly for `fstream`.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/FileReader.html","title":"How to read/write a file in UTF-8 in Java?","body":"<p>First, you need to call <code>output.close()</code> (or at least call <code>output.flush()</code>) before you reopen the file for input. That's probably the main cause of your problems.</p>\n<p>Then, you shouldn't use <code>FileReader</code> or <code>FileWriter</code> for this because it always uses the platform-default encoding (which is often not UTF-8). From <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/FileReader.html\" rel=\"nofollow noreferrer\">the docs for <code>FileReader</code></a>:</p>\n<blockquote>\n<p>The constructors of this class assume that the default character encoding and the default byte-buffer size are appropriate.</p>\n</blockquote>\n<p>You have the same problem when using a <code>FileWriter</code>. Replace this:</p>\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(&quot;DirectionResponse.xml&quot; ));\n</code></pre>\n<p>with something like this:</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(\n    new FileInputStream(&quot;DirectionResponse.xml&quot;), &quot;UTF-8&quot;));\n</code></pre>\n<p>and similarly for <code>fstream</code>.</p>\n"}],"owner":{"account_id":537375,"reputation":358,"user_id":905911,"accept_rate":64,"display_name":"Gaurav Wadhwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86685,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":13350772,"answer_count":2,"score":17,"last_activity_date":1680081618,"creation_date":1352750551,"question_id":13350676,"body_markdown":"I am getting this error:  \r\n\r\n&gt; io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence\r\n\r\nThe solution is to read and write a file in UTF-8.\r\n\r\nMy code is:\r\n\r\n    InputStream input = null;\r\n    OutputStream output = null;\r\n    OutputStreamWriter bufferedWriter = new OutputStreamWriter( output, &quot;UTF8&quot;);\r\n    input = new URL(url).openStream();\r\n    output = new FileOutputStream(&quot;DirectionResponse.xml&quot;);\r\n    byte[] buffer = new byte[1024];\r\n    for (int length = 0; (length = input.read(buffer)) &gt; 0;) {\r\n       output.write(buffer, 0, length);\r\n    }\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;DirectionResponse.xml&quot; ));\r\n    FileWriter fstream = new FileWriter(&quot;ppre_DirectionResponse.xml&quot;);\r\n    BufferedWriter out = new BufferedWriter(fstream);\r\n\r\nI&#39;m reading a url and writing it to a file *DirectionResponse.xml*. Then reading *DirectionResponse.xml* and writing the same as *ppre_DirecionResponse.xml* for processing. \r\n\r\n**How do I change this so that reading and writing is done in UTF-8?**","title":"How to read/write a file in UTF-8 in Java?","body":"<p>I am getting this error:</p>\n<blockquote>\n<p>io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence</p>\n</blockquote>\n<p>The solution is to read and write a file in UTF-8.</p>\n<p>My code is:</p>\n<pre><code>InputStream input = null;\nOutputStream output = null;\nOutputStreamWriter bufferedWriter = new OutputStreamWriter( output, &quot;UTF8&quot;);\ninput = new URL(url).openStream();\noutput = new FileOutputStream(&quot;DirectionResponse.xml&quot;);\nbyte[] buffer = new byte[1024];\nfor (int length = 0; (length = input.read(buffer)) &gt; 0;) {\n   output.write(buffer, 0, length);\n}\nBufferedReader br = new BufferedReader(new FileReader(&quot;DirectionResponse.xml&quot; ));\nFileWriter fstream = new FileWriter(&quot;ppre_DirectionResponse.xml&quot;);\nBufferedWriter out = new BufferedWriter(fstream);\n</code></pre>\n<p>I'm reading a url and writing it to a file <em>DirectionResponse.xml</em>. Then reading <em>DirectionResponse.xml</em> and writing the same as <em>ppre_DirecionResponse.xml</em> for processing.</p>\n<p><strong>How do I change this so that reading and writing is done in UTF-8?</strong></p>\n"},{"tags":["java","apache-spark","rdd"],"owner":{"account_id":11077445,"reputation":503,"user_id":8133719,"accept_rate":50,"display_name":"zero_yu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680081534,"creation_date":1680033661,"question_id":75870574,"body_markdown":"I have some code like this:\r\n\r\n    JavaPairRDD A = JavaPairRDD B;\r\n    B.persist(StorageLevel.MEMORY_AND_DISK())\r\n\r\nLater, variable A might or might not be reassigned to the transformation from another JavaPairRDD. If A is not reassigned, will Spark know that it should leverage what B persists in memory when A needs to be transformed?  \r\n\r\n","title":"Java Apache Spark RDD persist","body":"<p>I have some code like this:</p>\n<pre><code>JavaPairRDD A = JavaPairRDD B;\nB.persist(StorageLevel.MEMORY_AND_DISK())\n</code></pre>\n<p>Later, variable A might or might not be reassigned to the transformation from another JavaPairRDD. If A is not reassigned, will Spark know that it should leverage what B persists in memory when A needs to be transformed?</p>\n"},{"tags":["java","ajax","api","post","weblogic"],"answers":[{"tags":[],"owner":{"account_id":28007631,"reputation":1195,"user_id":21390763,"display_name":"dodrg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680081331,"creation_date":1680080351,"answer_id":75875115,"question_id":75874521,"body_markdown":"You omit the required HTML header:\r\n\r\nThe first line of output must declare the data that follows.  \r\nThis line has to be followed by an empty line.\r\n\r\nAs you probably want your visitor to download the file, your script should\r\nissue as the first line (followed by an empty line):\r\n```\r\nContent-Disposition: attachment; filename=mytest.csv\r\n\r\n```\r\n\r\nSample script:\r\n\r\n```\r\n#!/bin/sh\r\necho &#39;Content-Disposition: attachment; filename=&quot;Official Filename.csv&quot;\r\n&#39;\r\ncat &quot;./internal_filename.csv&quot;\r\n```\r\n","title":"Unable to Send a large CSV through AJAX POST call","body":"<p>You omit the required HTML header:</p>\n<p>The first line of output must declare the data that follows.<br />\nThis line has to be followed by an empty line.</p>\n<p>As you probably want your visitor to download the file, your script should\nissue as the first line (followed by an empty line):</p>\n<pre><code>Content-Disposition: attachment; filename=mytest.csv\n\n</code></pre>\n<p>Sample script:</p>\n<pre><code>#!/bin/sh\necho 'Content-Disposition: attachment; filename=&quot;Official Filename.csv&quot;\n'\ncat &quot;./internal_filename.csv&quot;\n</code></pre>\n"}],"owner":{"account_id":16630336,"reputation":1,"user_id":12018322,"display_name":"Sohom Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680081331,"creation_date":1680076326,"question_id":75874521,"body_markdown":"Trying to perform an ajax post call for an existing software which is running on weblogic. I am trying to send a csv through a post callwhich will be hit a java api file. But due to the file being large(1.96MB approx) it is throwing 500 internal server and is not hitting the java class. Any suggestions on how to work on this issue.\r\n\r\nI have already studied the Weblogic logs, and found the attached [log](https://i.stack.imgur.com/LmGtC.jpg)\r\n\r\nAny suggestion will be helpful!!","title":"Unable to Send a large CSV through AJAX POST call","body":"<p>Trying to perform an ajax post call for an existing software which is running on weblogic. I am trying to send a csv through a post callwhich will be hit a java api file. But due to the file being large(1.96MB approx) it is throwing 500 internal server and is not hitting the java class. Any suggestions on how to work on this issue.</p>\n<p>I have already studied the Weblogic logs, and found the attached <a href=\"https://i.stack.imgur.com/LmGtC.jpg\" rel=\"nofollow noreferrer\">log</a></p>\n<p>Any suggestion will be helpful!!</p>\n"},{"tags":["java","maven","dependency-management"],"owner":{"account_id":18862535,"reputation":25,"user_id":13759032,"display_name":"kevkev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680081222,"creation_date":1680064391,"question_id":75873154,"body_markdown":"I have maven dependency A which has `com.google.common` as a submodule (transitive dependency?) \r\n\r\nHowever it seems the version under dependency A is quite old, so it&#39;s missing some interfaces. On the other hand, I have the most recent `com.google.guava` package which also has `com.google.common`.\r\n\r\nThe issue seems to arise after building/running the target jar. I get an error that looks like:\r\n\r\n```\r\njava.lang.IllegalAccessError: class com.google.common.collect.AbstractListMultimap cannot access its abstract superclass com.google.common.collect.AbstractMapBasedMultimap (com.google.common.collect.AbstractListMultimap is in unnamed module of loader java.net.URLClassLoader @6368386a; com.google.common.collect.AbstractMapBasedMultimap is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nbecause I believe the compiler tries to use the module from dependency A as the super class for the `AbstractListMultiMap` from the guava dependency, which doesn&#39;t work, since they are in different modules. Note that `AbstractListMultiMap` is not present at all under dependency A.\r\n\r\nIs there any way to essentially only use `com.google.guava` ? I tried excluding transitive dependencies from dependency A, but I&#39;m not sure if there are any &quot;transitive dependencies&quot;. The pom for dependency A just looks like: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0&lt;/version&gt;\r\n  &lt;description&gt;DreamBot 3&#39;s client&lt;/description&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy current `pom.xml` for my project looks like:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n...\r\n\r\n    &lt;!-- dependencies --&gt;\r\n    &lt;dependencies&gt;\r\n\r\n...\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;*&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;!-- build jar file with dependencies --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;dep-included&lt;/shadedClassifierName&gt;\r\n                    &lt;outputDirectory&gt;${dreambot.path}/Scripts&lt;/outputDirectory&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n                    \r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;m also using maven-shade-plugin to package everything into an uber jar, so I&#39;m guessing it chooses one of the classes for conflicting classnames, leading to the issue.\r\n\r\nI tried excluding all transitive dependencies from dependency A, but not sure if there are any to exclude. I also tried reordering some of the dependencies in the pom.xml, but that didn&#39;t seem to change much.\r\n\r\nI require both dependencies in the project as they are both critical.","title":"Maven dependencies try to reference each other in different module (IllegalAccessError:class &lt;classname&gt; cannot access its abstract superclass)","body":"<p>I have maven dependency A which has <code>com.google.common</code> as a submodule (transitive dependency?)</p>\n<p>However it seems the version under dependency A is quite old, so it's missing some interfaces. On the other hand, I have the most recent <code>com.google.guava</code> package which also has <code>com.google.common</code>.</p>\n<p>The issue seems to arise after building/running the target jar. I get an error that looks like:</p>\n<pre><code>java.lang.IllegalAccessError: class com.google.common.collect.AbstractListMultimap cannot access its abstract superclass com.google.common.collect.AbstractMapBasedMultimap (com.google.common.collect.AbstractListMultimap is in unnamed module of loader java.net.URLClassLoader @6368386a; com.google.common.collect.AbstractMapBasedMultimap is in unnamed module of loader 'app')\n</code></pre>\n<p>because I believe the compiler tries to use the module from dependency A as the super class for the <code>AbstractListMultiMap</code> from the guava dependency, which doesn't work, since they are in different modules. Note that <code>AbstractListMultiMap</code> is not present at all under dependency A.</p>\n<p>Is there any way to essentially only use <code>com.google.guava</code> ? I tried excluding transitive dependencies from dependency A, but I'm not sure if there are any &quot;transitive dependencies&quot;. The pom for dependency A just looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\n  &lt;artifactId&gt;client&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;description&gt;DreamBot 3's client&lt;/description&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My current <code>pom.xml</code> for my project looks like:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n...\n\n    &lt;!-- dependencies --&gt;\n    &lt;dependencies&gt;\n\n...\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n...\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dreambot&lt;/groupId&gt;\n            &lt;artifactId&gt;client&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;*&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;!-- build jar file with dependencies --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;dep-included&lt;/shadedClassifierName&gt;\n                    &lt;outputDirectory&gt;${dreambot.path}/Scripts&lt;/outputDirectory&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n                    \n\n&lt;/project&gt;\n</code></pre>\n<p>I'm also using maven-shade-plugin to package everything into an uber jar, so I'm guessing it chooses one of the classes for conflicting classnames, leading to the issue.</p>\n<p>I tried excluding all transitive dependencies from dependency A, but not sure if there are any to exclude. I also tried reordering some of the dependencies in the pom.xml, but that didn't seem to change much.</p>\n<p>I require both dependencies in the project as they are both critical.</p>\n"},{"tags":["java","spring","spring-boot","redis","jackson"],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680081041,"creation_date":1680040018,"question_id":75871339,"body_markdown":"I am wondering if there is any way to create RedisTemplate using Jackson2JsonRedisSerializer or other JSON serializer without passing class type for serialization? (I am using jackson and ObjectMapper by default) \r\n\r\nI don&#39;t want to create RedisTemplate for every type I want to use \r\n","title":"How to create custom RedisTemplate for multiple serialization classes?","body":"<p>I am wondering if there is any way to create RedisTemplate using Jackson2JsonRedisSerializer or other JSON serializer without passing class type for serialization? (I am using jackson and ObjectMapper by default)</p>\n<p>I don't want to create RedisTemplate for every type I want to use</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1438265257,"post_id":31696549,"comment_id":51388126,"body_markdown":"This does not seem to be possible: http://stackoverflow.com/questions/29095754/can-jackson-serializationfeature-be-overridden-per-field-or-class","body":"This does not seem to be possible: <a href=\"http://stackoverflow.com/questions/29095754/can-jackson-serializationfeature-be-overridden-per-field-or-class\" title=\"can jackson serializationfeature be overridden per field or class\">stackoverflow.com/questions/29095754/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7164076,"reputation":9426,"user_id":5473824,"display_name":"Adrian Baker"},"score":6,"creation_date":1474168084,"post_id":31748653,"comment_id":66418772,"body_markdown":"Be carefult Instantiating a whole new ObjectMapper for every value, this will be expensive. Also take care to propogate all the configuration from the original mapper, otherwise other unrelated config (eg a default date format) will stop being applied under this object.","body":"Be carefult Instantiating a whole new ObjectMapper for every value, this will be expensive. Also take care to propogate all the configuration from the original mapper, otherwise other unrelated config (eg a default date format) will stop being applied under this object."}],"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1438677501,"creation_date":1438352968,"answer_id":31748653,"question_id":31696549,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nAs stated by @AlexeyGavrilov, it does not seem to be possible: https://stackoverflow.com/a/29133209/1225328. A workaround could be to create a custom `JsonSerializer`:\r\n\r\n    public class SingleElementCollectionsUnwrapper extends JsonSerializer&lt;Object&gt; {\r\n  \r\n      @Override\r\n      public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\r\n        if (!serializers.getConfig().isEnabled(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED)) {\r\n          new ObjectMapper().enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED).writeValue(gen, value);\r\n        } else {\r\n          gen.writeObject(value);\r\n        }\r\n      }\r\n  \r\n    }\r\n\r\nThen, annotate the `links` field with `@JsonSerialize`:\r\n\r\n    @JsonProperty(&quot;_links&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    @JsonSerialize(using = SingleElementCollectionsUnwrapper.class)\r\n    private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();","title":"How to apply a Jackson SerializationFeature on one field?","body":"\n\n<p>As stated by @AlexeyGavrilov, it does not seem to be possible: <a href=\"https://stackoverflow.com/a/29133209/1225328\">https://stackoverflow.com/a/29133209/1225328</a>. A workaround could be to create a custom <code>JsonSerializer</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SingleElementCollectionsUnwrapper extends JsonSerializer&lt;Object&gt; {\n\n  @Override\n  public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n    if (!serializers.getConfig().isEnabled(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED)) {\n      new ObjectMapper().enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED).writeValue(gen, value);\n    } else {\n      gen.writeObject(value);\n    }\n  }\n\n}\n</code></pre>\n\n<p>Then, annotate the <code>links</code> field with <code>@JsonSerialize</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(\"_links\")\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@JsonSerialize(using = SingleElementCollectionsUnwrapper.class)\nprivate final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6887415,"reputation":11,"user_id":5292074,"display_name":"Stu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680081031,"creation_date":1680081031,"answer_id":75875230,"question_id":31696549,"body_markdown":"It appears additional functionality was added to Jackson 2.6 to allow you to apply this feature to a single field using the @JsonFormat annotation:\r\n\r\n        @JsonProperty(&quot;_links&quot;)\r\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n        @JsonFormat(with = {Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY,Feature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED})\r\n       private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\r\n\r\n","title":"How to apply a Jackson SerializationFeature on one field?","body":"<p>It appears additional functionality was added to Jackson 2.6 to allow you to apply this feature to a single field using the @JsonFormat annotation:</p>\n<pre><code>    @JsonProperty(&quot;_links&quot;)\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n    @JsonFormat(with = {Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY,Feature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED})\n   private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":1353785,"reputation":3716,"user_id":1292605,"accept_rate":100,"display_name":"Pith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31748653,"answer_count":2,"score":3,"last_activity_date":1680081031,"creation_date":1438162406,"question_id":31696549,"body_markdown":"Given the following POJO, I would like to apply `SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED` on the `links` field ONLY.\r\n\r\n    public class HalRepresentation {\r\n    \r\n       @JsonProperty(&quot;_links&quot;)\r\n       @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n       private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\r\n    \r\n        @JsonProperty(&quot;_embedded&quot;)\r\n        @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n        private final Map&lt;String, Object&gt; embedded = new HashMap&lt;String, Object&gt;();\r\n    \r\n        protected HalRepresentation() {\r\n        }\r\n\r\n        public Map&lt;String, List&lt;Link&gt;&gt; getLinks() {\r\n            return links;\r\n        }\r\n        public Map&lt;String, Object&gt; getEmbedded() {\r\n            return embedded;\r\n        }\r\n    }\r\n\r\nI tried to serialize it as follows:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()\r\n        .enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED);\r\n    try {\r\n        outputStream.write(objectMapper.writeValueAsBytes(halRepresentation));\r\n        outputStream.flush();\r\n    } catch (JsonProcessingException e) {\r\n        throw new IllegalStateException(e);\r\n    }\r\n\r\nBut when I do this the unwrap feature is also applied on the `embedded` field. I tried to find an equivalent annotation for `WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED`, but I can&#39;t find one. Do you have an idea for this using Jackson ?","title":"How to apply a Jackson SerializationFeature on one field?","body":"<p>Given the following POJO, I would like to apply <code>SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED</code> on the <code>links</code> field ONLY.</p>\n\n<pre><code>public class HalRepresentation {\n\n   @JsonProperty(\"_links\")\n   @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n   private final Map&lt;String, List&lt;Link&gt;&gt; links = new HashMap&lt;String, List&lt;Link&gt;&gt;();\n\n    @JsonProperty(\"_embedded\")\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\n    private final Map&lt;String, Object&gt; embedded = new HashMap&lt;String, Object&gt;();\n\n    protected HalRepresentation() {\n    }\n\n    public Map&lt;String, List&lt;Link&gt;&gt; getLinks() {\n        return links;\n    }\n    public Map&lt;String, Object&gt; getEmbedded() {\n        return embedded;\n    }\n}\n</code></pre>\n\n<p>I tried to serialize it as follows:</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n    .enable(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED);\ntry {\n    outputStream.write(objectMapper.writeValueAsBytes(halRepresentation));\n    outputStream.flush();\n} catch (JsonProcessingException e) {\n    throw new IllegalStateException(e);\n}\n</code></pre>\n\n<p>But when I do this the unwrap feature is also applied on the <code>embedded</code> field. I tried to find an equivalent annotation for <code>WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED</code>, but I can't find one. Do you have an idea for this using Jackson ?</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1680082340,"post_id":75875219,"comment_id":133835335,"body_markdown":"Are there perhaps pending exceptions on the stack? In particular, have you enabled the checking JNI layer to make sure everything else is okay?","body":"Are there perhaps pending exceptions on the stack? In particular, have you enabled the checking JNI layer to make sure everything else is okay?"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1680099018,"post_id":75875219,"comment_id":133839971,"body_markdown":"Reinforcing what @Botje stated:  if `arrayList` is `NULL` in your posted code, `(*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);` is going to throw a `NullPointerException`.  You can&#39;t call an object method on a `null` object.","body":"Reinforcing what @Botje stated:  if <code>arrayList</code> is <code>NULL</code> in your posted code, <code>(*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);</code> is going to throw a <code>NullPointerException</code>.  You can&#39;t call an object method on a <code>null</code> object."},{"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"score":0,"creation_date":1680105162,"post_id":75875219,"comment_id":133841948,"body_markdown":"arrayList is not NULL, the first element of the arrayList is NULL","body":"arrayList is not NULL, the first element of the arrayList is NULL"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1680252916,"post_id":75875219,"comment_id":133870258,"body_markdown":"Another unlikely guess: did somebody change the definition of the NULL macro from under you? The Android JNI implementation checks for equality to a `nullptr` of the right type.","body":"Another unlikely guess: did somebody change the definition of the NULL macro from under you? The Android JNI implementation checks for equality to a <code>nullptr</code> of the right type."},{"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"score":0,"creation_date":1680413318,"post_id":75875219,"comment_id":133892606,"body_markdown":"We have checked that, we don&#39;t see any modifications","body":"We have checked that, we don&#39;t see any modifications"}],"owner":{"account_id":6777087,"reputation":1144,"user_id":5218554,"accept_rate":0,"display_name":"Bao HQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1680080965,"creation_date":1680080965,"question_id":75875219,"body_markdown":"The purpose is to compare a byte array against the NULL value\r\n\r\n    jmethodID midGet = (*env)-&gt;GetMethodID(env, classArrayList, &quot;get&quot;, &quot;(I)Ljava/lang/Object;&quot;);\r\n    jbyteArray arr = (*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);\r\n    if (!(*env)-&gt;IsSameObject(env, arr, NULL)) {\r\n        // Always falls in here when testing with Android 13\r\n        // For Android &lt;13, this block is not executed\r\n    }\r\n\r\narrayList is passed in from Java layer\r\n\r\n    ArrayList&lt;byte[]&gt; arrayList = new ArrayList&lt;&gt;();\r\n    arrayList.add(null);\r\n\r\nThe IsSameObject method returns unexpected value in Android 13. Please help me figure out. Thanks!","title":"JNI IsSameObject method returns wrong value in Android 13","body":"<p>The purpose is to compare a byte array against the NULL value</p>\n<pre><code>jmethodID midGet = (*env)-&gt;GetMethodID(env, classArrayList, &quot;get&quot;, &quot;(I)Ljava/lang/Object;&quot;);\njbyteArray arr = (*env)-&gt;CallObjectMethod(env, arrayList, midGet, 0);\nif (!(*env)-&gt;IsSameObject(env, arr, NULL)) {\n    // Always falls in here when testing with Android 13\n    // For Android &lt;13, this block is not executed\n}\n</code></pre>\n<p>arrayList is passed in from Java layer</p>\n<pre><code>ArrayList&lt;byte[]&gt; arrayList = new ArrayList&lt;&gt;();\narrayList.add(null);\n</code></pre>\n<p>The IsSameObject method returns unexpected value in Android 13. Please help me figure out. Thanks!</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1498813286,"post_id":44842568,"comment_id":76665342,"body_markdown":"Well, is that `anyObject()` supposed to be a `Map` or a `BatchWriteItemRequest`?","body":"Well, is that <code>anyObject()</code> supposed to be a <code>Map</code> or a <code>BatchWriteItemRequest</code>?"},{"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"score":0,"creation_date":1498814880,"post_id":44842568,"comment_id":76666332,"body_markdown":"I misread the 2nd signature - for some reason I was reading it as 2 parameters, a map and a list instead","body":"I misread the 2nd signature - for some reason I was reading it as 2 parameters, a map and a list instead"}],"answers":[{"comments":[{"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"score":0,"creation_date":1498814680,"post_id":44842737,"comment_id":76666202,"body_markdown":"doh - I misread the 2nd signature - thought there were 2 parameters, thanks","body":"doh - I misread the 2nd signature - thought there were 2 parameters, thanks"},{"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"score":2,"creation_date":1498815018,"post_id":44842737,"comment_id":76666414,"body_markdown":"Note, I previously tried the any(BatchWriteItemResult.class) but ran into an unresolved method issue which is a different problem","body":"Note, I previously tried the any(BatchWriteItemResult.class) but ran into an unresolved method issue which is a different problem"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1498818181,"post_id":44842737,"comment_id":76668453,"body_markdown":"@Bacon do you mean any(BatchWriteItem**Request**.class)?","body":"@Bacon do you mean any(BatchWriteItem<b>Request</b>.class)?"},{"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"score":0,"creation_date":1498830359,"post_id":44842737,"comment_id":76676485,"body_markdown":"Yeah - BatchWriteItemRequest.class","body":"Yeah - BatchWriteItemRequest.class"},{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":0,"creation_date":1592927992,"post_id":44842737,"comment_id":110597899,"body_markdown":"Why does it matter that there are multiple methods? Can&#39;t it just say regardless of the specific method?","body":"Why does it matter that there are multiple methods? Can&#39;t it just say regardless of the specific method?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1592928735,"post_id":44842737,"comment_id":110598290,"body_markdown":"@Goldname `any` matches literally any type you pass as argument, where as `anyMapOf` is specifically matching `Map`s with the given key types and value types.","body":"@Goldname <code>any</code> matches literally any type you pass as argument, where as <code>anyMapOf</code> is specifically matching <code>Map</code>s with the given key types and value types."},{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":0,"creation_date":1592934524,"post_id":44842737,"comment_id":110601257,"body_markdown":"I mean, in Mockito&#39;s perspective, why does it care whether or not your argument matches multiple functions?","body":"I mean, in Mockito&#39;s perspective, why does it care whether or not your argument matches multiple functions?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1592934875,"post_id":44842737,"comment_id":110601434,"body_markdown":"@Goldname look at the method OP is calling: `.batchWriteItem(anyObject())`. Which one of the two methods `batchWriteItem(BatchWriteItemRequest request)` and `batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems)` should be mocked away? Mockito needs a way to tell which method to wire up.","body":"@Goldname look at the method OP is calling: <code>.batchWriteItem(anyObject())</code>. Which one of the two methods <code>batchWriteItem(BatchWriteItemRequest request)</code> and <code>batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems)</code> should be mocked away? Mockito needs a way to tell which method to wire up."},{"owner":{"account_id":6608852,"reputation":1803,"user_id":6458245,"accept_rate":59,"display_name":"JobHunter69"},"score":0,"creation_date":1592935374,"post_id":44842737,"comment_id":110601649,"body_markdown":"It would make more sense to me if Mockito would just mock both. It only makes sense that way that any() would tell mockito to mock whichever method that is matching the argument","body":"It would make more sense to me if Mockito would just mock both. It only makes sense that way that any() would tell mockito to mock whichever method that is matching the argument"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1593016218,"post_id":44842737,"comment_id":110634062,"body_markdown":"@Goldname It can&#39;t mock both, because those two methods might have completely different behaviour and side effects. Let&#39;s say method `a(SomeClass c)` calls some spied on component `Component` and method `a(SomeMap&lt;K,V&gt; m)` does not. It would be impossible to verify if `Component#someMethod` have actually been called, when it&#39;s not clear which one of those `a` methods is actually mocked. Remember, you mock *behaviour*, so it&#39;s important to know which method actually displays that exact behaviour. If the framework is not able to make such a distinction, it&#39;s useless.","body":"@Goldname It can&#39;t mock both, because those two methods might have completely different behaviour and side effects. Let&#39;s say method <code>a(SomeClass c)</code> calls some spied on component <code>Component</code> and method <code>a(SomeMap&lt;K,V&gt; m)</code> does not. It would be impossible to verify if <code>Component#someMethod</code> have actually been called, when it&#39;s not clear which one of those <code>a</code> methods is actually mocked. Remember, you mock <i>behaviour</i>, so it&#39;s important to know which method actually displays that exact behaviour. If the framework is not able to make such a distinction, it&#39;s useless."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1593016546,"post_id":44842737,"comment_id":110634237,"body_markdown":"@Goldname Although your suggestion with the generic `any()` might work. I can&#39;t verify it right now though.","body":"@Goldname Although your suggestion with the generic <code>any()</code> might work. I can&#39;t verify it right now though."},{"owner":{"account_id":2052322,"reputation":951,"user_id":1831032,"accept_rate":48,"display_name":"Sree"},"score":0,"creation_date":1611965136,"post_id":44842737,"comment_id":116628183,"body_markdown":"I tried `when(classAObj.build(anyMap(), any(ClassB.class))).thenReturn(&quot;test&quot;)` but I am getting null for `classAObj.build()` with in the method being tested.","body":"I tried <code>when(classAObj.build(anyMap(), any(ClassB.class))).thenReturn(&quot;test&quot;)</code> but I am getting null for <code>classAObj.build()</code> with in the method being tested."}],"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"comment_count":12,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1498813710,"creation_date":1498813710,"answer_id":44842737,"question_id":44842568,"body_markdown":"You have two methods with the same name and return type, each with one parameter. So `anyObject()` matches both of them. That&#39;s why you get the `batchWriteItem is ambiguous` message.\r\n\r\nYou could use `Mockito.any(Class&lt;T&gt; type)` and `Mockito.anyMapOf(Class&lt;K&gt; keyClazz, Class&lt;V&gt; valueClazz)` to distinguish between them.\r\n\r\nDocs for reference: [any](https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#any(java.lang.Class)), [anyMapOf](https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#anyMapOf(java.lang.Class,%20java.lang.Class))","title":"Mockito ambiguous method call","body":"<p>You have two methods with the same name and return type, each with one parameter. So <code>anyObject()</code> matches both of them. That's why you get the <code>batchWriteItem is ambiguous</code> message.</p>\n\n<p>You could use <code>Mockito.any(Class&lt;T&gt; type)</code> and <code>Mockito.anyMapOf(Class&lt;K&gt; keyClazz, Class&lt;V&gt; valueClazz)</code> to distinguish between them.</p>\n\n<p>Docs for reference: <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#any(java.lang.Class)\" rel=\"noreferrer\">any</a>, <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#anyMapOf(java.lang.Class,%20java.lang.Class)\" rel=\"noreferrer\">anyMapOf</a></p>\n"},{"comments":[{"owner":{"account_id":478441,"reputation":3062,"user_id":890537,"accept_rate":70,"display_name":"m02ph3u5"},"score":0,"creation_date":1578500462,"post_id":59649617,"comment_id":105461007,"body_markdown":"Please provide an example.","body":"Please provide an example."},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":0,"creation_date":1605837990,"post_id":59649617,"comment_id":114781811,"body_markdown":"Example:\n`when(myService).myFunction(isA(String[].class), isA(HashMap.class))`","body":"Example: <code>when(myService).myFunction(isA(String[].class), isA(HashMap.class))</code>"}],"tags":[],"owner":{"account_id":3752379,"reputation":29,"user_id":3119589,"display_name":"DinDin"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1578499312,"creation_date":1578499312,"answer_id":59649617,"question_id":44842568,"body_markdown":"For me, using `isA()` fixed the issue. \r\n\r\nDocs : [IsA][1]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#isA(java.lang.Class)","title":"Mockito ambiguous method call","body":"<p>For me, using <code>isA()</code> fixed the issue. </p>\n\n<p>Docs : <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/ArgumentMatchers.html#isA(java.lang.Class)\" rel=\"nofollow noreferrer\">IsA</a></p>\n"}],"owner":{"account_id":1032515,"reputation":1229,"user_id":1040546,"accept_rate":92,"display_name":"Bacon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25441,"favorite_count":0,"down_vote_count":4,"up_vote_count":21,"accepted_answer_id":44842737,"answer_count":2,"score":17,"last_activity_date":1680080520,"creation_date":1498813160,"question_id":44842568,"body_markdown":"I&#39;m trying to stub out a method call, e.g.\r\n\r\n    when(amazonDynamoDBClient.batchWriteItem(anyObject())).thenReturn(batchWriteItemResultMock);\r\n\r\nI get this error\r\n\r\n    Error:(198, 34) java: reference to batchWriteItem is ambiguous\r\n      both method batchWriteItem(com.amazonaws.services.dynamodbv2.model.BatchWriteItemRequest) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient and method batchWriteItem(java.util.Map&lt;java.lang.String,java.util.List&lt;com.amazonaws.services.dynamodbv2.model.WriteRequest&gt;&gt;) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient match\r\n\r\nI can&#39;t see how this is ambiguous - the method signatures are different, i.e.\r\n\r\n    public BatchWriteItemResult batchWriteItem(BatchWriteItemRequest request) {\r\n\r\nand\r\n\r\n    public BatchWriteItemResult batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems) {\r\n\r\nWhat am I doing wrong here?\r\n\r\n","title":"Mockito ambiguous method call","body":"<p>I'm trying to stub out a method call, e.g.</p>\n<pre><code>when(amazonDynamoDBClient.batchWriteItem(anyObject())).thenReturn(batchWriteItemResultMock);\n</code></pre>\n<p>I get this error</p>\n<pre><code>Error:(198, 34) java: reference to batchWriteItem is ambiguous\n  both method batchWriteItem(com.amazonaws.services.dynamodbv2.model.BatchWriteItemRequest) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient and method batchWriteItem(java.util.Map&lt;java.lang.String,java.util.List&lt;com.amazonaws.services.dynamodbv2.model.WriteRequest&gt;&gt;) in com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient match\n</code></pre>\n<p>I can't see how this is ambiguous - the method signatures are different, i.e.</p>\n<pre><code>public BatchWriteItemResult batchWriteItem(BatchWriteItemRequest request) {\n</code></pre>\n<p>and</p>\n<pre><code>public BatchWriteItemResult batchWriteItem(Map&lt;String, List&lt;WriteRequest&gt;&gt; requestItems) {\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","c++","algorithm"],"comments":[{"owner":{"account_id":6040,"reputation":181960,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"score":9,"creation_date":1274956451,"post_id":2920315,"comment_id":2972536,"body_markdown":"There aren&#39;t 2^n possible _combinations_. There are n! _permutations_. Plus, I don&#39;t understand the question. Are you simply trying to exclude a single permutation, `{3,2,1,4,6}`?","body":"There aren&#39;t 2^n possible <i>combinations</i>. There are n! <i>permutations</i>. Plus, I don&#39;t understand the question. Are you simply trying to exclude a single permutation, <code>{3,2,1,4,6}</code>?"},{"owner":{"display_name":"user466534"},"score":0,"creation_date":1274956565,"post_id":2920315,"comment_id":2972546,"body_markdown":"yes sorry n!   no  all permutation should be unique","body":"yes sorry n!   no  all permutation should be unique"},{"owner":{"account_id":1620381,"reputation":4191,"user_id":1497100,"accept_rate":54,"display_name":"Bryan Rayner"},"score":1,"creation_date":1456844857,"post_id":2920315,"comment_id":59127536,"body_markdown":"Could other language tags be added to this? Since this is an algorithm, it would be good to have multiple implementations in various languages.","body":"Could other language tags be added to this? Since this is an algorithm, it would be good to have multiple implementations in various languages."}],"answers":[{"tags":[],"owner":{"account_id":67440,"reputation":55592,"user_id":197368,"display_name":"reko_t"},"comment_count":0,"down_vote_count":2,"up_vote_count":30,"is_accepted":true,"score":28,"last_activity_date":1519467534,"creation_date":1274956798,"answer_id":2920347,"question_id":2920315,"body_markdown":"If you&#39;re using C++, you can use [`std::next_permutation`](http://en.cppreference.com/w/cpp/algorithm/next_permutation) from the `&lt;algorithm&gt;` header file:\r\n\r\n    int a[] = {3,4,6,2,1};\r\n    int size = sizeof(a)/sizeof(a[0]);\r\n    std::sort(a, a+size);\r\n    do {\r\n      // print a&#39;s elements\r\n    } while(std::next_permutation(a, a+size));\r\n\r\n","title":"Permutation of array","body":"<p>If you're using C++, you can use <a href=\"http://en.cppreference.com/w/cpp/algorithm/next_permutation\" rel=\"noreferrer\"><code>std::next_permutation</code></a> from the <code>&lt;algorithm&gt;</code> header file:</p>\n\n<pre><code>int a[] = {3,4,6,2,1};\nint size = sizeof(a)/sizeof(a[0]);\nstd::sort(a, a+size);\ndo {\n  // print a's elements\n} while(std::next_permutation(a, a+size));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":5,"creation_date":1274992214,"post_id":2920349,"comment_id":2977646,"body_markdown":"+1 please add the relevant code to your post though, in case the link ever goes down","body":"+1 please add the relevant code to your post though, in case the link ever goes down"},{"owner":{"account_id":3920836,"reputation":400,"user_id":3322074,"accept_rate":70,"display_name":"user124384"},"score":0,"creation_date":1443058242,"post_id":2920349,"comment_id":53344427,"body_markdown":"Thanks also for eliminating the line numbers. :P","body":"Thanks also for eliminating the line numbers. :P"},{"owner":{"account_id":11288802,"reputation":433,"user_id":8389762,"display_name":"pandey_shubham"},"score":0,"creation_date":1640803902,"post_id":2920349,"comment_id":124664352,"body_markdown":"And the link went down. :)","body":"And the link went down. :)"},{"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"score":0,"creation_date":1646064735,"post_id":2920349,"comment_id":126026685,"body_markdown":"@BlueRaja-DannyPflughoeft Nice catch, the link did go down","body":"@BlueRaja-DannyPflughoeft Nice catch, the link did go down"}],"tags":[],"owner":{"account_id":141293,"reputation":466,"user_id":348204,"display_name":"Mr.Expert"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1343721433,"creation_date":1274956815,"answer_id":2920349,"question_id":2920315,"body_markdown":"Here is an implementation of the Permutation in Java:\r\n\r\n[Permutation - Java][1]\r\n\r\n\r\n  [1]: http://cs.fit.edu/~ryan/java/programs/combinations/Permute-java.html\r\n\r\nYou should have a check on it!\r\n\r\nEdit: code pasted below to protect against link-death:\r\n\r\n    // Permute.java -- A class generating all permutations\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n    import java.lang.reflect.Array;\r\n    \r\n    public class Permute implements Iterator {\r\n    \r\n       private final int size;\r\n       private final Object [] elements;  // copy of original 0 .. size-1\r\n       private final Object ar;           // array for output,  0 .. size-1\r\n       private final int [] permutation;  // perm of nums 1..size, perm[0]=0\r\n    \r\n       private boolean next = true;\r\n    \r\n       // int[], double[] array won&#39;t work :-(\r\n       public Permute (Object [] e) {\r\n          size = e.length;\r\n          elements = new Object [size];    // not suitable for primitives\r\n          System.arraycopy (e, 0, elements, 0, size);\r\n          ar = Array.newInstance (e.getClass().getComponentType(), size);\r\n          System.arraycopy (e, 0, ar, 0, size);\r\n          permutation = new int [size+1];\r\n          for (int i=0; i&lt;size+1; i++) {\r\n             permutation [i]=i;\r\n          }\r\n       }\r\n          \r\n       private void formNextPermutation () {\r\n          for (int i=0; i&lt;size; i++) {\r\n             // i+1 because perm[0] always = 0\r\n             // perm[]-1 because the numbers 1..size are being permuted\r\n             Array.set (ar, i, elements[permutation[i+1]-1]);\r\n          }\r\n       }\r\n    \r\n       public boolean hasNext() {\r\n          return next;\r\n       }\r\n    \r\n       public void remove() throws UnsupportedOperationException {\r\n          throw new UnsupportedOperationException();\r\n       }\r\n    \r\n       private void swap (final int i, final int j) {\r\n          final int x = permutation[i];\r\n          permutation[i] = permutation [j];\r\n          permutation[j] = x;\r\n       }\r\n    \r\n       // does not throw NoSuchElement; it wraps around!\r\n       public Object next() throws NoSuchElementException {\r\n    \r\n          formNextPermutation ();  // copy original elements\r\n    \r\n          int i = size-1;\r\n          while (permutation[i]&gt;permutation[i+1]) i--;\r\n    \r\n          if (i==0) {\r\n             next = false;\r\n             for (int j=0; j&lt;size+1; j++) {\r\n                permutation [j]=j;\r\n             }\r\n             return ar;\r\n          }\r\n    \r\n          int j = size;\r\n          \r\n          while (permutation[i]&gt;permutation[j]) j--;\r\n          swap (i,j);\r\n          int r = size;\r\n          int s = i+1;\r\n          while (r&gt;s) { swap(r,s); r--; s++; }\r\n    \r\n          return ar;\r\n       }\r\n    \r\n       public String toString () {\r\n          final int n = Array.getLength(ar);\r\n          final StringBuffer sb = new StringBuffer (&quot;[&quot;);\r\n          for (int j=0; j&lt;n; j++) {\r\n             sb.append (Array.get(ar,j).toString());\r\n             if (j&lt;n-1) sb.append (&quot;,&quot;);\r\n          }\r\n          sb.append(&quot;]&quot;);\r\n          return new String (sb);\r\n       }\r\n    \r\n       public static void main (String [] args) {\r\n          for (Iterator i = new Permute(args); i.hasNext(); ) {\r\n             final String [] a = (String []) i.next();\r\n             System.out.println (i);\r\n          }\r\n       }\r\n    }","title":"Permutation of array","body":"<p>Here is an implementation of the Permutation in Java:</p>\n\n<p><a href=\"http://cs.fit.edu/~ryan/java/programs/combinations/Permute-java.html\" rel=\"noreferrer\">Permutation - Java</a></p>\n\n<p>You should have a check on it!</p>\n\n<p>Edit: code pasted below to protect against link-death:</p>\n\n<pre><code>// Permute.java -- A class generating all permutations\n\nimport java.util.Iterator;\nimport java.util.NoSuchElementException;\nimport java.lang.reflect.Array;\n\npublic class Permute implements Iterator {\n\n   private final int size;\n   private final Object [] elements;  // copy of original 0 .. size-1\n   private final Object ar;           // array for output,  0 .. size-1\n   private final int [] permutation;  // perm of nums 1..size, perm[0]=0\n\n   private boolean next = true;\n\n   // int[], double[] array won't work :-(\n   public Permute (Object [] e) {\n      size = e.length;\n      elements = new Object [size];    // not suitable for primitives\n      System.arraycopy (e, 0, elements, 0, size);\n      ar = Array.newInstance (e.getClass().getComponentType(), size);\n      System.arraycopy (e, 0, ar, 0, size);\n      permutation = new int [size+1];\n      for (int i=0; i&lt;size+1; i++) {\n         permutation [i]=i;\n      }\n   }\n\n   private void formNextPermutation () {\n      for (int i=0; i&lt;size; i++) {\n         // i+1 because perm[0] always = 0\n         // perm[]-1 because the numbers 1..size are being permuted\n         Array.set (ar, i, elements[permutation[i+1]-1]);\n      }\n   }\n\n   public boolean hasNext() {\n      return next;\n   }\n\n   public void remove() throws UnsupportedOperationException {\n      throw new UnsupportedOperationException();\n   }\n\n   private void swap (final int i, final int j) {\n      final int x = permutation[i];\n      permutation[i] = permutation [j];\n      permutation[j] = x;\n   }\n\n   // does not throw NoSuchElement; it wraps around!\n   public Object next() throws NoSuchElementException {\n\n      formNextPermutation ();  // copy original elements\n\n      int i = size-1;\n      while (permutation[i]&gt;permutation[i+1]) i--;\n\n      if (i==0) {\n         next = false;\n         for (int j=0; j&lt;size+1; j++) {\n            permutation [j]=j;\n         }\n         return ar;\n      }\n\n      int j = size;\n\n      while (permutation[i]&gt;permutation[j]) j--;\n      swap (i,j);\n      int r = size;\n      int s = i+1;\n      while (r&gt;s) { swap(r,s); r--; s++; }\n\n      return ar;\n   }\n\n   public String toString () {\n      final int n = Array.getLength(ar);\n      final StringBuffer sb = new StringBuffer (\"[\");\n      for (int j=0; j&lt;n; j++) {\n         sb.append (Array.get(ar,j).toString());\n         if (j&lt;n-1) sb.append (\",\");\n      }\n      sb.append(\"]\");\n      return new String (sb);\n   }\n\n   public static void main (String [] args) {\n      for (Iterator i = new Permute(args); i.hasNext(); ) {\n         final String [] a = (String []) i.next();\n         System.out.println (i);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47528,"reputation":7722,"user_id":140837,"accept_rate":72,"display_name":"amirouche"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348880818,"creation_date":1348880818,"answer_id":12649053,"question_id":2920315,"body_markdown":"This a 2-permutation for a list wrapped in an iterator\r\n\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    /* all permutations of two objects \r\n     * \r\n     * for ABC: AB AC BA BC CA CB\r\n     * \r\n     * */\r\n    public class ListPermutation&lt;T&gt; implements Iterator {\r\n    \r\n    \tint index = 0;\r\n    \tint current = 0;\r\n    \tList&lt;T&gt; list;\r\n    \t\r\n    \tpublic ListPermutation(List&lt;T&gt; e) {\r\n    \t\tlist = e;\r\n    \t}\r\n    \t\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn !(index == list.size() - 1 &amp;&amp; current == list.size() - 1);\r\n    \t}\r\n    \r\n    \tpublic List&lt;T&gt; next() {\r\n    \t\tif(current == index) {\r\n    \t\t\tcurrent++;\r\n    \t\t}\r\n    \t\tif (current == list.size()) {\r\n    \t\t\tcurrent = 0;\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\tList&lt;T&gt; output = new LinkedList&lt;T&gt;();\r\n    \t\toutput.add(list.get(index));\r\n    \t\toutput.add(list.get(current));\r\n    \t\tcurrent++;\r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tpublic void remove() {\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>This a 2-permutation for a list wrapped in an iterator</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\n\n/* all permutations of two objects \n * \n * for ABC: AB AC BA BC CA CB\n * \n * */\npublic class ListPermutation&lt;T&gt; implements Iterator {\n\n    int index = 0;\n    int current = 0;\n    List&lt;T&gt; list;\n\n    public ListPermutation(List&lt;T&gt; e) {\n        list = e;\n    }\n\n    public boolean hasNext() {\n        return !(index == list.size() - 1 &amp;&amp; current == list.size() - 1);\n    }\n\n    public List&lt;T&gt; next() {\n        if(current == index) {\n            current++;\n        }\n        if (current == list.size()) {\n            current = 0;\n            index++;\n        }\n        List&lt;T&gt; output = new LinkedList&lt;T&gt;();\n        output.add(list.get(index));\n        output.add(list.get(current));\n        current++;\n        return output;\n    }\n\n    public void remove() {\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1164039,"reputation":6835,"user_id":1143013,"accept_rate":77,"display_name":"raam86"},"score":1,"creation_date":1373234798,"post_id":14444037,"comment_id":25469567,"body_markdown":"Great Answer. Can you please explain why it&#39;s  *4!/(2!2!)=6* and not  *4!/(2!)=12*","body":"Great Answer. Can you please explain why it&#39;s  <i>4!/(2!2!)=6</i> and not  <i>4!/(2!)=12</i>"},{"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"score":2,"creation_date":1373419001,"post_id":14444037,"comment_id":25547388,"body_markdown":"First of all, I know that answer is 6 (from my [3,3,4,4] example). To derive the formula, think about [3,3,4,4] as two blue and two red balls. The question is how many ways to position balls (balls of the same color are the same). If you somehow position your balls, then interchanging of the blue balls (2! ways of doing that) or two red balls (2! ways of doing that) does not change anything. Now, we have 4! ways to place 4 balls, but permuting blue balls (2! ways) or red balls (2! ways) does not change positioning of the balls. So  you get 4!/(2!*2!) as final answer","body":"First of all, I know that answer is 6 (from my [3,3,4,4] example). To derive the formula, think about [3,3,4,4] as two blue and two red balls. The question is how many ways to position balls (balls of the same color are the same). If you somehow position your balls, then interchanging of the blue balls (2! ways of doing that) or two red balls (2! ways of doing that) does not change anything. Now, we have 4! ways to place 4 balls, but permuting blue balls (2! ways) or red balls (2! ways) does not change positioning of the balls. So  you get 4!/(2!*2!) as final answer"},{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":0,"creation_date":1439776796,"post_id":14444037,"comment_id":51983964,"body_markdown":"Time complexity of first algorithm is O(n*n!), is that right?","body":"Time complexity of first algorithm is O(n*n!), is that right?"},{"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"score":0,"creation_date":1460858805,"post_id":14444037,"comment_id":60935002,"body_markdown":"this is the fastest permutation algorithm i&#39;ve tried. good job","body":"this is the fastest permutation algorithm i&#39;ve tried. good job"},{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":0,"creation_date":1556116505,"post_id":14444037,"comment_id":98329847,"body_markdown":"I rarely like long explanations on SO, but this is an awesome exception. Thanks for explaining!","body":"I rarely like long explanations on SO, but this is an awesome exception. Thanks for explaining!"}],"tags":[],"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"comment_count":5,"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1439775995,"creation_date":1358789260,"answer_id":14444037,"question_id":2920315,"body_markdown":"Here is how you can print all permutations in 10 lines of code:\r\n\r\n\tpublic class Permute{\r\n\t\tstatic void permute(java.util.List&lt;Integer&gt; arr, int k){\r\n\t\t\tfor(int i = k; i &lt; arr.size(); i++){\r\n\t\t\t\tjava.util.Collections.swap(arr, i, k);\r\n\t\t\t\tpermute(arr, k+1);\r\n\t\t\t\tjava.util.Collections.swap(arr, k, i);\r\n\t\t\t}\r\n\t\t\tif (k == arr.size() -1){\r\n\t\t\t\tSystem.out.println(java.util.Arrays.toString(arr.toArray()));\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tPermute.permute(java.util.Arrays.asList(3,4,6,2,1), 0);\r\n\t\t}\r\n\t}\r\n\r\nYou take first element of an array (k=0) and exchange it with any element (i) of the array. Then you recursively apply permutation on array starting with second element. This way you get all permutations starting with i-th element. The tricky part is that after recursive call you must swap i-th element with first element back, otherwise you could get repeated values at the first spot. By swapping it back we restore order of elements (basically you do backtracking). \r\n\r\n**Iterators and Extension to the case of repeated values**\r\n\r\nThe drawback of previous algorithm is that it is recursive, and does not play nicely with iterators. Another issue is that if you allow repeated elements in your input, then it won&#39;t work as is.\r\n\r\nFor example, given input [3,3,4,4] all possible permutations (without repetitions) are \r\n\r\n\t[3, 3, 4, 4]\r\n\t[3, 4, 3, 4]\r\n\t[3, 4, 4, 3]\r\n\t[4, 3, 3, 4]\r\n\t[4, 3, 4, 3]\r\n\t[4, 4, 3, 3]\r\n\r\n(if you simply apply `permute` function from above you will get [3,3,4,4] four times, and this is not what you naturally want to see in this case; and the number of such permutations is 4!/(2!*2!)=6)\r\n\r\nIt is possible to modify the above algorithm to handle this case, but it won&#39;t look nice. Luckily, there is a better algorithm (I found it [here][1]) which handles repeated values and is not recursive. \r\n\r\nFirst note, that permutation of array of any objects can be reduced to permutations of integers by enumerating them in any order. \r\n\r\nTo get permutations of an integer array, you start with an array sorted in ascending order. You &#39;goal&#39; is to make it descending. To generate next permutation you are trying to find the first index from the bottom where sequence fails to be descending, and improves value in that index while switching order of the rest of the tail from descending to ascending in this case.\r\n\r\nHere is the core of the algorithm:\r\n\r\n    //ind is an array of integers\r\n    for(int tail = ind.length - 1;tail &gt; 0;tail--){\r\n        if (ind[tail - 1] &lt; ind[tail]){//still increasing\r\n\r\n            //find last element which does not exceed ind[tail-1]\r\n            int s = ind.length - 1;\r\n            while(ind[tail-1] &gt;= ind[s])\r\n                s--;\r\n\r\n            swap(ind, tail-1, s);\r\n\r\n            //reverse order of elements in the tail\r\n            for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\r\n                swap(ind, i, j);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\nHere is the full code of iterator. Constructor accepts an array of objects, and maps them into an array of integers using `HashMap`. \r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.*;\r\n    class Permutations&lt;E&gt; implements  Iterator&lt;E[]&gt;{\r\n\r\n        private E[] arr;\r\n        private int[] ind;\r\n        private boolean has_next;\r\n\r\n        public E[] output;//next() returns this array, make it public\r\n\r\n        Permutations(E[] arr){\r\n            this.arr = arr.clone();\r\n            ind = new int[arr.length];\r\n            //convert an array of any elements into array of integers - first occurrence is used to enumerate\r\n            Map&lt;E, Integer&gt; hm = new HashMap&lt;E, Integer&gt;();\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                Integer n = hm.get(arr[i]);\r\n                if (n == null){\r\n                    hm.put(arr[i], i);\r\n                    n = i;\r\n                }\r\n                ind[i] = n.intValue();\r\n            }\r\n            Arrays.sort(ind);//start with ascending sequence of integers\r\n\r\n\r\n            //output = new E[arr.length]; &lt;-- cannot do in Java with generics, so use reflection\r\n            output = (E[]) Array.newInstance(arr.getClass().getComponentType(), arr.length);\r\n            has_next = true;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return has_next;\r\n        }\r\n\r\n        /**\r\n         * Computes next permutations. Same array instance is returned every time!\r\n         * @return\r\n         */\r\n        public E[] next() {\r\n            if (!has_next)\r\n                throw new NoSuchElementException();\r\n\r\n            for(int i = 0; i &lt; ind.length; i++){\r\n                output[i] = arr[ind[i]];\r\n            }\r\n\r\n\r\n            //get next permutation\r\n            has_next = false;\r\n            for(int tail = ind.length - 1;tail &gt; 0;tail--){\r\n                if (ind[tail - 1] &lt; ind[tail]){//still increasing\r\n\r\n                    //find last element which does not exceed ind[tail-1]\r\n                    int s = ind.length - 1;\r\n                    while(ind[tail-1] &gt;= ind[s])\r\n                        s--;\r\n\r\n                    swap(ind, tail-1, s);\r\n\r\n                    //reverse order of elements in the tail\r\n                    for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\r\n                        swap(ind, i, j);\r\n                    }\r\n                    has_next = true;\r\n                    break;\r\n                }\r\n\r\n            }\r\n            return output;\r\n        }\r\n\r\n        private void swap(int[] arr, int i, int j){\r\n            int t = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = t;\r\n        }\r\n\r\n        public void remove() {\r\n\r\n        }\r\n    }\r\n\r\nUsage/test:\r\n\r\n        TCMath.Permutations&lt;Integer&gt; perm = new TCMath.Permutations&lt;Integer&gt;(new Integer[]{3,3,4,4,4,5,5});\r\n        int count = 0;\r\n        while(perm.hasNext()){\r\n            System.out.println(Arrays.toString(perm.next()));\r\n            count++;\r\n        }\r\n        System.out.println(&quot;total: &quot; + count);\r\n\r\nPrints out all `7!/(2!*3!*2!)=210` permutations.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://wordaligned.org/articles/next-permutation","title":"Permutation of array","body":"<p>Here is how you can print all permutations in 10 lines of code:</p>\n\n<pre><code>public class Permute{\n    static void permute(java.util.List&lt;Integer&gt; arr, int k){\n        for(int i = k; i &lt; arr.size(); i++){\n            java.util.Collections.swap(arr, i, k);\n            permute(arr, k+1);\n            java.util.Collections.swap(arr, k, i);\n        }\n        if (k == arr.size() -1){\n            System.out.println(java.util.Arrays.toString(arr.toArray()));\n        }\n    }\n    public static void main(String[] args){\n        Permute.permute(java.util.Arrays.asList(3,4,6,2,1), 0);\n    }\n}\n</code></pre>\n\n<p>You take first element of an array (k=0) and exchange it with any element (i) of the array. Then you recursively apply permutation on array starting with second element. This way you get all permutations starting with i-th element. The tricky part is that after recursive call you must swap i-th element with first element back, otherwise you could get repeated values at the first spot. By swapping it back we restore order of elements (basically you do backtracking). </p>\n\n<p><strong>Iterators and Extension to the case of repeated values</strong></p>\n\n<p>The drawback of previous algorithm is that it is recursive, and does not play nicely with iterators. Another issue is that if you allow repeated elements in your input, then it won't work as is.</p>\n\n<p>For example, given input [3,3,4,4] all possible permutations (without repetitions) are </p>\n\n<pre><code>[3, 3, 4, 4]\n[3, 4, 3, 4]\n[3, 4, 4, 3]\n[4, 3, 3, 4]\n[4, 3, 4, 3]\n[4, 4, 3, 3]\n</code></pre>\n\n<p>(if you simply apply <code>permute</code> function from above you will get [3,3,4,4] four times, and this is not what you naturally want to see in this case; and the number of such permutations is 4!/(2!*2!)=6)</p>\n\n<p>It is possible to modify the above algorithm to handle this case, but it won't look nice. Luckily, there is a better algorithm (I found it <a href=\"http://wordaligned.org/articles/next-permutation\">here</a>) which handles repeated values and is not recursive. </p>\n\n<p>First note, that permutation of array of any objects can be reduced to permutations of integers by enumerating them in any order. </p>\n\n<p>To get permutations of an integer array, you start with an array sorted in ascending order. You 'goal' is to make it descending. To generate next permutation you are trying to find the first index from the bottom where sequence fails to be descending, and improves value in that index while switching order of the rest of the tail from descending to ascending in this case.</p>\n\n<p>Here is the core of the algorithm:</p>\n\n<pre><code>//ind is an array of integers\nfor(int tail = ind.length - 1;tail &gt; 0;tail--){\n    if (ind[tail - 1] &lt; ind[tail]){//still increasing\n\n        //find last element which does not exceed ind[tail-1]\n        int s = ind.length - 1;\n        while(ind[tail-1] &gt;= ind[s])\n            s--;\n\n        swap(ind, tail-1, s);\n\n        //reverse order of elements in the tail\n        for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\n            swap(ind, i, j);\n        }\n        break;\n    }\n}\n</code></pre>\n\n<p>Here is the full code of iterator. Constructor accepts an array of objects, and maps them into an array of integers using <code>HashMap</code>. </p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.util.*;\nclass Permutations&lt;E&gt; implements  Iterator&lt;E[]&gt;{\n\n    private E[] arr;\n    private int[] ind;\n    private boolean has_next;\n\n    public E[] output;//next() returns this array, make it public\n\n    Permutations(E[] arr){\n        this.arr = arr.clone();\n        ind = new int[arr.length];\n        //convert an array of any elements into array of integers - first occurrence is used to enumerate\n        Map&lt;E, Integer&gt; hm = new HashMap&lt;E, Integer&gt;();\n        for(int i = 0; i &lt; arr.length; i++){\n            Integer n = hm.get(arr[i]);\n            if (n == null){\n                hm.put(arr[i], i);\n                n = i;\n            }\n            ind[i] = n.intValue();\n        }\n        Arrays.sort(ind);//start with ascending sequence of integers\n\n\n        //output = new E[arr.length]; &lt;-- cannot do in Java with generics, so use reflection\n        output = (E[]) Array.newInstance(arr.getClass().getComponentType(), arr.length);\n        has_next = true;\n    }\n\n    public boolean hasNext() {\n        return has_next;\n    }\n\n    /**\n     * Computes next permutations. Same array instance is returned every time!\n     * @return\n     */\n    public E[] next() {\n        if (!has_next)\n            throw new NoSuchElementException();\n\n        for(int i = 0; i &lt; ind.length; i++){\n            output[i] = arr[ind[i]];\n        }\n\n\n        //get next permutation\n        has_next = false;\n        for(int tail = ind.length - 1;tail &gt; 0;tail--){\n            if (ind[tail - 1] &lt; ind[tail]){//still increasing\n\n                //find last element which does not exceed ind[tail-1]\n                int s = ind.length - 1;\n                while(ind[tail-1] &gt;= ind[s])\n                    s--;\n\n                swap(ind, tail-1, s);\n\n                //reverse order of elements in the tail\n                for(int i = tail, j = ind.length - 1; i &lt; j; i++, j--){\n                    swap(ind, i, j);\n                }\n                has_next = true;\n                break;\n            }\n\n        }\n        return output;\n    }\n\n    private void swap(int[] arr, int i, int j){\n        int t = arr[i];\n        arr[i] = arr[j];\n        arr[j] = t;\n    }\n\n    public void remove() {\n\n    }\n}\n</code></pre>\n\n<p>Usage/test:</p>\n\n<pre><code>    TCMath.Permutations&lt;Integer&gt; perm = new TCMath.Permutations&lt;Integer&gt;(new Integer[]{3,3,4,4,4,5,5});\n    int count = 0;\n    while(perm.hasNext()){\n        System.out.println(Arrays.toString(perm.next()));\n        count++;\n    }\n    System.out.println(\"total: \" + count);\n</code></pre>\n\n<p>Prints out all <code>7!/(2!*3!*2!)=210</code> permutations.</p>\n"},{"tags":[],"owner":{"account_id":1401759,"reputation":161,"user_id":1330400,"display_name":"zc22"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404451671,"creation_date":1404451671,"answer_id":24567236,"question_id":2920315,"body_markdown":"Visual representation of the 3-item recursive solution: \r\nhttp://www.docdroid.net/ea0s/generatepermutations.pdf.html\r\n\r\nBreakdown: \r\n\r\n 1. For a two-item array, there are two permutations:\r\n   - The original array, and\r\n   - The two elements swapped\r\n 2. For a three-item array, there are six permutations:\r\n   - The permutations of the bottom two elements, then\r\n   - Swap 1st and 2nd items, and the permutations of the bottom two element \r\n   - Swap 1st and 3rd items, and the permutations of the bottom two elements.\r\n   - Essentially, each of the items gets its chance at the first slot ","title":"Permutation of array","body":"<p>Visual representation of the 3-item recursive solution: \n<a href=\"http://www.docdroid.net/ea0s/generatepermutations.pdf.html\" rel=\"nofollow\">http://www.docdroid.net/ea0s/generatepermutations.pdf.html</a></p>\n\n<p>Breakdown: </p>\n\n<ol>\n<li>For a two-item array, there are two permutations:\n<ul>\n<li>The original array, and</li>\n<li>The two elements swapped</li>\n</ul></li>\n<li>For a three-item array, there are six permutations:\n<ul>\n<li>The permutations of the bottom two elements, then</li>\n<li>Swap 1st and 2nd items, and the permutations of the bottom two element </li>\n<li>Swap 1st and 3rd items, and the permutations of the bottom two elements.</li>\n<li>Essentially, each of the items gets its chance at the first slot </li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2312767,"reputation":172,"user_id":2030525,"display_name":"Void"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482941505,"creation_date":1457914112,"answer_id":35977549,"question_id":2920315,"body_markdown":"There are `n!` total permutations for the given array size `n`. Here is code written in Java using DFS.\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt; results = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        if (nums == null || nums.length == 0) {\r\n            return results;\r\n        }\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        dfs(nums, results, result);\r\n        return results;\r\n    }\r\n    \r\n    public void dfs(int[] nums, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; result) {\r\n        if (nums.length == result.size()) {\r\n            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(result);\r\n            results.add(temp);\r\n        }        \r\n        for (int i=0; i&lt;nums.length; i++) {\r\n            if (!result.contains(nums[i])) {\r\n                result.add(nums[i]);\r\n                dfs(nums, results, result);\r\n                result.remove(result.size() - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nFor input array [3,2,1,4,6], there are totally 5! = 120 possible permutations which are:\r\n\r\n    [[3,4,6,2,1],[3,4,6,1,2],[3,4,2,6,1],[3,4,2,1,6],[3,4,1,6,2],[3,4,1,2,6],[3,6,4,2,1],[3,6,4,1,2],[3,6,2,4,1],[3,6,2,1,4],[3,6,1,4,2],[3,6,1,2,4],[3,2,4,6,1],[3,2,4,1,6],[3,2,6,4,1],[3,2,6,1,4],[3,2,1,4,6],[3,2,1,6,4],[3,1,4,6,2],[3,1,4,2,6],[3,1,6,4,2],[3,1,6,2,4],[3,1,2,4,6],[3,1,2,6,4],[4,3,6,2,1],[4,3,6,1,2],[4,3,2,6,1],[4,3,2,1,6],[4,3,1,6,2],[4,3,1,2,6],[4,6,3,2,1],[4,6,3,1,2],[4,6,2,3,1],[4,6,2,1,3],[4,6,1,3,2],[4,6,1,2,3],[4,2,3,6,1],[4,2,3,1,6],[4,2,6,3,1],[4,2,6,1,3],[4,2,1,3,6],[4,2,1,6,3],[4,1,3,6,2],[4,1,3,2,6],[4,1,6,3,2],[4,1,6,2,3],[4,1,2,3,6],[4,1,2,6,3],[6,3,4,2,1],[6,3,4,1,2],[6,3,2,4,1],[6,3,2,1,4],[6,3,1,4,2],[6,3,1,2,4],[6,4,3,2,1],[6,4,3,1,2],[6,4,2,3,1],[6,4,2,1,3],[6,4,1,3,2],[6,4,1,2,3],[6,2,3,4,1],[6,2,3,1,4],[6,2,4,3,1],[6,2,4,1,3],[6,2,1,3,4],[6,2,1,4,3],[6,1,3,4,2],[6,1,3,2,4],[6,1,4,3,2],[6,1,4,2,3],[6,1,2,3,4],[6,1,2,4,3],[2,3,4,6,1],[2,3,4,1,6],[2,3,6,4,1],[2,3,6,1,4],[2,3,1,4,6],[2,3,1,6,4],[2,4,3,6,1],[2,4,3,1,6],[2,4,6,3,1],[2,4,6,1,3],[2,4,1,3,6],[2,4,1,6,3],[2,6,3,4,1],[2,6,3,1,4],[2,6,4,3,1],[2,6,4,1,3],[2,6,1,3,4],[2,6,1,4,3],[2,1,3,4,6],[2,1,3,6,4],[2,1,4,3,6],[2,1,4,6,3],[2,1,6,3,4],[2,1,6,4,3],[1,3,4,6,2],[1,3,4,2,6],[1,3,6,4,2],[1,3,6,2,4],[1,3,2,4,6],[1,3,2,6,4],[1,4,3,6,2],[1,4,3,2,6],[1,4,6,3,2],[1,4,6,2,3],[1,4,2,3,6],[1,4,2,6,3],[1,6,3,4,2],[1,6,3,2,4],[1,6,4,3,2],[1,6,4,2,3],[1,6,2,3,4],[1,6,2,4,3],[1,2,3,4,6],[1,2,3,6,4],[1,2,4,3,6],[1,2,4,6,3],[1,2,6,3,4],[1,2,6,4,3]]\r\n\r\nHope this helps.\r\n","title":"Permutation of array","body":"<p>There are <code>n!</code> total permutations for the given array size <code>n</code>. Here is code written in Java using DFS.</p>\n\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; results = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    if (nums == null || nums.length == 0) {\n        return results;\n    }\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    dfs(nums, results, result);\n    return results;\n}\n\npublic void dfs(int[] nums, List&lt;List&lt;Integer&gt;&gt; results, List&lt;Integer&gt; result) {\n    if (nums.length == result.size()) {\n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(result);\n        results.add(temp);\n    }        \n    for (int i=0; i&lt;nums.length; i++) {\n        if (!result.contains(nums[i])) {\n            result.add(nums[i]);\n            dfs(nums, results, result);\n            result.remove(result.size() - 1);\n        }\n    }\n}\n</code></pre>\n\n<p>For input array [3,2,1,4,6], there are totally 5! = 120 possible permutations which are:</p>\n\n<pre><code>[[3,4,6,2,1],[3,4,6,1,2],[3,4,2,6,1],[3,4,2,1,6],[3,4,1,6,2],[3,4,1,2,6],[3,6,4,2,1],[3,6,4,1,2],[3,6,2,4,1],[3,6,2,1,4],[3,6,1,4,2],[3,6,1,2,4],[3,2,4,6,1],[3,2,4,1,6],[3,2,6,4,1],[3,2,6,1,4],[3,2,1,4,6],[3,2,1,6,4],[3,1,4,6,2],[3,1,4,2,6],[3,1,6,4,2],[3,1,6,2,4],[3,1,2,4,6],[3,1,2,6,4],[4,3,6,2,1],[4,3,6,1,2],[4,3,2,6,1],[4,3,2,1,6],[4,3,1,6,2],[4,3,1,2,6],[4,6,3,2,1],[4,6,3,1,2],[4,6,2,3,1],[4,6,2,1,3],[4,6,1,3,2],[4,6,1,2,3],[4,2,3,6,1],[4,2,3,1,6],[4,2,6,3,1],[4,2,6,1,3],[4,2,1,3,6],[4,2,1,6,3],[4,1,3,6,2],[4,1,3,2,6],[4,1,6,3,2],[4,1,6,2,3],[4,1,2,3,6],[4,1,2,6,3],[6,3,4,2,1],[6,3,4,1,2],[6,3,2,4,1],[6,3,2,1,4],[6,3,1,4,2],[6,3,1,2,4],[6,4,3,2,1],[6,4,3,1,2],[6,4,2,3,1],[6,4,2,1,3],[6,4,1,3,2],[6,4,1,2,3],[6,2,3,4,1],[6,2,3,1,4],[6,2,4,3,1],[6,2,4,1,3],[6,2,1,3,4],[6,2,1,4,3],[6,1,3,4,2],[6,1,3,2,4],[6,1,4,3,2],[6,1,4,2,3],[6,1,2,3,4],[6,1,2,4,3],[2,3,4,6,1],[2,3,4,1,6],[2,3,6,4,1],[2,3,6,1,4],[2,3,1,4,6],[2,3,1,6,4],[2,4,3,6,1],[2,4,3,1,6],[2,4,6,3,1],[2,4,6,1,3],[2,4,1,3,6],[2,4,1,6,3],[2,6,3,4,1],[2,6,3,1,4],[2,6,4,3,1],[2,6,4,1,3],[2,6,1,3,4],[2,6,1,4,3],[2,1,3,4,6],[2,1,3,6,4],[2,1,4,3,6],[2,1,4,6,3],[2,1,6,3,4],[2,1,6,4,3],[1,3,4,6,2],[1,3,4,2,6],[1,3,6,4,2],[1,3,6,2,4],[1,3,2,4,6],[1,3,2,6,4],[1,4,3,6,2],[1,4,3,2,6],[1,4,6,3,2],[1,4,6,2,3],[1,4,2,3,6],[1,4,2,6,3],[1,6,3,4,2],[1,6,3,2,4],[1,6,4,3,2],[1,6,4,2,3],[1,6,2,3,4],[1,6,2,4,3],[1,2,3,4,6],[1,2,3,6,4],[1,2,4,3,6],[1,2,4,6,3],[1,2,6,3,4],[1,2,6,4,3]]\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5523473,"reputation":1467,"user_id":4385714,"accept_rate":67,"display_name":"qtopierw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477052833,"creation_date":1477052833,"answer_id":40176683,"question_id":2920315,"body_markdown":"A simple java implementation, refer to c++ [`std::next_permutation`](https://stackoverflow.com/a/11483392/4385714):\r\n\r\n\r\n\r\n\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tint[] list = {1,2,3,4,5};\r\n\t\tList&lt;List&lt;Integer&gt;&gt; output = new Main().permute(list);\r\n\t\tfor(List result: output){\r\n\t\t\tSystem.out.println(result);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tint size = factorial(nums.length);\r\n\t\t\r\n      \t// add the original one to the list\r\n\t\tList&lt;Integer&gt; seq = new ArrayList&lt;Integer&gt;();\r\n\t\tfor(int a:nums){\r\n\t\t\tseq.add(a);\r\n\t\t}\r\n\t\tlist.add(seq);\r\n\t\t\r\n      \t// generate the next and next permutation and add them to list\r\n\t\tfor(int i = 0;i &lt; size - 1;i++){\r\n\t\t\tseq = new ArrayList&lt;Integer&gt;();\r\n\t\t\tnextPermutation(nums);\r\n\t\t\tfor(int a:nums){\r\n\t\t\t\tseq.add(a);\r\n\t\t\t}\r\n\t\t\tlist.add(seq);\r\n\t\t}\r\n\t\treturn list;\r\n    }\r\n\t\r\n\t\r\n\tint factorial(int n){\r\n\t\treturn (n==1)?1:n*factorial(n-1);\r\n\t}\r\n\t\r\n\tvoid nextPermutation(int[] nums){\r\n\t\tint i = nums.length -1;\t// start from the end\r\n\t\t\r\n\t\twhile(i &gt; 0 &amp;&amp; nums[i-1] &gt;= nums[i]){\r\n\t\t\ti--;\r\n\t\t}\r\n\t\t\r\n\t\tif(i==0){\r\n\t\t\treverse(nums,0,nums.length -1 );\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\t// found the first one not in order \r\n\t\t\tint j = i;\r\n\t\t\t\r\n\t\t\t// found just bigger one\r\n\t\t\twhile(j &lt; nums.length &amp;&amp; nums[j] &gt; nums[i-1]){\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\t//swap(nums[i-1],nums[j-1]);\r\n\t\t\tint tmp = nums[i-1];\r\n\t\t\tnums[i-1] = nums[j-1];\r\n\t\t\tnums[j-1] = tmp;\r\n\t\t\treverse(nums,i,nums.length-1);\t\r\n\t\t}\r\n\t}\r\n\t\r\n  \t// reverse the sequence\r\n\tvoid reverse(int[] arr,int start, int end){\r\n\t\tint tmp;\r\n\t\tfor(int i = 0; i &lt;= (end - start)/2; i++ ){\r\n\t\t\ttmp = arr[start + i];\r\n\t\t\tarr[start + i] = arr[end - i];\r\n\t\t\tarr[end - i ] = tmp;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Permutation of array","body":"<p>A simple java implementation, refer to c++ <a href=\"https://stackoverflow.com/a/11483392/4385714\"><code>std::next_permutation</code></a>:</p>\n\n<pre><code>public static void main(String[] args){\n    int[] list = {1,2,3,4,5};\n    List&lt;List&lt;Integer&gt;&gt; output = new Main().permute(list);\n    for(List result: output){\n        System.out.println(result);\n    }\n\n}\n\npublic List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int size = factorial(nums.length);\n\n    // add the original one to the list\n    List&lt;Integer&gt; seq = new ArrayList&lt;Integer&gt;();\n    for(int a:nums){\n        seq.add(a);\n    }\n    list.add(seq);\n\n    // generate the next and next permutation and add them to list\n    for(int i = 0;i &lt; size - 1;i++){\n        seq = new ArrayList&lt;Integer&gt;();\n        nextPermutation(nums);\n        for(int a:nums){\n            seq.add(a);\n        }\n        list.add(seq);\n    }\n    return list;\n}\n\n\nint factorial(int n){\n    return (n==1)?1:n*factorial(n-1);\n}\n\nvoid nextPermutation(int[] nums){\n    int i = nums.length -1; // start from the end\n\n    while(i &gt; 0 &amp;&amp; nums[i-1] &gt;= nums[i]){\n        i--;\n    }\n\n    if(i==0){\n        reverse(nums,0,nums.length -1 );\n    }else{\n\n        // found the first one not in order \n        int j = i;\n\n        // found just bigger one\n        while(j &lt; nums.length &amp;&amp; nums[j] &gt; nums[i-1]){\n            j++;\n        }\n        //swap(nums[i-1],nums[j-1]);\n        int tmp = nums[i-1];\n        nums[i-1] = nums[j-1];\n        nums[j-1] = tmp;\n        reverse(nums,i,nums.length-1);  \n    }\n}\n\n// reverse the sequence\nvoid reverse(int[] arr,int start, int end){\n    int tmp;\n    for(int i = 0; i &lt;= (end - start)/2; i++ ){\n        tmp = arr[start + i];\n        arr[start + i] = arr[end - i];\n        arr[end - i ] = tmp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":902667,"reputation":30486,"user_id":938380,"accept_rate":82,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502016983,"creation_date":1502016983,"answer_id":45531278,"question_id":2920315,"body_markdown":"Example with primitive array:\r\n\r\n    public static void permute(int[] intArray, int start) {\r\n        for(int i = start; i &lt; intArray.length; i++){\r\n            int temp = intArray[start];\r\n            intArray[start] = intArray[i];\r\n            intArray[i] = temp;\r\n            permute(intArray, start + 1);\r\n            intArray[i] = intArray[start];\r\n            intArray[start] = temp;\r\n        }\r\n        if (start == intArray.length - 1) {\r\n            System.out.println(java.util.Arrays.toString(intArray));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        int intArr[] = {1, 2, 3};\r\n        permute(intArr, 0);\r\n    }","title":"Permutation of array","body":"<p>Example with primitive array:</p>\n\n<pre><code>public static void permute(int[] intArray, int start) {\n    for(int i = start; i &lt; intArray.length; i++){\n        int temp = intArray[start];\n        intArray[start] = intArray[i];\n        intArray[i] = temp;\n        permute(intArray, start + 1);\n        intArray[i] = intArray[start];\n        intArray[start] = temp;\n    }\n    if (start == intArray.length - 1) {\n        System.out.println(java.util.Arrays.toString(intArray));\n    }\n}\n\npublic static void main(String[] args){\n    int intArr[] = {1, 2, 3};\n    permute(intArr, 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9527597,"reputation":141,"user_id":7080738,"accept_rate":60,"display_name":"Abhishek Sahay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534447817,"creation_date":1519466746,"answer_id":48961596,"question_id":2920315,"body_markdown":"Do like this...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class rohit {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\r\n    \t\tArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\r\n    \t\tb.add(1);\r\n    \t\tb.add(2);\r\n    \t\tb.add(3);\r\n    \t\tpermu(a,b);\r\n    \t}\r\n    \t\r\n    \tpublic static void permu(ArrayList&lt;Integer&gt; prefix,ArrayList&lt;Integer&gt; value) {\r\n    \t\tif(value.size()==0) {\r\n    \t\t\tSystem.out.println(prefix);\r\n    \t\t} else {\r\n    \t\t\tfor(int i=0;i&lt;value.size();i++) {\r\n    \t\t\t\tArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\ta.addAll(prefix);\r\n    \t\t\t\ta.add(value.get(i));\r\n    \t\t\t\t\r\n    \t\t\t\tArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\r\n    \t\t\t\t\r\n    \t\t\t\tb.addAll(value.subList(0, i));\r\n    \t\t\t\tb.addAll(value.subList(i+1, value.size()));\r\n    \t\t\t\t\r\n    \t\t\t\tpermu(a,b);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>Do like this...</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class rohit {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\n        b.add(1);\n        b.add(2);\n        b.add(3);\n        permu(a,b);\n    }\n\n    public static void permu(ArrayList&lt;Integer&gt; prefix,ArrayList&lt;Integer&gt; value) {\n        if(value.size()==0) {\n            System.out.println(prefix);\n        } else {\n            for(int i=0;i&lt;value.size();i++) {\n                ArrayList&lt;Integer&gt; a=new ArrayList&lt;Integer&gt;();\n                a.addAll(prefix);\n                a.add(value.get(i));\n\n                ArrayList&lt;Integer&gt; b=new ArrayList&lt;Integer&gt;();\n\n                b.addAll(value.subList(0, i));\n                b.addAll(value.subList(i+1, value.size()));\n\n                permu(a,b);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539458736,"creation_date":1539458736,"answer_id":52796504,"question_id":2920315,"body_markdown":"Implementation via recursion (dynamic programming), in **Java,** with test case (***TestNG***).\r\n\r\n---\r\nCode\r\n---\r\n\r\n**PrintPermutation.java**\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * Print permutation of n elements.\r\n     * \r\n     * @author eric\r\n     * @date Oct 13, 2018 12:28:10 PM\r\n     */\r\n    public class PrintPermutation {\r\n        /**\r\n         * Print permutation of array elements.\r\n         * \r\n         * @param arr\r\n         * @return count of permutation,\r\n         */\r\n        public static int permutation(int arr[]) {\r\n            return permutation(arr, 0);\r\n        }\r\n    \r\n        /**\r\n         * Print permutation of part of array elements.\r\n         * \r\n         * @param arr\r\n         * @param n\r\n         *            start index in array,\r\n         * @return count of permutation,\r\n         */\r\n        private static int permutation(int arr[], int n) {\r\n            int counter = 0;\r\n            for (int i = n; i &lt; arr.length; i++) {\r\n                swapArrEle(arr, i, n);\r\n                counter += permutation(arr, n + 1);\r\n                swapArrEle(arr, n, i);\r\n            }\r\n            if (n == arr.length - 1) {\r\n                counter++;\r\n                System.out.println(Arrays.toString(arr));\r\n            }\r\n    \r\n            return counter;\r\n        }\r\n    \r\n        /**\r\n         * swap 2 elements in array,\r\n         * \r\n         * @param arr\r\n         * @param i\r\n         * @param k\r\n         */\r\n        private static void swapArrEle(int arr[], int i, int k) {\r\n            int tmp = arr[i];\r\n            arr[i] = arr[k];\r\n            arr[k] = tmp;\r\n        }\r\n    }\r\n\r\n**PrintPermutationTest.java** *(test case via `TestNG)`*\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    /**\r\n     * PrintPermutation test.\r\n     * \r\n     * @author eric\r\n     * @date Oct 14, 2018 3:02:23 AM\r\n     */\r\n    public class PrintPermutationTest {\r\n        @Test\r\n        public void test() {\r\n            int arr[] = new int[] { 0, 1, 2, 3 };\r\n            Assert.assertEquals(PrintPermutation.permutation(arr), 24);\r\n    \r\n            int arrSingle[] = new int[] { 0 };\r\n            Assert.assertEquals(PrintPermutation.permutation(arrSingle), 1);\r\n    \r\n            int arrEmpty[] = new int[] {};\r\n            Assert.assertEquals(PrintPermutation.permutation(arrEmpty), 0);\r\n        }\r\n    }\r\n","title":"Permutation of array","body":"<p>Implementation via recursion (dynamic programming), in <strong>Java,</strong> with test case (<strong><em>TestNG</em></strong>).</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><strong>PrintPermutation.java</strong></p>\n\n<pre><code>import java.util.Arrays;\n\n/**\n * Print permutation of n elements.\n * \n * @author eric\n * @date Oct 13, 2018 12:28:10 PM\n */\npublic class PrintPermutation {\n    /**\n     * Print permutation of array elements.\n     * \n     * @param arr\n     * @return count of permutation,\n     */\n    public static int permutation(int arr[]) {\n        return permutation(arr, 0);\n    }\n\n    /**\n     * Print permutation of part of array elements.\n     * \n     * @param arr\n     * @param n\n     *            start index in array,\n     * @return count of permutation,\n     */\n    private static int permutation(int arr[], int n) {\n        int counter = 0;\n        for (int i = n; i &lt; arr.length; i++) {\n            swapArrEle(arr, i, n);\n            counter += permutation(arr, n + 1);\n            swapArrEle(arr, n, i);\n        }\n        if (n == arr.length - 1) {\n            counter++;\n            System.out.println(Arrays.toString(arr));\n        }\n\n        return counter;\n    }\n\n    /**\n     * swap 2 elements in array,\n     * \n     * @param arr\n     * @param i\n     * @param k\n     */\n    private static void swapArrEle(int arr[], int i, int k) {\n        int tmp = arr[i];\n        arr[i] = arr[k];\n        arr[k] = tmp;\n    }\n}\n</code></pre>\n\n<p><strong>PrintPermutationTest.java</strong> <em>(test case via <code>TestNG)</code></em></p>\n\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\n/**\n * PrintPermutation test.\n * \n * @author eric\n * @date Oct 14, 2018 3:02:23 AM\n */\npublic class PrintPermutationTest {\n    @Test\n    public void test() {\n        int arr[] = new int[] { 0, 1, 2, 3 };\n        Assert.assertEquals(PrintPermutation.permutation(arr), 24);\n\n        int arrSingle[] = new int[] { 0 };\n        Assert.assertEquals(PrintPermutation.permutation(arrSingle), 1);\n\n        int arrEmpty[] = new int[] {};\n        Assert.assertEquals(PrintPermutation.permutation(arrEmpty), 0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4121965,"reputation":643,"user_id":3861538,"display_name":"Moshiour"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1547967568,"creation_date":1547966364,"answer_id":54274197,"question_id":2920315,"body_markdown":"According to wiki https://en.wikipedia.org/wiki/Heap%27s_algorithm\r\n\r\nHeap&#39;s algorithm generates all possible permutations of n objects. It was first proposed by B. R. Heap in 1963. The algorithm minimizes movement: it generates each permutation from the previous one by interchanging a single pair of elements; the other n−2 elements are not disturbed. **In a 1977 review of permutation-generating algorithms, Robert Sedgewick concluded that it was at that time the most effective algorithm for generating permutations by computer.**\r\n\r\nSo if we want to do it in recursive manner, Sudo code is bellow.\r\n\r\n\r\n    procedure generate(n : integer, A : array of any):\r\n        if n = 1 then\r\n              output(A)\r\n        else\r\n            for i := 0; i &lt; n - 1; i += 1 do\r\n                generate(n - 1, A)\r\n                if n is even then\r\n                    swap(A[i], A[n-1])\r\n                else\r\n                    swap(A[0], A[n-1])\r\n                end if\r\n            end for\r\n            generate(n - 1, A)\r\n        end if\r\n\r\njava code:\r\n\r\n    public static void printAllPermutations(\r\n            int n, int[] elements, char delimiter) {\r\n        if (n == 1) {\r\n            printArray(elements, delimiter);\r\n        } else {\r\n            for (int i = 0; i &lt; n - 1; i++) {\r\n                printAllPermutations(n - 1, elements, delimiter);\r\n                if (n % 2 == 0) {\r\n                    swap(elements, i, n - 1);\r\n                } else {\r\n                    swap(elements, 0, n - 1);\r\n                }\r\n            }\r\n            printAllPermutations(n - 1, elements, delimiter);\r\n        }\r\n    }\r\n\r\n    private static void printArray(int[] input, char delimiter) {\r\n        int i = 0;\r\n        for (; i &lt; input.length; i++) {\r\n            System.out.print(input[i]);\r\n        }\r\n        System.out.print(delimiter);\r\n    }\r\n\r\n    private static void swap(int[] input, int a, int b) {\r\n        int tmp = input[a];\r\n        input[a] = input[b];\r\n        input[b] = tmp;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = new int[]{0,1,2,3};\r\n        printAllPermutations(input.length, input, &#39;,&#39;);\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>According to wiki <a href=\"https://en.wikipedia.org/wiki/Heap%27s_algorithm\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Heap%27s_algorithm</a></p>\n\n<p>Heap's algorithm generates all possible permutations of n objects. It was first proposed by B. R. Heap in 1963. The algorithm minimizes movement: it generates each permutation from the previous one by interchanging a single pair of elements; the other n−2 elements are not disturbed. <strong>In a 1977 review of permutation-generating algorithms, Robert Sedgewick concluded that it was at that time the most effective algorithm for generating permutations by computer.</strong></p>\n\n<p>So if we want to do it in recursive manner, Sudo code is bellow.</p>\n\n<pre><code>procedure generate(n : integer, A : array of any):\n    if n = 1 then\n          output(A)\n    else\n        for i := 0; i &lt; n - 1; i += 1 do\n            generate(n - 1, A)\n            if n is even then\n                swap(A[i], A[n-1])\n            else\n                swap(A[0], A[n-1])\n            end if\n        end for\n        generate(n - 1, A)\n    end if\n</code></pre>\n\n<p>java code:</p>\n\n<pre><code>public static void printAllPermutations(\n        int n, int[] elements, char delimiter) {\n    if (n == 1) {\n        printArray(elements, delimiter);\n    } else {\n        for (int i = 0; i &lt; n - 1; i++) {\n            printAllPermutations(n - 1, elements, delimiter);\n            if (n % 2 == 0) {\n                swap(elements, i, n - 1);\n            } else {\n                swap(elements, 0, n - 1);\n            }\n        }\n        printAllPermutations(n - 1, elements, delimiter);\n    }\n}\n\nprivate static void printArray(int[] input, char delimiter) {\n    int i = 0;\n    for (; i &lt; input.length; i++) {\n        System.out.print(input[i]);\n    }\n    System.out.print(delimiter);\n}\n\nprivate static void swap(int[] input, int a, int b) {\n    int tmp = input[a];\n    input[a] = input[b];\n    input[b] = tmp;\n}\n\npublic static void main(String[] args) {\n    int[] input = new int[]{0,1,2,3};\n    printAllPermutations(input.length, input, ',');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5685370,"reputation":306,"user_id":4495107,"display_name":"Sergei Dubinin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609346534,"creation_date":1609346534,"answer_id":65510451,"question_id":2920315,"body_markdown":"Here is one using arrays and Java 8+\r\n\r\n    import java.util.Arrays;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = {1, 2, 3, 5};\r\n            permutation(arr, new int[]{});\r\n        }\r\n    \r\n        static void permutation(int[] arr, int[] prefix) {\r\n            if (arr.length == 0) {\r\n                System.out.println(Arrays.toString(prefix));\r\n            }\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                int i2 = i;\r\n                int[] pre = IntStream.concat(Arrays.stream(prefix), IntStream.of(arr[i])).toArray();\r\n                int[] post = IntStream.range(0, arr.length).filter(i1 -&gt; i1 != i2).map(v -&gt; arr[v]).toArray();\r\n                permutation(post, pre);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Permutation of array","body":"<p>Here is one using arrays and Java 8+</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.IntStream;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        int[] arr = {1, 2, 3, 5};\n        permutation(arr, new int[]{});\n    }\n\n    static void permutation(int[] arr, int[] prefix) {\n        if (arr.length == 0) {\n            System.out.println(Arrays.toString(prefix));\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            int i2 = i;\n            int[] pre = IntStream.concat(Arrays.stream(prefix), IntStream.of(arr[i])).toArray();\n            int[] post = IntStream.range(0, arr.length).filter(i1 -&gt; i1 != i2).map(v -&gt; arr[v]).toArray();\n            permutation(post, pre);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2423074,"reputation":2786,"user_id":2115619,"accept_rate":80,"display_name":"Mihail Malostanidis"},"score":0,"creation_date":1637354453,"post_id":69452695,"comment_id":123813153,"body_markdown":"They asked for *permutations* of `N` out of `N` (how many unique ways can they be rearranged?) (Usually, this ignores equality checking, assuming all values are &quot;unique&quot;). You provided indeed *combinations* of `1..=N` out of `N`, preserving order. Two completely different words, two completely different problems.","body":"They asked for <i>permutations</i> of <code>N</code> out of <code>N</code> (how many unique ways can they be rearranged?) (Usually, this ignores equality checking, assuming all values are &quot;unique&quot;). You provided indeed <i>combinations</i> of <code>1..=N</code> out of <code>N</code>, preserving order. Two completely different words, two completely different problems."},{"owner":{"account_id":13170442,"reputation":11,"user_id":9513043,"display_name":"Aseem A. S."},"score":0,"creation_date":1680241775,"post_id":69452695,"comment_id":133868013,"body_markdown":"I don&#39;t think the question was asked quite clearly, and that you read the question carefully. It mentions &quot;I know that if the length of the array is n then there are n! possible combinations. How can this algorithm be written?&quot; My guess is that the behold questioner wanted one, got two.","body":"I don&#39;t think the question was asked quite clearly, and that you read the question carefully. It mentions &quot;I know that if the length of the array is n then there are n! possible combinations. How can this algorithm be written?&quot; My guess is that the behold questioner wanted one, got two."}],"tags":[],"owner":{"account_id":13170442,"reputation":11,"user_id":9513043,"display_name":"Aseem A. S."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633445524,"creation_date":1633445524,"answer_id":69452695,"question_id":2920315,"body_markdown":"Instead of *permutations*, we can preferably call them ***combinations***.\r\n\r\nIrrespective of the coding language, we can use a simple approach,\r\n`To append the array elements to the already existing list of combinations` thus, using the `dynamic programming` approach.\r\n\r\nThis code focuses on those combinations **without adjacency** as well.\r\n\r\n```\r\n#include &lt;iostream&gt;\r\n#include &lt;vector&gt;\r\nusing namespace std;\r\n\r\ntemplate &lt;class myIterator, class T&gt;\r\nmyIterator findDigit(myIterator first, myIterator last, T val)\r\n{\r\n    while(first != last) {\r\n        if(*first == val) { break; }\r\n        first++;\r\n    }\r\n    return first;\r\n}\r\n\r\nvoid printCombinations(vector&lt;vector&lt;int&gt;&gt; combinations)\r\n{\r\n    cout &lt;&lt; &quot;printing all &quot; &lt;&lt; combinations.size() &lt;&lt; &quot; combinations&quot; &lt;&lt; endl;\r\n    for(int i=0; i&lt;combinations.size(); i++) {\r\n        cout &lt;&lt; &quot;[&quot;;\r\n        for(int j=0; j&lt;combinations[i].size(); j++) {\r\n            cout &lt;&lt; &quot; &quot; &lt;&lt; combinations[i][j] &lt;&lt; &quot; &quot;;\r\n        }\r\n        cout &lt;&lt; &quot;] , &quot;;\r\n    }\r\n    return;\r\n}\r\n\r\nint main()\r\n{\r\n    vector&lt;int&gt; a = {1,2,3,4,5};\r\n    vector&lt;vector&lt;int&gt;&gt; comb;\r\n    vector&lt;int&gt; t;\r\n    int len=a.size();\r\n\r\n    for(int i=0; i&lt;len; i++) {\r\n        t.push_back(a.at(i));\r\n        comb.push_back(t);\r\n        t.clear();\r\n    }\r\n\r\n    for(int l=1; l&lt;len; l++) {\r\n        for(int j=0; j&lt;comb.size(); j++) {\r\n            if(comb[j].size()==l) {\r\n                int t = comb[j].back();\r\n                if(t != a.back()) {\r\n                    vector&lt;int&gt;::iterator it = findDigit(a.begin(), a.end(), t);\r\n                    for(std::vector&lt;int&gt;::iterator k=it+1; k!=a.end();k++) {\r\n                        vector&lt;int&gt; t (comb[j].begin(), comb[j].end());\r\n                        t.push_back(*k);\r\n                        comb.push_back(t);\r\n                        t.clear();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    printCombinations(comb);\r\n    return 0;\r\n}\r\n```\r\n\r\nAlthough the complexity is a bit high, it&#39;s definitely lower than the recursion approach, especially when the array size is very large.\r\n\r\nOutput for the above array (or vecter, if you will) is :\r\n```\r\nprinting all 31 combinations\r\n[ 1 ], [ 2 ], [ 3 ], [ 4 ], [ 5 ], [ 1  2 ], [ 1  3 ], [ 1  4 ], [ 1  5 ], [ 2  3 ], [ 2  4 ], [ 2  5 ], [ 3  4 ], [ 3  5 ], [ 4  5 ], [ 1 \r\n 2  3 ], [ 1  2  4 ], [ 1  2  5 ], [ 1  3  4 ], [ 1  3  5 ], [ 1  4  5 ], [ 2  3  4 ], [ 2  3  5 ], [ 2  4  5 ], [ 3  4  5 ], [ 1  2  3  4 \r\n], [ 1  2  3  5 ], [ 1  2  4  5 ], [ 1  3  4  5 ], [ 2  3  4  5 ], [ 1  2  3  4  5 ],\r\n```\r\nThe code can be used for characters and strings as well, by just replacing the datatype wherever required.\r\n\r\neg.\r\n```\r\nvector&lt;char&gt; a = {&#39;d&#39;,&#39;g&#39;,&#39;y&#39;,&#39;u&#39;,&#39;t&#39;};\r\n```\r\nTo give\r\n```\r\nprinting all 31 combinations\r\n[ d ] , [ g ] , [ y ] , [ u ] , [ t ] , [ d  g ] , [ d  y ] , [ d  u ] , [ d  t ] , [ g  y ] , [ g  u ] , [ g  t ] , [ y  u ] , [ y  t ] , \r\n[ u  t ] , [ d  g  y ] , [ d  g  u ] , [ d  g  t ] , [ d  y  u ] , [ d  y  t ] , [ d  u  t ] , [ g  y  u ] , [ g  y  t ] , [ g  u  t ] , [ \r\ny  u  t ] , [ d  g  y  u ] , [ d  g  y  t ] , [ d  g  u  t ] , [ d  y  u  t ] , [ g  y  u  t ] , [ d  g  y  u  t ] ,\r\n```\r\nand\r\n```\r\nvector&lt;string&gt; a = {&quot;asdf&quot;,&quot;myfl&quot;, &quot;itshot&quot;, &quot;holy&quot;};\r\n```\r\nto give\r\n```\r\nprinting all 15 combinations\r\n[ asdf ] , [ myfl ] , [ itshot ] , [ holy ] , [ asdf  myfl ] , [ asdf  itshot ] , [ asdf  holy ] , [ myfl  itshot ] , [ myfl  holy ] , [ itshot  holy ] , [ asdf  myfl  itshot ] , [ asdf  myfl  holy ] , [ asdf  itshot  holy ] , [ myfl  itshot  holy ] , [ asdf  myfl  itshot  holy ] ,\r\n```","title":"Permutation of array","body":"<p>Instead of <em>permutations</em>, we can preferably call them <em><strong>combinations</strong></em>.</p>\n<p>Irrespective of the coding language, we can use a simple approach,\n<code>To append the array elements to the already existing list of combinations</code> thus, using the <code>dynamic programming</code> approach.</p>\n<p>This code focuses on those combinations <strong>without adjacency</strong> as well.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\ntemplate &lt;class myIterator, class T&gt;\nmyIterator findDigit(myIterator first, myIterator last, T val)\n{\n    while(first != last) {\n        if(*first == val) { break; }\n        first++;\n    }\n    return first;\n}\n\nvoid printCombinations(vector&lt;vector&lt;int&gt;&gt; combinations)\n{\n    cout &lt;&lt; &quot;printing all &quot; &lt;&lt; combinations.size() &lt;&lt; &quot; combinations&quot; &lt;&lt; endl;\n    for(int i=0; i&lt;combinations.size(); i++) {\n        cout &lt;&lt; &quot;[&quot;;\n        for(int j=0; j&lt;combinations[i].size(); j++) {\n            cout &lt;&lt; &quot; &quot; &lt;&lt; combinations[i][j] &lt;&lt; &quot; &quot;;\n        }\n        cout &lt;&lt; &quot;] , &quot;;\n    }\n    return;\n}\n\nint main()\n{\n    vector&lt;int&gt; a = {1,2,3,4,5};\n    vector&lt;vector&lt;int&gt;&gt; comb;\n    vector&lt;int&gt; t;\n    int len=a.size();\n\n    for(int i=0; i&lt;len; i++) {\n        t.push_back(a.at(i));\n        comb.push_back(t);\n        t.clear();\n    }\n\n    for(int l=1; l&lt;len; l++) {\n        for(int j=0; j&lt;comb.size(); j++) {\n            if(comb[j].size()==l) {\n                int t = comb[j].back();\n                if(t != a.back()) {\n                    vector&lt;int&gt;::iterator it = findDigit(a.begin(), a.end(), t);\n                    for(std::vector&lt;int&gt;::iterator k=it+1; k!=a.end();k++) {\n                        vector&lt;int&gt; t (comb[j].begin(), comb[j].end());\n                        t.push_back(*k);\n                        comb.push_back(t);\n                        t.clear();\n                    }\n                }\n            }\n        }\n    }\n\n    printCombinations(comb);\n    return 0;\n}\n</code></pre>\n<p>Although the complexity is a bit high, it's definitely lower than the recursion approach, especially when the array size is very large.</p>\n<p>Output for the above array (or vecter, if you will) is :</p>\n<pre><code>printing all 31 combinations\n[ 1 ], [ 2 ], [ 3 ], [ 4 ], [ 5 ], [ 1  2 ], [ 1  3 ], [ 1  4 ], [ 1  5 ], [ 2  3 ], [ 2  4 ], [ 2  5 ], [ 3  4 ], [ 3  5 ], [ 4  5 ], [ 1 \n 2  3 ], [ 1  2  4 ], [ 1  2  5 ], [ 1  3  4 ], [ 1  3  5 ], [ 1  4  5 ], [ 2  3  4 ], [ 2  3  5 ], [ 2  4  5 ], [ 3  4  5 ], [ 1  2  3  4 \n], [ 1  2  3  5 ], [ 1  2  4  5 ], [ 1  3  4  5 ], [ 2  3  4  5 ], [ 1  2  3  4  5 ],\n</code></pre>\n<p>The code can be used for characters and strings as well, by just replacing the datatype wherever required.</p>\n<p>eg.</p>\n<pre><code>vector&lt;char&gt; a = {'d','g','y','u','t'};\n</code></pre>\n<p>To give</p>\n<pre><code>printing all 31 combinations\n[ d ] , [ g ] , [ y ] , [ u ] , [ t ] , [ d  g ] , [ d  y ] , [ d  u ] , [ d  t ] , [ g  y ] , [ g  u ] , [ g  t ] , [ y  u ] , [ y  t ] , \n[ u  t ] , [ d  g  y ] , [ d  g  u ] , [ d  g  t ] , [ d  y  u ] , [ d  y  t ] , [ d  u  t ] , [ g  y  u ] , [ g  y  t ] , [ g  u  t ] , [ \ny  u  t ] , [ d  g  y  u ] , [ d  g  y  t ] , [ d  g  u  t ] , [ d  y  u  t ] , [ g  y  u  t ] , [ d  g  y  u  t ] ,\n</code></pre>\n<p>and</p>\n<pre><code>vector&lt;string&gt; a = {&quot;asdf&quot;,&quot;myfl&quot;, &quot;itshot&quot;, &quot;holy&quot;};\n</code></pre>\n<p>to give</p>\n<pre><code>printing all 15 combinations\n[ asdf ] , [ myfl ] , [ itshot ] , [ holy ] , [ asdf  myfl ] , [ asdf  itshot ] , [ asdf  holy ] , [ myfl  itshot ] , [ myfl  holy ] , [ itshot  holy ] , [ asdf  myfl  itshot ] , [ asdf  myfl  holy ] , [ asdf  itshot  holy ] , [ myfl  itshot  holy ] , [ asdf  myfl  itshot  holy ] ,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080311,"creation_date":1680080311,"answer_id":75875105,"question_id":2920315,"body_markdown":"Permutation via **iteration**, in `go`.\r\n\r\n```\r\n// find all permutation of []T, return [][]T, not ordered, via iteration,\r\n// tips: for empty input, return 1 empty combination,\r\nfunc FindAllPermutation[T any](ts []T) [][]T {\r\n\tcombList := [][]T{{}} // when empty input, has 1 empty combination, not 0 combination,\r\n\tfor i := len(ts) - 1; i &gt;= 0; i-- {\r\n\t\t// prefix := ts[0:i]\r\n\t\tmover := ts[i]\r\n\t\t// fmt.Printf(&quot;\\nprefix = %v, mover = %v:\\n&quot;, prefix, mover)\r\n\t\tvar combList2 [][]T // combinations with an extra item added,\r\n\t\tfor _, comb := range combList {\r\n\t\t\tfor j := 0; j &lt;= len(comb); j++ { // insert mover at index j of comb,\r\n\t\t\t\tcomb2 := append(append(append([]T{}, comb[0:j]...), mover), comb[j:]...) // new_empty + left + mover + right\r\n\t\t\t\t// fmt.Printf(&quot;\\t%v\\n&quot;, comb2)\r\n\t\t\t\tcombList2 = append(combList2, comb2)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcombList = combList2\r\n\t}\r\n\r\n\treturn combList\r\n}\r\n```\r\n","title":"Permutation of array","body":"<p>Permutation via <strong>iteration</strong>, in <code>go</code>.</p>\n<pre><code>// find all permutation of []T, return [][]T, not ordered, via iteration,\n// tips: for empty input, return 1 empty combination,\nfunc FindAllPermutation[T any](ts []T) [][]T {\n    combList := [][]T{{}} // when empty input, has 1 empty combination, not 0 combination,\n    for i := len(ts) - 1; i &gt;= 0; i-- {\n        // prefix := ts[0:i]\n        mover := ts[i]\n        // fmt.Printf(&quot;\\nprefix = %v, mover = %v:\\n&quot;, prefix, mover)\n        var combList2 [][]T // combinations with an extra item added,\n        for _, comb := range combList {\n            for j := 0; j &lt;= len(comb); j++ { // insert mover at index j of comb,\n                comb2 := append(append(append([]T{}, comb[0:j]...), mover), comb[j:]...) // new_empty + left + mover + right\n                // fmt.Printf(&quot;\\t%v\\n&quot;, comb2)\n                combList2 = append(combList2, comb2)\n            }\n        }\n\n        combList = combList2\n    }\n\n    return combList\n}\n</code></pre>\n"}],"owner":{"display_name":"user466534"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186572,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":2920347,"answer_count":14,"score":81,"last_activity_date":1680080311,"creation_date":1274956339,"question_id":2920315,"body_markdown":"For example I have this array:\r\n\r\n    int a[] = new int[]{3,4,6,2,1};\r\n\r\nI need list of all permutations such that  if one is like this, `{3,2,1,4,6}`, others must not be the same. I know that if the length of the array is *n* then there are *n!* possible combinations. How can this algorithm be written?\r\n\r\nUpdate: thanks, but I need a pseudo code algorithm like:\r\n\r\n    for(int i=0;i&lt;a.length;i++){\r\n        // code here\r\n    }\r\n\r\nJust algorithm. Yes, API functions are good, but it does not help me too much.\r\n","title":"Permutation of array","body":"<p>For example I have this array:</p>\n\n<pre><code>int a[] = new int[]{3,4,6,2,1};\n</code></pre>\n\n<p>I need list of all permutations such that  if one is like this, <code>{3,2,1,4,6}</code>, others must not be the same. I know that if the length of the array is <em>n</em> then there are <em>n!</em> possible combinations. How can this algorithm be written?</p>\n\n<p>Update: thanks, but I need a pseudo code algorithm like:</p>\n\n<pre><code>for(int i=0;i&lt;a.length;i++){\n    // code here\n}\n</code></pre>\n\n<p>Just algorithm. Yes, API functions are good, but it does not help me too much.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680012792,"post_id":75867380,"comment_id":133821733,"body_markdown":"chatGPT told this: It&#39;s possible that these classes are being instantiated and added to the engineListeners list in other parts of the codebase.\n\nSpring framework uses the Inversion of Control (IoC) pattern to manage the lifecycle and dependencies of objects in an application. One of the ways to achieve IoC in Spring is through the use of Dependency Injection (DI), where the framework injects dependencies into the objects that require them, rather than requiring the objects to create and manage their dependencies themselves.","body":"chatGPT told this: It&#39;s possible that these classes are being instantiated and added to the engineListeners list in other parts of the codebase.  Spring framework uses the Inversion of Control (IoC) pattern to manage the lifecycle and dependencies of objects in an application. One of the ways to achieve IoC in Spring is through the use of Dependency Injection (DI), where the framework injects dependencies into the objects that require them, rather than requiring the objects to create and manage their dependencies themselves."},{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680012798,"post_id":75867380,"comment_id":133821736,"body_markdown":"and this: \nBased on the fact that the ModifiedObjectWriter is annotated with @Component, it&#39;s likely that Spring is responsible for instantiating it and injecting it into any other objects that require it. It&#39;s also possible that Spring is creating instances of the EngineSnapshotTaker and OrderBookSnapshotTaker classes as well, but they are not being used in this particular class and therefore are not injected into the engineListeners list.\n\nIt&#39;s worth checking the entire codebase for any other parts where these classes are being used and instantiated.","body":"and this:  Based on the fact that the ModifiedObjectWriter is annotated with @Component, it&#39;s likely that Spring is responsible for instantiating it and injecting it into any other objects that require it. It&#39;s also possible that Spring is creating instances of the EngineSnapshotTaker and OrderBookSnapshotTaker classes as well, but they are not being used in this particular class and therefore are not injected into the engineListeners list.  It&#39;s worth checking the entire codebase for any other parts where these classes are being used and instantiated."}],"answers":[{"comments":[{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680028509,"post_id":75867870,"comment_id":133826154,"body_markdown":"can&#39;t find any autowire annotation there. please check the codebase and the link.","body":"can&#39;t find any autowire annotation there. please check the codebase and the link."},{"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"score":0,"creation_date":1680044867,"post_id":75867870,"comment_id":133829279,"body_markdown":"Hi, since you are using @RequiredArgsConstructor, a constructor is automatically generated for you and since it&#39;s the only constructor, Spring uses it to **autowire** the dependencies (without the explicit need for an &#39;@Autowired&#39;) as Bootstrap is a component. Refer this for more details - [link](https://stackoverflow.com/a/41092831/21497826)","body":"Hi, since you are using @RequiredArgsConstructor, a constructor is automatically generated for you and since it&#39;s the only constructor, Spring uses it to <b>autowire</b> the dependencies (without the explicit need for an &#39;@Autowired&#39;) as Bootstrap is a component. Refer this for more details - <a href=\"https://stackoverflow.com/a/41092831/21497826\">link</a>"}],"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680045748,"creation_date":1680015423,"answer_id":75867870,"question_id":75867380,"body_markdown":"**engineListeners contains instances of three classes because all three extend EngineListener class and thus bean belonging to each class is added to the list.**\r\nThat&#39;s probably because of a property of autowiring beans which follows that **when you autowire a list of particular class, then it will all beans belonging to that class or its subclasses are automatically added to that list.** For more information you can refer the following link: ```https://stackoverflow.com/questions/7446301/autowire-reference-beans-into-list-by-type```\r\n\r\nFurtermore, you are using @RequiredArgsConstructor of Lombok, a constructor is automatically generated for you. **Since it&#39;s the only constructor, Spring uses it to autowire the dependencies of Bootstrap , including engineListeners (without the explicit need for an &#39;@Autowired&#39;)**. Refer this for more details on automatic dependency injection without @Autowired - \r\n```\r\nhttps://stackoverflow.com/a/41092831/21497826\r\n```","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p><strong>engineListeners contains instances of three classes because all three extend EngineListener class and thus bean belonging to each class is added to the list.</strong>\nThat's probably because of a property of autowiring beans which follows that <strong>when you autowire a list of particular class, then it will all beans belonging to that class or its subclasses are automatically added to that list.</strong> For more information you can refer the following link: <code>https://stackoverflow.com/questions/7446301/autowire-reference-beans-into-list-by-type</code></p>\n<p>Furtermore, you are using @RequiredArgsConstructor of Lombok, a constructor is automatically generated for you. <strong>Since it's the only constructor, Spring uses it to autowire the dependencies of Bootstrap , including engineListeners (without the explicit need for an '@Autowired')</strong>. Refer this for more details on automatic dependency injection without @Autowired -</p>\n<pre><code>https://stackoverflow.com/a/41092831/21497826\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"score":0,"creation_date":1680028544,"post_id":75868816,"comment_id":133826163,"body_markdown":"Kindly continue explaining after &quot;lombok will generate a constructor with 18 arguments and each them will be injected...&quot;, my question was how the classes get added to the engineListener List?","body":"Kindly continue explaining after &quot;lombok will generate a constructor with 18 arguments and each them will be injected...&quot;, my question was how the classes get added to the engineListener List?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1680080570,"post_id":75868816,"comment_id":133834862,"body_markdown":"@RameshPareek I&#39;ve added some information about how Lists are handled","body":"@RameshPareek I&#39;ve added some information about how Lists are handled"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080281,"creation_date":1680021189,"answer_id":75868816,"question_id":75867380,"body_markdown":"There are two annotations on the Bootstrap class that are relevant here:\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Bootstrap {\r\n    // …\r\n}\r\n```\r\n\r\n`@Component` is a Spring annotation. It means that it will be a Spring-managed &quot;bean&quot; and an instance of `Bootstrap` will be created by Spring and its dependencies will be injected into it. These dependencies will be resolved by looking at other Spring-managed beans and finding those that match the types required by the constructor.  Where the type being injected is a `List&lt;T&gt;`, Spring will use the type information and inject a list containing every bean that matches the required type. For example, `List&lt;EngineListener&gt;` will inject a list containing every `EngineListener` bean that&#39;s known to Spring.\r\n\r\n`@RequiredArgsConstructor` is a Lombok annotation. During compilation, it causes a constructor to be generated with one argument for each final field in the class. The class has 18 final fields:\r\n\r\n```\r\n    private final OrderManager orderManager;\r\n    private final AccountManager accountManager;\r\n    private final OrderBookSnapshotStore orderBookSnapshotStore;\r\n    private final TradeRepository tradeRepository;\r\n    private final ProductRepository productRepository;\r\n    private final ProductManager productManager;\r\n    private final CandleRepository candleRepository;\r\n    private final KafkaMessageProducer messageProducer;\r\n    private final TickerManager tickerManager;\r\n    private final AppProperties appProperties;\r\n    private final KafkaProperties kafkaProperties;\r\n    private final RedissonClient redissonClient;\r\n    private final List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n    private final EngineSnapshotStore engineSnapshotStore;\r\n    private final ModifiedObjectWriter modifiedObjectWriter;\r\n    private final EngineSnapshotTaker engineSnapshotTaker;\r\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\r\n    private final List&lt;EngineListener&gt; engineListeners;\r\n```\r\n\r\nThis will result in Lombok generating a constructor with 18 arguments. Each of these arguments will be injected by Spring when it creates an instance of the `Bootstrap` class.\r\n\r\nIn my opinion, if you&#39;re learning Java, you may want to look at a different codebase. A class with 18 constructor arguments is very complex and some would argue that it needs to be split up into a number of smaller, more manageable classes. You may also want to avoid Lombok, at least until you understand what the code that it generates for you would have looked like.","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p>There are two annotations on the Bootstrap class that are relevant here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class Bootstrap {\n    // …\n}\n</code></pre>\n<p><code>@Component</code> is a Spring annotation. It means that it will be a Spring-managed &quot;bean&quot; and an instance of <code>Bootstrap</code> will be created by Spring and its dependencies will be injected into it. These dependencies will be resolved by looking at other Spring-managed beans and finding those that match the types required by the constructor.  Where the type being injected is a <code>List&lt;T&gt;</code>, Spring will use the type information and inject a list containing every bean that matches the required type. For example, <code>List&lt;EngineListener&gt;</code> will inject a list containing every <code>EngineListener</code> bean that's known to Spring.</p>\n<p><code>@RequiredArgsConstructor</code> is a Lombok annotation. During compilation, it causes a constructor to be generated with one argument for each final field in the class. The class has 18 final fields:</p>\n<pre><code>    private final OrderManager orderManager;\n    private final AccountManager accountManager;\n    private final OrderBookSnapshotStore orderBookSnapshotStore;\n    private final TradeRepository tradeRepository;\n    private final ProductRepository productRepository;\n    private final ProductManager productManager;\n    private final CandleRepository candleRepository;\n    private final KafkaMessageProducer messageProducer;\n    private final TickerManager tickerManager;\n    private final AppProperties appProperties;\n    private final KafkaProperties kafkaProperties;\n    private final RedissonClient redissonClient;\n    private final List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n    private final EngineSnapshotStore engineSnapshotStore;\n    private final ModifiedObjectWriter modifiedObjectWriter;\n    private final EngineSnapshotTaker engineSnapshotTaker;\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\n    private final List&lt;EngineListener&gt; engineListeners;\n</code></pre>\n<p>This will result in Lombok generating a constructor with 18 arguments. Each of these arguments will be injected by Spring when it creates an instance of the <code>Bootstrap</code> class.</p>\n<p>In my opinion, if you're learning Java, you may want to look at a different codebase. A class with 18 constructor arguments is very complex and some would argue that it needs to be split up into a number of smaller, more manageable classes. You may also want to avoid Lombok, at least until you understand what the code that it generates for you would have looked like.</p>\n"}],"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680080281,"creation_date":1680012499,"question_id":75867380,"body_markdown":"I am learning java and Springboot.  In an opensource repository https://github.com/gitbitex/gitbitex-new, The Bootstrap.java class conatains a code that is not being used. Specifically, Consider the following Code:\r\n\r\n    private final ModifiedObjectWriter modifiedObjectWriter;\r\n    private final EngineSnapshotTaker engineSnapshotTaker;\r\n    private final OrderBookSnapshotTaker orderBookSnapshotTaker;\r\n    private final List engineListeners;\r\n       @PostConstruct\r\n        public void init() {\r\n            startMatchingEngine(1);\r\n            startOrderPersistenceThread(1);\r\n            startTradePersistenceThread(1);\r\n            startAccountPersistenceThread(1);\r\n            startCandleMaker(1);\r\n            startTickerThread(1);\r\n        }\r\n     private void startMatchingEngine(int nThreads) {\r\n            for (int i = 0; i &lt; nThreads; i++) {\r\n                String groupId = &quot;MatchingEngine&quot;;\r\n                KafkaConsumer&lt;String, Command&gt; consumer = new KafkaConsumer&lt;&gt;(getProperties(groupId),\r\n                        new StringDeserializer(), new CommandDeserializer());\r\n                MatchingEngineThread matchingEngineThread = new MatchingEngineThread(consumer, engineSnapshotStore,\r\n                        engineListeners, appProperties);\r\n                matchingEngineThread.setName(groupId + &quot;-&quot; + matchingEngineThread.getId());\r\n                matchingEngineThread.start();\r\n                threads.add(matchingEngineThread);\r\n            }\r\n        }\r\n\r\nNow my observations about this. &lt;br&gt; (a) Top three classes, the modifiedObjectWriter, EngineSnapshotTaker, and OrderBookSnapshotTaker extends the EngineListener Class, but these classes are clearly not being used. &lt;br&gt;(b) engineListener is being used but it appears to be an empty List. &lt;br&gt;\r\n(c) The modifiedObjectWriter is annotated with @Component. &lt;br&gt;\r\n(d)  At runtime, the engineListeners List is found to contain the instances of these Three Classes, &lt;br&gt; Now I wonder, How are these classes possibly injected in the engineListener List? Kindly refer to the repository for any details that I could have missed. ","title":"How can a class be instantiated without specifically assigning it to a variable?","body":"<p>I am learning java and Springboot.  In an opensource repository <a href=\"https://github.com/gitbitex/gitbitex-new\" rel=\"nofollow noreferrer\">https://github.com/gitbitex/gitbitex-new</a>, The Bootstrap.java class conatains a code that is not being used. Specifically, Consider the following Code:</p>\n<pre><code>private final ModifiedObjectWriter modifiedObjectWriter;\nprivate final EngineSnapshotTaker engineSnapshotTaker;\nprivate final OrderBookSnapshotTaker orderBookSnapshotTaker;\nprivate final List engineListeners;\n   @PostConstruct\n    public void init() {\n        startMatchingEngine(1);\n        startOrderPersistenceThread(1);\n        startTradePersistenceThread(1);\n        startAccountPersistenceThread(1);\n        startCandleMaker(1);\n        startTickerThread(1);\n    }\n private void startMatchingEngine(int nThreads) {\n        for (int i = 0; i &lt; nThreads; i++) {\n            String groupId = &quot;MatchingEngine&quot;;\n            KafkaConsumer&lt;String, Command&gt; consumer = new KafkaConsumer&lt;&gt;(getProperties(groupId),\n                    new StringDeserializer(), new CommandDeserializer());\n            MatchingEngineThread matchingEngineThread = new MatchingEngineThread(consumer, engineSnapshotStore,\n                    engineListeners, appProperties);\n            matchingEngineThread.setName(groupId + &quot;-&quot; + matchingEngineThread.getId());\n            matchingEngineThread.start();\n            threads.add(matchingEngineThread);\n        }\n    }\n</code></pre>\n<p>Now my observations about this. <br> (a) Top three classes, the modifiedObjectWriter, EngineSnapshotTaker, and OrderBookSnapshotTaker extends the EngineListener Class, but these classes are clearly not being used. <br>(b) engineListener is being used but it appears to be an empty List. <br>\n(c) The modifiedObjectWriter is annotated with @Component. <br>\n(d)  At runtime, the engineListeners List is found to contain the instances of these Three Classes, <br> Now I wonder, How are these classes possibly injected in the engineListener List? Kindly refer to the repository for any details that I could have missed.</p>\n"},{"tags":["java","junit","exception","junit4"],"answers":[{"comments":[{"owner":{"account_id":1349138,"reputation":586,"user_id":1289282,"accept_rate":79,"display_name":"Meowbits"},"score":1,"creation_date":1334351186,"post_id":10148123,"comment_id":13013913,"body_markdown":"Thank you! Simple and helped a lot","body":"Thank you! Simple and helped a lot"}],"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1334350159,"creation_date":1334350159,"answer_id":10148123,"question_id":10148101,"body_markdown":"    try {\r\n        assertEquals(&quot;Legal Values: Package Type must be P or R&quot;, Shipping.shippingCost(&#39;P&#39;, -5));\r\n        Assert.fail( &quot;Should have thrown an exception&quot; );\r\n    } \r\n    catch (Exception e) {\r\n        String expectedMessage = &quot;this is the message I expect to get&quot;;\r\n        Assert.assertEquals( &quot;Exception message must be correct&quot;, expectedMessage, e.getMessage() );\r\n    }   \r\n","title":"junit testing - assertEquals for exception","body":"<pre><code>try {\n    assertEquals(\"Legal Values: Package Type must be P or R\", Shipping.shippingCost('P', -5));\n    Assert.fail( \"Should have thrown an exception\" );\n} \ncatch (Exception e) {\n    String expectedMessage = \"this is the message I expect to get\";\n    Assert.assertEquals( \"Exception message must be correct\", expectedMessage, e.getMessage() );\n}   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1349138,"reputation":586,"user_id":1289282,"accept_rate":79,"display_name":"Meowbits"},"score":0,"creation_date":1334351329,"post_id":10148132,"comment_id":13013949,"body_markdown":"Didn&#39;t see your answer, I reworked my code after reading your reply. Thank you!","body":"Didn&#39;t see your answer, I reworked my code after reading your reply. Thank you!"}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1398096377,"creation_date":1334350198,"answer_id":10148132,"question_id":10148101,"body_markdown":"The assertEquals in your example would be comparing the return value of the method call to the expected value, which isn&#39;t what you want, and of course there isn&#39;t going to be a return value if the expected exception occurs. Move the assertEquals to the catch block:\r\n\r\n    @Test\r\n    public void testTC3()\r\n    {\r\n        try {\r\n            Shipping.shippingCost(&#39;P&#39;, -5);\r\n            fail(); // if we got here, no exception was thrown, which is bad\r\n        } \r\n        catch (Exception e) {\r\n            final String expected = &quot;Legal Values: Package Type must be P or R&quot;;\r\n            assertEquals( expected, e.getMessage());\r\n        }        \r\n    }\r\n\r\n","title":"junit testing - assertEquals for exception","body":"<p>The assertEquals in your example would be comparing the return value of the method call to the expected value, which isn't what you want, and of course there isn't going to be a return value if the expected exception occurs. Move the assertEquals to the catch block:</p>\n\n<pre><code>@Test\npublic void testTC3()\n{\n    try {\n        Shipping.shippingCost('P', -5);\n        fail(); // if we got here, no exception was thrown, which is bad\n    } \n    catch (Exception e) {\n        final String expected = \"Legal Values: Package Type must be P or R\";\n        assertEquals( expected, e.getMessage());\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450464447,"creation_date":1450464447,"answer_id":34362110,"question_id":10148101,"body_markdown":"# Java 8 solution\r\n\r\nHere is a utility function that I wrote:\r\n\r\n    public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\r\n    {\r\n        try\r\n        {\r\n            runnable.run();\r\n        }\r\n        catch( Throwable throwable )\r\n        {\r\n            if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\r\n                throwable = throwable.getCause(); //allows &quot;assert x != null : new IllegalArgumentException();&quot;\r\n            assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\r\n            assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\r\n            @SuppressWarnings( &quot;unchecked&quot; )\r\n            T result = (T)throwable;\r\n            return result;\r\n        }\r\n        assert false; //expected exception was not thrown.\r\n        return null; //to keep the compiler happy.\r\n    }\r\n\r\n([taken from my blog](http://blog.michael.gr/2014/09/assertions-and-testing.html))\r\n\r\nUse it as follows:\r\n\r\n    @Test\r\n    public void testThrows()\r\n    {\r\n        RuntimeException e = expectException( RuntimeException.class, () -&gt; \r\n            {\r\n                throw new RuntimeException( &quot;fail!&quot; );\r\n            } );\r\n        assert e.getMessage().equals( &quot;fail!&quot; );\r\n    }\r\n\r\nAlso, if you would like to read some reasons why *you should **not*** want to `assertTrue` that the message of your exception is equal to a particular value, see this: https://softwareengineering.stackexchange.com/a/278958/41811","title":"junit testing - assertEquals for exception","body":"<h1>Java 8 solution</h1>\n\n<p>Here is a utility function that I wrote:</p>\n\n<pre><code>public final &lt;T extends Throwable&gt; T expectException( Class&lt;T&gt; exceptionClass, Runnable runnable )\n{\n    try\n    {\n        runnable.run();\n    }\n    catch( Throwable throwable )\n    {\n        if( throwable instanceof AssertionError &amp;&amp; throwable.getCause() != null )\n            throwable = throwable.getCause(); //allows \"assert x != null : new IllegalArgumentException();\"\n        assert exceptionClass.isInstance( throwable ) : throwable; //exception of the wrong kind was thrown.\n        assert throwable.getClass() == exceptionClass : throwable; //exception thrown was a subclass, but not the exact class, expected.\n        @SuppressWarnings( \"unchecked\" )\n        T result = (T)throwable;\n        return result;\n    }\n    assert false; //expected exception was not thrown.\n    return null; //to keep the compiler happy.\n}\n</code></pre>\n\n<p>(<a href=\"http://blog.michael.gr/2014/09/assertions-and-testing.html\" rel=\"nofollow noreferrer\">taken from my blog</a>)</p>\n\n<p>Use it as follows:</p>\n\n<pre><code>@Test\npublic void testThrows()\n{\n    RuntimeException e = expectException( RuntimeException.class, () -&gt; \n        {\n            throw new RuntimeException( \"fail!\" );\n        } );\n    assert e.getMessage().equals( \"fail!\" );\n}\n</code></pre>\n\n<p>Also, if you would like to read some reasons why <em>you should <strong>not</em></strong> want to <code>assertTrue</code> that the message of your exception is equal to a particular value, see this: <a href=\"https://softwareengineering.stackexchange.com/a/278958/41811\">https://softwareengineering.stackexchange.com/a/278958/41811</a></p>\n"},{"tags":[],"owner":{"account_id":8110624,"reputation":21,"user_id":6110851,"display_name":"Vladimir Budu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459451520,"creation_date":1459418202,"answer_id":36330041,"question_id":10148101,"body_markdown":"&gt; Works perfectly for me.\r\n\r\n    try{\r\n\t    assertEquals(&quot;text&quot;, driver.findElement(By.cssSelector(&quot;html element&quot;)).getText());\r\n\t\t}catch(ComparisonFailure e){\r\n\t\t\tSystem.err.println(&quot;assertequals fail&quot;);\r\n\t\t}\r\n\r\nif assertEquals fails ComparisonFailure will handle it","title":"junit testing - assertEquals for exception","body":"<blockquote>\n  <p>Works perfectly for me.</p>\n</blockquote>\n\n<pre><code>try{\n    assertEquals(\"text\", driver.findElement(By.cssSelector(\"html element\")).getText());\n    }catch(ComparisonFailure e){\n        System.err.println(\"assertequals fail\");\n    }\n</code></pre>\n\n<p>if assertEquals fails ComparisonFailure will handle it</p>\n"},{"tags":[],"owner":{"account_id":3671664,"reputation":1590,"user_id":6330873,"display_name":"Jakub Bibro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464713489,"creation_date":1464713489,"answer_id":37551481,"question_id":10148101,"body_markdown":"This is nice [library](https://github.com/Codearte/catch-exception) that allows asserting exceptions in a clean way. \r\n\r\nExample:\r\n\r\n    // given: an empty list\r\n    List myList = new ArrayList();\r\n    \r\n    // when: we try to get the first element of the list\r\n    when(myList).get(1);\r\n    \r\n    // then: we expect an IndexOutOfBoundsException\r\n    then(caughtException())\r\n            .isInstanceOf(IndexOutOfBoundsException.class)\r\n            .hasMessage(&quot;Index: 1, Size: 0&quot;)\r\n            .hasNoCause();","title":"junit testing - assertEquals for exception","body":"<p>This is nice <a href=\"https://github.com/Codearte/catch-exception\" rel=\"nofollow\">library</a> that allows asserting exceptions in a clean way. </p>\n\n<p>Example:</p>\n\n<pre><code>// given: an empty list\nList myList = new ArrayList();\n\n// when: we try to get the first element of the list\nwhen(myList).get(1);\n\n// then: we expect an IndexOutOfBoundsException\nthen(caughtException())\n        .isInstanceOf(IndexOutOfBoundsException.class)\n        .hasMessage(\"Index: 1, Size: 0\")\n        .hasNoCause();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080228,"creation_date":1680080228,"answer_id":75875089,"question_id":10148101,"body_markdown":"    try {\r\n      Assert.assertArrayEquals(v1, v2);\r\n    } catch (AssertionError e) {\r\n       throw new CustomeException(&quot;validation failed&quot;);\r\n    }","title":"junit testing - assertEquals for exception","body":"<pre><code>try {\n  Assert.assertArrayEquals(v1, v2);\n} catch (AssertionError e) {\n   throw new CustomeException(&quot;validation failed&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1349138,"reputation":586,"user_id":1289282,"accept_rate":79,"display_name":"Meowbits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36785,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10148123,"answer_count":6,"score":10,"last_activity_date":1680080228,"creation_date":1334350040,"question_id":10148101,"body_markdown":"How can I use assertEquals to see if the exception message is correct?\r\nThe test passes but I don&#39;t know if it hits the correct error or not.\r\n\r\n\r\nThe test I am running.\r\n\r\n    @Test\r\n    public void testTC3()\r\n    {\r\n        try {\r\n        assertEquals(&quot;Legal Values: Package Type must be P or R&quot;, Shipping.shippingCost(&#39;P&#39;, -5));\r\n        } \r\n        catch (Exception e) {\r\n        }        \r\n    }\r\n\r\n\r\n   \r\nThe method being tested.\r\n     \r\n    public static int shippingCost(char packageType, int weight) throws Exception\r\n    {\r\n        String e1 = &quot;Legal Values: Package Type must be P or R&quot;;\r\n        String e2 = &quot;Legal Values: Weight &lt; 0&quot;;\r\n        int cost = 0;\r\n            if((packageType != &#39;P&#39;)&amp;&amp;(packageType != &#39;R&#39;))\r\n            {\r\n                 throw new Exception(e1);\r\n            }\r\n\r\n            if(weight &lt; 0)\r\n            {\r\n                 throw new Exception(e2);\r\n            }        \r\n             if(packageType == &#39;P&#39;)\r\n             {\r\n                 cost += 10;\r\n             }\r\n             if(weight &lt;= 25)\r\n             {   \r\n                 cost += 10;\r\n             }\r\n             else\r\n             {\r\n                cost += 25;\r\n             }\r\n             return cost;       \r\n    }\r\n}\r\n\r\nThanks for the help.","title":"junit testing - assertEquals for exception","body":"<p>How can I use assertEquals to see if the exception message is correct?\nThe test passes but I don't know if it hits the correct error or not.</p>\n\n<p>The test I am running.</p>\n\n<pre><code>@Test\npublic void testTC3()\n{\n    try {\n    assertEquals(\"Legal Values: Package Type must be P or R\", Shipping.shippingCost('P', -5));\n    } \n    catch (Exception e) {\n    }        \n}\n</code></pre>\n\n<p>The method being tested.</p>\n\n<pre><code>public static int shippingCost(char packageType, int weight) throws Exception\n{\n    String e1 = \"Legal Values: Package Type must be P or R\";\n    String e2 = \"Legal Values: Weight &lt; 0\";\n    int cost = 0;\n        if((packageType != 'P')&amp;&amp;(packageType != 'R'))\n        {\n             throw new Exception(e1);\n        }\n\n        if(weight &lt; 0)\n        {\n             throw new Exception(e2);\n        }        \n         if(packageType == 'P')\n         {\n             cost += 10;\n         }\n         if(weight &lt;= 25)\n         {   \n             cost += 10;\n         }\n         else\n         {\n            cost += 25;\n         }\n         return cost;       \n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks for the help.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1680079878,"post_id":75874888,"comment_id":133834676,"body_markdown":"Folders do not exist in Cloud Storage. The namespace if flat. The solution is to include the folder name in the name of the object.","body":"Folders do not exist in Cloud Storage. The namespace if flat. The solution is to include the folder name in the name of the object."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1680080257,"post_id":75874888,"comment_id":133834775,"body_markdown":"more details here https://cloud.google.com/storage/docs/folders","body":"more details here <a href=\"https://cloud.google.com/storage/docs/folders\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/folders</a>"}],"answers":[{"tags":[],"owner":{"account_id":21574376,"reputation":264,"user_id":15906778,"display_name":"Abdul Fahad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680080139,"creation_date":1680080139,"answer_id":75875068,"question_id":75874888,"body_markdown":"To write the file to a specific folder in your GCP bucket, you just need to update the BlobId object the following code example mods should be fixing your problem.\r\n\r\n\r\n```\r\n    try {\r\n            String folderPath = &quot;folder/subfolder/&quot;;\r\n            String fileName = &quot;demofile1.json&quot;;\r\n            BlobId id = BlobId.of(&quot;my-bucket&quot;, folderPath + fileName);\r\n            BlobInfo info = BlobInfo.newBuilder(id).build();\r\n            byte[] arr = fileData.getBytes();\r\n            storage.create(info, arr);\r\n        }\r\n\r\n```\r\n\r\n","title":"Writing a file in GCP bucket folder fails","body":"<p>To write the file to a specific folder in your GCP bucket, you just need to update the BlobId object the following code example mods should be fixing your problem.</p>\n<pre><code>    try {\n            String folderPath = &quot;folder/subfolder/&quot;;\n            String fileName = &quot;demofile1.json&quot;;\n            BlobId id = BlobId.of(&quot;my-bucket&quot;, folderPath + fileName);\n            BlobInfo info = BlobInfo.newBuilder(id).build();\n            byte[] arr = fileData.getBytes();\n            storage.create(info, arr);\n        }\n\n</code></pre>\n"}],"owner":{"account_id":28156068,"reputation":13,"user_id":21516783,"display_name":"user7078"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75875068,"answer_count":1,"score":1,"last_activity_date":1680080139,"creation_date":1680078959,"question_id":75874888,"body_markdown":"I have to write a file to GCP folder. \r\nI have written following code to write but it writes on bucket directly than the folder of bucket. \r\nI am new to GCP, so please help !\r\n \r\nI am using following dependencies:\r\n\r\nspring-boot-starter-web\r\nspring-cloud-gcp-dependencies\r\nspring-cloud-gcp-dependencies\r\nspring-cloud-gcp-starter-storage\r\n\r\nWhat changes I can do ?\r\n\r\n\r\nI tried below code, but I need to update it to folder.\r\n\r\n\r\n```\r\n  @GetMapping(&quot;/send-data&quot;)\r\n    public String sendData() throws IOException, URISyntaxException {\r\n        try {\r\n                BlobId id = BlobId.of(&quot;my-bucket&quot;, &quot;demofile1.json&quot;);\r\n                BlobInfo info = BlobInfo.newBuilder(id).build();\r\n                byte[] arr = fileData.getBytes();\r\n                storage.create(info, arr);\r\n            }\r\n       }\r\n```\r\n\r\nAbove code works well, but I have created a folder as &quot;test&quot; in the bucket and now I want to write a file in that &quot;test&quot; folder rather than in bucket.\r\n","title":"Writing a file in GCP bucket folder fails","body":"<p>I have to write a file to GCP folder.\nI have written following code to write but it writes on bucket directly than the folder of bucket.\nI am new to GCP, so please help !</p>\n<p>I am using following dependencies:</p>\n<p>spring-boot-starter-web\nspring-cloud-gcp-dependencies\nspring-cloud-gcp-dependencies\nspring-cloud-gcp-starter-storage</p>\n<p>What changes I can do ?</p>\n<p>I tried below code, but I need to update it to folder.</p>\n<pre><code>  @GetMapping(&quot;/send-data&quot;)\n    public String sendData() throws IOException, URISyntaxException {\n        try {\n                BlobId id = BlobId.of(&quot;my-bucket&quot;, &quot;demofile1.json&quot;);\n                BlobInfo info = BlobInfo.newBuilder(id).build();\n                byte[] arr = fileData.getBytes();\n                storage.create(info, arr);\n            }\n       }\n</code></pre>\n<p>Above code works well, but I have created a folder as &quot;test&quot; in the bucket and now I want to write a file in that &quot;test&quot; folder rather than in bucket.</p>\n"},{"tags":["java","database","oracle","security"],"answers":[{"tags":[],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680080087,"creation_date":1680080087,"answer_id":75875059,"question_id":75831256,"body_markdown":"I found answer myself. In documentation chapter describing classpath extentions\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E\r\ntemplate for URL is jserver:/CPcSCHEMAc. For java.security.alt it will be\r\n\r\n    dbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=jserver:/resource/schema/SYS/lib/security/java.security.alt&#39; )","title":"How to apply java.security file loaded into Oracle database","body":"<p>I found answer myself. In documentation chapter describing classpath extentions\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/classpath-extensions-user-classes-metadata.html#GUID-C948182D-D9C7-45DB-9B7A-648BBCA47F6E</a>\ntemplate for URL is jserver:/CPcSCHEMAc. For java.security.alt it will be</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=jserver:/resource/schema/SYS/lib/security/java.security.alt' )\n</code></pre>\n"}],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680080087,"creation_date":1679645296,"question_id":75831256,"body_markdown":"To add a security provider to the embedded Oracle database 12.2 Java I loaded java.security file into the database using this instruction:\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA\r\n\r\nThe provider still does not appear in the list of providers. How make it visible? I can add files from the filesystem using\r\n```\r\ndbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=/home/oracle/app/oracle/product/12.2.0/dbhome_1/javavm/lib/security/java.security.alt&#39; )\r\n```\r\nand provider appears but\r\n```\r\ndbms_java.set_property ( &#39;java.security.properties&#39; , &#39;=lib/security/java.security.alt&#39; )\r\n```\r\ndo not work, it makes the provider list empty.","title":"How to apply java.security file loaded into Oracle database","body":"<p>To add a security provider to the embedded Oracle database 12.2 Java I loaded java.security file into the database using this instruction:\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdev/database-contents-Oracle-JVM-security.html#GUID-F8F1FB30-8FFC-4866-BE9D-43FB97FCF4AA</a></p>\n<p>The provider still does not appear in the list of providers. How make it visible? I can add files from the filesystem using</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=/home/oracle/app/oracle/product/12.2.0/dbhome_1/javavm/lib/security/java.security.alt' )\n</code></pre>\n<p>and provider appears but</p>\n<pre><code>dbms_java.set_property ( 'java.security.properties' , '=lib/security/java.security.alt' )\n</code></pre>\n<p>do not work, it makes the provider list empty.</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1680080180,"post_id":75874732,"comment_id":133834755,"body_markdown":"I&#39;ve removed the pdfbox label because your question is primarly about itext. The highlighted text isn&#39;t part of the annotation (regardless what library you use). So what you need to search for in itext is a feature that extracts the PDF text within the area covered by the annotation.","body":"I&#39;ve removed the pdfbox label because your question is primarly about itext. The highlighted text isn&#39;t part of the annotation (regardless what library you use). So what you need to search for in itext is a feature that extracts the PDF text within the area covered by the annotation."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1680082129,"post_id":75874732,"comment_id":133835280,"body_markdown":"In addition to what @Tilman has said: Are you sure the _highlighted_ text in your PDF is highlighted by means of an annotation? I ask because some tools don&#39;t use annotations at all but instead add the highlighted appearance into the page content stream as regular content, simply drawing some yellow rectangles here or there...","body":"In addition to what @Tilman has said: Are you sure the <i>highlighted</i> text in your PDF is highlighted by means of an annotation? I ask because some tools don&#39;t use annotations at all but instead add the highlighted appearance into the page content stream as regular content, simply drawing some yellow rectangles here or there..."}],"owner":{"account_id":22582111,"reputation":701,"user_id":16766626,"display_name":"Yogeshwar Chaturvedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680080025,"creation_date":1680077917,"question_id":75874732,"body_markdown":"I am trying to extract highlighted text from a PDF file. I managed to write this code but it is not able to extract the highlighted text. Any idea what is the issue? Or is there a better/ way to do it? Any other library that I can use?\r\n\r\nThanks\r\n\r\n```java\r\npublic String getHighlightedText() {\r\n        log.info(&quot;test&quot;);\r\n        String highlightedText = &quot;&quot;;\r\n        String pdfFilePath = &quot;test.pdf&quot;;\r\n        PdfReader reader = new PdfReader(pdfFilePath);\r\n        log.info(&quot;reader.getNumberOfPages(): {}&quot;, reader.getNumberOfPages());\r\n        for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\r\n            String pageText = PdfTextExtractor.getTextFromPage(reader, i);\r\n            log.info(&quot;page text : {} &quot;, pageText);\r\n\r\n            PdfDictionary pageDict = reader.getPageN(i);\r\n            log.info(&quot;pageDict : {}&quot;, pageDict);\r\n            PdfArray annotsArray = pageDict.getAsArray(PdfName.ANNOTS);\r\n\r\n            if (annotsArray == null) {\r\n                continue;\r\n            }\r\n\r\n            for (int j = 0; j &lt; annotsArray.size(); j++) {\r\n                PdfDictionary annotDict = annotsArray.getAsDict(j);\r\n                log.info(&quot;annotDict.toString() : {} &quot;, annotDict.getAsString(PdfName.CONTENTS));\r\n                if (PdfName.HIGHLIGHT.equals(annotDict.getAsName(PdfName.SUBTYPE))) {\r\n                    PdfString text = annotDict.getAsString(PdfName.CONTENTS);\r\n                    log.info(&quot;text : {}&quot;, text);\r\n                }\r\n            }\r\n        }\r\n\r\n        reader.close();\r\n\r\n\r\n        return highlightedText;\r\n    }\r\n```","title":"Extract highlighted text from PDF using iText","body":"<p>I am trying to extract highlighted text from a PDF file. I managed to write this code but it is not able to extract the highlighted text. Any idea what is the issue? Or is there a better/ way to do it? Any other library that I can use?</p>\n<p>Thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getHighlightedText() {\n        log.info(&quot;test&quot;);\n        String highlightedText = &quot;&quot;;\n        String pdfFilePath = &quot;test.pdf&quot;;\n        PdfReader reader = new PdfReader(pdfFilePath);\n        log.info(&quot;reader.getNumberOfPages(): {}&quot;, reader.getNumberOfPages());\n        for (int i = 1; i &lt;= reader.getNumberOfPages(); i++) {\n            String pageText = PdfTextExtractor.getTextFromPage(reader, i);\n            log.info(&quot;page text : {} &quot;, pageText);\n\n            PdfDictionary pageDict = reader.getPageN(i);\n            log.info(&quot;pageDict : {}&quot;, pageDict);\n            PdfArray annotsArray = pageDict.getAsArray(PdfName.ANNOTS);\n\n            if (annotsArray == null) {\n                continue;\n            }\n\n            for (int j = 0; j &lt; annotsArray.size(); j++) {\n                PdfDictionary annotDict = annotsArray.getAsDict(j);\n                log.info(&quot;annotDict.toString() : {} &quot;, annotDict.getAsString(PdfName.CONTENTS));\n                if (PdfName.HIGHLIGHT.equals(annotDict.getAsName(PdfName.SUBTYPE))) {\n                    PdfString text = annotDict.getAsString(PdfName.CONTENTS);\n                    log.info(&quot;text : {}&quot;, text);\n                }\n            }\n        }\n\n        reader.close();\n\n\n        return highlightedText;\n    }\n</code></pre>\n"},{"tags":["java","maven","code-generation","pom.xml","jaxb2"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1403516166,"post_id":24360079,"comment_id":37671997,"body_markdown":"One things looks wrong: &#39;Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\nspecified)&#39;. So you are generating in the src folder which should be prevented. Generation should be done in target folder instead.","body":"One things looks wrong: &#39;Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path specified)&#39;. So you are generating in the src folder which should be prevented. Generation should be done in target folder instead."},{"owner":{"account_id":3802737,"reputation":178,"user_id":3155909,"display_name":"sumanr"},"score":0,"creation_date":1403521914,"post_id":24360079,"comment_id":37675164,"body_markdown":"ideally that should not matter as i use the build-helper-maven-plugin to add src/main/generated to the class path.","body":"ideally that should not matter as i use the build-helper-maven-plugin to add src/main/generated to the class path."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1403523666,"post_id":24360079,"comment_id":37676205,"body_markdown":"You are not adding to the classpath i assume you are adding it to the source path which results in compiling the sources.","body":"You are not adding to the classpath i assume you are adding it to the source path which results in compiling the sources."}],"owner":{"account_id":3802737,"reputation":178,"user_id":3155909,"display_name":"sumanr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680080007,"creation_date":1403506651,"question_id":24360079,"body_markdown":"Im getting the following error when trying to generate the episode file using xjc2-maven-plugin. This error seems to be with META-INF folder creation.\r\nAny idea on how to solve this. I have been stuck of this for quite some time.\r\nthe command line equivalent xjc command seems to work with the same inputs.\r\n \r\n    [INFO] parsing a schema...\r\n    [INFO] compiling a schema...\r\n    [ERROR] null[-1,-1]\r\n    org.xml.sax.SAXParseException; Failed to write to src\\main\\generated\\META-INF\\sun-jaxb.episode\r\n            at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:209)\r\n            at com.sun.tools.xjc.model.Model.generateCode(Model.java:294)\r\n            at com.sun.tools.xjc.Driver.run(Driver.java:363)\r\n            at org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:316)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder\r\n    java:51)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:601)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\r\n    specified)\r\n            at java.io.FileOutputStream.open(Native Method)\r\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\r\n            at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:165)\r\n            at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:170)\r\n            ... 24 more\r\n\t\t\r\nThe snippet of pom.xml\r\n\r\n        &lt;properties&gt;\r\n\t\t&lt;jaxb.mojo.version&gt;1.6&lt;/jaxb.mojo.version&gt;\r\n\t&lt;/properties&gt;\r\n         .\r\n         .\r\n         .\r\n\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;!-- xjc -p com.test.framework.contracts ./main/xsd/Framework.xsd -d ./main/generated -episode ./main/generated/META-INF/sun-jaxb.episode --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jaxb.mojo.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc-framework&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;schemaFiles&gt;Framework.xsd&lt;/schemaFiles&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;-episode src/main/generated/META-INF/sun-jaxb.episode&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.test.framework.contracts&lt;/packageName&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\nHowever changing the line  episode argument \r\n\r\n    &lt;arguments&gt;-episode src/main/generated/sun-jaxb.episode&lt;/arguments&gt;\r\n\r\n makes the compilation pass.\r\nPlease help, i need the episode file to be generated by META-INF.","title":"jaxb2-maven-plugin is giving me a SAXParseException when trying to generate META-INF\\sun-jaxb.episode file","body":"<p>Im getting the following error when trying to generate the episode file using xjc2-maven-plugin. This error seems to be with META-INF folder creation.\nAny idea on how to solve this. I have been stuck of this for quite some time.\nthe command line equivalent xjc command seems to work with the same inputs.</p>\n\n<pre><code>[INFO] parsing a schema...\n[INFO] compiling a schema...\n[ERROR] null[-1,-1]\norg.xml.sax.SAXParseException; Failed to write to src\\main\\generated\\META-INF\\sun-jaxb.episode\n        at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:209)\n        at com.sun.tools.xjc.model.Model.generateCode(Model.java:294)\n        at com.sun.tools.xjc.Driver.run(Driver.java:363)\n        at org.codehaus.mojo.jaxb2.AbstractXjcMojo.execute(AbstractXjcMojo.java:316)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:76)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder\njava:51)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:116)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:361)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:601)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.io.FileNotFoundException: src\\main\\generated\\META-INF\\sun-jaxb.episode (The system cannot find the path\nspecified)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:165)\n        at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:170)\n        ... 24 more\n</code></pre>\n\n<p>The snippet of pom.xml</p>\n\n<pre><code>    &lt;properties&gt;\n    &lt;jaxb.mojo.version&gt;1.6&lt;/jaxb.mojo.version&gt;\n&lt;/properties&gt;\n     .\n     .\n     .\n\n        &lt;plugin&gt;\n            &lt;!-- xjc -p com.test.framework.contracts ./main/xsd/Framework.xsd -d ./main/generated -episode ./main/generated/META-INF/sun-jaxb.episode --&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb.mojo.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc-framework&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaFiles&gt;Framework.xsd&lt;/schemaFiles&gt;\n                        &lt;arguments&gt;-episode src/main/generated/META-INF/sun-jaxb.episode&lt;/arguments&gt;\n                        &lt;outputDirectory&gt;src/main/generated&lt;/outputDirectory&gt;\n                        &lt;packageName&gt;com.test.framework.contracts&lt;/packageName&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>However changing the line  episode argument </p>\n\n<pre><code>&lt;arguments&gt;-episode src/main/generated/sun-jaxb.episode&lt;/arguments&gt;\n</code></pre>\n\n<p>makes the compilation pass.\nPlease help, i need the episode file to be generated by META-INF.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680079801,"creation_date":1680079801,"answer_id":75875018,"question_id":75874470,"body_markdown":"As clearly mentioned in ModelMapper [documentation][1], in **Handling Mismatches**, section:\r\n\r\n&gt; While ModelMapper will do its best to implicitly match source and\r\n&gt; destination properties for you, sometimes you may need to explicitly\r\n&gt; define mappings between properties.\r\n&gt; \r\n&gt; ModelMapper supports a variety of mapping approaches, allowing you to\r\n&gt; use any mix of methods and field references.\r\n\r\nSo here in this case, you would need to define your custom mapping.\r\n\r\nOr moreover you need to use [MatchingStrategies.Standard][2], rather than Loose.\r\n\r\n\r\n  [1]: https://modelmapper.org/getting-started/#handling-mismatches\r\n  [2]: http://modelmapper.org/user-manual/configuration/#matching-strategies","title":"Model Mapper populating value to wrong field during dto to entity conversion","body":"<p>As clearly mentioned in ModelMapper <a href=\"https://modelmapper.org/getting-started/#handling-mismatches\" rel=\"nofollow noreferrer\">documentation</a>, in <strong>Handling Mismatches</strong>, section:</p>\n<blockquote>\n<p>While ModelMapper will do its best to implicitly match source and\ndestination properties for you, sometimes you may need to explicitly\ndefine mappings between properties.</p>\n<p>ModelMapper supports a variety of mapping approaches, allowing you to\nuse any mix of methods and field references.</p>\n</blockquote>\n<p>So here in this case, you would need to define your custom mapping.</p>\n<p>Or moreover you need to use <a href=\"http://modelmapper.org/user-manual/configuration/#matching-strategies\" rel=\"nofollow noreferrer\">MatchingStrategies.Standard</a>, rather than Loose.</p>\n"}],"owner":{"account_id":27600747,"reputation":3,"user_id":21066027,"display_name":"Mortifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680079801,"creation_date":1680075959,"question_id":75874470,"body_markdown":"I have an Entity called MasterEntity which has a unidirectional One to one relationship to another entity called ChildEntity as per below description, which are mapped to respective database tables.\r\n\r\n\r\n```\r\n\r\n    @Entity(name = &quot;MasterEntity&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MasterEntity {\r\n \r\n        @id\r\n        private Integer Id;\r\n        private String Name;\r\n        private String Division;\r\n\r\n        @OneToOne\r\n        @MapsId\r\n        @JoinColumn(name = &quot;Id&quot;)\r\n        private ChildEntity childEntity;\r\n\r\n    }\r\n\r\n    @Entity(name = &quot;childEntity&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ChildEntity {\r\n \r\n        @id\r\n        private Integer Id;\r\n        private String MatchingName;\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd I have a MasterEntityDTO which has fields as below.\r\n\r\n```\r\n\r\n    @Builder\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class MasterEntityDTO {\r\n \r\n    private Integer Id;\r\n    private String Name;\r\n    private String Division;\r\n\r\n    }\r\n\r\n```\r\n\r\nI try to map the dto object to the Entity using Model Mapper.\r\nwith Matching Strategy set to LOOSE since I plan to add additional fields to the DTO which map to childEntity\r\n\r\n```\r\n\r\n    masterEntityDTO.setName(&quot;Jonathan&quot;);\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\r\n\r\n    modelMapper.map(masterEntityDTO, MasterEntity.class);\r\n\r\n```\r\n\r\nThe Resultant entity which I get has following values.\r\n\r\n```\r\nId = null\r\nName = &quot;Jonathan&quot;\r\nDivision = null\r\nId = null\r\nMatchingName = &quot;Jonathan&quot;\r\n```\r\n\r\nso my field **MatchingName** is getting wrongly populated with the value of **Name** field.\r\n\r\nI tried different configurations for the modelMapper but that is not solving the issue.\r\nHow do I fix this?","title":"Model Mapper populating value to wrong field during dto to entity conversion","body":"<p>I have an Entity called MasterEntity which has a unidirectional One to one relationship to another entity called ChildEntity as per below description, which are mapped to respective database tables.</p>\n<pre><code>\n    @Entity(name = &quot;MasterEntity&quot;)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class MasterEntity {\n \n        @id\n        private Integer Id;\n        private String Name;\n        private String Division;\n\n        @OneToOne\n        @MapsId\n        @JoinColumn(name = &quot;Id&quot;)\n        private ChildEntity childEntity;\n\n    }\n\n    @Entity(name = &quot;childEntity&quot;)\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class ChildEntity {\n \n        @id\n        private Integer Id;\n        private String MatchingName;\n\n    }\n\n</code></pre>\n<p>And I have a MasterEntityDTO which has fields as below.</p>\n<pre><code>\n    @Builder\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class MasterEntityDTO {\n \n    private Integer Id;\n    private String Name;\n    private String Division;\n\n    }\n\n</code></pre>\n<p>I try to map the dto object to the Entity using Model Mapper.\nwith Matching Strategy set to LOOSE since I plan to add additional fields to the DTO which map to childEntity</p>\n<pre><code>\n    masterEntityDTO.setName(&quot;Jonathan&quot;);\n\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\n\n    modelMapper.map(masterEntityDTO, MasterEntity.class);\n\n</code></pre>\n<p>The Resultant entity which I get has following values.</p>\n<pre><code>Id = null\nName = &quot;Jonathan&quot;\nDivision = null\nId = null\nMatchingName = &quot;Jonathan&quot;\n</code></pre>\n<p>so my field <strong>MatchingName</strong> is getting wrongly populated with the value of <strong>Name</strong> field.</p>\n<p>I tried different configurations for the modelMapper but that is not solving the issue.\nHow do I fix this?</p>\n"},{"tags":["java","logging","jboss","quarkus"],"owner":{"account_id":28150060,"reputation":23,"user_id":21511793,"display_name":"Ayush Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680079779,"creation_date":1680021359,"question_id":75868843,"body_markdown":"Right now I am modifying the format of my logs using below property in application.properties\r\nquarkus.log.console.format={&quot;time&quot;:&quot;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot;, &quot;level&quot;:&quot;%p&quot;, &quot;logger&quot;:&quot;%c{1.}&quot;, &quot;thread&quot;:&quot;%t&quot;, &quot;key1&quot;:&quot;%X{key1}&quot;, &quot;key2&quot;:&quot;%X{key2}&quot;, &quot;message&quot;:&quot;%s&quot;}%n\r\n\r\nand using org.jboss.logging.MDC to change the values of keys like &#39;key1&#39; and &#39;key2&#39; dynamically at runtime.\r\n\r\nBut how can I do this programmatically? i am using quarkus2.16.4.\r\n\r\nProgrammatically means like in spring boot we use log4j2.Patternlayout and console Appender kind of configuration to change the format of logs. so how can we do this in Quarkus?\r\n\r\n```\r\npublic class MyLoggingConfigurator {\r\n    public static void configureLogging() {\r\n        // Create a pattern formatter for the log format\r\n        PatternFormatter formatter = new PatternFormatter(&quot;{\\&quot;time\\&quot;:\\&quot;%d{yyyy-MM-   dd&#39;T&#39;HH:mm:ss.SSSZ}\\&quot;, \\&quot;level\\&quot;:\\&quot;%p\\&quot;, \\&quot;logger\\&quot;:\\&quot;%c{1.}\\&quot;, \\&quot;thread\\&quot;:\\&quot;%t\\&quot;, \\&quot;key1\\&quot;:\\&quot;%X{key1}\\&quot;, \\&quot;key2\\&quot;:\\&quot;%X{key2}\\&quot;, \\&quot;message\\&quot;:\\&quot;%s\\&quot;}%n&quot;);\r\n\r\n        // Create a console handler and set its formatter and target\r\n        ConsoleHandler handler = new ConsoleHandler();\r\n        handler.setFormatter(formatter);\r\n        handler.setTarget(Target.SYSTEM_OUT);\r\n\r\n        /// Get the Quarkus log level and set it on the console handler\r\n        String logLevel = Logging.getLevel().name();\r\n        handler.setLevel(org.jboss.logmanager.Level.parse(logLevel));\r\n\r\n        // Add the console handler to the logging configuration\r\n        LogConfig config = new LogConfig();\r\n\r\n        config.addHandler(handler);\r\n        LogConfig.set(config);\r\n\r\n        // Get the root logger and set its level to the Quarkus log level\r\n        Logger rootLogger = Logger.getLogger(&quot;&quot;);\r\n        rootLogger.setLevel(org.jboss.logmanager.Level.parse(logLevel));\r\n    }\r\n}\r\n```\r\nbut the above code is not working.","title":"Quarkus Logging Programatically","body":"<p>Right now I am modifying the format of my logs using below property in application.properties\nquarkus.log.console.format={&quot;time&quot;:&quot;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot;, &quot;level&quot;:&quot;%p&quot;, &quot;logger&quot;:&quot;%c{1.}&quot;, &quot;thread&quot;:&quot;%t&quot;, &quot;key1&quot;:&quot;%X{key1}&quot;, &quot;key2&quot;:&quot;%X{key2}&quot;, &quot;message&quot;:&quot;%s&quot;}%n</p>\n<p>and using org.jboss.logging.MDC to change the values of keys like 'key1' and 'key2' dynamically at runtime.</p>\n<p>But how can I do this programmatically? i am using quarkus2.16.4.</p>\n<p>Programmatically means like in spring boot we use log4j2.Patternlayout and console Appender kind of configuration to change the format of logs. so how can we do this in Quarkus?</p>\n<pre><code>public class MyLoggingConfigurator {\n    public static void configureLogging() {\n        // Create a pattern formatter for the log format\n        PatternFormatter formatter = new PatternFormatter(&quot;{\\&quot;time\\&quot;:\\&quot;%d{yyyy-MM-   dd'T'HH:mm:ss.SSSZ}\\&quot;, \\&quot;level\\&quot;:\\&quot;%p\\&quot;, \\&quot;logger\\&quot;:\\&quot;%c{1.}\\&quot;, \\&quot;thread\\&quot;:\\&quot;%t\\&quot;, \\&quot;key1\\&quot;:\\&quot;%X{key1}\\&quot;, \\&quot;key2\\&quot;:\\&quot;%X{key2}\\&quot;, \\&quot;message\\&quot;:\\&quot;%s\\&quot;}%n&quot;);\n\n        // Create a console handler and set its formatter and target\n        ConsoleHandler handler = new ConsoleHandler();\n        handler.setFormatter(formatter);\n        handler.setTarget(Target.SYSTEM_OUT);\n\n        /// Get the Quarkus log level and set it on the console handler\n        String logLevel = Logging.getLevel().name();\n        handler.setLevel(org.jboss.logmanager.Level.parse(logLevel));\n\n        // Add the console handler to the logging configuration\n        LogConfig config = new LogConfig();\n\n        config.addHandler(handler);\n        LogConfig.set(config);\n\n        // Get the root logger and set its level to the Quarkus log level\n        Logger rootLogger = Logger.getLogger(&quot;&quot;);\n        rootLogger.setLevel(org.jboss.logmanager.Level.parse(logLevel));\n    }\n}\n</code></pre>\n<p>but the above code is not working.</p>\n"},{"tags":["java","file","filesystems","extract","iso"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1356692328,"post_id":14068375,"comment_id":19447122,"body_markdown":"You can use winrar command line to extract content of ISO file, but it is paid.","body":"You can use winrar command line to extract content of ISO file, but it is paid."}],"answers":[{"comments":[{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1609614553,"post_id":14068405,"comment_id":115879431,"body_markdown":"Is there any other alternative which is actively being maintained? Seems these libraries are not being maintained anymore.","body":"Is there any other alternative which is actively being maintained? Seems these libraries are not being maintained anymore."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356692018,"creation_date":1356692018,"answer_id":14068405,"question_id":14068375,"body_markdown":"Take a look at [Loopy][1].\r\n\r\n&gt; Loopy is a Java API for accessing various file systems in a read-only\r\n&gt; manner. Loopy was developed as a plug-in for Apache Commons VFS.\r\n&gt; Currently, it only supports the ISO9660 file system (i.e. .iso files).\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/loopy/","title":"Extracting ISO file using Java","body":"<p>Take a look at <a href=\"http://sourceforge.net/projects/loopy/\" rel=\"nofollow\">Loopy</a>.</p>\n\n<blockquote>\n  <p>Loopy is a Java API for accessing various file systems in a read-only\n  manner. Loopy was developed as a plug-in for Apache Commons VFS.\n  Currently, it only supports the ISO9660 file system (i.e. .iso files).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1609614504,"post_id":14068482,"comment_id":115879416,"body_markdown":"Is there any other alternative which is actively being maintained? Seems these libraries are not being maintained anymore.","body":"Is there any other alternative which is actively being maintained? Seems these libraries are not being maintained anymore."},{"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"score":0,"creation_date":1671647400,"post_id":14068482,"comment_id":132145886,"body_markdown":"JAVA ISO tools is a fork of JIIC","body":"JAVA ISO tools is a fork of JIIC"}],"tags":[],"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1357720323,"creation_date":1356692342,"answer_id":14068482,"question_id":14068375,"body_markdown":"I would recommend the following\r\n\r\n **Java ISO Extraction**\r\n\r\n- JAVA ISO tools \r\nhttps://github.com/stephenc/java-iso-tools\r\n\r\n- Loopy\r\nhttp://loopy.sourceforge.net/\r\n\r\n- JIIC: \r\n[Java ISO Image Creator  (a bit old -- uses Java 1.4)](http://jiic.berlios.de/)\r\n\r\n\r\n","title":"Extracting ISO file using Java","body":"<p>I would recommend the following</p>\n\n<p><strong>Java ISO Extraction</strong></p>\n\n<ul>\n<li><p>JAVA ISO tools \n<a href=\"https://github.com/stephenc/java-iso-tools\" rel=\"noreferrer\">https://github.com/stephenc/java-iso-tools</a></p></li>\n<li><p>Loopy\n<a href=\"http://loopy.sourceforge.net/\" rel=\"noreferrer\">http://loopy.sourceforge.net/</a></p></li>\n<li><p>JIIC: \n<a href=\"http://jiic.berlios.de/\" rel=\"noreferrer\">Java ISO Image Creator  (a bit old -- uses Java 1.4)</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680079661,"creation_date":1611995815,"answer_id":65966094,"question_id":14068375,"body_markdown":"By the time I am writing, libraries used in other answers are outdated. So I recommend [sevenzipjbinding][1].\r\n\r\n\r\n  [1]: http://sevenzipjbind.sourceforge.net/","title":"Extracting ISO file using Java","body":"<p>By the time I am writing, libraries used in other answers are outdated. So I recommend <a href=\"http://sevenzipjbind.sourceforge.net/\" rel=\"nofollow noreferrer\">sevenzipjbinding</a>.</p>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671647639,"creation_date":1671647639,"answer_id":74880394,"question_id":14068375,"body_markdown":"The code to read the `ISO9660 CD filesystem` can be generated based on the language `Kaitai Struct`.\r\n\r\nhttps://formats.kaitai.io/iso9660/java.html","title":"Extracting ISO file using Java","body":"<p>The code to read the <code>ISO9660 CD filesystem</code> can be generated based on the language <code>Kaitai Struct</code>.</p>\n<p><a href=\"https://formats.kaitai.io/iso9660/java.html\" rel=\"nofollow noreferrer\">https://formats.kaitai.io/iso9660/java.html</a></p>\n"}],"owner":{"account_id":1236799,"reputation":1452,"user_id":1200235,"accept_rate":76,"display_name":"LeTex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6951,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":14068482,"answer_count":4,"score":11,"last_activity_date":1680079661,"creation_date":1356691890,"question_id":14068375,"body_markdown":"Is there any way to Extract content of ISO file (all directories and files inside) to a give directory in a local path? Specifically using Java in windows environment. \r\n\r\nis there any library you may suggest? or is there any work around to do so ? \r\n\r\nthanks.","title":"Extracting ISO file using Java","body":"<p>Is there any way to Extract content of ISO file (all directories and files inside) to a give directory in a local path? Specifically using Java in windows environment. </p>\n\n<p>is there any library you may suggest? or is there any work around to do so ? </p>\n\n<p>thanks.</p>\n"},{"tags":["java","maven","google-app-engine","pom.xml","app.yaml"],"comments":[{"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"score":1,"creation_date":1612755209,"post_id":66081079,"comment_id":116856721,"body_markdown":"Does your pom.xml and app.yaml has the matching Java runtime version? Please check this thread similar to your question https://stackoverflow.com/questions/50264254/appengine-maven-plugin1-3-1-run-failed-non-zero-exit","body":"Does your pom.xml and app.yaml has the matching Java runtime version? Please check this thread similar to your question <a href=\"https://stackoverflow.com/questions/50264254/appengine-maven-plugin1-3-1-run-failed-non-zero-exit\" title=\"appengine maven plugin1 3 1 run failed non zero exit\">stackoverflow.com/questions/50264254/&hellip;</a>"},{"owner":{"account_id":9942540,"reputation":66,"user_id":7358611,"display_name":"Tom&#225;š K&#246;nig"},"score":0,"creation_date":1618150505,"post_id":66081079,"comment_id":118509468,"body_markdown":"My problem was actually in the wrong logger implementation.","body":"My problem was actually in the wrong logger implementation."},{"owner":{"account_id":20213,"reputation":190030,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1624293194,"post_id":66081079,"comment_id":120313506,"body_markdown":"I&#39;m glad you found the problem. But how did you do that? how did you diagnose the problem? How did you determine that it was the logger, from the error message &quot;deployment failed&quot; and &quot;Non zero exit: 1&quot; ?","body":"I&#39;m glad you found the problem. But how did you do that? how did you diagnose the problem? How did you determine that it was the logger, from the error message &quot;deployment failed&quot; and &quot;Non zero exit: 1&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":900154,"reputation":81,"user_id":936497,"display_name":"BenVercammen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680079632,"creation_date":1680078901,"answer_id":75874882,"question_id":66081079,"body_markdown":"In order to find out more as to why the error occured, run `mvn appengine:deploy -e -X` (-X to log debugging info, -e to log stack trace). \r\n\r\nIn my case, I ran into multiple issues. The first one was easy to figure out:\r\n```log\r\n[INFO] GCLOUD: ERROR: (gcloud.app.deploy) You do not currently have an active account selected.\r\n[INFO] GCLOUD: Please run:\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD:   $ gcloud auth login\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD: to obtain new credentials.\r\n```\r\n\r\nOn the next run, I got:\r\n```log\r\n[INFO] GCLOUD: ERROR: (gcloud.app.deploy) Error Response: [9] Cloud build ... status: FAILURE\r\n[INFO] GCLOUD: did not find any jar files with a Main-Class manifest entry\r\n[INFO] GCLOUD: Full build logs: https://console.cloud.google.com/cloud-build/builds;region=europe-west1/...?project=...\r\n```\r\nChecking the build logs:\r\n```log\r\nStep #2 - &quot;build&quot;: Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry\r\nStep #2 - &quot;build&quot;: --------------------------------------------------------------------------------\r\nStep #2 - &quot;build&quot;: Running &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/outputs/output&quot;\r\nStep #2 - &quot;build&quot;: Done &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/o...&quot; (46.762072ms)\r\nStep #2 - &quot;build&quot;: ERROR: failed to build: exit status 1\r\nFinished Step #2 - &quot;build&quot;\r\nERROR\r\nERROR: build step 2 &quot;eu.gcr.io/gae-runtimes/buildpacks/google-gae-18/java/builder:java_20230320_RC00&quot; failed: step exited with non-zero status: 51\r\n```\r\nLeading to https://stackoverflow.com/questions/63158436/failure-id-838926df-did-not-find-any-jar-files-with-a-main-class-manifest-en\r\n\r\nMy point being: in order to troubleshoot, add ` -X` to the deploy command which will usually give you some extra clues as to what exactly is going wrong.","title":"App engine &quot;Non zero exit: 1&quot; error when application deploy","body":"<p>In order to find out more as to why the error occured, run <code>mvn appengine:deploy -e -X</code> (-X to log debugging info, -e to log stack trace).</p>\n<p>In my case, I ran into multiple issues. The first one was easy to figure out:</p>\n<pre><code>[INFO] GCLOUD: ERROR: (gcloud.app.deploy) You do not currently have an active account selected.\n[INFO] GCLOUD: Please run:\n[INFO] GCLOUD:\n[INFO] GCLOUD:   $ gcloud auth login\n[INFO] GCLOUD:\n[INFO] GCLOUD: to obtain new credentials.\n</code></pre>\n<p>On the next run, I got:</p>\n<pre><code>[INFO] GCLOUD: ERROR: (gcloud.app.deploy) Error Response: [9] Cloud build ... status: FAILURE\n[INFO] GCLOUD: did not find any jar files with a Main-Class manifest entry\n[INFO] GCLOUD: Full build logs: https://console.cloud.google.com/cloud-build/builds;region=europe-west1/...?project=...\n</code></pre>\n<p>Checking the build logs:</p>\n<pre><code>Step #2 - &quot;build&quot;: Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry\nStep #2 - &quot;build&quot;: --------------------------------------------------------------------------------\nStep #2 - &quot;build&quot;: Running &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/outputs/output&quot;\nStep #2 - &quot;build&quot;: Done &quot;mv -f /builder/outputs/output-6393296178649966364 /builder/o...&quot; (46.762072ms)\nStep #2 - &quot;build&quot;: ERROR: failed to build: exit status 1\nFinished Step #2 - &quot;build&quot;\nERROR\nERROR: build step 2 &quot;eu.gcr.io/gae-runtimes/buildpacks/google-gae-18/java/builder:java_20230320_RC00&quot; failed: step exited with non-zero status: 51\n</code></pre>\n<p>Leading to <a href=\"https://stackoverflow.com/questions/63158436/failure-id-838926df-did-not-find-any-jar-files-with-a-main-class-manifest-en\">Failure: (ID: 838926df) did not find any jar files with a Main-Class manifest entry</a></p>\n<p>My point being: in order to troubleshoot, add <code> -X</code> to the deploy command which will usually give you some extra clues as to what exactly is going wrong.</p>\n"}],"owner":{"account_id":9942540,"reputation":66,"user_id":7358611,"display_name":"Tom&#225;š K&#246;nig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680079632,"creation_date":1612640119,"question_id":66081079,"body_markdown":"I am trying to deploy a new version of the application on the google app engine but I am getting this error: \r\n\r\n    com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n\r\nI am clon the repo from git and trying to deploy the application with the command: **&quot;gcloud app deploy&quot;**\r\non the location of file app.yaml (Should be configured correctly). \r\n\r\nI also try to deploy aplicatony b mvn by command: **&quot;mvn package appengine:deploy -Dapp.deploy.projectId=projektID&quot;** \r\n\r\nBut it will give me the same error. \r\n\r\nIt is already an existing application so I don&#39;t have to create a new app or should I? Can you please help me or at least give me some advice?\r\n\r\n**Full stack trace:**\r\n\r\n  \r\n         [ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            -&gt; [Help 1]\r\n                org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n                    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n                    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n                    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n                    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n                    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n                    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n                    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n                    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n                    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n                    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n                    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n                    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n                    at java.lang.reflect.Method.invoke (Method.java:566)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n                    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n                Caused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\r\n                    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:59)\r\n            at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:566)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        Caused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:98)\r\n            at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n            at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:566)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        Caused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n            at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:87)\r\n            at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\r\n            at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit (NonZeroExceptionExitListener.java:28)\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun (LegacyProcessHandler.java:144)\r\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:83)\r\n        at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\r\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)\r\n        at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\r\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n\r\n\r\n\r\n","title":"App engine &quot;Non zero exit: 1&quot; error when application deploy","body":"<p>I am trying to deploy a new version of the application on the google app engine but I am getting this error:</p>\n<pre><code>com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n</code></pre>\n<p>I am clon the repo from git and trying to deploy the application with the command: <strong>&quot;gcloud app deploy&quot;</strong>\non the location of file app.yaml (Should be configured correctly).</p>\n<p>I also try to deploy aplicatony b mvn by command: <strong>&quot;mvn package appengine:deploy -Dapp.deploy.projectId=projektID&quot;</strong></p>\n<p>But it will give me the same error.</p>\n<p>It is already an existing application so I don't have to create a new app or should I? Can you please help me or at least give me some advice?</p>\n<p><strong>Full stack trace:</strong></p>\n<pre><code>     [ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        -&gt; [Help 1]\n            org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:deploy (default-cli) on project demo: App Engine application deployment failed\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n                at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n                at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n                at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n                at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n                at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n                at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n                at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n                at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n                at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n                at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n                at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n                at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n                at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n                at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n                at java.lang.reflect.Method.invoke (Method.java:566)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n                at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n            Caused by: org.apache.maven.plugin.MojoExecutionException: App Engine application deployment failed\n                at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:59)\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    Caused by: com.google.cloud.tools.appengine.AppEngineException: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:98)\n        at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n        at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    Caused by: com.google.cloud.tools.appengine.operations.cloudsdk.process.ProcessHandlerException: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n        at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:87)\n        at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\n        at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n    at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: com.google.cloud.tools.appengine.AppEngineException: Non zero exit: 1\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.NonZeroExceptionExitListener.onExit (NonZeroExceptionExitListener.java:28)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.syncRun (LegacyProcessHandler.java:144)\n    at com.google.cloud.tools.appengine.operations.cloudsdk.process.LegacyProcessHandler.handleProcess (LegacyProcessHandler.java:83)\n    at com.google.cloud.tools.appengine.operations.GcloudRunner.run (GcloudRunner.java:110)\n    at com.google.cloud.tools.appengine.operations.Deployment.deploy (Deployment.java:96)\n    at com.google.cloud.tools.maven.deploy.AppDeployer.deploy (AppDeployer.java:57)\n    at com.google.cloud.tools.maven.deploy.DeployMojo.execute (DeployMojo.java:35)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680076428,"post_id":75874515,"comment_id":133833760,"body_markdown":"Show the full stacktrace","body":"Show the full stacktrace"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":14,"creation_date":1680076573,"post_id":75874515,"comment_id":133833793,"body_markdown":"Is this list being modified by multiple threads by any chance? `ArrayList` isn&#39;t thread-safe.","body":"Is this list being modified by multiple threads by any chance? <code>ArrayList</code> isn&#39;t thread-safe."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1680076654,"post_id":75874515,"comment_id":133833818,"body_markdown":"Yup, has all the smells for multi-threaded access: occurs &quot;randomly&quot;, doesn&#39;t seem possible when looking at the code and yet it happens with some regularity.","body":"Yup, has all the smells for multi-threaded access: occurs &quot;randomly&quot;, doesn&#39;t seem possible when looking at the code and yet it happens with some regularity."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680077240,"post_id":75874515,"comment_id":133833983,"body_markdown":"The simplest &quot;solution&quot; is to replace your `ArrayList` with a `CopyOnWriteList`, but really you probably need to review your code for unsynchronized access to shared data structures and fix/redesign them, because odds are this is not the only potential source for problems.","body":"The simplest &quot;solution&quot; is to replace your <code>ArrayList</code> with a <code>CopyOnWriteList</code>, but really you probably need to review your code for unsynchronized access to shared data structures and fix/redesign them, because odds are this is not the only potential source for problems."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680078436,"post_id":75874515,"comment_id":133834229,"body_markdown":"In the stacktrace the method call `TestRequestPoolSingleton.addToLaunched()` is another hint that this is caused by multi-threaded access to an `ArrayList`","body":"In the stacktrace the method call <code>TestRequestPoolSingleton.addToLaunched()</code> is another hint that this is caused by multi-threaded access to an <code>ArrayList</code>"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680079402,"creation_date":1680076277,"question_id":75874515,"body_markdown":"I am facing a strange issue which is very random. When my code tries to add an entry in ArrayList it throws ArrayOutOfBoundsException. my arraylist does not have fixed size and I do not even add element at specific location. I am trying to add data with just simple add() method. I have never come accross such situation. Anyone who can help me on this?\r\n\r\nException:\r\n\r\n    Exception occured in TestWebService :: _treatRequest() :java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:487)\r\n\tat java.base/java.util.ArrayList.add(ArrayList.java:499)\r\n\tat com.ds.ct.kt.scalaclient.helpers.TestRequestPoolSingleton.addToLaunched(TestRequestPoolSingleton.java:87)\r\n\tat com.ds.ct.kt.TestWebService ._executeRecurrentLaunch(TestWebService .java:200)\r\n\tat com.ds.ct.kt.TestWebService ._executeRecurrentCall(TestWebService .java:158)\r\n\tat com.ds.ct.kt.TestWebService ._treatRequest(TestWebService .java:130)\r\n\tat com.ds.ct.kt.TestWebService .doGet(TestWebService .java:87)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:554)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:772)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat com.el.ap.instance.rpc.RegularSynchronizationQueuedThreadPool$PoolThread.run(RegularSynchronizationQueuedThreadPool.java:550)\r\n\r\nAnd it is getting thrown from below piece of code:\r\n\r\n        String requestID = _getRequestID(iRequest);\r\n    \tString requestLaunchType = _getRequestLaunchType(iRequest);\r\n        Map&lt;String, List&lt;String&gt;&gt;_launchedRequestsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \tList&lt;String&gt; requestList = _launchedRequestsMap.get(requestLaunchType);\r\n    \trequestList.add(requestID);\r\n\r\nHere, requestID can be blank or have string values but it will never be null. Proper checks are performed.\r\n\r\n\r\n\r\n","title":"ArrayIndexOutOfBoundsException while adding an element to ArrayList without mentioning index","body":"<p>I am facing a strange issue which is very random. When my code tries to add an entry in ArrayList it throws ArrayOutOfBoundsException. my arraylist does not have fixed size and I do not even add element at specific location. I am trying to add data with just simple add() method. I have never come accross such situation. Anyone who can help me on this?</p>\n<p>Exception:</p>\n<pre><code>Exception occured in TestWebService :: _treatRequest() :java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\nat java.base/java.util.ArrayList.add(ArrayList.java:487)\nat java.base/java.util.ArrayList.add(ArrayList.java:499)\nat com.ds.ct.kt.scalaclient.helpers.TestRequestPoolSingleton.addToLaunched(TestRequestPoolSingleton.java:87)\nat com.ds.ct.kt.TestWebService ._executeRecurrentLaunch(TestWebService .java:200)\nat com.ds.ct.kt.TestWebService ._executeRecurrentCall(TestWebService .java:158)\nat com.ds.ct.kt.TestWebService ._treatRequest(TestWebService .java:130)\nat com.ds.ct.kt.TestWebService .doGet(TestWebService .java:87)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:554)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:772)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat com.el.ap.instance.rpc.RegularSynchronizationQueuedThreadPool$PoolThread.run(RegularSynchronizationQueuedThreadPool.java:550)\n</code></pre>\n<p>And it is getting thrown from below piece of code:</p>\n<pre><code>    String requestID = _getRequestID(iRequest);\n    String requestLaunchType = _getRequestLaunchType(iRequest);\n    Map&lt;String, List&lt;String&gt;&gt;_launchedRequestsMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    List&lt;String&gt; requestList = _launchedRequestsMap.get(requestLaunchType);\n    requestList.add(requestID);\n</code></pre>\n<p>Here, requestID can be blank or have string values but it will never be null. Proper checks are performed.</p>\n"},{"tags":["java","selenium-webdriver","testing","intellij-idea","cucumber"],"answers":[{"comments":[{"owner":{"account_id":28099205,"reputation":11,"user_id":21468257,"display_name":"Walter Minneci"},"score":0,"creation_date":1680079431,"post_id":75822098,"comment_id":133834531,"body_markdown":"Thanks for the answer but i don&#39;t get how to make it.I&#39;ve shared a screenshot to explain better my problem","body":"Thanks for the answer but i don&#39;t get how to make it.I&#39;ve shared a screenshot to explain better my problem"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569326,"creation_date":1679568961,"answer_id":75822098,"question_id":75821474,"body_markdown":"Instead of using &quot;grouped&quot; scenarios, you can tag individual `Features` or `Scenario` elements with their group functionality.\r\n\r\nFor example:\r\n\r\n\r\n```feature\r\n@login\r\nFeature: Login with LDAP\r\n\r\n  Scenario: ...\r\n     ...\r\n  Scenario: ...\r\n     ...\r\n```\r\n\r\n```feature\r\nFeature: Password authentication\r\n\r\n  @login\r\n  Scenario: Login with username and password\r\n     ...\r\n  \r\n  Scenario: Reset password\r\n     ...\r\n```\r\n\r\nThen you use your test tooling to run a specific group of scenarios matching a tag. How you do this depends on your tooling.\r\n\r\nIf you are using Maven with `cucumber-junit-platform-engine` you can use:\r\n\r\n```\r\nmvn verify -Dgroups=&quot;login&quot;\r\n```\r\n\r\nThis will run the 3 scenarios from the example above. The value of `groups` is a [JUnit 5 tag expression][1] so more complicated selections are possible. It would be prudent to read [the documentation][2].\r\n\r\n\r\nIf you are using Maven with `cucumber-junit` or `cucumber-testng` then you can use:\r\n\r\n```\r\nmvn verify -Dcucumber.filter.tags=@login\r\n```\r\n\r\nThis too will run the 3 scenarios from the example above. The value of `cucumber.filter.tags` is a [Cucumber tag expression][3] so more complicated selections are possible.\r\n\r\n\r\nThe previous two examples use Maven. If you are using the `cucumber-junit-platform-engine` you can also use the [`IncludeTags`][4] annotation with [the JUnit Suite][5] to select tests declaratively. For example:\r\n\r\n```java\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;com/example/features&quot;)\r\n@IncludeTags(&quot;login&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags\r\n  [3]: https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions\r\n  [4]: https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html\r\n  [5]: https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine","title":"Perform a multi test run in Intellij IDEA 2022.2.2 by calling single tests(like these test are variables)","body":"<p>Instead of using &quot;grouped&quot; scenarios, you can tag individual <code>Features</code> or <code>Scenario</code> elements with their group functionality.</p>\n<p>For example:</p>\n<pre><code>@login\nFeature: Login with LDAP\n\n  Scenario: ...\n     ...\n  Scenario: ...\n     ...\n</code></pre>\n<pre><code>Feature: Password authentication\n\n  @login\n  Scenario: Login with username and password\n     ...\n  \n  Scenario: Reset password\n     ...\n</code></pre>\n<p>Then you use your test tooling to run a specific group of scenarios matching a tag. How you do this depends on your tooling.</p>\n<p>If you are using Maven with <code>cucumber-junit-platform-engine</code> you can use:</p>\n<pre><code>mvn verify -Dgroups=&quot;login&quot;\n</code></pre>\n<p>This will run the 3 scenarios from the example above. The value of <code>groups</code> is a <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\" rel=\"nofollow noreferrer\">JUnit 5 tag expression</a> so more complicated selections are possible. It would be prudent to read <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#tags\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>If you are using Maven with <code>cucumber-junit</code> or <code>cucumber-testng</code> then you can use:</p>\n<pre><code>mvn verify -Dcucumber.filter.tags=@login\n</code></pre>\n<p>This too will run the 3 scenarios from the example above. The value of <code>cucumber.filter.tags</code> is a <a href=\"https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions\" rel=\"nofollow noreferrer\">Cucumber tag expression</a> so more complicated selections are possible.</p>\n<p>The previous two examples use Maven. If you are using the <code>cucumber-junit-platform-engine</code> you can also use the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/IncludeTags.html\" rel=\"nofollow noreferrer\"><code>IncludeTags</code></a> annotation with <a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine\" rel=\"nofollow noreferrer\">the JUnit Suite</a> to select tests declaratively. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/example/features&quot;)\n@IncludeTags(&quot;login&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n"}],"owner":{"account_id":28099205,"reputation":11,"user_id":21468257,"display_name":"Walter Minneci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680079394,"creation_date":1679565088,"question_id":75821474,"body_markdown":"I&#39;m an automation tester and I write automatic test in Gherkin+selenium and java.\r\nI have different scenario to test, and i have lots of test related to the same feature.What i want to do is to create a single feature file which recall the automated tests related to the same feature.\r\nLet&#39;s give an example \r\n\r\nSprint X ,there are 3 automatic test that analyze the Login feature.\r\n     - login with wrong credential\r\n     - login with expired credential\r\n     - login with correct credential\r\nSprint x, there are 2 automatic test that analyze the Login Feature.\r\n     - login with blabla\r\n     - login with xyz\r\nThe expectation would be to create a grouped one,called LOGIN.feature by calling single test like we usually do with variables \r\n\r\n\r\nActually what i do is creating a new feature file(that I&#39;ll call &quot;grouped one&quot;),copy and paste the gherkin steps of the automatic test from these sprint into the grouped one.The real problem is: if something changes in single tests,i need to fix the test and the &quot;grouped one&quot;.\r\n\r\nI&#39;m asking your help.\r\n\r\nThank you in advance,\r\n\r\nBest Regards \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgraE.png","title":"Perform a multi test run in Intellij IDEA 2022.2.2 by calling single tests(like these test are variables)","body":"<p>I'm an automation tester and I write automatic test in Gherkin+selenium and java.\nI have different scenario to test, and i have lots of test related to the same feature.What i want to do is to create a single feature file which recall the automated tests related to the same feature.\nLet's give an example</p>\n<p>Sprint X ,there are 3 automatic test that analyze the Login feature.\n- login with wrong credential\n- login with expired credential\n- login with correct credential\nSprint x, there are 2 automatic test that analyze the Login Feature.\n- login with blabla\n- login with xyz\nThe expectation would be to create a grouped one,called LOGIN.feature by calling single test like we usually do with variables</p>\n<p>Actually what i do is creating a new feature file(that I'll call &quot;grouped one&quot;),copy and paste the gherkin steps of the automatic test from these sprint into the grouped one.The real problem is: if something changes in single tests,i need to fix the test and the &quot;grouped one&quot;.</p>\n<p>I'm asking your help.</p>\n<p>Thank you in advance,</p>\n<p>Best Regards\n<a href=\"https://i.stack.imgur.com/QgraE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgraE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-cloud-config","spring-cloud-config-server","spring-cloud-config-client"],"owner":{"account_id":28155115,"reputation":21,"user_id":21515953,"display_name":"Gopiraju Sontineni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680079227,"creation_date":1680071819,"question_id":75873877,"body_markdown":"I configured the application to read the config information from spring cloud config server (spring boot application) which is deployed in IST environment (on PCF), I&#39;m able to fetch the config data from URLs in postman and browser, but application is not able to read the config information and throwing following error.\r\n\r\nNote : It&#39;s perfectly working and read the config data from the locally run cloud config server application  with the following uri http://localhost:8888/\r\n\r\n&gt; {&quot;ts&quot;:&quot;2023-03-29T06:19:32.205Z&quot;,&quot;uuid&quot;:&quot;c5b3a331-49f9-4278-b3a3-3149f9a27809&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;\\r\\n\\r\\n***************************\\r\\nAPPLICATION FAILED TO START\\r\\n***************************\\r\\n\\r\\nDescription:\\r\\n\\r\\nConfig data location &#39;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/&#39; does not exist\\r\\n\\r\\nAction:\\r\\n\\r\\nCheck that the value &#39;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/&#39; at class path resource [application.yml] - 3:13 is correct, or prefix it with &#39;optional:&#39;\\r\\n&quot;,&quot;class&quot;:&quot;org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;trace&quot;:null,&quot;span&quot;:null}\r\n\r\n\r\n\r\nmy Application.yml\r\n```\r\nspring:\r\n  config:\r\n    import: https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\r\n\r\n#    import: http://localhost:8888/\r\n```\r\n\r\nI tried with prefix import URI with **configserver**, now it&#39;s throwing a different error **unable to find valid certification path to requested target**, even though I already added my certificates to trust store\r\nwith the following command\r\n\r\n    keytool -trustcacerts -keystore &quot;C:\\dev\\federated-search-api\\src\\main\\resources\\trust\\fsaapi.jks&quot; -storepass password -importcert -alias fsaconfigcert -file &quot;C:\\Users\\gopiraju.sontineni\\Downloads\\stg.azr-cc-pcf.cloud.bns.crt&quot;\r\n\r\nand added the following lines of code in application.yml\r\n\r\n\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: configserver:https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\r\n  security:\r\n    ssl:\r\n      enabled: true\r\n      trust:\r\n        store: classpath:trust/fsaapi.jks\r\n        password: password\r\n        algorithm: JKS\r\n\r\n```\r\n\r\nError:\r\n\r\n\r\n    {&quot;ts&quot;:&quot;2023-03-29T06:27:30.547Z&quot;,&quot;uuid&quot;:&quot;9598c3f8-c019-4f23-98c3-f8c0195f23ba&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Application run failed&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;exception&quot;:{&quot;message&quot;:&quot;Could not locate PropertySource and the resource is not optional, failing&quot;,&quot;class&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException&quot;,&quot;hash&quot;:&quot;13f3fe7b&quot;,&quot;cause&quot;:&quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot;,&quot;stack&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:196)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:101)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:60)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\\r\\n\\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\\r\\n\\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\\r\\n\\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\\r\\n\\tat com.bns.fsaapi.Application.main(Application.java:12)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\\r\\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/application/default\\&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\\r\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\\r\\n\\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:302)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:117)\\r\\n\\t... 32 common frames omitted\\r\\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:259)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:642)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:461)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:361)\\r\\n\\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\\r\\n\\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\\r\\n\\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\\r\\n\\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\\r\\n\\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\\r\\n\\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\\r\\n\\t... 36 common frames omitted\\r\\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\\r\\n\\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:321)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:221)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:626)\\r\\n\\t... 53 common frames omitted\\r\\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\\r\\n\\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\\r\\n\\t... 59 common frames omitted\\r\\n&quot;},&quot;trace&quot;:null,&quot;span&quot;:null}\r\n\r\n\r\nhow to tackle the above error?\r\n\r\n I&#39;m trying to read application configuration from external source through cloud config server application\r\n","title":"Need help to resolve application not able to read config data from Spring Cloud Config Server deployed in IST environment over HTTPS","body":"<p>I configured the application to read the config information from spring cloud config server (spring boot application) which is deployed in IST environment (on PCF), I'm able to fetch the config data from URLs in postman and browser, but application is not able to read the config information and throwing following error.</p>\n<p>Note : It's perfectly working and read the config data from the locally run cloud config server application  with the following uri http://localhost:8888/</p>\n<blockquote>\n<p>{&quot;ts&quot;:&quot;2023-03-29T06:19:32.205Z&quot;,&quot;uuid&quot;:&quot;c5b3a331-49f9-4278-b3a3-3149f9a27809&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;\\r\\n\\r\\n***************************\\r\\nAPPLICATION FAILED TO START\\r\\n***************************\\r\\n\\r\\nDescription:\\r\\n\\r\\nConfig data location 'https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/' does not exist\\r\\n\\r\\nAction:\\r\\n\\r\\nCheck that the value 'https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/' at class path resource [application.yml] - 3:13 is correct, or prefix it with 'optional:'\\r\\n&quot;,&quot;class&quot;:&quot;org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;trace&quot;:null,&quot;span&quot;:null}</p>\n</blockquote>\n<p>my Application.yml</p>\n<pre><code>spring:\n  config:\n    import: https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\n\n#    import: http://localhost:8888/\n</code></pre>\n<p>I tried with prefix import URI with <strong>configserver</strong>, now it's throwing a different error <strong>unable to find valid certification path to requested target</strong>, even though I already added my certificates to trust store\nwith the following command</p>\n<pre><code>keytool -trustcacerts -keystore &quot;C:\\dev\\federated-search-api\\src\\main\\resources\\trust\\fsaapi.jks&quot; -storepass password -importcert -alias fsaconfigcert -file &quot;C:\\Users\\gopiraju.sontineni\\Downloads\\stg.azr-cc-pcf.cloud.bns.crt&quot;\n</code></pre>\n<p>and added the following lines of code in application.yml</p>\n<pre><code>spring:\n  config:\n    import: configserver:https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/\n  security:\n    ssl:\n      enabled: true\n      trust:\n        store: classpath:trust/fsaapi.jks\n        password: password\n        algorithm: JKS\n\n</code></pre>\n<p>Error:</p>\n<pre><code>{&quot;ts&quot;:&quot;2023-03-29T06:27:30.547Z&quot;,&quot;uuid&quot;:&quot;9598c3f8-c019-4f23-98c3-f8c0195f23ba&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Application run failed&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;pii&quot;:false,&quot;thread&quot;:&quot;restartedMain&quot;,&quot;mdc&quot;:{},&quot;data&quot;:{},&quot;tags&quot;:[],&quot;exception&quot;:{&quot;message&quot;:&quot;Could not locate PropertySource and the resource is not optional, failing&quot;,&quot;class&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException&quot;,&quot;hash&quot;:&quot;13f3fe7b&quot;,&quot;cause&quot;:&quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot;,&quot;stack&quot;:&quot;org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:196)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:101)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:60)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\\r\\n\\tat org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\\r\\n\\tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\\r\\n\\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\\r\\n\\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\\r\\n\\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\\r\\n\\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\\r\\n\\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\\r\\n\\tat com.bns.fsaapi.Application.main(Application.java:12)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\\r\\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for \\&quot;https://federatedconfigserver-ist.apps.stg.azr-cc-pcf.cloud.bns/application/default\\&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\\r\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\\r\\n\\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:302)\\r\\n\\tat org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:117)\\r\\n\\t... 32 common frames omitted\\r\\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:321)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:259)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:642)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:461)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:361)\\r\\n\\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\\r\\n\\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\\r\\n\\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\\r\\n\\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\\r\\n\\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\\r\\n\\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\\r\\n\\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\\r\\n\\tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\\r\\n\\tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\\r\\n\\tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\\r\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\\r\\n\\t... 36 common frames omitted\\r\\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:290)\\r\\n\\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:321)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:221)\\r\\n\\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\\r\\n\\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:626)\\r\\n\\t... 53 common frames omitted\\r\\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\\r\\n\\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\\r\\n\\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\\r\\n\\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\\r\\n\\t... 59 common frames omitted\\r\\n&quot;},&quot;trace&quot;:null,&quot;span&quot;:null}\n</code></pre>\n<p>how to tackle the above error?</p>\n<p>I'm trying to read application configuration from external source through cloud config server application</p>\n"},{"tags":["java","unit-testing","junit","mocking","junit5"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680079143,"post_id":75873664,"comment_id":133834436,"body_markdown":"Why would you want to skip those methods? A lot of extremely brittle tests are written because people take the term unit testing too literal or too extreme.","body":"Why would you want to skip those methods? A lot of extremely brittle tests are written because people take the term unit testing too literal or too extreme."},{"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"score":0,"creation_date":1680156400,"post_id":75873664,"comment_id":133850665,"body_markdown":"@MarkRotteveel those methods are void , so  I don&#39;t want to execute them, I just want to check whether the method is called or not","body":"@MarkRotteveel those methods are void , so  I don&#39;t want to execute them, I just want to check whether the method is called or not"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680165828,"post_id":75873664,"comment_id":133852771,"body_markdown":"I think that is a nonsensical argument. Mocking them because they are void sounds like an excuse.","body":"I think that is a nonsensical argument. Mocking them because they are void sounds like an excuse."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074831,"creation_date":1680074831,"answer_id":75874320,"question_id":75873664,"body_markdown":"Beware that the void method on mocks does nothing by default!\r\n\r\n you can use any of the doThrow(),doAnswer(),doNothing(),doReturn() family of methods from Mockito framework to mock void methods.\r\n\r\nFor example,\r\n\r\n    Mockito.doThrow(new Exception()).when(instance).methodName();\r\n\r\nor if you want to combine it with follow-up behavior,\r\n\r\n    Mockito.doThrow(new Exception()).doNothing().when(instance).methodName();\r\n\r\nor do nothing:\r\n\r\n    Mockito.doNothing().when(spy).methodToMock();\r\n\r\nor you can call real method\r\n\r\n    Mockito.doCallRealMethod().when(&lt;objectInstance&gt;).&lt;method&gt;();\r\n    &lt;objectInstance&gt;.&lt;method&gt;();\r\n\r\nOr, you could call the real method for all methods of that class, doing this:\r\n\r\n    &lt;Object&gt; &lt;objectInstance&gt; = mock(&lt;Object&gt;.class, Mockito.CALLS_REAL_METHODS);","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<p>Beware that the void method on mocks does nothing by default!</p>\n<p>you can use any of the doThrow(),doAnswer(),doNothing(),doReturn() family of methods from Mockito framework to mock void methods.</p>\n<p>For example,</p>\n<pre><code>Mockito.doThrow(new Exception()).when(instance).methodName();\n</code></pre>\n<p>or if you want to combine it with follow-up behavior,</p>\n<pre><code>Mockito.doThrow(new Exception()).doNothing().when(instance).methodName();\n</code></pre>\n<p>or do nothing:</p>\n<pre><code>Mockito.doNothing().when(spy).methodToMock();\n</code></pre>\n<p>or you can call real method</p>\n<pre><code>Mockito.doCallRealMethod().when(&lt;objectInstance&gt;).&lt;method&gt;();\n&lt;objectInstance&gt;.&lt;method&gt;();\n</code></pre>\n<p>Or, you could call the real method for all methods of that class, doing this:</p>\n<pre><code>&lt;Object&gt; &lt;objectInstance&gt; = mock(&lt;Object&gt;.class, Mockito.CALLS_REAL_METHODS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695004,"reputation":21,"user_id":9223726,"display_name":"Lavanya Nagarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680074848,"creation_date":1680074848,"answer_id":75874324,"question_id":75873664,"body_markdown":"Try something like this,\r\n    \r\n    @Test\r\n    public void testProcessMethod() throws Exception {\r\n       try (MockedStatic&lt;Demo&gt; demoMocked = Mockito.mockStatic(Demo.class)) {\r\n      \t    demoMocked.when((str1, str2) -&gt; Demo.processMethod1(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n      \t    demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod1(Mockito.anyString(), Mockito.anyString()));\r\n\r\n      \t    demoMocked.when((str1, str2) -&gt; Demo.processMethod2(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n      \t    demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod2(Mockito.anyString(), Mockito.anyString()));\r\n       }\r\n    }","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<p>Try something like this,</p>\n<pre><code>@Test\npublic void testProcessMethod() throws Exception {\n   try (MockedStatic&lt;Demo&gt; demoMocked = Mockito.mockStatic(Demo.class)) {\n        demoMocked.when((str1, str2) -&gt; Demo.processMethod1(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n        demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod1(Mockito.anyString(), Mockito.anyString()));\n\n        demoMocked.when((str1, str2) -&gt; Demo.processMethod2(str1, str2)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n        demoMocked.verify(Mockito.times(1), () -&gt; Demo.processMethod2(Mockito.anyString(), Mockito.anyString()));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27080115,"reputation":99,"user_id":20629378,"display_name":"Pavan G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75874320,"answer_count":2,"score":2,"last_activity_date":1680079051,"creation_date":1680069988,"question_id":75873664,"body_markdown":"```java\r\npublic class Demo{\r\n    public static CustomObject processMethod(String str1, String str2){\r\n        //do something\r\n        Demo1.processMethod1(str1,str2);\r\n        Demo2.processMethod2(str1,str2);\r\n        return custom Object;\r\n    }\r\n}\r\n\r\npublic class Demo1{\r\n    public static void processMethod1(String str1, String str2){}\r\n}\r\n\r\npublic class Demo2{\r\n    public static void processMethod2(String str1, String str2){}\r\n}\r\n```\r\n\r\n\r\nI am new to unit testing. While creating a test for class Demo processMethod, how to skip the execution of processMethod1 and processMethod2?","title":"How to unit test static methods with custom object as return type using JUnit 5","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Demo{\n    public static CustomObject processMethod(String str1, String str2){\n        //do something\n        Demo1.processMethod1(str1,str2);\n        Demo2.processMethod2(str1,str2);\n        return custom Object;\n    }\n}\n\npublic class Demo1{\n    public static void processMethod1(String str1, String str2){}\n}\n\npublic class Demo2{\n    public static void processMethod2(String str1, String str2){}\n}\n</code></pre>\n<p>I am new to unit testing. While creating a test for class Demo processMethod, how to skip the execution of processMethod1 and processMethod2?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680078808,"post_id":75873923,"comment_id":133834339,"body_markdown":"Please provide the full exception stacktrace, it generally contains details why it couldn&#39;t initialize.","body":"Please provide the full exception stacktrace, it generally contains details why it couldn&#39;t initialize."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1680187063,"post_id":75873923,"comment_id":133858644,"body_markdown":"@vishnu: the initialization problem is probably caused by the interaction with your other dependencies (e.g. old OSGI APIs). We fixed two such problems in 2.20.0.","body":"@vishnu: the initialization problem is probably caused by the interaction with your other dependencies (e.g. old OSGI APIs). We fixed two such problems in 2.20.0."},{"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"score":0,"creation_date":1680274152,"post_id":75873923,"comment_id":133875573,"body_markdown":"I tried 2.20.0 log4j version. It seems to be working","body":"I tried 2.20.0 log4j version. It seems to be working"}],"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680078822,"answer_count":0,"score":0,"last_activity_date":1680078782,"creation_date":1680072101,"question_id":75873923,"body_markdown":"I&#39;m getting an exception after changing log4j-api and log4j-core JARs  from 2.17.0 to 2.19.0,\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\r\n```\r\n\r\n\r\n","title":"Getting Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil","body":"<p>I'm getting an exception after changing log4j-api and log4j-core JARs  from 2.17.0 to 2.19.0,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\n</code></pre>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1680074010,"post_id":75874042,"comment_id":133833183,"body_markdown":"`-jar` should be followed by the jar file or in other words, JVM options should be placed before the `-jar` option.","body":"<code>-jar</code> should be followed by the jar file or in other words, JVM options should be placed before the <code>-jar</code> option."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680078652,"post_id":75874042,"comment_id":133834288,"body_markdown":"Also, if used `-jar &lt;JAR-file&gt;` must be the **last** option, everything after is interpreted as arguments to the program launched by the JAR. I&#39;m surprised it doesn&#39;t produce a different error, but maybe the argument parser is more lenient than the documented syntax.","body":"Also, if used <code>-jar &lt;JAR-file&gt;</code> must be the <b>last</b> option, everything after is interpreted as arguments to the program launched by the JAR. I&#39;m surprised it doesn&#39;t produce a different error, but maybe the argument parser is more lenient than the documented syntax."},{"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"score":0,"creation_date":1680078759,"post_id":75874042,"comment_id":133834317,"body_markdown":"Yes. The options should be placed before `-jar` according to oracle doc https://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html.\n\nit&#39;s surprising that java accepts the option even when I put it after `-jar`.","body":"Yes. The options should be placed before <code>-jar</code> according to oracle doc <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/java.h&zwnj;&#8203;tml</a>.  it&#39;s surprising that java accepts the option even when I put it after <code>-jar</code>."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1680074467,"post_id":75874187,"comment_id":133833293,"body_markdown":"And on Linux x64 it is enabled *by default* so `-XX:+UseContainerSupport` would be redundant.","body":"And on Linux x64 it is enabled <i>by default</i> so <code>-XX:+UseContainerSupport</code> would be redundant."}],"tags":[],"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680078504,"creation_date":1680073986,"answer_id":75874187,"question_id":75874042,"body_markdown":"I found the answer. it&#39;s not working on MacBook.\r\n\r\n&gt; This support is only available on Linux x64 platforms.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\r\n","title":"Unrecognized VM option UseContainerSupport","body":"<p>I found the answer. it's not working on MacBook.</p>\n<blockquote>\n<p>This support is only available on Linux x64 platforms.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE</a></p>\n"}],"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078541,"creation_date":1680073034,"question_id":75874042,"body_markdown":"When I run my spring boot application on Java 11 with the following command, it reports error.\r\n\r\n```none\r\n$ java -jar -XX:+UseContainerSupport tmall-content-gateway-1.0.0-SNAPSHOT.jar\r\nUnrecognized VM option &#39;UseContainerSupport&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nMy java version:\r\n\r\n```none\r\n$ java --version\r\njava 11.0.17 2022-10-18 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n```\r\n\r\n","title":"Unrecognized VM option UseContainerSupport","body":"<p>When I run my spring boot application on Java 11 with the following command, it reports error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java -jar -XX:+UseContainerSupport tmall-content-gateway-1.0.0-SNAPSHOT.jar\nUnrecognized VM option 'UseContainerSupport'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>My java version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java --version\njava 11.0.17 2022-10-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","job-scheduling","java-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680078488,"creation_date":1680078488,"answer_id":75874824,"question_id":75867481,"body_markdown":"&gt; I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet).\r\n\r\nI see no need to do all that pre-processing **before** the job run. This can be done in a preparatory step before the actual processing starts in the same job.\r\n\r\nIf the preparatory work should be done only once, then the preparatory step can be marked as non-restartable, so that in case of failure, the job does not re-execute it and resumes the execution from the processing step.","title":"Filtering after Read in Spring Batch","body":"<blockquote>\n<p>I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet).</p>\n</blockquote>\n<p>I see no need to do all that pre-processing <strong>before</strong> the job run. This can be done in a preparatory step before the actual processing starts in the same job.</p>\n<p>If the preparatory work should be done only once, then the preparatory step can be marked as non-restartable, so that in case of failure, the job does not re-execute it and resumes the execution from the processing step.</p>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874824,"answer_count":1,"score":0,"last_activity_date":1680078488,"creation_date":1680013216,"question_id":75867481,"body_markdown":"I currently have a Spring Batch in which FlatFileItemReader reads from a csv file and then based on the values read goes on executing the rest of tasklets and runs the job. I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet). Could someone help me with a detailed documentation on solutions for this? I am not able to figure out how to do this.\r\n","title":"Filtering after Read in Spring Batch","body":"<p>I currently have a Spring Batch in which FlatFileItemReader reads from a csv file and then based on the values read goes on executing the rest of tasklets and runs the job. I want to make a downstream external api call and based on the response object of this call I want to filter out values that are not part of this response from this before starting the job run(probably I might have to write a tasklet). Could someone help me with a detailed documentation on solutions for this? I am not able to figure out how to do this.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1582237917,"post_id":60328325,"comment_id":106718864,"body_markdown":"Why aren&#39;t you closing the output stream before you attempt to upload the file to S3?","body":"Why aren&#39;t you closing the output stream before you attempt to upload the file to S3?"}],"answers":[{"comments":[{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1582314234,"post_id":60331820,"comment_id":106748286,"body_markdown":"what do you mean exactly by generate a pre signed url? If we’re using a Java spring app our client is going to need to post the pdf form at some sort of api url, are you talking about an implementation similar to this? Please elaborate the work flow you’re thinking of here with this in mind: the client will have to post the pdf form somewhere, it will then get manipulated, and then the new manipulated form will be need to be displayed via a redirect using spring","body":"what do you mean exactly by generate a pre signed url? If we’re using a Java spring app our client is going to need to post the pdf form at some sort of api url, are you talking about an implementation similar to this? Please elaborate the work flow you’re thinking of here with this in mind: the client will have to post the pdf form somewhere, it will then get manipulated, and then the new manipulated form will be need to be displayed via a redirect using spring"},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1582368252,"post_id":60331820,"comment_id":106759133,"body_markdown":"Basically you can tell S3, hey give me a temporary  URL to upload a file, and then give that to the user to upload. Once they have uploaded you can then manipulate it.","body":"Basically you can tell S3, hey give me a temporary  URL to upload a file, and then give that to the user to upload. Once they have uploaded you can then manipulate it."},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1582412023,"post_id":60331820,"comment_id":106770383,"body_markdown":"that does not seem like a very viable option to have built within an application. Could you please elaborate? Could this temp url be re created for each client that wants to submit a form?","body":"that does not seem like a very viable option to have built within an application. Could you please elaborate? Could this temp url be re created for each client that wants to submit a form?"},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":1,"creation_date":1582416581,"post_id":60331820,"comment_id":106771192,"body_markdown":"Not sure what you mean by viable in this context, but anyway what you are doing is `user -&gt; upload to app -&gt; upload to s3` but you can do `app gives URL to user` then `user -&gt; upload to s3`. I suggest you at least try the AWS way first before you decide it is not viable, just find a tutorial somewhere, language doesn&#39;t matter just get the concept down https://github.com/jkahn117/aws-presigned-url-upload","body":"Not sure what you mean by viable in this context, but anyway what you are doing is <code>user -&gt; upload to app -&gt; upload to s3</code> but you can do <code>app gives URL to user</code> then <code>user -&gt; upload to s3</code>. I suggest you at least try the AWS way first before you decide it is not viable, just find a tutorial somewhere, language doesn&#39;t matter just get the concept down <a href=\"https://github.com/jkahn117/aws-presigned-url-upload\" rel=\"nofollow noreferrer\">github.com/jkahn117/aws-presigned-url-upload</a>"},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1582581491,"post_id":60331820,"comment_id":106819898,"body_markdown":"this does not tell us how to upload a file. Tells us how to upload a string that has been written to an output stream. Could you clarify how one would write an entire pdf to s3 with a similar methodology?","body":"this does not tell us how to upload a file. Tells us how to upload a string that has been written to an output stream. Could you clarify how one would write an entire pdf to s3 with a similar methodology?"},{"owner":{"account_id":7167054,"reputation":1003,"user_id":5475850,"display_name":"tankthinks"},"score":0,"creation_date":1582905517,"post_id":60331820,"comment_id":106949497,"body_markdown":"@Snickers3192 is right: you should use an S3 pre-signed url. The example linked above shows how to generate a URL that has &quot;PutObject&quot; permissions, then you use an HTTP PUT request with the pre-signed URL to upload the file, e.g. PDF, to the S3 object specified. There is a Java example in the AWS S3 documentation: https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObjectJavaSDK.html","body":"@Snickers3192 is right: you should use an S3 pre-signed url. The example linked above shows how to generate a URL that has &quot;PutObject&quot; permissions, then you use an HTTP PUT request with the pre-signed URL to upload the file, e.g. PDF, to the S3 object specified. There is a Java example in the AWS S3 documentation: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObjectJavaSDK.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/&hellip;</a>"}],"tags":[],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582255891,"creation_date":1582255891,"answer_id":60331820,"question_id":60328325,"body_markdown":"Can I say I have seen people do this allot, whereby their app, accepts a MultipartFile, and proxy upload it to S3.\r\n\r\nUploading to your App and then S3 honestly is the wrong approach, and has many drawbacks which negate the benefits of using S3 in the first place. Simply generate a pre-signed URL and have your user upload directly to S3. This is preferable for a few reasons but the main ones are:\r\n\r\n - An app which acepts MultipartFile upload can be easily DDOS&#39;ed if not careful, this happened to our app when somebody uploaded many files at the same time whole system went down.\r\n - It will be MUCH slower to upload to your backend app and then upload to S3.\r\n\r\nIf you happened to be using Cognito you can also achieve this with 0 backend code using AWS Amplify. Which I highly recommend, but if not then pre-signed URL is the way to go.","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>Can I say I have seen people do this allot, whereby their app, accepts a MultipartFile, and proxy upload it to S3.</p>\n\n<p>Uploading to your App and then S3 honestly is the wrong approach, and has many drawbacks which negate the benefits of using S3 in the first place. Simply generate a pre-signed URL and have your user upload directly to S3. This is preferable for a few reasons but the main ones are:</p>\n\n<ul>\n<li>An app which acepts MultipartFile upload can be easily DDOS'ed if not careful, this happened to our app when somebody uploaded many files at the same time whole system went down.</li>\n<li>It will be MUCH slower to upload to your backend app and then upload to S3.</li>\n</ul>\n\n<p>If you happened to be using Cognito you can also achieve this with 0 backend code using AWS Amplify. Which I highly recommend, but if not then pre-signed URL is the way to go.</p>\n"},{"tags":[],"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582903479,"creation_date":1582844785,"answer_id":60443032,"question_id":60328325,"body_markdown":"Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url. \r\n\r\n - server gets a file with this byte -&gt; 0010 (this will not be\r\n   interpreted right, because a standard byte has 8 bits)\r\n - so, we encode it in base 64 -&gt; doesn&#39;t matter what result\r\n - decode it to get a standard byte -&gt; 0000 0010 (now this is a standard byte and it&#39;s interpreted right by aws)\r\n - This source here helped a lot as well --&gt;\r\n   https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\r\n\r\n```\r\n        Base64.Encoder enc = Base64.getEncoder();\r\n        byte[] encbytes = enc.encode(file.getBytes());\r\n        for (int i = 0; i &lt; encbytes.length; i++)\r\n        {\r\n            System.out.printf(&quot;%c&quot;, (char) encbytes[i]);\r\n            if (i != 0 &amp;&amp; i % 4 == 0)\r\n                System.out.print(&#39; &#39;);\r\n        }\r\n        Base64.Decoder dec = Base64.getDecoder();\r\n        byte[] barray2 = dec.decode(encbytes);\r\n        InputStream fis = new ByteArrayInputStream(barray2);\r\n\r\n        PutObjectResult objectResult = s3client.putObject(&quot;xxx&quot;, file.getOriginalFilename(), fis, data);\r\n```","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url. </p>\n\n<ul>\n<li>server gets a file with this byte -> 0010 (this will not be\ninterpreted right, because a standard byte has 8 bits)</li>\n<li>so, we encode it in base 64 -> doesn't matter what result</li>\n<li>decode it to get a standard byte -> 0000 0010 (now this is a standard byte and it's interpreted right by aws)</li>\n<li>This source here helped a lot as well -->\n<a href=\"https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\" rel=\"nofollow noreferrer\">https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2</a></li>\n</ul>\n\n<pre><code>        Base64.Encoder enc = Base64.getEncoder();\n        byte[] encbytes = enc.encode(file.getBytes());\n        for (int i = 0; i &lt; encbytes.length; i++)\n        {\n            System.out.printf(\"%c\", (char) encbytes[i]);\n            if (i != 0 &amp;&amp; i % 4 == 0)\n                System.out.print(' ');\n        }\n        Base64.Decoder dec = Base64.getDecoder();\n        byte[] barray2 = dec.decode(encbytes);\n        InputStream fis = new ByteArrayInputStream(barray2);\n\n        PutObjectResult objectResult = s3client.putObject(\"xxx\", file.getOriginalFilename(), fis, data);\n</code></pre>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60443032,"answer_count":2,"score":3,"last_activity_date":1680078263,"creation_date":1582231921,"question_id":60328325,"body_markdown":"I have a Spring App (running on AWS Lambda) that gets a file and uploads it on AWS S3.\r\n\r\nThe Spring Controller sends a `MultipartFile` to my method, where it&#39;s uploaded to AWS S3, using Amazon API Gateway.\r\n\r\n```\r\npublic static void uploadFile(MultipartFile mpFile, String fileName) throws IOException{\r\n\r\n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\r\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\r\n\r\n    OutputStream ops = new FileOutputStream(file);\r\n    ops.write(mpFile.getBytes());\r\n\r\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\r\n\r\n}\r\n```\r\n\r\nI try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.\r\n\r\nWhy is the uploaded PDF file blank?\r\n\r\nI also tried with other files(like PNG image) and when I open it the image I uploaded is corrupted.\r\n\r\nThe only thing that worked was when I uploaded a text file.","title":"AWS Lambda and S3 - uploaded pdf file is blank/corrupt","body":"<p>I have a Spring App (running on AWS Lambda) that gets a file and uploads it on AWS S3.</p>\n<p>The Spring Controller sends a <code>MultipartFile</code> to my method, where it's uploaded to AWS S3, using Amazon API Gateway.</p>\n<pre><code>public static void uploadFile(MultipartFile mpFile, String fileName) throws IOException{\n\n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\n\n    OutputStream ops = new FileOutputStream(file);\n    ops.write(mpFile.getBytes());\n\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\n\n}\n</code></pre>\n<p>I try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.</p>\n<p>Why is the uploaded PDF file blank?</p>\n<p>I also tried with other files(like PNG image) and when I open it the image I uploaded is corrupted.</p>\n<p>The only thing that worked was when I uploaded a text file.</p>\n"},{"tags":["java","reflection","java-11","java-17"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680015376,"post_id":75867835,"comment_id":133822478,"body_markdown":"Why do you need to do this?  Why not just add that .jar file to the classpath when running the program?","body":"Why do you need to do this?  Why not just add that .jar file to the classpath when running the program?"},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015444,"post_id":75867835,"comment_id":133822498,"body_markdown":"@VGR That code (I got from other team member) is used to load .jar files to classpath when running the program.","body":"@VGR That code (I got from other team member) is used to load .jar files to classpath when running the program."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680015691,"post_id":75867835,"comment_id":133822573,"body_markdown":"If this is running in Tomcat, why not just add the .jar file to WEB-INF/lib in your .war file?","body":"If this is running in Tomcat, why not just add the .jar file to WEB-INF/lib in your .war file?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1680015835,"post_id":75867835,"comment_id":133822608,"body_markdown":"@BằngRikimaru: you&#39;re digging deep into the classloader internals that are not documented and not guaranteed to ever be stable. Sometimes that breaks. As others, I *strongly* advise you to find another way to load that class (maybe by instantiating a *new* `URLClassLoader` with the appropriate parent, that usage is actually supported!). And if you choose to ignore that advice, then look if the appropriate `--add-opens` parameters to your Java launcher call can help.","body":"@BằngRikimaru: you&#39;re digging deep into the classloader internals that are not documented and not guaranteed to ever be stable. Sometimes that breaks. As others, I <i>strongly</i> advise you to find another way to load that class (maybe by instantiating a <i>new</i> <code>URLClassLoader</code> with the appropriate parent, that usage is actually supported!). And if you choose to ignore that advice, then look if the appropriate <code>--add-opens</code> parameters to your Java launcher call can help."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015838,"post_id":75867835,"comment_id":133822612,"body_markdown":"@VGR the .jar files are created by external users, they don&#39;t exist in my .war file at build time. When the web application starts, it tried to load these .jar files from users and then the users can use them.","body":"@VGR the .jar files are created by external users, they don&#39;t exist in my .war file at build time. When the web application starts, it tried to load these .jar files from users and then the users can use them."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680015964,"post_id":75867835,"comment_id":133822651,"body_markdown":"@JoachimSauer thanks for the advice, I didn&#39;t develop the code though. This is unfamiliar to me, I couldn&#39;t add the extra parameter to JDK so this needs to do another workaround.","body":"@JoachimSauer thanks for the advice, I didn&#39;t develop the code though. This is unfamiliar to me, I couldn&#39;t add the extra parameter to JDK so this needs to do another workaround."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680017604,"post_id":75867835,"comment_id":133823203,"body_markdown":"I assume each of these user-provided .jar files needs to have at least one class which implements a known interface (or extends a known abstract class), so your program knows what to call.  If this is the case, [ServiceLoader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html) is probably the correct, approved, and safe way to accomplish your task.","body":"I assume each of these user-provided .jar files needs to have at least one class which implements a known interface (or extends a known abstract class), so your program knows what to call.  If this is the case, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> is probably the correct, approved, and safe way to accomplish your task."},{"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"score":0,"creation_date":1680031880,"post_id":75867835,"comment_id":133826945,"body_markdown":"@VGR thanks,  I will have a look about ServiceLoader tomorrow","body":"@VGR thanks,  I will have a look about ServiceLoader tomorrow"}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1680035338,"creation_date":1680035338,"answer_id":75870786,"question_id":75867835,"body_markdown":"if you don&#39;t mind using unsafe reflection you can replace the call to &quot;setAccesible&quot; with:\r\n\r\n    Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    unsafeField.setAccessible(true);\r\n    ((Unsafe) unsafeField.get(null)).putBoolean(method, 12, true);","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>if you don't mind using unsafe reflection you can replace the call to &quot;setAccesible&quot; with:</p>\n<pre><code>Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\nunsafeField.setAccessible(true);\n((Unsafe) unsafeField.get(null)).putBoolean(method, 12, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680078256,"creation_date":1680078256,"answer_id":75874788,"question_id":75867835,"body_markdown":"Thanks to [VGR user][1], I managed to make it work with these steps below using `ServiceLoader` from JDK 1.6:\r\n\r\nFirst, in the project code I create a file call `Service`\r\n\r\n```\r\npackage test\r\npublic interface Service {\r\n    \r\n    public Result handle(List&lt;Result&gt; paramList);\r\n    \r\n}\r\n```\r\n\r\nThen, I create a separated java file out of the project code which will be built as external java file\r\n\r\n```\r\npackage implement\r\nimport test.Service;\r\npublic class ServiceImp implements Service {\r\n  \r\n    public Result handle(List&lt;Result&gt; paramList) {\r\n        // write code here\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen, I build the jar file for `implement.jar` which contains `SeviceImp.class`. \r\n\r\nNOTE: in this jar file, it must contain this file path\r\n`META-INF/services/test.Service` and the file contains `test.ServiceImp`.\r\n\r\n\r\nIn the project code, I have this method to load the given `implement.jar` file.\r\n\r\n```\r\n            URL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\r\n            ClassLoader parent = UdfInvoker.class.getClassLoader();\r\n            URLClassLoader c = new URLClassLoader(urls, parent);\r\n            \r\n            ServiceLoader&lt;Service&gt; sl = ServiceLoader.load(Service.class, c);\r\n            Iterator&lt;Service&gt; apit = sl.iterator();\r\n            while (apit.hasNext()) {\r\n                // Here you can store it to a list to reuse later or call it directly \r\n                apit.next().handle(new ArrayList&lt;&gt;());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1831987/vgr","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1831987/vgr\">VGR user</a>, I managed to make it work with these steps below using <code>ServiceLoader</code> from JDK 1.6:</p>\n<p>First, in the project code I create a file call <code>Service</code></p>\n<pre><code>package test\npublic interface Service {\n    \n    public Result handle(List&lt;Result&gt; paramList);\n    \n}\n</code></pre>\n<p>Then, I create a separated java file out of the project code which will be built as external java file</p>\n<pre><code>package implement\nimport test.Service;\npublic class ServiceImp implements Service {\n  \n    public Result handle(List&lt;Result&gt; paramList) {\n        // write code here\n    }\n\n}\n\n</code></pre>\n<p>Then, I build the jar file for <code>implement.jar</code> which contains <code>SeviceImp.class</code>.</p>\n<p>NOTE: in this jar file, it must contain this file path\n<code>META-INF/services/test.Service</code> and the file contains <code>test.ServiceImp</code>.</p>\n<p>In the project code, I have this method to load the given <code>implement.jar</code> file.</p>\n<pre><code>            URL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\n            ClassLoader parent = UdfInvoker.class.getClassLoader();\n            URLClassLoader c = new URLClassLoader(urls, parent);\n            \n            ServiceLoader&lt;Service&gt; sl = ServiceLoader.load(Service.class, c);\n            Iterator&lt;Service&gt; apit = sl.iterator();\n            while (apit.hasNext()) {\n                // Here you can store it to a list to reuse later or call it directly \n                apit.next().handle(new ArrayList&lt;&gt;());\n</code></pre>\n"}],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75874788,"answer_count":2,"score":1,"last_activity_date":1680078256,"creation_date":1680015228,"question_id":75867835,"body_markdown":"I&#39;ve this code below which is used to load methods defined in some external `jar` files and in the web application using Spring Boot 2.7.10 version, it can invoke these external methods at run time.\r\n\r\nThis works fine with java 11, but when upgraded to java 17, it has error:\r\n\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @221af3c0\r\n```\r\n\r\n```\r\n    private static void addToClassPath(String jarFilePath) {\r\n        try {\r\n            File file = new File(jarFilePath);\r\n            if (!(file.exists() &amp;&amp; file.canRead())) {\r\n                throw new UdfDirectoryNotAccessibleException(jarFilePath);\r\n            }\r\n            URL url = file.toURI().toURL();\r\n            URLClassLoader urlClassLoader = (URLClassLoader) UdfInvoker.class.getClassLoader();\r\n            Class urlClass = URLClassLoader.class;\r\n            Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\r\n\r\n            // error here since java 17\r\n            method.setAccessible(true);\r\n            method.invoke(urlClassLoader, new Object[] { url });\r\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\r\n            throw new UdfFailedLoadingException(jarFilePath, ex.getMessage(), ex);\r\n        } catch (MalformedURLException ex) {\r\n            throw new UdfJarFileNotAccessibleException(jarFilePath, ex.getMessage(), ex);\r\n        }\r\n    }\r\n```\r\n\r\nDoes anyone know how this code can work with java 17 or if it can change to use something else which can work with both java 11 and java 17? Thanks.\r\n\r\n\r\n**NOTE:** \r\n\r\n- Adding arguments to JDK is not an option as I cannot change that in servlet container Tomcat or JRE of development machine.\r\n- Downgrade java version to 11 is also not an option.","title":"java 17 - reflection to use methods in external jar files - Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible","body":"<p>I've this code below which is used to load methods defined in some external <code>jar</code> files and in the web application using Spring Boot 2.7.10 version, it can invoke these external methods at run time.</p>\n<p>This works fine with java 11, but when upgraded to java 17, it has error:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @221af3c0\n</code></pre>\n<pre><code>    private static void addToClassPath(String jarFilePath) {\n        try {\n            File file = new File(jarFilePath);\n            if (!(file.exists() &amp;&amp; file.canRead())) {\n                throw new UdfDirectoryNotAccessibleException(jarFilePath);\n            }\n            URL url = file.toURI().toURL();\n            URLClassLoader urlClassLoader = (URLClassLoader) UdfInvoker.class.getClassLoader();\n            Class urlClass = URLClassLoader.class;\n            Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\n\n            // error here since java 17\n            method.setAccessible(true);\n            method.invoke(urlClassLoader, new Object[] { url });\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\n            throw new UdfFailedLoadingException(jarFilePath, ex.getMessage(), ex);\n        } catch (MalformedURLException ex) {\n            throw new UdfJarFileNotAccessibleException(jarFilePath, ex.getMessage(), ex);\n        }\n    }\n</code></pre>\n<p>Does anyone know how this code can work with java 17 or if it can change to use something else which can work with both java 11 and java 17? Thanks.</p>\n<p><strong>NOTE:</strong></p>\n<ul>\n<li>Adding arguments to JDK is not an option as I cannot change that in servlet container Tomcat or JRE of development machine.</li>\n<li>Downgrade java version to 11 is also not an option.</li>\n</ul>\n"},{"tags":["java","lwjgl","xbox"],"answers":[{"tags":[],"owner":{"account_id":4373177,"reputation":373,"user_id":5381049,"accept_rate":38,"display_name":"Jujhar Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544989518,"creation_date":1544989518,"answer_id":53805855,"question_id":53805197,"body_markdown":"No, this is not possible. a JVM (runtime that runs your compiled Java code) currently does not exist for the XBOX. You can consider using a language like C# with Unity or C++ with a lower level framework.","title":"Port a LWJGL Java Game to XBOX","body":"<p>No, this is not possible. a JVM (runtime that runs your compiled Java code) currently does not exist for the XBOX. You can consider using a language like C# with Unity or C++ with a lower level framework.</p>\n"}],"owner":{"account_id":14829006,"reputation":19,"user_id":10709042,"display_name":"q4zr 36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1680096184,"answer_count":1,"score":0,"last_activity_date":1680078133,"creation_date":1544984530,"question_id":53805197,"body_markdown":"Is it possible to create a Java game that was created using LWJGL to the XBOX?\r\n\r\nI&#39;ve seen Minecraft create their game for tons of platforms and I am wondering if I could do the same.\r\n\r\nI&#39;ve seen another person ask a question on if it is possible to create one for Android, but I think that would be easier to do for Android because they support Java by default.\r\n\r\nIf it is possible to do this, please link me to useful information to how I can do this myself. Also, don&#39;t just say &quot;no&quot; if it isn&#39;t possible. I want you to tell me why you can&#39;t. Thanks!","title":"Port a LWJGL Java Game to XBOX","body":"<p>Is it possible to create a Java game that was created using LWJGL to the XBOX?</p>\n\n<p>I've seen Minecraft create their game for tons of platforms and I am wondering if I could do the same.</p>\n\n<p>I've seen another person ask a question on if it is possible to create one for Android, but I think that would be easier to do for Android because they support Java by default.</p>\n\n<p>If it is possible to do this, please link me to useful information to how I can do this myself. Also, don't just say \"no\" if it isn't possible. I want you to tell me why you can't. Thanks!</p>\n"},{"tags":["parsing","numberformatexception","java"],"comments":[{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524039789,"post_id":49894638,"comment_id":86804710,"body_markdown":"`NumberFormatException` - If the string cannot be parsed as a long. Editted","body":"<code>NumberFormatException</code> - If the string cannot be parsed as a long. Editted"},{"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"score":0,"creation_date":1524039891,"post_id":49894638,"comment_id":86804774,"body_markdown":"If `null` is an expected value in some cases, perform a null check in before or sourround with try/catch","body":"If <code>null</code> is an expected value in some cases, perform a null check in before or sourround with try/catch"},{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524039960,"post_id":49894638,"comment_id":86804812,"body_markdown":"@Andr&#233;Stannek it should be never NULL, and if it was, i perform a default action","body":"@Andr&#233;Stannek it should be never NULL, and if it was, i perform a default action"},{"owner":{"account_id":188555,"reputation":6379,"user_id":427321,"accept_rate":71,"display_name":"Bal&#225;zs N&#233;meth"},"score":0,"creation_date":1524039967,"post_id":49894638,"comment_id":86804817,"body_markdown":"Possible duplicate of [How to check if a String is numeric in Java](https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java\">How to check if a String is numeric in Java</a>"},{"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"score":0,"creation_date":1524040094,"post_id":49894638,"comment_id":86804891,"body_markdown":"Possible duplicate of [How to check a string contains only digits and decimal points?](https://stackoverflow.com/questions/24833364/how-to-check-a-string-contains-only-digits-and-decimal-points)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24833364/how-to-check-a-string-contains-only-digits-and-decimal-points\">How to check a string contains only digits and decimal points?</a>"},{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524040398,"post_id":49894638,"comment_id":86805082,"body_markdown":"All the duplicate flags, did you even read my problem?","body":"All the duplicate flags, did you even read my problem?"}],"answers":[{"tags":[],"owner":{"account_id":2888754,"reputation":285,"user_id":2478009,"display_name":"Ehler"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1582021850,"creation_date":1524039867,"answer_id":49894716,"question_id":49894638,"body_markdown":"You can use the `NumberUtils` from Apache Commons. It&#39;s null-safe and you can optionally specify a default value.\r\n\r\nExample:\r\n\r\n    NumberUtils.toLong(null) = 0L\r\n    NumberUtils.toLong(&quot;&quot;)   = 0L\r\n    NumberUtils.toLong(&quot;1&quot;)  = 1L\r\n\r\n    NumberUtils.toLong(null, 1L) = 1L\r\n    NumberUtils.toLong(&quot;&quot;, 1L)   = 1L\r\n    NumberUtils.toLong(&quot;1&quot;, 0L)  = 1L\r\n\r\nFor more info, check the [API][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html#toLong(java.lang.String)","title":"Nullsafe Long valueOf","body":"<p>You can use the <code>NumberUtils</code> from Apache Commons. It's null-safe and you can optionally specify a default value.</p>\n\n<p>Example:</p>\n\n<pre><code>NumberUtils.toLong(null) = 0L\nNumberUtils.toLong(\"\")   = 0L\nNumberUtils.toLong(\"1\")  = 1L\n\nNumberUtils.toLong(null, 1L) = 1L\nNumberUtils.toLong(\"\", 1L)   = 1L\nNumberUtils.toLong(\"1\", 0L)  = 1L\n</code></pre>\n\n<p>For more info, check the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/NumberUtils.html#toLong(java.lang.String)\" rel=\"noreferrer\">API</a>.</p>\n"},{"tags":[],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524039884,"creation_date":1524039884,"answer_id":49894720,"question_id":49894638,"body_markdown":"I&#39;m assuming criteriaIdentifier is a String.\r\nYou could use\r\n[org.apache.commons.lang3.math.NumberUtils.toLong(String, long)][1] which gives you the default value if the String argument is null.\r\nOr you use [org.apache.commons.lang3.math.NumberUtils.toLong(String)][2] which returns zero if the String is null.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-long-\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-","title":"Nullsafe Long valueOf","body":"<p>I'm assuming criteriaIdentifier is a String.\nYou could use\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-long-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.math.NumberUtils.toLong(String, long)</a> which gives you the default value if the String argument is null.\nOr you use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/math/NumberUtils.html#toLong-java.lang.String-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.math.NumberUtils.toLong(String)</a> which returns zero if the String is null.</p>\n"},{"comments":[{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524040862,"post_id":49894757,"comment_id":86805363,"body_markdown":"The service etc don&#39;t care what IDs put in.","body":"The service etc don&#39;t care what IDs put in."}],"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524039994,"creation_date":1524039994,"answer_id":49894757,"question_id":49894638,"body_markdown":"It depends on your scenario but usually there are ways to avoid such problems. \r\n\r\nGenerally setting IDs to -1 is a common practice but I don&#39;t think it is a good one. You know that -1 is not a possible value in your scenario but considering just the type Long it is a valid value. So everywhere in the code you will need to implement tests like if `id!=-1` which makes the code harder to understand and generally the `null` value is more suitable for that scenario - Long object without a value.\r\n\r\nIf it was up to me for example in the method that receives an ID and waits a valid ID if I get null I would throw an exception and let the caller of the method handle that. If it is a web API for example (otherwise why would you get a String?) then you can throw an HTTP error. Or if you want to handle bad arguments then you better return null or use null as default value. \r\n","title":"Nullsafe Long valueOf","body":"<p>It depends on your scenario but usually there are ways to avoid such problems. </p>\n\n<p>Generally setting IDs to -1 is a common practice but I don't think it is a good one. You know that -1 is not a possible value in your scenario but considering just the type Long it is a valid value. So everywhere in the code you will need to implement tests like if <code>id!=-1</code> which makes the code harder to understand and generally the <code>null</code> value is more suitable for that scenario - Long object without a value.</p>\n\n<p>If it was up to me for example in the method that receives an ID and waits a valid ID if I get null I would throw an exception and let the caller of the method handle that. If it is a web API for example (otherwise why would you get a String?) then you can throw an HTTP error. Or if you want to handle bad arguments then you better return null or use null as default value. </p>\n"},{"comments":[{"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"score":0,"creation_date":1524040443,"post_id":49894761,"comment_id":86805115,"body_markdown":"is there a Java 7 solution to this too?","body":"is there a Java 7 solution to this too?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1524040526,"post_id":49894761,"comment_id":86805151,"body_markdown":"@0x45 unfortunately no, there isn&#39;t as such. `Optional` comes with Java 8. You can either build your own util or use external libraries (or just check for `null` explicitly and assigning a value).","body":"@0x45 unfortunately no, there isn&#39;t as such. <code>Optional</code> comes with Java 8. You can either build your own util or use external libraries (or just check for <code>null</code> explicitly and assigning a value)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1524158255,"post_id":49894761,"comment_id":86869411,"body_markdown":"You shouldn&#39;t use Optional this way, just use a ternary expression, or do an explicit null check using an if.","body":"You shouldn&#39;t use Optional this way, just use a ternary expression, or do an explicit null check using an if."}],"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524040421,"creation_date":1524040005,"answer_id":49894761,"question_id":49894638,"body_markdown":"`Long.valueOf(null)` will throw `NumberFormatException`, not `NullPointerException`. \r\n\r\nIn Java 8, you have the possibility to declaratively choose a default evaluation for a nullable inline, e.g.\r\n\r\n    Long.valueOf(\r\n        Optional.ofNullable(criteriaIdentifier).orElseGet(() -&gt; &quot;-1&quot;)\r\n    )\r\n\r\nIt&#39;s a little verbose, but will allow you to default to `-1l` if `criteriaIdentifier` is `null` (no need for additional dependencies).\r\n\r\nAPI [here][1] and [here][2]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-","title":"Nullsafe Long valueOf","body":"<p><code>Long.valueOf(null)</code> will throw <code>NumberFormatException</code>, not <code>NullPointerException</code>. </p>\n\n<p>In Java 8, you have the possibility to declaratively choose a default evaluation for a nullable inline, e.g.</p>\n\n<pre><code>Long.valueOf(\n    Optional.ofNullable(criteriaIdentifier).orElseGet(() -&gt; \"-1\")\n)\n</code></pre>\n\n<p>It's a little verbose, but will allow you to default to <code>-1l</code> if <code>criteriaIdentifier</code> is <code>null</code> (no need for additional dependencies).</p>\n\n<p>API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":117490,"reputation":889,"user_id":2691447,"display_name":"msd.salehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680078131,"creation_date":1602683176,"answer_id":64354720,"question_id":49894638,"body_markdown":"When we say nullSafe we usually expect to receive a `null` from the API when passing `null` to it, not a `0` or `-1` or any other value. \r\n\r\nThe intention is that the API does not break in case of receiving `null`, but simply returning `null`.\r\n\r\nFor this, use `createLong` static method of the `org.apache.commons.lang3.math.NumberUtils`.\r\n\r\nCAUSION*:\r\nThis throws NumberFormatException if the input String is NOT `null` and is NOT numeric.\r\n\r\nCAUSION**: since 3.1 it handles hex (0Xhhhh) and octal (0ddd) notations. N.B. a leading zero means octal; spaces are not trimmed.\r\n\r\nSample:\r\n\r\n    NumberUtils.createLong(null) --&gt; null\r\n    NumberUtils.createLong(&quot;1&quot;) --&gt; 1\r\n    NumberUtils.createLong(&quot;hi&quot;) --&gt; NumberFormatException\r\n    NumberUtils.createLong(&quot; 11&quot;) --&gt; NumberFormatException (does not trim)\r\n    NumberUtils.createLong(&quot;023&quot;) --&gt; 19 (leading 0 means octal)\r\n    NumberUtils.createLong(&quot;0x23&quot;) --&gt; 35 (leading 0x means hex)\r\n\r\n","title":"Nullsafe Long valueOf","body":"<p>When we say nullSafe we usually expect to receive a <code>null</code> from the API when passing <code>null</code> to it, not a <code>0</code> or <code>-1</code> or any other value.</p>\n<p>The intention is that the API does not break in case of receiving <code>null</code>, but simply returning <code>null</code>.</p>\n<p>For this, use <code>createLong</code> static method of the <code>org.apache.commons.lang3.math.NumberUtils</code>.</p>\n<p>CAUSION*:\nThis throws NumberFormatException if the input String is NOT <code>null</code> and is NOT numeric.</p>\n<p>CAUSION**: since 3.1 it handles hex (0Xhhhh) and octal (0ddd) notations. N.B. a leading zero means octal; spaces are not trimmed.</p>\n<p>Sample:</p>\n<pre><code>NumberUtils.createLong(null) --&gt; null\nNumberUtils.createLong(&quot;1&quot;) --&gt; 1\nNumberUtils.createLong(&quot;hi&quot;) --&gt; NumberFormatException\nNumberUtils.createLong(&quot; 11&quot;) --&gt; NumberFormatException (does not trim)\nNumberUtils.createLong(&quot;023&quot;) --&gt; 19 (leading 0 means octal)\nNumberUtils.createLong(&quot;0x23&quot;) --&gt; 35 (leading 0x means hex)\n</code></pre>\n"}],"owner":{"account_id":11354773,"reputation":789,"user_id":8331312,"accept_rate":57,"display_name":"0x45"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26690,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":49894716,"answer_count":5,"score":11,"last_activity_date":1680078131,"creation_date":1524039591,"question_id":49894638,"body_markdown":"Imagine the following scenario\r\n`Long critId = Long.valueOf(criteriaIdentifier);`\r\n\r\nIf the view is initially loaded `criteriaIdentifier` may be null, afterwards I set the value depending of the `selectedItem` in the JSF View.\r\n\r\nHowever, `Long.valueOf(criteriaIdentifier)` throws a `NumberFormatException` - If the string cannot be parsed as a long(i.e `null`).\r\n\r\nI&#39;ve thought of default setting the Id to default `-1`, but I wanted to know if there is better practice .\r\n\r\n\r\n*PS: technically the `criteriaIdentifier` can&#39;t be -1, since these values are set from the Database, with a Sequence Generator, so I should know -1 was the default value and properly do the default operations*","title":"Nullsafe Long valueOf","body":"<p>Imagine the following scenario\n<code>Long critId = Long.valueOf(criteriaIdentifier);</code></p>\n\n<p>If the view is initially loaded <code>criteriaIdentifier</code> may be null, afterwards I set the value depending of the <code>selectedItem</code> in the JSF View.</p>\n\n<p>However, <code>Long.valueOf(criteriaIdentifier)</code> throws a <code>NumberFormatException</code> - If the string cannot be parsed as a long(i.e <code>null</code>).</p>\n\n<p>I've thought of default setting the Id to default <code>-1</code>, but I wanted to know if there is better practice .</p>\n\n<p><em>PS: technically the <code>criteriaIdentifier</code> can't be -1, since these values are set from the Database, with a Sequence Generator, so I should know -1 was the default value and properly do the default operations</em></p>\n"},{"tags":["java","kotlin","object","callable"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680044894,"post_id":75871546,"comment_id":133829282,"body_markdown":"Is Callable a functional interface, non-functional interface, or class? A functional interface is one that has only one function declared that has no default implementation.","body":"Is Callable a functional interface, non-functional interface, or class? A functional interface is one that has only one function declared that has no default implementation."}],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680078121,"creation_date":1680078121,"answer_id":75874762,"question_id":75871546,"body_markdown":"I&#39;m guessing the `Callable` you are referring to is [`java.util.concurrent.Callable`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html), which is a functional interface (it has the `@FunctionalInterface` annotation). This means that you can pass a lambda directly, like so\r\n\r\n```kotlin\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;, { userMethod })\r\n    .build()\r\n```\r\n\r\nor, because the lambda is the last argument, even\r\n\r\n```kotlin\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;) { userMethod }\r\n    .build()\r\n```\r\n\r\nSee the Kotlin documentation on [SAM conversions](https://kotlinlang.org/docs/java-interop.html#sam-conversions) when the interface is in Java, or [functional interfaces](https://kotlinlang.org/docs/fun-interfaces.html) for general information about Kotlin&#39;s functional interfaces. ","title":"Creating objects and overriding their method constructors from java to kotlin","body":"<p>I'm guessing the <code>Callable</code> you are referring to is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.Callable</code></a>, which is a functional interface (it has the <code>@FunctionalInterface</code> annotation). This means that you can pass a lambda directly, like so</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;, { userMethod })\n    .build()\n</code></pre>\n<p>or, because the lambda is the last argument, even</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;) { userMethod }\n    .build()\n</code></pre>\n<p>See the Kotlin documentation on <a href=\"https://kotlinlang.org/docs/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversions</a> when the interface is in Java, or <a href=\"https://kotlinlang.org/docs/fun-interfaces.html\" rel=\"nofollow noreferrer\">functional interfaces</a> for general information about Kotlin's functional interfaces.</p>\n"}],"owner":{"account_id":28152492,"reputation":3,"user_id":21513758,"display_name":"TheDeverino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078121,"creation_date":1680042045,"question_id":75871546,"body_markdown":"```\r\nPaintBuilder.newBuilder()\r\n    .addString(&quot;Method: &quot;, new Callable&lt;String&gt;() {\r\n        @Override\r\n        public String call() throws Exception {\r\n            return userMethod;\r\n        }\r\n    })\r\n    .build()\r\n```\r\n\r\n\r\nSo I have this code here in java and it has a method that accepts a string and a Callable&lt;String&gt;, the code here is able to create a new object that isn&#39;t saved to any variable, basically just passing the new Callable&lt;Strings&gt; object as a parameter. But it overrides of the methods after being created. \r\n\r\nHow do you do this with kotlin?\r\n\r\nCallable&lt;String&gt;... and then what? Doing brackets doesnt help, all it tells me is I cannot override call as its a local function.\r\n\r\nI tried converting it to Kotlin by doing: Callable&lt;String&gt; {...}","title":"Creating objects and overriding their method constructors from java to kotlin","body":"<pre><code>PaintBuilder.newBuilder()\n    .addString(&quot;Method: &quot;, new Callable&lt;String&gt;() {\n        @Override\n        public String call() throws Exception {\n            return userMethod;\n        }\n    })\n    .build()\n</code></pre>\n<p>So I have this code here in java and it has a method that accepts a string and a Callable, the code here is able to create a new object that isn't saved to any variable, basically just passing the new Callable object as a parameter. But it overrides of the methods after being created.</p>\n<p>How do you do this with kotlin?</p>\n<p>Callable... and then what? Doing brackets doesnt help, all it tells me is I cannot override call as its a local function.</p>\n<p>I tried converting it to Kotlin by doing: Callable {...}</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1680011542,"post_id":75865736,"comment_id":133821366,"body_markdown":"You can&#39;t combine Spring MVC and Spring Cloud Gateway in the same application. From what you shown thus far, you could complete the migration by updating the integration tests to use `WebTestClient` rather than `MockMvc`.","body":"You can&#39;t combine Spring MVC and Spring Cloud Gateway in the same application. From what you shown thus far, you could complete the migration by updating the integration tests to use <code>WebTestClient</code> rather than <code>MockMvc</code>."}],"answers":[{"tags":[],"owner":{"account_id":13410061,"reputation":63,"user_id":9676884,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680078115,"creation_date":1680078115,"answer_id":75874760,"question_id":75865736,"body_markdown":"Managed to get it up and running thanks to Andy Wilkinson. Switching to [tag:WebTestClient] worked for me. Test looks now just like this:\r\n\r\n```java\r\n@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\r\npublic class HealthControllerTest {\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    @Test\r\n    public void health_shouldReturnHttp200() { this.webTestClient.get().uri(PATH).accept(MediaType.APPLICATION_JSON).exchange().expectStatus().isOk();\r\n    }\r\n}\r\n\r\n```\r\nIn order for this to run, also had to add [tag:spring-boot-starter-webflux] as a dependency to my [tag:pom.xml].","title":"Spring Integration Test not working with Spring Boot 3 and Spring Cloud Gateway","body":"<p>Managed to get it up and running thanks to Andy Wilkinson. Switching to <a href=\"/questions/tagged/webtestclient\" class=\"post-tag\" title=\"show questions tagged &#39;webtestclient&#39;\" aria-label=\"show questions tagged &#39;webtestclient&#39;\" rel=\"tag\" aria-labelledby=\"tag-webtestclient-tooltip-container\">webtestclient</a> worked for me. Test looks now just like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\npublic class HealthControllerTest {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    public void health_shouldReturnHttp200() { this.webTestClient.get().uri(PATH).accept(MediaType.APPLICATION_JSON).exchange().expectStatus().isOk();\n    }\n}\n\n</code></pre>\n<p>In order for this to run, also had to add <a href=\"/questions/tagged/spring-boot-starter-webflux\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot-starter-webflux&#39;\" aria-label=\"show questions tagged &#39;spring-boot-starter-webflux&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring-boot-starter-webflux-tooltip-container\">spring-boot-starter-webflux</a> as a dependency to my <a href=\"/questions/tagged/pom.xml\" class=\"post-tag\" title=\"show questions tagged &#39;pom.xml&#39;\" aria-label=\"show questions tagged &#39;pom.xml&#39;\" rel=\"tag\" aria-labelledby=\"tag-pom.xml-tooltip-container\">pom.xml</a>.</p>\n"}],"owner":{"account_id":13410061,"reputation":63,"user_id":9676884,"display_name":"Andreas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680078115,"creation_date":1680003301,"question_id":75865736,"body_markdown":"I&#39;m just in the process of migrating our application to Spring Boot 3. One of the major changes I have to make is to replace our Zuul proxy server with Spring Cloud Gateway. But this change seems to mess with our Spring Integration Test setup. \r\n\r\nThe basic setup looks as follows:\r\n \r\nThis is a simplified version of the [tag:pom.xml] of our project:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    ...\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2022.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSince we still use **Spring MVC**, I had to set the following property in the [tag:application.properties] to get my application to start with Spring Cloud Gateway:\r\n\r\n```\r\nspring.main.web-application-type=reactive\r\n```\r\nFailing to set that properties lead to the following error during startup:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway.\r\n\r\nAction:\r\n\r\nPlease set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nAfter setting the property, my Spring Boot application starts and the proxy is working as well. However, now I have the problem that my existing Spring integration tests are not working anymore. It seems that setting the property [tag:spring.main.web-application-type] to **reactive** prevents Spring from injecting the **WebApplicationContext**. My test setup is rather simple:\r\n\r\n```\r\n@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\r\npublic class HealthControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(this.context)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        this.mockMvc.perform(MockMvcRequestBuilders.get(PATH)).\r\n                andExpect(MockMvcResultMatchers.status().isOk());\r\n    }\r\n}\r\n```  \r\n\r\nThe test worked fine with Spring Boot 2, but now I get the following exception:\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.context.WebApplicationContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\t... 76 more\r\n```\r\nAs soon as I remove the Spring Cloud Gateway dependency and the [tag:spring.main.web-application-type] property the dependency can be resolved and the test runs successfully.\r\n\r\nDo you have a setup running with Spring Boot 3, Spring MVC and Spring Cloud Gateway and have an idea how to solve that issue?","title":"Spring Integration Test not working with Spring Boot 3 and Spring Cloud Gateway","body":"<p>I'm just in the process of migrating our application to Spring Boot 3. One of the major changes I have to make is to replace our Zuul proxy server with Spring Cloud Gateway. But this change seems to mess with our Spring Integration Test setup.</p>\n<p>The basic setup looks as follows:</p>\n<p>This is a simplified version of the <a href=\"/questions/tagged/pom.xml\" class=\"post-tag\" title=\"show questions tagged &#39;pom.xml&#39;\" aria-label=\"show questions tagged &#39;pom.xml&#39;\" rel=\"tag\" aria-labelledby=\"tag-pom.xml-tooltip-container\">pom.xml</a> of our project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    ...\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Since we still use <strong>Spring MVC</strong>, I had to set the following property in the <a href=\"/questions/tagged/application.properties\" class=\"post-tag\" title=\"show questions tagged &#39;application.properties&#39;\" aria-label=\"show questions tagged &#39;application.properties&#39;\" rel=\"tag\" aria-labelledby=\"tag-application.properties-tooltip-container\">application.properties</a> to get my application to start with Spring Cloud Gateway:</p>\n<pre><code>spring.main.web-application-type=reactive\n</code></pre>\n<p>Failing to set that properties lead to the following error during startup:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway.\n\nAction:\n\nPlease set spring.main.web-application-type=reactive or remove spring-boot-starter-web dependency.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>After setting the property, my Spring Boot application starts and the proxy is working as well. However, now I have the problem that my existing Spring integration tests are not working anymore. It seems that setting the property <a href=\"/questions/tagged/spring.main.web-application-type\" class=\"post-tag\" title=\"show questions tagged &#39;spring.main.web-application-type&#39;\" aria-label=\"show questions tagged &#39;spring.main.web-application-type&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring.main.web-application-type-tooltip-container\">spring.main.web-application-type</a> to <strong>reactive</strong> prevents Spring from injecting the <strong>WebApplicationContext</strong>. My test setup is rather simple:</p>\n<pre><code>@SpringBootTest(classes = MainApplication.class, webEnvironment = DEFINED_PORT)\npublic class HealthControllerTest {\n\n    @Autowired\n    private WebApplicationContext context;\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void setup() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(this.context)\n                .build();\n    }\n\n    @Test\n    public void test() throws Exception {\n        this.mockMvc.perform(MockMvcRequestBuilders.get(PATH)).\n                andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n<p>The test worked fine with Spring Boot 2, but now I get the following exception:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.context.WebApplicationContext' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1812)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1371)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    ... 76 more\n</code></pre>\n<p>As soon as I remove the Spring Cloud Gateway dependency and the <a href=\"/questions/tagged/spring.main.web-application-type\" class=\"post-tag\" title=\"show questions tagged &#39;spring.main.web-application-type&#39;\" aria-label=\"show questions tagged &#39;spring.main.web-application-type&#39;\" rel=\"tag\" aria-labelledby=\"tag-spring.main.web-application-type-tooltip-container\">spring.main.web-application-type</a> property the dependency can be resolved and the test runs successfully.</p>\n<p>Do you have a setup running with Spring Boot 3, Spring MVC and Spring Cloud Gateway and have an idea how to solve that issue?</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680005495,"post_id":75865971,"comment_id":133819527,"body_markdown":"Hi Shannon, can you show the code that is sending the requests, I would suspect the problem comes from that part, and without it, it seems unlikely someone will be able to help you.","body":"Hi Shannon, can you show the code that is sending the requests, I would suspect the problem comes from that part, and without it, it seems unlikely someone will be able to help you."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680100632,"post_id":75865971,"comment_id":133840494,"body_markdown":"Hi Sanjok, thank you for updating your question, The number of `sessions` is 5, and it matches the number of responses you receive before receiving a `null`. That can give a hint about the problem, don&#39;t know where it can lead yet. It would be better if you cold share a complete reproducible program, since there are a number of factors that could lead to what you are seeing. A few of them may depend on the values of the fields of the messages you are sending, and we are not seeing that information in this question. Maybe you could add the log of what you see as an advance?","body":"Hi Sanjok, thank you for updating your question, The number of <code>sessions</code> is 5, and it matches the number of responses you receive before receiving a <code>null</code>. That can give a hint about the problem, don&#39;t know where it can lead yet. It would be better if you cold share a complete reproducible program, since there are a number of factors that could lead to what you are seeing. A few of them may depend on the values of the fields of the messages you are sending, and we are not seeing that information in this question. Maybe you could add the log of what you see as an advance?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680101123,"post_id":75865971,"comment_id":133840654,"body_markdown":"May I ask why are you using `MultiSessionChannelAdaptor` instead of the plain `ChannelAdaptor`? I haven&#39;t seen this one being frequently used, and in the project&#39;s git log, it doesn&#39;t seem to be highly maintained, so, it could be a bug here or there. Would you mind testing the `ChannelAdaptor` instead and see if the problem persists? Although it would be nice to hunt a possible bug, it would be better to first validate there is one by using another more common component.","body":"May I ask why are you using <code>MultiSessionChannelAdaptor</code> instead of the plain <code>ChannelAdaptor</code>? I haven&#39;t seen this one being frequently used, and in the project&#39;s git log, it doesn&#39;t seem to be highly maintained, so, it could be a bug here or there. Would you mind testing the <code>ChannelAdaptor</code> instead and see if the problem persists? Although it would be nice to hunt a possible bug, it would be better to first validate there is one by using another more common component."},{"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"score":0,"creation_date":1680265541,"post_id":75865971,"comment_id":133873201,"body_markdown":"I am choosing `MultiSessionChannelAdaptor` over  `ChannelAdaptor` because the Bank\\`s CBS is taking 10 sec to respond to my application. Due to this too many transactions are getting qued up on my end. Using `ChannelAdaptor` shows synchronous behavior. A tech person from the bank is saying their CBS supports only persistent TCP connections.","body":"I am choosing <code>MultiSessionChannelAdaptor</code> over  <code>ChannelAdaptor</code> because the Bank`s CBS is taking 10 sec to respond to my application. Due to this too many transactions are getting qued up on my end. Using <code>ChannelAdaptor</code> shows synchronous behavior. A tech person from the bank is saying their CBS supports only persistent TCP connections."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680286952,"post_id":75865971,"comment_id":133878579,"body_markdown":"But, can you test with the normal channel adaptor to discard or not if it&#39;s an issue with multi session channel adaptor? I tried replacing a channel adaptor by a multi session channel adaptor in a test project and didn&#39;t see that issue, but as I told you without the code that generates the messages or the values of their fields and responses it&#39;s hard to tell if it&#39;s some combination of things. A lot extract would be helpful","body":"But, can you test with the normal channel adaptor to discard or not if it&#39;s an issue with multi session channel adaptor? I tried replacing a channel adaptor by a multi session channel adaptor in a test project and didn&#39;t see that issue, but as I told you without the code that generates the messages or the values of their fields and responses it&#39;s hard to tell if it&#39;s some combination of things. A lot extract would be helpful"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1680295349,"post_id":75865971,"comment_id":133880296,"body_markdown":"&quot;my understanding is as soon as I got the response mux is supposed to send the remaining request to the server&quot; Actually, this is not true, the mux sends the request through the channel as soon as you call the request method, it doesn&#39;t directly send it, it put it in the `in` queue of the channel adaptor, and it is supposed to be taken by it independently of another request being answered, since the channel doesn&#39;t know about matching requests to responses.","body":"&quot;my understanding is as soon as I got the response mux is supposed to send the remaining request to the server&quot; Actually, this is not true, the mux sends the request through the channel as soon as you call the request method, it doesn&#39;t directly send it, it put it in the <code>in</code> queue of the channel adaptor, and it is supposed to be taken by it independently of another request being answered, since the channel doesn&#39;t know about matching requests to responses."},{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":1,"creation_date":1680311062,"post_id":75865971,"comment_id":133882220,"body_markdown":"Watch out your MUX&#39;s `ready` element, it shows: `&lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;` so it expects your channel-adaptor to be called `jpos-client-adaptor`, but your channel-adaptor is actually called `manager`.\n\nMake sure your remote host actually supports multiple sessions to the same port, I believe they don&#39;t, and you&#39;re just connected from a TCP/IP standpoint against the low level TCP/IP stack&#39;s backlog, and that&#39;s why you&#39;re not getting any response. Some sessions are actually connected to nothing.","body":"Watch out your MUX&#39;s <code>ready</code> element, it shows: <code>&lt;ready&gt;jpos-client-adaptor.ready&lt;&#47;ready&gt;</code> so it expects your channel-adaptor to be called <code>jpos-client-adaptor</code>, but your channel-adaptor is actually called <code>manager</code>.  Make sure your remote host actually supports multiple sessions to the same port, I believe they don&#39;t, and you&#39;re just connected from a TCP/IP standpoint against the low level TCP/IP stack&#39;s backlog, and that&#39;s why you&#39;re not getting any response. Some sessions are actually connected to nothing."},{"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"score":0,"creation_date":1680408793,"post_id":75865971,"comment_id":133892327,"body_markdown":"Hi Andr&#233;s, I tested the same, running the jpos server in my test environment. I did not find the issue we were talking about. But, when I switch to their server problem is visible. I am not aware of any special request handling mechanism required on the server side for `MultiSessionChannelAdaptor`.","body":"Hi Andr&#233;s, I tested the same, running the jpos server in my test environment. I did not find the issue we were talking about. But, when I switch to their server problem is visible. I am not aware of any special request handling mechanism required on the server side for <code>MultiSessionChannelAdaptor</code>."}],"owner":{"account_id":3759553,"reputation":351,"user_id":3124992,"display_name":"Sanjok"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680078105,"creation_date":1680004658,"question_id":75865971,"body_markdown":"below is my client mux config. I am facing the problem that when I send 100 requests, only the first 5 are reached to the server and I am able to get the response within 100 ms.my understanding is as soon as I got the response mux is supposed to send the remaining request to the server but it is not happening so all the rest of the 95 request gets a null response from the call to `mux.request(msg,25000)`.\r\n\r\n**10_client_channel.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; ?&gt;\r\n&lt;channel-adaptor name=&quot;manager&quot;\r\n                 class=&quot;org.jpos.q2.iso.MultiSessionChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\r\n    &lt;in&gt;channel-Tx&lt;/in&gt;\r\n    &lt;out&gt;channel-Rx&lt;/out&gt;\r\n    &lt;sessions&gt;5&lt;/sessions&gt;\r\n    &lt;timeout&gt;30000&lt;/timeout&gt;\r\n    &lt;keep-alive&gt;yes&lt;/keep-alive&gt;\r\n    &lt;max-connect-attempts&gt;30000000000&lt;/max-connect-attempts&gt;\r\n    &lt;reconnect-delay&gt;100&lt;/reconnect-delay&gt;\r\n   \r\n\r\n    &lt;channel name=&quot;client-channel&quot; class=&quot;org.jpos.iso.channel.ASCIIChannel&quot; logger=&quot;Q2&quot;\r\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\r\n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;outgoing&quot;/&gt;\r\n                &lt;property name=&quot;host&quot; value=&quot;localhost&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;65000&quot;/&gt;\r\n        &lt;property name=&quot;timeout&quot; value=&quot;60000&quot;/&gt;\r\n \r\n        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}/conf/esewa/isoproperties/iso8583f1soft.xml&quot;/&gt;\r\n    &lt;/channel&gt;\r\n\r\n&lt;/channel-adaptor&gt;\r\n```\r\n\r\n**20_client_qmux.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; ?&gt;\r\n&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;jpos-client-mux&quot;&gt;\r\n    &lt;in&gt;channel-Rx&lt;/in&gt;\r\n    &lt;out&gt;channel-Tx&lt;/out&gt;\r\n    &lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;\r\n    &lt;key&gt;11,37&lt;/key&gt;\r\n    &lt;unhandled&gt;Channel-unhandled&lt;/unhandled&gt;\r\n&lt;/mux&gt;\r\n\r\n```\r\n\r\n`private QMUX qmux;` is defined as a global variable and initialized via the constructor like:\r\n\r\n\r\n&gt; `qmux= NameRegistrar.get(&quot;mux.jpos-client-mux&quot;); \r\n&gt; channelTimeoutPeriod=25000;`\r\n\r\n\r\nBelow are the rest of the relevant codes as per @Andr&#233;s Alcarraz `s request\r\n\r\n```java\r\n\r\n            log.info(&quot;firing ISO....&quot;);\r\n            applicationResponse.setIsoRequestTime(new Date());\r\n            ISOMsg responseISOMessage= qmux.request(requestISOMessage,channelTimeoutPeriod);\r\n            applicationResponse.setIsoResponseTime(new Date());\r\n            log.info(&quot;responseISOMessage:{}&quot;,responseISOMessage);\r\n```","title":"queued up requests are not sent to server (jpos QMUX)","body":"<p>below is my client mux config. I am facing the problem that when I send 100 requests, only the first 5 are reached to the server and I am able to get the response within 100 ms.my understanding is as soon as I got the response mux is supposed to send the remaining request to the server but it is not happening so all the rest of the 95 request gets a null response from the call to <code>mux.request(msg,25000)</code>.</p>\n<p><strong>10_client_channel.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;channel-adaptor name=&quot;manager&quot;\n                 class=&quot;org.jpos.q2.iso.MultiSessionChannelAdaptor&quot; logger=&quot;Q2&quot;&gt;\n    &lt;in&gt;channel-Tx&lt;/in&gt;\n    &lt;out&gt;channel-Rx&lt;/out&gt;\n    &lt;sessions&gt;5&lt;/sessions&gt;\n    &lt;timeout&gt;30000&lt;/timeout&gt;\n    &lt;keep-alive&gt;yes&lt;/keep-alive&gt;\n    &lt;max-connect-attempts&gt;30000000000&lt;/max-connect-attempts&gt;\n    &lt;reconnect-delay&gt;100&lt;/reconnect-delay&gt;\n   \n\n    &lt;channel name=&quot;client-channel&quot; class=&quot;org.jpos.iso.channel.ASCIIChannel&quot; logger=&quot;Q2&quot;\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\n        &lt;filter class=&quot;org.jpos.iso.filter.DebugFilter&quot; direction=&quot;outgoing&quot;/&gt;\n                &lt;property name=&quot;host&quot; value=&quot;localhost&quot;/&gt;\n        &lt;property name=&quot;port&quot; value=&quot;65000&quot;/&gt;\n        &lt;property name=&quot;timeout&quot; value=&quot;60000&quot;/&gt;\n \n        &lt;property name=&quot;packager-config&quot; value=&quot;${catalina.base}/conf/esewa/isoproperties/iso8583f1soft.xml&quot;/&gt;\n    &lt;/channel&gt;\n\n&lt;/channel-adaptor&gt;\n</code></pre>\n<p><strong>20_client_qmux.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;jpos-client-mux&quot;&gt;\n    &lt;in&gt;channel-Rx&lt;/in&gt;\n    &lt;out&gt;channel-Tx&lt;/out&gt;\n    &lt;ready&gt;jpos-client-adaptor.ready&lt;/ready&gt;\n    &lt;key&gt;11,37&lt;/key&gt;\n    &lt;unhandled&gt;Channel-unhandled&lt;/unhandled&gt;\n&lt;/mux&gt;\n\n</code></pre>\n<p><code>private QMUX qmux;</code> is defined as a global variable and initialized via the constructor like:</p>\n<blockquote>\n<p><code>qmux= NameRegistrar.get(&quot;mux.jpos-client-mux&quot;);  channelTimeoutPeriod=25000;</code></p>\n</blockquote>\n<p>Below are the rest of the relevant codes as per @Andrés Alcarraz `s request</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n            log.info(&quot;firing ISO....&quot;);\n            applicationResponse.setIsoRequestTime(new Date());\n            ISOMsg responseISOMessage= qmux.request(requestISOMessage,channelTimeoutPeriod);\n            applicationResponse.setIsoResponseTime(new Date());\n            log.info(&quot;responseISOMessage:{}&quot;,responseISOMessage);\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"score":2,"creation_date":1614441392,"post_id":66398721,"comment_id":117389004,"body_markdown":"Why it worked fine in my local environment and not in the other?","body":"Why it worked fine in my local environment and not in the other?"},{"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"score":0,"creation_date":1614445644,"post_id":66398721,"comment_id":117390252,"body_markdown":"@IshanTiwary Can you share what kind of exception you are getting in your &quot;other&quot; environment ?","body":"@IshanTiwary Can you share what kind of exception you are getting in your &quot;other&quot; environment ?"},{"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"score":1,"creation_date":1634395171,"post_id":66398721,"comment_id":123015218,"body_markdown":"@IshanTiwary probably is because your ide (eclipse/intelij) already pass the suggested `-parameters` to the compiler.","body":"@IshanTiwary probably is because your ide (eclipse/intelij) already pass the suggested <code>-parameters</code> to the compiler."}],"tags":[],"owner":{"account_id":11179368,"reputation":301,"user_id":8203851,"display_name":"Michael"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1614428151,"creation_date":1614428151,"answer_id":66398721,"question_id":66398543,"body_markdown":"Did you tried using a Named Parameter?\r\n\r\n&gt; 6.3.6. Using Named Parameters\r\nBy default, Spring Data JPA uses position-based parameter binding, as described in all the preceding examples. This makes query methods a little error-prone when refactoring regarding the parameter position. To solve this issue, you can use @Param annotation to give a method parameter a concrete name and bind the name in the query\r\n\r\nSee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters for details.\r\n\r\nSo, this should work:\r\n\r\n    @Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\r\n    List&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(@Param(&quot;runDate&quot;) Date runDate);\r\n\r\n","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>Did you tried using a Named Parameter?</p>\n<blockquote>\n<p>6.3.6. Using Named Parameters\nBy default, Spring Data JPA uses position-based parameter binding, as described in all the preceding examples. This makes query methods a little error-prone when refactoring regarding the parameter position. To solve this issue, you can use @Param annotation to give a method parameter a concrete name and bind the name in the query</p>\n</blockquote>\n<p>See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters</a> for details.</p>\n<p>So, this should work:</p>\n<pre><code>@Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\nList&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(@Param(&quot;runDate&quot;) Date runDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6837399,"reputation":310,"user_id":5258801,"display_name":"AguThadeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680077890,"creation_date":1680077890,"answer_id":75874727,"question_id":66398543,"body_markdown":"This issue occurs when method parameter names are not available to be read by reflection, the `javac -parameters` flag ensures that these parameters are available during runtime. If you somehow encounter this issue, make sure your classes are compiled with `-parameters`, in Eclipse you can do this by going to Window &gt; Preferences &gt; Java &gt; Compiler then make sure the option &quot;Store information about method parameters&quot; is checked. \r\n\r\nAlternatively if you use per project settings go to your project &quot;Right Click&quot; &gt; Properties (Shortcut: Alt+Enter), navigate to &quot;Java Compiler&quot; and make sure the above mentioned option is checked\r\n\r\n [![Eclipse screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eU11A.png","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>This issue occurs when method parameter names are not available to be read by reflection, the <code>javac -parameters</code> flag ensures that these parameters are available during runtime. If you somehow encounter this issue, make sure your classes are compiled with <code>-parameters</code>, in Eclipse you can do this by going to Window &gt; Preferences &gt; Java &gt; Compiler then make sure the option &quot;Store information about method parameters&quot; is checked.</p>\n<p>Alternatively if you use per project settings go to your project &quot;Right Click&quot; &gt; Properties (Shortcut: Alt+Enter), navigate to &quot;Java Compiler&quot; and make sure the above mentioned option is checked</p>\n<p><a href=\"https://i.stack.imgur.com/eU11A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eU11A.png\" alt=\"Eclipse screen\" /></a></p>\n"}],"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13504,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":66398721,"answer_count":2,"score":12,"last_activity_date":1680077890,"creation_date":1614426716,"question_id":66398543,"body_markdown":"I have following code running on my local system:\r\n  \r\n    @Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\r\n    List&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(Date runDate);\r\n\r\nBut when I am running the same piece of code in higher environment I am getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\n    Caused by:\r\n    &lt;CDIMIServiceException&gt;\r\n        &lt;Message&gt;Exception in CodeTableTp2Controller &lt;/Message&gt;\r\n        &lt;AdditionalInfo&gt;null&lt;/AdditionalInfo&gt;\r\n        &lt;Cause&gt;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: \r\n    For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.&lt;/Cause&gt; &lt;/CDIMIServiceException&gt;        \r\n     at com.visa.cdimi.code.table.tp2.CodeTableTp2Controller.execute(CodeTableTp2Controller.java:51)\r\n        at com.visa.cdimi.code.table.tp2.Application.main(Application.java:31)\r\n        ... 8 more\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; \r\n    nested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. \r\n    Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\r\n\r\nI checked the java version on the server it is:\r\n\r\n    java version &quot;1.8.0_261&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_261-b25)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.261-b25, mixed mode)\r\n\r\nOn my local system also I am using Java 8. \r\n\r\nCan anyone please help me solve this issue. Any help is appreciated.","title":"Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters","body":"<p>I have following code running on my local system:</p>\n<pre><code>@Query(value = &quot;select l from TnncSetlmtSvcGrpStagingEntity l where l.runDate &gt;=:runDate&quot;)\nList&lt;TnncSetlmtSvcGrpStagingEntity&gt; findAllByRunDateGT(Date runDate);\n</code></pre>\n<p>But when I am running the same piece of code in higher environment I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\nCaused by:\n&lt;CDIMIServiceException&gt;\n    &lt;Message&gt;Exception in CodeTableTp2Controller &lt;/Message&gt;\n    &lt;AdditionalInfo&gt;null&lt;/AdditionalInfo&gt;\n    &lt;Cause&gt;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: \nFor queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.&lt;/Cause&gt; &lt;/CDIMIServiceException&gt;        \n at com.visa.cdimi.code.table.tp2.CodeTableTp2Controller.execute(CodeTableTp2Controller.java:51)\n    at com.visa.cdimi.code.table.tp2.Application.main(Application.java:31)\n    ... 8 more\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; \nnested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. \nUse @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n</code></pre>\n<p>I checked the java version on the server it is:</p>\n<pre><code>java version &quot;1.8.0_261&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_261-b25)\nJava HotSpot(TM) 64-Bit Server VM (build 25.261-b25, mixed mode)\n</code></pre>\n<p>On my local system also I am using Java 8.</p>\n<p>Can anyone please help me solve this issue. Any help is appreciated.</p>\n"},{"tags":["java","unit-testing","junit4","hamcrest"],"answers":[{"comments":[{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":6,"creation_date":1476127478,"post_id":12166461,"comment_id":67210387,"body_markdown":"just as a side node - this is a hamcrest solution (not assertj)","body":"just as a side node - this is a hamcrest solution (not assertj)"}],"tags":[],"owner":{"account_id":931717,"reputation":9993,"user_id":961487,"accept_rate":62,"display_name":"Razvan"},"comment_count":1,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1380809082,"creation_date":1346183133,"answer_id":12166461,"question_id":12166415,"body_markdown":"Try:\r\n\r\n    assertThat(myClass.getMyItems(),\r\n                              hasItem(hasProperty(&quot;YourProperty&quot;, is(&quot;YourValue&quot;))));","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Try:</p>\n\n<pre><code>assertThat(myClass.getMyItems(),\n                          hasItem(hasProperty(\"YourProperty\", is(\"YourValue\"))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":1,"creation_date":1346183740,"post_id":12166550,"comment_id":16283749,"body_markdown":"I really like your solution,  but should he mod all that code for a test?","body":"I really like your solution,  but should he mod all that code for a test?"},{"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"score":0,"creation_date":1346186206,"post_id":12166550,"comment_id":16284750,"body_markdown":"I figure that every answer here will require some test setup, execution of the method to test, and then assert the properties. There&#39;s no real overhead to my answer from what I can see, only that I have two assertions on seaprate lines so that a failed assertion can clearly identify what value is missing.","body":"I figure that every answer here will require some test setup, execution of the method to test, and then assert the properties. There&#39;s no real overhead to my answer from what I can see, only that I have two assertions on seaprate lines so that a failed assertion can clearly identify what value is missing."},{"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"score":0,"creation_date":1491569176,"post_id":12166550,"comment_id":73624887,"body_markdown":"It would be best to also include a message within assertTrue so that the error message is more intelligible. Without a message, if it fails, JUnit will just throw a AssertionFailedError without any error message. So best to include something like &quot;results should contain new MyItem(\\&quot;foo\\&quot;)&quot;.","body":"It would be best to also include a message within assertTrue so that the error message is more intelligible. Without a message, if it fails, JUnit will just throw a AssertionFailedError without any error message. So best to include something like &quot;results should contain new MyItem(\\&quot;foo\\&quot;)&quot;."},{"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"score":0,"creation_date":1491587525,"post_id":12166550,"comment_id":73636777,"body_markdown":"Yes you are right. I&#39;d recommend Hamcrest in any case, and I never use assertTrue() these days","body":"Yes you are right. I&#39;d recommend Hamcrest in any case, and I never use assertTrue() these days"},{"owner":{"account_id":5202562,"reputation":841,"user_id":4356919,"accept_rate":25,"display_name":"Tayab Hussain"},"score":0,"creation_date":1536848639,"post_id":12166550,"comment_id":91578964,"body_markdown":"To a side note your POJO or DTO should define the equals method","body":"To a side note your POJO or DTO should define the equals method"}],"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":5,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1346183493,"creation_date":1346183493,"answer_id":12166550,"question_id":12166415,"body_markdown":"As long as your List&lt;MyItem&gt; is a concrete class, you can simply call the contains() method as long as you have implemented your equals() method on MyItem.\r\n\r\n    // given \r\n    // some input ... you to complete\r\n    \r\n    // when\r\n    List&lt;MyItems&gt; results = service.getMyItems();\r\n    \r\n    // then\r\n    assertTrue(results.contains(new MyItem(&quot;foo&quot;)));\r\n    assertTrue(results.contains(new MyItem(&quot;bar&quot;)));\r\n\r\nAssumes you have implemented a constructor that accepts the values you want to assert on. I realise this isn&#39;t on a single line, but it&#39;s useful to know which value is missing rather than checking both at once.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>As long as your List is a concrete class, you can simply call the contains() method as long as you have implemented your equals() method on MyItem.</p>\n\n<pre><code>// given \n// some input ... you to complete\n\n// when\nList&lt;MyItems&gt; results = service.getMyItems();\n\n// then\nassertTrue(results.contains(new MyItem(\"foo\")));\nassertTrue(results.contains(new MyItem(\"bar\")));\n</code></pre>\n\n<p>Assumes you have implemented a constructor that accepts the values you want to assert on. I realise this isn't on a single line, but it's useful to know which value is missing rather than checking both at once.</p>\n"},{"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":4,"creation_date":1649374568,"post_id":12167781,"comment_id":126865958,"body_markdown":"If you don&#39;t know the order the items are use `containsInAnyOrder` (from same parent class) instead :)","body":"If you don&#39;t know the order the items are use <code>containsInAnyOrder</code> (from same parent class) instead :)"}],"tags":[],"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"comment_count":1,"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1479416234,"creation_date":1346189298,"answer_id":12167781,"question_id":12166415,"body_markdown":"Thank you @Razvan who pointed me in the right direction.  I was able to get it in one line and I successfully hunted down the imports for Hamcrest 1.3.\r\n\r\nthe imports:\r\n\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.Matchers.contains;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    import static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\r\n\r\n\r\n\r\nthe code:\r\n\r\n    assertThat( myClass.getMyItems(), contains(\r\n        hasProperty(&quot;name&quot;, is(&quot;foo&quot;)), \r\n        hasProperty(&quot;name&quot;, is(&quot;bar&quot;))\r\n    ));","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Thank you @Razvan who pointed me in the right direction.  I was able to get it in one line and I successfully hunted down the imports for Hamcrest 1.3.</p>\n\n<p>the imports:</p>\n\n<pre><code>import static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.Matchers.contains;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.beans.HasPropertyWithValue.hasProperty;\n</code></pre>\n\n<p>the code:</p>\n\n<pre><code>assertThat( myClass.getMyItems(), contains(\n    hasProperty(\"name\", is(\"foo\")), \n    hasProperty(\"name\", is(\"bar\"))\n));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":434895,"reputation":253,"user_id":821176,"accept_rate":38,"display_name":"Rodrigo Manyari"},"score":3,"creation_date":1462932921,"post_id":33211421,"comment_id":61841553,"body_markdown":"Slight improvement:\nassertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; &quot;foo&quot;.equals(item.getName()));","body":"Slight improvement: assertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; &quot;foo&quot;.equals(item.getName()));"},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":0,"creation_date":1476877396,"post_id":33211421,"comment_id":67530705,"body_markdown":"@RodrigoManyari, closing parenthesis missing","body":"@RodrigoManyari, closing parenthesis missing"},{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":8,"creation_date":1557142992,"post_id":33211421,"comment_id":98654533,"body_markdown":"This solution waste the possibility to show an appropriate error message.","body":"This solution waste the possibility to show an appropriate error message."},{"owner":{"account_id":3551586,"reputation":2743,"user_id":2966331,"display_name":"Mario Eis"},"score":0,"creation_date":1557171004,"post_id":33211421,"comment_id":98667712,"body_markdown":"@GiulioCaccin I don&#39;t think it does. If you use JUnit, you could/should use the overloaded assertion methods and write assertTrue(..., &quot;My own test failure message&quot;); See more on https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html#assertTrue(boolean,java.lang.String)","body":"@GiulioCaccin I don&#39;t think it does. If you use JUnit, you could/should use the overloaded assertion methods and write assertTrue(..., &quot;My own test failure message&quot;); See more on <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html#assertTrue(boolean,java.lang.String)\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/api/org/junit/jupiter/api/&hellip;</a>"},{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":2,"creation_date":1557172229,"post_id":33211421,"comment_id":98668141,"body_markdown":"I mean, if you do the assertion against a Boolean, you lose the ability to print automatically the actual/expected difference. It is possible to assert using a matcher, but you need to modify this response to be similar to other in this page to do it.","body":"I mean, if you do the assertion against a Boolean, you lose the ability to print automatically the actual/expected difference. It is possible to assert using a matcher, but you need to modify this response to be similar to other in this page to do it."},{"owner":{"account_id":3551586,"reputation":2743,"user_id":2966331,"display_name":"Mario Eis"},"score":0,"creation_date":1557224496,"post_id":33211421,"comment_id":98684653,"body_markdown":"Hm, I can&#39;t follow you. There is no difference or comparison here. The Question was, whether the collection contains items or not. So just do assertTrue(..., &quot;The collection doesn&#39;t contain items with the name &#39;foo&#39;&quot;) and in case of a failure, your test report will contain the correct message. If your message, for any reason, has to contain the test data, just add it to the massage.","body":"Hm, I can&#39;t follow you. There is no difference or comparison here. The Question was, whether the collection contains items or not. So just do assertTrue(..., &quot;The collection doesn&#39;t contain items with the name &#39;foo&#39;&quot;) and in case of a failure, your test report will contain the correct message. If your message, for any reason, has to contain the test data, just add it to the massage."}],"tags":[],"owner":{"account_id":3551586,"reputation":2743,"user_id":2966331,"display_name":"Mario Eis"},"comment_count":6,"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1465060235,"creation_date":1445248243,"answer_id":33211421,"question_id":12166415,"body_markdown":"Its not especially Hamcrest, but I think it worth to mention here. What I use quite often in Java8 is something like:\r\n\r\n    assertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; &quot;foo&quot;.equals(item.getName())));\r\n\r\n*(Edited to Rodrigo Manyari&#39;s slight improvement. It&#39;s a little less verbose. See comments.)*\r\n\r\nIt may be a little bit harder to read, but I like the type and refactoring safety.\r\nIts also cool for testing multiple bean properties in combination. e.g. with a java-like &amp;&amp; expression in the filter lambda.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Its not especially Hamcrest, but I think it worth to mention here. What I use quite often in Java8 is something like:</p>\n\n<pre><code>assertTrue(myClass.getMyItems().stream().anyMatch(item -&gt; \"foo\".equals(item.getName())));\n</code></pre>\n\n<p><em>(Edited to Rodrigo Manyari's slight improvement. It's a little less verbose. See comments.)</em></p>\n\n<p>It may be a little bit harder to read, but I like the type and refactoring safety.\nIts also cool for testing multiple bean properties in combination. e.g. with a java-like &amp;&amp; expression in the filter lambda.</p>\n"},{"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1637953797,"post_id":34417201,"comment_id":123968239,"body_markdown":"One more way Frank : assertThat(list)\n            .containsAll(Arrays.asList(id1,id2));","body":"One more way Frank : assertThat(list)             .containsAll(Arrays.asList(id1,id2));"}],"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1604469277,"creation_date":1450791577,"answer_id":34417201,"question_id":12166415,"body_markdown":"[Assertj](https://assertj.github.io/doc/) is good at this.\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n        assertThat(myClass.getMyItems()).extracting(&quot;name&quot;).contains(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nBig plus for assertj compared to hamcrest is easy use of code completion.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p><a href=\"https://assertj.github.io/doc/\" rel=\"noreferrer\">Assertj</a> is good at this.</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\n    assertThat(myClass.getMyItems()).extracting(&quot;name&quot;).contains(&quot;foo&quot;, &quot;bar&quot;);\n</code></pre>\n<p>Big plus for assertj compared to hamcrest is easy use of code completion.</p>\n"},{"comments":[{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":6,"creation_date":1538832665,"post_id":51812188,"comment_id":92287742,"body_markdown":"Don&#39;t get why this has no upvotes. I think, this is the best answer, by far.","body":"Don&#39;t get why this has no upvotes. I think, this is the best answer, by far."},{"owner":{"account_id":2180363,"reputation":899,"user_id":2300596,"display_name":"Sangimed"},"score":2,"creation_date":1545904948,"post_id":51812188,"comment_id":94724910,"body_markdown":"The assertJ library is much more readable then JUnit assertion API.","body":"The assertJ library is much more readable then JUnit assertion API."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1546282199,"post_id":51812188,"comment_id":94818690,"body_markdown":"@Sangimed Agreed and also I prefer it to hamcrest.","body":"@Sangimed Agreed and also I prefer it to hamcrest."},{"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"score":0,"creation_date":1589378268,"post_id":51812188,"comment_id":109270255,"body_markdown":"In my opinion this is slightly less readable as it takes apart the &quot;actual value&quot; from the &quot;expected value&quot; and puts them in an order that needs to match.","body":"In my opinion this is slightly less readable as it takes apart the &quot;actual value&quot; from the &quot;expected value&quot; and puts them in an order that needs to match."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":4,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1680077834,"creation_date":1534102435,"answer_id":51812188,"question_id":12166415,"body_markdown":"AssertJ provides an excellent feature in `extracting()` : you can pass `Function`s to extract fields. It provides a check at compile time.   \r\nYou could also assert the size first easily.  \r\n\r\nIt would give :\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n    assertThat(myClass.getMyItems())\r\n              .hasSize(2)\r\n              .extracting(MyItem::getName)\r\n              .containsExactlyInAnyOrder(&quot;foo&quot;, &quot;bar&quot;); \r\n\r\n`containsExactlyInAnyOrder()` asserts that the list contains only these values whatever the order.   \r\n\r\nTo assert that the list contains these values whatever the order but may also contain other values use `contains()` :\r\n   \r\n    .contains(&quot;foo&quot;, &quot;bar&quot;); \r\n\r\n\r\n----------\r\n\r\n\r\nAs a side note : to assert multiple fields from elements of a `List` , with AssertJ we do that by wrapping expected values for each  element into a `tuple()` function :\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n\r\n    assertThat(myClass.getMyItems())\r\n              .hasSize(2)\r\n              .extracting(MyItem::getName, MyItem::getOtherValue)\r\n              .containsExactlyInAnyOrder(\r\n                   tuple(&quot;foo&quot;, &quot;OtherValueFoo&quot;),\r\n                   tuple(&quot;bar&quot;, &quot;OtherValueBar&quot;)\r\n               ); ","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>AssertJ provides an excellent feature in <code>extracting()</code> : you can pass <code>Function</code>s to extract fields. It provides a check at compile time.<br />\nYou could also assert the size first easily.</p>\n<p>It would give :</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\nassertThat(myClass.getMyItems())\n          .hasSize(2)\n          .extracting(MyItem::getName)\n          .containsExactlyInAnyOrder(&quot;foo&quot;, &quot;bar&quot;); \n</code></pre>\n<p><code>containsExactlyInAnyOrder()</code> asserts that the list contains only these values whatever the order.</p>\n<p>To assert that the list contains these values whatever the order but may also contain other values use <code>contains()</code> :</p>\n<pre><code>.contains(&quot;foo&quot;, &quot;bar&quot;); \n</code></pre>\n<hr />\n<p>As a side note : to assert multiple fields from elements of a <code>List</code> , with AssertJ we do that by wrapping expected values for each  element into a <code>tuple()</code> function :</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.groups.Tuple.tuple;\n\nassertThat(myClass.getMyItems())\n          .hasSize(2)\n          .extracting(MyItem::getName, MyItem::getOtherValue)\n          .containsExactlyInAnyOrder(\n               tuple(&quot;foo&quot;, &quot;OtherValueFoo&quot;),\n               tuple(&quot;bar&quot;, &quot;OtherValueBar&quot;)\n           ); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573225346,"creation_date":1573216175,"answer_id":58766630,"question_id":12166415,"body_markdown":"AssertJ 3.9.1 supports direct predicate usage in `anyMatch` method.\r\n\r\n    assertThat(collection).anyMatch(element -&gt; element.someProperty.satisfiesSomeCondition())\r\n\r\nThis is generally suitable use case for arbitrarily complex condition.\r\n\r\nFor simple conditions I prefer using `extracting` method (see above) because resulting iterable-under-test might support value verification with better readability.\r\nExample: it can provide specialized API such as `contains` method in Frank Neblung&#39;s answer. Or you can call `anyMatch` on it later anyway and use method reference such as `&quot;searchedvalue&quot;::equals`. Also multiple extractors can be put into `extracting` method, result subsequently verified using `tuple()`.","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>AssertJ 3.9.1 supports direct predicate usage in <code>anyMatch</code> method.</p>\n\n<pre><code>assertThat(collection).anyMatch(element -&gt; element.someProperty.satisfiesSomeCondition())\n</code></pre>\n\n<p>This is generally suitable use case for arbitrarily complex condition.</p>\n\n<p>For simple conditions I prefer using <code>extracting</code> method (see above) because resulting iterable-under-test might support value verification with better readability.\nExample: it can provide specialized API such as <code>contains</code> method in Frank Neblung's answer. Or you can call <code>anyMatch</code> on it later anyway and use method reference such as <code>\"searchedvalue\"::equals</code>. Also multiple extractors can be put into <code>extracting</code> method, result subsequently verified using <code>tuple()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4238302,"reputation":443,"user_id":3468905,"display_name":"seregamorph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602233968,"creation_date":1602233968,"answer_id":64276881,"question_id":12166415,"body_markdown":"Alternatively to `hasProperty` you can try [hamcrest-more-matchers](https://github.com/seregamorph/hamcrest-more-matchers) `where` matcher with extracting function. In your case it will look like:\r\n```java\r\nimport static com.github.seregamorph.hamcrest.MoreMatchers.where;\r\n\r\nassertThat(myClass.getMyItems(), contains(\r\n    where(MyItem::getName, is(&quot;foo&quot;)), \r\n    where(MyItem::getName, is(&quot;bar&quot;))\r\n));\r\n```\r\nThe advantages of this approach are:\r\n- It is not always possible to verify by field if the value is computed in get-method\r\n- In case of mismatch there should be a failure message with diagnostics (pay attention to resolved method reference **MyItem.getName**:\r\n```\r\nExpected: iterable containing [Object that matches is &quot;foo&quot; after call\r\nMyItem.getName, Object that matches is &quot;bar&quot; after call MyItem.getName]\r\n     but: item 0: was &quot;wrong-name&quot;\r\n```\r\n- It works in Java 8, Java 11 and Java 14","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Alternatively to <code>hasProperty</code> you can try <a href=\"https://github.com/seregamorph/hamcrest-more-matchers\" rel=\"nofollow noreferrer\">hamcrest-more-matchers</a> <code>where</code> matcher with extracting function. In your case it will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.seregamorph.hamcrest.MoreMatchers.where;\n\nassertThat(myClass.getMyItems(), contains(\n    where(MyItem::getName, is(&quot;foo&quot;)), \n    where(MyItem::getName, is(&quot;bar&quot;))\n));\n</code></pre>\n<p>The advantages of this approach are:</p>\n<ul>\n<li>It is not always possible to verify by field if the value is computed in get-method</li>\n<li>In case of mismatch there should be a failure message with diagnostics (pay attention to resolved method reference <strong>MyItem.getName</strong>:</li>\n</ul>\n<pre><code>Expected: iterable containing [Object that matches is &quot;foo&quot; after call\nMyItem.getName, Object that matches is &quot;bar&quot; after call MyItem.getName]\n     but: item 0: was &quot;wrong-name&quot;\n</code></pre>\n<ul>\n<li>It works in Java 8, Java 11 and Java 14</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631711167,"creation_date":1631711167,"answer_id":69193761,"question_id":12166415,"body_markdown":"With Stream you can also do:\r\n\r\n    List&lt;String&gt; actual = myList.stream().map(MyClass::getName).collect(toList());\r\n    assertThat(actual, hasItem(&quot;expectedString1&quot;));\r\n\r\n\r\nBecause with `anyMatch()` or `allMatch()`, you know **some** values in your list are in the list, but there is possibility that your actual list only contains 5 values while in `anyMatch()` you have 6; you don&#39;t know if **all** values are present or not. With `hasItem()`, you indeed check every value you want. ","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>With Stream you can also do:</p>\n<pre><code>List&lt;String&gt; actual = myList.stream().map(MyClass::getName).collect(toList());\nassertThat(actual, hasItem(&quot;expectedString1&quot;));\n</code></pre>\n<p>Because with <code>anyMatch()</code> or <code>allMatch()</code>, you know <strong>some</strong> values in your list are in the list, but there is possibility that your actual list only contains 5 values while in <code>anyMatch()</code> you have 6; you don't know if <strong>all</strong> values are present or not. With <code>hasItem()</code>, you indeed check every value you want.</p>\n"}],"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252763,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":12167781,"answer_count":9,"score":174,"last_activity_date":1680077834,"creation_date":1346183000,"question_id":12166415,"body_markdown":"Assume I want to unit test a method with this signature:\r\n\r\n    List&lt;MyItem&gt; getMyItems();\r\n\r\nAssume `MyItem` is a Pojo that has many properties, one of which is `&quot;name&quot;`, accessed via `getName()`.\r\n\r\nAll I care about verifying is that the `List&lt;MyItem&gt;`, or any `Iterable`, contains two `MyItem` instances, whose `&quot;name&quot;` properties have the values `&quot;foo&quot;` and `&quot;bar&quot;`.  If any other properties don&#39;t match, I don&#39;t really care for the purposes of this test.  If the names match, it&#39;s a successful test.\r\n\r\nI would like it to be one-liner if possible. Here is some &quot;pseudo-syntax&quot; of the kind of thing I would like to do.  \r\n\r\n    assert(listEntriesMatchInAnyOrder(myClass.getMyItems(), property(&quot;name&quot;), new String[]{&quot;foo&quot;, &quot;bar&quot;});\r\n\r\nWould Hamcrest be good for this type of thing?  If so, what exactly would be the hamcrest version of my pseudo-syntax above?\r\n","title":"How do I assert an Iterable contains elements with a certain property?","body":"<p>Assume I want to unit test a method with this signature:</p>\n\n<pre><code>List&lt;MyItem&gt; getMyItems();\n</code></pre>\n\n<p>Assume <code>MyItem</code> is a Pojo that has many properties, one of which is <code>\"name\"</code>, accessed via <code>getName()</code>.</p>\n\n<p>All I care about verifying is that the <code>List&lt;MyItem&gt;</code>, or any <code>Iterable</code>, contains two <code>MyItem</code> instances, whose <code>\"name\"</code> properties have the values <code>\"foo\"</code> and <code>\"bar\"</code>.  If any other properties don't match, I don't really care for the purposes of this test.  If the names match, it's a successful test.</p>\n\n<p>I would like it to be one-liner if possible. Here is some \"pseudo-syntax\" of the kind of thing I would like to do.  </p>\n\n<pre><code>assert(listEntriesMatchInAnyOrder(myClass.getMyItems(), property(\"name\"), new String[]{\"foo\", \"bar\"});\n</code></pre>\n\n<p>Would Hamcrest be good for this type of thing?  If so, what exactly would be the hamcrest version of my pseudo-syntax above?</p>\n"},{"tags":["java","jboss","drools","rule-engine","drools-kie-server"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1680031768,"post_id":75868338,"comment_id":133826922,"body_markdown":"So basically you want the matching phase to be executed with each rule being assigned to a separate thread for evaluation?","body":"So basically you want the matching phase to be executed with each rule being assigned to a separate thread for evaluation?"},{"owner":{"account_id":20139957,"reputation":11,"user_id":14770019,"display_name":"linhongpeng"},"score":0,"creation_date":1680057055,"post_id":75868338,"comment_id":133830711,"body_markdown":"Thanks for your consideration. English is not my native language, please excuse typing errors.\nI do want the matching phase to be executed with each rule being assigned to a separate thread for evaluation.","body":"Thanks for your consideration. English is not my native language, please excuse typing errors. I do want the matching phase to be executed with each rule being assigned to a separate thread for evaluation."}],"answers":[{"comments":[{"owner":{"account_id":3683166,"reputation":65,"user_id":3067618,"display_name":"Alex"},"score":0,"creation_date":1690789473,"post_id":75874693,"comment_id":135396571,"body_markdown":"How to understand KB can be partitioned? Drools docs don&#39;t seem to clearly describe how we can achieve the partitioning and what is it.","body":"How to understand KB can be partitioned? Drools docs don&#39;t seem to clearly describe how we can achieve the partitioning and what is it."}],"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680077605,"creation_date":1680077605,"answer_id":75874693,"question_id":75868338,"body_markdown":"&gt; multithreadEvaluation configuration is enabled, (...) and found that there are still no multithreaded parallel execution rules.\r\n\r\nThat is because `multithreadEvaluation` works when a KB can be partitioned, while your KB example rules clearly is not. Being `multithreadEvaluation` an advanced feature I would advise to use it only when you can be sure you KB can actually be partitioned.\r\n\r\nOtherwise, by description of your original question, this does not seems to be a concerns strictly related to Drools --otherwise I would have expected an example KB when clearly the semantic partitioning of events from different, slow, sources would have had an impact on other rules.\r\n\r\nTo address the need of several, slow, sources need to fetch data in parallel, in order to later make available to some rules the data once it has arrived, you might consider adopting a reactive framework to integrate with your application, in addition to Drools. One such reactive framework I personally like is [Mutiny][1].\r\n\r\nFor example, you might consider _Merging_ several sources:\r\n\r\n```java\r\nMulti&lt;Tuple2&gt; first = Multi.createFrom().ticks().every(Duration.ofMillis(10))\r\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 1 - &quot;, l));\r\n\r\nMulti&lt;Tuple2&gt; second = Multi.createFrom().ticks().every(Duration.ofMillis(15))\r\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 2 - &quot;, l));\r\n\r\nCancellable cancellable = Multi.createBy().merging().streams(first, second)\r\n        .subscribe().with(s -&gt; System.out.println(&quot;Received: &quot; + s));\r\n```\r\n\r\nDon&#39;t forget to subscribe the streams on the executor thread!\r\n\r\nref: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon\r\n\r\nFor example, here is snippet of code which fetches different, heterogeneous type of resources from a Kubernetes cluster, and then make it available to a Drools session:\r\n\r\n    private Multi&lt;KubernetesResource&gt; mutinyFabric8KubernetesClient(Class&lt;? extends KubernetesResource&gt; resourceType,\r\n                                                                    Function&lt;KubernetesClient, List&lt;? extends KubernetesResource&gt;&gt; blockingFn) {\r\n\r\n        return Multi.createFrom().&lt;KubernetesResource&gt;items(() -&gt; {\r\n                    var res = blockingFn.apply(client);\r\n                    LOG.debug(&quot;Fetched {} {}s&quot;, res.size(), resourceType.getName());\r\n                    return res.stream();\r\n                })\r\n                .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\r\n    }\r\n\r\n    public Collection&lt;KubernetesResource&gt; levelTrigger() {\r\n        Multi&lt;KubernetesResource&gt; deployments = mutinyFabric8KubernetesClient(Deployment.class, c -&gt; c.apps().deployments().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; statefulSets = mutinyFabric8KubernetesClient(StatefulSet.class, c -&gt; c.apps().statefulSets().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; pods = mutinyFabric8KubernetesClient(Pod.class, c -&gt; c.pods().inAnyNamespace().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; persistentVolumeClaims = mutinyFabric8KubernetesClient(PersistentVolumeClaim.class, c -&gt; c.persistentVolumeClaims().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; services = mutinyFabric8KubernetesClient(Service.class, c -&gt; c.services().list().getItems());\r\n        Multi&lt;KubernetesResource&gt; configMaps = mutinyFabric8KubernetesClient(ConfigMap.class, c -&gt; c.configMaps().inAnyNamespace().list().getItems());\r\n\r\n        return Multi.createBy().merging().streams(deployments, statefulSets, pods, persistentVolumeClaims, services, configMaps)\r\n                .collect()\r\n                .asList()\r\n                .await()\r\n                .atMost(Duration.ofSeconds(10));\r\n    }\r\n\r\nref: https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114\r\n\r\n## Conclusions\r\n\r\n - Use `multithreadEvaluation` only if KB can be partitioned\r\n - Consider integrating a Reactive framework such as Mutiny for your need to query data in parallel, which is not stricly a Drools operators concern\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny","title":"How to fire rules in parallel in Drools 7.73.0?","body":"<blockquote>\n<p>multithreadEvaluation configuration is enabled, (...) and found that there are still no multithreaded parallel execution rules.</p>\n</blockquote>\n<p>That is because <code>multithreadEvaluation</code> works when a KB can be partitioned, while your KB example rules clearly is not. Being <code>multithreadEvaluation</code> an advanced feature I would advise to use it only when you can be sure you KB can actually be partitioned.</p>\n<p>Otherwise, by description of your original question, this does not seems to be a concerns strictly related to Drools --otherwise I would have expected an example KB when clearly the semantic partitioning of events from different, slow, sources would have had an impact on other rules.</p>\n<p>To address the need of several, slow, sources need to fetch data in parallel, in order to later make available to some rules the data once it has arrived, you might consider adopting a reactive framework to integrate with your application, in addition to Drools. One such reactive framework I personally like is <a href=\"https://smallrye.io/smallrye-mutiny\" rel=\"nofollow noreferrer\">Mutiny</a>.</p>\n<p>For example, you might consider <em>Merging</em> several sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multi&lt;Tuple2&gt; first = Multi.createFrom().ticks().every(Duration.ofMillis(10))\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 1 - &quot;, l));\n\nMulti&lt;Tuple2&gt; second = Multi.createFrom().ticks().every(Duration.ofMillis(15))\n        .onItem().transform(l -&gt; new Tuple2(&quot;Stream 2 - &quot;, l));\n\nCancellable cancellable = Multi.createBy().merging().streams(first, second)\n        .subscribe().with(s -&gt; System.out.println(&quot;Received: &quot; + s));\n</code></pre>\n<p>Don't forget to subscribe the streams on the executor thread!</p>\n<p>ref: <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/#the-case-of-runsubscriptionon</a></p>\n<p>For example, here is snippet of code which fetches different, heterogeneous type of resources from a Kubernetes cluster, and then make it available to a Drools session:</p>\n<pre><code>private Multi&lt;KubernetesResource&gt; mutinyFabric8KubernetesClient(Class&lt;? extends KubernetesResource&gt; resourceType,\n                                                                Function&lt;KubernetesClient, List&lt;? extends KubernetesResource&gt;&gt; blockingFn) {\n\n    return Multi.createFrom().&lt;KubernetesResource&gt;items(() -&gt; {\n                var res = blockingFn.apply(client);\n                LOG.debug(&quot;Fetched {} {}s&quot;, res.size(), resourceType.getName());\n                return res.stream();\n            })\n            .runSubscriptionOn(Infrastructure.getDefaultWorkerPool());\n}\n\npublic Collection&lt;KubernetesResource&gt; levelTrigger() {\n    Multi&lt;KubernetesResource&gt; deployments = mutinyFabric8KubernetesClient(Deployment.class, c -&gt; c.apps().deployments().list().getItems());\n    Multi&lt;KubernetesResource&gt; statefulSets = mutinyFabric8KubernetesClient(StatefulSet.class, c -&gt; c.apps().statefulSets().list().getItems());\n    Multi&lt;KubernetesResource&gt; pods = mutinyFabric8KubernetesClient(Pod.class, c -&gt; c.pods().inAnyNamespace().list().getItems());\n    Multi&lt;KubernetesResource&gt; persistentVolumeClaims = mutinyFabric8KubernetesClient(PersistentVolumeClaim.class, c -&gt; c.persistentVolumeClaims().list().getItems());\n    Multi&lt;KubernetesResource&gt; services = mutinyFabric8KubernetesClient(Service.class, c -&gt; c.services().list().getItems());\n    Multi&lt;KubernetesResource&gt; configMaps = mutinyFabric8KubernetesClient(ConfigMap.class, c -&gt; c.configMaps().inAnyNamespace().list().getItems());\n\n    return Multi.createBy().merging().streams(deployments, statefulSets, pods, persistentVolumeClaims, services, configMaps)\n            .collect()\n            .asList()\n            .await()\n            .atMost(Duration.ofSeconds(10));\n}\n</code></pre>\n<p>ref: <a href=\"https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114\" rel=\"nofollow noreferrer\">https://github.com/kiegroup/ruleops/blob/0a496050a3c89dfd706946f4fdc342df70a74dfe/ruleops/src/main/java/org/drools/ruleops/DroolsSingleton.java#L90-L114</a></p>\n<h2>Conclusions</h2>\n<ul>\n<li>Use <code>multithreadEvaluation</code> only if KB can be partitioned</li>\n<li>Consider integrating a Reactive framework such as Mutiny for your need to query data in parallel, which is not stricly a Drools operators concern</li>\n</ul>\n"}],"owner":{"account_id":20139957,"reputation":11,"user_id":14770019,"display_name":"linhongpeng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680077605,"creation_date":1680018121,"question_id":75868338,"body_markdown":"In my application scenario, I created 100 independent DRL rules.\r\n\r\nSome of these DRL rules are time-consuming because LHS needs to rely on RESTful APIs to query the factual basis (for example, the query order amount interface and the query historical order details interface).\r\n\r\nI wonder if there is any way to **execute LHS logic for DRL rules in parallel** to improve performance?\r\n\r\nFor example, in the following four DRL rules, LHS will call the MyThreadUtil#sleep method. Is there any way to execute them in parallel with multiple threads?\r\n\r\n```\r\npackage multi.thread;\r\nimport com.hp.util.MyThreadUtil;\r\n\r\nrule &quot;multi_thread_1&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime1 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime1);\r\nend\r\n\r\nrule &quot;multi_thread_2&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime2 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime2);\r\nend\r\n\r\nrule &quot;multi_thread_3&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime3 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime3);\r\nend\r\n\r\nrule &quot;multi_thread_4&quot;\r\n    no-loop true\r\n    when\r\n        $sleepTime4 : Integer() from MyThreadUtil.sleep();\r\n    then\r\n        System.out.println($sleepTime4);\r\nend\r\n```\r\n\r\nAnd I execute it using the following Java code.\r\n\r\n```\r\nKieServices kieServices = KieServices.Factory.get();\r\nKieContainer kieContainer = kieServices.newKieClasspathContainer();\r\nKieSession session = kieContainer.newKieSession();\r\nsession.fireAllRules(new RuleNameStartsWithAgendaFilter(&quot;multi_thread_&quot;));\r\nsession.dispose();\r\n```\r\n\r\nThanx.\r\n\r\nBy reading the official website document(`https://docs.drools.org/7.73.0.Final/drools-docs/html_single/#rule-base-configuration-con_decision-engine`), The multithreadEvaluation configuration is enabled, The debug source code went to the org.tools.core.common.CompositeDefaultAgenda#parallelFire method and found that there are still no multithreaded parallel execution rules.","title":"How to fire rules in parallel in Drools 7.73.0?","body":"<p>In my application scenario, I created 100 independent DRL rules.</p>\n<p>Some of these DRL rules are time-consuming because LHS needs to rely on RESTful APIs to query the factual basis (for example, the query order amount interface and the query historical order details interface).</p>\n<p>I wonder if there is any way to <strong>execute LHS logic for DRL rules in parallel</strong> to improve performance?</p>\n<p>For example, in the following four DRL rules, LHS will call the MyThreadUtil#sleep method. Is there any way to execute them in parallel with multiple threads?</p>\n<pre><code>package multi.thread;\nimport com.hp.util.MyThreadUtil;\n\nrule &quot;multi_thread_1&quot;\n    no-loop true\n    when\n        $sleepTime1 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime1);\nend\n\nrule &quot;multi_thread_2&quot;\n    no-loop true\n    when\n        $sleepTime2 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime2);\nend\n\nrule &quot;multi_thread_3&quot;\n    no-loop true\n    when\n        $sleepTime3 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime3);\nend\n\nrule &quot;multi_thread_4&quot;\n    no-loop true\n    when\n        $sleepTime4 : Integer() from MyThreadUtil.sleep();\n    then\n        System.out.println($sleepTime4);\nend\n</code></pre>\n<p>And I execute it using the following Java code.</p>\n<pre><code>KieServices kieServices = KieServices.Factory.get();\nKieContainer kieContainer = kieServices.newKieClasspathContainer();\nKieSession session = kieContainer.newKieSession();\nsession.fireAllRules(new RuleNameStartsWithAgendaFilter(&quot;multi_thread_&quot;));\nsession.dispose();\n</code></pre>\n<p>Thanx.</p>\n<p>By reading the official website document(<code>https://docs.drools.org/7.73.0.Final/drools-docs/html_single/#rule-base-configuration-con_decision-engine</code>), The multithreadEvaluation configuration is enabled, The debug source code went to the org.tools.core.common.CompositeDefaultAgenda#parallelFire method and found that there are still no multithreaded parallel execution rules.</p>\n"},{"tags":["java","string","jframe","jlabel"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680024269,"post_id":75869263,"comment_id":133825107,"body_markdown":"The other way around. `+=`, not `=+`. This way to avoid cinfusion with setting the value to `+3` (which is what your code does).","body":"The other way around. <code>+=</code>, not <code>=+</code>. This way to avoid cinfusion with setting the value to <code>+3</code> (which is what your code does)."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680024342,"post_id":75869263,"comment_id":133825129,"body_markdown":"You said your int is final, You cannot change the value of a final variable. I suggest you read about [variables](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html).","body":"You said your int is final, You cannot change the value of a final variable. I suggest you read about <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">variables</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680024557,"post_id":75869263,"comment_id":133825190,"body_markdown":"Are you using an array but only using element 0 of the array? What’s the point of using an array, then?","body":"Are you using an array but only using element 0 of the array? What’s the point of using an array, then?"},{"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"score":0,"creation_date":1680077465,"post_id":75869263,"comment_id":133834037,"body_markdown":"Cardinal Hey! i tried using a local var but rather than adding it it simply just printed the value of the button i clicked","body":"Cardinal Hey! i tried using a local var but rather than adding it it simply just printed the value of the button i clicked"},{"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"score":0,"creation_date":1680077521,"post_id":75869263,"comment_id":133834049,"body_markdown":"@OleV.V. What should i do then?","body":"@OleV.V. What should i do then?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680078600,"post_id":75869263,"comment_id":133834272,"body_markdown":"Assuming that you have told us all that you want to obtain and your code isn’t multi-threaded, then just use a (non-final) `int` variable and add 3 to it when the button is clicked. Then it is trivial to print it. And still use `String.valueOf()` to put it in the label.","body":"Assuming that you have told us all that you want to obtain and your code isn’t multi-threaded, then just use a (non-final) <code>int</code> variable and add 3 to it when the button is clicked. Then it is trivial to print it. And still use <code>String.valueOf()</code> to put it in the label."}],"owner":{"account_id":28138813,"reputation":11,"user_id":21502168,"display_name":"M.Ibrahim Abdullah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680025116,"answer_count":0,"score":0,"last_activity_date":1680077550,"creation_date":1680024156,"question_id":75869263,"body_markdown":"So, im making a program in which whenever a button is clicked 3 is added to an integer called Score \r\nso that if the button is clicked 2 times score will be 6.I made the score int final int with value of 0.\r\n\r\nOk the syntax i added was \r\n\r\n - To add 3: `Viewablescore[0] =+ 3;`\r\n - For console `System.out.println(Viewablescore);`\r\n - for JFrame `label2.setText(String.valueOf(Viewablescore));`\r\n\r\nI wanted to print the result on both console and in the Jframe, but i was given with `[I@563bf420`.\r\nThe program ran successfully.\r\nWhat should i do\r\n","title":"I am having trouble while converting Integer to string","body":"<p>So, im making a program in which whenever a button is clicked 3 is added to an integer called Score\nso that if the button is clicked 2 times score will be 6.I made the score int final int with value of 0.</p>\n<p>Ok the syntax i added was</p>\n<ul>\n<li>To add 3: <code>Viewablescore[0] =+ 3;</code></li>\n<li>For console <code>System.out.println(Viewablescore);</code></li>\n<li>for JFrame <code>label2.setText(String.valueOf(Viewablescore));</code></li>\n</ul>\n<p>I wanted to print the result on both console and in the Jframe, but i was given with <code>[I@563bf420</code>.\nThe program ran successfully.\nWhat should i do</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680067442,"post_id":75873397,"comment_id":133831964,"body_markdown":"Why do you have two classes named `I_a`? If they are in the same package, that won&#39;t work.","body":"Why do you have two classes named <code>I_a</code>? If they are in the same package, that won&#39;t work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680067634,"post_id":75873397,"comment_id":133831997,"body_markdown":"But what exact problem are you having? Please post your actual code and the full error message.","body":"But what exact problem are you having? Please post your actual code and the full error message."},{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1680509115,"post_id":75873397,"comment_id":133904383,"body_markdown":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!","body":"I would appreciate confirming my answer if it has resolved your issue and was what you were looking for!!"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073849,"creation_date":1680073849,"answer_id":75874165,"question_id":75873397,"body_markdown":"Use the options already provided by `Comparator`:\r\n```\r\nComparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\r\n```\r\nIf you want higher lengths first:\r\n```\r\nComparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\r\n```","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>Use the options already provided by <code>Comparator</code>:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).thenComparing(I_a::getName);\n</code></pre>\n<p>If you want higher lengths first:</p>\n<pre><code>Comparator.comparingInt(I_a::getLength).reversed().thenComparing(I_a::getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680073901,"creation_date":1680073901,"answer_id":75874173,"question_id":75873397,"body_markdown":"I think you could not describe your problem clearly enough and I couldn&#39;t completely understand what you are looking for, But maybe this method is the one you need!!\r\n\r\n    @Override\r\n    public int compareTo(I_a i){\r\n        return Comparator.comparing(I_a::getLength)\r\n                  .thenComparing(I_a::getName)\r\n                  .compare(this, i);\r\n    }","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I think you could not describe your problem clearly enough and I couldn't completely understand what you are looking for, But maybe this method is the one you need!!</p>\n<pre><code>@Override\npublic int compareTo(I_a i){\n    return Comparator.comparing(I_a::getLength)\n              .thenComparing(I_a::getName)\n              .compare(this, i);\n}\n</code></pre>\n"}],"owner":{"account_id":25504947,"reputation":3,"user_id":19297567,"display_name":"Chau Huynh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680077441,"creation_date":1680067207,"question_id":75873397,"body_markdown":"I&#39;m not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I&#39;a is equal to another I&#39;a the following instance variables should match exactly:\r\n- length\r\n- name\r\n\r\nAnd in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.\r\n\r\nThe length has highest precedence for ordering, name has next highest precedence.\r\n\r\nIf the length is the same, then sorting is by the name.\r\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.\r\n\r\n```\r\npublic class I_a implements Comparable&lt;I_a&gt;{\r\nprivate name;\r\nprivate length;\r\n}\r\npublic abstract class I_a {\r\n\r\n   /*** instance constants, these are fixed for each type. ***/\r\n   /** The Hawaiian name. */\r\n   protected final String name;\r\n   /** The English name. */\r\n   protected final String englishName;\r\n   /** The scientific name. */\r\n   protected final String scientificName;\r\n   /** The maximum length. */\r\n   protected final double maxLength;\r\n    /** The minimum length. */\r\n   protected final double minLength;\r\n      /** The diet eaten. */\r\n   protected final String[] diet;\r\n   \r\n   /*** instance variables, these are (possibly) variable for each fish. ***/\r\n    /** The actual fish length in inches. */\r\n   protected double length;\r\n   /** The fish weight in ounces. */\r\n   protected double weight;\r\n   /** The body color. */\r\n   protected String bodyColor;\r\n   /** The fin color. */\r\n   protected String finColor;\r\n   /** The fishes&#39; sex. */\r\n   protected String sex;\r\n   /** The growth rate max per food eaten.*/\r\n   protected double growthRate = 0.8;\r\n\r\n```\r\n\r\n\r\nI try to declare the variable for my Comparable class but it said `&lt;identifier&gt; expected`. What should I try to put","title":"How can I implement the Comparable interface and write the compareTo method","body":"<p>I'm not sure how to implement Comparable interface and write the compareTo method for my project. I need to write a compareTo metho for the fish with to say an I'a is equal to another I'a the following instance variables should match exactly:</p>\n<ul>\n<li>length</li>\n<li>name</li>\n</ul>\n<p>And in order to write a compareTo method, I need to meet the inquiry for compareTo method should compare those instance variables, in that exact order.</p>\n<p>The length has highest precedence for ordering, name has next highest precedence.</p>\n<p>If the length is the same, then sorting is by the name.\nIf the name is also the same the compareTo method should return 0 to indicate the two fish are equal.</p>\n<pre><code>public class I_a implements Comparable&lt;I_a&gt;{\nprivate name;\nprivate length;\n}\npublic abstract class I_a {\n\n   /*** instance constants, these are fixed for each type. ***/\n   /** The Hawaiian name. */\n   protected final String name;\n   /** The English name. */\n   protected final String englishName;\n   /** The scientific name. */\n   protected final String scientificName;\n   /** The maximum length. */\n   protected final double maxLength;\n    /** The minimum length. */\n   protected final double minLength;\n      /** The diet eaten. */\n   protected final String[] diet;\n   \n   /*** instance variables, these are (possibly) variable for each fish. ***/\n    /** The actual fish length in inches. */\n   protected double length;\n   /** The fish weight in ounces. */\n   protected double weight;\n   /** The body color. */\n   protected String bodyColor;\n   /** The fin color. */\n   protected String finColor;\n   /** The fishes' sex. */\n   protected String sex;\n   /** The growth rate max per food eaten.*/\n   protected double growthRate = 0.8;\n\n</code></pre>\n<p>I try to declare the variable for my Comparable class but it said <code>&lt;identifier&gt; expected</code>. What should I try to put</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679917057,"post_id":75855269,"comment_id":133801010,"body_markdown":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any `void` methods!","body":"What does &quot;how can I call the method at the and and how to doReturn the XMLGregorianCalendar when it has nested returns inside&quot; mean? And I don&#39;t see any <code>void</code> methods!"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679917178,"post_id":75855269,"comment_id":133801041,"body_markdown":"@tgdavies I edited the syntax spells","body":"@tgdavies I edited the syntax spells"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679917496,"post_id":75855269,"comment_id":133801120,"body_markdown":"Sorry, I still don&#39;t understand your question.","body":"Sorry, I still don&#39;t understand your question."},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679921150,"post_id":75855269,"comment_id":133802075,"body_markdown":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part","body":"@tgdavies I added my test, I am just stuck at XMLGregorianCalendar part"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679932660,"post_id":75855269,"comment_id":133805755,"body_markdown":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terribly flawed date-time classes. These were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679940677,"post_id":75855269,"comment_id":133807816,"body_markdown":"I strongly recommend you don’t use `DateFormat` and `SimpleDateFormat` since they are notorious troublemakers. Unless you have a very specific need you may also not want to use `XMLGregorianCalendar`. Also to construct a string of `2303` for year 23 month 3 you are first constructing a `XMLGregorianCalendar` of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) that @BasilBourque already mentioned.","body":"I strongly recommend you don’t use <code>DateFormat</code> and <code>SimpleDateFormat</code> since they are notorious troublemakers. Unless you have a very specific need you may also not want to use <code>XMLGregorianCalendar</code>. Also to construct a string of <code>2303</code> for year 23 month 3 you are first constructing a <code>XMLGregorianCalendar</code> of year 2303 without a defined month. While it may work, it’s certainly confusing and ill-advised. Use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> that @BasilBourque already mentioned."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679944045,"post_id":75855269,"comment_id":133808617,"body_markdown":"The nice solution: Use java.time and its `Clock` class in your production code. For testing inject a `Clock` the time of which you control. See [How to test date created with LocalDateTime.now()](https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now). The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one.","body":"The nice solution: Use java.time and its <code>Clock</code> class in your production code. For testing inject a <code>Clock</code> the time of which you control. See <a href=\"https://stackoverflow.com/questions/39527752/how-to-test-date-created-with-localdatetime-now\">How to test date created with LocalDateTime.now()</a>. The hacky solution: read the time before and after calling the method under test. Test that the time returned is neither before the former time read nor after the latter one."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679947383,"post_id":75855269,"comment_id":133809343,"body_markdown":"Why are you focused on the legacy class `XMLGregorianCalendar`? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by `Instant.now().toString()`. In another method, you generate text for just the year and month —&#160;for this use the `YearMonth` class to represent, well, the year and the month alone. So I see no need for *any* of your code presented here. &#128073; I suggest you study [*The Java Tutorials*](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) by Oracle, free-of-charge.","body":"Why are you focused on the legacy class <code>XMLGregorianCalendar</code>? One of your methods generates text in standard ISO 8601 format for the current moment — this you can do simply by <code>Instant.now().toString()</code>. In another method, you generate text for just the year and month — for this use the <code>YearMonth</code> class to represent, well, the year and the month alone. So I see no need for <i>any</i> of your code presented here. 👉 I suggest you study <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>The Java Tutorials</i></a> by Oracle, free-of-charge."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679949940,"post_id":75855269,"comment_id":133809826,"body_markdown":"I still don&#39;t understand your question. `getCalendarTest` should simply call `DateUtils.getCalendar()` and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of `privateConstructorTest`. Having said that, take the advice to use a `Clock`, and don&#39;t use static utility classes, they make testing of their clients difficult.","body":"I still don&#39;t understand your question. <code>getCalendarTest</code> should simply call <code>DateUtils.getCalendar()</code> and check that the result is as expected (given that the date will not exactly match any other measure of &#39;now&#39;). And what is the point of <code>privateConstructorTest</code>. Having said that, take the advice to use a <code>Clock</code>, and don&#39;t use static utility classes, they make testing of their clients difficult."}],"answers":[{"comments":[{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1679921141,"post_id":75855337,"comment_id":133802072,"body_markdown":"I added my test, I am just stuck at XMLGregorianCalendar part","body":"I added my test, I am just stuck at XMLGregorianCalendar part"}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679917366,"creation_date":1679917366,"answer_id":75855337,"question_id":75855269,"body_markdown":"Don&#39;t see how your code is related to void methods at all, but if your functions return current date either as `XMLGregorianCalendar` or `String` and you are asking how to unit test them in the condition where current date is always changing then I&#39;d pass the `DateUtils` via a constructor and mock the `currentDate()` function to return some specific date which could easily be unit tested.\r\n\r\nEdit:\r\n\r\nI just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you&#39;d like the benefits of a global static helper.","title":"How to test a date utils classes methods in java","body":"<p>Don't see how your code is related to void methods at all, but if your functions return current date either as <code>XMLGregorianCalendar</code> or <code>String</code> and you are asking how to unit test them in the condition where current date is always changing then I'd pass the <code>DateUtils</code> via a constructor and mock the <code>currentDate()</code> function to return some specific date which could easily be unit tested.</p>\n<p>Edit:</p>\n<p>I just realised your methods are static. Consider making them non-static and wrapping them into a class which can easily be tested. You can create a static singleton of this class in non-test code if you'd like the benefits of a global static helper.</p>\n"}],"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679947207,"answer_count":1,"score":-1,"last_activity_date":1680077242,"creation_date":1679916957,"question_id":75855269,"body_markdown":"I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?\r\n\r\n```\r\npublic static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted;\r\n}\r\n\r\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\r\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\r\n    XMLGregorianCalendar gdateFormatted =\r\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\r\n    return gdateFormatted.toString();\r\n}\r\n```\r\n\r\nMy problem has been resolved, my test method is below:\r\n\r\n```@Test\r\n    public void getCalendarTest() throws DatatypeConfigurationException {\r\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\r\n        Assert.assertNotNull(gdateFormatted);\r\n    }\r\n\r\n```\r\n\r\nI couldn&#39;t succeed the part of XMLGregorianCalendar.\r\n","title":"How to test a date utils classes methods in java","body":"<p>I am looking for a solution for testing these methods especially for date util classes. I am adding my two methods that I want to write a test for.  How can I call the method at the end and how to doReturn the XMLGregorianCalendar when it has nested returns inside like the method I added?</p>\n<pre><code>public static XMLGregorianCalendar getCalendar() throws DatatypeConfigurationException {\n\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted;\n}\n\npublic static String getDateNowYyMm() throws DatatypeConfigurationException {\n    DateFormat format = new SimpleDateFormat(&quot;yyMM&quot;);\n    XMLGregorianCalendar gdateFormatted =\n            DatatypeFactory.newInstance().newXMLGregorianCalendar(format.format(DateUtils.currentDate()));\n    return gdateFormatted.toString();\n}\n</code></pre>\n<p>My problem has been resolved, my test method is below:</p>\n<pre><code>    public void getCalendarTest() throws DatatypeConfigurationException {\n        XMLGregorianCalendar gdateFormatted = DateUtils.getCalendar();\n        Assert.assertNotNull(gdateFormatted);\n    }\n\n</code></pre>\n<p>I couldn't succeed the part of XMLGregorianCalendar.</p>\n"},{"tags":["java","webdriver","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347548394,"creation_date":1347548394,"answer_id":12409203,"question_id":12352100,"body_markdown":"It was actually resolved by setting up Encoding to UTF-8 in Eclipse","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>It was actually resolved by setting up Encoding to UTF-8 in Eclipse</p>\n"}],"owner":{"account_id":205630,"reputation":9677,"user_id":454488,"accept_rate":77,"display_name":"kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680077005,"creation_date":1347281464,"question_id":12352100,"body_markdown":"I am trying to run the example from [Page-Objects Example][1]\r\n\r\n\r\n  [1]: https://github.com/michal-lipski/page-objects-webdriver.git\r\n\r\nand it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:\r\n\r\n\r\n    GitHubLoginTest (1)\r\n    com.example.test.GitHubLoginTest\r\n    should_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\r\n    org.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain &quot;GitHub � Social Coding&quot;. Current title: &quot;GitHub &#183; Social Coding&quot;\r\n    Build info: version: &#39;2.25.0&#39;, revision: &#39;17482&#39;, time: &#39;2012-07-18 21:09:54&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;2.6.43.5-2.fc15.x86_64&#39;, java.version: &#39;1.6.0_35&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\r\n    \tat com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\r\n    \tat com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\r\n    \tat com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\r\n    \tat com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n\r\nI tried setting up System.setProperty as:\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;workspace/libs/chromedriver&quot;);\r\n\r\nBut got the same error. \r\n","title":"Webdriver Error &quot;Driver info: driver.version: unknown&quot;","body":"<p>I am trying to run the example from <a href=\"https://github.com/michal-lipski/page-objects-webdriver.git\" rel=\"nofollow\">Page-Objects Example</a></p>\n\n<p>and it runs fine on Windows 7, but when i try to run it on Linux ( Fedora 15 ) I get an error:</p>\n\n<pre><code>GitHubLoginTest (1)\ncom.example.test.GitHubLoginTest\nshould_not_login_with_wrong_credentials(com.example.test.GitHubLoginTest)\norg.openqa.selenium.TimeoutException: Timed out after 30 seconds waiting for title to contain \"GitHub � Social Coding\". Current title: \"GitHub · Social Coding\"\nBuild info: version: '2.25.0', revision: '17482', time: '2012-07-18 21:09:54'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '2.6.43.5-2.fc15.x86_64', java.version: '1.6.0_35'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:255)\n    at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:270)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:222)\n    at com.example.pageobjects.GitHubPage.waitForPageToLoad(GitHubPage.java:40)\n    at com.example.pageobjects.GitHubPage.openPage(GitHubPage.java:30)\n    at com.example.pageobjects.GitHubHomePage.open(GitHubHomePage.java:31)\n    at com.example.test.GitHubLoginTest.should_not_login_with_wrong_credentials(GitHubLoginTest.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>I tried setting up System.setProperty as:</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"workspace/libs/chromedriver\");\n</code></pre>\n\n<p>But got the same error. </p>\n"},{"tags":["java","network-programming","serversocket","distributed-system","gossip"],"comments":[{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":1,"creation_date":1505347693,"post_id":46206566,"comment_id":79380436,"body_markdown":"Your intuitive solution is called [CRDT](http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter) and it&#39;s good. A [paper](https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf) about it if you want some more details.","body":"Your intuitive solution is called <a href=\"http://www.cakesolutions.net/teamblogs/how-to-build-a-distributed-counter\" rel=\"nofollow noreferrer\">CRDT</a> and it&#39;s good. A <a href=\"https://hal.inria.fr/file/index/docid/555588/filename/techreport.pdf\" rel=\"nofollow noreferrer\">paper</a> about it if you want some more details."}],"answers":[{"comments":[{"owner":{"account_id":1291633,"reputation":61,"user_id":1243633,"display_name":"azuri"},"score":0,"creation_date":1505364314,"post_id":46206821,"comment_id":79384411,"body_markdown":"If all of my java processes are subjects and all of them are observers, and the subject will be notifying whenever an increment or decrement occurs on it (which will happen quite often), as the number of nodes grows, the network will be jammed due to the processes talking to each other all the time.","body":"If all of my java processes are subjects and all of them are observers, and the subject will be notifying whenever an increment or decrement occurs on it (which will happen quite often), as the number of nodes grows, the network will be jammed due to the processes talking to each other all the time."}],"tags":[],"owner":{"account_id":7709079,"reputation":56,"user_id":5839077,"display_name":"D. Wood"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076933,"creation_date":1505336630,"answer_id":46206821,"question_id":46206566,"body_markdown":"You may be aware of this design pattern, but it still may be inspiring: [https://en.wikipedia.org/wiki/Observer_pattern][1]\r\n\r\nYou could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link). \r\n\r\nAs far as a Java libraries, check these out, see if any of them make your life easier: \r\n\r\n - [http://mina.apache.org/][2]\r\n   \r\n \r\n - [http://commons.apache.org/proper/commons-net/][3]\r\n\r\n   \r\n  \r\n\r\n - [http://hc.apache.org/][4]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Observer_pattern\r\n  [2]: https://mina.apache.org/\r\n  [3]: https://commons.apache.org/proper/commons-net/\r\n  [4]: https://hc.apache.org/","title":"Basic Distributed Counter using Java Sockets","body":"<p>You may be aware of this design pattern, but it still may be inspiring: <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Observer_pattern</a></p>\n<p>You could simply make all of the instances of the program observe all of the other instances, then they will all notify each other if any one changes (check out the diagram in that link).</p>\n<p>As far as a Java libraries, check these out, see if any of them make your life easier:</p>\n<ul>\n<li><p><a href=\"https://mina.apache.org/\" rel=\"nofollow noreferrer\">http://mina.apache.org/</a></p>\n</li>\n<li><p><a href=\"https://commons.apache.org/proper/commons-net/\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-net/</a></p>\n</li>\n<li><p><a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">http://hc.apache.org/</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":64532,"reputation":1894,"user_id":190452,"accept_rate":80,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519375587,"creation_date":1519375587,"answer_id":48944169,"question_id":46206566,"body_markdown":"It sounds like you need a [PNCounter][1] from Akka&#39;s Distributed Data library. It uses Gossip to communicate the counter&#39;s state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a `ReadMajority` where &quot;the value will be read and merged from a majority of replicas&quot;.\r\n\r\nIncidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.\r\n\r\n  [1]: https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters &quot;PNCounter&quot;","title":"Basic Distributed Counter using Java Sockets","body":"<p>It sounds like you need a <a href=\"https://doc.akka.io/docs/akka/2.5.9/distributed-data.html?language=java#counters\" rel=\"nofollow noreferrer\" title=\"PNCounter\">PNCounter</a> from Akka's Distributed Data library. It uses Gossip to communicate the counter's state to the network. You also have fine grained control over read and write consistency. So, for example, you can do a <code>ReadMajority</code> where \"the value will be read and merged from a majority of replicas\".</p>\n\n<p>Incidentally, the PNCounter works as you describe, using two distributed counters to maintain increments and decrements.</p>\n"}],"owner":{"account_id":1291633,"reputation":61,"user_id":1243633,"display_name":"azuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680076933,"creation_date":1505335569,"question_id":46206566,"body_markdown":"I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a **global counter**. A client can connect to any of these processes and issue command to `increase`, `decrease` or `get` the counter value. The global counter should be eventually consistent(**Network partition can occur** and we can recover from it).\r\n\r\nThe solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender&#39;s counts and stores the result as the latest count. When a `get` command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don&#39;t want to use any persistence layer.\r\n\r\n&gt;Is there a better way to implement this?\r\n&gt;What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?\r\n&gt;\r\n\r\n\r\n","title":"Basic Distributed Counter using Java Sockets","body":"<p>I have some Java processes(Socket programs) running on different servers, some on the same network and some on different networks. These processes together have the job to maintain a <strong>global counter</strong>. A client can connect to any of these processes and issue command to <code>increase</code>, <code>decrease</code> or <code>get</code> the counter value. The global counter should be eventually consistent(<strong>Network partition can occur</strong> and we can recover from it).</p>\n\n<p>The solution I have thought of so far is to maintain a count of increments and decrements on each node for all the nodes. When an increment command is issued on a node, it increments its own local copy of its counts of increments and then broadcasts its increment and decrement count. The nodes that receive this broadcast take the max of the received counts and their local copy of the sender's counts and stores the result as the latest count. When a <code>get</code> command is issued on any node it gives the difference of the sums of all the increments and decrements. I assume this will take care of cases where broadcasts are received out of order and other unreliabilities. I don't want to use any persistence layer.</p>\n\n<blockquote>\n  <p>Is there a better way to implement this?\n  What protocol should I use to broadcast the counts? Will gossip on UDP work? Any Java libraries that might help?</p>\n</blockquote>\n"},{"tags":["java","kernel"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1365085899,"post_id":15813740,"comment_id":22492436,"body_markdown":"(Kernel bypass for accessing the file system seems like a really bad idea.  It sounds like a good way to corrupt your file system ...)","body":"(Kernel bypass for accessing the file system seems like a really bad idea.  It sounds like a good way to corrupt your file system ...)"},{"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"score":0,"creation_date":1365086057,"post_id":15813740,"comment_id":22492554,"body_markdown":"@StephenC I wouldn&#39;t probably do `kernel bypassing` at all, but it might be useful for applications in need for being *incredibly* performant.","body":"@StephenC I wouldn&#39;t probably do <code>kernel bypassing</code> at all, but it might be useful for applications in need for being <i>incredibly</i> performant."}],"tags":[],"owner":{"account_id":536794,"reputation":21199,"user_id":905619,"accept_rate":88,"display_name":"poitroae"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365084848,"creation_date":1365084848,"answer_id":15813740,"question_id":15813603,"body_markdown":"**Kernel bypassing** is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. \r\n\r\nInstead, you *directly* access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.\r\n\r\nAssumption:\r\nIn regard to Java, the `kernel` (could) represent(s) the `JVM`.\r\n\r\nI have found a [very good article][1] on this.\r\n\r\n\r\n  [1]: http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/","title":"Kernel bypass with Java 7?","body":"<p><strong>Kernel bypassing</strong> is a method of avoiding the kernel when reading/writing to external data sources, e.g. files or networking. </p>\n\n<p>Instead, you <em>directly</em> access the data storage without letting all the bytes running through the OS kernel. This is usually faster but also less secure, since the entire process is not supervised by the operating system anymore.</p>\n\n<p>Assumption:\nIn regard to Java, the <code>kernel</code> (could) represent(s) the <code>JVM</code>.</p>\n\n<p>I have found a <a href=\"http://blog.lukego.com/blog/2013/01/04/kernel-bypass-networking/\" rel=\"nofollow\">very good article</a> on this.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365116793,"creation_date":1365116390,"answer_id":15823186,"question_id":15813603,"body_markdown":"The Answers to this related Question mention that SolarFlare has Java bindings: https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java.  \r\n\r\nAs far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.\r\n\r\nYou can do other things to improve network throughput in Java that don&#39;t involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java &quot;framework&quot; tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to &quot;application&quot; code.\r\n\r\n---------\r\n\r\n(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is &quot;closer to the metal&quot;.  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)\r\n","title":"Kernel bypass with Java 7?","body":"<p>The Answers to this related Question mention that SolarFlare has Java bindings: <a href=\"https://stackoverflow.com/questions/12123388/networking-with-kernel-bypass-in-java\">Networking with Kernel Bypass in Java</a>.  </p>\n\n<p>As far as Java 7 is concerned, there is no support for this kind of thing in the core libraries.  Kernel bypass is too system / vendor specific for inclusion in the standard APIs.</p>\n\n<p>You can do other things to improve network throughput in Java that don't involve kernel bypass.  For instance using the NIO Buffer and Channel APIs ...  However, your typical Java \"framework\" tends to get in the way of this ... by only exposing Stream / Reader and other high level I/O abstractions to \"application\" code.</p>\n\n<hr>\n\n<p>(I would also opine that if you have an application where network latency and throughput are critical enough for kernel bypass to be worthwhile, you should use a programming language that is \"closer to the metal\".  Java is better for applications where the biggest problem is application complexity ... NOT moving lots of bits through the network fast.)</p>\n"},{"tags":[],"owner":{"account_id":148296,"reputation":807,"user_id":359971,"display_name":"Andy Malakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680076923,"creation_date":1505246256,"answer_id":46184422,"question_id":15813603,"body_markdown":"Take a look at the [Onload Extensions API JNI Wrapper][1] on github. The author seems to specialize in [kernel bypass][2].\r\n\r\n\r\n  [1]: https://github.com/majek/openonload/tree/master/src/tools/jni &quot;Onload Extensions API JNI Wrapper&quot;\r\n  [2]: https://blog.cloudflare.com/kernel-bypass/","title":"Kernel bypass with Java 7?","body":"<p>Take a look at the <a href=\"https://github.com/majek/openonload/tree/master/src/tools/jni\" rel=\"nofollow noreferrer\" title=\"Onload Extensions API JNI Wrapper\">Onload Extensions API JNI Wrapper</a> on github. The author seems to specialize in <a href=\"https://blog.cloudflare.com/kernel-bypass/\" rel=\"nofollow noreferrer\">kernel bypass</a>.</p>\n"}],"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680076923,"creation_date":1365084477,"question_id":15813603,"body_markdown":"I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.\r\n\r\nDoes anyone have an example of Java 7 performing kernel bypass? I&#39;d be interested to see it","title":"Kernel bypass with Java 7?","body":"<p>I read in a couple of comments on SO Java 7 supports kernel bypass. However, when googling the topic I did not see any immediate examples of this.</p>\n\n<p>Does anyone have an example of Java 7 performing kernel bypass? I'd be interested to see it</p>\n"},{"tags":["java","spring","soap","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":2,"creation_date":1465920246,"post_id":37813780,"comment_id":63098294,"body_markdown":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the `HttpClient`, so `Basic Authentication` HTTP request header must be there. I suggest you to debug the code from the `HttpComponentsMessageSender.createConnection()` and try to figure out where your `credentials` goes.","body":"I don&#39;t see anything obvious in your code. Looks like you fully delegate to the <code>HttpClient</code>, so <code>Basic Authentication</code> HTTP request header must be there. I suggest you to debug the code from the <code>HttpComponentsMessageSender.createConnection()</code> and try to figure out where your <code>credentials</code> goes."}],"answers":[{"tags":[],"owner":{"account_id":13103863,"reputation":31,"user_id":9467338,"display_name":"Alper Karaağa&#231;lı"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680076348,"creation_date":1680076348,"answer_id":75874525,"question_id":37813780,"body_markdown":"I follow the spring consume webservice guide &quot; https://spring.io/guides/gs/consuming-web-service/#initial &quot; there was a example too. But there is not how to add basic authorization. So you can use like this\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\r\n    \t\r\n    \tprivate String username;\r\n    \r\n    \tprivate String password;\r\n    \r\n    \t@Override\r\n    \tprotected void prepareConnection(HttpURLConnection connection) throws IOException {\r\n    \t\tBASE64Encoder enc = new sun.misc.BASE64Encoder();\r\n    \t\tString userpassword = username+&quot;:&quot;+password;\r\n    \t\tString encodedAuthorization = enc.encode( userpassword.getBytes() );\r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\r\n    \r\n    \t\tsuper.prepareConnection(connection);\r\n    \t}\r\n    }\r\n\r\nand \r\n\r\n    public YourClient yourClient(Jaxb2Marshaller marshaller){\r\n\t\tYourClient client = new YourClient();\r\n\t\t\r\n\t\tWebServiceTemplate template = client.getWebServiceTemplate();\r\n\t\ttemplate.setMessageSender(new WebServiceMessageSenderWithAuth());\r\n\t\t\r\n\t\tclient.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\r\n\t\tclient.setMarshaller(marshaller);\r\n\t\tclient.setUnmarshaller(marshaller);\r\n\t\treturn client;\r\n\t}\r\n\r\nAnd call..\r\n\r\n\r\n\r\n    return (YourResponseModel) getWebServiceTemplate()\r\n    \t\t\t\t.marshalSendAndReceive(url, request,\r\n    \t\t\t\t\t\tnew SoapActionCallback(\r\n    \t\t\t\t\t\t&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));","title":"How to add Authentication Headers to SOAP Request","body":"<p>I follow the spring consume webservice guide &quot; <a href=\"https://spring.io/guides/gs/consuming-web-service/#initial\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/#initial</a> &quot; there was a example too. But there is not how to add basic authorization. So you can use like this</p>\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\n    \n    private String username;\n\n    private String password;\n\n    @Override\n    protected void prepareConnection(HttpURLConnection connection) throws IOException {\n        BASE64Encoder enc = new sun.misc.BASE64Encoder();\n        String userpassword = username+&quot;:&quot;+password;\n        String encodedAuthorization = enc.encode( userpassword.getBytes() );\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization);\n\n        super.prepareConnection(connection);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public YourClient yourClient(Jaxb2Marshaller marshaller){\n    YourClient client = new YourClient();\n    \n    WebServiceTemplate template = client.getWebServiceTemplate();\n    template.setMessageSender(new WebServiceMessageSenderWithAuth());\n    \n    client.setDefaultUri(&quot;http://examplesap.com/xx/WebService/soap1.1x&quot;);\n    client.setMarshaller(marshaller);\n    client.setUnmarshaller(marshaller);\n    return client;\n}\n</code></pre>\n<p>And call..</p>\n<pre><code>return (YourResponseModel) getWebServiceTemplate()\n                .marshalSendAndReceive(url, request,\n                        new SoapActionCallback(\n                        &quot;http://examplesap.com/xx/WebService/soap1.1x&quot;));\n</code></pre>\n"}],"owner":{"account_id":75805,"reputation":403,"user_id":217325,"accept_rate":67,"display_name":"Craig Gardner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4245,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680076348,"creation_date":1465911674,"question_id":37813780,"body_markdown":"I&#39;m using Spring Integration 4.2.4.RELEASE and it doesn&#39;t seem to want to add my Authorization Header to the SOAP requests.\r\n\r\nHere&#39;s the relevant spring-integration configuration:\r\n\r\n    &lt;ws:outbound-gateway uri=&quot;${soap.ws.url}&quot; message-factory=&quot;messageFactory&quot; message-sender=&quot;messageSender&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;httpClientFactory&quot; class=&quot;com.myorg.http.HttpClientFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean name=&quot;messageSender&quot; class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\r\n        &lt;property name=&quot;credentials&quot; ref=&quot;httpClientCredentials&quot;/&gt;\r\n        &lt;property name=&quot;httpClient&quot; ref=&quot;httpClientFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;httpClientCredentials&quot; class=&quot;org.apache.http.auth.UsernamePasswordCredentials&quot;&gt;\r\n        &lt;constructor-arg value=&quot;${username}&quot;/&gt;\r\n        &lt;constructor-arg value=&quot;${password}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;messageFactory&quot; class=&quot;org.springframework.ws.soap.saaj.SaajSoapMessageFactory&quot;&gt;\r\n        &lt;property name=&quot;soapVersion&quot;&gt;\r\n            &lt;util:constant static-field=&quot;org.springframework.ws.soap.SoapVersion.SOAP_11&quot;/&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;messageFactory&quot; ref=&quot;myMessageFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;myMessageFactory&quot; class=&quot;com.myorg.soap.CustomMessageFactory&quot; /&gt;\r\n\r\n\r\nHere&#39;s the custom messageFactory class\r\n\r\n    package com.myorg.soap;\r\n\r\n    import com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\r\n    import com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\r\n\r\n    import javax.xml.soap.MimeHeaders;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    /**\r\n     * Custom Message Factory.\r\n     */\r\n    public class CustomMessageFactory extends MessageFactoryImpl {\r\n\r\n        /**\r\n         * Class Constructor.\r\n         *\r\n         * @return Message1_1Impl\r\n         * @throws SOAPException when there is a SOAP error.\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage() throws SOAPException {\r\n            return new Message1_1Impl();\r\n        }\r\n\r\n        /**\r\n         * Create a new message.\r\n         *\r\n         * @param mimeHeaders headers to add to the message\r\n         * @param in input stream to use in the message.\r\n         * @return New SOAP 1.1 message.\r\n         * @throws IOException when there is an IO error\r\n         * @throws SOAPException when there is a SOAP error\r\n         */\r\n        @Override\r\n        public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\r\n                throws IOException, SOAPException {\r\n            MimeHeaders headers = mimeHeaders;\r\n            if (headers == null) {\r\n                headers = new MimeHeaders();\r\n            }\r\n            headers.setHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\r\n            Message1_1Impl msg = new Message1_1Impl(headers, in);\r\n            msg.setLazyAttachments(this.lazyAttachments);\r\n            return msg;\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s the custom httpClientFactory class\r\n\r\n    package com.myorg.http;\r\n\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.Credentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.config.SocketConfig;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.springframework.beans.factory.FactoryBean;\r\n\r\n    /**\r\n     * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\r\n     */\r\n    public class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\r\n        /**\r\n         * Default socket timeout will be 15 seconds.\r\n         */\r\n        private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\r\n\r\n        /**\r\n         * Max connections defaults to 5.\r\n         */\r\n        private static final int MAX_CONNECTIONS = 5;\r\n\r\n        /**\r\n         * Local storage for credentials.\r\n         */\r\n        private Credentials credentials;\r\n\r\n        @Override\r\n        public HttpClient getObject() throws Exception {\r\n            HttpClientBuilder builder = HttpClientBuilder.create();\r\n\r\n            SocketConfig socketConfig = SocketConfig.custom()\r\n                    .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\r\n                    .build();\r\n\r\n            builder.useSystemProperties()\r\n                    .setMaxConnTotal(MAX_CONNECTIONS)\r\n                    .setDefaultSocketConfig(socketConfig);\r\n\r\n            if (credentials != null) {\r\n                CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n                credentialsProvider.setCredentials(AuthScope.ANY, credentials);\r\n                builder.setDefaultCredentialsProvider(credentialsProvider);\r\n            }\r\n\r\n            return builder.build();\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getObjectType() {\r\n            return HttpClient.class;\r\n        }\r\n\r\n        @Override\r\n        public boolean isSingleton() {\r\n            return true;\r\n        }\r\n\r\n        public Credentials getCredentials() {\r\n            return credentials;\r\n        }\r\n\r\n        public void setCredentials(final Credentials credentials) {\r\n            this.credentials = credentials;\r\n        }\r\n    }\r\n\r\nThe problem that I&#39;m seeing is that the Authorization header doesn&#39;t seem to be set on the request.  What am I missing?","title":"How to add Authentication Headers to SOAP Request","body":"<p>I'm using Spring Integration 4.2.4.RELEASE and it doesn't seem to want to add my Authorization Header to the SOAP requests.</p>\n\n<p>Here's the relevant spring-integration configuration:</p>\n\n<pre><code>&lt;ws:outbound-gateway uri=\"${soap.ws.url}\" message-factory=\"messageFactory\" message-sender=\"messageSender\"/&gt;\n\n&lt;bean id=\"httpClientFactory\" class=\"com.myorg.http.HttpClientFactoryBean\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean name=\"messageSender\" class=\"org.springframework.ws.transport.http.HttpComponentsMessageSender\"&gt;\n    &lt;property name=\"credentials\" ref=\"httpClientCredentials\"/&gt;\n    &lt;property name=\"httpClient\" ref=\"httpClientFactory\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"httpClientCredentials\" class=\"org.apache.http.auth.UsernamePasswordCredentials\"&gt;\n    &lt;constructor-arg value=\"${username}\"/&gt;\n    &lt;constructor-arg value=\"${password}\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"messageFactory\" class=\"org.springframework.ws.soap.saaj.SaajSoapMessageFactory\"&gt;\n    &lt;property name=\"soapVersion\"&gt;\n        &lt;util:constant static-field=\"org.springframework.ws.soap.SoapVersion.SOAP_11\"/&gt;\n    &lt;/property&gt;\n    &lt;property name=\"messageFactory\" ref=\"myMessageFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"myMessageFactory\" class=\"com.myorg.soap.CustomMessageFactory\" /&gt;\n</code></pre>\n\n<p>Here's the custom messageFactory class</p>\n\n<pre><code>package com.myorg.soap;\n\nimport com.sun.xml.messaging.saaj.soap.MessageFactoryImpl;\nimport com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl;\n\nimport javax.xml.soap.MimeHeaders;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPMessage;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Custom Message Factory.\n */\npublic class CustomMessageFactory extends MessageFactoryImpl {\n\n    /**\n     * Class Constructor.\n     *\n     * @return Message1_1Impl\n     * @throws SOAPException when there is a SOAP error.\n     */\n    @Override\n    public SOAPMessage createMessage() throws SOAPException {\n        return new Message1_1Impl();\n    }\n\n    /**\n     * Create a new message.\n     *\n     * @param mimeHeaders headers to add to the message\n     * @param in input stream to use in the message.\n     * @return New SOAP 1.1 message.\n     * @throws IOException when there is an IO error\n     * @throws SOAPException when there is a SOAP error\n     */\n    @Override\n    public SOAPMessage createMessage(final MimeHeaders mimeHeaders, final InputStream in)\n            throws IOException, SOAPException {\n        MimeHeaders headers = mimeHeaders;\n        if (headers == null) {\n            headers = new MimeHeaders();\n        }\n        headers.setHeader(\"Content-Type\", \"text/xml\");\n\n        Message1_1Impl msg = new Message1_1Impl(headers, in);\n        msg.setLazyAttachments(this.lazyAttachments);\n        return msg;\n    }\n}\n</code></pre>\n\n<p>Here's the custom httpClientFactory class</p>\n\n<pre><code>package com.myorg.http;\n\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.Credentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.config.SocketConfig;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.springframework.beans.factory.FactoryBean;\n\n/**\n * Provide an HttpClient factory bean, so we can configure the ODE web service client to use TLS1.1 and TLS1.2.\n */\npublic class HttpClientFactoryBean implements FactoryBean&lt;HttpClient&gt; {\n    /**\n     * Default socket timeout will be 15 seconds.\n     */\n    private static final int DEFAULT_READ_TIMEOUT_MILLISECONDS = (15 * 1000);\n\n    /**\n     * Max connections defaults to 5.\n     */\n    private static final int MAX_CONNECTIONS = 5;\n\n    /**\n     * Local storage for credentials.\n     */\n    private Credentials credentials;\n\n    @Override\n    public HttpClient getObject() throws Exception {\n        HttpClientBuilder builder = HttpClientBuilder.create();\n\n        SocketConfig socketConfig = SocketConfig.custom()\n                .setSoTimeout(DEFAULT_READ_TIMEOUT_MILLISECONDS)\n                .build();\n\n        builder.useSystemProperties()\n                .setMaxConnTotal(MAX_CONNECTIONS)\n                .setDefaultSocketConfig(socketConfig);\n\n        if (credentials != null) {\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, credentials);\n            builder.setDefaultCredentialsProvider(credentialsProvider);\n        }\n\n        return builder.build();\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return HttpClient.class;\n    }\n\n    @Override\n    public boolean isSingleton() {\n        return true;\n    }\n\n    public Credentials getCredentials() {\n        return credentials;\n    }\n\n    public void setCredentials(final Credentials credentials) {\n        this.credentials = credentials;\n    }\n}\n</code></pre>\n\n<p>The problem that I'm seeing is that the Authorization header doesn't seem to be set on the request.  What am I missing?</p>\n"},{"tags":["java","spring-boot","caching","spring-el","spring-framework-beans"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680077288,"post_id":75874522,"comment_id":133833994,"body_markdown":"Your analysis of the issue is wrong. It isn&#39;t about it being a `String` or `String[]` it is complaining about your expression. I would expect that just `${property.cache}` should work (if SpEL works this should work as well). Spring will do the conversion to an array.","body":"Your analysis of the issue is wrong. It isn&#39;t about it being a <code>String</code> or <code>String[]</code> it is complaining about your expression. I would expect that just <code>${property.cache}</code> should work (if SpEL works this should work as well). Spring will do the conversion to an array."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680092444,"post_id":75874522,"comment_id":133837856,"body_markdown":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array","body":"Thanks for reaching out to help, I really appreciate it. How would you suggest I write it? I tried to write something like this @CacheEvict(value = &quot;${property.cache}&quot;, allEntries = true) but I got an error message &quot;Cannot find cache named &#39;${property.cache}&#39; &quot;... Looks like it took the content as a string instead of an array"},{"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"score":0,"creation_date":1680095812,"post_id":75874522,"comment_id":133838912,"body_markdown":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot;\nSee https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974","body":"Try to use Property.cache = {&#39;name1&#39;,&#39;name2&#39;,&#39;...&#39;,&#39;nameN&#39;} then use value=&quot;#{${Property.cache}}&quot; See <a href=\"https://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/59969974#59969974\" title=\"reading a list from properties file and load with spring annotation value\">stackoverflow.com/questions/12576156/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680113072,"post_id":75874522,"comment_id":133843921,"body_markdown":"Apparently SpEL works but a value expression doesn&#39;t, have you tried `#{${property.cache}}`? And if that fails try `#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}` as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting `String` into a `String[]` itself.","body":"Apparently SpEL works but a value expression doesn&#39;t, have you tried <code>#{${property.cache}}</code>? And if that fails try <code>#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}</code> as the current expression you have isn&#39;t really a valid one. But that shouldn&#39;t be needed and Spring should be able to convert the resulting <code>String</code> into a <code>String[]</code> itself."},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164361,"post_id":75874522,"comment_id":133852427,"body_markdown":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter","body":"Hi trying with &#39;#{${Property.cache}}&#39; throws the following error....Cannot find cache named &#39;#{${Property.cache}}&#39; for Builder[public void com.exe.configuration.CacheConfig.evictCache()] caches=[#{${Property.cache}}] | key=&#39;&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;,true,false... The version #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} does the same error but on the log you have caches=[#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}] ... The fact is that those methods would work in a scenario when you have @Value(&quot;${property.cache}&#39;&quot;)String[] array; but @Value has a String parameter"},{"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"score":0,"creation_date":1680164913,"post_id":75874522,"comment_id":133852544,"body_markdown":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong","body":"@CacheEvict(value = &quot;String[]&quot;, key=&quot;String&quot;) in this case the #{&#39;${property.cache}&#39;.split(&#39;,&#39;)} has effect on key, i&#39;ve tryed, but doesn&#39;t seem to have effect in value. So that&#39;s why I came to the conclusion that the fact of being an array has an impact.. I might be wrong"}],"owner":{"account_id":15468585,"reputation":1,"user_id":11159293,"display_name":"Massirito"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680076327,"creation_date":1680076327,"question_id":75874522,"body_markdown":"This is the set up\r\n\r\napplication.properties\r\n\r\n```\r\nProperty.cache = name1,name2,...,nameN\r\n```\r\nCacheManager.java\r\n```\r\n[...]\r\n@Scheduler(time_of_schedule)\r\n@CacheEvict(value=&quot;#&#39;${property.cache}.split()&#39;&quot;)\r\nvoid dueCache(){\r\n    log.info(&quot;cache clean&quot;);\r\n}\r\n[...]\r\n```\r\n\r\nThe issue is that **@CacheEvict value** throws `nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;property.cache&#39;.split(&#39;,&#39;)&#39; in value &quot;#{&#39;${property.cache&#39;.split(&#39;,&#39;)}&quot;` this is because value is a `String[]` normally this would work with `String` attributes.\r\nIs there any way to do it with SpEL?\r\n\r\n\r\nI tryed with 4 ways:\r\n1. `@CacheEvict(value = &quot;#{&#39;${property.cache}&#39;.split(&#39;,&#39;)}&quot;, allEntries = true)`\r\n2. `@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty(&#39;property.cache&#39;).split(&#39;,&#39;))}&quot;, allEntries = true)`\r\n3. `@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)`\r\n4. `@CacheEvict(value = &quot;cache1&quot;, allEntries = true)`\r\n\r\nThe options 1 and 2 would work if **value** was a `String value()` but value is defined as `String[] value()`.\r\nThe options 3 and 4 work, but is unresonable to write `value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}` if there is a way to use properties.","title":"@CacheEvict value population","body":"<p>This is the set up</p>\n<p>application.properties</p>\n<pre><code>Property.cache = name1,name2,...,nameN\n</code></pre>\n<p>CacheManager.java</p>\n<pre><code>[...]\n@Scheduler(time_of_schedule)\n@CacheEvict(value=&quot;#'${property.cache}.split()'&quot;)\nvoid dueCache(){\n    log.info(&quot;cache clean&quot;);\n}\n[...]\n</code></pre>\n<p>The issue is that <strong>@CacheEvict value</strong> throws <code>nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'property.cache'.split(',')' in value &quot;#{'${property.cache'.split(',')}&quot;</code> this is because value is a <code>String[]</code> normally this would work with <code>String</code> attributes.\nIs there any way to do it with SpEL?</p>\n<p>I tryed with 4 ways:</p>\n<ol>\n<li><code>@CacheEvict(value = &quot;#{'${property.cache}'.split(',')}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;#{T(java.util.Arrays).asList(#root.getProperty('property.cache').split(','))}&quot;, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = {&quot;cache1&quot;,&quot;cache2&quot;}, allEntries = true)</code></li>\n<li><code>@CacheEvict(value = &quot;cache1&quot;, allEntries = true)</code></li>\n</ol>\n<p>The options 1 and 2 would work if <strong>value</strong> was a <code>String value()</code> but value is defined as <code>String[] value()</code>.\nThe options 3 and 4 work, but is unresonable to write <code>value = {&quot;cache1&quot;,&quot;cache2&quot;,.....,&quot;cachen&quot;}</code> if there is a way to use properties.</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":32118,"reputation":3589,"user_id":88764,"display_name":"Larry Shatzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441739833,"creation_date":1441738924,"answer_id":32465351,"question_id":32465201,"body_markdown":"If you are using the [Maven Shade Plugin][1], you can a [filter][2], which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.\r\n\r\nHere&#39;s the example they provide:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filters&gt;\r\n      &lt;filter&gt;\r\n        &lt;artifact&gt;junit:junit&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;org/junit/**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/filter&gt;\r\n    &lt;/filters&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters","title":"Maven Get Specific Classes","body":"<p>If you are using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\">Maven Shade Plugin</a>, you can a <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow\">filter</a>, which will allow you to filter which artifacts get shaded, but as well as which classes to exclude or include.</p>\n\n<p>Here's the example they provide:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filters&gt;\n  &lt;filter&gt;\n    &lt;artifact&gt;junit:junit&lt;/artifact&gt;\n    &lt;includes&gt;\n      &lt;include&gt;org/junit/**&lt;/include&gt;\n    &lt;/includes&gt;\n    &lt;excludes&gt;\n      &lt;exclude&gt;org/junit/experimental/**&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1447865578,"creation_date":1441739480,"answer_id":32465474,"question_id":32465201,"body_markdown":"You should be able to use the [maven-dependency-plugin](http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo) like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\r\n                                    &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\r\n                                    &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven Get Specific Classes","body":"<p>You should be able to use the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html#The_dependency%3aunpack_mojo\" rel=\"noreferrer\">maven-dependency-plugin</a> like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;unpack&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;unpack&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;&lt;!--dependency groupId--&gt;&lt;/groupId&gt;\n                                &lt;artifactId&gt;&lt;!--dependency artifactId--&gt;&lt;/artifactId&gt;\n                                &lt;version&gt;&lt;!--depedency version--&gt;&lt;/version&gt;\n                                &lt;includes&gt;**/*Client*.java&lt;/includes&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":5430705,"reputation":354,"user_id":4321681,"accept_rate":100,"display_name":"sinisterrook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10220,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32465474,"answer_count":2,"score":10,"last_activity_date":1680075903,"creation_date":1441738420,"question_id":32465201,"body_markdown":"Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I&#39;m looking for a way to get files that contain &quot;Client&quot; in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.","title":"Maven Get Specific Classes","body":"<p>Is there a way that I can get maven to only include specific .class files when importing dependencies into uber jar (shade).  I'm looking for a way to get files that contain \"Client\" in their name to be pulled out of the dependency jars and added to the final jar.  Any help would be wonderful.</p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":1,"creation_date":1680196837,"post_id":75874294,"comment_id":133861347,"body_markdown":"Thank you very much for this hint. This solves my problem. Didn&#39;t see that I seem to have been using a deprecated property:  https://github.com/quarkusio/quarkus/issues/22101","body":"Thank you very much for this hint. This solves my problem. Didn&#39;t see that I seem to have been using a deprecated property:  <a href=\"https://github.com/quarkusio/quarkus/issues/22101\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/22101</a>"}],"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074662,"creation_date":1680074662,"answer_id":75874294,"question_id":75873719,"body_markdown":"`org.eclipse.microprofile.config.inject.@ConfigProperties` should be replaced by `io.smallrye.config.@ConfigMapping` (as per documentation)","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p><code>org.eclipse.microprofile.config.inject.@ConfigProperties</code> should be replaced by <code>io.smallrye.config.@ConfigMapping</code> (as per documentation)</p>\n"}],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874294,"answer_count":1,"score":0,"last_activity_date":1680074662,"creation_date":1680070395,"question_id":75873719,"body_markdown":"I&#39;d like to inject my quarkus configuraition as an object as described here:\r\nhttps://quarkus.io/guides/config-mappings\r\n\r\nBut somehow Quarkus CDI does not find my configuration bean. I get the error message:\r\n\r\n````\r\njavax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\r\n````\r\n\r\n`LiquidoConfig.java`\r\n````\r\n@StaticInitSafe     // &lt;=== adding this also didn&#39;t help\r\n@ConfigProperties(prefix = &quot;liquido&quot;)\r\npublic interface LiquidoConfig {\r\n    public String frontendUrl();\r\n    public int loginLinkExpirationHours();\r\n\r\n    public Jwt jwt();\r\n    public interface Jwt {\r\n        public String secret();\r\n        public Long expirationSecs();\r\n    }\r\n\r\n}\r\n````\r\n\r\nAnd in my Service:\r\n\r\n````\r\n@ApplicationScoped\r\npublic void SomeService {\r\n\t@Inject\r\n\tLiquidoConfig config;   // &lt;=== this fails???\r\n}\r\n````\r\n\r\nI also tried to add @ApplicationScope to LiquidoConfig, although i wouldn&#39;t think this is necessary. But also doesn&#39;t help.\r\n\r\nI can inject my configuration properties individually as:\r\n\r\n\t@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\r\n\tLong expirationSecs;\r\n\r\nThis works. But not as one object.","title":"Quarkus UnsatisfiedResolution Exception for ConfigProperties as Object","body":"<p>I'd like to inject my quarkus configuraition as an object as described here:\n<a href=\"https://quarkus.io/guides/config-mappings\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-mappings</a></p>\n<p>But somehow Quarkus CDI does not find my configuration bean. I get the error message:</p>\n<pre><code>javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.liquido.util.LiquidoConfig and qualifiers [@Default]\n</code></pre>\n<p><code>LiquidoConfig.java</code></p>\n<pre><code>@StaticInitSafe     // &lt;=== adding this also didn't help\n@ConfigProperties(prefix = &quot;liquido&quot;)\npublic interface LiquidoConfig {\n    public String frontendUrl();\n    public int loginLinkExpirationHours();\n\n    public Jwt jwt();\n    public interface Jwt {\n        public String secret();\n        public Long expirationSecs();\n    }\n\n}\n</code></pre>\n<p>And in my Service:</p>\n<pre><code>@ApplicationScoped\npublic void SomeService {\n    @Inject\n    LiquidoConfig config;   // &lt;=== this fails???\n}\n</code></pre>\n<p>I also tried to add @ApplicationScope to LiquidoConfig, although i wouldn't think this is necessary. But also doesn't help.</p>\n<p>I can inject my configuration properties individually as:</p>\n<pre><code>@ConfigProperty(name = &quot;liquido.jwt.expirationSecs&quot;)\nLong expirationSecs;\n</code></pre>\n<p>This works. But not as one object.</p>\n"},{"tags":["java","hibernate","jpa","web-development-server"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680024273,"post_id":75869234,"comment_id":133825109,"body_markdown":"What error message/stacktrace are you getting?","body":"What error message/stacktrace are you getting?"},{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1680028143,"post_id":75869234,"comment_id":133826073,"body_markdown":"@JohnWilliams sorry, I added it now.","body":"@JohnWilliams sorry, I added it now."}],"answers":[{"comments":[{"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"score":0,"creation_date":1680083684,"post_id":75874293,"comment_id":133835672,"body_markdown":"Tried, but doesn&#39;t work, I think that I probably should use only persistence.xml or hibernate.cfg.xml; anyway don&#39;t know what should I use/prefer.","body":"Tried, but doesn&#39;t work, I think that I probably should use only persistence.xml or hibernate.cfg.xml; anyway don&#39;t know what should I use/prefer."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680074650,"creation_date":1680074650,"answer_id":75874293,"question_id":75869234,"body_markdown":"Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks [correct for MySQL][1]\r\n\r\nTry the following:\r\n\r\n    @Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\r\n\r\nIt is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, [try][2]:\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\r\n        &lt;generator class=&quot;identity&quot;/&gt;\r\n    &lt;/id&gt;\r\n\r\n\r\n  [1]: https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\r\n  [2]: https://www.javatpoint.com/generator-classes","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>Your GenerationType of IDENTITY and the column definition of AUTO_INCREMENT looks <a href=\"https://thorben-janssen.com/5-things-you-need-to-know-when-using-hibernate-with-mysql/\" rel=\"nofollow noreferrer\">correct for MySQL</a></p>\n<p>Try the following:</p>\n<pre><code>@Column(name = &quot;todo_id&quot;, updatable = false, nullable = false)\n</code></pre>\n<p>It is strange for me that you have the JPA annotations and hbm.xml but that might be because I only work with JPA. Possibly the hbm.xml takes precedence over the JPA annotations, <a href=\"https://www.javatpoint.com/generator-classes\" rel=\"nofollow noreferrer\">try</a>:</p>\n<pre><code>&lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;todo_id&quot;&gt;\n    &lt;generator class=&quot;identity&quot;/&gt;\n&lt;/id&gt;\n</code></pre>\n"}],"owner":{"account_id":24665158,"reputation":26,"user_id":18560941,"display_name":"Antonino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680074650,"creation_date":1680023948,"question_id":75869234,"body_markdown":"I&#39;m developing a &#39;&#39;&#39;simple&#39;&#39;&#39; web application project and to handle model and database I&#39;m using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:\r\n\r\n```\r\nCREATE DATABASE IF NOT EXISTS `to-do-app`;\r\nUSE `to-do-app`;\r\n\r\nCREATE TABLE `user`(\r\n    username\tVARCHAR(20) \tNOT NULL,\r\n    `password`\tVARCHAR(30) \tNOT NULL,\r\n    PRIMARY KEY(username)\r\n);\r\n\r\nCREATE TABLE todo (\r\n    todo_id\t\tINT \t\tAUTO_INCREMENT,\r\n    user_id\t\tVARCHAR(20),\r\n    content\t\tTEXT,\r\n    done        boolean,\r\n    PRIMARY KEY(todo_id),\r\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\r\n);\r\n\r\n```\r\n***PROBLEM***\r\nI&#39;m having issues with todo table in Java when I perform testing on the classes that handle the table.\r\n\r\nThe following classes are the ones I&#39;m using: \r\n**TestTodoRepository**\r\n\r\n```\r\nimport com.example.todoapp.model.TodoRepository;\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.junit.Assert;\r\nimport org.junit.FixMethodOrder;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.runners.MethodSorters;\r\n\r\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\npublic class TestTodoRepository {\r\n    private static SessionFactory sessionFactory = null;\r\n    private Session session = null;\r\n\r\n    @BeforeAll\r\n    static void setupFactory() {\r\n        sessionFactory = TestConfig.setupFactory(Todo.class);\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupSession() {\r\n        session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n    }\r\n\r\n    @AfterEach\r\n    void closeSession() {session.getTransaction().commit();}\r\n\r\n    @AfterAll\r\n    static void closeFactory() {\r\n        sessionFactory.close();\r\n    }\r\n\r\n    @Test\r\n    public void test1AddTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try adding to-do to user that exists\r\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        System.out.println(&quot;I will add: &quot; + todo);\r\n        Assert.assertTrue(todoRepository.addTodo(todo));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test2ExistsTodo() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        //  Try finding existing to-do\r\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\r\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\r\n\r\n        //  Try finding not existing to-do\r\n\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n    @Test\r\n    public void test3GetTodosForUser() {\r\n        TodoRepository todoRepository = new TodoRepository();\r\n\r\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\r\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\r\n\r\n        todoRepository.closeTodoRepository();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n**TODO**\r\n\r\n```\r\npackage com.example.todoapp.model.beans;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\n@Entity(name = &quot;todo&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Todo {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    @Column(name = &quot;todo_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\r\n    private String user_id;\r\n\r\n    @Column(name = &quot;content&quot;)\r\n    private String content;\r\n\r\n    @Column(name = &quot;done&quot;)\r\n    private boolean done;\r\n\r\n    public Todo(String user_id, String content) {\r\n        this.user_id = user_id;\r\n        this.content = content;\r\n        this.done = false;\r\n    }\r\n}\r\n\r\n```\r\n**TodoRepository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport com.example.todoapp.model.beans.Todo;\r\nimport com.example.todoapp.model.beans.User;\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TodoRepository extends Repository{\r\n\r\n    public TodoRepository() {super();}\r\n\r\n    /**\r\n     * Add a to-do to the database, used to register new users\r\n     * @param todo: the to-do entity\r\n     * */\r\n    public boolean addTodo(Todo todo) {\r\n        //  if to-do exists can&#39;t add a new one\r\n        if (em.find(Todo.class, todo.getId()) != null)\r\n            return false;\r\n\r\n        try {\r\n            em.getTransaction().begin();\r\n            em.persist(todo);\r\n            em.getTransaction().commit();\r\n        } catch (EntityExistsException ex) { return false; }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Checks if a to-do exists in a database\r\n     * @param todo : contains credentials to test\r\n     * */\r\n    public boolean existsTodo(Todo todo) {\r\n        return em.find(Todo.class, todo.getId()) != null;\r\n    }\r\n\r\n    /**\r\n     * WORK IN PROGRESS\r\n     * Gets to-do list based on user id (username)\r\n     * @param user : the owning the to-do\r\n     * */\r\n    public\r\n    List&lt;Todo&gt; getTodosForUser(User user) {\r\n        List&lt;Todo&gt; toDos;\r\n\r\n        try {\r\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\r\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\r\n\r\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\r\n            for(Todo t : toDos)\r\n                System.out.println(t);\r\n\r\n            return toDos;\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void closeTodoRepository() {\r\n        super.closeEntityManager();\r\n        super.closeEntityManagerFactory();\r\n    }\r\n}\r\n\r\n```\r\n**Repository**\r\n\r\n```\r\npackage com.example.todoapp.model;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\n\r\n/**\r\n * Abstract class that represents a repository of a database entity\r\n * */\r\npublic abstract class Repository {\r\n    protected final EntityManager em;\r\n    protected final EntityManagerFactory emf;\r\n\r\n    public Repository() {\r\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\r\n        this.em = emf.createEntityManager();\r\n    }\r\n\r\n    protected void closeEntityManager() {\r\n        em.close();\r\n    }\r\n\r\n    protected void closeEntityManagerFactory() {\r\n        emf.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI think that also the following configuration files and stack trace will be needed: \r\n**Stack trace**\r\n```\r\njava.lang.IllegalArgumentException: id to load is required for loading\r\n\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\r\n\tat org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\r\n\tat com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\r\n\tat TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n**Todo.hbm.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n    &lt;!-- name:full path to class:--&gt;\r\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\r\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\r\n        &lt;!--Primary key--&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\r\n\r\n        &lt;!-- Attributes --&gt;\r\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\r\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n**hibernate.cfg.xml**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;!-- jdbc driver --&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\r\n        &lt;!-- database url --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\r\n\r\n\r\n        &lt;!-- Load map file --&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\r\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\r\n\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n**persistence.xml**\r\n\r\n```\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\r\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\r\n        &lt;!-- Implementation for JPA Provider --&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n        &lt;!-- persistence properties configuration --&gt;\r\n        &lt;properties&gt;\r\n            &lt;!-- jdbc driver --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;!-- database url --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\r\n            &lt;!-- database username --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\r\n            &lt;!-- database password --&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\r\n            \r\n            &lt;!-- other properties --&gt;\r\n            &lt;!--Print sql statement--&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\r\n            &lt;!--Format sql--&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n**FolderStructure**\r\n\r\n[![enter image description here](https://i.stack.imgur.com/9x35Y.png)](https://i.stack.imgur.com/9x35Y.png)\r\n\r\n","title":"Hibernate - Primary key issuses - Persisting object to mySQL database don&#39;t work","body":"<p>I'm developing a '''simple''' web application project and to handle model and database I'm using Hibernate; in particular this is a block notes app online, so in the database I have a user table and a todo table:</p>\n<pre><code>CREATE DATABASE IF NOT EXISTS `to-do-app`;\nUSE `to-do-app`;\n\nCREATE TABLE `user`(\n    username    VARCHAR(20)     NOT NULL,\n    `password`  VARCHAR(30)     NOT NULL,\n    PRIMARY KEY(username)\n);\n\nCREATE TABLE todo (\n    todo_id     INT         AUTO_INCREMENT,\n    user_id     VARCHAR(20),\n    content     TEXT,\n    done        boolean,\n    PRIMARY KEY(todo_id),\n    FOREIGN KEY (user_id) REFERENCES `user`(username)\n);\n\n</code></pre>\n<p><em><strong>PROBLEM</strong></em>\nI'm having issues with todo table in Java when I perform testing on the classes that handle the table.</p>\n<p>The following classes are the ones I'm using:\n<strong>TestTodoRepository</strong></p>\n<pre><code>import com.example.todoapp.model.TodoRepository;\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.junit.Assert;\nimport org.junit.FixMethodOrder;\nimport org.junit.Test;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class TestTodoRepository {\n    private static SessionFactory sessionFactory = null;\n    private Session session = null;\n\n    @BeforeAll\n    static void setupFactory() {\n        sessionFactory = TestConfig.setupFactory(Todo.class);\n    }\n\n    @BeforeEach\n    void setupSession() {\n        session = sessionFactory.openSession();\n        session.beginTransaction();\n    }\n\n    @AfterEach\n    void closeSession() {session.getTransaction().commit();}\n\n    @AfterAll\n    static void closeFactory() {\n        sessionFactory.close();\n    }\n\n    @Test\n    public void test1AddTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try adding to-do to user that exists\n        Todo todo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        System.out.println(&quot;I will add: &quot; + todo);\n        Assert.assertTrue(todoRepository.addTodo(todo));\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test2ExistsTodo() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        //  Try finding existing to-do\n        Todo toDo = new Todo(&quot;antonino&quot;, &quot;Hello World&quot;);\n        Assert.assertTrue(todoRepository.existsTodo(toDo));\n\n        //  Try finding not existing to-do\n\n\n        todoRepository.closeTodoRepository();\n    }\n\n    @Test\n    public void test3GetTodosForUser() {\n        TodoRepository todoRepository = new TodoRepository();\n\n        User test_user = new User(&quot;antonino&quot;, &quot;antonino&quot;);\n        Assert.assertNotNull(todoRepository.getTodosForUser(test_user));\n\n        todoRepository.closeTodoRepository();\n    }\n\n\n}\n\n</code></pre>\n<p><strong>TODO</strong></p>\n<pre><code>package com.example.todoapp.model.beans;\n\nimport jakarta.persistence.*;\nimport lombok.*;\n\n@Entity(name = &quot;todo&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name = &quot;todo_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;user_id&quot;)\n    /*@ManyToOne(cascade = CascadeType.PERSIST)*/\n    private String user_id;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;done&quot;)\n    private boolean done;\n\n    public Todo(String user_id, String content) {\n        this.user_id = user_id;\n        this.content = content;\n        this.done = false;\n    }\n}\n\n</code></pre>\n<p><strong>TodoRepository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport com.example.todoapp.model.beans.Todo;\nimport com.example.todoapp.model.beans.User;\nimport jakarta.persistence.*;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\n\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class TodoRepository extends Repository{\n\n    public TodoRepository() {super();}\n\n    /**\n     * Add a to-do to the database, used to register new users\n     * @param todo: the to-do entity\n     * */\n    public boolean addTodo(Todo todo) {\n        //  if to-do exists can't add a new one\n        if (em.find(Todo.class, todo.getId()) != null)\n            return false;\n\n        try {\n            em.getTransaction().begin();\n            em.persist(todo);\n            em.getTransaction().commit();\n        } catch (EntityExistsException ex) { return false; }\n        return true;\n    }\n\n    /**\n     * Checks if a to-do exists in a database\n     * @param todo : contains credentials to test\n     * */\n    public boolean existsTodo(Todo todo) {\n        return em.find(Todo.class, todo.getId()) != null;\n    }\n\n    /**\n     * WORK IN PROGRESS\n     * Gets to-do list based on user id (username)\n     * @param user : the owning the to-do\n     * */\n    public\n    List&lt;Todo&gt; getTodosForUser(User user) {\n        List&lt;Todo&gt; toDos;\n\n        try {\n            Query findToDos = em.createNativeQuery(&quot;SELECT * FROM todo WHERE todo.user_id = :user_id&quot;);\n            findToDos.setParameter(&quot;user_id&quot;, user.getUsername());\n\n            toDos = (List&lt;Todo&gt;) findToDos.getResultList();\n            for(Todo t : toDos)\n                System.out.println(t);\n\n            return toDos;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return null;\n        }\n    }\n\n    public void closeTodoRepository() {\n        super.closeEntityManager();\n        super.closeEntityManagerFactory();\n    }\n}\n\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>package com.example.todoapp.model;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\n\n/**\n * Abstract class that represents a repository of a database entity\n * */\npublic abstract class Repository {\n    protected final EntityManager em;\n    protected final EntityManagerFactory emf;\n\n    public Repository() {\n        this.emf = Persistence.createEntityManagerFactory(&quot;to-do-app&quot;);\n        this.em = emf.createEntityManager();\n    }\n\n    protected void closeEntityManager() {\n        em.close();\n    }\n\n    protected void closeEntityManagerFactory() {\n        emf.close();\n    }\n}\n\n</code></pre>\n<p>I think that also the following configuration files and stack trace will be needed:\n<strong>Stack trace</strong></p>\n<pre><code>java.lang.IllegalArgumentException: id to load is required for loading\n\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:96)\n    at org.hibernate.event.spi.LoadEvent.&lt;init&gt;(LoadEvent.java:62)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:192)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2298)\n    at com.example.todoapp.model.TodoRepository.addTodo(TodoRepository.java:28)\n    at TestTodoRepository.test1AddTodo(TestTodoRepository.java:46)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p><strong>Todo.hbm.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;!-- name:full path to class:--&gt;\n    &lt;!-- table: table name: (can be omitted. Use the class name as the table name.)--&gt;\n    &lt;class name=&quot;com.example.todoapp.model.beans.Todo&quot; table=&quot;todo&quot;&gt;\n        &lt;!--Primary key--&gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot; column=&quot;todo_id&quot;&gt;&lt;/id&gt;\n\n        &lt;!-- Attributes --&gt;\n        &lt;property name=&quot;user_id&quot; column=&quot;user_id&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;content&quot; column=&quot;content&quot; type=&quot;java.lang.String&quot;/&gt;\n        &lt;property name=&quot;done&quot; column=&quot;done&quot; type=&quot;java.lang.Boolean&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- jdbc driver --&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/to-do-app&lt;/property&gt;\n        &lt;!-- database url --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;myroot&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;mypassword&lt;/property&gt;\n\n\n        &lt;!-- Load map file --&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/User.hbm.xml&quot;/&gt;\n        &lt;mapping resource=&quot;com/example/todoapp/model/beans/config/Todo.hbm.xml&quot;/&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.1&quot;&gt;\n    &lt;persistence-unit name=&quot;to-do-app&quot;&gt;\n        &lt;!-- Implementation for JPA Provider --&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;!-- persistence properties configuration --&gt;\n        &lt;properties&gt;\n            &lt;!-- jdbc driver --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;!-- database url --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/to-do-app&quot;/&gt;\n            &lt;!-- database username --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;myroot&quot;/&gt;\n            &lt;!-- database password --&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;mypassword&quot;/&gt;\n            \n            &lt;!-- other properties --&gt;\n            &lt;!--Print sql statement--&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;false&quot; /&gt;\n            &lt;!--Format sql--&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value = &quot;true&quot; /&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>FolderStructure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9x35Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9x35Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","sandbox","sandbox-solution"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446660836,"creation_date":1446660836,"answer_id":33529113,"question_id":33529096,"body_markdown":"That&#39;s what [SecurityManager][1] is for.\r\n\r\nThey even have a [tutorial][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/security.html","title":"jvm sandbox for java application","body":"<p>That's what <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow\">SecurityManager</a> is for.</p>\n\n<p>They even have a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/security.html\" rel=\"nofollow\">tutorial</a>.</p>\n"},{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446688116,"creation_date":1446688116,"answer_id":33535317,"question_id":33529096,"body_markdown":"In addition to the JVM&#39;s security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.\r\n\r\nMore advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. [Firejail][1] and [systemd-nspawn][2] make use of them.\r\n\r\n\r\n  [1]: https://l3net.wordpress.com/projects/firejail/\r\n  [2]: http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html","title":"jvm sandbox for java application","body":"<p>In addition to the JVM's security manager you can also use OS-specific security mechanisms. The simplest is running the JVM under a separate user.</p>\n\n<p>More advanced isolation techniques exist on various platforms. For example linux has seccomp-bpf, namespaces, selinux, capabilities and various other things. <a href=\"https://l3net.wordpress.com/projects/firejail/\" rel=\"nofollow\">Firejail</a> and <a href=\"http://www.freedesktop.org/software/systemd/man/systemd-nspawn.html\" rel=\"nofollow\">systemd-nspawn</a> make use of them.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680509509,"post_id":75874252,"comment_id":133904471,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75874252/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26423974,"reputation":11,"user_id":20071239,"display_name":"Deipss"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680074403,"creation_date":1680074403,"answer_id":75874252,"question_id":33529096,"body_markdown":"Maybe alibaba&#39;s [jvm-sandbox](https://github.com/alibaba/jvm-sandbox) ,you can try.","title":"jvm sandbox for java application","body":"<p>Maybe alibaba's <a href=\"https://github.com/alibaba/jvm-sandbox\" rel=\"nofollow noreferrer\">jvm-sandbox</a> ,you can try.</p>\n"}],"owner":{"account_id":1261634,"reputation":24571,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33529113,"answer_count":3,"score":2,"last_activity_date":1680074403,"creation_date":1446660766,"question_id":33529096,"body_markdown":"Is it possible to implement some kind of JVM sandbox for running application ? I&#39;d like to restrict access of this application for example to files IO, network, etc.\r\n\r\nIs any way to control these resources access for running app inside of JVM in this sandbox ?","title":"jvm sandbox for java application","body":"<p>Is it possible to implement some kind of JVM sandbox for running application ? I'd like to restrict access of this application for example to files IO, network, etc.</p>\n\n<p>Is any way to control these resources access for running app inside of JVM in this sandbox ?</p>\n"},{"tags":["java","if-statement","sonarqube"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1680074555,"post_id":75873582,"comment_id":133833308,"body_markdown":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers.","body":"You should consider throwing away SonarQube. This is a very simple code with no cognitive complexity whatsoever. Solutions suggested by others don&#39;t look less complicated even though they don&#39;t have that many if-statements. That being said.. you may want to consider BeanValidation instead of validating fields manually. Though the fact that your validation uses dynamic values means you&#39;d have to create your own validators &amp; annotations. Still, if this is a very common theme in your project, that would probably simplify things for the readers."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680074398,"creation_date":1680074398,"answer_id":75874250,"question_id":75873582,"body_markdown":"This looks like it can be extracted as a private method:\r\n\r\n```\r\n// you can probably think of better names than I do\r\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\r\n    if (field != null)\r\n        rejectValueIf(\r\n            sizeMapper.apply(field)\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            validationConstant,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n}\r\n```\r\n\r\nI have assumed that things like `ValidationConstants.Fields.SEARCH_PARAMETERS` are `String`s. If they are not, please change the type of the third parameter accordingly.\r\n\r\nThen you can just call this method instead of those if-statements.\r\n\r\n```\r\nvalidateSize(body.getCprNumber(), CprNumber::size, \r\n    ValidationConstants.Fields.CPR_NUMBER);\r\n```\r\n\r\nI have assumed that `getCprNumber` returns a `CprNumber`. Again, if it doesn&#39;t, please change `CprNumber::size` to a method reference of the correct type.\r\n\r\nIn cases like `getMaxSize` where you don&#39;t call an additional `size()` or `length()` method, pass `Function.identity()` as the second parameter instead.\r\n\r\n","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>This looks like it can be extracted as a private method:</p>\n<pre><code>// you can probably think of better names than I do\nprivate &lt;T&gt; void validateSize(T field, Function&lt;T, Integer&gt; sizeMapper, String validationConstant) {\n    if (field != null)\n        rejectValueIf(\n            sizeMapper.apply(field)\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n            errors,\n            validationConstant,\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>I have assumed that things like <code>ValidationConstants.Fields.SEARCH_PARAMETERS</code> are <code>String</code>s. If they are not, please change the type of the third parameter accordingly.</p>\n<p>Then you can just call this method instead of those if-statements.</p>\n<pre><code>validateSize(body.getCprNumber(), CprNumber::size, \n    ValidationConstants.Fields.CPR_NUMBER);\n</code></pre>\n<p>I have assumed that <code>getCprNumber</code> returns a <code>CprNumber</code>. Again, if it doesn't, please change <code>CprNumber::size</code> to a method reference of the correct type.</p>\n<p>In cases like <code>getMaxSize</code> where you don't call an additional <code>size()</code> or <code>length()</code> method, pass <code>Function.identity()</code> as the second parameter instead.</p>\n"}],"owner":{"account_id":19742037,"reputation":612,"user_id":14455278,"display_name":"FilipA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874250,"answer_count":1,"score":0,"last_activity_date":1680074398,"creation_date":1680069211,"question_id":75873582,"body_markdown":"SonarQube doesn&#39;t allow too many if statements as the cognitive complexity is too high.\r\nWhat would be the best approach to refactor it?\r\n\r\nI have If statements that check if value is not null. If it&#39;s not - it should call `rejectValueIf()` method. \r\n\r\n    if (body.getCprNumber() != null)\r\n        rejectValueIf(\r\n            body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CPR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getCvrNumber() != null)\r\n        rejectValueIf(\r\n            body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.CVR_NUMBER,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getId() != null)\r\n        rejectValueIf(\r\n            body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.ID,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSize() != null)\r\n        rejectValueIf(\r\n            body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getNext() != null)\r\n        rejectValueIf(\r\n            body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.NEXT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getPage() != null)\r\n        rejectValueIf(\r\n            body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.PAGE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSortFields() != null)\r\n        rejectValueIf(\r\n            body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SORT_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getFields() != null)\r\n        rejectValueIf(\r\n            body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.FIELDS_CONSTANT,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getSearchParameters() != null)\r\n        rejectValueIf(\r\n            body.getSearchParameters().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.SEARCH_PARAMETERS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getLimitSearchToFields() != null)\r\n        rejectValueIf(\r\n            body.getLimitSearchToFields().size()\r\n                &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getMaxSize() != null)\r\n        rejectValueIf(\r\n            body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.MAX_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n\r\n      if (body.getDefaultSize() != null)\r\n        rejectValueIf(\r\n            body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\r\n            errors,\r\n            ValidationConstants.Fields.DEFAULT_SIZE,\r\n            ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\r\n    }\r\n\r\nMy only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?","title":"How to refactor multiple if statements to decrease cognitive complexity","body":"<p>SonarQube doesn't allow too many if statements as the cognitive complexity is too high.\nWhat would be the best approach to refactor it?</p>\n<p>I have If statements that check if value is not null. If it's not - it should call <code>rejectValueIf()</code> method.</p>\n<pre><code>if (body.getCprNumber() != null)\n    rejectValueIf(\n        body.getCprNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CPR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getCvrNumber() != null)\n    rejectValueIf(\n        body.getCvrNumber().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.CVR_NUMBER,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getId() != null)\n    rejectValueIf(\n        body.getId().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.ID,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSize() != null)\n    rejectValueIf(\n        body.getSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getNext() != null)\n    rejectValueIf(\n        body.getNext().length() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.NEXT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getPage() != null)\n    rejectValueIf(\n        body.getPage() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.PAGE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSortFields() != null)\n    rejectValueIf(\n        body.getSortFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SORT_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getFields() != null)\n    rejectValueIf(\n        body.getFields().size() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.FIELDS_CONSTANT,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getSearchParameters() != null)\n    rejectValueIf(\n        body.getSearchParameters().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.SEARCH_PARAMETERS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getLimitSearchToFields() != null)\n    rejectValueIf(\n        body.getLimitSearchToFields().size()\n            &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.LIMIT_SEARCH_TO_FIELDS,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getMaxSize() != null)\n    rejectValueIf(\n        body.getMaxSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.MAX_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n\n  if (body.getDefaultSize() != null)\n    rejectValueIf(\n        body.getDefaultSize() &gt; contactIndexConfigurationProperties.getBulkSearchLimit(),\n        errors,\n        ValidationConstants.Fields.DEFAULT_SIZE,\n        ValidationConstants.ErrorCodes.NUMBER_OF_SEARCHES_NOT_ALLOWED);\n}\n</code></pre>\n<p>My only idea is to make an array with all the values, then check which indexes are not null and then create a switch case loop. Is there some better way?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":3073282,"reputation":6108,"user_id":2603345,"accept_rate":77,"display_name":"KurioZ7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073798,"creation_date":1679982452,"question_id":75862699,"body_markdown":"\r\nI have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at https://github.com/vdesabou/kafka-docker-playground. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.\r\n\r\n\r\n&gt; java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\r\n&gt; Topic testtopic not present in metadata after 180000 ms\r\n\r\nFollowing is the Java code. \r\n\r\n    package org.example;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.Producer;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class KafkaProducerapp {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            String topic = &quot;testtopic&quot;;\r\n            Properties props = new Properties();\r\n    \r\n    \r\n            props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\r\n     \r\n    \r\n            props.put(&quot;group.id&quot;, &quot;test&quot;);\r\n    \r\n            props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\r\n            props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\r\n            props.put(&quot;retries&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\r\n            props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\r\n            props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\r\n            props.put(&quot;batch.size&quot;,&quot;131072&quot;);\r\n            props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\r\n            props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\r\n            props.put(&quot;acks&quot;,&quot;all&quot;);\r\n            props.put(&quot;linger.ms&quot;,&quot;100&quot;);\r\n            props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\r\n            props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\r\n            props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\r\n            props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\r\n    \r\n    \r\n    \r\n    \r\n            KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n    \r\n            try {\r\n                // Send a message to the Kafka topic\r\n                producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\r\n                System.out.println(&quot;testing&quot;);\r\n            }catch(Exception e) {\r\n                System.out.println(&quot;exception occured&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error message &quot;Topic not present in metadata after 180000 ms&quot; in Kafka broker with SCRAM security mechanism using kafka-docker-playground","body":"<p>I have setup a kafka broker based on SASL SCRAM mechanism by using the kafka-docker-playgorund available at <a href=\"https://github.com/vdesabou/kafka-docker-playground\" rel=\"nofollow noreferrer\">https://github.com/vdesabou/kafka-docker-playground</a>. This uses confluent kafka. I am using Ubuntu VM to run this broker. I have used the start.sh script to run the docker compose file available under /environment/sasl-scram folder. This setup uses SASL_PLAINTEXT (without SSL). The server is running without any issues. I am able to create topics and send message to this broker using the control centre UI interface, which is part of the kafka-docker-playground. The only issue I am facing is while trying to connect to this broker from the java code. I keep seeing the following exception.</p>\n<blockquote>\n<p>java.util.concurrent.ExecutionException:org.apache.kafka.common.errors.TimeoutException:\nTopic testtopic not present in metadata after 180000 ms</p>\n</blockquote>\n<p>Following is the Java code.</p>\n<pre><code>package org.example;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.Producer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\npublic class KafkaProducerapp {\n\n\n    public static void main(String[] args) {\n        String topic = &quot;testtopic&quot;;\n        Properties props = new Properties();\n\n\n        props.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092&quot;);\n \n\n        props.put(&quot;group.id&quot;, &quot;test&quot;);\n\n        props.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        props.put(&quot;sasl.mechanism&quot;, &quot;SCRAM-SHA-256&quot;);\n        props.put(&quot;security.protocol&quot;, &quot;SASL_PLAINTEXT&quot;);\n        props.put(&quot;retries&quot;, &quot;2700000&quot;);\n        props.put(&quot;retry.backoff.ms=1000&quot;, &quot;2700000&quot;);\n        props.put(&quot;sasl.jaas.config&quot;, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;client&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;client-secret&quot; + &quot;\\&quot;;&quot;);\n        props.put(&quot;retry.backoff.ms&quot;,&quot;1000&quot;);\n        props.put(&quot;batch.size&quot;,&quot;131072&quot;);\n        props.put(&quot;buffer.memory&quot;,&quot;66554432&quot;);\n        props.put(&quot;compression.type&quot;,&quot;snappy&quot;);\n        props.put(&quot;acks&quot;,&quot;all&quot;);\n        props.put(&quot;linger.ms&quot;,&quot;100&quot;);\n        props.put(&quot;request.timeout.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;enable.idempotence&quot;,&quot;true&quot;);\n        props.put(&quot;delivery.timeout.ms&quot;,&quot;180300&quot;);\n        props.put(&quot;metadata.max.idle.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;metadata.max.age.ms&quot;,&quot;60000&quot;);\n        props.put(&quot;max.block.ms&quot;,&quot;180000&quot;);\n\n\n\n\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        try {\n            // Send a message to the Kafka topic\n            producer.send(new ProducerRecord&lt;&gt;(topic, &quot;Hello, Kafka!&quot;)).get();\n            System.out.println(&quot;testing&quot;);\n        }catch(Exception e) {\n            System.out.println(&quot;exception occured&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-emulator","filesystems"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1680089160,"post_id":75874135,"comment_id":133837006,"body_markdown":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file.","body":"That is a bug in that file explorer it looks like. On Android 11+ devices you not only have to delete the file but also the entry in the MediaStore as the MediaStore will have indexed/scanned the file."}],"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073700,"creation_date":1680073700,"question_id":75874135,"body_markdown":"While working with Android file permissions, I was banging my head against the wall thinking I&#39;m doing something wrong.\r\n\r\nI have the following test code in my app:\r\n\r\n```\r\nFile storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\r\nif (!newFile.exists())\r\n{\r\n    try {\r\n        boolean res = newFile.createNewFile();\r\n        boolean watchMe = res;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nI have Device File Explorer opened in Android studio.\r\n\r\nI run my app, check that `res` is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.\r\n\r\nThen I delete the file from Device File Explorer.\r\n\r\nThen I run my app again. It correctly detects the file does not exist and calls `createNewFile`. But it returns false! The file does not appear.\r\n\r\nIt does not help to restart the app or reinstall it.\r\nThe only solution I have found so far is to reboot the emulator.\r\n\r\nHowever, if I don&#39;t delete the file myself but call `newFile.delete();` from my code, then `createNewFile` is able to recreate the file.\r\n\r\n**Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?**\r\n\r\nI have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.","title":"Cannot recreate manually deleted files until emulator is restarted","body":"<p>While working with Android file permissions, I was banging my head against the wall thinking I'm doing something wrong.</p>\n<p>I have the following test code in my app:</p>\n<pre><code>File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\nFile newFile = new File(storageDir, &quot;testfile.txt&quot;);\nif (!newFile.exists())\n{\n    try {\n        boolean res = newFile.createNewFile();\n        boolean watchMe = res;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I have Device File Explorer opened in Android studio.</p>\n<p>I run my app, check that <code>res</code> is true and synchronize the Documents folder in Device File Explorer to see if the file exists. It does.</p>\n<p>Then I delete the file from Device File Explorer.</p>\n<p>Then I run my app again. It correctly detects the file does not exist and calls <code>createNewFile</code>. But it returns false! The file does not appear.</p>\n<p>It does not help to restart the app or reinstall it.\nThe only solution I have found so far is to reboot the emulator.</p>\n<p>However, if I don't delete the file myself but call <code>newFile.delete();</code> from my code, then <code>createNewFile</code> is able to recreate the file.</p>\n<p><strong>Is it a bug of the emulator or Device File Explorer? Is there a better way to delete files from Device File Explorer without messing up my app?</strong></p>\n<p>I have reproduced it on an emulator with SDK 31 and 33. My app targets SDK 33.</p>\n"},{"tags":["java","android","android-studio","android-permissions","android-studio-3.0"],"comments":[{"owner":{"display_name":"user20384561"},"score":2,"creation_date":1680207735,"post_id":75874035,"comment_id":133863825,"body_markdown":"Welcome to Stack Overflow! [Please do not upload images of code/data/errors](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors).","body":"Welcome to Stack Overflow! <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Please do not upload images of code/data/errors</a>."}],"answers":[{"comments":[{"owner":{"account_id":28155260,"reputation":1,"user_id":21516086,"display_name":"Kumar Abhishek"},"score":1,"creation_date":1680076149,"post_id":75874121,"comment_id":133833679,"body_markdown":"Thank you so much, issue has been resolved !","body":"Thank you so much, issue has been resolved !"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1680324666,"post_id":75874121,"comment_id":133883203,"body_markdown":"@KumarAbhishek then select this answer as the correct one","body":"@KumarAbhishek then select this answer as the correct one"}],"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680073603,"creation_date":1680073603,"answer_id":75874121,"question_id":75874035,"body_markdown":"There should be another ```Manifest``` class automatically generated by Android Studio for your project.\r\n\r\nSo in order to use original Android ```Manifest``` class, append ```android.```:\r\n```\r\nandroid.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\r\n```","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>There should be another <code>Manifest</code> class automatically generated by Android Studio for your project.</p>\n<p>So in order to use original Android <code>Manifest</code> class, append <code>android.</code>:</p>\n<pre><code>android.Manifest.permission.WRITE_EXTERNAL_STORAGE\nandroid.Manifest.permission.READ_EXTERNAL_STORAGE\n</code></pre>\n"}],"owner":{"account_id":28155260,"reputation":1,"user_id":21516086,"display_name":"Kumar Abhishek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680353225,"answer_count":1,"score":0,"last_activity_date":1680073603,"creation_date":1680072959,"question_id":75874035,"body_markdown":"In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.\r\n\r\n[Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION](https://i.stack.imgur.com/lIxwE.jpg)\r\n\r\n[Java Code(permissions) which I want to use](https://i.stack.imgur.com/8LUDY.jpg)\r\n\r\nI have been already added these permissions in the Manifest File as well.\r\n\r\nAnyone please help with this error, will be greatly appreciate.\r\n\r\nI want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot\r\n\r\n[Java Code(permissions) need to use](https://i.stack.imgur.com/mGLks.jpg)","title":"In Android Studio, not able to add READ &amp; WRITE permissions in java code to check permissions &amp; can use only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION","body":"<p>In Android Studio, I am unable to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permissions in java code to check permissions and able to add only DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION. Even I have been mentioned them in Manifest file as well. please check the attached screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/lIxwE.jpg\" rel=\"nofollow noreferrer\">Java Code with DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION</a></p>\n<p><a href=\"https://i.stack.imgur.com/8LUDY.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) which I want to use</a></p>\n<p>I have been already added these permissions in the Manifest File as well.</p>\n<p>Anyone please help with this error, will be greatly appreciate.</p>\n<p>I want to add READ_EXTERNL_STORAGE and WRITE_EXTERNL_STORAGE permission in my java code to check permissions while using the application in android studio. Please see attached screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/mGLks.jpg\" rel=\"nofollow noreferrer\">Java Code(permissions) need to use</a></p>\n"},{"tags":["java","tomcat","tomcat8","catalina.out"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587122419,"post_id":61269644,"comment_id":108390547,"body_markdown":"Are you sure the app is listening on the URL you are fetching?","body":"Are you sure the app is listening on the URL you are fetching?"},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587257780,"post_id":61269644,"comment_id":108440465,"body_markdown":"Sorry, may I know which URL you are talking about?","body":"Sorry, may I know which URL you are talking about?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587304059,"post_id":61269644,"comment_id":108452763,"body_markdown":"The one that returns the 404.","body":"The one that returns the 404."},{"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"score":0,"creation_date":1587383525,"post_id":61269644,"comment_id":108481164,"body_markdown":"Yes, the app listens on that URL","body":"Yes, the app listens on that URL"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1587466813,"post_id":61269644,"comment_id":108516760,"body_markdown":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way.","body":"Well, obviously it doesn&#39;t. What I meant is please double check the configuration. You did not provide enough information for us to help in a meaningful way."}],"answers":[{"tags":[],"owner":{"account_id":19968934,"reputation":61,"user_id":14634884,"display_name":"Sardar Fahad Ashfaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670392992,"creation_date":1670392992,"answer_id":74712385,"question_id":61269644,"body_markdown":"I was getting same issue and found out that main class needs to be extended from **SpringBootServletInitializer**. Please check code below.\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication extends SpringBootServletInitializer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n}\r\n```","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was getting same issue and found out that main class needs to be extended from <strong>SpringBootServletInitializer</strong>. Please check code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28155476,"reputation":1,"user_id":21516271,"display_name":"Balvinder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073593,"creation_date":1680073593,"answer_id":75874119,"question_id":61269644,"body_markdown":"I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing\r\n\r\nChanged the version to 1.8 rebuilt and deployed it and it worked","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>I was having the exact same issue as you described and I have also deployed it on tomcat 8, It turns out that the issue in my case was an incorrect version of java defined in pom.xml. I was deploying a war built with java 11 and it was silently failing</p>\n<p>Changed the version to 1.8 rebuilt and deployed it and it worked</p>\n"}],"owner":{"account_id":18317053,"reputation":11,"user_id":13338624,"display_name":"Keshav Murthy Venugopal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680073593,"creation_date":1587120084,"question_id":61269644,"body_markdown":"\r\nCatalina.out:\r\n\r\n    [2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host &#39;localhost&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] Manager: install: Installing web application &#39;/api#v1&#39; from &#39;file:/home/kos/RPServers/available_webapps/reaper-webapp.war&#39;\r\n    \r\n    [2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\r\n    \r\n    [2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\r\n    \r\n    [2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    \r\n    [2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\r\n\r\nProblem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)\r\n\r\n 1. Any previous issue seen which is similar to this sort? \r\n 2. Or is it some config issue?\r\n 3. Or should more logging be enabled in logging.properties to understand the flow better?\r\n\r\nNote: This is using Tomcat8\r\n\r\nThanks,\r\n\r\n","title":"Deployment of an application finished in tomcat but it is actually not deployed","body":"<p>Catalina.out:</p>\n\n<pre><code>[2020-04-10 11:48:26] [info] Manager: list: Listing contexts for virtual host 'localhost'\n\n[2020-04-10 11:48:26] [info] Manager: install: Installing web application '/api#v1' from 'file:/home/kos/RPServers/available_webapps/reaper-webapp.war'\n\n[2020-04-10 11:48:26] [info] **Deploying web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war]**\n\n[2020-04-10 11:48:27] [info] 2020/04/10 11:48:27.897 - #2 - 4973/4193 - MemoryShield:  totalMemory = 3871.45 [MB] resMemory = 1311.47 [MB] shrMemory = 63.6523 [MB]\n\n[2020-04-10 11:48:28] [info] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n[2020-04-10 11:48:28] [info] **Deployment of web application archive [/var/lib/tomcat8/webapps/reaper-app/api#v1.war] has finished in [2,345] ms**\n</code></pre>\n\n<p>Problem: The catalina.out logs tells that the deployment of an application is finished but the application is inaccessible (404 Error)</p>\n\n<ol>\n<li>Any previous issue seen which is similar to this sort? </li>\n<li>Or is it some config issue?</li>\n<li>Or should more logging be enabled in logging.properties to understand the flow better?</li>\n</ol>\n\n<p>Note: This is using Tomcat8</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1680073490,"creation_date":1680070181,"answer_id":75873691,"question_id":75873659,"body_markdown":"You can match `id=` followed by a sequence of non-comma characters.\r\n\r\n```java\r\nMatcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\r\nif (m.find()) System.out.println(m.group(1));\r\nelse System.out.println(&quot;No match&quot;);\r\n```","title":"Extract key=value substring with regex","body":"<p>You can match <code>id=</code> followed by a sequence of non-comma characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Matcher m = Pattern.compile(&quot;\\\\bid=([^,]+)&quot;).matcher(str);\nif (m.find()) System.out.println(m.group(1));\nelse System.out.println(&quot;No match&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680070434,"creation_date":1680070434,"answer_id":75873726,"question_id":75873659,"body_markdown":"You need to use Positive Lookbehind with numeric matching. Try the expression\r\n```\r\n(?&lt;=id=)\\d+\r\n``` \r\n**Positive Lookbehind:**\r\n\r\n` (?&lt;=...)` Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.\r\n\r\nIn this case you case, you can use `(?&lt;=id=)\\d+`.\r\n\r\nTest it here: https://regex101.com/r/gifIkf/1\r\n\r\nand the code generated from https://regex101.com/r/gifIkf/1\r\n\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\r\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\r\n        \r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n        final Matcher matcher = pattern.matcher(string);\r\n        \r\n        while (matcher.find()) {\r\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\r\n            \r\n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\r\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```","title":"Extract key=value substring with regex","body":"<p>You need to use Positive Lookbehind with numeric matching. Try the expression</p>\n<pre><code>(?&lt;=id=)\\d+\n</code></pre>\n<p><strong>Positive Lookbehind:</strong></p>\n<p><code> (?&lt;=...)</code> Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters.</p>\n<p>In this case you case, you can use <code>(?&lt;=id=)\\d+</code>.</p>\n<p>Test it here: <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<p>and the code generated from <a href=\"https://regex101.com/r/gifIkf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/gifIkf/1</a></p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main(String[] args) {\n        final String regex = &quot;(?&lt;=id=)\\\\d+&quot;;\n        final String string = &quot;reference=\\&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002\\&quot;,args=\\&quot;one two three\\&quot;,id=123456789,someField=\\&quot;data\\&quot;,someOtherId=567890\\n&quot;;\n        \n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n        final Matcher matcher = pattern.matcher(string);\n        \n        while (matcher.find()) {\n            System.out.println(&quot;Full match: &quot; + matcher.group(0));\n            \n            for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n                System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n            }\n        }\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":2649766,"reputation":4544,"user_id":2291748,"accept_rate":84,"display_name":"sakura-bloom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75873691,"answer_count":2,"score":-1,"last_activity_date":1680073490,"creation_date":1680069954,"question_id":75873659,"body_markdown":"I would like to extract the value of `id` from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).\r\n\r\nI would like to extract the value of `id` key, which is 123456789 in the sample input string below. The value of `id` is always a number.\r\n\r\n\r\n    reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\r\n\r\n\r\nHow can I achieve this with regex?","title":"Extract key=value substring with regex","body":"<p>I would like to extract the value of <code>id</code> from a string. The string contains key-value pairs and the pairs are comma separated (no commas in actual values).</p>\n<p>I would like to extract the value of <code>id</code> key, which is 123456789 in the sample input string below. The value of <code>id</code> is always a number.</p>\n<pre><code>reference=&quot;edd63cd8-cdf5-11ed-afa1-0242ac120002&quot;,args=&quot;one two three&quot;,id=123456789,someField=&quot;data&quot;,someOtherId=567890\n</code></pre>\n<p>How can I achieve this with regex?</p>\n"},{"tags":["java","inheritance","structure"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680074921,"post_id":75874105,"comment_id":133833388,"body_markdown":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a`Dog` class as a subclass of `Animal`, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form.","body":"Code aside, is a &#39;Copy&#39; a specific kind of &#39;Release&#39;? Just like you might define a<code>Dog</code> class as a subclass of <code>Animal</code>, because a &#39;Dog&#39; is a type of &#39;Animal&#39; and has all of the properties of a generic &#39;Animal&#39;, would you say the same for a &#39;Copy&#39; and a &#39;Release&#39;? If not, the approach you&#39;re describing is bad form."},{"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"score":0,"creation_date":1680075843,"post_id":75874105,"comment_id":133833620,"body_markdown":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy.","body":"Copy is a specific kind of release, each copy will have some unique properties. But each copy will also have the exact same release and as far as I understand using inheritance will create a release for each copy which is not what I&#39;m looking for. I also wish to be able to access the release properties without storing them in the copy."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1680114597,"post_id":75874105,"comment_id":133844283,"body_markdown":"Sounds like `Copy` should contain a property of type `Release` and that inheritance is not what you want here.","body":"Sounds like <code>Copy</code> should contain a property of type <code>Release</code> and that inheritance is not what you want here."}],"owner":{"account_id":15607042,"reputation":9,"user_id":11259502,"display_name":"Notorjus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073481,"creation_date":1680073481,"question_id":75874105,"body_markdown":"I&#39;m trying to make a system for comics that has releases and copies. What I&#39;m after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don&#39;t want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers. ","title":"how should I structure these objects","body":"<p>I'm trying to make a system for comics that has releases and copies. What I'm after is a structure where you have on release with certain properties and several copies with the same properties but also unique ones. I was thinking of using inheritance but I want the copies to have a single superclass, release. Also I don't want the copies to contain the release properties, but I want to be able to fetch them from the superclass. Thanks in advance for any answers.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":307607,"reputation":812,"user_id":618996,"display_name":"Vance Maverick"},"score":3,"creation_date":1299044827,"post_id":5163785,"comment_id":5799049,"body_markdown":"You&#39;ve got several questions mixed up together. Broadly, yes, `str.charAt(str.length() - 1)` is usually the last character in the string; but consider what happens if str is empty, or null.","body":"You&#39;ve got several questions mixed up together. Broadly, yes, <code>str.charAt(str.length() - 1)</code> is usually the last character in the string; but consider what happens if str is empty, or null."},{"owner":{"account_id":94690,"reputation":8180,"user_id":258388,"display_name":"Zimbabao"},"score":0,"creation_date":1299044877,"post_id":5163785,"comment_id":5799060,"body_markdown":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting.","body":"Its working fine. But logic of palidrome check is doesn&#39;t sound correct,  please also mention what is the error you are getting."},{"owner":{"account_id":4576460,"reputation":1015,"user_id":3714913,"display_name":"Nateowami"},"score":0,"creation_date":1412425946,"post_id":5163785,"comment_id":41071338,"body_markdown":"possible duplicate of [How to remove the last character from a string?](http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string\">How to remove the last character from a string?</a>"}],"answers":[{"comments":[{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":6,"creation_date":1299044790,"post_id":5163852,"comment_id":5799038,"body_markdown":"returns it as a string, not a character, but you already know how to do the latter, and I&#39;m not clear on what you&#39;re after.","body":"returns it as a string, not a character, but you already know how to do the latter, and I&#39;m not clear on what you&#39;re after."},{"owner":{"account_id":454641,"reputation":1534,"user_id":852336,"accept_rate":64,"display_name":"Danish Khan"},"score":12,"creation_date":1422299954,"post_id":5163852,"comment_id":44685487,"body_markdown":"What if your string is empty?","body":"What if your string is empty?"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":5,"creation_date":1422300794,"post_id":5163852,"comment_id":44685893,"body_markdown":"it will raise an exception in that case. wouldn&#39;t you want it to?","body":"it will raise an exception in that case. wouldn&#39;t you want it to?"},{"owner":{"account_id":9133385,"reputation":1544,"user_id":6794075,"accept_rate":57,"display_name":"Andrew"},"score":4,"creation_date":1585660787,"post_id":5163852,"comment_id":107834796,"body_markdown":"Question asks for a character - this returns a one character long string. Should use `charAt()` not `substring()`","body":"Question asks for a character - this returns a one character long string. Should use <code>charAt()</code> not <code>substring()</code>"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":3,"creation_date":1585682018,"post_id":5163852,"comment_id":107846843,"body_markdown":"Andrew, if you look back at the original question before it was edited, you&#39;ll see that the OP already tried charAt() and it wasn&#39;t what she wanted. That&#39;s one of the problems with a wiki-like medium such as SO, the questions are a moving target and sometimes the answers can look silly as a result.","body":"Andrew, if you look back at the original question before it was edited, you&#39;ll see that the OP already tried charAt() and it wasn&#39;t what she wanted. That&#39;s one of the problems with a wiki-like medium such as SO, the questions are a moving target and sometimes the answers can look silly as a result."},{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":0,"creation_date":1593503050,"post_id":5163852,"comment_id":110796433,"body_markdown":"@jcomeau_ictx is right.  He left out exception handling because that is left up to the programmer (and the intended flow of the program).  As such, any kind of error checking/handling here is superfluous.","body":"@jcomeau_ictx is right.  He left out exception handling because that is left up to the programmer (and the intended flow of the program).  As such, any kind of error checking/handling here is superfluous."}],"tags":[],"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"comment_count":6,"down_vote_count":5,"up_vote_count":310,"is_accepted":true,"score":305,"last_activity_date":1579796525,"creation_date":1299044653,"answer_id":5163852,"question_id":5163785,"body_markdown":"The code:\r\n\r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String string = args[0];\r\n            System.out.println(&quot;last character: &quot; +\r\n                               string.substring(string.length() - 1)); \r\n        }\r\n    }\r\n\r\nThe output of `java Test abcdef`:\r\n\r\n    last character: f\r\n\r\n","title":"How do I get the last character of a string?","body":"<p>The code:</p>\n\n<pre><code>public class Test {\n    public static void main(String args[]) {\n        String string = args[0];\n        System.out.println(\"last character: \" +\n                           string.substring(string.length() - 1)); \n    }\n}\n</code></pre>\n\n<p>The output of <code>java Test abcdef</code>:</p>\n\n<pre><code>last character: f\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302426,"reputation":1804,"user_id":610799,"accept_rate":100,"display_name":"Yoko Zunna"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299044761,"creation_date":1299044761,"answer_id":5163871,"question_id":5163785,"body_markdown":"Simple solution is:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      char[] cs = str.toCharArray();\r\n      char first = cs[0];\r\n      cs[0] = cs[cs.length -1];\r\n      cs[cs.length -1] = first;\r\n      return new String(cs);\r\n    }\r\n\r\nUsing a character array (watch out for the nasty empty String or null String argument!)\r\n\r\nAnother solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() == 0) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);  \r\n      char first = sb.charAt(0);\r\n      sb.setCharAt(0, sb.charAt(sb.length()-1));\r\n      sb.setCharAt(sb.length()-1, first);\r\n      return sb.toString();\r\n    }\r\n\r\nYet another approach (more for instruction than actual use) is this one:\r\n\r\n    public String frontBack(String str) {\r\n      if (str == null || str.length() &lt; 2) {\r\n        return str;\r\n      }\r\n      StringBuilder sb = new StringBuilder(str);\r\n      String sub = sb.substring(1, sb.length() -1);\r\n      return sb.reverse().replace(1, sb.length() -1, sub).toString();\r\n    }\r\n\r\nHere the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)\r\n","title":"How do I get the last character of a string?","body":"<p>Simple solution is:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  char[] cs = str.toCharArray();\n  char first = cs[0];\n  cs[0] = cs[cs.length -1];\n  cs[cs.length -1] = first;\n  return new String(cs);\n}\n</code></pre>\n\n<p>Using a character array (watch out for the nasty empty String or null String argument!)</p>\n\n<p>Another solution uses StringBuilder (which is usually used to do String manupilation since String itself is immutable.</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() == 0) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);  \n  char first = sb.charAt(0);\n  sb.setCharAt(0, sb.charAt(sb.length()-1));\n  sb.setCharAt(sb.length()-1, first);\n  return sb.toString();\n}\n</code></pre>\n\n<p>Yet another approach (more for instruction than actual use) is this one:</p>\n\n<pre><code>public String frontBack(String str) {\n  if (str == null || str.length() &lt; 2) {\n    return str;\n  }\n  StringBuilder sb = new StringBuilder(str);\n  String sub = sb.substring(1, sb.length() -1);\n  return sb.reverse().replace(1, sb.length() -1, sub).toString();\n}\n</code></pre>\n\n<p>Here the complete string is reversed and then the part that should not be reversed is replaced with the substring. ;)</p>\n"},{"comments":[{"owner":{"account_id":1137318,"reputation":8962,"user_id":1150915,"display_name":"Aquarelle"},"score":2,"creation_date":1593503253,"post_id":5163887,"comment_id":110796540,"body_markdown":"This answer is wrong.  It only checks to see if the first and last chars are the same.","body":"This answer is wrong.  It only checks to see if the first and last chars are the same."}],"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1396044549,"creation_date":1299044857,"answer_id":5163887,"question_id":5163785,"body_markdown":"Try this:\r\n\r\n    if (s.charAt(0) == s.charAt(s.length() - 1))","title":"How do I get the last character of a string?","body":"<p>Try this:</p>\n\n<pre><code>if (s.charAt(0) == s.charAt(s.length() - 1))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":1,"creation_date":1523284925,"post_id":13025371,"comment_id":86485086,"body_markdown":"be really careful if you are wanting to do a calculation on a number within a string as char values are quite different than a literal number and your math results will not work.","body":"be really careful if you are wanting to do a calculation on a number within a string as char values are quite different than a literal number and your math results will not work."}],"tags":[],"owner":{"account_id":1725228,"reputation":2204,"user_id":1580074,"accept_rate":66,"display_name":"Aniket"},"comment_count":1,"down_vote_count":1,"up_vote_count":111,"is_accepted":false,"score":110,"last_activity_date":1520336600,"creation_date":1350976819,"answer_id":13025371,"question_id":5163785,"body_markdown":"Here is a method using `String.charAt()`:\r\n\r\n    String str = &quot;India&quot;;\r\n    System.out.println(&quot;last char = &quot; + str.charAt(str.length() - 1));\r\n\r\nThe resulting output is `last char = a`.","title":"How do I get the last character of a string?","body":"<p>Here is a method using <code>String.charAt()</code>:</p>\n\n<pre><code>String str = \"India\";\nSystem.out.println(\"last char = \" + str.charAt(str.length() - 1));\n</code></pre>\n\n<p>The resulting output is <code>last char = a</code>.</p>\n"},{"comments":[{"owner":{"account_id":7012135,"reputation":827,"user_id":5374625,"display_name":"Knells"},"score":0,"creation_date":1459895561,"post_id":36437899,"comment_id":60491257,"body_markdown":"I don&#39;t think this code will compile (only needs small fixes though), once you get it compile give it a test on an empty string to see if it works.","body":"I don&#39;t think this code will compile (only needs small fixes though), once you get it compile give it a test on an empty string to see if it works."},{"owner":{"account_id":3296738,"reputation":5370,"user_id":2773837,"display_name":"Hatchet"},"score":2,"creation_date":1459901906,"post_id":36437899,"comment_id":60493254,"body_markdown":"While this answer is probably correct and useful, it is preferred if you [include some explanation along with it](http://meta.stackexchange.com/q/114762/159034) to explain how it helps to solve the problem. This becomes especially useful in the future, if there is a change (possibly unrelated) that causes it to stop working and users need to understand how it once worked. Thanks!","body":"While this answer is probably correct and useful, it is preferred if you <a href=\"http://meta.stackexchange.com/q/114762/159034\">include some explanation along with it</a> to explain how it helps to solve the problem. This becomes especially useful in the future, if there is a change (possibly unrelated) that causes it to stop working and users need to understand how it once worked. Thanks!"}],"tags":[],"owner":{"account_id":7888738,"reputation":86,"user_id":5959740,"display_name":"Abdul Hanan Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459893915,"creation_date":1459893915,"answer_id":36437899,"question_id":5163785,"body_markdown":"    public String lastChars(String a) {\r\n    if(a.length()&gt;=1{\r\n    String str1 =a.substring(b.length()-1);\r\n    }\r\n    return str1;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public String lastChars(String a) {\nif(a.length()&gt;=1{\nString str1 =a.substring(b.length()-1);\n}\nreturn str1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1477295445,"creation_date":1477295445,"answer_id":40213223,"question_id":5163785,"body_markdown":"The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:\r\n\r\n**char**\r\n\r\n    char lastChar = myString.charAt(myString.length() - 1);\r\n\r\n**String**\r\n\r\n    String lastChar = myString.substring(myString.length() - 1);","title":"How do I get the last character of a string?","body":"<p>The other answers contain a lot of needless text and code. Here are two ways to get the last character of a String:</p>\n\n<p><strong>char</strong></p>\n\n<pre><code>char lastChar = myString.charAt(myString.length() - 1);\n</code></pre>\n\n<p><strong>String</strong></p>\n\n<pre><code>String lastChar = myString.substring(myString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9489759,"reputation":93,"user_id":7055019,"display_name":"vijay pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477296397,"creation_date":1477296397,"answer_id":40213487,"question_id":5163785,"body_markdown":"    public char LastChar(String a){\r\n        return a.charAt(a.length() - 1);\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code>public char LastChar(String a){\n    return a.charAt(a.length() - 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":404899,"reputation":2099,"user_id":773479,"display_name":"John Veldboom"},"score":1,"creation_date":1506991657,"post_id":46535543,"comment_id":80025927,"body_markdown":"This is the exact same example given here https://stackoverflow.com/a/13025371/773479","body":"This is the exact same example given here <a href=\"https://stackoverflow.com/a/13025371/773479\">stackoverflow.com/a/13025371/773479</a>"}],"tags":[],"owner":{"display_name":"user8705926"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506990504,"creation_date":1506990504,"answer_id":46535543,"question_id":5163785,"body_markdown":"    String aString = &quot;This will return the letter t&quot;;\r\n    System.out.println(aString.charAt(aString.length() - 1));\r\n \r\nOutput should be:\r\n   \r\n\r\n    t\r\nHappy coding!\r\n\r\n  ","title":"How do I get the last character of a string?","body":"<pre><code>String aString = \"This will return the letter t\";\nSystem.out.println(aString.charAt(aString.length() - 1));\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>t\n</code></pre>\n\n<p>Happy coding!</p>\n"},{"comments":[{"owner":{"account_id":17719777,"reputation":723,"user_id":12865125,"display_name":"Spirit of the Void"},"score":0,"creation_date":1631814567,"post_id":48000907,"comment_id":122331188,"body_markdown":"Note that the result will be true if the argument is the empty string or is equal to this String object as determined by the equals(Object) method.","body":"Note that the result will be true if the argument is the empty string or is equal to this String object as determined by the equals(Object) method."}],"tags":[],"owner":{"account_id":8801551,"reputation":1295,"user_id":6609551,"accept_rate":80,"display_name":"Neil"},"comment_count":1,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1514427967,"creation_date":1514427967,"answer_id":48000907,"question_id":5163785,"body_markdown":"The other answers are very complete, and you should definitely use them if you&#39;re trying to find the last character of a string. But if you&#39;re just trying to use a conditional (e.g. is the last character &#39;g&#39;), you could also do the following:\r\n\r\n    if (str.endsWith(&quot;g&quot;)) {\r\n\r\nor, strings\r\n\r\n    if (str.endsWith(&quot;bar&quot;)) {","title":"How do I get the last character of a string?","body":"<p>The other answers are very complete, and you should definitely use them if you're trying to find the last character of a string. But if you're just trying to use a conditional (e.g. is the last character 'g'), you could also do the following:</p>\n\n<pre><code>if (str.endsWith(\"g\")) {\n</code></pre>\n\n<p>or, strings</p>\n\n<pre><code>if (str.endsWith(\"bar\")) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7579585,"reputation":31,"user_id":5750656,"display_name":"rakib"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1546419666,"creation_date":1546415781,"answer_id":54002979,"question_id":5163785,"body_markdown":"     public char lastChar(String s) {\r\n         if (s == &quot;&quot; || s == null)\r\n            return &#39; &#39;;\r\n        char lc = s.charAt(s.length() - 1);\r\n        return lc;\r\n    }","title":"How do I get the last character of a string?","body":"<pre><code> public char lastChar(String s) {\n     if (s == \"\" || s == null)\n        return ' ';\n    char lc = s.charAt(s.length() - 1);\n    return lc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636434758,"creation_date":1563977209,"answer_id":57184891,"question_id":5163785,"body_markdown":"Here is a method I use to get the last nth characters of a string:\r\n\r\n    public static String takeLast(String value, int count) {\r\n        if (value == null || value.trim().length() == 0) return &quot;&quot;;\r\n        if (count &lt; 1) return &quot;&quot;;\r\n\r\n        if (value.length() &gt; count) {\r\n            return value.substring(value.length() - count);\r\n        } else {\r\n            return value;\r\n        }\r\n    }\r\n\r\nThen use it like so:\r\n\r\n    String testStr = &quot;this is a test string&quot;;\r\n    String last1 = takeLast(testStr, 1); //Output: g\r\n    String last4 = takeLast(testStr, 4); //Output: ring\r\n","title":"How do I get the last character of a string?","body":"<p>Here is a method I use to get the last nth characters of a string:</p>\n<pre><code>public static String takeLast(String value, int count) {\n    if (value == null || value.trim().length() == 0) return &quot;&quot;;\n    if (count &lt; 1) return &quot;&quot;;\n\n    if (value.length() &gt; count) {\n        return value.substring(value.length() - count);\n    } else {\n        return value;\n    }\n}\n</code></pre>\n<p>Then use it like so:</p>\n<pre><code>String testStr = &quot;this is a test string&quot;;\nString last1 = takeLast(testStr, 1); //Output: g\nString last4 = takeLast(testStr, 4); //Output: ring\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680073361,"creation_date":1680073361,"answer_id":75874086,"question_id":5163785,"body_markdown":"In case if you are already using apache [commons-lang3][1] library  \r\nYou can use function from library to get last n characters from the string   \r\n`org.apache.commons.lang3.right(final String str, final int len);`\r\n\r\n```\r\nStringUtils.right(null, *)    = null\r\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\r\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\r\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\r\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\r\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\r\n```\r\n\r\n\r\n  [1]: https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080","title":"How do I get the last character of a string?","body":"<p>In case if you are already using apache <a href=\"https://github.com/apache/commons-lang/blob/ccb4ad2234dbc56a6396e4b1d54a1675b5446c5b/src/main/java/org/apache/commons/lang3/StringUtils.java#L7080\" rel=\"nofollow noreferrer\">commons-lang3</a> library<br />\nYou can use function from library to get last n characters from the string<br />\n<code>org.apache.commons.lang3.right(final String str, final int len);</code></p>\n<pre><code>StringUtils.right(null, *)    = null\nStringUtils.right(*, -ve)     = &quot;&quot; // * means anything except null string when len is negative\nStringUtils.right(&quot;&quot;, *)      = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 0)   = &quot;&quot;\nStringUtils.right(&quot;abc&quot;, 2)   = &quot;bc&quot;\nStringUtils.right(&quot;abc&quot;, 1)   = &quot;c&quot;\nStringUtils.right(&quot;abc&quot;, 4)   = &quot;abc&quot;\n</code></pre>\n"}],"owner":{"account_id":244180,"reputation":3261,"user_id":516805,"accept_rate":91,"display_name":"lonesarah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792583,"favorite_count":0,"down_vote_count":0,"up_vote_count":238,"accepted_answer_id":5163852,"answer_count":12,"score":238,"last_activity_date":1680073361,"creation_date":1299044056,"question_id":5163785,"body_markdown":"How do I get the last character of a string?\r\n\r\n    public class Main {\r\n        public static void main(String[] args)  {\r\n            String s = &quot;test string&quot;;\r\n            //char lastChar = ???\r\n        }   \r\n    }\r\n","title":"How do I get the last character of a string?","body":"<p>How do I get the last character of a string?</p>\n<pre><code>public class Main {\n    public static void main(String[] args)  {\n        String s = &quot;test string&quot;;\n        //char lastChar = ???\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","class"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680073299,"creation_date":1680073299,"answer_id":75874077,"question_id":75872679,"body_markdown":"You&#39;re calling `SpringApplication.run(restAPITest.class, args)`, but `restAPITest` is not the Spring Boot Application. `mainClass` is, because that&#39;s the one with the `@SpringBootApplication` annotation. That annotation defines all the component scanning etc.\r\n\r\nNormally I would say, use `SpringApplication.run(mainClass.class, args)`, but that will load all the test applications / classes. Instead, annotate each of the test classes with `@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })`.","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>You're calling <code>SpringApplication.run(restAPITest.class, args)</code>, but <code>restAPITest</code> is not the Spring Boot Application. <code>mainClass</code> is, because that's the one with the <code>@SpringBootApplication</code> annotation. That annotation defines all the component scanning etc.</p>\n<p>Normally I would say, use <code>SpringApplication.run(mainClass.class, args)</code>, but that will load all the test applications / classes. Instead, annotate each of the test classes with <code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</code>.</p>\n"}],"owner":{"account_id":24418385,"reputation":731,"user_id":18632985,"display_name":"Hoang Minh Quang FX15045"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75874077,"answer_count":1,"score":0,"last_activity_date":1680073299,"creation_date":1680057871,"question_id":75872679,"body_markdown":"I&#39;m trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with `Main class` and `Main method`\r\n\r\nBelow is my simple restAPI.class which creates a web API that accepts POST method:\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @RestController\r\n    public class restAPITest {\r\n    \r\n    \t@PostMapping(&quot;/example&quot;)\r\n    \tpublic String handleExampleRequest(@RequestBody String requestData) {\r\n    \t\t// Process the incoming data\r\n    \t\tSystem.out.println(&quot;Received data: &quot; + requestData);\r\n    \r\n    \t\t// Return a response\r\n    \t\treturn &quot;Data received successfully&quot;;\r\n    \t}\r\n    }\r\n\r\nThen I create a `main class` with `main method` to run Spring App, like a normal java app\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    public class mainClass {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(restAPITest.class, args);\r\n        }\r\n    }\r\n\r\nBut then I got an error like below\r\n\r\n    Description:\r\n    \r\n    Web application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\r\n    \r\n    Action:\r\n    \r\n    Check your application&#39;s dependencies for a supported servlet web server.\r\n    Check the configured web application type\r\n\r\n\r\nBelow is my project Structure (Just care about 2 file that I highlight)\r\n[![structured][1]][1]\r\n\r\nIf I put the `main method` inside `public class restAPITest`, it will work like normal. But when separating the `main class`/`main method` like this it won&#39;t work. I don&#39;t understand why in Spring boot `main method` can&#39;t be separated?\r\n\r\nBasically, I want my `main class` like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn&#39;t work as intended.\r\n\r\n    public static void main(String[] args) {\r\n            //SpringApplication.run(testSpringApp1.class, args);\r\n            SpringApplication.run(testSpringApp2.class, args);\r\n            //SpringApplication.run(testSpringApp3.class, args);\r\n        }\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9GHP9.png","title":"Why I can&#39;t run Spring app when seperated Main Class and Non-Main Class?","body":"<p>I'm trying to find a way to test the multiple Spring Apps in the same project. But I have trouble with <code>Main class</code> and <code>Main method</code></p>\n<p>Below is my simple restAPI.class which creates a web API that accepts POST method:</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@RestController\npublic class restAPITest {\n\n    @PostMapping(&quot;/example&quot;)\n    public String handleExampleRequest(@RequestBody String requestData) {\n        // Process the incoming data\n        System.out.println(&quot;Received data: &quot; + requestData);\n\n        // Return a response\n        return &quot;Data received successfully&quot;;\n    }\n}\n</code></pre>\n<p>Then I create a <code>main class</code> with <code>main method</code> to run Spring App, like a normal java app</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class mainClass {\n    public static void main(String[] args) {\n        SpringApplication.run(restAPITest.class, args);\n    }\n}\n</code></pre>\n<p>But then I got an error like below</p>\n<pre><code>Description:\n\nWeb application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\n\nAction:\n\nCheck your application's dependencies for a supported servlet web server.\nCheck the configured web application type\n</code></pre>\n<p>Below is my project Structure (Just care about 2 file that I highlight)\n<a href=\"https://i.stack.imgur.com/9GHP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9GHP9.png\" alt=\"structured\" /></a></p>\n<p>If I put the <code>main method</code> inside <code>public class restAPITest</code>, it will work like normal. But when separating the <code>main class</code>/<code>main method</code> like this it won't work. I don't understand why in Spring boot <code>main method</code> can't be separated?</p>\n<p>Basically, I want my <code>main class</code> like below. When I want to test an App, I will comment out other App (I only want to test App by App, not run 3 Spring Apps at the same time). I tried to create 3 classes with 3 main methods inside, but it doesn't work as intended.</p>\n<pre><code>public static void main(String[] args) {\n        //SpringApplication.run(testSpringApp1.class, args);\n        SpringApplication.run(testSpringApp2.class, args);\n        //SpringApplication.run(testSpringApp3.class, args);\n    }\n \n</code></pre>\n"},{"tags":["java","flutter","dart"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680069058,"post_id":75873555,"comment_id":133832197,"body_markdown":"Try using `String::split`","body":"Try using <code>String::split</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1680071390,"post_id":75873555,"comment_id":133832605,"body_markdown":"by what logic do you think this contains should return true?","body":"by what logic do you think this contains should return true?"}],"answers":[{"tags":[],"owner":{"account_id":2352177,"reputation":75759,"user_id":2060725,"accept_rate":83,"display_name":"nvoigt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680073169,"creation_date":1680073169,"answer_id":75874062,"question_id":75873555,"body_markdown":"The variables *are not* the same. \r\n\r\nWhat you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).\r\n\r\nSince you tagged it [tag:Dart]:\r\n\r\n    void main() {\r\n      var a = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var b = &#39;Pepper,Paneer,Onion&#39;.split(&#39;,&#39;);\r\n      \r\n      if (a.containsTheSameElementsAs(b)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    \r\n      var c = &#39;Onion,Pepper,Paneer&#39;.split(&#39;,&#39;);\r\n      var d = &#39;Pepper,Onion&#39;.split(&#39;,&#39;); \r\n      if (c.containsTheSameElementsAs(d)) {\r\n        print(&#39;This is same&#39;);\r\n      } else {\r\n        print(&#39;This is not same.&#39;);\r\n      }\r\n    }\r\n    \r\n    extension on List {\r\n      bool containsTheSameElementsAs(List other) {\r\n        return length == other.length &amp;&amp; every(other.contains);\r\n      }\r\n    }\r\n\r\nI&#39;m sure something very similar is available in [tag:Java].","title":"problem: How to check variable same or not?","body":"<p>The variables <em>are not</em> the same.</p>\n<p>What you probably want to do is take these two sentences, split them into words at the comma and compare whether your lists of words contain the same words (probably without any priority on the order, Pepper and Salt is the same as Salt and Pepper).</p>\n<p>Since you tagged it <a href=\"/questions/tagged/dart\" class=\"post-tag\" title=\"show questions tagged &#39;dart&#39;\" aria-label=\"show questions tagged &#39;dart&#39;\" rel=\"tag\" aria-labelledby=\"tag-dart-tooltip-container\">dart</a>:</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer'.split(',');\n  var b = 'Pepper,Paneer,Onion'.split(',');\n  \n  if (a.containsTheSameElementsAs(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n  var c = 'Onion,Pepper,Paneer'.split(',');\n  var d = 'Pepper,Onion'.split(','); \n  if (c.containsTheSameElementsAs(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n}\n\nextension on List {\n  bool containsTheSameElementsAs(List other) {\n    return length == other.length &amp;&amp; every(other.contains);\n  }\n}\n</code></pre>\n<p>I'm sure something very similar is available in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-tooltip-container\">java</a>.</p>\n"}],"owner":{"account_id":21224802,"reputation":1834,"user_id":15610685,"display_name":"Deepak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75874062,"answer_count":1,"score":-1,"last_activity_date":1680073169,"creation_date":1680068894,"question_id":75873555,"body_markdown":"Here I have two variable with same item but when i checking it then it is saying its not same.\r\n\r\nHere I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.\r\n\r\n```\r\nvoid main() {\r\n  var a = &#39;Onion,Pepper,Paneer&#39;;\r\n  var b = &#39;Pepper,Paneer,Onion&#39;;\r\n  if (a.contains(b)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\nvar c = &#39;Onion,Pepper,Paneer&#39;;\r\n  var d = &#39;Pepper,Onion&#39;; Or &#39;Onion,Pepper,Cheese&#39;;\r\n  if (c.contains(d)) {\r\n    print(&#39;This is same&#39;);\r\n  } else {\r\n    print(&#39;This is not same.&#39;);\r\n  }\r\n\r\n}\r\n```","title":"problem: How to check variable same or not?","body":"<p>Here I have two variable with same item but when i checking it then it is saying its not same.</p>\n<p>Here I want variable a and variable b both same after chacking and I want variable c and variable d both not same after chacking.</p>\n<pre><code>void main() {\n  var a = 'Onion,Pepper,Paneer';\n  var b = 'Pepper,Paneer,Onion';\n  if (a.contains(b)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\nvar c = 'Onion,Pepper,Paneer';\n  var d = 'Pepper,Onion'; Or 'Onion,Pepper,Cheese';\n  if (c.contains(d)) {\n    print('This is same');\n  } else {\n    print('This is not same.');\n  }\n\n}\n</code></pre>\n"},{"tags":["java","jdbc","sybase"],"comments":[{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1680114169,"post_id":75857161,"comment_id":133844171,"body_markdown":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration","body":"try pushing PreparedStatement stm = conn.prepareStatement(...) inside the cycle and explicitly close it after each iteration"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1680237513,"post_id":75857161,"comment_id":133867584,"body_markdown":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection.","body":"@access_granted, this is almost what I do: I refactored this method and call it with 1 query, not with the list. But my purpose was to push multiple queries in 1 connection."}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680073041,"creation_date":1679928356,"question_id":75857161,"body_markdown":"I use `com.sybase.jdbc42.jdbc.SybDriver` to connect to sybase. \r\nI get \r\n\r\n`SQL Anywhere Error -188: Not enough values for host variables` \r\n\r\nwhen I execute multiple statements like this :\r\n\r\n`delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P\r\nLAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;`\r\n\r\nIt could happen with different statements: delete + update or insert + insert.\r\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:\r\n\r\n```\r\npublic void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\r\n    Connection conn = getConnection();\r\n    StringBuilder fullStatement = new StringBuilder(500);\r\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\r\n    // save all queries to one string and separate them with &quot;;&quot;\r\n    for (TransactionData query : queries) {\r\n        fullStatement.append(query.getSqlStatement());\r\n\t\tfullStatement.append(&quot;;&quot;);\r\n        Collections.addAll(totalParams, query.getParams());\r\n    }\r\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\r\n    // save all parameters to PreparedStatement\r\n    for (Object param : totalParams) {\r\n\t\tif (param instanceof NullValue) {\r\n\t\t\tstm.setNull(i, ((NullValue) param).getType());\r\n\t\t} else {\r\n\t\t\tstm.setObject(i, param);\r\n\t\t}\r\n\t\ti++;\r\n\t}\r\n}\r\n```\r\n\r\nBut get SQL error. \r\n\r\nWhen I sent each statement separately - it works...\r\n\r\nWhat could be a root cause of such error?","title":"SybSQLException: SQL Anywhere Error -188: Not enough values for host variables with jdbc42 SybDriver","body":"<p>I use <code>com.sybase.jdbc42.jdbc.SybDriver</code> to connect to sybase.\nI get</p>\n<p><code>SQL Anywhere Error -188: Not enough values for host variables</code></p>\n<p>when I execute multiple statements like this :</p>\n<p><code>delete from CHARGING_PLAN2APPLICATIONS where CHARGING_P LAN_ID=?;update CHARGING_PLAN  set NAME= ? ,ADMIN =?,LAST_CHANGE= current utc timestamp where ID=?;</code></p>\n<p>It could happen with different statements: delete + update or insert + insert.\nWith remote debug I checked that I pass all variabless required for statement. In pseudocode it looks like that:</p>\n<pre><code>public void executeMultipleStatementQuery(List&lt;TransactionData&gt; queries) throws SQLException {\n    Connection conn = getConnection();\n    StringBuilder fullStatement = new StringBuilder(500);\n    List&lt;Object&gt; totalParams = new ArrayList&lt;&gt;();\n    // save all queries to one string and separate them with &quot;;&quot;\n    for (TransactionData query : queries) {\n        fullStatement.append(query.getSqlStatement());\n        fullStatement.append(&quot;;&quot;);\n        Collections.addAll(totalParams, query.getParams());\n    }\n    PreparedStatement stm = conn.prepareStatement(fullStatement.substring(0, fullStatement.length() - 1));\n    // save all parameters to PreparedStatement\n    for (Object param : totalParams) {\n        if (param instanceof NullValue) {\n            stm.setNull(i, ((NullValue) param).getType());\n        } else {\n            stm.setObject(i, param);\n        }\n        i++;\n    }\n}\n</code></pre>\n<p>But get SQL error.</p>\n<p>When I sent each statement separately - it works...</p>\n<p>What could be a root cause of such error?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4565523,"reputation":343,"user_id":3706623,"display_name":"LucaT"},"score":0,"creation_date":1684161328,"post_id":75746912,"comment_id":134472523,"body_markdown":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?","body":"not sure if is the same problem..but I&#39;m trying to configure spring boot 3 with the new swagger &quot;springdoc-openapi-starter-webmvc-ui&quot;. In my project I have to extends WebMvcConfigurationSupport but it seems that extending this brake the swagger ui.. Any ideas ?"}],"answers":[{"comments":[{"owner":{"account_id":21965373,"reputation":31,"user_id":16242712,"display_name":"Stalowy"},"score":0,"creation_date":1680011619,"post_id":75865133,"comment_id":133821384,"body_markdown":"I will provide more detailed information later, because I&#39;ve found a way to make it works. Some minor code corrections","body":"I will provide more detailed information later, because I&#39;ve found a way to make it works. Some minor code corrections"},{"owner":{"account_id":1944143,"reputation":71,"user_id":1749658,"display_name":"user1749658"},"score":0,"creation_date":1694068166,"post_id":75865133,"comment_id":135842958,"body_markdown":"Thanks, this `.resourceChain(false).addTransformer(swaggerIndexTransformer)` was the missing point in my case.","body":"Thanks, this <code>.resourceChain(false).addTransformer(swaggerIndexTransformer&zwnj;&#8203;)</code> was the missing point in my case."}],"tags":[],"owner":{"account_id":21965373,"reputation":31,"user_id":16242712,"display_name":"Stalowy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680072916,"creation_date":1679999557,"answer_id":75865133,"question_id":75746912,"body_markdown":"I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class `SwaggerWebMvcConfigurer` which has method `addResourceHandler()`. Because we have used `WebMvcConfigurationSupport` this method is not triggered in my opinion (For example `DelegatingWebMvcConfiguration` delegating somehow addResourceHandlers upper in class hierarchy, I am not sure). \r\n\r\nSo, this is my code which helped:\r\n\r\n\r\n        @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\r\n    @Import({\r\n            org.springdoc.core.SpringDocConfiguration.class,\r\n            org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\r\n            org.springdoc.webmvc.ui.SwaggerConfig.class,\r\n            org.springdoc.core.SwaggerUiConfigProperties.class,\r\n            org.springdoc.core.SwaggerUiOAuthProperties.class,\r\n        org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\r\n    })\r\n        public class SwaggerConfig { \r\n        \r\n            private final SwaggerIndexTransformer swaggerIndexTransformer;\r\n            \r\n                public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\r\n                    this.swaggerIndexTransformer = swaggerIndexTransformer;\r\n                }\r\n            \r\n            @Override\r\n            public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n                registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\r\n                        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\r\n                        .resourceChain(false)\r\n                        .addTransformer(swaggerIndexTransformer);\r\n            }\r\n\r\nI&#39;m, just doing the same what `SwaggerWebMvcConfigurer` does. I think so :D\r\n\r\n  [1]: https://i.stack.imgur.com/GBJVI.png","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I had the same problem. I found one solution when i have tried debugging the springdoc code. I noticed that there is class <code>SwaggerWebMvcConfigurer</code> which has method <code>addResourceHandler()</code>. Because we have used <code>WebMvcConfigurationSupport</code> this method is not triggered in my opinion (For example <code>DelegatingWebMvcConfiguration</code> delegating somehow addResourceHandlers upper in class hierarchy, I am not sure).</p>\n<p>So, this is my code which helped:</p>\n<pre><code>    @ComponentScan(basePackages = {&quot;org.springdoc&quot;})\n@Import({\n        org.springdoc.core.SpringDocConfiguration.class,\n        org.springdoc.webmvc.core.SpringDocWebMvcConfiguration.class,\n        org.springdoc.webmvc.ui.SwaggerConfig.class,\n        org.springdoc.core.SwaggerUiConfigProperties.class,\n        org.springdoc.core.SwaggerUiOAuthProperties.class,\n    org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration.class\n})\n    public class SwaggerConfig { \n    \n        private final SwaggerIndexTransformer swaggerIndexTransformer;\n        \n            public CloudServletConfig(SwaggerIndexTransformer swaggerIndexTransformer) {\n                this.swaggerIndexTransformer = swaggerIndexTransformer;\n            }\n        \n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/swagger-ui*/**&quot;)\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;)\n                    .resourceChain(false)\n                    .addTransformer(swaggerIndexTransformer);\n        }\n</code></pre>\n<p>I'm, just doing the same what <code>SwaggerWebMvcConfigurer</code> does. I think so :D</p>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680072916,"creation_date":1678894562,"question_id":75746912,"body_markdown":"I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it&#39;s not working properly when @EnableWebMvc is disabled.\r\n\r\nWhen I have this\r\n```\r\nregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\r\n```\r\nDefault ui with petstore is loaded. \r\n\r\nWith @EnableWebMvc it works but core app functionality is broken as all validators and front-end don&#39;t work. So I can&#39;t use it.\r\n\r\nVia Debug I see that SwaggerIndexPageTransformer is not called. \r\n\r\nWhat should I do? ","title":"Springdoc doesn&#39;t work WebMvcConfigurationSupport","body":"<p>I am working on old legacy project where spring boot was configured using WebMvcConfigurationSupport and now need to set up swagger ui using spring doc. Unfortunately it's not working properly when @EnableWebMvc is disabled.</p>\n<p>When I have this</p>\n<pre><code>registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.17.1/&quot;).resourceChain(false);\n</code></pre>\n<p>Default ui with petstore is loaded.</p>\n<p>With @EnableWebMvc it works but core app functionality is broken as all validators and front-end don't work. So I can't use it.</p>\n<p>Via Debug I see that SwaggerIndexPageTransformer is not called.</p>\n<p>What should I do?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679995277,"post_id":75864185,"comment_id":133816786,"body_markdown":"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter , https://github.com/spring-projects/spring-security/issues/11926 (+ linked)","body":"<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a> , <a href=\"https://github.com/spring-projects/spring-security/issues/11926\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/11926</a> (+ linked)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680020010,"post_id":75864185,"comment_id":133823891,"body_markdown":"Please try (I&#39;m mobile): remove the `@Bean` (but still try to auto-wire it)","body":"Please try (I&#39;m mobile): remove the <code>@Bean</code> (but still try to auto-wire it)"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1680032798,"post_id":75864185,"comment_id":133827179,"body_markdown":"this seems to be your problem [AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider](https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w)","body":"this seems to be your problem <a href=\"https://stackoverflow.com/questions/74694980/authenticationmanager-authenticate-throws-java-lang-stackoverflowerror-null-w\">AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider</a>"}],"answers":[{"comments":[{"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"score":0,"creation_date":1679994501,"post_id":75864231,"comment_id":133816585,"body_markdown":"I want to use the AuthenticationManager to do something like`authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));`\nWhen I do, I still get a StackOverflowError","body":"I want to use the AuthenticationManager to do something like<code>authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword()));</code> When I do, I still get a StackOverflowError"}],"tags":[],"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679994104,"creation_date":1679994104,"answer_id":75864231,"question_id":75864185,"body_markdown":"You should remove:\r\n\r\n    System.out.println(authenticationManager);\r\n\r\nAs it seems to be called recursively and cause the problem (see the line `$Proxy58.toString(Unknown Source)` ).\r\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>You should remove:</p>\n<pre><code>System.out.println(authenticationManager);\n</code></pre>\n<p>As it seems to be called recursively and cause the problem (see the line <code>$Proxy58.toString(Unknown Source)</code> ).\nIf you want to make sure it is called, just put a simple string, or better yet, use the debugger.</p>\n"},{"tags":[],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680072584,"creation_date":1680072584,"answer_id":75873985,"question_id":75864185,"body_markdown":"Thanks for you suggestions. I added a Controller class and put the following code in it:\r\n```\r\n@Autowired\r\nHttpSecurity httpSecurity;\r\n@Autowired\r\nUserService userService;\r\n@Autowired\r\nPasswordEncoder passwordEncoder;\r\n\r\n@Bean\r\npublic AuthenticationManager authenticationManager() throws Exception {\r\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\r\n        .userDetailsService(userService)\r\n        .passwordEncoder(passwordEncoder)\r\n        .and()\r\n        .build();\r\n}\r\n```\r\nThis worked for me.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>Thanks for you suggestions. I added a Controller class and put the following code in it:</p>\n<pre><code>@Autowired\nHttpSecurity httpSecurity;\n@Autowired\nUserService userService;\n@Autowired\nPasswordEncoder passwordEncoder;\n\n@Bean\npublic AuthenticationManager authenticationManager() throws Exception {\n    return httpSecurity.getSharedObject(AuthenticationManagerBuilder.class)\n        .userDetailsService(userService)\n        .passwordEncoder(passwordEncoder)\n        .and()\n        .build();\n}\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":8496771,"reputation":32,"user_id":6371142,"display_name":"Jorian Koning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680258529,"accepted_answer_id":75873985,"answer_count":2,"score":-2,"last_activity_date":1680072584,"creation_date":1679993729,"question_id":75864185,"body_markdown":"I&#39;m trying to make a spring boot application with JWT security. I want to use Spring Security&#39;s AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.\r\n\r\nMy Controller class:\r\n```\r\n@RestController\r\npublic class AuthenticationController {\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    @GetMapping(&quot;/sign-in&quot;)\r\n    public String signIn() {\r\n        System.out.println(authenticationManager);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy Configuration class:\r\n```\r\n@Configuration\r\npublic class JwtConfiguration {\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe error I get when i am doing a GET request to /sign-in:\r\n\r\n```\r\n\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n```\r\netc.","title":"Why does Autowired AuthenticationManager throw StackOverflowError","body":"<p>I'm trying to make a spring boot application with JWT security. I want to use Spring Security's AuthenticationManager for authentication. I create a AuthenticationManager Bean in my Configuration Class and Autowire this in my RestController class. But when I want to use the AuthenticationManager I get an StackOverflowError.</p>\n<p>My Controller class:</p>\n<pre><code>@RestController\npublic class AuthenticationController {\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @GetMapping(&quot;/sign-in&quot;)\n    public String signIn() {\n        System.out.println(authenticationManager);\n        return &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>My Configuration class:</p>\n<pre><code>@Configuration\npublic class JwtConfiguration {\n    @Bean\n    public AuthenticationManager authenticationManager(\n            final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain configure(final HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/sign-in&quot;).permitAll();\n        return http.build();\n    }\n}\n</code></pre>\n<p>The error I get when i am doing a GET request to /sign-in:</p>\n<pre><code>\njava.lang.StackOverflowError: null\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:163) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\n    at jdk.proxy2/jdk.proxy2.$Proxy58.toString(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\n</code></pre>\n<p>etc.</p>\n"},{"tags":["java","android","exoplayer","playback","android-media3"],"answers":[{"tags":[],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680072215,"creation_date":1680072215,"answer_id":75873935,"question_id":75870538,"body_markdown":"managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes\r\n- changed &quot;/embed&quot; to &quot;/download&quot;\r\n- added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading\r\n\r\nafter these changes, the error was gone and the player stared working.","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>managed to fix it by changing the url. Instead of share URL in One Drive I took the embed URL. In the URL made the following changes</p>\n<ul>\n<li>changed &quot;/embed&quot; to &quot;/download&quot;</li>\n<li>added &quot;&amp;play=1&quot; at the end of URL to make sure it plays directly from server instead of downloading</li>\n</ul>\n<p>after these changes, the error was gone and the player stared working.</p>\n"}],"owner":{"account_id":15376634,"reputation":1,"user_id":11093143,"display_name":"Huzefa Diwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680072215,"creation_date":1680033276,"question_id":75870538,"body_markdown":"Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime\r\n\r\n```\r\nE/ExoPlayerImplInternal: Playback error\r\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\r\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\r\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\r\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\r\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n\r\nhere is my java code\r\n\r\n\r\n```\r\naudioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\r\n\r\nUri audioUri = Uri.parse(audioURL);\r\n\r\nexoPlayer = new ExoPlayer.Builder(this).build();\r\n\r\nexoPlayerView = findViewById(R.id.mediaPlayer);\r\n\r\n// Bind the player to the view.\r\nexoPlayerView.setPlayer(exoPlayer);\r\n\r\n// Build the media item.\r\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\r\n\r\n// Set the media item to be played.\r\nexoPlayer.setMediaItem(mediaItem);\r\n\r\n// Prepare the player.\r\nexoPlayer.prepare();\r\n// Start the playback.\r\nexoPlayer.play();\r\n```\r\n\r\n\r\n\r\n\r\nI tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\r\nfile is definately mp3 checked mutiple times to make sure.\r\nmp3 link is directly copied from the share option in one drive ","title":"Getting &quot;UnrecognizedInputFormatException&quot; with media3-exoplayer when streaming mp3 from onedrive","body":"<p>Very new to android programming, I am trying to implement media3-exoplayer in my app. I read the developer.adroid material and tried the basic scenario first but my mp3 wont play. Getting the below error everytime</p>\n<pre><code>E/ExoPlayerImplInternal: Playback error\n      androidx.media3.exoplayer.ExoPlaybackException: Source error\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleIoException(ExoPlayerImplInternal.java:652)\n        at androidx.media3.exoplayer.ExoPlayerImplInternal.handleMessage(ExoPlayerImplInternal.java:622)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n     Caused by: androidx.media3.exoplayer.source.UnrecognizedInputFormatException: None of the available extractors (FlvExtractor, FlacExtractor, WavExtractor, FragmentedMp4Extractor, Mp4Extractor, AmrExtractor, PsExtractor, OggExtractor, TsExtractor, MatroskaExtractor, AdtsExtractor, Ac3Extractor, Ac4Extractor, Mp3Extractor, AviExtractor, JpegExtractor) could read the stream.\n        at androidx.media3.exoplayer.source.BundledExtractorsAdapter.init(BundledExtractorsAdapter.java:94)\n        at androidx.media3.exoplayer.source.ProgressiveMediaPeriod$ExtractingLoadable.load(ProgressiveMediaPeriod.java:1018)\n        at androidx.media3.exoplayer.upstream.Loader$LoadTask.run(Loader.java:414)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>here is my java code</p>\n<pre><code>audioURL = &quot;https://1drv.ms/u/s!AinVIRl3CTeehK4nagw3kE9u9ArztA?e=Cvd4v3&quot;;\n\nUri audioUri = Uri.parse(audioURL);\n\nexoPlayer = new ExoPlayer.Builder(this).build();\n\nexoPlayerView = findViewById(R.id.mediaPlayer);\n\n// Bind the player to the view.\nexoPlayerView.setPlayer(exoPlayer);\n\n// Build the media item.\nMediaItem mediaItem = MediaItem.fromUri(audioUri);\n\n// Set the media item to be played.\nexoPlayer.setMediaItem(mediaItem);\n\n// Prepare the player.\nexoPlayer.prepare();\n// Start the playback.\nexoPlayer.play();\n</code></pre>\n<p>I tried building diffenet media source (hls, progressive etc) instead of media item and setting the mediasource as well but nothing worked.\nfile is definately mp3 checked mutiple times to make sure.\nmp3 link is directly copied from the share option in one drive</p>\n"},{"tags":["java","android","kotlin","android-emulator","simulator"],"answers":[{"comments":[{"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"score":0,"creation_date":1662460746,"post_id":73620576,"comment_id":130005316,"body_markdown":"Karan i know this setting but the question is that i want to remove sim from emulator like emulator has slot like real device but no sim in it","body":"Karan i know this setting but the question is that i want to remove sim from emulator like emulator has slot like real device but no sim in it"},{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1662460863,"post_id":73620576,"comment_id":130005351,"body_markdown":"There is voice status and data status in which you can change that to &quot;Unregistered&quot;","body":"There is voice status and data status in which you can change that to &quot;Unregistered&quot;"}],"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662460504,"creation_date":1662460504,"answer_id":73620576,"question_id":73620525,"body_markdown":"You should go to menu options as shown in below image,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd then,\r\n\r\nChange whichever setting you want from Cellular menu\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PsOW.png\r\n  [2]: https://i.stack.imgur.com/zcW4g.png","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>You should go to menu options as shown in below image,</p>\n<p><a href=\"https://i.stack.imgur.com/6PsOW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PsOW.png\" alt=\"enter image description here\" /></a></p>\n<p>And then,</p>\n<p>Change whichever setting you want from Cellular menu</p>\n<p><a href=\"https://i.stack.imgur.com/zcW4g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcW4g.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680072195,"creation_date":1662460268,"question_id":73620525,"body_markdown":"I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?","title":"Is There any android Emulator that have Sim slot but no sim in?","body":"<p>I want to Remove insert Sim in android emulator but i cannot see any setting their how i can achive it or is there any specific model here in which we can insert remove sim card..?</p>\n"},{"tags":["java","xml","spring-boot","java-8","utf-8"],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680071727,"creation_date":1679635898,"question_id":75830318,"body_markdown":"I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application. \r\n\r\nerror \r\n```\r\norg.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\r\n  with linked exception:\r\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\r\n```\r\n\r\nController code\r\n \r\n```\r\n @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\r\n    @ApiOperation(value = &quot;Method to get the data&quot;)\r\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\r\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\r\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\r\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\r\n    @ResponseBody\r\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\r\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\r\n            throws JAXBException; \r\n  ```\r\n    \r\n\r\nPOM.xml dependencies with versions \r\n```\r\nspring-boot-starter-web - 2.0.8.RELEASE\r\ngson                    - 2.3.1\r\njson-lib                - 2.3\r\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\njson                    - 20230227\r\nxmlrpc-client           - 3.1.3\r\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\nspring-security-config\r\nspring-security-web\r\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\r\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\nspring-boot-starter-actuator\r\ncommons-lang3           - 3.8.1\r\nlombok\r\nspring-cloud-starter-config - 2.0.3.RELEASE\r\nmicrometer-registry-prometheus - 1.2.2\r\nmicrometer-core - 1.2.2\r\nspring-boot-starter-test\r\nspring-cloud-dependencies - Finchley.SR3\r\n```\r\n   \r\n    ","title":"com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence","body":"<p>I am getting the error when I trigger the endpoint from UI. When I try from postman the application is giving success response. And I am not accessible for the XML generated from the UI in my microservice application.</p>\n<p>error</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: Could not unmarshal to [class com.core.navigation.schema.Navigation]: null; nested exception is javax.xml.bind.UnmarshalException\n  with linked exception:\n[com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 1 of 1-byte UTF-8 sequence.]\n</code></pre>\n<p>Controller code</p>\n<pre><code> @RequestMapping(value = &quot;/values&quot;, method = RequestMethod.POST)\n    @ApiOperation(value = &quot;Method to get the data&quot;)\n    @ApiResponses(value = {@ApiResponse(code = 200, message = &quot;OK&quot;), @ApiResponse(code = 400, message = &quot;Bad Request&quot;),\n            @ApiResponse(code = 404, message = &quot;Resource not available&quot;),\n            @ApiResponse(code = 415, message = &quot;Unsupported Media Type&quot;),\n            @ApiResponse(code = 500, message = &quot;Internal Server Error&quot;)})\n    @ResponseBody\n    Navigation overlays(@RequestBody @ApiParam(name = &quot;navigation&quot;, value = &quot;XML schema&quot;, required = true) Navigation navigation,\n            @RequestHeader @ApiParam(name = &quot;headers&quot;, value = &quot;Http headers&quot;, required = true) Map&lt;String, String&gt; headers)\n            throws JAXBException; \n</code></pre>\n<p>POM.xml dependencies with versions</p>\n<pre><code>spring-boot-starter-web - 2.0.8.RELEASE\ngson                    - 2.3.1\njson-lib                - 2.3\nspring-cloud-starter-kubernetes-config -1.1.10.RELEASE\njson                    - 20230227\nxmlrpc-client           - 3.1.3\nspring-security-oauth2-autoconfigure - 2.0.8.RELEASE\nspring-security-config\nspring-security-web\nspring-cloud-starter-openfeign - 2.0.0.RELEASE\nspring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\nspring-boot-starter-actuator\ncommons-lang3           - 3.8.1\nlombok\nspring-cloud-starter-config - 2.0.3.RELEASE\nmicrometer-registry-prometheus - 1.2.2\nmicrometer-core - 1.2.2\nspring-boot-starter-test\nspring-cloud-dependencies - Finchley.SR3\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9685,"page":540,"page_size":100}
