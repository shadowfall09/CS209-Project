{"items":[{"tags":["java","list","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667117618,"creation_date":1667117618,"answer_id":74251448,"question_id":74251238,"body_markdown":"Use association mappings to model the relationship between two database tables as attributes in your entity. \r\n\r\nJPA and Hibernate support the same associations as you know from your relational database model, all are described in [the blog post][1]. It&#39;s important to understand them correctly.\r\n\r\nFor this particular case, you can focus on the `@ManyToMany` association, since many students can be enrolled in many courses.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>Use association mappings to model the relationship between two database tables as attributes in your entity.</p>\n<p>JPA and Hibernate support the same associations as you know from your relational database model, all are described in <a href=\"https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/\" rel=\"nofollow noreferrer\">the blog post</a>. It's important to understand them correctly.</p>\n<p>For this particular case, you can focus on the <code>@ManyToMany</code> association, since many students can be enrolled in many courses.</p>\n"}],"owner":{"account_id":20613780,"reputation":1,"user_id":15132365,"display_name":"Sagar Rawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667126012,"creation_date":1667114889,"question_id":74251238,"body_markdown":"I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.\r\n\r\nBut looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.\r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity\r\n@Table(name=&quot;Courses&quot;)\r\n@Data\r\npublic class CourseEntity {\r\n    \r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;course_Name&quot;)\r\n\tprivate String courseName;\r\n\t\r\n\t@Column(name=&quot;students&quot;)\r\n\t**private List&lt;StudentEntity&gt; students;**\r\n}\r\n```\r\nabove is the list I am talking about","title":"How to add List&lt;Students&gt; as a field in Entity Courses","body":"<p>I want to create courses where multiple students can enroll. I made StudentsEntity class, and CourseEntity class and added the required fields inside them, one of the fields in the course entity is List of Students so that I could call an endpoint and I could get the list of all students associated with that particular course.</p>\n<p>But looks like I am not able to add the list of students directly as a field as H2 db column. Help me resolve this.</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Entity\n@Table(name=&quot;Courses&quot;)\n@Data\npublic class CourseEntity {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;course_Name&quot;)\n    private String courseName;\n    \n    @Column(name=&quot;students&quot;)\n    **private List&lt;StudentEntity&gt; students;**\n}\n</code></pre>\n<p>above is the list I am talking about</p>\n"},{"tags":["java","spring","date","localdatetime"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667127308,"post_id":74252316,"comment_id":131092839,"body_markdown":"That string is the URL encoded equivalent of `2022-10-30T13:28:41.530530`. You need to figure out why it is being provided in that format, or just decode it.","body":"That string is the URL encoded equivalent of <code>2022-10-30T13:28:41.530530</code>. You need to figure out why it is being provided in that format, or just decode it."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1667132521,"post_id":74252316,"comment_id":131093714,"body_markdown":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter `T`.","body":"Even when URL-decoded, the string still won&#39;t match. After the date component your format string includes a space but the actual string contains a letter <code>T</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667145426,"post_id":74252316,"comment_id":131096375,"body_markdown":"Once URL decoded into `2022-10-30T13:28:41.530530`, forget about the formatter and just pass the string to the one-arg `LocalDateTime.parse(CharSequence)`. The string is in the [ISO 8501](https://en.wikipedia.org/wiki/ISO_8601) format, the default for java.time classes, which is why you don’t need to specify any formatter.","body":"Once URL decoded into <code>2022-10-30T13:28:41.530530</code>, forget about the formatter and just pass the string to the one-arg <code>LocalDateTime.parse(CharSequence)</code>. The string is in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8501</a> format, the default for java.time classes, which is why you don’t need to specify any formatter."}],"owner":{"account_id":25132170,"reputation":9,"user_id":19494722,"display_name":"Arnologus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667125952,"creation_date":1667125952,"question_id":74252316,"body_markdown":"I send a request from the main service to the statistics service, where I send parameters, including the encoded date\r\n\r\n[![the request looks like this](https://i.stack.imgur.com/nWOWa.png)](https://i.stack.imgur.com/nWOWa.png)\r\n\r\n\r\nhere is the code in the statistics service that formats the date\r\n\r\n```\r\ndefault Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\r\n   return (((root, query, criteriaBuilder) -&gt; {\r\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n      if (params.getUris() != null) {\r\n         for (String uri : params.getUris()) {\r\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\r\n         }\r\n      }\r\n      if (params.getStart() != null) {\r\n         predicates.add(criteriaBuilder.greaterThan(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getStart(), formatter)));\r\n      }\r\n      if (params.getEnd() != null) {\r\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\r\n               root.get(&quot;timestamp&quot;),\r\n               LocalDateTime.parse(params.getEnd(), formatter)));\r\n      }\r\n\r\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\r\n   }));\r\n```\r\n\r\n\r\nwhen sending a request, I get an error with the following stack trace\r\n\r\n\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10\r\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\r\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\r\n\tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\r\n\tat com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\r\n```\r\nhow to format a string into a date correctly?\r\n\r\n\r\nI tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)","title":"Text &#39;2022-10-30T13%3A28%3A41.530530&#39; could not be parsed at index 10","body":"<p>I send a request from the main service to the statistics service, where I send parameters, including the encoded date</p>\n<p><a href=\"https://i.stack.imgur.com/nWOWa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWOWa.png\" alt=\"the request looks like this\" /></a></p>\n<p>here is the code in the statistics service that formats the date</p>\n<pre><code>default Specification&lt;View&gt; getSpecificationByParams(StatsSearchParams params) {\n   return (((root, query, criteriaBuilder) -&gt; {\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n      if (params.getUris() != null) {\n         for (String uri : params.getUris()) {\n            predicates.add(criteriaBuilder.in(root.get(&quot;uri&quot;)).value(uri));\n         }\n      }\n      if (params.getStart() != null) {\n         predicates.add(criteriaBuilder.greaterThan(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getStart(), formatter)));\n      }\n      if (params.getEnd() != null) {\n         predicates.add(criteriaBuilder.lessThanOrEqualTo(\n               root.get(&quot;timestamp&quot;),\n               LocalDateTime.parse(params.getEnd(), formatter)));\n      }\n\n      return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\n   }));\n</code></pre>\n<p>when sending a request, I get an error with the following stack trace</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2022-10-30T13%3A28%3A41.530530' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\n    at com.example.stats.view.ViewRepository.lambda$getSpecificationByParams$ac66be10$1(ViewRepository.java:42) ~[classes/:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.applySpecificationToCriteria(SimpleJpaRepository.java:879) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:813) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:798) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:505) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.sun.proxy.$Proxy100.findAll(Unknown Source) ~[na:na]\n    at com.example.stats.view.ViewRepository.searchStatsByParams(ViewRepository.java:26) ~[classes/:na]\n</code></pre>\n<p>how to format a string into a date correctly?</p>\n<p>I tried adding @jsonformat(pattern = &quot;yyyy-mm-dd HH:mm:ss&quot;)</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-livedata"],"comments":[{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596749155,"post_id":63291868,"comment_id":111919122,"body_markdown":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document","body":"The problem is not in the observer, I think you have a problem with your firebase reference, thats why it does not enter in your onSuccess .collection(&quot;locations/&quot;+location+&quot;/menus&quot;) --&gt; check this reference you should use .document to navigate to a certain document"},{"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"score":0,"creation_date":1596750390,"post_id":63291868,"comment_id":111919527,"body_markdown":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!","body":"The first problem was the firebase reference and the second one appeared because I forgot to call mainActivityViewModel.setMenusCollection(); in MainActivity. Thank you for your help!"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1596754650,"post_id":63291868,"comment_id":111920615,"body_markdown":"I will add it as an answer, you can check it","body":"I will add it as an answer, you can check it"}],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667125212,"creation_date":1596754671,"answer_id":63292882,"question_id":63291868,"body_markdown":"The problem is not in the observer, I think you have a problem with your Firebase reference.\r\n\r\nThat&#39;s why it does not enter in your onSuccess `.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)` --&gt; check this reference you should use `.document` to navigate to a certain document.","title":"LiveData observer not getting triggered","body":"<p>The problem is not in the observer, I think you have a problem with your Firebase reference.</p>\n<p>That's why it does not enter in your onSuccess <code>.collection(&quot;locations/&quot;+location+&quot;/menus&quot;)</code> --&gt; check this reference you should use <code>.document</code> to navigate to a certain document.</p>\n"}],"owner":{"account_id":16684179,"reputation":1,"user_id":12058518,"display_name":"RamboCata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667125212,"creation_date":1596748654,"question_id":63291868,"body_markdown":"I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a `MainActivityViewModel` where the data (a `FirestoreMenu`) is taken from the firestore and then it is provided and observed in the `MainActivity`. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?\r\n\r\n\r\n\r\nMainActivity\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n    private MainActivityViewModel mainActivityViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setHasFixedSize(true);\r\n        \r\n        final MenuAdapter adapter = new MenuAdapter();\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n                //update recycle view\r\n                adapter.setFirestoreMenus(firestoreMenus);\r\n            }\r\n        });\r\n\r\n\r\n        /* I also have tried this approach\r\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n\r\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\r\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\r\n\r\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\r\n\r\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\r\n                menusListView.setAdapter(mAdapter);\r\n            }\r\n        });\r\n           */\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        signInAnonymously();\r\n    }\r\n\r\n    private void signInAnonymously() {\r\n    ...\r\n    }\r\n}\r\n```\r\nMainActivityViewModel\r\n```\r\npublic class MainActivityViewModel extends ViewModel {\r\n\r\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\r\n\r\n\r\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\r\n        if (mMenus == null){\r\n            mMenus = new MutableLiveData&lt;&gt;();\r\n\r\n        }\r\n        return mMenus;\r\n    }\r\n\r\n    public void setMenusCollection(String location){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\r\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\r\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\r\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\r\n                    dataSet.add(menu);\r\n                }\r\n                mMenus.setValue(dataSet);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nMenuAdapter\r\n```\r\npublic class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\r\n\r\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.menu_item,parent,false);\r\n        return new MenuHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\r\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\r\n        holder.textViewTitle.setText(currentMenu.getName());\r\n        holder.textViewDescritpion.setText(currentMenu.getId());\r\n        holder.textViewDescritpion.setText(currentMenu.getImage());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return firestoreMenus.size();\r\n    }\r\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\r\n        this.firestoreMenus = menus;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    class MenuHolder extends RecyclerView.ViewHolder{\r\n        private TextView textViewTitle;\r\n        private TextView textViewDescritpion;\r\n        private TextView textViewPriority;\r\n\r\n        public MenuHolder(View itemView){\r\n            super(itemView);\r\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\r\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\r\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"LiveData observer not getting triggered","body":"<p>I am trying to take data from the firebase and display it but the observer is not working. I am using a mvvm architecture , so I have a <code>MainActivityViewModel</code> where the data (a <code>FirestoreMenu</code>) is taken from the firestore and then it is provided and observed in the <code>MainActivity</code>. However, the observer is never triggered. I followed some tutorials that explain how LiveData works, but I have no idea what I am doing wrong. Can someone help me figure the problem out?</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n    private MainActivityViewModel mainActivityViewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        RecyclerView recyclerView = findViewById(R.id.recycle_view);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setHasFixedSize(true);\n        \n        final MenuAdapter adapter = new MenuAdapter();\n\n        recyclerView.setAdapter(adapter);\n\n        mainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        mainActivityViewModel.getMenus().observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n                //update recycle view\n                adapter.setFirestoreMenus(firestoreMenus);\n            }\n        });\n\n\n        /* I also have tried this approach\n        final MainActivityViewModel mMainActivityViewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n\n        LiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenusList = mMainActivityViewModel.getMenus() ;\n        final MenuListAdapter mAdapter = new MenuListAdapter(this, R.layout.adaptive_view_layout, mMainActivityViewModel.getMenus().getValue());\n\n        mMenusList.observe(this, new Observer&lt;List&lt;FirestoreMenu&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;FirestoreMenu&gt; firestoreMenus) {\n\n                mMainActivityViewModel.setMenusCollection(&quot;XmyTebpsvEyeBYBp2TUB&quot;);\n                menusListView.setAdapter(mAdapter);\n            }\n        });\n           */\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        signInAnonymously();\n    }\n\n    private void signInAnonymously() {\n    ...\n    }\n}\n</code></pre>\n<p>MainActivityViewModel</p>\n<pre><code>public class MainActivityViewModel extends ViewModel {\n\n    private MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; mMenus;\n\n\n    public MutableLiveData&lt;List&lt;FirestoreMenu&gt;&gt; getMenus(){\n        if (mMenus == null){\n            mMenus = new MutableLiveData&lt;&gt;();\n\n        }\n        return mMenus;\n    }\n\n    public void setMenusCollection(String location){\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n        CollectionReference menusRef = FirebaseFirestore.getInstance().collection(&quot;locations/&quot;+location+&quot;/menus&quot;);\n        menusRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                ArrayList&lt;FirestoreMenu&gt; dataSet = new ArrayList&lt;&gt;();\n                for (DocumentSnapshot document : queryDocumentSnapshots.getDocuments()) {\n                    FirestoreMenu menu = document.toObject(FirestoreMenu.class);\n                    dataSet.add(menu);\n                }\n                mMenus.setValue(dataSet);\n            }\n        });\n    }\n}\n</code></pre>\n<p>MenuAdapter</p>\n<pre><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.MenuHolder&gt; {\n\n    private List&lt;FirestoreMenu&gt; firestoreMenus= new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public MenuHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.menu_item,parent,false);\n        return new MenuHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MenuHolder holder, int position) {\n        FirestoreMenu currentMenu = firestoreMenus.get(position);\n        holder.textViewTitle.setText(currentMenu.getName());\n        holder.textViewDescritpion.setText(currentMenu.getId());\n        holder.textViewDescritpion.setText(currentMenu.getImage());\n    }\n\n    @Override\n    public int getItemCount() {\n        return firestoreMenus.size();\n    }\n    public void setFirestoreMenus (List&lt;FirestoreMenu&gt; menus){\n        this.firestoreMenus = menus;\n        notifyDataSetChanged();\n    }\n\n    class MenuHolder extends RecyclerView.ViewHolder{\n        private TextView textViewTitle;\n        private TextView textViewDescritpion;\n        private TextView textViewPriority;\n\n        public MenuHolder(View itemView){\n            super(itemView);\n            textViewTitle = itemView.findViewById(R.id.text_view_title);\n            textViewDescritpion = itemView.findViewById(R.id.text_view_description);\n            textViewPriority = itemView.findViewById(R.id.text_view_priority);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4959818,"reputation":480,"user_id":3991350,"display_name":"cosh"},"score":2,"creation_date":1517442146,"post_id":48553231,"comment_id":84102949,"body_markdown":"check [this](https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array) out.","body":"check <a href=\"https://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array\">this</a> out."}],"answers":[{"comments":[{"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"score":0,"creation_date":1517443930,"post_id":48553396,"comment_id":84103411,"body_markdown":"Hmm i see... but what does the `[a[0].length]` in terms of coding? I&#39;m just trying to understand it completely, and not just copy and paste it. Thanks!","body":"Hmm i see... but what does the <code>[a[0].length]</code> in terms of coding? I&#39;m just trying to understand it completely, and not just copy and paste it. Thanks!"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1517444174,"post_id":48553396,"comment_id":84103461,"body_markdown":"`a` is a two-dimensional array. `a[0]` is the first &quot;row&quot; (if you think in row-major format). `a[0].length` is the dimension of the first row, that is, the width of the matrix. `a.length` would be the height of the matrix. `new MyType[h][w]` is the usual way to initialize two-dimensional arrays in Java. Well &quot;usual&quot;... Usual in those rare contexts where you initialize arrays in Java (it doesn&#39;t happen too often, because collections, and now also the stream-api, are vastly more comfortable to use).","body":"<code>a</code> is a two-dimensional array. <code>a[0]</code> is the first &quot;row&quot; (if you think in row-major format). <code>a[0].length</code> is the dimension of the first row, that is, the width of the matrix. <code>a.length</code> would be the height of the matrix. <code>new MyType[h][w]</code> is the usual way to initialize two-dimensional arrays in Java. Well &quot;usual&quot;... Usual in those rare contexts where you initialize arrays in Java (it doesn&#39;t happen too often, because collections, and now also the stream-api, are vastly more comfortable to use)."},{"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"score":0,"creation_date":1517444999,"post_id":48553396,"comment_id":84103602,"body_markdown":"Ok so if, for instance, I wanted to switch the columns for the rows of `a[]` to intialize `b[]`, it should be like this, `int[][] b = new int[a[0].length][a.length]?","body":"Ok so if, for instance, I wanted to switch the columns for the rows of <code>a[]</code> to intialize <code>b[]</code>, it should be like this, `int[][] b = new int[a[0].length][a.length]?"}],"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517443057,"creation_date":1517443057,"answer_id":48553396,"question_id":48553231,"body_markdown":"Why not just use the ordinary multidimensional array initialization syntax?\r\n\r\n        int[][] a = {{1,2,3}, {4,5,6}};\r\n        int[][] b = new int[a.length][a[0].length];\r\n\r\nThis seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don&#39;t get any AIOOBEs:\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = 0; j &lt; a[0].length; j++) {\r\n              b[i][j] = a[i][j];\r\n            }\r\n        }\r\n\r\nThis, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>Why not just use the ordinary multidimensional array initialization syntax?</p>\n\n<pre><code>    int[][] a = {{1,2,3}, {4,5,6}};\n    int[][] b = new int[a.length][a[0].length];\n</code></pre>\n\n<p>This seems to work perfectly well. Here is a little loop that tests that all entries are indeed present, and that we don't get any AIOOBEs:</p>\n\n<pre><code>    for (int i = 0; i &lt; a.length; i++) {\n        for (int j = 0; j &lt; a[0].length; j++) {\n          b[i][j] = a[i][j];\n        }\n    }\n</code></pre>\n\n<p>This, obviously assumes that you are dealing with rectangular matrices, that is, all rows must have the same dimensions. If you have some weird jagged arrays, you must use a loop to initialize each row separately.</p>\n"}],"owner":{"account_id":12796859,"reputation":152,"user_id":9259589,"display_name":"ramireeez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6219,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48553396,"answer_count":1,"score":6,"last_activity_date":1667125144,"creation_date":1517441955,"question_id":48553231,"body_markdown":"I have the following 2D Array:\r\n\r\n         int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\r\n         \r\n\r\nAnd I want to create another 2D Array with the same size of `matrixA`, my question is how do I do it with, the same way of an ordinary array, i.e, `int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]`\r\n\r\n        int[][] matrixB = new int[matrixA.length][]\r\n\r\nCan I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there&#39;s a more correct and flexible way to do this? ","title":"Java - Creating 2D Array with same size as another 2D Array","body":"<p>I have the following 2D Array:</p>\n\n<pre><code>     int[][] matrixA = { {1, 2 ,3}, {4, 5, 6} };\n</code></pre>\n\n<p>And I want to create another 2D Array with the same size of <code>matrixA</code>, my question is how do I do it with, the same way of an ordinary array, i.e, <code>int[] arrayA = {10, 12, 33, 23}, int[] arrayB = new int[arrayA.length]</code></p>\n\n<pre><code>    int[][] matrixB = new int[matrixA.length][]\n</code></pre>\n\n<p>Can I do it like this, only alocating one array with two positions and and leaving the rest to be filled with a for loop? Or there's a more correct and flexible way to do this? </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1576486939,"post_id":59353213,"comment_id":104901650,"body_markdown":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the `Jenkinsfile` then.","body":"What exactly does not work? Jenkins archiving the boot jar? May be beneficial to post the <code>Jenkinsfile</code> then."}],"answers":[{"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1576491975,"post_id":59354208,"comment_id":104904180,"body_markdown":"Yes, thank you, this did work for me, I also had to make changes to rename the archive generated using archiveName (for versions below 6) and archiveFileName (for gradle version 6+).","body":"Yes, thank you, this did work for me, I also had to make changes to rename the archive generated using archiveName (for versions below 6) and archiveFileName (for gradle version 6+)."}],"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1602624454,"creation_date":1576490244,"answer_id":59354208,"question_id":59353213,"body_markdown":"In the [Configuring executable archive packaging][1] section of the [Spring Boot Gradle Plugin Reference Guide][2] we can read:\r\n\r\n&gt; The [`BootJar`][3] and [`BootWar`][4] tasks are subclasses of Gradle’s `Jar` and `War` tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.\r\n\r\nHaving that in mind if we look at [Gradle&#39;s Jar plugin][5] documentation it has [`destinationDirectory`][6] property denoting the directory where the archive will be placed.\r\n\r\nTry updating your `build.gradle` script according to this:\r\n\r\n    bootJar {\r\n      destinationDirectory = file(project.buildDir)\r\n    }\r\n\r\nThis should do the trick.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\r\n  [4]: https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\r\n  [5]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\r\n  [6]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory","title":"Change &quot;bootJar&quot; target directory","body":"<p>In the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring\" rel=\"noreferrer\">Configuring executable archive packaging</a> section of the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html\" rel=\"noreferrer\">Spring Boot Gradle Plugin Reference Guide</a> we can read:</p>\n<blockquote>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootJar.html\" rel=\"noreferrer\"><code>BootJar</code></a> and <a href=\"https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/gradle-plugin/api/org/springframework/boot/gradle/tasks/bundling/BootWar.html\" rel=\"noreferrer\"><code>BootWar</code></a> tasks are subclasses of Gradle’s <code>Jar</code> and <code>War</code> tasks respectively. As a result, all of the standard configuration options that are available when packaging a jar or war are also available when packaging an executable jar or war.</p>\n</blockquote>\n<p>Having that in mind if we look at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"noreferrer\">Gradle's Jar plugin</a> documentation it has <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:destinationDirectory\" rel=\"noreferrer\"><code>destinationDirectory</code></a> property denoting the directory where the archive will be placed.</p>\n<p>Try updating your <code>build.gradle</code> script according to this:</p>\n<pre><code>bootJar {\n  destinationDirectory = file(project.buildDir)\n}\n</code></pre>\n<p>This should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":5430327,"reputation":323,"user_id":4321406,"accept_rate":80,"display_name":"Partizanin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667124535,"creation_date":1667124535,"answer_id":74252158,"question_id":59353213,"body_markdown":"gradle 7.5\r\n\r\n\r\n    tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\r\n        destinationDirectory.set(file(&quot;jarfile&quot;))\r\n        println(destinationDirectory.get())\r\n    }","title":"Change &quot;bootJar&quot; target directory","body":"<p>gradle 7.5</p>\n<pre><code>tasks.named&lt;org.springframework.boot.gradle.tasks.bundling.BootJar&gt;(&quot;bootJar&quot;) {\n    destinationDirectory.set(file(&quot;jarfile&quot;))\n    println(destinationDirectory.get())\n}\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6040,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59354208,"answer_count":2,"score":4,"last_activity_date":1667124535,"creation_date":1576486402,"question_id":59353213,"body_markdown":"New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.\r\n\r\nBelow is my build.gradle\r\n\r\n    import io.swagger.codegen.DefaultGenerator\r\n    import io.swagger.codegen.config.CodegenConfigurator\r\n    \r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;2.0.5.RELEASE&#39;\r\n            jacocoWorkspaceDirectory = &quot;/jacoco/&quot;\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion&quot;\r\n            classpath group: &quot;io.spring.gradle&quot;, name: &quot;dependency-management-plugin&quot;, version: &quot;1.0.6.RELEASE&quot;\r\n            classpath &#39;com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE&#39;\r\n            classpath group: &quot;org.unbroken-dome.gradle-plugins&quot;, name: &quot;gradle-testsets-plugin&quot;, version: &quot;1.4.2&quot;\r\n            classpath(&quot;io.swagger:swagger-codegen:2.3.1&quot;)\r\n            classpath(&quot;io.swagger.core.v3:swagger-gradle-plugin:2.0.5&quot;)\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;maven&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    apply plugin: &quot;org.springframework.boot&quot;\r\n    apply plugin: &quot;io.swagger.core.v3.swagger-gradle-plugin&quot;\r\n    apply plugin: &#39;abc-sonar&#39;\r\n    apply plugin: &quot;jacoco&quot;\r\n    apply plugin: &quot;findbugs&quot;\r\n    apply plugin: &quot;checkstyle&quot;\r\n    apply plugin: &quot;pmd&quot;\r\n    \r\n    \r\n    def excludeStudentManagementConstants = &quot;src/main/java/com/abc/student/management/constants/studentManagementConstants.java&quot;\r\n    def excludeCaasConstants = &quot;src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java&quot;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    project.buildDir = &#39;target&#39;\r\n    \r\n    group = &#39;com.abc.studentmanagement&#39;\r\n    version = &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n    }\r\n    \r\n    \r\n    // PLUGIN CONFIGs\r\n    springBoot {\r\n        mainClassName = &#39;com.abc.student.management.StudentManagementApplication&#39;\r\n        buildInfo()\r\n    }\r\n    \r\n    bootJar {\r\n        baseName = &#39;student-management&#39;\r\n    }\r\n    \r\n    // FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\r\n    checkstyle {\r\n        maxErrors = 11\r\n        maxWarnings = 11\r\n        toolVersion = 8.17\r\n    }\r\n    \r\n    [checkstyleMain, checkstyleTest].each { task -&gt;\r\n        task.logging.setLevel(LogLevel.LIFECYCLE)\r\n        // FIXME -  This is to be updated with False.\r\n        task.ignoreFailures = false\r\n    }\r\n    // ---- PLUGIN CONFIG ENDs\r\n    \r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Spring specific dependencies\r\n        implementation(&#39;org.springframework:spring-tx&#39;)\r\n        implementation(&#39;org.springframework:spring-core&#39;)\r\n        implementation(&#39;org.springframework:spring-context&#39;)\r\n        implementation(&#39;org.springframework:spring-beans&#39;)\r\n        implementation(&#39;org.springframework:spring-expression&#39;)\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-aop&#39;\r\n        implementation group: &#39;org.springframework.retry&#39;, name: &#39;spring-retry&#39;\r\n    \r\n        // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;\r\n    \r\n        // Spring cloud\r\n        // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-vault-config&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        implementation group: &#39;io.pivotal.spring.cloud&#39;, name: &#39;spring-cloud-services-starter-config-client&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n        // Upgraded &quot;spring-cloud-starter-bus-amqp&quot; following from 2.0.0.RC1 to 2.0.1.RELEASE\r\n        implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-bus-amqp&#39;, version: &#39;2.0.1.RELEASE&#39;\r\n    \r\n    \r\n        // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-core&#39;, version: &#39;3.10.1&#39;\r\n        implementation group: &#39;org.mongodb&#39;, name: &#39;bson&#39;, version: &#39;3.10.1&#39;\r\n    \r\n        // SWagger dependencies\r\n        implementation group: &#39;io.swagger&#39;, name: &#39;swagger-parser&#39;, version: &#39;1.0.23&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.9.2&#39;\r\n        implementation group: &#39;com.atlassian.oai&#39;, name: &#39;swagger-request-validator-core&#39;, version: &#39;1.3.9&#39;\r\n    \r\n        // Apache - Commons\r\n        implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    \r\n        // Oracle dependencies\r\n    //    implementation group: &#39;com.oracle.jdbc&#39;, name: &#39;ojdbc7&#39;, version: &#39;12.1.0&#39;\r\n    \r\n        // Logback\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.3&#39;\r\n        implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-core&#39;, version: &#39;1.2.3&#39;\r\n    \r\n        implementation group: &#39;org.apache.camel&#39;, name: &#39;camel-jsonpath&#39;, version: &#39;2.22.0&#39;\r\n        implementation group: &#39;com.google.gdata&#39;, name: &#39;core&#39;, version: &#39;1.47.1&#39;\r\n        implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;20.0&#39;\r\n    \r\n        // Mapper\r\n        implementation group: &#39;ma.glasnost.orika&#39;, name: &#39;orika-core&#39;, version: &#39;1.5.4&#39;\r\n    \r\n        // JSON\r\n        implementation group: &#39;com.fasterxml.jackson.dataformat&#39;, name: &#39;jackson-dataformat-xml&#39;, version: &#39;2.8.10&#39;\r\n        implementation group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n    \r\n    \r\n        // abc - exception handler\r\n        implementation(group: &#39;com.abc.consumer.exception&#39;, name: &#39;exception-handler&#39;, version: &#39;1.3.3-SNAPSHOT&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n        // AXON - SDK\r\n        implementation(group: &#39;com.abc.apie.axon&#39;, name: &#39;axon-sdk&#39;, version: &#39;2.0.5&#39;) {\r\n            exclude(module: &#39;hibernate-validator&#39;)\r\n        }\r\n    \r\n        // abc Reference Arch - Messaging\r\n        implementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-messaging-base&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude module: &#39;axon-sdk&#39;\r\n            exclude module: &#39;hibernate-validator&#39;\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n    \r\n    \r\n        // Test specific.\r\n        testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n        testImplementation group: &#39;com.github.tomakehurst&#39;, name: &#39;wiremock&#39;, version: &#39;2.21.0&#39;\r\n    \r\n        // abc Reference Arch - Testing\r\n        testImplementation(group: &#39;com.abc.refarch&#39;, name: &#39;ref-arch-unit-test-jar&#39;, version: &#39;5.3.2&#39;) {\r\n            exclude group: &#39;org.springframework&#39;\r\n        }\r\n        testImplementation(group: &#39;com.intuit.karate&#39;, name: &#39;karate-apache&#39;, version: &#39;0.9.4&#39;) {\r\n            exclude(module: &#39;logback-classic&#39;)\r\n        }\r\n        testImplementation group: &#39;net.masterthought&#39;, name: &#39;cucumber-reporting&#39;, version: &#39;3.20.0&#39;\r\n    \r\n        // Karate Framework\r\n        testImplementation group: &#39;com.intuit.karate&#39;, name: &#39;karate-junit4&#39;, version: &#39;0.9.4&#39;\r\n    \r\n        // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\r\n        compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.10&#39;\r\n    }\r\n    \r\n    ext.appName = &#39;student-management&#39;\r\n    ext.apiPackage = &#39;com.abc.student.management.generated.api&#39;\r\n    ext.modelPackage = &#39;com.abc.student.management.generated.model&#39;\r\n    ext.swaggerFile = &quot;${rootDir}/src/main/resources/StudentManagement.v1.yaml&quot;\r\n    ext.swaggerBuildDir = &quot;${project.buildDir}/${ext.appName}&quot;\r\n    \r\n    // Actual task for generating the server\r\n    task generateServer {\r\n        doLast {\r\n            def config = new CodegenConfigurator()\r\n            config.setLang(&quot;spring&quot;)\r\n            config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\r\n            config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\r\n            config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\r\n            config.setOutputDir(rootProject.swaggerBuildDir)\r\n            // The output directory, user-service-contract/build/user-service-server/\r\n            config.addSystemProperty(&quot;models&quot;, &quot;&quot;);\r\n            config.addSystemProperty(&quot;apis&quot;, &quot;&quot;);\r\n    \r\n            config.setAdditionalProperties([\r\n                    &#39;dateLibrary&#39;    : &#39;java8&#39;, // Date library to use\r\n                    &#39;useTags&#39;        : &#39;true&#39;,  // Use tags for the naming\r\n                    &#39;delegatePattern&#39;: &#39;true&#39;   // Generating the code with the delegate pattern\r\n            ])\r\n            new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\r\n        }\r\n    }\r\n    \r\n    findbugs {\r\n        toolVersion = &quot;3.0.1&quot;\r\n        sourceSets = [sourceSets.main]\r\n        // FIXME - Make this false.\r\n        ignoreFailures = true\r\n        effort = &quot;max&quot;\r\n        reportLevel = &quot;medium&quot;\r\n        excludeFilter = file(&quot;$rootDir/config/findbugs/exclude.xml&quot;)\r\n    }\r\n    \r\n    pmd {\r\n        toolVersion = &quot;5.6.1&quot;\r\n        ignoreFailures = false\r\n        sourceSets = [sourceSets.main]\r\n        reportsDir = file(&quot;${project.buildDir}/reports/pmdTest&quot;)\r\n        ruleSets = [\r\n                &#39;java-basic&#39;\r\n        ]\r\n    }\r\n    \r\n    tasks.withType(FindBugs) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    tasks.withType(Pmd) {\r\n        reports {\r\n            xml.enabled = false\r\n            html.enabled = true\r\n        }\r\n    }\r\n    \r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.projectName&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.projectKey&quot;, &quot;student-management&quot;\r\n            property &quot;sonar.jacoco.reportPath&quot;, &quot;build/jacoco/test.exec&quot;\r\n            property &quot;sonar.junit.reportPaths&quot;, &quot;build/test-results/test&quot;\r\n            property &quot;sonar.host.url&quot;, &quot;https://fusion.abc.int/sonar&quot;\r\n            property &quot;sonar.gateId&quot;, &quot;307&quot;\r\n            property &quot;sonar.projectDescription&quot;, &quot;student management microservice.&quot;\r\n            property &quot;sonar.skip.qualityGate&quot;, &quot;false&quot;\r\n            property &quot;sonar.exclusions&quot;, [excludeStudentManagementConstants, excludeCaasConstants]\r\n        }\r\n    }\r\n\r\n\r\nP.S- I tried project.buildDir but that changed the `build` to `target`, the jar is still generated inside the target/lib directory.\r\n\r\n\r\n","title":"Change &quot;bootJar&quot; target directory","body":"<p>New to gradle, facing issues in jenkins pipeline. Entire build is successful but not able to find the bootable jar of my spring project. If you can please let me know how can I move the jar from target/lib/ to /target folder.</p>\n\n<p>Below is my build.gradle</p>\n\n<pre><code>import io.swagger.codegen.DefaultGenerator\nimport io.swagger.codegen.config.CodegenConfigurator\n\nbuildscript {\n    ext {\n        springBootVersion = '2.0.5.RELEASE'\n        jacocoWorkspaceDirectory = \"/jacoco/\"\n    }\n    repositories {\n        mavenLocal()\n        maven { url \"http://repo.maven.apache.org/maven2\" }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\"\n        classpath group: \"io.spring.gradle\", name: \"dependency-management-plugin\", version: \"1.0.6.RELEASE\"\n        classpath 'com.abc.sonar:abc-sonar-gradle-plugin:2.7.1.RELEASE'\n        classpath group: \"org.unbroken-dome.gradle-plugins\", name: \"gradle-testsets-plugin\", version: \"1.4.2\"\n        classpath(\"io.swagger:swagger-codegen:2.3.1\")\n        classpath(\"io.swagger.core.v3:swagger-gradle-plugin:2.0.5\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'maven'\napply plugin: 'maven-publish'\napply plugin: \"io.spring.dependency-management\"\napply plugin: \"org.springframework.boot\"\napply plugin: \"io.swagger.core.v3.swagger-gradle-plugin\"\napply plugin: 'abc-sonar'\napply plugin: \"jacoco\"\napply plugin: \"findbugs\"\napply plugin: \"checkstyle\"\napply plugin: \"pmd\"\n\n\ndef excludeStudentManagementConstants = \"src/main/java/com/abc/student/management/constants/studentManagementConstants.java\"\ndef excludeCaasConstants = \"src/main/java/com/abc/student/management/pcf/constants/CaasConstants.java\"\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nproject.buildDir = 'target'\n\ngroup = 'com.abc.studentmanagement'\nversion = '1.0.0-SNAPSHOT'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nrepositories {\n    mavenLocal()\n    maven { url \"http://repo.maven.apache.org/maven2\" }\n}\n\n\n// PLUGIN CONFIGs\nspringBoot {\n    mainClassName = 'com.abc.student.management.StudentManagementApplication'\n    buildInfo()\n}\n\nbootJar {\n    baseName = 'student-management'\n}\n\n// FIXME - IN FUTURE WE NEED TO MAKE THIS to Zero.\ncheckstyle {\n    maxErrors = 11\n    maxWarnings = 11\n    toolVersion = 8.17\n}\n\n[checkstyleMain, checkstyleTest].each { task -&gt;\n    task.logging.setLevel(LogLevel.LIFECYCLE)\n    // FIXME -  This is to be updated with False.\n    task.ignoreFailures = false\n}\n// ---- PLUGIN CONFIG ENDs\n\n\ndependencyManagement {\n    imports {\n        mavenBom \"org.springframework.boot:spring-boot-dependencies:$springBootVersion\"\n    }\n}\n\ndependencies {\n    // Spring specific dependencies\n    implementation('org.springframework:spring-tx')\n    implementation('org.springframework:spring-core')\n    implementation('org.springframework:spring-context')\n    implementation('org.springframework:spring-beans')\n    implementation('org.springframework:spring-expression')\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-aop'\n    implementation group: 'org.springframework.retry', name: 'spring-retry'\n\n    // Spring data-mongo - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb'\n\n    // Spring cloud\n    // Upgraded springcloud-starter-vault from 2.0.0.RC1 to 2.0.1.RELEASE.\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-vault-config', version: '2.0.1.RELEASE'\n    implementation group: 'io.pivotal.spring.cloud', name: 'spring-cloud-services-starter-config-client', version: '2.0.1.RELEASE'\n    // Upgraded \"spring-cloud-starter-bus-amqp\" following from 2.0.0.RC1 to 2.0.1.RELEASE\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-bus-amqp', version: '2.0.1.RELEASE'\n\n\n    // MongoDB - Dependencies - Remove mongodb eventually in favor of Oracle.\n    implementation group: 'org.mongodb', name: 'mongodb-driver', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'mongodb-driver-core', version: '3.10.1'\n    implementation group: 'org.mongodb', name: 'bson', version: '3.10.1'\n\n    // SWagger dependencies\n    implementation group: 'io.swagger', name: 'swagger-parser', version: '1.0.23'\n    implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'\n    implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'\n    implementation group: 'com.atlassian.oai', name: 'swagger-request-validator-core', version: '1.3.9'\n\n    // Apache - Commons\n    implementation group: 'commons-io', name: 'commons-io', version: '2.6'\n\n    // Oracle dependencies\n//    implementation group: 'com.oracle.jdbc', name: 'ojdbc7', version: '12.1.0'\n\n    // Logback\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'\n    implementation group: 'ch.qos.logback', name: 'logback-core', version: '1.2.3'\n\n    implementation group: 'org.apache.camel', name: 'camel-jsonpath', version: '2.22.0'\n    implementation group: 'com.google.gdata', name: 'core', version: '1.47.1'\n    implementation group: 'com.google.guava', name: 'guava', version: '20.0'\n\n    // Mapper\n    implementation group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4'\n\n    // JSON\n    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: '2.8.10'\n    implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n\n\n    // abc - exception handler\n    implementation(group: 'com.abc.consumer.exception', name: 'exception-handler', version: '1.3.3-SNAPSHOT') {\n        exclude group: 'org.springframework'\n    }\n\n    // AXON - SDK\n    implementation(group: 'com.abc.apie.axon', name: 'axon-sdk', version: '2.0.5') {\n        exclude(module: 'hibernate-validator')\n    }\n\n    // abc Reference Arch - Messaging\n    implementation(group: 'com.abc.refarch', name: 'ref-arch-messaging-base', version: '5.3.2') {\n        exclude module: 'axon-sdk'\n        exclude module: 'hibernate-validator'\n        exclude group: 'org.springframework'\n    }\n\n\n    // Test specific.\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: '2.21.0'\n\n    // abc Reference Arch - Testing\n    testImplementation(group: 'com.abc.refarch', name: 'ref-arch-unit-test-jar', version: '5.3.2') {\n        exclude group: 'org.springframework'\n    }\n    testImplementation(group: 'com.intuit.karate', name: 'karate-apache', version: '0.9.4') {\n        exclude(module: 'logback-classic')\n    }\n    testImplementation group: 'net.masterthought', name: 'cucumber-reporting', version: '3.20.0'\n\n    // Karate Framework\n    testImplementation group: 'com.intuit.karate', name: 'karate-junit4', version: '0.9.4'\n\n    // The version of lombok was actually - 1.16.20 - but had problem with Gradle version 4.9 hence upgraded to 1.18.10.\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.10'\n}\n\next.appName = 'student-management'\next.apiPackage = 'com.abc.student.management.generated.api'\next.modelPackage = 'com.abc.student.management.generated.model'\next.swaggerFile = \"${rootDir}/src/main/resources/StudentManagement.v1.yaml\"\next.swaggerBuildDir = \"${project.buildDir}/${ext.appName}\"\n\n// Actual task for generating the server\ntask generateServer {\n    doLast {\n        def config = new CodegenConfigurator()\n        config.setLang(\"spring\")\n        config.setApiPackage(rootProject.apiPackage)            // Package to be used for the API interfaces\n        config.setModelPackage(rootProject.modelPackage)        // Package to be used for the API models\n        config.setInputSpec(rootProject.swaggerFile.toString()) // The swagger API file\n        config.setOutputDir(rootProject.swaggerBuildDir)\n        // The output directory, user-service-contract/build/user-service-server/\n        config.addSystemProperty(\"models\", \"\");\n        config.addSystemProperty(\"apis\", \"\");\n\n        config.setAdditionalProperties([\n                'dateLibrary'    : 'java8', // Date library to use\n                'useTags'        : 'true',  // Use tags for the naming\n                'delegatePattern': 'true'   // Generating the code with the delegate pattern\n        ])\n        new DefaultGenerator().opts(config.toClientOptInput()).generate() // Executing the generation\n    }\n}\n\nfindbugs {\n    toolVersion = \"3.0.1\"\n    sourceSets = [sourceSets.main]\n    // FIXME - Make this false.\n    ignoreFailures = true\n    effort = \"max\"\n    reportLevel = \"medium\"\n    excludeFilter = file(\"$rootDir/config/findbugs/exclude.xml\")\n}\n\npmd {\n    toolVersion = \"5.6.1\"\n    ignoreFailures = false\n    sourceSets = [sourceSets.main]\n    reportsDir = file(\"${project.buildDir}/reports/pmdTest\")\n    ruleSets = [\n            'java-basic'\n    ]\n}\n\ntasks.withType(FindBugs) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\ntasks.withType(Pmd) {\n    reports {\n        xml.enabled = false\n        html.enabled = true\n    }\n}\n\nsonarqube {\n    properties {\n        property \"sonar.projectName\", \"student-management\"\n        property \"sonar.projectKey\", \"student-management\"\n        property \"sonar.jacoco.reportPath\", \"build/jacoco/test.exec\"\n        property \"sonar.junit.reportPaths\", \"build/test-results/test\"\n        property \"sonar.host.url\", \"https://fusion.abc.int/sonar\"\n        property \"sonar.gateId\", \"307\"\n        property \"sonar.projectDescription\", \"student management microservice.\"\n        property \"sonar.skip.qualityGate\", \"false\"\n        property \"sonar.exclusions\", [excludeStudentManagementConstants, excludeCaasConstants]\n    }\n}\n</code></pre>\n\n<p>P.S- I tried project.buildDir but that changed the <code>build</code> to <code>target</code>, the jar is still generated inside the target/lib directory.</p>\n"},{"tags":["java","rest","testing","mocking"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667050247,"post_id":74245330,"comment_id":131081338,"body_markdown":"It looks like the call to `userRepository.findById` isn&#39;t mocked.","body":"It looks like the call to <code>userRepository.findById</code> isn&#39;t mocked."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667051008,"post_id":74245330,"comment_id":131081522,"body_markdown":"Thanks for your answer! But I mock userRepository with @Mock annotation.","body":"Thanks for your answer! But I mock userRepository with @Mock annotation."},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667069000,"post_id":74245330,"comment_id":131085351,"body_markdown":"when(roleRepository.findById(any()))\nwhy is it called roleRepository if you return an instance of user?","body":"when(roleRepository.findById(any())) why is it called roleRepository if you return an instance of user?"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667069458,"post_id":74245330,"comment_id":131085428,"body_markdown":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix","body":"Yeah, you are right, I mistakenly put &quot;new UserDTO&quot; in instead of new RoleEntity but it hasn&#39;t solved the problem after the fix"}],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667121956,"post_id":74250117,"comment_id":131091978,"body_markdown":"Thanks a lot for your answer! I&#39;ve tried previously to stub this method, but it cannot be resolved like &quot;when(userRepository.findById(12)).thenReturn(Optional.of(userDto));&quot; because of Optional.of(userDto)","body":"Thanks a lot for your answer! I&#39;ve tried previously to stub this method, but it cannot be resolved like &quot;when(userRepository.findById(12)).thenReturn(Optional.of(us&zwnj;&#8203;erDto));&quot; because of Optional.of(userDto)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667124422,"post_id":74250117,"comment_id":131092382,"body_markdown":"Sorry, @Jack, my mistake. That should have read `Optional.of(userEntity)`. I&#39;ve updated the answer now.","body":"Sorry, @Jack, my mistake. That should have read <code>Optional.of(userEntity)</code>. I&#39;ve updated the answer now."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667124545,"post_id":74250117,"comment_id":131092394,"body_markdown":"Although, now that I read more carefully, it seems that you would want to be updating the fields of `databaseUser` from `updatedUser` rather than creating the new `UserEntity entity` instance.","body":"Although, now that I read more carefully, it seems that you would want to be updating the fields of <code>databaseUser</code> from <code>updatedUser</code> rather than creating the new <code>UserEntity entity</code> instance."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1667125852,"post_id":74250117,"comment_id":131092620,"body_markdown":"Thanks! So, should I add to my test databaseUser to make it works?","body":"Thanks! So, should I add to my test databaseUser to make it works?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667127507,"post_id":74250117,"comment_id":131092873,"body_markdown":"If you want it to skip over the `if` block in `updateUser`, then `userRepository.findById` needs to return a non-empty `Optional`. It&#39;s as simple as that!","body":"If you want it to skip over the <code>if</code> block in <code>updateUser</code>, then <code>userRepository.findById</code> needs to return a non-empty <code>Optional</code>. It&#39;s as simple as that!"}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667124400,"creation_date":1667096811,"answer_id":74250117,"question_id":74245330,"body_markdown":"The `updateUser` method calls `userRepository.findById(Integer.valueOf(updatedUser.getUserName()))`.\r\n\r\nThe test does not stub this method, so the `userRepository` mock object will use the default answer behaviour to return a value. The example code does not show how the `userRepository` mock is created, but if the default answer is not customised, it will use [`RETURNS_DEFAULTS`](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS) and return an empty `Optional` by default for methods returning `Optional`.\r\n\r\nTo make it return `userDto` instead, you should stub the method before calling `userService.updateUser` in the test:\r\n\r\n    when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\r\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n\r\n    userService.updateUser(String.valueOf(id), userDto);\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>The <code>updateUser</code> method calls <code>userRepository.findById(Integer.valueOf(updatedUser.getUserName()))</code>.</p>\n<p>The test does not stub this method, so the <code>userRepository</code> mock object will use the default answer behaviour to return a value. The example code does not show how the <code>userRepository</code> mock is created, but if the default answer is not customised, it will use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#RETURNS_DEFAULTS\" rel=\"nofollow noreferrer\"><code>RETURNS_DEFAULTS</code></a> and return an empty <code>Optional</code> by default for methods returning <code>Optional</code>.</p>\n<p>To make it return <code>userDto</code> instead, you should stub the method before calling <code>userService.updateUser</code> in the test:</p>\n<pre><code>when(userRepository.findById(12)).thenReturn(Optional.of(userEntity));\nwhen(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\nuserService.updateUser(String.valueOf(id), userDto);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74250117,"answer_count":1,"score":-1,"last_activity_date":1667124400,"creation_date":1667047033,"question_id":74245330,"body_markdown":"I&#39;ve written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn&#39;t work. \r\nI&#39;ve tried to add optional but it didn&#39;t work too.\r\nCould you give me a little piece of advice please? What should I fix in my test?\r\n**My testing method looks like:**\r\n\r\n    @Override\r\n    public UserDTO updateUser(String id, UserDTO updatedUser) {\r\n        Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\r\n        if (databaseUser.isEmpty()) {\r\n            throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\r\n        }\r\n        UserEntity entity = mapToUserEntity(updatedUser);\r\n        return map(userRepository.save(entity));\r\n    }\r\n\r\n**My test looks like:**\r\n\r\n    @Test\r\n    void updateUserTest(){\r\n        final int id = 1;\r\n        final long roleId = 2L;\r\n    \r\n        UserDTO userDto = new UserDTO();\r\n    \r\n        userDto.setUserName(String.valueOf(12));\r\n        userDto.setId(String.valueOf(id));\r\n        userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\r\n        userDto.setActive(true);\r\n        userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\r\n        userDto.setRoles(List.of(&quot;2&quot;));\r\n        userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\r\n        userDto.setUnit(null);\r\n    \r\n        when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\r\n        UserEntity userEntity = userService.mapToUserEntity(userDto);\r\n    \r\n        when(userRepository.save(any())).thenReturn(userEntity.setId(id));\r\n    \r\n        userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        var actualUser = userService.updateUser(String.valueOf(id), userDto);\r\n    \r\n        userDto.setUserName(String.valueOf(id));\r\n        assertEquals(actualUser, userDto);\r\n    }\r\n","title":"Mock test always stops at isEmpty checking and throw an exception","body":"<p>I've written test for update method in service layer and it always throws an exception &quot;User with the this id is not found&quot; and didn't work.\nI've tried to add optional but it didn't work too.\nCould you give me a little piece of advice please? What should I fix in my test?\n<strong>My testing method looks like:</strong></p>\n<pre><code>@Override\npublic UserDTO updateUser(String id, UserDTO updatedUser) {\n    Optional&lt;UserEntity&gt; databaseUser = userRepository.findById(Integer.valueOf(updatedUser.getUserName()));\n    if (databaseUser.isEmpty()) {\n        throw new UserNotFoundException(&quot;User with the this id is not found&quot;);\n    }\n    UserEntity entity = mapToUserEntity(updatedUser);\n    return map(userRepository.save(entity));\n}\n</code></pre>\n<p><strong>My test looks like:</strong></p>\n<pre><code>@Test\nvoid updateUserTest(){\n    final int id = 1;\n    final long roleId = 2L;\n\n    UserDTO userDto = new UserDTO();\n\n    userDto.setUserName(String.valueOf(12));\n    userDto.setId(String.valueOf(id));\n    userDto.setName(new UserDTO.Name(&quot;surname&quot;, &quot;firstname&quot;, &quot;patronymic&quot;));\n    userDto.setActive(true);\n    userDto.setEmails(List.of(new UserDTO.Email(&quot;email&quot;, &quot;external&quot;)));\n    userDto.setRoles(List.of(&quot;2&quot;));\n    userDto.setLastAccessDate(LocalDateTime.of(2022, 10, 25, 4, 20));\n    userDto.setUnit(null);\n\n    when(roleRepository.findById(any())).thenReturn(Optional.of(new UserDTO().setId(roleId)));\n    UserEntity userEntity = userService.mapToUserEntity(userDto);\n\n    when(userRepository.save(any())).thenReturn(userEntity.setId(id));\n\n    userService.updateUser(String.valueOf(id), userDto);\n\n    var actualUser = userService.updateUser(String.valueOf(id), userDto);\n\n    userDto.setUserName(String.valueOf(id));\n    assertEquals(actualUser, userDto);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1667125776,"post_id":74252109,"comment_id":131092604,"body_markdown":"Have you tried logging `onCancelled` error message?","body":"Have you tried logging <code>onCancelled</code> error message?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1667127809,"post_id":74252109,"comment_id":131092917,"body_markdown":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)","body":"no, how is it done?  just in toast + message? I&#39;m just starting out, so I don&#39;t really understand)"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667124176,"creation_date":1667124176,"question_id":74252109,"body_markdown":" I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code\r\n\r\n\r\nactivity with receive method\r\n```\r\nprivate void getUsermenwomInfo()\r\n{\r\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\r\n            .child(&quot;Userwoman_men&quot;);\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\r\n            {\r\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\r\n                nameusercard.setText(name);\r\n                if (snapshot.hasChild(&quot;image&quot;)) {\r\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                    Picasso.get().load(image).into(imageosnovnoe);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n}\r\n}\r\n```\r\nxml with shapeableimageview\r\n```\r\nLinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_gravity=&quot;center&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        android:layout_margin=&quot;15dp&quot;\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearmain&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;400dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                android:id=&quot;@+id/imageosnovnoe&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;400dp&quot;\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n\r\n                 /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearhori&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;100dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:weightSum=&quot;3&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/like&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/sas&quot;\r\n\r\n\r\n\r\n                    /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/disslike&quot;\r\n                    android:layout_width=&quot;90dp&quot;\r\n                    android:layout_height=&quot;90dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:src=&quot;@drawable/aan&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nher adapter java class\r\n```\r\npublic class SwipeAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n    private List&lt;Integer&gt; list;\r\n\r\n\r\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\r\n        this.context=context;\r\n        this.list=list;\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 20;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int i) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int i) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int i, View convertView, ViewGroup parent) {\r\n     View view;\r\n     if(convertView==null)\r\n     {\r\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\r\n\r\n     }else {\r\n         view=convertView;\r\n     }\r\n     return view;\r\n    }\r\n   \r\n}\r\n```\r\nhow to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help","title":"method of receiving data from firebase is not working","body":"<p>I am using the SwipeCard library and the shapeableimageview is stored in a separate xml file that is connected to the main layout activity xml.  there is also an adapter for this SwipeCard.  data is not received although there are no errors in the code</p>\n<p>activity with receive method</p>\n<pre><code>private void getUsermenwomInfo()\n{\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Userwoman_men&quot;);\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\n            {\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\n                nameusercard.setText(name);\n                if (snapshot.hasChild(&quot;image&quot;)) {\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\n                    Picasso.get().load(image).into(imageosnovnoe);\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>xml with shapeableimageview</p>\n<pre><code>LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:gravity=&quot;center&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;500dp&quot;\n        android:layout_margin=&quot;15dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearmain&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;400dp&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n                android:id=&quot;@+id/imageosnovnoe&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;400dp&quot;\n                android:backgroundTint=&quot;@color/white&quot;\n                android:scaleType=&quot;fitXY&quot;\n\n                 /&gt;\n        &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/linearhori&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;100dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:weightSum=&quot;3&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/like&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/sas&quot;\n\n\n\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/disslike&quot;\n                    android:layout_width=&quot;90dp&quot;\n                    android:layout_height=&quot;90dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:src=&quot;@drawable/aan&quot;\n\n                    /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>her adapter java class</p>\n<pre><code>public class SwipeAdapter extends BaseAdapter {\n\n    private Context context;\n    private List&lt;Integer&gt; list;\n\n\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\n        this.context=context;\n        this.list=list;\n\n    }\n\n    @Override\n    public int getCount() {\n        return 20;\n    }\n\n    @Override\n    public Object getItem(int i) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int i) {\n        return 0;\n    }\n\n    @Override\n    public View getView(int i, View convertView, ViewGroup parent) {\n     View view;\n     if(convertView==null)\n     {\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\n\n     }else {\n         view=convertView;\n     }\n     return view;\n    }\n   \n}\n</code></pre>\n<p>how to change my code or write a new one so that image and textview data is taken from firebase and inserted into shapeableimageview and textview from this separate xml?  and is it correct that I wrote the method inside the main activity and not in the adapter?  Thanks in advance for your help</p>\n"},{"tags":["java","inheritance","casting"],"comments":[{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":3,"creation_date":1298398680,"post_id":5082044,"comment_id":5693589,"body_markdown":"the answer you have here: http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java","body":"the answer you have here: <a href=\"http://stackoverflow.com/questions/662508/how-can-i-cast-a-list-using-generics-in-java\" title=\"how can i cast a list using generics in java\">stackoverflow.com/questions/662508/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1298404591,"post_id":5082088,"comment_id":5695080,"body_markdown":"Should note that with Arrays, instead of ClassCastException when retrieving an object that is not of type SubClass (or derived), you will get an ArrayStoreException when inserting.","body":"Should note that with Arrays, instead of ClassCastException when retrieving an object that is not of type SubClass (or derived), you will get an ArrayStoreException when inserting."},{"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"score":0,"creation_date":1298405110,"post_id":5082088,"comment_id":5695193,"body_markdown":"Thanks especially for the explanation of why the two lists cannot be considered the same.","body":"Thanks especially for the explanation of why the two lists cannot be considered the same."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1457450924,"post_id":5082088,"comment_id":59406659,"body_markdown":"The Java type system pretends that arrays are covariant, but they aren&#39;t really substitutable, proven by the ArrayStoreException.","body":"The Java type system pretends that arrays are covariant, but they aren&#39;t really substitutable, proven by the ArrayStoreException."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":0,"up_vote_count":204,"is_accepted":true,"score":204,"last_activity_date":1298398813,"creation_date":1298398342,"answer_id":5082088,"question_id":5082044,"body_markdown":"The syntax for this sort of assignment uses a wildcard:\r\n\r\n    List&lt;SubClass&gt; subs = ...;\r\n    List&lt;? extends BaseClass&gt; bases = subs;\r\n\r\nIt&#39;s important to realize that a `List&lt;SubClass&gt;` is **not** interchangeable with a `List&lt;BaseClass&gt;`. Code that retains a reference to the `List&lt;SubClass&gt;` will expect every item in the list to be a `SubClass`. If another part of code referred to the list as a `List&lt;BaseClass&gt;`, the compiler will not complain when a `BaseClass` or `AnotherSubClass` is inserted. But this will cause a `ClassCastException` for the first piece of code, which assumes that everything in the list is a `SubClass`.\r\n\r\nGeneric collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:\r\n\r\n    SubClass[] subs = ...;\r\n    BaseClass[] bases = subs;\r\n\r\nThis is allowed, because the array &quot;knows&quot; the type of its elements. If someone attempts to store something that isn&#39;t an instance of `SubClass` in the array (via the `bases` reference), a runtime exception will be thrown. \r\n\r\nGeneric collections do *not* &quot;know&quot; their component type; this information is &quot;erased&quot; at compile time. Therefore, they can&#39;t raise a runtime exception when an invalid store occurs. Instead, a `ClassCastException` will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The syntax for this sort of assignment uses a wildcard:</p>\n\n<pre><code>List&lt;SubClass&gt; subs = ...;\nList&lt;? extends BaseClass&gt; bases = subs;\n</code></pre>\n\n<p>It's important to realize that a <code>List&lt;SubClass&gt;</code> is <strong>not</strong> interchangeable with a <code>List&lt;BaseClass&gt;</code>. Code that retains a reference to the <code>List&lt;SubClass&gt;</code> will expect every item in the list to be a <code>SubClass</code>. If another part of code referred to the list as a <code>List&lt;BaseClass&gt;</code>, the compiler will not complain when a <code>BaseClass</code> or <code>AnotherSubClass</code> is inserted. But this will cause a <code>ClassCastException</code> for the first piece of code, which assumes that everything in the list is a <code>SubClass</code>.</p>\n\n<p>Generic collections do not behave the same as arrays in Java. Arrays are covariant; that is, it is allowed to do this:</p>\n\n<pre><code>SubClass[] subs = ...;\nBaseClass[] bases = subs;\n</code></pre>\n\n<p>This is allowed, because the array \"knows\" the type of its elements. If someone attempts to store something that isn't an instance of <code>SubClass</code> in the array (via the <code>bases</code> reference), a runtime exception will be thrown. </p>\n\n<p>Generic collections do <em>not</em> \"know\" their component type; this information is \"erased\" at compile time. Therefore, they can't raise a runtime exception when an invalid store occurs. Instead, a <code>ClassCastException</code> will be raised at some far distant, hard-to-associate point in code when a value is read from the collection. If you heed compiler warnings about type safety, you will avoid these type errors at runtime.</p>\n"},{"tags":[],"owner":{"account_id":207873,"reputation":1751,"user_id":458014,"accept_rate":83,"display_name":"hd42"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1298400335,"creation_date":1298400335,"answer_id":5082437,"question_id":5082044,"body_markdown":"As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\r\n\r\nI would not recommend this if you don&#39;t know what happens to the List&lt;BaseClass&gt; and would suggest you change whatever code needs the List&lt;BaseClass&gt; to accept the List you have.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>As @erickson explained, if you really want a reference to the original list, make sure no code inserts anything to that list if you ever want to use it again under its original declaration. The simplest way to get it is to just cast it to a plain old ungeneric list:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List)new ArrayList&lt;SubClass&gt;();\n</code></pre>\n\n<p>I would not recommend this if you don't know what happens to the List and would suggest you change whatever code needs the List to accept the List you have.</p>\n"},{"comments":[{"owner":{"account_id":8265071,"reputation":155,"user_id":6214933,"display_name":"Long"},"score":0,"creation_date":1623573634,"post_id":5083949,"comment_id":120113043,"body_markdown":"PS: add(null) is legal","body":"PS: add(null) is legal"}],"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1298408701,"creation_date":1298408701,"answer_id":5083949,"question_id":5082044,"body_markdown":"erickson already explained why you can&#39;t do this, but here some solutions:\r\n\r\nIf you only want to take elements out of your base list, in principle your receiving method should be declared as taking a `List&lt;? extends BaseClass&gt;`.\r\n\r\nBut if it isn&#39;t and you can&#39;t change it, you can wrap the list with `Collections.unmodifiableList(...)`, which allows returning a List of a supertype of the argument&#39;s parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>erickson already explained why you can't do this, but here some solutions:</p>\n\n<p>If you only want to take elements out of your base list, in principle your receiving method should be declared as taking a <code>List&lt;? extends BaseClass&gt;</code>.</p>\n\n<p>But if it isn't and you can't change it, you can wrap the list with <code>Collections.unmodifiableList(...)</code>, which allows returning a List of a supertype of the argument's parameter. (It avoids the typesafety problem by throwing UnsupportedOperationException on insertion tries.)</p>\n"},{"tags":[],"owner":{"account_id":235159,"reputation":276,"user_id":501789,"display_name":"olivervbk"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1427324772,"creation_date":1427324772,"answer_id":29268187,"question_id":5082044,"body_markdown":"Something like this should work too:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\r\n\t\tfinal List&lt; ? extends T&gt; originalList,\r\n\t\tfinal Class&lt;T&gt; clazz )\r\n\t{\r\n\t\tfinal List&lt;T&gt; newList = new ArrayList&lt;&gt;();\r\n\t\tfor ( final T item : originalList )\r\n\t\t{\r\n\t\t\tnewList.add( item );\r\n\t\t}// for\r\n\t\treturn newList;\r\n\t}\r\nDon&#39;t really know why clazz is needed in Eclipse..","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Something like this should work too:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; convertListWithExtendableClasses(\n    final List&lt; ? extends T&gt; originalList,\n    final Class&lt;T&gt; clazz )\n{\n    final List&lt;T&gt; newList = new ArrayList&lt;&gt;();\n    for ( final T item : originalList )\n    {\n        newList.add( item );\n    }// for\n    return newList;\n}\n</code></pre>\n\n<p>Don't really know why clazz is needed in Eclipse..</p>\n"},{"comments":[{"owner":{"account_id":178619,"reputation":2831,"user_id":410713,"display_name":"marc.guenther"},"score":0,"creation_date":1665698762,"post_id":43263131,"comment_id":130766190,"body_markdown":"Shouldn&#39;t this be called `upCastList()`? After all, you are casting from a sub class to a super class?\nOtherwise, this is super helpful. I added this as an extension method (using Lombok) to `List`, so now I can simply `superList = subList.upCast();`","body":"Shouldn&#39;t this be called <code>upCastList()</code>? After all, you are casting from a sub class to a super class? Otherwise, this is super helpful. I added this as an extension method (using Lombok) to <code>List</code>, so now I can simply <code>superList = subList.upCast();</code>"}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665740087,"creation_date":1491503420,"answer_id":43263131,"question_id":5082044,"body_markdown":"What you are trying to do is very useful and I find that I need to do it very often in code that I write.\r\n\r\nMost java programmers would not think twice before implementing `getConvertedList()` by allocating a new `ArrayList&lt;&gt;()`, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of `ArrayList`s which are garbage-collected microseconds after their creation.\r\n\r\nThe solution to this problem is, of course, down-casting the collection. Here is how to do it:\r\n\r\n\tstatic &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\r\n\t{\r\n\t\t@SuppressWarnings( &quot;unchecked&quot; )\r\n\t\tList&lt;T&gt; result = (List&lt;T&gt;)list;\r\n\t\treturn result;\r\n\t}\r\n\r\nThe intermediate `result` variable is necessary due to a perversion of the java language: \r\n\r\n* `return (List&lt;T&gt;)list;` would produce an &quot;unchecked cast&quot; warning;\r\n\r\n* in order to suppress the warning, you need a `@SuppressWarnings( &quot;unchecked&quot; )` annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.\r\n\r\n* in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.\r\n\r\n* luckily, one such annotatable entity is a local variable declaration.\r\n\r\n* therefore, we have to declare a new local variable to use the `@SuppressWarnings` annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)\r\n\r\nNote: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: https://stackoverflow.com/a/72195980/773113\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>What you are trying to do is very useful and I find that I need to do it very often in code that I write.</p>\n<p>Most java programmers would not think twice before implementing <code>getConvertedList()</code> by allocating a new <code>ArrayList&lt;&gt;()</code>, populating it with all the elements from the original list, and returning it.  I enjoy entertaining the thought that about 30% of all clock cycles consumed by java code running on millions of machines all over the planet is doing nothing but creating such useless copies of <code>ArrayList</code>s which are garbage-collected microseconds after their creation.</p>\n<p>The solution to this problem is, of course, down-casting the collection. Here is how to do it:</p>\n<pre><code>static &lt;T,U extends T&gt; List&lt;T&gt; downCastList( List&lt;U&gt; list )\n{\n    @SuppressWarnings( &quot;unchecked&quot; )\n    List&lt;T&gt; result = (List&lt;T&gt;)list;\n    return result;\n}\n</code></pre>\n<p>The intermediate <code>result</code> variable is necessary due to a perversion of the java language:</p>\n<ul>\n<li><p><code>return (List&lt;T&gt;)list;</code> would produce an &quot;unchecked cast&quot; warning;</p>\n</li>\n<li><p>in order to suppress the warning, you need a <code>@SuppressWarnings( &quot;unchecked&quot; )</code> annotation, and good programming practices mandate that it must be placed in the smallest possible scope, which is the individual statement, not the method.</p>\n</li>\n<li><p>in java an annotation cannot be placed on just any line of code; it must be placed on some entity, like a class, a field, a method, etc.</p>\n</li>\n<li><p>luckily, one such annotatable entity is a local variable declaration.</p>\n</li>\n<li><p>therefore, we have to declare a new local variable to use the <code>@SuppressWarnings</code> annotation on it, and then return the value of that variable. (It should not matter anyway, because it should be optimized away by the JIT.)</p>\n</li>\n</ul>\n<p>Note: this answer was just upvoted, which is cool, but if you are reading this, please be sure to also read the second, more recent answer of mine to this same question: <a href=\"https://stackoverflow.com/a/72195980/773113\">https://stackoverflow.com/a/72195980/773113</a></p>\n"},{"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":1,"creation_date":1500465852,"post_id":45183177,"comment_id":77347019,"body_markdown":"Thank you for this code snippet, which may provide some immediate help.  A proper explanation [would greatly improve](//meta.stackexchange.com/q/114762) its educational value by showing *why* this is a good solution to the problem, and would make it more useful to future readers with similar, but not identical, questions.  Please [edit] your answer to add explanation, and give an indication of what limitations and assumptions apply.  In particular, how does this differ from the code in the question that makes a new list?","body":"Thank you for this code snippet, which may provide some immediate help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its educational value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with similar, but not identical, questions.  Please <a href=\"https://stackoverflow.com/posts/45183177/edit\">edit</a> your answer to add explanation, and give an indication of what limitations and assumptions apply.  In particular, how does this differ from the code in the question that makes a new list?"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1582397067,"post_id":45183177,"comment_id":106766492,"body_markdown":"The overhead is not insignifcant, as it also has to (shallow) copy every reference.  As such it scales with the size of the list, so it is an O(n) operation.","body":"The overhead is not insignifcant, as it also has to (shallow) copy every reference.  As such it scales with the size of the list, so it is an O(n) operation."}],"tags":[],"owner":{"account_id":1304399,"reputation":329,"user_id":1253663,"display_name":"sigirisetti"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500474187,"creation_date":1500447834,"answer_id":45183177,"question_id":5082044,"body_markdown":"Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. \r\n\r\nI saw other answers are un-necessarily complicated.\r\n\r\n    List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>Below is a useful snippet that works. It constructs a new array list but JVM object creation over head is in-significant. </p>\n\n<p>I saw other answers are un-necessarily complicated.</p>\n\n<pre><code>List&lt;BaseClass&gt; baselist = new ArrayList&lt;&gt;(sublist);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"score":0,"creation_date":1536178096,"post_id":50553783,"comment_id":91335141,"body_markdown":"This is the complete piece of code that works to cast sub class list to super class.","body":"This is the complete piece of code that works to cast sub class list to super class."},{"owner":{"account_id":4611941,"reputation":2248,"user_id":3739756,"display_name":"giulp"},"score":1,"creation_date":1628160183,"post_id":50553783,"comment_id":121349123,"body_markdown":"wouldn&#39;t be necessary to call `.stream()` on the list before calling `.map()` ?","body":"wouldn&#39;t be necessary to call <code>.stream()</code> on the list before calling <code>.map()</code> ?"},{"owner":{"account_id":519380,"reputation":388,"user_id":1256928,"display_name":"drordk"},"score":0,"creation_date":1628516813,"post_id":50553783,"comment_id":121434801,"body_markdown":"Yes giulp. Fixed (added stream()).","body":"Yes giulp. Fixed (added stream())."}],"tags":[],"owner":{"account_id":519380,"reputation":388,"user_id":1256928,"display_name":"drordk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628516765,"creation_date":1527435543,"answer_id":50553783,"question_id":5082044,"body_markdown":"How about casting all elements. It will create a new list, but will reference the original objects from the old list.\r\n\r\n    List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\r\n","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>How about casting all elements. It will create a new list, but will reference the original objects from the old list.</p>\n<pre><code>List&lt;BaseClass&gt; convertedList = listOfSubClass.stream().map(x -&gt; (BaseClass)x).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536178525,"creation_date":1536178525,"answer_id":52192809,"question_id":5082044,"body_markdown":"This is the complete working piece of code using Generics, to cast sub class list to super class.\r\n\r\nCaller method that passes subclass type\r\n\r\n    List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \r\n    getElementDefinitionStatuses(subClassParam);\r\n\r\nCallee method that accepts any subtype of the base class\r\n\r\n    private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \r\n        BaseClass&gt; baseClassVariableName) {\r\n         return allElementStatuses;\r\n        }\r\n    }","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>This is the complete working piece of code using Generics, to cast sub class list to super class.</p>\n\n<p>Caller method that passes subclass type</p>\n\n<pre><code>List&lt;SubClass&gt; subClassParam = new ArrayList&lt;&gt;();    \ngetElementDefinitionStatuses(subClassParam);\n</code></pre>\n\n<p>Callee method that accepts any subtype of the base class</p>\n\n<pre><code>private static List&lt;String&gt; getElementDefinitionStatuses(List&lt;? extends \n    BaseClass&gt; baseClassVariableName) {\n     return allElementStatuses;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582397434,"creation_date":1582397434,"answer_id":60355596,"question_id":5082044,"body_markdown":"I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:\r\n\r\n    List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\r\n\r\nNothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the `subList` starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I missed the answer where you just cast the original list, using a double cast.  So here it is for completeness:</p>\n\n<pre><code>List&lt;BaseClass&gt; baseList = (List&lt;BaseClass&gt;)(List&lt;?&gt;)subList;\n</code></pre>\n\n<p>Nothing is copied, and the operation is fast.  However, you are tricking the compiler here so you must make absolutely sure to not modify the list in such a way that the <code>subList</code> starts containing items of a different sub type.  When dealing with immutable lists this is usually not an issue.</p>\n"},{"comments":[{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":1,"creation_date":1659612077,"post_id":72195980,"comment_id":129338479,"body_markdown":"Nice description, why someone cannot cast ArrayList&lt;S&gt; to ArrayList&lt;D&gt;, but List.of() can be casted.","body":"Nice description, why someone cannot cast ArrayList&lt;S&gt; to ArrayList&lt;D&gt;, but List.of() can be casted."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1667125397,"post_id":72195980,"comment_id":131092538,"body_markdown":"A similar thing applies to [`Collections.unmodifiableList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableList%28java.util.List%29), for similar reasons.","body":"A similar thing applies to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableList()</code></a>, for similar reasons."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1667123699,"creation_date":1652248077,"answer_id":72195980,"question_id":5082044,"body_markdown":"The most efficient and at the same time ***safe*** way of accomplishing this is as follows:\r\n\r\n    List&lt;S&gt; supers = List.copyOf( descendants );\r\n\r\nThe documentation of this function is here: [oracle.com - Java SE 19 docs - List.copyOf()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection))  The documentation states that this function exists &quot;Since: 10&quot;.\r\n\r\nThe use of this function has the following advantages:\r\n\r\n- It is a neat one-liner.\r\n- It produces no warnings.\r\n- It does not require any typecast.\r\n- It does not require the cumbersome `List&lt;? extends S&gt;` construct.\r\n- It does **not necessarily** make a copy !!!\r\n- Most importantly: **it does the right thing.** (It is safe.)\r\n\r\n### Why is this the right thing?\r\n\r\nIf you look at the source code of `List.copyOf()` you will see that it works as follows:\r\n - If your list was created with `List.of()`, then it will do the cast and return it without copying it.\r\n - Otherwise, (e.g. if your list is an `ArrayList()`,) it will create a copy and return it.\r\n\r\nIf your original `List&lt;D&gt;` is an `ArrayList&lt;D&gt;`, then in order to obtain a `List&lt;S&gt;`, a copy of the `ArrayList` **must be made**. If a cast was made instead, it would be opening up the possibility of inadvertently adding an `S` into that `List&lt;S&gt;`, causing your original `ArrayList&lt;D&gt;` to contain an `S` among the `D`s, which is a disastrous situation known as ***Heap Pollution*** ([Wikipedia](https://en.wikipedia.org/wiki/Heap_pollution)): attempting to iterate all the `D`s in the original `ArrayList&lt;D&gt;` would throw a `ClassCastException`.\r\n\r\nOn the other hand, if your original `List&lt;D&gt;` has been created using `List.of()`, then it is unchangeable&lt;sup&gt;(*1)&lt;/sup&gt;, so it is okay to simply cast it to `List&lt;S&gt;`, because nobody can actually add an `S` among the `D`s.\r\n\r\n`List.copyOf()` takes care of this decision logic for you.\r\n\r\n------------------\r\n&lt;sup&gt;(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable ***to you*** view of ***my*** list which I am still free to mutate as I please, and ***the mutations will be very visible to you***&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.&lt;/sup&gt;","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>The most efficient and at the same time <em><strong>safe</strong></em> way of accomplishing this is as follows:</p>\n<pre><code>List&lt;S&gt; supers = List.copyOf( descendants );\n</code></pre>\n<p>The documentation of this function is here: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\">oracle.com - Java SE 19 docs - List.copyOf()</a>  The documentation states that this function exists &quot;Since: 10&quot;.</p>\n<p>The use of this function has the following advantages:</p>\n<ul>\n<li>It is a neat one-liner.</li>\n<li>It produces no warnings.</li>\n<li>It does not require any typecast.</li>\n<li>It does not require the cumbersome <code>List&lt;? extends S&gt;</code> construct.</li>\n<li>It does <strong>not necessarily</strong> make a copy !!!</li>\n<li>Most importantly: <strong>it does the right thing.</strong> (It is safe.)</li>\n</ul>\n<h3>Why is this the right thing?</h3>\n<p>If you look at the source code of <code>List.copyOf()</code> you will see that it works as follows:</p>\n<ul>\n<li>If your list was created with <code>List.of()</code>, then it will do the cast and return it without copying it.</li>\n<li>Otherwise, (e.g. if your list is an <code>ArrayList()</code>,) it will create a copy and return it.</li>\n</ul>\n<p>If your original <code>List&lt;D&gt;</code> is an <code>ArrayList&lt;D&gt;</code>, then in order to obtain a <code>List&lt;S&gt;</code>, a copy of the <code>ArrayList</code> <strong>must be made</strong>. If a cast was made instead, it would be opening up the possibility of inadvertently adding an <code>S</code> into that <code>List&lt;S&gt;</code>, causing your original <code>ArrayList&lt;D&gt;</code> to contain an <code>S</code> among the <code>D</code>s, which is a disastrous situation known as <em><strong>Heap Pollution</strong></em> (<a href=\"https://en.wikipedia.org/wiki/Heap_pollution\" rel=\"noreferrer\">Wikipedia</a>): attempting to iterate all the <code>D</code>s in the original <code>ArrayList&lt;D&gt;</code> would throw a <code>ClassCastException</code>.</p>\n<p>On the other hand, if your original <code>List&lt;D&gt;</code> has been created using <code>List.of()</code>, then it is unchangeable<sup>(*1)</sup>, so it is okay to simply cast it to <code>List&lt;S&gt;</code>, because nobody can actually add an <code>S</code> among the <code>D</code>s.</p>\n<p><code>List.copyOf()</code> takes care of this decision logic for you.</p>\n<hr />\n<p><sup>(*1) when these lists were first introduced they were called &quot;immutable&quot;; later  they realized that it is wrong to call them immutable, because a collection cannot be immutable, since it cannot vouch for the immutability of the elements that it contains; so they changed the documentation to call them &quot;unmodifiable&quot; instead; however, &quot;unmodifiable&quot; already had a meaning before these lists were introduced, and it meant &quot;an unmodifiable <em><strong>to you</strong></em> view of <em><strong>my</strong></em> list which I am still free to mutate as I please, and <em><strong>the mutations will be very visible to you</strong></em>&quot;. So, neither immutable or unmodifiable is correct. I like to call them &quot;superficially immutable&quot; in the sense that they are not deeply immutable, but that may ruffle some feathers, so I just called them &quot;unchangeable&quot; as a compromise.</sup></p>\n"}],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93430,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"accepted_answer_id":5082088,"answer_count":10,"score":161,"last_activity_date":1667123699,"creation_date":1298398098,"question_id":5082044,"body_markdown":"I have a `List&lt;SubClass&gt;` that I want to treat as a `List&lt;BaseClass&gt;`.  It seems like it shouldn&#39;t be a problem since casting a `SubClass` to a `BaseClass` is a snap, but my compiler complains that the cast is impossible.\r\n\r\nSo, what&#39;s the best way to get a reference to the same objects as a `List&lt;BaseClass&gt;`?\r\n\r\nRight now I&#39;m just making a new list and copying the old list:\r\n\r\n    List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\r\n\r\nBut as I understand it that has to create an entirely new list.  I&#39;d like a reference to the original list, if possible!","title":"Most efficient way to cast List&lt;SubClass&gt; to List&lt;BaseClass&gt;","body":"<p>I have a <code>List&lt;SubClass&gt;</code> that I want to treat as a <code>List&lt;BaseClass&gt;</code>.  It seems like it shouldn't be a problem since casting a <code>SubClass</code> to a <code>BaseClass</code> is a snap, but my compiler complains that the cast is impossible.</p>\n\n<p>So, what's the best way to get a reference to the same objects as a <code>List&lt;BaseClass&gt;</code>?</p>\n\n<p>Right now I'm just making a new list and copying the old list:</p>\n\n<pre><code>List&lt;BaseClass&gt; convertedList = new ArrayList&lt;BaseClass&gt;(listOfSubClass)\n</code></pre>\n\n<p>But as I understand it that has to create an entirely new list.  I'd like a reference to the original list, if possible!</p>\n"},{"tags":["java","3d","libgdx"],"answers":[{"tags":[],"owner":{"account_id":2874615,"reputation":1084,"user_id":2972145,"display_name":"Deniz Yılmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1471079598,"creation_date":1471079598,"answer_id":38931166,"question_id":38928229,"body_markdown":"Model Builder works well for me. \r\n\r\n\r\n    ModelBuilder modelBuilder = new ModelBuilder();\r\n    modelBuilder.begin();\r\n    MeshPartBuilder builder = modelBuilder.part(&quot;line&quot;, 1, 3, new Material());\r\n    builder.setColor(Color.RED);\r\n    builder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\r\n    lineModel = modelBuilder.end();\r\n    lineInstance = new ModelInstance(lineModel);","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>Model Builder works well for me. </p>\n\n<pre><code>ModelBuilder modelBuilder = new ModelBuilder();\nmodelBuilder.begin();\nMeshPartBuilder builder = modelBuilder.part(\"line\", 1, 3, new Material());\nbuilder.setColor(Color.RED);\nbuilder.line(0.0f, 0.0f, -5.0f, 0.0f, 0.0f, 5.0f);\nlineModel = modelBuilder.end();\nlineInstance = new ModelInstance(lineModel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7597398,"reputation":81,"user_id":5763170,"display_name":"Kright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667122431,"creation_date":1667122431,"answer_id":74251904,"question_id":38928229,"body_markdown":"You need to set camera matrix before rendering:\r\n\r\n```java\r\n@Override\r\n    public void create() {\r\n        ...\r\n        srend = new ShapeRenderer();\r\n        srend.setProjectionMatrix(new Matrix4())\r\n        srend.setColor(Color.RED);\r\n        ...\r\n    }\r\n```\r\n\r\nI don&#39;t know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.\r\n\r\nIn real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:\r\n\r\n```java\r\nshapeRenderer.setProjectionMatrix(camera.combined)\r\n```","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>You need to set camera matrix before rendering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setProjectionMatrix(new Matrix4())\n        srend.setColor(Color.RED);\n        ...\n    }\n</code></pre>\n<p>I don't know why, but this helps. Matrix4() is just identity matrix. With identity camera matrix right side of the screen has coordinate 1, left -1. So if coordinates inside cube -1..1, you should see them.</p>\n<p>In real code (for example, for drawing gizmos in 3d world) you can set matrix from PerspectiveCamera:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shapeRenderer.setProjectionMatrix(camera.combined)\n</code></pre>\n"}],"owner":{"account_id":6353549,"reputation":247,"user_id":5036929,"accept_rate":62,"display_name":"Jacob_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38931166,"answer_count":2,"score":4,"last_activity_date":1667122431,"creation_date":1471050217,"question_id":38928229,"body_markdown":"I&#39;m trying to learn the 3D side of LibGDX, and I&#39;ve came to a problem. I want to draw a line from `0, 0, -5` to `0, 0, 5`. I&#39;ve tried a few things to make this work.&lt;br&gt;\r\nFirst I looked to see if I could create a line as a `Model`. As far as I can see, I can&#39;t do this.&lt;br&gt;\r\nWhat I then realised is that theoretically I can draw a line using a `ShapeRenderer`. Here&#39;s my code to try to do this.\r\n\r\n    public class Main implements ApplicationListener {\r\n        ...\r\n        public ShapeRenderer srend;\r\n        ...\r\n        @Override\r\n        public void create() {\r\n            ...\r\n            srend = new ShapeRenderer();\r\n            srend.setColor(Color.RED);\r\n            ...\r\n        }\r\n        \r\n        @Override\r\n        public void render() {\r\n            ...\r\n            srend.begin(ShapeType.Line);\r\n            srend.line(0, 0, -5, 0, 0, 5);\r\n            srend.end();\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\nBut for some reason this doesn&#39;t appear to work. I use ShapeRenderers a lot, but it&#39;s possible that I&#39;m making a mistake initializing or using it, I don&#39;t think that&#39;s the problem though.&lt;br&gt;\r\nI&#39;ve only just started using the 3D part of LibGDX, so I assume the problem is around where I&#39;m drawing the actual line.","title":"How to draw a line between two points in LibGDX, in 3D","body":"<p>I'm trying to learn the 3D side of LibGDX, and I've came to a problem. I want to draw a line from <code>0, 0, -5</code> to <code>0, 0, 5</code>. I've tried a few things to make this work.<br>\nFirst I looked to see if I could create a line as a <code>Model</code>. As far as I can see, I can't do this.<br>\nWhat I then realised is that theoretically I can draw a line using a <code>ShapeRenderer</code>. Here's my code to try to do this.</p>\n\n<pre><code>public class Main implements ApplicationListener {\n    ...\n    public ShapeRenderer srend;\n    ...\n    @Override\n    public void create() {\n        ...\n        srend = new ShapeRenderer();\n        srend.setColor(Color.RED);\n        ...\n    }\n\n    @Override\n    public void render() {\n        ...\n        srend.begin(ShapeType.Line);\n        srend.line(0, 0, -5, 0, 0, 5);\n        srend.end();\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>But for some reason this doesn't appear to work. I use ShapeRenderers a lot, but it's possible that I'm making a mistake initializing or using it, I don't think that's the problem though.<br>\nI've only just started using the 3D part of LibGDX, so I assume the problem is around where I'm drawing the actual line.</p>\n"},{"tags":["java","azure","databricks","autoload"],"comments":[{"owner":{"account_id":4916681,"reputation":591,"user_id":3960445,"accept_rate":33,"display_name":"Vincent"},"score":1,"creation_date":1666711208,"post_id":74196294,"comment_id":130998902,"body_markdown":"Hello Artur, \nYou can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream().","body":"Hello Artur,  You can&#39;t write a stream with a &quot;load()&quot;. You need to use writeStream()."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666714311,"post_id":74196294,"comment_id":131000071,"body_markdown":"Hi Vincent by why did it work with scala: val df = spark.readstream..","body":"Hi Vincent by why did it work with scala: val df = spark.readstream.."},{"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"score":0,"creation_date":1666728268,"post_id":74196294,"comment_id":131004203,"body_markdown":"@Vincent thanks i willl check","body":"@Vincent thanks i willl check"}],"answers":[{"tags":[],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667120950,"creation_date":1667120950,"answer_id":74251766,"question_id":74196294,"body_markdown":"So finally, I have found a way to get Autoloader working inside my Java Jar.\r\n\r\nAs Vincent already commented you have to combine readstream with a writestream.\r\n\r\nSo I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.\r\n\r\n        spark.readStream().format(&quot;cloudFiles&quot;)\r\n                .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\r\n                .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n                .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\r\n                .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\r\n                .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\r\n                .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\r\n                .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\r\n                .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\r\n                .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n                .schema(DF_SCHEMA)\r\n                .load(BLOB_STORAGE_LANDING_ZONE_PATH)\r\n                .writeStream()\r\n                .format(&quot;delta&quot;)\r\n                .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\r\n                .option(&quot;mergeSchema&quot;, &quot;true&quot;)\r\n                .trigger(Trigger.Once())\r\n                .outputMode(&quot;append&quot;)\r\n                .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\r\n\r\nThis works fine with Java when you need to run a Jar as Databricks Jobs.\r\n\r\nBut to be honest I am still wondering why, from inside a Notebook, I don&#39;t have to use writestream in scala language to receive new files from the autoloader.","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>So finally, I have found a way to get Autoloader working inside my Java Jar.</p>\n<p>As Vincent already commented you have to combine readstream with a writestream.</p>\n<p>So I am simply writing the files which have been detected by the autoloader, to a Azure Data Lake.</p>\n<pre><code>    spark.readStream().format(&quot;cloudFiles&quot;)\n            .option(&quot;cloudFiles.subscriptionId&quot;, STORAGE_SUBSCRIPTION_ID)\n            .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n            .option(&quot;cloudFiles.tenantId&quot;, SP_TENANT_ID)\n            .option(&quot;cloudFiles.clientId&quot;, SP_APPLICATION_ID)\n            .option(&quot;cloudFiles.clientSecret&quot;, SP_CLIENT_SECRET)\n            .option(&quot;cloudFiles.resourceGroup&quot;, STORAGE_RESOURCE_GROUP)\n            .option(&quot;cloudFiles.connectionString&quot;, STORAGE_SAS_CONNECTION_STRING)\n            .option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;)\n            .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n            .schema(DF_SCHEMA)\n            .load(BLOB_STORAGE_LANDING_ZONE_PATH)\n            .writeStream()\n            .format(&quot;delta&quot;)\n            .option(&quot;checkpointLocation&quot;, DELTA_TABLE_RAW_DATA_CHECKPOINT_PATH)\n            .option(&quot;mergeSchema&quot;, &quot;true&quot;)\n            .trigger(Trigger.Once())\n            .outputMode(&quot;append&quot;)\n            .start(DELTA_TABLE_RAW_DATA_PATH).awaitTermination();\n</code></pre>\n<p>This works fine with Java when you need to run a Jar as Databricks Jobs.</p>\n<p>But to be honest I am still wondering why, from inside a Notebook, I don't have to use writestream in scala language to receive new files from the autoloader.</p>\n"}],"owner":{"account_id":26728850,"reputation":21,"user_id":20331557,"display_name":"Artur123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74251766,"answer_count":1,"score":0,"last_activity_date":1667120950,"creation_date":1666710632,"question_id":74196294,"body_markdown":"currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in **Java** and running as a Job on a Shared Cluster.\r\n\r\nCode:\r\n\r\n```\r\nDataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\r\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\r\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\r\nnewdata.show();\r\n```\r\nBut unfortunatelly I get the following exception:\r\n\r\n```\r\nWARN SQLExecution: Error executing delta metering\r\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\r\ncloudFiles\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\r\n\tat org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\r\n```\r\n\r\nWhat makes me wonder is, that the exactly same code is **running fine** inside a Databricks Notebook written in **Scala**:\r\n\r\n```\r\nval df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\r\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\r\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\r\n.option(&quot;cloudFiles.clientId&quot;, spappid)\r\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\r\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\r\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\r\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\r\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\r\n\r\ndisplay(df1);\r\n```\r\n\r\nI expect a Dataset&lt;Row&gt; object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary","title":"Azure Databricks running Autoloader Implementation from java Jar throws org.apache.spark.sql.AnalysisException","body":"<p>currently I am running into an issue but do not understand why this is happning. I have implemented a Java function which uses the Databricks Autoloader to readstream all parquet files from an azure blob storage and &quot;write&quot; it in a dataframe (Dataset because it is in Java written). The code is executed from an Jar which I build in <strong>Java</strong> and running as a Job on a Shared Cluster.</p>\n<p>Code:</p>\n<pre><code>Dataset&lt;Row&gt; newdata= spark.readStream().format(&quot;cloudFiles&quot;)\n        .option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n        .option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n        .option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n        .option(&quot;cloudFiles.clientId&quot;, spappid)\n        .option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n        .option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n        .option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n        // .option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n        .schema(dfsample.schema()).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;true&quot;).load(filePath);\nnewdata.show();\n</code></pre>\n<p>But unfortunatelly I get the following exception:</p>\n<pre><code>WARN SQLExecution: Error executing delta metering\norg.apache.spark.sql.AnalysisException: Queries with streaming sources must be executed with writeStream.start();\ncloudFiles\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.throwError(UnsupportedOperationChecker.scala:447)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1(UnsupportedOperationChecker.scala:38)\n    at org.apache.spark.sql.catalyst.analysis.UnsupportedOperationChecker$.$anonfun$checkForBatch$1$adapted(UnsupportedOperationChecker.scala:36)\n</code></pre>\n<p>What makes me wonder is, that the exactly same code is <strong>running fine</strong> inside a Databricks Notebook written in <strong>Scala</strong>:</p>\n<pre><code>val df1 = spark.readStream.format(&quot;cloudFiles&quot;).option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;).option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid)\n.option(&quot;cloudFiles.format&quot;, &quot;parquet&quot;)\n.option(&quot;cloudFiles.tenantId&quot;, sptenantid)\n.option(&quot;cloudFiles.clientId&quot;, spappid)\n.option(&quot;cloudFiles.clientSecret&quot;, spsecret)\n.option(&quot;cloudFiles.resourceGroup&quot;, storageresourcegroup)\n.option(&quot;cloudFiles.connectionString&quot;, storagesasconnectionstring)\n.option(&quot;cloudFiles.useNotifications&quot;, &quot;true&quot;)\n.option(&quot;cloudFiles.subscriptionId&quot;, storagesubscriptionid).schema(df_schema).option(&quot;cloudFiles.includeExistingFiles&quot;, &quot;false&quot;).load(filePath);\n\ndisplay(df1);\n</code></pre>\n<p>I expect a Dataset object containing all the new data from the blobstorage parquet files in schema: id1:int, id2:int, content:binary</p>\n"},{"tags":["java","string","for-loop","stringbuilder"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667145856,"post_id":74251370,"comment_id":131096478,"body_markdown":"This comment is for the person who voted to close this question. Your reason: &quot;_The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem._&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive.","body":"This comment is for the person who voted to close this question. Your reason: &quot;<i>The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.</i>&quot; This question (from the beginning) included the desired behavior. It also included the specific problem AND the code necessary to reproduce the problem. You need to stop voting to close questions just because you can. It is not constructive."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667117329,"creation_date":1667117329,"answer_id":74251427,"question_id":74251370,"body_markdown":"Your problem is that you are adding the strings to the same instance of `StringBuilder` and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the `sb` buffer.\r\n\r\nTo fix, replace the contents of the `else` block with the following snippet:\r\n```\r\nStringBuilder temp = new StringBuilder(arr[i]).reverse();\r\nsb.append(temp.toString()).append(&quot; &quot;);\r\n```\r\n\r\nThe program now outputs\r\n```\r\n[One, Two, three, Four]\r\nenO owT eerht Four \r\n```","title":"Reverse odd length words from a string","body":"<p>Your problem is that you are adding the strings to the same instance of <code>StringBuilder</code> and reversing it as a whole. The key is to create a temporary buffer to reverse the string and once it is reversed, append the contents of the temporary buffer to the <code>sb</code> buffer.</p>\n<p>To fix, replace the contents of the <code>else</code> block with the following snippet:</p>\n<pre><code>StringBuilder temp = new StringBuilder(arr[i]).reverse();\nsb.append(temp.toString()).append(&quot; &quot;);\n</code></pre>\n<p>The program now outputs</p>\n<pre><code>[One, Two, three, Four]\nenO owT eerht Four \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667117575,"creation_date":1667117575,"answer_id":74251445,"question_id":74251370,"body_markdown":"I would use a stream approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;One Two three Four&quot;;\r\n    String output = Arrays.stream(input.split(&quot; &quot;))\r\n                          .map(x -&gt; new StringBuilder(x).reverse().toString())\r\n                          .collect(Collectors.joining(&quot; &quot;));\r\n    System.out.println(output);  // enO owT eerht ruoF","title":"Reverse odd length words from a string","body":"<p>I would use a stream approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;One Two three Four&quot;;\nString output = Arrays.stream(input.split(&quot; &quot;))\n                      .map(x -&gt; new StringBuilder(x).reverse().toString())\n                      .collect(Collectors.joining(&quot; &quot;));\nSystem.out.println(output);  // enO owT eerht ruoF\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667120045,"creation_date":1667118919,"answer_id":74251591,"question_id":74251370,"body_markdown":"You can use `Pattern` like this.\r\n\r\n    static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\r\n\r\n    static String secretAgentII(String s) {\r\n        return WORD.matcher(s)\r\n            .replaceAll(m -&gt; m.group().length() % 2 == 0\r\n                ? m.group()\r\n                : new StringBuilder(m.group()).reverse().toString());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    enO     owT eerht Four\r\n\r\n","title":"Reverse odd length words from a string","body":"<p>You can use <code>Pattern</code> like this.</p>\n<pre><code>static final Pattern WORD = Pattern.compile(&quot;\\\\S+&quot;);\n\nstatic String secretAgentII(String s) {\n    return WORD.matcher(s)\n        .replaceAll(m -&gt; m.group().length() % 2 == 0\n            ? m.group()\n            : new StringBuilder(m.group()).reverse().toString());\n}\n\npublic static void main(String[] args) {\n    System.out.println(secretAgentII(&quot;One     Two three Four&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>enO     owT eerht Four\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74251427,"answer_count":3,"score":-1,"last_activity_date":1667120045,"creation_date":1667116484,"question_id":74251370,"body_markdown":"I am trying to reverse the words from a **string = &quot;One Two three Four&quot;** whose length is odd, I am using **StringBuilder** class to reverse the words my expected output is **&quot;enO owT eerht Four&quot;** but I am getting **&quot;eerht enO Two Four&quot;** here the order is not correct also it is not reversing **&quot;Two&quot;**, what&#39;s wrong with my code also please provide a solution to it.\r\n\r\n```\r\npackage QAIntvSprint;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class SecretAgent {\r\n  static StringBuilder sb = new StringBuilder();\r\n\r\n  public static void main(String[] args) {\r\n    secretAgentII(&quot;One Two three Four&quot;);\r\n  }\r\n\r\n  static void secretAgentII(String s) {\r\n    String[] arr = s.split(&quot; &quot;);\r\n    System.out.println(Arrays.toString(arr));\r\n    int i;\r\n    for (i = 0; i &lt; arr.length; i++) {\r\n      if (arr[i].length() % 2 == 0) {\r\n        sb.append(arr[i] + &quot; &quot;);\r\n      } else {\r\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\r\n      }\r\n    }\r\n    System.out.println(sb.toString());\r\n  }\r\n}\r\n```\r\noutput is below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/way2H.png","title":"Reverse odd length words from a string","body":"<p>I am trying to reverse the words from a <strong>string = &quot;One Two three Four&quot;</strong> whose length is odd, I am using <strong>StringBuilder</strong> class to reverse the words my expected output is <strong>&quot;enO owT eerht Four&quot;</strong> but I am getting <strong>&quot;eerht enO Two Four&quot;</strong> here the order is not correct also it is not reversing <strong>&quot;Two&quot;</strong>, what's wrong with my code also please provide a solution to it.</p>\n<pre><code>package QAIntvSprint;\n\nimport java.util.Arrays;\n\npublic class SecretAgent {\n  static StringBuilder sb = new StringBuilder();\n\n  public static void main(String[] args) {\n    secretAgentII(&quot;One Two three Four&quot;);\n  }\n\n  static void secretAgentII(String s) {\n    String[] arr = s.split(&quot; &quot;);\n    System.out.println(Arrays.toString(arr));\n    int i;\n    for (i = 0; i &lt; arr.length; i++) {\n      if (arr[i].length() % 2 == 0) {\n        sb.append(arr[i] + &quot; &quot;);\n      } else {\n        sb.append(arr[i]).reverse().append(&quot; &quot;);\n      }\n    }\n    System.out.println(sb.toString());\n  }\n}\n</code></pre>\n<p>output is below\n<a href=\"https://i.stack.imgur.com/way2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/way2H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1667115002,"post_id":74251242,"comment_id":131091007,"body_markdown":"`javac` just *compiles* the code. You haven&#39;t *executed* the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. `javac` is just the compiler, everywhere.) If you then run `java Main` (assuming your `Main` class is in the default package) it will actually execute it.","body":"<code>javac</code> just <i>compiles</i> the code. You haven&#39;t <i>executed</i> the program at all. (There&#39;s nothing specific to Linux or Chromebooks about this. <code>javac</code> is just the compiler, everywhere.) If you then run <code>java Main</code> (assuming your <code>Main</code> class is in the default package) it will actually execute it."},{"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"score":0,"creation_date":1667115129,"post_id":74251242,"comment_id":131091020,"body_markdown":"@JonSkeet  so then what do I execute?","body":"@JonSkeet  so then what do I execute?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1667115185,"post_id":74251242,"comment_id":131091030,"body_markdown":"You run `java Main` - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow.","body":"You run <code>java Main</code> - but ideally, you read through a Java tutorial carefully, as if you&#39;ve come unstuck at this point, you&#39;re very likely to immediately run into another problem that would be better solved by a tutorial than by Stack Overflow."}],"owner":{"account_id":24722793,"reputation":1,"user_id":18611621,"display_name":"Marcus Gorayeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667119919,"answer_count":0,"score":0,"last_activity_date":1667119877,"creation_date":1667114937,"question_id":74251242,"body_markdown":"I&#39;m running a Java program on a Chromebook, and I&#39;m trying to run the file in the Linux terminal. I ran the command `javac Main.java`, but it shows nothing, not an error, but just straight up nothing.\r\n\r\nI have Java installed. The file I&#39;m running has no bugs. I did not make a typo. Everything is perfectly right.\r\n\r\nIs there something I&#39;m missing? \r\n\r\n```none\r\nuser@penguin:~$ javac Main.java\r\nuser@penguin:~$ \r\n```","title":"Java program isn&#39;t showing output on Linux terminal","body":"<p>I'm running a Java program on a Chromebook, and I'm trying to run the file in the Linux terminal. I ran the command <code>javac Main.java</code>, but it shows nothing, not an error, but just straight up nothing.</p>\n<p>I have Java installed. The file I'm running has no bugs. I did not make a typo. Everything is perfectly right.</p>\n<p>Is there something I'm missing?</p>\n<pre class=\"lang-none prettyprint-override\"><code>user@penguin:~$ javac Main.java\nuser@penguin:~$ \n</code></pre>\n"},{"tags":["java","pagination","lucene"],"comments":[{"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"score":0,"creation_date":1667113498,"post_id":74251081,"comment_id":131090820,"body_markdown":"Why down vote? respect me.","body":"Why down vote? respect me."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667134895,"post_id":74251081,"comment_id":131094233,"body_markdown":"(I can&#39;t comment on why the down vote.) See the [official demo code](https://lucene.apache.org/core/9_4_1/demo/index.html) for an example which includes one possible approach to support pagination. More specifically, take a look at the `doPagingSearch()` method in the [`SearchFiles`](https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html) source code.","body":"(I can&#39;t comment on why the down vote.) See the <a href=\"https://lucene.apache.org/core/9_4_1/demo/index.html\" rel=\"nofollow noreferrer\">official demo code</a> for an example which includes one possible approach to support pagination. More specifically, take a look at the <code>doPagingSearch()</code> method in the <a href=\"https://lucene.apache.org/core/9_4_1/demo/src-html/org/apache/lucene/demo/SearchFiles.html\" rel=\"nofollow noreferrer\"><code>SearchFiles</code></a> source code."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1667134899,"post_id":74251081,"comment_id":131094234,"body_markdown":"See also the various `searchAfter()` methods in [`IndexSearcher`](https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html) - and existing SO [Lucene pagination](https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination) questions - although some of their code examples may be out-of-date now.","body":"See also the various <code>searchAfter()</code> methods in <a href=\"https://lucene.apache.org/core/9_4_1/core/org/apache/lucene/search/IndexSearcher.html\" rel=\"nofollow noreferrer\"><code>IndexSearcher</code></a> - and existing SO <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+lucene+pagination\" rel=\"nofollow noreferrer\">Lucene pagination</a> questions - although some of their code examples may be out-of-date now."}],"owner":{"account_id":25211744,"reputation":155,"user_id":19049340,"display_name":"zabitstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667119746,"creation_date":1667112741,"question_id":74251081,"body_markdown":"```\r\npackage com.mylucene;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\r\nimport org.apache.lucene.document.Document;\r\nimport org.apache.lucene.index.DirectoryReader;\r\nimport org.apache.lucene.index.IndexReader;\r\nimport org.apache.lucene.queryparser.classic.QueryParser;\r\nimport org.apache.lucene.search.IndexSearcher;\r\nimport org.apache.lucene.search.Query;\r\nimport org.apache.lucene.search.ScoreDoc;\r\nimport org.apache.lucene.search.TopDocs;\r\nimport org.apache.lucene.search.TotalHitCountCollector;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.FSDirectory;\r\n \r\npublic class DemoReader \r\n{\r\n    private String INDEX_DIR = &quot;&quot;;\r\n    \r\n    public DemoReader(String indexDir) throws Exception{\r\n        INDEX_DIR = indexDir;\r\n\r\n        IndexSearcher searcher = createSearcher();\r\n        \r\n\r\n\r\n        //Search by ID\r\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\r\n     \r\n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\r\n     \r\n        for (ScoreDoc sd : foundDocs.scoreDocs) {\r\n            Document d = searcher.doc(sd.doc);\r\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\r\n        }\r\n  \r\n    }\r\n\r\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\r\n   \r\n        return hits;\r\n    }\r\n \r\n    private IndexSearcher createSearcher() throws IOException {\r\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\r\n        IndexReader reader = DirectoryReader.open(dir);\r\n        IndexSearcher searcher = new IndexSearcher(reader);\r\n        return searcher;\r\n    }\r\n}\r\n```\r\nThis class read all records from lucene&#39;s index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records. \r\nThe output is something as:\r\n``` \r\n...\r\n199989 Nicola\r\n199990 Nicola\r\n199991 Nicola\r\n199992 Nicola\r\n199993 Nicola\r\n199994 Nicola\r\n199995 Nicola\r\n199996 Nicola\r\n199997 Nicola\r\n199998 Nicola\r\n199999 Nicola\r\nend\r\n``` \r\nI would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\r\nI&#39;m also tried to use ```TopScoreDocCollector```  but I don&#39;t know how. Can you post me an simple please?\r\nI want get something as:\r\n```\r\n...\r\n100000 Nicola\r\n100001 Nicola\r\n100002 Nicola\r\n100003 Nicola\r\n100004 Nicola\r\n100005 Nicola\r\n100006 Nicola\r\n100007 Nicola\r\n100008 Nicola\r\n100009 Nicola\r\n```\r\n\r\nUPDATE \r\ni have edited searchByFirstName method. But I have a doubt if it&#39;s correct.\r\n\r\n```\r\n   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\r\n    {\r\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\r\n        Query firstNameQuery = qp.parse(firstName);\r\n\r\n        TotalHitCountCollector collector = new TotalHitCountCollector();\r\n        searcher.search(firstNameQuery, collector);\r\n        \r\n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\r\n    \r\n        searcher.search(firstNameQuery, scoreCollector);\r\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\r\n\r\n        return hitss;\r\n    }\r\n```\r\n\r\n","title":"an example TopScoreDocCollector pagination in Lucene - how to","body":"<pre><code>package com.mylucene;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.queryparser.classic.QueryParser;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.Query;\nimport org.apache.lucene.search.ScoreDoc;\nimport org.apache.lucene.search.TopDocs;\nimport org.apache.lucene.search.TotalHitCountCollector;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.FSDirectory;\n \npublic class DemoReader \n{\n    private String INDEX_DIR = &quot;&quot;;\n    \n    public DemoReader(String indexDir) throws Exception{\n        INDEX_DIR = indexDir;\n\n        IndexSearcher searcher = createSearcher();\n        \n\n\n        //Search by ID\n        TopDocs foundDocs = searchByFirstName(&quot;Nicola&quot;,searcher);\n     \n        System.out.println(&quot;Total Results :: &quot; + foundDocs.totalHits);\n     \n        for (ScoreDoc sd : foundDocs.scoreDocs) {\n            Document d = searcher.doc(sd.doc);\n            System.out.println(d.get(&quot;id&quot;) + &quot; &quot; + String.format(d.get(&quot;firstName&quot;)));\n        }\n  \n    }\n\n    private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        TopDocs hits = searcher.search(firstNameQuery, Math.max(1, collector.getTotalHits()));\n   \n        return hits;\n    }\n \n    private IndexSearcher createSearcher() throws IOException {\n        Directory dir = FSDirectory.open(Paths.get(INDEX_DIR));\n        IndexReader reader = DirectoryReader.open(dir);\n        IndexSearcher searcher = new IndexSearcher(reader);\n        return searcher;\n    }\n}\n</code></pre>\n<p>This class read all records from lucene's index. I import all lucene class, pass path to file where index is saved, I create index and I make a search by firstname that return me all records.\nThe output is something as:</p>\n<pre><code>...\n199989 Nicola\n199990 Nicola\n199991 Nicola\n199992 Nicola\n199993 Nicola\n199994 Nicola\n199995 Nicola\n199996 Nicola\n199997 Nicola\n199998 Nicola\n199999 Nicola\nend\n</code></pre>\n<p>I would want pagination the results. Is there a method or Class in core lucene library that I can achieve it?\nI'm also tried to use <code>TopScoreDocCollector</code>  but I don't know how. Can you post me an simple please?\nI want get something as:</p>\n<pre><code>...\n100000 Nicola\n100001 Nicola\n100002 Nicola\n100003 Nicola\n100004 Nicola\n100005 Nicola\n100006 Nicola\n100007 Nicola\n100008 Nicola\n100009 Nicola\n</code></pre>\n<p>UPDATE\ni have edited searchByFirstName method. But I have a doubt if it's correct.</p>\n<pre><code>   private TopDocs searchByFirstName(String firstName, IndexSearcher searcher) throws Exception\n    {\n        QueryParser qp = new QueryParser(&quot;firstName&quot;, new StandardAnalyzer());\n        Query firstNameQuery = qp.parse(firstName);\n\n        TotalHitCountCollector collector = new TotalHitCountCollector();\n        searcher.search(firstNameQuery, collector);\n        \n        TopScoreDocCollector scoreCollector = TopScoreDocCollector.create(collector.getTotalHits(), 0);\n    \n        searcher.search(firstNameQuery, scoreCollector);\n        TopDocs hitss = scoreCollector.topDocs(100000, 10);\n\n        return hitss;\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1667054139,"post_id":74233801,"comment_id":131082198,"body_markdown":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one.","body":"For me, this is a test case design problem. Parameterized test should test equivalent behaviors for a set of parameters, ie the same execution path. This is not the case for the parameters you describe. &quot;Verify exception if parameters invalid&quot; and &quot;verify exception after service call&quot; should be different test cases. With this distinction, you&#39;ll also be able to verify the call on the service in one case, and no interactions in the other one."}],"answers":[{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667053712,"creation_date":1667053712,"answer_id":74246130,"question_id":74233801,"body_markdown":"I don&#39;t think you&#39;re missing something. All you mentioned is correct.\r\n\r\nThe way I understand it is that `UnnecessaryStubbingsException` is Mockito&#39;s way of telling you:\r\n\r\n&gt; Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.\r\n\r\nAnd if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won&#39;t, _lenient_ would be the way to go. So the exception goes away if you define your mock like this:\r\n\r\n```java\r\n@Mock(lenient = true)\r\nService someService;\r\n```\r\n\r\nSo my actual personal answer is: It&#39;s good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I don't think you're missing something. All you mentioned is correct.</p>\n<p>The way I understand it is that <code>UnnecessaryStubbingsException</code> is Mockito's way of telling you:</p>\n<blockquote>\n<p>Hey, you defined some mock behavior for your test that is not necessary because we never get to that point. You should better remove it to keep your test clean.</p>\n</blockquote>\n<p>And if you are fine with unnecessary definitions of mock behavior because some of the arguments of the parameterized test will lead to the mock being called while others won't, <em>lenient</em> would be the way to go. So the exception goes away if you define your mock like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock(lenient = true)\nService someService;\n</code></pre>\n<p>So my actual personal answer is: It's good to have that exception to think about the code and the test and the exception again, and then decide that this is exactly what I want to do and set the mock to lenient.</p>\n"},{"comments":[{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1677039922,"post_id":74251616,"comment_id":133257001,"body_markdown":"Good response. However, I need another option -- Mockito, please fix this so we can use parameterized tests and not have `UnnecessaryStubbingException` thrown when it shouldn&#39;t be -- e.g. if 1 of my many parameterized test scenarios doesn&#39;t use a mock, but the rest do, then the mock is good and this exception should not be thrown.","body":"Good response. However, I need another option -- Mockito, please fix this so we can use parameterized tests and not have <code>UnnecessaryStubbingException</code> thrown when it shouldn&#39;t be -- e.g. if 1 of my many parameterized test scenarios doesn&#39;t use a mock, but the rest do, then the mock is good and this exception should not be thrown."},{"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"score":0,"creation_date":1677258692,"post_id":74251616,"comment_id":133308768,"body_markdown":"Please explain , why \n`Mockito.lenient().....` or alternatively add above the test class:\n`@MockitoSettings(strictness = Strictness.LENIENT)`\nis not a viable solution for you ?","body":"Please explain , why  <code>Mockito.lenient().....</code> or alternatively add above the test class: <code>@MockitoSettings(strictness = Strictness.LENIENT)</code> is not a viable solution for you ?"},{"owner":{"account_id":2687276,"reputation":302,"user_id":2321414,"accept_rate":100,"display_name":"Wouter"},"score":0,"creation_date":1699626216,"post_id":74251616,"comment_id":136559213,"body_markdown":"@BodoTeichmann You would want `UnnecessaryStubbingException` be thrown when none of the test use the mock. If you use `LENIENT` it will never be thrown","body":"@BodoTeichmann You would want <code>UnnecessaryStubbingException</code> be thrown when none of the test use the mock. If you use <code>LENIENT</code> it will never be thrown"}],"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667119410,"creation_date":1667119410,"answer_id":74251616,"question_id":74233801,"body_markdown":"With junit 5.x and mockito 4.x the `UnnecessaryStubbingsException` will only show up,\r\nwhen you add `@ExtendWith(MockitoExtension.class)` to your test class like this:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MainTest {\r\n  private Service someService;\r\n  private MainService serviceUnderTest;\r\n\r\n  @BeforeEach\r\n  void setup() {\r\n    this.someService = Mockito.mock(Service.class);\r\n    this.serviceUnderTest = new MainService(someService);\r\n  }\r\n//...see full code example below\r\n}\r\n```\r\nBut that `@ExtendWith(MockitoExtension.class)` is actually not necessary for this type of test. Mockitos JavaDoc says:\r\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don&#39;t use the `@Mock` annotation in\r\nyour tests, you ain&#39;t gonna need it.\r\n\r\nBut if you need to use `@ExtendWith(MockitoExtension.class)`\r\nthen you have several options:&lt;br&gt;\r\n\r\nYou can replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\nOr another option would be to use:&lt;br&gt;\r\n```\r\n@Mock(strictness = Mock.Strictness.LENIENT)\r\nprivate Service someService;\r\n```\r\nYou might also be able to use this old, deprecated annotation option.\r\n```\r\n@Mock(lenient = true) //deprecated!\r\nService someService;\r\n```\r\nAs Andreas Siegel suggested in the other answer above,\r\nbut as I said `@Mock(lenient = true)` is actually deprecated.\r\n\r\n\r\n\r\nYou can get and run a complete code example using:\r\n```\r\ngit clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\r\ncd backend\r\ngradle test --tests &#39;*MainTest*&#39; --console plain\r\n```\r\n\r\nThe code without any annotations and therefore without the `UnnecessaryStubbingsException` showing up looks like:\r\n\r\n    public interface Service {\r\n      public boolean execute(String flag) ;\r\n    }\r\n\r\nand\r\n\r\n    public class MainService {\r\n      private Service someService;\r\n    \r\n      public MainService(Service service) {\r\n        this.someService = service;\r\n      }\r\n    \r\n      public boolean process(String flag) {\r\n        if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n       boolean result = someService.execute(flag);\r\n        if (result) {\r\n          throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n        }\r\n        return result;\r\n      }\r\n    }\r\n\r\nwhen the Test is:\r\n\r\n    class MainTest {\r\n    \r\n      private Service someService;\r\n      private MainService serviceUnderTest;\r\n      @BeforeEach\r\n      void setup(){\r\n        this.someService = Mockito.mock(Service.class);\r\n        this.serviceUnderTest = new MainService(someService);\r\n      }\r\n    \r\n      @ParameterizedTest\r\n      @MethodSource(&quot;getFlags&quot;)\r\n      void shouldTestIfFlagWorks(String someFlag) {\r\n        // Given\r\n        Mockito.doReturn(true).when(someService).execute(someFlag);\r\n    \r\n        // When\r\n        Throwable thrown = Assertions.catchThrowable(() -&gt; \r\n           serviceUnderTest.process(someFlag));\r\n    \r\n        // Then\r\n        Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n      }\r\n    \r\n      private static Stream&lt;Arguments&gt; getFlags() {\r\n        return Stream.of(\r\n                Arguments.of(&quot;flag1&quot;),\r\n                Arguments.of(&quot;flag2&quot;)\r\n        );\r\n      }\r\n    }\r\n\r\nthe test run shoes no `UnnecessaryStubbingsException`:\r\n\r\nBTW I&#39;m using these dependencies:\r\n\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:4.8.1&#39;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter&#39;, version: &#39;5.9.1&#39;\r\n\r\nNow try adding `@ExtendWith(MockitoExtension.class)` and run the test again. The `UnnecessaryStubbingsException` \r\nshould show up now, until you either replace &lt;br&gt;\r\n`Mockito.doReturn(true).when(someService).execute(someFlag);`&lt;br&gt;\r\nby&lt;br&gt;\r\n`Mockito.lenient().doReturn(true).when(someService).execute(someFlag)`;\r\nor alternatively add above the test class:&lt;br&gt;\r\n`@MockitoSettings(strictness = Strictness.LENIENT)`&lt;br&gt;\r\nand your exception goes away again.\r\n\r\nI just also checked with \r\n`testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-all&#39;, version: &#39;2.0.2-beta&#39;` \r\nbut each time with `junit-jupiter 5.9.1`: same result. \r\nJunit 4 however does have different annotations and behaves quite differently.\r\n\r\n","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>With junit 5.x and mockito 4.x the <code>UnnecessaryStubbingsException</code> will only show up,\nwhen you add <code>@ExtendWith(MockitoExtension.class)</code> to your test class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MainTest {\n  private Service someService;\n  private MainService serviceUnderTest;\n\n  @BeforeEach\n  void setup() {\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n//...see full code example below\n}\n</code></pre>\n<p>But that <code>@ExtendWith(MockitoExtension.class)</code> is actually not necessary for this type of test. Mockitos JavaDoc says:\n&quot;Extension that initializes mocks and handles strict stubbings.&quot; So, as long as you don't use the <code>@Mock</code> annotation in\nyour tests, you ain't gonna need it.</p>\n<p>But if you need to use <code>@ExtendWith(MockitoExtension.class)</code>\nthen you have several options:<br></p>\n<p>You can replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.\nOr another option would be to use:<br></p>\n<pre><code>@Mock(strictness = Mock.Strictness.LENIENT)\nprivate Service someService;\n</code></pre>\n<p>You might also be able to use this old, deprecated annotation option.</p>\n<pre><code>@Mock(lenient = true) //deprecated!\nService someService;\n</code></pre>\n<p>As Andreas Siegel suggested in the other answer above,\nbut as I said <code>@Mock(lenient = true)</code> is actually deprecated.</p>\n<p>You can get and run a complete code example using:</p>\n<pre><code>git clone --depth 1 --branch SO74233801 git@github.com:bodote/playground.git\ncd backend\ngradle test --tests '*MainTest*' --console plain\n</code></pre>\n<p>The code without any annotations and therefore without the <code>UnnecessaryStubbingsException</code> showing up looks like:</p>\n<pre><code>public interface Service {\n  public boolean execute(String flag) ;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class MainService {\n  private Service someService;\n\n  public MainService(Service service) {\n    this.someService = service;\n  }\n\n  public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n   boolean result = someService.execute(flag);\n    if (result) {\n      throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n  }\n}\n</code></pre>\n<p>when the Test is:</p>\n<pre><code>class MainTest {\n\n  private Service someService;\n  private MainService serviceUnderTest;\n  @BeforeEach\n  void setup(){\n    this.someService = Mockito.mock(Service.class);\n    this.serviceUnderTest = new MainService(someService);\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;getFlags&quot;)\n  void shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; \n       serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n  }\n\n  private static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n            Arguments.of(&quot;flag1&quot;),\n            Arguments.of(&quot;flag2&quot;)\n    );\n  }\n}\n</code></pre>\n<p>the test run shoes no <code>UnnecessaryStubbingsException</code>:</p>\n<p>BTW I'm using these dependencies:</p>\n<pre><code>testImplementation 'org.mockito:mockito-core:4.8.1'\ntestImplementation 'org.mockito:mockito-junit-jupiter:4.8.1'\ntestImplementation group: 'org.junit.jupiter', name: 'junit-jupiter', version: '5.9.1'\n</code></pre>\n<p>Now try adding <code>@ExtendWith(MockitoExtension.class)</code> and run the test again. The <code>UnnecessaryStubbingsException</code>\nshould show up now, until you either replace <br>\n<code>Mockito.doReturn(true).when(someService).execute(someFlag);</code><br>\nby<br>\n<code>Mockito.lenient().doReturn(true).when(someService).execute(someFlag)</code>;\nor alternatively add above the test class:<br>\n<code>@MockitoSettings(strictness = Strictness.LENIENT)</code><br>\nand your exception goes away again.</p>\n<p>I just also checked with\n<code>testImplementation group: 'org.mockito', name: 'mockito-all', version: '2.0.2-beta'</code>\nbut each time with <code>junit-jupiter 5.9.1</code>: same result.\nJunit 4 however does have different annotations and behaves quite differently.</p>\n"}],"owner":{"account_id":14650680,"reputation":521,"user_id":10580773,"display_name":"jure"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74251616,"answer_count":2,"score":2,"last_activity_date":1667119410,"creation_date":1666951687,"question_id":74233801,"body_markdown":"I&#39;m moving some tests to newer Mockito versions and I&#39;m running into a wall when it comes to `@ParameterizedTest` tests and Mockito&#39;s `UnnecessaryStubbingsException`.\r\n\r\nThe issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will. \r\n\r\nThis results in Mockito throwing the `UnnecessaryStubbingsException` for the cases where the mock is unused. I can&#39;t remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.\r\n\r\nTo illustrate, let&#39;s say I have this dummy method I&#39;m testing:\r\n```\r\npublic boolean process(String flag) {\r\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    boolean result = someService.execute(flag);\r\n    if (result) {\r\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nAnd then the parameterised test to check multiple flags:\r\n```\r\n@ParameterizedTest\r\n@MethodSource(&quot;getFlags&quot;)\r\nvoid shouldTestIfFlagWorks(String someFlag) {\r\n    // Given\r\n    Mockito.doReturn(true).when(someService).execute(someFlag);\r\n\r\n    // When\r\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\r\n\r\n    // Then\r\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\r\n}\r\n\r\nprivate static Stream&lt;Arguments&gt; getFlags() {\r\n    return Stream.of(\r\n        Arguments.of(&quot;flag1&quot;),\r\n        Arguments.of(&quot;flag2&quot;)\r\n    );\r\n}\r\n```\r\n\r\nThe example is a bit contrived, but this will fail with `UnnecessaryStubbingsException` because the first parameter the test runs with doesn&#39;t need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.\r\n\r\nIs there any way to circumvent this? One option I know would solve this is to use `Mockito.lenient()`. The other option is to refactor and move the parameters that need the mock to a separate test.\r\n\r\nI&#39;m curious if there&#39;s any different / better approach, or something else that I&#39;m missing here.","title":"How to deal with Mockito&#39;s UnnecessaryStubbingException when using @ParameterizedTest","body":"<p>I'm moving some tests to newer Mockito versions and I'm running into a wall when it comes to <code>@ParameterizedTest</code> tests and Mockito's <code>UnnecessaryStubbingsException</code>.</p>\n<p>The issue is that the test in question sometimes needs to have a service mocked, depending on the parameters of the test. For some parameters, the code will not execute to the line where the mocked service is called, while for other parameters it will.</p>\n<p>This results in Mockito throwing the <code>UnnecessaryStubbingsException</code> for the cases where the mock is unused. I can't remove the stub because then the test will fail for parameters where the code actually executes to the point where the service needs to be mocked.</p>\n<p>To illustrate, let's say I have this dummy method I'm testing:</p>\n<pre><code>public boolean process(String flag) {\n    if (Objects.equals(flag, &quot;flag1&quot;)) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    boolean result = someService.execute(flag);\n    if (result) {\n        throw new IllegalArgumentException(&quot;Oh no, exception!&quot;);\n    }\n    return result;\n}\n</code></pre>\n<p>And then the parameterised test to check multiple flags:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;getFlags&quot;)\nvoid shouldTestIfFlagWorks(String someFlag) {\n    // Given\n    Mockito.doReturn(true).when(someService).execute(someFlag);\n\n    // When\n    Throwable thrown = Assertions.catchThrowable(() -&gt; serviceUnderTest.process(someFlag));\n\n    // Then\n    Assertions.assertThat(thrown).hasMessage(&quot;Oh no, exception!&quot;);\n}\n\nprivate static Stream&lt;Arguments&gt; getFlags() {\n    return Stream.of(\n        Arguments.of(&quot;flag1&quot;),\n        Arguments.of(&quot;flag2&quot;)\n    );\n}\n</code></pre>\n<p>The example is a bit contrived, but this will fail with <code>UnnecessaryStubbingsException</code> because the first parameter the test runs with doesn't need the mock. If I remove the stub, the test with the first parameter will work, while it will fail once it runs for the second time with the next parameter.</p>\n<p>Is there any way to circumvent this? One option I know would solve this is to use <code>Mockito.lenient()</code>. The other option is to refactor and move the parameters that need the mock to a separate test.</p>\n<p>I'm curious if there's any different / better approach, or something else that I'm missing here.</p>\n"},{"tags":["java","cluster-analysis"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1667140175,"post_id":74251608,"comment_id":131095292,"body_markdown":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java).","body":"Sounds like you might no be familiar with Java. I would suggest you to follow a tutorial or a begginers book (I recommend Head First Java)."}],"owner":{"account_id":24682650,"reputation":11,"user_id":18576188,"display_name":"Putra R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667119219,"creation_date":1667119219,"question_id":74251608,"body_markdown":"I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\r\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster. \r\n\r\nIs there anyone can help? I don&#39;t know where to start. \r\nThank you\r\n\r\nExample:\r\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\r\nNumber of cluster: 3\r\nResult:\r\n\r\n&gt; Cluster 1: 2, 8, 10, 13, 17, 20\r\n&gt; Cluster 2: 34, 38\r\n&gt; Cluster 3: 53","title":"Single Linkage Clustering using Java","body":"<p>I want to make a program using Java that can do Single Linkage Clustering for some data. The program mechanism is as follows:\nI can input some data to the program and number of cluster that I want. Then the program will give the member of that cluster.</p>\n<p>Is there anyone can help? I don't know where to start.\nThank you</p>\n<p>Example:\nInput data: 2, 8, 10, 13, 17, 20, 34, 38, 53\nNumber of cluster: 3\nResult:</p>\n<blockquote>\n<p>Cluster 1: 2, 8, 10, 13, 17, 20\nCluster 2: 34, 38\nCluster 3: 53</p>\n</blockquote>\n"},{"tags":["java","jenkins","kubernetes","groovy","azure-aks"],"comments":[{"owner":{"account_id":2745772,"reputation":209,"user_id":2366213,"accept_rate":83,"display_name":"tollgen"},"score":0,"creation_date":1643979382,"post_id":70978904,"comment_id":125489024,"body_markdown":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once","body":"I am seeing similar in EKS when we launch large amount of jenkins jobs - what is your k8 setup and are you running a lot of jobs/pods at once"},{"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"score":0,"creation_date":1643992029,"post_id":70978904,"comment_id":125494465,"body_markdown":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins. \nI&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts.","body":"I&#39;m running this setup in AKS cluster, i have 4 clusters and they all started giving this  issue only after AKS Upgrade and Jenkins Upgrade both happened one after another. Not sure if tis AKS issue or Jenkins.  Error logs are directing to towards Jenkins.  I&#39;m running with limited amount of Jobs only, For testing i created separate cluster and install Jenkins alone.  This server also started giving Error, had only 1  job. 1 failure out of 10 attempts."}],"answers":[{"comments":[{"owner":{"account_id":10221916,"reputation":148,"user_id":7545838,"display_name":"Amit"},"score":1,"creation_date":1644582801,"post_id":71072163,"comment_id":125650943,"body_markdown":"so you noticed any difference after increasing the timeout?","body":"so you noticed any difference after increasing the timeout?"},{"owner":{"account_id":257758,"reputation":31,"user_id":18175012,"display_name":"Dennis"},"score":0,"creation_date":1647037743,"post_id":71072163,"comment_id":126280825,"body_markdown":"No, it didn&#39;t really change anything. We ended up downgrading the plugin versions to Kubernetes 1.30.1 and Kubernetes Api Client 5.4.1 for now as suggested here: https://issues.jenkins.io/browse/JENKINS-67664","body":"No, it didn&#39;t really change anything. We ended up downgrading the plugin versions to Kubernetes 1.30.1 and Kubernetes Api Client 5.4.1 for now as suggested here: <a href=\"https://issues.jenkins.io/browse/JENKINS-67664\" rel=\"nofollow noreferrer\">issues.jenkins.io/browse/JENKINS-67664</a>"}],"tags":[],"owner":{"account_id":257758,"reputation":31,"user_id":18175012,"display_name":"Dennis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647037969,"creation_date":1644526553,"answer_id":71072163,"question_id":70978904,"body_markdown":"**EDIT:** Doesn&#39;t seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven&#39;t got that figured out.\r\n\r\n---\r\n\r\nStarted seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.\r\n\r\nExcept I&#39;m getting 5000 instead of 7000 milliseconds.\r\n\r\n    io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n\r\nDigging into the stacktrace and source on Github leads back to [this][1] default timeout (which haven&#39;t changed in 6 years), so somehow you seem to have a non-default.\r\n\r\n    public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\r\n\r\nIt seems it can [be overriden with environment variable][2] **KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY** on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.\r\n\r\nMight be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I&#39;m not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven&#39;t changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.\r\n\r\nEDIT: I&#39;m on running on bare metal cluster\r\n\r\n [1]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\r\n [2]: https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p><strong>EDIT:</strong> Doesn't seem to make any difference. Still getting 5000 ms timeouts, so not sure this method works (with Environment variables at least). It might work if you are actually able to change timeout, but I haven't got that figured out.</p>\n<hr />\n<p>Started seeing the same issue after updating Jenkins (and plugins) only - not the K8S cluster.</p>\n<p>Except I'm getting 5000 instead of 7000 milliseconds.</p>\n<pre><code>io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n</code></pre>\n<p>Digging into the stacktrace and source on Github leads back to <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L135\" rel=\"nofollow noreferrer\">this</a> default timeout (which haven't changed in 6 years), so somehow you seem to have a non-default.</p>\n<pre><code>public static final Long DEFAULT_WEBSOCKET_TIMEOUT = 5 * 1000L;\n</code></pre>\n<p>It seems it can <a href=\"https://github.com/fabric8io/kubernetes-client/blob/677884ca88f3911f9b41ec919db152d441ad2cdd/kubernetes-client-api/src/main/java/io/fabric8/kubernetes/client/Config.java#L421\" rel=\"nofollow noreferrer\">be overriden with environment variable</a> <strong>KUBERNETES_WEBSOCKET_TIMEOUT_SYSTEM_PROPERTY</strong> on the pod. I just tried to raise mine to 10sec seeing if it makes a difference.</p>\n<p>Might be worth a try. If so, it could indicate that the cluster API-server is somehow slower than excepted to respond. I'm not aware of anything that should affect cluster performance around the time of the upgrade in my case, and since the default timeout haven't changed changed for years, it seems odd. Maybe some of the code was refactored somehow no longer ignoring timeouts/retrying etc - Only guessing.</p>\n<p>EDIT: I'm on running on bare metal cluster</p>\n"},{"tags":[],"owner":{"account_id":11100419,"reputation":1,"user_id":8149256,"display_name":"Ammar Rami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667119071,"creation_date":1666790884,"answer_id":74208643,"question_id":70978904,"body_markdown":"The solution for me is to add `-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000` in the controller (Jenkins) service line command\r\nThis work for the last version of the plugin also","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>The solution for me is to add <code>-Dkubernetes.websocket.timeout=60000 -Dorg.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout=60000</code> in the controller (Jenkins) service line command\nThis work for the last version of the plugin also</p>\n"}],"owner":{"account_id":16568053,"reputation":117,"user_id":11972049,"display_name":"rohit534"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1667119071,"creation_date":1643925664,"question_id":70978904,"body_markdown":"Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error? \r\nTroubleshooting steps i did.\r\n\r\nrevert Jenkins to old version =&gt; results in same Error\r\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\r\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\r\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error\r\n\r\nHow to fix this? \r\n\r\n```\r\n18:23:33  [Pipeline] // podTemplate\r\n18:23:33  [Pipeline] End of Pipeline\r\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\r\n18:23:33  \tat io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\r\n18:23:33  \tat io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\r\n18:23:33  \tat org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\r\n18:23:33  \tat hudson.Launcher$ProcStarter.start(Launcher.java:507)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\r\n18:23:33  \tat org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n18:23:33  \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\r\n18:23:33  \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n18:23:33  \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\r\n18:23:33  \tat org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\r\n18:23:33  \tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\r\n18:23:33  \tat WorkflowScript.run(WorkflowScript:114)\r\n18:23:33  \tat ___cps.transform___(Native Method)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n18:23:33  \tat jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\r\n18:23:33  \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n18:23:33  \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n18:23:33  \tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\r\n18:23:33  \tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\r\n18:23:33  \tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\r\n18:23:33  \tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\r\n\r\n\r\n","title":"io.fabric8.kubernetes.client.KubernetesClientException: not ready after 70000 MILLISECONDS","body":"<p>Getting this Error from AKS Jenkins Agent pods. Any idea whats will be reason for this Error?\nTroubleshooting steps i did.</p>\n<p>revert Jenkins to old version =&gt; results in same Error\nupgrade Jenkins to all new Version including plugins in use =&gt; Results in same Error.\nDowngraded Jenkins K8s and K8s API plugins to stable version as per some suggestion in github. =&gt; same Error\nCreated Brand new cluster and install Jenkins and Job pod starting giving same Error. =&gt; same Error</p>\n<p>How to fix this?</p>\n<pre><code>18:23:33  [Pipeline] // podTemplate\n18:23:33  [Pipeline] End of Pipeline\n18:23:33  io.fabric8.kubernetes.client.KubernetesClientException: not ready after 5000 MILLISECONDS\n18:23:33    at io.fabric8.kubernetes.client.utils.Utils.waitUntilReadyOrFail(Utils.java:176)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:322)\n18:23:33    at io.fabric8.kubernetes.client.dsl.internal.core.v1.PodOperationsImpl.exec(PodOperationsImpl.java:84)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.doLaunch(ContainerExecDecorator.java:413)\n18:23:33    at org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator$1.launch(ContainerExecDecorator.java:330)\n18:23:33    at hudson.Launcher$ProcStarter.start(Launcher.java:507)\n18:23:33    at org.jenkinsci.plugins.durabletask.BourneShellScript.launchWithCookie(BourneShellScript.java:176)\n18:23:33    at org.jenkinsci.plugins.durabletask.FileMonitoringTask.launch(FileMonitoringTask.java:132)\n18:23:33    at org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep$Execution.start(DurableTaskStep.java:324)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:319)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:193)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor6588.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n18:23:33    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1213)\n18:23:33    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n18:23:33    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\n18:23:33    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n18:23:33    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:163)\n18:23:33    at org.kohsuke.groovy.sandbox.GroovyInterceptor.onMethodCall(GroovyInterceptor.java:23)\n18:23:33    at org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SandboxInterceptor.onMethodCall(SandboxInterceptor.java:158)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:161)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:165)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:135)\n18:23:33    at com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\n18:23:33    at WorkflowScript.run(WorkflowScript:114)\n18:23:33    at ___cps.transform___(Native Method)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\n18:23:33    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\n18:23:33    at jdk.internal.reflect.GeneratedMethodAccessor210.invoke(Unknown Source)\n18:23:33    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n18:23:33    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n18:23:33    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n18:23:33    at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\n18:23:33    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\n18:23:33    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\n18:23:33    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\n18:23:33    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.access$001(SandboxContinuable.java:18)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.SandboxContinuable.run0(SandboxContinuable.java:51)\n18:23:33    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\n\n\n</code></pre>\n"},{"tags":["java","printf"],"answers":[{"tags":[],"owner":{"account_id":4876168,"reputation":3687,"user_id":3931225,"display_name":"KompjoeFriek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667092253,"creation_date":1667092253,"answer_id":74249902,"question_id":74249879,"body_markdown":"You can add it with `%s` in the format string:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\nAlternatively, you can just add the text inside the format string:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);","title":"How do you add a string in a print f statement","body":"<p>You can add it with <code>%s</code> in the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% %s&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n</code></pre>\n<p>Alternatively, you can just add the text inside the format string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%% success! ~~~~\\n&quot;, percent);\n</code></pre>\n"}],"owner":{"account_id":26039276,"reputation":7,"user_id":19744334,"display_name":"Songline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667119066,"creation_date":1667091828,"question_id":74249879,"body_markdown":"\r\n```\r\n        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\r\n\r\n```\r\n\r\nI want the output to be `~~~~100.0% success! ~~~~`, but it&#39;s giving me only `~~~~100.0%`. How do I fix this?\r\n\r\nI tried using `+`, but it gave me a bunch of errors.","title":"How do you add a string in a print f statement","body":"<pre><code>        System.out.printf(&quot;\\t\\t\\t\\t~~~~ %.2f%%\\n&quot;, percent, &quot;success! ~~~~&quot; + &quot;\\n&quot;);\n\n</code></pre>\n<p>I want the output to be <code>~~~~100.0% success! ~~~~</code>, but it's giving me only <code>~~~~100.0%</code>. How do I fix this?</p>\n<p>I tried using <code>+</code>, but it gave me a bunch of errors.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565744056,"post_id":57486892,"comment_id":101444665,"body_markdown":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals","body":"this works if user is filtering with just one gem and one metal but doesn&#39;t if multiple gems and metals"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565744610,"post_id":57486892,"comment_id":101444741,"body_markdown":"You need to use `join fetch` instead of just `join` since the collections are lazily loading, That is why you don&#39;t see any results","body":"You need to use <code>join fetch</code> instead of just <code>join</code> since the collections are lazily loading, That is why you don&#39;t see any results"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565745555,"post_id":57486892,"comment_id":101444909,"body_markdown":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal.","body":"Result is still zero with join fetch. the current query with just join works if I ask for just one gem or just one metal or just one gem and one metal."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1565745967,"post_id":57486892,"comment_id":101445000,"body_markdown":"If you are passing objects as parameters use equal instead of in eg `where g=:gemstone1` or better keep in and pass a list instead as a parameter of the 2 objects e.g `setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))`","body":"If you are passing objects as parameters use equal instead of in eg <code>where g=:gemstone1</code> or better keep in and pass a list instead as a parameter of the 2 objects e.g <code>setParameter(&quot;gemstones&quot;, List.of(gem1,gem2))</code>"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565746106,"post_id":57486892,"comment_id":101445030,"body_markdown":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list.","body":"Please see my edit the other query that i tried.  I tried passing the list but it gives me result with using OR condition between the values in the list. I need data with AND condition between all the values in the list."},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565761144,"post_id":57486892,"comment_id":101447810,"body_markdown":"Edited the post with my latest try and cleaned up the question","body":"Edited the post with my latest try and cleaned up the question"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794608,"post_id":57486892,"comment_id":101464115,"body_markdown":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products \n\nBTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use `GROUP  BY g` instead of `p` but like I said before you don&#39;t need using having at all","body":"Why should the query returns only product[4], product[5] also has gemstones with ids 46,51, So it is true that the query without using having clause returns these 2 products   BTW, The problem of using having clause that you are grouping by product id and expect to have more than product that is a contradiction, so I guess you meant to use <code>GROUP  BY g</code> instead of <code>p</code> but like I said before you don&#39;t need using having at all"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565794704,"post_id":57486892,"comment_id":101464171,"body_markdown":"Make sure to use `select distinct(p.productId)` so that you don&#39;t have any duplicates","body":"Make sure to use <code>select distinct(p.productId)</code> so that you don&#39;t have any duplicates"},{"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"score":0,"creation_date":1565794861,"post_id":57486892,"comment_id":101464263,"body_markdown":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening.","body":"That is the ask, a query that would return product[4] only because product[5] has an extra gemstone in it. Thanks for you suggestion. I will give it a try when I get back home in evening."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1565798633,"post_id":57486892,"comment_id":101466264,"body_markdown":"see this post similar case to yours https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set","body":"see this post similar case to yours <a href=\"https://stackoverflow.com/questions/2879161/hql-to-get-elements-that-possess-all-items-in-a-set\" title=\"hql to get elements that possess all items in a set\">stackoverflow.com/questions/2879161/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667118195,"creation_date":1565817663,"answer_id":57502223,"question_id":57486892,"body_markdown":"Actually the SQL query that we need here is pretty simple:\r\n```SQL\r\nSELECT t1.product_id \r\nFROM gemstone_product AS t1 \r\nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\r\nGROUP BY  t1.product_id  \r\nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\r\n```\r\nIt&#39;s a bit frustrating that it&#39;s not easy to create it with JPA, but it can be done with [FluentJPA][1] (produces the query above):\r\n\r\n```java\r\npublic List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\r\n    int count = gemstoneIds.size();\r\n\r\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\r\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\r\n\r\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\r\n\r\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\r\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\r\n\r\n        SELECT(productId);\r\n        FROM(gemstoneProduct);\r\n        WHERE(gemstoneIds.contains(gemstoneId));\r\n        GROUP(BY(productId));\r\n        HAVING(COUNT(gemstoneId) == count);\r\n    });\r\n    return query.createQuery(em).getResultList();\r\n}\r\n```\r\n\r\nMore details on how it works can be found [here][2].\r\n\r\n\r\n  [1]: https://github.com/streamx-co/FluentJPA\r\n  [2]: https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany","title":"HQL or SQL query to get data from many to many related entities","body":"<p>Actually the SQL query that we need here is pretty simple:</p>\n<pre><code>SELECT t1.product_id \nFROM gemstone_product AS t1 \nWHERE (t1.gemstone_id IN ?1 )  # (51, 46)\nGROUP BY  t1.product_id  \nHAVING (COUNT(t1.gemstone_id) = ?2) # 2 - # of items\n</code></pre>\n<p>It's a bit frustrating that it's not easy to create it with JPA, but it can be done with <a href=\"https://github.com/streamx-co/FluentJPA\" rel=\"nofollow noreferrer\">FluentJPA</a> (produces the query above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Integer&gt; getProductsContainingAllStones(List&lt;Long&gt; gemstoneIds) {\n    int count = gemstoneIds.size();\n\n    FluentQuery query = FluentJPA.SQL((Gemstone gemstone,\n                                       JoinTable&lt;Gemstone, Product&gt; gemstoneProduct) -&gt; {\n\n        discardSQL(gemstoneProduct.join(gemstone, Gemstone::getProducts));\n\n        long productId = gemstoneProduct.getInverseJoined().getProductId();\n        long gemstoneId = gemstoneProduct.getJoined().getGemstoneId();\n\n        SELECT(productId);\n        FROM(gemstoneProduct);\n        WHERE(gemstoneIds.contains(gemstoneId));\n        GROUP(BY(productId));\n        HAVING(COUNT(gemstoneId) == count);\n    });\n    return query.createQuery(em).getResultList();\n}\n</code></pre>\n<p>More details on how it works can be found <a href=\"https://github.com/streamx-co/FluentJPA/wiki/JPA-Integration#manytomany\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667118195,"creation_date":1565743670,"question_id":57486892,"body_markdown":"I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\r\nI have the following tables/entities : Product and Gemstone\r\n\r\n####**Relations:** ####\r\n- Product many2many Gemstone\r\n\r\n*I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.*\r\n\r\n\r\n####**Use Case:**####\r\nIf user is asking for a product with gemstones 51 and 46. Query should only return product id 4. \r\n\r\n####**Query:**####\r\nfilterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove ```HAVING Count(DISTINCT p.product_id) = 2``` I get product id 4, 5\r\n\r\n![two muppets][1]\r\n\r\n - HQL : \r\n         \r\n        createQuery(&quot;select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =&quot; +  filterGemstones().size() ).setParameter(&quot;gemstones&quot;,filterGemstones());\r\n - SQL generate by hibernate :\r\n\r\n        \r\n        SELECT p.product_id \r\n        FROM   product p \r\n        INNER JOIN gemstone_product gp \r\n               ON p.product_id = gp.product_id \r\n        INNER JOIN gemstone g \r\n               ON gp.gemstone_id = g.gemstone_id \r\n        WHERE  g.gemstone_id IN ( 51, 46 ) \r\n        GROUP  BY p.product_id \r\n        HAVING Count(DISTINCT p.product_id) = 2 \r\n\r\n\r\n\r\n###Product class:###\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;product_id&quot;)\r\n    private long productId;\r\n\r\n    @ManyToMany()\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;product_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)}\r\n    )\r\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\r\n  \r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n\r\n###Gemstone class:###\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gemstone&quot;)\r\npublic class Gemstone {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;gemstone_id&quot;)\r\n    private long gemstoneId;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;gemstone_product&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;gemstone_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;product_id&quot;)}\r\n    )\r\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\r\n\r\n// setters and getters\r\n}\r\n\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/ProJB.png &quot;tooltip&quot;","title":"HQL or SQL query to get data from many to many related entities","body":"<p>I am using spring with hibernate to store data in MySql database. I am trying to retrieve rows based on filters requested by the user.\nI have the following tables/entities : Product and Gemstone</p>\n\n<strong>Relations:</strong>\n\n<ul>\n<li>Product many2many Gemstone</li>\n</ul>\n\n<p><em>I am trying to write a query to get products that have Gemstone A and Gemstone B and Gemstone C.. and so on.</em></p>\n\n<strong>Use Case:</strong>\n\n<p>If user is asking for a product with gemstones 51 and 46. Query should only return product id 4. </p>\n\n<strong>Query:</strong>\n\n<p>filterGemstones() method return the gemstone user wants to filter products to. Using the below query I get zero records but if I remove <code>HAVING Count(DISTINCT p.product_id) = 2</code> I get product id 4, 5</p>\n\n<p><img src=\"https://i.stack.imgur.com/ProJB.png\" alt=\"two muppets\" title=\"tooltip\"></p>\n\n<ul>\n<li><p>HQL : </p>\n\n<pre><code>createQuery(\"select p.productId from Product p JOIN p.gemstones g where g in :gemstones group by p having count (distinct p) =\" +  filterGemstones().size() ).setParameter(\"gemstones\",filterGemstones());\n</code></pre></li>\n<li><p>SQL generate by hibernate :</p>\n\n<pre><code>SELECT p.product_id \nFROM   product p \nINNER JOIN gemstone_product gp \n       ON p.product_id = gp.product_id \nINNER JOIN gemstone g \n       ON gp.gemstone_id = g.gemstone_id \nWHERE  g.gemstone_id IN ( 51, 46 ) \nGROUP  BY p.product_id \nHAVING Count(DISTINCT p.product_id) = 2 \n</code></pre></li>\n</ul>\n\n<h3>Product class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"product\")\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"product_id\")\n    private long productId;\n\n    @ManyToMany()\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"product_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"gemstone_id\")}\n    )\n    private Set&lt;Gemstone&gt; gemstones = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n\n<h3>Gemstone class:</h3>\n\n<pre><code>@Entity\n@Table(name = \"gemstone\")\npublic class Gemstone {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = \"gemstone_id\")\n    private long gemstoneId;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"gemstone_product\",\n            joinColumns = {@JoinColumn(name = \"gemstone_id\")},\n            inverseJoinColumns = {@JoinColumn(name = \"product_id\")}\n    )\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;(0);\n\n// setters and getters\n}\n\n</code></pre>\n"},{"tags":["java","validation","java.util.scanner"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667115830,"post_id":74251217,"comment_id":131091136,"body_markdown":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?","body":"Using scan.hasNextDouble() || scan.hasNextInt() seems to be a proper way, what exactly is not working?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667116785,"post_id":74251217,"comment_id":131091258,"body_markdown":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples","body":"usually it is better to be more specific than just &quot;doesn&#39;t work like I wanted it to be&quot; - not only explain exactly what you want (is OK in this question) but also explain what it is doing (how that is wrong) including input/output examples"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1667133583,"post_id":74251217,"comment_id":131093946,"body_markdown":"`if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }` Validates a string entry for a signed or unsigned Integer or Floating Point numerical value.","body":"<code>if (num1.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)) { number1 = Double.parseDouble(num1); }</code> Validates a string entry for a signed or unsigned Integer or Floating Point numerical value."}],"owner":{"account_id":21362606,"reputation":3,"user_id":15731013,"display_name":"Aldrin James Santos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667114779,"creation_date":1667114608,"question_id":74251217,"body_markdown":"This is my code. I want to check if the input is either double or int.. it doesn&#39;t throw an error but it also doesn&#39;t work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar) \r\n\r\n```\r\nimport java.util.Scanner;\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        double number1 = 0;\r\n        double numb2 = 0;\r\n        int number3 = 0;\r\n        try{\r\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\r\n        String num1 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\r\n        String num2 = scan.nextLine();\r\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\r\n        String num3 = scan.nextLine();\r\n       if(scan.hasNext()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       if(scan.hasNext()){\r\n              number3 =  Integer.parseInt(num3);\r\n       }\r\n       else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n       \r\n       double ans = number1 + numb2 + number3;\r\n       \r\n       System.out.println(ans);\r\n       \r\n       \r\n\r\n        }\r\n        catch (Exception e) {\r\n      System.out.println(&quot;Something went wrong.&quot;);\r\n    }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI also try doing this but it does the same.\r\n```\r\n if(scan.hasNextDouble() || scan.hasNextInt()){\r\n             number1 = Double.parseDouble(num1);\r\n             numb2 = Double.parseDouble(num2);\r\n             number3 =  Integer.parseInt(num3);\r\n           \r\n       }else{\r\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\r\n       }\r\n\r\n```\r\n","title":"Validation for double and Integer","body":"<p>This is my code. I want to check if the input is either double or int.. it doesn't throw an error but it also doesn't work like I wanted it to be. Any help will be appreciated. the code was not yet finished please dont mind the computation.. (Sorry for my grammar)</p>\n<pre><code>import java.util.Scanner;\nclass HelloWorld {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        double number1 = 0;\n        double numb2 = 0;\n        int number3 = 0;\n        try{\n        System.out.println(&quot;Please enter the amount to be deposited each month: &quot;);\n        String num1 = scan.nextLine();\n        System.out.println(&quot;Please enter the annual interest rate: &quot;);\n        String num2 = scan.nextLine();\n        System.out.println(&quot;Please enter the month you plan to save: &quot;);\n        String num3 = scan.nextLine();\n       if(scan.hasNext()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       if(scan.hasNext()){\n              number3 =  Integer.parseInt(num3);\n       }\n       else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n       \n       double ans = number1 + numb2 + number3;\n       \n       System.out.println(ans);\n       \n       \n\n        }\n        catch (Exception e) {\n      System.out.println(&quot;Something went wrong.&quot;);\n    }\n    }\n}\n\n</code></pre>\n<p>I also try doing this but it does the same.</p>\n<pre><code> if(scan.hasNextDouble() || scan.hasNextInt()){\n             number1 = Double.parseDouble(num1);\n             numb2 = Double.parseDouble(num2);\n             number3 =  Integer.parseInt(num3);\n           \n       }else{\n           System.out.println(&quot;Invalid response! Please enter a number. /n&quot;);\n       }\n\n</code></pre>\n"},{"tags":["java","android","android-studio","keystore","jks"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667119068,"post_id":74251142,"comment_id":131091605,"body_markdown":"You are looking for KeyStore or TrustStore?  Request you to please add more details in question.","body":"You are looking for KeyStore or TrustStore?  Request you to please add more details in question."},{"owner":{"account_id":21222937,"reputation":21,"user_id":15609094,"display_name":"Learner"},"score":0,"creation_date":1667128928,"post_id":74251142,"comment_id":131093097,"body_markdown":"@RohitAgarwal\nThe .jks file that&#39;s required to generate apk and aab","body":"@RohitAgarwal The .jks file that&#39;s required to generate apk and aab"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667135182,"post_id":74251142,"comment_id":131094301,"body_markdown":"Yes that is possible, you are refer this link https://stackoverflow.com/a/47565937/7871511 to generate custom Keystore/truststore","body":"Yes that is possible, you are refer this link <a href=\"https://stackoverflow.com/a/47565937/7871511\">stackoverflow.com/a/47565937/7871511</a> to generate custom Keystore/truststore"}],"owner":{"account_id":21222937,"reputation":21,"user_id":15609094,"display_name":"Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667154055,"answer_count":0,"score":0,"last_activity_date":1667113507,"creation_date":1667113507,"question_id":74251142,"body_markdown":"I want to create new keystore file for my app. Is it possible?","title":"How to change .jks file for my app? I want to change both passwords","body":"<p>I want to create new keystore file for my app. Is it possible?</p>\n"},{"tags":["java","spring-boot","datetime-format","datetime-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667112409,"post_id":74250824,"comment_id":131090690,"body_markdown":"Welcome to Stack Overflow. Please search before asking.","body":"Welcome to Stack Overflow. Please search before asking."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667113029,"post_id":74250824,"comment_id":131090765,"body_markdown":"Only when you search, avoid any suggestions to use the old classes like `SimpleDateFormat` and `Date`. They were supplanted nearly 10 years ago by [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). You will need classes `OffsetDateTime` and `DateTimeFormatter` and possibly more.","body":"Only when you search, avoid any suggestions to use the old classes like <code>SimpleDateFormat</code> and <code>Date</code>. They were supplanted nearly 10 years ago by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. You will need classes <code>OffsetDateTime</code> and <code>DateTimeFormatter</code> and possibly more."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667113248,"post_id":74250824,"comment_id":131090791,"body_markdown":"Your source strings include offset from UTC or GMT (zero in both your examples). Assuming that the offset may also be non-zero,in which time zone or at which offset do you want the result format? It will be a bad idea to retain the offset from the original string without telling the reader of the new string which it was.","body":"Your source strings include offset from UTC or GMT (zero in both your examples). Assuming that the offset may also be non-zero,in which time zone or at which offset do you want the result format? It will be a bad idea to retain the offset from the original string without telling the reader of the new string which it was."}],"owner":{"account_id":26736261,"reputation":1,"user_id":20337795,"display_name":"YYC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667112475,"answer_count":0,"score":0,"last_activity_date":1667113135,"creation_date":1667109074,"question_id":74250824,"body_markdown":"Date string1: 2022-10-30T04:45:00+00:00  \r\nDate string2: Oct 30, 2022 at 04:45 GMT\r\n\r\nDate string1 and Date string2, i want formate is &quot;yyyy/MM/dd HH:mm:ss&quot;","title":"Date string format convert","body":"<p>Date string1: 2022-10-30T04:45:00+00:00<br />\nDate string2: Oct 30, 2022 at 04:45 GMT</p>\n<p>Date string1 and Date string2, i want formate is &quot;yyyy/MM/dd HH:mm:ss&quot;</p>\n"},{"tags":["java","multithreading","ipc","java-threads"],"comments":[{"owner":{"account_id":9938803,"reputation":128,"user_id":7466089,"display_name":"Fabian Brand&#227;o"},"score":0,"creation_date":1544698248,"post_id":43289395,"comment_id":94372210,"body_markdown":"I think this can help you: [Java Threads: Using wait, notify, and notifyAll](https://www.devmedia.com.br/java-threads-utilizando-wait-notify-e-notifyall/29545)","body":"I think this can help you: <a href=\"https://www.devmedia.com.br/java-threads-utilizando-wait-notify-e-notifyall/29545\" rel=\"nofollow noreferrer\">Java Threads: Using wait, notify, and notifyAll</a>"}],"answers":[{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1491621685,"post_id":43289477,"comment_id":73647221,"body_markdown":"And all that said (which is pretty decent advice) I wouldn&#39;t use wait/notify at all.  I&#39;d use some classes from the `java.util.concurrent` package: `Lock`, `Semaphore` and `CyclicBarrier` are [all better bets](http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/) than trying to manage synchronization yourself.","body":"And all that said (which is pretty decent advice) I wouldn&#39;t use wait/notify at all.  I&#39;d use some classes from the <code>java.util.concurrent</code> package: <code>Lock</code>, <code>Semaphore</code> and <code>CyclicBarrier</code> are <a href=\"http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/\" rel=\"nofollow noreferrer\">all better bets</a> than trying to manage synchronization yourself."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1491622624,"post_id":43289477,"comment_id":73647358,"body_markdown":"@markspace - That&#39;s true.  But in this case, I suspect that the OP is doing this to try to understand wait / notify.","body":"@markspace - That&#39;s true.  But in this case, I suspect that the OP is doing this to try to understand wait / notify."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667116186,"post_id":43289477,"comment_id":131091185,"body_markdown":"And it should also be noted that `Lock`, `Semaphore` and `CyclicBarrier` don&#39;t notify a *specific* thread.  In fact, they notify (in a sense) *some* thread that is using the concurrency object ... irrespective of its identity.","body":"And it should also be noted that <code>Lock</code>, <code>Semaphore</code> and <code>CyclicBarrier</code> don&#39;t notify a <i>specific</i> thread.  In fact, they notify (in a sense) <i>some</i> thread that is using the concurrency object ... irrespective of its identity."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1544696311,"creation_date":1491617950,"answer_id":43289477,"question_id":43289395,"body_markdown":"You don&#39;t / can&#39;t notify a specific thread.  You call `notify()` on a lock object.  This wakes up one of the threads&lt;sup&gt;1&lt;/sup&gt; that is waiting on the lock.  In your case, the lock object is a `Thread` ... which rather confuses the picture.  However, see below.\r\n\r\nBut your problem (the `IllegalMonitorStateException`) happens because the thread doing the notifying (i.e. the *current* thread) does not hold the lock.  It is a (hard) requirement that the current thread must hold the lock when it notifies a lock.\r\n\r\nFor more details, read the javadocs for `Object.wait(timeout)` or (for example) this: http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/\r\n\r\n&lt;sup&gt;1 - If multiple threads are waiting on your lock, one thread is chosen &quot;randomly&quot; by the scheduler.  Alternatively notifyAll will wake up all of the waiting threads.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\nI would NOT use a `Thread` object as a lock object.  It will possibly work, but there is also a chance that something else (maybe something in the runtime system) is also locking / waiting / notifying the `Thread` objects.  Then things would get very confusing.  \r\n \r\n(Indeed, read the [javadoc][1] for `Thread.join(long)` !)\r\n\r\n\r\nIt is BETTER to create lock objects specifically for this purpose; e.g.\r\n\r\n    private final Object lock = new Object();\r\n\r\n------------------\r\n\r\nAlso, writing classes that extend `Thread` is usually a bad idea.  It is usually better to implement the `Runnable` interface, instantiate it, and pass the instance as a parameter to the `Thread` constructor; e.g.\r\n\r\n    Thread t = new Thread(new Runnable() {\r\n        public void run() {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }});\r\n    t.start();\r\n\r\nOne advantage of implementing `Runnable` rather than extending `Thread` is that you can use your code more easily with something that manages the thread life cycles for you; e.g. an `ExecutorService`, a fork-join thread pool or a classic thread pool.\r\n\r\nA second one is that light-weight thread logic can be implemented concisely as an anonymous class ... as in my example.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#join(long)","title":"How to notify a specific thread in Java","body":"<p>You don't / can't notify a specific thread.  You call <code>notify()</code> on a lock object.  This wakes up one of the threads<sup>1</sup> that is waiting on the lock.  In your case, the lock object is a <code>Thread</code> ... which rather confuses the picture.  However, see below.</p>\n\n<p>But your problem (the <code>IllegalMonitorStateException</code>) happens because the thread doing the notifying (i.e. the <em>current</em> thread) does not hold the lock.  It is a (hard) requirement that the current thread must hold the lock when it notifies a lock.</p>\n\n<p>For more details, read the javadocs for <code>Object.wait(timeout)</code> or (for example) this: <a href=\"http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/\" rel=\"nofollow noreferrer\">http://howtodoinjava.com/core-java/multi-threading/how-to-work-with-wait-notify-and-notifyall-in-java/</a></p>\n\n<p><sup>1 - If multiple threads are waiting on your lock, one thread is chosen \"randomly\" by the scheduler.  Alternatively notifyAll will wake up all of the waiting threads.</sup></p>\n\n<hr>\n\n<p>I would NOT use a <code>Thread</code> object as a lock object.  It will possibly work, but there is also a chance that something else (maybe something in the runtime system) is also locking / waiting / notifying the <code>Thread</code> objects.  Then things would get very confusing.  </p>\n\n<p>(Indeed, read the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#join(long)\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Thread.join(long)</code> !)</p>\n\n<p>It is BETTER to create lock objects specifically for this purpose; e.g.</p>\n\n<pre><code>private final Object lock = new Object();\n</code></pre>\n\n<hr>\n\n<p>Also, writing classes that extend <code>Thread</code> is usually a bad idea.  It is usually better to implement the <code>Runnable</code> interface, instantiate it, and pass the instance as a parameter to the <code>Thread</code> constructor; e.g.</p>\n\n<pre><code>Thread t = new Thread(new Runnable() {\n    public void run() {\n        System.out.println(\"Hello world\");\n    }});\nt.start();\n</code></pre>\n\n<p>One advantage of implementing <code>Runnable</code> rather than extending <code>Thread</code> is that you can use your code more easily with something that manages the thread life cycles for you; e.g. an <code>ExecutorService</code>, a fork-join thread pool or a classic thread pool.</p>\n\n<p>A second one is that light-weight thread logic can be implemented concisely as an anonymous class ... as in my example.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491626358,"creation_date":1491622096,"answer_id":43289832,"question_id":43289395,"body_markdown":"To add some points;\r\n\r\nYour code is using intrinsic locks. Every object in the JVM has its own lock. *This lock has nothing to do with the functionality of the object.* Acquiring the lock by itself does nothing (in the absence of further measures like using the synchronized keyword) to prevent other threads from monkeying with the object&#39;s contents. Calling notify on a thread does not mean that that particular thread will receive a notification.\r\n\r\nAs said previously acquiring the lock on Thread objects is discouraged. The join method on Thread uses the intrinsic lock on the thread joined to. If code acquires a lock for different reasons then a thread can be notified for some condition that it may not care about.\r\n\r\nThe intrinsic lock is a go-between that tells the OS scheduler which threads are waiting. The OS scheduler decides which threads in the wait set for the lock get notified. When a thread calls notify on an object, it is telling the lock on that object to tell the scheduler to choose which waiting thread gets notified. The lock knows which threads are waiting but it doesn&#39;t know what condition they&#39;re waiting for. (ReentrantLock is a big improvement for this, see the API doc for Condition.)\r\n\r\nOf course notifyAll wakes up all the threads in the wait set, but again that is something the lock and the scheduler know. The thread calling notifyAll doesn&#39;t know about what threads are waiting. The system is designed intentionally so that threads cannot notify other threads directly.\r\n\r\nYet another thing here is that calling wait with no check for a condition is unreliable. If a thread doesn&#39;t happen to have acquired a lock before a notification is made, it misses that notification. If a thread receives a notification, that is no guarantee it will get the lock next, another thread could act and invalidate the state that the notified thread is expecting. Always have some internal state that the current thread can check to verify that the object&#39;s state is what the thread is expecting, and make that check as the test in a loop.\r\n\r\nFor instance if I have a fixed size blocking queue (implemented using a list internally, protecting it from concurrent access using synchronization) where threads try to take something from the queue but block if the queue is empty, the take method could look like:\r\n\r\n    public synchronized T take() throws InterruptedException {\r\n        while (list.isEmpty()) {\r\n            wait();\r\n        }\r\n        notifyAll();\r\n        return list.remove(0);\r\n    }\r\n\r\nOnce a waiting thread wakes and reacquires the lock, it checks to see if the current situation is what it has been waiting for. Only if that is the case should the thread exit the loop and proceed.\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>To add some points;</p>\n\n<p>Your code is using intrinsic locks. Every object in the JVM has its own lock. <em>This lock has nothing to do with the functionality of the object.</em> Acquiring the lock by itself does nothing (in the absence of further measures like using the synchronized keyword) to prevent other threads from monkeying with the object's contents. Calling notify on a thread does not mean that that particular thread will receive a notification.</p>\n\n<p>As said previously acquiring the lock on Thread objects is discouraged. The join method on Thread uses the intrinsic lock on the thread joined to. If code acquires a lock for different reasons then a thread can be notified for some condition that it may not care about.</p>\n\n<p>The intrinsic lock is a go-between that tells the OS scheduler which threads are waiting. The OS scheduler decides which threads in the wait set for the lock get notified. When a thread calls notify on an object, it is telling the lock on that object to tell the scheduler to choose which waiting thread gets notified. The lock knows which threads are waiting but it doesn't know what condition they're waiting for. (ReentrantLock is a big improvement for this, see the API doc for Condition.)</p>\n\n<p>Of course notifyAll wakes up all the threads in the wait set, but again that is something the lock and the scheduler know. The thread calling notifyAll doesn't know about what threads are waiting. The system is designed intentionally so that threads cannot notify other threads directly.</p>\n\n<p>Yet another thing here is that calling wait with no check for a condition is unreliable. If a thread doesn't happen to have acquired a lock before a notification is made, it misses that notification. If a thread receives a notification, that is no guarantee it will get the lock next, another thread could act and invalidate the state that the notified thread is expecting. Always have some internal state that the current thread can check to verify that the object's state is what the thread is expecting, and make that check as the test in a loop.</p>\n\n<p>For instance if I have a fixed size blocking queue (implemented using a list internally, protecting it from concurrent access using synchronization) where threads try to take something from the queue but block if the queue is empty, the take method could look like:</p>\n\n<pre><code>public synchronized T take() throws InterruptedException {\n    while (list.isEmpty()) {\n        wait();\n    }\n    notifyAll();\n    return list.remove(0);\n}\n</code></pre>\n\n<p>Once a waiting thread wakes and reacquires the lock, it checks to see if the current situation is what it has been waiting for. Only if that is the case should the thread exit the loop and proceed.</p>\n"},{"comments":[{"owner":{"account_id":6326429,"reputation":31,"user_id":4912772,"display_name":"Niraj"},"score":0,"creation_date":1552071416,"post_id":55069355,"comment_id":96886213,"body_markdown":"Here you can find out the nice example how to use wait and notify or notifyAll()","body":"Here you can find out the nice example how to use wait and notify or notifyAll()"},{"owner":{"account_id":6326429,"reputation":31,"user_id":4912772,"display_name":"Niraj"},"score":0,"creation_date":1552071488,"post_id":55069355,"comment_id":96886243,"body_markdown":"If you are using notify() instead of notifyAll() it  will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. Thanks","body":"If you are using notify() instead of notifyAll() it  will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. Thanks"},{"owner":{"account_id":14689593,"reputation":13402,"user_id":10608621,"display_name":"mechnicov"},"score":0,"creation_date":1552072731,"post_id":55069355,"comment_id":96886826,"body_markdown":"Add description to answer, not in comments","body":"Add description to answer, not in comments"}],"tags":[],"owner":{"account_id":6326429,"reputation":31,"user_id":4912772,"display_name":"Niraj"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552330688,"creation_date":1552071354,"answer_id":55069355,"question_id":43289395,"body_markdown":" Here you can find out the nice example how to use wait and notify or notifyAll() – Niraj 2 days ago    \r\nIf you are using notify() instead of notifyAll() it will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. \r\n\r\n\r\n       package com.construction.house;\r\n    \r\n    import com.construction.labours.LabourCement;\r\n    import com.construction.labours.LabourPainting;\r\n    import com.construction.labours.LabourPolishMarbel;\r\n    \r\n    public class House implements Runnable{\r\n    \r\n    \tpublic House() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tHouse myHouse = new House();\r\n    \t\tLabourCement labourCement = new LabourCement(myHouse,&quot;Cement&quot;);\r\n    \t\tlabourCement.start();\r\n    \r\n    \t\tLabourPainting labourPaining = new LabourPainting(myHouse,&quot;Painter&quot;);\r\n    \t\tlabourPaining.start();\r\n    \r\n    \t\tLabourPolishMarbel labourPolish = new LabourPolishMarbel(myHouse,&quot;PolishMan&quot;);\r\n    \t\tlabourPolish.start();\r\n    \r\n    \t}\r\n    \tboolean isPolished = false,isCemented = false,isPaited = false;\r\n    \r\n    \tpublic synchronized void workAsDemand() throws InterruptedException {\r\n    \t\tif (!isPolished) {\r\n    \t\t\tisPolished = true;\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Polish in progress&quot;);\r\n    \t\t\twait();\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Polish Completed&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (!isPaited) {\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Painting house in Progress&quot;);\r\n    \t\t\tisPaited = true;\r\n    \t\t\t//notify();\r\n    \t\t\twait();\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;---&gt;&gt;Painting house in Completed&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (!isCemented) {\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName()+&quot;----&gt;&gt;Cemented house&quot;);\r\n    \t\t\tisCemented = true;\r\n    \t\t\tnotifyAll();\r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\ttry {\r\n    \t\t\tworkAsDemand();\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourCement extends Thread {\r\n    \r\n    \tpublic LabourCement() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourCement(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourPolishMarbel extends Thread {\r\n    \r\n    \tpublic LabourPolishMarbel() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    package com.construction.labours;\r\n    \r\n    public class LabourPainting extends Thread {\r\n    \r\n    \tpublic LabourPainting() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(Runnable arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(String arg0) {\r\n    \t\tsuper(arg0);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(Runnable arg0, String arg1) {\r\n    \t\tsuper(arg0, arg1);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2) {\r\n    \t\tsuper(arg0, arg1, arg2);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \tpublic LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\r\n    \t\tsuper(arg0, arg1, arg2, arg3);\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>Here you can find out the nice example how to use wait and notify or notifyAll() – Niraj 2 days ago<br>\nIf you are using notify() instead of notifyAll() it will triger only one thread in wait() state with high priority. If you are using notifyAll() it will triger all the thread which was in wait() state. </p>\n\n<pre><code>   package com.construction.house;\n\nimport com.construction.labours.LabourCement;\nimport com.construction.labours.LabourPainting;\nimport com.construction.labours.LabourPolishMarbel;\n\npublic class House implements Runnable{\n\n    public House() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        House myHouse = new House();\n        LabourCement labourCement = new LabourCement(myHouse,\"Cement\");\n        labourCement.start();\n\n        LabourPainting labourPaining = new LabourPainting(myHouse,\"Painter\");\n        labourPaining.start();\n\n        LabourPolishMarbel labourPolish = new LabourPolishMarbel(myHouse,\"PolishMan\");\n        labourPolish.start();\n\n    }\n    boolean isPolished = false,isCemented = false,isPaited = false;\n\n    public synchronized void workAsDemand() throws InterruptedException {\n        if (!isPolished) {\n            isPolished = true;\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Polish in progress\");\n            wait();\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Polish Completed\");\n\n        }\n\n        else if (!isPaited) {\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Painting house in Progress\");\n            isPaited = true;\n            //notify();\n            wait();\n            System.out.println(Thread.currentThread().getName()+\"---&gt;&gt;Painting house in Completed\");\n\n        }\n\n        else if (!isCemented) {\n            System.out.println(Thread.currentThread().getName()+\"----&gt;&gt;Cemented house\");\n            isCemented = true;\n            notifyAll();\n\n        }\n\n\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        try {\n            workAsDemand();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n\n\n\npackage com.construction.labours;\n\npublic class LabourCement extends Thread {\n\n    public LabourCement() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourCement(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n\n}\n\n\n\npackage com.construction.labours;\n\npublic class LabourPolishMarbel extends Thread {\n\n    public LabourPolishMarbel() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPolishMarbel(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n}\n\n\n\n\npackage com.construction.labours;\n\npublic class LabourPainting extends Thread {\n\n    public LabourPainting() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(Runnable arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(String arg0) {\n        super(arg0);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(Runnable arg0, String arg1) {\n        super(arg0, arg1);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2) {\n        super(arg0, arg1, arg2);\n        // TODO Auto-generated constructor stub\n    }\n\n    public LabourPainting(ThreadGroup arg0, Runnable arg1, String arg2, long arg3) {\n        super(arg0, arg1, arg2, arg3);\n        // TODO Auto-generated constructor stub\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16288710,"reputation":3,"user_id":11762740,"display_name":"amit patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602176929,"creation_date":1602175596,"answer_id":64267098,"question_id":43289395,"body_markdown":"\r\nSolution: remove calling object `t1`.\r\n\r\nChange `t1.notify()` to `notify()`.","title":"How to notify a specific thread in Java","body":"<p>Solution: remove calling object <code>t1</code>.</p>\n<p>Change <code>t1.notify()</code> to <code>notify()</code>.</p>\n"},{"tags":[],"owner":{"account_id":19088549,"reputation":75,"user_id":13939277,"display_name":"Adarsh Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657554328,"creation_date":1657553830,"answer_id":72941118,"question_id":43289395,"body_markdown":"    Proper Explanation:\r\nOkay first of all wait(), notify() and notifyAll() methods have to be called over the lock object which are used by threads for synchronization. In your case, you have used synchronization on the method level so JRE takes this as something like:\r\n    \r\n    void methodOne() {\r\n    synchronised(this) {\r\n    // code you want to execute mutually exclusively.\r\n    }\r\n    }\r\n so here the monitor lock object is your Shared object itself, and the threads will use this as the monitor object to execute their code mutually exclusively. So now, One of your thread might be in the WAITING STATE in the lock object monitor, So to notify that object you have to call a method notify() or notifyAll() on the lock monitor object(because threads are in the monitor state of the lock object in different STATES) only. \r\n    So you will say this.notify() or this.notifyAll() on the monitor object only.\r\n    (If you use any other lock object for synchronization then all these methods get called over that lock object only).\r\n    notify(): will notify any of the thread which is in WAITING STATE in the lock object monitor.\r\n    notifyAll(): will notify all the threads which are in WAITING STATE in the lock object monitor.\r\n    When we call notify() or notifyAll() over the monitor lock object then the threads state gets changed from WAITING to RUNNABLE, as it gets to RUNNABLE STATE for a very short period of time, then the STATE gets changed to BLOCKED STATE because the threads in lock object monitor which just got notify() didn&#39;t get the lock object for executing their code -&gt; if the thread which calls the method this.notify() didn&#39;t complete its execution after notifying.","title":"How to notify a specific thread in Java","body":"<pre><code>Proper Explanation:\n</code></pre>\n<p>Okay first of all wait(), notify() and notifyAll() methods have to be called over the lock object which are used by threads for synchronization. In your case, you have used synchronization on the method level so JRE takes this as something like:</p>\n<pre><code>void methodOne() {\nsynchronised(this) {\n// code you want to execute mutually exclusively.\n}\n}\n</code></pre>\n<p>so here the monitor lock object is your Shared object itself, and the threads will use this as the monitor object to execute their code mutually exclusively. So now, One of your thread might be in the WAITING STATE in the lock object monitor, So to notify that object you have to call a method notify() or notifyAll() on the lock monitor object(because threads are in the monitor state of the lock object in different STATES) only.\nSo you will say this.notify() or this.notifyAll() on the monitor object only.\n(If you use any other lock object for synchronization then all these methods get called over that lock object only).\nnotify(): will notify any of the thread which is in WAITING STATE in the lock object monitor.\nnotifyAll(): will notify all the threads which are in WAITING STATE in the lock object monitor.\nWhen we call notify() or notifyAll() over the monitor lock object then the threads state gets changed from WAITING to RUNNABLE, as it gets to RUNNABLE STATE for a very short period of time, then the STATE gets changed to BLOCKED STATE because the threads in lock object monitor which just got notify() didn't get the lock object for executing their code -&gt; if the thread which calls the method this.notify() didn't complete its execution after notifying.</p>\n"},{"tags":[],"owner":{"account_id":26774128,"reputation":1,"user_id":20370020,"display_name":"Sunil Rathod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667113101,"creation_date":1667113101,"answer_id":74251106,"question_id":43289395,"body_markdown":"To communicate specific thread you need make use of thread owner follow below example here exp and singleton are object class\r\n\r\n\r\n\r\n      Thread t1 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               synchronized (exp){\r\n                   try {\r\n                       Log.e(&quot;Thread 1&quot;,&quot;thread 1 going to waiting state &quot;);\r\n                       exp.wait();\r\n                   } catch (InterruptedException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n               }\r\n               synchronized (singleton) {\r\n                   singleton.notify();\r\n               }\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (exp) {\r\n                    Log.e(&quot;Thread 2&quot;,&quot;notified to all thread &quot;);\r\n                    exp.notify();\r\n                }\r\n            }\r\n        });\r\n        Thread t3 = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (singleton){\r\n                    try {\r\n                        Log.e(&quot;Thread 3&quot;,&quot;thread 3 going to waiting state &quot;);\r\n                        singleton.wait();\r\n                        Log.e(&quot;Thread 3&quot;,&quot;thread 3 notified&quot;);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n\r\nif you try to notify a thread which owner object is different then it will give error IllegalMonitorState exception while notify you must be care full same object owner must required.","title":"How to notify a specific thread in Java","body":"<p>To communicate specific thread you need make use of thread owner follow below example here exp and singleton are object class</p>\n<pre><code>  Thread t1 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n           synchronized (exp){\n               try {\n                   Log.e(&quot;Thread 1&quot;,&quot;thread 1 going to waiting state &quot;);\n                   exp.wait();\n               } catch (InterruptedException e) {\n                   e.printStackTrace();\n               }\n           }\n           synchronized (singleton) {\n               singleton.notify();\n           }\n        }\n    });\n\n    Thread t2 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            synchronized (exp) {\n                Log.e(&quot;Thread 2&quot;,&quot;notified to all thread &quot;);\n                exp.notify();\n            }\n        }\n    });\n    Thread t3 = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            synchronized (singleton){\n                try {\n                    Log.e(&quot;Thread 3&quot;,&quot;thread 3 going to waiting state &quot;);\n                    singleton.wait();\n                    Log.e(&quot;Thread 3&quot;,&quot;thread 3 notified&quot;);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n    t1.start();\n    t2.start();\n    t3.start();\n</code></pre>\n<p>if you try to notify a thread which owner object is different then it will give error IllegalMonitorState exception while notify you must be care full same object owner must required.</p>\n"}],"owner":{"account_id":8856540,"reputation":81,"user_id":6614159,"accept_rate":0,"display_name":"Muniyasamy V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18842,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1667113101,"creation_date":1491616935,"question_id":43289395,"body_markdown":"How I can call a particular thread in inter-thread communication?\r\n\r\nIn the program below I have two threads `t1` and `t2`.\r\n\r\nWhen I call `t1.notify()` it raises:\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.IllegalMonitorStateException\r\n    \tat java.lang.Object.notify(Native Method)\r\n    \tat Shared.methodTwo(NotifyThread.java:43)\r\n    \tat Thread2.run(NotifyThread.java:77)\r\n    Error \r\n\r\n---\r\n\r\n    class Shared {\r\n    \t\r\n    \tThread1 t1 ;\r\n    \tThread2 t2 ;\r\n    \t\r\n    \tvoid ThreadInit( Thread1 t1 , Thread2 t2 ) {\r\n    \t\tthis.t1 = t1 ;\r\n    \t\tthis.t2 = t2 ;\r\n    \t}\r\n    \t\r\n        synchronized void methodOne()\r\n        {\r\n            Thread t = Thread.currentThread();\r\n     \r\n            System.out.println(t.getName()+&quot; is relasing the lock and going to wait&quot;);\r\n     \r\n            try\r\n            {\r\n                wait();        //releases the lock of this object and waits\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            System.out.println(t.getName()+&quot; got the object lock back and can continue with it&#39;s execution&quot;);\r\n        }\r\n     \r\n        synchronized void methodTwo()\r\n        {\r\n            Thread t = Thread.currentThread();\r\n     \r\n            try\r\n            {\r\n                Thread.sleep(5000);\r\n            }\r\n            catch (InterruptedException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            t1.notify();     \r\n     \r\n            System.out.println(&quot;A thread which is waiting for lock of this object is notified by &quot;+t.getName());\r\n        }\r\n        }\r\n    \r\n        class Thread1 extends Thread \r\n        {\r\n    \tShared s ;\r\n    \tThread1( Shared s ) {\r\n    \t\t\r\n    \t\tthis.s = s ;\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n                {\r\n                    s.methodOne();   //t1 calling methodOne() of &#39;s&#39; object\r\n                }\r\n    \t\r\n        } \r\n     \r\n        class Thread2 extends Thread {\r\n    \t     Shared s ;\r\n    \tThread2( Shared s ) {\r\n    \t\t\r\n    \t\tthis.s = s ;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n                {\r\n                    s.methodTwo();   //t1 calling methodOne() of &#39;s&#39; object\r\n                }\r\n    \t\r\n    \t\r\n        }\r\n        public class NotifyThread \r\n        {\r\n        public static void main(String[] args)\r\n        {\r\n            final Shared s = new Shared();\r\n            \r\n    \t\tThread1 t1 = new Thread1(s) ;\r\n    \t\tThread2 t2 = new Thread2(s) ;\r\n    \t\t\r\n    \t\ts.ThreadInit(t1,t2) ;\r\n    \t\t\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n\r\n","title":"How to notify a specific thread in Java","body":"<p>How I can call a particular thread in inter-thread communication?</p>\n\n<p>In the program below I have two threads <code>t1</code> and <code>t2</code>.</p>\n\n<p>When I call <code>t1.notify()</code> it raises:</p>\n\n<pre><code>Exception in thread \"Thread-1\" java.lang.IllegalMonitorStateException\n    at java.lang.Object.notify(Native Method)\n    at Shared.methodTwo(NotifyThread.java:43)\n    at Thread2.run(NotifyThread.java:77)\nError \n</code></pre>\n\n<hr>\n\n<pre><code>class Shared {\n\n    Thread1 t1 ;\n    Thread2 t2 ;\n\n    void ThreadInit( Thread1 t1 , Thread2 t2 ) {\n        this.t1 = t1 ;\n        this.t2 = t2 ;\n    }\n\n    synchronized void methodOne()\n    {\n        Thread t = Thread.currentThread();\n\n        System.out.println(t.getName()+\" is relasing the lock and going to wait\");\n\n        try\n        {\n            wait();        //releases the lock of this object and waits\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n\n        System.out.println(t.getName()+\" got the object lock back and can continue with it's execution\");\n    }\n\n    synchronized void methodTwo()\n    {\n        Thread t = Thread.currentThread();\n\n        try\n        {\n            Thread.sleep(5000);\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n\n        t1.notify();     \n\n        System.out.println(\"A thread which is waiting for lock of this object is notified by \"+t.getName());\n    }\n    }\n\n    class Thread1 extends Thread \n    {\n    Shared s ;\n    Thread1( Shared s ) {\n\n        this.s = s ;\n    }\n\n    public void run()\n            {\n                s.methodOne();   //t1 calling methodOne() of 's' object\n            }\n\n    } \n\n    class Thread2 extends Thread {\n         Shared s ;\n    Thread2( Shared s ) {\n\n        this.s = s ;\n\n    }\n\n    public void run()\n            {\n                s.methodTwo();   //t1 calling methodOne() of 's' object\n            }\n\n\n    }\n    public class NotifyThread \n    {\n    public static void main(String[] args)\n    {\n        final Shared s = new Shared();\n\n        Thread1 t1 = new Thread1(s) ;\n        Thread2 t2 = new Thread2(s) ;\n\n        s.ThreadInit(t1,t2) ;\n\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","bit-manipulation","bit"],"answers":[{"comments":[{"owner":{"account_id":562120,"reputation":1287,"user_id":69658,"accept_rate":75,"display_name":"joinJpegs"},"score":1,"creation_date":1237948399,"post_id":680012,"comment_id":493328,"body_markdown":"d&#39;oh! yes that&#39;s pretty simple. I was expecting some great bit-twiddling wizardry... Thanks for the quick reply, I&#39;ll use that for now, but I&#39;d be interested to see if there are any methods without loops and the such.","body":"d&#39;oh! yes that&#39;s pretty simple. I was expecting some great bit-twiddling wizardry... Thanks for the quick reply, I&#39;ll use that for now, but I&#39;d be interested to see if there are any methods without loops and the such."},{"owner":{"account_id":28129,"reputation":53928,"user_id":74815,"accept_rate":92,"display_name":"i_am_jorf"},"score":0,"creation_date":1237948691,"post_id":680012,"comment_id":493333,"body_markdown":"Well, you could unroll the loop since it should be bounded at 32 iterations (or 64--however Java works).","body":"Well, you could unroll the loop since it should be bounded at 32 iterations (or 64--however Java works)."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1237949960,"post_id":680012,"comment_id":493377,"body_markdown":"int is 32 bits in Java, long is 64.","body":"int is 32 bits in Java, long is 64."},{"owner":{"account_id":29004,"reputation":1782,"user_id":78006,"display_name":"AHelps"},"score":0,"creation_date":1237959951,"post_id":680012,"comment_id":493640,"body_markdown":"OK, I posted you a method with no loop. It still requires a few steps though ;).","body":"OK, I posted you a method with no loop. It still requires a few steps though ;)."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1237979902,"post_id":680012,"comment_id":494342,"body_markdown":"Not so good for negatives. Try `while (value != 0) { ++count; value &gt;&gt;&gt;= 1; }`. &gt;&gt;&gt; is the logical (no sign-extension) right shift operator.","body":"Not so good for negatives. Try <code>while (value != 0) { ++count; value &gt;&gt;&gt;= 1; }</code>. &gt;&gt;&gt; is the logical (no sign-extension) right shift operator."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1307446451,"post_id":680012,"comment_id":7308647,"body_markdown":"@whataheck `&gt;&gt; 1` divides by 2 rounding down to minus infinity (so -1 &quot;divided by 2&quot; is still -1). `&gt;&gt;&gt; 1` treats the number as if it was positive (unsigned) and divides by 2.","body":"@whataheck <code>&gt;&gt; 1</code> divides by 2 rounding down to minus infinity (so -1 &quot;divided by 2&quot; is still -1). <code>&gt;&gt;&gt; 1</code> treats the number as if it was positive (unsigned) and divides by 2."},{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":0,"creation_date":1307538577,"post_id":680012,"comment_id":7329443,"body_markdown":"@Tom Hawtin - tackline ok .. but when I try to  use  value &gt;&gt; 1;\n in my program,thers a compliation error &quot;value &gt;&gt; 1 &quot; is not a statement.","body":"@Tom Hawtin - tackline ok .. but when I try to  use  value &gt;&gt; 1;  in my program,thers a compliation error &quot;value &gt;&gt; 1 &quot; is not a statement."},{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":0,"creation_date":1307538686,"post_id":680012,"comment_id":7329484,"body_markdown":"@Tom Hawtin - tackline Also &gt;&gt; 1 is for negative numbers ,but in java we dont have unsigned numbers so every number though its a negative one is represented in bits before this operation takes place ,,.. then why do we have 2 operators one for positive and other for negative numbers ..","body":"@Tom Hawtin - tackline Also &gt;&gt; 1 is for negative numbers ,but in java we dont have unsigned numbers so every number though its a negative one is represented in bits before this operation takes place ,,.. then why do we have 2 operators one for positive and other for negative numbers .."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1307539145,"post_id":680012,"comment_id":7329623,"body_markdown":"@whataheck `value &gt;&gt; 1` is an expression, not a statement. So you&#39;d need to do something like `value = value &gt;&gt; 1;` or `value &gt;&gt;= 1;` (where a statement is valid). `&gt;&gt;` and `&gt;&gt;&gt;` work on both positive numbers, and produce the same results. The difference is how they treat negative numbers. Assembly languages typically have two mnemonics, such as `ASR` and `LSR` for arithmetic and logical shift right.","body":"@whataheck <code>value &gt;&gt; 1</code> is an expression, not a statement. So you&#39;d need to do something like <code>value = value &gt;&gt; 1;</code> or <code>value &gt;&gt;= 1;</code> (where a statement is valid). <code>&gt;&gt;</code> and <code>&gt;&gt;&gt;</code> work on both positive numbers, and produce the same results. The difference is how they treat negative numbers. Assembly languages typically have two mnemonics, such as <code>ASR</code> and <code>LSR</code> for arithmetic and logical shift right."}],"tags":[],"owner":{"account_id":28129,"reputation":53928,"user_id":74815,"accept_rate":92,"display_name":"i_am_jorf"},"comment_count":9,"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1328549767,"creation_date":1237948003,"answer_id":680012,"question_id":680002,"body_markdown":"Well, you can just count how many times you shift right before you&#39;re left with just zero:\r\n\r\n    int value = 11;\r\n    int count = 0;\r\n    while (value &gt; 0) {\r\n        count++;\r\n        value = value &gt;&gt; 1;\r\n    }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Well, you can just count how many times you shift right before you're left with just zero:</p>\n\n<pre><code>int value = 11;\nint count = 0;\nwhile (value &gt; 0) {\n    count++;\n    value = value &gt;&gt; 1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17729,"reputation":89093,"user_id":39992,"accept_rate":80,"display_name":"strager"},"score":2,"creation_date":1237949253,"post_id":680024,"comment_id":493355,"body_markdown":"I think decimalNumber should be decimalNumber + 1.  log_2 256 is 8, whereas it needs 9 bits to represent.  log_2 0 is undefined, but it needs zero bits to represent.","body":"I think decimalNumber should be decimalNumber + 1.  log_2 256 is 8, whereas it needs 9 bits to represent.  log_2 0 is undefined, but it needs zero bits to represent."},{"owner":{"account_id":21633,"reputation":125374,"user_id":52738,"accept_rate":50,"display_name":"gnovice"},"score":1,"creation_date":1237950049,"post_id":680024,"comment_id":493381,"body_markdown":"@strager: I think you were close. I needed to use &quot;floor&quot; instead of &quot;ceil&quot;, then add a +1. Obviously, a check is needed for &quot;decimalNumber == 0&quot; first. For example, try out 255 (which should give 8).","body":"@strager: I think you were close. I needed to use &quot;floor&quot; instead of &quot;ceil&quot;, then add a +1. Obviously, a check is needed for &quot;decimalNumber == 0&quot; first. For example, try out 255 (which should give 8)."},{"owner":{"account_id":17729,"reputation":89093,"user_id":39992,"accept_rate":80,"display_name":"strager"},"score":0,"creation_date":1237950221,"post_id":680024,"comment_id":493383,"body_markdown":"@gnovice, Ah, good.  I wasn&#39;t sure myself.  Thanks for looking into it.  =]","body":"@gnovice, Ah, good.  I wasn&#39;t sure myself.  Thanks for looking into it.  =]"},{"owner":{"account_id":5221,"reputation":3918,"user_id":2166173,"accept_rate":70,"display_name":"Statement"},"score":0,"creation_date":1250699217,"post_id":680024,"comment_id":1132225,"body_markdown":"It doesn&#39;t work for negative integers ofcourse, and sometimes you have to count bitcount for those aswell :) However, if you&#39;re compacting data, then I think a better approach would be to store a bit denoting sign, then storing the absolute value of that, since -1 would take up 32 bits where 1 would take up 2 (1 for the 1, and one for the sign).","body":"It doesn&#39;t work for negative integers ofcourse, and sometimes you have to count bitcount for those aswell :) However, if you&#39;re compacting data, then I think a better approach would be to store a bit denoting sign, then storing the absolute value of that, since -1 would take up 32 bits where 1 would take up 2 (1 for the 1, and one for the sign)."},{"owner":{"account_id":21633,"reputation":125374,"user_id":52738,"accept_rate":50,"display_name":"gnovice"},"score":0,"creation_date":1250700866,"post_id":680024,"comment_id":1132397,"body_markdown":"@Statement: What you say makes sense, but the OP said they were only looking to get bit counts for positive integers.","body":"@Statement: What you say makes sense, but the OP said they were only looking to get bit counts for positive integers."}],"tags":[],"owner":{"account_id":21633,"reputation":125374,"user_id":52738,"accept_rate":50,"display_name":"gnovice"},"comment_count":5,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1237949913,"creation_date":1237948289,"answer_id":680024,"question_id":680002,"body_markdown":"My Java is a bit rusty, but the language-agnostic answer (if there is a &quot;log2&quot; function and a &quot;floor&quot; function available) would be:\r\n\r\n    numberOfBits = floor(log2(decimalNumber))+1\r\n\r\nAssuming that &quot;decimalNumber&quot; is greater than 0. If it is 0, you just need 1 bit.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>My Java is a bit rusty, but the language-agnostic answer (if there is a \"log2\" function and a \"floor\" function available) would be:</p>\n\n<pre><code>numberOfBits = floor(log2(decimalNumber))+1\n</code></pre>\n\n<p>Assuming that \"decimalNumber\" is greater than 0. If it is 0, you just need 1 bit.</p>\n"},{"comments":[{"owner":{"account_id":28882,"reputation":59171,"user_id":77507,"accept_rate":89,"display_name":"Daniel Br&#252;ckner"},"score":0,"creation_date":1237955763,"post_id":680026,"comment_id":493551,"body_markdown":"You probably got the down votes because your solution is incredible expensive.","body":"You probably got the down votes because your solution is incredible expensive."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":4,"creation_date":1237956320,"post_id":680026,"comment_id":493563,"body_markdown":"didn&#39;t ask for it to be quick :-)","body":"didn&#39;t ask for it to be quick :-)"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1303066446,"post_id":680026,"comment_id":6507096,"body_markdown":"It would seem that doing it 100,000,000 (on my desktop) probably would not be a bottleneck in a &quot;real&quot; program.","body":"It would seem that doing it 100,000,000 (on my desktop) probably would not be a bottleneck in a &quot;real&quot; program."},{"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"score":1,"creation_date":1346422647,"post_id":680026,"comment_id":16366323,"body_markdown":"Very nice benchmark! For the sake of completeness, you could add `BigInteger.valueOf(i).bitLength()` (which is on the slow side: on my machine, about 5 or 6 times slower than your **D**)","body":"Very nice benchmark! For the sake of completeness, you could add <code>BigInteger.valueOf(i).bitLength()</code> (which is on the slow side: on my machine, about 5 or 6 times slower than your <b>D</b>)"},{"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"score":0,"creation_date":1346423483,"post_id":680026,"comment_id":16366797,"body_markdown":"However, `BigInteger.bitLength()` is **bugged and unreliable** (at least in Java 6). http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=c134915207cae78f258c98a958f3?bug_id=6910473","body":"However, <code>BigInteger.bitLength()</code> is <b>bugged and unreliable</b> (at least in Java 6). <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=c134915207cae78f258c98a958f3?bug_id=6910473\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/&hellip;</a>"}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":5,"down_vote_count":4,"up_vote_count":19,"is_accepted":false,"score":15,"last_activity_date":1480782071,"creation_date":1237948387,"answer_id":680026,"question_id":680002,"body_markdown":"Integer.toBinaryString(number).length();\r\n\r\nGood grief... why the down votes?\r\n\r\n    public class Main\r\n    {\r\n        public static void main(final String[] argv)\r\n        {\r\n            System.out.println(Integer.toBinaryString(0).length());\r\n            System.out.println(Integer.toBinaryString(1).length());\r\n            System.out.println(Integer.toBinaryString(2).length());\r\n            System.out.println(Integer.toBinaryString(3).length());\r\n            System.out.println(Integer.toBinaryString(4).length());\r\n            System.out.println(Integer.toBinaryString(5).length());\r\n            System.out.println(Integer.toBinaryString(6).length());\r\n            System.out.println(Integer.toBinaryString(7).length());\r\n            System.out.println(Integer.toBinaryString(8).length());\r\n            System.out.println(Integer.toBinaryString(9).length());\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    1\r\n    2\r\n    2\r\n    3\r\n    3\r\n    3\r\n    3\r\n    4\r\n    4\r\n\r\n\r\nHere is a simple test for the speed of the various solutions:\r\n\r\n    public class Tester \r\n    {\r\n        public static void main(final String[] argv) \r\n        {\r\n            final int size;\r\n            final long totalA;\r\n            final long totalB;\r\n            final long totalC;\r\n            final long totalD;\r\n            \r\n            size = 100000000;\r\n            \r\n            totalA = test(new A(), size);\r\n            totalB = test(new B(), size);\r\n            totalC = test(new C(), size);\r\n            totalD = test(new D(), size);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Total D = &quot; + totalD + &quot; ms&quot;);\r\n            System.out.println(&quot;Total B = &quot; + totalB + &quot; ms&quot;);\r\n            System.out.println(&quot;Total C = &quot; + totalC + &quot; ms&quot;);\r\n            System.out.println(&quot;Total A = &quot; + totalA + &quot; ms&quot;);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Total B = &quot; + (totalB / totalD) + &quot; times slower&quot;);\r\n            System.out.println(&quot;Total C = &quot; + (totalC / totalD) + &quot; times slower&quot;);\r\n            System.out.println(&quot;Total A = &quot; + (totalA / totalD) + &quot; times slower&quot;);\r\n        }\r\n        \r\n        private static long test(final Testable tester, \r\n                                 final int      size)\r\n        {\r\n            final long start;\r\n            final long end;\r\n            final long total;\r\n            \r\n            start = System.nanoTime();\r\n            tester.test(size);\r\n            end   = System.nanoTime();\r\n            total = end - start;\r\n            \r\n            return (total / 1000000);\r\n        }\r\n        \r\n        private static interface Testable\r\n        {\r\n            void test(int size);\r\n        }\r\n        \r\n        private static class A\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int value;\r\n    \r\n                value = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    value += Integer.toBinaryString(i).length();\r\n                }\r\n    \r\n                System.out.println(&quot;value = &quot; + value);\r\n            }    \r\n        }\r\n        \r\n        private static class B\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n    \r\n                total = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    int value = i;\r\n                    int count = 0;\r\n    \r\n                    while (value &gt; 0) \r\n                    {\r\n                        count++;\r\n                        value &gt;&gt;= 1;\r\n                    }\r\n    \r\n                    total += count;\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n        \r\n        private static class C\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n                final double log2;\r\n    \r\n                total = 0;\r\n                log2  = Math.log(2);\r\n                \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    final double logX;\r\n                    final double temp;\r\n                    \r\n                    logX   = Math.log(i);\r\n                    temp   = logX / log2;                \r\n                    total += (int)Math.floor(temp) + 1;\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n        \r\n        private static class D\r\n            implements Testable\r\n        {\r\n            @Override\r\n            public void test(final int size)\r\n            {\r\n                int total;\r\n                \r\n                total = 0;\r\n    \r\n                for(int i = 1; i &lt; size; i++)\r\n                {\r\n                    total += 32-Integer.numberOfLeadingZeros(i);\r\n                }\r\n    \r\n                System.out.println(&quot;total = &quot; + total);\r\n            }    \r\n        }\r\n    }\r\n\r\nOutput on my machine is:\r\n\r\n    value = -1729185023\r\n    total = -1729185023\r\n    total = -1729185023\r\n    total = -1729185023\r\n    \r\n    Total D = 118 ms\r\n    Total B = 1722 ms\r\n    Total C = 4462 ms\r\n    Total A = 5704 ms\r\n    \r\n    Total B = 14 times slower\r\n    Total C = 37 times slower\r\n    Total A = 48 times slower\r\n\r\nFor those of you complaining about speed... [https://en.wikipedia.org/wiki/Program_optimization#Quotes][1].\r\n\r\nWrite the program to be readable first, then find out where it is slow, then make it faster.  Before and after you optimize test the change.  If the change wasn&#39;t large enough for the expense of making the code less readable don&#39;t bother with the change.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Program_optimization#Quotes\r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Integer.toBinaryString(number).length();</p>\n\n<p>Good grief... why the down votes?</p>\n\n<pre><code>public class Main\n{\n    public static void main(final String[] argv)\n    {\n        System.out.println(Integer.toBinaryString(0).length());\n        System.out.println(Integer.toBinaryString(1).length());\n        System.out.println(Integer.toBinaryString(2).length());\n        System.out.println(Integer.toBinaryString(3).length());\n        System.out.println(Integer.toBinaryString(4).length());\n        System.out.println(Integer.toBinaryString(5).length());\n        System.out.println(Integer.toBinaryString(6).length());\n        System.out.println(Integer.toBinaryString(7).length());\n        System.out.println(Integer.toBinaryString(8).length());\n        System.out.println(Integer.toBinaryString(9).length());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n1\n2\n2\n3\n3\n3\n3\n4\n4\n</code></pre>\n\n<p>Here is a simple test for the speed of the various solutions:</p>\n\n<pre><code>public class Tester \n{\n    public static void main(final String[] argv) \n    {\n        final int size;\n        final long totalA;\n        final long totalB;\n        final long totalC;\n        final long totalD;\n\n        size = 100000000;\n\n        totalA = test(new A(), size);\n        totalB = test(new B(), size);\n        totalC = test(new C(), size);\n        totalD = test(new D(), size);\n\n        System.out.println();\n        System.out.println(\"Total D = \" + totalD + \" ms\");\n        System.out.println(\"Total B = \" + totalB + \" ms\");\n        System.out.println(\"Total C = \" + totalC + \" ms\");\n        System.out.println(\"Total A = \" + totalA + \" ms\");\n\n        System.out.println();\n        System.out.println(\"Total B = \" + (totalB / totalD) + \" times slower\");\n        System.out.println(\"Total C = \" + (totalC / totalD) + \" times slower\");\n        System.out.println(\"Total A = \" + (totalA / totalD) + \" times slower\");\n    }\n\n    private static long test(final Testable tester, \n                             final int      size)\n    {\n        final long start;\n        final long end;\n        final long total;\n\n        start = System.nanoTime();\n        tester.test(size);\n        end   = System.nanoTime();\n        total = end - start;\n\n        return (total / 1000000);\n    }\n\n    private static interface Testable\n    {\n        void test(int size);\n    }\n\n    private static class A\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int value;\n\n            value = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                value += Integer.toBinaryString(i).length();\n            }\n\n            System.out.println(\"value = \" + value);\n        }    \n    }\n\n    private static class B\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n\n            total = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                int value = i;\n                int count = 0;\n\n                while (value &gt; 0) \n                {\n                    count++;\n                    value &gt;&gt;= 1;\n                }\n\n                total += count;\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n\n    private static class C\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n            final double log2;\n\n            total = 0;\n            log2  = Math.log(2);\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                final double logX;\n                final double temp;\n\n                logX   = Math.log(i);\n                temp   = logX / log2;                \n                total += (int)Math.floor(temp) + 1;\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n\n    private static class D\n        implements Testable\n    {\n        @Override\n        public void test(final int size)\n        {\n            int total;\n\n            total = 0;\n\n            for(int i = 1; i &lt; size; i++)\n            {\n                total += 32-Integer.numberOfLeadingZeros(i);\n            }\n\n            System.out.println(\"total = \" + total);\n        }    \n    }\n}\n</code></pre>\n\n<p>Output on my machine is:</p>\n\n<pre><code>value = -1729185023\ntotal = -1729185023\ntotal = -1729185023\ntotal = -1729185023\n\nTotal D = 118 ms\nTotal B = 1722 ms\nTotal C = 4462 ms\nTotal A = 5704 ms\n\nTotal B = 14 times slower\nTotal C = 37 times slower\nTotal A = 48 times slower\n</code></pre>\n\n<p>For those of you complaining about speed... <a href=\"https://en.wikipedia.org/wiki/Program_optimization#Quotes\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Program_optimization#Quotes</a>.</p>\n\n<p>Write the program to be readable first, then find out where it is slow, then make it faster.  Before and after you optimize test the change.  If the change wasn't large enough for the expense of making the code less readable don't bother with the change.</p>\n"},{"comments":[{"owner":{"account_id":5115084,"reputation":1195,"user_id":4100524,"display_name":"Foosh"},"score":0,"creation_date":1422910432,"post_id":680028,"comment_id":44927041,"body_markdown":"A) -2 rep won&#39;t kill you  B) this probably was in an audit and was a little ambiguous for the subject of the audit and was downvoted so it wouldn&#39;t ding someone again.","body":"A) -2 rep won&#39;t kill you  B) this probably was in an audit and was a little ambiguous for the subject of the audit and was downvoted so it wouldn&#39;t ding someone again."},{"owner":{"account_id":143152,"reputation":12107,"user_id":351305,"accept_rate":79,"display_name":"pronebird"},"score":1,"creation_date":1479591496,"post_id":680028,"comment_id":68625604,"body_markdown":"so I guess it&#39;s `int(log2(n)) + 1`","body":"so I guess it&#39;s <code>int(log2(n)) + 1</code>"}],"tags":[],"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1400974640,"creation_date":1237948403,"answer_id":680028,"question_id":680002,"body_markdown":"Taking the two based log of the number will report the number of bits required to store it. \r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Taking the two based log of the number will report the number of bits required to store it. </p>\n"},{"comments":[{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":7,"creation_date":1303058955,"post_id":680040,"comment_id":6505990,"body_markdown":"This is the fastest solution.  And far easier to follow than the accepted answer!","body":"This is the fastest solution.  And far easier to follow than the accepted answer!"},{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":2,"creation_date":1354316319,"post_id":680040,"comment_id":18736531,"body_markdown":"This may be the fastest solution but technically speaking it is not foolproof. Try calling it with value = 0, the result is: 0. This is wrong for 2 reasons: first of all, mathematically speaking log2(0) is undefined. Second, in the context of the original question: when you want to store an integer whose value is zero you will need at least one bit to do so.","body":"This may be the fastest solution but technically speaking it is not foolproof. Try calling it with value = 0, the result is: 0. This is wrong for 2 reasons: first of all, mathematically speaking log2(0) is undefined. Second, in the context of the original question: when you want to store an integer whose value is zero you will need at least one bit to do so."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1363788973,"post_id":680040,"comment_id":21992097,"body_markdown":"If that is the only issue it can be special cased, and still be easier to understand and more performant than the other answers.","body":"If that is the only issue it can be special cased, and still be easier to understand and more performant than the other answers."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":2,"creation_date":1377016958,"post_id":680040,"comment_id":26921424,"body_markdown":"Out of the javadoc: Note that this method is closely related to the logarithm base 2. For all positive int values x: \n\n`floor(log2(x)) = 31 - numberOfLeadingZeros(x)` \n`ceil(log2(x)) = 32 - numberOfLeadingZeros(x - 1)`","body":"Out of the javadoc: Note that this method is closely related to the logarithm base 2. For all positive int values x:   <code>floor(log2(x)) = 31 - numberOfLeadingZeros(x)</code>  <code>ceil(log2(x)) = 32 - numberOfLeadingZeros(x - 1)</code>"}],"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1667111825,"creation_date":1237948842,"answer_id":680040,"question_id":680002,"body_markdown":"Well, the answer is pretty simple. If you have an int value:\r\n\r\n    int log2(int value) {\r\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\r\n    }\r\nThe same exists for Long...\r\n\r\n[Edit]\r\nIf shaving milliseconds is an issue here, Integer.numberOfLeadingZeros(int) is reasonably efficient, but still does 15 operations... Expanding a reasonable amount of memory (300 bytes, static) you could shave that to between 1 and 8 operations, depending on the range of your integers.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Well, the answer is pretty simple. If you have an int value:</p>\n<pre><code>int log2(int value) {\n    return Integer.SIZE - Integer.numberOfLeadingZeros(value);\n}\n</code></pre>\n<p>The same exists for Long...</p>\n<p>[Edit]\nIf shaving milliseconds is an issue here, Integer.numberOfLeadingZeros(int) is reasonably efficient, but still does 15 operations... Expanding a reasonable amount of memory (300 bytes, static) you could shave that to between 1 and 8 operations, depending on the range of your integers.</p>\n"},{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1237954372,"creation_date":1237954372,"answer_id":680192,"question_id":680002,"body_markdown":"This is in C, but I suspect you could convert to Java fairly easily:\r\n\r\n[Find the log base 2 of an N-bit integer in O(lg(N)) operations][1]\r\n\r\n\r\n  [1]: http://www-graphics.stanford.edu/~seander/bithacks.html#IntegerLog","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This is in C, but I suspect you could convert to Java fairly easily:</p>\n\n<p><a href=\"http://www-graphics.stanford.edu/~seander/bithacks.html#IntegerLog\" rel=\"nofollow noreferrer\">Find the log base 2 of an N-bit integer in O(lg(N)) operations</a></p>\n"},{"comments":[{"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":0,"creation_date":1329022751,"post_id":680357,"comment_id":11649452,"body_markdown":"this gives wrong results. for value = 4, this returns 2 when it should be 3. In fact it never outputs 3 at all, it skips straight to 4 at value =8.","body":"this gives wrong results. for value = 4, this returns 2 when it should be 3. In fact it never outputs 3 at all, it skips straight to 4 at value =8."},{"owner":{"account_id":29004,"reputation":1782,"user_id":78006,"display_name":"AHelps"},"score":0,"creation_date":1332263928,"post_id":680357,"comment_id":12466470,"body_markdown":"My apologies. The &gt; signs should have been &gt;= signs. I believe it should work now.","body":"My apologies. The &gt; signs should have been &gt;= signs. I believe it should work now."}],"tags":[],"owner":{"account_id":29004,"reputation":1782,"user_id":78006,"display_name":"AHelps"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1332263906,"creation_date":1237959863,"answer_id":680357,"question_id":680002,"body_markdown":"If you&#39;re trying to avoid a loop and you care about speed, you can use a method like this:\r\n\r\n    int value = ...;\r\n    int count = 0;\r\n    if( value &lt; 0 ) { value = 0; count = 32; }\r\n    if( value &gt;= 0x7FFF ) { value &gt;&gt;= 16; count += 16; }\r\n    if( value &gt;= 0x7F ) { value &gt;&gt;= 8; count += 8; }\r\n    if( value &gt;= 0x7 ) { value &gt;&gt;= 4; count += 4; }\r\n    if( value &gt;= 0x3 ) { value &gt;&gt;= 2; count += 2; }\r\n    if( value &gt;= 0x1 ) { value &gt;&gt;= 1; count += 1; }\r\n\r\nJava doesn&#39;t have unsigned integers, so that first if( value &lt; 0 ) is a little questionable. Negative numbers always set the most significant bit, so arguably require the full word to to represent them. Adapt that behavior if you care.\r\n\r\nIncidentally, to handle a 64-bit integer, replace the if( value &lt; 0 ) line with these two:\r\n\r\n    if( value &lt; 0 ) { value = 0; count = 64; }\r\n    if( value &gt;= 0x7FFFFFFF ) { value &gt;&gt;= 32; count += 32; }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>If you're trying to avoid a loop and you care about speed, you can use a method like this:</p>\n\n<pre><code>int value = ...;\nint count = 0;\nif( value &lt; 0 ) { value = 0; count = 32; }\nif( value &gt;= 0x7FFF ) { value &gt;&gt;= 16; count += 16; }\nif( value &gt;= 0x7F ) { value &gt;&gt;= 8; count += 8; }\nif( value &gt;= 0x7 ) { value &gt;&gt;= 4; count += 4; }\nif( value &gt;= 0x3 ) { value &gt;&gt;= 2; count += 2; }\nif( value &gt;= 0x1 ) { value &gt;&gt;= 1; count += 1; }\n</code></pre>\n\n<p>Java doesn't have unsigned integers, so that first if( value &lt; 0 ) is a little questionable. Negative numbers always set the most significant bit, so arguably require the full word to to represent them. Adapt that behavior if you care.</p>\n\n<p>Incidentally, to handle a 64-bit integer, replace the if( value &lt; 0 ) line with these two:</p>\n\n<pre><code>if( value &lt; 0 ) { value = 0; count = 64; }\nif( value &gt;= 0x7FFFFFFF ) { value &gt;&gt;= 32; count += 32; }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":0,"creation_date":1329022559,"post_id":680891,"comment_id":11649432,"body_markdown":"This gives the wrong result for n = 128. It outputs 7 when it should be 8","body":"This gives the wrong result for n = 128. It outputs 7 when it should be 8"}],"tags":[],"owner":{"display_name":"Merzbow"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1237974396,"creation_date":1237974396,"answer_id":680891,"question_id":680002,"body_markdown":"    (int) Math.ceil((Math.log(n) / Math.log(2))\r\n\r\nOf course this only works for positive integers.\r\n","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<pre><code>(int) Math.ceil((Math.log(n) / Math.log(2))\n</code></pre>\n\n<p>Of course this only works for positive integers.</p>\n"},{"comments":[{"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"score":0,"creation_date":1346423590,"post_id":681160,"comment_id":16366859,"body_markdown":"Not really *the bit length of the absolute value*:\n`System.out.println(BigInteger.valueOf(-1).bitLength());` prints 0, not 1","body":"Not really <i>the bit length of the absolute value</i>: <code>System.out.println(BigInteger.valueOf(-1).bitLength());</code> prints 0, not 1"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1346429807,"post_id":681160,"comment_id":16369812,"body_markdown":"@UnaiVivi Um yes. Corrected. It&#39;d probably be better if the method threw `IllegalStateException` for negative values rather than doing something a bit strange.","body":"@UnaiVivi Um yes. Corrected. It&#39;d probably be better if the method threw <code>IllegalStateException</code> for negative values rather than doing something a bit strange."},{"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"score":0,"creation_date":1346445627,"post_id":681160,"comment_id":16375720,"body_markdown":"Do you have an idea why they did it that way (for negative numbers)? I can&#39;t see any usefulness the way they did it...","body":"Do you have an idea why they did it that way (for negative numbers)? I can&#39;t see any usefulness the way they did it..."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1346514315,"post_id":681160,"comment_id":16386931,"body_markdown":"@UnaiVivi I believe if you add one you will get the minimum number of bits needed to represent the value in two&#39;s complement notation.","body":"@UnaiVivi I believe if you add one you will get the minimum number of bits needed to represent the value in two&#39;s complement notation."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1346429693,"creation_date":1237980091,"answer_id":681160,"question_id":680002,"body_markdown":"For non-negative values, probably the most direct answer is:\r\n\r\n    java.math.BigDecimal.valueOf(value).bitLength()\r\n\r\n(For negative numbers it will give the bit length of one less than the absolute value, rather than infinity you&#39;d expect from two&#39;s complement notation.)","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>For non-negative values, probably the most direct answer is:</p>\n\n<pre><code>java.math.BigDecimal.valueOf(value).bitLength()\n</code></pre>\n\n<p>(For negative numbers it will give the bit length of one less than the absolute value, rather than infinity you'd expect from two's complement notation.)</p>\n"},{"tags":[],"owner":{"account_id":1004730,"reputation":3083,"user_id":1018783,"accept_rate":86,"display_name":"Unai Vivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346465519,"creation_date":1346465519,"answer_id":12224373,"question_id":680002,"body_markdown":"I would like to add some other alternatives, just for the sake of completeness:\r\n\r\n**1** `BigInteger.valueOf(i).bitLength()`\r\n\r\nNot very fast. Furthermore, `BigInteger.bitLength()` it&#39;s bugged and unreliable (fixed in Java7), since when more than `Integer.MAX_VALUE` bits are needed (freakishly high input number needed!! [such as 1 left-shifted `Integer.MAX_VALUE` times, aka `2^Integer.MAX_VALUE`]) the result overflows and negative numbers appear for the next `2^(2*Integer.MAX_VALUE)-2^Integer.MAX_VALUE` numbers, which is a number so high your head could explode. Note that it is estimated the universe containes some 10^80 atoms; that number is `2^4G` (`G` as in Giga, `1024*1024*1024`).\r\n\r\n**2**\r\n\r\n    static int neededBits(int i)\r\n    {\r\n        assert i &gt; 0;\r\n        int res;\r\n        int sh;\r\n        res = ((i &gt; 0xFFFF) ? 1 : 0) &lt;&lt; 4;\r\n        i &gt;&gt;= res;\r\n        sh = ((i &gt; 0xFF) ? 1 : 0) &lt;&lt; 3;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        sh = ((i &gt; 0xF) ? 1 : 0) &lt;&lt; 2;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        sh = ((i &gt; 0x3) ? 1 : 0) &lt;&lt; 1;\r\n        i &gt;&gt;= sh;\r\n        res |= sh;\r\n        res |= (i &gt;&gt; 1);\r\n        return res + 1;\r\n    }\r\n\r\nA very fast solution, but still half as fast as ye olde `32 - Integer.numberOfLeadingZeros(i);`.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>I would like to add some other alternatives, just for the sake of completeness:</p>\n\n<p><strong>1</strong> <code>BigInteger.valueOf(i).bitLength()</code></p>\n\n<p>Not very fast. Furthermore, <code>BigInteger.bitLength()</code> it's bugged and unreliable (fixed in Java7), since when more than <code>Integer.MAX_VALUE</code> bits are needed (freakishly high input number needed!! [such as 1 left-shifted <code>Integer.MAX_VALUE</code> times, aka <code>2^Integer.MAX_VALUE</code>]) the result overflows and negative numbers appear for the next <code>2^(2*Integer.MAX_VALUE)-2^Integer.MAX_VALUE</code> numbers, which is a number so high your head could explode. Note that it is estimated the universe containes some 10^80 atoms; that number is <code>2^4G</code> (<code>G</code> as in Giga, <code>1024*1024*1024</code>).</p>\n\n<p><strong>2</strong></p>\n\n<pre><code>static int neededBits(int i)\n{\n    assert i &gt; 0;\n    int res;\n    int sh;\n    res = ((i &gt; 0xFFFF) ? 1 : 0) &lt;&lt; 4;\n    i &gt;&gt;= res;\n    sh = ((i &gt; 0xFF) ? 1 : 0) &lt;&lt; 3;\n    i &gt;&gt;= sh;\n    res |= sh;\n    sh = ((i &gt; 0xF) ? 1 : 0) &lt;&lt; 2;\n    i &gt;&gt;= sh;\n    res |= sh;\n    sh = ((i &gt; 0x3) ? 1 : 0) &lt;&lt; 1;\n    i &gt;&gt;= sh;\n    res |= sh;\n    res |= (i &gt;&gt; 1);\n    return res + 1;\n}\n</code></pre>\n\n<p>A very fast solution, but still half as fast as ye olde <code>32 - Integer.numberOfLeadingZeros(i);</code>.</p>\n"},{"tags":[],"owner":{"account_id":3614088,"reputation":1,"user_id":3014426,"display_name":"Doogles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384971226,"creation_date":1384971226,"answer_id":20103691,"question_id":680002,"body_markdown":"What about something like this:\r\n\r\n    public static int getNumberOfBits(int N) {\r\n        int bits = 0;\r\n            while(Math.pow(2, bits) &lt;= N){\r\n    \t       bits++;\r\n    \t   }\r\n    \t   return bits;\r\n    }\r\n\r\nI know you are looking for a way to not use loops, but I feel this is pretty strait forward otherwise since bits are just a two to the power of a number.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>What about something like this:</p>\n\n<pre><code>public static int getNumberOfBits(int N) {\n    int bits = 0;\n        while(Math.pow(2, bits) &lt;= N){\n           bits++;\n       }\n       return bits;\n}\n</code></pre>\n\n<p>I know you are looking for a way to not use loops, but I feel this is pretty strait forward otherwise since bits are just a two to the power of a number.</p>\n"},{"tags":[],"owner":{"account_id":7130364,"reputation":153,"user_id":5983976,"display_name":"Ilya K."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534952772,"creation_date":1534902981,"answer_id":51958886,"question_id":680002,"body_markdown":"Binary search over the the exponents of 2 is faster than the bit shift ([top voted answer][1]) solution, which might be valuable if the numbers are huge (thousands of decimal digits), you know the maximum available bits and you do not want to generate the tables:\r\n \r\n        int  minExpVal   = 0;\r\n        int  maxExpVal   = 62;\r\n        int  medExpVal   = maxExpVal &gt;&gt; 1;\r\n        long medianValue = 0l;\r\n\r\n        while (maxExpVal - minExpVal &gt; 1) {\r\n            medianValue = 1l &lt;&lt; medExpVal;\r\n            if (value &gt; medianValue) {\r\n                minExpVal = medExpVal;\r\n            } else {\r\n                maxExpVal = medExpVal;\r\n            }\r\n            medExpVal = (minExpVal + maxExpVal) &gt;&gt; 1;\r\n        }\r\n\r\n        return value == 1l &lt;&lt; maxExpVal ?  maxExpVal  + 1 : maxExpVal;\r\n\r\nHowever, the solution using the leading zeros would be still by far faster:\r\n\r\n    return Long.SIZE - Long.numberOfLeadingZeros(value);\r\n\r\nBenchmarks:\r\n\r\n    Leading zeros time is: 2 ms\r\n    BinarySearch time is: 95 ms\r\n    BitShift time is: 135 ms\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/680012/5983976","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>Binary search over the the exponents of 2 is faster than the bit shift (<a href=\"https://stackoverflow.com/a/680012/5983976\">top voted answer</a>) solution, which might be valuable if the numbers are huge (thousands of decimal digits), you know the maximum available bits and you do not want to generate the tables:</p>\n\n<pre><code>    int  minExpVal   = 0;\n    int  maxExpVal   = 62;\n    int  medExpVal   = maxExpVal &gt;&gt; 1;\n    long medianValue = 0l;\n\n    while (maxExpVal - minExpVal &gt; 1) {\n        medianValue = 1l &lt;&lt; medExpVal;\n        if (value &gt; medianValue) {\n            minExpVal = medExpVal;\n        } else {\n            maxExpVal = medExpVal;\n        }\n        medExpVal = (minExpVal + maxExpVal) &gt;&gt; 1;\n    }\n\n    return value == 1l &lt;&lt; maxExpVal ?  maxExpVal  + 1 : maxExpVal;\n</code></pre>\n\n<p>However, the solution using the leading zeros would be still by far faster:</p>\n\n<pre><code>return Long.SIZE - Long.numberOfLeadingZeros(value);\n</code></pre>\n\n<p>Benchmarks:</p>\n\n<pre><code>Leading zeros time is: 2 ms\nBinarySearch time is: 95 ms\nBitShift time is: 135 ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3876767,"reputation":100,"user_id":3210560,"display_name":"Thiagesh thg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539432106,"creation_date":1539431774,"answer_id":52792668,"question_id":680002,"body_markdown":"This one works for me!\r\n\r\n    int numberOfBitsRequired(int n)\r\n    {\r\n        return (int)Math.floor(Math.log(n)/Math.log(2)) + 1;\r\n    }\r\n\r\n\r\n\r\nTo include negative numbers as well, you can add an extra bit and use it to specify the sign.\r\n\r\n    public static int numberOfBitsRequiredSigned(int n)\r\n    {\r\n        return (int)Math.floor(Math.log(Math.abs(n))/Math.log(2)) + 2;\r\n    }","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This one works for me!</p>\n\n<pre><code>int numberOfBitsRequired(int n)\n{\n    return (int)Math.floor(Math.log(n)/Math.log(2)) + 1;\n}\n</code></pre>\n\n<p>To include negative numbers as well, you can add an extra bit and use it to specify the sign.</p>\n\n<pre><code>public static int numberOfBitsRequiredSigned(int n)\n{\n    return (int)Math.floor(Math.log(Math.abs(n))/Math.log(2)) + 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":993260,"reputation":2717,"user_id":1009901,"accept_rate":90,"display_name":"Yeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549908359,"creation_date":1549908359,"answer_id":54636555,"question_id":680002,"body_markdown":"You can also do it like this, if you don&#39;t want to modify the original value.\r\n\r\n    unsigned int value = 11;\r\n    unsigned int count = 0;\r\n    if(value &gt; 0)\r\n    {\r\n        for(int i=1;i&lt;value;i*=2) // multiply by two =&gt; shift one to left\r\n        {\r\n            ++count;\r\n        }\r\n    }\r\n\r\nNote: Let the compiler worry about turning `i*=2` into a bit shift operation to improve performance.\r\n\r\nFor the visual thinkers among us:\r\n\r\n    64 32 16  8  4  2  1\r\n     0  0  0  1  0  1  1  -&gt; binary representation of decimal number &#39;value&#39; = 11 (=1+2+8)\r\n\r\nWe start with `i=1` at the right.\r\nThen we keep multiplying by two, for as long as `i &lt; value`.\r\nIn the meanwhile, we keep track of how many bits we went to the left.\r\n\r\nSo in this example, as soon as `i` reaches 16 the value is larger than 11, and thus we stop. And we will then have counted 4 bits: `1 *2 *2 *2 *2 = 16 (=2^4)`.\r\n\r\n**Careful with signed numbers.** When dealing with signed numbers that may be positive or negative, you would first have to multiply the negative numbers by -1. Additionally, you would have to consider how you want to take the sign-bit into account.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>You can also do it like this, if you don't want to modify the original value.</p>\n\n<pre><code>unsigned int value = 11;\nunsigned int count = 0;\nif(value &gt; 0)\n{\n    for(int i=1;i&lt;value;i*=2) // multiply by two =&gt; shift one to left\n    {\n        ++count;\n    }\n}\n</code></pre>\n\n<p>Note: Let the compiler worry about turning <code>i*=2</code> into a bit shift operation to improve performance.</p>\n\n<p>For the visual thinkers among us:</p>\n\n<pre><code>64 32 16  8  4  2  1\n 0  0  0  1  0  1  1  -&gt; binary representation of decimal number 'value' = 11 (=1+2+8)\n</code></pre>\n\n<p>We start with <code>i=1</code> at the right.\nThen we keep multiplying by two, for as long as <code>i &lt; value</code>.\nIn the meanwhile, we keep track of how many bits we went to the left.</p>\n\n<p>So in this example, as soon as <code>i</code> reaches 16 the value is larger than 11, and thus we stop. And we will then have counted 4 bits: <code>1 *2 *2 *2 *2 = 16 (=2^4)</code>.</p>\n\n<p><strong>Careful with signed numbers.</strong> When dealing with signed numbers that may be positive or negative, you would first have to multiply the negative numbers by -1. Additionally, you would have to consider how you want to take the sign-bit into account.</p>\n"}],"owner":{"account_id":562120,"reputation":1287,"user_id":69658,"accept_rate":75,"display_name":"joinJpegs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48187,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":680012,"answer_count":14,"score":34,"last_activity_date":1667111825,"creation_date":1237947649,"question_id":680002,"body_markdown":"This is probably pretty basic, but to save me an hour or so of grief can anyone tell me how you can work out the number of bits required to represent a given positive integer in Java?\r\n\r\ne.g. I get a decimal 11, (1011). I need to get the answer, 4.\r\n\r\nI figured if I could work out how to set all the bits other than the most significant bit to 0, and then &gt;&gt;&gt; it, I&#39;d get my answer. But... I can&#39;t.","title":"Find out number of bits needed to represent a positive integer in binary?","body":"<p>This is probably pretty basic, but to save me an hour or so of grief can anyone tell me how you can work out the number of bits required to represent a given positive integer in Java?</p>\n\n<p>e.g. I get a decimal 11, (1011). I need to get the answer, 4.</p>\n\n<p>I figured if I could work out how to set all the bits other than the most significant bit to 0, and then >>> it, I'd get my answer. But... I can't.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1666867960,"post_id":74220813,"comment_id":131039483,"body_markdown":"If you want to test JavaFX apps, look into a testing framework dedicated for that purpose: [TestFX](http://testfx.github.io/TestFX/).","body":"If you want to test JavaFX apps, look into a testing framework dedicated for that purpose: <a href=\"http://testfx.github.io/TestFX/\" rel=\"nofollow noreferrer\">TestFX</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666877517,"post_id":74220813,"comment_id":131042848,"body_markdown":"The rule for `launch()` is not that it can only be called once per instance. The rule is that it can only be called once per *application*, i.e. it must only be called once in the lifecycle of the JVM. You would see the same error without the unit test, e.g. if you called `PlayVideoSnippet.playVideo(...)` twice from the `main(...)` method (or anywhere). If you want to be able to show multiple windows in JavaFX by calling a method multiple times, you should move that functionality out of `Application.start()`, make `start()` essentially a no-op, and call `launch()` once at startup.","body":"The rule for <code>launch()</code> is not that it can only be called once per instance. The rule is that it can only be called once per <i>application</i>, i.e. it must only be called once in the lifecycle of the JVM. You would see the same error without the unit test, e.g. if you called <code>PlayVideoSnippet.playVideo(...)</code> twice from the <code>main(...)</code> method (or anywhere). If you want to be able to show multiple windows in JavaFX by calling a method multiple times, you should move that functionality out of <code>Application.start()</code>, make <code>start()</code> essentially a no-op, and call <code>launch()</code> once at startup."},{"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"score":0,"creation_date":1666881839,"post_id":74220813,"comment_id":131044609,"body_markdown":"@James_D So how to stop the JVM in between 2 test cases ? Tried calling ```Platform.exit()``` between each test case, not helpful !!  Piece of code would be helpful. Thank you !!","body":"@James_D So how to stop the JVM in between 2 test cases ? Tried calling <code>Platform.exit()</code> between each test case, not helpful !!  Piece of code would be helpful. Thank you !!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666882491,"post_id":74220813,"comment_id":131044862,"body_markdown":"You can&#39;t stop the JVM in between the test cases. The test cases are running in a JVM. As I described in my previous comment, your approach is incorrect: you **must not** call `launch()` more than once and you are setting up your code to do so. Just read the answer to the question you already linked.","body":"You can&#39;t stop the JVM in between the test cases. The test cases are running in a JVM. As I described in my previous comment, your approach is incorrect: you <b>must not</b> call <code>launch()</code> more than once and you are setting up your code to do so. Just read the answer to the question you already linked."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666882859,"post_id":74220813,"comment_id":131045015,"body_markdown":"Just to clarify: having a method (other than `main()`) which calls `launch()` is wrong. That&#39;s the part you need to fix.","body":"Just to clarify: having a method (other than <code>main()</code>) which calls <code>launch()</code> is wrong. That&#39;s the part you need to fix."},{"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"score":0,"creation_date":1666893037,"post_id":74220813,"comment_id":131048626,"body_markdown":"Thanks @James_D Got your point. Will look into it !!","body":"Thanks @James_D Got your point. Will look into it !!"}],"answers":[{"tags":[],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667109851,"creation_date":1667109851,"answer_id":74250888,"question_id":74220813,"body_markdown":"I was able to fix the issue with help of below inputs:\r\n\r\n - Using TestFX for testing purpose as suggested by @jewelsea. \r\n - Inputs from @James_D\r\n - [StackOver flow issue][1]\r\n\r\n`ApplicationTest.launch()` method internally takes care of setting up primary stage and cleaning before each test.\r\n\r\nSolution: \r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.testfx.framework.junit5.ApplicationTest;\r\nclass VideoTest extends ApplicationTest {\r\n  \r\n  final String pathOfSupportedFile = &quot;video.mp4&quot;;\r\n  final String pathOfUnsupportedFile = &quot;video.wmv&quot;;\r\n\r\n\r\n  @Test\r\n  void testSupportedVideoFilePlaysSuccessfully() throws Exception {\r\n    assertDoesNotThrow(() -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\r\n            new String[]{pathOfSupportedFile}));\r\n  }\r\n\r\n  @Test\r\n  void testUnsupportedVideoFileThrowsError() throws Exception {\r\n    RuntimeException exception = assertThrows(RuntimeException.class,\r\n        () -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\r\n                    new String[]{pathOfUnsupportedFile}));\r\n    assertTrue(exception.getCause().getCause().getClass().equals(MediaException.class));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java","title":"JavaFX error &quot;Application launch must not be called more than once&quot; while running 2 Test cases","body":"<p>I was able to fix the issue with help of below inputs:</p>\n<ul>\n<li>Using TestFX for testing purpose as suggested by @jewelsea.</li>\n<li>Inputs from @James_D</li>\n<li><a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">StackOver flow issue</a></li>\n</ul>\n<p><code>ApplicationTest.launch()</code> method internally takes care of setting up primary stage and cleaning before each test.</p>\n<p>Solution:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.testfx.framework.junit5.ApplicationTest;\nclass VideoTest extends ApplicationTest {\n  \n  final String pathOfSupportedFile = &quot;video.mp4&quot;;\n  final String pathOfUnsupportedFile = &quot;video.wmv&quot;;\n\n\n  @Test\n  void testSupportedVideoFilePlaysSuccessfully() throws Exception {\n    assertDoesNotThrow(() -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\n            new String[]{pathOfSupportedFile}));\n  }\n\n  @Test\n  void testUnsupportedVideoFileThrowsError() throws Exception {\n    RuntimeException exception = assertThrows(RuntimeException.class,\n        () -&gt; PlayVideoSnippetTest.launch(PlayVideoSnippet.class,\n                    new String[]{pathOfUnsupportedFile}));\n    assertTrue(exception.getCause().getCause().getClass().equals(MediaException.class));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10267785,"reputation":160,"user_id":7577210,"display_name":"Rohit Patel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667109851,"creation_date":1666867465,"question_id":74220813,"body_markdown":"I am using JavaFX to write a sample video player. But the tests fails when run together, ( Note: individually test passes).\r\n\r\nError: ```Unexpected exception thrown: java.lang.IllegalStateException: Application launch must not be called more than once```\r\n\r\nI understand that calling ```launch()``` twice on same Application Instance is causing this issue as per [this][1] . But I am not able to understand, that after one test completes, why the app is still running ? Why new instance is not getting created for 2nd test. ```testUnsupportedVideoFileThrowsError()``` succeeds but ```testSupportedVideoFilePlaysSuccessfully()``` fails. \r\n\r\n```\r\npackage media;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.File;\r\n\r\npublic class PlayVideoSnippet extends Application {\r\n\r\n    private static String source;\r\n    private Media media = null;\r\n    private MediaPlayer mediaPlayer = null;\r\n    private MediaView mediaView = null;\r\n    private Scene scene = null;\r\n\r\n    public static void playVideo(String source) {\r\n        PlayVideoSnippet.source = source;\r\n        PlayVideoSnippet.launch();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws InterruptedException {\r\n        try {\r\n            media = new Media(new File(source).toURI().toString());\r\n            //onError close the app\r\n            media.setOnError(() -&gt; {\r\n                Platform.exit();\r\n            });\r\n            //Create MediaPlayer, with media\r\n            mediaPlayer = new MediaPlayer(media);\r\n            mediaPlayer.setAutoPlay(true);\r\n            //onEnd of media, close the app\r\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\r\n                Platform.exit();\r\n            });\r\n            //Create media viewer\r\n            mediaView = new MediaView(mediaPlayer);\r\n            //create scene\r\n            scene = new Scene(new Group(), media.getWidth(), media.getHeight());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Video Player&quot;);\r\n            //attach the mediaView to the scene root\r\n            ((Group) scene.getRoot()).getChildren().add(mediaView);\r\n            stage.show();\r\n        } finally {\r\n            System.out.println(&quot;Inside finally&quot;);\r\n            stage.close();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n\r\npackage media;\r\n\r\nimport javafx.scene.media.MediaException;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nclass PlayVideoSnippetTest {\r\n    /**\r\n     * Tests for {@link PlayVideoSnippet#playVideo(String)}.\r\n     */\r\n\r\n    final String PATH_OF_SUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_MP4_480_1_5MG.mp4&quot;;\r\n    final String PATH_OF_UNSUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_WMV_480_1_2MB.wmv&quot;;\r\n\r\n\r\n    @Test\r\n    void testSupportedVideoFilePlaysSuccessfully() {\r\n\r\n        assertDoesNotThrow(() -&gt; PlayVideoSnippet.playVideo(PATH_OF_SUPPORTED_VIDEO_FILE));\r\n    }\r\n\r\n    @Test\r\n    void testUnsupportedVideoFileThrowsError() {\r\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; PlayVideoSnippet.playVideo(PATH_OF_UNSUPPORTED_VIDEO_FILE));\r\n        assertTrue(exception.getCause().getClass().equals(MediaException.class));\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java","title":"JavaFX error &quot;Application launch must not be called more than once&quot; while running 2 Test cases","body":"<p>I am using JavaFX to write a sample video player. But the tests fails when run together, ( Note: individually test passes).</p>\n<p>Error: <code>Unexpected exception thrown: java.lang.IllegalStateException: Application launch must not be called more than once</code></p>\n<p>I understand that calling <code>launch()</code> twice on same Application Instance is causing this issue as per <a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">this</a> . But I am not able to understand, that after one test completes, why the app is still running ? Why new instance is not getting created for 2nd test. <code>testUnsupportedVideoFileThrowsError()</code> succeeds but <code>testSupportedVideoFilePlaysSuccessfully()</code> fails.</p>\n<pre><code>package media;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class PlayVideoSnippet extends Application {\n\n    private static String source;\n    private Media media = null;\n    private MediaPlayer mediaPlayer = null;\n    private MediaView mediaView = null;\n    private Scene scene = null;\n\n    public static void playVideo(String source) {\n        PlayVideoSnippet.source = source;\n        PlayVideoSnippet.launch();\n    }\n\n    @Override\n    public void start(Stage stage) throws InterruptedException {\n        try {\n            media = new Media(new File(source).toURI().toString());\n            //onError close the app\n            media.setOnError(() -&gt; {\n                Platform.exit();\n            });\n            //Create MediaPlayer, with media\n            mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.setAutoPlay(true);\n            //onEnd of media, close the app\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\n                Platform.exit();\n            });\n            //Create media viewer\n            mediaView = new MediaView(mediaPlayer);\n            //create scene\n            scene = new Scene(new Group(), media.getWidth(), media.getHeight());\n            stage.setScene(scene);\n            stage.setTitle(&quot;Video Player&quot;);\n            //attach the mediaView to the scene root\n            ((Group) scene.getRoot()).getChildren().add(mediaView);\n            stage.show();\n        } finally {\n            System.out.println(&quot;Inside finally&quot;);\n            stage.close();\n        }\n\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage media;\n\nimport javafx.scene.media.MediaException;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass PlayVideoSnippetTest {\n    /**\n     * Tests for {@link PlayVideoSnippet#playVideo(String)}.\n     */\n\n    final String PATH_OF_SUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_MP4_480_1_5MG.mp4&quot;;\n    final String PATH_OF_UNSUPPORTED_VIDEO_FILE = &quot;src/test/resources/file_example_WMV_480_1_2MB.wmv&quot;;\n\n\n    @Test\n    void testSupportedVideoFilePlaysSuccessfully() {\n\n        assertDoesNotThrow(() -&gt; PlayVideoSnippet.playVideo(PATH_OF_SUPPORTED_VIDEO_FILE));\n    }\n\n    @Test\n    void testUnsupportedVideoFileThrowsError() {\n        RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; PlayVideoSnippet.playVideo(PATH_OF_UNSUPPORTED_VIDEO_FILE));\n        assertTrue(exception.getCause().getClass().equals(MediaException.class));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":4896710,"reputation":1488,"user_id":3946096,"accept_rate":71,"display_name":"Alexander N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667108733,"creation_date":1667108733,"answer_id":74250797,"question_id":74231306,"body_markdown":"If you&#39;re like me and were recently tripped up by this, it&#39;s likely a permission issue. Would you check the app permissions to see if the notification permission is enabled?\r\n\r\n[Notification runtime permissions][1] were added in the latest Android release.\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/notifications/notification-permission","title":"FCM notification isn&#39;t showing even when data is being received from server","body":"<p>If you're like me and were recently tripped up by this, it's likely a permission issue. Would you check the app permissions to see if the notification permission is enabled?</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">Notification runtime permissions</a> were added in the latest Android release.</p>\n"}],"owner":{"display_name":"user20355435"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667108733,"creation_date":1666937748,"question_id":74231306,"body_markdown":"I am trying to receive notification data in my `FirebaseMessagingService` like this:\r\n\r\n```\r\n@Override\r\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n    String notificationTitle = null, notificationBody = null, url = null;\r\n    remoteMessage.getData();\r\n    Object obj = remoteMessage.getData().get(&quot;title&quot;);\r\n    Object obj1 = remoteMessage.getData().get(&quot;body&quot;);\r\n    Object obj2 = remoteMessage.getData().get(&quot;click_action&quot;);\r\n    notificationTitle = String.valueOf(obj);\r\n    notificationBody = String.valueOf(obj1);\r\n    url = String.valueOf(obj2);\r\n    Log.d(&quot;notification&quot;,notificationTitle+&quot; &quot;+notificationBody+&quot; &quot;+url); //this shows the correct data\r\n    sendLocalNotification(notificationTitle, notificationBody, url);\r\n}\r\n\r\nprivate void sendLocalNotification(String notificationTitle, String notificationBody, String url) {\r\n    NotificationCompat.Builder notificationBuilder;\r\n    if(url == null || url.length() == 0) { //when user taps the notification then it should open the app by default\r\n        Intent intent = new Intent(this, record_viewer.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder = new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentIntent(pendingIntent)\r\n                .setContentTitle(notificationTitle)\r\n                .setContentText(notificationBody)\r\n                .setSound(defaultSoundUri);\r\n    }\r\n    else{ //when user taps the notification then it should redirect to the url\r\n        Intent notificationIntent = new Intent(Intent.ACTION_VIEW);\r\n        notificationIntent.setData(Uri.parse(url));\r\n\r\n        PendingIntent pending = PendingIntent.getActivity(this, 0, notificationIntent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder = new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.drawable.download_icon)\r\n                .setContentIntent(pending)\r\n                .setContentTitle(notificationTitle)\r\n                .setContentText(notificationBody)\r\n                .setSound(defaultSoundUri);\r\n    }\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n    notificationManager.notify(1234, notificationBuilder.build());\r\n}\r\n```\r\n\r\nI am sending the notification payload using `cURL` method in my `PHP` :\r\n\r\n```\r\n$notifData = [\r\n    \t&#39;title&#39; =&gt; &quot;Hey, &quot;.$_POST[&quot;employee&quot;],\r\n    \t&#39;body&#39; =&gt; $body,\r\n    \t&#39;click_action&#39; =&gt; &quot;URL HERE&quot;\r\n];\r\n$apiBody = [\r\n    \t&#39;data&#39; =&gt; $notifData,\r\n    \t&#39;time_to_live&#39; =&gt; 2000, \r\n    \t&#39;to&#39; =&gt; $deviceToken\r\n];\r\n                        \r\n$ch = curl_init();\r\ncurl_setopt ($ch, CURLOPT_URL, $url);\r\ncurl_setopt ($ch, CURLOPT_POST, true);\r\ncurl_setopt ($ch, CURLOPT_HTTPHEADER, $headers);\r\ncurl_setopt ($ch, CURLOPT_RETURNTRANSFER, true);\r\ncurl_setopt ($ch, CURLOPT_POSTFIELDS, json_encode($apiBody));\r\n```\r\n\r\nThe `click_action` is optional here. When I pass the URL then the user should be able to redirect to the url site on tapping the notification,  otherwise it should just open the app.\r\n\r\nBut the problem is that, the notification never shows, irrespective of the app being in foreground or background. Why is that? How do I fix this issue?","title":"FCM notification isn&#39;t showing even when data is being received from server","body":"<p>I am trying to receive notification data in my <code>FirebaseMessagingService</code> like this:</p>\n<pre><code>@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    String notificationTitle = null, notificationBody = null, url = null;\n    remoteMessage.getData();\n    Object obj = remoteMessage.getData().get(&quot;title&quot;);\n    Object obj1 = remoteMessage.getData().get(&quot;body&quot;);\n    Object obj2 = remoteMessage.getData().get(&quot;click_action&quot;);\n    notificationTitle = String.valueOf(obj);\n    notificationBody = String.valueOf(obj1);\n    url = String.valueOf(obj2);\n    Log.d(&quot;notification&quot;,notificationTitle+&quot; &quot;+notificationBody+&quot; &quot;+url); //this shows the correct data\n    sendLocalNotification(notificationTitle, notificationBody, url);\n}\n\nprivate void sendLocalNotification(String notificationTitle, String notificationBody, String url) {\n    NotificationCompat.Builder notificationBuilder;\n    if(url == null || url.length() == 0) { //when user taps the notification then it should open the app by default\n        Intent intent = new Intent(this, record_viewer.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder = new NotificationCompat.Builder(this)\n                .setAutoCancel(true)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentIntent(pendingIntent)\n                .setContentTitle(notificationTitle)\n                .setContentText(notificationBody)\n                .setSound(defaultSoundUri);\n    }\n    else{ //when user taps the notification then it should redirect to the url\n        Intent notificationIntent = new Intent(Intent.ACTION_VIEW);\n        notificationIntent.setData(Uri.parse(url));\n\n        PendingIntent pending = PendingIntent.getActivity(this, 0, notificationIntent,\n                PendingIntent.FLAG_ONE_SHOT);\n        Uri defaultSoundUri= RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder = new NotificationCompat.Builder(this)\n                .setAutoCancel(true)\n                .setSmallIcon(R.drawable.download_icon)\n                .setContentIntent(pending)\n                .setContentTitle(notificationTitle)\n                .setContentText(notificationBody)\n                .setSound(defaultSoundUri);\n    }\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    notificationManager.notify(1234, notificationBuilder.build());\n}\n</code></pre>\n<p>I am sending the notification payload using <code>cURL</code> method in my <code>PHP</code> :</p>\n<pre><code>$notifData = [\n        'title' =&gt; &quot;Hey, &quot;.$_POST[&quot;employee&quot;],\n        'body' =&gt; $body,\n        'click_action' =&gt; &quot;URL HERE&quot;\n];\n$apiBody = [\n        'data' =&gt; $notifData,\n        'time_to_live' =&gt; 2000, \n        'to' =&gt; $deviceToken\n];\n                        \n$ch = curl_init();\ncurl_setopt ($ch, CURLOPT_URL, $url);\ncurl_setopt ($ch, CURLOPT_POST, true);\ncurl_setopt ($ch, CURLOPT_HTTPHEADER, $headers);\ncurl_setopt ($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt ($ch, CURLOPT_POSTFIELDS, json_encode($apiBody));\n</code></pre>\n<p>The <code>click_action</code> is optional here. When I pass the URL then the user should be able to redirect to the url site on tapping the notification,  otherwise it should just open the app.</p>\n<p>But the problem is that, the notification never shows, irrespective of the app being in foreground or background. Why is that? How do I fix this issue?</p>\n"},{"tags":["java","maven","heroku","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":15638938,"reputation":16,"user_id":11282938,"display_name":"Sergey Nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1553981681,"creation_date":1553981681,"answer_id":55435863,"question_id":51241023,"body_markdown":"\r\n&gt; Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n\r\nThe error tells us that you need to listen to the port that the heroku will give us. So let&#39;s do it\r\n\r\n        public class Bot extends TelegramLongPollingBot {\r\n        private static final String TOKEN = System.getenv(&quot;TOKEN&quot;);\r\n        private static final String BOT_USERNAME = System.getenv(&quot;BOT_USERNAME&quot;);\r\n        private static final String PORT = System.getenv(&quot;PORT&quot;);\r\n    \r\n        public void onUpdateReceived(Update update) {\r\n            \r\n        }\r\n    \r\n        public String getBotUsername() {\r\n            return BOT_USERNAME;\r\n        }\r\n    \r\n        public String getBotToken() {\r\n            return TOKEN;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ApiContextInitializer.init();\r\n            TelegramBotsApi api = new TelegramBotsApi();\r\n            try {\r\n                api.registerBot(new Bot());\r\n            } catch (TelegramApiRequestException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            try (ServerSocket serverSocket = new ServerSocket(Integer.valueOf(PORT))) {\r\n                while (true) {\r\n                    Socket clientSocket = serverSocket.accept();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Heroku crash after 90 sec working java telegram bot","body":"<blockquote>\n  <p>Error R10 (Boot timeout) -> Web process failed to bind to $PORT within 90 seconds of launch</p>\n</blockquote>\n\n<p>The error tells us that you need to listen to the port that the heroku will give us. So let's do it</p>\n\n<pre><code>    public class Bot extends TelegramLongPollingBot {\n    private static final String TOKEN = System.getenv(\"TOKEN\");\n    private static final String BOT_USERNAME = System.getenv(\"BOT_USERNAME\");\n    private static final String PORT = System.getenv(\"PORT\");\n\n    public void onUpdateReceived(Update update) {\n\n    }\n\n    public String getBotUsername() {\n        return BOT_USERNAME;\n    }\n\n    public String getBotToken() {\n        return TOKEN;\n    }\n\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n        TelegramBotsApi api = new TelegramBotsApi();\n        try {\n            api.registerBot(new Bot());\n        } catch (TelegramApiRequestException e) {\n            e.printStackTrace();\n        }\n\n        try (ServerSocket serverSocket = new ServerSocket(Integer.valueOf(PORT))) {\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10663745,"reputation":1,"user_id":8260212,"display_name":"K1TS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578205088,"creation_date":1578205088,"answer_id":59597496,"question_id":51241023,"body_markdown":"Sergey Nik&#39;s answer helped me a lot after wasting plenty of time on attempts to fix this R10 error. I can append that Procfile should be placed in a root directory and can look like this:\r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/&lt;custom-bot&gt;.jar\r\n","title":"Heroku crash after 90 sec working java telegram bot","body":"<p>Sergey Nik's answer helped me a lot after wasting plenty of time on attempts to fix this R10 error. I can append that Procfile should be placed in a root directory and can look like this:</p>\n\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/&lt;custom-bot&gt;.jar\n</code></pre>\n"}],"owner":{"account_id":12995693,"reputation":17,"user_id":9442898,"display_name":"Y2Kot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55435863,"answer_count":2,"score":0,"last_activity_date":1667108360,"creation_date":1531124740,"question_id":51241023,"body_markdown":"I wrote java Telegram bot using this api - https://github.com/rubenlagus/TelegramBots . I test it on my PC and it works good. So I decided to test it on Heroku, how ever, after 90sec working it crash (first 90 sec works well). Heroku log:\r\n\r\n    2018-07-09T08:01:45.000000+00:00 app[api]: Build succeeded\r\n    2018-07-09T08:01:46.940201+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=18914 -jar target/AllaBot-1.0.0.jar`\r\n    2018-07-09T08:01:49.163121+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\r\n    2018-07-09T08:01:49.166682+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -Dfile.encoding=UTF-8\r\n    2018-07-09T08:03:17.028453+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n    2018-07-09T08:03:17.028604+00:00 heroku[web.1]: Stopping process with SIGKILL\r\n    2018-07-09T08:03:17.121323+00:00 heroku[web.1]: Process exited with status 137\r\n    2018-07-09T08:03:17.140915+00:00 heroku[web.1]: State changed from starting to crashed\r\n\r\nmy Procfile:\r\n\r\n    web: java -Dserver.port=$PORT -jar target/AllaBot-1.0.0.jar\r\n\r\nAs I understand, I need to change port in my project, don&#39;t me? I try to use some tips from internet but they don&#39;t works for me.","title":"Heroku crash after 90 sec working java telegram bot","body":"<p>I wrote java Telegram bot using this api - <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">https://github.com/rubenlagus/TelegramBots</a> . I test it on my PC and it works good. So I decided to test it on Heroku, how ever, after 90sec working it crash (first 90 sec works well). Heroku log:</p>\n\n<pre><code>2018-07-09T08:01:45.000000+00:00 app[api]: Build succeeded\n2018-07-09T08:01:46.940201+00:00 heroku[web.1]: Starting process with command `java -Dserver.port=18914 -jar target/AllaBot-1.0.0.jar`\n2018-07-09T08:01:49.163121+00:00 app[web.1]: Setting JAVA_TOOL_OPTIONS defaults based on dyno size. Custom settings will override them.\n2018-07-09T08:01:49.166682+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Xmx300m -Xss512k -Dfile.encoding=UTF-8\n2018-07-09T08:03:17.028453+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\n2018-07-09T08:03:17.028604+00:00 heroku[web.1]: Stopping process with SIGKILL\n2018-07-09T08:03:17.121323+00:00 heroku[web.1]: Process exited with status 137\n2018-07-09T08:03:17.140915+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n\n<p>my Procfile:</p>\n\n<pre><code>web: java -Dserver.port=$PORT -jar target/AllaBot-1.0.0.jar\n</code></pre>\n\n<p>As I understand, I need to change port in my project, don't me? I try to use some tips from internet but they don't works for me.</p>\n"},{"tags":["java","arraylist","shuffle"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1667108254,"post_id":74250641,"comment_id":131090273,"body_markdown":"I would like to add that you aren&#39;t following Java naming conventions for methods (in some places). Method names should be camelCased i.e., they should start with a lower case letter","body":"I would like to add that you aren&#39;t following Java naming conventions for methods (in some places). Method names should be camelCased i.e., they should start with a lower case letter"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667107804,"creation_date":1667107804,"answer_id":74250720,"question_id":74250641,"body_markdown":"You are having two instances of `Deck` class - one in the main method and one in the `CardPlayer` class. The one in the `CardPlayer` class is used in `getCard` but that deck isn&#39;t shuffled.\r\n\r\nEither shuffle the deck created in `CardPlayer` class. Or pass the shuffled deck created in main to the constructor of the `CardPlayer` class.","title":"Java Deck of Cards List Shuffle","body":"<p>You are having two instances of <code>Deck</code> class - one in the main method and one in the <code>CardPlayer</code> class. The one in the <code>CardPlayer</code> class is used in <code>getCard</code> but that deck isn't shuffled.</p>\n<p>Either shuffle the deck created in <code>CardPlayer</code> class. Or pass the shuffled deck created in main to the constructor of the <code>CardPlayer</code> class.</p>\n"}],"owner":{"account_id":24639223,"reputation":33,"user_id":18537528,"display_name":"Soul Manipulator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74250720,"answer_count":1,"score":0,"last_activity_date":1667107804,"creation_date":1667106626,"question_id":74250641,"body_markdown":"Need some assistance on this program I&#39;m working on. Basically a card draw program that creates a deck of cards (card and deck classes), shuffles the created deck, and adds the first card of the shuffled deck to the player&#39;s hand. (CardPlayer class).\r\n```\r\npackage cards;\r\n\r\npublic class Card {\r\n\t\tprivate String[]cardSuit = {&quot;Hearts&quot;, &quot;Diamonds&quot;, &quot;Spades&quot;, &quot;Clubs&quot;};\r\n\t\tprivate String[]cardFaceValue = {&quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;10&quot;, &quot;9&quot;, &quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;};\r\n\t\t\r\n\t\tprivate int suit;\r\n\t\tprivate int faceValue;\r\n\t\t\r\n\t\tpublic Card(int newSuit, int newValue) {\r\n\t\t\tsuit = newSuit;\r\n\t\t\tfaceValue = newValue;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\tString card = cardFaceValue[faceValue] + &quot; of &quot; + cardSuit[suit];\r\n\t\t\t\r\n\t\t\treturn card;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\nimport java.util.*;\r\n\r\npublic class Deck {\r\n\t\t\r\n\t\tArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tpublic Deck() {\r\n\t\t\tfor(int suit = 0; suit &lt;= 3; suit++) {\r\n\t\t\t\tfor(int value = 0; value &lt;= 12; value++) {\r\n\t\t\t\t\tdeck.add(new Card(suit,value));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic void Shuffle() {\r\n\t\t\tCollections.shuffle(deck);\r\n\t\t}\r\n\t\tpublic Card Deal() {\r\n\t\t\tCard card = deck.get(0);\r\n\t\t\tdeck.remove(0);\r\n\t\t\treturn card;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\nimport java.util.*;\r\n\r\npublic class CardPlayer {\r\n\r\n\t\tDeck deck = new Deck();\r\n    \t\r\n\t\tArrayList&lt;Card&gt; hand = new ArrayList&lt;&gt;();\r\n\r\n\t\tpublic void getCard(){\r\n\t\t\thand.add(deck.Deal());\r\n\t\t}\r\n\r\n\t\tpublic ArrayList&lt;Card&gt; showCards(){\r\n\t\t\t\r\n\t\t\treturn hand;\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n```\r\npackage cards;\r\n\r\npublic class Demonstration {\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tDeck deck;\r\n    \tdeck = new Deck();\r\n    \t\r\n    \tCardPlayer cardPlayer;\r\n    \tcardPlayer = new CardPlayer();\r\n    \t\r\n    \tSystem.out.println(&quot;The deck contains the cards: &quot; + deck.deck);\r\n    \t\r\n    \tdeck.Shuffle();\r\n    \tSystem.out.println(&quot;New order of cards: &quot; + deck.deck);\r\n    \t\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tcardPlayer.getCard();\r\n    \tSystem.out.println(&quot;The card player&#39;s hand is now: &quot; + cardPlayer.showCards());\r\n    \t\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy issue is that whenever I run the demonstration program, the deck and shuffle work, but when I try to show the cards in the player&#39;s hand, it&#39;s always the same cards in the order created by the initial deck creation, without the shuffle. How would I go about fixing this issue?\r\n","title":"Java Deck of Cards List Shuffle","body":"<p>Need some assistance on this program I'm working on. Basically a card draw program that creates a deck of cards (card and deck classes), shuffles the created deck, and adds the first card of the shuffled deck to the player's hand. (CardPlayer class).</p>\n<pre><code>package cards;\n\npublic class Card {\n        private String[]cardSuit = {&quot;Hearts&quot;, &quot;Diamonds&quot;, &quot;Spades&quot;, &quot;Clubs&quot;};\n        private String[]cardFaceValue = {&quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;10&quot;, &quot;9&quot;, &quot;8&quot;, &quot;7&quot;, &quot;6&quot;, &quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;};\n        \n        private int suit;\n        private int faceValue;\n        \n        public Card(int newSuit, int newValue) {\n            suit = newSuit;\n            faceValue = newValue;\n        }\n        \n        public String toString() {\n            String card = cardFaceValue[faceValue] + &quot; of &quot; + cardSuit[suit];\n            \n            return card;\n        }\n    }\n</code></pre>\n<pre><code>package cards;\n\nimport java.util.*;\n\npublic class Deck {\n        \n        ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\n        \n        public Deck() {\n            for(int suit = 0; suit &lt;= 3; suit++) {\n                for(int value = 0; value &lt;= 12; value++) {\n                    deck.add(new Card(suit,value));\n                }\n            }\n        }\n        public void Shuffle() {\n            Collections.shuffle(deck);\n        }\n        public Card Deal() {\n            Card card = deck.get(0);\n            deck.remove(0);\n            return card;\n        }\n    }\n</code></pre>\n<pre><code>package cards;\n\nimport java.util.*;\n\npublic class CardPlayer {\n\n        Deck deck = new Deck();\n        \n        ArrayList&lt;Card&gt; hand = new ArrayList&lt;&gt;();\n\n        public void getCard(){\n            hand.add(deck.Deal());\n        }\n\n        public ArrayList&lt;Card&gt; showCards(){\n            \n            return hand;\n        }\n\n    }\n</code></pre>\n<pre><code>package cards;\n\npublic class Demonstration {\n        \n    public static void main(String[] args) {\n        Deck deck;\n        deck = new Deck();\n        \n        CardPlayer cardPlayer;\n        cardPlayer = new CardPlayer();\n        \n        System.out.println(&quot;The deck contains the cards: &quot; + deck.deck);\n        \n        deck.Shuffle();\n        System.out.println(&quot;New order of cards: &quot; + deck.deck);\n        \n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        cardPlayer.getCard();\n        System.out.println(&quot;The card player's hand is now: &quot; + cardPlayer.showCards());\n        \n    }\n}\n</code></pre>\n<p>My issue is that whenever I run the demonstration program, the deck and shuffle work, but when I try to show the cards in the player's hand, it's always the same cards in the order created by the initial deck creation, without the shuffle. How would I go about fixing this issue?</p>\n"},{"tags":["java","reflection","protocol-buffers"],"comments":[{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1288368650,"post_id":4053691,"comment_id":4353440,"body_markdown":"Do Builder have setTestProp method?","body":"Do Builder have setTestProp method?"},{"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"score":1,"creation_date":1288707780,"post_id":4053691,"comment_id":4384540,"body_markdown":"I should  point out that the destination java object is an instance of com.google.protobuf.GeneratedMessage , which are immutable beans. Therefore using Dozer or simple reflection read/write on GeneratedMessage won&#39;t work.","body":"I should  point out that the destination java object is an instance of com.google.protobuf.GeneratedMessage , which are immutable beans. Therefore using Dozer or simple reflection read/write on GeneratedMessage won&#39;t work."}],"answers":[{"comments":[{"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"score":0,"creation_date":1288370302,"post_id":4053819,"comment_id":4353726,"body_markdown":"No , this could not be used in this context.  The message builder is a sub class of the protobuf message object. and its setter methods does a lot of &quot;housekeeping&quot; like operations  ; overriding its method accessibility setting would lead  to problems in message serialization .","body":"No , this could not be used in this context.  The message builder is a sub class of the protobuf message object. and its setter methods does a lot of &quot;housekeeping&quot; like operations  ; overriding its method accessibility setting would lead  to problems in message serialization ."}],"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288369078,"creation_date":1288369078,"answer_id":4053819,"question_id":4053691,"body_markdown":"You can go throw all properties *getClass().getFields()* and make copy using reflection. It will be smt like: \r\n\r\n    for(Field f : to.getClass().getFields()){\r\n    \tf.set(to, from.getClass().getField(f.getName()).get(from));\r\n    }\r\n\r\n**+** probably you might be use *field.setAccessible(true)* invocation.","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>You can go throw all properties <em>getClass().getFields()</em> and make copy using reflection. It will be smt like: </p>\n\n<pre><code>for(Field f : to.getClass().getFields()){\n    f.set(to, from.getClass().getField(f.getName()).get(from));\n}\n</code></pre>\n\n<p><strong>+</strong> probably you might be use <em>field.setAccessible(true)</em> invocation.</p>\n"},{"tags":[],"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543599292,"creation_date":1288372160,"answer_id":4054240,"question_id":4053691,"body_markdown":"I hate to answer my question but I cant believe that I am the only one who ran into this problem. Documenting solution here in case other people are also getting started with protobuf and java. Using reflection saves wrting dozens of getter and setters.\r\n\r\nOk , I managed to get it to work using some of example test code shipping with protobuf. This is a very simple use case; typically a message would be a lot more complex. This code does not handle nested messages or repeated messages.\r\n\r\n\r\n    public static void setMessageBuilder(com.google.protobuf.GeneratedMessage.Builder message,Descriptors.Descriptor descriptor,Object srcObject) throws Exception {\r\n        String cname = srcObject.getClass().getName();\r\n        /*BeanMapper.getSimpleProperties -- this is a warpper method that gets the list of property names*/ \r\n        List&lt;String&gt; simpleProps = BeanMapper.getSimpleProperties(srcObject.getClass());\r\n\r\n        Map map = new HashMap();\r\n        for (String pName : simpleProps) {\r\n            System.out.println(&quot; processing property &quot;+ pName);\r\n            Object value= PropertyUtils.getProperty(srcObject, pName);\r\n            if(value==null) continue;\r\n           \r\n            Descriptors.FieldDescriptor fd=descriptor.findFieldByName(pName) ;\r\n            \r\n            System.out.println(&quot; property &quot;+  pName+&quot; , found fd :&quot;+ (fd==null ? &quot;nul&quot;:&quot;ok&quot;));\r\n             message.setField(fd, value);\r\n             System.out.println(&quot; property &quot;+  pName+&quot;  set ok,&quot;);\r\n\r\n        }\r\n        return ;\r\n    }","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I hate to answer my question but I cant believe that I am the only one who ran into this problem. Documenting solution here in case other people are also getting started with protobuf and java. Using reflection saves wrting dozens of getter and setters.</p>\n\n<p>Ok , I managed to get it to work using some of example test code shipping with protobuf. This is a very simple use case; typically a message would be a lot more complex. This code does not handle nested messages or repeated messages.</p>\n\n<pre><code>public static void setMessageBuilder(com.google.protobuf.GeneratedMessage.Builder message,Descriptors.Descriptor descriptor,Object srcObject) throws Exception {\n    String cname = srcObject.getClass().getName();\n    /*BeanMapper.getSimpleProperties -- this is a warpper method that gets the list of property names*/ \n    List&lt;String&gt; simpleProps = BeanMapper.getSimpleProperties(srcObject.getClass());\n\n    Map map = new HashMap();\n    for (String pName : simpleProps) {\n        System.out.println(\" processing property \"+ pName);\n        Object value= PropertyUtils.getProperty(srcObject, pName);\n        if(value==null) continue;\n\n        Descriptors.FieldDescriptor fd=descriptor.findFieldByName(pName) ;\n\n        System.out.println(\" property \"+  pName+\" , found fd :\"+ (fd==null ? \"nul\":\"ok\"));\n         message.setField(fd, value);\n         System.out.println(\" property \"+  pName+\"  set ok,\");\n\n    }\n    return ;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"score":0,"creation_date":1288543040,"post_id":4054580,"comment_id":4366129,"body_markdown":"Thanks for  a heads up on protostuf; it seems to be very powerful .   I am still trying to play with protostuf&#39; ProtostuffIOUtil.  If I could get the message objects properly composed from the legacy bean, I would mark you response as the accepted answer.","body":"Thanks for  a heads up on protostuf; it seems to be very powerful .   I am still trying to play with protostuf&#39; ProtostuffIOUtil.  If I could get the message objects properly composed from the legacy bean, I would mark you response as the accepted answer."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288375225,"creation_date":1288375225,"answer_id":4054580,"question_id":4053691,"body_markdown":"I may be off, but would [protostuff][1] help? It has nice extended support for working with other data formats, types. And even if it didn&#39;t have direct conversion support, if you go to/from JSON there are many choices for good data binding.\r\n\r\n  [1]: http://code.google.com/p/protostuff/","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I may be off, but would <a href=\"http://code.google.com/p/protostuff/\" rel=\"nofollow\">protostuff</a> help? It has nice extended support for working with other data formats, types. And even if it didn't have direct conversion support, if you go to/from JSON there are many choices for good data binding.</p>\n"},{"tags":[],"owner":{"account_id":144764,"reputation":2527,"user_id":354063,"accept_rate":94,"display_name":"Ither"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288376864,"creation_date":1288376864,"answer_id":4054759,"question_id":4053691,"body_markdown":"I don&#39;t know the size of your project but you may want to try [Dozer][1], a mapper that recursively copies data from one object to another of the same type or between different complex types. Supports implicit and explicit mapping as well. I used it in a big project and worked very well. It could be as simple as\r\n\r\n    Mapper mapper = new DozerBeanMapper();\r\n    DestinationObject destObject = mapper.map(sourceObject, DestinationObject.class);\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I don't know the size of your project but you may want to try <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow\">Dozer</a>, a mapper that recursively copies data from one object to another of the same type or between different complex types. Supports implicit and explicit mapping as well. I used it in a big project and worked very well. It could be as simple as</p>\n\n<pre><code>Mapper mapper = new DozerBeanMapper();\nDestinationObject destObject = mapper.map(sourceObject, DestinationObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8138569,"reputation":1,"user_id":6129495,"display_name":"yang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459257873,"creation_date":1459257873,"answer_id":36285644,"question_id":4053691,"body_markdown":"I&#39;ve got the same issue, the solution is a little bit tricky.\r\n\r\nPlease use \r\nMethodUtils.invokeMethod\r\ninstead.\r\n\r\nwhere the method name is &quot;setXXX&quot;.","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>I've got the same issue, the solution is a little bit tricky.</p>\n\n<p>Please use \nMethodUtils.invokeMethod\ninstead.</p>\n\n<p>where the method name is \"setXXX\".</p>\n"}],"owner":{"account_id":65673,"reputation":3518,"user_id":193116,"accept_rate":63,"display_name":"user193116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8614,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1667107512,"creation_date":1288368322,"question_id":4053691,"body_markdown":"Typically I could copy values between two java beans, which have identical property names, using `BeanUtils` with java reflection e.g. `PropertyUtils.setProperty(....)`\r\n\r\nIn protobuf `Message`, we use the message builder class to set the value. This works but I would rather use reflection to automatically copy properties from the bean to the message as both have identical property names and type.\r\n\r\nWhen I invoke the `PropertyUtils.setProperty` on the builder object ( got from `message.newBuilder()`), I get this message.\r\n\r\n`java.lang.NoSuchMethodException: Property &#39;testProp&#39; has no setter method in class &#39;class teststuff.TestBeanProtos$TestBeanMessage$Builder&#39;`\r\n\r\n\r\nHow do I automatically copy values from java bean to protobuf message object (and vice-versa) using java reflection?\r\n\r\n\r\n\r\n\r\n","title":"how to automatically copy values from java bean to protobuf message object using java reflection?","body":"<p>Typically I could copy values between two java beans, which have identical property names, using <code>BeanUtils</code> with java reflection e.g. <code>PropertyUtils.setProperty(....)</code></p>\n<p>In protobuf <code>Message</code>, we use the message builder class to set the value. This works but I would rather use reflection to automatically copy properties from the bean to the message as both have identical property names and type.</p>\n<p>When I invoke the <code>PropertyUtils.setProperty</code> on the builder object ( got from <code>message.newBuilder()</code>), I get this message.</p>\n<p><code>java.lang.NoSuchMethodException: Property 'testProp' has no setter method in class 'class teststuff.TestBeanProtos$TestBeanMessage$Builder'</code></p>\n<p>How do I automatically copy values from java bean to protobuf message object (and vice-versa) using java reflection?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1518170757,"post_id":48701673,"comment_id":84404901,"body_markdown":"I would simply working with the doubles having in mind the floating point problems. But what you could doing is getting the double values and then doing the same as Excel does, rounding to 15 significant digits using [BigDecimal.round](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#round%28java.math.MathContext%29). I have shown this here : https://stackoverflow.com/questions/41067328/apache-poi-not-returning-the-proper-value-for-large-numbers-coming-from-excel/41106535#41106535.","body":"I would simply working with the doubles having in mind the floating point problems. But what you could doing is getting the double values and then doing the same as Excel does, rounding to 15 significant digits using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#round%28java.math.MathContext%29\" rel=\"nofollow noreferrer\">BigDecimal.round</a>. I have shown this here : <a href=\"https://stackoverflow.com/questions/41067328/apache-poi-not-returning-the-proper-value-for-large-numbers-coming-from-excel/41106535#41106535\" title=\"apache poi not returning the proper value for large numbers coming from excel\">stackoverflow.com/questions/41067328/&hellip;</a>."},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518172275,"post_id":48701673,"comment_id":84405916,"body_markdown":"@AxelRichter yes i could do it this way, thanks for pointing out. Problem is we have a convention in our software that our BigDecimals need to be max 9 digits before fraction and max. 7 digits after fraction, so they can be stored in database and we can be sure they are not larger than our database field allows.\n\nThe Value of Excel is for example: 62.474099999999993 which is larger than our 7 digits after fraction. I dont want to cut off the rest of the number, and i also dont want to lose precision for price-values. My above code-example (which is a hack) does not have this problem.","body":"@AxelRichter yes i could do it this way, thanks for pointing out. Problem is we have a convention in our software that our BigDecimals need to be max 9 digits before fraction and max. 7 digits after fraction, so they can be stored in database and we can be sure they are not larger than our database field allows.  The Value of Excel is for example: 62.474099999999993 which is larger than our 7 digits after fraction. I dont want to cut off the rest of the number, and i also dont want to lose precision for price-values. My above code-example (which is a hack) does not have this problem."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1518173834,"post_id":48701673,"comment_id":84406893,"body_markdown":"Can&#39;t test at the moment. But could you try using [DataFormatter(java.util.Locale locale)](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html#DataFormatter-java.util.Locale-) having `Locale.US`? Or setting [LocaleUtil.setUserLocale](https://poi.apache.org/apidocs/org/apache/poi/util/LocaleUtil.html#setUserLocale-java.util.Locale-) to `Locale.US` before using the `DataFormatter`?","body":"Can&#39;t test at the moment. But could you try using <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html#DataFormatter-java.util.Locale-\" rel=\"nofollow noreferrer\">DataFormatter(java.util.Locale locale)</a> having <code>Locale.US</code>? Or setting <a href=\"https://poi.apache.org/apidocs/org/apache/poi/util/LocaleUtil.html#setUserLocale-java.util.Locale-\" rel=\"nofollow noreferrer\">LocaleUtil.setUserLocale</a> to <code>Locale.US</code> before using the <code>DataFormatter</code>?"},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518180161,"post_id":48701673,"comment_id":84410566,"body_markdown":"@AxelRichter good idea. I have tryed it like follow:\n`formatter = new DataFormatter(Locale.US)`. And i have tryed using the `formatRawCellContents` --&gt; With value: &quot;1333&quot;, format-string: &quot;#,##0&quot; result: &quot;1,333&quot;. With value: &quot;1&quot;, format-string: &quot;0.00&quot;, result: &quot;1.00&quot;. So it really does change something, but it still produces &quot;,&quot; in result. But thanks this helps. It would be a solution if with Locale.US it would never produce a comma.","body":"@AxelRichter good idea. I have tryed it like follow: <code>formatter = new DataFormatter(Locale.US)</code>. And i have tryed using the <code>formatRawCellContents</code> --&gt; With value: &quot;1333&quot;, format-string: &quot;#,##0&quot; result: &quot;1,333&quot;. With value: &quot;1&quot;, format-string: &quot;0.00&quot;, result: &quot;1.00&quot;. So it really does change something, but it still produces &quot;,&quot; in result. But thanks this helps. It would be a solution if with Locale.US it would never produce a comma."},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518180630,"post_id":48701673,"comment_id":84410891,"body_markdown":"@AxelRichter hey now that i think about it. If the result now always conforms to the Locale.US it will always have &quot;.&quot; as decimal separator. Cool Thx. I think this could solve my problem","body":"@AxelRichter hey now that i think about it. If the result now always conforms to the Locale.US it will always have &quot;.&quot; as decimal separator. Cool Thx. I think this could solve my problem"}],"answers":[{"comments":[{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518166044,"post_id":48701755,"comment_id":84402068,"body_markdown":"Because i use the &quot;XSSF and SAX Event API&quot; (for Performance-Reasons) i can not use &quot;Cell&quot;. Cell is only available with the SXSSF API.\n\nEven if i could use Cell. Excel saves numbers like this:\n\n    123.43500000009\n\nif i just use those double values in java i would get floating-point problems and the original formatting of excel would get lost. (Original number was: &quot;123.435&quot; (3 digits after decimal point). I just want that Apache-POI gives me the number as BigDecimal oder as Double simulating the original Excel-Number that has been shown to the user in excel, so i can work with it in java","body":"Because i use the &quot;XSSF and SAX Event API&quot; (for Performance-Reasons) i can not use &quot;Cell&quot;. Cell is only available with the SXSSF API.  Even if i could use Cell. Excel saves numbers like this:      123.43500000009  if i just use those double values in java i would get floating-point problems and the original formatting of excel would get lost. (Original number was: &quot;123.435&quot; (3 digits after decimal point). I just want that Apache-POI gives me the number as BigDecimal oder as Double simulating the original Excel-Number that has been shown to the user in excel, so i can work with it in java"},{"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"score":1,"creation_date":1518167076,"post_id":48701755,"comment_id":84402636,"body_markdown":"Even in XSSF Cell classyou can get a double numeric value directly from cell (https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCell.html#getNumericCellValue--) and if you need the value exactly as it appears, then https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCell.html#getRawValue-- should be used. In case this wouldn&#39;t be enough, you can also access the underlying CTCell with XSSFCell.getCTCell() and work your way from there (raw data)","body":"Even in XSSF Cell classyou can get a double numeric value directly from cell (<a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCell.html#getNumericCellValue--\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/&hellip;</a>) and if you need the value exactly as it appears, then <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFCell.html#getRawValue--\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/&hellip;</a> should be used. In case this wouldn&#39;t be enough, you can also access the underlying CTCell with XSSFCell.getCTCell() and work your way from there (raw data)"},{"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"score":0,"creation_date":1518167722,"post_id":48701755,"comment_id":84402991,"body_markdown":"you are right about XSSF Cell. But please see following link about &quot;XSSF and SAX Event API&quot;: https://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\nXSSF Cell is only used for the &quot;User API (HSSF and XSSF)&quot; ? I have no Cell-Object when i use the XMLStreamReader to parse the sheet.","body":"you are right about XSSF Cell. But please see following link about &quot;XSSF and SAX Event API&quot;: <a href=\"https://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">poi.apache.org/spreadsheet/how-to.html#xssf_sax_api</a> XSSF Cell is only used for the &quot;User API (HSSF and XSSF)&quot; ? I have no Cell-Object when i use the XMLStreamReader to parse the sheet."},{"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"score":2,"creation_date":1518174278,"post_id":48701755,"comment_id":84407160,"body_markdown":"Then check the sample code at: https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel/XLSX2CSV.java XLSX2CSV.SheetToCSV.cell() overriden method has what you need (cell value parsing for doubles and other formats)","body":"Then check the sample code at: <a href=\"https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel/XLSX2CSV.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apac&zwnj;&#8203;he/&hellip;</a> XLSX2CSV.SheetToCSV.cell() overriden method has what you need (cell value parsing for doubles and other formats)"}],"tags":[],"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667107504,"creation_date":1518165531,"answer_id":48701755,"question_id":48701673,"body_markdown":"From [Apache POI docs][1]:\r\n\r\n*Cell.getNumericCellValue()* should already return a double value.\r\n\r\nFor other formats, use *DataFormatter* class:\r\n\r\n&gt; DataFormatter contains methods for formatting the value stored in an\r\n&gt; Cell. This can be useful for reports and GUI presentations when you\r\n&gt; need to display data exactly as it appears in Excel. Supported formats\r\n&gt; include currency, SSN, percentages, decimals, dates, phone numbers,\r\n&gt; zip codes, etc.\r\n\r\nWhen using XSSF SAX Event API, you don&#39;t have that kind of access but fortunately there&#39;s a code sample at\r\n\r\n[https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java][2]\r\n\r\nthat shows how to retrieve the numeric / formatted string value of a cell by implementing the *SheetContentsHandler* interface and overriding its *cell*, *startRow*, *endRow*, etc. methods (in the example, look for the *XLSX2CSV.SheetToCSV.cell*(...) method.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/index.html\r\n  [2]: https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>From <a href=\"https://poi.apache.org/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache POI docs</a>:</p>\n<p><em>Cell.getNumericCellValue()</em> should already return a double value.</p>\n<p>For other formats, use <em>DataFormatter</em> class:</p>\n<blockquote>\n<p>DataFormatter contains methods for formatting the value stored in an\nCell. This can be useful for reports and GUI presentations when you\nneed to display data exactly as it appears in Excel. Supported formats\ninclude currency, SSN, percentages, decimals, dates, phone numbers,\nzip codes, etc.</p>\n</blockquote>\n<p>When using XSSF SAX Event API, you don't have that kind of access but fortunately there's a code sample at</p>\n<p><a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/eventusermodel/XLSX2CSV.java</a></p>\n<p>that shows how to retrieve the numeric / formatted string value of a cell by implementing the <em>SheetContentsHandler</em> interface and overriding its <em>cell</em>, <em>startRow</em>, <em>endRow</em>, etc. methods (in the example, look for the <em>XLSX2CSV.SheetToCSV.cell</em>(...) method.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1518181387,"creation_date":1518181387,"answer_id":48706525,"question_id":48701673,"body_markdown":"With help of @AxelRichter following solution now solves my problem:\r\n\r\n    // we must use Locale.US, because we want to make sure that the DataFormatter will\r\n    // always product &quot;.&quot; as decimal-separator and &quot;,&quot; as thousands-separator.\r\n    this.formatter = new DataFormatter(Locale.US);\r\n\r\n    // format the floating-point value\r\n    String xlsxValue = formatter.formatRawCellContents(\r\n            Double.parseDouble(value),\r\n            formatIndex,\r\n            formatString);\r\n\r\n    // xlsxValue may contain format-symbols, which we need to remove...\r\n    xlsxValue = xlsxValue.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>With help of @AxelRichter following solution now solves my problem:</p>\n\n<pre><code>// we must use Locale.US, because we want to make sure that the DataFormatter will\n// always product \".\" as decimal-separator and \",\" as thousands-separator.\nthis.formatter = new DataFormatter(Locale.US);\n\n// format the floating-point value\nString xlsxValue = formatter.formatRawCellContents(\n        Double.parseDouble(value),\n        formatIndex,\n        formatString);\n\n// xlsxValue may contain format-symbols, which we need to remove...\nxlsxValue = xlsxValue.replaceAll(\"[^\\\\d.]\", \"\");\n</code></pre>\n"}],"owner":{"account_id":3828094,"reputation":321,"user_id":3174456,"display_name":"rnd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9046,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48706525,"answer_count":2,"score":6,"last_activity_date":1667107504,"creation_date":1518165181,"question_id":48701673,"body_markdown":"I want to Import an XLSX-File with Help of Apache-POI (XSSF and SAX Event API).\r\n\r\nBecause Excel stores numbers as floating-point numbers it is necessary in java to format them back to the way they originally look in Excel. This is possible by reading the cell-format:\r\n\r\n\r\n    String cellStyle = sheetReader.getAttributeValue(null, &quot;s&quot;);\r\n    if (cellStyle != null) {\r\n      // save the format of the cell for later use.\r\n      int styleIndex = Integer.parseInt(cellStyle);\r\n      XSSFCellStyle style = stylesTable.getStyleAt(styleIndex);\r\n      formatIndex = style.getDataFormat();\r\n      formatString = style.getDataFormatString();\r\n      if (formatString == null) {\r\n        // formatString could not be found, so it must be a builtin format.\r\n        formatString = BuiltinFormats.getBuiltinFormat(formatIndex);\r\n      }\r\n    }\r\n    ...\r\n    // format the floating-point value\r\n    String xlsxValue = formatter.formatRawCellContents(\r\n      Double.parseDouble(value),\r\n      formatIndex,\r\n      formatString);\r\n\r\n\r\nThe above code does work well for me... but it gives me the numbers like they are originally formatted in Excel while running Excel in Germany Locale. Example for such numbers:\r\n\r\n\r\n    10,30\r\n    100.00.00,43\r\n\r\n\r\nNow how can i reformat those numbers so that they can be fed to Java Double and Java BigDecimal?\r\n\r\nApache-POI seemingly does not provide Utility-Classes for this case, but how can the numbers be processed in java then?\r\n\r\nI have hacked my way into poi to make this happen like this, but is there no other way?\r\n\r\n\r\n    // hack apache-poi classes that are private, so we can retrieve the &#39;format&#39;\r\n    // which helps us to transform the formated value to the expected java-format\r\n    CellStyle style = new CellStyleHack(formatIndex, formatString);\r\n    Cell cell = new CellHack(Double.parseDouble(xlsxValue), style);\r\n\r\n    java.text.Format format = formatter.createFormat(cell);\r\n    if (format instanceof DecimalFormat) {\r\n      DecimalFormat decimalFormat = ((DecimalFormat) format);\r\n      char dSep = decimalFormat.getDecimalFormatSymbols().getDecimalSeparator();\r\n      char gSep = decimalFormat.getDecimalFormatSymbols().getGroupingSeparator();\r\n      String cSymbol = decimalFormat.getDecimalFormatSymbols().getCurrencySymbol();\r\n\r\n      // java always expects &#39;.&#39; as decimal seperator for BigDecimal and Double.\r\n      xlsxValue = xlsxValue.replace(&quot;&quot; + gSep, &quot;&quot;);\r\n      xlsxValue = xlsxValue.replace(dSep, &#39;.&#39;);\r\n      if (cSymbol != null) {\r\n        xlsxValue = xlsxValue.replace(cSymbol, &quot;&quot;).trim();\r\n      }\r\n    }\r\n\r\n","title":"Parse Excel Decimal-Format with Apache-POI to Java BigDecimal","body":"<p>I want to Import an XLSX-File with Help of Apache-POI (XSSF and SAX Event API).</p>\n\n<p>Because Excel stores numbers as floating-point numbers it is necessary in java to format them back to the way they originally look in Excel. This is possible by reading the cell-format:</p>\n\n<pre><code>String cellStyle = sheetReader.getAttributeValue(null, \"s\");\nif (cellStyle != null) {\n  // save the format of the cell for later use.\n  int styleIndex = Integer.parseInt(cellStyle);\n  XSSFCellStyle style = stylesTable.getStyleAt(styleIndex);\n  formatIndex = style.getDataFormat();\n  formatString = style.getDataFormatString();\n  if (formatString == null) {\n    // formatString could not be found, so it must be a builtin format.\n    formatString = BuiltinFormats.getBuiltinFormat(formatIndex);\n  }\n}\n...\n// format the floating-point value\nString xlsxValue = formatter.formatRawCellContents(\n  Double.parseDouble(value),\n  formatIndex,\n  formatString);\n</code></pre>\n\n<p>The above code does work well for me... but it gives me the numbers like they are originally formatted in Excel while running Excel in Germany Locale. Example for such numbers:</p>\n\n<pre><code>10,30\n100.00.00,43\n</code></pre>\n\n<p>Now how can i reformat those numbers so that they can be fed to Java Double and Java BigDecimal?</p>\n\n<p>Apache-POI seemingly does not provide Utility-Classes for this case, but how can the numbers be processed in java then?</p>\n\n<p>I have hacked my way into poi to make this happen like this, but is there no other way?</p>\n\n<pre><code>// hack apache-poi classes that are private, so we can retrieve the 'format'\n// which helps us to transform the formated value to the expected java-format\nCellStyle style = new CellStyleHack(formatIndex, formatString);\nCell cell = new CellHack(Double.parseDouble(xlsxValue), style);\n\njava.text.Format format = formatter.createFormat(cell);\nif (format instanceof DecimalFormat) {\n  DecimalFormat decimalFormat = ((DecimalFormat) format);\n  char dSep = decimalFormat.getDecimalFormatSymbols().getDecimalSeparator();\n  char gSep = decimalFormat.getDecimalFormatSymbols().getGroupingSeparator();\n  String cSymbol = decimalFormat.getDecimalFormatSymbols().getCurrencySymbol();\n\n  // java always expects '.' as decimal seperator for BigDecimal and Double.\n  xlsxValue = xlsxValue.replace(\"\" + gSep, \"\");\n  xlsxValue = xlsxValue.replace(dSep, '.');\n  if (cSymbol != null) {\n    xlsxValue = xlsxValue.replace(cSymbol, \"\").trim();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","aspectj"],"owner":{"account_id":4787468,"reputation":43,"user_id":3867517,"display_name":"Nandeesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667107495,"creation_date":1595697151,"question_id":63091200,"body_markdown":"I have two applied @Around and @After throwing annotation on a method. @Around method is doing Authorization, @After throwing is handling the exception when Authorization throws an exception, see the example below:\r\n\r\n```java\r\nclass AuthClass {\r\n\r\n    @Authorize\r\n    @HandleException\r\n    public String isValidUser() {\r\n        return &quot;yes&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect AuthorizeAdvice {\r\n\r\n    declare precedence : HandleExceptionAdvice;\r\n\r\n    pointcut authorizeRequest() : execution (@Authorize * *(..));\r\n\r\n    Object around() : authorizeRequest() {\r\n        //call method which throws exception\r\n        throw new AppException();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect HandleExceptionAdvice {\r\n\r\n    pointcut handleException() : execution (@HandleException  * *(..));\r\n\r\n    after() throwing(AppException e) : handleException() &amp;&amp; \r\n        !within(HandleException) {\r\n        //handle AppException here\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect CachingAspect {\r\n\r\n    pointcut cachePut() : execution(@Cacheable * *(..));\r\n\r\n    Object around() : cachePut() {\r\n      //do caching stuff\r\n    }\r\n}\r\n```\r\n\r\nMy question here is, when `AuthorizeAdvice` aspect throws `AppException`, `HandleExceptionAdvice` aspect intercepts the `AppException` and handling the exception perfectly. But the problem started when I added one more aspect `CachingAspect`. `CachingAspect` is not applied to any methods of `AuthClass` but `HandleExceptionAdvice` is not intercepting `AppException` when `AuthorizeAdvice` throws `AppException`.","title":"AspectJ @Around and @After throwing on same method is not working","body":"<p>I have two applied @Around and @After throwing annotation on a method. @Around method is doing Authorization, @After throwing is handling the exception when Authorization throws an exception, see the example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AuthClass {\n\n    @Authorize\n    @HandleException\n    public String isValidUser() {\n        return &quot;yes&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect AuthorizeAdvice {\n\n    declare precedence : HandleExceptionAdvice;\n\n    pointcut authorizeRequest() : execution (@Authorize * *(..));\n\n    Object around() : authorizeRequest() {\n        //call method which throws exception\n        throw new AppException();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect HandleExceptionAdvice {\n\n    pointcut handleException() : execution (@HandleException  * *(..));\n\n    after() throwing(AppException e) : handleException() &amp;&amp; \n        !within(HandleException) {\n        //handle AppException here\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect CachingAspect {\n\n    pointcut cachePut() : execution(@Cacheable * *(..));\n\n    Object around() : cachePut() {\n      //do caching stuff\n    }\n}\n</code></pre>\n<p>My question here is, when <code>AuthorizeAdvice</code> aspect throws <code>AppException</code>, <code>HandleExceptionAdvice</code> aspect intercepts the <code>AppException</code> and handling the exception perfectly. But the problem started when I added one more aspect <code>CachingAspect</code>. <code>CachingAspect</code> is not applied to any methods of <code>AuthClass</code> but <code>HandleExceptionAdvice</code> is not intercepting <code>AppException</code> when <code>AuthorizeAdvice</code> throws <code>AppException</code>.</p>\n"},{"tags":["java","runtime"],"comments":[{"owner":{"account_id":2915696,"reputation":12460,"user_id":2498956,"accept_rate":71,"display_name":"August"},"score":0,"creation_date":1451546644,"post_id":34542756,"comment_id":56827235,"body_markdown":"Are you supplying the online compiler with input to stdin?","body":"Are you supplying the online compiler with input to stdin?"},{"owner":{"account_id":3305982,"reputation":22309,"user_id":2780791,"accept_rate":65,"display_name":"Alexei - check Codidact"},"score":0,"creation_date":1451546681,"post_id":34542756,"comment_id":56827255,"body_markdown":"What is the line that throws the exception?","body":"What is the line that throws the exception?"}],"answers":[{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667107421,"creation_date":1451547764,"answer_id":34542972,"question_id":34542756,"body_markdown":"You&#39;re not checking scanner if it has more data to scan, that&#39;s why you&#39;re getting exception.\r\n\r\nSee the `throwFor` method defined in Scanner below.\r\n\r\n    // If we are at the end of input then NoSuchElement;\r\n    // If there is still input left then InputMismatch\r\n    private void throwFor() {\r\n        skipped = false;\r\n        if ((sourceClosed) &amp;&amp; (position == buf.limit()))\r\n            throw new NoSuchElementException();\r\n        else\r\n            throw new InputMismatchException();\r\n    }\r\n\r\nIn the comments it says that this is called when end of input has been reached.\r\n\r\nCorrect usage of Scanner is always something like below\r\n\r\n\tScanner scan = new Scanner(inputstream);\r\n\r\n\twhile(scan.hasNext()) {\r\n\t\t//read data\r\n\t}\r\n\r\nIt&#39;s same as reading a file, you&#39;ve to check for EOF(end of file) every time you try to read.\r\n\r\nIn your code correction can be applied like following.\r\n\r\n\timport java.util.*;\r\n\t\r\n\tclass head {\r\n\t\tpublic static void main(String arg[]) {\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint n = sc.nextInt();\r\n\t\t\tint c1 = 0, c2 = 0;\r\n\t\t\tint i;\r\n\t\t\twhile (n &gt; 0) {\r\n\t\t\t\t//check for EOF\r\n\t\t\t\tif(!sc.hasNext()) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tint l = sc.nextInt();\r\n\t\t\t\tString str = sc.next();\r\n\t\r\n\t\t\t\tfor (i = 0; i &lt; l; i++) {\r\n\t\t\t\t\tchar ch = str.charAt(i);\r\n\t\t\t\t\tif (ch == &#39;i&#39; || ch == &#39;I&#39;)\r\n\t\t\t\t\t\tc1++;\r\n\t\t\t\t\tif (ch == &#39;y&#39; || ch == &#39;Y&#39;)\r\n\t\t\t\t\t\tc2++;\r\n\t\t\t\t}\r\n\t\t\t\tif (c1 &gt; 0)\r\n\t\t\t\t\tSystem.out.println(&quot;INDIAN&quot;);\r\n\t\t\t\telse if (c2 &gt; 0)\r\n\t\t\t\t\tSystem.out.println(&quot;NOT INDIAN&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tSystem.out.println(&quot;NOT SURE&quot;);\r\n\t\t\t\tc1 = 0;\r\n\t\t\t\tc2 = 0;\r\n\t\t\t\tn--;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"facing runtime error on online compiler and not on command prompt","body":"<p>You're not checking scanner if it has more data to scan, that's why you're getting exception.</p>\n<p>See the <code>throwFor</code> method defined in Scanner below.</p>\n<pre><code>// If we are at the end of input then NoSuchElement;\n// If there is still input left then InputMismatch\nprivate void throwFor() {\n    skipped = false;\n    if ((sourceClosed) &amp;&amp; (position == buf.limit()))\n        throw new NoSuchElementException();\n    else\n        throw new InputMismatchException();\n}\n</code></pre>\n<p>In the comments it says that this is called when end of input has been reached.</p>\n<p>Correct usage of Scanner is always something like below</p>\n<pre><code>Scanner scan = new Scanner(inputstream);\n\nwhile(scan.hasNext()) {\n    //read data\n}\n</code></pre>\n<p>It's same as reading a file, you've to check for EOF(end of file) every time you try to read.</p>\n<p>In your code correction can be applied like following.</p>\n<pre><code>import java.util.*;\n\nclass head {\n    public static void main(String arg[]) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int c1 = 0, c2 = 0;\n        int i;\n        while (n &gt; 0) {\n            //check for EOF\n            if(!sc.hasNext()) {\n                break;\n            }\n            int l = sc.nextInt();\n            String str = sc.next();\n\n            for (i = 0; i &lt; l; i++) {\n                char ch = str.charAt(i);\n                if (ch == 'i' || ch == 'I')\n                    c1++;\n                if (ch == 'y' || ch == 'Y')\n                    c2++;\n            }\n            if (c1 &gt; 0)\n                System.out.println(&quot;INDIAN&quot;);\n            else if (c2 &gt; 0)\n                System.out.println(&quot;NOT INDIAN&quot;);\n            else\n                System.out.println(&quot;NOT SURE&quot;);\n            c1 = 0;\n            c2 = 0;\n            n--;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7373919,"reputation":23,"user_id":5613263,"display_name":"karan_13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34542972,"answer_count":1,"score":0,"last_activity_date":1667107421,"creation_date":1451546520,"question_id":34542756,"body_markdown":"I am not getting why this java code works fine in command prompt and not in online compiler and getting runtime error.\r\nI tried to find out the reason on web but didn&#39;t find suitable answer.\r\n\r\nits getiing runtime error-\r\n\r\n           Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.util.Scanner.throwFor(Scanner.java:862)\r\n\tat java.util.Scanner.next(Scanner.java:1485)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2117)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2076)\r\n\tat head.main(Main.java:9)\r\n\r\ncode is-\r\n\r\n\r\n\r\n           import java.util.*;\r\n\r\n\r\n           class head\r\n             {\r\n           public static void main(String arg[])\r\n            {\r\n           Scanner sc=new Scanner(System.in);\r\n            int n=sc.nextInt();\r\n            int c1=0,c2=0;\r\n            int i;\r\n            while(n&gt;0)\r\n            {\r\n            int l=sc.nextInt();\r\n            String str=sc.next();\r\n\r\n            for(i=0;i&lt;l;i++)\r\n            {\r\n            char ch=str.charAt(i);\r\n            if(ch==&#39;i&#39;||ch==&#39;I&#39;) \r\n            c1++;\r\n              if(ch==&#39;y&#39;||ch==&#39;Y&#39;)\r\n             c2++;\r\n             } \r\n             if(c1&gt;0)\r\n             System.out.println(&quot;INDIAN&quot;);\r\n            else if(c2&gt;0)\r\n            System.out.println(&quot;NOT INDIAN&quot;);\r\n            else \r\n            System.out.println(&quot;NOT SURE&quot;);\r\n            c1=0;\r\n            c2=0;\r\n            n--;\r\n            }\r\n           }\r\n         } ","title":"facing runtime error on online compiler and not on command prompt","body":"<p>I am not getting why this java code works fine in command prompt and not in online compiler and getting runtime error.\nI tried to find out the reason on web but didn't find suitable answer.</p>\n\n<p>its getiing runtime error-</p>\n\n<pre><code>       Exception in thread \"main\" java.util.NoSuchElementException\nat java.util.Scanner.throwFor(Scanner.java:862)\nat java.util.Scanner.next(Scanner.java:1485)\nat java.util.Scanner.nextInt(Scanner.java:2117)\nat java.util.Scanner.nextInt(Scanner.java:2076)\nat head.main(Main.java:9)\n</code></pre>\n\n<p>code is-</p>\n\n<pre><code>       import java.util.*;\n\n\n       class head\n         {\n       public static void main(String arg[])\n        {\n       Scanner sc=new Scanner(System.in);\n        int n=sc.nextInt();\n        int c1=0,c2=0;\n        int i;\n        while(n&gt;0)\n        {\n        int l=sc.nextInt();\n        String str=sc.next();\n\n        for(i=0;i&lt;l;i++)\n        {\n        char ch=str.charAt(i);\n        if(ch=='i'||ch=='I') \n        c1++;\n          if(ch=='y'||ch=='Y')\n         c2++;\n         } \n         if(c1&gt;0)\n         System.out.println(\"INDIAN\");\n        else if(c2&gt;0)\n        System.out.println(\"NOT INDIAN\");\n        else \n        System.out.println(\"NOT SURE\");\n        c1=0;\n        c2=0;\n        n--;\n        }\n       }\n     } \n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667120624,"post_id":74250574,"comment_id":131091774,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"score":0,"creation_date":1667121617,"post_id":74250574,"comment_id":131091939,"body_markdown":"no photo acceptance, shapeableimageview empty in textview no info from firebase","body":"no photo acceptance, shapeableimageview empty in textview no info from firebase"}],"owner":{"account_id":26637125,"reputation":11,"user_id":20253373,"display_name":"wanila show"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667105400,"creation_date":1667105400,"question_id":74250574,"body_markdown":"**Given**:method of receiving data which for some reason does not work.  adapter for using SwipeCard koloda library\r\n**Goal**: load photo and name from folder in firebase into shapeableimageview and textview respectively\r\n**Problem**: the method of receiving data does not work and the name and photo are not loaded from the folder.\r\nAdapter:\r\n```\r\npublic class SwipeAdapter extends BaseAdapter {\r\n\r\n    private Context context;\r\n\r\n    private List&lt;Integer&gt; list;\r\n\r\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\r\n\r\n        this.context=context;\r\n\r\n        this.list=list;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public int getCount() {\r\n\r\n        return 20;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public Object getItem(int i) {\r\n\r\n        return null;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public long getItemId(int i) {\r\n\r\n        return 0;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public View getView(int i, View convertView, ViewGroup parent) {\r\n\r\n     View view;\r\n\r\n     if(convertView==null)\r\n\r\n     {\r\n\r\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\r\n\r\n     }else {\r\n\r\n         view=convertView;\r\n\r\n     }\r\n\r\n     return view;\r\n\r\n    }\r\n\r\n   \r\n\r\n}\r\n```\r\nActivity with a receive method\r\n\r\n```\r\nprivate SwipeAdapter adapter;\r\n\r\nprivate List&lt;Integer&gt; list;\r\n\r\nprivate TextView nameusercard;\r\n\r\nprivate ShapeableImageView imageosnovnoe;\r\n\r\nKoloda koloda;\r\n\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_home);\r\n\r\n        koloda=findViewById(R.id.koloda);\r\n\r\n        list=new ArrayList&lt;&gt;();\r\n\r\n        adapter=new SwipeAdapter(this,list);\r\n\r\n        koloda.setAdapter(adapter);\r\n\r\n        nameusercard=(TextView) findViewById(R.id.nameusercard);\r\n\r\n        imageosnovnoe=(ShapeableImageView) findViewById(R.id.imageosnovnoe);\r\n\r\n    }\r\n\r\nprivate void getUserWInfo()\r\n\r\n{\r\n\r\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\r\n\r\n            .child(&quot;Userw&quot;);\r\n\r\n    reference.addValueEventListener(new ValueEventListener() {\r\n\r\n        @Override\r\n\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\r\n\r\n            {\r\n\r\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n                nameusercard.setText(name);\r\n\r\n                if (snapshot.hasChild(&quot;image&quot;)) {\r\n\r\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\r\n\r\n                    Picasso.get().load(image).into(imageosnovnoe);\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n\r\n    });\r\n\r\n}\r\n\r\n}\r\n\r\n                    \r\n\r\n```\r\nXml item_koloda\r\n```\r\nLinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    android:orientation=&quot;vertical&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n\r\n    android:layout_gravity=&quot;center&quot;\r\n\r\n    android:gravity=&quot;center&quot;\r\n\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;500dp&quot;\r\n\r\n        android:layout_margin=&quot;15dp&quot;\r\n\r\n        app:cardCornerRadius=&quot;15dp&quot;\r\n\r\n        app:cardElevation=&quot;5dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n\r\n            android:id=&quot;@+id/linearmain&quot;\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\n            android:layout_height=&quot;400dp&quot;\r\n\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.imageview.ShapeableImageView\r\n\r\n                android:id=&quot;@+id/imageosnovnoe&quot;\r\n\r\n                android:layout_width=&quot;match_parent&quot;\r\n\r\n                android:layout_height=&quot;400dp&quot;\r\n\r\n                android:backgroundTint=&quot;@color/white&quot;\r\n\r\n                android:scaleType=&quot;fitXY&quot;\r\n\r\n                app:srcCompat=&quot;@drawable/aaaaa&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n\r\n                android:id=&quot;@+id/linearhori&quot;\r\n\r\n                android:layout_width=&quot;match_parent&quot;\r\n\r\n                android:layout_height=&quot;100dp&quot;\r\n\r\n                android:orientation=&quot;horizontal&quot;\r\n\r\n                android:layout_gravity=&quot;bottom&quot;\r\n\r\n                android:weightSum=&quot;3&quot;&gt;\r\n\r\n                &lt;ImageView\r\n\r\n                    android:id=&quot;@+id/like&quot;\r\n\r\n                    android:layout_width=&quot;90dp&quot;\r\n\r\n                    android:layout_height=&quot;90dp&quot;\r\n\r\n                    android:layout_gravity=&quot;center&quot;\r\n\r\n                    android:layout_weight=&quot;1&quot;\r\n\r\n                    android:src=&quot;@drawable/sas&quot;\r\n\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n\r\n                    android:id=&quot;@+id/disslike&quot;\r\n\r\n                    android:layout_width=&quot;90dp&quot;\r\n\r\n                    android:layout_height=&quot;90dp&quot;\r\n\r\n                    android:layout_gravity=&quot;center&quot;\r\n\r\n                    android:layout_weight=&quot;1&quot;\r\n\r\n                    android:src=&quot;@drawable/aan&quot;\r\n\r\n                    /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nI tried to register the method in the adapter but it didn&#39;t work either.","title":"how to display data in shapeableimageview from firebase?","body":"<p><strong>Given</strong>:method of receiving data which for some reason does not work.  adapter for using SwipeCard koloda library\n<strong>Goal</strong>: load photo and name from folder in firebase into shapeableimageview and textview respectively\n<strong>Problem</strong>: the method of receiving data does not work and the name and photo are not loaded from the folder.\nAdapter:</p>\n<pre><code>public class SwipeAdapter extends BaseAdapter {\n\n    private Context context;\n\n    private List&lt;Integer&gt; list;\n\n    public SwipeAdapter(Context context,List&lt;Integer&gt;list) {\n\n        this.context=context;\n\n        this.list=list;\n\n    }\n\n    @Override\n\n    public int getCount() {\n\n        return 20;\n\n    }\n\n    @Override\n\n    public Object getItem(int i) {\n\n        return null;\n\n    }\n\n    @Override\n\n    public long getItemId(int i) {\n\n        return 0;\n\n    }\n\n    @Override\n\n    public View getView(int i, View convertView, ViewGroup parent) {\n\n     View view;\n\n     if(convertView==null)\n\n     {\n\n         view= LayoutInflater.from(parent.getContext()).inflate(R.layout.item_koloda,parent,false);\n\n     }else {\n\n         view=convertView;\n\n     }\n\n     return view;\n\n    }\n\n   \n\n}\n</code></pre>\n<p>Activity with a receive method</p>\n<pre><code>private SwipeAdapter adapter;\n\nprivate List&lt;Integer&gt; list;\n\nprivate TextView nameusercard;\n\nprivate ShapeableImageView imageosnovnoe;\n\nKoloda koloda;\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_home);\n\n        koloda=findViewById(R.id.koloda);\n\n        list=new ArrayList&lt;&gt;();\n\n        adapter=new SwipeAdapter(this,list);\n\n        koloda.setAdapter(adapter);\n\n        nameusercard=(TextView) findViewById(R.id.nameusercard);\n\n        imageosnovnoe=(ShapeableImageView) findViewById(R.id.imageosnovnoe);\n\n    }\n\nprivate void getUserWInfo()\n\n{\n\n    DatabaseReference reference= FirebaseDatabase.getInstance().getReference()\n\n            .child(&quot;Userw&quot;);\n\n    reference.addValueEventListener(new ValueEventListener() {\n\n        @Override\n\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            if (snapshot.exists()&amp;&amp;snapshot.getChildrenCount()&gt;0)\n\n            {\n\n                String name=snapshot.child(&quot;name&quot;).getValue().toString();\n\n                nameusercard.setText(name);\n\n                if (snapshot.hasChild(&quot;image&quot;)) {\n\n                    String image = snapshot.child(&quot;image&quot;).getValue().toString();\n\n                    Picasso.get().load(image).into(imageosnovnoe);\n\n                }\n\n            }\n\n        }\n\n        @Override\n\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n\n    });\n\n}\n\n}\n\n                    \n\n</code></pre>\n<p>Xml item_koloda</p>\n<pre><code>LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    android:orientation=&quot;vertical&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n\n    android:layout_gravity=&quot;center&quot;\n\n    android:gravity=&quot;center&quot;\n\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;500dp&quot;\n\n        android:layout_margin=&quot;15dp&quot;\n\n        app:cardCornerRadius=&quot;15dp&quot;\n\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n\n            android:id=&quot;@+id/linearmain&quot;\n\n            android:layout_width=&quot;match_parent&quot;\n\n            android:layout_height=&quot;400dp&quot;\n\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n\n                android:id=&quot;@+id/imageosnovnoe&quot;\n\n                android:layout_width=&quot;match_parent&quot;\n\n                android:layout_height=&quot;400dp&quot;\n\n                android:backgroundTint=&quot;@color/white&quot;\n\n                android:scaleType=&quot;fitXY&quot;\n\n                app:srcCompat=&quot;@drawable/aaaaa&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n\n                android:id=&quot;@+id/linearhori&quot;\n\n                android:layout_width=&quot;match_parent&quot;\n\n                android:layout_height=&quot;100dp&quot;\n\n                android:orientation=&quot;horizontal&quot;\n\n                android:layout_gravity=&quot;bottom&quot;\n\n                android:weightSum=&quot;3&quot;&gt;\n\n                &lt;ImageView\n\n                    android:id=&quot;@+id/like&quot;\n\n                    android:layout_width=&quot;90dp&quot;\n\n                    android:layout_height=&quot;90dp&quot;\n\n                    android:layout_gravity=&quot;center&quot;\n\n                    android:layout_weight=&quot;1&quot;\n\n                    android:src=&quot;@drawable/sas&quot;\n\n                    /&gt;\n\n                &lt;ImageView\n\n                    android:id=&quot;@+id/disslike&quot;\n\n                    android:layout_width=&quot;90dp&quot;\n\n                    android:layout_height=&quot;90dp&quot;\n\n                    android:layout_gravity=&quot;center&quot;\n\n                    android:layout_weight=&quot;1&quot;\n\n                    android:src=&quot;@drawable/aan&quot;\n\n                    /&gt;\n\n            &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried to register the method in the adapter but it didn't work either.</p>\n"},{"tags":["java","collections","synchronized","concurrentmodification"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1667104668,"post_id":74250421,"comment_id":131089920,"body_markdown":"Have you read javadoc for `ConcurrentModificationException`? Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.","body":"Have you read javadoc for <code>ConcurrentModificationException</code>? Note that this exception does not always indicate that an object has been concurrently modified by a different thread. If a single thread issues a sequence of method invocations that violates the contract of an object, the object may throw this exception. For example, if a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667111014,"post_id":74250421,"comment_id":131090540,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."}],"answers":[{"comments":[{"owner":{"account_id":26125882,"reputation":1,"user_id":19817311,"display_name":"Parthiban Ramasamy"},"score":0,"creation_date":1667153896,"post_id":74250561,"comment_id":131098351,"body_markdown":"Thanks for your reply, your explanation makes everything understandable,","body":"Thanks for your reply, your explanation makes everything understandable,"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667105202,"creation_date":1667105202,"answer_id":74250561,"question_id":74250421,"body_markdown":"The &quot;concurrent&quot; in `ConcurrentModificationException` has __nothing__ to do with threads. In fact, if you concurrently modify a collection in the sense of &#39;change it from 2 threads simultaneously&#39;, you _may_ get a ConcurrentModificationException, but you may not. The JVM has a lot of leeway.\r\n\r\nThe problem is much, much simpler. You did the following:\r\n\r\n1. Create an `iterator()` from a list.\r\n2. _After_ step 1, modify the list (and not via the iterator).\r\n3. Interact with the iterator made in step 1.\r\n\r\nThis trivially causes CoModEx, every time:\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Apple&quot;);\r\nlist.add(&quot;Pear&quot;);\r\nlist.add(&quot;Orange&quot;);\r\n\r\nfor (String item : list) {\r\n  if (item.equals(&quot;Pear&quot;)) list.remove(item);\r\n}\r\n```\r\n\r\nHere the list is modified (`list.remove(item)`) _after_ an iterator is made (`for ( x : y)` makes an iterator), and then after the modification, the iterator is interacted with (looping that for loop iteracts with it).\r\n\r\nThink about it: What does this even mean - what if the change you make affects something you haven&#39;t looped over yet. Do you expect the loop to still cover it, or not, or should it depend on where we are in the iteration? These are tricky questions. That&#39;s why the answer is &#39;nope, exception instead&#39;.\r\n\r\nSo, what do you do?\r\n\r\n1. Use `CopyOnWriteArrayList`. Which is probably overkill. These more or less let you iterate a copy.\r\n2. Instead of changing the list, register what you want to change, then after you are done looping, apply it.\r\n3. Instead of `for (String x : y)`, create a `listIterator` object and use that. Then, to modify the list, call methods on `listIterator` to modify it, which is fine.\r\n4. Use a database.\r\n","title":"Working of synchronized methods in Collection class","body":"<p>The &quot;concurrent&quot; in <code>ConcurrentModificationException</code> has <strong>nothing</strong> to do with threads. In fact, if you concurrently modify a collection in the sense of 'change it from 2 threads simultaneously', you <em>may</em> get a ConcurrentModificationException, but you may not. The JVM has a lot of leeway.</p>\n<p>The problem is much, much simpler. You did the following:</p>\n<ol>\n<li>Create an <code>iterator()</code> from a list.</li>\n<li><em>After</em> step 1, modify the list (and not via the iterator).</li>\n<li>Interact with the iterator made in step 1.</li>\n</ol>\n<p>This trivially causes CoModEx, every time:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Apple&quot;);\nlist.add(&quot;Pear&quot;);\nlist.add(&quot;Orange&quot;);\n\nfor (String item : list) {\n  if (item.equals(&quot;Pear&quot;)) list.remove(item);\n}\n</code></pre>\n<p>Here the list is modified (<code>list.remove(item)</code>) <em>after</em> an iterator is made (<code>for ( x : y)</code> makes an iterator), and then after the modification, the iterator is interacted with (looping that for loop iteracts with it).</p>\n<p>Think about it: What does this even mean - what if the change you make affects something you haven't looped over yet. Do you expect the loop to still cover it, or not, or should it depend on where we are in the iteration? These are tricky questions. That's why the answer is 'nope, exception instead'.</p>\n<p>So, what do you do?</p>\n<ol>\n<li>Use <code>CopyOnWriteArrayList</code>. Which is probably overkill. These more or less let you iterate a copy.</li>\n<li>Instead of changing the list, register what you want to change, then after you are done looping, apply it.</li>\n<li>Instead of <code>for (String x : y)</code>, create a <code>listIterator</code> object and use that. Then, to modify the list, call methods on <code>listIterator</code> to modify it, which is fine.</li>\n<li>Use a database.</li>\n</ol>\n"}],"owner":{"account_id":26125882,"reputation":1,"user_id":19817311,"display_name":"Parthiban Ramasamy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667114010,"answer_count":1,"score":-2,"last_activity_date":1667105202,"creation_date":1667102434,"question_id":74250421,"body_markdown":"I try to understand the working of Concurrent modification exception in Java,\r\nInitially I tried Concurrent modification exception example with normal ArrayList and HashSet by removing elements while iterating,\r\nand then with help of CopyOnWriteArrayList &amp; CopyOnWriteArraySet, I resolved the Concurrent modification exception, Everything works fine.\r\nBut the problem is, when I implicitly make the set as synchronized with help of Collection.synchronized(set)\r\nmethod, still it throws the Concurrent modification exception.\r\nCopyOnWriteArrayList &amp; CopyOnWriteArraySet both are synchronized classes,so it doesnt throw Concurrent modification exception. Collection.synchronized(set) also returns synchronized set, then why it throws\r\nthe Concurrent modification exception.\r\n\r\nCan anyone explain what is issue here?\r\n\r\n\r\n\r\nHere is the sample program,\r\n\r\n[![enter image description here](https://i.stack.imgur.com/HulYb.png)](https://i.stack.imgur.com/HulYb.png)","title":"Working of synchronized methods in Collection class","body":"<p>I try to understand the working of Concurrent modification exception in Java,\nInitially I tried Concurrent modification exception example with normal ArrayList and HashSet by removing elements while iterating,\nand then with help of CopyOnWriteArrayList &amp; CopyOnWriteArraySet, I resolved the Concurrent modification exception, Everything works fine.\nBut the problem is, when I implicitly make the set as synchronized with help of Collection.synchronized(set)\nmethod, still it throws the Concurrent modification exception.\nCopyOnWriteArrayList &amp; CopyOnWriteArraySet both are synchronized classes,so it doesnt throw Concurrent modification exception. Collection.synchronized(set) also returns synchronized set, then why it throws\nthe Concurrent modification exception.</p>\n<p>Can anyone explain what is issue here?</p>\n<p>Here is the sample program,</p>\n<p><a href=\"https://i.stack.imgur.com/HulYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HulYb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":26771677,"reputation":11,"user_id":20367958,"display_name":"Roger"},"score":0,"creation_date":1667078724,"post_id":74248753,"comment_id":131086968,"body_markdown":"Just tried it, but still has the same result, the app keeps stopping. Is there any other way you know?","body":"Just tried it, but still has the same result, the app keeps stopping. Is there any other way you know?"}],"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667076866,"creation_date":1667076866,"answer_id":74248753,"question_id":74248577,"body_markdown":"You can not use applicationcontext in here, but if you want you need to add flags to the intent. So easier method for you to use &quot;this&quot; instead:\r\n```\r\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(this, FoodAddReminder.class);\r\n                startActivity(intent);\r\n                //Starts the new activity to add Reminders\r\n            }\r\n        });\r\n```","title":"Why is second floating action button not working?","body":"<p>You can not use applicationcontext in here, but if you want you need to add flags to the intent. So easier method for you to use &quot;this&quot; instead:</p>\n<pre><code>        mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(this, FoodAddReminder.class);\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667104350,"creation_date":1667092348,"answer_id":74249907,"question_id":74248577,"body_markdown":"We can only &quot;guess&quot; why, but &quot;**not working**&quot; and &quot;**app keeps stopping**&quot; could mean a lot of things and you didn&#39;t provide any `Log` information or an `Exception stacktrace`. Its also hard to guess what `FoodAddReminder.class` is, if its an `activity`,  make sure its declared in your `AndroidManifest.xml`\r\n\r\n\r\n    mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(this, FoodAddReminder.class); // &lt;-- is this an activity?\r\n                    startActivity(intent);\r\n                    //Starts the new activity to add Reminders\r\n                }\r\n            });\r\n\r\nCheck your `AndroidManifest.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.me.my.project&quot;&gt;\r\n        &lt;application &gt;\r\n            &lt;activity\r\n                android:name=&quot;.FoodAddReminder&quot;/&gt;  &lt;!-- here --&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nIf that is not the issue, I suspect that using `getApplicationContext()`, you&#39;re having this crash log\r\n\r\n&gt;AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this\r\n&gt; really what you want?\r\n\r\nYou should then tell the system you want to start a new task,\r\n\r\n    public void onClick(View v) {\r\n            Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n     }\r\n\r\nBut I would suggest not doing it, instead use your `FoodActivity` as your calling activity to `FoodReminder` in this case, and pay attention to `this`, it should be prefixed with `FoodActivity` otherwise it will refer to its enclosing anonymous `OnClickListener` instance.\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n           Intent intent = new Intent(FoodActivity.this, FoodAddReminder.class);\r\n           startActivity(intent);\r\n    }\r\n\r\nIf none of these solved your &quot;not working&quot; issue, please provide a more specific Log information and reduce your code to something that is copy-and-paste-able. ","title":"Why is second floating action button not working?","body":"<p>We can only &quot;guess&quot; why, but &quot;<strong>not working</strong>&quot; and &quot;<strong>app keeps stopping</strong>&quot; could mean a lot of things and you didn't provide any <code>Log</code> information or an <code>Exception stacktrace</code>. Its also hard to guess what <code>FoodAddReminder.class</code> is, if its an <code>activity</code>,  make sure its declared in your <code>AndroidManifest.xml</code></p>\n<pre><code>mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(this, FoodAddReminder.class); // &lt;-- is this an activity?\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n</code></pre>\n<p>Check your <code>AndroidManifest.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.me.my.project&quot;&gt;\n    &lt;application &gt;\n        &lt;activity\n            android:name=&quot;.FoodAddReminder&quot;/&gt;  &lt;!-- here --&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>If that is not the issue, I suspect that using <code>getApplicationContext()</code>, you're having this crash log</p>\n<blockquote>\n<p>AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this\nreally what you want?</p>\n</blockquote>\n<p>You should then tell the system you want to start a new task,</p>\n<pre><code>public void onClick(View v) {\n        Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n }\n</code></pre>\n<p>But I would suggest not doing it, instead use your <code>FoodActivity</code> as your calling activity to <code>FoodReminder</code> in this case, and pay attention to <code>this</code>, it should be prefixed with <code>FoodActivity</code> otherwise it will refer to its enclosing anonymous <code>OnClickListener</code> instance.</p>\n<pre><code>@Override\npublic void onClick(View v) {\n       Intent intent = new Intent(FoodActivity.this, FoodAddReminder.class);\n       startActivity(intent);\n}\n</code></pre>\n<p>If none of these solved your &quot;not working&quot; issue, please provide a more specific Log information and reduce your code to something that is copy-and-paste-able.</p>\n"}],"owner":{"account_id":26771677,"reputation":11,"user_id":20367958,"display_name":"Roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667104350,"creation_date":1667075143,"question_id":74248577,"body_markdown":"I&#39;m a beginner in android app making and I&#39;m trying to do an app for a project. I found this tutorial and I&#39;m currently trying to put to apps together in android studio. Both are reminders apps, however the second one (the food one), the FAB is not working it register the touch but when it does it says APP keeps stopping. If anybody can help me I&#39;ll appreciated. \r\n\r\nFirst Reminder .java\r\n\r\n\r\n```\r\npublic class MedicineActivity extends AppCompatActivity {\r\n\r\n    @BindView(R.id.compactcalendar_view)\r\n    CompactCalendarView mCompactCalendarView;\r\n\r\n    @BindView(R.id.date_picker_text_view)\r\n    TextView datePickerTextView;\r\n\r\n    @BindView(R.id.date_picker_button)\r\n    RelativeLayout datePickerButton;\r\n\r\n    @BindView(R.id.toolbar)\r\n    Toolbar toolbar;\r\n\r\n    @BindView(R.id.collapsingToolbarLayout)\r\n    CollapsingToolbarLayout collapsingToolbarLayout;\r\n\r\n    @BindView(R.id.app_bar_layout)\r\n    AppBarLayout appBarLayout;\r\n\r\n    @BindView(R.id.contentFrame)\r\n    FrameLayout contentFrame;\r\n\r\n    @BindView(R.id.fab_add_task)\r\n    FloatingActionButton fabAddTask;\r\n\r\n   @BindView(R.id.coordinatorLayout)\r\n    CoordinatorLayout coordinatorLayout;\r\n\r\n    @BindView(R.id.date_picker_arrow)\r\n    ImageView arrow;\r\n\r\n    private MedicinePresenter presenter;\r\n\r\n    private SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMM dd&quot;, /*Locale.getDefault()*/Locale.ENGLISH);\r\n\r\n    private boolean isExpanded = false;\r\n\r\n    public ImageButton imageButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_medicine);\r\n        ButterKnife.bind(this);\r\n        setSupportActionBar(toolbar);\r\n\r\n        imageButton = (ImageButton) findViewById(R.id.image2button);\r\n\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Intent intent= new Intent(MedicineActivity.this,dashboard_screen.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        mCompactCalendarView.setLocale(TimeZone.getDefault(), /*Locale.getDefault()*/Locale.ENGLISH);\r\n\r\n        mCompactCalendarView.setShouldDrawDaysHeader(true);\r\n\r\n        mCompactCalendarView.setListener(new CompactCalendarView.CompactCalendarViewListener() {\r\n            @Override\r\n            public void onDayClick(Date dateClicked) {\r\n                setSubtitle(dateFormat.format(dateClicked));\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setTime(dateClicked);\r\n\r\n                int day = calendar.get(Calendar.DAY_OF_WEEK);\r\n\r\n                if (isExpanded) {\r\n                    ViewCompat.animate(arrow).rotation(0).start();\r\n                } else {\r\n                    ViewCompat.animate(arrow).rotation(180).start();\r\n                }\r\n                isExpanded = !isExpanded;\r\n                appBarLayout.setExpanded(isExpanded, true);\r\n                presenter.reload(day);\r\n            }\r\n\r\n            @Override\r\n            public void onMonthScroll(Date firstDayOfNewMonth) {\r\n                setSubtitle(dateFormat.format(firstDayOfNewMonth));\r\n            }\r\n        });\r\n        setCurrentDate(new Date());\r\n        MedicineFragment medicineFragment = (MedicineFragment) getSupportFragmentManager().findFragmentById(R.id.contentFrame);\r\n        if (medicineFragment == null) {\r\n            medicineFragment = MedicineFragment.newInstance();\r\n            ActivityUtils.addFragmentToActivity(getSupportFragmentManager(), medicineFragment, R.id.contentFrame);\r\n        }\r\n\r\n        //Create MedicinePresenter\r\n        presenter = new MedicinePresenter(Injection.provideMedicineRepository(MedicineActivity.this), medicineFragment);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.medicine_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == R.id.menu_stats) {\r\n            Intent intent = new Intent(this, MonthlyReportActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void setCurrentDate(Date date) {\r\n        setSubtitle(dateFormat.format(date));\r\n        mCompactCalendarView.setCurrentDate(date);\r\n    }\r\n\r\n    public void setSubtitle(String subtitle) {\r\n        datePickerTextView.setText(subtitle);\r\n    }\r\n\r\n    @OnClick(R.id.date_picker_button)\r\n    void onDatePickerButtonClicked() {\r\n        if (isExpanded) {\r\n            ViewCompat.animate(arrow).rotation(0).start();\r\n        } else {\r\n            ViewCompat.animate(arrow).rotation(180).start();\r\n        }\r\n\r\n        isExpanded = !isExpanded;\r\n        appBarLayout.setExpanded(isExpanded, true);\r\n    }\r\n}\r\n```\r\n\r\nFirst Reminder XML File\r\n\r\n\r\n```\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:id=&quot;@+id/coordinatorLayout&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/app_bar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\r\n        app:expanded=&quot;false&quot;\r\n        app:layout_behavior=&quot;com.gautam.medicinetime.utils.ScrollingCalendarBehavior&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:id=&quot;@+id/collapsingToolbarLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\r\n            app:titleEnabled=&quot;false&quot;\r\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\r\n            app:statusBarScrim=&quot;?attr/colorPrimaryDark&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/compactcalendar_view_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;250dp&quot;\r\n                android:paddingTop=&quot;?attr/actionBarSize&quot;\r\n                app:layout_collapseMode=&quot;parallax&quot;\r\n                app:layout_collapseParallaxMultiplier=&quot;1.0&quot;&gt;\r\n\r\n                &lt;com.github.sundeepk.compactcalendarview.CompactCalendarView\r\n                    android:id=&quot;@+id/compactcalendar_view&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:paddingLeft=&quot;10dp&quot;\r\n                    android:paddingRight=&quot;10dp&quot;\r\n                    app:compactCalendarBackgroundColor=&quot;?attr/colorPrimary&quot;\r\n                    app:compactCalendarCurrentDayBackgroundColor=&quot;#FFC107&quot;\r\n                    app:compactCalendarCurrentSelectedDayBackgroundColor=&quot;#BBDEFB&quot;\r\n                    app:compactCalendarTextColor=&quot;#fff&quot;\r\n                    app:compactCalendarTextSize=&quot;12sp&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                style=&quot;@style/ToolbarStyle&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:id=&quot;@+id/date_picker_button&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;?android:selectableItemBackground&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/date_picker_text_view&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:ellipsize=&quot;end&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;18sp&quot;\r\n                        android:textColor=&quot;@android:color/white&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/date_picker_arrow&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_alignBottom=&quot;@id/date_picker_text_view&quot;\r\n                        android:layout_toRightOf=&quot;@id/date_picker_text_view&quot;\r\n                        app:srcCompat=&quot;@drawable/ic_arrow_drop_down&quot;\r\n                        tools:ignore=&quot;ContentDescription,RtlHardcoded&quot; /&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/relativeLayout2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:backgroundTint=&quot;@color/design_default_color_background&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/image2button&quot;\r\n                android:layout_width=&quot;48dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:background=&quot;@drawable/roundbutton&quot;\r\n                android:src=&quot;@drawable/menu_icon&quot;\r\n                android:text=&quot;Button&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.046&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab_add_task&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;@dimen/sixteen_dp&quot;\r\n        app:fabSize=&quot;normal&quot;\r\n        app:layout_anchor=&quot;@+id/relativeLayout2&quot;\r\n        app:layout_anchorGravity=&quot;end|bottom&quot;\r\n        app:srcCompat=&quot;@drawable/ic_add&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/contentFrame&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;674dp&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nSecond Remider .java\r\n\r\n\r\n```\r\npublic class FoodActivity extends AppCompatActivity {\r\n\r\n    FloatingActionButton mCreateRem;\r\n    RecyclerView mRecyclerview;\r\n    ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\r\n    //Array list to add reminders and display in recyclerview\r\n    myAdapter adapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_food);\r\n\r\n        mRecyclerview = (RecyclerView) findViewById(R.id.recyclerView_food);\r\n        mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n        mCreateRem = (FloatingActionButton) findViewById(R.id.create_reminder);\r\n        //Floating action button to change activity\r\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\r\n                startActivity(intent);\r\n                //Starts the new activity to add Reminders\r\n            }\r\n        });\r\n\r\n        Cursor cursor = new dbManager(getApplicationContext()).readallreminders();\r\n        //Cursor To Load data From the database\r\n        while (cursor.moveToNext()) {\r\n            Model model = new Model (cursor.getString(1), cursor.getString(2), cursor.getString(3));\r\n            dataholder.add(model);\r\n        }\r\n\r\n        adapter = new myAdapter(dataholder);\r\n        mRecyclerview.setAdapter(adapter);\r\n        //Binds the adapter with recyclerview\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        finish();\r\n        //Makes the user to exit from the app\r\n        super.onBackPressed();\r\n\r\n    }\r\n}\r\n```\r\n\r\nSecond Reminder XML file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FoodActivity&quot;\r\n    android:id=&quot;@+id/Food_Container&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/FoodToolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/yellow_light&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;What&#39;s on you firdge?&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView_food&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBaseline_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/FoodToolbar&quot;\r\n        tools:layout_editor_absoluteX=&quot;-4dp&quot; /&gt;\r\n\r\n         &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;No food reminder added\\n + Add now&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/recyclerView_food&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/recyclerView_food&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/FoodToolbar&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.523&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;379dp&quot;\r\n            android:layout_height=&quot;46dp&quot;\r\n            android:src=&quot;@drawable/food_icon&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/FoodToolbar&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.966&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/create_reminder&quot;\r\n        android:layout_width=&quot;65dp&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\r\n        app:backgroundTint=&quot;@color/yellow_light&quot;\r\n        app:layout_anchorGravity=&quot;right|bottom&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.928&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.961&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n","title":"Why is second floating action button not working?","body":"<p>I'm a beginner in android app making and I'm trying to do an app for a project. I found this tutorial and I'm currently trying to put to apps together in android studio. Both are reminders apps, however the second one (the food one), the FAB is not working it register the touch but when it does it says APP keeps stopping. If anybody can help me I'll appreciated.</p>\n<p>First Reminder .java</p>\n<pre><code>public class MedicineActivity extends AppCompatActivity {\n\n    @BindView(R.id.compactcalendar_view)\n    CompactCalendarView mCompactCalendarView;\n\n    @BindView(R.id.date_picker_text_view)\n    TextView datePickerTextView;\n\n    @BindView(R.id.date_picker_button)\n    RelativeLayout datePickerButton;\n\n    @BindView(R.id.toolbar)\n    Toolbar toolbar;\n\n    @BindView(R.id.collapsingToolbarLayout)\n    CollapsingToolbarLayout collapsingToolbarLayout;\n\n    @BindView(R.id.app_bar_layout)\n    AppBarLayout appBarLayout;\n\n    @BindView(R.id.contentFrame)\n    FrameLayout contentFrame;\n\n    @BindView(R.id.fab_add_task)\n    FloatingActionButton fabAddTask;\n\n   @BindView(R.id.coordinatorLayout)\n    CoordinatorLayout coordinatorLayout;\n\n    @BindView(R.id.date_picker_arrow)\n    ImageView arrow;\n\n    private MedicinePresenter presenter;\n\n    private SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMM dd&quot;, /*Locale.getDefault()*/Locale.ENGLISH);\n\n    private boolean isExpanded = false;\n\n    public ImageButton imageButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_medicine);\n        ButterKnife.bind(this);\n        setSupportActionBar(toolbar);\n\n        imageButton = (ImageButton) findViewById(R.id.image2button);\n\n        imageButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent= new Intent(MedicineActivity.this,dashboard_screen.class);\n                startActivity(intent);\n            }\n        });\n\n\n\n        mCompactCalendarView.setLocale(TimeZone.getDefault(), /*Locale.getDefault()*/Locale.ENGLISH);\n\n        mCompactCalendarView.setShouldDrawDaysHeader(true);\n\n        mCompactCalendarView.setListener(new CompactCalendarView.CompactCalendarViewListener() {\n            @Override\n            public void onDayClick(Date dateClicked) {\n                setSubtitle(dateFormat.format(dateClicked));\n                Calendar calendar = Calendar.getInstance();\n                calendar.setTime(dateClicked);\n\n                int day = calendar.get(Calendar.DAY_OF_WEEK);\n\n                if (isExpanded) {\n                    ViewCompat.animate(arrow).rotation(0).start();\n                } else {\n                    ViewCompat.animate(arrow).rotation(180).start();\n                }\n                isExpanded = !isExpanded;\n                appBarLayout.setExpanded(isExpanded, true);\n                presenter.reload(day);\n            }\n\n            @Override\n            public void onMonthScroll(Date firstDayOfNewMonth) {\n                setSubtitle(dateFormat.format(firstDayOfNewMonth));\n            }\n        });\n        setCurrentDate(new Date());\n        MedicineFragment medicineFragment = (MedicineFragment) getSupportFragmentManager().findFragmentById(R.id.contentFrame);\n        if (medicineFragment == null) {\n            medicineFragment = MedicineFragment.newInstance();\n            ActivityUtils.addFragmentToActivity(getSupportFragmentManager(), medicineFragment, R.id.contentFrame);\n        }\n\n        //Create MedicinePresenter\n        presenter = new MedicinePresenter(Injection.provideMedicineRepository(MedicineActivity.this), medicineFragment);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.medicine_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.menu_stats) {\n            Intent intent = new Intent(this, MonthlyReportActivity.class);\n            startActivity(intent);\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void setCurrentDate(Date date) {\n        setSubtitle(dateFormat.format(date));\n        mCompactCalendarView.setCurrentDate(date);\n    }\n\n    public void setSubtitle(String subtitle) {\n        datePickerTextView.setText(subtitle);\n    }\n\n    @OnClick(R.id.date_picker_button)\n    void onDatePickerButtonClicked() {\n        if (isExpanded) {\n            ViewCompat.animate(arrow).rotation(0).start();\n        } else {\n            ViewCompat.animate(arrow).rotation(180).start();\n        }\n\n        isExpanded = !isExpanded;\n        appBarLayout.setExpanded(isExpanded, true);\n    }\n}\n</code></pre>\n<p>First Reminder XML File</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n     android:id=&quot;@+id/coordinatorLayout&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/app_bar_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;\n        app:expanded=&quot;false&quot;\n        app:layout_behavior=&quot;com.gautam.medicinetime.utils.ScrollingCalendarBehavior&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsingToolbarLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\n            app:titleEnabled=&quot;false&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;\n            app:statusBarScrim=&quot;?attr/colorPrimaryDark&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/compactcalendar_view_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;250dp&quot;\n                android:paddingTop=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;parallax&quot;\n                app:layout_collapseParallaxMultiplier=&quot;1.0&quot;&gt;\n\n                &lt;com.github.sundeepk.compactcalendarview.CompactCalendarView\n                    android:id=&quot;@+id/compactcalendar_view&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:paddingLeft=&quot;10dp&quot;\n                    android:paddingRight=&quot;10dp&quot;\n                    app:compactCalendarBackgroundColor=&quot;?attr/colorPrimary&quot;\n                    app:compactCalendarCurrentDayBackgroundColor=&quot;#FFC107&quot;\n                    app:compactCalendarCurrentSelectedDayBackgroundColor=&quot;#BBDEFB&quot;\n                    app:compactCalendarTextColor=&quot;#fff&quot;\n                    app:compactCalendarTextSize=&quot;12sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                style=&quot;@style/ToolbarStyle&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;pin&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:id=&quot;@+id/date_picker_button&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\n                    android:background=&quot;?android:selectableItemBackground&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/date_picker_text_view&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:ellipsize=&quot;end&quot;\n                        android:maxLines=&quot;1&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;18sp&quot;\n                        android:textColor=&quot;@android:color/white&quot; /&gt;\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/date_picker_arrow&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_alignBottom=&quot;@id/date_picker_text_view&quot;\n                        android:layout_toRightOf=&quot;@id/date_picker_text_view&quot;\n                        app:srcCompat=&quot;@drawable/ic_arrow_drop_down&quot;\n                        tools:ignore=&quot;ContentDescription,RtlHardcoded&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/relativeLayout2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:backgroundTint=&quot;@color/design_default_color_background&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/image2button&quot;\n                android:layout_width=&quot;48dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:background=&quot;@drawable/roundbutton&quot;\n                android:src=&quot;@drawable/menu_icon&quot;\n                android:text=&quot;Button&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.046&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.976&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab_add_task&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;@dimen/sixteen_dp&quot;\n        app:fabSize=&quot;normal&quot;\n        app:layout_anchor=&quot;@+id/relativeLayout2&quot;\n        app:layout_anchorGravity=&quot;end|bottom&quot;\n        app:srcCompat=&quot;@drawable/ic_add&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/contentFrame&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;674dp&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Second Remider .java</p>\n<pre><code>public class FoodActivity extends AppCompatActivity {\n\n    FloatingActionButton mCreateRem;\n    RecyclerView mRecyclerview;\n    ArrayList&lt;Model&gt; dataholder = new ArrayList&lt;Model&gt;();\n    //Array list to add reminders and display in recyclerview\n    myAdapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_food);\n\n        mRecyclerview = (RecyclerView) findViewById(R.id.recyclerView_food);\n        mRecyclerview.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n        mCreateRem = (FloatingActionButton) findViewById(R.id.create_reminder);\n        //Floating action button to change activity\n        mCreateRem.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), FoodAddReminder.class);\n                startActivity(intent);\n                //Starts the new activity to add Reminders\n            }\n        });\n\n        Cursor cursor = new dbManager(getApplicationContext()).readallreminders();\n        //Cursor To Load data From the database\n        while (cursor.moveToNext()) {\n            Model model = new Model (cursor.getString(1), cursor.getString(2), cursor.getString(3));\n            dataholder.add(model);\n        }\n\n        adapter = new myAdapter(dataholder);\n        mRecyclerview.setAdapter(adapter);\n        //Binds the adapter with recyclerview\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        finish();\n        //Makes the user to exit from the app\n        super.onBackPressed();\n\n    }\n}\n</code></pre>\n<p>Second Reminder XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FoodActivity&quot;\n    android:id=&quot;@+id/Food_Container&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/FoodToolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/yellow_light&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:title=&quot;What's on you firdge?&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView_food&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBaseline_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/FoodToolbar&quot;\n        tools:layout_editor_absoluteX=&quot;-4dp&quot; /&gt;\n\n         &lt;TextView\n            android:id=&quot;@+id/textView4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;No food reminder added\\n + Add now&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;18dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/recyclerView_food&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/recyclerView_food&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/FoodToolbar&quot;\n            app:layout_constraintVertical_bias=&quot;0.523&quot;\n            android:visibility=&quot;gone&quot;\n            /&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;379dp&quot;\n            android:layout_height=&quot;46dp&quot;\n            android:src=&quot;@drawable/food_icon&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/FoodToolbar&quot;\n            app:layout_constraintVertical_bias=&quot;0.966&quot;\n            android:visibility=&quot;gone&quot;\n            /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/create_reminder&quot;\n        android:layout_width=&quot;65dp&quot;\n        android:layout_height=&quot;56dp&quot;\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\n        app:backgroundTint=&quot;@color/yellow_light&quot;\n        app:layout_anchorGravity=&quot;right|bottom&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.928&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.961&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667120459,"post_id":74250254,"comment_id":131091759,"body_markdown":"Have you solved the issue? Have you tried Frank&#39;s suggestion?","body":"Have you solved the issue? Have you tried Frank&#39;s suggestion?"}],"answers":[{"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1667101863,"post_id":74250345,"comment_id":131089648,"body_markdown":"Since the value of `month` is stored as a string, that should be `String.valueOf(position)`.","body":"Since the value of <code>month</code> is stored as a string, that should be <code>String.valueOf(position)</code>."},{"owner":{"account_id":26769544,"reputation":11,"user_id":20366171,"display_name":"Zephyr"},"score":0,"creation_date":1667102550,"post_id":74250345,"comment_id":131089716,"body_markdown":"I tried both of your answers, it still outputs the appointments from month 9 when i choose January from the spinner.","body":"I tried both of your answers, it still outputs the appointments from month 9 when i choose January from the spinner."},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102680,"post_id":74250345,"comment_id":131089727,"body_markdown":"Edited answer, remove the extra child() since you are already referencing it in `ref`.","body":"Edited answer, remove the extra child() since you are already referencing it in <code>ref</code>."},{"owner":{"account_id":26769544,"reputation":11,"user_id":20366171,"display_name":"Zephyr"},"score":0,"creation_date":1667103128,"post_id":74250345,"comment_id":131089767,"body_markdown":"Are there going to have changes in the getAllBooks(); codes below\nbecause any condition I put on the if statements, when I run the app it still outputs all the appointments from month 9 even though I choose January from the spinner","body":"Are there going to have changes in the getAllBooks(); codes below because any condition I put on the if statements, when I run the app it still outputs all the appointments from month 9 even though I choose January from the spinner"}],"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667102663,"creation_date":1667100989,"answer_id":74250345,"question_id":74250254,"body_markdown":"In your Firebase the value of your month is in integer but you are querying the month&#39;s name instead. Should you be passing position instead like\r\n\r\n```\r\nquery = ref.orderByChild(&quot;month&quot;).equalTo(position);\r\n```","title":"Filtering by month using spinner in recyclerview in android studio firebase database","body":"<p>In your Firebase the value of your month is in integer but you are querying the month's name instead. Should you be passing position instead like</p>\n<pre><code>query = ref.orderByChild(&quot;month&quot;).equalTo(position);\n</code></pre>\n"}],"owner":{"account_id":26769544,"reputation":11,"user_id":20366171,"display_name":"Zephyr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667102663,"creation_date":1667099125,"question_id":74250254,"body_markdown":"0\r\n\r\n\r\nI&#39;m using Android Studio and firebase as my database, I tried this and still unknown on what to do in this if condition, I just need what to put in if statement to filter the information I get by month. his is the app im trying to sort it by month, tried sort to january, BUT appointments from month 9 still shows up \r\n[![this is the database](https://i.stack.imgur.com/qpEly.png)](https://i.stack.imgur.com/qpEly.png)\r\n[![this is the app](https://i.stack.imgur.com/f0L3s.png)](https://i.stack.imgur.com/f0L3s.png)\r\n\r\n```\r\npublic class adminAppoinment extends AppCompatActivity {\r\n\r\n    ImageView drawerButton;\r\n    RecyclerView recyclerView;\r\n    List&lt;Bookings&gt;bookingsList;\r\n    List&lt;ModelUser&gt;modelUsers;\r\n    AppointmentAdapter appointmentAdapter;\r\n    Spinner months;\r\n    String month;\r\n\r\n    private ActivityAdminAppoinmentBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityAdminAppoinmentBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        NavigationView navigationView = (binding.navView);\r\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\r\n\r\n        DrawerLayout drawerLayout = (binding.drawerLayout);\r\n        drawerButton = (binding.hamburger);\r\n\r\n        drawerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                drawerLayout.openDrawer(GravityCompat.START);\r\n            }\r\n        });\r\n\r\n        recyclerView = binding.recyclerView;\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplication()));\r\n        bookingsList = new ArrayList&lt;&gt;();\r\n        modelUsers = new ArrayList&lt;&gt;();\r\n\r\n        months = binding.spinner3;\r\n\r\n        ArrayAdapter&lt;CharSequence&gt;adapterMonth = ArrayAdapter.createFromResource(this,R.array.months, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\r\n        adapterMonth.setDropDownViewResource(androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\r\n        months.setAdapter(adapterMonth);\r\n        months.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                month = parent.getItemAtPosition(position).toString();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\r\n                Query query;\r\n                //if january then 1, then filter by month 1 from database\r\n\r\n                if (position == 1){\r\n                     query = ref.child(&quot;bookingDetails&quot;).orderByChild(&quot;month&quot;).equalTo(&quot;January&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                getAllBooks();\r\n\r\n            }\r\n        });\r\n\r\n\r\n        getAllBooks();\r\n\r\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()){\r\n                    case R.id.nav_home:\r\n                        startActivity(new Intent(getApplication(), govethome2.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                    case R.id.nav_adminUsers:\r\n                        startActivity(new Intent(getApplication(),adminUsers.class));\r\n                        finishAfterTransition();\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        item.setChecked(true);\r\n                        break;\r\n                    case R.id.nav_adminAppointment:\r\n                        item.setChecked(true);\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        break;\r\n                    case R.id.nav_adminOnlinePayment:\r\n                        startActivity(new Intent(getApplication(),adminOnlinePayments.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                    case R.id.nav_adminSettings:\r\n                        startActivity(new Intent(getApplication(),adminSettings.class));\r\n                        drawerLayout.closeDrawer(GravityCompat.START);\r\n                        finishAfterTransition();\r\n                        break;\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void getAllBooks() {\r\n        DatabaseReference mDatabase =FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;);\r\n\r\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\r\n\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                bookingsList.clear();\r\n                for(DataSnapshot ds : snapshot.getChildren()){\r\n                    Bookings bookings = ds.getValue(Bookings.class);\r\n                    if(!bookings.getName().equals(firebaseUser.getDisplayName())){\r\n                        bookingsList.add(bookings);\r\n                    }\r\n\r\n                    appointmentAdapter = new AppointmentAdapter(getApplication(), bookingsList);\r\n                    recyclerView.setAdapter(appointmentAdapter);\r\n                    recyclerView.setVisibility(View.VISIBLE);\r\n\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Filtering by month using spinner in recyclerview in android studio firebase database","body":"<p>0</p>\n<p>I'm using Android Studio and firebase as my database, I tried this and still unknown on what to do in this if condition, I just need what to put in if statement to filter the information I get by month. his is the app im trying to sort it by month, tried sort to january, BUT appointments from month 9 still shows up\n<a href=\"https://i.stack.imgur.com/qpEly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qpEly.png\" alt=\"this is the database\" /></a>\n<a href=\"https://i.stack.imgur.com/f0L3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f0L3s.png\" alt=\"this is the app\" /></a></p>\n<pre><code>public class adminAppoinment extends AppCompatActivity {\n\n    ImageView drawerButton;\n    RecyclerView recyclerView;\n    List&lt;Bookings&gt;bookingsList;\n    List&lt;ModelUser&gt;modelUsers;\n    AppointmentAdapter appointmentAdapter;\n    Spinner months;\n    String month;\n\n    private ActivityAdminAppoinmentBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityAdminAppoinmentBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        NavigationView navigationView = (binding.navView);\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\n\n        DrawerLayout drawerLayout = (binding.drawerLayout);\n        drawerButton = (binding.hamburger);\n\n        drawerButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                drawerLayout.openDrawer(GravityCompat.START);\n            }\n        });\n\n        recyclerView = binding.recyclerView;\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplication()));\n        bookingsList = new ArrayList&lt;&gt;();\n        modelUsers = new ArrayList&lt;&gt;();\n\n        months = binding.spinner3;\n\n        ArrayAdapter&lt;CharSequence&gt;adapterMonth = ArrayAdapter.createFromResource(this,R.array.months, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\n        adapterMonth.setDropDownViewResource(androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\n        months.setAdapter(adapterMonth);\n        months.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                month = parent.getItemAtPosition(position).toString();\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\n                Query query;\n                //if january then 1, then filter by month 1 from database\n\n                if (position == 1){\n                     query = ref.child(&quot;bookingDetails&quot;).orderByChild(&quot;month&quot;).equalTo(&quot;January&quot;);\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                getAllBooks();\n\n            }\n        });\n\n\n        getAllBooks();\n\n        navigationView.setCheckedItem(R.id.nav_adminAppointment);\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.nav_home:\n                        startActivity(new Intent(getApplication(), govethome2.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                    case R.id.nav_adminUsers:\n                        startActivity(new Intent(getApplication(),adminUsers.class));\n                        finishAfterTransition();\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        item.setChecked(true);\n                        break;\n                    case R.id.nav_adminAppointment:\n                        item.setChecked(true);\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        break;\n                    case R.id.nav_adminOnlinePayment:\n                        startActivity(new Intent(getApplication(),adminOnlinePayments.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                    case R.id.nav_adminSettings:\n                        startActivity(new Intent(getApplication(),adminSettings.class));\n                        drawerLayout.closeDrawer(GravityCompat.START);\n                        finishAfterTransition();\n                        break;\n                }\n\n                return true;\n            }\n        });\n\n\n    }\n\n    private void getAllBooks() {\n        DatabaseReference mDatabase =FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;);\n\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Bookings&quot;).child(&quot;bookingDetails&quot;);\n\n        ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                bookingsList.clear();\n                for(DataSnapshot ds : snapshot.getChildren()){\n                    Bookings bookings = ds.getValue(Bookings.class);\n                    if(!bookings.getName().equals(firebaseUser.getDisplayName())){\n                        bookingsList.add(bookings);\n                    }\n\n                    appointmentAdapter = new AppointmentAdapter(getApplication(), bookingsList);\n                    recyclerView.setAdapter(appointmentAdapter);\n                    recyclerView.setVisibility(View.VISIBLE);\n\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","switch-statement","lexical-analysis"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667092914,"post_id":74249899,"comment_id":131088840,"body_markdown":"Well, `getNonBlank()` could be an obvious culprit.  Could you show its source code?","body":"Well, <code>getNonBlank()</code> could be an obvious culprit.  Could you show its source code?"},{"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"score":0,"creation_date":1667093209,"post_id":74249899,"comment_id":131088874,"body_markdown":"@markspace added to the original post","body":"@markspace added to the original post"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667094403,"post_id":74249899,"comment_id":131088968,"body_markdown":"Honestly your code is kind of convoluted and there&#39;s still a lot that&#39;s not being shown.  I think it would be best if you produced a runnable example that shows the error.  [mcve]","body":"Honestly your code is kind of convoluted and there&#39;s still a lot that&#39;s not being shown.  I think it would be best if you produced a runnable example that shows the error.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"score":0,"creation_date":1667096453,"post_id":74249899,"comment_id":131089209,"body_markdown":"@markspace I updated it. Tried my best to take out as much as I can.","body":"@markspace I updated it. Tried my best to take out as much as I can."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1667099608,"post_id":74249899,"comment_id":131089466,"body_markdown":"The short answer is that when you call `lookup()` your index `charIndex` is already equal to 7, meaning it points to the semicolon.  Then when you call `case UNKOWN` in `lex()` you call `addChar()` which advances the index to 8, which is past the end of the string, so parsing stops.  I think using static variables is sloppy and you need to restructure your code to be easier to read, it seems to rely on side effects too much.","body":"The short answer is that when you call <code>lookup()</code> your index <code>charIndex</code> is already equal to 7, meaning it points to the semicolon.  Then when you call <code>case UNKOWN</code> in <code>lex()</code> you call <code>addChar()</code> which advances the index to 8, which is past the end of the string, so parsing stops.  I think using static variables is sloppy and you need to restructure your code to be easier to read, it seems to rely on side effects too much."}],"owner":{"account_id":24697635,"reputation":1,"user_id":18589378,"display_name":"1597jony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667101376,"creation_date":1667092232,"question_id":74249899,"body_markdown":"It seems when there is an operator or parenthesis it won&#39;t print what comes last. For example when taking the &quot;(47+12);&quot; It will output: \r\n\r\n    Next token is: LEFT_PAREN   Next lexeme is (\r\n    Next token is: INT_LIT      Next lexeme is 47\r\n    Next token is: ADD_OP       Next lexeme is +\r\n    Next token is: INT_LIT      Next lexeme is 12\r\n    Next token is: RIGHT_PAREN  Next lexeme is )\r\n\r\nand skip the semicolon.\r\n\r\n\r\n    \r\n    package lexPackage;\r\n     \r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    public class Lex {\r\n    \r\n    \tstatic final int MAX_LEXEME_LEN = 100;\r\n    \tstatic Token charClass;                            // Compare to enum to identify the character&#39;s class\r\n    \tstatic int lexLen;                                 // Current lexeme&#39;s length\r\n    \tstatic char lexeme[] = new char[MAX_LEXEME_LEN];   // Current lexeme&#39;s character array\r\n    \tstatic char nextChar;\r\n    \tstatic Token nextToken;\r\n    \tstatic int charIndex;\r\n    \r\n    \t //Tokens and categories\r\n    \tenum Token {\r\n    \t\tINT_LIT,\r\n    \t\tADD_OP,\r\n    \t\tLEFT_PAREN,\r\n    \t\tRIGHT_PAREN,\r\n    \t\tDIGIT,\r\n    \t\tSEMICOLON,\r\n    \t\tUNKNOWN,\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tString line;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t// For each line, grab each character \r\n    \t\t\t\tline = &quot;(47+12);&quot;;\r\n    \t\t\t\tcharIndex = 0;\r\n    \t\t\t\t\r\n    \t\t\t\tif (getChar(line)) {\r\n    \t\t\t\t\t// Perform lexical analysis within array bounds \r\n    \t\t\t\t\twhile (charIndex &lt; line.length()) {\r\n    \t\t\t\t\t\tlex(line);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tcatch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t}\r\n    \r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static Token lookup(char ch) {\r\n    \r\n    \t\tswitch (ch) {\r\n    \t\t\r\n    \t\tcase &#39;(&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.LEFT_PAREN;\r\n    \t\t\tbreak;\r\n    \r\n    \t\tcase &#39;)&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.RIGHT_PAREN;\r\n    \t\t\tbreak;\r\n    \r\n    \t\tcase &#39;+&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.ADD_OP;\r\n    \t\t\tbreak;\r\n    \t\r\n    \t\tcase &#39;;&#39;:\r\n    \t\t\taddChar();\r\n    \t\t\tnextToken = Token.SEMICOLON;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t/*\r\n    \t * No default case - each lexeme should fall\r\n    \t * within one of the categories set above.\r\n    \t */\r\n    \t\t}\r\n    \r\n    \t\treturn nextToken;\r\n    \t}\r\n    \r\n    \t/************* addChar - a function to add nextChar to lexeme *************/\r\n    \tprivate static boolean addChar() {\r\n    \t\t\r\n    \t\tif (lexLen &lt;= 98) {\r\n    \t\t\tlexeme[lexLen++] = nextChar;\r\n    \t\t\tlexeme[lexLen] = 0;\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Error - lexeme is too long \\n&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \t/************* getChar - a function to get the next character in the line *************/\r\n    \tprivate static boolean getChar(String ln) {\r\n    \t\t\r\n    \r\n    \t\tif (charIndex &gt;= ln.length()) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\tnextChar = ln.charAt(charIndex++);\r\n    \r\n    \t\tif (Character.isDigit(nextChar)) {\r\n    \t\t\tcharClass = Token.DIGIT;\r\n    \t\t} \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\telse {\r\n    \t\t\tcharClass = Token.UNKNOWN;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t/************* lex - a simple lexical analyzer for arithmetic expressions *************/\r\n    \tpublic static Token lex(String ln) throws IOException {\r\n    \t\t\r\n    \t\tlexLen = 0;\r\n    \r\n    \t\t\r\n    \t\tswitch (charClass) {\r\n    \t\t// Parse integer literals \r\n    \t\tcase DIGIT:\r\n    \t\t\tnextToken = Token.INT_LIT;\r\n    \t\t\taddChar();\r\n    \t\t\t\r\n    \t\t\tif (getChar(ln)) {\r\n    \t\t\t\twhile (charClass == Token.DIGIT) {\r\n    \t\t\t\t\taddChar();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (!getChar(ln)) {\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif (charClass == Token.UNKNOWN &amp;&amp; charIndex == ln.length()) {\r\n    \t\t\t\t\tcharIndex--;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t // Parentheses and operators \r\n    \t\tcase UNKNOWN:\r\n    \t\t\tlookup(nextChar);\r\n    \t\t\tgetChar(ln);\r\n    \t\t\t\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tdefault:\r\n    \t\t\tnextToken = Token.UNKNOWN;\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\t} // End of switch \r\n    \t\t\r\n    \t\t // Print each token and its respective lexeme \r\n    \t\tSystem.out.printf(&quot;Next token is: %-12s Next lexeme is %s\\n&quot;, String.valueOf(nextToken), String.valueOf(lexeme, 0, lexLen));\r\n    \r\n    \t\treturn nextToken;\r\n    \t} // End of function lex \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Lexical Analyzer not printing all tokens and lexemes","body":"<p>It seems when there is an operator or parenthesis it won't print what comes last. For example when taking the &quot;(47+12);&quot; It will output:</p>\n<pre><code>Next token is: LEFT_PAREN   Next lexeme is (\nNext token is: INT_LIT      Next lexeme is 47\nNext token is: ADD_OP       Next lexeme is +\nNext token is: INT_LIT      Next lexeme is 12\nNext token is: RIGHT_PAREN  Next lexeme is )\n</code></pre>\n<p>and skip the semicolon.</p>\n<pre><code>package lexPackage;\n \nimport java.util.*;\nimport java.io.*;\n\npublic class Lex {\n\n    static final int MAX_LEXEME_LEN = 100;\n    static Token charClass;                            // Compare to enum to identify the character's class\n    static int lexLen;                                 // Current lexeme's length\n    static char lexeme[] = new char[MAX_LEXEME_LEN];   // Current lexeme's character array\n    static char nextChar;\n    static Token nextToken;\n    static int charIndex;\n\n     //Tokens and categories\n    enum Token {\n        INT_LIT,\n        ADD_OP,\n        LEFT_PAREN,\n        RIGHT_PAREN,\n        DIGIT,\n        SEMICOLON,\n        UNKNOWN,\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        String line;\n\n        try {\n\n            // For each line, grab each character \n                line = &quot;(47+12);&quot;;\n                charIndex = 0;\n                \n                if (getChar(line)) {\n                    // Perform lexical analysis within array bounds \n                    while (charIndex &lt; line.length()) {\n                        lex(line);\n                    }\n                    \n                }\n        }\n\n        catch (FileNotFoundException e) {\n            System.out.println(e.toString());\n        }\n\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static Token lookup(char ch) {\n\n        switch (ch) {\n        \n        case '(':\n            addChar();\n            nextToken = Token.LEFT_PAREN;\n            break;\n\n        case ')':\n            addChar();\n            nextToken = Token.RIGHT_PAREN;\n            break;\n\n        case '+':\n            addChar();\n            nextToken = Token.ADD_OP;\n            break;\n    \n        case ';':\n            addChar();\n            nextToken = Token.SEMICOLON;\n            break;\n            \n    /*\n     * No default case - each lexeme should fall\n     * within one of the categories set above.\n     */\n        }\n\n        return nextToken;\n    }\n\n    /************* addChar - a function to add nextChar to lexeme *************/\n    private static boolean addChar() {\n        \n        if (lexLen &lt;= 98) {\n            lexeme[lexLen++] = nextChar;\n            lexeme[lexLen] = 0;\n            return true;\n        }\n        \n        else {\n            System.out.println(&quot;Error - lexeme is too long \\n&quot;);\n            return false;\n        }\n    }\n\n    \n    /************* getChar - a function to get the next character in the line *************/\n    private static boolean getChar(String ln) {\n        \n\n        if (charIndex &gt;= ln.length()) {\n            return false;\n        }\n        \n\n        nextChar = ln.charAt(charIndex++);\n\n        if (Character.isDigit(nextChar)) {\n            charClass = Token.DIGIT;\n        } \n        \n        \n        \n        else {\n            charClass = Token.UNKNOWN;\n        }\n\n        return true;\n    }\n\n    /************* lex - a simple lexical analyzer for arithmetic expressions *************/\n    public static Token lex(String ln) throws IOException {\n        \n        lexLen = 0;\n\n        \n        switch (charClass) {\n        // Parse integer literals \n        case DIGIT:\n            nextToken = Token.INT_LIT;\n            addChar();\n            \n            if (getChar(ln)) {\n                while (charClass == Token.DIGIT) {\n                    addChar();\n                    \n                    if (!getChar(ln)) {\n                        break;\n                    }\n                }\n                \n                if (charClass == Token.UNKNOWN &amp;&amp; charIndex == ln.length()) {\n                    charIndex--;\n                }\n            }\n            break;\n            \n         // Parentheses and operators \n        case UNKNOWN:\n            lookup(nextChar);\n            getChar(ln);\n            \n            break;\n            \n        default:\n            nextToken = Token.UNKNOWN;\n            break;\n            \n        } // End of switch \n        \n         // Print each token and its respective lexeme \n        System.out.printf(&quot;Next token is: %-12s Next lexeme is %s\\n&quot;, String.valueOf(nextToken), String.valueOf(lexeme, 0, lexLen));\n\n        return nextToken;\n    } // End of function lex \n}\n</code></pre>\n"},{"tags":["java","object","java.util.scanner"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1666966467,"post_id":74233438,"comment_id":131066027,"body_markdown":"You should not have code outside of functions (or static blocks). Move the code into the `main` method. Your code currently runs 3 times because you create 3 test objects, and for each it will run the unnamed block that asks for input.","body":"You should not have code outside of functions (or static blocks). Move the code into the <code>main</code> method. Your code currently runs 3 times because you create 3 test objects, and for each it will run the unnamed block that asks for input."},{"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"score":0,"creation_date":1667100459,"post_id":74233438,"comment_id":131089531,"body_markdown":"Hello! As for I I have code outside main method, it is because our professor thought us that way because we are learning about the topic on how to create objects and he told us to initialize outside main method. And as for the 3 test objects, I found a solution for that from a friend that I should only create one object and use that for all.","body":"Hello! As for I I have code outside main method, it is because our professor thought us that way because we are learning about the topic on how to create objects and he told us to initialize outside main method. And as for the 3 test objects, I found a solution for that from a friend that I should only create one object and use that for all."}],"answers":[{"comments":[{"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"score":0,"creation_date":1667100671,"post_id":74236330,"comment_id":131089548,"body_markdown":"Thank you for this! I would try to note this and keep this in mind. I have a solution however for my problem.  I would include the code above.","body":"Thank you for this! I would try to note this and keep this in mind. I have a solution however for my problem.  I would include the code above."},{"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"score":0,"creation_date":1667100933,"post_id":74236330,"comment_id":131089573,"body_markdown":"My level of expertise in java is not that great as this is the first time I will be learning this as a freshman taking BSIT course.","body":"My level of expertise in java is not that great as this is the first time I will be learning this as a freshman taking BSIT course."}],"tags":[],"owner":{"account_id":16507843,"reputation":772,"user_id":11927434,"display_name":"MarkusAnd"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666964667,"creation_date":1666964667,"answer_id":74236330,"question_id":74233438,"body_markdown":"I don&#39;t know your level of expertise in programming and Java. However there are a few things that I believe are strongly recommended to follow. Don&#39;t use a `Scanner` outside a method. Never print outside a method. Initiate all class attributes that aren&#39;t immutable inside a class constructor call. \r\n\r\nIn your current code you have three calls to `new test();` where each call will initiate all class attributes and hence the line `int c = myObj.nextInt();` will be executed three times. \r\n\r\nInstead create a constructor method in your `Test` class. Initiate all your attributes here and execute all `System.out` prints here or in the main method. \r\n\r\n```\r\npublic class Test {\r\n\t//Declare attributes only\r\n\tint c;\r\n\tdouble g, cg, gm, mg;\r\n\r\n\t//Class constructor method\r\n\tpublic Test(Scanner myObj) {\r\n\t\tSystem.out.print(&quot;Enter Carat Value: &quot;);\r\n\t\t//Give declared attributes their values\r\n\t\tc = myObj.nextInt();\r\n\t    g = 0.20;\r\n\t    cg = c*g;\r\n\t    gm = cg*1000;\r\n\t    mg = gm*0.00220462/1000;\r\n\t    \r\n\t    System.out.println(&quot;Carats in Grams: &quot;+ cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+ gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+ mg);\r\n\t}\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner myObj = new Scanner(System.in);\r\n\r\n        //Calling new Test() executes the constructor method above\r\n        new Test(myObj);\r\n        \r\n        myObj.close();\r\n    }\r\n}\r\n```","title":"I am trying to use scanner outside the main method, and it keeps repeating after 3 inputs","body":"<p>I don't know your level of expertise in programming and Java. However there are a few things that I believe are strongly recommended to follow. Don't use a <code>Scanner</code> outside a method. Never print outside a method. Initiate all class attributes that aren't immutable inside a class constructor call.</p>\n<p>In your current code you have three calls to <code>new test();</code> where each call will initiate all class attributes and hence the line <code>int c = myObj.nextInt();</code> will be executed three times.</p>\n<p>Instead create a constructor method in your <code>Test</code> class. Initiate all your attributes here and execute all <code>System.out</code> prints here or in the main method.</p>\n<pre><code>public class Test {\n    //Declare attributes only\n    int c;\n    double g, cg, gm, mg;\n\n    //Class constructor method\n    public Test(Scanner myObj) {\n        System.out.print(&quot;Enter Carat Value: &quot;);\n        //Give declared attributes their values\n        c = myObj.nextInt();\n        g = 0.20;\n        cg = c*g;\n        gm = cg*1000;\n        mg = gm*0.00220462/1000;\n        \n        System.out.println(&quot;Carats in Grams: &quot;+ cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+ gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+ mg);\n    }\n    \n    public static void main(String[] args) {\n        Scanner myObj = new Scanner(System.in);\n\n        //Calling new Test() executes the constructor method above\n        new Test(myObj);\n        \n        myObj.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26758678,"reputation":3,"user_id":20356941,"display_name":"Skyln"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74236330,"answer_count":1,"score":0,"last_activity_date":1667101130,"creation_date":1666950059,"question_id":74233438,"body_markdown":"So I am trying to use scanner outside main method and keeps on repeating on enter, and idk if the new Obj is causing it cause I observed that the number of obj I created is the same as the amount of times I repeated input process and enter. Then after those tries it will then show the output inside the main method.\r\n\r\nThis is my code:\r\n\r\n```\r\npackage galitkami;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n\r\n    Scanner myObj = new Scanner(System.in);\r\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\r\n    int c = myObj.nextInt();\r\n    double g = 0.20;\r\n    double cg = c*g;\r\n    double gm = cg*1000;\r\n    double mg = gm*0.00220462/1000;\r\n    public static void main(String[] args) {\r\n\r\n        test a = new test();\r\n        test b = new test();\r\n        test c = new test();\r\n       \r\n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+b.gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+c.mg);\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI am expecting that after I input value on &quot;Enter Carat Value:&quot; it will automatically show the output inside the main method.\r\n\r\n**Update,** I have found a solution for this and this is what it looks like:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n\r\n    static Scanner myObj = new Scanner(System.in);\r\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\r\n    final int c = myObj.nextInt();\r\n   \r\n    double g = 0.20;\r\n    double cg = c*g;\r\n    double gm = cg*1000;\r\n    double mg = gm*0.00220462/1000;\r\n    public static void main(String[] args) {\r\n\r\n        test a = new test();\r\n   \r\n\r\n       \r\n      \r\n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\r\n        System.out.println(&quot;Grams in Milligrams: &quot;+a.gm);\r\n        System.out.println(&quot;Milligrams in Pounds: &quot;+a.mg);\r\n    \r\n\r\n   \r\n}   \r\n}\r\n```\r\n\r\nMy friend told me that I have simply need to create one object and call it out for all.","title":"I am trying to use scanner outside the main method, and it keeps repeating after 3 inputs","body":"<p>So I am trying to use scanner outside main method and keeps on repeating on enter, and idk if the new Obj is causing it cause I observed that the number of obj I created is the same as the amount of times I repeated input process and enter. Then after those tries it will then show the output inside the main method.</p>\n<p>This is my code:</p>\n<pre><code>package galitkami;\n\nimport java.util.Scanner;\n\npublic class test {\n\n    Scanner myObj = new Scanner(System.in);\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\n    int c = myObj.nextInt();\n    double g = 0.20;\n    double cg = c*g;\n    double gm = cg*1000;\n    double mg = gm*0.00220462/1000;\n    public static void main(String[] args) {\n\n        test a = new test();\n        test b = new test();\n        test c = new test();\n       \n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+b.gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+c.mg);\n\n    }\n    \n}\n\n</code></pre>\n<p>I am expecting that after I input value on &quot;Enter Carat Value:&quot; it will automatically show the output inside the main method.</p>\n<p><strong>Update,</strong> I have found a solution for this and this is what it looks like:</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\n\n    static Scanner myObj = new Scanner(System.in);\n    {System.out.print(&quot;Enter Carat Value: &quot;);}\n    final int c = myObj.nextInt();\n   \n    double g = 0.20;\n    double cg = c*g;\n    double gm = cg*1000;\n    double mg = gm*0.00220462/1000;\n    public static void main(String[] args) {\n\n        test a = new test();\n   \n\n       \n      \n        System.out.println(&quot;Carats in Grams: &quot;+a.cg);\n        System.out.println(&quot;Grams in Milligrams: &quot;+a.gm);\n        System.out.println(&quot;Milligrams in Pounds: &quot;+a.mg);\n    \n\n   \n}   \n}\n</code></pre>\n<p>My friend told me that I have simply need to create one object and call it out for all.</p>\n"},{"tags":["java","eclipse","refactoring"],"comments":[{"owner":{"account_id":895889,"reputation":1066,"user_id":933189,"accept_rate":25,"display_name":"Balaji Dhanasekar"},"score":0,"creation_date":1380014384,"post_id":18977407,"comment_id":28030940,"body_markdown":"Have a look at this.  http://stackoverflow.com/questions/10161840/change-name-of-a-package-after-if-it-is-created-and-have-classes-in-eclipse-pos","body":"Have a look at this.  <a href=\"http://stackoverflow.com/questions/10161840/change-name-of-a-package-after-if-it-is-created-and-have-classes-in-eclipse-pos\" title=\"change name of a package after if it is created and have classes in eclipse pos\">stackoverflow.com/questions/10161840/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014400,"creation_date":1380014400,"answer_id":18977509,"question_id":18977407,"body_markdown":"Create your directory structure in src folder like\r\n\r\n&lt;pkg1&gt;.&lt;subpkg1&gt;\r\n\r\nmeans to create subpkg1 folder under pkg1 folder (source folder in eclipse) then place your source code inside and then modify its package declaration.","title":"How to change a package name in Eclipse?","body":"<p>Create your directory structure in src folder like</p>\n\n<p>.</p>\n\n<p>means to create subpkg1 folder under pkg1 folder (source folder in eclipse) then place your source code inside and then modify its package declaration.</p>\n"},{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014402,"creation_date":1380014402,"answer_id":18977510,"question_id":18977407,"body_markdown":"Select all files in the default package, **right click** -&gt; **Refactor...** -&gt; **Move..** and select a package in the dialog or create a new one.","title":"How to change a package name in Eclipse?","body":"<p>Select all files in the default package, <strong>right click</strong> -> <strong>Refactor...</strong> -> <strong>Move..</strong> and select a package in the dialog or create a new one.</p>\n"},{"tags":[],"owner":{"account_id":1063475,"reputation":677,"user_id":1064781,"accept_rate":75,"display_name":"cete3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014407,"creation_date":1380014407,"answer_id":18977514,"question_id":18977407,"body_markdown":"Try creating a new package and then move your files in there.\r\n\r\nA short overview : \r\nhttp://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm","title":"How to change a package name in Eclipse?","body":"<p>Try creating a new package and then move your files in there.</p>\n\n<p>A short overview : \n<a href=\"http://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/eclipse/eclipse_create_java_package.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2780943,"reputation":9661,"user_id":2393509,"accept_rate":88,"display_name":"jtomaszk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014438,"creation_date":1380014438,"answer_id":18977528,"question_id":18977407,"body_markdown":"Just create new package and move Classes to created package. \r\n\r\n*(default package)* means that is no package.","title":"How to change a package name in Eclipse?","body":"<p>Just create new package and move Classes to created package. </p>\n\n<p><em>(default package)</em> means that is no package.</p>\n"},{"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":1,"creation_date":1380014673,"post_id":18977549,"comment_id":28031099,"body_markdown":"That won&#39;t work. You can&#39;t rename default package. Default package doesn&#39;t even exist.","body":"That won&#39;t work. You can&#39;t rename default package. Default package doesn&#39;t even exist."}],"tags":[],"owner":{"account_id":3067379,"reputation":737,"user_id":2598783,"accept_rate":80,"display_name":"Iren Patel"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1380014494,"creation_date":1380014494,"answer_id":18977549,"question_id":18977407,"body_markdown":"Press `Alt+shift+R` key and change package name","title":"How to change a package name in Eclipse?","body":"<p>Press <code>Alt+shift+R</code> key and change package name</p>\n"},{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380014496,"creation_date":1380014496,"answer_id":18977551,"question_id":18977407,"body_markdown":"You can&#39;t rename default package since it actually doesn&#39;t even exist. All files in default package are actually in `src` folder.\r\n\r\n\r\n    src--\r\n        |\r\n        MyClass1.java &lt;==== These files are in default package\r\n        MyClass2.java\r\n        |\r\n        org\r\n          |\r\n          mypackage\r\n                  |\r\n                  MyClass3.java &lt;=== class in org.mypackage package\r\n\r\n \r\nJust create new package and move your classes within.","title":"How to change a package name in Eclipse?","body":"<p>You can't rename default package since it actually doesn't even exist. All files in default package are actually in <code>src</code> folder.</p>\n\n<pre><code>src--\n    |\n    MyClass1.java &lt;==== These files are in default package\n    MyClass2.java\n    |\n    org\n      |\n      mypackage\n              |\n              MyClass3.java &lt;=== class in org.mypackage package\n</code></pre>\n\n<p>Just create new package and move your classes within.</p>\n"},{"tags":[],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380014500,"creation_date":1380014500,"answer_id":18977553,"question_id":18977407,"body_markdown":"Just go to the class and replace the package statement with package com.myCompany.executabe after this eclipse will give you options to rename move the class to the new package and will do the needful","title":"How to change a package name in Eclipse?","body":"<p>Just go to the class and replace the package statement with package com.myCompany.executabe after this eclipse will give you options to rename move the class to the new package and will do the needful</p>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":119,"is_accepted":true,"score":119,"last_activity_date":1403282769,"creation_date":1380014527,"answer_id":18977569,"question_id":18977407,"body_markdown":"First you need to create package:\r\n   \r\n  `com.myCompany.executabe`  (src &gt; right click &gt; new &gt; package).\r\n\r\nFollow these steps to move the Java files to your new package.\r\n\r\n 1. Select the Java files\r\n 2. Right click\r\n 3. Refactor\r\n 4. Move\r\n 5. Select your preferred package","title":"How to change a package name in Eclipse?","body":"<p>First you need to create package:</p>\n\n<p><code>com.myCompany.executabe</code>  (src > right click > new > package).</p>\n\n<p>Follow these steps to move the Java files to your new package.</p>\n\n<ol>\n<li>Select the Java files</li>\n<li>Right click</li>\n<li>Refactor</li>\n<li>Move</li>\n<li>Select your preferred package</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3328786,"reputation":81,"user_id":2798163,"display_name":"XaverB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380014533,"creation_date":1380014533,"answer_id":18977571,"question_id":18977407,"body_markdown":"create a new package, drag and drop the class into it and now you are able to rename the new package","title":"How to change a package name in Eclipse?","body":"<p>create a new package, drag and drop the class into it and now you are able to rename the new package</p>\n"},{"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380014536,"creation_date":1380014536,"answer_id":18977573,"question_id":18977407,"body_markdown":"1. Select the classes you want to move to a different package name.\r\n2. Right click - Refactor - Move\r\n3. Create Package","title":"How to change a package name in Eclipse?","body":"<ol>\n<li>Select the classes you want to move to a different package name.</li>\n<li>Right click - Refactor - Move</li>\n<li>Create Package</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2861465,"reputation":242,"user_id":2456647,"accept_rate":67,"display_name":"Meet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380015993,"creation_date":1380015993,"answer_id":18978141,"question_id":18977407,"body_markdown":"com.myCompany.executabe is the path of executabe package. Here com,myCompany,executable are three different package.\r\nYou have to manually rename individual package name you want to change.","title":"How to change a package name in Eclipse?","body":"<p>com.myCompany.executabe is the path of executabe package. Here com,myCompany,executable are three different package.\nYou have to manually rename individual package name you want to change.</p>\n"},{"tags":[],"owner":{"account_id":4752630,"reputation":2153,"user_id":3842263,"display_name":"Yosidroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406233606,"creation_date":1406232430,"answer_id":24942993,"question_id":18977407,"body_markdown":"HOW TO COPY AND PASTE ANDROID PROJECT\r\n\r\nA. If you are using Eclipse and all you want to do is first open the project that you want to copy(DON&quot;T FORGET TO OPEN THE PROJECT THAT YOU NEED TO COPY), then clone(copy/paste) your Android project within the explorer package window on the left side of Eclipse. Eclipse will ask you for a new project name when you paste. Give it a new project name. Since Eclipse project name and directory are independent of the application name and package, the following steps will help you on how to change package names. Note: there are two types of package names.\r\n\r\n1.To change src package names of packages within Src folder follow the following steps:\r\nFirst you need to create new package: (src &gt;&gt;&gt;&gt; right click &gt;&gt;&gt;&gt; new &gt;&gt;&gt;&gt; package).\r\n\r\nExample of creating package: com.new.name \r\n\r\nFollow these steps to move the Java files from the old copied package in part A to your new package.\r\n\r\nSelect the Java files within that old package\r\n\r\nRight click that java files\r\n\r\nselect &quot;Refactor&quot; option\r\n\r\nselect &quot;Move&quot; option\r\n\r\nSelect your preferred package from the list of packages in a dialogue window. Most probably you need to select the new one you just created and hit &quot;OK&quot; \r\n\r\n2.To change Application package name(main package), follow the following steps:\r\n\r\nFirst right click your project\r\n\r\nThen go to &quot;Android tools&quot;\r\n\r\nThen select &quot;Rename Application package&quot;\r\n\r\nEnter a new name in a dialogue window , and hit OK.\r\n\r\nThen It will show you in which part of your project the Application name will be changed. \r\n\r\nIt will show you that the Application name will be changed in manifest, and in most relevant Java files. Hit &quot;OK&quot;\r\n\r\nYOU DONE in this part, but make sure you rebuild your project to take effect. \r\n\t\t\r\nTo rebuild your project, go to &quot;&quot;project&quot; &gt;&gt;&gt; &quot;Clean&quot; &gt;&gt;&gt;&gt; select a Project from a projects \r\n\r\nlist, and hit &quot;OK&quot;. Finally, you can run your new project. ","title":"How to change a package name in Eclipse?","body":"<p>HOW TO COPY AND PASTE ANDROID PROJECT</p>\n\n<p>A. If you are using Eclipse and all you want to do is first open the project that you want to copy(DON\"T FORGET TO OPEN THE PROJECT THAT YOU NEED TO COPY), then clone(copy/paste) your Android project within the explorer package window on the left side of Eclipse. Eclipse will ask you for a new project name when you paste. Give it a new project name. Since Eclipse project name and directory are independent of the application name and package, the following steps will help you on how to change package names. Note: there are two types of package names.</p>\n\n<p>1.To change src package names of packages within Src folder follow the following steps:\nFirst you need to create new package: (src >>>> right click >>>> new >>>> package).</p>\n\n<p>Example of creating package: com.new.name </p>\n\n<p>Follow these steps to move the Java files from the old copied package in part A to your new package.</p>\n\n<p>Select the Java files within that old package</p>\n\n<p>Right click that java files</p>\n\n<p>select \"Refactor\" option</p>\n\n<p>select \"Move\" option</p>\n\n<p>Select your preferred package from the list of packages in a dialogue window. Most probably you need to select the new one you just created and hit \"OK\" </p>\n\n<p>2.To change Application package name(main package), follow the following steps:</p>\n\n<p>First right click your project</p>\n\n<p>Then go to \"Android tools\"</p>\n\n<p>Then select \"Rename Application package\"</p>\n\n<p>Enter a new name in a dialogue window , and hit OK.</p>\n\n<p>Then It will show you in which part of your project the Application name will be changed. </p>\n\n<p>It will show you that the Application name will be changed in manifest, and in most relevant Java files. Hit \"OK\"</p>\n\n<p>YOU DONE in this part, but make sure you rebuild your project to take effect. </p>\n\n<p>To rebuild your project, go to \"\"project\" >>> \"Clean\" >>>> select a Project from a projects </p>\n\n<p>list, and hit \"OK\". Finally, you can run your new project. </p>\n"},{"tags":[],"owner":{"account_id":4103956,"reputation":337,"user_id":3368626,"accept_rate":71,"display_name":"Syed Rahman Mashwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407409618,"creation_date":1407409618,"answer_id":25180939,"question_id":18977407,"body_markdown":"In pack explorer of eclipse&gt; Single Click on the name of Package&gt; click F2 keyboard key &gt;type new name&gt; click finish.\r\n\r\n\r\nEclipse will do the rest of job. It will rename old package name to new in code files also.\r\n","title":"How to change a package name in Eclipse?","body":"<p>In pack explorer of eclipse> Single Click on the name of Package> click F2 keyboard key >type new name> click finish.</p>\n\n<p>Eclipse will do the rest of job. It will rename old package name to new in code files also.</p>\n"},{"tags":[],"owner":{"account_id":3723533,"reputation":767,"user_id":3097931,"accept_rate":44,"display_name":"Matthew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415986159,"creation_date":1415985084,"answer_id":26935331,"question_id":18977407,"body_markdown":"In Eclipse Kepler/4.3 (and probably most other versions), you can:\r\n\r\nA: Rename package in all files:\r\n\r\n1. Select the project or any of its members in the Project Explorer\r\n2. Menu: Search &gt; File... (&lt;Alt-a&gt; &lt;f&gt;)\r\n3. In field &quot;Containing text:&quot; enter the old package name (eg. com.domain.oldpackage)\r\n4. Replace... (&lt;Alt-r&gt;)\r\n5. (Eclipse searches the project files for the old package name as a pattern)\r\n6. In field &quot;With:&quot; enter the new package name (eg. com.domain.newpackage), OK\r\n7. Proceed to confirm unless previews show some kind of conflict (which would probably mean that there&#39;s something else to be cleaned up before renaming the package)\r\n\r\nB: Rename src package:\r\n\r\n1. Select the source code package (eg. expand Project &gt; src and select com.domain.oldpackage) in the Project Explorer\r\n2. Menum: Refactor &gt; Rename... (&lt;Alt-Shift-r&gt;)\r\n3. In field &quot;New name:&quot; enter the new package name (eg. com.domain.newpackage)\r\n4. Proceed to confirm unless previews show some kind of conflict (which would probably mean that there&#39;s something else to be cleaned up before renaming the package)\r\n\r\nNote that in each of the Replace... and Rename... dialogs leave all other defaults, unless you&#39;re selectively omitting renaming instances of the package name.\r\n\r\nThis procedure should automatically clean your project after each of A and B are completed (including the gen/ directory). But if you see any errors you should manually clean and rebuild (&lt;Alt-p&gt; &lt;n&gt;, then select project, OK) to restore project elements integrity before proceeding. And you should immediately test the project to ensure this procedure worked before making further changes and confounding them.","title":"How to change a package name in Eclipse?","body":"<p>In Eclipse Kepler/4.3 (and probably most other versions), you can:</p>\n\n<p>A: Rename package in all files:</p>\n\n<ol>\n<li>Select the project or any of its members in the Project Explorer</li>\n<li>Menu: Search > File... ( )</li>\n<li>In field \"Containing text:\" enter the old package name (eg. com.domain.oldpackage)</li>\n<li>Replace... ()</li>\n<li>(Eclipse searches the project files for the old package name as a pattern)</li>\n<li>In field \"With:\" enter the new package name (eg. com.domain.newpackage), OK</li>\n<li>Proceed to confirm unless previews show some kind of conflict (which would probably mean that there's something else to be cleaned up before renaming the package)</li>\n</ol>\n\n<p>B: Rename src package:</p>\n\n<ol>\n<li>Select the source code package (eg. expand Project > src and select com.domain.oldpackage) in the Project Explorer</li>\n<li>Menum: Refactor > Rename... ()</li>\n<li>In field \"New name:\" enter the new package name (eg. com.domain.newpackage)</li>\n<li>Proceed to confirm unless previews show some kind of conflict (which would probably mean that there's something else to be cleaned up before renaming the package)</li>\n</ol>\n\n<p>Note that in each of the Replace... and Rename... dialogs leave all other defaults, unless you're selectively omitting renaming instances of the package name.</p>\n\n<p>This procedure should automatically clean your project after each of A and B are completed (including the gen/ directory). But if you see any errors you should manually clean and rebuild ( , then select project, OK) to restore project elements integrity before proceeding. And you should immediately test the project to ensure this procedure worked before making further changes and confounding them.</p>\n"},{"tags":[],"owner":{"account_id":5460067,"reputation":11,"user_id":4342446,"display_name":"Eugen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418145056,"creation_date":1418145056,"answer_id":27384752,"question_id":18977407,"body_markdown":"Android app package name?\r\n\r\nJust for the record, my case concerned an android app so if it concerns renaming the package name in an android application, then you can do it directly from the AndroidManifest.xml file, it&#39;s the first field in the android manifest, you change your package name and update it. Then if it shows you errors, so just &quot;clean&quot; your project in the &quot;project&quot; menu.","title":"How to change a package name in Eclipse?","body":"<p>Android app package name?</p>\n\n<p>Just for the record, my case concerned an android app so if it concerns renaming the package name in an android application, then you can do it directly from the AndroidManifest.xml file, it's the first field in the android manifest, you change your package name and update it. Then if it shows you errors, so just \"clean\" your project in the \"project\" menu.</p>\n"},{"tags":[],"owner":{"account_id":3242792,"reputation":1544,"user_id":2735349,"display_name":"Ehsan Jelodar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430547325,"creation_date":1430547325,"answer_id":29999126,"question_id":18977407,"body_markdown":"&quot;AndroidManifest&quot; file not changed for me and i change package name manually.","title":"How to change a package name in Eclipse?","body":"<p>\"AndroidManifest\" file not changed for me and i change package name manually.</p>\n"},{"tags":[],"owner":{"account_id":2622167,"reputation":11,"user_id":2269977,"display_name":"Jaoadun Nasif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461820385,"creation_date":1461818089,"answer_id":36905331,"question_id":18977407,"body_markdown":" 1. Change the Package Name in Manifest.   \r\n 2. A warning box will be said to\r\n        change into workspace ,press &quot;yes&quot;    \r\n 3. then right click on src-&gt; refactor -&gt; rename paste your package name \r\n 4. select package name and sub package name both\r\n       \r\n 5. press &quot;save&quot;   a warning pop ups , press &quot;continue&quot;\r\n\r\nname changed successfully\r\n\r\n","title":"How to change a package name in Eclipse?","body":"<ol>\n<li>Change the Package Name in Manifest.   </li>\n<li>A warning box will be said to\n    change into workspace ,press \"yes\"    </li>\n<li>then right click on src-> refactor -> rename paste your package name </li>\n<li><p>select package name and sub package name both</p></li>\n<li><p>press \"save\"   a warning pop ups , press \"continue\"</p></li>\n</ol>\n\n<p>name changed successfully</p>\n"},{"tags":[],"owner":{"account_id":2093302,"reputation":1,"user_id":1862620,"display_name":"Pokhrel Rajat"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489854268,"creation_date":1489854268,"answer_id":42876868,"question_id":18977407,"body_markdown":"[enter image description here][1]You can open the class file in eclipse and at the top add &quot;package XYZ(package_name), then while it shows error click to it and select &#39; move ABC.java(class_file) to package XYZ(package_name)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3vYD2.jpg","title":"How to change a package name in Eclipse?","body":"<p><a href=\"https://i.stack.imgur.com/3vYD2.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>You can open the class file in eclipse and at the top add \"package XYZ(package_name), then while it shows error click to it and select ' move ABC.java(class_file) to package XYZ(package_name)</p>\n"},{"tags":[],"owner":{"account_id":7226475,"reputation":774,"user_id":5514856,"accept_rate":83,"display_name":"Pratheesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497252558,"creation_date":1497252558,"answer_id":44493655,"question_id":18977407,"body_markdown":"Right Click your Project  \r\nAndroid Tools&gt;&gt;Rename Application Package\r\nJust Change Package in there...\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2qhqo.png","title":"How to change a package name in Eclipse?","body":"<p>Right Click your Project<br>\nAndroid Tools>>Rename Application Package\nJust Change Package in there...\n<a href=\"https://i.stack.imgur.com/2qhqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qhqo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11266045,"reputation":11,"user_id":8262818,"display_name":"Ritu "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504872634,"creation_date":1504006036,"answer_id":45937960,"question_id":18977407,"body_markdown":"I have tried this and quite Simple process:\r\n\r\nCreated a new Package with required **name--&gt; Moved** all my classes to this new package (Right click on previous **package --&gt; Refractor--&gt; Move**)\r\n","title":"How to change a package name in Eclipse?","body":"<p>I have tried this and quite Simple process:</p>\n\n<p>Created a new Package with required <strong>name--> Moved</strong> all my classes to this new package (Right click on previous <strong>package --> Refractor--> Move</strong>)</p>\n"},{"tags":[],"owner":{"account_id":19355195,"reputation":1,"user_id":14151680,"display_name":"Shrijith P.S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667100712,"creation_date":1663477813,"answer_id":73760254,"question_id":18977407,"body_markdown":"To rename package in eclipse:\r\n1. Right click on the package\r\n1. Click on refactor\r\n1. Click on rename\r\n1. Change the name\r\n1. Click OK","title":"How to change a package name in Eclipse?","body":"<p>To rename package in eclipse:</p>\n<ol>\n<li>Right click on the package</li>\n<li>Click on refactor</li>\n<li>Click on rename</li>\n<li>Change the name</li>\n<li>Click OK</li>\n</ol>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234214,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":18977569,"answer_count":21,"score":80,"last_activity_date":1667100712,"creation_date":1380014133,"question_id":18977407,"body_markdown":"In Eclipse I have a simple Java project that contains a package named **(default package)** and inside this package I have a class.\r\n\r\nI want to rename this package into something like: **com.myCompany.executable**\r\n\r\nI tried to select the **(default package) ---&gt; right click ---&gt; refactor** but now I see only the single voice named: **Infer generic type arguments** but not the possibility to change the package name.\r\n\r\nWhy? What have I to do in Eclipse to change the name of the package?","title":"How to change a package name in Eclipse?","body":"<p>In Eclipse I have a simple Java project that contains a package named <strong>(default package)</strong> and inside this package I have a class.</p>\n\n<p>I want to rename this package into something like: <strong>com.myCompany.executable</strong></p>\n\n<p>I tried to select the <strong>(default package) ---> right click ---> refactor</strong> but now I see only the single voice named: <strong>Infer generic type arguments</strong> but not the possibility to change the package name.</p>\n\n<p>Why? What have I to do in Eclipse to change the name of the package?</p>\n"},{"tags":["java","android","android-edittext"],"answers":[{"comments":[{"owner":{"account_id":26773075,"reputation":13,"user_id":20369134,"display_name":"millerstuff"},"score":0,"creation_date":1667099535,"post_id":74250252,"comment_id":131089462,"body_markdown":"This doesn&#39;t solve the issue of it not getting the text though, instead of &quot;Name&quot; and &quot;Password&quot; it just returns an empty string now.","body":"This doesn&#39;t solve the issue of it not getting the text though, instead of &quot;Name&quot; and &quot;Password&quot; it just returns an empty string now."},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667100306,"post_id":74250252,"comment_id":131089517,"body_markdown":"Sorry, edited my answer.","body":"Sorry, edited my answer."},{"owner":{"account_id":26773075,"reputation":13,"user_id":20369134,"display_name":"millerstuff"},"score":0,"creation_date":1667102399,"post_id":74250252,"comment_id":131089696,"body_markdown":"It says that it can&#39;t recognize the names of login_button and username_box","body":"It says that it can&#39;t recognize the names of login_button and username_box"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102580,"post_id":74250252,"comment_id":131089720,"body_markdown":"Can you check on your end? Maybe it is binding.loginButton in camelCase.","body":"Can you check on your end? Maybe it is binding.loginButton in camelCase."},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667102988,"post_id":74250252,"comment_id":131089754,"body_markdown":"You&#39;re welcome, have a good day ahead.","body":"You&#39;re welcome, have a good day ahead."}],"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667100287,"creation_date":1667099110,"answer_id":74250252,"question_id":74250211,"body_markdown":"It should be `hint`.\r\n\r\n```\r\nandroid:hint=&quot;Password&quot;\r\n```\r\n\r\nand not \r\n```\r\nandroid:text=&quot;Password&quot;\r\n```\r\nEdited:\r\nRemove this line \r\n```\r\nView fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n```\r\n\r\nonCreateView should only contain the binding root layout\r\n```\r\n@Override\r\n    public View onCreateView(\r\n            @NonNull LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n```\r\nThen you can access it on onViewCreated like\r\n\r\n```\r\nbinding.login_button.setOnClickListener(new View.OnClickListener() {\r\n     @Override\r\n     public void onClick(View view) {\r\n         String username = binding.username_box.getText().toString();\r\n     }\r\n\r\n}\r\n```\r\n","title":"Android Studio gettext not updating on click","body":"<p>It should be <code>hint</code>.</p>\n<pre><code>android:hint=&quot;Password&quot;\n</code></pre>\n<p>and not</p>\n<pre><code>android:text=&quot;Password&quot;\n</code></pre>\n<p>Edited:\nRemove this line</p>\n<pre><code>View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n</code></pre>\n<p>onCreateView should only contain the binding root layout</p>\n<pre><code>@Override\n    public View onCreateView(\n            @NonNull LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n</code></pre>\n<p>Then you can access it on onViewCreated like</p>\n<pre><code>binding.login_button.setOnClickListener(new View.OnClickListener() {\n     @Override\n     public void onClick(View view) {\n         String username = binding.username_box.getText().toString();\n     }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26773075,"reputation":13,"user_id":20369134,"display_name":"millerstuff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74250252,"answer_count":1,"score":1,"last_activity_date":1667100287,"creation_date":1667098329,"question_id":74250211,"body_markdown":"I am trying to make a login screen. When I get text from the textboxes on click however, the text doesn&#39;t update. Any ideas why? \r\n\r\n\r\n\r\n\r\n\r\nMy xml file for the first fragment: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#F8E00A&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textview_first&quot;\r\n        android:layout_width=&quot;186dp&quot;\r\n        android:layout_height=&quot;44dp&quot;\r\n        android:fontFamily=&quot;@font/alegreya_sc&quot;\r\n        android:text=&quot;Welcome&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@android:color/holo_blue_bright&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/login_button&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/login_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;login&quot;\r\n        android:text=&quot;Login&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_first&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/username_box&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;Name&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.421&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password_box&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:text=&quot;Password&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.535&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nand my first fragment java code: \r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\n\r\nimport com.example.myapplication.databinding.FragmentFirstBinding;\r\n\r\npublic class FirstFragment extends Fragment {\r\n\r\n    private FragmentFirstBinding binding;\r\n    EditText usernameT;\r\n    EditText passwordT;\r\n    @Override\r\n    public View onCreateView(\r\n            @NonNull LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\r\n        usernameT = (EditText) fragmentFirstLayout.findViewById(R.id.username_box);\r\n        passwordT = (EditText) fragmentFirstLayout.findViewById(R.id.password_box);\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        view.findViewById(R.id.login_button).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String username = usernameT.getText().toString();\r\n                String password = passwordT.getText().toString();\r\n                Log.d(&quot;debug&quot;, username);\r\n                Log.d(&quot;debug&quot;, password);\r\n                if (username.equals(&quot;Na&quot;) &amp;&amp; password.equals(&quot;Pa&quot;)) {\r\n                    NavHostFragment.findNavController(FirstFragment.this)\r\n                            .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n                } else {\r\n                    Toast myToast = Toast.makeText(getActivity(), &quot;Wrong Username or Password&quot;, Toast.LENGTH_SHORT);\r\n                    myToast.show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nAs you can see I am printing to log the username and password everytime I click the button. However, even when I change the text, &quot;Name&quot; and &quot;Password&quot; are still being printed out. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Es05V.png)](https://i.stack.imgur.com/Es05V.png)\r\n","title":"Android Studio gettext not updating on click","body":"<p>I am trying to make a login screen. When I get text from the textboxes on click however, the text doesn't update. Any ideas why?</p>\n<p>My xml file for the first fragment:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#F8E00A&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textview_first&quot;\n        android:layout_width=&quot;186dp&quot;\n        android:layout_height=&quot;44dp&quot;\n        android:fontFamily=&quot;@font/alegreya_sc&quot;\n        android:text=&quot;Welcome&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@android:color/holo_blue_bright&quot;\n        android:textSize=&quot;30sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/login_button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/login_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;login&quot;\n        android:text=&quot;Login&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/textview_first&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/username_box&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Name&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.421&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password_box&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:text=&quot;Password&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.535&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and my first fragment java code:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.myapplication.databinding.FragmentFirstBinding;\n\npublic class FirstFragment extends Fragment {\n\n    private FragmentFirstBinding binding;\n    EditText usernameT;\n    EditText passwordT;\n    @Override\n    public View onCreateView(\n            @NonNull LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        View fragmentFirstLayout = inflater.inflate(R.layout.fragment_first, container, false);\n        usernameT = (EditText) fragmentFirstLayout.findViewById(R.id.username_box);\n        passwordT = (EditText) fragmentFirstLayout.findViewById(R.id.password_box);\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        view.findViewById(R.id.login_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String username = usernameT.getText().toString();\n                String password = passwordT.getText().toString();\n                Log.d(&quot;debug&quot;, username);\n                Log.d(&quot;debug&quot;, password);\n                if (username.equals(&quot;Na&quot;) &amp;&amp; password.equals(&quot;Pa&quot;)) {\n                    NavHostFragment.findNavController(FirstFragment.this)\n                            .navigate(R.id.action_FirstFragment_to_SecondFragment);\n                } else {\n                    Toast myToast = Toast.makeText(getActivity(), &quot;Wrong Username or Password&quot;, Toast.LENGTH_SHORT);\n                    myToast.show();\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n\n\n}\n</code></pre>\n<p>As you can see I am printing to log the username and password everytime I click the button. However, even when I change the text, &quot;Name&quot; and &quot;Password&quot; are still being printed out.</p>\n<p><a href=\"https://i.stack.imgur.com/Es05V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Es05V.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","heroku"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1654761469,"post_id":72551877,"comment_id":128170207,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72551877/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17150828,"reputation":1,"user_id":12412795,"display_name":"Servet Ak&#231;adağ"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654720323,"creation_date":1654720323,"answer_id":72551877,"question_id":70873130,"body_markdown":"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html\r\n\r\n\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p><a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html</a></p>\n<p>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</p>\n"},{"tags":[],"owner":{"account_id":11631039,"reputation":1,"user_id":8519201,"display_name":"Chandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667100216,"creation_date":1667100216,"answer_id":74250307,"question_id":70873130,"body_markdown":"jakarta servlet is supported only in tomcat 10 version.\r\n\r\nMore so Heroku supports webapp-runner for tomcat 9.0.68.0, as of Oct 2022.\r\n\r\nSo the error.\r\n\r\nEven if you deploy with 9.0.68.0, the code will fail for want of jakarta servlet.","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p>jakarta servlet is supported only in tomcat 10 version.</p>\n<p>More so Heroku supports webapp-runner for tomcat 9.0.68.0, as of Oct 2022.</p>\n<p>So the error.</p>\n<p>Even if you deploy with 9.0.68.0, the code will fail for want of jakarta servlet.</p>\n"}],"owner":{"account_id":24067210,"reputation":1,"user_id":18043579,"display_name":"Martin Iriarte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667100216,"creation_date":1643255639,"question_id":70873130,"body_markdown":"I am trying to deploy my webapp in java with heroku, I implement this simple example: \r\n\r\n \r\n\r\n    package launch;\r\n\r\n    import java.io.File;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import org.apache.catalina.WebResourceRoot;\r\n    import org.apache.catalina.WebResourceSet;\r\n    import org.apache.catalina.core.StandardContext;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.apache.catalina.webresources.DirResourceSet;\r\n    import org.apache.catalina.webresources.EmptyResourceSet;\r\n    import org.apache.catalina.webresources.StandardRoot;\r\n\r\n    public class Main {\r\n\r\n    private static File getRootFolder() {\r\n        try {\r\n            File root;\r\n            String runningJarPath = Main.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n            int lastIndexOf = runningJarPath.lastIndexOf(&quot;/target/&quot;);\r\n            if (lastIndexOf &lt; 0) {\r\n                root = new File(&quot;&quot;);\r\n            } else {\r\n                root = new File(runningJarPath.substring(0, lastIndexOf));\r\n            }\r\n            System.out.println(&quot;application resolved root folder: &quot; + root.getAbsolutePath());\r\n            return root;\r\n        } catch (URISyntaxException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        File root = getRootFolder();\r\n        System.setProperty(&quot;org.apache.catalina.startup.EXIT_ON_INIT_FAILURE&quot;, &quot;true&quot;);\r\n        Tomcat tomcat = new Tomcat();\r\n        Path tempPath = Files.createTempDirectory(&quot;tomcat-base-dir&quot;);\r\n        tomcat.setBaseDir(tempPath.toString());\r\n\r\n        //The port that we should run on can be set into an environment variable\r\n        //Look for that variable and default to 8080 if it isn&#39;t there.\r\n        String webPort = System.getenv(&quot;PORT&quot;);\r\n        if (webPort == null || webPort.isEmpty()) {\r\n            webPort = &quot;8080&quot;;\r\n        }\r\n\r\n        tomcat.setPort(Integer.valueOf(webPort));\r\n        File webContentFolder = new File(root.getAbsolutePath(), &quot;src/main/webapp/&quot;);\r\n        if (!webContentFolder.exists()) {\r\n            webContentFolder = Files.createTempDirectory(&quot;default-doc-base&quot;).toFile();\r\n        }\r\n        StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, webContentFolder.getAbsolutePath());\r\n        //Set execution independent of current thread context classloader (compatibility with exec:java mojo)\r\n        ctx.setParentClassLoader(Main.class.getClassLoader());\r\n\r\n        System.out.println(&quot;configuring app with basedir: &quot; + webContentFolder.getAbsolutePath());\r\n\r\n        // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\r\n        // Servlet 3.0 annotation will work\r\n        File additionWebInfClassesFolder = new File(root.getAbsolutePath(), &quot;target/classes&quot;);\r\n        WebResourceRoot resources = new StandardRoot(ctx);\r\n\r\n        WebResourceSet resourceSet;\r\n        if (additionWebInfClassesFolder.exists()) {\r\n            resourceSet = new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, additionWebInfClassesFolder.getAbsolutePath(), &quot;/&quot;);\r\n            System.out.println(&quot;loading WEB-INF resources from as &#39;&quot; + additionWebInfClassesFolder.getAbsolutePath() + &quot;&#39;&quot;);\r\n        } else {\r\n            resourceSet = new EmptyResourceSet(resources);\r\n        }\r\n        resources.addPreResources(resourceSet);\r\n        ctx.setResources(resources);\r\n\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n    }\r\n}\r\n\r\n\r\nand my jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;Hola Mundo!&lt;/h2&gt;\r\n\r\n    &lt;a href=&quot;/hello&quot;&gt;pincha aca&lt;/a&gt;\r\n\r\n    &lt;c:if test=&quot;${true}&quot;&gt;\r\n\t&lt;h3&gt;Hola&lt;/h3&gt;\r\n    &lt;/c:if&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nwhen I include the jstl in my project after doing the deploy it throws this exception: \r\n\r\n[java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0kpdi.png\r\n\r\nmy pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;tomcat.version&gt;8.5.38&lt;/tomcat.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\r\n\t\t\t\t\t&lt;programs&gt;\r\n\t\t\t\t\t\t&lt;program&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;webapp&lt;/name&gt;\r\n\t\t\t\t\t\t&lt;/program&gt;\r\n\t\t\t\t\t&lt;/programs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;assemble&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nand my Procfile\r\n\r\n    web: sh target/bin/webapp\r\n\r\n\r\nI tried everything but nothing worked. Please help.\r\n\r\n","title":"Error deploying with heroku java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator","body":"<p>I am trying to deploy my webapp in java with heroku, I implement this simple example:</p>\n<pre><code>package launch;\n\nimport java.io.File;\nimport java.net.URISyntaxException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport org.apache.catalina.WebResourceRoot;\nimport org.apache.catalina.WebResourceSet;\nimport org.apache.catalina.core.StandardContext;\nimport org.apache.catalina.startup.Tomcat;\nimport org.apache.catalina.webresources.DirResourceSet;\nimport org.apache.catalina.webresources.EmptyResourceSet;\nimport org.apache.catalina.webresources.StandardRoot;\n\npublic class Main {\n\nprivate static File getRootFolder() {\n    try {\n        File root;\n        String runningJarPath = Main.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\n        int lastIndexOf = runningJarPath.lastIndexOf(&quot;/target/&quot;);\n        if (lastIndexOf &lt; 0) {\n            root = new File(&quot;&quot;);\n        } else {\n            root = new File(runningJarPath.substring(0, lastIndexOf));\n        }\n        System.out.println(&quot;application resolved root folder: &quot; + root.getAbsolutePath());\n        return root;\n    } catch (URISyntaxException ex) {\n        throw new RuntimeException(ex);\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n\n    File root = getRootFolder();\n    System.setProperty(&quot;org.apache.catalina.startup.EXIT_ON_INIT_FAILURE&quot;, &quot;true&quot;);\n    Tomcat tomcat = new Tomcat();\n    Path tempPath = Files.createTempDirectory(&quot;tomcat-base-dir&quot;);\n    tomcat.setBaseDir(tempPath.toString());\n\n    //The port that we should run on can be set into an environment variable\n    //Look for that variable and default to 8080 if it isn't there.\n    String webPort = System.getenv(&quot;PORT&quot;);\n    if (webPort == null || webPort.isEmpty()) {\n        webPort = &quot;8080&quot;;\n    }\n\n    tomcat.setPort(Integer.valueOf(webPort));\n    File webContentFolder = new File(root.getAbsolutePath(), &quot;src/main/webapp/&quot;);\n    if (!webContentFolder.exists()) {\n        webContentFolder = Files.createTempDirectory(&quot;default-doc-base&quot;).toFile();\n    }\n    StandardContext ctx = (StandardContext) tomcat.addWebapp(&quot;&quot;, webContentFolder.getAbsolutePath());\n    //Set execution independent of current thread context classloader (compatibility with exec:java mojo)\n    ctx.setParentClassLoader(Main.class.getClassLoader());\n\n    System.out.println(&quot;configuring app with basedir: &quot; + webContentFolder.getAbsolutePath());\n\n    // Declare an alternative location for your &quot;WEB-INF/classes&quot; dir\n    // Servlet 3.0 annotation will work\n    File additionWebInfClassesFolder = new File(root.getAbsolutePath(), &quot;target/classes&quot;);\n    WebResourceRoot resources = new StandardRoot(ctx);\n\n    WebResourceSet resourceSet;\n    if (additionWebInfClassesFolder.exists()) {\n        resourceSet = new DirResourceSet(resources, &quot;/WEB-INF/classes&quot;, additionWebInfClassesFolder.getAbsolutePath(), &quot;/&quot;);\n        System.out.println(&quot;loading WEB-INF resources from as '&quot; + additionWebInfClassesFolder.getAbsolutePath() + &quot;'&quot;);\n    } else {\n        resourceSet = new EmptyResourceSet(resources);\n    }\n    resources.addPreResources(resourceSet);\n    ctx.setResources(resources);\n\n    tomcat.start();\n    tomcat.getServer().await();\n}\n</code></pre>\n<p>}</p>\n<p>and my jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\npageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;h2&gt;Hola Mundo!&lt;/h2&gt;\n\n&lt;a href=&quot;/hello&quot;&gt;pincha aca&lt;/a&gt;\n\n&lt;c:if test=&quot;${true}&quot;&gt;\n&lt;h3&gt;Hola&lt;/h3&gt;\n&lt;/c:if&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>when I include the jstl in my project after doing the deploy it throws this exception:</p>\n<p><a href=\"https://i.stack.imgur.com/0kpdi.png\" rel=\"nofollow noreferrer\">java.lang.NoClassDefFoundError: jakarta/servlet/jsp/tagext/TagLibraryValidator</a></p>\n<p>my pom</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.heroku.sample&lt;/groupId&gt;\n&lt;artifactId&gt;embeddedTomcatSample&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;embeddedTomcatSample Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;properties&gt;\n    &lt;tomcat.version&gt;8.5.38&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;embeddedTomcatSample&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;assembleDirectory&gt;target&lt;/assembleDirectory&gt;\n                &lt;programs&gt;\n                    &lt;program&gt;\n                        &lt;mainClass&gt;launch.Main&lt;/mainClass&gt;\n                        &lt;name&gt;webapp&lt;/name&gt;\n                    &lt;/program&gt;\n                &lt;/programs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;assemble&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and my Procfile</p>\n<pre><code>web: sh target/bin/webapp\n</code></pre>\n<p>I tried everything but nothing worked. Please help.</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666953272,"post_id":74233995,"comment_id":131061701,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6952202,"reputation":3306,"user_id":5334486,"display_name":"GrafiCode"},"score":0,"creation_date":1666953299,"post_id":74233995,"comment_id":131061717,"body_markdown":"that&#39;s not javascript, looks more like Java","body":"that&#39;s not javascript, looks more like Java"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666996193,"post_id":74233995,"comment_id":131074514,"body_markdown":"What is the type of `recipeItems`? `List&lt;Predicate&gt;`? Also, why is it validating the first element there against the second item in `pContainer`? I understand what the code is doing, but it would help to know **why** it has to do it that way (or what is supposed to be doing).","body":"What is the type of <code>recipeItems</code>? <code>List&lt;Predicate&gt;</code>? Also, why is it validating the first element there against the second item in <code>pContainer</code>? I understand what the code is doing, but it would help to know <b>why</b> it has to do it that way (or what is supposed to be doing)."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1666996258,"post_id":74233995,"comment_id":131074525,"body_markdown":"What &quot;input slots&quot; are you talking about? It sounds like you&#39;re using some kind of library/framework/tool that has those, but you don&#39;t mention what it is. (Edit: apparently [it&#39;s Minecraft](https://forums.minecraftforge.net/topic/117772-how-to-make-a-multiple-input-block-entity/), would have helped if you had mentioned that, Nathan!)","body":"What &quot;input slots&quot; are you talking about? It sounds like you&#39;re using some kind of library/framework/tool that has those, but you don&#39;t mention what it is. (Edit: apparently <a href=\"https://forums.minecraftforge.net/topic/117772-how-to-make-a-multiple-input-block-entity/\" rel=\"nofollow noreferrer\">it&#39;s Minecraft</a>, would have helped if you had mentioned that, Nathan!)"},{"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"score":0,"creation_date":1666997265,"post_id":74233995,"comment_id":131074689,"body_markdown":"Oh my goodness, how did I not provide information that simple? I am so sorry!","body":"Oh my goodness, how did I not provide information that simple? I am so sorry!"},{"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"score":0,"creation_date":1666997436,"post_id":74233995,"comment_id":131074722,"body_markdown":"I have updated the post. I deeply apologize for that; hope this provides enough information!","body":"I have updated the post. I deeply apologize for that; hope this provides enough information!"}],"owner":{"account_id":22933397,"reputation":1,"user_id":20357322,"display_name":"321Nathango"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667099792,"creation_date":1666952707,"question_id":74233995,"body_markdown":"I am coding a minecraft mod and I have recently been trying to make a custom block entity. My problem is relatively simple; how would I make a block entity that has multiple input slots? I have everything else done, I am just not sure how to get the public boolean matches to work.\r\n\r\n    public class AltarOfEssenceRecipe implements Recipe&lt;SimpleContainer&gt; {\r\n    private final ResourceLocation id;\r\n    private final ItemStack output;\r\n    private final NonNullList&lt;Ingredient&gt; recipeItems;\r\n\r\n    public AltarOfEssenceRecipe(ResourceLocation id, ItemStack output,\r\n                                NonNullList&lt;Ingredient&gt; recipeItems) {\r\n        this.id = id;\r\n        this.output = output;\r\n        this.recipeItems = recipeItems;\r\n    }\r\n\r\n  \r\n     @Override\r\n    public boolean matches(SimpleContainer pContainer, Level pLevel) {\r\n        if(pLevel.isClientSide()) {\r\n            return false;\r\n        }\r\n\r\n        return recipeItems.get(0).test(pContainer.getItem(1));\r\n    }\r\n\r\n\r\nI understand that the current code above is for when there is only one input slot, but mine has four. How could I approach this?\r\n\r\nThe code above is only for one slot, which obviously will not work with my four-input block entity.\r\n","title":"How to make a multiple input block entity?","body":"<p>I am coding a minecraft mod and I have recently been trying to make a custom block entity. My problem is relatively simple; how would I make a block entity that has multiple input slots? I have everything else done, I am just not sure how to get the public boolean matches to work.</p>\n<pre><code>public class AltarOfEssenceRecipe implements Recipe&lt;SimpleContainer&gt; {\nprivate final ResourceLocation id;\nprivate final ItemStack output;\nprivate final NonNullList&lt;Ingredient&gt; recipeItems;\n\npublic AltarOfEssenceRecipe(ResourceLocation id, ItemStack output,\n                            NonNullList&lt;Ingredient&gt; recipeItems) {\n    this.id = id;\n    this.output = output;\n    this.recipeItems = recipeItems;\n}\n\n\n @Override\npublic boolean matches(SimpleContainer pContainer, Level pLevel) {\n    if(pLevel.isClientSide()) {\n        return false;\n    }\n\n    return recipeItems.get(0).test(pContainer.getItem(1));\n}\n</code></pre>\n<p>I understand that the current code above is for when there is only one input slot, but mine has four. How could I approach this?</p>\n<p>The code above is only for one slot, which obviously will not work with my four-input block entity.</p>\n"},{"tags":["java","linux","ubuntu","awt"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1611408173,"post_id":65852545,"comment_id":116444323,"body_markdown":"Does this answer your question? [Open a path with Desktop.open() from java on ubuntu (linux)](https://stackoverflow.com/questions/9692331/open-a-path-with-desktop-open-from-java-on-ubuntu-linux)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9692331/open-a-path-with-desktop-open-from-java-on-ubuntu-linux\">Open a path with Desktop.open() from java on ubuntu (linux)</a>"},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611417192,"post_id":65852545,"comment_id":116446935,"body_markdown":"@DuncG it does not. The issue you linked is about path problems and they have clear exception. I do not get any exception, the program is just stuck.","body":"@DuncG it does not. The issue you linked is about path problems and they have clear exception. I do not get any exception, the program is just stuck."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1611418476,"post_id":65852545,"comment_id":116447272,"body_markdown":"Do you use JavaFX too? There have been issues in this area https://bugs.openjdk.java.net/browse/JDK-8195086","body":"Do you use JavaFX too? There have been issues in this area <a href=\"https://bugs.openjdk.java.net/browse/JDK-8195086\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8195086</a>"},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611426945,"post_id":65852545,"comment_id":116449907,"body_markdown":"This is actually exactly whats happening, but it is resolved in JDK 8 it seems, but I am using open jdk 13 and I am experiencing this problem, which is weird then.","body":"This is actually exactly whats happening, but it is resolved in JDK 8 it seems, but I am using open jdk 13 and I am experiencing this problem, which is weird then."},{"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"score":0,"creation_date":1611429461,"post_id":65852545,"comment_id":116450643,"body_markdown":"@DuncG okay I went through a relative issue to the one you linked and there one comment helped... posting that as an answer now. Thank you!","body":"@DuncG okay I went through a relative issue to the one you linked and there one comment helped... posting that as an answer now. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611429545,"creation_date":1611429545,"answer_id":65863422,"question_id":65852545,"body_markdown":"From [here][1]:\r\n\r\nIn order to use the API, you have to call java.awt.EventQueue.invokeLater() and call methods of the Desktop class from a runnable passed to the invokeLater():\r\n\r\n    void fxEventHandler() {\r\n       EQ.invokeLater(() -&gt; {\r\n          Desktop.open(...);\r\n       });\r\n    }\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8096706?focusedCommentId=13785982&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13785982","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>From <a href=\"https://bugs.openjdk.java.net/browse/JDK-8096706?focusedCommentId=13785982&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-13785982\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p>In order to use the API, you have to call java.awt.EventQueue.invokeLater() and call methods of the Desktop class from a runnable passed to the invokeLater():</p>\n<pre><code>void fxEventHandler() {\n   EQ.invokeLater(() -&gt; {\n      Desktop.open(...);\n   });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14172002,"reputation":11,"user_id":10238328,"display_name":"mynor peralta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667099416,"creation_date":1667099261,"answer_id":74250262,"question_id":65852545,"body_markdown":"I am just going to add an example function\r\n\r\n        private static void OpenFile(String filePath){\r\n                try\r\n                {\r\n                    //constructor of file class having file as argument\r\n                    File file = new File(filePath);\r\n                    if(!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not\r\n                    {\r\n                        System.out.println(&quot;not supported&quot;);\r\n                        return;\r\n                    }\r\n                    Desktop desktop = Desktop.getDesktop();\r\n                    if(file.exists()) {         //checks file exists or not\r\n                        EventQueue.invokeLater(() -&gt; {\r\n                            try {\r\n                                desktop.open(file);\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                catch(Exception e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n        }","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>I am just going to add an example function</p>\n<pre><code>    private static void OpenFile(String filePath){\n            try\n            {\n                //constructor of file class having file as argument\n                File file = new File(filePath);\n                if(!Desktop.isDesktopSupported())//check if Desktop is supported by Platform or not\n                {\n                    System.out.println(&quot;not supported&quot;);\n                    return;\n                }\n                Desktop desktop = Desktop.getDesktop();\n                if(file.exists()) {         //checks file exists or not\n                    EventQueue.invokeLater(() -&gt; {\n                        try {\n                            desktop.open(file);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    });\n                }\n            }\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":5497323,"reputation":566,"user_id":4367966,"accept_rate":89,"display_name":"stove"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65863422,"answer_count":2,"score":1,"last_activity_date":1667099416,"creation_date":1611348427,"question_id":65852545,"body_markdown":"I have a Java application, and when I use java.awt.Desktop:\r\n\r\n```java\r\nDesktop.getDesktop().open(file);\r\n```\r\n\r\nIt works fine on Windows (opens a file in my default program), but on Ubuntu (with openJdk 13), the Java application gets stuck and I do not even get any log error or anything. I have to force quit the app in order to recover.\r\n\r\nThe file path it correct, otherwise I would actually get an Exception. Also, `isDesktopSupported` a `isSupported(Action.OPEN)` returns `true`.\r\n\r\nWhat can I do? Can I check some system settings or logs? Or perhaps get some logs from `java.awt.Desktop`? Or does this not work on Ubuntu/Linux? \r\n\r\nAre there any alternatives?","title":"Desktop.getDesktop().open(file) on Ubuntu not working","body":"<p>I have a Java application, and when I use java.awt.Desktop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Desktop.getDesktop().open(file);\n</code></pre>\n<p>It works fine on Windows (opens a file in my default program), but on Ubuntu (with openJdk 13), the Java application gets stuck and I do not even get any log error or anything. I have to force quit the app in order to recover.</p>\n<p>The file path it correct, otherwise I would actually get an Exception. Also, <code>isDesktopSupported</code> a <code>isSupported(Action.OPEN)</code> returns <code>true</code>.</p>\n<p>What can I do? Can I check some system settings or logs? Or perhaps get some logs from <code>java.awt.Desktop</code>? Or does this not work on Ubuntu/Linux?</p>\n<p>Are there any alternatives?</p>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"score":0,"creation_date":1667095563,"post_id":74175629,"comment_id":131089102,"body_markdown":"In output I got &quot;Number of sessions: 1&quot; for each WS client.","body":"In output I got &quot;Number of sessions: 1&quot; for each WS client."}],"answers":[{"comments":[{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1683805771,"post_id":74250220,"comment_id":134424573,"body_markdown":"As far as I understood ,onMessage function is triggered when client sends a message. How  can a server broadcasts data, without being triggered by a client, to all open sessions?","body":"As far as I understood ,onMessage function is triggered when client sends a message. How  can a server broadcasts data, without being triggered by a client, to all open sessions?"}],"tags":[],"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667098518,"creation_date":1667098518,"answer_id":74250220,"question_id":74175629,"body_markdown":"Broadcast in WebLogic was successfully done with following code:\r\n\r\n    @OnMessage\r\n    public void onMessage(String message, Session session) throws IOException {\r\n        for (Session sess : session.getOpenSessions()) {\r\n            sess.getBasicRemote().sendText(&quot;Echo: &quot; + message);\r\n        }\r\n    }","title":"Broadcast message in WebSocket (Java)","body":"<p>Broadcast in WebLogic was successfully done with following code:</p>\n<pre><code>@OnMessage\npublic void onMessage(String message, Session session) throws IOException {\n    for (Session sess : session.getOpenSessions()) {\n        sess.getBasicRemote().sendText(&quot;Echo: &quot; + message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7242886,"reputation":169,"user_id":5525885,"display_name":"BrilliantContract"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74250220,"answer_count":1,"score":1,"last_activity_date":1667098518,"creation_date":1666570201,"question_id":74175629,"body_markdown":"WS Server code:\r\n\r\n    import java.io.IOException;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.ejb.Local;\r\n    import javax.websocket.*;\r\n    import javax.websocket.server.ServerEndpoint;\r\n    \r\n    @ServerEndpoint(value = &quot;/websockets/broadcast-server&quot;)\r\n    @Local\r\n    public class BroadcastServer {\r\n    \r\n        private static final Logger LOGGER = Logger.getLogger(BroadcastServer.class.getName());\r\n        private final Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\r\n    \r\n        @OnMessage\r\n        public String onMessage(String message, Session session) throws IOException {\r\n            LOGGER.log(Level.INFO, &quot;Received message: {0}&quot;, message);\r\n            \r\n            broadcastMessage(&quot;!!!BROADCAST!!! &quot; + message);\r\n            \r\n            return &quot;Echo: &quot; + message;\r\n        }\r\n    \r\n        @OnOpen\r\n        public void onOpen(Session session) throws IOException {\r\n            session.getBasicRemote().sendText(&quot;* The session is open.&quot;);\r\n            LOGGER.info(&quot;The session is open.&quot;);\r\n            this.sessions.add(session);\r\n        }\r\n    \r\n        @OnClose\r\n        public void onClose(Session session) throws IOException {\r\n            LOGGER.info(&quot;The session is close.&quot;);\r\n            this.sessions.remove(session);\r\n        }\r\n    \r\n        @OnError\r\n        public void onError(Session session, Throwable error) throws Exception {\r\n            session.getBasicRemote().sendText(&quot;* Error happen. &quot; + error.getMessage());\r\n            LOGGER.warning(&quot;Error happen. &quot; + error.getMessage());\r\n        }\r\n    \r\n        public void broadcastMessage(String message) throws IOException {\r\n            LOGGER.info(&quot;Number of sessions: &quot; + this.sessions.size());\r\n            \r\n            for (Session session : this.sessions) {\r\n                session.getBasicRemote().sendText(message);\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nUnit test/WS client code:\r\n\r\n    public class BroadcastClientTest {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            BroadcastClient client = new BroadcastClient();\r\n            client.connect(URI.create(&quot;ws://localhost:7001/ee-ejb/websockets/broadcast-server&quot;));\r\n    \r\n            client.send(&quot;Hello World!&quot;);\r\n            \r\n            Thread.sleep(Integer.MAX_VALUE);\r\n        }\r\n    \r\n    }\r\n\r\nIf I run a few instances of above Unit test then each client sends a single message to the server and receive a single response.\r\n\r\nBut I expect to receive more messages because every message should be broadcasted to all clients.\r\n\r\nIt feels like for each client WebLogic creates separate WS server instance.\r\n\r\nHow to broadcast a message?","title":"Broadcast message in WebSocket (Java)","body":"<p>WS Server code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.ejb.Local;\nimport javax.websocket.*;\nimport javax.websocket.server.ServerEndpoint;\n\n@ServerEndpoint(value = &quot;/websockets/broadcast-server&quot;)\n@Local\npublic class BroadcastServer {\n\n    private static final Logger LOGGER = Logger.getLogger(BroadcastServer.class.getName());\n    private final Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\n\n    @OnMessage\n    public String onMessage(String message, Session session) throws IOException {\n        LOGGER.log(Level.INFO, &quot;Received message: {0}&quot;, message);\n        \n        broadcastMessage(&quot;!!!BROADCAST!!! &quot; + message);\n        \n        return &quot;Echo: &quot; + message;\n    }\n\n    @OnOpen\n    public void onOpen(Session session) throws IOException {\n        session.getBasicRemote().sendText(&quot;* The session is open.&quot;);\n        LOGGER.info(&quot;The session is open.&quot;);\n        this.sessions.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session) throws IOException {\n        LOGGER.info(&quot;The session is close.&quot;);\n        this.sessions.remove(session);\n    }\n\n    @OnError\n    public void onError(Session session, Throwable error) throws Exception {\n        session.getBasicRemote().sendText(&quot;* Error happen. &quot; + error.getMessage());\n        LOGGER.warning(&quot;Error happen. &quot; + error.getMessage());\n    }\n\n    public void broadcastMessage(String message) throws IOException {\n        LOGGER.info(&quot;Number of sessions: &quot; + this.sessions.size());\n        \n        for (Session session : this.sessions) {\n            session.getBasicRemote().sendText(message);\n        }\n    }\n    \n}\n</code></pre>\n<p>Unit test/WS client code:</p>\n<pre><code>public class BroadcastClientTest {\n\n    @Test\n    public void test() throws Exception {\n        BroadcastClient client = new BroadcastClient();\n        client.connect(URI.create(&quot;ws://localhost:7001/ee-ejb/websockets/broadcast-server&quot;));\n\n        client.send(&quot;Hello World!&quot;);\n        \n        Thread.sleep(Integer.MAX_VALUE);\n    }\n\n}\n</code></pre>\n<p>If I run a few instances of above Unit test then each client sends a single message to the server and receive a single response.</p>\n<p>But I expect to receive more messages because every message should be broadcasted to all clients.</p>\n<p>It feels like for each client WebLogic creates separate WS server instance.</p>\n<p>How to broadcast a message?</p>\n"},{"tags":["java","ant","junit","timeout","junit4"],"answers":[{"comments":[{"owner":{"account_id":55217,"reputation":8498,"user_id":165292,"display_name":"avandeursen"},"score":0,"creation_date":1325864381,"post_id":8744090,"comment_id":10916970,"body_markdown":"The Timeout `@Rule` is nice. Pity you can&#39;t do this on a `@Suite`. Or can you?","body":"The Timeout <code>@Rule</code> is nice. Pity you can&#39;t do this on a <code>@Suite</code>. Or can you?"},{"owner":{"account_id":525472,"reputation":5585,"user_id":1132278,"accept_rate":46,"display_name":"Jun-Dai Bates-Kobashigawa"},"score":0,"creation_date":1326236291,"post_id":8744090,"comment_id":10996680,"body_markdown":"Hmm.  Rather than adding @Rule to every class, I wonder if there&#39;s a relatively easy way to add it to all the classes at runtime?","body":"Hmm.  Rather than adding @Rule to every class, I wonder if there&#39;s a relatively easy way to add it to all the classes at runtime?"},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1351550295,"post_id":8744090,"comment_id":17857111,"body_markdown":"@Jun-DaiBates-Kobashigawa - You can use a custom test case base class as you used to do with Junit 3. Not ideal but a decent workaround.","body":"@Jun-DaiBates-Kobashigawa - You can use a custom test case base class as you used to do with Junit 3. Not ideal but a decent workaround."}],"tags":[],"owner":{"account_id":307227,"reputation":2105,"user_id":618407,"accept_rate":80,"display_name":"ftr"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1325773623,"creation_date":1325773623,"answer_id":8744090,"question_id":8743594,"body_markdown":"If you use JUnit 4 and `@Test`, you can specifiy the `timeout` parameter that will fail a tests that&#39;s taking longer than specified. Downside for that is that you&#39;d have to add it to every test method.\r\n\r\nA probably better alternative is the use of a `@Rule` with [`org.junit.rules.Timeout`](http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Timeout.html). With this, you can do it per class (or even in a shared super class).","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>If you use JUnit 4 and <code>@Test</code>, you can specifiy the <code>timeout</code> parameter that will fail a tests that's taking longer than specified. Downside for that is that you'd have to add it to every test method.</p>\n\n<p>A probably better alternative is the use of a <code>@Rule</code> with <a href=\"http://kentbeck.github.com/junit/javadoc/latest/org/junit/rules/Timeout.html\" rel=\"noreferrer\"><code>org.junit.rules.Timeout</code></a>. With this, you can do it per class (or even in a shared super class).</p>\n"},{"comments":[{"owner":{"account_id":525472,"reputation":5585,"user_id":1132278,"accept_rate":46,"display_name":"Jun-Dai Bates-Kobashigawa"},"score":0,"creation_date":1439765133,"post_id":32034936,"comment_id":51981881,"body_markdown":"Nice. I stopped using JUnit quite some time back. The last option looks good, although what I was looking for at the time was a way to timeout all tests run from Ant/Gradle globally so as to enforce, say, a 1 second timeout for every test in the project (essentially as a constraint for everyone working in this 400-person project to contend with).","body":"Nice. I stopped using JUnit quite some time back. The last option looks good, although what I was looking for at the time was a way to timeout all tests run from Ant/Gradle globally so as to enforce, say, a 1 second timeout for every test in the project (essentially as a constraint for everyone working in this 400-person project to contend with)."},{"owner":{"account_id":3867233,"reputation":41018,"user_id":3203487,"accept_rate":54,"display_name":"David Berry"},"score":0,"creation_date":1566243970,"post_id":32034936,"comment_id":101587721,"body_markdown":"If I use @Rule with espresso and Robolectric the tests fail with &#39;Can&#39;t create handler inside thread that has not called Looper.prepare()&#39;","body":"If I use @Rule with espresso and Robolectric the tests fail with &#39;Can&#39;t create handler inside thread that has not called Looper.prepare()&#39;"},{"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"score":0,"creation_date":1675885158,"post_id":32034936,"comment_id":133026412,"body_markdown":"To use this in Kotlin, see this answer: https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public","body":"To use this in Kotlin, see this answer: <a href=\"https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public\" title=\"kotlin and new activitytestrule the rule must be public\">stackoverflow.com/questions/29945087/&hellip;</a>"}],"tags":[],"owner":{"account_id":2314766,"reputation":13150,"user_id":2032064,"accept_rate":100,"display_name":"Mifeet"},"comment_count":3,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1634316170,"creation_date":1439727145,"answer_id":32034936,"question_id":8743594,"body_markdown":"Reviving an old question since the answer doesn&#39;t provide an example.\r\n\r\nYou can specify timeout \r\n\r\n1. Per test method:\r\n\r\n        @Test(timeout = 100) // Exception: test timed out after 100 milliseconds\r\n        public void test1() throws Exception {\r\n            Thread.sleep(200);\r\n        }\r\n\r\n2. For all methods in a test class using [`Timeout`][1] `@Rule`:\r\n\r\n        @Rule\r\n        public Timeout timeout = new Timeout(100);\r\n\r\n        @Test // Exception: test timed out after 100 milliseconds\r\n        public void methodTimeout() throws Exception {\r\n            Thread.sleep(200);\r\n        }\r\n\r\n        @Test\r\n        public void methodInTime() throws Exception {\r\n            Thread.sleep(50);\r\n        }\r\n\r\n3. Globally for the total time to run all test methods in the class using a static `Timeout` `@ClassRule`:\r\n\r\n        @ClassRule\r\n        public static Timeout classTimeout = new Timeout(200);\r\n\r\n        @Test\r\n        public void test1() throws Exception {\r\n            Thread.sleep(150);\r\n        }\r\n\r\n        @Test // InterruptedException: sleep interrupted\r\n        public void test2() throws Exception {\r\n            Thread.sleep(100);\r\n        }\r\n\r\n4. And even apply timeout (either `@Rule` or `@ClassRule`) to [all classes in your entire suite](https://stackoverflow.com/a/16633184/2032064):\r\n\r\n        @RunWith(Suite.class)\r\n        @SuiteClasses({ Test1.class, Test2.class})\r\n        public class SuiteWithTimeout {\r\n            @ClassRule\r\n            public static Timeout classTimeout = new Timeout(1000);\r\n\r\n            @Rule\r\n            public Timeout timeout = new Timeout(100);\r\n        }\r\n\r\n\r\nEDIT: \r\ntimeout was deprecated recently to utilize this initialization \r\n   \r\n    @Rule\r\n    public Timeout timeout = new Timeout(120000, TimeUnit.MILLISECONDS);\r\n\r\nYou should provide the Timeunit now, as this will provide more granularity to your code. \r\n\r\n[1]: https://junit.org/junit4/javadoc/4.12/org/junit/rules/Timeout.html","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>Reviving an old question since the answer doesn't provide an example.</p>\n<p>You can specify timeout</p>\n<ol>\n<li><p>Per test method:</p>\n<pre><code> @Test(timeout = 100) // Exception: test timed out after 100 milliseconds\n public void test1() throws Exception {\n     Thread.sleep(200);\n }\n</code></pre>\n</li>\n<li><p>For all methods in a test class using <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/Timeout.html\" rel=\"noreferrer\"><code>Timeout</code></a> <code>@Rule</code>:</p>\n<pre><code> @Rule\n public Timeout timeout = new Timeout(100);\n\n @Test // Exception: test timed out after 100 milliseconds\n public void methodTimeout() throws Exception {\n     Thread.sleep(200);\n }\n\n @Test\n public void methodInTime() throws Exception {\n     Thread.sleep(50);\n }\n</code></pre>\n</li>\n<li><p>Globally for the total time to run all test methods in the class using a static <code>Timeout</code> <code>@ClassRule</code>:</p>\n<pre><code> @ClassRule\n public static Timeout classTimeout = new Timeout(200);\n\n @Test\n public void test1() throws Exception {\n     Thread.sleep(150);\n }\n\n @Test // InterruptedException: sleep interrupted\n public void test2() throws Exception {\n     Thread.sleep(100);\n }\n</code></pre>\n</li>\n<li><p>And even apply timeout (either <code>@Rule</code> or <code>@ClassRule</code>) to <a href=\"https://stackoverflow.com/a/16633184/2032064\">all classes in your entire suite</a>:</p>\n<pre><code> @RunWith(Suite.class)\n @SuiteClasses({ Test1.class, Test2.class})\n public class SuiteWithTimeout {\n     @ClassRule\n     public static Timeout classTimeout = new Timeout(1000);\n\n     @Rule\n     public Timeout timeout = new Timeout(100);\n }\n</code></pre>\n</li>\n</ol>\n<p>EDIT:\ntimeout was deprecated recently to utilize this initialization</p>\n<pre><code>@Rule\npublic Timeout timeout = new Timeout(120000, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>You should provide the Timeunit now, as this will provide more granularity to your code.</p>\n"},{"tags":[],"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667095362,"creation_date":1667095362,"answer_id":74250044,"question_id":8743594,"body_markdown":"I know from the tags that this question was aimed at JUnit 4, but in JUnit 5 (Jupiter), the [mechanism has changed](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Timeout.html). \r\n\r\nFrom the [guide](https://junit.org/junit5/docs/current/user-guide/#writing-tests-declarative-timeouts):\r\n\r\n&gt; ```lang-java\r\n&gt;    @Test\r\n&gt;    @Timeout(value = 500, unit = TimeUnit.MILLISECONDS)\r\n&gt;    void failsIfExecutionTimeExceeds500Milliseconds() {\r\n&gt;        // fails if execution time exceeds 500 milliseconds\r\n&gt;    }\r\n&gt;```\r\n(The `unit` defaults to seconds, so you could just use `@Timeout(1)`.)\r\n\r\nIt&#39;s easy to apply once across a class:\r\n&gt; To apply the same timeout to all test methods within a test class and all of its @Nested classes, you can declare the @Timeout annotation at the class level.\r\n\r\nFor your purposes, you might even experiment with top-level configuration on your build jobs:\r\n&gt; &quot;junit.jupiter.execution.timeout.test.method.default&quot;  \r\n&gt;    Default timeout for @Test methods\r\n","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>I know from the tags that this question was aimed at JUnit 4, but in JUnit 5 (Jupiter), the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Timeout.html\" rel=\"nofollow noreferrer\">mechanism has changed</a>.</p>\n<p>From the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-declarative-timeouts\" rel=\"nofollow noreferrer\">guide</a>:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>   @Test\n   @Timeout(value = 500, unit = TimeUnit.MILLISECONDS)\n   void failsIfExecutionTimeExceeds500Milliseconds() {\n       // fails if execution time exceeds 500 milliseconds\n   }\n</code></pre>\n</blockquote>\n<p>(The <code>unit</code> defaults to seconds, so you could just use <code>@Timeout(1)</code>.)</p>\n<p>It's easy to apply once across a class:</p>\n<blockquote>\n<p>To apply the same timeout to all test methods within a test class and all of its @Nested classes, you can declare the @Timeout annotation at the class level.</p>\n</blockquote>\n<p>For your purposes, you might even experiment with top-level configuration on your build jobs:</p>\n<blockquote>\n<p>&quot;junit.jupiter.execution.timeout.test.method.default&quot;<br />\nDefault timeout for @Test methods</p>\n</blockquote>\n"}],"owner":{"account_id":525472,"reputation":5585,"user_id":1132278,"accept_rate":46,"display_name":"Jun-Dai Bates-Kobashigawa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17668,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":32034936,"answer_count":3,"score":26,"last_activity_date":1667095362,"creation_date":1325771285,"question_id":8743594,"body_markdown":"I want to fail the build if anyone writes a test that takes longer than 1 second to run, but if I run &lt;junit&gt; in perTest mode it takes much, much longer.\r\n\r\nI could probably write a custom task that parses the junit reports and fails the build based on that, but I was wondering if anyone knows or can think of a better option.","title":"What&#39;s the best way to set up a per-test or per-class timeout when using &lt;junit&gt; in perBatch forkmode?","body":"<p>I want to fail the build if anyone writes a test that takes longer than 1 second to run, but if I run  in perTest mode it takes much, much longer.</p>\n\n<p>I could probably write a custom task that parses the junit reports and fails the build based on that, but I was wondering if anyone knows or can think of a better option.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1444861916,"post_id":33136739,"comment_id":54084990,"body_markdown":"`this.grid = (Sprite[][]) new Object[numRows][numColumns];` -- You can&#39;t magically turn objects into sprites just by casting them.","body":"<code>this.grid = (Sprite[][]) new Object[numRows][numColumns];</code> -- You can&#39;t magically turn objects into sprites just by casting them."}],"answers":[{"comments":[{"owner":{"account_id":7123317,"reputation":51,"user_id":5447129,"display_name":"Mingyu Chen"},"score":0,"creation_date":1444933777,"post_id":33136787,"comment_id":54120664,"body_markdown":"Unfortunately we are required to have class ArrayGrid&lt;Sprite&gt;, is there another way to work this out?","body":"Unfortunately we are required to have class ArrayGrid&lt;Sprite&gt;, is there another way to work this out?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1444933832,"post_id":33136787,"comment_id":54120701,"body_markdown":"@Mingyu: You should ask whoever is making you do that *why* they would want to name a type parameter the same as a class.","body":"@Mingyu: You should ask whoever is making you do that <i>why</i> they would want to name a type parameter the same as a class."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1444862021,"creation_date":1444862021,"answer_id":33136787,"question_id":33136739,"body_markdown":"This is the problem:\r\n\r\n    public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt;\r\n\r\nThe way you&#39;ve declared the class, `Sprite` is the name of a type parameter. You&#39;ve made this a generic class, and I *suspect* you didn&#39;t mean to. Within that class, `Sprite` refers to the type parameter, not the type - so you could have an `ArrayGrid&lt;String&gt;` which implemented `Grid&lt;String&gt;`... at which point you&#39;d have a string array rather than a sprite array, so it&#39;s no wonder that `getSymbol()` wouldn&#39;t work, just as *one* symptom of the problem.\r\n\r\nI suspect you just wanted:\r\n\r\n    public class ArrayGrid implements Grid&lt;Sprite&gt;\r\n\r\nAt that point, `Sprite` really refers to the type. And that means you can avoid the code that wouldn&#39;t work around arrays, and instead just write:\r\n\r\n    this.grid = new Sprite[numRows][numColumns];\r\n\r\nThen there&#39;s no need to suppress the warnings :)","title":"The method *****is undefined for the type***** in Java","body":"<p>This is the problem:</p>\n\n<pre><code>public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt;\n</code></pre>\n\n<p>The way you've declared the class, <code>Sprite</code> is the name of a type parameter. You've made this a generic class, and I <em>suspect</em> you didn't mean to. Within that class, <code>Sprite</code> refers to the type parameter, not the type - so you could have an <code>ArrayGrid&lt;String&gt;</code> which implemented <code>Grid&lt;String&gt;</code>... at which point you'd have a string array rather than a sprite array, so it's no wonder that <code>getSymbol()</code> wouldn't work, just as <em>one</em> symptom of the problem.</p>\n\n<p>I suspect you just wanted:</p>\n\n<pre><code>public class ArrayGrid implements Grid&lt;Sprite&gt;\n</code></pre>\n\n<p>At that point, <code>Sprite</code> really refers to the type. And that means you can avoid the code that wouldn't work around arrays, and instead just write:</p>\n\n<pre><code>this.grid = new Sprite[numRows][numColumns];\n</code></pre>\n\n<p>Then there's no need to suppress the warnings :)</p>\n"}],"owner":{"account_id":7123317,"reputation":51,"user_id":5447129,"display_name":"Mingyu Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4714,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":33136787,"answer_count":1,"score":3,"last_activity_date":1667095226,"creation_date":1444861797,"question_id":33136739,"body_markdown":"I&#39;m trying to call a method from an abstract class Sprite in another package, but I got &quot;The method getSymbol() is undefined for the type Sprite&quot;\r\n\r\nHere&#39;s the code.\r\n\r\n    public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt; {\r\n\r\n      private int numRows;\r\n      private int numColumns;\r\n      private Sprite[][] grid;\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public ArrayGrid(int numRows, int numColumns) {\r\n        this.numRows = numRows;\r\n        this.numColumns = numColumns;\r\n        this.grid = (Sprite[][]) new Object[numRows][numColumns];\r\n      }\r\n\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      @Override\r\n      public boolean equals(Object other) {\r\n        if (this.getClass().equals(other.getClass())) {\r\n          if (this.numRows == ((ArrayGrid&lt;Sprite&gt;) other).numRows\r\n              &amp;&amp; this.numColumns == ((ArrayGrid&lt;Sprite&gt;) other).numColumns) {\r\n            for (int i = 0; i &lt; this.numRows; i++) {\r\n              for (int j = 0; j &lt; this.numColumns; j++) {\r\n                if (this.getCell(i, j).getSymbol() == ((ArrayGrid&lt;Sprite&gt;) other).getCell(i, j).getSymbol()) { // &lt;&lt;&lt;&lt;&lt; the error is here\r\n                  return true;\r\n                }\r\n              }\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n\r\n\r\nAnd here is the code from another package sprites\r\n\r\n    public abstract class Sprite {\r\n\r\n      protected char symbol;\r\n      protected int row;\r\n      protected int column;\r\n\r\n      public Sprite(char symbol, int row, int column) {\r\n        this.symbol = symbol;\r\n        this.row = row;\r\n        this.column = column;\r\n      }\r\n\r\n      public char getSymbol() {\r\n        return symbol;\r\n      }\r\n\r\nI guess the problem is that the method from an abstract class cannot be instantiated.\r\n\r\nBut I don&#39;t know how to fix it.\r\n","title":"The method *****is undefined for the type***** in Java","body":"<p>I'm trying to call a method from an abstract class Sprite in another package, but I got &quot;The method getSymbol() is undefined for the type Sprite&quot;</p>\n<p>Here's the code.</p>\n<pre><code>public class ArrayGrid&lt;Sprite&gt; implements Grid&lt;Sprite&gt; {\n\n  private int numRows;\n  private int numColumns;\n  private Sprite[][] grid;\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public ArrayGrid(int numRows, int numColumns) {\n    this.numRows = numRows;\n    this.numColumns = numColumns;\n    this.grid = (Sprite[][]) new Object[numRows][numColumns];\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  @Override\n  public boolean equals(Object other) {\n    if (this.getClass().equals(other.getClass())) {\n      if (this.numRows == ((ArrayGrid&lt;Sprite&gt;) other).numRows\n          &amp;&amp; this.numColumns == ((ArrayGrid&lt;Sprite&gt;) other).numColumns) {\n        for (int i = 0; i &lt; this.numRows; i++) {\n          for (int j = 0; j &lt; this.numColumns; j++) {\n            if (this.getCell(i, j).getSymbol() == ((ArrayGrid&lt;Sprite&gt;) other).getCell(i, j).getSymbol()) { // &lt;&lt;&lt;&lt;&lt; the error is here\n              return true;\n            }\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p>And here is the code from another package sprites</p>\n<pre><code>public abstract class Sprite {\n\n  protected char symbol;\n  protected int row;\n  protected int column;\n\n  public Sprite(char symbol, int row, int column) {\n    this.symbol = symbol;\n    this.row = row;\n    this.column = column;\n  }\n\n  public char getSymbol() {\n    return symbol;\n  }\n</code></pre>\n<p>I guess the problem is that the method from an abstract class cannot be instantiated.</p>\n<p>But I don't know how to fix it.</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667093028,"post_id":74249920,"comment_id":131088855,"body_markdown":"I recommend researching the topic &quot;mocking&quot;. A commonly used mocking framework in java is [mockito (`site.mockito.org`)](https://site.mockito.org/).","body":"I recommend researching the topic &quot;mocking&quot;. A commonly used mocking framework in java is <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito (<code>site.mockito.org</code>)</a>."}],"answers":[{"comments":[{"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"score":0,"creation_date":1667093671,"post_id":74249923,"comment_id":131088912,"body_markdown":"looks like Loader gets mocked after @BeforeAll :(. In that case I would need to use Mockito.Mock?","body":"looks like Loader gets mocked after @BeforeAll :(. In that case I would need to use Mockito.Mock?"},{"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"score":0,"creation_date":1667094675,"post_id":74249923,"comment_id":131089001,"body_markdown":"You should be able to create your Impl class anyway, what error are you receiving?","body":"You should be able to create your Impl class anyway, what error are you receiving?"}],"tags":[],"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667093222,"creation_date":1667092912,"answer_id":74249923,"question_id":74249920,"body_markdown":"If you want to test both the class and the loader you have to do an integration test, you are right, but for unit test you have to mock other classes (that you are going to test next or you have already tested in other unit tests)\r\n\r\nYou can mock the loader (you can use [mockito][1]) and create a new list containing the mock\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class MyServiceTests {\r\n\r\n        private MyService myService;\r\n\r\n        @Mock\r\n        private Loader loader;\r\n\r\n        @BeforeAll\r\n        void init() {\r\n            myService= new MyServiceImpl(List.of(loader));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://site.mockito.org/","title":"How to set up unit test for service with dependency?","body":"<p>If you want to test both the class and the loader you have to do an integration test, you are right, but for unit test you have to mock other classes (that you are going to test next or you have already tested in other unit tests)</p>\n<p>You can mock the loader (you can use <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">mockito</a>) and create a new list containing the mock</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MyServiceTests {\n\n    private MyService myService;\n\n    @Mock\n    private Loader loader;\n\n    @BeforeAll\n    void init() {\n        myService= new MyServiceImpl(List.of(loader));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249923,"answer_count":1,"score":0,"last_activity_date":1667093222,"creation_date":1667092640,"question_id":74249920,"body_markdown":"I have a service interface:\r\n\r\n    interface MyService\r\n    {\r\n        int getItem();\r\n    }\r\n\r\nand a implementation:\r\n\r\n    @Service\r\n    class MyServiceImpl : implements MyService {\r\n        public MyServiceImpl(List&lt;Loader&gt; loaders) {\r\n        }\r\n  \r\n        public int getItem() {\r\n           Loader loader = getTheLoader();\r\n           return loader.getItem();\r\n        }\r\n    }\r\n\r\nI want to unit test `MyServiceImpl`. There&#39;s more to it then just forwarding the `getItem()` call to the loader, so I&#39;d think I&#39;d want to test the actual class. I don&#39;t think I&#39;d want to test an actual loader, because that would be more of an integration test, yeah?\r\n\r\nSo, I&#39;m not sure if this is the right approach? To create a real instance of the Impl class and then create a real instance of the TestLoader?\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class MyServiceTests {\r\n    \r\n        private MyService myService;\r\n    \r\n        static class TestLoader implements Loader&lt;String, Object&gt; {\r\n           @Override\r\n           int getItem() {\r\n           }\r\n        }\r\n\r\n        @BeforeAll\r\n        void init() {\r\n            myService= new MyServiceImpl(List.of(new \r\n             TestLoader()));\r\n        }\r\n\r\nI do want to capture call counts to the TestLoader::getItem, etc.\r\n\r\nKinda seems like I need to create a mock loader instead of a real loader to capture the call counts?\r\n\r\nBut its not clear how I would mock a `Loader&lt;String, Object&gt;` and override the getItem() class. ","title":"How to set up unit test for service with dependency?","body":"<p>I have a service interface:</p>\n<pre><code>interface MyService\n{\n    int getItem();\n}\n</code></pre>\n<p>and a implementation:</p>\n<pre><code>@Service\nclass MyServiceImpl : implements MyService {\n    public MyServiceImpl(List&lt;Loader&gt; loaders) {\n    }\n\n    public int getItem() {\n       Loader loader = getTheLoader();\n       return loader.getItem();\n    }\n}\n</code></pre>\n<p>I want to unit test <code>MyServiceImpl</code>. There's more to it then just forwarding the <code>getItem()</code> call to the loader, so I'd think I'd want to test the actual class. I don't think I'd want to test an actual loader, because that would be more of an integration test, yeah?</p>\n<p>So, I'm not sure if this is the right approach? To create a real instance of the Impl class and then create a real instance of the TestLoader?</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MyServiceTests {\n\n    private MyService myService;\n\n    static class TestLoader implements Loader&lt;String, Object&gt; {\n       @Override\n       int getItem() {\n       }\n    }\n\n    @BeforeAll\n    void init() {\n        myService= new MyServiceImpl(List.of(new \n         TestLoader()));\n    }\n</code></pre>\n<p>I do want to capture call counts to the TestLoader::getItem, etc.</p>\n<p>Kinda seems like I need to create a mock loader instead of a real loader to capture the call counts?</p>\n<p>But its not clear how I would mock a <code>Loader&lt;String, Object&gt;</code> and override the getItem() class.</p>\n"},{"tags":["python","java","signature","public-key","ed25519"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666892125,"post_id":74223413,"comment_id":131048292,"body_markdown":"`token` is a concatenation of the hex encoded raw public key, the Base64 encoded message and the hex encoded signature, where `/` separates the key and message parts and `.` separates the message and signature parts. The error message indicates that (at least) the encoding of the key was not taken into account when separating. Please post your most recent Java code.","body":"<code>token</code> is a concatenation of the hex encoded raw public key, the Base64 encoded message and the hex encoded signature, where <code>&#47;</code> separates the key and message parts and <code>.</code> separates the message and signature parts. The error message indicates that (at least) the encoding of the key was not taken into account when separating. Please post your most recent Java code."}],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668013715,"post_id":74223489,"comment_id":131306618,"body_markdown":"Great! Hope it didn&#39;t take you 13 days of debugging ;)","body":"Great! Hope it didn&#39;t take you 13 days of debugging ;)"},{"owner":{"account_id":14961026,"reputation":15,"user_id":10800749,"display_name":"DanielC"},"score":0,"creation_date":1668037516,"post_id":74223489,"comment_id":131313362,"body_markdown":"lol no, just delayed response =]","body":"lol no, just delayed response =]"}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667092639,"creation_date":1666879779,"answer_id":74223489,"question_id":74223413,"body_markdown":"The public key encoded as hexadecimals, and then encoded using base64. To revert this incorrect way of encoding you&#39;d first need to decode the base64 and then decode the hexadecimals to bytes. To fix the python script instead, perform `base64.b64encode(public_key.to_bytes()` and remove the `public_key_string`.\r\n\r\nIt seems weird that the public key is base 64 &amp; hex encoded and why the signature is only hex encoded. It makes most sense to encode both using base64, if any textual output is required at all. Quite often text is used where binary could suffice just as well.","title":"load ed25519 public key with java","body":"<p>The public key encoded as hexadecimals, and then encoded using base64. To revert this incorrect way of encoding you'd first need to decode the base64 and then decode the hexadecimals to bytes. To fix the python script instead, perform <code>base64.b64encode(public_key.to_bytes()</code> and remove the <code>public_key_string</code>.</p>\n<p>It seems weird that the public key is base 64 &amp; hex encoded and why the signature is only hex encoded. It makes most sense to encode both using base64, if any textual output is required at all. Quite often text is used where binary could suffice just as well.</p>\n"}],"owner":{"account_id":14961026,"reputation":15,"user_id":10800749,"display_name":"DanielC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74223489,"answer_count":1,"score":0,"last_activity_date":1667092639,"creation_date":1666872463,"question_id":74223413,"body_markdown":"I have to read and load ed25519 public key for verifying signature in java, the token input pattern is:\r\n{public_key}/message.signature\r\nfor example:\r\n\r\n    6a3239269f93999baec60382189c718031ad22c4c807ff29417824132cf0aa2d/eyJpc3N1ZV9kYXRlIjogIjIwMjItMTAtMjMiLCAiZXhwaXJ5X2RhdGUiOiAiMjAyMi0xMS0yMyIsICJsaWNlbnNlX3R5cGUiOiAxLCAibGljZW5zZV9rZXkiOiAiOTczZTIxOWVlNDg5NDVlNmViMDhjYzQzM2QyYjBjMDUifQ==.122ff0664a54122c6929183a561bb211a4168801e5917f33b69231eea56205ae32af4804a69a9fd25c6fab4bbf44048b57b11d71c5b8fe4fb153d0f45c5e140f\r\n\r\nThis token created via python library &#39;ed25519&#39;:\r\n\r\n```\r\nprivate_key, public_key = ed25519.create_keypair()\r\npublic_key_string = public_key.to_ascii(encoding=&#39;hex&#39;).decode(&#39;utf-8&#39;)\r\nsignature = private_key.sign(json_string.encode(&#39;utf-8&#39;), encoding=&#39;hex&#39;)\r\ntoken = public_key_string + &#39;/&#39; +\r\n                        base64.b64encode(json_string.encode(&#39;utf-8&#39;)).decode(&#39;utf-8&#39;) +\r\n                        &#39;.&#39; + signature.decode(&#39;utf-8&#39;)\r\n\r\n```\r\n\r\nWhen Im trying to split the token into parts in java and load the public key (with bouncycastle library), exception have been thrown and said that the buffer must be 32 length (which as you can see the length of the public key is 64), what am I missing here?\r\n\r\n ","title":"load ed25519 public key with java","body":"<p>I have to read and load ed25519 public key for verifying signature in java, the token input pattern is:\n{public_key}/message.signature\nfor example:</p>\n<pre><code>6a3239269f93999baec60382189c718031ad22c4c807ff29417824132cf0aa2d/eyJpc3N1ZV9kYXRlIjogIjIwMjItMTAtMjMiLCAiZXhwaXJ5X2RhdGUiOiAiMjAyMi0xMS0yMyIsICJsaWNlbnNlX3R5cGUiOiAxLCAibGljZW5zZV9rZXkiOiAiOTczZTIxOWVlNDg5NDVlNmViMDhjYzQzM2QyYjBjMDUifQ==.122ff0664a54122c6929183a561bb211a4168801e5917f33b69231eea56205ae32af4804a69a9fd25c6fab4bbf44048b57b11d71c5b8fe4fb153d0f45c5e140f\n</code></pre>\n<p>This token created via python library 'ed25519':</p>\n<pre><code>private_key, public_key = ed25519.create_keypair()\npublic_key_string = public_key.to_ascii(encoding='hex').decode('utf-8')\nsignature = private_key.sign(json_string.encode('utf-8'), encoding='hex')\ntoken = public_key_string + '/' +\n                        base64.b64encode(json_string.encode('utf-8')).decode('utf-8') +\n                        '.' + signature.decode('utf-8')\n\n</code></pre>\n<p>When Im trying to split the token into parts in java and load the public key (with bouncycastle library), exception have been thrown and said that the buffer must be 32 length (which as you can see the length of the public key is 64), what am I missing here?</p>\n"},{"tags":["java","android","android-sqlite","sqliteopenhelper"],"answers":[{"comments":[{"owner":{"account_id":24716160,"reputation":17,"user_id":18605870,"display_name":"suppatra"},"score":0,"creation_date":1667125676,"post_id":74249853,"comment_id":131092587,"body_markdown":"Oh god, thank you so much mike, you&#39;re lifesaver! Appreciate all the issues probability and the solutions, too.","body":"Oh god, thank you so much mike, you&#39;re lifesaver! Appreciate all the issues probability and the solutions, too."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667091320,"creation_date":1667091320,"answer_id":74249853,"question_id":74247039,"body_markdown":"**Potential Issue 1 (probable cause according to your symptoms)**\r\n\r\nYour ***`checkUsername`*** method is probably incorrect as it **returns false if the username has been located**, true if not.  I suspect that you really want:-\r\n\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\nHowever, you might want to consider using the more compact/consice :-\r\n\r\n    public boolean checkUserName(String userName) {\r\n        return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\r\n    }\r\n\r\n\r\n**Potential Issue 2 (may well cause future issues)**\r\n\r\n&gt; when i press the register button nothing will happened, and the app showing no errors.\r\n\r\nYou don&#39;t say what doesn&#39;t happen i.e. what you expect to happen.\r\n\r\nA lot could depend upon the code that you haven&#39;t shown and you may encounters issues due to using `startActivity` to apparently return to the invoking/parent activity (without the complete code this may or may not be the case).\r\n\r\nUsing &#39;startActivity&#39; will not return to the actual activity, instead it will end (destroy) the invoking activity and start a brand new one.\r\n\r\nInstead, you should return to the invoking/parent activity by finishing the child activity using `finish()`.\r\n\r\n\r\n\r\n**Potential Issue 3 (may well result in issues)\r\nThe phone number column is indicated as being a java integer. This would be insufficient to hold the full range of 10 figure phone numbers.\r\n\r\nThat is the highest value a Java int can be is 2147483647.\r\n\r\n**Potential Issue 4 (unlikely, according to your sysmptoms, to be an issue)**\r\n\r\n&gt; At first i build the the onCreate and insert function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number).\r\n\r\nThis could also be an issue, if you used the App, then altered the onCreate code to add the new columns and just reran the App. The `onCreate` method is only run once for the lifetime of the database, which unless you specifically delete the database or uninstall the App would then result in the new columns not existing. However, you would encounter ***column not found*** errors which would contradict you saying that there are no errors.\r\n\r\n**Demo**\r\n\r\nPerhaps consider the following that was used to debug **Issue 1**.\r\n\r\nThe used a modified **DatabaseHelper** with the following modifications:-\r\n\r\n    // check if username already exists\r\n    public Boolean CheckUsernameOriginal(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check if username already exists\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            //return false;\r\n            return true; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\r\n        }else{\r\n            //return true;\r\n            return false; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\r\n        }\r\n    }\r\n\r\n    public boolean checkUserName(String userName) {\r\n        return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\r\n    }\r\n\r\ni.e.:-\r\n\r\n- the original **CheckUsername** method renamed to **CheckUsernameOriginal**\r\n- a new **CheckUserName** method changed accordingly to return true if the username was found.\r\n- a new **checkUserName** method that uses the suggested more compact/concise code and the **longForQuery** method.\r\n\r\nThe DBHelper was then used in **MainActivity** to check the code and additionally the resultant data in the database using :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DatabaseHelper dbHelper;\r\n        //boolean logged_in = false;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            dbHelper = new DatabaseHelper(this);\r\n            testUser(&quot;User001&quot;,&quot;password001&quot;, &quot;User001@email.com&quot;,1234567890);\r\n            //testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,9999999999); /* WARNING 9999999999 too big for int */\r\n            testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,1333333333);\r\n    \r\n            DatabaseUtils.dumpCursor(\r\n                    dbHelper.getWritableDatabase().query(&quot;user&quot;,null,null,null,null,null,null)\r\n            );\r\n    \r\n        }\r\n    \r\n        void testUser(String testUserName, String testUserPassword, String testUserEmail, int testUserPhone) {\r\n            Log.d(&quot;DBTEST001&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\r\n            Log.d(&quot;DBTEST002A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\r\n            Log.d(&quot;DBTEST002B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\r\n            Log.d(&quot;DBTEST002C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\r\n            Log.d(&quot;DBTEST003&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\r\n            Log.d(&quot;DBTEST004&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\r\n            Log.d(&quot;DBTEST005A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\r\n            Log.d(&quot;DBTEST005B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\r\n            Log.d(&quot;DBTEST005C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\r\n            Log.d(&quot;DBTEST006&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\r\n        }\r\n    }\r\n\r\nThe result written to the log:-\r\n\r\n    2022-10-30 11:19:01.465 D/DBTEST001: User User001 login = false\r\n    2022-10-30 11:19:01.466 D/DBTEST002A: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.466 D/DBTEST002B: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.467 D/DBTEST002C: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.477 D/DBTEST003: User User001 added = true\r\n    2022-10-30 11:19:01.478 D/DBTEST004: User User001 login = true\r\n    2022-10-30 11:19:01.479 D/DBTEST005A: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.479 D/DBTEST005B: UserUser001 checkuser = true\r\n    2022-10-30 11:19:01.480 D/DBTEST005C: UserUser001 checkuser = false\r\n    2022-10-30 11:19:01.488 D/DBTEST006: User User001 added = true\r\n    \r\n    \r\n    2022-10-30 11:19:01.489 D/DBTEST001: User User002 login = false\r\n    2022-10-30 11:19:01.490 D/DBTEST002A: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.490 D/DBTEST002B: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.491 D/DBTEST002C: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.500 D/DBTEST003: User User002 added = true\r\n    2022-10-30 11:19:01.500 D/DBTEST004: User User002 login = true\r\n    2022-10-30 11:19:01.501 D/DBTEST005A: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.537 D/DBTEST005B: UserUser002 checkuser = true\r\n    2022-10-30 11:19:01.537 D/DBTEST005C: UserUser002 checkuser = false\r\n    2022-10-30 11:19:01.555 D/DBTEST006: User User002 added = true\r\n    \r\n    \r\n    2022-10-30 11:19:01.555 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@cf2ef01\r\n    2022-10-30 11:19:01.556 I/System.out: 0 {\r\n    2022-10-30 11:19:01.556 I/System.out:    ID=1\r\n    2022-10-30 11:19:01.556 I/System.out:    username=User001\r\n    2022-10-30 11:19:01.556 I/System.out:    password=password001\r\n    2022-10-30 11:19:01.556 I/System.out:    email=User001@email.com\r\n    2022-10-30 11:19:01.556 I/System.out:    phone=1234567890\r\n    2022-10-30 11:19:01.556 I/System.out: }\r\n    2022-10-30 11:19:01.557 I/System.out: 1 {\r\n    2022-10-30 11:19:01.557 I/System.out:    ID=2\r\n    2022-10-30 11:19:01.557 I/System.out:    username=User001\r\n    2022-10-30 11:19:01.557 I/System.out:    password=password001\r\n    2022-10-30 11:19:01.557 I/System.out:    email=User001@email.com\r\n    2022-10-30 11:19:01.557 I/System.out:    phone=1234567890\r\n    2022-10-30 11:19:01.557 I/System.out: }\r\n    2022-10-30 11:19:01.557 I/System.out: 2 {\r\n    2022-10-30 11:19:01.557 I/System.out:    ID=3\r\n    2022-10-30 11:19:01.557 I/System.out:    username=User002\r\n    2022-10-30 11:19:01.557 I/System.out:    password=password002\r\n    2022-10-30 11:19:01.557 I/System.out:    email=User002@email.com\r\n    2022-10-30 11:19:01.557 I/System.out:    phone=1333333333\r\n    2022-10-30 11:19:01.557 I/System.out: }\r\n    2022-10-30 11:19:01.558 I/System.out: 3 {\r\n    2022-10-30 11:19:01.558 I/System.out:    ID=4\r\n    2022-10-30 11:19:01.558 I/System.out:    username=User002\r\n    2022-10-30 11:19:01.558 I/System.out:    password=password002\r\n    2022-10-30 11:19:01.558 I/System.out:    email=User002@email.com\r\n    2022-10-30 11:19:01.558 I/System.out:    phone=1333333333\r\n    2022-10-30 11:19:01.558 I/System.out: }\r\n    2022-10-30 11:19:01.558 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\nAs can be seen:-\r\n\r\n- the corrected CheckUsername method (A) returns the appropriate result (false if the user does not exist and true if the user does exist)\r\n- the alternative checkUserName method (B) returns the same as (A)\r\n- the original CheckUsername now CheckUsernameOriginal (C) returns the incorrect results .\r\n- the users have been added accordingly (note that no logic has been incorporated to stop the duplication of a username and hence the 4 rows)\r\n    - if you want to restrict usernames, then rather than using logic you could make the username column UNIQUE.\r\n\r\n**Output if using UNIQUE constraint on username column** :-\r\n\r\n    2022-10-30 11:46:23.992 D/DBTEST001: User User001 login = false\r\n    2022-10-30 11:46:23.993 D/DBTEST002A: UserUser001 checkuser = false\r\n    2022-10-30 11:46:23.994 D/DBTEST002B: UserUser001 checkuser = false\r\n    2022-10-30 11:46:23.995 D/DBTEST002C: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.006 D/DBTEST003: User User001 added = true\r\n    2022-10-30 11:46:24.006 D/DBTEST004: User User001 login = true\r\n    2022-10-30 11:46:24.006 D/DBTEST005A: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.007 D/DBTEST005B: UserUser001 checkuser = true\r\n    2022-10-30 11:46:24.007 D/DBTEST005C: UserUser001 checkuser = false\r\n    2022-10-30 11:46:24.011 E/SQLiteDatabase: Error inserting username=User001 email=User001@email.com phone=1234567890 password=password001\r\n        android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\r\n            at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\r\n            at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\r\n            at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:19)\r\n            at android.app.Activity.performCreate(Activity.java:7994)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    2022-10-30 11:46:24.011 D/DBTEST006: User User001 added = false\r\n    2022-10-30 11:46:24.011 D/DBTEST001: User User002 login = false\r\n    2022-10-30 11:46:24.012 D/DBTEST002A: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.012 D/DBTEST002B: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.013 D/DBTEST002C: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.026 D/DBTEST003: User User002 added = true\r\n    2022-10-30 11:46:24.026 D/DBTEST004: User User002 login = true\r\n    2022-10-30 11:46:24.027 D/DBTEST005A: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.055 D/DBTEST005B: UserUser002 checkuser = true\r\n    2022-10-30 11:46:24.055 D/DBTEST005C: UserUser002 checkuser = false\r\n    2022-10-30 11:46:24.057 E/SQLiteDatabase: Error inserting username=User002 email=User002@email.com phone=1333333333 password=password002\r\n        android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\r\n            at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\r\n            at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\r\n            at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\r\n            at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:21)\r\n            at android.app.Activity.performCreate(Activity.java:7994)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n    2022-10-30 11:46:24.057 D/DBTEST006: User User002 added = false\r\n\r\n\r\n- Note that the UNIQUE constraint conflict is trapped by the **insert** method but the trapped exception is still written to the log.\r\n- as can be seen the duplicated user names are not added and the DBTEST006 messages indicate that the row was not added.\r\n- the additional rows are now not present in the extract from the database.\r\n\r\n\r\n","title":"Data Registration to database and validation from database Sqlite won&#39;t work","body":"<p><strong>Potential Issue 1 (probable cause according to your symptoms)</strong></p>\n<p>Your <em><strong><code>checkUsername</code></strong></em> method is probably incorrect as it <strong>returns false if the username has been located</strong>, true if not.  I suspect that you really want:-</p>\n<pre><code>public Boolean CheckUsername(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        return false;\n    }else{\n        return true;\n    }\n}\n</code></pre>\n<p>However, you might want to consider using the more compact/consice :-</p>\n<pre><code>public boolean checkUserName(String userName) {\n    return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\n}\n</code></pre>\n<p><strong>Potential Issue 2 (may well cause future issues)</strong></p>\n<blockquote>\n<p>when i press the register button nothing will happened, and the app showing no errors.</p>\n</blockquote>\n<p>You don't say what doesn't happen i.e. what you expect to happen.</p>\n<p>A lot could depend upon the code that you haven't shown and you may encounters issues due to using <code>startActivity</code> to apparently return to the invoking/parent activity (without the complete code this may or may not be the case).</p>\n<p>Using 'startActivity' will not return to the actual activity, instead it will end (destroy) the invoking activity and start a brand new one.</p>\n<p>Instead, you should return to the invoking/parent activity by finishing the child activity using <code>finish()</code>.</p>\n<p>**Potential Issue 3 (may well result in issues)\nThe phone number column is indicated as being a java integer. This would be insufficient to hold the full range of 10 figure phone numbers.</p>\n<p>That is the highest value a Java int can be is 2147483647.</p>\n<p><strong>Potential Issue 4 (unlikely, according to your sysmptoms, to be an issue)</strong></p>\n<blockquote>\n<p>At first i build the the onCreate and insert function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number).</p>\n</blockquote>\n<p>This could also be an issue, if you used the App, then altered the onCreate code to add the new columns and just reran the App. The <code>onCreate</code> method is only run once for the lifetime of the database, which unless you specifically delete the database or uninstall the App would then result in the new columns not existing. However, you would encounter <em><strong>column not found</strong></em> errors which would contradict you saying that there are no errors.</p>\n<p><strong>Demo</strong></p>\n<p>Perhaps consider the following that was used to debug <strong>Issue 1</strong>.</p>\n<p>The used a modified <strong>DatabaseHelper</strong> with the following modifications:-</p>\n<pre><code>// check if username already exists\npublic Boolean CheckUsernameOriginal(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        return false;\n    }else{\n        return true;\n    }\n}\n// check if username already exists\npublic Boolean CheckUsername(String username){\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n    if(cursor.getCount() &gt; 0){\n        //return false;\n        return true; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\n    }else{\n        //return true;\n        return false; /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; CHANGED from previous commented out line */\n    }\n}\n\npublic boolean checkUserName(String userName) {\n    return DatabaseUtils.longForQuery(this.getWritableDatabase(),&quot;SELECT count(*) FROM user WHERE username=?&quot;, new String[]{userName}) &gt;= 1;\n}\n</code></pre>\n<p>i.e.:-</p>\n<ul>\n<li>the original <strong>CheckUsername</strong> method renamed to <strong>CheckUsernameOriginal</strong></li>\n<li>a new <strong>CheckUserName</strong> method changed accordingly to return true if the username was found.</li>\n<li>a new <strong>checkUserName</strong> method that uses the suggested more compact/concise code and the <strong>longForQuery</strong> method.</li>\n</ul>\n<p>The DBHelper was then used in <strong>MainActivity</strong> to check the code and additionally the resultant data in the database using :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DatabaseHelper dbHelper;\n    //boolean logged_in = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        dbHelper = new DatabaseHelper(this);\n        testUser(&quot;User001&quot;,&quot;password001&quot;, &quot;User001@email.com&quot;,1234567890);\n        //testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,9999999999); /* WARNING 9999999999 too big for int */\n        testUser(&quot;User002&quot;,&quot;password002&quot;, &quot;User002@email.com&quot;,1333333333);\n\n        DatabaseUtils.dumpCursor(\n                dbHelper.getWritableDatabase().query(&quot;user&quot;,null,null,null,null,null,null)\n        );\n\n    }\n\n    void testUser(String testUserName, String testUserPassword, String testUserEmail, int testUserPhone) {\n        Log.d(&quot;DBTEST001&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\n        Log.d(&quot;DBTEST002A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\n        Log.d(&quot;DBTEST002B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\n        Log.d(&quot;DBTEST002C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\n        Log.d(&quot;DBTEST003&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\n        Log.d(&quot;DBTEST004&quot;,&quot;User &quot; + testUserName + &quot; login = &quot; + dbHelper.CheckLogin(testUserName,testUserPassword));\n        Log.d(&quot;DBTEST005A&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsername(testUserName));\n        Log.d(&quot;DBTEST005B&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.checkUserName(testUserName));\n        Log.d(&quot;DBTEST005C&quot;,&quot;User&quot; + testUserName + &quot; checkuser = &quot; + dbHelper.CheckUsernameOriginal(testUserName));\n        Log.d(&quot;DBTEST006&quot;,&quot;User &quot; + testUserName + &quot; added = &quot; + dbHelper.Insert(testUserName,testUserPassword,testUserEmail,testUserPhone));\n    }\n}\n</code></pre>\n<p>The result written to the log:-</p>\n<pre><code>2022-10-30 11:19:01.465 D/DBTEST001: User User001 login = false\n2022-10-30 11:19:01.466 D/DBTEST002A: UserUser001 checkuser = false\n2022-10-30 11:19:01.466 D/DBTEST002B: UserUser001 checkuser = false\n2022-10-30 11:19:01.467 D/DBTEST002C: UserUser001 checkuser = true\n2022-10-30 11:19:01.477 D/DBTEST003: User User001 added = true\n2022-10-30 11:19:01.478 D/DBTEST004: User User001 login = true\n2022-10-30 11:19:01.479 D/DBTEST005A: UserUser001 checkuser = true\n2022-10-30 11:19:01.479 D/DBTEST005B: UserUser001 checkuser = true\n2022-10-30 11:19:01.480 D/DBTEST005C: UserUser001 checkuser = false\n2022-10-30 11:19:01.488 D/DBTEST006: User User001 added = true\n\n\n2022-10-30 11:19:01.489 D/DBTEST001: User User002 login = false\n2022-10-30 11:19:01.490 D/DBTEST002A: UserUser002 checkuser = false\n2022-10-30 11:19:01.490 D/DBTEST002B: UserUser002 checkuser = false\n2022-10-30 11:19:01.491 D/DBTEST002C: UserUser002 checkuser = true\n2022-10-30 11:19:01.500 D/DBTEST003: User User002 added = true\n2022-10-30 11:19:01.500 D/DBTEST004: User User002 login = true\n2022-10-30 11:19:01.501 D/DBTEST005A: UserUser002 checkuser = true\n2022-10-30 11:19:01.537 D/DBTEST005B: UserUser002 checkuser = true\n2022-10-30 11:19:01.537 D/DBTEST005C: UserUser002 checkuser = false\n2022-10-30 11:19:01.555 D/DBTEST006: User User002 added = true\n\n\n2022-10-30 11:19:01.555 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@cf2ef01\n2022-10-30 11:19:01.556 I/System.out: 0 {\n2022-10-30 11:19:01.556 I/System.out:    ID=1\n2022-10-30 11:19:01.556 I/System.out:    username=User001\n2022-10-30 11:19:01.556 I/System.out:    password=password001\n2022-10-30 11:19:01.556 I/System.out:    email=User001@email.com\n2022-10-30 11:19:01.556 I/System.out:    phone=1234567890\n2022-10-30 11:19:01.556 I/System.out: }\n2022-10-30 11:19:01.557 I/System.out: 1 {\n2022-10-30 11:19:01.557 I/System.out:    ID=2\n2022-10-30 11:19:01.557 I/System.out:    username=User001\n2022-10-30 11:19:01.557 I/System.out:    password=password001\n2022-10-30 11:19:01.557 I/System.out:    email=User001@email.com\n2022-10-30 11:19:01.557 I/System.out:    phone=1234567890\n2022-10-30 11:19:01.557 I/System.out: }\n2022-10-30 11:19:01.557 I/System.out: 2 {\n2022-10-30 11:19:01.557 I/System.out:    ID=3\n2022-10-30 11:19:01.557 I/System.out:    username=User002\n2022-10-30 11:19:01.557 I/System.out:    password=password002\n2022-10-30 11:19:01.557 I/System.out:    email=User002@email.com\n2022-10-30 11:19:01.557 I/System.out:    phone=1333333333\n2022-10-30 11:19:01.557 I/System.out: }\n2022-10-30 11:19:01.558 I/System.out: 3 {\n2022-10-30 11:19:01.558 I/System.out:    ID=4\n2022-10-30 11:19:01.558 I/System.out:    username=User002\n2022-10-30 11:19:01.558 I/System.out:    password=password002\n2022-10-30 11:19:01.558 I/System.out:    email=User002@email.com\n2022-10-30 11:19:01.558 I/System.out:    phone=1333333333\n2022-10-30 11:19:01.558 I/System.out: }\n2022-10-30 11:19:01.558 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>As can be seen:-</p>\n<ul>\n<li>the corrected CheckUsername method (A) returns the appropriate result (false if the user does not exist and true if the user does exist)</li>\n<li>the alternative checkUserName method (B) returns the same as (A)</li>\n<li>the original CheckUsername now CheckUsernameOriginal (C) returns the incorrect results .</li>\n<li>the users have been added accordingly (note that no logic has been incorporated to stop the duplication of a username and hence the 4 rows)\n<ul>\n<li>if you want to restrict usernames, then rather than using logic you could make the username column UNIQUE.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Output if using UNIQUE constraint on username column</strong> :-</p>\n<pre><code>2022-10-30 11:46:23.992 D/DBTEST001: User User001 login = false\n2022-10-30 11:46:23.993 D/DBTEST002A: UserUser001 checkuser = false\n2022-10-30 11:46:23.994 D/DBTEST002B: UserUser001 checkuser = false\n2022-10-30 11:46:23.995 D/DBTEST002C: UserUser001 checkuser = true\n2022-10-30 11:46:24.006 D/DBTEST003: User User001 added = true\n2022-10-30 11:46:24.006 D/DBTEST004: User User001 login = true\n2022-10-30 11:46:24.006 D/DBTEST005A: UserUser001 checkuser = true\n2022-10-30 11:46:24.007 D/DBTEST005B: UserUser001 checkuser = true\n2022-10-30 11:46:24.007 D/DBTEST005C: UserUser001 checkuser = false\n2022-10-30 11:46:24.011 E/SQLiteDatabase: Error inserting username=User001 email=User001@email.com phone=1234567890 password=password001\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\n        at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:19)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-10-30 11:46:24.011 D/DBTEST006: User User001 added = false\n2022-10-30 11:46:24.011 D/DBTEST001: User User002 login = false\n2022-10-30 11:46:24.012 D/DBTEST002A: UserUser002 checkuser = false\n2022-10-30 11:46:24.012 D/DBTEST002B: UserUser002 checkuser = false\n2022-10-30 11:46:24.013 D/DBTEST002C: UserUser002 checkuser = true\n2022-10-30 11:46:24.026 D/DBTEST003: User User002 added = true\n2022-10-30 11:46:24.026 D/DBTEST004: User User002 login = true\n2022-10-30 11:46:24.027 D/DBTEST005A: UserUser002 checkuser = true\n2022-10-30 11:46:24.055 D/DBTEST005B: UserUser002 checkuser = true\n2022-10-30 11:46:24.055 D/DBTEST005C: UserUser002 checkuser = false\n2022-10-30 11:46:24.057 E/SQLiteDatabase: Error inserting username=User002 email=User002@email.com phone=1333333333 password=password002\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: user.username (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1701)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1570)\n        at a.a.so74247039javasqliteinsertnotshowing.DatabaseHelper.Insert(DatabaseHelper.java:36)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.testUser(MainActivity.java:39)\n        at a.a.so74247039javasqliteinsertnotshowing.MainActivity.onCreate(MainActivity.java:21)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n2022-10-30 11:46:24.057 D/DBTEST006: User User002 added = false\n</code></pre>\n<ul>\n<li>Note that the UNIQUE constraint conflict is trapped by the <strong>insert</strong> method but the trapped exception is still written to the log.</li>\n<li>as can be seen the duplicated user names are not added and the DBTEST006 messages indicate that the row was not added.</li>\n<li>the additional rows are now not present in the extract from the database.</li>\n</ul>\n"}],"owner":{"account_id":24716160,"reputation":17,"user_id":18605870,"display_name":"suppatra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74249853,"answer_count":1,"score":-1,"last_activity_date":1667091320,"creation_date":1667061644,"question_id":74247039,"body_markdown":"I&#39;ve got this Sqlite database named DatabaseHelper and i need to register the data (username, pass, email, and phone) i need to check if username already exists when button register pushed and check user and pass data at login activity. Here is my code :\r\n\r\nAt first i build the the *onCreate* and *insert* function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number), when i press the register button nothing will happened, and the app showing no errors.\r\n\r\n\r\n**DatabaseHelper.java**  \r\n\r\n```\r\npublic class DatabaseHelper extends SQLiteOpenHelper {\r\n    public static final String DATABASE_NAME = &quot;login.db&quot;;\r\n\r\n\r\n    public DatabaseHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, 1);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(&quot;CREATE TABLE user(ID INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, password TEXT, email TEXT, phone INTEGER)&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS user&quot;);\r\n    }\r\n\r\n    public boolean Insert(String username, String password, String email, Integer phone){\r\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;username&quot;, username);\r\n        contentValues.put(&quot;password&quot;, password);\r\n        contentValues.put(&quot;email&quot;, email);\r\n        contentValues.put(&quot;phone&quot;, phone);\r\n        long result = sqLiteDatabase.insert(&quot;user&quot;, null, contentValues);\r\n        if(result == -1){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check if username already exists\r\n    public Boolean CheckUsername(String username){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\r\n        if(cursor.getCount() &gt; 0){\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n    // check user and pass matching at login activity\r\n    public Boolean CheckLogin(String username, String password){\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=? AND password=?&quot;, new String[]{username, password});\r\n        if(cursor.getCount() &gt; 0){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Register.java**\r\n\r\n```\r\nregister.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n            String User = user.getText().toString().trim();\r\n            String Pass = pass.getText().toString().trim();\r\n            String Email = email.getText().toString().trim();\r\n            String Phone = phone.getText().toString().trim();\r\n            Integer phoneNumber = Integer.parseInt(Phone);\r\n            Boolean checkUsername = databaseHelper.CheckUsername(User);\r\n            if(checkUsername){\r\n                Boolean insert = databaseHelper.Insert(User, Pass, Email, phoneNumber);\r\n                if(insert){\r\n                    Intent registerIntent = new Intent(Register.this,MainActivity.class);\r\n                    startActivity(registerIntent);\r\n                }\r\n            }else{\r\n                Toast.makeText(getApplicationContext(), &quot;Username already taken&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    }\r\n});\r\n```\r\n\r\n**Login.java**\r\n\r\n```\r\nlogin.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        String User = username.getText().toString();\r\n        String Pass = password.getText().toString();\r\n        Boolean checklogin = databaseHelper.CheckLogin(User, Pass);\r\n        if(username.getText().toString().isEmpty()){\r\n            Toast.makeText(getApplicationContext(), &quot;Username must not be empty!&quot;, Toast.LENGTH_SHORT).show();\r\n        }else if(password.getText().toString().isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), &quot;Password must not be empty!&quot;, Toast.LENGTH_SHORT).show();\r\n        }else if(checklogin){\r\n            Intent homeintent = new Intent(getBaseContext(),Home.class);\r\n            startActivity(homeintent);\r\n        }else{\r\n            Toast.makeText(getApplicationContext(), &quot;Invalid username or password&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n});\r\n```\r\n\r\n","title":"Data Registration to database and validation from database Sqlite won&#39;t work","body":"<p>I've got this Sqlite database named DatabaseHelper and i need to register the data (username, pass, email, and phone) i need to check if username already exists when button register pushed and check user and pass data at login activity. Here is my code :</p>\n<p>At first i build the the <em>onCreate</em> and <em>insert</em> function on the database with only user and password, and i can insert that 2 values to the database and can do the validation when press the regis and login button, but after i add 2 more values (email and phone number), when i press the register button nothing will happened, and the app showing no errors.</p>\n<p><strong>DatabaseHelper.java</strong></p>\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;login.db&quot;;\n\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;CREATE TABLE user(ID INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, password TEXT, email TEXT, phone INTEGER)&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS user&quot;);\n    }\n\n    public boolean Insert(String username, String password, String email, Integer phone){\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;username&quot;, username);\n        contentValues.put(&quot;password&quot;, password);\n        contentValues.put(&quot;email&quot;, email);\n        contentValues.put(&quot;phone&quot;, phone);\n        long result = sqLiteDatabase.insert(&quot;user&quot;, null, contentValues);\n        if(result == -1){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    // check if username already exists\n    public Boolean CheckUsername(String username){\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=?&quot;, new String[]{username});\n        if(cursor.getCount() &gt; 0){\n            return false;\n        }else{\n            return true;\n        }\n    }\n    // check user and pass matching at login activity\n    public Boolean CheckLogin(String username, String password){\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot;SELECT * FROM user WHERE username=? AND password=?&quot;, new String[]{username, password});\n        if(cursor.getCount() &gt; 0){\n            return true;\n        }else{\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>Register.java</strong></p>\n<pre><code>register.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n            String User = user.getText().toString().trim();\n            String Pass = pass.getText().toString().trim();\n            String Email = email.getText().toString().trim();\n            String Phone = phone.getText().toString().trim();\n            Integer phoneNumber = Integer.parseInt(Phone);\n            Boolean checkUsername = databaseHelper.CheckUsername(User);\n            if(checkUsername){\n                Boolean insert = databaseHelper.Insert(User, Pass, Email, phoneNumber);\n                if(insert){\n                    Intent registerIntent = new Intent(Register.this,MainActivity.class);\n                    startActivity(registerIntent);\n                }\n            }else{\n                Toast.makeText(getApplicationContext(), &quot;Username already taken&quot;, Toast.LENGTH_SHORT).show();\n            }\n    }\n});\n</code></pre>\n<p><strong>Login.java</strong></p>\n<pre><code>login.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        String User = username.getText().toString();\n        String Pass = password.getText().toString();\n        Boolean checklogin = databaseHelper.CheckLogin(User, Pass);\n        if(username.getText().toString().isEmpty()){\n            Toast.makeText(getApplicationContext(), &quot;Username must not be empty!&quot;, Toast.LENGTH_SHORT).show();\n        }else if(password.getText().toString().isEmpty()) {\n            Toast.makeText(getApplicationContext(), &quot;Password must not be empty!&quot;, Toast.LENGTH_SHORT).show();\n        }else if(checklogin){\n            Intent homeintent = new Intent(getBaseContext(),Home.class);\n            startActivity(homeintent);\n        }else{\n            Toast.makeText(getApplicationContext(), &quot;Invalid username or password&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":97511,"reputation":2688,"user_id":264482,"accept_rate":94,"display_name":"Rob Goodwin"},"score":1,"creation_date":1663185370,"post_id":73722512,"comment_id":130182657,"body_markdown":"What different method are you wanting to use?  Shortcut?","body":"What different method are you wanting to use?  Shortcut?"},{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663185461,"post_id":73722512,"comment_id":130182682,"body_markdown":"It can be any method but not the methods I mentioned above.","body":"It can be any method but not the methods I mentioned above."},{"owner":{"account_id":97511,"reputation":2688,"user_id":264482,"accept_rate":94,"display_name":"Rob Goodwin"},"score":0,"creation_date":1663185831,"post_id":73722512,"comment_id":130182770,"body_markdown":"ok, then a shortcut?","body":"ok, then a shortcut?"},{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663185940,"post_id":73722512,"comment_id":130182798,"body_markdown":"Shortcut on a IDE ?","body":"Shortcut on a IDE ?"},{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":0,"creation_date":1663186959,"post_id":73722512,"comment_id":130183070,"body_markdown":"And what is your project&#39;s build like? Is it maven or gradle? Assuming its maven you can just need to execute `mvn spring-boot:run`","body":"And what is your project&#39;s build like? Is it maven or gradle? Assuming its maven you can just need to execute <code>mvn spring-boot:run</code>"},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663186961,"post_id":73722512,"comment_id":130183071,"body_markdown":"No, the shortcut would be targeting the java executable in the JRE, and your JAR (or wherever your class files are) would be a parameter to the shortcut. Someone did it here: https://superuser.com/questions/975687/how-to-pin-an-executable-jar-to-start-in-windows-10","body":"No, the shortcut would be targeting the java executable in the JRE, and your JAR (or wherever your class files are) would be a parameter to the shortcut. Someone did it here: <a href=\"https://superuser.com/questions/975687/how-to-pin-an-executable-jar-to-start-in-windows-10\" title=\"how to pin an executable jar to start in windows 10\">superuser.com/questions/975687/&hellip;</a>"},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663187006,"post_id":73722512,"comment_id":130183084,"body_markdown":"@AsifKamranMalick That would violate his command line constraint.","body":"@AsifKamranMalick That would violate his command line constraint."},{"owner":{"account_id":3484456,"reputation":2621,"user_id":2915738,"display_name":"Asif Kamran Malick"},"score":0,"creation_date":1663187289,"post_id":73722512,"comment_id":130183174,"body_markdown":"Is the OP completely excluding the option of running from commandline or just not willing to use the old vanilla way of executing the jar as opposed to the Springboot maven plugin way?","body":"Is the OP completely excluding the option of running from commandline or just not willing to use the old vanilla way of executing the jar as opposed to the Springboot maven plugin way?"}],"answers":[{"comments":[{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663186331,"post_id":73722599,"comment_id":130182912,"body_markdown":"I can&#39;t use any program. I have only a pc and a spring boot project.","body":"I can&#39;t use any program. I have only a pc and a spring boot project."},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663186713,"post_id":73722599,"comment_id":130183001,"body_markdown":"So you want to be able to run the service in the JAR, but without:\n- opening a terminal\n- creating an executable (.exe)?\n\nMaybe a .bat script?","body":"So you want to be able to run the service in the JAR, but without: - opening a terminal - creating an executable (.exe)?  Maybe a .bat script?"},{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663187649,"post_id":73722599,"comment_id":130183276,"body_markdown":"I have only project on my hand. So you can&#39;t use the methods what as I wrote above. You can open the terminal and you can do something on terminal.","body":"I have only project on my hand. So you can&#39;t use the methods what as I wrote above. You can open the terminal and you can do something on terminal."}],"tags":[],"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663185837,"creation_date":1663185837,"answer_id":73722599,"question_id":73722512,"body_markdown":"A couple of options, depending on how advanced you want to make it.\r\n\r\nHere&#39;s a related answer on how to use Launch4J:\r\nhttps://stackoverflow.com/questions/44983169/how-do-i-bundle-a-jre-in-my-jar-so-that-it-can-run-on-systems-without-java\r\n\r\nYou can also look into using https://www.advancedinstaller.com, which allows helps you create installation wizards for different operating systems, including setting registry values, etc.","title":"How to run Java project on local without any program?","body":"<p>A couple of options, depending on how advanced you want to make it.</p>\n<p>Here's a related answer on how to use Launch4J:\n<a href=\"https://stackoverflow.com/questions/44983169/how-do-i-bundle-a-jre-in-my-jar-so-that-it-can-run-on-systems-without-java\">How do I bundle a JRE in my JAR, so that it can run on systems without Java?</a></p>\n<p>You can also look into using <a href=\"https://www.advancedinstaller.com\" rel=\"nofollow noreferrer\">https://www.advancedinstaller.com</a>, which allows helps you create installation wizards for different operating systems, including setting registry values, etc.</p>\n"},{"comments":[{"owner":{"display_name":"user19997904"},"score":0,"creation_date":1663186133,"post_id":73722605,"comment_id":130182842,"body_markdown":"But I don&#39;t want to use any program.","body":"But I don&#39;t want to use any program."},{"owner":{"account_id":16266080,"reputation":56,"user_id":16564712,"display_name":"Gaya Touak"},"score":0,"creation_date":1663186314,"post_id":73722605,"comment_id":130182906,"body_markdown":"Do you mean that you want to run the file without the JRE installed ? That&#39;s impossible unless you wrap it inside your file using launch4j.","body":"Do you mean that you want to run the file without the JRE installed ? That&#39;s impossible unless you wrap it inside your file using launch4j."},{"owner":{"account_id":421090,"reputation":174,"user_id":799134,"display_name":"Bj&#248;rn V&#229;rdal"},"score":0,"creation_date":1663186812,"post_id":73722605,"comment_id":130183034,"body_markdown":"Sounds like the JRE is installed. He can run it using command line.","body":"Sounds like the JRE is installed. He can run it using command line."},{"owner":{"account_id":16266080,"reputation":56,"user_id":16564712,"display_name":"Gaya Touak"},"score":0,"creation_date":1663187891,"post_id":73722605,"comment_id":130183351,"body_markdown":"That&#39;s what i said in my answer, i guess he struggles locating the jar file in his build directory.","body":"That&#39;s what i said in my answer, i guess he struggles locating the jar file in his build directory."}],"tags":[],"owner":{"account_id":16266080,"reputation":56,"user_id":16564712,"display_name":"Gaya Touak"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667091209,"creation_date":1663185860,"answer_id":73722605,"question_id":73722512,"body_markdown":"Make sure that the JRE is installed on your machine (which is the case if you&#39;re running `.jar` files from `cmd`) then open the jar file as any windows program, if you want to generate an executable `.exe` from your file then use launch4j.\r\n","title":"How to run Java project on local without any program?","body":"<p>Make sure that the JRE is installed on your machine (which is the case if you're running <code>.jar</code> files from <code>cmd</code>) then open the jar file as any windows program, if you want to generate an executable <code>.exe</code> from your file then use launch4j.</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4516,"user_id":12348584,"display_name":"H3AR7B3A7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663186999,"creation_date":1663186692,"answer_id":73722740,"question_id":73722512,"body_markdown":"## GraalVM\r\n\r\nAnother more modern and efficient approach than launch4j would be to use GraalVM.\r\n\r\n - Install GraalVM\r\n - Install some C developer environment like Visual Studio\r\n - Run: `gu install native-image`\r\n\r\nAfter compiling your Java code with `javac` compile as a **native image**\r\n\r\n - `javac YourClass.java`\r\n - `native-image YourClass`\r\n\r\nNow you have an efficient executable that can run on its own anywhere.\r\n\r\n*At least this is how you do it manually.*\r\n\r\nYou have a library for Spring, `spring-native`, to help you. Or you can develop your project using Quarkus instead, which can build a native image out of the box","title":"How to run Java project on local without any program?","body":"<h2>GraalVM</h2>\n<p>Another more modern and efficient approach than launch4j would be to use GraalVM.</p>\n<ul>\n<li>Install GraalVM</li>\n<li>Install some C developer environment like Visual Studio</li>\n<li>Run: <code>gu install native-image</code></li>\n</ul>\n<p>After compiling your Java code with <code>javac</code> compile as a <strong>native image</strong></p>\n<ul>\n<li><code>javac YourClass.java</code></li>\n<li><code>native-image YourClass</code></li>\n</ul>\n<p>Now you have an efficient executable that can run on its own anywhere.</p>\n<p><em>At least this is how you do it manually.</em></p>\n<p>You have a library for Spring, <code>spring-native</code>, to help you. Or you can develop your project using Quarkus instead, which can build a native image out of the box</p>\n"}],"owner":{"display_name":"user19997904"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667091209,"creation_date":1663185263,"question_id":73722512,"body_markdown":"I have a spring boot project. How can I make the java spring boot project run on my local machine without using any application (Intellij IDEA, Eclipse, Heroku, Docker etc.)? I can do this using jar file on command line, but I want to use a different method. How can I do that on windows ? ","title":"How to run Java project on local without any program?","body":"<p>I have a spring boot project. How can I make the java spring boot project run on my local machine without using any application (Intellij IDEA, Eclipse, Heroku, Docker etc.)? I can do this using jar file on command line, but I want to use a different method. How can I do that on windows ?</p>\n"},{"tags":["java","mysql","date","validation","try-catch"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667089635,"post_id":74249440,"comment_id":131088497,"body_markdown":"Put more effort into drafting your Question. Use punctuation, correct spelling, etc. Avoid run-on sentences. Organize your thoughts. This site is meant to be more like Wikipedia than a casual chat room. You need not have perfect English is English is not your first language. But you do need to take care, and make an effort.","body":"Put more effort into drafting your Question. Use punctuation, correct spelling, etc. Avoid run-on sentences. Organize your thoughts. This site is meant to be more like Wikipedia than a casual chat room. You need not have perfect English is English is not your first language. But you do need to take care, and make an effort."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1667089715,"post_id":74249440,"comment_id":131088507,"body_markdown":"Give exact example input data  and output result/error to demonstrate your problem. Your prose says &quot;Feb-31&quot; but your formatter says `uuuu/MM/dd`.","body":"Give exact example input data  and output result/error to demonstrate your problem. Your prose says &quot;Feb-31&quot; but your formatter says <code>uuuu&#47;MM&#47;dd</code>."}],"answers":[{"comments":[{"owner":{"account_id":26771877,"reputation":3,"user_id":20368132,"display_name":"Jassi"},"score":0,"creation_date":1667106546,"post_id":74249822,"comment_id":131090088,"body_markdown":"Thank you so much, you helped me a lot with your answer!","body":"Thank you so much, you helped me a lot with your answer!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667151577,"post_id":74249822,"comment_id":131097841,"body_markdown":"@Jassi You can thank me by editing your Question to address the complaints in my Comments.","body":"@Jassi You can thank me by editing your Question to address the complaints in my Comments."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667090857,"creation_date":1667090525,"answer_id":74249822,"question_id":74249440,"body_markdown":"# `ResolverStyle.STRICT`\r\n\r\nThe default resolver style in `DateTimeFormatter` will adjust your invalid 31st of February to the appropriate 28th or 29th. \r\n\r\nIf you want to avoid that tolerant adjustment, specify a different [resolver style][1].\r\n\r\n```java\r\n    DateTimeFormatter\r\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\r\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\r\n```\r\n\r\nCall `parse` on the `LocalDate` class rather than the `DateTimeFormatter` class. \r\n\r\n```java\r\nLocalDate ld = null ; \r\n\r\nString input = &quot;2022/02/31&quot; ;\r\nDateTimeFormatter formatter = \r\n    DateTimeFormatter\r\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\r\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\r\ntry {\r\n\tld = LocalDate.parse( input , formatter ) ;\r\n} catch ( DateTimeParseException e ) {\r\n\tSystem.out.println( e ) ;\r\n}\r\nSystem.out.println( ld ) ;\r\n```\r\n\r\nSee this [code run at Ideone.com.][2]\r\n\r\n&gt;java.time.format.DateTimeParseException: Text &#39;2022/02/31&#39; could not be parsed: Invalid date &#39;FEBRUARY 31&#39;\r\n&gt;\r\n&gt;null\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html\r\n  [2]: https://ideone.com/TNdS09","title":"Validate a date in a string java (block errors like Feb 30)","body":"<h1><code>ResolverStyle.STRICT</code></h1>\n<p>The default resolver style in <code>DateTimeFormatter</code> will adjust your invalid 31st of February to the appropriate 28th or 29th.</p>\n<p>If you want to avoid that tolerant adjustment, specify a different <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/ResolverStyle.html\" rel=\"nofollow noreferrer\">resolver style</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DateTimeFormatter\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\n</code></pre>\n<p>Call <code>parse</code> on the <code>LocalDate</code> class rather than the <code>DateTimeFormatter</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate ld = null ; \n\nString input = &quot;2022/02/31&quot; ;\nDateTimeFormatter formatter = \n    DateTimeFormatter\n        .ofPattern( &quot;uuuu/MM/dd&quot; )\n        .withResolverStyle( ResolverStyle.STRICT ) ;  // Be strict: Reject 31st of February.\ntry {\n    ld = LocalDate.parse( input , formatter ) ;\n} catch ( DateTimeParseException e ) {\n    System.out.println( e ) ;\n}\nSystem.out.println( ld ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/TNdS09\" rel=\"nofollow noreferrer\">code run at Ideone.com.</a></p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '2022/02/31' could not be parsed: Invalid date 'FEBRUARY 31'</p>\n<p>null</p>\n</blockquote>\n"}],"owner":{"account_id":26771877,"reputation":3,"user_id":20368132,"display_name":"Jassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249822,"answer_count":1,"score":0,"last_activity_date":1667090857,"creation_date":1667084349,"question_id":74249440,"body_markdown":"Im trying to do a connection with a database in Java using OOP and DAO pattern with MySQL and need to validate a date string in java and insert it into MySQl, the connection is fine the problem is the validation. I have to use Strings in both because thats what i was asked for but it doesnt recognize months like february or the ones with 30 days i tried with a while but apparentrly it can be done with the method im usinng (TemporalAccesor for unary operator ERROR). I also have to calculate the age of the person based on that date but since is a string, i cant figure out how to connect it with the date of the computer.\r\n\r\nThanks for any help, really need it\r\n\r\nMethod that throws the exception but allows Feb-31 or Sep-31:\r\nI call it on the method where I fill all the other data and works well except for that detail\r\nAlso tried a regex but i saw is not convenient and doesnt catch that either\r\n```\r\nprivate static void FechaNacV(){\r\n\r\nString date;\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu/MM/dd&quot;);\r\n        date = sc.nextLine();\r\n        try {\r\n\r\n            formatter.parse(date);\r\n            System.out.println(&quot;Valid date&quot;);\r\n        } catch (Exception e) {\r\n            \r\n            System.out.println(&quot;Invalid Date, try yyyy/mm/dd format again&quot;);\r\n            FechaNacV();\r\n        }\r\n    } \r\n```\r\n\r\n","title":"Validate a date in a string java (block errors like Feb 30)","body":"<p>Im trying to do a connection with a database in Java using OOP and DAO pattern with MySQL and need to validate a date string in java and insert it into MySQl, the connection is fine the problem is the validation. I have to use Strings in both because thats what i was asked for but it doesnt recognize months like february or the ones with 30 days i tried with a while but apparentrly it can be done with the method im usinng (TemporalAccesor for unary operator ERROR). I also have to calculate the age of the person based on that date but since is a string, i cant figure out how to connect it with the date of the computer.</p>\n<p>Thanks for any help, really need it</p>\n<p>Method that throws the exception but allows Feb-31 or Sep-31:\nI call it on the method where I fill all the other data and works well except for that detail\nAlso tried a regex but i saw is not convenient and doesnt catch that either</p>\n<pre><code>private static void FechaNacV(){\n\nString date;\n        \n        Scanner sc = new Scanner(System.in);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu/MM/dd&quot;);\n        date = sc.nextLine();\n        try {\n\n            formatter.parse(date);\n            System.out.println(&quot;Valid date&quot;);\n        } catch (Exception e) {\n            \n            System.out.println(&quot;Invalid Date, try yyyy/mm/dd format again&quot;);\n            FechaNacV();\n        }\n    } \n</code></pre>\n"},{"tags":["java","windows","javafx","contextmenu"],"answers":[{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667090307,"creation_date":1667090307,"answer_id":74249807,"question_id":33834036,"body_markdown":"KeenWrite&#39;s [MarkdownEditor][1] class may be doing something similar. Instead of a `TreeCell` the program uses a `StyleClassedTextArea`, but the idea should transfer to other widgets:\r\n\r\n1. Create the context menu.\r\n1. Associate the context menu with the widget\r\n1. Add menu items to the context menu.\r\n1. Get the display bounds for the widget.\r\n1. Force focus when the menu is shown.\r\n1. Show the menu.\r\n\r\nIn code, this resembles:\r\n\r\n``` java\r\n// The &quot;text area&quot; is analogous to the table cell widget.\r\nfinal var textArea = getTextArea();\r\nfinal var menu = new ContextMenu();\r\n\r\nmenu.setAutoHide( true );\r\nmenu.setHideOnEscape( true );\r\nmenu.setOnHidden( event -&gt; textArea.setContextMenu( null ) );\r\n\r\nfinal var items = menu.getItems();\r\ntextArea.setContextMenu( menu );\r\n\r\n// Populate the menu items.\r\nfor( final var correction : suggestions ) {\r\n  items.add( createSuggestedItem( caretWord, correction ) );\r\n}\r\n\r\n// Figure out the location of the table cell, and call\r\n// menu.show with those X and Y coordinates.\r\ntextArea.getCaretBounds().ifPresent(\r\n  bounds -&gt; {\r\n    menu.setOnShown( event -&gt; menu.requestFocus() );\r\n    menu.show( textArea, bounds.getCenterX(), bounds.getCenterY() );\r\n  }\r\n);\r\n```\r\n\r\nYou&#39;ll need to tweak the code. That works for my purposes: the context menu appears, the first item is selected, the arrow keys can change the selected item, and pressing &lt;kbd&gt;Enter&lt;/kbd&gt; accepts the menu item.\r\n\r\n  [1]: https://github.com/DaveJarvis/keenwrite/blob/daf3453873f155afb47feca989e451ae80ab55b8/src/main/java/com/keenwrite/editors/markdown/MarkdownEditor.java#L62","title":"ContextMenu doesn&#39;t keep focus when using keyboard shortcut with JavaFX","body":"<p>KeenWrite's <a href=\"https://github.com/DaveJarvis/keenwrite/blob/daf3453873f155afb47feca989e451ae80ab55b8/src/main/java/com/keenwrite/editors/markdown/MarkdownEditor.java#L62\" rel=\"nofollow noreferrer\">MarkdownEditor</a> class may be doing something similar. Instead of a <code>TreeCell</code> the program uses a <code>StyleClassedTextArea</code>, but the idea should transfer to other widgets:</p>\n<ol>\n<li>Create the context menu.</li>\n<li>Associate the context menu with the widget</li>\n<li>Add menu items to the context menu.</li>\n<li>Get the display bounds for the widget.</li>\n<li>Force focus when the menu is shown.</li>\n<li>Show the menu.</li>\n</ol>\n<p>In code, this resembles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// The &quot;text area&quot; is analogous to the table cell widget.\nfinal var textArea = getTextArea();\nfinal var menu = new ContextMenu();\n\nmenu.setAutoHide( true );\nmenu.setHideOnEscape( true );\nmenu.setOnHidden( event -&gt; textArea.setContextMenu( null ) );\n\nfinal var items = menu.getItems();\ntextArea.setContextMenu( menu );\n\n// Populate the menu items.\nfor( final var correction : suggestions ) {\n  items.add( createSuggestedItem( caretWord, correction ) );\n}\n\n// Figure out the location of the table cell, and call\n// menu.show with those X and Y coordinates.\ntextArea.getCaretBounds().ifPresent(\n  bounds -&gt; {\n    menu.setOnShown( event -&gt; menu.requestFocus() );\n    menu.show( textArea, bounds.getCenterX(), bounds.getCenterY() );\n  }\n);\n</code></pre>\n<p>You'll need to tweak the code. That works for my purposes: the context menu appears, the first item is selected, the arrow keys can change the selected item, and pressing <kbd>Enter</kbd> accepts the menu item.</p>\n"}],"owner":{"account_id":7016793,"reputation":43,"user_id":5377839,"display_name":"cgo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667090307,"creation_date":1448045600,"question_id":33834036,"body_markdown":"I have an application written in JavaFX using a TreeView, the ContextMenu depends on the selected TreeItem, my TreeCell implementation uses setOnContextMenuRequested() to show the ContextMenu whenever I right click on a node, this works fine. I want now to achieve the same when navigating the tree with the keyboard and using the standard shortcut for the context menu on Windows (SHIFT+F10), I almost managed to do it, it displays the ContextMenu but when I try to use the navigation keys to select an item in the menu it displays the context menu of the main application windows and navigates in it, also I would like to display the context menu close to the selected cell, how can I do that? Below is a small application that exhibits my problem\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.MenuItem;\r\n    import javafx.scene.control.TreeCell;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.scene.input.ContextMenuEvent;\r\n    import javafx.scene.input.PickResult;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Main extends Application\r\n    {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage)\r\n    \t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tBorderPane root = new BorderPane();\r\n\r\n\t\t\tTreeView&lt;String&gt; treeView = new TreeView&lt;&gt;();\r\n\t\t\tTreeItem&lt;String&gt; treeRoot = new TreeItem&lt;&gt;(&quot;Root&quot;);\r\n\r\n\t\t\tfor (int i = 1; i &lt;= 5; i++)\r\n\t\t\t{\r\n\t\t\t\tTreeItem&lt;String&gt; child = new TreeItem&lt;&gt;(&quot;Item &quot; + i);\r\n\t\t\t\tchild.getChildren().addAll(new TreeItem&lt;&gt;(&quot;Item &quot; + i + &quot;A&quot;), new TreeItem&lt;&gt;(&quot;Item &quot; + i + &quot;B&quot;));\r\n\t\t\t\ttreeRoot.getChildren().add(child);\r\n\t\t\t}\r\n\t\t\ttreeView.setRoot(treeRoot);\r\n\r\n\t\t\troot.setCenter(treeView);\r\n\r\n\t\t\tContextMenu contextMenu = new ContextMenu();\r\n\r\n\t\t\tfor (int i = 1; i &lt;= 3; i++)\r\n\t\t\t{\r\n\t\t\t\tString text = &quot;Choice &quot; + i;\r\n\t\t\t\tMenuItem menuItem = new MenuItem(text);\r\n\t\t\t\tmenuItem.setOnAction(event -&gt; System.out.println(text));\r\n\t\t\t\tcontextMenu.getItems().add(menuItem);\r\n\t\t\t}\r\n\r\n\t\t\ttreeView.addEventHandler(ContextMenuEvent.CONTEXT_MENU_REQUESTED, event -&gt;\r\n\t\t\t\t{\r\n\t\t\t\t\tPickResult pickResult = event.getPickResult();\r\n\r\n\t\t\t\t\tif (pickResult != null &amp;&amp; pickResult.getIntersectedNode() != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tTreeCell&lt;String&gt; cell = (TreeCell&lt;String&gt;) pickResult.getIntersectedNode();\r\n\r\n\t\t\t\t\t\tBounds bounds = cell.getBoundsInParent();\r\n\t\t\t\t\t\tdouble x = bounds.getMinX() + (bounds.getWidth() / 2);\r\n\t\t\t\t\t\tdouble y = bounds.getMinY() + (bounds.getHeight() / 2);\r\n\t\t\t\t\t\tPoint2D loc = cell.getParent().localToScreen(x, y);\r\n\t\t\t\t\t\tcontextMenu.show(cell, loc.getX(), loc.getY());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\tScene scene = new Scene(root, 400, 400);\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\t\tcatch (Exception ex)\r\n\t\t{\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n    }\r\n\r\n ","title":"ContextMenu doesn&#39;t keep focus when using keyboard shortcut with JavaFX","body":"<p>I have an application written in JavaFX using a TreeView, the ContextMenu depends on the selected TreeItem, my TreeCell implementation uses setOnContextMenuRequested() to show the ContextMenu whenever I right click on a node, this works fine. I want now to achieve the same when navigating the tree with the keyboard and using the standard shortcut for the context menu on Windows (SHIFT+F10), I almost managed to do it, it displays the ContextMenu but when I try to use the navigation keys to select an item in the menu it displays the context menu of the main application windows and navigates in it, also I would like to display the context menu close to the selected cell, how can I do that? Below is a small application that exhibits my problem</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.MenuItem;\nimport javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.input.ContextMenuEvent;\nimport javafx.scene.input.PickResult;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application\n{\n    @Override\n    public void start(Stage primaryStage)\n    {\n    try\n    {\n        BorderPane root = new BorderPane();\n\n        TreeView&lt;String&gt; treeView = new TreeView&lt;&gt;();\n        TreeItem&lt;String&gt; treeRoot = new TreeItem&lt;&gt;(\"Root\");\n\n        for (int i = 1; i &lt;= 5; i++)\n        {\n            TreeItem&lt;String&gt; child = new TreeItem&lt;&gt;(\"Item \" + i);\n            child.getChildren().addAll(new TreeItem&lt;&gt;(\"Item \" + i + \"A\"), new TreeItem&lt;&gt;(\"Item \" + i + \"B\"));\n            treeRoot.getChildren().add(child);\n        }\n        treeView.setRoot(treeRoot);\n\n        root.setCenter(treeView);\n\n        ContextMenu contextMenu = new ContextMenu();\n\n        for (int i = 1; i &lt;= 3; i++)\n        {\n            String text = \"Choice \" + i;\n            MenuItem menuItem = new MenuItem(text);\n            menuItem.setOnAction(event -&gt; System.out.println(text));\n            contextMenu.getItems().add(menuItem);\n        }\n\n        treeView.addEventHandler(ContextMenuEvent.CONTEXT_MENU_REQUESTED, event -&gt;\n            {\n                PickResult pickResult = event.getPickResult();\n\n                if (pickResult != null &amp;&amp; pickResult.getIntersectedNode() != null)\n                {\n                    TreeCell&lt;String&gt; cell = (TreeCell&lt;String&gt;) pickResult.getIntersectedNode();\n\n                    Bounds bounds = cell.getBoundsInParent();\n                    double x = bounds.getMinX() + (bounds.getWidth() / 2);\n                    double y = bounds.getMinY() + (bounds.getHeight() / 2);\n                    Point2D loc = cell.getParent().localToScreen(x, y);\n                    contextMenu.show(cell, loc.getX(), loc.getY());\n                }\n\n            });\n\n        Scene scene = new Scene(root, 400, 400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace();\n    }\n}\n\npublic static void main(String[] args)\n{\n    launch(args);\n}\n\n}\n</code></pre>\n"},{"tags":["java","xml","xslt","xslt-2.0"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666727152,"post_id":74199207,"comment_id":131003871,"body_markdown":"Well, I would suggest to reduce samples to a minimum but keep them complete to demonstrate that particular issue, if you have a couple of items you group want the sum and want a particular value then show us the sample data with those particular items allowing anyone to compute the sum and tell us which value you expect for your sample data. I see a single `OrderLine` in your XML sample with `&lt;UnitPrice&gt;105.28&lt;/UnitPrice&gt;`, where `105.28` seems to part of the concatenated data you complain about. Is any of the other wrong data in the sample so that we could tell where it comes from?","body":"Well, I would suggest to reduce samples to a minimum but keep them complete to demonstrate that particular issue, if you have a couple of items you group want the sum and want a particular value then show us the sample data with those particular items allowing anyone to compute the sum and tell us which value you expect for your sample data. I see a single <code>OrderLine</code> in your XML sample with <code>&lt;UnitPrice&gt;105.28&lt;&#47;UnitPrice&gt;</code>, where <code>105.28</code> seems to part of the concatenated data you complain about. Is any of the other wrong data in the sample so that we could tell where it comes from?"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666727250,"post_id":74199207,"comment_id":131003903,"body_markdown":"Also where is `&quot;TOTALLINEPRICE&quot;:&quot;105.28216466.0819.684.5618405.24395.22.1519.35&quot;` supposed to be output in your code, I don&#39;t see any of that in terms of normal XSLT processing, there is some result element with e.g. a name attribute `tpi:Fact name=&quot;TotalLinePrice&quot;` but it is not clear what your output has to do with the XSLT or what additional tool you use.","body":"Also where is <code>&quot;TOTALLINEPRICE&quot;:&quot;105.28216466.0819.684.5618405.24395.22.151&zwnj;&#8203;9.35&quot;</code> supposed to be output in your code, I don&#39;t see any of that in terms of normal XSLT processing, there is some result element with e.g. a name attribute <code>tpi:Fact name=&quot;TotalLinePrice&quot;</code> but it is not clear what your output has to do with the XSLT or what additional tool you use."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1666730640,"post_id":74199207,"comment_id":131004855,"body_markdown":"Please provide a [mcve]. not snippets of code taken out context.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. not snippets of code taken out context."},{"owner":{"account_id":2379627,"reputation":11,"user_id":2081925,"display_name":"user2081925"},"score":0,"creation_date":1666730648,"post_id":74199207,"comment_id":131004858,"body_markdown":"@MartinHonnen Thanks for the feedback. I have consolidated the base XML to make it more readable. I need to use those three input params to calculate a value that I store as a variable. TOTALLINEPRICE is a fact that we transmit as a node to Snowflake via Firehose. Essentially, I need it to be total aggregated value for all Line Item totals based on the computed values. Does that make sense?","body":"@MartinHonnen Thanks for the feedback. I have consolidated the base XML to make it more readable. I need to use those three input params to calculate a value that I store as a variable. TOTALLINEPRICE is a fact that we transmit as a node to Snowflake via Firehose. Essentially, I need it to be total aggregated value for all Line Item totals based on the computed values. Does that make sense?"},{"owner":{"account_id":2379627,"reputation":11,"user_id":2081925,"display_name":"user2081925"},"score":0,"creation_date":1666730801,"post_id":74199207,"comment_id":131004894,"body_markdown":"@michael.hor257k How is the code taken out of context? I am simply asking how to sum XSLT variables stored inside of a for-each-group.","body":"@michael.hor257k How is the code taken out of context? I am simply asking how to sum XSLT variables stored inside of a for-each-group."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666730996,"post_id":74199207,"comment_id":131004945,"body_markdown":"Please provide an input sample and an XSLT sample, both minimal but complete, together with the XSLT result you want and the one you get. I don&#39;t know what Snowflake or Firehose is and what their relation is to the XSLT code, so if you can only present the result in terms of those tools then add a tag for them and see whether someone in that context understands the sample input, XSLT, and result.","body":"Please provide an input sample and an XSLT sample, both minimal but complete, together with the XSLT result you want and the one you get. I don&#39;t know what Snowflake or Firehose is and what their relation is to the XSLT code, so if you can only present the result in terms of those tools then add a tag for them and see whether someone in that context understands the sample input, XSLT, and result."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1666731122,"post_id":74199207,"comment_id":131004977,"body_markdown":"The simple answer is that you can&#39;t. That doesn&#39;t mean that you cannot get the result you want from the input you have. But I cannot tell you how, because I see neither. Please read this link carefully: [mcve].","body":"The simple answer is that you can&#39;t. That doesn&#39;t mean that you cannot get the result you want from the input you have. But I cannot tell you how, because I see neither. Please read this link carefully: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":2379627,"reputation":11,"user_id":2081925,"display_name":"user2081925"},"score":0,"creation_date":1666732710,"post_id":74200281,"comment_id":131005411,"body_markdown":"This looks great Michael! Thank you! Is it still possible to do internal calculations (e.g. choose/when) using this same logic? Apologize for the confusion. I am not adept at XSLT programming.","body":"This looks great Michael! Thank you! Is it still possible to do internal calculations (e.g. choose/when) using this same logic? Apologize for the confusion. I am not adept at XSLT programming."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1666732870,"post_id":74200281,"comment_id":131005449,"body_markdown":"Yes, of course. The example is purposefully using a calculation, albeit a simple one. But you can use any process you want to populate the `$subtotals` variable.","body":"Yes, of course. The example is purposefully using a calculation, albeit a simple one. But you can use any process you want to populate the <code>$subtotals</code> variable."}],"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666732492,"creation_date":1666732492,"answer_id":74200281,"question_id":74199207,"body_markdown":"Consider the following **simplified** example:\r\n\r\n**XML**\r\n\r\n    &lt;items&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;2&lt;/qty&gt;\r\n    \t\t&lt;price&gt;10.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;A&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;3&lt;/qty&gt;\r\n    \t\t&lt;price&gt;5.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;A&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;4&lt;/qty&gt;\r\n    \t\t&lt;price&gt;8.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;A&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;6&lt;/qty&gt;\r\n    \t\t&lt;price&gt;3.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;B&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;3&lt;/qty&gt;\r\n    \t\t&lt;price&gt;9.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;B&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n    \t&lt;item&gt;\r\n    \t\t&lt;qty&gt;7&lt;/qty&gt;\r\n    \t\t&lt;price&gt;8.00&lt;/price&gt;\r\n    \t\t&lt;group&gt;C&lt;/group&gt;\r\n    \t&lt;/item&gt;\r\n     &lt;/items&gt;\r\n\r\n**XSLT 2.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/items&quot;&gt;\r\n    \t&lt;xsl:variable name=&quot;subtotals&quot;&gt;\r\n    \t\t&lt;xsl:for-each-group select=&quot;item&quot; group-by=&quot;group&quot;&gt;\r\n    \t\t\t&lt;subtotal group=&quot;{current-grouping-key()}&quot;&gt;\r\n    \t\t\t\t&lt;xsl:value-of select=&quot;sum(current-group()/(price*qty))&quot;/&gt;\r\n    \t\t\t&lt;/subtotal&gt;\r\n    \t\t&lt;/xsl:for-each-group&gt;\r\n    \t&lt;/xsl:variable&gt;\r\n    \t&lt;output&gt;\r\n    \t\t&lt;xsl:copy-of select=&quot;$subtotals&quot;/&gt;\r\n    \t\t&lt;total&gt;\r\n    \t\t\t&lt;xsl:value-of select=&quot;sum($subtotals/subtotal)&quot;/&gt;\r\n    \t\t&lt;/total&gt;\r\n    \t&lt;/output&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**Result**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;output&gt;\r\n       &lt;subtotal group=&quot;A&quot;&gt;67&lt;/subtotal&gt;\r\n       &lt;subtotal group=&quot;B&quot;&gt;45&lt;/subtotal&gt;\r\n       &lt;subtotal group=&quot;C&quot;&gt;56&lt;/subtotal&gt;\r\n       &lt;total&gt;168&lt;/total&gt;\r\n    &lt;/output&gt;\r\n\r\n","title":"Summing Variables Using For-each-group","body":"<p>Consider the following <strong>simplified</strong> example:</p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;items&gt;\n    &lt;item&gt;\n        &lt;qty&gt;2&lt;/qty&gt;\n        &lt;price&gt;10.00&lt;/price&gt;\n        &lt;group&gt;A&lt;/group&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;qty&gt;3&lt;/qty&gt;\n        &lt;price&gt;5.00&lt;/price&gt;\n        &lt;group&gt;A&lt;/group&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;qty&gt;4&lt;/qty&gt;\n        &lt;price&gt;8.00&lt;/price&gt;\n        &lt;group&gt;A&lt;/group&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;qty&gt;6&lt;/qty&gt;\n        &lt;price&gt;3.00&lt;/price&gt;\n        &lt;group&gt;B&lt;/group&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;qty&gt;3&lt;/qty&gt;\n        &lt;price&gt;9.00&lt;/price&gt;\n        &lt;group&gt;B&lt;/group&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;qty&gt;7&lt;/qty&gt;\n        &lt;price&gt;8.00&lt;/price&gt;\n        &lt;group&gt;C&lt;/group&gt;\n    &lt;/item&gt;\n &lt;/items&gt;\n</code></pre>\n<p><strong>XSLT 2.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n&lt;xsl:template match=&quot;/items&quot;&gt;\n    &lt;xsl:variable name=&quot;subtotals&quot;&gt;\n        &lt;xsl:for-each-group select=&quot;item&quot; group-by=&quot;group&quot;&gt;\n            &lt;subtotal group=&quot;{current-grouping-key()}&quot;&gt;\n                &lt;xsl:value-of select=&quot;sum(current-group()/(price*qty))&quot;/&gt;\n            &lt;/subtotal&gt;\n        &lt;/xsl:for-each-group&gt;\n    &lt;/xsl:variable&gt;\n    &lt;output&gt;\n        &lt;xsl:copy-of select=&quot;$subtotals&quot;/&gt;\n        &lt;total&gt;\n            &lt;xsl:value-of select=&quot;sum($subtotals/subtotal)&quot;/&gt;\n        &lt;/total&gt;\n    &lt;/output&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;output&gt;\n   &lt;subtotal group=&quot;A&quot;&gt;67&lt;/subtotal&gt;\n   &lt;subtotal group=&quot;B&quot;&gt;45&lt;/subtotal&gt;\n   &lt;subtotal group=&quot;C&quot;&gt;56&lt;/subtotal&gt;\n   &lt;total&gt;168&lt;/total&gt;\n&lt;/output&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667089706,"creation_date":1667089706,"answer_id":74249776,"question_id":74199207,"body_markdown":"**It seems that want you wanted was actually this XSLT transformation** (obtained from the one provided in the problem and fixed a few issues):\r\n\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n     xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; exclude-result-prefixes=&quot;xs&quot;&gt;\r\n     &lt;xsl:output omit-xml-declaration=&quot;yes&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n       &lt;Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;\r\n        &lt;xsl:variable name=&quot;uPrice&quot;&gt;\r\n    \t\t  &lt;xsl:for-each-group select=&quot;/PurchaseOrder/LineItems/LineItem/OrderLine&quot; \r\n                             group-starting-with=&quot;OrderLine[normalize-space(OrderQty)]&quot;&gt;\r\n    \t\t       &lt;xsl:for-each select=&quot;current-group()&quot;&gt;\r\n                     &lt;xsl:variable name=&quot;unitPrice&quot;&gt;\r\n                           &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/UnitPrice)&quot;/&gt;\r\n                     &lt;/xsl:variable&gt;\r\n                     &lt;xsl:variable name=&quot;orderQty&quot;&gt;\r\n                           &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/OrderQty)&quot;/&gt;\r\n                     &lt;/xsl:variable&gt;\r\n                     &lt;xsl:variable name=&quot;calcPriceBasis&quot;&gt;\r\n    \t                 &lt;xsl:choose&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;TP&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HT&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HP&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 100))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HTH&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 100000))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;PD&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 12))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;PN&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 10))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;TT&#39;]&quot;&gt;\r\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 10000))&quot;/&gt;\r\n                            &lt;/xsl:when&gt;\r\n                            &lt;xsl:otherwise&gt;\r\n                                &lt;xsl:copy-of select=&quot;$unitPrice&quot;/&gt;\r\n                            &lt;/xsl:otherwise&gt;\r\n    \t                 &lt;/xsl:choose&gt;\r\n                     &lt;/xsl:variable&gt;\r\n                     &lt;total&gt;\r\n                       &lt;xsl:sequence select=\r\n                         &quot;xs:decimal(format-number($calcPriceBasis * $orderQty, &#39;0.00&#39;))&quot;/&gt;\r\n                     &lt;/total&gt;\r\n    \t\t       &lt;/xsl:for-each&gt;\r\n    \t\t  &lt;/xsl:for-each-group&gt;\r\n         &lt;/xsl:variable&gt;\r\n         &lt;xsl:copy-of select=&quot;sum($uPrice/*)&quot;/&gt;\r\n       &lt;/Fact&gt;\r\n      &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**When the above, corrected transformation is applied on the provided XML document** (corrected to be made a well-formed XML document):\r\n\r\n    &lt;PurchaseOrder&gt;\r\n    \t&lt;LineItems&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;105.28&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;75&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;2.88&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;3&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;155.36&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;12&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;1.64&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;2&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;2.28&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;5&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;3.6&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;405.24&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;5&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;79.04&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t\t&lt;LineItem&gt;\r\n    \t\t\t&lt;OrderLine&gt;\r\n    \t\t\t\t&lt;OrderQty&gt;9&lt;/OrderQty&gt;\r\n    \t\t\t\t&lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\r\n    \t\t\t\t&lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n    \t\t\t&lt;/OrderLine&gt;\r\n    \t\t&lt;/LineItem&gt;\r\n    \t&lt;/LineItems&gt;\r\n    &lt;/PurchaseOrder&gt;\r\n\r\n**the seemingly wanted single result sum is produced**:\r\n\r\n    &lt;Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;1651.5399999999997&lt;/Fact&gt;","title":"Summing Variables Using For-each-group","body":"<p><strong>It seems that want you wanted was actually this XSLT transformation</strong> (obtained from the one provided in the problem and fixed a few issues):</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; exclude-result-prefixes=&quot;xs&quot;&gt;\n &lt;xsl:output omit-xml-declaration=&quot;yes&quot; indent=&quot;yes&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;\n   &lt;Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;\n    &lt;xsl:variable name=&quot;uPrice&quot;&gt;\n          &lt;xsl:for-each-group select=&quot;/PurchaseOrder/LineItems/LineItem/OrderLine&quot; \n                         group-starting-with=&quot;OrderLine[normalize-space(OrderQty)]&quot;&gt;\n               &lt;xsl:for-each select=&quot;current-group()&quot;&gt;\n                 &lt;xsl:variable name=&quot;unitPrice&quot;&gt;\n                       &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/UnitPrice)&quot;/&gt;\n                 &lt;/xsl:variable&gt;\n                 &lt;xsl:variable name=&quot;orderQty&quot;&gt;\n                       &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/OrderQty)&quot;/&gt;\n                 &lt;/xsl:variable&gt;\n                 &lt;xsl:variable name=&quot;calcPriceBasis&quot;&gt;\n                     &lt;xsl:choose&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='TP']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HT']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HP']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 100))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HTH']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 100000))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='PD']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 12))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='PN']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 10))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='TT']&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;round(($unitPrice div 10000))&quot;/&gt;\n                        &lt;/xsl:when&gt;\n                        &lt;xsl:otherwise&gt;\n                            &lt;xsl:copy-of select=&quot;$unitPrice&quot;/&gt;\n                        &lt;/xsl:otherwise&gt;\n                     &lt;/xsl:choose&gt;\n                 &lt;/xsl:variable&gt;\n                 &lt;total&gt;\n                   &lt;xsl:sequence select=\n                     &quot;xs:decimal(format-number($calcPriceBasis * $orderQty, '0.00'))&quot;/&gt;\n                 &lt;/total&gt;\n               &lt;/xsl:for-each&gt;\n          &lt;/xsl:for-each-group&gt;\n     &lt;/xsl:variable&gt;\n     &lt;xsl:copy-of select=&quot;sum($uPrice/*)&quot;/&gt;\n   &lt;/Fact&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>When the above, corrected transformation is applied on the provided XML document</strong> (corrected to be made a well-formed XML document):</p>\n<pre><code>&lt;PurchaseOrder&gt;\n    &lt;LineItems&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;105.28&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;75&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.88&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;3&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;155.36&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;12&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;1.64&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;2&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.28&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;3.6&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;405.24&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;79.04&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;9&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n    &lt;/LineItems&gt;\n&lt;/PurchaseOrder&gt;\n</code></pre>\n<p><strong>the seemingly wanted single result sum is produced</strong>:</p>\n<pre><code>&lt;Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;1651.5399999999997&lt;/Fact&gt;\n</code></pre>\n"}],"owner":{"account_id":2379627,"reputation":11,"user_id":2081925,"display_name":"user2081925"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667089706,"creation_date":1666725941,"question_id":74199207,"body_markdown":"I have a list of nodes for which I need to compute a total then sum said total as a group. I have created the appropriate variables but when I use a sum() as my final output, it produces a concatenated string as opposed to a total value.\r\n\r\nHere is the input XML:\r\n```xml\r\n&lt;LineItems&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;105.28&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;75&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;2.88&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;3&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;155.36&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;12&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;1.64&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;2&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;2.28&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;3.6&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;405.24&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;79.04&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n        &lt;LineItem&gt;\r\n            &lt;OrderLine&gt;\r\n                &lt;OrderQty&gt;9&lt;/OrderQty&gt;\r\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\r\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\r\n            &lt;/OrderLine&gt;\r\n        &lt;/LineItem&gt;\r\n    &lt;/LineItems&gt;\r\n```\r\nAnd here is what I have been using thus far:\r\n```xml\r\n&lt;tpi:Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;\r\n\t\t\t\t&lt;xsl:for-each-group select=&quot;/PurchaseOrder/LineItems/LineItem/OrderLine&quot; group-starting-with=&quot;OrderLine[normalize-space(OrderQty)]&quot;&gt;\r\n\t\t\t\t\t&lt;xsl:variable name=&quot;uPrice&quot; as=&quot;node()*&quot;&gt;\r\n\t\t\t\t\t&lt;xsl:for-each select=&quot;current-group()&quot;&gt;\r\n\t\t\t\t\t\t&lt;xsl:variable name=&quot;unitPrice&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;xs:decimal(current-group()/UnitPrice)&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/xsl:variable&gt;\r\n\t\t\t\t\t\t&lt;xsl:variable name=&quot;orderQty&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;xs:decimal(current-group()/OrderQty)&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/xsl:variable&gt;\r\n\t\t\t\t\t\t&lt;xsl:variable name=&quot;calcPriceBasis&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:choose&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;TP&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HT&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HP&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 100))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;HTH&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 100000))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;PD&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 12))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;PN&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 10))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:when test=&quot;current-group()[UnitPriceBasis=&#39;TT&#39;]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;round(($unitPrice div 10000))&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:when&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:otherwise&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsl:copy-of select=&quot;$unitPrice&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:otherwise&gt;\r\n\t\t\t\t\t\t\t&lt;/xsl:choose&gt;\r\n\t\t\t\t\t\t&lt;/xsl:variable&gt;\r\n\t\t\t\t\t\t&lt;total&gt;\r\n\t\t\t\t\t\t\t&lt;xsl:sequence select=&quot;format-number($calcPriceBasis * $orderQty, &#39;0.00&#39;)&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/total&gt;\r\n\t\t\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t\t\t\t&lt;/xsl:variable&gt;\r\n\t\t\t\t\t&lt;xsl:value-of select=&quot;sum($uPrice)&quot;/&gt;\r\n\t\t\t\t&lt;/xsl:for-each-group&gt;\r\n\t\t\t&lt;/tpi:Fact&gt;\r\n```\r\nThe output I am getting is:\r\n```\r\n&quot;TOTALLINEPRICE&quot;:&quot;105.28216466.0819.684.5618405.24395.22.1519.35&quot;\r\n```\r\nwhich is each node of this calculation\r\n\r\n```\r\n&lt;xsl:sequence select=&quot;format-number($calcPriceBasis * $orderQty, &#39;0.00&#39;)&quot;/&gt;\r\n```\r\nappended to itself as a concatenated string. \r\nBut I would hope to see\r\n```\r\n&quot;TOTALLINEPRICE&quot;: &quot;1456.84&quot;\r\n```\r\nwhich would be the sum total of each calculated value.\r\n\r\nTOTALLINEPRICE is a new node created inside of the XML much like adding \r\n```\r\n&lt;TOTALLINEPRICE&gt;\r\n&lt;/TOTALLINEPRICE&gt;\r\n```\r\n\r\n\r\nAs you can see, I need to compute a different price basis based on an input code (UnitPriceBasis) within each nodes itself. I know that xslt is not a programmatic language and variables are technically immutable. But there has to be a way to do this.\r\n\r\nFor reference, I am using:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; xmlns:tpi=&quot;http://www.spscommerce.net/tpi&quot;&gt;\r\n```\r\nWhere have I gone wrong?","title":"Summing Variables Using For-each-group","body":"<p>I have a list of nodes for which I need to compute a total then sum said total as a group. I have created the appropriate variables but when I use a sum() as my final output, it produces a concatenated string as opposed to a total value.</p>\n<p>Here is the input XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LineItems&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;105.28&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;75&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.88&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;3&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;155.36&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;12&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;1.64&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;2&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.28&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;3.6&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;405.24&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;5&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;79.04&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;1&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n        &lt;LineItem&gt;\n            &lt;OrderLine&gt;\n                &lt;OrderQty&gt;9&lt;/OrderQty&gt;\n                &lt;UnitPrice&gt;2.15&lt;/UnitPrice&gt;\n                &lt;UnitPriceBasis&gt;UM&lt;/UnitPriceBasis&gt;\n            &lt;/OrderLine&gt;\n        &lt;/LineItem&gt;\n    &lt;/LineItems&gt;\n</code></pre>\n<p>And here is what I have been using thus far:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;tpi:Fact name=&quot;TotalLinePrice&quot; factType=&quot;Virtual&quot;&gt;\n                &lt;xsl:for-each-group select=&quot;/PurchaseOrder/LineItems/LineItem/OrderLine&quot; group-starting-with=&quot;OrderLine[normalize-space(OrderQty)]&quot;&gt;\n                    &lt;xsl:variable name=&quot;uPrice&quot; as=&quot;node()*&quot;&gt;\n                    &lt;xsl:for-each select=&quot;current-group()&quot;&gt;\n                        &lt;xsl:variable name=&quot;unitPrice&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/UnitPrice)&quot;/&gt;\n                        &lt;/xsl:variable&gt;\n                        &lt;xsl:variable name=&quot;orderQty&quot;&gt;\n                            &lt;xsl:copy-of select=&quot;xs:decimal(current-group()/OrderQty)&quot;/&gt;\n                        &lt;/xsl:variable&gt;\n                        &lt;xsl:variable name=&quot;calcPriceBasis&quot;&gt;\n                            &lt;xsl:choose&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='TP']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HT']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 1000))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HP']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 100))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='HTH']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 100000))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='PD']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 12))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='PN']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 10))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:when test=&quot;current-group()[UnitPriceBasis='TT']&quot;&gt;\n                                &lt;xsl:copy-of select=&quot;round(($unitPrice div 10000))&quot;/&gt;\n                            &lt;/xsl:when&gt;\n                            &lt;xsl:otherwise&gt;\n                                &lt;xsl:copy-of select=&quot;$unitPrice&quot;/&gt;\n                            &lt;/xsl:otherwise&gt;\n                            &lt;/xsl:choose&gt;\n                        &lt;/xsl:variable&gt;\n                        &lt;total&gt;\n                            &lt;xsl:sequence select=&quot;format-number($calcPriceBasis * $orderQty, '0.00')&quot;/&gt;\n                        &lt;/total&gt;\n                    &lt;/xsl:for-each&gt;\n                    &lt;/xsl:variable&gt;\n                    &lt;xsl:value-of select=&quot;sum($uPrice)&quot;/&gt;\n                &lt;/xsl:for-each-group&gt;\n            &lt;/tpi:Fact&gt;\n</code></pre>\n<p>The output I am getting is:</p>\n<pre><code>&quot;TOTALLINEPRICE&quot;:&quot;105.28216466.0819.684.5618405.24395.22.1519.35&quot;\n</code></pre>\n<p>which is each node of this calculation</p>\n<pre><code>&lt;xsl:sequence select=&quot;format-number($calcPriceBasis * $orderQty, '0.00')&quot;/&gt;\n</code></pre>\n<p>appended to itself as a concatenated string.\nBut I would hope to see</p>\n<pre><code>&quot;TOTALLINEPRICE&quot;: &quot;1456.84&quot;\n</code></pre>\n<p>which would be the sum total of each calculated value.</p>\n<p>TOTALLINEPRICE is a new node created inside of the XML much like adding</p>\n<pre><code>&lt;TOTALLINEPRICE&gt;\n&lt;/TOTALLINEPRICE&gt;\n</code></pre>\n<p>As you can see, I need to compute a different price basis based on an input code (UnitPriceBasis) within each nodes itself. I know that xslt is not a programmatic language and variables are technically immutable. But there has to be a way to do this.</p>\n<p>For reference, I am using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; xmlns:tpi=&quot;http://www.spscommerce.net/tpi&quot;&gt;\n</code></pre>\n<p>Where have I gone wrong?</p>\n"},{"tags":["java","javafx","focus","contextmenu","textfield"],"comments":[{"owner":{"account_id":2287595,"reputation":67,"user_id":2011256,"accept_rate":75,"display_name":"Masy"},"score":0,"creation_date":1552135946,"post_id":55077121,"comment_id":96901465,"body_markdown":"Sure, I added an example.","body":"Sure, I added an example."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1552143593,"post_id":55077121,"comment_id":96903512,"body_markdown":"ooookay .. can&#39;t reproduce the not-selection, but had seen it, so seems to be very random ;) As to the details of your requirements: a bit hard to follow - in your shoes I would have a look at ContextMenuSkin and ContextMenuContent,  latter is doing all the key bindings, selections and such - you might be able to hook into them (if your context isn&#39;t too complex like having multiple levels of submenus).","body":"ooookay .. can&#39;t reproduce the not-selection, but had seen it, so seems to be very random ;) As to the details of your requirements: a bit hard to follow - in your shoes I would have a look at ContextMenuSkin and ContextMenuContent,  latter is doing all the key bindings, selections and such - you might be able to hook into them (if your context isn&#39;t too complex like having multiple levels of submenus)."}],"answers":[{"tags":[],"owner":{"account_id":16410239,"reputation":181,"user_id":11853737,"display_name":"Caelis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572808926,"creation_date":1572808926,"answer_id":58683801,"question_id":55077121,"body_markdown":"I workaround the problem in Kotlin by opening a &quot;fake&quot; ContextMenu in the AutoCompleteTextField init-block and closing it after one millisecond in other coroutine. \r\n\r\nYou can do that in Java as well with a new thread. Hope it helps!\r\n\r\n    GlobalScope.launch {\r\n        Platform.runLater {\r\n            suggestionMenu.items.add(MenuItem(&quot;fake&quot;))\r\n            suggestionMenu.show(this@AutoCompleteTextField, Side.BOTTOM, 0.0, 0.0)\r\n        }\r\n        delay(1)\r\n        Platform.runLater {\r\n            suggestionMenu.hide()\r\n        }\r\n    }\r\n","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I workaround the problem in Kotlin by opening a \"fake\" ContextMenu in the AutoCompleteTextField init-block and closing it after one millisecond in other coroutine. </p>\n\n<p>You can do that in Java as well with a new thread. Hope it helps!</p>\n\n<pre><code>GlobalScope.launch {\n    Platform.runLater {\n        suggestionMenu.items.add(MenuItem(\"fake\"))\n        suggestionMenu.show(this@AutoCompleteTextField, Side.BOTTOM, 0.0, 0.0)\n    }\n    delay(1)\n    Platform.runLater {\n        suggestionMenu.hide()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667089370,"creation_date":1619329022,"answer_id":67250132,"question_id":55077121,"body_markdown":"I created a solution based on [this][1] and the `ContextMenuContent.class`.\r\n\r\n`ContextMenuContent`, as kleopatra suggested, does most of the key bindings. Inside, there is a method called `requestFocusOnIndex()` that allowed me to get rid that weird behavior.\r\n\r\nSo your code could be:\r\n\r\n    textField.addEventFilter(KeyEvent.KEY_PRESSED, event-&gt;{\r\n\t\tif(event.getCode() == KeyCode.DOWN) {\r\n\t\t\tif(!suggestionMenu.isShowing())\r\n\t\t\t\tsuggestionMenu.show(textField, Side.BOTTOM, 0, 0);\r\n\t\t\tsuggestionMenuKeyBindings = (ContextMenuContent) suggestionMenu.getSkin().getNode();\r\n\t\t\tsuggestionMenuKeyBindings.requestFocusOnIndex(0);\r\n\t\t}\r\n\t});\r\nAlso, you will need to put \r\n\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\r\nWhen compiling AND running, otherwise you may get an IllegalAccessError\r\n\r\n  [1]: https://stackoverflow.com/questions/59688014/is-there-a-way-to-access-contextmenu-scroll-arrows-scroll-bar-javafx","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I created a solution based on <a href=\"https://stackoverflow.com/questions/59688014/is-there-a-way-to-access-contextmenu-scroll-arrows-scroll-bar-javafx\">this</a> and the <code>ContextMenuContent.class</code>.</p>\n<p><code>ContextMenuContent</code>, as kleopatra suggested, does most of the key bindings. Inside, there is a method called <code>requestFocusOnIndex()</code> that allowed me to get rid that weird behavior.</p>\n<p>So your code could be:</p>\n<pre><code>textField.addEventFilter(KeyEvent.KEY_PRESSED, event-&gt;{\n    if(event.getCode() == KeyCode.DOWN) {\n        if(!suggestionMenu.isShowing())\n            suggestionMenu.show(textField, Side.BOTTOM, 0, 0);\n        suggestionMenuKeyBindings = (ContextMenuContent) suggestionMenu.getSkin().getNode();\n        suggestionMenuKeyBindings.requestFocusOnIndex(0);\n    }\n});\n</code></pre>\n<p>Also, you will need to put</p>\n<pre><code>--add-exports javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED\n</code></pre>\n<p>When compiling AND running, otherwise you may get an IllegalAccessError</p>\n"}],"owner":{"account_id":2287595,"reputation":67,"user_id":2011256,"accept_rate":75,"display_name":"Masy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667089370,"creation_date":1552132743,"question_id":55077121,"body_markdown":"I am trying to make an autocomplete style **TextField** that uses a **ContextMenu** to display the suggestions below the TextField. I would like for the ContextMenu to be displayed when a user presses the down key while focus is on the TextField. This is my current solution:\r\n\r\n    setOnKeyPressed(event -&gt; {\r\n            System.out.println(&quot;pressed &quot; + event.getCode());\r\n            switch (event.getCode()) {\r\n                case DOWN:\r\n                    if(getText().length()&gt;0) {\r\n                        if (!suggestionMenu.isShowing()) {\r\n                            suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                        }\r\n                        suggestionMenu.getSkin().getNode().lookup(&quot;.menu-item&quot;).requestFocus();\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n\r\n&gt; *Source: https://stackoverflow.com/questions/27332981/contextmenu-and-programmatically-selecting-an-item/27333547#27333547*\r\n\r\nUsing this code, the down arrow always &quot;selects&quot; (colours blue) the first item in the list. The problem is that sometimes (seems random to me), the second arrow key-press will not yield any response in the ContextMenu - the first item will stay selected. After that press, it will always work fine.\r\n\r\nI would also prefer that pressing up while having the first element selected would hide the ContextMenu, and that space would not fire the *onAction* method of the **MenuItem**s, though I don&#39;t really understand how the focus/event listening for this menu works. It seems like the keyboard has two focuses at once - up/down, spacebar and enter on the ContextMenu, while everything else goes to the TextField.\r\n\r\nEdit:\r\nHere is a complete example. When showing the ContextMenu using the arrow down key, sometimes it will cause the problematic behaviour, other times not.\r\n\r\n**Main.java**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage stage) throws Exception {\r\n    \t\tBorderPane pane = new BorderPane();\r\n    \t\tAutoCompleteTextField actf = new AutoCompleteTextField();\r\n    \t\tpane.setTop(actf);\r\n    \t\tstage.setScene(new Scene(pane));\r\n    \t\tstage.show();\r\n    \t}\r\n    }\r\n\r\n**AutoCompleteTextField.java**\r\n\r\n    import javafx.geometry.Side;\r\n    import javafx.scene.control.ContextMenu;\r\n    import javafx.scene.control.CustomMenuItem;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AutoCompleteTextField extends TextField {\r\n        private ContextMenu suggestionMenu;\r\n    \r\n        public AutoCompleteTextField(){\r\n            super();\r\n            suggestionMenu = new ContextMenu();\r\n            for(int i = 0; i&lt;5; i++) {\r\n                CustomMenuItem item = new CustomMenuItem(new Label(&quot;Item &quot;+i), true);\r\n                item.setOnAction(event -&gt; {\r\n                    setText(&quot;selected&quot;);\r\n                    positionCaret(getText().length());\r\n                    suggestionMenu.hide();\r\n                });\r\n                suggestionMenu.getItems().add(item);\r\n            }\r\n    \r\n            textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if(getText().length()&gt;0){\r\n                    if (!suggestionMenu.isShowing())\r\n                        suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                } else {\r\n                    suggestionMenu.hide();\r\n                }\r\n            });\r\n    \r\n            setOnKeyPressed(event -&gt; {\r\n                System.out.println(&quot;pressed &quot; + event.getCode());\r\n                switch (event.getCode()) {\r\n                    case DOWN:\r\n                        if(getText().length()&gt;0) {\r\n                            if (!suggestionMenu.isShowing()) {\r\n                                suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\r\n                            }\r\n                            suggestionMenu.getSkin().getNode().lookup(&quot;.menu-item&quot;).requestFocus();\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Controlling a JavaFX ContextMenu connected to a TextField with the arrow keys","body":"<p>I am trying to make an autocomplete style <strong>TextField</strong> that uses a <strong>ContextMenu</strong> to display the suggestions below the TextField. I would like for the ContextMenu to be displayed when a user presses the down key while focus is on the TextField. This is my current solution:</p>\n\n<pre><code>setOnKeyPressed(event -&gt; {\n        System.out.println(\"pressed \" + event.getCode());\n        switch (event.getCode()) {\n            case DOWN:\n                if(getText().length()&gt;0) {\n                    if (!suggestionMenu.isShowing()) {\n                        suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n                    }\n                    suggestionMenu.getSkin().getNode().lookup(\".menu-item\").requestFocus();\n                }\n                break;\n        }\n    });\n</code></pre>\n\n<blockquote>\n  <p><em>Source: <a href=\"https://stackoverflow.com/questions/27332981/contextmenu-and-programmatically-selecting-an-item/27333547#27333547\">ContextMenu and programmatically selecting an item</a></em></p>\n</blockquote>\n\n<p>Using this code, the down arrow always \"selects\" (colours blue) the first item in the list. The problem is that sometimes (seems random to me), the second arrow key-press will not yield any response in the ContextMenu - the first item will stay selected. After that press, it will always work fine.</p>\n\n<p>I would also prefer that pressing up while having the first element selected would hide the ContextMenu, and that space would not fire the <em>onAction</em> method of the <strong>MenuItem</strong>s, though I don't really understand how the focus/event listening for this menu works. It seems like the keyboard has two focuses at once - up/down, spacebar and enter on the ContextMenu, while everything else goes to the TextField.</p>\n\n<p>Edit:\nHere is a complete example. When showing the ContextMenu using the arrow down key, sometimes it will cause the problematic behaviour, other times not.</p>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        BorderPane pane = new BorderPane();\n        AutoCompleteTextField actf = new AutoCompleteTextField();\n        pane.setTop(actf);\n        stage.setScene(new Scene(pane));\n        stage.show();\n    }\n}\n</code></pre>\n\n<p><strong>AutoCompleteTextField.java</strong></p>\n\n<pre><code>import javafx.geometry.Side;\nimport javafx.scene.control.ContextMenu;\nimport javafx.scene.control.CustomMenuItem;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\n\npublic class AutoCompleteTextField extends TextField {\n    private ContextMenu suggestionMenu;\n\n    public AutoCompleteTextField(){\n        super();\n        suggestionMenu = new ContextMenu();\n        for(int i = 0; i&lt;5; i++) {\n            CustomMenuItem item = new CustomMenuItem(new Label(\"Item \"+i), true);\n            item.setOnAction(event -&gt; {\n                setText(\"selected\");\n                positionCaret(getText().length());\n                suggestionMenu.hide();\n            });\n            suggestionMenu.getItems().add(item);\n        }\n\n        textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if(getText().length()&gt;0){\n                if (!suggestionMenu.isShowing())\n                    suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n            } else {\n                suggestionMenu.hide();\n            }\n        });\n\n        setOnKeyPressed(event -&gt; {\n            System.out.println(\"pressed \" + event.getCode());\n            switch (event.getCode()) {\n                case DOWN:\n                    if(getText().length()&gt;0) {\n                        if (!suggestionMenu.isShowing()) {\n                            suggestionMenu.show(AutoCompleteTextField.this, Side.BOTTOM, 0, 0);\n                        }\n                        suggestionMenu.getSkin().getNode().lookup(\".menu-item\").requestFocus();\n                    }\n                    break;\n            }\n        });\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-functions","firebase-cloud-messaging","android-notifications"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667269062,"post_id":74232968,"comment_id":131124629,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74232968/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666947761,"creation_date":1666947761,"answer_id":74232968,"question_id":74232839,"body_markdown":"Use\r\n\r\n    Notification noti=new Notification(&quot;Title&quot;,&quot;Body&quot;);\r\n    Message messages = Message.builder()\r\n            .setNotification(noti)\r\n                .setToken(registrationToken)\r\n                .build();","title":"Uncompilable code - cannot find symbol: method builder() location: class com.google.firebase.messaging.Notification","body":"<p>Use</p>\n<pre><code>Notification noti=new Notification(&quot;Title&quot;,&quot;Body&quot;);\nMessage messages = Message.builder()\n        .setNotification(noti)\n            .setToken(registrationToken)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667088836,"creation_date":1666947116,"question_id":74232839,"body_markdown":"I&#39;m trying to send a notification from my Java web app to Android using FCM, but I&#39;m getting an error:\r\n\r\n&gt; Uncompilable code - cannot find symbol   symbol:   method builder()  \r\n&gt; location: class com.google.firebase.messaging.Notification\r\n\r\nMy full code:\r\n\r\n~~~\r\npublic class FirebaseMessagingSnippets {\r\n    \r\n    public final static String registrationToken = &quot;token&quot;;\r\n    public final static String API_URL_FCM = &quot;https://fcm.googleapis.com/fcm/send&quot;;\r\n    public static void sendAll() throws FirebaseMessagingException, FileNotFoundException, IOException{\r\n      \r\n        //System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\r\n    FileInputStream serviceAccount =\r\n      new FileInputStream(&quot;service.json&quot;);\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n      .build();\r\n\r\n    FirebaseApp.initializeApp(options);\r\n\r\n    Message messages = Message.builder()\r\n            .setNotification(Notification.builder()\r\n                .setTitle(&quot;Price drop&quot;)\r\n                .setBody(&quot;2% off all books&quot;)\r\n                .build())\r\n                .putData(&quot;title&quot;, &quot;850&quot;)\r\n                .putData(&quot;body&quot;, &quot;2:45&quot;)\r\n                .setToken(registrationToken)\r\n                .build();\r\n       // Send a message to the device corresponding to the provided\r\n    // registration token.\r\n    String response = FirebaseMessaging.getInstance().send(messages);\r\n    // Response is a message ID string.\r\n    System.out.println(&quot;Successfully sent message: &quot; + response);\r\n    \r\n  }\r\n   \r\n}\r\n~~~\r\n\r\n\r\nThere&#39;s no issue with Message.builder(), only for Notification.builder().\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSyEx.png","title":"Uncompilable code - cannot find symbol: method builder() location: class com.google.firebase.messaging.Notification","body":"<p>I'm trying to send a notification from my Java web app to Android using FCM, but I'm getting an error:</p>\n<blockquote>\n<p>Uncompilable code - cannot find symbol   symbol:   method builder()<br />\nlocation: class com.google.firebase.messaging.Notification</p>\n</blockquote>\n<p>My full code:</p>\n<pre><code>public class FirebaseMessagingSnippets {\n    \n    public final static String registrationToken = &quot;token&quot;;\n    public final static String API_URL_FCM = &quot;https://fcm.googleapis.com/fcm/send&quot;;\n    public static void sendAll() throws FirebaseMessagingException, FileNotFoundException, IOException{\n      \n        //System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n\n    FileInputStream serviceAccount =\n      new FileInputStream(&quot;service.json&quot;);\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n      .build();\n\n    FirebaseApp.initializeApp(options);\n\n    Message messages = Message.builder()\n            .setNotification(Notification.builder()\n                .setTitle(&quot;Price drop&quot;)\n                .setBody(&quot;2% off all books&quot;)\n                .build())\n                .putData(&quot;title&quot;, &quot;850&quot;)\n                .putData(&quot;body&quot;, &quot;2:45&quot;)\n                .setToken(registrationToken)\n                .build();\n       // Send a message to the device corresponding to the provided\n    // registration token.\n    String response = FirebaseMessaging.getInstance().send(messages);\n    // Response is a message ID string.\n    System.out.println(&quot;Successfully sent message: &quot; + response);\n    \n  }\n   \n}\n</code></pre>\n<p>There's no issue with Message.builder(), only for Notification.builder().</p>\n<p><a href=\"https://i.stack.imgur.com/iSyEx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSyEx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","azure-active-directory","minecraft"],"owner":{"account_id":26767677,"reputation":1,"user_id":20364567,"display_name":"The Xd Game Boomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1668317420,"answer_count":0,"score":-3,"last_activity_date":1667088011,"creation_date":1667035565,"question_id":74244151,"body_markdown":"I am making making a minecraft launcher and now I need the login system. \r\n\r\nThe problem is that I didn&#39;t find any way to do that\r\n\r\nI tried using the OKHTTP library in Java for posting requests but I don&#39;t now how to do that.\r\nHere is the code for the post request\r\n\r\n\r\n```java\r\npackage me.theboomer.moddedlauncher.launcher;\r\n\r\nimport java.io.IOException;\r\n\r\nimport okhttp3.*;\r\n\r\npublic class TokenRequest {\r\n\t\r\n\tprivate final OkHttpClient Client = new OkHttpClient();\r\n\t\r\n\r\n\tprivate void sendPost() throws Exception {\r\n\r\n        // form parameters\r\n        RequestBody formBody = new FormBody.Builder()\r\n                .add(&quot;client_id&quot;, &quot;MY_CLIENT_ID&quot;)\r\n                .add(&quot;client_secret&quot;, &quot;MY_CLIENT SECRET&quot;)\r\n                .add(&quot;code&quot;, &quot;A_CODE&quot;)\r\n                .add(&quot;grant_type&quot;, &quot;authorization_code&quot;)\r\n                .add(&quot;redirect_uri&quot;, &quot;https://login.live.com/oauth20_desktop.srf&quot;)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://login.live.com/oauth20_token.srf&quot;)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .post(formBody)\r\n                .build();\r\n\r\n        try (Response response = Client.newCall(request).execute()) {\r\n\r\n            if (!response.isSuccessful()) {\r\n            \tthrow new IOException(&quot;Unexpected code &quot; + response);\r\n            }\r\n\r\n            // Get response body\r\n            System.out.println(response.body().string());\r\n        }\r\n        \r\n    }\r\n\r\n\tpublic static void GetPost(String[] args) throws Exception {\r\n\r\n        TokenRequest obj = new TokenRequest();\r\n\r\n        System.out.println(&quot;Testing 2 - Send Http POST request&quot;);\r\n        obj.sendPost();\r\n\r\n    }\t\r\n\t\r\n}\r\n```\r\n\r\nand here is the step that I need to do\r\n\r\n\r\n&gt; send a POST request to https://login.live.com/oauth20_token.srf with the following POST body and the header Content-Type: application/x-www-form-urlencoded: \r\n&gt; \r\n&gt; client_id=CLIENT_ID_HERE&amp;client_secret=CLIENT_SECRET_HERE&amp;code=CODE_FROM_PREVIOUS_STEP&amp;grant_type=authorization_code&amp;redirect_uri=REDIRECT_URI_HERE\r\n\r\n\r\n\r\nTell me if I did something wrong or if you have another way to do that. ","title":"Minecraft Microsoft login in java","body":"<p>I am making making a minecraft launcher and now I need the login system.</p>\n<p>The problem is that I didn't find any way to do that</p>\n<p>I tried using the OKHTTP library in Java for posting requests but I don't now how to do that.\nHere is the code for the post request</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.theboomer.moddedlauncher.launcher;\n\nimport java.io.IOException;\n\nimport okhttp3.*;\n\npublic class TokenRequest {\n    \n    private final OkHttpClient Client = new OkHttpClient();\n    \n\n    private void sendPost() throws Exception {\n\n        // form parameters\n        RequestBody formBody = new FormBody.Builder()\n                .add(&quot;client_id&quot;, &quot;MY_CLIENT_ID&quot;)\n                .add(&quot;client_secret&quot;, &quot;MY_CLIENT SECRET&quot;)\n                .add(&quot;code&quot;, &quot;A_CODE&quot;)\n                .add(&quot;grant_type&quot;, &quot;authorization_code&quot;)\n                .add(&quot;redirect_uri&quot;, &quot;https://login.live.com/oauth20_desktop.srf&quot;)\n                .build();\n\n        Request request = new Request.Builder()\n                .url(&quot;https://login.live.com/oauth20_token.srf&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .post(formBody)\n                .build();\n\n        try (Response response = Client.newCall(request).execute()) {\n\n            if (!response.isSuccessful()) {\n                throw new IOException(&quot;Unexpected code &quot; + response);\n            }\n\n            // Get response body\n            System.out.println(response.body().string());\n        }\n        \n    }\n\n    public static void GetPost(String[] args) throws Exception {\n\n        TokenRequest obj = new TokenRequest();\n\n        System.out.println(&quot;Testing 2 - Send Http POST request&quot;);\n        obj.sendPost();\n\n    }   \n    \n}\n</code></pre>\n<p>and here is the step that I need to do</p>\n<blockquote>\n<p>send a POST request to <a href=\"https://login.live.com/oauth20_token.srf\" rel=\"nofollow noreferrer\">https://login.live.com/oauth20_token.srf</a> with the following POST body and the header Content-Type: application/x-www-form-urlencoded:</p>\n<p>client_id=CLIENT_ID_HERE&amp;client_secret=CLIENT_SECRET_HERE&amp;code=CODE_FROM_PREVIOUS_STEP&amp;grant_type=authorization_code&amp;redirect_uri=REDIRECT_URI_HERE</p>\n</blockquote>\n<p>Tell me if I did something wrong or if you have another way to do that.</p>\n"},{"tags":["java","gradle","intellij-idea"],"owner":{"account_id":26645528,"reputation":46,"user_id":20368478,"display_name":"MikeW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1667087861,"creation_date":1667086657,"question_id":74249598,"body_markdown":"I have a Java/Gradle project that I imported into IntelliJ. When I open the Generate menu (Alt+Insert) for a `build.gradle` file, I don&#39;t see an &quot;Add dependency...&quot; option.\r\n\r\n**Details:** I imported a multi-project Java/Gradle build into IntelliJ [New &gt; Project From Existing Sources...]. The top-level project only has a `settings.gradle` file (excluding the `gradlew` scripts) that looks like this:\r\n\r\n\r\n```\r\nrootProject.name = &#39;project&#39;\r\n\r\ninclude &#39;subproject1&#39;\r\ninclude &#39;subproject2&#39;\r\ninclude &#39;subproject3&#39;\r\n```\r\n\r\nWhen I open the `build.gradle` file for any sub-project, however, the Generate menu (Alt+Insert) doesn&#39;t have an &quot;Add Dependency...&quot; option. My only option is to manually type in the dependency.\r\n\r\nOther Notes:\r\n\r\n* I also don&#39;t see a &quot;Dependencies&quot; option in the &quot;View &gt; Tool Windows&quot; menu.\r\n* When I manually type in the dependency, auto-complete still works.\r\n* AFAIK, all other Gradle functionality works just fine in IntelliJ. \r\n* I also have a separate single-project Java/Gradle build that I created via IntelliJ [New &gt; Project...], and I can generate dependencies just fine in that project.\r\n\r\n**Versions:**\r\n\r\n* Ubuntu 22.04 LTS\r\n* Gradle 7.3.2 [installed via snap]\r\n* OpenJDK 17 [installed via apt]\r\n* IntelliJ IDEA 2022.2.3 (Community Edition) [installed via snap]\r\n\r\n","title":"IntelliJ: Cannot Generate Dependencies (Alt+Insert) for Java/Gradle Project","body":"<p>I have a Java/Gradle project that I imported into IntelliJ. When I open the Generate menu (Alt+Insert) for a <code>build.gradle</code> file, I don't see an &quot;Add dependency...&quot; option.</p>\n<p><strong>Details:</strong> I imported a multi-project Java/Gradle build into IntelliJ [New &gt; Project From Existing Sources...]. The top-level project only has a <code>settings.gradle</code> file (excluding the <code>gradlew</code> scripts) that looks like this:</p>\n<pre><code>rootProject.name = 'project'\n\ninclude 'subproject1'\ninclude 'subproject2'\ninclude 'subproject3'\n</code></pre>\n<p>When I open the <code>build.gradle</code> file for any sub-project, however, the Generate menu (Alt+Insert) doesn't have an &quot;Add Dependency...&quot; option. My only option is to manually type in the dependency.</p>\n<p>Other Notes:</p>\n<ul>\n<li>I also don't see a &quot;Dependencies&quot; option in the &quot;View &gt; Tool Windows&quot; menu.</li>\n<li>When I manually type in the dependency, auto-complete still works.</li>\n<li>AFAIK, all other Gradle functionality works just fine in IntelliJ.</li>\n<li>I also have a separate single-project Java/Gradle build that I created via IntelliJ [New &gt; Project...], and I can generate dependencies just fine in that project.</li>\n</ul>\n<p><strong>Versions:</strong></p>\n<ul>\n<li>Ubuntu 22.04 LTS</li>\n<li>Gradle 7.3.2 [installed via snap]</li>\n<li>OpenJDK 17 [installed via apt]</li>\n<li>IntelliJ IDEA 2022.2.3 (Community Edition) [installed via snap]</li>\n</ul>\n"},{"tags":["java","spring","database","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1667088877,"post_id":74249657,"comment_id":131088417,"body_markdown":"This pretty much sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). If I understand you correctly, you want that the connection is created when you set some property at runtime, and is later destroyed when the property is reset? This has consequences. I suspect that you use this bean somewhere (through DI), and those beans can only (!) be created when the conditional bean is present, and must be destroyed when the conditional bean is destroyed. This is not how a DI container normally operates. Why do you want to do this?","body":"This pretty much sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. If I understand you correctly, you want that the connection is created when you set some property at runtime, and is later destroyed when the property is reset? This has consequences. I suspect that you use this bean somewhere (through DI), and those beans can only (!) be created when the conditional bean is present, and must be destroyed when the conditional bean is destroyed. This is not how a DI container normally operates. Why do you want to do this?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089424,"post_id":74249657,"comment_id":131088476,"body_markdown":"Not a XY problem because as described, those configuration classes are running automatically, which causes issues setting the correct database configurations. Responding to your question, I want this because I have multiple h2 databases under a specific path. Based on a selection it&#39;s done once the application starts, it&#39;s needed to build and connect to the selected database, instead of automatically connecting to one of them","body":"Not a XY problem because as described, those configuration classes are running automatically, which causes issues setting the correct database configurations. Responding to your question, I want this because I have multiple h2 databases under a specific path. Based on a selection it&#39;s done once the application starts, it&#39;s needed to build and connect to the selected database, instead of automatically connecting to one of them"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667089558,"post_id":74249657,"comment_id":131088490,"body_markdown":"Why not create connections to all of them, and use the connection needed in the specific use cases?","body":"Why not create connections to all of them, and use the connection needed in the specific use cases?"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089684,"post_id":74249657,"comment_id":131088504,"body_markdown":"Cause some of it might not exist (based on the selection options), so a custom database is created based on pre-configuration, once that configuration is done, then I can safely run the database connection algorithm based on the new custom configuration","body":"Cause some of it might not exist (based on the selection options), so a custom database is created based on pre-configuration, once that configuration is done, then I can safely run the database connection algorithm based on the new custom configuration"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667089810,"post_id":74249657,"comment_id":131088518,"body_markdown":"all that algorithm is done and working, I just need to make my @Configuration class wait till the custom configuration is set","body":"all that algorithm is done and working, I just need to make my @Configuration class wait till the custom configuration is set"},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667090063,"post_id":74249657,"comment_id":131088549,"body_markdown":"responding to your question after edit: that&#39;s exactly my goal, I want to use the connection needed in the specific use cases, but the use cases are set before the database creation and connection, that&#39;s why I need to hold the @Configuration class till the use cases are set","body":"responding to your question after edit: that&#39;s exactly my goal, I want to use the connection needed in the specific use cases, but the use cases are set before the database creation and connection, that&#39;s why I need to hold the @Configuration class till the use cases are set"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1667092487,"post_id":74249657,"comment_id":131088807,"body_markdown":"I would suggest you to pay attention to @Turing85 advice: it looks like you have found a convenient way to configure data source via configurations and now looking for a way to make configurations dynamic - configurations are not designed for such scenarios, instead you need to learn about proxies and/or prototype scope. Implementations of org.springframework.jdbc.datasource.AbstractDataSource might help you as well.","body":"I would suggest you to pay attention to @Turing85 advice: it looks like you have found a convenient way to configure data source via configurations and now looking for a way to make configurations dynamic - configurations are not designed for such scenarios, instead you need to learn about proxies and/or prototype scope. Implementations of org.springframework.jdbc.datasource.AbstractDataSource might help you as well."},{"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"score":0,"creation_date":1667104822,"post_id":74249657,"comment_id":131089937,"body_markdown":"I don&#39;t see any way proxies and prototype scope would help at all. I&#39;m not looking to conditionally run a specific @Bean method but the entire class. Although AbstractDataSource seems very interesting approach and I&#39;ll be definitely giving it a shot. Thanks for suggesting","body":"I don&#39;t see any way proxies and prototype scope would help at all. I&#39;m not looking to conditionally run a specific @Bean method but the entire class. Although AbstractDataSource seems very interesting approach and I&#39;ll be definitely giving it a shot. Thanks for suggesting"}],"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667087747,"creation_date":1667087605,"question_id":74249657,"body_markdown":"By &quot;arbitrary&quot; I refer to the ability to do an action whenever it&#39;s wanted. So, with that, what is intended here is to run @Configuration classes only when it&#39;s explicitly called or when it&#39;s strictly needed (instead of running automatically as soon spring context is up, which is the default behavior).\r\n\r\n\r\nDescribing a bit of my scenario: the @Configuration class is a database configuration and connection class. Although I don&#39;t want it to be created automatically, as soon the application starts (default spring behavior). Instead, I&#39;m looking for a way to programmaticaly build and connect to it, strictly when I call for it to do so.\r\n\r\n\r\nSo the question would be: ***How to prevent @Configuration classes from automatically running and after that, how should it be &quot;re-enabled&quot; again to be able to run?***\r\n\r\n\r\n\r\n**Please note that NONE of that below worked out as expected:**\r\n\r\nTried using @Conditional, and at first it seemed to be the perfect fit, although @Conditional expressions (or based on some kind of logic or property like @ConditionalOnProperty) runs once after application context is built, which means that the value being passed to the annotation could even change, although that class wouldn&#39;t react to the @Conditional expression changes (which would be perfect, like, telling spring &quot;run that configuration class after property name X is set&quot;)\r\n\r\nSomething like that:\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnProperty(name = &quot;X&quot;, havingValue = &quot;true&quot;)\r\npublic class DatabaseTest {\r\n// bean is not created, no value for property X\r\n```\r\n\r\nthen, after setting a value to X with\r\n\r\n```\r\nProperties properties = new Properties();\r\nproperties.put(&quot;X&quot;, &quot;anyValue&quot;));\r\n```\r\n\r\nAlthough it works per as described above, the class do not react to the property changes.\r\n\r\nAnother attempt was to use @DependsOn and @Order, but still, those beans annotated with it automatically runs as soon the depending beans are created.\r\n\r\nAlso tried using\r\n\r\n```\r\n@ComponentScan(excludeFilters  = {@ComponentScan.Filter(\r\n        type = FilterType.ASSIGNABLE_TYPE, classes = {ConfigurationClass2.class, ConfigurationClass1.class})})\r\n```\r\n\r\nand it do prevent @Configuration classes from running, but I have no idea how to switch it back working.\r\n","title":"Arbitrary running @Configuration classes","body":"<p>By &quot;arbitrary&quot; I refer to the ability to do an action whenever it's wanted. So, with that, what is intended here is to run @Configuration classes only when it's explicitly called or when it's strictly needed (instead of running automatically as soon spring context is up, which is the default behavior).</p>\n<p>Describing a bit of my scenario: the @Configuration class is a database configuration and connection class. Although I don't want it to be created automatically, as soon the application starts (default spring behavior). Instead, I'm looking for a way to programmaticaly build and connect to it, strictly when I call for it to do so.</p>\n<p>So the question would be: <em><strong>How to prevent @Configuration classes from automatically running and after that, how should it be &quot;re-enabled&quot; again to be able to run?</strong></em></p>\n<p><strong>Please note that NONE of that below worked out as expected:</strong></p>\n<p>Tried using @Conditional, and at first it seemed to be the perfect fit, although @Conditional expressions (or based on some kind of logic or property like @ConditionalOnProperty) runs once after application context is built, which means that the value being passed to the annotation could even change, although that class wouldn't react to the @Conditional expression changes (which would be perfect, like, telling spring &quot;run that configuration class after property name X is set&quot;)</p>\n<p>Something like that:</p>\n<pre><code>@Configuration\n@ConditionalOnProperty(name = &quot;X&quot;, havingValue = &quot;true&quot;)\npublic class DatabaseTest {\n// bean is not created, no value for property X\n</code></pre>\n<p>then, after setting a value to X with</p>\n<pre><code>Properties properties = new Properties();\nproperties.put(&quot;X&quot;, &quot;anyValue&quot;));\n</code></pre>\n<p>Although it works per as described above, the class do not react to the property changes.</p>\n<p>Another attempt was to use @DependsOn and @Order, but still, those beans annotated with it automatically runs as soon the depending beans are created.</p>\n<p>Also tried using</p>\n<pre><code>@ComponentScan(excludeFilters  = {@ComponentScan.Filter(\n        type = FilterType.ASSIGNABLE_TYPE, classes = {ConfigurationClass2.class, ConfigurationClass1.class})})\n</code></pre>\n<p>and it do prevent @Configuration classes from running, but I have no idea how to switch it back working.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667394797,"post_id":74247630,"comment_id":131156172,"body_markdown":"Do you have a `module-info.java` in the source root? If so, what is its contents?","body":"Do you have a <code>module-info.java</code> in the source root? If so, what is its contents?"}],"answers":[{"comments":[{"owner":{"account_id":26770942,"reputation":1,"user_id":20367323,"display_name":"gravity"},"score":0,"creation_date":1667069192,"post_id":74247690,"comment_id":131085389,"body_markdown":"Thanks for you answer Ankur. I tried adding the java.sql but the issue isnt yet resolved. Can you please refer to the screenshot attached.","body":"Thanks for you answer Ankur. I tried adding the java.sql but the issue isnt yet resolved. Can you please refer to the screenshot attached."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667394892,"post_id":74247690,"comment_id":131156217,"body_markdown":"This is not correct, the package `java.sql` is part of the standard Java runtime environment.","body":"This is not correct, the package <code>java.sql</code> is part of the standard Java runtime environment."}],"tags":[],"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667067213,"creation_date":1667067213,"answer_id":74247690,"question_id":74247630,"body_markdown":"Can you add sql jar in classpath in :-\r\n\r\nDownload Jar\r\n[http://www.java2s.com/Code/Jar/s/Downloadsqljar.htm]\r\n\r\nAdding in classpath\r\n[https://www.janbasktraining.com/community/sql-server/how-to-import-a-jar-file-in-eclipse]\r\n","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p>Can you add sql jar in classpath in :-</p>\n<p>Download Jar\n[http://www.java2s.com/Code/Jar/s/Downloadsqljar.htm]</p>\n<p>Adding in classpath\n[https://www.janbasktraining.com/community/sql-server/how-to-import-a-jar-file-in-eclipse]</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667394857,"post_id":74248346,"comment_id":131156199,"body_markdown":"Possibly the OP has a modular Java project, where the `module-info.java` does not contain a `requires java.sql;` statement.","body":"Possibly the OP has a modular Java project, where the <code>module-info.java</code> does not contain a <code>requires java.sql;</code> statement."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667087474,"creation_date":1667072946,"answer_id":74248346,"question_id":74247630,"body_markdown":"The [`java.sql`][1] package is included as part of every implementation of Java SE. There is no need to add JARs to your project for the `java.sql` API. \r\n\r\nYou *do* need to add a JAR for a [JDBC driver][2] implementing [JDBC][3], a driver specific to your database of choice such as MySQL or Postgres. \r\n\r\nUsually we include a JDBC driver as a dependency managed by Maven or Gradle. If you are not using a dependency manager, you will need to manually add the JDBC driver. \r\n\r\nGiven your screenshot, I suspect that either you have installed a JRE rather than a full [JDK][4], or your JDK is somehow corrupted. I suggest you delete your current JRE or JDK and download/install a fresh one. Tip: [SDKMAN!][5]. Java 17 is the current [long-term support][6] version. \r\n\r\nAlso, I suggest you skip the JPA/Jakarta Persistence and the Hibernate until you get the basics of a database engine and database connection working. Make a simple little throwaway project to practice.\r\n\r\nIf you search Stack Overflow you will find full example apps already written for connecting to a database, creating a table, populating the table, and retrieving from the table. Some were even written by me.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [3]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [4]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [5]: https://sdkman.io/\r\n  [6]: https://en.wikipedia.org/wiki/Long-term_support","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.sql</code></a> package is included as part of every implementation of Java SE. There is no need to add JARs to your project for the <code>java.sql</code> API.</p>\n<p>You <em>do</em> need to add a JAR for a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> implementing <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, a driver specific to your database of choice such as MySQL or Postgres.</p>\n<p>Usually we include a JDBC driver as a dependency managed by Maven or Gradle. If you are not using a dependency manager, you will need to manually add the JDBC driver.</p>\n<p>Given your screenshot, I suspect that either you have installed a JRE rather than a full <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>, or your JDK is somehow corrupted. I suggest you delete your current JRE or JDK and download/install a fresh one. Tip: <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>. Java 17 is the current <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">long-term support</a> version.</p>\n<p>Also, I suggest you skip the JPA/Jakarta Persistence and the Hibernate until you get the basics of a database engine and database connection working. Make a simple little throwaway project to practice.</p>\n<p>If you search Stack Overflow you will find full example apps already written for connecting to a database, creating a table, populating the table, and retrieving from the table. Some were even written by me.</p>\n"}],"owner":{"account_id":26770942,"reputation":1,"user_id":20367323,"display_name":"gravity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667087474,"creation_date":1667066723,"question_id":74247630,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am able to import other packages like java.io to eclipse but, I am unable to import java.sql to my project in eclipse. What could be the reason?\r\n\r\nI don&#39;t know how to proceed. I have tried a couple of things, but none of them worked out for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uX80x.png","title":"I am unable to import java.sql.* package in Eclipse Project","body":"<p><a href=\"https://i.stack.imgur.com/uX80x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uX80x.png\" alt=\"enter image description here\" /></a></p>\n<p>I am able to import other packages like java.io to eclipse but, I am unable to import java.sql to my project in eclipse. What could be the reason?</p>\n<p>I don't know how to proceed. I have tried a couple of things, but none of them worked out for me.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1903161,"reputation":4465,"user_id":1718575,"display_name":"NicholasM"},"score":0,"creation_date":1575483982,"post_id":59182272,"comment_id":104585907,"body_markdown":"You could implement the multiplicity requirement as follows:  for every distinct letter `x` in `letters`, count the number of occurrences `N_x` in `letters`.  Count the number of occurrences of these same letters in `check`, and call this `M_x`.  Return true if `M_x &gt;= N_x` for all `x` in `letters`.  Basically, you want to check if the multiset formed by `letters` is a subset of the multiset formed by the letters of `check`.","body":"You could implement the multiplicity requirement as follows:  for every distinct letter <code>x</code> in <code>letters</code>, count the number of occurrences <code>N_x</code> in <code>letters</code>.  Count the number of occurrences of these same letters in <code>check</code>, and call this <code>M_x</code>.  Return true if <code>M_x &gt;= N_x</code> for all <code>x</code> in <code>letters</code>.  Basically, you want to check if the multiset formed by <code>letters</code> is a subset of the multiset formed by the letters of <code>check</code>."}],"answers":[{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1575484701,"post_id":59182630,"comment_id":104586208,"body_markdown":"0 is a valid index - the first letter in the word.","body":"0 is a valid index - the first letter in the word."},{"owner":{"account_id":7878945,"reputation":87,"user_id":5953746,"display_name":"Amey Kulkarni"},"score":0,"creation_date":1575485274,"post_id":59182630,"comment_id":104586444,"body_markdown":"Good catch @RealSkeptic, I have removed that","body":"Good catch @RealSkeptic, I have removed that"}],"tags":[],"owner":{"account_id":7878945,"reputation":87,"user_id":5953746,"display_name":"Amey Kulkarni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575485238,"creation_date":1575484312,"answer_id":59182630,"question_id":59182272,"body_markdown":"    public static boolean Xish(String check, String letters) {\r\n        boolean ish = true;\r\n        String word = check;\r\n        \r\n        char[] contains= letters.toCharArray();\r\n\r\n        for(int i = 0; i &lt; contains.length; i++){\r\n            if(word.indexOf(contains[i]) &lt; 0){\r\n                ish = false;\r\n            }else {\r\n                StringBuilder sb = new StringBuilder(word);\r\n                sb.deleteCharAt(word.indexOf(contains[i]));\r\n                word = sb.toString();\r\n                // System.out.println(word);\r\n            }\r\n        }\r\n        \r\n        return ish;\r\n    }\r\n\r\n\r\nThis could be one way, but it is not recursive.\r\nXish(&quot;Waffle&quot;, &quot;elff&quot;) returns true, but\r\nXish(&quot;Waffle&quot;, &quot;elfff&quot;) returns false.","title":"Using a recursive method to determine if a word is elf-ish","body":"<pre><code>public static boolean Xish(String check, String letters) {\n    boolean ish = true;\n    String word = check;\n\n    char[] contains= letters.toCharArray();\n\n    for(int i = 0; i &lt; contains.length; i++){\n        if(word.indexOf(contains[i]) &lt; 0){\n            ish = false;\n        }else {\n            StringBuilder sb = new StringBuilder(word);\n            sb.deleteCharAt(word.indexOf(contains[i]));\n            word = sb.toString();\n            // System.out.println(word);\n        }\n    }\n\n    return ish;\n}\n</code></pre>\n\n<p>This could be one way, but it is not recursive.\nXish(\"Waffle\", \"elff\") returns true, but\nXish(\"Waffle\", \"elfff\") returns false.</p>\n"},{"tags":[],"owner":{"account_id":12079826,"reputation":45,"user_id":10530569,"display_name":"CuriousOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575484977,"creation_date":1575484977,"answer_id":59182780,"question_id":59182272,"body_markdown":"The title mentions a recursive function so I will propose a recursive solution.\r\n\r\n1. For each character in your check string, compare it against the first character in your letters string.\r\n\r\n2. If the compared characters are equivalent, remove the first character from your letters string and pass both strings back into your function.\r\n\r\n3. If the check string is fully iterated without finding a character in the letters string, return false\r\n\r\n4. If letters is empty at any point, return true\r\n\r\nThis is a brute force approach, and there are several other ways to accomplish what you are looking for. Maybe think about how you could check every character in your in you check string a single time?","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>The title mentions a recursive function so I will propose a recursive solution.</p>\n\n<ol>\n<li><p>For each character in your check string, compare it against the first character in your letters string.</p></li>\n<li><p>If the compared characters are equivalent, remove the first character from your letters string and pass both strings back into your function.</p></li>\n<li><p>If the check string is fully iterated without finding a character in the letters string, return false</p></li>\n<li><p>If letters is empty at any point, return true</p></li>\n</ol>\n\n<p>This is a brute force approach, and there are several other ways to accomplish what you are looking for. Maybe think about how you could check every character in your in you check string a single time?</p>\n"},{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1575485584,"creation_date":1575485584,"answer_id":59182908,"question_id":59182272,"body_markdown":"Actually, doing this recursively will also take care of the multiple occurrences issue.\r\n\r\nFirst, your own method is not really correct - it looks for the whole `letters` in the word. That is, if `letters` is `elf`, then true will be returned for `self`, but not for `heartfelt`, and that&#39;s wrong. You are supposed to look for the individual letters, because the order is not important.\r\n\r\nFor recursion:\r\n\r\n1. If the `letters` is an empty string - return true. You can say that any word is fine if there are no restrictions.\r\n\r\n2. If the `check` is an empty string - return false. An empty string does not contain the letters in `letters` (and we already know that letters is not empty).\r\n\r\n3. Take the first letter in `letters`. Look for it in `check`. If it&#39;s not there, return false.\r\n\r\n4. If it was there, then call the same method, but pass only what remains of `check` and `letters`. For example, if `check` was `selfish` and `letters` was `elf`, you found that `e` exists. Return the result of `Xish(&quot;slfish&quot;,&quot;lf&quot;)`. This will take care of the multiple occurrences. You do that by using `substring` and concatenating the applicable parts.\r\n\r\nIf multiple occurrences weren&#39;t an issue, you could pass the `check` as-is to the next level of the recursion. But since they matter, we need to remove one letter for each letter requested, to make sure that we don&#39;t match the same position again for the next occurrenc.","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>Actually, doing this recursively will also take care of the multiple occurrences issue.</p>\n\n<p>First, your own method is not really correct - it looks for the whole <code>letters</code> in the word. That is, if <code>letters</code> is <code>elf</code>, then true will be returned for <code>self</code>, but not for <code>heartfelt</code>, and that's wrong. You are supposed to look for the individual letters, because the order is not important.</p>\n\n<p>For recursion:</p>\n\n<ol>\n<li><p>If the <code>letters</code> is an empty string - return true. You can say that any word is fine if there are no restrictions.</p></li>\n<li><p>If the <code>check</code> is an empty string - return false. An empty string does not contain the letters in <code>letters</code> (and we already know that letters is not empty).</p></li>\n<li><p>Take the first letter in <code>letters</code>. Look for it in <code>check</code>. If it's not there, return false.</p></li>\n<li><p>If it was there, then call the same method, but pass only what remains of <code>check</code> and <code>letters</code>. For example, if <code>check</code> was <code>selfish</code> and <code>letters</code> was <code>elf</code>, you found that <code>e</code> exists. Return the result of <code>Xish(\"slfish\",\"lf\")</code>. This will take care of the multiple occurrences. You do that by using <code>substring</code> and concatenating the applicable parts.</p></li>\n</ol>\n\n<p>If multiple occurrences weren't an issue, you could pass the <code>check</code> as-is to the next level of the recursion. But since they matter, we need to remove one letter for each letter requested, to make sure that we don't match the same position again for the next occurrenc.</p>\n"},{"tags":[],"owner":{"account_id":11714700,"reputation":415,"user_id":8575615,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575485647,"creation_date":1575485647,"answer_id":59182921,"question_id":59182272,"body_markdown":"Not sure whether it solves your question 100 %. But i tried a recursive method. See if this helps. \r\n\r\n\r\npackage com.company;\r\n\r\npublic class Selfish {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        String check = &quot;waffle&quot;;\r\n        String letters = &quot;elf&quot;; // &quot;eof&quot;\r\n\r\n        int xishCount = xish(check, letters, 0);\r\n\r\n        if(letters.length()== xishCount) {\r\n            System.out.println(&quot;TRUE&quot;);\r\n        }else{\r\n            System.out.println(&quot;FALSE&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    static int xish(String check, String letters, int xishCount) {\r\n\r\n        if(letters.length() &lt; 1) {\r\n            return 0;\r\n        }\r\n\r\n        if(check.contains(letters.substring(0, 1))) {\r\n            xishCount = 1;\r\n        }\r\n\r\n        return xishCount + xish(check, letters.substring(1, letters.length()), 0);\r\n    }\r\n\r\n}","title":"Using a recursive method to determine if a word is elf-ish","body":"<p>Not sure whether it solves your question 100 %. But i tried a recursive method. See if this helps. </p>\n\n<p>package com.company;</p>\n\n<p>public class Selfish {</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String check = \"waffle\";\n    String letters = \"elf\"; // \"eof\"\n\n    int xishCount = xish(check, letters, 0);\n\n    if(letters.length()== xishCount) {\n        System.out.println(\"TRUE\");\n    }else{\n        System.out.println(\"FALSE\");\n    }\n}\n\n\nstatic int xish(String check, String letters, int xishCount) {\n\n    if(letters.length() &lt; 1) {\n        return 0;\n    }\n\n    if(check.contains(letters.substring(0, 1))) {\n        xishCount = 1;\n    }\n\n    return xishCount + xish(check, letters.substring(1, letters.length()), 0);\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"display_name":"user12480764"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59182908,"answer_count":4,"score":0,"last_activity_date":1667087133,"creation_date":1575482756,"question_id":59182272,"body_markdown":"```\r\npublic static boolean Xish\r\n```\r\n\r\nThis method should take in two parameters, in the following order:  A String of the word to check and a String made up of the letters to check for. For example, a word is considered elf-ish, if it contains the letters e, l, and f, in any order `(“waffle”, “rainleaf”)` and a true return of the method would be `Xish(“waffle”, ”elf”)`. If there are multiple occurrences of a letter to check for, it must occur multiple times in the search word. Return true if the word contains all the needed characters and false if it does not contain all the characters.\r\n\r\nThis is what I have so far, but I am lost how I would recall the method and check to see if there are multiple occurrences (2nd part).\r\n\r\n    public static boolean Xish(String check, String letters) {\r\n    \t\tString word = check;\r\n    \t\tString contains= letters;\r\n\r\n    \t\tif(word.indexOf(contains) &gt;= 0)\r\n    \t\t\treturn true;\r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \t}","title":"Using a recursive method to determine if a word is elf-ish","body":"<pre><code>public static boolean Xish\n</code></pre>\n\n<p>This method should take in two parameters, in the following order:  A String of the word to check and a String made up of the letters to check for. For example, a word is considered elf-ish, if it contains the letters e, l, and f, in any order <code>(“waffle”, “rainleaf”)</code> and a true return of the method would be <code>Xish(“waffle”, ”elf”)</code>. If there are multiple occurrences of a letter to check for, it must occur multiple times in the search word. Return true if the word contains all the needed characters and false if it does not contain all the characters.</p>\n\n<p>This is what I have so far, but I am lost how I would recall the method and check to see if there are multiple occurrences (2nd part).</p>\n\n<pre><code>public static boolean Xish(String check, String letters) {\n        String word = check;\n        String contains= letters;\n\n        if(word.indexOf(contains) &gt;= 0)\n            return true;\n        else\n            return false;\n    }\n</code></pre>\n"},{"tags":["java","struct","inputstream","bytearrayoutputstream","bytearrayinputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667076963,"post_id":74248322,"comment_id":131086719,"body_markdown":"Difficult to advise as we don&#39;t know the real data. That code wouldn&#39;t compile so can&#39;t be the actual code","body":"Difficult to advise as we don&#39;t know the real data. That code wouldn&#39;t compile so can&#39;t be the actual code"},{"owner":{"display_name":"user18901048"},"score":0,"creation_date":1667077588,"post_id":74248322,"comment_id":131086803,"body_markdown":"@g00se real data is String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;];\nString[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;];\nString isDone = &quot;Yes&quot;;","body":"@g00se real data is String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;]; String[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;]; String isDone = &quot;Yes&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667085503,"creation_date":1667085503,"answer_id":74249520,"question_id":74248322,"body_markdown":"You can do something like \r\n\r\n       String[] business = { &quot;CONSUMER&quot;, &quot;TELUS&quot; };\r\n        StringWriter sw = new StringWriter();\r\n        PrintWriter out = new PrintWriter(sw);\r\n        for (String s : business) {\r\n            out.println(s);\r\n        }\r\n        InputStream in = new ByteArrayInputStream(sw.toString().getBytes());\r\n\r\n","title":"How to create an InputStream from a multiple array of strings","body":"<p>You can do something like</p>\n<pre><code>   String[] business = { &quot;CONSUMER&quot;, &quot;TELUS&quot; };\n    StringWriter sw = new StringWriter();\n    PrintWriter out = new PrintWriter(sw);\n    for (String s : business) {\n        out.println(s);\n    }\n    InputStream in = new ByteArrayInputStream(sw.toString().getBytes());\n</code></pre>\n"}],"owner":{"display_name":"user18901048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667085503,"creation_date":1667072711,"question_id":74248322,"body_markdown":"I have an 3 array of strings ( actually it&#39;s an ArrayList ) and I would like to create an InputStream from it, each element of the array being a line in the stream.\r\n\r\n    String[] business = [&#39;CONSUMER&#39;, &#39;TELUS&#39;];\r\n    String[] position = [&#39;Business&#39;, &#39;SMB&#39;,&#39;THPS&#39;];\r\n    String isDone = &quot;Yes&quot;;\r\n\r\nneed to convert the above data into and pass it to InputStream so i can upload the data to ftp server \r\n\r\n    Business_Unit:     &#39;TELUS&#39;, &#39;CONSUMER&#39;\r\n    Position_Group:    &#39;Business&#39;, &#39;SMB&#39;, &#39;THPS&#39;\r\n    On-Cycle_Schedule: &#39;Yes&#39;  or &#39;No\r\n\r\n\r\nftp server method as follows \r\n\r\n        private boolean fileUpload(InputStream isUploadFile, String dirName, String fileName){\r\n             boolean storeRetVal = false;\r\n    \r\n          //File submission method \r\n    \r\n            \r\n          return storeRetVal;\r\n         }\r\n\r\nthe above method gets called from action class \r\n\r\n    public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\r\n                           HttpServletRequest request, HttpServletResponse response) {\r\n       SessionInfoForm _form = (SessionInfoForm) form;\r\n       String isDone = &quot;Yes&quot;;\r\n       String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\r\n       String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\r\n       String fileName = &quot;result.csv&quot;;\r\n       InputStream isUploadFile;\r\n       fileUpload(isUploadFile, fileName);\r\n       return mapping.findForward(&quot;success&quot;);\r\n    }","title":"How to create an InputStream from a multiple array of strings","body":"<p>I have an 3 array of strings ( actually it's an ArrayList ) and I would like to create an InputStream from it, each element of the array being a line in the stream.</p>\n<pre><code>String[] business = ['CONSUMER', 'TELUS'];\nString[] position = ['Business', 'SMB','THPS'];\nString isDone = &quot;Yes&quot;;\n</code></pre>\n<p>need to convert the above data into and pass it to InputStream so i can upload the data to ftp server</p>\n<pre><code>Business_Unit:     'TELUS', 'CONSUMER'\nPosition_Group:    'Business', 'SMB', 'THPS'\nOn-Cycle_Schedule: 'Yes'  or 'No\n</code></pre>\n<p>ftp server method as follows</p>\n<pre><code>    private boolean fileUpload(InputStream isUploadFile, String dirName, String fileName){\n         boolean storeRetVal = false;\n\n      //File submission method \n\n        \n      return storeRetVal;\n     }\n</code></pre>\n<p>the above method gets called from action class</p>\n<pre><code>public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\n                       HttpServletRequest request, HttpServletResponse response) {\n   SessionInfoForm _form = (SessionInfoForm) form;\n   String isDone = &quot;Yes&quot;;\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\n   String fileName = &quot;result.csv&quot;;\n   InputStream isUploadFile;\n   fileUpload(isUploadFile, fileName);\n   return mapping.findForward(&quot;success&quot;);\n}\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"comments":[{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":0,"creation_date":1492177467,"post_id":43412672,"comment_id":73884265,"body_markdown":"That doesn&#39;t solve my problem really. What am I supposed to write in the object case if I don&#39;t know what type it is.","body":"That doesn&#39;t solve my problem really. What am I supposed to write in the object case if I don&#39;t know what type it is."},{"owner":{"account_id":7381830,"reputation":532,"user_id":5618266,"display_name":"Cedric"},"score":0,"creation_date":1492180272,"post_id":43412672,"comment_id":73885858,"body_markdown":"Gson checks for you whether the current element (can be an array, object, int etc.) is an array or an object. In case foo is given as an array, you can use the second check otherwise you can check if foo is a single string.","body":"Gson checks for you whether the current element (can be an array, object, int etc.) is an array or an object. In case foo is given as an array, you can use the second check otherwise you can check if foo is a single string."}],"tags":[],"owner":{"account_id":7381830,"reputation":532,"user_id":5618266,"display_name":"Cedric"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492176949,"creation_date":1492176949,"answer_id":43412672,"question_id":43412261,"body_markdown":"You can simply write your own [JsonDeserializer][1] where you check whether your `bleh` or `foo` are JsonObjects or JsonArrays.\r\n\r\nTo check if a JsonElement is an array or an object:\r\n\r\n    JsonElement element = ...;\r\n    if (element.isJsonObject()) {\r\n        //element is a JsonObject\r\n    } else if (element.isJsonArray()) {\r\n        //element is a JsonArray\r\n    }\r\n\r\n  [1]: https://google.github.io/gson/apidocs/com/google/gson/JsonDeserializer.html","title":"Make GSON accept single objects where it expects arrays","body":"<p>You can simply write your own <a href=\"https://google.github.io/gson/apidocs/com/google/gson/JsonDeserializer.html\" rel=\"nofollow noreferrer\">JsonDeserializer</a> where you check whether your <code>bleh</code> or <code>foo</code> are JsonObjects or JsonArrays.</p>\n\n<p>To check if a JsonElement is an array or an object:</p>\n\n<pre><code>JsonElement element = ...;\nif (element.isJsonObject()) {\n    //element is a JsonObject\n} else if (element.isJsonArray()) {\n    //element is a JsonArray\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":1,"creation_date":1492181808,"post_id":43412985,"comment_id":73886709,"body_markdown":"Works like a charm! Thanks!","body":"Works like a charm! Thanks!"},{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":0,"creation_date":1492510468,"post_id":43412985,"comment_id":73993663,"body_markdown":"Just so I understand what&#39;s going on, why do you have 2 distinct generic types in `AlwaysListTypeAdapterFactory` (i.e. `E` and `T`)? I see that `E` is the `List`-element type, but what is `T`? The `List`-type itself?","body":"Just so I understand what&#39;s going on, why do you have 2 distinct generic types in <code>AlwaysListTypeAdapterFactory</code> (i.e. <code>E</code> and <code>T</code>)? I see that <code>E</code> is the <code>List</code>-element type, but what is <code>T</code>? The <code>List</code>-type itself?"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":1,"creation_date":1492511144,"post_id":43412985,"comment_id":73994148,"body_markdown":"@Matthias Yes, the `T` type parameter is defined and required by Gson (it&#39;s defined as a generic method type parameter) to &quot;align&quot; with type tokens (see the `TypeAdapterFactory` interface). _The List-type itself?_ -- yes, exactly. Unfortunately, due to how generics are implemented in Java, there is a special check above: `!List.class.isAssignableFrom(typeToken.getRawType())` (literally, &quot;not a list?&quot;). Once we are sure it&#39;s a list, we&#39;re trying to determine it&#39;s actual parameterization type if possible, and combine two type adapters (custom for-list one and provided for-element one).","body":"@Matthias Yes, the <code>T</code> type parameter is defined and required by Gson (it&#39;s defined as a generic method type parameter) to &quot;align&quot; with type tokens (see the <code>TypeAdapterFactory</code> interface). <i>The List-type itself?</i> -- yes, exactly. Unfortunately, due to how generics are implemented in Java, there is a special check above: <code>!List.class.isAssignableFrom(typeToken.getRawType())</code> (literally, &quot;not a list?&quot;). Once we are sure it&#39;s a list, we&#39;re trying to determine it&#39;s actual parameterization type if possible, and combine two type adapters (custom for-list one and provided for-element one)."},{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":0,"creation_date":1492518809,"post_id":43412985,"comment_id":73999325,"body_markdown":"Thanks for explaining!","body":"Thanks for explaining!"},{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":0,"creation_date":1495191908,"post_id":43412985,"comment_id":75160696,"body_markdown":"I&#39;m having problems because the adapter code also runs when serialising. Is there a why to also implement the write() method? Or (easier) just tell Gson to only use this adapter for deserialisation and use default Gson behaviour for serialisation?","body":"I&#39;m having problems because the adapter code also runs when serialising. Is there a why to also implement the write() method? Or (easier) just tell Gson to only use this adapter for deserialisation and use default Gson behaviour for serialisation?"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":1,"creation_date":1495192368,"post_id":43412985,"comment_id":75160974,"body_markdown":"@Matthias Yep, it fails. It depends on your requirements. If you want to serialize it always as a list (and I believe it should work like this), just take the delegate type adapter from `Gson` using `getDelegateAdapter(this, TypeToken.getParameterized(List.class, elementType))` when creating the type adapter and just delegate the job to it. If you want the type adapter to write a single object if list size is 1 or a multiple objects array if list size is 2 or more, then just add custom logic (the same what read does but reversed).","body":"@Matthias Yep, it fails. It depends on your requirements. If you want to serialize it always as a list (and I believe it should work like this), just take the delegate type adapter from <code>Gson</code> using <code>getDelegateAdapter(this, TypeToken.getParameterized(List.class, elementType))</code> when creating the type adapter and just delegate the job to it. If you want the type adapter to write a single object if list size is 1 or a multiple objects array if list size is 2 or more, then just add custom logic (the same what read does but reversed)."},{"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"score":0,"creation_date":1495206616,"post_id":43412985,"comment_id":75170948,"body_markdown":"Like so?\n`TypeAdapter&lt;List&lt;E&gt;&gt; defaultListAdapter = gson.getDelegateAdapter(this, (TypeToken&lt;List&lt;E&gt;&gt;) TypeToken.getParameterized(List.class, elementType))` (the cast seems necessary).\nI then pass this to the custom adapter constructor and use it as follows:\n`@Override\npublic void write(final JsonWriter out, final List&lt;E&gt; list) throws IOException {\n    defaultListAdapter.write(out, list);\n}`","body":"Like so? <code>TypeAdapter&lt;List&lt;E&gt;&gt; defaultListAdapter = gson.getDelegateAdapter(this, (TypeToken&lt;List&lt;E&gt;&gt;) TypeToken.getParameterized(List.class, elementType))</code> (the cast seems necessary). I then pass this to the custom adapter constructor and use it as follows: <code>@Override public void write(final JsonWriter out, final List&lt;E&gt; list) throws IOException {     defaultListAdapter.write(out, list); }</code>"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":1,"creation_date":1495208840,"post_id":43412985,"comment_id":75172375,"body_markdown":"@Matthias Yep, by quick look it looks exactly what I described for the first scenario.","body":"@Matthias Yep, by quick look it looks exactly what I described for the first scenario."},{"owner":{"account_id":3178065,"reputation":1032,"user_id":2685454,"display_name":"Sumit"},"score":0,"creation_date":1578222956,"post_id":43412985,"comment_id":105362717,"body_markdown":"thanks it works perfect but when i tried to save object toJson it crashes and when i change this throw new UnsupportedOperationException(); in write method to elementTypeAdapter.write(out, list.get(0))  throwing illegal state exception","body":"thanks it works perfect but when i tried to save object toJson it crashes and when i change this throw new UnsupportedOperationException(); in write method to elementTypeAdapter.write(out, list.get(0))  throwing illegal state exception"},{"owner":{"account_id":6940967,"reputation":558,"user_id":5327495,"display_name":"Zainal Fahrudin"},"score":0,"creation_date":1628243388,"post_id":43412985,"comment_id":121374154,"body_markdown":"@Sumit yup, i tried that too but crashed. can anyone help convert the model to json successfully ?","body":"@Sumit yup, i tried that too but crashed. can anyone help convert the model to json successfully ?"}],"tags":[],"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"comment_count":10,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1492178034,"creation_date":1492178034,"answer_id":43412985,"question_id":43412261,"body_markdown":"&gt; But the problem is I have Lists with many different element types and I don&#39;t want to write a separate TypeAdapter for each case. Nor have I been able to a generic TypeAdapter&lt;List&lt;?&gt;&gt;, because at some point you need to know the type.\r\n\r\nThis is what type adapter factories are designed for: you can control every type in `Gson` instance configuration.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tfinal class AlwaysListTypeAdapterFactory&lt;E&gt;\r\n\t\t\timplements TypeAdapterFactory {\r\n\r\n\t    // Gson can instantiate it itself\r\n\t\tprivate AlwaysListTypeAdapterFactory() {\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\t\t    // If it&#39;s not a List -- just delegate the job to Gson and let it pick the best type adapter itself\r\n\t\t\tif ( !List.class.isAssignableFrom(typeToken.getRawType()) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t// Resolving the list parameter type\r\n\t\t\tfinal Type elementType = resolveTypeArgument(typeToken.getType());\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;E&gt; elementTypeAdapter = (TypeAdapter&lt;E&gt;) gson.getAdapter(TypeToken.get(elementType));\r\n\t\t\t// Note that the always-list type adapter is made null-safe, so we don&#39;t have to check nulls ourselves\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tfinal TypeAdapter&lt;T&gt; alwaysListTypeAdapter = (TypeAdapter&lt;T&gt;) new AlwaysListTypeAdapter&lt;&gt;(elementTypeAdapter).nullSafe();\r\n\t\t\treturn alwaysListTypeAdapter;\r\n\t\t}\r\n\t\r\n\t\tprivate static Type resolveTypeArgument(final Type type) {\r\n\t\t    // The given type is not parameterized?\r\n\t\t\tif ( !(type instanceof ParameterizedType) ) {\r\n\t\t\t    // No, raw\r\n\t\t\t\treturn Object.class;\r\n\t\t\t}\r\n\t\t\tfinal ParameterizedType parameterizedType = (ParameterizedType) type;\r\n\t\t\treturn parameterizedType.getActualTypeArguments()[0];\r\n\t\t}\r\n\t\r\n\t\tprivate static final class AlwaysListTypeAdapter&lt;E&gt;\r\n\t\t\t\textends TypeAdapter&lt;List&lt;E&gt;&gt; {\r\n\t\r\n\t\t\tprivate final TypeAdapter&lt;E&gt; elementTypeAdapter;\r\n\t\r\n\t\t\tprivate AlwaysListTypeAdapter(final TypeAdapter&lt;E&gt; elementTypeAdapter) {\r\n\t\t\t\tthis.elementTypeAdapter = elementTypeAdapter;\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void write(final JsonWriter out, final List&lt;E&gt; list) {\r\n\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic List&lt;E&gt; read(final JsonReader in)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\t// This is where we detect the list &quot;type&quot;\r\n\t\t\t\tfinal List&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\tfinal JsonToken token = in.peek();\r\n\t\t\t\tswitch ( token ) {\r\n\t\t\t\tcase BEGIN_ARRAY:\r\n\t\t\t\t    // If it&#39;s a regular list, just consume [, &lt;all elements&gt;, and ]\r\n\t\t\t\t\tin.beginArray();\r\n\t\t\t\t\twhile ( in.hasNext() ) {\r\n\t\t\t\t\t\tlist.add(elementTypeAdapter.read(in));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tin.endArray();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase BEGIN_OBJECT:\r\n\t\t\t\tcase STRING:\r\n\t\t\t\tcase NUMBER:\r\n\t\t\t\tcase BOOLEAN:\r\n\t\t\t\t    // An object or a primitive? Just add the current value to the result list\r\n\t\t\t\t\tlist.add(elementTypeAdapter.read(in));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NULL:\r\n\t\t\t\t\tthrow new AssertionError(&quot;Must never happen: check if the type adapter configured with .nullSafe()&quot;);\r\n\t\t\t\tcase NAME:\r\n\t\t\t\tcase END_ARRAY:\r\n\t\t\t\tcase END_OBJECT:\r\n\t\t\t\tcase END_DOCUMENT:\r\n\t\t\t\t\tthrow new MalformedJsonException(&quot;Unexpected token: &quot; + token);\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new AssertionError(&quot;Must never happen: &quot; + token);\r\n\t\t\t\t}\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\nNow you just have to tell Gson _which_ fields are not well-formed.\r\nOf course, you might configure the whole `Gson` instance to accept such lists, but let it be more precise using the `@JsonAdapter` annotation:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    final class Model {\r\n    \r\n        @JsonAdapter(AlwaysListTypeAdapterFactory.class)\r\n        final List&lt;String&gt; foo = null;\r\n    \r\n        @JsonAdapter(AlwaysListTypeAdapterFactory.class)\r\n        final List&lt;SomeObject&gt; bleh = null;\r\n    \r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Model{&quot; + &quot;foo=&quot; + foo + &quot;, bleh=&quot; + bleh + &#39;}&#39;;\r\n\t\t}\r\n\r\n    }\r\n\r\n    final class SomeObject {\r\n    \r\n        final String some = null;\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;SomeObject{&quot; + &quot;some=&#39;&quot; + some + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n\t\t}\r\n    \r\n    }\r\n\r\nTest data:\r\n\r\n### single.json\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    {\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;bleh&quot;: {&quot;some&quot;: &quot;object&quot;}\r\n    }\r\n\r\n\r\n### list.json\r\n\r\n&lt;!-- language: javascript --&gt;\r\n\r\n    {\r\n        &quot;foo&quot;: [&quot;bar&quot;],\r\n        &quot;bleh&quot;: [{&quot;some&quot;: &quot;object&quot;}]\r\n    }\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tprivate static final Gson gson = new Gson();\r\n\r\n\tpublic static void main(final String... args)\r\n\t\t\tthrows IOException {\r\n\t\tfor ( final String resource : ImmutableList.of(&quot;single.json&quot;, &quot;list.json&quot;) ) {\r\n\t\t\ttry ( final JsonReader jsonReader = getPackageResourceJsonReader(Q43412261.class, resource) ) {\r\n\t\t\t\tfinal Model model = gson.fromJson(jsonReader, Model.class);\r\n\t\t\t\tSystem.out.println(model);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAnd the output:\r\n\r\n&gt;Model{foo=[bar], bleh=[SomeObject{some=&#39;object&#39;}]}  \r\n&gt;Model{foo=[bar], bleh=[SomeObject{some=&#39;object&#39;}]}  \r\n","title":"Make GSON accept single objects where it expects arrays","body":"<blockquote>\n  <p>But the problem is I have Lists with many different element types and I don't want to write a separate TypeAdapter for each case. Nor have I been able to a generic TypeAdapter>, because at some point you need to know the type.</p>\n</blockquote>\n\n<p>This is what type adapter factories are designed for: you can control every type in <code>Gson</code> instance configuration.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class AlwaysListTypeAdapterFactory&lt;E&gt;\n        implements TypeAdapterFactory {\n\n    // Gson can instantiate it itself\n    private AlwaysListTypeAdapterFactory() {\n    }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        // If it's not a List -- just delegate the job to Gson and let it pick the best type adapter itself\n        if ( !List.class.isAssignableFrom(typeToken.getRawType()) ) {\n            return null;\n        }\n        // Resolving the list parameter type\n        final Type elementType = resolveTypeArgument(typeToken.getType());\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;E&gt; elementTypeAdapter = (TypeAdapter&lt;E&gt;) gson.getAdapter(TypeToken.get(elementType));\n        // Note that the always-list type adapter is made null-safe, so we don't have to check nulls ourselves\n        @SuppressWarnings(\"unchecked\")\n        final TypeAdapter&lt;T&gt; alwaysListTypeAdapter = (TypeAdapter&lt;T&gt;) new AlwaysListTypeAdapter&lt;&gt;(elementTypeAdapter).nullSafe();\n        return alwaysListTypeAdapter;\n    }\n\n    private static Type resolveTypeArgument(final Type type) {\n        // The given type is not parameterized?\n        if ( !(type instanceof ParameterizedType) ) {\n            // No, raw\n            return Object.class;\n        }\n        final ParameterizedType parameterizedType = (ParameterizedType) type;\n        return parameterizedType.getActualTypeArguments()[0];\n    }\n\n    private static final class AlwaysListTypeAdapter&lt;E&gt;\n            extends TypeAdapter&lt;List&lt;E&gt;&gt; {\n\n        private final TypeAdapter&lt;E&gt; elementTypeAdapter;\n\n        private AlwaysListTypeAdapter(final TypeAdapter&lt;E&gt; elementTypeAdapter) {\n            this.elementTypeAdapter = elementTypeAdapter;\n        }\n\n        @Override\n        public void write(final JsonWriter out, final List&lt;E&gt; list) {\n            throw new UnsupportedOperationException();\n        }\n\n        @Override\n        public List&lt;E&gt; read(final JsonReader in)\n                throws IOException {\n            // This is where we detect the list \"type\"\n            final List&lt;E&gt; list = new ArrayList&lt;&gt;();\n            final JsonToken token = in.peek();\n            switch ( token ) {\n            case BEGIN_ARRAY:\n                // If it's a regular list, just consume [, &lt;all elements&gt;, and ]\n                in.beginArray();\n                while ( in.hasNext() ) {\n                    list.add(elementTypeAdapter.read(in));\n                }\n                in.endArray();\n                break;\n            case BEGIN_OBJECT:\n            case STRING:\n            case NUMBER:\n            case BOOLEAN:\n                // An object or a primitive? Just add the current value to the result list\n                list.add(elementTypeAdapter.read(in));\n                break;\n            case NULL:\n                throw new AssertionError(\"Must never happen: check if the type adapter configured with .nullSafe()\");\n            case NAME:\n            case END_ARRAY:\n            case END_OBJECT:\n            case END_DOCUMENT:\n                throw new MalformedJsonException(\"Unexpected token: \" + token);\n            default:\n                throw new AssertionError(\"Must never happen: \" + token);\n            }\n            return list;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now you just have to tell Gson <em>which</em> fields are not well-formed.\nOf course, you might configure the whole <code>Gson</code> instance to accept such lists, but let it be more precise using the <code>@JsonAdapter</code> annotation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final class Model {\n\n    @JsonAdapter(AlwaysListTypeAdapterFactory.class)\n    final List&lt;String&gt; foo = null;\n\n    @JsonAdapter(AlwaysListTypeAdapterFactory.class)\n    final List&lt;SomeObject&gt; bleh = null;\n\n    @Override\n    public String toString() {\n        return \"Model{\" + \"foo=\" + foo + \", bleh=\" + bleh + '}';\n    }\n\n}\n\nfinal class SomeObject {\n\n    final String some = null;\n\n    @Override\n    public String toString() {\n        return \"SomeObject{\" + \"some='\" + some + '\\'' + '}';\n    }\n\n}\n</code></pre>\n\n<p>Test data:</p>\n\n<h3>single.json</h3>\n\n<pre><code>{\n    \"foo\": \"bar\",\n    \"bleh\": {\"some\": \"object\"}\n}\n</code></pre>\n\n<h3>list.json</h3>\n\n<pre><code>{\n    \"foo\": [\"bar\"],\n    \"bleh\": [{\"some\": \"object\"}]\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final Gson gson = new Gson();\n\npublic static void main(final String... args)\n        throws IOException {\n    for ( final String resource : ImmutableList.of(\"single.json\", \"list.json\") ) {\n        try ( final JsonReader jsonReader = getPackageResourceJsonReader(Q43412261.class, resource) ) {\n            final Model model = gson.fromJson(jsonReader, Model.class);\n            System.out.println(model);\n        }\n    }\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<blockquote>\n  <p>Model{foo=[bar], bleh=[SomeObject{some='object'}]}<br>\n  Model{foo=[bar], bleh=[SomeObject{some='object'}]}  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533721675,"creation_date":1533721675,"answer_id":51743579,"question_id":43412261,"body_markdown":"When using the GSON library, you could just check whether or not the following token is an object or an array. This of course requires you to go more fine grained while parsing the XML, but it allows you full control of what do you want to get from it. Sometimes we are not under control of the XML, and it could come handy.\r\n\r\nThis is an example to check if the next token is an object or an array, using the `JsonReader` class to parse the file:\r\n\r\n    if (jsonReader.peek() == JsonToken.BEGIN_ARRAY) {\r\n        jsonReader.beginArray()\r\n    } else if (jsonReader.peek() == JsonToken.BEGIN_OBJECT) {\r\n        jsonReader.beginObject()\r\n    }\r\n\r\nAnd at the end of the array / object, you could do the same, but for the end tokens:\r\n\r\n    if (jsonReader.peek() == JsonToken.END_ARRAY) {\r\n        jsonReader.endArray()\r\n    } else if (jsonReader.peek() == JsonToken.END_OBJECT) {\r\n        jsonReader.endObject()\r\n    }\r\n\r\nThis way, you could have identical code (adding an extra check, to verify if you are on an array or on an object) to parse your array of objects, or a single object.","title":"Make GSON accept single objects where it expects arrays","body":"<p>When using the GSON library, you could just check whether or not the following token is an object or an array. This of course requires you to go more fine grained while parsing the XML, but it allows you full control of what do you want to get from it. Sometimes we are not under control of the XML, and it could come handy.</p>\n\n<p>This is an example to check if the next token is an object or an array, using the <code>JsonReader</code> class to parse the file:</p>\n\n<pre><code>if (jsonReader.peek() == JsonToken.BEGIN_ARRAY) {\n    jsonReader.beginArray()\n} else if (jsonReader.peek() == JsonToken.BEGIN_OBJECT) {\n    jsonReader.beginObject()\n}\n</code></pre>\n\n<p>And at the end of the array / object, you could do the same, but for the end tokens:</p>\n\n<pre><code>if (jsonReader.peek() == JsonToken.END_ARRAY) {\n    jsonReader.endArray()\n} else if (jsonReader.peek() == JsonToken.END_OBJECT) {\n    jsonReader.endObject()\n}\n</code></pre>\n\n<p>This way, you could have identical code (adding an extra check, to verify if you are on an array or on an object) to parse your array of objects, or a single object.</p>\n"},{"tags":[],"owner":{"account_id":1961832,"reputation":295,"user_id":1763157,"display_name":"Bryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552948222,"creation_date":1552948222,"answer_id":55231018,"question_id":43412261,"body_markdown":"I had this same problem consuming xml / json from a vendor - they certainly weren&#39;t going to change their code for me :) There were several resources on the web that I used before changing adapting them to my own version [This SO answer was very helpful][1]. I spent some time looking at the gson code and finding a lot of private variable that I wanted access to. So, essentially what my custom collection adapter does is peek to see if the next element is an object. If not, we just delegate the read to the previous adapter (that we have overridden).\r\n\r\nIf the next element is an object, we use gson to process that. We then convert that to an array of one object. Use gson to write that to a string, then pass that string as a JsonReader to the underlying adapter. This can then create an instance of the underlying list and add the one element we have.\r\n\r\nHere&#39;s the AdapterTypeFactory:\r\n\r\n        public enum ListSingleObjectAdapterFactory implements TypeAdapterFactory {\r\n        INSTANCE; // Josh Bloch&#39;s Enum singleton pattern\r\n\r\n        @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n        @Override\r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n\r\n            Class&lt;? super T&gt; rawType = typeToken.getRawType();\r\n            if (!Collection.class.isAssignableFrom(rawType)) {\r\n                return null;\r\n            }\r\n\r\n            TypeAdapter collectionAdapter = gson.getDelegateAdapter(this, typeToken);\r\n            Class genericClass = (Class) ((ParameterizedType) typeToken.getType())\r\n                    .getActualTypeArguments()[0];\r\n                    return new SingleObjectOrCollectionAdapter(\r\n                            gson, collectionAdapter, genericClass);\r\n        }\r\n    }\r\n\r\nThen the type adapter I have is:\r\n\r\n    public class SingleObjectOrCollectionAdapter&lt;T&gt; extends TypeAdapter&lt;Collection&lt;T&gt;&gt; {\r\n        private Class&lt;T&gt; adapterclass;\r\n        private Gson gson;\r\n        private TypeAdapter arrayTypeAdapter;\r\n\r\n\r\n        public SingleObjectOrCollectionAdapter(Gson gson, TypeAdapter&lt;T&gt; collectionTypeAdapter, Class&lt;T&gt; componentType) {\r\n            arrayTypeAdapter = collectionTypeAdapter;\r\n            this.gson = gson;\r\n            adapterclass = componentType;\r\n        }\r\n\r\n\r\n        @Override\r\n        public Collection&lt;T&gt; read(JsonReader reader) throws IOException {\r\n        Collection&lt;T&gt; collection;\r\n            JsonReader myReader = reader;\r\n            if (reader.peek() == JsonToken.BEGIN_OBJECT) {\r\n                T inning = gson.fromJson(reader, adapterclass);\r\n                String s = gson.toJson(new Object[]{inning});\r\n                myReader = new JsonReader(new StringReader(s));\r\n\r\n            }\r\n            collection = (Collection)arrayTypeAdapter.read( myReader );\r\n\r\n            return collection;\r\n        }\r\n\r\n        @Override\r\n        public void write(JsonWriter writer, Collection&lt;T&gt; value) throws IOException {\r\n            arrayTypeAdapter.write(writer, value);\r\n        }\r\n    }\r\n\r\nFinally, we need to register the adapter factory:\r\n\r\n    GsonBuilder gb = new GsonBuilder().registerTypeAdapterFactory(ListSingleObjectAdapterFactory.INSTANCE);\r\n\r\nSo far, it seems to be working well handling both single and multiple objects - although I wouldn&#39;t be surprised if it needs some tweaking down the road.\r\n\r\n  [1]: https://stackoverflow.com/a/22307855/1763157","title":"Make GSON accept single objects where it expects arrays","body":"<p>I had this same problem consuming xml / json from a vendor - they certainly weren't going to change their code for me :) There were several resources on the web that I used before changing adapting them to my own version <a href=\"https://stackoverflow.com/a/22307855/1763157\">This SO answer was very helpful</a>. I spent some time looking at the gson code and finding a lot of private variable that I wanted access to. So, essentially what my custom collection adapter does is peek to see if the next element is an object. If not, we just delegate the read to the previous adapter (that we have overridden).</p>\n\n<p>If the next element is an object, we use gson to process that. We then convert that to an array of one object. Use gson to write that to a string, then pass that string as a JsonReader to the underlying adapter. This can then create an instance of the underlying list and add the one element we have.</p>\n\n<p>Here's the AdapterTypeFactory:</p>\n\n<pre><code>    public enum ListSingleObjectAdapterFactory implements TypeAdapterFactory {\n    INSTANCE; // Josh Bloch's Enum singleton pattern\n\n    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n\n        Class&lt;? super T&gt; rawType = typeToken.getRawType();\n        if (!Collection.class.isAssignableFrom(rawType)) {\n            return null;\n        }\n\n        TypeAdapter collectionAdapter = gson.getDelegateAdapter(this, typeToken);\n        Class genericClass = (Class) ((ParameterizedType) typeToken.getType())\n                .getActualTypeArguments()[0];\n                return new SingleObjectOrCollectionAdapter(\n                        gson, collectionAdapter, genericClass);\n    }\n}\n</code></pre>\n\n<p>Then the type adapter I have is:</p>\n\n<pre><code>public class SingleObjectOrCollectionAdapter&lt;T&gt; extends TypeAdapter&lt;Collection&lt;T&gt;&gt; {\n    private Class&lt;T&gt; adapterclass;\n    private Gson gson;\n    private TypeAdapter arrayTypeAdapter;\n\n\n    public SingleObjectOrCollectionAdapter(Gson gson, TypeAdapter&lt;T&gt; collectionTypeAdapter, Class&lt;T&gt; componentType) {\n        arrayTypeAdapter = collectionTypeAdapter;\n        this.gson = gson;\n        adapterclass = componentType;\n    }\n\n\n    @Override\n    public Collection&lt;T&gt; read(JsonReader reader) throws IOException {\n    Collection&lt;T&gt; collection;\n        JsonReader myReader = reader;\n        if (reader.peek() == JsonToken.BEGIN_OBJECT) {\n            T inning = gson.fromJson(reader, adapterclass);\n            String s = gson.toJson(new Object[]{inning});\n            myReader = new JsonReader(new StringReader(s));\n\n        }\n        collection = (Collection)arrayTypeAdapter.read( myReader );\n\n        return collection;\n    }\n\n    @Override\n    public void write(JsonWriter writer, Collection&lt;T&gt; value) throws IOException {\n        arrayTypeAdapter.write(writer, value);\n    }\n}\n</code></pre>\n\n<p>Finally, we need to register the adapter factory:</p>\n\n<pre><code>GsonBuilder gb = new GsonBuilder().registerTypeAdapterFactory(ListSingleObjectAdapterFactory.INSTANCE);\n</code></pre>\n\n<p>So far, it seems to be working well handling both single and multiple objects - although I wouldn't be surprised if it needs some tweaking down the road.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667085391,"creation_date":1667085391,"answer_id":74249511,"question_id":43412261,"body_markdown":"One solution to this would be to write a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which creates an adapter which peeks at the JSON data. If it encounters something other than a JSON array (or JSON null) it wraps it inside a JSON array before deserializing it:\r\n```java\r\n// Only intended for usage with @JsonAdapter on fields\r\nclass SingleValueOrListAdapterFactory implements TypeAdapterFactory {\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\r\n        TypeAdapter&lt;JsonElement&gt; jsonElementAdapter = gson.getAdapter(JsonElement.class);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                listAdapterDelegate.write(out, value);\r\n            }\r\n\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                JsonToken peeked = in.peek();\r\n                if (peeked == JsonToken.NULL || peeked == JsonToken.BEGIN_ARRAY) {\r\n                    return listAdapterDelegate.read(in);\r\n                } else {\r\n                    // Wrap JSON element in a new JSON array before deserializing it\r\n                    JsonElement jsonElement = jsonElementAdapter.read(in);\r\n                    JsonArray jsonArray = new JsonArray();\r\n                    jsonArray.add(jsonElement);\r\n\r\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThe above implementation is designed only for usage with [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html) on fields, for example:\r\n```java\r\n@JsonAdapter(SingleValueOrListAdapterFactory.class)\r\nprivate List&lt;MyClass&gt; myField;\r\n```\r\n\r\nCompared to the [currently accepted answer](https://stackoverflow.com/a/43412985) this provides the following advantages because it simply delegates the actual deserialization to `listAdapterDelegate`:\r\n- Custom `List` (or `Collection`) subclasses are supported because creation of them is delegated to Gson\r\n- Gson&#39;s default type resolution logic is used to determine the element type and to deserialize it\r\n\r\nBut it also has the following disadvantage:\r\n- Decreased performance because if the data is not already in a JSON array it is first deserialized to a `JsonElement` before the actual deserialization is performed\r\n","title":"Make GSON accept single objects where it expects arrays","body":"<p>One solution to this would be to write a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which creates an adapter which peeks at the JSON data. If it encounters something other than a JSON array (or JSON null) it wraps it inside a JSON array before deserializing it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Only intended for usage with @JsonAdapter on fields\nclass SingleValueOrListAdapterFactory implements TypeAdapterFactory {\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\n        TypeAdapter&lt;JsonElement&gt; jsonElementAdapter = gson.getAdapter(JsonElement.class);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                listAdapterDelegate.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                JsonToken peeked = in.peek();\n                if (peeked == JsonToken.NULL || peeked == JsonToken.BEGIN_ARRAY) {\n                    return listAdapterDelegate.read(in);\n                } else {\n                    // Wrap JSON element in a new JSON array before deserializing it\n                    JsonElement jsonElement = jsonElementAdapter.read(in);\n                    JsonArray jsonArray = new JsonArray();\n                    jsonArray.add(jsonElement);\n\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>The above implementation is designed only for usage with <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a> on fields, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAdapter(SingleValueOrListAdapterFactory.class)\nprivate List&lt;MyClass&gt; myField;\n</code></pre>\n<p>Compared to the <a href=\"https://stackoverflow.com/a/43412985\">currently accepted answer</a> this provides the following advantages because it simply delegates the actual deserialization to <code>listAdapterDelegate</code>:</p>\n<ul>\n<li>Custom <code>List</code> (or <code>Collection</code>) subclasses are supported because creation of them is delegated to Gson</li>\n<li>Gson's default type resolution logic is used to determine the element type and to deserialize it</li>\n</ul>\n<p>But it also has the following disadvantage:</p>\n<ul>\n<li>Decreased performance because if the data is not already in a JSON array it is first deserialized to a <code>JsonElement</code> before the actual deserialization is performed</li>\n</ul>\n"}],"owner":{"account_id":513872,"reputation":569,"user_id":1084488,"accept_rate":54,"display_name":"Matthias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7777,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43412985,"answer_count":5,"score":17,"last_activity_date":1667085391,"creation_date":1492175590,"question_id":43412261,"body_markdown":"I have bunch of model classes which have fields of type `List&lt;X&gt;` where `X` is one of many things (e.g. `String`, `Integer`, but also some of my own types). I&#39;m using GSON to parse JSON representations of these models.\r\n\r\nMy problem is that the server I&#39;m dealing with (which is beyond my control) somehow removed singleton arrays and replaces them by the contained object.\r\n\r\nFor example, instead of returning:\r\n\r\n    {\r\n      &quot;foo&quot;: [ &quot;bar&quot;],\r\n      &quot;bleh&quot;: [ { &quot;some&quot;: &quot;object&quot; } ]\r\n    }\r\n\r\nIt returns:\r\n\r\n    {\r\n      &quot;foo&quot;: &quot;bar&quot;,\r\n      &quot;bleh&quot;: { &quot;some&quot;: &quot;object&quot; }\r\n    }\r\n\r\nNow assume that the Java model class look something like this:\r\n\r\n    public class Model {\r\n       private List&lt;String&gt; foo;\r\n       private List&lt;SomeObject&gt; bleh;\r\n    }\r\n\r\nCurrently this causes GSON to throw an exception because it finds `BEGIN_STRING` or `BEGIN_OBJECT` where it expects `BEGIN_ARRAY`.\r\n\r\nFor arrays or lists of Strings this is easily solved using a `TypeAdapter&lt;List&lt;String&gt;&gt;`. But the problem is I have `List`s with many different element types and I don&#39;t want to write a separate `TypeAdapter` for each case. Nor have I been able to a generic `TypeAdapter&lt;List&lt;?&gt;&gt;`, because at some point you need to know the type.\r\nSo is there another way to configure GSON to be smart enough to turn single objects or values into arrays/lists? Or in other words, just &quot;pretend&quot; that the `[ ` and `]` are there where it expects to find them although they aren&#39;t there?","title":"Make GSON accept single objects where it expects arrays","body":"<p>I have bunch of model classes which have fields of type <code>List&lt;X&gt;</code> where <code>X</code> is one of many things (e.g. <code>String</code>, <code>Integer</code>, but also some of my own types). I'm using GSON to parse JSON representations of these models.</p>\n\n<p>My problem is that the server I'm dealing with (which is beyond my control) somehow removed singleton arrays and replaces them by the contained object.</p>\n\n<p>For example, instead of returning:</p>\n\n<pre><code>{\n  \"foo\": [ \"bar\"],\n  \"bleh\": [ { \"some\": \"object\" } ]\n}\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>{\n  \"foo\": \"bar\",\n  \"bleh\": { \"some\": \"object\" }\n}\n</code></pre>\n\n<p>Now assume that the Java model class look something like this:</p>\n\n<pre><code>public class Model {\n   private List&lt;String&gt; foo;\n   private List&lt;SomeObject&gt; bleh;\n}\n</code></pre>\n\n<p>Currently this causes GSON to throw an exception because it finds <code>BEGIN_STRING</code> or <code>BEGIN_OBJECT</code> where it expects <code>BEGIN_ARRAY</code>.</p>\n\n<p>For arrays or lists of Strings this is easily solved using a <code>TypeAdapter&lt;List&lt;String&gt;&gt;</code>. But the problem is I have <code>List</code>s with many different element types and I don't want to write a separate <code>TypeAdapter</code> for each case. Nor have I been able to a generic <code>TypeAdapter&lt;List&lt;?&gt;&gt;</code>, because at some point you need to know the type.\nSo is there another way to configure GSON to be smart enough to turn single objects or values into arrays/lists? Or in other words, just \"pretend\" that the <code>[</code> and <code>]</code> are there where it expects to find them although they aren't there?</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"score":0,"creation_date":1465471316,"post_id":37723064,"comment_id":62920276,"body_markdown":"I deleted my answer, as I had totally missed the fact that you already have that turned on. \n\nApologies, but I think that&#39;s as good as you&#39;re going to get. Personally, I think it&#39;s cleaner than Eclipse, as it only shows you the info if you want it. If you think you want to use AffineTransform, why do you care about the constructor for Affine3D?","body":"I deleted my answer, as I had totally missed the fact that you already have that turned on.   Apologies, but I think that&#39;s as good as you&#39;re going to get. Personally, I think it&#39;s cleaner than Eclipse, as it only shows you the info if you want it. If you think you want to use AffineTransform, why do you care about the constructor for Affine3D?"},{"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"score":0,"creation_date":1465473470,"post_id":37723064,"comment_id":62921813,"body_markdown":"it may be cleaner, but it doesn&#39;t show any info about the class itself, it only shows method signatures. Eclipse gives me actual javadoc and a much better sense of the class I&#39;m about to create an object of. And Eclipse also doesn&#39;t require me to use a separate keycombo for finding out signatures afterwards, I can ctrl+space inside the parenthesis. If I try that in IntelliJ my autocomplete keycombo (also ctrl+space) gets blocked so I can&#39;t manually call it anymore....","body":"it may be cleaner, but it doesn&#39;t show any info about the class itself, it only shows method signatures. Eclipse gives me actual javadoc and a much better sense of the class I&#39;m about to create an object of. And Eclipse also doesn&#39;t require me to use a separate keycombo for finding out signatures afterwards, I can ctrl+space inside the parenthesis. If I try that in IntelliJ my autocomplete keycombo (also ctrl+space) gets blocked so I can&#39;t manually call it anymore...."},{"owner":{"account_id":2256418,"reputation":3983,"user_id":1987514,"accept_rate":86,"display_name":"Ben Green"},"score":1,"creation_date":1465473824,"post_id":37723064,"comment_id":62922062,"body_markdown":"Fair enough. Then I don&#39;t think that what you are looking for is possible. Sorry.","body":"Fair enough. Then I don&#39;t think that what you are looking for is possible. Sorry."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1465483066,"post_id":37723064,"comment_id":62929310,"body_markdown":"What&#39;s wrong for clicking on the correct signature in &quot;Documentation for AffineTransform&quot; (the panel on the right) ?","body":"What&#39;s wrong for clicking on the correct signature in &quot;Documentation for AffineTransform&quot; (the panel on the right) ?"}],"answers":[{"comments":[{"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"score":0,"creation_date":1465467995,"post_id":37723203,"comment_id":62918099,"body_markdown":"that&#39;s still the hindsight way of doing it, exactly what I&#39;m trying to avoid &quot;instead of just showing the class name and making you figure out afterwards if you&#39;re even in the right place or not.&quot;","body":"that&#39;s still the hindsight way of doing it, exactly what I&#39;m trying to avoid &quot;instead of just showing the class name and making you figure out afterwards if you&#39;re even in the right place or not.&quot;"},{"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"score":0,"creation_date":1465472810,"post_id":37723203,"comment_id":62921297,"body_markdown":"I think IntelliJ does it cleaner. First you figure out the class, and then you can decide which constructor to use.","body":"I think IntelliJ does it cleaner. First you figure out the class, and then you can decide which constructor to use."},{"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"score":3,"creation_date":1465473614,"post_id":37723203,"comment_id":62921908,"body_markdown":"I like to know what kind of constructor I need before I go into creating a specific object (no commitment), plus Eclipse does it better as it doesn&#39;t require a whole separate key combination to show method signatures (Eclipse allows ctrl+space basically everywhere)","body":"I like to know what kind of constructor I need before I go into creating a specific object (no commitment), plus Eclipse does it better as it doesn&#39;t require a whole separate key combination to show method signatures (Eclipse allows ctrl+space basically everywhere)"},{"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"score":0,"creation_date":1465543612,"post_id":37723203,"comment_id":62954818,"body_markdown":"There will be a few transition hiccups, but trust me IntelliJ is far better. I am myself a Eclipse to IntelliJ convert :) In the end, choose an IDE that helps you complete the task :)","body":"There will be a few transition hiccups, but trust me IntelliJ is far better. I am myself a Eclipse to IntelliJ convert :) In the end, choose an IDE that helps you complete the task :)"},{"owner":{"account_id":8063484,"reputation":1095,"user_id":6078370,"display_name":"DSchmidt"},"score":3,"creation_date":1519917847,"post_id":37723203,"comment_id":85110448,"body_markdown":"IntelliJ is way worse in this one regard. It is almost impossible to read constructor documentation. You have to enter the class after creating the useless Class(). You can press ctrl+p to get the list of parameters but no docs until you have a full constructor.","body":"IntelliJ is way worse in this one regard. It is almost impossible to read constructor documentation. You have to enter the class after creating the useless Class(). You can press ctrl+p to get the list of parameters but no docs until you have a full constructor."}],"tags":[],"owner":{"account_id":920765,"reputation":2524,"user_id":952511,"accept_rate":78,"display_name":"sinujohn"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465467626,"creation_date":1465467626,"answer_id":37723203,"question_id":37723064,"body_markdown":"Type the class name and the parenthesis. Inside parenthesis, type ```Ctrl+P```. Eg: ```new BufferedWriter( &lt;ctrl+P&gt; )```\r\n\r\nIn fact you can type, ```ctrl+P``` to get details of any function, not just constructor.","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>Type the class name and the parenthesis. Inside parenthesis, type <code>Ctrl+P</code>. Eg: <code>new BufferedWriter( &lt;ctrl+P&gt; )</code></p>\n\n<p>In fact you can type, <code>ctrl+P</code> to get details of any function, not just constructor.</p>\n"},{"comments":[{"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"score":0,"creation_date":1633440338,"post_id":69430247,"comment_id":122756238,"body_markdown":"Thanks for the heads-up (took em long enough to implement though)","body":"Thanks for the heads-up (took em long enough to implement though)"},{"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"score":0,"creation_date":1649378396,"post_id":69430247,"comment_id":126866574,"body_markdown":"I miss Eclipse where ctrl+space was your buddy in just about any situation :-(","body":"I miss Eclipse where ctrl+space was your buddy in just about any situation :-("}],"tags":[],"owner":{"account_id":13728241,"reputation":116,"user_id":9906396,"display_name":"Talis Guo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633581960,"creation_date":1633312991,"answer_id":69430247,"question_id":37723064,"body_markdown":"This answer is base on IDEA version 2021.2.2\r\n\r\nIn the `Settings -&gt; Editor -&gt; General -&gt; Code Completion`, check **Show parameter name hints on completion** under **Parameter Info** session.\r\n\r\n![setting image](https://i.stack.imgur.com/fpp3X.png)\r\n\r\n![example image](https://i.stack.imgur.com/wew8O.png)\r\n\r\nCombine with `Ctrl + Q`, you can view the javadoc for each constructor.","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>This answer is base on IDEA version 2021.2.2</p>\n<p>In the <code>Settings -&gt; Editor -&gt; General -&gt; Code Completion</code>, check <strong>Show parameter name hints on completion</strong> under <strong>Parameter Info</strong> session.</p>\n<p><img src=\"https://i.stack.imgur.com/fpp3X.png\" alt=\"setting image\" /></p>\n<p><img src=\"https://i.stack.imgur.com/wew8O.png\" alt=\"example image\" /></p>\n<p>Combine with <code>Ctrl + Q</code>, you can view the javadoc for each constructor.</p>\n"},{"tags":[],"owner":{"account_id":3491211,"reputation":1083,"user_id":2920861,"accept_rate":88,"display_name":"Crigges"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667084431,"creation_date":1667084431,"answer_id":74249446,"question_id":37723064,"body_markdown":"It is also possible to show overloaded constructors by enabling a hidden option. Invoke the `Help | Find Action` menu item and type `Registry` to go to the Registry. Here enable the `java.completion.show.constructors` option.\r\n[![constructor overloads in completion][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ebfgq.png\r\n  [2]: https://i.stack.imgur.com/l1LDS.png\r\n\r\nCopied From: https://stackoverflow.com/a/43639241/2920861","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>It is also possible to show overloaded constructors by enabling a hidden option. Invoke the <code>Help | Find Action</code> menu item and type <code>Registry</code> to go to the Registry. Here enable the <code>java.completion.show.constructors</code> option.\n<a href=\"https://i.stack.imgur.com/l1LDS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1LDS.png\" alt=\"constructor overloads in completion\" /></a></p>\n<p>Copied From: <a href=\"https://stackoverflow.com/a/43639241/2920861\">https://stackoverflow.com/a/43639241/2920861</a></p>\n"}],"owner":{"account_id":1517219,"reputation":772,"user_id":1417953,"accept_rate":93,"display_name":"Gelunox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1829,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69430247,"answer_count":3,"score":4,"last_activity_date":1667084431,"creation_date":1465467241,"question_id":37723064,"body_markdown":"I&#39;m considering switching from Eclipse to IntelliJ IDEA, but there&#39;s one thing holding me back: the autocomplete. Eclipse shows me all the information I want from the start whereas IntelliJ holds back some information. The only thing I&#39;m still missing is separate entries in code completion for each constructor signature. And I believe it&#39;s pretty weird that&#39;s missing since method signatures are done separately.\r\n\r\n**My question being, is it possible (am I overlooking something) to get IntelliJ to show separate entries for each signature for constructors WITH documentation, instead of just showing the class name and making you figure out afterwards if you&#39;re even in the right place or not.**\r\n\r\nEclipse way of showing (preferred)\r\n[![eclipse autocomplete][1]][1]\r\n\r\nIntelliJ IDEA way of showing (not preferred)\r\n[![intellij autocomplete][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bgLsc.png\r\n  [2]: http://i.stack.imgur.com/vkluh.png","title":"IntelliJ IDEA code completion show all constructor signatures?","body":"<p>I'm considering switching from Eclipse to IntelliJ IDEA, but there's one thing holding me back: the autocomplete. Eclipse shows me all the information I want from the start whereas IntelliJ holds back some information. The only thing I'm still missing is separate entries in code completion for each constructor signature. And I believe it's pretty weird that's missing since method signatures are done separately.</p>\n\n<p><strong>My question being, is it possible (am I overlooking something) to get IntelliJ to show separate entries for each signature for constructors WITH documentation, instead of just showing the class name and making you figure out afterwards if you're even in the right place or not.</strong></p>\n\n<p>Eclipse way of showing (preferred)\n<a href=\"https://i.stack.imgur.com/bgLsc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgLsc.png\" alt=\"eclipse autocomplete\"></a></p>\n\n<p>IntelliJ IDEA way of showing (not preferred)\n<a href=\"https://i.stack.imgur.com/vkluh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkluh.png\" alt=\"intellij autocomplete\"></a></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":25313613,"reputation":23,"user_id":19161839,"display_name":"Konrad"},"score":0,"creation_date":1667128364,"post_id":74249410,"comment_id":131093001,"body_markdown":"Thanks, do you know if then this re-partitioned topic is consumed by whole consumer group?","body":"Thanks, do you know if then this re-partitioned topic is consumed by whole consumer group?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667142055,"post_id":74249410,"comment_id":131095685,"body_markdown":"Why wouldn&#39;t it be? You cannot assign consumers in Streams API to any less than all partitions of topics","body":"Why wouldn&#39;t it be? You cannot assign consumers in Streams API to any less than all partitions of topics"},{"owner":{"account_id":25313613,"reputation":23,"user_id":19161839,"display_name":"Konrad"},"score":0,"creation_date":1667144459,"post_id":74249410,"comment_id":131096165,"body_markdown":"My dilemmas arise from the fact that a given consumer subscribe to some specific topics, and I don&#39;t know any mechanism in Kafka to let other consumers know that they need to subscribe to a new internal topic. There is group leader and group coordinator but their responsibilities are different.","body":"My dilemmas arise from the fact that a given consumer subscribe to some specific topics, and I don&#39;t know any mechanism in Kafka to let other consumers know that they need to subscribe to a new internal topic. There is group leader and group coordinator but their responsibilities are different."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1667173494,"post_id":74249410,"comment_id":131101992,"body_markdown":"Not sure I understand. You should never manually subscribe to internal `repartition` topics. You&#39;d create a separate topic with `through` or `to`, as the link refers to. Still, Kafka Streams reading from those topics will always read all partitions","body":"Not sure I understand. You should never manually subscribe to internal <code>repartition</code> topics. You&#39;d create a separate topic with <code>through</code> or <code>to</code>, as the link refers to. Still, Kafka Streams reading from those topics will always read all partitions"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667084027,"creation_date":1667084027,"answer_id":74249410,"question_id":74248048,"body_markdown":"If you don&#39;t set it using `Repartitioned.numberOfPartitions()`, then it&#39;s the same as the input topic.\r\n\r\nReference - https://stackoverflow.com/q/49578931/2308683 ","title":"Kafka streams repartitioning","body":"<p>If you don't set it using <code>Repartitioned.numberOfPartitions()</code>, then it's the same as the input topic.</p>\n<p>Reference - <a href=\"https://stackoverflow.com/q/49578931/2308683\">Is there a way to repartition the input topic in Kafka streams?</a></p>\n"}],"owner":{"account_id":25313613,"reputation":23,"user_id":19161839,"display_name":"Konrad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249410,"answer_count":1,"score":0,"last_activity_date":1667084027,"creation_date":1667070150,"question_id":74248048,"body_markdown":"In Kafka streams when function to modify the key is used then Kafka Streams creates internal repartitioned topic. I wonder what is number of partition of newly created topic? When new topic partition number is grater than 1 then other consumers from consumers group also are involved for consuming that internal topic?\r\n\r\nI am trying to scale one of my consumers but I try to understand first how does it works. ","title":"Kafka streams repartitioning","body":"<p>In Kafka streams when function to modify the key is used then Kafka Streams creates internal repartitioned topic. I wonder what is number of partition of newly created topic? When new topic partition number is grater than 1 then other consumers from consumers group also are involved for consuming that internal topic?</p>\n<p>I am trying to scale one of my consumers but I try to understand first how does it works.</p>\n"},{"tags":["java","gson","mapping","unmarshalling","jsonobjectrequest"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1667084027,"post_id":74240430,"comment_id":131087810,"body_markdown":"Does this answer your question? [Make GSON accept single objects where it expects arrays](https://stackoverflow.com/questions/43412261/make-gson-accept-single-objects-where-it-expects-arrays)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43412261/make-gson-accept-single-objects-where-it-expects-arrays\">Make GSON accept single objects where it expects arrays</a>"}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667083874,"creation_date":1667083874,"answer_id":74249397,"question_id":74240430,"body_markdown":"You could solve this with a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) which creates an adapter which first peeks at the type of the JSON data and then adds special handling where the JSON object is not wrapped in an JSON array:\r\n```java\r\n// Only intended for usage with @JsonAdapter\r\nclass SingleObjectOrListAdapterFactory implements TypeAdapterFactory {\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\r\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\r\n        TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\r\n\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                listAdapterDelegate.write(out, value);\r\n            }\r\n\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\r\n                    // Wrap JSON object in a new JSON array before parsing it\r\n                    JsonObject jsonObject = jsonObjectAdapter.read(in);\r\n                    JsonArray jsonArray = new JsonArray();\r\n                    jsonArray.add(jsonObject);\r\n\r\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\r\n                } else {\r\n                    return listAdapterDelegate.read(in);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\nThe factory can then be specified for the affected field with [`@JsonAdapter`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html):\r\n```java\r\n@JsonAdapter(SingleObjectOrListAdapterFactory.class)\r\nprivate ArrayList&lt;RadarReport&gt; RadarReport;\r\n```","title":"Json string to Object mapping with dynamic values","body":"<p>You could solve this with a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> which creates an adapter which first peeks at the type of the JSON data and then adds special handling where the JSON object is not wrapped in an JSON array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Only intended for usage with @JsonAdapter\nclass SingleObjectOrListAdapterFactory implements TypeAdapterFactory {\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Note: Cannot use getDelegateAdapter due to https://github.com/google/gson/issues/1028\n        TypeAdapter&lt;T&gt; listAdapterDelegate = gson.getAdapter(type);\n        TypeAdapter&lt;JsonObject&gt; jsonObjectAdapter = gson.getAdapter(JsonObject.class);\n\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                listAdapterDelegate.write(out, value);\n            }\n\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.BEGIN_OBJECT) {\n                    // Wrap JSON object in a new JSON array before parsing it\n                    JsonObject jsonObject = jsonObjectAdapter.read(in);\n                    JsonArray jsonArray = new JsonArray();\n                    jsonArray.add(jsonObject);\n\n                    return listAdapterDelegate.fromJsonTree(jsonArray);\n                } else {\n                    return listAdapterDelegate.read(in);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>The factory can then be specified for the affected field with <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html\" rel=\"nofollow noreferrer\"><code>@JsonAdapter</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAdapter(SingleObjectOrListAdapterFactory.class)\nprivate ArrayList&lt;RadarReport&gt; RadarReport;\n</code></pre>\n"}],"owner":{"account_id":26763665,"reputation":3,"user_id":20361188,"display_name":"sandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249397,"answer_count":1,"score":0,"last_activity_date":1667083874,"creation_date":1666987859,"question_id":74240430,"body_markdown":"I am consuming Thirdparty jsonString, I am trying to parse the json but sometimes JSON object &quot;RadarReports&quot; is an list and sometimes it object. \r\n\r\n    {&quot;RadarReports&quot;: {\r\n        &quot;executionTime&quot;: &quot;135&quot;,\r\n    &quot;RadarReport&quot;: {\r\n            &quot;abc&quot;: &quot;1116591&quot;,\r\n            &quot;name&quot;: &quot;abc&quot;,\r\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n            &quot;ownerId&quot;: &quot;xyz&quot;\r\n        },\r\n    &quot;size&quot; :&quot;1&quot;\r\n    }}\r\n=================\r\n\r\n  \r\n\r\n      {&quot;RadarReports&quot;: {\r\n            &quot;executionTime&quot;: &quot;113&quot;,\r\n            &quot;RadarReport&quot;: [\r\n                {\r\n                     &quot;abc&quot;: &quot;1116591&quot;,\r\n                &quot;name&quot;: &quot;abc&quot;,\r\n                &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n                &quot;ownerId&quot;: &quot;xyz&quot;\r\n                },\r\n                {\r\n                &quot;abc&quot;: &quot;1116591&quot;,\r\n                &quot;name&quot;: &quot;abc&quot;,\r\n                &quot;id&quot;: &quot;2019050311582056119&quot;,\r\n                &quot;ownerId&quot;: &quot;xyz&quot;\r\n                },\r\n        \t]\r\n        &quot;size&quot; : &quot;2&quot;\r\n        }}\r\n\r\nI tried below to parse but failing when single object came into picture, need to accept both single and list of objects.\r\n\r\n\r\n\r\n    @Data\r\n    public class Radarreports {\r\n        private int size;\r\n        private ArrayList&lt;RadarreportSet&gt; RadarReportSet;\r\n        private ArrayList&lt;RadarReport&gt; RadarReport;\r\n    }\r\n\r\n    @Data\r\n    public\r\n    class ReportsResponse {\r\n        Radarreports RadarReports;\r\n    }\r\n\r\n    URL url = new URL(queryUrl);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));\r\n    Gson gson = new GsonBuilder().create();\r\n    ReportsResponse radarReports = gson.fromJson(br, ReportsResponse.class);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Json string to Object mapping with dynamic values","body":"<p>I am consuming Thirdparty jsonString, I am trying to parse the json but sometimes JSON object &quot;RadarReports&quot; is an list and sometimes it object.</p>\n<pre><code>{&quot;RadarReports&quot;: {\n    &quot;executionTime&quot;: &quot;135&quot;,\n&quot;RadarReport&quot;: {\n        &quot;abc&quot;: &quot;1116591&quot;,\n        &quot;name&quot;: &quot;abc&quot;,\n        &quot;id&quot;: &quot;2019050311582056119&quot;,\n        &quot;ownerId&quot;: &quot;xyz&quot;\n    },\n&quot;size&quot; :&quot;1&quot;\n}}\n</code></pre>\n<p>=================</p>\n<pre><code>  {&quot;RadarReports&quot;: {\n        &quot;executionTime&quot;: &quot;113&quot;,\n        &quot;RadarReport&quot;: [\n            {\n                 &quot;abc&quot;: &quot;1116591&quot;,\n            &quot;name&quot;: &quot;abc&quot;,\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\n            &quot;ownerId&quot;: &quot;xyz&quot;\n            },\n            {\n            &quot;abc&quot;: &quot;1116591&quot;,\n            &quot;name&quot;: &quot;abc&quot;,\n            &quot;id&quot;: &quot;2019050311582056119&quot;,\n            &quot;ownerId&quot;: &quot;xyz&quot;\n            },\n        ]\n    &quot;size&quot; : &quot;2&quot;\n    }}\n</code></pre>\n<p>I tried below to parse but failing when single object came into picture, need to accept both single and list of objects.</p>\n<pre><code>@Data\npublic class Radarreports {\n    private int size;\n    private ArrayList&lt;RadarreportSet&gt; RadarReportSet;\n    private ArrayList&lt;RadarReport&gt; RadarReport;\n}\n\n@Data\npublic\nclass ReportsResponse {\n    Radarreports RadarReports;\n}\n\nURL url = new URL(queryUrl);\nBufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()));\nGson gson = new GsonBuilder().create();\nReportsResponse radarReports = gson.fromJson(br, ReportsResponse.class);\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667083106,"creation_date":1667083106,"answer_id":74249338,"question_id":74248330,"body_markdown":"Writing tests could be boring, but as you get stuck in errors, you will find it very necessary to write tests to avoid repeated actions.\r\nMethods like delete and update usually should be void, and you should only look for exceptions and response status.\r\n\r\nYou can use simply test your repository using the code below: \r\n\r\n    @AutoConfigureMockMvc\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @Import({ObjectMapper.class, &lt;yourController&gt;.class})\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    class &lt;YourClassName&gt; {\r\n        // use this to perform api requests\r\n        @Autowired\r\n    \t\tprivate MockMvc mockMvc;\r\n        // for live testing no mocking\r\n        @Autowired\r\n        private &lt;YourRepository&gt; repo;\r\n    \r\n        // saved user id\r\n        private static int savedUserId;\r\n        // you are mocking the repository and testing the service layer\r\n        // this is not applicable here, use the above code to test in integration mode.\r\n        /*@Mock\r\n        private &lt;YourRepository&gt; mockedRepo;*/\r\n        \r\n        // optionally used to create json objects\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            \r\n        }\r\n    \r\n    \r\n      // save a user with and put the id in static filed (savedUserId)\r\n        @Test\r\n    \t  @Order(1)\r\n        public void saveStaffTest() throws Exception {\r\n          final String link = &quot;/user/save&quot;; // link to your controller api end point\r\n          User user = new User(10001L, &quot;Alex&quot;, &quot;alex.jamal@gmail.com&quot;, 10, LocalDate.of(2012, Month.APRIL, 13)); // define your default object here\r\n          /***\r\n           *  note: in your User class you might have id as auto generated, because of this you need two constructor one with id, and other without id\r\n           * , or you will have an error.\r\n           *  you can use objectmapper if you run to an error and just pass the object as json string.\r\n          */\r\n          \r\n          // here you are performing save request and getting the result\r\n          MvcResult result = this.mockMvc.perform(MockMvcRequestBuilders\r\n    \t\t\t\t\t\t.post(link)\r\n    \t\t\t\t\t\t.accept(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t\t\t.content(objectMapper.writeValueAsBytes(user))) // this will make the object a json string\r\n    \t\t\t\t\t\t.andExpect(MockMvcResultMatchers.status().isCreated()) // here is what important! it will check the response status, if created 201 the test will success, else it will fail\r\n    \t\t\t\t\t\t.andReturn(); // returning the result\r\n    \t\t\t\tString response = result.getResponse().getContentAsString();\r\n    \t\t\t\tSystem.out.println(&quot;from response: &quot;+response); // this is the response you passed on your controller method\r\n    \t\t\t\t/**\r\n            * knowing your response structure search for the user id\r\n            */\r\n    \t\t\t\tJsonNode root = objectMapper.readTree(response); \r\n    \t\t\t\tJsonNode id = root.get(&quot;id&quot;); \r\n    \t\t\t\tsavedUserId = id.asInt(); here you save the id in static field savedUserId, then you can pass this id on the next test (delete/update);\r\n            \r\n    \t\t\t\tSystem.out.println(&quot;id is: &quot;+id);\r\n        }\r\n        @Test\r\n        @Order(2)\r\n        void shouldDeleteUser() throws IllegalStateException, Exception{\r\n        // here delete the object, and assert the response state is ok, no need to return any value\r\n        final String link = &quot;/user/delete/&quot;+savedUserId;\r\n    \t\t\t\tthis.mockMvc.perform(MockMvcRequestBuilders\r\n    \t\t\t\t\t\t.post(link)\r\n    \t\t\t\t\t\t.accept(MediaType.APPLICATION_JSON))\r\n    \t\t\t\t\t\t.andExpect(MockMvcResultMatchers.status().isOk()); // fail if the response is not 200, couldn&#39;t delete the object\r\n            underTest.addNewUser(userCreateDto);\r\n            final long id = 223;\r\n            // when\r\n            underTest.deleteUserById(id);\r\n            //then\r\n            verify(userRepository).deleteById(id);\r\n        }\r\n        \r\n        /***************** save user method to add to controller ***************/\r\n          @PostMapping(&quot;/user/save&quot;)\r\n          private ResponseEntity&lt;User&gt; addNewUser(@RequestBody User user){\r\n              try {\r\n                   userRepo.save(user); // can call the service if you want also\r\n                   return ResponseEntity.status(HttpStatus.CREATED).body(user);\r\n              }catch(Exception e){\r\n                  System.out.println(e.getMessage()); \r\n              }\r\n            \r\n              return ResponseEntity.badRequest().body(null);\r\n          }\r\n          \r\n          /***************** delete user method to add to controller ***************/\r\n          @PostMapping(&quot;/user/delete/{userId});\r\n          private ResponseEntity deleteUser(@PathVariable(&quot;userId) int userId){\r\n              try {\r\n                  // you can add the logic to check if user exists first\r\n                  User user = userRepo.getById(userId);\r\n                  if(user != null){\r\n                  // delete the user if it exists\r\n                   userRepo.delete(user); // delete\r\n                   return ResponseEntity.OK(); // you can add a body response if you want to\r\n              }catch(Exception e){\r\n                  System.out.println(e.getMessage()); \r\n              }\r\n            \r\n              return ResponseEntity.badRequest();\r\n          }\r\n    \r\n    }","title":"How to mock and test delete service?","body":"<p>Writing tests could be boring, but as you get stuck in errors, you will find it very necessary to write tests to avoid repeated actions.\nMethods like delete and update usually should be void, and you should only look for exceptions and response status.</p>\n<p>You can use simply test your repository using the code below:</p>\n<pre><code>@AutoConfigureMockMvc\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import({ObjectMapper.class, &lt;yourController&gt;.class})\n@TestMethodOrder(OrderAnnotation.class)\nclass &lt;YourClassName&gt; {\n    // use this to perform api requests\n    @Autowired\n        private MockMvc mockMvc;\n    // for live testing no mocking\n    @Autowired\n    private &lt;YourRepository&gt; repo;\n\n    // saved user id\n    private static int savedUserId;\n    // you are mocking the repository and testing the service layer\n    // this is not applicable here, use the above code to test in integration mode.\n    /*@Mock\n    private &lt;YourRepository&gt; mockedRepo;*/\n    \n    // optionally used to create json objects\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        \n    }\n\n\n  // save a user with and put the id in static filed (savedUserId)\n    @Test\n      @Order(1)\n    public void saveStaffTest() throws Exception {\n      final String link = &quot;/user/save&quot;; // link to your controller api end point\n      User user = new User(10001L, &quot;Alex&quot;, &quot;alex.jamal@gmail.com&quot;, 10, LocalDate.of(2012, Month.APRIL, 13)); // define your default object here\n      /***\n       *  note: in your User class you might have id as auto generated, because of this you need two constructor one with id, and other without id\n       * , or you will have an error.\n       *  you can use objectmapper if you run to an error and just pass the object as json string.\n      */\n      \n      // here you are performing save request and getting the result\n      MvcResult result = this.mockMvc.perform(MockMvcRequestBuilders\n                        .post(link)\n                        .accept(MediaType.APPLICATION_JSON)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsBytes(user))) // this will make the object a json string\n                        .andExpect(MockMvcResultMatchers.status().isCreated()) // here is what important! it will check the response status, if created 201 the test will success, else it will fail\n                        .andReturn(); // returning the result\n                String response = result.getResponse().getContentAsString();\n                System.out.println(&quot;from response: &quot;+response); // this is the response you passed on your controller method\n                /**\n        * knowing your response structure search for the user id\n        */\n                JsonNode root = objectMapper.readTree(response); \n                JsonNode id = root.get(&quot;id&quot;); \n                savedUserId = id.asInt(); here you save the id in static field savedUserId, then you can pass this id on the next test (delete/update);\n        \n                System.out.println(&quot;id is: &quot;+id);\n    }\n    @Test\n    @Order(2)\n    void shouldDeleteUser() throws IllegalStateException, Exception{\n    // here delete the object, and assert the response state is ok, no need to return any value\n    final String link = &quot;/user/delete/&quot;+savedUserId;\n                this.mockMvc.perform(MockMvcRequestBuilders\n                        .post(link)\n                        .accept(MediaType.APPLICATION_JSON))\n                        .andExpect(MockMvcResultMatchers.status().isOk()); // fail if the response is not 200, couldn't delete the object\n        underTest.addNewUser(userCreateDto);\n        final long id = 223;\n        // when\n        underTest.deleteUserById(id);\n        //then\n        verify(userRepository).deleteById(id);\n    }\n    \n    /***************** save user method to add to controller ***************/\n      @PostMapping(&quot;/user/save&quot;)\n      private ResponseEntity&lt;User&gt; addNewUser(@RequestBody User user){\n          try {\n               userRepo.save(user); // can call the service if you want also\n               return ResponseEntity.status(HttpStatus.CREATED).body(user);\n          }catch(Exception e){\n              System.out.println(e.getMessage()); \n          }\n        \n          return ResponseEntity.badRequest().body(null);\n      }\n      \n      /***************** delete user method to add to controller ***************/\n      @PostMapping(&quot;/user/delete/{userId});\n      private ResponseEntity deleteUser(@PathVariable(&quot;userId) int userId){\n          try {\n              // you can add the logic to check if user exists first\n              User user = userRepo.getById(userId);\n              if(user != null){\n              // delete the user if it exists\n               userRepo.delete(user); // delete\n               return ResponseEntity.OK(); // you can add a body response if you want to\n          }catch(Exception e){\n              System.out.println(e.getMessage()); \n          }\n        \n          return ResponseEntity.badRequest();\n      }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26771442,"reputation":11,"user_id":20367759,"display_name":"expectedNoneExpected"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667083106,"creation_date":1667072764,"question_id":74248330,"body_markdown":"So I am making Spring boot Tests on my Rest API and I am struggling a lot. When I search for tests online and try to replicate them, they do not work. How do I test delete service? Do I need to save new user first or is there another way to test it out?\r\n\r\n```\r\npackage com.example.tattooweb.user;\r\n\r\nimport org.junit.Ignore;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Disabled;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.ArgumentCaptor;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThatThrownBy;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserServiceTest {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n    private UserService underTest;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        underTest = new UserService(userRepository);\r\n    }\r\n\r\n\r\n    @Test\r\n    void shouldDeleteUser() {\r\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(123L));\r\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(5L));\r\n        final User user = new User(\r\n                10001L,\r\n                &quot;Alex&quot;,\r\n                &quot;alex.jamal@gmail.com&quot;,\r\n                10,\r\n                LocalDate.of(2012, Month.APRIL, 13));\r\n        // given\r\n        UserCreateDto userCreateDto = new UserCreateDto(\r\n                &quot;Alex&quot;,\r\n                &quot;alex.jamal@gmail.com&quot;,\r\n                LocalDate.of(2012, Month.APRIL, 13)\r\n        );\r\n        underTest.addNewUser(userCreateDto);\r\n        final long id = 223;\r\n        // when\r\n        underTest.deleteUserById(id);\r\n        //then\r\n        verify(userRepository).deleteById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI made this method boolean while testing, thought it might make it easier. If making API do we want to return status when using Delete endpoint or do we keep it as void method and return nothing?\r\n```\r\npublic boolean deleteUserById(Long userId) {\r\n    if(!userRepository.existsById(userId)) {\r\n        throw new IllegalStateException(&quot;User with id &quot; + userId + &quot; doesn&#39;t exist&quot;);\r\n    }\r\n    userRepository.deleteById(userId);\r\n    return true;\r\n}\r\n```\r\n\r\n\r\n\r\nIf any information is necessary or missing please ask. I&#39;m doing this project for self learning, but been stuck on this issue of mine for past 3 days, I&#39;m new to testing and so far it wasn&#39;t very easy.\r\n\r\nI also have two questions on top of that.\r\n\r\n1. What service methods better kept as void?\r\n2. How often do you write tests when it comes to job?","title":"How to mock and test delete service?","body":"<p>So I am making Spring boot Tests on my Rest API and I am struggling a lot. When I search for tests online and try to replicate them, they do not work. How do I test delete service? Do I need to save new user first or is there another way to test it out?</p>\n<pre><code>package com.example.tattooweb.user;\n\nimport org.junit.Ignore;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Disabled;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThatThrownBy;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    @Autowired\n    private UserService userService;\n\n    @Mock\n    private UserRepository userRepository;\n    private UserService underTest;\n\n    @BeforeEach\n    void setUp() {\n        underTest = new UserService(userRepository);\n    }\n\n\n    @Test\n    void shouldDeleteUser() {\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(123L));\n//        assertThrows(IllegalStateException.class, () -&gt; userService.deleteUser(5L));\n        final User user = new User(\n                10001L,\n                &quot;Alex&quot;,\n                &quot;alex.jamal@gmail.com&quot;,\n                10,\n                LocalDate.of(2012, Month.APRIL, 13));\n        // given\n        UserCreateDto userCreateDto = new UserCreateDto(\n                &quot;Alex&quot;,\n                &quot;alex.jamal@gmail.com&quot;,\n                LocalDate.of(2012, Month.APRIL, 13)\n        );\n        underTest.addNewUser(userCreateDto);\n        final long id = 223;\n        // when\n        underTest.deleteUserById(id);\n        //then\n        verify(userRepository).deleteById(id);\n    }\n\n}\n</code></pre>\n<p>I made this method boolean while testing, thought it might make it easier. If making API do we want to return status when using Delete endpoint or do we keep it as void method and return nothing?</p>\n<pre><code>public boolean deleteUserById(Long userId) {\n    if(!userRepository.existsById(userId)) {\n        throw new IllegalStateException(&quot;User with id &quot; + userId + &quot; doesn't exist&quot;);\n    }\n    userRepository.deleteById(userId);\n    return true;\n}\n</code></pre>\n<p>If any information is necessary or missing please ask. I'm doing this project for self learning, but been stuck on this issue of mine for past 3 days, I'm new to testing and so far it wasn't very easy.</p>\n<p>I also have two questions on top of that.</p>\n<ol>\n<li>What service methods better kept as void?</li>\n<li>How often do you write tests when it comes to job?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667082281,"post_id":74249218,"comment_id":131087541,"body_markdown":"Why should 5 be 50? Shouldn&#39;t that be 05 as well? 35, 05, 92, 99, …","body":"Why should 5 be 50? Shouldn&#39;t that be 05 as well? 35, 05, 92, 99, …"},{"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"score":0,"creation_date":1667082715,"post_id":74249218,"comment_id":131087613,"body_markdown":"@knittl Sorry, my mistake, yes 5 should actually be 05. Will make the edit","body":"@knittl Sorry, my mistake, yes 5 should actually be 05. Will make the edit"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667081899,"creation_date":1667081899,"answer_id":74249250,"question_id":74249218,"body_markdown":"Numbers don&#39;t have leading zeros. 3 is 03 is 003. If you require leading zeros, keep a string and only convert to a number when summing:\r\n\r\n```\r\nfor(int i = 0; i &lt; length; i = i + group)\r\n{\r\n   final String substring = randomString.substring(i, Math.min(length, i + group));\r\n   System.out.println(&quot;Group: &quot; + substring);\r\n   int digits = Integer.parseInt(substring);\r\n   total = total + digits;\r\n}\r\n```\r\n\r\nor\r\n\r\n```\r\nfor(int i = 0; i &lt; length; i += group)\r\n{\r\n   final String digits = randomString.substring(i, Math.min(length, i + group));\r\n   System.out.println(&quot;Group: &quot; + digits);\r\n   total += Integer.parseInt(digits);\r\n}\r\n```","title":"How to include 0s of substrings without ArrayList and array?","body":"<p>Numbers don't have leading zeros. 3 is 03 is 003. If you require leading zeros, keep a string and only convert to a number when summing:</p>\n<pre><code>for(int i = 0; i &lt; length; i = i + group)\n{\n   final String substring = randomString.substring(i, Math.min(length, i + group));\n   System.out.println(&quot;Group: &quot; + substring);\n   int digits = Integer.parseInt(substring);\n   total = total + digits;\n}\n</code></pre>\n<p>or</p>\n<pre><code>for(int i = 0; i &lt; length; i += group)\n{\n   final String digits = randomString.substring(i, Math.min(length, i + group));\n   System.out.println(&quot;Group: &quot; + digits);\n   total += Integer.parseInt(digits);\n}\n</code></pre>\n"}],"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249250,"answer_count":1,"score":0,"last_activity_date":1667082848,"creation_date":1667081557,"question_id":74249218,"body_markdown":"I finished a program where I use Math.random() to pick a number 25-50, both inclusive. This will be passed to stringAdd() as length. The method creates a string with the randomized length from numbers 0-9 (also inclusive) using Math.random() as well.\r\n\r\nThen, if the length is above 30, &quot;group&quot; the string by 3 digits, otherwise, just &quot;group&quot; by 2 digits. Uneven grouping is allowed at the end (see the sample output I included below).\r\n\r\nLast, the program must loop through the string, change all group of numbers to int and then add the sum to a total, so the total can be returned.\r\n\r\nThis is the code I have:\r\n\r\n```\r\npublic class Grouping\r\n{\r\n    public static int stringAdd(int length)\r\n    {\r\n        ArrayList&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\r\n        String randomString = &quot;&quot;;\r\n        for(int i = 0; i &lt; length; i++)\r\n\t{\r\n\t    int randomNumbers = (int)(Math.random()*10);\r\n\t    randomString = randomString + randomNumbers;\r\n\t}\r\n\tSystem.out.println(&quot;Generated string: &quot; + randomString);\r\n\t\t\r\n\tint group = 2;\r\n\tif(length &gt; 30)\r\n\t    group = 3;\r\n\t\t\r\n\tfor(int i = 0; i &lt; length; i = i + group)\r\n\t{\r\n\t    numbers.add(randomString.substring(i, Math.min(length, i + group)));\r\n            System.out.println(&quot;Group: &quot; + randomString.substring(i, Math.min(length, i + group)));\r\n\t}\r\n\t\t\r\n        int[] array = new int[numbers.size()];\r\n        int total = 0;\r\n        \r\n\tfor(int i = 0; i &lt; numbers.size(); i++)\r\n\t{\r\n\t    array[i] = Integer.parseInt(numbers.get(i));\r\n            total = total + array[i];\r\n\t}\r\n\treturn total;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\tint randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;\r\n\tSystem.out.println(&quot;Length of the string is &quot; + randomLength);\r\n\tSystem.out.println(&quot;Total: &quot; + stringAdd(randomLength));\r\n    }\r\n}\r\n```\r\n\r\nThe output is this:\r\n```\r\nLength of the string is 30\r\nGenerated string: 157768294302045453441313535692\r\nGroup: 15\r\nGroup: 77\r\nGroup: 68\r\nGroup: 29\r\nGroup: 43\r\nGroup: 02\r\nGroup: 04\r\nGroup: 54\r\nGroup: 53\r\nGroup: 44\r\nGroup: 13\r\nGroup: 13\r\nGroup: 53\r\nGroup: 56\r\nGroup: 92\r\nTotal: 616\r\n```\r\n\r\nHowever, I wanted to simplify this and remove the use of ArrayList and array so that I only need two for loops instead of three. So I did something similar that I already have:\r\n\r\n```\r\nint total = 0;\r\nfor(int i = 0; i &lt; length; i = i + group)\r\n{\r\n   int digits = Integer.parseInt(randomString.substring(i, Math.min(length, i + group)));\r\n   System.out.println(&quot;Group: &quot; + digits);\r\n   total = total + digits;\r\n}\r\nreturn total; \r\n```\r\n\r\nAnd one output is this, which looks fine...\r\n```\r\nLength of the string is 47\r\nGenerated string: 26011336670044862237923585625878411711193186128\r\nGroup: 260\r\nGroup: 113\r\nGroup: 366\r\nGroup: 700\r\nGroup: 448\r\nGroup: 622\r\nGroup: 379\r\nGroup: 235\r\nGroup: 856\r\nGroup: 258\r\nGroup: 784\r\nGroup: 117\r\nGroup: 111\r\nGroup: 931\r\nGroup: 861\r\nGroup: 28\r\nTotal: 7069\r\n```\r\n\r\nBut another output would be this:\r\n```\r\nLength of the string is 28\r\nGenerated string: 7581863393306645423505929903\r\nGroup: 75\r\nGroup: 81\r\nGroup: 86\r\nGroup: 33\r\nGroup: 93\r\nGroup: 30\r\nGroup: 66\r\nGroup: 45\r\nGroup: 42\r\nGroup: 35\r\nGroup: 5\r\nGroup: 92\r\nGroup: 99\r\nGroup: 3\r\nTotal: 785\r\n```\r\n\r\n5 should actually be 05 and 3 should actually be 03. I understand that the &quot;zero&quot; in 03 does not add to the total, but I strictly want my program to group by the digits. I also am working under constraints so unfortunately I cannot use anything advanced yet","title":"How to include 0s of substrings without ArrayList and array?","body":"<p>I finished a program where I use Math.random() to pick a number 25-50, both inclusive. This will be passed to stringAdd() as length. The method creates a string with the randomized length from numbers 0-9 (also inclusive) using Math.random() as well.</p>\n<p>Then, if the length is above 30, &quot;group&quot; the string by 3 digits, otherwise, just &quot;group&quot; by 2 digits. Uneven grouping is allowed at the end (see the sample output I included below).</p>\n<p>Last, the program must loop through the string, change all group of numbers to int and then add the sum to a total, so the total can be returned.</p>\n<p>This is the code I have:</p>\n<pre><code>public class Grouping\n{\n    public static int stringAdd(int length)\n    {\n        ArrayList&lt;String&gt; numbers = new ArrayList&lt;String&gt;();\n        String randomString = &quot;&quot;;\n        for(int i = 0; i &lt; length; i++)\n    {\n        int randomNumbers = (int)(Math.random()*10);\n        randomString = randomString + randomNumbers;\n    }\n    System.out.println(&quot;Generated string: &quot; + randomString);\n        \n    int group = 2;\n    if(length &gt; 30)\n        group = 3;\n        \n    for(int i = 0; i &lt; length; i = i + group)\n    {\n        numbers.add(randomString.substring(i, Math.min(length, i + group)));\n            System.out.println(&quot;Group: &quot; + randomString.substring(i, Math.min(length, i + group)));\n    }\n        \n        int[] array = new int[numbers.size()];\n        int total = 0;\n        \n    for(int i = 0; i &lt; numbers.size(); i++)\n    {\n        array[i] = Integer.parseInt(numbers.get(i));\n            total = total + array[i];\n    }\n    return total;\n    }\n\n    public static void main(String[] args)\n    {\n    int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;\n    System.out.println(&quot;Length of the string is &quot; + randomLength);\n    System.out.println(&quot;Total: &quot; + stringAdd(randomLength));\n    }\n}\n</code></pre>\n<p>The output is this:</p>\n<pre><code>Length of the string is 30\nGenerated string: 157768294302045453441313535692\nGroup: 15\nGroup: 77\nGroup: 68\nGroup: 29\nGroup: 43\nGroup: 02\nGroup: 04\nGroup: 54\nGroup: 53\nGroup: 44\nGroup: 13\nGroup: 13\nGroup: 53\nGroup: 56\nGroup: 92\nTotal: 616\n</code></pre>\n<p>However, I wanted to simplify this and remove the use of ArrayList and array so that I only need two for loops instead of three. So I did something similar that I already have:</p>\n<pre><code>int total = 0;\nfor(int i = 0; i &lt; length; i = i + group)\n{\n   int digits = Integer.parseInt(randomString.substring(i, Math.min(length, i + group)));\n   System.out.println(&quot;Group: &quot; + digits);\n   total = total + digits;\n}\nreturn total; \n</code></pre>\n<p>And one output is this, which looks fine...</p>\n<pre><code>Length of the string is 47\nGenerated string: 26011336670044862237923585625878411711193186128\nGroup: 260\nGroup: 113\nGroup: 366\nGroup: 700\nGroup: 448\nGroup: 622\nGroup: 379\nGroup: 235\nGroup: 856\nGroup: 258\nGroup: 784\nGroup: 117\nGroup: 111\nGroup: 931\nGroup: 861\nGroup: 28\nTotal: 7069\n</code></pre>\n<p>But another output would be this:</p>\n<pre><code>Length of the string is 28\nGenerated string: 7581863393306645423505929903\nGroup: 75\nGroup: 81\nGroup: 86\nGroup: 33\nGroup: 93\nGroup: 30\nGroup: 66\nGroup: 45\nGroup: 42\nGroup: 35\nGroup: 5\nGroup: 92\nGroup: 99\nGroup: 3\nTotal: 785\n</code></pre>\n<p>5 should actually be 05 and 3 should actually be 03. I understand that the &quot;zero&quot; in 03 does not add to the total, but I strictly want my program to group by the digits. I also am working under constraints so unfortunately I cannot use anything advanced yet</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":4,"creation_date":1452974143,"post_id":34831420,"comment_id":57404489,"body_markdown":"From the Javadoc of [`Arrays.sort`](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-): &quot;This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot; Your premise is wrong.","body":"From the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-int:A-\" rel=\"nofollow noreferrer\"><code>Arrays.sort</code></a>: &quot;This algorithm offers O(n log(n)) performance on many data sets that cause other quicksorts to degrade to quadratic performance, and is typically faster than traditional (one-pivot) Quicksort implementations.&quot; Your premise is wrong."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1452974384,"post_id":34831420,"comment_id":57404560,"body_markdown":"I&#39;m voting to close this question as off-topic because OP misread the documentation","body":"I&#39;m voting to close this question as off-topic because OP misread the documentation"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452974588,"post_id":34831420,"comment_id":57404633,"body_markdown":"@Tunaki His premise is not wrong. The implementation may not exhibit *O(n^2)* behaviour as often as others, but it cannot escape exhibiting it for some datasets.","body":"@Tunaki His premise is not wrong. The implementation may not exhibit <i>O(n^2)</i> behaviour as often as others, but it cannot escape exhibiting it for some datasets."},{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":1,"creation_date":1452974663,"post_id":34831420,"comment_id":57404648,"body_markdown":"Are all those downvotes really necessary?","body":"Are all those downvotes really necessary?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1452974692,"post_id":34831420,"comment_id":57404659,"body_markdown":"@EJP Well yes but saying &quot;Arrays.sort isn&#39;t O(n log n)&quot; is wrong.","body":"@EJP Well yes but saying &quot;Arrays.sort isn&#39;t O(n log n)&quot; is wrong."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452974793,"post_id":34831420,"comment_id":57404693,"body_markdown":"@Tunaki Certainly, but that doesn&#39;t invalidate the premise of the question.","body":"@Tunaki Certainly, but that doesn&#39;t invalidate the premise of the question."},{"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"score":1,"creation_date":1452977171,"post_id":34831420,"comment_id":57405451,"body_markdown":"Saying Arrays.sort isn&#39;t O(n log n) is of course right. Worst case complexity is O(n^2) and having array with 10^6 elements it might not stop for years..","body":"Saying Arrays.sort isn&#39;t O(n log n) is of course right. Worst case complexity is O(n^2) and having array with 10^6 elements it might not stop for years.."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1452974861,"post_id":34831537,"comment_id":57404713,"body_markdown":"I have no doubt whatsoever that Don Knuth would be astonished to learn that choosing a sorting algorithm would ever be regarded as &#39;premature optimization&#39;.","body":"I have no doubt whatsoever that Don Knuth would be astonished to learn that choosing a sorting algorithm would ever be regarded as &#39;premature optimization&#39;."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1452975110,"post_id":34831537,"comment_id":57404792,"body_markdown":"@EJP you would? Why? Do you think, he would not consider choosing a sorting algorithm &quot;an optimization&quot;? Your surprise can certainly not have anything to do with the other part of the term, as the property of something being &quot;premature&quot; does not depend on the nature of that action, only on the timing of it. \nI am really puzzled. What&#39;s your objection here?","body":"@EJP you would? Why? Do you think, he would not consider choosing a sorting algorithm &quot;an optimization&quot;? Your surprise can certainly not have anything to do with the other part of the term, as the property of something being &quot;premature&quot; does not depend on the nature of that action, only on the timing of it.  I am really puzzled. What&#39;s your objection here?"},{"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"score":0,"creation_date":1452977084,"post_id":34831537,"comment_id":57405419,"body_markdown":"Of course, I can implement it by myself, but I think it is better to first checked if something is implemented. I know about premature optimization, but having array with ~10^6 elements I can&#39;t use Arrays.sort, because for some dataset it won&#39;t stop for years","body":"Of course, I can implement it by myself, but I think it is better to first checked if something is implemented. I know about premature optimization, but having array with ~10^6 elements I can&#39;t use Arrays.sort, because for some dataset it won&#39;t stop for years"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1452977447,"post_id":34831537,"comment_id":57405549,"body_markdown":"@Pand what makes you think that? Do you have an example of such dataset?","body":"@Pand what makes you think that? Do you have an example of such dataset?"},{"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"score":0,"creation_date":1452977923,"post_id":34831537,"comment_id":57405708,"body_markdown":"For now I don&#39;t have, but it is possible. It happened to my once in online judge Codeforces where I got time limit, because of using Arrays.sort instead of sorting list. You can read about it for example here : http://codeforces.com/blog/entry/7108","body":"For now I don&#39;t have, but it is possible. It happened to my once in online judge Codeforces where I got time limit, because of using Arrays.sort instead of sorting list. You can read about it for example here : <a href=\"http://codeforces.com/blog/entry/7108\" rel=\"nofollow noreferrer\">codeforces.com/blog/entry/7108</a>"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1452981133,"post_id":34831537,"comment_id":57406705,"body_markdown":"Everything is possible ... Well, almost, anyway. &quot;For now I don&#39;t have&quot; is the definition of premature optimization","body":"Everything is possible ... Well, almost, anyway. &quot;For now I don&#39;t have&quot; is the definition of premature optimization"}],"tags":[],"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452975217,"creation_date":1452974703,"answer_id":34831537,"question_id":34831420,"body_markdown":"Just implement the mergesort yourself, it&#39;s no rocket science.\r\nAfter you have implemented it, do take a little time to run some benchmarks and compare the performance of you implementation with that of `Arrays.sort`. There may be some surprises waiting for you there.\r\n\r\nAlso, read up on [premature optimization][1], I think you might find the notion useful.\r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?PrematureOptimization","title":"How to sort int array efficiently","body":"<p>Just implement the mergesort yourself, it's no rocket science.\nAfter you have implemented it, do take a little time to run some benchmarks and compare the performance of you implementation with that of <code>Arrays.sort</code>. There may be some surprises waiting for you there.</p>\n\n<p>Also, read up on <a href=\"http://c2.com/cgi/wiki?PrematureOptimization\" rel=\"nofollow\">premature optimization</a>, I think you might find the notion useful.</p>\n"},{"tags":[],"owner":{"account_id":2175036,"reputation":5034,"user_id":1925904,"accept_rate":75,"display_name":"Chad Dienhart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452974874,"creation_date":1452974874,"answer_id":34831569,"question_id":34831420,"body_markdown":"You should investigate [Heapsort][1], while slightly slower it guarantees O(n Log n). \r\nhttps://stackoverflow.com/questions/2467751/quicksort-vs-heapsort\r\n \r\nThere is also the textbook explanation [here][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Heapsort\r\n  [2]: http://algs4.cs.princeton.edu/24pq/","title":"How to sort int array efficiently","body":"<p>You should investigate <a href=\"https://en.wikipedia.org/wiki/Heapsort\" rel=\"nofollow noreferrer\">Heapsort</a>, while slightly slower it guarantees O(n Log n). \n<a href=\"https://stackoverflow.com/questions/2467751/quicksort-vs-heapsort\">Quicksort vs heapsort</a></p>\n\n<p>There is also the textbook explanation <a href=\"http://algs4.cs.princeton.edu/24pq/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"score":0,"creation_date":1452977286,"post_id":34831685,"comment_id":57405492,"body_markdown":"I know, but range of integers are big,","body":"I know, but range of integers are big,"}],"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453676964,"creation_date":1452975482,"answer_id":34831685,"question_id":34831420,"body_markdown":"If the range of integers is small you can use [Counting Sort][1], which uses numbers as array-indexes and, unlike comparison-sort algorithms that have a lower bound of O(*nlogn*) (eg Quicksort or Mergesort), it has a complexity of O(*n+k*), where *k* is the range between your min and max value.\r\n\r\nWhich algorithm to choose always depends on any extra knowledge you may have regarding the distribution of the array elements.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Counting_sort","title":"How to sort int array efficiently","body":"<p>If the range of integers is small you can use <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow\">Counting Sort</a>, which uses numbers as array-indexes and, unlike comparison-sort algorithms that have a lower bound of O(<em>nlogn</em>) (eg Quicksort or Mergesort), it has a complexity of O(<em>n+k</em>), where <em>k</em> is the range between your min and max value.</p>\n\n<p>Which algorithm to choose always depends on any extra knowledge you may have regarding the distribution of the array elements.</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667082397,"creation_date":1666732364,"answer_id":74200260,"question_id":34831420,"body_markdown":"O(n) time, O(1) space\r\n----\r\nUse [`IntArrays.unstableSort(int[] a)`][fastutil-sort] from [fastutil][fastutil] library.\r\n\r\nIt uses in-place [radix sort][radix-sort-wiki] for big enough arrays and quicksort for small arrays:\r\n```java\r\nif (to - from &gt;= RADIX_SORT_MIN_THRESHOLD) {\r\n  radixSort(a, from, to);\r\n} else {\r\n  quickSort(a, from, to);\r\n}\r\n```\r\n\r\nO(n log(n)) time, O(n) space and Java 14+\r\n-----------------------\r\n\r\n&gt; Arrays.sort uses quicksort, which sometimes result in O(n^2) complexity\r\n\r\nThis is only true if you are using Java 13 or earlier versions. Starting from Java 14 Arrays.sort(int[]) guarantees O(n log(n)) performance in the worst case:\r\n\r\n&gt; This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\r\n\r\nThis is achieved by [resorting to heapsort][2] if recursion becomes too deep:\r\n```java\r\nif ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\r\n  heapSort(a, low, high);\r\n  return;\r\n}\r\n```\r\n\r\n  [fastutil-sort]: https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntArrays.html#unstableSort(int%5B%5D)\r\n  [radix-sort-wiki]: https://en.wikipedia.org/wiki/Radix_sort\r\n\r\n\r\n  [fastutil]: https://fastutil.di.unimi.it/\r\n  [2]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961","title":"How to sort int array efficiently","body":"<h2>O(n) time, O(1) space</h2>\n<p>Use <a href=\"https://fastutil.di.unimi.it/docs/it/unimi/dsi/fastutil/ints/IntArrays.html#unstableSort(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>IntArrays.unstableSort(int[] a)</code></a> from <a href=\"https://fastutil.di.unimi.it/\" rel=\"nofollow noreferrer\">fastutil</a> library.</p>\n<p>It uses in-place <a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">radix sort</a> for big enough arrays and quicksort for small arrays:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (to - from &gt;= RADIX_SORT_MIN_THRESHOLD) {\n  radixSort(a, from, to);\n} else {\n  quickSort(a, from, to);\n}\n</code></pre>\n<h2>O(n log(n)) time, O(n) space and Java 14+</h2>\n<blockquote>\n<p>Arrays.sort uses quicksort, which sometimes result in O(n^2) complexity</p>\n</blockquote>\n<p>This is only true if you are using Java 13 or earlier versions. Starting from Java 14 Arrays.sort(int[]) guarantees O(n log(n)) performance in the worst case:</p>\n<blockquote>\n<p>This algorithm offers O(n log(n)) performance on all data sets, and is typically faster than traditional (one-pivot) Quicksort implementations.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D)</a></p>\n<p>This is achieved by <a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L961\" rel=\"nofollow noreferrer\">resorting to heapsort</a> if recursion becomes too deep:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((bits += DELTA) &gt; MAX_RECURSION_DEPTH) {\n  heapSort(a, low, high);\n  return;\n}\n</code></pre>\n"}],"owner":{"account_id":7650632,"reputation":79,"user_id":5799521,"display_name":"Pand"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1734,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"answer_count":4,"score":4,"last_activity_date":1667082397,"creation_date":1452974044,"question_id":34831420,"body_markdown":"I have array of ints\r\n\r\n    int array[] = ...\r\n\r\nand I can sort it using \r\n\r\n    Arrays.sort(array);\r\n\r\nbut Arrays.sort uses quicksort, which sometimes result in *O(n^2)* complexity. I had an idea to convert it to List&lt;Integer&gt; and then sort it (mergesort is used, so upper bound is *O(n log n))*, but the drawback is that it creates a lot of objects due to boxing from int to Integer.\r\n\r\nMy third approach is this :\r\n\r\n    array = Arrays.stream(array).sorted().toArray();\r\n\r\nI operate only on IntStream, but unfortunately the complexity isn&#39;t mentioned in the documentation.\r\n\r\nI was looking for similar questions and I have found only this https://stackoverflow.com/questions/31301471/big-o-complexity-of-java-util-stream-streamt-sorted  which isn&#39;t helpful at all, because there are two different answers (first is of course partially wrong, because Arrays.sort isn&#39;t always *O(n log n))*. What about the second one ? I haven&#39;t found the proof.","title":"How to sort int array efficiently","body":"<p>I have array of ints</p>\n\n<pre><code>int array[] = ...\n</code></pre>\n\n<p>and I can sort it using </p>\n\n<pre><code>Arrays.sort(array);\n</code></pre>\n\n<p>but Arrays.sort uses quicksort, which sometimes result in <em>O(n^2)</em> complexity. I had an idea to convert it to List and then sort it (mergesort is used, so upper bound is <em>O(n log n))</em>, but the drawback is that it creates a lot of objects due to boxing from int to Integer.</p>\n\n<p>My third approach is this :</p>\n\n<pre><code>array = Arrays.stream(array).sorted().toArray();\n</code></pre>\n\n<p>I operate only on IntStream, but unfortunately the complexity isn't mentioned in the documentation.</p>\n\n<p>I was looking for similar questions and I have found only this <a href=\"https://stackoverflow.com/questions/31301471/big-o-complexity-of-java-util-stream-streamt-sorted\">Big-O complexity of java.util.stream.Stream&lt;T&gt;.sorted()</a>  which isn't helpful at all, because there are two different answers (first is of course partially wrong, because Arrays.sort isn't always <em>O(n log n))</em>. What about the second one ? I haven't found the proof.</p>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667034336,"post_id":74244034,"comment_id":131078664,"body_markdown":"Why do you want it to run faster? How many times per second do you think your monitor refreshes its image?","body":"Why do you want it to run faster? How many times per second do you think your monitor refreshes its image?"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667035516,"post_id":74244034,"comment_id":131078840,"body_markdown":"I added an fps counter that also prints it in the console, at start its under 200 and by the end it barely gets to 240 or 250 when at max size, when i make it small it can get up to 9000 to 10000 fps","body":"I added an fps counter that also prints it in the console, at start its under 200 and by the end it barely gets to 240 or 250 when at max size, when i make it small it can get up to 9000 to 10000 fps"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667036212,"post_id":74244034,"comment_id":131078949,"body_markdown":"`frame.getGraphics()` is NOT how you should be doing this, you&#39;re fighting the existing passive paint system and in this context, you couldn&#39;t guarantee when something is actually painted to the screen.  Swing is also NOT thread safe, this means you shouldn&#39;t be updating the UI or any state the UI depends on from out side the content of the Event Dispatching Thread","body":"<code>frame.getGraphics()</code> is NOT how you should be doing this, you&#39;re fighting the existing passive paint system and in this context, you couldn&#39;t guarantee when something is actually painted to the screen.  Swing is also NOT thread safe, this means you shouldn&#39;t be updating the UI or any state the UI depends on from out side the content of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667036299,"post_id":74244034,"comment_id":131078960,"body_markdown":"For more details, look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details","body":"For more details, look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667037271,"post_id":74244034,"comment_id":131079107,"body_markdown":"Sooo, should i use normal Frame object? It misses some stuff that JFrame has though","body":"Sooo, should i use normal Frame object? It misses some stuff that JFrame has though"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667038260,"post_id":74244034,"comment_id":131079251,"body_markdown":"You shouldn&#39;t be trying to a `JFrame` - it&#39;s complicated and messy.  Better to start with a `JPanel`.  I got a Swing `Timer` to paint at roughly 800fps and a `BufferStrategy` to between 680-711fps using a 1 millisecond delay between frames or, if I go hell for leather, ~8500fps ... although I would argue if that&#39;s an &quot;accurate&quot; representation or just how fast I can make a thread loop","body":"You shouldn&#39;t be trying to a <code>JFrame</code> - it&#39;s complicated and messy.  Better to start with a <code>JPanel</code>.  I got a Swing <code>Timer</code> to paint at roughly 800fps and a <code>BufferStrategy</code> to between 680-711fps using a 1 millisecond delay between frames or, if I go hell for leather, ~8500fps ... although I would argue if that&#39;s an &quot;accurate&quot; representation or just how fast I can make a thread loop"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667038319,"post_id":74244034,"comment_id":131079260,"body_markdown":"I would also suggest having a look at [BufferStrategy and BufferCapabilities\n](https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html) which will give you direct access to the paint process","body":"I would also suggest having a look at [BufferStrategy and BufferCapabilities ](<a href=\"https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/extra/fullscreen/&hellip;</a>) which will give you direct access to the paint process"},{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667038554,"post_id":74244034,"comment_id":131079290,"body_markdown":"Ok, i tried having a JPanel in the frame and then draw the VolatileImage on it but it made the program even slower. Could you maybe write a small example? I understand it better when its in code. Thanks for the answer though. Will look into it and see if that fixes it","body":"Ok, i tried having a JPanel in the frame and then draw the VolatileImage on it but it made the program even slower. Could you maybe write a small example? I understand it better when its in code. Thanks for the answer though. Will look into it and see if that fixes it"}],"answers":[{"comments":[{"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"score":0,"creation_date":1667042256,"post_id":74244480,"comment_id":131079887,"body_markdown":"Damn, my engine will need some tweaks but i can just make a Consumer argument for the rendering and run it in the loop. This is amazing. Thank you so much","body":"Damn, my engine will need some tweaks but i can just make a Consumer argument for the rendering and run it in the loop. This is amazing. Thank you so much"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667082106,"creation_date":1667038969,"answer_id":74244480,"question_id":74244034,"body_markdown":"# Swing &quot;passive&quot; painting\r\n\r\nThis makes use of a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)\r\n\r\n~170fps\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Timer timer;\r\n            private Instant lastTick;\r\n            private int fps = 0;\r\n\r\n            public TestPane() {\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private int frameCount = 0;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick != null) {\r\n                            Duration duration = Duration.between(lastTick, Instant.now());\r\n                            if (duration.toMillis() &gt;= 1000) {\r\n                                lastTick = Instant.now();\r\n                                fps = frameCount;\r\n                                frameCount = 0;\r\n                            } else {\r\n                                frameCount++;\r\n                            }\r\n                        } else {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n                timer = null;\r\n                super.removeNotify();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(Color.RED);\r\n                g2d.fillOval(20, 20, 20, 20);\r\n                g2d.fillOval(40, 40, 20, 20);\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                String text = Integer.toString(fps);\r\n                g2d.drawString(text, 10, fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n# &quot;Active&quot; painting via a `BufferStrategy`\r\n\r\n~680fps\r\n\r\n    import java.awt.Canvas;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n\r\n    public class Other {\r\n        public static void main(String[] args) {\r\n            new Other();\r\n        }\r\n\r\n        public Other() {\r\n            Frame frame = new Frame();\r\n            MainCanvas canvas = new MainCanvas();\r\n            frame.setBackground(Color.BLUE);\r\n            frame.add(canvas);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public class MainCanvas extends Canvas {\r\n\r\n            private Thread thread;\r\n            private AtomicBoolean running = new AtomicBoolean(false);\r\n            private int fps;\r\n\r\n            public MainCanvas() {\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                createBufferStrategy(3);\r\n                start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            public void start() {\r\n                stop();\r\n                run();\r\n            }\r\n\r\n            protected void stop() {\r\n                if (running.get()) {\r\n                    running.set(false);\r\n                }\r\n                thread = null;\r\n            }\r\n\r\n            protected void run() {\r\n                stop();\r\n\r\n                running.set(true);\r\n                thread = new Thread(new Runnable() {\r\n                    private Instant lastTick;\r\n                    private int frameCount;\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        while (running.get()) {\r\n                            if (lastTick != null) {\r\n                                Duration duration = Duration.between(lastTick, Instant.now());\r\n                                if (duration.toMillis() &gt;= 1000) {\r\n                                    lastTick = Instant.now();\r\n                                    fps = frameCount;\r\n                                    frameCount = 0;\r\n                                } else {\r\n                                    frameCount++;\r\n                                }\r\n                            } else {\r\n                                lastTick = Instant.now();\r\n                            }\r\n                            render();\r\n                            // Comment out these lines and see where it takes you\r\n                            try {\r\n                                Thread.sleep(1);\r\n                            } catch (InterruptedException ex) {\r\n                                java.util.logging.Logger.getLogger(Other.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n            }\r\n\r\n            protected void render() {\r\n                BufferStrategy bs = getBufferStrategy();\r\n                while (bs == null) {\r\n                    bs = getBufferStrategy();\r\n                }\r\n                do {\r\n                    // The following loop ensures that the contents of the drawing buffer\r\n                    // are consistent in case the underlying surface was recreated\r\n                    do {\r\n                        // Get a new graphics context every time through the loop\r\n                        // to make sure the strategy is validated\r\n                        Graphics2D g2d = (Graphics2D) bs.getDrawGraphics();\r\n\r\n                        g2d.setColor(Color.GREEN);\r\n                        g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                        // Render to graphics\r\n                        // ...\r\n                        g2d.setColor(Color.RED);\r\n                        g2d.fillOval(20, 20, 20, 20);\r\n                        g2d.fillOval(40, 40, 20, 20);\r\n\r\n                        FontMetrics fm = g2d.getFontMetrics();\r\n                        String text = Integer.toString(fps);\r\n                        g2d.drawString(text, 10, fm.getAscent());\r\n                        // Dispose the graphics\r\n                        g2d.dispose();\r\n\r\n                        // Repeat the rendering if the drawing buffer contents\r\n                        // were restored\r\n                    } while (bs.contentsRestored());\r\n\r\n                    // Display the buffer\r\n                    bs.show();\r\n\r\n                    // Repeat the rendering if the drawing buffer was lost\r\n                } while (bs.contentsLost());\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n        }\r\n    }\r\n\r\n# Disclaimer\r\n\r\nThis is by far a &quot;scientific&quot; example and is intended simply as a demonstration between passive and active rendering workflows","title":"How can I make my swing graphics project have a higher FPS(frames per second for anyone who doesn&#39;t know what it means)?","body":"<h1>Swing &quot;passive&quot; painting</h1>\n<p>This makes use of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a></p>\n<p>~170fps</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Timer timer;\n        private Instant lastTick;\n        private int fps = 0;\n\n        public TestPane() {\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = new Timer(5, new ActionListener() {\n                private int frameCount = 0;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick != null) {\n                        Duration duration = Duration.between(lastTick, Instant.now());\n                        if (duration.toMillis() &gt;= 1000) {\n                            lastTick = Instant.now();\n                            fps = frameCount;\n                            frameCount = 0;\n                        } else {\n                            frameCount++;\n                        }\n                    } else {\n                        lastTick = Instant.now();\n                    }\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            if (timer != null) {\n                timer.stop();\n            }\n            timer = null;\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(Color.RED);\n            g2d.fillOval(20, 20, 20, 20);\n            g2d.fillOval(40, 40, 20, 20);\n\n            FontMetrics fm = g2d.getFontMetrics();\n            String text = Integer.toString(fps);\n            g2d.drawString(text, 10, fm.getAscent());\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<h1>&quot;Active&quot; painting via a <code>BufferStrategy</code></h1>\n<p>~680fps</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Frame;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferStrategy;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class Other {\n    public static void main(String[] args) {\n        new Other();\n    }\n\n    public Other() {\n        Frame frame = new Frame();\n        MainCanvas canvas = new MainCanvas();\n        frame.setBackground(Color.BLUE);\n        frame.add(canvas);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public class MainCanvas extends Canvas {\n\n        private Thread thread;\n        private AtomicBoolean running = new AtomicBoolean(false);\n        private int fps;\n\n        public MainCanvas() {\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            createBufferStrategy(3);\n            start();\n        }\n\n        @Override\n        public void removeNotify() {\n            stop();\n            super.removeNotify();\n        }\n\n        public void start() {\n            stop();\n            run();\n        }\n\n        protected void stop() {\n            if (running.get()) {\n                running.set(false);\n            }\n            thread = null;\n        }\n\n        protected void run() {\n            stop();\n\n            running.set(true);\n            thread = new Thread(new Runnable() {\n                private Instant lastTick;\n                private int frameCount;\n\n                @Override\n                public void run() {\n                    while (running.get()) {\n                        if (lastTick != null) {\n                            Duration duration = Duration.between(lastTick, Instant.now());\n                            if (duration.toMillis() &gt;= 1000) {\n                                lastTick = Instant.now();\n                                fps = frameCount;\n                                frameCount = 0;\n                            } else {\n                                frameCount++;\n                            }\n                        } else {\n                            lastTick = Instant.now();\n                        }\n                        render();\n                        // Comment out these lines and see where it takes you\n                        try {\n                            Thread.sleep(1);\n                        } catch (InterruptedException ex) {\n                            java.util.logging.Logger.getLogger(Other.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n                        }\n                    }\n                }\n            });\n            thread.start();\n        }\n\n        protected void render() {\n            BufferStrategy bs = getBufferStrategy();\n            while (bs == null) {\n                bs = getBufferStrategy();\n            }\n            do {\n                // The following loop ensures that the contents of the drawing buffer\n                // are consistent in case the underlying surface was recreated\n                do {\n                    // Get a new graphics context every time through the loop\n                    // to make sure the strategy is validated\n                    Graphics2D g2d = (Graphics2D) bs.getDrawGraphics();\n\n                    g2d.setColor(Color.GREEN);\n                    g2d.fillRect(0, 0, getWidth(), getHeight());\n                    // Render to graphics\n                    // ...\n                    g2d.setColor(Color.RED);\n                    g2d.fillOval(20, 20, 20, 20);\n                    g2d.fillOval(40, 40, 20, 20);\n\n                    FontMetrics fm = g2d.getFontMetrics();\n                    String text = Integer.toString(fps);\n                    g2d.drawString(text, 10, fm.getAscent());\n                    // Dispose the graphics\n                    g2d.dispose();\n\n                    // Repeat the rendering if the drawing buffer contents\n                    // were restored\n                } while (bs.contentsRestored());\n\n                // Display the buffer\n                bs.show();\n\n                // Repeat the rendering if the drawing buffer was lost\n            } while (bs.contentsLost());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n    }\n}\n</code></pre>\n<h1>Disclaimer</h1>\n<p>This is by far a &quot;scientific&quot; example and is intended simply as a demonstration between passive and active rendering workflows</p>\n"}],"owner":{"account_id":26767552,"reputation":1,"user_id":20364461,"display_name":"FallenAngel7882"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667082106,"creation_date":1667034071,"question_id":74244034,"body_markdown":"I started remaking my graphics engine and i have a problem with repainting the VolatileImage on the JFrame, i added an FPS counter and when it is in full-screen it only gets to around 250 or 280 FPS even though i have the loop in a new thread and I&#39;m only drawing 2 dots on the screen.\r\nHere is the code for the init and render functions in the Window class, might be a bit unorganized:\r\n`\r\n```\r\npublic int render() {\r\n    frame.getGraphics().drawImage(vImg, 0, 0, frame.getWidth(), frame.getHeight(), null);\r\n    totalFrames++;\r\n    if (System.nanoTime() &gt; lastFPScheck + 1000000000) {\r\n        lastFPScheck = System.nanoTime();\r\n        currentFPS = totalFrames;\r\n        totalFrames = 0;\r\n    }\r\n    if (vImg.validate(gc) == VolatileImage.IMAGE_OK) {\r\n        vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\r\n    }\r\n    if (debugging()) {\r\n        frame.setTitle(title + &quot;[FPS: &quot; + currentFPS + &quot;]&quot;);\r\n    }\r\n    graphics = (Graphics2D)vImg.getGraphics();\r\n\r\n    graphics.setColor(bg_color);\r\n    graphics.fillRect(0, 0, frame.getWidth(), frame.getHeight());\r\n    return currentFPS;\r\n}\r\n\r\npublic void repaint_buffer() {\r\n    frame.getContentPane().getGraphics().drawImage(vImg, 0, 0, canvasWidth, canvasHeight, null);\r\n}\r\n\r\npublic void init(int width,\r\n                 int height,\r\n                 String title,\r\n                 Color bg_color,\r\n                 Consumer&lt;Void&gt; onDestroy) {\r\n    this.canvasWidth = width;\r\n    this.canvasHeight = height;\r\n    this.is_open = true;\r\n    this.title = title;\r\n    this.bg_color = bg_color;\r\n\r\n    this.frame.addWindowListener(new WindowAdapter() {\r\n        public void windowClosing(WindowEvent e) {\r\n            onDestroy.accept(null);\r\n        }\r\n    });\r\n    this.frame.addWindowListener(new WindowAdapter() {\r\n        public void windowResized(WindowEvent e) {\r\n            vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\r\n        }\r\n    });\r\n    this.frame.setLayout(null);\r\n    this.frame.setSize(canvasWidth, canvasHeight);\r\n    this.frame.addKeyListener(keyInput);\r\n    this.frame.setResizable(true);\r\n    this.frame.setLocation(-7, 0);\r\n    this.frame.setTitle(title);\r\n    this.frame.setVisible(true);\r\n\r\n    gc = this.frame.getGraphicsConfiguration();\r\n    vImg = gc.createCompatibleVolatileImage(this.frame.getWidth(), this.frame.getHeight());\r\n    this.graphics = (Graphics2D) vImg.getGraphics();\r\n}\r\n```\r\n`\r\nand here is the code from the Main class, the GraphicsManager object only contains the set_pixel function which sets the color and draws a rectangle at the given position with a size of 1x1 pixels:\r\n\r\n```\r\npackage obsidian.core;\r\nimport obsidian.core.Window;\r\n\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n    private static void on_destroy() {\r\n        System.exit(0);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Window window = new Window();\r\n        window.init(Window.get_max_size().width, Window.get_max_size().height, &quot;title&quot;, new Color(0, 0, 0), destroy -&gt; on_destroy());\r\n\r\n        GraphicsManager gm = new GraphicsManager(window);\r\n        Thread t = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while(window.is_open()) {\r\n                    window.render();\r\n\r\n                    gm.draw_pixel(0.5, 0.5, new Color(255, 0, 0));\r\n                    gm.draw_pixel(0, 0, new Color(255, 255, 255));\r\n                    \r\n                    System.out.println(window.get_current_fps());\r\n                }\r\n            }\r\n        });\r\n\r\n        t.start();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried removing the VolatileImage and directly drawing on the frame but the filling of the image makes it glitchy but it got to about 2000 FPS and IntelliJ IDEA couldn&#39;t keep up. The only solution I could find to make it run faster is removing the VolatileImage and draw directly to the frame. Didn&#39;t work ;-;\r\nCan anyone help me with this? Thank you","title":"How can I make my swing graphics project have a higher FPS(frames per second for anyone who doesn&#39;t know what it means)?","body":"<p>I started remaking my graphics engine and i have a problem with repainting the VolatileImage on the JFrame, i added an FPS counter and when it is in full-screen it only gets to around 250 or 280 FPS even though i have the loop in a new thread and I'm only drawing 2 dots on the screen.\nHere is the code for the init and render functions in the Window class, might be a bit unorganized:\n`</p>\n<pre><code>public int render() {\n    frame.getGraphics().drawImage(vImg, 0, 0, frame.getWidth(), frame.getHeight(), null);\n    totalFrames++;\n    if (System.nanoTime() &gt; lastFPScheck + 1000000000) {\n        lastFPScheck = System.nanoTime();\n        currentFPS = totalFrames;\n        totalFrames = 0;\n    }\n    if (vImg.validate(gc) == VolatileImage.IMAGE_OK) {\n        vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\n    }\n    if (debugging()) {\n        frame.setTitle(title + &quot;[FPS: &quot; + currentFPS + &quot;]&quot;);\n    }\n    graphics = (Graphics2D)vImg.getGraphics();\n\n    graphics.setColor(bg_color);\n    graphics.fillRect(0, 0, frame.getWidth(), frame.getHeight());\n    return currentFPS;\n}\n\npublic void repaint_buffer() {\n    frame.getContentPane().getGraphics().drawImage(vImg, 0, 0, canvasWidth, canvasHeight, null);\n}\n\npublic void init(int width,\n                 int height,\n                 String title,\n                 Color bg_color,\n                 Consumer&lt;Void&gt; onDestroy) {\n    this.canvasWidth = width;\n    this.canvasHeight = height;\n    this.is_open = true;\n    this.title = title;\n    this.bg_color = bg_color;\n\n    this.frame.addWindowListener(new WindowAdapter() {\n        public void windowClosing(WindowEvent e) {\n            onDestroy.accept(null);\n        }\n    });\n    this.frame.addWindowListener(new WindowAdapter() {\n        public void windowResized(WindowEvent e) {\n            vImg = gc.createCompatibleVolatileImage(frame.getWidth(), frame.getHeight());\n        }\n    });\n    this.frame.setLayout(null);\n    this.frame.setSize(canvasWidth, canvasHeight);\n    this.frame.addKeyListener(keyInput);\n    this.frame.setResizable(true);\n    this.frame.setLocation(-7, 0);\n    this.frame.setTitle(title);\n    this.frame.setVisible(true);\n\n    gc = this.frame.getGraphicsConfiguration();\n    vImg = gc.createCompatibleVolatileImage(this.frame.getWidth(), this.frame.getHeight());\n    this.graphics = (Graphics2D) vImg.getGraphics();\n}\n</code></pre>\n<p>`\nand here is the code from the Main class, the GraphicsManager object only contains the set_pixel function which sets the color and draws a rectangle at the given position with a size of 1x1 pixels:</p>\n<pre><code>package obsidian.core;\nimport obsidian.core.Window;\n\nimport java.awt.*;\n\npublic class Main {\n    private static void on_destroy() {\n        System.exit(0);\n    }\n\n    public static void main(String[] args) {\n        Window window = new Window();\n        window.init(Window.get_max_size().width, Window.get_max_size().height, &quot;title&quot;, new Color(0, 0, 0), destroy -&gt; on_destroy());\n\n        GraphicsManager gm = new GraphicsManager(window);\n        Thread t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while(window.is_open()) {\n                    window.render();\n\n                    gm.draw_pixel(0.5, 0.5, new Color(255, 0, 0));\n                    gm.draw_pixel(0, 0, new Color(255, 255, 255));\n                    \n                    System.out.println(window.get_current_fps());\n                }\n            }\n        });\n\n        t.start();\n\n    }\n}\n\n</code></pre>\n<p>I tried removing the VolatileImage and directly drawing on the frame but the filling of the image makes it glitchy but it got to about 2000 FPS and IntelliJ IDEA couldn't keep up. The only solution I could find to make it run faster is removing the VolatileImage and draw directly to the frame. Didn't work ;-;\nCan anyone help me with this? Thank you</p>\n"},{"tags":["java","maven","version"],"answers":[{"comments":[{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1380703099,"post_id":19123130,"comment_id":28295727,"body_markdown":"Currently I have a parent pom, but i am required to have version in there, so it means that each pom have specified verison of parent pom.","body":"Currently I have a parent pom, but i am required to have version in there, so it means that each pom have specified verison of parent pom."},{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1380708432,"post_id":19123130,"comment_id":28298146,"body_markdown":"if I try to remove both version elements, and keep version only in parent, I got following exception:\n[ERROR] The build could not read 1 project -&gt; [Help 1]\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[FATAL] &#39;parent.version&#39; is missing. @ line 6, column 13","body":"if I try to remove both version elements, and keep version only in parent, I got following exception: [ERROR] The build could not read 1 project -&gt; [Help 1] org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs: [FATAL] &#39;parent.version&#39; is missing. @ line 6, column 13"},{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1380748029,"post_id":19123130,"comment_id":28320058,"body_markdown":"This works correctly with clean maven project. How should be this configured with tycho (eclipse plugins and Manifest.MF file) also in each manifest file is version written","body":"This works correctly with clean maven project. How should be this configured with tycho (eclipse plugins and Manifest.MF file) also in each manifest file is version written"},{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":27,"creation_date":1380748511,"post_id":19123130,"comment_id":28320290,"body_markdown":"[WARNING] Some problems were encountered while building the effective model for company:group1:pom:1.1.2-SNAPSHOT\n[WARNING] &#39;version&#39; contains an expression but should be a constant. @ company:maven-test:${my.version}, \n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.","body":"[WARNING] Some problems were encountered while building the effective model for company:group1:pom:1.1.2-SNAPSHOT [WARNING] &#39;version&#39; contains an expression but should be a constant. @ company:maven-test:${my.version},  [WARNING] [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build. [WARNING] [WARNING] For this reason, future Maven versions might no longer support building such malformed projects."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1519777895,"post_id":19123130,"comment_id":85045502,"body_markdown":"So why is that in dependencies you can refer to `${project.version}`, but in `&lt;parent&gt;` you can&#39;t?","body":"So why is that in dependencies you can refer to <code>${project.version}</code>, but in <code>&lt;parent&gt;</code> you can&#39;t?"},{"owner":{"account_id":1093275,"reputation":124,"user_id":1087415,"display_name":"Blindworks"},"score":13,"creation_date":1521546953,"post_id":19123130,"comment_id":85767803,"body_markdown":"With the new version of Maven this feature will not work anymore!","body":"With the new version of Maven this feature will not work anymore!"},{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":1,"creation_date":1551939178,"post_id":19123130,"comment_id":96825940,"body_markdown":"It worked for me with maven 3.5.4, notice that neither 3.5.2 nor 3.6.0 worked.","body":"It worked for me with maven 3.5.4, notice that neither 3.5.2 nor 3.6.0 worked."},{"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"score":0,"creation_date":1611856604,"post_id":19123130,"comment_id":116591862,"body_markdown":"IntelliJ 2020.3 with Maven 3.6.3 is also highly confused by this. Maven on the CLI throws many warnings but ultimately seems to work?","body":"IntelliJ 2020.3 with Maven 3.6.3 is also highly confused by this. Maven on the CLI throws many warnings but ultimately seems to work?"},{"owner":{"account_id":1080554,"reputation":571,"user_id":1077668,"display_name":"Bart Robeyns"},"score":3,"creation_date":1614445157,"post_id":19123130,"comment_id":117390116,"body_markdown":"Better follow the other answers, using mvn versions:set - the amout of trouble you&#39;re going to run into with versions as properties is just not worth it","body":"Better follow the other answers, using mvn versions:set - the amout of trouble you&#39;re going to run into with versions as properties is just not worth it"}],"tags":[],"owner":{"account_id":291009,"reputation":9437,"user_id":592898,"accept_rate":60,"display_name":"Frederic Close"},"comment_count":9,"down_vote_count":9,"up_vote_count":45,"is_accepted":false,"score":36,"last_activity_date":1380709271,"creation_date":1380651469,"answer_id":19123130,"question_id":19123013,"body_markdown":"If you have a parent project you can set the version in the parent pom and in the children you can reference sibling libs with the *${project.version}* or *${version}* properties.\r\n\r\nIf you want to avoid to repeat the version of the parent in each children: you can do this:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n    &lt;version&gt;${my.version}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    &lt;properties&gt;\r\n    &lt;my.version&gt;1.1.2-SNAPSHOT&lt;/my.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nAnd then in your children pom you have to do:\r\n\r\n        &lt;parent&gt;\r\n          &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n          &lt;groupId&gt;company&lt;/groupId&gt;\r\n          &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\r\n          &lt;version&gt;${my.version}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n        &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt; \r\n               &lt;groupId&gt;company&lt;/groupId&gt;\r\n               &lt;artifactId&gt;otherartifact&lt;/artifactId&gt;   \r\n               &lt;version&gt;${my.version}&lt;/version&gt;\r\n    or\r\n               &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nhth","title":"Maven version with a property","body":"<p>If you have a parent project you can set the version in the parent pom and in the children you can reference sibling libs with the <em>${project.version}</em> or <em>${version}</em> properties.</p>\n\n<p>If you want to avoid to repeat the version of the parent in each children: you can do this:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n&lt;version&gt;${my.version}&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;properties&gt;\n&lt;my.version&gt;1.1.2-SNAPSHOT&lt;/my.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>And then in your children pom you have to do:</p>\n\n<pre><code>    &lt;parent&gt;\n      &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n      &lt;groupId&gt;company&lt;/groupId&gt;\n      &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\n      &lt;version&gt;${my.version}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;company&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt; \n           &lt;groupId&gt;company&lt;/groupId&gt;\n           &lt;artifactId&gt;otherartifact&lt;/artifactId&gt;   \n           &lt;version&gt;${my.version}&lt;/version&gt;\nor\n           &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>hth</p>\n"},{"comments":[{"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"score":1,"creation_date":1450121719,"post_id":24265093,"comment_id":56292132,"body_markdown":"Can you explain how the maven release plugin fixes this issue?","body":"Can you explain how the maven release plugin fixes this issue?"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":0,"creation_date":1450262295,"post_id":24265093,"comment_id":56360985,"body_markdown":"Well, it actually does not fix the problem reported because that is not the right way of doing things, so you should not set the version of your project in a property. If your project has multiple modules then the right thing to do is to let the Release plugin do the work of changing the version in all pom.xml files for you.","body":"Well, it actually does not fix the problem reported because that is not the right way of doing things, so you should not set the version of your project in a property. If your project has multiple modules then the right thing to do is to let the Release plugin do the work of changing the version in all pom.xml files for you."},{"owner":{"account_id":413279,"reputation":508,"user_id":786818,"display_name":"Mihkel Selgal"},"score":2,"creation_date":1462348715,"post_id":24265093,"comment_id":61594177,"body_markdown":"I would say that using Maven release plugin is the correct way. In our case we use update POM command to set version of all modules to parent like so: `mvn release:update-versions -DautoVersionSubmodules=true`","body":"I would say that using Maven release plugin is the correct way. In our case we use update POM command to set version of all modules to parent like so: <code>mvn release:update-versions -DautoVersionSubmodules=true</code>"},{"owner":{"account_id":272978,"reputation":363,"user_id":564327,"display_name":"Bob Bell"},"score":3,"creation_date":1552507233,"post_id":24265093,"comment_id":97040909,"body_markdown":"This involves modifying the POM, meaning that a source code controlled file is now modified, which I find objectionable.","body":"This involves modifying the POM, meaning that a source code controlled file is now modified, which I find objectionable."},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":2,"creation_date":1552560620,"post_id":24265093,"comment_id":97060212,"body_markdown":"The objective is to change the version. The discussion here is whether is can be done in a single place or not.","body":"The objective is to change the version. The discussion here is whether is can be done in a single place or not."}],"tags":[],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1403011581,"creation_date":1403011581,"answer_id":24265093,"question_id":19123013,"body_markdown":"Using a property for the version generates the following warning:\r\n\r\n    [WARNING]\r\n    [WARNING] Some problems were encountered while building the effective model for xxx.yyy.sandbox:Sandbox:war:0.1.0-SNAPSHOT\r\n    [WARNING] &#39;version&#39; contains an expression but should be a constant. @ xxx.yyy.sandbox:Sandbox:${my.version}, C:\\Users\\xxx\\development\\gwtsandbox\\pom.xml, line 8, column 14\r\n    [WARNING]\r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING]\r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING]\r\n\r\nIf your problem is that you have to change the version in multiple places because you are switching versions, then the correct thing to do is to use the Maven Release Plugin that will do this for you automatically.","title":"Maven version with a property","body":"<p>Using a property for the version generates the following warning:</p>\n\n<pre><code>[WARNING]\n[WARNING] Some problems were encountered while building the effective model for xxx.yyy.sandbox:Sandbox:war:0.1.0-SNAPSHOT\n[WARNING] 'version' contains an expression but should be a constant. @ xxx.yyy.sandbox:Sandbox:${my.version}, C:\\Users\\xxx\\development\\gwtsandbox\\pom.xml, line 8, column 14\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING]\n</code></pre>\n\n<p>If your problem is that you have to change the version in multiple places because you are switching versions, then the correct thing to do is to use the Maven Release Plugin that will do this for you automatically.</p>\n"},{"tags":[],"owner":{"account_id":214333,"reputation":1988,"user_id":468249,"accept_rate":50,"display_name":"rince"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507236159,"creation_date":1507236159,"answer_id":46594479,"question_id":19123013,"body_markdown":"If you&#39;re using Maven 3, one option to work around this problem is to use the versions plugin\r\nhttp://www.mojohaus.org/versions-maven-plugin/\r\n\r\nSpecifically the commands, \r\n\r\n    mvn versions:set -DnewVersion=2.0-RELEASE\r\n    mvn versions:commit\r\n\r\nThis will update the parent and child poms to 2.0-RELEASE. You can run this as a build step before.\r\n\r\nUnlike the release plugin, it doesn&#39;t try to talk to your source control","title":"Maven version with a property","body":"<p>If you're using Maven 3, one option to work around this problem is to use the versions plugin\n<a href=\"http://www.mojohaus.org/versions-maven-plugin/\" rel=\"noreferrer\">http://www.mojohaus.org/versions-maven-plugin/</a></p>\n\n<p>Specifically the commands, </p>\n\n<pre><code>mvn versions:set -DnewVersion=2.0-RELEASE\nmvn versions:commit\n</code></pre>\n\n<p>This will update the parent and child poms to 2.0-RELEASE. You can run this as a build step before.</p>\n\n<p>Unlike the release plugin, it doesn't try to talk to your source control</p>\n"},{"comments":[{"owner":{"account_id":272978,"reputation":363,"user_id":564327,"display_name":"Bob Bell"},"score":4,"creation_date":1552504934,"post_id":49020281,"comment_id":97039834,"body_markdown":"And this modified the pom.xml files, meaning that the subsequent build happens from modified source code, which I find objectionable.","body":"And this modified the pom.xml files, meaning that the subsequent build happens from modified source code, which I find objectionable."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1567699052,"post_id":49020281,"comment_id":102049938,"body_markdown":"@BobBell it is not possible to update the version without modifying pom files.","body":"@BobBell it is not possible to update the version without modifying pom files."},{"owner":{"account_id":272978,"reputation":363,"user_id":564327,"display_name":"Bob Bell"},"score":6,"creation_date":1567792450,"post_id":49020281,"comment_id":102083399,"body_markdown":"@ACV That is not true.  You can build with alternative version of you use `${revision}` and pass `-Drevision` on the command line.","body":"@ACV That is not true.  You can build with alternative version of you use <code>${revision}</code> and pass <code>-Drevision</code> on the command line."},{"owner":{"account_id":12293031,"reputation":51,"user_id":8969576,"display_name":"Dev"},"score":0,"creation_date":1604472027,"post_id":49020281,"comment_id":114354535,"body_markdown":"@BobBell , i am passing through command line oly, but in .m2 folder pom is not updated with placeholder value. could you please help me to resolve this issue","body":"@BobBell , i am passing through command line oly, but in .m2 folder pom is not updated with placeholder value. could you please help me to resolve this issue"},{"owner":{"account_id":272978,"reputation":363,"user_id":564327,"display_name":"Bob Bell"},"score":1,"creation_date":1604601786,"post_id":49020281,"comment_id":114404010,"body_markdown":"@Dev Are you using `-Drevision`, or `-DnewVersion`?  Only limited properties can be updated via the command line.  See https://maven.apache.org/maven-ci-friendly.html","body":"@Dev Are you using <code>-Drevision</code>, or <code>-DnewVersion</code>?  Only limited properties can be updated via the command line.  See <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a>"}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1562574367,"creation_date":1519778763,"answer_id":49020281,"question_id":19123013,"body_markdown":"The correct answer is this (example version):\r\n\r\n* In parent pom.xml you should have (**not** inside `properties`):\r\n\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n* In all child modules you should have:\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.vvirlan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grafiti&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\nSo it is hardcoded.\r\n\r\nNow, to update the version you do this:\r\n\r\n```\r\nmvn versions:set -DnewVersion=0.0.2-SNAPSHOT\r\nmvn versions:commit # Necessary to remove the backup file pom.xml\r\n```\r\n\r\nand all your 400 modules will have the parent version updated.\r\n","title":"Maven version with a property","body":"<p>The correct answer is this (example version):</p>\n\n<ul>\n<li><p>In parent pom.xml you should have (<strong>not</strong> inside <code>properties</code>):</p>\n\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n</code></pre></li>\n<li><p>In all child modules you should have:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.vvirlan&lt;/groupId&gt;\n    &lt;artifactId&gt;grafiti&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre></li>\n</ul>\n\n<p>So it is hardcoded.</p>\n\n<p>Now, to update the version you do this:</p>\n\n<pre><code>mvn versions:set -DnewVersion=0.0.2-SNAPSHOT\nmvn versions:commit # Necessary to remove the backup file pom.xml\n</code></pre>\n\n<p>and all your 400 modules will have the parent version updated.</p>\n"},{"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":3,"creation_date":1548860213,"post_id":49029661,"comment_id":95695943,"body_markdown":"This is producing warnings and asking to use constant version, but still depending on this","body":"This is producing warnings and asking to use constant version, but still depending on this"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1553704160,"post_id":49029661,"comment_id":97486406,"body_markdown":"@DavutG&#252;rb&#252;z It does not here (with Maven 3.6.0 and if you follow the instructions on the the linked page [Maven CI Friendly Versions](https://maven.apache.org/maven-ci-friendly.html)).","body":"@DavutG&#252;rb&#252;z It does not here (with Maven 3.6.0 and if you follow the instructions on the the linked page <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">Maven CI Friendly Versions</a>)."}],"tags":[],"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1629737482,"creation_date":1519821014,"answer_id":49029661,"question_id":19123013,"body_markdown":"With a Maven version of 3.5 or higher, you should be able to use a placeholder (e.g. `${revision}`) in the parent section and inside the rest of the POM, you can use `${project.version}`.\r\n\r\nActually, you can also omit GAV properties outside of `&lt;parent&gt;` which are the same, as they will be inherited. The result would look something like this:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n            &lt;groupId&gt;company&lt;/groupId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;  &lt;!-- use placeholder --&gt;\r\n            &lt;relativePath&gt;../build.parent&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n        &lt;!-- no &#39;version&#39;, no &#39;groupId&#39;; inherited from parent --&gt;\r\n        &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nFor more information, especially on how to resolve the placeholder during publishing, see [Maven CI Friendly Versions | Multi Module Setup][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/maven-ci-friendly.html#Multi_Module_Setup","title":"Maven version with a property","body":"<p>With a Maven version of 3.5 or higher, you should be able to use a placeholder (e.g. <code>${revision}</code>) in the parent section and inside the rest of the POM, you can use <code>${project.version}</code>.</p>\n<p>Actually, you can also omit GAV properties outside of <code>&lt;parent&gt;</code> which are the same, as they will be inherited. The result would look something like this:</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n        &lt;groupId&gt;company&lt;/groupId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;  &lt;!-- use placeholder --&gt;\n        &lt;relativePath&gt;../build.parent&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\n    &lt;!-- no 'version', no 'groupId'; inherited from parent --&gt;\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>For more information, especially on how to resolve the placeholder during publishing, see <a href=\"https://maven.apache.org/maven-ci-friendly.html#Multi_Module_Setup\" rel=\"nofollow noreferrer\">Maven CI Friendly Versions | Multi Module Setup</a>.</p>\n"},{"comments":[{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1553790099,"post_id":55375697,"comment_id":97525441,"body_markdown":"First as this is end project, there is no risk with dependencies resolving .) Second, we already moved out of this with pomless build, which I would really recomend. Third, do not know how to insert line in comment without sending it directly:(","body":"First as this is end project, there is no risk with dependencies resolving .) Second, we already moved out of this with pomless build, which I would really recomend. Third, do not know how to insert line in comment without sending it directly:("},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1628598591,"post_id":55375697,"comment_id":121459094,"body_markdown":"@JanPešta What do you mean by &quot;_pomless build_&quot;? Comments here at SO do not support explicit new lines.","body":"@JanPešta What do you mean by &quot;<i>pomless build</i>&quot;? Comments here at SO do not support explicit new lines."},{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1629101924,"post_id":55375697,"comment_id":121588120,"body_markdown":"As I mentioned this is tycho based project where everythink is defined in manifest files, and we used pom only for building. so pomless build is a way where pom are generated from manifest and they do not need to be stored in repo","body":"As I mentioned this is tycho based project where everythink is defined in manifest files, and we used pom only for building. so pomless build is a way where pom are generated from manifest and they do not need to be stored in repo"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1629102569,"post_id":55375697,"comment_id":121588356,"body_markdown":"@JanPešta I see. It&#39;s called _POM first_ vs. _MANIFEST first_. See also [_Should I use POM first or MANIFEST first when developing OSGi application with Maven?_](https://stackoverflow.com/q/11373009/1744774).","body":"@JanPešta I see. It&#39;s called <i>POM first</i> vs. <i>MANIFEST first</i>. See also <a href=\"https://stackoverflow.com/q/11373009/1744774\"><i>Should I use POM first or MANIFEST first when developing OSGi application with Maven?</i></a>."},{"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"score":0,"creation_date":1629267049,"post_id":55375697,"comment_id":121637957,"body_markdown":"It is not, MANIFEST first require pom for bundles and to be in sync with manifest, but pomless does not require pom for every bundle.","body":"It is not, MANIFEST first require pom for bundles and to be in sync with manifest, but pomless does not require pom for every bundle."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1629293889,"post_id":55375697,"comment_id":121648608,"body_markdown":"@JanPešta I see. I was irritated by  _Maven build without a POM_ which is a contradiction in itself. :) I think it&#39;s one of the advantages of Maven that the build config of a project is stored in the project&#39;s SCM repo (since with the declarative nature of POMs it&#39;s also a description of and a documentation for the entire project). That, for instance, also is what the relatively new SCM-stored `Jenkinsfile`s on Jenkins are about (for e.g. reproducable builds). I agree that some things are more complicated as soon as OSGi comes into play.","body":"@JanPešta I see. I was irritated by  <i>Maven build without a POM</i> which is a contradiction in itself. :) I think it&#39;s one of the advantages of Maven that the build config of a project is stored in the project&#39;s SCM repo (since with the declarative nature of POMs it&#39;s also a description of and a documentation for the entire project). That, for instance, also is what the relatively new SCM-stored <code>Jenkinsfile</code>s on Jenkins are about (for e.g. reproducable builds). I agree that some things are more complicated as soon as OSGi comes into play."}],"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":6,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1553684737,"creation_date":1553684737,"answer_id":55375697,"question_id":19123013,"body_markdown":"See the _Maven - Users_ forum [_&#39;version&#39; contains an expression but should be a constant. Better way to add a new version?_][version]:\r\n\r\n&gt; here is why this is a bad plan.\r\n\r\n&gt; the pom that gets deployed will not have the property value resolved, so\r\nanyone depending on that pom will pick up the dependency as being the string uninterpolated with the ${ } and much hilarity will ensue in your\r\nbuild process.\r\n\r\n&gt; in maven 2.1.0 and/or 2.2.0 an attempt was made to deploy poms with\r\nresolved properties... this broke more than expected, which is why those\r\ntwo versions are not recommended, 2.2.1 being the recommended 2.x version.\r\n\r\n[version]: http://maven.40175.n5.nabble.com/version-contains-an-expression-but-should-be-a-constant-Better-way-to-add-a-new-version-tp5146537p5146727.html","title":"Maven version with a property","body":"<p>See the <em>Maven - Users</em> forum <a href=\"http://maven.40175.n5.nabble.com/version-contains-an-expression-but-should-be-a-constant-Better-way-to-add-a-new-version-tp5146537p5146727.html\" rel=\"noreferrer\"><em>'version' contains an expression but should be a constant. Better way to add a new version?</em></a>:</p>\n\n<blockquote>\n  <p>here is why this is a bad plan.</p>\n  \n  <p>the pom that gets deployed will not have the property value resolved, so\n  anyone depending on that pom will pick up the dependency as being the string uninterpolated with the ${ } and much hilarity will ensue in your\n  build process.</p>\n  \n  <p>in maven 2.1.0 and/or 2.2.0 an attempt was made to deploy poms with\n  resolved properties... this broke more than expected, which is why those\n  two versions are not recommended, 2.2.1 being the recommended 2.x version.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":207032,"reputation":1411,"user_id":456678,"display_name":"Hemang"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593620824,"creation_date":1593620824,"answer_id":62681239,"question_id":19123013,"body_markdown":"I have two recommendation for you\r\n1. Use [CI Friendly Revision](https://maven.apache.org/maven-ci-friendly.html) for all your artifacts. You can add `-Drevision=2.0.1` in `.mvn/maven.config` file. So basically you define your version only at one location.\r\n2. For all external dependency create a property in parent file. You can use [Apache Camel Parent Pom](https://github.com/apache/camel/blob/master/parent/pom.xml) as reference","title":"Maven version with a property","body":"<p>I have two recommendation for you</p>\n<ol>\n<li>Use <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">CI Friendly Revision</a> for all your artifacts. You can add <code>-Drevision=2.0.1</code> in <code>.mvn/maven.config</code> file. So basically you define your version only at one location.</li>\n<li>For all external dependency create a property in parent file. You can use <a href=\"https://github.com/apache/camel/blob/master/parent/pom.xml\" rel=\"nofollow noreferrer\">Apache Camel Parent Pom</a> as reference</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1598466294,"creation_date":1598466294,"answer_id":63603618,"question_id":19123013,"body_markdown":"**The version of the pom.xml should be valid**\r\n\r\n    &lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.2.4 SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n**This version should not be like 2.2.4. etc**","title":"Maven version with a property","body":"<p><strong>The version of the pom.xml should be valid</strong></p>\n<pre><code>&lt;groupId&gt;com.amazonaws.lambda&lt;/groupId&gt;\n&lt;artifactId&gt;lambda&lt;/artifactId&gt;\n&lt;version&gt;2.2.4 SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n<p><strong>This version should not be like 2.2.4. etc</strong></p>\n"},{"tags":[],"owner":{"account_id":16729678,"reputation":1,"user_id":12092383,"display_name":"Angelina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667081156,"creation_date":1667081028,"answer_id":74249170,"question_id":19123013,"body_markdown":"I have successfully resolved the issue thus:\r\n\r\nIn parent pom.xml I have sited the version as usual (not inside properties):\r\n\r\n```\r\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n```\r\n\r\nIn all child modules I used:\r\n\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nThen I changed the parent to:\r\n\r\n```\r\n&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n```\r\n\r\nNow, to update the version I executed in the command line:\r\n\r\n```\r\nmvn -N versions:update-child-modules\r\n```\r\n\r\nThe children have been updated automatically to:\r\n\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nIn other words I have used the **versions:update-child-modules goal**.\r\n\r\nI have found this solution [here](https://www.mojohaus.org/versions-maven-plugin/examples/update-child-modules.html).","title":"Maven version with a property","body":"<p>I have successfully resolved the issue thus:</p>\n<p>In parent pom.xml I have sited the version as usual (not inside properties):</p>\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>In all child modules I used:</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Then I changed the parent to:</p>\n<pre><code>&lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n</code></pre>\n<p>Now, to update the version I executed in the command line:</p>\n<pre><code>mvn -N versions:update-child-modules\n</code></pre>\n<p>The children have been updated automatically to:</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n   &lt;version&gt;0.0.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>In other words I have used the <strong>versions:update-child-modules goal</strong>.</p>\n<p>I have found this solution <a href=\"https://www.mojohaus.org/versions-maven-plugin/examples/update-child-modules.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1855909,"reputation":664,"user_id":1681499,"display_name":"Jan Pešta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160605,"favorite_count":0,"down_vote_count":1,"up_vote_count":63,"accepted_answer_id":55375697,"answer_count":9,"score":62,"last_activity_date":1667081156,"creation_date":1380651064,"question_id":19123013,"body_markdown":"I have big Maven (Tycho) project witch about 400 plug-ins.\r\n\r\nWe have specified version of application in each POM file.\r\n\r\nIs there a way how to specify the version for all POM:s only on one place?\r\n\r\nI would expect some think like:\r\n\r\n    &lt;properties&gt;\r\n    &lt;buildVersion&gt;1.1.2-SNAPSHOT&lt;/buildVersion&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    ....\r\n    \r\n    &lt;version&gt;${buildVersion}&lt;/version&gt;\r\n\r\n\r\nWe have parent `pom.xml`:\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nThen in each POM is reference to parent POM:\r\n\r\n    &lt;parent&gt;\r\n      &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\r\n      &lt;groupId&gt;company&lt;/groupId&gt;\r\n      &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\r\n      &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\r\n\r\n","title":"Maven version with a property","body":"<p>I have big Maven (Tycho) project witch about 400 plug-ins.</p>\n\n<p>We have specified version of application in each POM file.</p>\n\n<p>Is there a way how to specify the version for all POM:s only on one place?</p>\n\n<p>I would expect some think like:</p>\n\n<pre><code>&lt;properties&gt;\n&lt;buildVersion&gt;1.1.2-SNAPSHOT&lt;/buildVersion&gt;\n&lt;/properties&gt;\n\n....\n\n&lt;version&gt;${buildVersion}&lt;/version&gt;\n</code></pre>\n\n<p>We have parent <code>pom.xml</code>:</p>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n&lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>Then in each POM is reference to parent POM:</p>\n\n<pre><code>&lt;parent&gt;\n  &lt;artifactId&gt;build.parent&lt;/artifactId&gt;\n  &lt;groupId&gt;company&lt;/groupId&gt;\n  &lt;relativePath&gt;../build.parent/pom.xml&lt;/relativePath&gt;\n  &lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;company&lt;/groupId&gt;\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\n&lt;version&gt;1.1.2-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;eclipse-plugin&lt;/packaging&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"score":0,"creation_date":1593541349,"post_id":62663813,"comment_id":110816443,"body_markdown":"can you run then both at the same time in IntelliJ?","body":"can you run then both at the same time in IntelliJ?"},{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":1,"creation_date":1593541417,"post_id":62663813,"comment_id":110816475,"body_markdown":"Yes you can, run and debug.","body":"Yes you can, run and debug."},{"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"score":1,"creation_date":1593542202,"post_id":62663813,"comment_id":110816839,"body_markdown":"Thanks, Im still new but you guys were quick and accurate","body":"Thanks, Im still new but you guys were quick and accurate"}],"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593541195,"creation_date":1593541195,"answer_id":62663813,"question_id":62663732,"body_markdown":"Just create two classes having main functions, one for producer and one for consumer and you can run both.\r\n\r\nThis is main signature you need:\r\n\r\n    public static void main(String[] args) {\r\n    }","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Just create two classes having main functions, one for producer and one for consumer and you can run both.</p>\n<p>This is main signature you need:</p>\n<pre><code>public static void main(String[] args) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"score":0,"creation_date":1593542121,"post_id":62663885,"comment_id":110816796,"body_markdown":"I didn&#39;t even think of importing one into the other good observation.","body":"I didn&#39;t even think of importing one into the other good observation."}],"tags":[],"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667080782,"creation_date":1593541441,"answer_id":62663885,"question_id":62663732,"body_markdown":"Its been a while since I asked this, so long that I ran into the same issue again and found this post, But I have an easier answer now. If you are using IntelliJ like me there isnt an Import menu item like Eclipse, so what you need to do is create you two spring boot projects.\r\n\r\nLets say ones a Kafka Producer and the other is a kafka Consumer, go to springboot create both projects, then unzip them both on your desktop. now create a new folder called &quot;Kafka&quot; move both your springboot projects into the new folder and open that folder in intelliJ, now you will have both your project running in IntelliJ.\r\n\r\nThis will work as long as each project has its own main method as stated above.","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Its been a while since I asked this, so long that I ran into the same issue again and found this post, But I have an easier answer now. If you are using IntelliJ like me there isnt an Import menu item like Eclipse, so what you need to do is create you two spring boot projects.</p>\n<p>Lets say ones a Kafka Producer and the other is a kafka Consumer, go to springboot create both projects, then unzip them both on your desktop. now create a new folder called &quot;Kafka&quot; move both your springboot projects into the new folder and open that folder in intelliJ, now you will have both your project running in IntelliJ.</p>\n<p>This will work as long as each project has its own main method as stated above.</p>\n"},{"comments":[{"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"score":0,"creation_date":1667080983,"post_id":73483639,"comment_id":131087351,"body_markdown":"this is completely the opposite of what was asked, I wantked to know how to open two springboot projects int the same window. This is how lots of Eclipse tutorials are put together, its just that IntellliJ doesnt have the same import mene items","body":"this is completely the opposite of what was asked, I wantked to know how to open two springboot projects int the same window. This is how lots of Eclipse tutorials are put together, its just that IntellliJ doesnt have the same import mene items"}],"tags":[],"owner":{"account_id":20509461,"reputation":221,"user_id":15051566,"display_name":"Yousef R Hammad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661413225,"creation_date":1661413225,"answer_id":73483639,"question_id":62663732,"body_markdown":"Simply you can open two different projects using IntelliJ \r\n\r\n 1. File -&gt; new -&gt; Project \r\n 2. Enter your config \r\n 3. Then it will appear this window, And choose **New Window**\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3ffY.png","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>Simply you can open two different projects using IntelliJ</p>\n<ol>\n<li>File -&gt; new -&gt; Project</li>\n<li>Enter your config</li>\n<li>Then it will appear this window, And choose <strong>New Window</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/M3ffY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M3ffY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12415846,"reputation":628,"user_id":9045408,"display_name":"Justin Meskan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62663813,"answer_count":3,"score":1,"last_activity_date":1667080782,"creation_date":1593540881,"question_id":62663732,"body_markdown":"I am going through a tutorial on Kafka, the author is using eclipse and has both the Kafka Consumer and the Kafka Producer both running in Eclipse. I use IntelliJ which I am new to, and I have to create two different projects one for the consumer and one for the Producer. How to run two different projects in IntelliJ?\r\n","title":"Kafka Consumer and Producer in the same IntelliJ project","body":"<p>I am going through a tutorial on Kafka, the author is using eclipse and has both the Kafka Consumer and the Kafka Producer both running in Eclipse. I use IntelliJ which I am new to, and I have to create two different projects one for the consumer and one for the Producer. How to run two different projects in IntelliJ?</p>\n"},{"tags":["java","maven","jenkins-pipeline","jenkins-groovy"],"comments":[{"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"score":0,"creation_date":1664770668,"post_id":73880277,"comment_id":130539840,"body_markdown":"I tried changing the POM file to reflect the current maven version I have installed on my Linux box but it doesn&#39;t seem to help","body":"I tried changing the POM file to reflect the current maven version I have installed on my Linux box but it doesn&#39;t seem to help"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664799043,"post_id":73880277,"comment_id":130546720,"body_markdown":"What version of Java and maven are you using?","body":"What version of Java and maven are you using?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1664891234,"post_id":73880277,"comment_id":130570182,"body_markdown":"You&#39;re using a rather old version of the maven-war-plugin. In general when a plugin fails with something that&#39;s most likely out of your control, the advice is to check for a more recent version. https://maven.apache.org/plugins/maven-war-plugin/ shows you it is 3.3.2 (at time of writing). You can do this by updating the pom.xml","body":"You&#39;re using a rather old version of the maven-war-plugin. In general when a plugin fails with something that&#39;s most likely out of your control, the advice is to check for a more recent version. <a href=\"https://maven.apache.org/plugins/maven-war-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-war-plugin</a> shows you it is 3.3.2 (at time of writing). You can do this by updating the pom.xml"},{"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"score":0,"creation_date":1664902217,"post_id":73880277,"comment_id":130574279,"body_markdown":"@RobertScholte I&#39;ve tried updating my POM file replacing the plugin version with 3.8.6 but that doesn&#39;t seem to help. Are there specific pieces in the POM file that I need to update? Would you please let me know which sections in the POM file to update?","body":"@RobertScholte I&#39;ve tried updating my POM file replacing the plugin version with 3.8.6 but that doesn&#39;t seem to help. Are there specific pieces in the POM file that I need to update? Would you please let me know which sections in the POM file to update?"}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664913727,"creation_date":1664913727,"answer_id":73953095,"question_id":73880277,"body_markdown":"Update your pom.xml to include `maven-compiler-plugin` with `maven-war-plugin` latest version. Also, check your java version in the Jenkins project configuration.\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.10.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.8&lt;/source&gt;\r\n        &lt;target&gt;1.8&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>Update your pom.xml to include <code>maven-compiler-plugin</code> with <code>maven-war-plugin</code> latest version. Also, check your java version in the Jenkins project configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665058350,"creation_date":1665058350,"answer_id":73973581,"question_id":73880277,"body_markdown":"I see 3 things that might cause this:\r\n\r\n1. In your pom, your current compiler is quit old, 3.2:\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nTry upgrading this to latest, 3.10.\r\n\r\n2. I dont see `maven-war-plugin` in your pom. Try adding it with latest version as well.\r\n\r\n3. [Note: Merely setting the target option in the configuration tag does not guarantee that your code actually runs on a JRE with the specified version.][1]\r\n\r\nTry adding this to ensure you are actually compiling using the same version\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>I see 3 things that might cause this:</p>\n<ol>\n<li><p>In your pom, your current compiler is quit old, 3.2:</p>\n<pre><code>    &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.2&lt;/version&gt;\n         &lt;configuration&gt;\n             &lt;source&gt;1.8&lt;/source&gt;\n             &lt;target&gt;1.8&lt;/target&gt;\n         &lt;/configuration&gt;\n     &lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n<p>Try upgrading this to latest, 3.10.</p>\n<ol start=\"2\">\n<li><p>I dont see <code>maven-war-plugin</code> in your pom. Try adding it with latest version as well.</p>\n</li>\n<li><p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">Note: Merely setting the target option in the configuration tag does not guarantee that your code actually runs on a JRE with the specified version.</a></p>\n</li>\n</ol>\n<p>Try adding this to ensure you are actually compiling using the same version</p>\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7480404,"reputation":11,"user_id":6071809,"display_name":"DamienG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665128928,"creation_date":1665128928,"answer_id":73983972,"question_id":73880277,"body_markdown":"In complement to previous answer : \r\n - Add `maven-compiler-plugin` and `maven-war-plugin` declaration to the `plugin` section in your POM (with latest version). Also explicitly declare the Java version to the maven-compiler-plugin &#39;&lt;configuration&gt;&#39; section.\r\n - Specify explicitly in your pipeline the Java version used :\r\n```\r\npipeline {\r\n    agent any\r\n    tools {\r\n        git &#39;YOUR_GIT_INSTALLATION&#39;\r\n        jdk &#39;YOUR_JDK_VERSION&#39;\r\n        maven &#39;MAVEN_JENKINS&#39;\r\n    }\r\n...\r\n\r\n}\r\n```\r\n where &#39;**YOUR_GIT_INSTALLATION**&#39; and &#39;**YOUR_JDK_VERSION**&#39; are the one declared in your tool configuration (it is also a good practice to declare explicitly the GIT version and any tools you&#39;re using in the pipeline)","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>In complement to previous answer :</p>\n<ul>\n<li>Add <code>maven-compiler-plugin</code> and <code>maven-war-plugin</code> declaration to the <code>plugin</code> section in your POM (with latest version). Also explicitly declare the Java version to the maven-compiler-plugin '' section.</li>\n<li>Specify explicitly in your pipeline the Java version used :</li>\n</ul>\n<pre><code>pipeline {\n    agent any\n    tools {\n        git 'YOUR_GIT_INSTALLATION'\n        jdk 'YOUR_JDK_VERSION'\n        maven 'MAVEN_JENKINS'\n    }\n...\n\n}\n</code></pre>\n<p>where '<strong>YOUR_GIT_INSTALLATION</strong>' and '<strong>YOUR_JDK_VERSION</strong>' are the one declared in your tool configuration (it is also a good practice to declare explicitly the GIT version and any tools you're using in the pipeline)</p>\n"}],"owner":{"account_id":1611342,"reputation":870,"user_id":1794617,"accept_rate":40,"display_name":"AjB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953095,"answer_count":3,"score":0,"last_activity_date":1667079492,"creation_date":1664362585,"question_id":73880277,"body_markdown":"I&#39;m relatively new to DevOps in General as well as Java. Which makes debugging Maven and Jenkins all the more difficult for me.\r\n\r\nI am trying to create a scripted Jenkins pipeline for a Java project from the internet using the following script:\r\n\r\n    pipeline{\r\n        agent any\r\n        tools{\r\n            maven &#39;MAVEN_JENKINS&#39;\r\n        }\r\n        stages{\r\n            stage(&quot;checkout from github&quot;){\r\n                steps{\r\n                    git branch: &#39;master&#39;,\r\n                    url:&#39;https://github.com/redbilledpanda/DevOpsClassCodes.git&#39;\r\n                    echo &#39;pulled from github successfully&#39;\r\n                }\r\n            }\r\n            stage(&quot;compile the code to executable format&quot;){\r\n                steps{\r\n                    sh &quot;mvn compile&quot;\r\n                    echo &#39;converted the code from human readable to machine readable &#39;\r\n                }\r\n            }\r\n            stage(&quot;testing the code&quot;){\r\n                steps{\r\n                    sh &quot;mvn test&quot;\r\n                    echo &#39;run and execute the test cases written in selenium&#39;\r\n                }\r\n            }\r\n            stage(&quot;code review to check quality of code&quot;){\r\n                steps{\r\n                    sh &quot;mvn pmd:pmd&quot;\r\n                    echo &#39;code review done&#39;\r\n                }\r\n            }\r\n            stage(&quot;convert the code to package&quot;){\r\n                steps{\r\n                    sh &quot;mvn clean package&quot;\r\n                    echo &#39;convert the files to war file&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe only section that fails is the packaging stage. Here is the entire log:\r\n\r\n    + mvn package\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for com.edurekademo.tutorial:addressbook:war:2.0\r\n    [WARNING] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 298, column 40\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] ----------------&lt; com.edurekademo.tutorial:addressbook &gt;----------------\r\n    [INFO] Building Vaadin Addressbook example 2.0\r\n    [INFO] --------------------------------[ war ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-versions) @ addressbook ---\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ addressbook ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /var/lib/jenkins/workspace/scriptedpipeline/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ addressbook ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ addressbook ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ addressbook ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ addressbook ---\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running com.edurekademo.utilities.TestLogger\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-simple/1.7.7/slf4j-simple-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\r\n    [pool-1-thread-2] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage2(TestLogger.java:30)\r\n    Cause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [pool-1-thread-1] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage1(TestLogger.java:14)\r\n    Cause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [pool-1-thread-4] INFO com.edurekademo.utilities.TestLogger - java.io.IOException: TESTIOEXCEPTION\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doNothing(ExceptionThrower.java:18)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage4(TestLogger.java:60)\r\n    [pool-1-thread-3] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.getCounter(ExceptionThrower.java:13)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage3(TestLogger.java:45)\r\n    [pool-1-thread-5] ERROR com.edurekademo.utilities.ExceptionThrower - java.lang.Exception: DEAR\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doYYY(ExceptionThrower.java:35)\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doXXX(ExceptionThrower.java:23)\r\n    [pool-1-thread-5] INFO com.edurekademo.utilities.TestLogger - java.lang.Exception: TEST MESSAGE\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\r\n    ***** java.lang.Exception: TEST MESSAGE\r\n    Cause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\r\n    Cause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\r\n    Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in com.edurekademo.utilities.TestLogger\r\n    Running com.edurekademo.utilities.TestHexAsciiConversion\r\n    74657374696e6720617363696920636f6e76657274696f6e20696e746f2068657861646563696d616c\r\n    testing ascii convertion into hexadecimal\r\n    Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.edurekademo.utilities.TestHexAsciiConversion\r\n    Running com.edurekademo.utilities.TestGenericComparator\r\n    Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.edurekademo.utilities.TestGenericComparator\r\n    \r\n    Results :\r\n    \r\n    Tests run: 23, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:2.2:war (default-war) @ addressbook ---\r\n    [WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\r\n    com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n    \r\n    1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n      at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n      while locating org.apache.maven.plugin.war.WarMojo\r\n    \r\n    1 error\r\n        at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\r\n        at com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt; (PropertiesConverter.java:46)\r\n        at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:647)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:445)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:385)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:342)\r\n        at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n        at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:316)\r\n        at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:49)\r\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n        at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n        at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n        at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n        at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n        at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n        at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n        at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n        at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n        at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n        at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n        at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n        at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n        at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n        at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n        at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n        at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n        at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n        at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.680 s\r\n    [INFO] Finished at: 2022-09-28T16:24:30+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project addressbook: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.2&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.2\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.2/maven-war-plugin-2.2.jar\r\n    [ERROR] urls[1] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\n    [ERROR] urls[2] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\n    [ERROR] urls[3] = file:/var/lib/jenkins/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\n    [ERROR] urls[4] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\n    [ERROR] urls[5] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\n    [ERROR] urls[6] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-io/2.0.2/plexus-io-2.0.2.jar\r\n    [ERROR] urls[7] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-archiver/2.1/plexus-archiver-2.1.jar\r\n    [ERROR] urls[8] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\n    [ERROR] urls[9] = file:/var/lib/jenkins/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    [ERROR] urls[10] = file:/var/lib/jenkins/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\r\n    [ERROR] urls[11] = file:/var/lib/jenkins/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\n    [ERROR] urls[12] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-utils/3.0/plexus-utils-3.0.jar\r\n    [ERROR] urls[13] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR] \r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n\r\nThe POM file for the project is [here][1]. What exactly is going wrong?\r\n\r\n\r\n  [1]: https://github.com/redbilledpanda/DevOpsClassCodes/blob/master/pom.xml\r\n","title":"Building scripted Jenkins pipeline, error while packaging using Maven","body":"<p>I'm relatively new to DevOps in General as well as Java. Which makes debugging Maven and Jenkins all the more difficult for me.</p>\n<p>I am trying to create a scripted Jenkins pipeline for a Java project from the internet using the following script:</p>\n<pre><code>pipeline{\n    agent any\n    tools{\n        maven 'MAVEN_JENKINS'\n    }\n    stages{\n        stage(&quot;checkout from github&quot;){\n            steps{\n                git branch: 'master',\n                url:'https://github.com/redbilledpanda/DevOpsClassCodes.git'\n                echo 'pulled from github successfully'\n            }\n        }\n        stage(&quot;compile the code to executable format&quot;){\n            steps{\n                sh &quot;mvn compile&quot;\n                echo 'converted the code from human readable to machine readable '\n            }\n        }\n        stage(&quot;testing the code&quot;){\n            steps{\n                sh &quot;mvn test&quot;\n                echo 'run and execute the test cases written in selenium'\n            }\n        }\n        stage(&quot;code review to check quality of code&quot;){\n            steps{\n                sh &quot;mvn pmd:pmd&quot;\n                echo 'code review done'\n            }\n        }\n        stage(&quot;convert the code to package&quot;){\n            steps{\n                sh &quot;mvn clean package&quot;\n                echo 'convert the files to war file'\n            }\n        }\n    }\n}\n</code></pre>\n<p>The only section that fails is the packaging stage. Here is the entire log:</p>\n<pre><code>+ mvn package\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for com.edurekademo.tutorial:addressbook:war:2.0\n[WARNING] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 298, column 40\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] ----------------&lt; com.edurekademo.tutorial:addressbook &gt;----------------\n[INFO] Building Vaadin Addressbook example 2.0\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.0:enforce (enforce-versions) @ addressbook ---\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ addressbook ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /var/lib/jenkins/workspace/scriptedpipeline/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ addressbook ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ addressbook ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ addressbook ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ addressbook ---\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.edurekademo.utilities.TestLogger\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-simple/1.7.7/slf4j-simple-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/var/lib/jenkins/.m2/repository/org/slf4j/slf4j-log4j12/1.7.7/slf4j-log4j12-1.7.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\n[pool-1-thread-2] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage2(TestLogger.java:30)\nCause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[pool-1-thread-1] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage1(TestLogger.java:14)\nCause:at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[pool-1-thread-4] INFO com.edurekademo.utilities.TestLogger - java.io.IOException: TESTIOEXCEPTION\nCause:at com.edurekademo.utilities.ExceptionThrower.doNothing(ExceptionThrower.java:18)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage4(TestLogger.java:60)\n[pool-1-thread-3] INFO com.edurekademo.utilities.TestLogger - java.lang.ArithmeticException: / by zero\nCause:at com.edurekademo.utilities.ExceptionThrower.getCounter(ExceptionThrower.java:13)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage3(TestLogger.java:45)\n[pool-1-thread-5] ERROR com.edurekademo.utilities.ExceptionThrower - java.lang.Exception: DEAR\nCause:at com.edurekademo.utilities.ExceptionThrower.doYYY(ExceptionThrower.java:35)\nCause:at com.edurekademo.utilities.ExceptionThrower.doXXX(ExceptionThrower.java:23)\n[pool-1-thread-5] INFO com.edurekademo.utilities.TestLogger - java.lang.Exception: TEST MESSAGE\nCause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\n***** java.lang.Exception: TEST MESSAGE\nCause:at com.edurekademo.utilities.ExceptionThrower.doCheck(ExceptionThrower.java:43)\nCause:at com.edurekademo.utilities.TestLogger.testGetErrorMessage5(TestLogger.java:75)\nTests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec - in com.edurekademo.utilities.TestLogger\nRunning com.edurekademo.utilities.TestHexAsciiConversion\n74657374696e6720617363696920636f6e76657274696f6e20696e746f2068657861646563696d616c\ntesting ascii convertion into hexadecimal\nTests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec - in com.edurekademo.utilities.TestHexAsciiConversion\nRunning com.edurekademo.utilities.TestGenericComparator\nTests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in com.edurekademo.utilities.TestGenericComparator\n\nResults :\n\nTests run: 23, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] \n[INFO] --- maven-war-plugin:2.2:war (default-war) @ addressbook ---\n[WARNING] Error injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.ExceptionInInitializerError: Cannot access defaults field of Properties\n    at com.thoughtworks.xstream.converters.collections.PropertiesConverter.&lt;clinit&gt; (PropertiesConverter.java:46)\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:647)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:445)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:385)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:342)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:316)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:49)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.680 s\n[INFO] Finished at: 2022-09-28T16:24:30+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project addressbook: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.2' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: Cannot access defaults field of Properties\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.2\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.2/maven-war-plugin-2.2.jar\n[ERROR] urls[1] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\n[ERROR] urls[2] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\n[ERROR] urls[3] = file:/var/lib/jenkins/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\n[ERROR] urls[4] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\n[ERROR] urls[5] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\n[ERROR] urls[6] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-io/2.0.2/plexus-io-2.0.2.jar\n[ERROR] urls[7] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-archiver/2.1/plexus-archiver-2.1.jar\n[ERROR] urls[8] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\n[ERROR] urls[9] = file:/var/lib/jenkins/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[10] = file:/var/lib/jenkins/.m2/repository/com/thoughtworks/xstream/xstream/1.3.1/xstream-1.3.1.jar\n[ERROR] urls[11] = file:/var/lib/jenkins/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\n[ERROR] urls[12] = file:/var/lib/jenkins/.m2/repository/org/codehaus/plexus/plexus-utils/3.0/plexus-utils-3.0.jar\n[ERROR] urls[13] = file:/var/lib/jenkins/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>The POM file for the project is <a href=\"https://github.com/redbilledpanda/DevOpsClassCodes/blob/master/pom.xml\" rel=\"nofollow noreferrer\">here</a>. What exactly is going wrong?</p>\n"},{"tags":["java","arrays","regex"],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481176725,"creation_date":1481176725,"answer_id":41032721,"question_id":41032660,"body_markdown":"This regex will work for you (checks for a &quot;valid array&quot;) :\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;18,32,5,8,10&quot;;\r\n\t\tSystem.out.println(s.matches(&quot;(?!.*,$)(?!,.*$)(\\\\d+(?:,|$))+&quot;));\r\n\t}\r\n\r\nChecks and fails for:\r\n\r\n1. multiple continuous commas\r\n2. comma at beginning\r\n3. comma at end","title":"Regex for int Array","body":"<p>This regex will work for you (checks for a \"valid array\") :</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"18,32,5,8,10\";\n    System.out.println(s.matches(\"(?!.*,$)(?!,.*$)(\\\\d+(?:,|$))+\"));\n}\n</code></pre>\n\n<p>Checks and fails for:</p>\n\n<ol>\n<li>multiple continuous commas</li>\n<li>comma at beginning</li>\n<li>comma at end</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1481177187,"post_id":41032745,"comment_id":69272903,"body_markdown":"Yes. Now that I think about it, `\\\\d+(?:,\\\\d+)+` is indeed the right choice","body":"Yes. Now that I think about it, <code>\\\\d+(?:,\\\\d+)+</code> is indeed the right choice"},{"owner":{"account_id":3617313,"reputation":362,"user_id":3016853,"accept_rate":100,"display_name":"hacker"},"score":0,"creation_date":1481193297,"post_id":41032745,"comment_id":69281878,"body_markdown":"Hi @hwnd , this is failing for single value  like test = &quot;18&quot;","body":"Hi @hwnd , this is failing for single value  like test = &quot;18&quot;"},{"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"score":0,"creation_date":1481193375,"post_id":41032745,"comment_id":69281935,"body_markdown":"Change `+` to `*` ... `(?:,\\\\d+)*`","body":"Change <code>+</code> to <code>*</code> ... <code>(?:,\\\\d+)*</code>"}],"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1481177250,"creation_date":1481176804,"answer_id":41032745,"question_id":41032660,"body_markdown":"Use a group construct to specify that digits should be followed by (`,` digits) ...\r\n\r\n    \\\\d+(?:,\\\\d+)+","title":"Regex for int Array","body":"<p>Use a group construct to specify that digits should be followed by (<code>,</code> digits) ...</p>\n\n<pre><code>\\\\d+(?:,\\\\d+)+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8565841,"reputation":255,"user_id":6418343,"display_name":"sharad_kalya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481177389,"creation_date":1481177389,"answer_id":41032872,"question_id":41032660,"body_markdown":"Since I don&#39;t know how to use regex and if I were in your place then this would have been my way to do so\r\n\r\n    String test = &quot;18,32,5,8,10&quot;;\r\n    String str[]=test.split(&quot;,&quot;);\r\n\tint ar[] = new int[str.length];\r\n    for(int i = 0; i&lt;ar.length; i++){\r\n    \tar[i] = Integer.parseInt(str[i]);\r\n    }\r\n\r\nThe problem in this code if any I can see is this that call to parseInt() method must be wrapped in try-catch as it can throw NumberFormatException if your string contains value other than digit and comma(,).","title":"Regex for int Array","body":"<p>Since I don't know how to use regex and if I were in your place then this would have been my way to do so</p>\n\n<pre><code>String test = \"18,32,5,8,10\";\nString str[]=test.split(\",\");\nint ar[] = new int[str.length];\nfor(int i = 0; i&lt;ar.length; i++){\n    ar[i] = Integer.parseInt(str[i]);\n}\n</code></pre>\n\n<p>The problem in this code if any I can see is this that call to parseInt() method must be wrapped in try-catch as it can throw NumberFormatException if your string contains value other than digit and comma(,).</p>\n"},{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562931417,"creation_date":1562930881,"answer_id":57006085,"question_id":41032660,"body_markdown":"Regex for both array and single element \r\n\r\n`(\\d|\\[(\\d|,\\s*)*])`","title":"Regex for int Array","body":"<p>Regex for both array and single element </p>\n\n<p><code>(\\d|\\[(\\d|,\\s*)*])</code></p>\n"},{"tags":[],"owner":{"account_id":25723521,"reputation":31,"user_id":19480206,"display_name":"Diego Yednak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667078695,"creation_date":1667078695,"answer_id":74248940,"question_id":41032660,"body_markdown":"You can try\r\n\r\n    Pattern = &quot;^\\d+(,\\d+)*$&quot;\r\n\r\n    text = &quot;10,5,10&quot;    (TRUE)\r\n    text = &quot;10,5,10,&quot;   (FALSE)\r\n    text = &quot;10,5,10 &quot;   (FALSE)","title":"Regex for int Array","body":"<p>You can try</p>\n<pre><code>Pattern = &quot;^\\d+(,\\d+)*$&quot;\n\ntext = &quot;10,5,10&quot;    (TRUE)\ntext = &quot;10,5,10,&quot;   (FALSE)\ntext = &quot;10,5,10 &quot;   (FALSE)\n</code></pre>\n"}],"owner":{"account_id":3617313,"reputation":362,"user_id":3016853,"accept_rate":100,"display_name":"hacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41032745,"answer_count":5,"score":1,"last_activity_date":1667078695,"creation_date":1481176391,"question_id":41032660,"body_markdown":"I need to validate a string argument if it can be converted to an int Array.\r\n\r\n\r\n    String pattern = &quot;(\\\\d+[,])+&quot;;\r\n    String test = &quot;18,32,5,8,10&quot;;\r\n\r\n    test2.matches(pattern2) //returns false as i requires , in the end\r\n\r\nIs there any way to ignore last &#39; , &#39;\r\n","title":"Regex for int Array","body":"<p>I need to validate a string argument if it can be converted to an int Array.</p>\n\n<pre><code>String pattern = \"(\\\\d+[,])+\";\nString test = \"18,32,5,8,10\";\n\ntest2.matches(pattern2) //returns false as i requires , in the end\n</code></pre>\n\n<p>Is there any way to ignore last ' , '</p>\n"},{"tags":["java","file","nio","glob"],"answers":[{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1544520484,"post_id":53720655,"comment_id":94295539,"body_markdown":"Use a nullable `String` instead of a `StringBuilder`. That&#39;s less overhead and still accurte","body":"Use a nullable <code>String</code> instead of a <code>StringBuilder</code>. That&#39;s less overhead and still accurte"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1544520641,"post_id":53720655,"comment_id":94295630,"body_markdown":"How should this work? The `String` variable wouldn&#39;t be effective final anymore.","body":"How should this work? The <code>String</code> variable wouldn&#39;t be effective final anymore."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1544520856,"post_id":53720655,"comment_id":94295758,"body_markdown":"You&#39;re right. Maybe put an `AtomicReference` or use a `var wrapper = new Object() { Path reference; }` if you use Java 11+.","body":"You&#39;re right. Maybe put an <code>AtomicReference</code> or use a <code>var wrapper = new Object() { Path reference; }</code> if you use Java 11+."},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1544520984,"post_id":53720655,"comment_id":94295838,"body_markdown":"Do you think this would be more readable? Is this because you prefer return `null` instead of an empty `String` if no result is found?","body":"Do you think this would be more readable? Is this because you prefer return <code>null</code> instead of an empty <code>String</code> if no result is found?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1545408847,"post_id":53720655,"comment_id":94622254,"body_markdown":"Or `try(Stream&lt;Path&gt; stream = Files.find​(Paths.get(location), Integer.MAX_VALUE, (path,attr) -&gt; pathMatcher.matches​(path))) { return stream.findFirst().orElse(null); }`","body":"Or <code>try(Stream&lt;Path&gt; stream = Files.find​(Paths.get(location), Integer.MAX_VALUE, (path,attr) -&gt; pathMatcher.matches​(path))) { return stream.findFirst().orElse(null); }</code>"}],"tags":[],"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1547029633,"creation_date":1544519115,"answer_id":53720655,"question_id":53720374,"body_markdown":"There are two things to be changed:\r\n\r\nTo &quot;*find(first) file with given glob String*&quot; you need to finish walking the tree if you encounter the file, thus if a match is given. And you need to store the matching path as result. The result of `Files.walkFileTree` itself is the &quot;the starting file&quot; ([JavaDoc][1]). That&#39;s a `Path` pointing to the `location`.\r\n\r\n\r\n    public static String match(String glob, String location) throws IOException {\r\n        StringBuilder result = new StringBuilder();\r\n        PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n            @Override\r\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n                if (pathMatcher.matches(path)) {\r\n                    result.append(path.toString());\r\n                    return FileVisitResult.TERMINATE;\r\n                }\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n\r\n        return result.toString();\r\n    }\r\n\r\nIf there is no match then the resulting `String` is empty.\r\n\r\nEDIT:  \r\nUsing `Files.walk` we can implement the search with less code still using a glob expression based matcher:\r\n\r\n    public static Optional&lt;Path&gt; match(String glob, String location) throws IOException {\r\n        PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n        return Files.walk(Paths.get(location)).filter(pathMatcher::matches).findFirst();\r\n    }\r\n\r\nThe `Optional` as result shows that there may be no match.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)\r\n","title":"Java NIO Search file in a directory","body":"<p>There are two things to be changed:</p>\n\n<p>To \"<em>find(first) file with given glob String</em>\" you need to finish walking the tree if you encounter the file, thus if a match is given. And you need to store the matching path as result. The result of <code>Files.walkFileTree</code> itself is the \"the starting file\" (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)\" rel=\"nofollow noreferrer\">JavaDoc</a>). That's a <code>Path</code> pointing to the <code>location</code>.</p>\n\n<pre><code>public static String match(String glob, String location) throws IOException {\n    StringBuilder result = new StringBuilder();\n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n        @Override\n        public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n            if (pathMatcher.matches(path)) {\n                result.append(path.toString());\n                return FileVisitResult.TERMINATE;\n            }\n            return FileVisitResult.CONTINUE;\n        }\n    });\n\n    return result.toString();\n}\n</code></pre>\n\n<p>If there is no match then the resulting <code>String</code> is empty.</p>\n\n<p>EDIT:<br>\nUsing <code>Files.walk</code> we can implement the search with less code still using a glob expression based matcher:</p>\n\n<pre><code>public static Optional&lt;Path&gt; match(String glob, String location) throws IOException {\n    PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    return Files.walk(Paths.get(location)).filter(pathMatcher::matches).findFirst();\n}\n</code></pre>\n\n<p>The <code>Optional</code> as result shows that there may be no match.</p>\n"},{"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1544519627,"post_id":53720687,"comment_id":94295014,"body_markdown":"I&#39;m not sure what you expect `{prop*}` to do but I&#39;d avoid mixing the `{alt1,alt2,...}` syntax with wildcards. I just tested it under `bash` and the inner wildcard isn&#39;t expanded but rather understood as a literal `*`. I haven&#39;t tested with Java so it might just work, but you&#39;d be at least sure to confuse people familiar with linux","body":"I&#39;m not sure what you expect <code>{prop*}</code> to do but I&#39;d avoid mixing the <code>{alt1,alt2,...}</code> syntax with wildcards. I just tested it under <code>bash</code> and the inner wildcard isn&#39;t expanded but rather understood as a literal <code>*</code>. I haven&#39;t tested with Java so it might just work, but you&#39;d be at least sure to confuse people familiar with linux"},{"owner":{"account_id":2822251,"reputation":1914,"user_id":2425755,"display_name":"Akceptor"},"score":0,"creation_date":1544519730,"post_id":53720687,"comment_id":94295070,"body_markdown":"@Aaron used it to look for properties in Windows. Not sure about bash but you are right, better to edit to avoid potential troubles","body":"@Aaron used it to look for properties in Windows. Not sure about bash but you are right, better to edit to avoid potential troubles"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1544519867,"post_id":53720687,"comment_id":94295142,"body_markdown":"Also, the OP wants to *return* a string. Could you put the `found` in the `match` method and return it at the end of the method, making the `void`-returning method a `Path`-returning method?","body":"Also, the OP wants to <i>return</i> a string. Could you put the <code>found</code> in the <code>match</code> method and return it at the end of the method, making the <code>void</code>-returning method a <code>Path</code>-returning method?"}],"tags":[],"owner":{"account_id":2822251,"reputation":1914,"user_id":2425755,"display_name":"Akceptor"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544519870,"creation_date":1544519273,"answer_id":53720687,"question_id":53720374,"body_markdown":"Based on your own code. Just stop traversing once found some match\r\n\r\n    public class Main {\r\n    \r\n    \tprivate static Path found = &quot;nothing&quot;; // First file found\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString glob = &quot;glob:**.{java}&quot;; //pattern to look for\r\n            String location = &quot;D:\\\\&quot;; //where to search\r\n    \t\tmatch(location, glob);\r\n    \t\tSystem.out.println(&quot;Found: &quot; + found);\r\n    \t}\r\n    \r\n    \tpublic static void match(String location, String glob) throws IOException {\r\n    \r\n    \t\tfinal PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n    \r\n    \t\tFiles.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\tif (pathMatcher.matches(path)) {\r\n    \t\t\t\t\tfound = path; // Match found, stop traversal\r\n    \t\t\t\t\treturn FileVisitResult.TERMINATE;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nOr you can populate collection saving all the files matching the pattern","title":"Java NIO Search file in a directory","body":"<p>Based on your own code. Just stop traversing once found some match</p>\n\n<pre><code>public class Main {\n\n    private static Path found = \"nothing\"; // First file found\n\n    public static void main(String[] args) throws IOException {\n        String glob = \"glob:**.{java}\"; //pattern to look for\n        String location = \"D:\\\\\"; //where to search\n        match(location, glob);\n        System.out.println(\"Found: \" + found);\n    }\n\n    public static void match(String location, String glob) throws IOException {\n\n        final PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n                if (pathMatcher.matches(path)) {\n                    found = path; // Match found, stop traversal\n                    return FileVisitResult.TERMINATE;\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Or you can populate collection saving all the files matching the pattern</p>\n"},{"tags":[],"owner":{"account_id":4560293,"reputation":751,"user_id":3702839,"display_name":"Joao Esperancinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544529644,"creation_date":1544529644,"answer_id":53723780,"question_id":53720374,"body_markdown":"I don&#39;t know if this example could help you further, but it seems like you would need your own custom file visitor. Here is an alternative solution:\r\n\r\n    package com.jesperancinha.files;\r\n    \r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.PathMatcher;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class GlobFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\r\n    \tprivate final PathMatcher pathMatcher;\r\n    \r\n    \tprivate Path path;\r\n    \r\n    \tpublic GlobFileVisitor(String glob) {\r\n    \t\tthis.pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\r\n    \t\tif (pathMatcher.matches(path)) {\r\n    \t\t\tthis.path = path;\r\n    \t\t\treturn FileVisitResult.TERMINATE;\r\n    \t\t}\r\n    \t\treturn FileVisitResult.CONTINUE;\r\n    \t}\r\n    \r\n    \tpublic Path getFoundPath() {\r\n    \t\treturn path;\r\n    \t}\r\n    }\r\n\r\nAnd this is another possibility for your running example:\r\n\r\n    package com.jesperancinha.files;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class FileFinder {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString glob = &quot;glob:**.{java}&quot;;\r\n    \t\tString location = &quot;/Users/joao/dev/src/jesperancinha&quot;;\r\n    \t\tPath found = match(location, glob);\r\n    \t\tSystem.out.println(&quot;Found: &quot; + found);\r\n    \t}\r\n    \r\n    \tpublic static Path match(String location, String glob) throws IOException {\r\n    \t\tGlobFileVisitor globFileVisitor = new GlobFileVisitor(glob);\r\n    \t\tFiles.walkFileTree(Paths.get(location), globFileVisitor);\r\n    \t\treturn globFileVisitor.getFoundPath();\r\n    \t}\r\n    }\r\n\r\n","title":"Java NIO Search file in a directory","body":"<p>I don't know if this example could help you further, but it seems like you would need your own custom file visitor. Here is an alternative solution:</p>\n\n<pre><code>package com.jesperancinha.files;\n\nimport java.nio.file.FileSystems;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Path;\nimport java.nio.file.PathMatcher;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class GlobFileVisitor extends SimpleFileVisitor&lt;Path&gt; {\n    private final PathMatcher pathMatcher;\n\n    private Path path;\n\n    public GlobFileVisitor(String glob) {\n        this.pathMatcher = FileSystems.getDefault().getPathMatcher(glob);\n    }\n\n    @Override\n    public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\n        if (pathMatcher.matches(path)) {\n            this.path = path;\n            return FileVisitResult.TERMINATE;\n        }\n        return FileVisitResult.CONTINUE;\n    }\n\n    public Path getFoundPath() {\n        return path;\n    }\n}\n</code></pre>\n\n<p>And this is another possibility for your running example:</p>\n\n<pre><code>package com.jesperancinha.files;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class FileFinder {\n    public static void main(String[] args) throws IOException {\n        String glob = \"glob:**.{java}\";\n        String location = \"/Users/joao/dev/src/jesperancinha\";\n        Path found = match(location, glob);\n        System.out.println(\"Found: \" + found);\n    }\n\n    public static Path match(String location, String glob) throws IOException {\n        GlobFileVisitor globFileVisitor = new GlobFileVisitor(glob);\n        Files.walkFileTree(Paths.get(location), globFileVisitor);\n        return globFileVisitor.getFoundPath();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653039,"reputation":599,"user_id":7775861,"accept_rate":50,"display_name":"Kyle Berezin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077925,"creation_date":1667077925,"answer_id":74248866,"question_id":53720374,"body_markdown":"These answers will all work, but the intended way to search for files with NIO is `Files.Find` with a `BiPreicate&lt;Path,BasicFileAttributes&gt;`.\r\n\r\n    PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.txt&quot;);\r\n    Stream&lt;Path&gt; stream = Files.find(\r\n            Paths.get(&quot;/dirToSearch&quot;),\r\n            1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\r\n            (path, basicFileAttributes) -&gt;  matcher.matches(path)\r\n    );\r\n    // The stream is lazily populated\r\n    Path firstMatch = stream.findFirst().get();","title":"Java NIO Search file in a directory","body":"<p>These answers will all work, but the intended way to search for files with NIO is <code>Files.Find</code> with a <code>BiPreicate&lt;Path,BasicFileAttributes&gt;</code>.</p>\n<pre><code>PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.txt&quot;);\nStream&lt;Path&gt; stream = Files.find(\n        Paths.get(&quot;/dirToSearch&quot;),\n        1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\n        (path, basicFileAttributes) -&gt;  matcher.matches(path)\n);\n// The stream is lazily populated\nPath firstMatch = stream.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":12352374,"reputation":721,"user_id":10428123,"display_name":"Keryanie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4424,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53720655,"answer_count":4,"score":5,"last_activity_date":1667077925,"creation_date":1544517991,"question_id":53720374,"body_markdown":"I want to search a file(without knowing the full name) in a specific directory using Java NIO and glob. \r\n\r\n    public static void match(String glob, String location) throws IOException {\r\n    \t\r\n    \t\tfinal PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(\r\n    \t\t\t\tglob);\r\n    \t\t\r\n    \t\tFiles.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path,\r\n    \t\t\t\t\tBasicFileAttributes attrs) throws IOException {\r\n    \t\t\t\tif (pathMatcher.matches(path)) {\r\n    \t\t\t\t\tSystem.out.println(path);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\nReading some tutorial I did this. I just want to return string if I find(first) file with given glob String. \r\n\r\n    if (pathMatcher.matches(path)) {\r\n        return path.toString();\r\n    }\r\n\r\n","title":"Java NIO Search file in a directory","body":"<p>I want to search a file(without knowing the full name) in a specific directory using Java NIO and glob. </p>\n\n<pre><code>public static void match(String glob, String location) throws IOException {\n\n        final PathMatcher pathMatcher = FileSystems.getDefault().getPathMatcher(\n                glob);\n\n        Files.walkFileTree(Paths.get(location), new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path path,\n                    BasicFileAttributes attrs) throws IOException {\n                if (pathMatcher.matches(path)) {\n                    System.out.println(path);\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n</code></pre>\n\n<p>Reading some tutorial I did this. I just want to return string if I find(first) file with given glob String. </p>\n\n<pre><code>if (pathMatcher.matches(path)) {\n    return path.toString();\n}\n</code></pre>\n"},{"tags":["java","boolean","boolean-logic","boolean-expression"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667041329,"post_id":74244690,"comment_id":131079755,"body_markdown":"Looking at the above example, it looks like you have to write a parser.","body":"Looking at the above example, it looks like you have to write a parser."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667041938,"post_id":74244690,"comment_id":131079845,"body_markdown":"Look at a tool like Lucene.","body":"Look at a tool like Lucene."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667077776,"creation_date":1667077776,"answer_id":74248851,"question_id":74244690,"body_markdown":"This may not be an overall solution but it might give you a step towards that goal. The method below will try to parse and validate the supplied custom expressions you described in your post. If the supplied expression is valid the components of that supplied expression is returned within a String[] Array. If the returned String[] Array is null then the supplied expression is found to be invalid. An Invalid expression will also display an error message within the console window explaining why that expression is invalid. Be sure to read the comments in code:\r\n\r\n    /**\r\n     * Custom Expression Parser/Validator:\r\n     * \r\n     * If the supplied expression is valid whereas it meets the guidelines within \r\n     * the code, then return a String[] Array containing the components of that \r\n     * expression. If the expression is found to be invalid then a warning message \r\n     * is displayed to the Console Window explaining the problem and null is returned.\r\n     * \r\n     * @param expressionString (String) The expression to validate.&lt;br&gt;\r\n     * \r\n     * @return (String[] Array) Returns null if the expression is found invalid \r\n     * otherwise the returned String Array will contain the components of the \r\n     * expression. Process these returned expression components as you see fit.\r\n     */\r\n    public String[] isExpressionValid(String expressionString) {\r\n        // List to hold expression components.\r\n        List&lt;String&gt; expressionList = new ArrayList&lt;&gt;();\r\n        \r\n        // If the expression string is null or empty then return null.\r\n        if (expressionString == null || expressionString.isEmpty()) {\r\n            return null;\r\n        }\r\n        \r\n        // Are the brackets proper in the expression?\r\n        Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;&gt;();\r\n        openClosePair.put(&#39;)&#39;, &#39;(&#39;);\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        for (char ch : expressionString.toCharArray()) {\r\n            if (openClosePair.containsKey(ch)) {\r\n                if (stack.isEmpty() || !Objects.equals(stack.pop(), openClosePair.get(ch))) {\r\n                    break;\r\n                }\r\n            }\r\n            else if (openClosePair.values().contains(ch)) {\r\n                stack.push(ch);\r\n            }\r\n        }\r\n        if (!stack.isEmpty()) {\r\n            System.err.println(&quot;Invalid Expression! [&quot; + expressionString + &quot;] -  Parentheses Mismatch!&quot;);\r\n            return null;\r\n        }\r\n        \r\n        /* Parentheses are valid so now remove them to validate \r\n           the data within the parentheses.    */\r\n        expressionString = expressionString.replaceAll(&quot;[\\\\(\\\\)]&quot;, &quot;&quot;);\r\n        \r\n        /* Is &amp;, !, or | within the expression? If so, is it proper?\r\n           If there are consecutive `same` operators (ie: &quot;&amp;&amp;&amp;&quot;) then\r\n           convert them to a single operator (ie: &quot;&amp;&quot;).        */\r\n        expressionString = expressionString.replaceAll(&quot;[&amp;]{2,}&quot;, &quot;&amp;&quot;)\r\n                .replaceAll(&quot;[|]{2,}&quot;, &quot;|&quot;). replaceAll(&quot;[!]{2,}&quot;, &quot;!&quot;);\r\n        \r\n        // Add whatever you feel would be invalid...\r\n        String[] invalidOperators = {&quot;&amp;|&quot;, &quot;|&amp;&quot;, &quot;!|&quot;, &quot;!&amp;&quot;, &quot;!&amp;|&quot;, &quot;!|&amp;&quot;, \r\n                                     &quot;&amp;!|&quot;, &quot;&amp;|!&quot;, &quot;|!&amp;&quot;, &quot;|&amp;!&quot;};\r\n        // Make sure of valid operator use.\r\n        for (String op : invalidOperators) {\r\n            if (expressionString.contains(op)) {\r\n                System.err.println(&quot;Invalid Logical Operator Configuruation [&quot; + \r\n                                   op + &quot;] Within Expression!&quot;);\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        /* Split the expression on delimiters &#39;&amp;&#39; or &#39;|&#39; but \r\n           also add the delimiter to the generated array: */\r\n        String regEx = &quot;((?&lt;=\\\\Q&amp;\\\\E)|(?=\\\\Q&amp;\\\\E))|&quot;\r\n                     + &quot;((?&lt;=\\\\Q|\\\\E)|(?=\\\\Q|\\\\E))&quot;;\r\n        String[] expParts = expressionString.split(regEx);\r\n        String exp;\r\n        for (int i = 0; i &lt; expParts.length; i++) {\r\n            exp = expParts[i].trim();  // Remove leading/trailing whitespaces.\r\n            // Is the element a non-numerical value?\r\n            if (!exp.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; !exp.matches(&quot;[!\\\\|&amp;]&quot;)) {\r\n                // This element must be alpha or alphanumeric. \r\n                /* Is there a whitespace in it? If so, is it wrapped in quote marks? \r\n                   If not then this is invalid.                */\r\n                if (exp.contains(&quot; &quot;) &amp;&amp; ((!exp.startsWith(&quot;!\\&quot;&quot;) || !exp.startsWith(&quot;\\&quot;&quot;)) &amp;&amp; !exp.endsWith(&quot;\\&quot;&quot;))) {\r\n                    System.err.println(&quot;Invalid String [&quot; + exp + &quot;] Within Expression!&quot; \r\n                            + System.lineSeparator() + &quot;Because this portion of the expression &quot;\r\n                            + &quot;contains at least one whitespace,&quot; + System.lineSeparator() \r\n                            + &quot;it should be wrapped within quotation marks excluding any Logical Operator&quot; \r\n                            + System.lineSeparator() + &quot;located at the beginning.&quot;);\r\n                    return null;\r\n                }\r\n            }\r\n            /* Does the expression start with or end with a Logical Operator &#39;&amp;&#39; or &#39;|&#39;? \r\n               This is considered invalid.            */\r\n            if ((i == 0 || i == expParts.length - 1) &amp;&amp; (exp.equals(&quot;&amp;&quot;) || exp.equals(&quot;|&quot;))) {\r\n                System.err.println(&quot;Invalid Logical Operator Location! [&quot; + expressionString + &quot;]&quot;\r\n                            + System.lineSeparator() + &quot;The expression can not start with or end &quot;\r\n                            + &quot;with a &#39;&amp;&#39; or &#39;|&#39; operator!&quot;);\r\n                return null;        \r\n            }\r\n            \r\n            // Add the expresion component to the List\r\n            expressionList.add(exp);\r\n        }\r\n        \r\n        // Convert the List to a String[] Array and return.\r\n        return expressionList.toArray(new String[expressionList.size()]);\r\n    }\r\n\r\nHow you might use the above method would be something like this: \r\n\r\n    String expression = &quot;(footballer football !| basket)(&quot;;\r\n        \r\n    String[] expressionParts = isExpressionValid(expression);\r\n\r\n    if (expressionParts != null) {\r\n        // Display the components of the supplied expression:\r\n        System.out.println(Arrays.toString(expressionParts));\r\n    }\r\n\r\n","title":"How can I validate a boolean string input in java","body":"<p>This may not be an overall solution but it might give you a step towards that goal. The method below will try to parse and validate the supplied custom expressions you described in your post. If the supplied expression is valid the components of that supplied expression is returned within a String[] Array. If the returned String[] Array is null then the supplied expression is found to be invalid. An Invalid expression will also display an error message within the console window explaining why that expression is invalid. Be sure to read the comments in code:</p>\n<pre><code>/**\n * Custom Expression Parser/Validator:\n * \n * If the supplied expression is valid whereas it meets the guidelines within \n * the code, then return a String[] Array containing the components of that \n * expression. If the expression is found to be invalid then a warning message \n * is displayed to the Console Window explaining the problem and null is returned.\n * \n * @param expressionString (String) The expression to validate.&lt;br&gt;\n * \n * @return (String[] Array) Returns null if the expression is found invalid \n * otherwise the returned String Array will contain the components of the \n * expression. Process these returned expression components as you see fit.\n */\npublic String[] isExpressionValid(String expressionString) {\n    // List to hold expression components.\n    List&lt;String&gt; expressionList = new ArrayList&lt;&gt;();\n    \n    // If the expression string is null or empty then return null.\n    if (expressionString == null || expressionString.isEmpty()) {\n        return null;\n    }\n    \n    // Are the brackets proper in the expression?\n    Map&lt;Character, Character&gt; openClosePair = new HashMap&lt;&gt;();\n    openClosePair.put(')', '(');\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    for (char ch : expressionString.toCharArray()) {\n        if (openClosePair.containsKey(ch)) {\n            if (stack.isEmpty() || !Objects.equals(stack.pop(), openClosePair.get(ch))) {\n                break;\n            }\n        }\n        else if (openClosePair.values().contains(ch)) {\n            stack.push(ch);\n        }\n    }\n    if (!stack.isEmpty()) {\n        System.err.println(&quot;Invalid Expression! [&quot; + expressionString + &quot;] -  Parentheses Mismatch!&quot;);\n        return null;\n    }\n    \n    /* Parentheses are valid so now remove them to validate \n       the data within the parentheses.    */\n    expressionString = expressionString.replaceAll(&quot;[\\\\(\\\\)]&quot;, &quot;&quot;);\n    \n    /* Is &amp;, !, or | within the expression? If so, is it proper?\n       If there are consecutive `same` operators (ie: &quot;&amp;&amp;&amp;&quot;) then\n       convert them to a single operator (ie: &quot;&amp;&quot;).        */\n    expressionString = expressionString.replaceAll(&quot;[&amp;]{2,}&quot;, &quot;&amp;&quot;)\n            .replaceAll(&quot;[|]{2,}&quot;, &quot;|&quot;). replaceAll(&quot;[!]{2,}&quot;, &quot;!&quot;);\n    \n    // Add whatever you feel would be invalid...\n    String[] invalidOperators = {&quot;&amp;|&quot;, &quot;|&amp;&quot;, &quot;!|&quot;, &quot;!&amp;&quot;, &quot;!&amp;|&quot;, &quot;!|&amp;&quot;, \n                                 &quot;&amp;!|&quot;, &quot;&amp;|!&quot;, &quot;|!&amp;&quot;, &quot;|&amp;!&quot;};\n    // Make sure of valid operator use.\n    for (String op : invalidOperators) {\n        if (expressionString.contains(op)) {\n            System.err.println(&quot;Invalid Logical Operator Configuruation [&quot; + \n                               op + &quot;] Within Expression!&quot;);\n            return null;\n        }\n    }\n    \n    /* Split the expression on delimiters '&amp;' or '|' but \n       also add the delimiter to the generated array: */\n    String regEx = &quot;((?&lt;=\\\\Q&amp;\\\\E)|(?=\\\\Q&amp;\\\\E))|&quot;\n                 + &quot;((?&lt;=\\\\Q|\\\\E)|(?=\\\\Q|\\\\E))&quot;;\n    String[] expParts = expressionString.split(regEx);\n    String exp;\n    for (int i = 0; i &lt; expParts.length; i++) {\n        exp = expParts[i].trim();  // Remove leading/trailing whitespaces.\n        // Is the element a non-numerical value?\n        if (!exp.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; !exp.matches(&quot;[!\\\\|&amp;]&quot;)) {\n            // This element must be alpha or alphanumeric. \n            /* Is there a whitespace in it? If so, is it wrapped in quote marks? \n               If not then this is invalid.                */\n            if (exp.contains(&quot; &quot;) &amp;&amp; ((!exp.startsWith(&quot;!\\&quot;&quot;) || !exp.startsWith(&quot;\\&quot;&quot;)) &amp;&amp; !exp.endsWith(&quot;\\&quot;&quot;))) {\n                System.err.println(&quot;Invalid String [&quot; + exp + &quot;] Within Expression!&quot; \n                        + System.lineSeparator() + &quot;Because this portion of the expression &quot;\n                        + &quot;contains at least one whitespace,&quot; + System.lineSeparator() \n                        + &quot;it should be wrapped within quotation marks excluding any Logical Operator&quot; \n                        + System.lineSeparator() + &quot;located at the beginning.&quot;);\n                return null;\n            }\n        }\n        /* Does the expression start with or end with a Logical Operator '&amp;' or '|'? \n           This is considered invalid.            */\n        if ((i == 0 || i == expParts.length - 1) &amp;&amp; (exp.equals(&quot;&amp;&quot;) || exp.equals(&quot;|&quot;))) {\n            System.err.println(&quot;Invalid Logical Operator Location! [&quot; + expressionString + &quot;]&quot;\n                        + System.lineSeparator() + &quot;The expression can not start with or end &quot;\n                        + &quot;with a '&amp;' or '|' operator!&quot;);\n            return null;        \n        }\n        \n        // Add the expresion component to the List\n        expressionList.add(exp);\n    }\n    \n    // Convert the List to a String[] Array and return.\n    return expressionList.toArray(new String[expressionList.size()]);\n}\n</code></pre>\n<p>How you might use the above method would be something like this:</p>\n<pre><code>String expression = &quot;(footballer football !| basket)(&quot;;\n    \nString[] expressionParts = isExpressionValid(expression);\n\nif (expressionParts != null) {\n    // Display the components of the supplied expression:\n    System.out.println(Arrays.toString(expressionParts));\n}\n</code></pre>\n"}],"owner":{"account_id":26768129,"reputation":3,"user_id":20364956,"display_name":"Yisus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74248851,"answer_count":1,"score":-3,"last_activity_date":1667077776,"creation_date":1667040826,"question_id":74244690,"body_markdown":"I&#39;ve been fighting with this problem and haven&#39;t found a solution. I have to validate the syntax of a boolean string expression so I can use it to find words or sentences in a document. For example, (footballer football !| basket)( should be incorrect because footballer and football are separated and should be between &quot;&quot; , and also because of the incorrect parenthesis and the ! |that makes no sense. But (&quot;footballer football&quot; | ! basket) should be correct. It is a simple bool expression so I can use &amp;,!, |, ()... \r\nAny idea? \r\n\r\nI&#39;ve tried to iterate over the string trying to validate every single character but I can&#39;t get to the final solution. ","title":"How can I validate a boolean string input in java","body":"<p>I've been fighting with this problem and haven't found a solution. I have to validate the syntax of a boolean string expression so I can use it to find words or sentences in a document. For example, (footballer football !| basket)( should be incorrect because footballer and football are separated and should be between &quot;&quot; , and also because of the incorrect parenthesis and the ! |that makes no sense. But (&quot;footballer football&quot; | ! basket) should be correct. It is a simple bool expression so I can use &amp;,!, |, ()...\nAny idea?</p>\n<p>I've tried to iterate over the string trying to validate every single character but I can't get to the final solution.</p>\n"},{"tags":["java","android","inflate-exception"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667070821,"post_id":74248115,"comment_id":131085665,"body_markdown":"Could you edit your question and post the entire stack trace?","body":"Could you edit your question and post the entire stack trace?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667071661,"post_id":74248115,"comment_id":131085826,"body_markdown":"Are you sure that this is the XML element that is triggering the problem? The error seems to be complaining about a string resource, but this element does not use one.","body":"Are you sure that this is the XML element that is triggering the problem? The error seems to be complaining about a string resource, but this element does not use one."},{"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"score":0,"creation_date":1667077302,"post_id":74248115,"comment_id":131086762,"body_markdown":"Yes, this occurs in both my RegisterActivity and in my LoginActivity.","body":"Yes, this occurs in both my RegisterActivity and in my LoginActivity."}],"answers":[{"tags":[],"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077473,"creation_date":1667077473,"answer_id":74248823,"question_id":74248115,"body_markdown":"@CommonsWare, this ***&quot;The error seems to be complaining about a string resource&quot;*** actually gave me an idea. I changed my TextViews and Buttons to use strings from the strings file rather than adding them directly. \r\n\r\nandroid:text=&quot;Login&quot;\r\n**TO:**\r\nandroid:text=&quot;@string/login&quot;\r\n\r\nProblem solved!! \r\nThanks for pointing String resource out:)","title":"Error inflating Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView","body":"<p>@CommonsWare, this <em><strong>&quot;The error seems to be complaining about a string resource&quot;</strong></em> actually gave me an idea. I changed my TextViews and Buttons to use strings from the strings file rather than adding them directly.</p>\n<p>android:text=&quot;Login&quot;\n<strong>TO:</strong>\nandroid:text=&quot;@string/login&quot;</p>\n<p>Problem solved!!\nThanks for pointing String resource out:)</p>\n"}],"owner":{"account_id":23985355,"reputation":21,"user_id":17972234,"display_name":"Ralph Botes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667077473,"creation_date":1667070735,"question_id":74248115,"body_markdown":"Running app on Android version 7.1.1 device. Was working perfectly then suddenly I got this inflation exception error.\r\n\r\n**XML file:**\r\n```\r\n&lt;com.google.android.material.textview.MaterialTextView\r\n    android:id=&quot;@+id/titleLogin&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:fontFamily=&quot;sans-serif&quot;\r\n    android:paddingStart=&quot;20dp&quot;\r\n    android:paddingTop=&quot;20dp&quot;\r\n    android:paddingBottom=&quot;10dp&quot;\r\n    android:text=&quot;Login&quot;\r\n    android:textColor=&quot;@color/black&quot;\r\n    android:textSize=&quot;34sp&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n    app:layout_constraintVertical_bias=&quot;0&quot;\r\n    app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\r\n```\r\n\r\n**Logcat:**\r\n\r\n```\r\nCaused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n```\r\n\r\n\r\n\r\nI tried changing MaterialTextView to TextView, did not work.\r\n\r\nAs I don&#39;t have any drawable or layouts imported I don&#39;t know why the problem is there. As I said, was working fine one moment and crashed the next. \r\n\r\nDoes the same with a button as well...\r\n\r\n**Stack trace:**\r\n\r\n```\r\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.poweredbyralph.southernlines, PID: 12386\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.poweredbyralph.southernlines/com.poweredbyralph.southernlines.LoginActivity}: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2798)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.poweredbyralph.southernlines.LoginActivity.onCreate(LoginActivity.java:39)\r\n        at android.app.Activity.performCreate(Activity.java:6681)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2751)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:203)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\r\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=56; index=930\r\n        at android.content.res.StringBlock.get(StringBlock.java:65)\r\n        at android.content.res.XmlBlock$Parser.getPooledString(XmlBlock.java:458)\r\n        at android.content.res.TypedArray.loadStringValueAt(TypedArray.java:1218)\r\n        at android.content.res.TypedArray.getText(TypedArray.java:168)\r\n        at android.widget.TextView.&lt;init&gt;(TextView.java:1028)\r\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime:     at android.widget.TextView.&lt;init&gt;(TextView.java:731)\r\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\r\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\r\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\r\n        \t... 31 more\r\n```","title":"Error inflating Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView","body":"<p>Running app on Android version 7.1.1 device. Was working perfectly then suddenly I got this inflation exception error.</p>\n<p><strong>XML file:</strong></p>\n<pre><code>&lt;com.google.android.material.textview.MaterialTextView\n    android:id=&quot;@+id/titleLogin&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:fontFamily=&quot;sans-serif&quot;\n    android:paddingStart=&quot;20dp&quot;\n    android:paddingTop=&quot;20dp&quot;\n    android:paddingBottom=&quot;10dp&quot;\n    android:text=&quot;Login&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;34sp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0&quot;\n    app:layout_constraintWidth_percent=&quot;.8&quot; /&gt;\n</code></pre>\n<p><strong>Logcat:</strong></p>\n<pre><code>Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: java.lang.reflect.InvocationTargetException\n</code></pre>\n<p>I tried changing MaterialTextView to TextView, did not work.</p>\n<p>As I don't have any drawable or layouts imported I don't know why the problem is there. As I said, was working fine one moment and crashed the next.</p>\n<p>Does the same with a button as well...</p>\n<p><strong>Stack trace:</strong></p>\n<pre><code>2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.poweredbyralph.southernlines, PID: 12386\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.poweredbyralph.southernlines/com.poweredbyralph.southernlines.LoginActivity}: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2798)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:203)\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\n     Caused by: android.view.InflateException: Binary XML file line #53: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: android.view.InflateException: Binary XML file line #53: Error inflating class com.google.android.material.textview.MaterialTextView\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.poweredbyralph.southernlines.LoginActivity.onCreate(LoginActivity.java:39)\n        at android.app.Activity.performCreate(Activity.java:6681)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2751)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2863)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:203)\n        at android.app.ActivityThread.main(ActivityThread.java:6410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1084)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:945)\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=56; index=930\n        at android.content.res.StringBlock.get(StringBlock.java:65)\n        at android.content.res.XmlBlock$Parser.getPooledString(XmlBlock.java:458)\n        at android.content.res.TypedArray.loadStringValueAt(TypedArray.java:1218)\n        at android.content.res.TypedArray.getText(TypedArray.java:168)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:1028)\n2022-10-29 21:16:00.512 12386-12386/com.poweredbyralph.southernlines E/AndroidRuntime:     at android.widget.TextView.&lt;init&gt;(TextView.java:731)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:88)\n        at com.google.android.material.textview.MaterialTextView.&lt;init&gt;(MaterialTextView.java:83)\n            ... 31 more\n</code></pre>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1430949366,"post_id":30088245,"comment_id":48289731,"body_markdown":"Have you read [Finding Files](https://docs.oracle.com/javase/tutorial/essential/io/find.html)?","body":"Have you read <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">Finding Files</a>?"},{"owner":{"account_id":3939215,"reputation":9255,"user_id":3254377,"display_name":"wsl"},"score":0,"creation_date":1430949413,"post_id":30088245,"comment_id":48289756,"body_markdown":"See http://stackoverflow.com/questions/20443793/allow-wildcards-to-search-for-subdirectories-from-a-parent-directory. It should help you in constructing right code for that.","body":"See <a href=\"http://stackoverflow.com/questions/20443793/allow-wildcards-to-search-for-subdirectories-from-a-parent-directory\" title=\"allow wildcards to search for subdirectories from a parent directory\">stackoverflow.com/questions/20443793/&hellip;</a>. It should help you in constructing right code for that."}],"answers":[{"tags":[],"owner":{"account_id":49618,"reputation":2174,"user_id":147808,"accept_rate":100,"display_name":"olovb"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430957401,"creation_date":1430952751,"answer_id":30089043,"question_id":30088245,"body_markdown":"You could use a [directory stream](http://docs.oracle.com/javase/7/docs/api/java/nio/file/DirectoryStream.html) with a [glob](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path,%20java.lang.String%29) like:\r\n\r\n    DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, identifier+&quot;.*&quot;)\r\n\r\nand then iterate the file paths:\r\n\r\n    for (Path entry: stream) {\r\n    }","title":"Java 7 nio list directory with wildcard","body":"<p>You could use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/DirectoryStream.html\" rel=\"noreferrer\">directory stream</a> with a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path,%20java.lang.String%29\" rel=\"noreferrer\">glob</a> like:</p>\n\n<pre><code>DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir, identifier+\".*\")\n</code></pre>\n\n<p>and then iterate the file paths:</p>\n\n<pre><code>for (Path entry: stream) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1312755,"reputation":1752,"user_id":1260393,"accept_rate":93,"display_name":"Jabda"},"score":1,"creation_date":1431018385,"post_id":30089290,"comment_id":48326059,"body_markdown":"I think you need a cast no? for (Path path : (Path) stream) {","body":"I think you need a cast no? for (Path path : (Path) stream) {"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":2,"creation_date":1431033399,"post_id":30089290,"comment_id":48334482,"body_markdown":"@Jabda, you&#39;re right. This is now fixed (DIrectoryStream&lt;Path&gt; ... added).","body":"@Jabda, you&#39;re right. This is now fixed (DIrectoryStream&lt;Path&gt; ... added)."}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1431033324,"creation_date":1430954324,"answer_id":30089290,"question_id":30088245,"body_markdown":"You can pass a glob to a DirectoryStream\r\n\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    ...\r\n        \r\n    Path dir = FileSystems.getDefault().getPath( filePath );\r\n    DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream( dir, &quot;*.{txt,doc,pdf,ppt}&quot; );\r\n    for (Path path : stream) {\r\n        System.out.println( path.getFileName() );\r\n    }\r\n    stream.close();","title":"Java 7 nio list directory with wildcard","body":"<p>You can pass a glob to a DirectoryStream</p>\n\n<pre><code>import java.nio.file.DirectoryStream;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n...\n\nPath dir = FileSystems.getDefault().getPath( filePath );\nDirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream( dir, \"*.{txt,doc,pdf,ppt}\" );\nfor (Path path : stream) {\n    System.out.println( path.getFileName() );\n}\nstream.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8653039,"reputation":599,"user_id":7775861,"accept_rate":50,"display_name":"Kyle Berezin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667077250,"creation_date":1667077250,"answer_id":74248801,"question_id":30088245,"body_markdown":"This question was specifically for Java 7, but it also comes up as the first result for this question in general. With Java 8 and higher the way to do this wit NIO is to use `Files.find` with a `BiPredicate&lt;T, U&gt;`.\r\n\r\n    Stream&lt;Path&gt; stream = Files.find(\r\n            Paths.get(&quot;/dirToSearch&quot;),\r\n            1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\r\n            (path, basicFileAttributes) -&gt; {\r\n                String filename = path.getFileName().toString();\r\n                return filename.startsWith(&quot;identifier&quot;);\r\n            }\r\n    );\r\n    // The stream is lazily populated\r\n    Path firstMatch = stream.findFirst().get();","title":"Java 7 nio list directory with wildcard","body":"<p>This question was specifically for Java 7, but it also comes up as the first result for this question in general. With Java 8 and higher the way to do this wit NIO is to use <code>Files.find</code> with a <code>BiPredicate&lt;T, U&gt;</code>.</p>\n<pre><code>Stream&lt;Path&gt; stream = Files.find(\n        Paths.get(&quot;/dirToSearch&quot;),\n        1, // Search depth of 1 in our case, set to &gt;1 or -1 to explore subfolders\n        (path, basicFileAttributes) -&gt; {\n            String filename = path.getFileName().toString();\n            return filename.startsWith(&quot;identifier&quot;);\n        }\n);\n// The stream is lazily populated\nPath firstMatch = stream.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":1312755,"reputation":1752,"user_id":1260393,"accept_rate":93,"display_name":"Jabda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14999,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30089290,"answer_count":3,"score":17,"last_activity_date":1667077250,"creation_date":1430948971,"question_id":30088245,"body_markdown":"I&#39;d like to find a file in a directory using wildcard. I have this in Java 6 but want to convert the code to Java 7 NIO:\r\n\r\n     File dir = new File(mydir); \r\n     FileFilter fileFilter = new WildcardFileFilter(identifier+&quot;.*&quot;);\r\n\t File[] files = dir.listFiles(fileFilter);\r\n\r\nThere is no `WildcardFileFilter`, and I&#39;ve played around a bit with globs.","title":"Java 7 nio list directory with wildcard","body":"<p>I'd like to find a file in a directory using wildcard. I have this in Java 6 but want to convert the code to Java 7 NIO:</p>\n\n<pre><code> File dir = new File(mydir); \n FileFilter fileFilter = new WildcardFileFilter(identifier+\".*\");\n File[] files = dir.listFiles(fileFilter);\n</code></pre>\n\n<p>There is no <code>WildcardFileFilter</code>, and I've played around a bit with globs.</p>\n"},{"tags":["java","xml","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667075573,"creation_date":1667075573,"answer_id":74248622,"question_id":74247965,"body_markdown":"Error says you do not have view for your fragment, check your layout files, for each fragment you need to have one layout, if not transaction can not send you there. After all layouts in place, follow the docs [link](https://developer.android.com/guide/fragments/transactions#java) like so:\r\n```\r\nFragmentManager fragmentManager = getChildFragmentManager();\r\nFragmentTransaction transaction = fragmentManager.beginTransaction();\r\ntransaction.setReorderingAllowed(true);\r\n\r\ntransaction.replace(R.id.parent_fragment, CalculatorResultsFragment.class, null);\r\n\r\ntransaction.commit();\r\n```","title":"Trying to move from one fragment to another with a button","body":"<p>Error says you do not have view for your fragment, check your layout files, for each fragment you need to have one layout, if not transaction can not send you there. After all layouts in place, follow the docs <a href=\"https://developer.android.com/guide/fragments/transactions#java\" rel=\"nofollow noreferrer\">link</a> like so:</p>\n<pre><code>FragmentManager fragmentManager = getChildFragmentManager();\nFragmentTransaction transaction = fragmentManager.beginTransaction();\ntransaction.setReorderingAllowed(true);\n\ntransaction.replace(R.id.parent_fragment, CalculatorResultsFragment.class, null);\n\ntransaction.commit();\n</code></pre>\n"}],"owner":{"account_id":25892500,"reputation":11,"user_id":19619677,"display_name":"Nathan Schroeder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667075573,"creation_date":1667069540,"question_id":74247965,"body_markdown":"So my goal is to swap from my CalculatorFragment to my CalculatorResultsFragment using a parent FrameLayout through a a button. I&#39;m getting the error:\r\n\r\n```\r\n    java.lang.IllegalArgumentException: No view found for id 0x7f08020f (com.example.flexplan:id/parent_fragment) for fragment CalculatorResultsFragment{1046933} (71b49e01-2328-4454-870b-5acb04ccc3d0 id=0x7f08020f)\r\n\r\n```\r\n\r\n**fragment_calculator_fragment.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.Calculator.CalculatorParentFragment&quot;&gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/parent_fragment&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**CalculatorParentFragment.java**\r\n```\r\nFragmentManager manager = getChildFragmentManager();\r\nFragmentTransaction transaction = manager.beginTransaction();\r\ntransaction.add(R.id.parent_fragment, new CalculatorFragment());\r\ntransaction.commit();\r\n```\r\n\r\n\r\n**CalculatorFragment.java**\r\n\r\n```\r\nsubmitButton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        FragmentManager manager = getChildFragmentManager();\r\n        FragmentTransaction transaction = manager.beginTransaction();\r\n        transaction.replace(R.id.parent_fragment, new CalculatorResultsFragment());\r\n        transaction.commit();\r\n    }\r\n});\r\n```\r\n\r\n\r\n\r\nAnyone know how I can fix this?","title":"Trying to move from one fragment to another with a button","body":"<p>So my goal is to swap from my CalculatorFragment to my CalculatorResultsFragment using a parent FrameLayout through a a button. I'm getting the error:</p>\n<pre><code>    java.lang.IllegalArgumentException: No view found for id 0x7f08020f (com.example.flexplan:id/parent_fragment) for fragment CalculatorResultsFragment{1046933} (71b49e01-2328-4454-870b-5acb04ccc3d0 id=0x7f08020f)\n\n</code></pre>\n<p><strong>fragment_calculator_fragment.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.Calculator.CalculatorParentFragment&quot;&gt;\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/parent_fragment&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>CalculatorParentFragment.java</strong></p>\n<pre><code>FragmentManager manager = getChildFragmentManager();\nFragmentTransaction transaction = manager.beginTransaction();\ntransaction.add(R.id.parent_fragment, new CalculatorFragment());\ntransaction.commit();\n</code></pre>\n<p><strong>CalculatorFragment.java</strong></p>\n<pre><code>submitButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        FragmentManager manager = getChildFragmentManager();\n        FragmentTransaction transaction = manager.beginTransaction();\n        transaction.replace(R.id.parent_fragment, new CalculatorResultsFragment());\n        transaction.commit();\n    }\n});\n</code></pre>\n<p>Anyone know how I can fix this?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":7556417,"reputation":83,"user_id":5735858,"display_name":"Yawyaw1"},"score":1,"creation_date":1639652360,"post_id":70377230,"comment_id":124406051,"body_markdown":"Thanks a lot @Barbaros, it is exactly what i was expecting. However if we had to pick only specifics fields to put them in the array (e.g desc1 and desc3) the wilcard can&#39;t do that since it takes all others available fields","body":"Thanks a lot @Barbaros, it is exactly what i was expecting. However if we had to pick only specifics fields to put them in the array (e.g desc1 and desc3) the wilcard can&#39;t do that since it takes all others available fields"},{"owner":{"account_id":7556417,"reputation":83,"user_id":5735858,"display_name":"Yawyaw1"},"score":0,"creation_date":1639672636,"post_id":70377230,"comment_id":124414475,"body_markdown":"Appreciate your help. i ended up by using an other way found on the documentation that fit also my need however i still have some difficulty removing null values generated in the output as mentioned in the screen above. Any suggestion ?","body":"Appreciate your help. i ended up by using an other way found on the documentation that fit also my need however i still have some difficulty removing null values generated in the output as mentioned in the screen above. Any suggestion ?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1639673408,"post_id":70377230,"comment_id":124414801,"body_markdown":"Hi @Yawyaw1 . Let&#39;s keep this question by reverting the last update as it is as already been answered, and ask another one along with adding the new spec please.","body":"Hi @Yawyaw1 . Let&#39;s keep this question by reverting the last update as it is as already been answered, and ask another one along with adding the new spec please."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639654673,"creation_date":1639649658,"answer_id":70377230,"question_id":70376811,"body_markdown":"You can use **$** and **@** wildcards for **code** and **value**, respectively while combining the elements under common factor by using **&amp;.** as prefixes for them in the first step. Then combine elements other than **ID** and **age** within the same array in the last step such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.code&quot;,\r\n        &quot;@&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;ID&quot;: &quot;&amp;&quot;,\r\n      &quot;age&quot;: &quot;&amp;&quot;,\r\n      &quot;*&quot;: &quot;additionalInformation[]&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1TQZn.jpg\r\n\r\n**Edit**(*due to the comment*) : If you need to pick some individual elements such as **desc1** and **desc3** rather than all(**&quot;*&quot;**), then replace the first spec with following \r\n```json\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;desc1|desc3&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.code&quot;,\r\n        &quot;@&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  }\r\n```","title":"Jolt transform several object to array with new field name","body":"<p>You can use <strong>$</strong> and <strong>@</strong> wildcards for <strong>code</strong> and <strong>value</strong>, respectively while combining the elements under common factor by using <strong>&amp;.</strong> as prefixes for them in the first step. Then combine elements other than <strong>ID</strong> and <strong>age</strong> within the same array in the last step such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.code&quot;,\n        &quot;@&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;ID&quot;: &quot;&amp;&quot;,\n      &quot;age&quot;: &quot;&amp;&quot;,\n      &quot;*&quot;: &quot;additionalInformation[]&quot;\n    }\n  }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1TQZn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TQZn.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong>(<em>due to the comment</em>) : If you need to pick some individual elements such as <strong>desc1</strong> and <strong>desc3</strong> rather than all(<strong>&quot;*&quot;</strong>), then replace the first spec with following</p>\n<pre class=\"lang-json prettyprint-override\"><code>  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;desc1|desc3&quot;: {\n        &quot;$&quot;: &quot;&amp;.code&quot;,\n        &quot;@&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":7556417,"reputation":83,"user_id":5735858,"display_name":"Yawyaw1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70377230,"answer_count":1,"score":1,"last_activity_date":1667075270,"creation_date":1639647665,"question_id":70376811,"body_markdown":"I&#39;am new using jolt tool and i wonder if there a way to take several json objects and put them to an array with a new field named as follows:\r\n\r\n***Input*** :\r\n```json\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;age&quot;: 20,\r\n  &quot;desc1&quot;: &quot;value desc1&quot;,\r\n  &quot;desc2&quot;: &quot;value desc2&quot;,\r\n  &quot;desc3&quot;: &quot;value desc3&quot;\r\n}\r\n```\r\n***JSON spec*** :\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;userId&quot;: &quot;ID&quot;,\r\n      &quot;age&quot;: &quot;age&quot;,\r\n      &quot;*&quot;: &quot;additionalInformation&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n***Expected result*** :\r\n```json\r\n{\r\n  &quot;ID&quot;: 1,\r\n  &quot;age&quot;: 20,\r\n  &quot;additionalInformation&quot;: [\r\n    {\r\n      &quot;code&quot;: &quot;desc1&quot;,\r\n      &quot;value&quot;: &quot;value desc1&quot;\r\n    },\r\n    {\r\n      &quot;code&quot;: &quot;desc2&quot;,\r\n      &quot;value&quot;: &quot;value desc2&quot;\r\n    },\r\n    {\r\n      &quot;code&quot;: &quot;desc3&quot;,\r\n      &quot;value&quot;: &quot;value desc3&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nUsing the spec above i can only obtain ***this result*** :\r\n```json\r\n{\r\n  &quot;ID&quot;: 1,\r\n  &quot;test&quot;: 20,\r\n  &quot;additionalInformation&quot;: [\r\n    &quot;value desc1&quot;,\r\n    &quot;value desc2&quot;,\r\n    &quot;value desc3&quot;\r\n  ]\r\n}\r\n```  \r\n\r\n  Any suggestion what i have missed ?\r\n\r\n\r\n\r\n","title":"Jolt transform several object to array with new field name","body":"<p>I'am new using jolt tool and i wonder if there a way to take several json objects and put them to an array with a new field named as follows:</p>\n<p><em><strong>Input</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;userId&quot;: 1,\n  &quot;age&quot;: 20,\n  &quot;desc1&quot;: &quot;value desc1&quot;,\n  &quot;desc2&quot;: &quot;value desc2&quot;,\n  &quot;desc3&quot;: &quot;value desc3&quot;\n}\n</code></pre>\n<p><em><strong>JSON spec</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;userId&quot;: &quot;ID&quot;,\n      &quot;age&quot;: &quot;age&quot;,\n      &quot;*&quot;: &quot;additionalInformation&quot;\n    }\n  }\n]\n</code></pre>\n<p><em><strong>Expected result</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID&quot;: 1,\n  &quot;age&quot;: 20,\n  &quot;additionalInformation&quot;: [\n    {\n      &quot;code&quot;: &quot;desc1&quot;,\n      &quot;value&quot;: &quot;value desc1&quot;\n    },\n    {\n      &quot;code&quot;: &quot;desc2&quot;,\n      &quot;value&quot;: &quot;value desc2&quot;\n    },\n    {\n      &quot;code&quot;: &quot;desc3&quot;,\n      &quot;value&quot;: &quot;value desc3&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Using the spec above i can only obtain <em><strong>this result</strong></em> :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ID&quot;: 1,\n  &quot;test&quot;: 20,\n  &quot;additionalInformation&quot;: [\n    &quot;value desc1&quot;,\n    &quot;value desc2&quot;,\n    &quot;value desc3&quot;\n  ]\n}\n</code></pre>\n<p>Any suggestion what i have missed ?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":26239883,"reputation":1,"user_id":19914355,"display_name":"Suryamani Pandey"},"score":0,"creation_date":1662294051,"post_id":73598660,"comment_id":129968438,"body_markdown":"Sir, it&#39;s not working","body":"Sir, it&#39;s not working"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1662295583,"post_id":73598660,"comment_id":129968755,"body_markdown":"Let me know if this doesn&#39;t work.","body":"Let me know if this doesn&#39;t work."},{"owner":{"account_id":26239883,"reputation":1,"user_id":19914355,"display_name":"Suryamani Pandey"},"score":0,"creation_date":1662390925,"post_id":73598660,"comment_id":129989968,"body_markdown":"When I Deleted my project and created the project again, It running properly.","body":"When I Deleted my project and created the project again, It running properly."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1662448986,"post_id":73598660,"comment_id":130001296,"body_markdown":"Even without the above changes its working?","body":"Even without the above changes its working?"},{"owner":{"account_id":26239883,"reputation":1,"user_id":19914355,"display_name":"Suryamani Pandey"},"score":0,"creation_date":1662562193,"post_id":73598660,"comment_id":130035537,"body_markdown":"No I just Change hibernate.hbm2dll.auto To hibernate.hbm2ddl.auto","body":"No I just Change hibernate.hbm2dll.auto To hibernate.hbm2ddl.auto"}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662295550,"creation_date":1662287660,"answer_id":73598660,"question_id":73597454,"body_markdown":"Typos alert!\r\n\r\nBelow are the correct ones. Please fix them.\r\n\r\n`hbm2ddl`\r\n\r\n`driver_class`\r\n\r\n`hibernate.dialect`\r\n\r\n`hibernate.show_sql`","title":"How to find this error in Hibernate 5.6.4 with MySQL 8.0.29","body":"<p>Typos alert!</p>\n<p>Below are the correct ones. Please fix them.</p>\n<p><code>hbm2ddl</code></p>\n<p><code>driver_class</code></p>\n<p><code>hibernate.dialect</code></p>\n<p><code>hibernate.show_sql</code></p>\n"}],"owner":{"account_id":26239883,"reputation":1,"user_id":19914355,"display_name":"Suryamani Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667074537,"creation_date":1662275403,"question_id":73597454,"body_markdown":"***Error***\r\n\r\n    Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n        \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n        \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1406)\r\n        \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)\r\n        \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285)\r\n        \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420)\r\n        \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n        \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n        \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n        \tat com.tapacad.application.Program2.main(Program2.java:34)\r\n        Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n        \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n        \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n        \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\r\n        \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n        \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n        \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n        \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n        \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n        \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n        \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n        \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n        \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402)\r\n        \t... 9 more\r\n        Caused by: java.sql.SQLSyntaxErrorException: Table &#39;hibernatedb.student&#39; doesn&#39;t exist\r\n        \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n        \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n        \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n        \t... 21 more\r\n\r\n***Student.java***\r\n\r\n    package com.tapacad.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \t\r\n    \t// Attributes\r\n    \t@Id\r\n    \t@Column(name = &quot;roll&quot;)\r\n    \tprivate int roll;\r\n    \t\r\n    \t@Column(name = &quot;name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name = &quot;email&quot;)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(name = &quot;marks&quot;)\r\n    \tprivate int marks;\r\n    \t\r\n    \t// Constructor\r\n    \tpublic Student() {\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic Student(int roll, String name, String email, int marks) {\r\n    \t\tsuper();\r\n    \t\tthis.roll = roll;\r\n    \t\tthis.name = name;\r\n    \t\tthis.email = email;\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \r\n    \t// Setters and Getters\r\n    \t\r\n    \tpublic int getRoll() {\r\n    \t\treturn roll;\r\n    \t}\r\n    \r\n    \tpublic void setRoll(int roll) {\r\n    \t\tthis.roll = roll;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \t\r\n    \tpublic int getMarks() {\r\n    \t\treturn marks;\r\n    \t}\r\n    \r\n    \tpublic void setMarks(int marks) {\r\n    \t\tthis.marks = marks;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n***Program2.java***\r\n\r\n    package com.tapacad.application;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    import com.tapacad.model.Student;\r\n    \r\n    public class Program2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSession session = null;\r\n    \t\tSessionFactory sessionFactory = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tConfiguration config = new Configuration();\r\n    \t\t\tconfig.configure();\r\n    \t\t\tconfig.addAnnotatedClass(Student.class);\r\n    \t\t\t\r\n    \t\t\tsessionFactory = config.buildSessionFactory();\r\n    \t\t\tsession = sessionFactory.openSession();\r\n    \t\t\t\r\n    \t\t\t// Create Transaction\r\n    \t\t\tTransaction transaction = session.beginTransaction();\r\n    \t\t\t\r\n    \t\t\t// CRUD Operation\r\n    \t\t\tStudent s = new Student(1,&quot;Alex&quot;,&quot;alex@gmail.com&quot;,97);\r\n    \t\t\tsession.save(s);\r\n    \t\t\t\r\n    \t\t\ttransaction.commit();\r\n    \t\t}\r\n    \t\tfinally{\r\n    \t\t\tsession.close();\r\n    \t\t\tsessionFactory.close();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n***hibernate.cfg.xml***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n        \r\n        \r\n        \r\n        &lt;hibernate-configuration&gt;\r\n        \t&lt;session-factory&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.driver.class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.connection.password&quot;&gt;mysql@123&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;hibernate.hbm2dll.auto&quot;&gt;update&lt;/property&gt;\r\n        \t\t&lt;property name = &quot;show_sql&quot;&gt;update&lt;/property&gt;\r\n        \t\r\n        \t&lt;/session-factory&gt;\r\n        \t\r\n        \t\r\n        &lt;/hibernate-configuration&gt;\r\n\r\n","title":"How to find this error in Hibernate 5.6.4 with MySQL 8.0.29","body":"<p><em><strong>Error</strong></em></p>\n<pre><code>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1406)\n        at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:493)\n        at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3285)\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2420)\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n        at com.tapacad.application.Program2.main(Program2.java:34)\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n        at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n        at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n        at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1402)\n        ... 9 more\n    Caused by: java.sql.SQLSyntaxErrorException: Table 'hibernatedb.student' doesn't exist\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n        ... 21 more\n</code></pre>\n<p><em><strong>Student.java</strong></em></p>\n<pre><code>package com.tapacad.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n    \n    // Attributes\n    @Id\n    @Column(name = &quot;roll&quot;)\n    private int roll;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;marks&quot;)\n    private int marks;\n    \n    // Constructor\n    public Student() {\n        \n    }\n\n    public Student(int roll, String name, String email, int marks) {\n        super();\n        this.roll = roll;\n        this.name = name;\n        this.email = email;\n        this.marks = marks;\n    }\n\n    // Setters and Getters\n    \n    public int getRoll() {\n        return roll;\n    }\n\n    public void setRoll(int roll) {\n        this.roll = roll;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    public int getMarks() {\n        return marks;\n    }\n\n    public void setMarks(int marks) {\n        this.marks = marks;\n    }\n    \n}\n</code></pre>\n<p><em><strong>Program2.java</strong></em></p>\n<pre><code>package com.tapacad.application;\n\nimport java.io.Serializable;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\nimport com.tapacad.model.Student;\n\npublic class Program2 {\n\n    public static void main(String[] args) {\n        \n        Session session = null;\n        SessionFactory sessionFactory = null;\n        \n        try {\n            Configuration config = new Configuration();\n            config.configure();\n            config.addAnnotatedClass(Student.class);\n            \n            sessionFactory = config.buildSessionFactory();\n            session = sessionFactory.openSession();\n            \n            // Create Transaction\n            Transaction transaction = session.beginTransaction();\n            \n            // CRUD Operation\n            Student s = new Student(1,&quot;Alex&quot;,&quot;alex@gmail.com&quot;,97);\n            session.save(s);\n            \n            transaction.commit();\n        }\n        finally{\n            session.close();\n            sessionFactory.close();\n        }\n        \n    }\n\n}\n</code></pre>\n<p><em><strong>hibernate.cfg.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n    \n    \n    \n    &lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n            &lt;property name = &quot;hibernate.connection.driver.class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernatedb&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n            &lt;property name = &quot;hibernate.connection.password&quot;&gt;mysql@123&lt;/property&gt;\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n            &lt;property name = &quot;hibernate.hbm2dll.auto&quot;&gt;update&lt;/property&gt;\n            &lt;property name = &quot;show_sql&quot;&gt;update&lt;/property&gt;\n        \n        &lt;/session-factory&gt;\n        \n        \n    &lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","logcat"],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667074469,"creation_date":1667074469,"answer_id":74248508,"question_id":74244352,"body_markdown":"I think your theme already has a toolbar and in your layout you are trying to use another one. So, remove the default toolbar that comes within your theme. In your themes.xml, change parent to NoActionBar like below.\r\n\r\n    &lt;style name=&quot;&lt;app theme name&gt;&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;","title":"How do figure out problem in logcat in android studio?","body":"<p>I think your theme already has a toolbar and in your layout you are trying to use another one. So, remove the default toolbar that comes within your theme. In your themes.xml, change parent to NoActionBar like below.</p>\n<pre><code>&lt;style name=&quot;&lt;app theme name&gt;&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":26581201,"reputation":17,"user_id":20205826,"display_name":"AlecW123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667074469,"creation_date":1667037705,"question_id":74244352,"body_markdown":"I have a bug problem where my app closes whenever it launches and I have read that I should look in my logcat to identify problem but I don&#39;t know how do I read the logcat and understand how to solve the problems. These are all the errors I&#39;m getting in my logcat\r\n\r\n        FATAL EXCEPTION: main\r\n                                                                                                    \r\n    \r\n    Process: com.mydomain.calculator, PID: 6294\r\n                                                                                                \r\n    \r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydomain.calculator/com.mydomain.calculator.MainActivity}: java.lang.IllegalStateException: This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.\r\n\r\n\r\nThis is the only androidruntime error I&#39;m getting. I&#39;m not sure how to solve it can someone help","title":"How do figure out problem in logcat in android studio?","body":"<p>I have a bug problem where my app closes whenever it launches and I have read that I should look in my logcat to identify problem but I don't know how do I read the logcat and understand how to solve the problems. These are all the errors I'm getting in my logcat</p>\n<pre><code>    FATAL EXCEPTION: main\n                                                                                                \n\nProcess: com.mydomain.calculator, PID: 6294\n                                                                                            \n\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydomain.calculator/com.mydomain.calculator.MainActivity}: java.lang.IllegalStateException: This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.\n</code></pre>\n<p>This is the only androidruntime error I'm getting. I'm not sure how to solve it can someone help</p>\n"},{"tags":["java","json","tree","jolt"],"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667133107,"post_id":74248481,"comment_id":131093842,"body_markdown":"Hi Michal, I&#39;ve realised that the answer will be similar to the previous one, just replace the asterisks(keys) on the line 7,10,13 with `foo`es...","body":"Hi Michal, I&#39;ve realised that the answer will be similar to the previous one, just replace the asterisks(keys) on the line 7,10,13 with <code>foo</code>es..."},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":1,"creation_date":1667133138,"post_id":74248481,"comment_id":131093847,"body_markdown":"eg. you can use this : `[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;foo&quot;: &quot;@(1,id).&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    // get rid of object labels\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&quot;\n    }\n  }\n]\n`","body":"eg. you can use this : <code>[   {     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;item&quot;: {         &quot;*&quot;: {           &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,           &quot;item&quot;: {             &quot;*&quot;: {               &quot;foo&quot;: &quot;@(1,id).&amp;&quot;,               &quot;item&quot;: {                 &quot;*&quot;: {                   &quot;foo&quot;: &quot;@(1,id).&amp;&quot;                 }               }             }           }         }       }     }   },   {     &#47;&#47; get rid of object labels     &quot;operation&quot;: &quot;shift&quot;,     &quot;spec&quot;: {       &quot;*&quot;: &quot;&quot;     }   } ] </code>"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":1,"creation_date":1667144831,"post_id":74248481,"comment_id":131096247,"body_markdown":"Many many thanks!!!, I&#39;ve another little Q please: https://stackoverflow.com/questions/74254469/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing hope its ok...","body":"Many many thanks!!!, I&#39;ve another little Q please: <a href=\"https://stackoverflow.com/questions/74254469/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing\" title=\"jolt shift transformation collect the items from all the levels without knowing\">stackoverflow.com/questions/74254469/&hellip;</a> hope its ok..."},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667203401,"post_id":74248481,"comment_id":131106370,"body_markdown":"little more issue regarding this Q plz: if I want to change the name of one property in foo object  for exa: from &quot;nn&quot; to &quot;kk&quot; how should I do it in the spec above? onle with 1 or 2 specs not more... thanks ahead!!","body":"little more issue regarding this Q plz: if I want to change the name of one property in foo object  for exa: from &quot;nn&quot; to &quot;kk&quot; how should I do it in the spec above? onle with 1 or 2 specs not more... thanks ahead!!"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667205953,"post_id":74248481,"comment_id":131107065,"body_markdown":"Can you please edit what exactly you want on this question please ?","body":"Can you please edit what exactly you want on this question please ?"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667213572,"post_id":74248481,"comment_id":131109335,"body_markdown":"use the same input and the output is also the same but the property &quot;nn&quot; in the &quot;foo&quot; will be &quot;kk&quot; in the new output, should I open a new Q?","body":"use the same input and the output is also the same but the property &quot;nn&quot; in the &quot;foo&quot; will be &quot;kk&quot; in the new output, should I open a new Q?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1667214445,"post_id":74248481,"comment_id":131109626,"body_markdown":"No, not need to opn a new question, just better to edit such details those you mentioned. I&#39;ll be looking at it when I&#39;m available.","body":"No, not need to opn a new question, just better to edit such details those you mentioned. I&#39;ll be looking at it when I&#39;m available."},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1667218006,"post_id":74248481,"comment_id":131110708,"body_markdown":"ok, I open a new one a little bit diff https://stackoverflow.com/questions/74263027/jolt-shift-transformation-collect-the-items-from-all-the-levels-and-change-the","body":"ok, I open a new one a little bit diff <a href=\"https://stackoverflow.com/questions/74263027/jolt-shift-transformation-collect-the-items-from-all-the-levels-and-change-the\" title=\"jolt shift transformation collect the items from all the levels and change the\">stackoverflow.com/questions/74263027/&hellip;</a>"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667074222,"creation_date":1667074222,"question_id":74248481,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get the items from all the levels into an one array.\r\n**My goal is to get an array that contains a part of the items without knowing how many levels I have in the json.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1_1&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_1_2&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;1_2&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_2_1&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;ww&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\nCan you please told me how to do it right?","title":"JOLT shift transformation: collect the items from all the levels without knowing how many levels when there are multiple properties","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get the items from all the levels into an one array.\n<strong>My goal is to get an array that contains a part of the items without knowing how many levels I have in the json.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;1_1&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_1_2&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    },\n    {\n      &quot;id&quot;: &quot;1_2&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_2_1&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;ww&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>Can you please told me how to do it right?</p>\n"},{"tags":["java","spring","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":1212711,"reputation":2020,"user_id":1180963,"accept_rate":75,"display_name":"eduyayo"},"score":0,"creation_date":1576842095,"post_id":29650483,"comment_id":105035429,"body_markdown":"are you using lombok?","body":"are you using lombok?"}],"answers":[{"tags":[],"owner":{"account_id":4227579,"reputation":402,"user_id":3460763,"accept_rate":56,"display_name":"chetank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667074124,"creation_date":1429101852,"answer_id":29650576,"question_id":29650483,"body_markdown":"Do you have `consumes=&quot;application/json&quot;` attribute in the `@RequestMapping`. If not please put that in the annotation and then try. Also if that doesn&#39;t work, try using `contentNegotiator`, you can google it for `contentNegotiation` for spring.","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Do you have <code>consumes=&quot;application/json&quot;</code> attribute in the <code>@RequestMapping</code>. If not please put that in the annotation and then try. Also if that doesn't work, try using <code>contentNegotiator</code>, you can google it for <code>contentNegotiation</code> for spring.</p>\n"},{"tags":[],"owner":{"account_id":4996023,"reputation":1207,"user_id":4016595,"accept_rate":38,"display_name":"Akash Chavda"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429101955,"creation_date":1429101955,"answer_id":29650609,"question_id":29650483,"body_markdown":"you can add this annotation\r\n\r\n    @RequestMapping(method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON)\r\n\r\nor put this dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>you can add this annotation</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.PUT, consumes = MediaType.APPLICATION_JSON)\n</code></pre>\n\n<p>or put this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11048114,"reputation":140,"user_id":8113460,"display_name":"Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499143469,"creation_date":1499143469,"answer_id":44897204,"question_id":29650483,"body_markdown":"Firstly, Make sure that you have a correctly jackson version using:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n         &lt;version&gt;2.8.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n         &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n         &lt;version&gt;2.8.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nAs for me, when I use the version of v2.7.6 or v2.8.7. This error came to me! And I change to v2.8.0, It work well!\r\n\r\n\r\nSecondly, Make sure your controller code:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/user&quot;, produces = {MediaType.APPLICATION_JSON}, consumes = {MediaType.APPLICATION_JSON})\r\n    public class UserController extends GenericController&lt;User, String&gt; {\r\n    \r\n        @RequestMapping(method = RequestMethod.POST)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public ResponseMessage add(@RequestBody User user) {\r\n           String id = getService().insert(user);\r\n           return ResponseMessage.created(id );\r\n        }\r\n    }\r\n\r\nRequestBody:\r\n\r\n    {\r\n    \t&quot;username&quot;:&quot;123&quot;,\r\n    \t&quot;password&quot;:&quot;123&quot;,\r\n    \t&quot;name&quot;:&quot;123&quot;,\r\n    \t&quot;phone&quot;:&quot;123&quot;,\r\n    \t&quot;email&quot;:&quot;123@qq.com&quot;,\r\n    \t&quot;status&quot;:1\r\n    }\r\n\r\n\r\nPostman :\r\n\r\n[Postman Post][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TV1V9.png\r\n\r\nHope it helps you!","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Firstly, Make sure that you have a correctly jackson version using:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n     &lt;version&gt;2.8.0&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n     &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n     &lt;version&gt;2.8.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>As for me, when I use the version of v2.7.6 or v2.8.7. This error came to me! And I change to v2.8.0, It work well!</p>\n\n<p>Secondly, Make sure your controller code:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/user\", produces = {MediaType.APPLICATION_JSON}, consumes = {MediaType.APPLICATION_JSON})\npublic class UserController extends GenericController&lt;User, String&gt; {\n\n    @RequestMapping(method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.CREATED)\n    public ResponseMessage add(@RequestBody User user) {\n       String id = getService().insert(user);\n       return ResponseMessage.created(id );\n    }\n}\n</code></pre>\n\n<p>RequestBody:</p>\n\n<pre><code>{\n    \"username\":\"123\",\n    \"password\":\"123\",\n    \"name\":\"123\",\n    \"phone\":\"123\",\n    \"email\":\"123@qq.com\",\n    \"status\":1\n}\n</code></pre>\n\n<p>Postman :</p>\n\n<p><a href=\"https://i.stack.imgur.com/TV1V9.png\" rel=\"nofollow noreferrer\">Postman Post</a></p>\n\n<p>Hope it helps you!</p>\n"},{"comments":[{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1585595869,"post_id":60510552,"comment_id":107811230,"body_markdown":"Any tips on debugging this? How were you able to see that there were no message converters configured?","body":"Any tips on debugging this? How were you able to see that there were no message converters configured?"},{"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"score":0,"creation_date":1585634879,"post_id":60510552,"comment_id":107822225,"body_markdown":"I put a breakpoint in this method, from my IDE, then inspected the local variable that contained a list of message converters. I don&#39;t remember any more than that =\\. `AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters`","body":"I put a breakpoint in this method, from my IDE, then inspected the local variable that contained a list of message converters. I don&#39;t remember any more than that =\\. <code>AbstractMessageConverterMethodArgumentResolver.readWithMessa&zwnj;&#8203;geConverters</code>"},{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1586877323,"post_id":60510552,"comment_id":108286795,"body_markdown":"I figured a breakpoint, just wasn&#39;t sure where to set the breakpoint. So I&#39;m assuming you mean that class/method you mentioned. Thanks!","body":"I figured a breakpoint, just wasn&#39;t sure where to set the breakpoint. So I&#39;m assuming you mean that class/method you mentioned. Thanks!"},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1608566914,"post_id":60510552,"comment_id":115616680,"body_markdown":"You saved my day, dude. Thanks!","body":"You saved my day, dude. Thanks!"}],"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583249352,"creation_date":1583249352,"answer_id":60510552,"question_id":29650483,"body_markdown":"I was getting this in my unit tests, even though I had all the correct annotations on the Controller methods, and I was correctly setting the Content-Type in my request.  \r\n\r\nError - \r\n`Caused by: org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported`\r\n\r\nAfter debugging `AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters` , I realized there were no registered message converters that supported `application/json` . \r\n\r\n`@AutoConfigureMockMvc` doesn&#39;t register all the converters, but `@WebMvcTest` does.  \r\nI changed the test annotation, and the problem was solved. \r\n\r\nPreviously I was using -   \r\n```\r\n@SpringJUnitWebConfig\r\n@ContextConfiguration\r\n@AutoConfigureMockMvc\r\npublic class ReportControllerTests {\r\n```\r\n\r\nNow using the `@WebMvcTest` which registers the additional message converters.  \r\n```\r\n@SpringJUnitWebConfig\r\n@ContextConfiguration\r\n@WebMvcTest(controllers = ReportController.class)\r\npublic class ReportControllerTests {\r\n```","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I was getting this in my unit tests, even though I had all the correct annotations on the Controller methods, and I was correctly setting the Content-Type in my request.  </p>\n\n<p>Error - \n<code>Caused by: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json' not supported</code></p>\n\n<p>After debugging <code>AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters</code> , I realized there were no registered message converters that supported <code>application/json</code> . </p>\n\n<p><code>@AutoConfigureMockMvc</code> doesn't register all the converters, but <code>@WebMvcTest</code> does.<br>\nI changed the test annotation, and the problem was solved. </p>\n\n<p>Previously I was using -   </p>\n\n<pre><code>@SpringJUnitWebConfig\n@ContextConfiguration\n@AutoConfigureMockMvc\npublic class ReportControllerTests {\n</code></pre>\n\n<p>Now using the <code>@WebMvcTest</code> which registers the additional message converters.  </p>\n\n<pre><code>@SpringJUnitWebConfig\n@ContextConfiguration\n@WebMvcTest(controllers = ReportController.class)\npublic class ReportControllerTests {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603192014,"creation_date":1603192014,"answer_id":64443902,"question_id":29650483,"body_markdown":"Try it without consumer and producer options in @PutMapping.\r\n\r\n    @PutMapping(value = &quot;/lists/{ListName}/item&quot;)\r\n\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>Try it without consumer and producer options in @PutMapping.</p>\n<pre><code>@PutMapping(value = &quot;/lists/{ListName}/item&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18901230,"reputation":99,"user_id":13789176,"display_name":"copbint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621128526,"creation_date":1621128526,"answer_id":67552489,"question_id":29650483,"body_markdown":"add jackson-databind in pom.xml solved my problem:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nthere is **NO** need to add consumes:\r\n`consumes = MediaType.APPLICATION_JSON_VALUE`\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>add jackson-databind in pom.xml solved my problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>there is <strong>NO</strong> need to add consumes:\n<code>consumes = MediaType.APPLICATION_JSON_VALUE</code></p>\n"},{"tags":[],"owner":{"account_id":24524473,"reputation":1,"user_id":18437093,"display_name":"Manoj D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646987144,"creation_date":1646987144,"answer_id":71435590,"question_id":29650483,"body_markdown":"I also faced the same issue. Now i fixed it by the following steps\r\n\r\nIn Controller\r\n\r\n    @RequestMapping(consumes=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nIn pom.xml include the below dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I also faced the same issue. Now i fixed it by the following steps</p>\n<p>In Controller</p>\n<pre><code>@RequestMapping(consumes=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>In pom.xml include the below dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;version&gt;2.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6072798,"reputation":269,"user_id":4741029,"accept_rate":5,"display_name":"Java Learing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30679,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1667074124,"creation_date":1429101587,"question_id":29650483,"body_markdown":"I am getting below exception when i am using `@RequestBody` in my controller class. \r\n\r\nBut I need to use `@RequestBody` only for post method. \r\n\r\n&gt; Caused by: org.springframework.web.HttpMediaTypeNotSupportedException:\r\n&gt; Content type &#39;application/json&#39; not supported\r\n\r\nAnyone can help how to solve this issue..","title":"Getting Content type &#39;application/json&#39; not supported","body":"<p>I am getting below exception when i am using <code>@RequestBody</code> in my controller class. </p>\n\n<p>But I need to use <code>@RequestBody</code> only for post method. </p>\n\n<blockquote>\n  <p>Caused by: org.springframework.web.HttpMediaTypeNotSupportedException:\n  Content type 'application/json' not supported</p>\n</blockquote>\n\n<p>Anyone can help how to solve this issue..</p>\n"},{"tags":["java","spring-boot","hibernate","transactions","locking"],"comments":[{"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"score":0,"creation_date":1667067896,"post_id":74247629,"comment_id":131085105,"body_markdown":"Is it possible that somehow, the entity did not exist and you have passed `updateInCache=true`? Because in such a case, you would try to save the entity twice.","body":"Is it possible that somehow, the entity did not exist and you have passed <code>updateInCache=true</code>? Because in such a case, you would try to save the entity twice."},{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1667089163,"post_id":74247629,"comment_id":131088446,"body_markdown":"@AidHadzic Even if it already existed, the entity would be saved once with the new ComplexNumber(). And with a different value for the second time (complexNumber + 1).","body":"@AidHadzic Even if it already existed, the entity would be saved once with the new ComplexNumber(). And with a different value for the second time (complexNumber + 1)."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906088,"post_id":74247629,"comment_id":131274269,"body_markdown":"Hey @EvgeniaRubanova was my answer helpful to your issue? If so I would appreciate if you marked it as correct!","body":"Hey @EvgeniaRubanova was my answer helpful to your issue? If so I would appreciate if you marked it as correct!"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667073413,"creation_date":1667073413,"answer_id":74248397,"question_id":74247629,"body_markdown":"You need to enforce the locking to happen as soon as you start using the repository inside the `@Transactional` method. Currently only `findOneForUpdate` method locks the table. \r\n\r\nTo do that you need to annotate with `@Lock(LockModeType.PESSIMISTIC_WRITE)` all the repository methods you need to use inside your service method. Read more about it [here](https://www.baeldung.com/java-jpa-transaction-locks#enable_transaction_locks).","title":"@Transactional and @Lock - what to change?","body":"<p>You need to enforce the locking to happen as soon as you start using the repository inside the <code>@Transactional</code> method. Currently only <code>findOneForUpdate</code> method locks the table.</p>\n<p>To do that you need to annotate with <code>@Lock(LockModeType.PESSIMISTIC_WRITE)</code> all the repository methods you need to use inside your service method. Read more about it <a href=\"https://www.baeldung.com/java-jpa-transaction-locks#enable_transaction_locks\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667073413,"creation_date":1667066718,"question_id":74247629,"body_markdown":"I have Service which is annotated with @Transactional annotation. And repository method with Lock.\r\n\r\nOnce I had **DataIntegrityViolationException** (the entity already exists in repository) when one thread was trying to update repository with new entity using default CRUDRepository save() method. It failed in the getNumber() method.\r\n\r\nAny assumptions why that could happen? And what should I change with the annotations maybe?\r\n\r\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    public class MyService {\r\n    private ComplexNumber getNumber(ComplexKey key, boolean updateInCache) {\r\n            Optional&lt;ENumber&gt; documentNumber;\r\n\r\n            if (updateInCache) {\r\n                documentNumber = numberRepository.findOneForUpdate(key.getClientId(), key.getDocumentType(), key.getResetDate());\r\n            } else {\r\n                documentNumber = numberRepository.get(key);\r\n            }\r\n    \r\n            ComplexNumber complexNumber = new ComplexNumber();\r\n            if (documentNumber.isEmpty()) {\r\n                numberRepository.put(key, complexNumber);\r\n            } else {\r\n                complexNumber.setPrefix(documentNumber.get().getPrefix());\r\n                complexNumber.setNumber(documentNumber.get().getNumber());\r\n            }\r\n    \r\n            complexNumber.setNumber(complexNumber.getNumber() + 1);\r\n    \r\n            if (updateInCache) {\r\n                numberRepository.put(key, complexNumber);\r\n            }\r\n    \r\n            return complexNumber;\r\n        }\r\n    }\r\n\r\n\r\n    public interface EDocumentNumberRepository extends JpaRepository&lt;ENumber, ComplexKey&gt; {\r\n    \r\n        @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n        @Query(&quot;select e from ENumber e where e.clientId = :clientId &quot;)\r\n        Optional&lt;ENumber&gt; findOneForUpdate(@Param(&quot;clientId&quot;) Long clientId);\r\n    \r\n        default Optional&lt;ENumber&gt; get(ComplexKey key) {\r\n                return findById(key);\r\n            }\r\n\r\n        default void put(ComplexKey key, ComplexNumber complexNumber) {\r\n            ENumber number = new ENumber()\r\n                .setKey(key)\r\n                .setPrefix(complexNumber.getPrefix())\r\n                .setNumber(complexNumber.getNumber());\r\n            save(number);\r\n    }\r\n    }","title":"@Transactional and @Lock - what to change?","body":"<p>I have Service which is annotated with @Transactional annotation. And repository method with Lock.</p>\n<p>Once I had <strong>DataIntegrityViolationException</strong> (the entity already exists in repository) when one thread was trying to update repository with new entity using default CRUDRepository save() method. It failed in the getNumber() method.</p>\n<p>Any assumptions why that could happen? And what should I change with the annotations maybe?</p>\n<pre><code>@Transactional(Transactional.TxType.REQUIRES_NEW)\npublic class MyService {\nprivate ComplexNumber getNumber(ComplexKey key, boolean updateInCache) {\n        Optional&lt;ENumber&gt; documentNumber;\n\n        if (updateInCache) {\n            documentNumber = numberRepository.findOneForUpdate(key.getClientId(), key.getDocumentType(), key.getResetDate());\n        } else {\n            documentNumber = numberRepository.get(key);\n        }\n\n        ComplexNumber complexNumber = new ComplexNumber();\n        if (documentNumber.isEmpty()) {\n            numberRepository.put(key, complexNumber);\n        } else {\n            complexNumber.setPrefix(documentNumber.get().getPrefix());\n            complexNumber.setNumber(documentNumber.get().getNumber());\n        }\n\n        complexNumber.setNumber(complexNumber.getNumber() + 1);\n\n        if (updateInCache) {\n            numberRepository.put(key, complexNumber);\n        }\n\n        return complexNumber;\n    }\n}\n\n\npublic interface EDocumentNumberRepository extends JpaRepository&lt;ENumber, ComplexKey&gt; {\n\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    @Query(&quot;select e from ENumber e where e.clientId = :clientId &quot;)\n    Optional&lt;ENumber&gt; findOneForUpdate(@Param(&quot;clientId&quot;) Long clientId);\n\n    default Optional&lt;ENumber&gt; get(ComplexKey key) {\n            return findById(key);\n        }\n\n    default void put(ComplexKey key, ComplexNumber complexNumber) {\n        ENumber number = new ENumber()\n            .setKey(key)\n            .setPrefix(complexNumber.getPrefix())\n            .setNumber(complexNumber.getNumber());\n        save(number);\n}\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667071911,"creation_date":1667069985,"answer_id":74248027,"question_id":74247954,"body_markdown":"You can sort by `value` using using `Map.Entry.comparingByValue()` and reverse it for descending orrder\r\n\r\n    cities.entrySet()\r\n                .stream().sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\r\n                .forEach(System.out::println);\r\n\r\n**Output**\r\n    \r\n    Brest=4999234\r\n    Vitebsk=3999231\r\n    Minsk=1999234\r\n    Mogilev=1599234\r\n\r\nIf you specifically want to print `key` then use lambda to print it \r\n\r\n    forEach(e-&gt; System.out.println(e.getKey()))\r\n\r\nUse `map` and `collect` to collect keys into `List`\r\n\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList())","title":"How to display the name of cities sorted by population through streams?","body":"<p>You can sort by <code>value</code> using using <code>Map.Entry.comparingByValue()</code> and reverse it for descending orrder</p>\n<pre><code>cities.entrySet()\n            .stream().sorted(Map.Entry.&lt;String,Integer&gt;comparingByValue().reversed())\n            .forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Brest=4999234\nVitebsk=3999231\nMinsk=1999234\nMogilev=1599234\n</code></pre>\n<p>If you specifically want to print <code>key</code> then use lambda to print it</p>\n<pre><code>forEach(e-&gt; System.out.println(e.getKey()))\n</code></pre>\n<p>Use <code>map</code> and <code>collect</code> to collect keys into <code>List</code></p>\n<pre><code>.map(Map.Entry::getKey)\n.collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667070333,"creation_date":1667070333,"answer_id":74248065,"question_id":74247954,"body_markdown":"Instead of mapping to the value first and then sorting, sort first, and then you can map to the name or do anything else with the stream of cities\r\n\r\nYou can sort `Map.Entry`s by value using the [`comparingByValue`][1] comparator:\r\n\r\n    var cityNames = cities.entrySet().stream()\r\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n        .map(Map.Entry::getKey)\r\n        .toList();\r\n    System.out.println(cityNames);\r\n\r\nNote that it might be better if you create a record/class to model the cities, instead of using a `Map`.\r\n\r\n    record City(String name, int population) {}\r\n\r\nIn which case the sorting code would become:\r\n\r\n    List&lt;City&gt; cities = List.of(\r\n        new City(&quot;Minsk&quot;,1999234),\r\n        new City(&quot;Mogilev&quot;,1599234),\r\n        new City(&quot;Vitebsk&quot;,3999231),\r\n        new City(&quot;Brest&quot;,4999234)\r\n    );\r\n    var cityNames = cities.stream()\r\n        .sorted(Comparator.comparingInt(City::population).reversed())\r\n        .map(City::name)\r\n        .toList();\r\n    System.out.println(cityNames);\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue(java.util.Comparator)","title":"How to display the name of cities sorted by population through streams?","body":"<p>Instead of mapping to the value first and then sorting, sort first, and then you can map to the name or do anything else with the stream of cities</p>\n<p>You can sort <code>Map.Entry</code>s by value using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#comparingByValue(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>comparingByValue</code></a> comparator:</p>\n<pre><code>var cityNames = cities.entrySet().stream()\n    .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n    .map(Map.Entry::getKey)\n    .toList();\nSystem.out.println(cityNames);\n</code></pre>\n<p>Note that it might be better if you create a record/class to model the cities, instead of using a <code>Map</code>.</p>\n<pre><code>record City(String name, int population) {}\n</code></pre>\n<p>In which case the sorting code would become:</p>\n<pre><code>List&lt;City&gt; cities = List.of(\n    new City(&quot;Minsk&quot;,1999234),\n    new City(&quot;Mogilev&quot;,1599234),\n    new City(&quot;Vitebsk&quot;,3999231),\n    new City(&quot;Brest&quot;,4999234)\n);\nvar cityNames = cities.stream()\n    .sorted(Comparator.comparingInt(City::population).reversed())\n    .map(City::name)\n    .toList();\nSystem.out.println(cityNames);\n</code></pre>\n"}],"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"Денис Задорожний"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74248065,"answer_count":2,"score":0,"last_activity_date":1667071911,"creation_date":1667069461,"question_id":74247954,"body_markdown":"I study streams and solve various tasks with them. And I can’t cope with one, I have a map with cities and the amount of violence. I need to display only the name of the cities in descending order of the number of population.In fact, it should display the cities in this order Brest, Vitebsk,Minsk, Mogilev. No matter how I write, I can&#39;t, here&#39;s my code.\r\n\r\n            Map&lt;String,Integer&gt; cities = new HashMap&lt;&gt;();\r\n        cities.put(&quot;Minsk&quot;,1999234);\r\n        cities.put(&quot;Mogilev&quot;,1599234);\r\n        cities.put(&quot;Vitebsk&quot;,3999231);\r\n        cities.put(&quot;Brest&quot;,4999234);\r\n\r\n        List&lt;Integer&gt; collect =cities.entrySet().stream()\r\n            .map(o-&gt;o.getValue())\r\n            .sorted(Comparator.reverseOrder())\r\n            .collect(Collectors.toList());\r\n\r\nSo far, I was able to sort by population, but I don’t understand how to display the name of the cities sorted further","title":"How to display the name of cities sorted by population through streams?","body":"<p>I study streams and solve various tasks with them. And I can’t cope with one, I have a map with cities and the amount of violence. I need to display only the name of the cities in descending order of the number of population.In fact, it should display the cities in this order Brest, Vitebsk,Minsk, Mogilev. No matter how I write, I can't, here's my code.</p>\n<pre><code>        Map&lt;String,Integer&gt; cities = new HashMap&lt;&gt;();\n    cities.put(&quot;Minsk&quot;,1999234);\n    cities.put(&quot;Mogilev&quot;,1599234);\n    cities.put(&quot;Vitebsk&quot;,3999231);\n    cities.put(&quot;Brest&quot;,4999234);\n\n    List&lt;Integer&gt; collect =cities.entrySet().stream()\n        .map(o-&gt;o.getValue())\n        .sorted(Comparator.reverseOrder())\n        .collect(Collectors.toList());\n</code></pre>\n<p>So far, I was able to sort by population, but I don’t understand how to display the name of the cities sorted further</p>\n"},{"tags":["java","c#","operating-system","raspberry-pi"],"comments":[{"owner":{"account_id":505485,"reputation":5712,"user_id":5481787,"accept_rate":90,"display_name":"BWA"},"score":0,"creation_date":1495469943,"post_id":44117665,"comment_id":75254581,"body_markdown":"Short answer, no.","body":"Short answer, no."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1495469946,"post_id":44117665,"comment_id":75254582,"body_markdown":"They do have a browser, so you can program it in Javascript.","body":"They do have a browser, so you can program it in Javascript."},{"owner":{"account_id":4955797,"reputation":334,"user_id":3988440,"display_name":"Random Man Wangler"},"score":3,"creation_date":1495470567,"post_id":44117665,"comment_id":75254923,"body_markdown":"&quot;I am a very good programmer.&quot;","body":"&quot;I am a very good programmer.&quot;"},{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1495471188,"post_id":44117665,"comment_id":75255250,"body_markdown":"Both languages compile to an intermediate code which requires a further interpreter to execute it - neither compiles to native code which you would need to write an operating system.","body":"Both languages compile to an intermediate code which requires a further interpreter to execute it - neither compiles to native code which you would need to write an operating system."},{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1495471734,"post_id":44117665,"comment_id":75255518,"body_markdown":"C/C++ would be a possibility with a cross-compiler : http://hackaday.com/2016/02/03/code-craft-cross-compiling-for-the-raspberry-pi/","body":"C/C++ would be a possibility with a cross-compiler : <a href=\"http://hackaday.com/2016/02/03/code-craft-cross-compiling-for-the-raspberry-pi/\" rel=\"nofollow noreferrer\">hackaday.com/2016/02/03/&hellip;</a>"},{"owner":{"account_id":6198062,"reputation":1462,"user_id":4828786,"display_name":"Kevin"},"score":0,"creation_date":1495472221,"post_id":44117665,"comment_id":75255763,"body_markdown":"The short answer as stated by BWA is no. You need a language that compiles to native binary executable by the CPU. No managed language does that (both C# and Java are managed).","body":"The short answer as stated by BWA is no. You need a language that compiles to native binary executable by the CPU. No managed language does that (both C# and Java are managed)."}],"answers":[{"comments":[{"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"score":0,"creation_date":1495471202,"post_id":44117961,"comment_id":75255258,"body_markdown":"Thanks, but is there no way to programm a os in C#?","body":"Thanks, but is there no way to programm a os in C#?"},{"owner":{"account_id":10953642,"reputation":11,"user_id":8049186,"display_name":"SuseelMenon"},"score":0,"creation_date":1495472225,"post_id":44117961,"comment_id":75255764,"body_markdown":"Nope. Never read of anyone having made an OS in C#.","body":"Nope. Never read of anyone having made an OS in C#."},{"owner":{"account_id":2164300,"reputation":2196,"user_id":1917721,"accept_rate":93,"display_name":"HFBrowning"},"score":0,"creation_date":1495473987,"post_id":44117961,"comment_id":75256742,"body_markdown":"Possible as a thought experiment or research problem or fun project, but otherwise... :) https://stackoverflow.com/questions/4058876/a-full-operating-system-in-c-sharp","body":"Possible as a thought experiment or research problem or fun project, but otherwise... :) <a href=\"https://stackoverflow.com/questions/4058876/a-full-operating-system-in-c-sharp\" title=\"a full operating system in c sharp\">stackoverflow.com/questions/4058876/&hellip;</a>"}],"tags":[],"owner":{"account_id":10953642,"reputation":11,"user_id":8049186,"display_name":"SuseelMenon"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495470810,"creation_date":1495470810,"answer_id":44117961,"question_id":44117665,"body_markdown":"Coding a full fledged operating system from the bottom up is obviously difficult and time consuming. What you can do is use any openly available Linux distro or the Linux kernel/source code and modify it in ways you prefer.\nTo do the same you need to have good hand at C as the source code for Linux is written in C. \nVisit this link I found : \n\n[This is the Linux from scratch page][1]\n\n\n  [1]: http://www.linuxfromscratch.org/lfs/","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>Coding a full fledged operating system from the bottom up is obviously difficult and time consuming. What you can do is use any openly available Linux distro or the Linux kernel/source code and modify it in ways you prefer.\nTo do the same you need to have good hand at C as the source code for Linux is written in C. \nVisit this link I found : </p>\n\n<p><a href=\"http://www.linuxfromscratch.org/lfs/\" rel=\"nofollow noreferrer\">This is the Linux from scratch page</a></p>\n"},{"comments":[{"owner":{"account_id":3686350,"reputation":6713,"user_id":3070060,"display_name":"PaulF"},"score":0,"creation_date":1495471869,"post_id":44118181,"comment_id":75255578,"body_markdown":"C# is possible on Linux with Mono : https://www.maketecheasier.com/write-c-sharp-programs-raspberry-pi/","body":"C# is possible on Linux with Mono : <a href=\"https://www.maketecheasier.com/write-c-sharp-programs-raspberry-pi/\" rel=\"nofollow noreferrer\">maketecheasier.com/write-c-sharp-programs-raspberry-pi</a>"},{"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"score":0,"creation_date":1495471873,"post_id":44118181,"comment_id":75255581,"body_markdown":"Thanks, that was very helpful. Is there also a way to start your C# programm instant? Before you see the bootscreen and the login-screen...?","body":"Thanks, that was very helpful. Is there also a way to start your C# programm instant? Before you see the bootscreen and the login-screen...?"},{"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"score":0,"creation_date":1495472322,"post_id":44118181,"comment_id":75255832,"body_markdown":"@Alwin07 You cannot start a C# program before the OS because the program runs _in_ the OS. That being said, I&#39;ve never tinkered with Windows 10 IoT myself, so I couldn&#39;t say for certain what you can or cannot do. So maybe the OS is streamlined and customizable enough to allow for you to boot directly into a program, bypassing any other boot visuals or other requisites.","body":"@Alwin07 You cannot start a C# program before the OS because the program runs <i>in</i> the OS. That being said, I&#39;ve never tinkered with Windows 10 IoT myself, so I couldn&#39;t say for certain what you can or cannot do. So maybe the OS is streamlined and customizable enough to allow for you to boot directly into a program, bypassing any other boot visuals or other requisites."},{"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"score":0,"creation_date":1495472490,"post_id":44118181,"comment_id":75255945,"body_markdown":"@Abion47 Pity! :(","body":"@Abion47 Pity! :("},{"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"score":0,"creation_date":1495472518,"post_id":44118181,"comment_id":75255962,"body_markdown":"@PaulF I generally don&#39;t like using Mono unless I need the cross-platform compatibility. Their libraries and C# implementation are outdated compared to .NET, and several components don&#39;t always work the way one would expect them to. I&#39;m not trying to bash on Mono, but if I had the option to program in .NET, I&#39;d take it, and Windows 10 IoT allows that. So unless OP wants the flexibility of Linux, I&#39;d still recommend Windows in this case.","body":"@PaulF I generally don&#39;t like using Mono unless I need the cross-platform compatibility. Their libraries and C# implementation are outdated compared to .NET, and several components don&#39;t always work the way one would expect them to. I&#39;m not trying to bash on Mono, but if I had the option to program in .NET, I&#39;d take it, and Windows 10 IoT allows that. So unless OP wants the flexibility of Linux, I&#39;d still recommend Windows in this case."},{"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"score":0,"creation_date":1495472811,"post_id":44118181,"comment_id":75256105,"body_markdown":"Is there any way to replace the windows boot logo with a animated GIF?","body":"Is there any way to replace the windows boot logo with a animated GIF?"},{"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"score":0,"creation_date":1495473493,"post_id":44118181,"comment_id":75256480,"body_markdown":"@Alwin07 I have no idea. Like I said, I&#39;ve never messed with that OS myself.","body":"@Alwin07 I have no idea. Like I said, I&#39;ve never messed with that OS myself."}],"tags":[],"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1495471604,"creation_date":1495471604,"answer_id":44118181,"question_id":44117665,"body_markdown":"While I won&#39;t say that it&#39;s impossible, programming an OS from the ground up in nothing but C#  isn&#39;t really feasible. All* the C# compilers (such as the ones for .NET and Mono) compile the C# into an intermediary code called Common Intermediary Language (CIL). This language is interpreted at runtime into bytecode that is then executed by the computer. You can&#39;t very well have a runtime interpreting that code if there&#39;s no OS to be interpreting it. (Java executes into a Java-esque pseudo-bytecode which is interpreted by the Java Runtime Environment, so the same thing applies.)\r\n\r\nWhat you _can_ do is install the [Windows 10 IoT Core OS][1] onto your Raspberry Pi. Once you do that, you will be able to program and run C# programs on your machine via UWP. Maybe not a perfect solution for your needs, but it&#39;s as close as you can get without writing a custom C# compiler/runtime from scratch.\r\n\r\n_*: There are one or two third party C# compilers that do compile into C-like bytecode, but AFAIK they are abandoned, highly experimental, support ony  a small subset of the language, or any combination of the three. In addition, using these compilers would disallow you to use any of the .NET standard library, meaning you really will be coding from scratch._\r\n\r\n\r\n  [1]: https://developer.microsoft.com/en-us/windows/iot/getstarted","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>While I won't say that it's impossible, programming an OS from the ground up in nothing but C#  isn't really feasible. All* the C# compilers (such as the ones for .NET and Mono) compile the C# into an intermediary code called Common Intermediary Language (CIL). This language is interpreted at runtime into bytecode that is then executed by the computer. You can't very well have a runtime interpreting that code if there's no OS to be interpreting it. (Java executes into a Java-esque pseudo-bytecode which is interpreted by the Java Runtime Environment, so the same thing applies.)</p>\n\n<p>What you <em>can</em> do is install the <a href=\"https://developer.microsoft.com/en-us/windows/iot/getstarted\" rel=\"nofollow noreferrer\">Windows 10 IoT Core OS</a> onto your Raspberry Pi. Once you do that, you will be able to program and run C# programs on your machine via UWP. Maybe not a perfect solution for your needs, but it's as close as you can get without writing a custom C# compiler/runtime from scratch.</p>\n\n<p><em>*: There are one or two third party C# compilers that do compile into C-like bytecode, but AFAIK they are abandoned, highly experimental, support ony  a small subset of the language, or any combination of the three. In addition, using these compilers would disallow you to use any of the .NET standard library, meaning you really will be coding from scratch.</em></p>\n"},{"tags":[],"owner":{"account_id":204204,"reputation":2723,"user_id":452266,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495471700,"creation_date":1495471700,"answer_id":44118207,"question_id":44117665,"body_markdown":"At one time, Microsoft Research developed an operating system, [Singularity][1], that was primarily written in a variant of C#.  Even for that project though, certain core pieces of the OS had to be written in C and assembly.  While the project predates the Pi, it can give you an idea of what OS components could feasibly be written in C#.\r\n\r\n\r\n  [1]: https://www.microsoft.com/en-us/research/project/singularity/","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>At one time, Microsoft Research developed an operating system, <a href=\"https://www.microsoft.com/en-us/research/project/singularity/\" rel=\"nofollow noreferrer\">Singularity</a>, that was primarily written in a variant of C#.  Even for that project though, certain core pieces of the OS had to be written in C and assembly.  While the project predates the Pi, it can give you an idea of what OS components could feasibly be written in C#.</p>\n"}],"owner":{"account_id":9081025,"reputation":836,"user_id":6760875,"display_name":"Alwin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1495484720,"accepted_answer_id":44118181,"answer_count":3,"score":-1,"last_activity_date":1667071619,"creation_date":1495469852,"question_id":44117665,"body_markdown":"I know that operating systems are usually developed in low level languages such as C, C++ or even Assembly. However, is there any way to program a Raspberry Pi operating system in a high level language such as C# or Java? ","title":"Raspberry Pi operating system based on a high level language such as C# or Java?","body":"<p>I know that operating systems are usually developed in low level languages such as C, C++ or even Assembly. However, is there any way to program a Raspberry Pi operating system in a high level language such as C# or Java?</p>\n"},{"tags":["java","android","android-navigation","android-navigation-graph"],"answers":[{"comments":[{"owner":{"account_id":26766019,"reputation":13,"user_id":20363150,"display_name":"user20363150"},"score":0,"creation_date":1667174979,"post_id":74248112,"comment_id":131102163,"body_markdown":"But what&#39;s the role of popUpToInclusive? I thought It&#39;d keep dashboard when set it false. but didn&#39;t work","body":"But what&#39;s the role of popUpToInclusive? I thought It&#39;d keep dashboard when set it false. but didn&#39;t work"},{"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"score":0,"creation_date":1667201829,"post_id":74248112,"comment_id":131106002,"body_markdown":"It&#39;s partially true. When you use bottom nav item click events, it&#39;s not using that action where you put popupToInclusive, it will use setOnItemSelectedListener. that is why we chose this way. But for example if you want to go from Aa -&gt; Ab and you use popUpTo and popupToInclusive in that action, it will work. For more info on popUpTo see [this](https://developer.android.com/guide/navigation/navigation-navigate#pop)","body":"It&#39;s partially true. When you use bottom nav item click events, it&#39;s not using that action where you put popupToInclusive, it will use setOnItemSelectedListener. that is why we chose this way. But for example if you want to go from Aa -&gt; Ab and you use popUpTo and popupToInclusive in that action, it will work. For more info on popUpTo see <a href=\"https://developer.android.com/guide/navigation/navigation-navigate#pop\" rel=\"nofollow noreferrer\">this</a>"}],"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667070688,"creation_date":1667070688,"answer_id":74248112,"question_id":74242901,"body_markdown":"When you use app:popUpTo=&quot;@id/navigation_dashboard&quot;, it will delete the dashboard and jumps one back from it, in your case to home. Just delete those 2 lines to avoid that situation.\r\n```\r\n&lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot;\r\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_dashboard&quot;\r\n            app:destination=&quot;@+id/navigation_seconddash&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n```\r\nAnd for your 2 problems add below line, it will delete your backstack when you click any of the bottom nav items, and the deleting one by one situation works well:\r\n\r\n```\r\n        yourBottomNavView.setOnItemSelectedListener { item -&gt;\r\n            NavigationUI.onNavDestinationSelected(item, yourNavController)\r\n            yourNavController.popBackStack(item.itemId, inclusive = false)\r\n            true\r\n        }\r\n```\r\n","title":"Android navigation best practice?","body":"<p>When you use app:popUpTo=&quot;@id/navigation_dashboard&quot;, it will delete the dashboard and jumps one back from it, in your case to home. Just delete those 2 lines to avoid that situation.</p>\n<pre><code>&lt;fragment\n        android:id=&quot;@+id/navigation_dashboard&quot;\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\n        android:label=&quot;@string/title_dashboard&quot;\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_dashboard&quot;\n            app:destination=&quot;@+id/navigation_seconddash&quot; /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n<p>And for your 2 problems add below line, it will delete your backstack when you click any of the bottom nav items, and the deleting one by one situation works well:</p>\n<pre><code>        yourBottomNavView.setOnItemSelectedListener { item -&gt;\n            NavigationUI.onNavDestinationSelected(item, yourNavController)\n            yourNavController.popBackStack(item.itemId, inclusive = false)\n            true\n        }\n</code></pre>\n"}],"owner":{"account_id":26766019,"reputation":13,"user_id":20363150,"display_name":"user20363150"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74248112,"answer_count":1,"score":0,"last_activity_date":1667070688,"creation_date":1667019254,"question_id":74242901,"body_markdown":"I&#39;m currently using navigation version 2.5.2\r\n\r\nI&#39;ve got BottomNavigationView for main menu.\r\n\r\nFor example,\r\n\r\nMain Menu : `A, B, C`&lt;br/&gt;\r\nA(home) can go `A -&gt; Aa -&gt; Ab -&gt; D`&lt;br/&gt;\r\nB can go `B -&gt; D`&lt;br/&gt;\r\nC can go `C -&gt; Ca -&gt; D`&lt;br/&gt;\r\n\r\nsomething like that.\r\n\r\nHere&#39;s what I have to do,\r\n\r\n**1. When user click bottom menu, the navigation stack must erase. (ex. When user go A-\\&gt;Aa, and then click B menu at the bottom and back to A, Aa should be erased. User is to see A not Aa)**\r\n\r\n**2. When user click system back button, the stack should be erased one by one. (ex. A-\\&gt;Aa-\\&gt;Ab. When click back, Ab gone and Aa gone and A)**\r\n\r\n*The problem is*,\r\nWhen I go B-\\&gt;D and click back(B appeared) and back again(A appeared as it&#39;s home).\r\nAnd!!! click B again,\r\n\r\nIt doesn&#39;t even created at the first click, and it is shown from the second click.&lt;br/&gt;\r\nNo error msg.\r\n\r\n&lt;br/&gt;\r\nmobile_navigation.xml\r\n\r\n```\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/home&quot;&gt;\r\n\r\n    &lt;include app:graph=&quot;@navigation/home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot;\r\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_dashboard&quot;\r\n            app:destination=&quot;@+id/navigation_seconddash&quot;\r\n            app:popUpTo=&quot;@id/navigation_dashboard&quot;\r\n            app:popUpToSaveState=&quot;true&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_seconddash&quot;\r\n        android:name=&quot;com.example.www.ui.home.SecondDashboardFragment&quot;\r\n        android:label=&quot;DashBoard2&quot;\r\n        tools:layout=&quot;@layout/fragment_seconddashboard&quot;/&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:name=&quot;com.example.www.ui.notifications.NotificationsFragment&quot;\r\n        android:label=&quot;@string/title_notifications&quot;\r\n        tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\n\r\nDashboard clickevent\r\n\r\n```\r\nbinding.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Navigation.findNavController(view).navigate(R.id.action_dashboard);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nIt works find when click menu instead of back button.&lt;br/&gt;\r\nhttps://www.youtube.com/shorts/RgyjKWDLx0I&lt;br/&gt;\r\nAbove is video I recorded cos hard to explain in text.\r\n\r\n\r\nI&#39;ve tried deeplink, but it doesn&#39;t clear stack.\r\ntried different versions, doesn&#39;t work.\r\n\r\n","title":"Android navigation best practice?","body":"<p>I'm currently using navigation version 2.5.2</p>\n<p>I've got BottomNavigationView for main menu.</p>\n<p>For example,</p>\n<p>Main Menu : <code>A, B, C</code><br/>\nA(home) can go <code>A -&gt; Aa -&gt; Ab -&gt; D</code><br/>\nB can go <code>B -&gt; D</code><br/>\nC can go <code>C -&gt; Ca -&gt; D</code><br/></p>\n<p>something like that.</p>\n<p>Here's what I have to do,</p>\n<p><strong>1. When user click bottom menu, the navigation stack must erase. (ex. When user go A-&gt;Aa, and then click B menu at the bottom and back to A, Aa should be erased. User is to see A not Aa)</strong></p>\n<p><strong>2. When user click system back button, the stack should be erased one by one. (ex. A-&gt;Aa-&gt;Ab. When click back, Ab gone and Aa gone and A)</strong></p>\n<p><em>The problem is</em>,\nWhen I go B-&gt;D and click back(B appeared) and back again(A appeared as it's home).\nAnd!!! click B again,</p>\n<p>It doesn't even created at the first click, and it is shown from the second click.<br/>\nNo error msg.</p>\n<br/>\nmobile_navigation.xml\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mobile_navigation&quot;\n    app:startDestination=&quot;@id/home&quot;&gt;\n\n    &lt;include app:graph=&quot;@navigation/home&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_dashboard&quot;\n        android:name=&quot;com.example.www.ui.dashboard.DashboardFragment&quot;\n        android:label=&quot;@string/title_dashboard&quot;\n        tools:layout=&quot;@layout/fragment_dashboard&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_dashboard&quot;\n            app:destination=&quot;@+id/navigation_seconddash&quot;\n            app:popUpTo=&quot;@id/navigation_dashboard&quot;\n            app:popUpToSaveState=&quot;true&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_seconddash&quot;\n        android:name=&quot;com.example.www.ui.home.SecondDashboardFragment&quot;\n        android:label=&quot;DashBoard2&quot;\n        tools:layout=&quot;@layout/fragment_seconddashboard&quot;/&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/navigation_notifications&quot;\n        android:name=&quot;com.example.www.ui.notifications.NotificationsFragment&quot;\n        android:label=&quot;@string/title_notifications&quot;\n        tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>Dashboard clickevent</p>\n<pre><code>binding.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Navigation.findNavController(view).navigate(R.id.action_dashboard);\n            }\n        });\n</code></pre>\n<p>It works find when click menu instead of back button.<br/>\n<a href=\"https://www.youtube.com/shorts/RgyjKWDLx0I\" rel=\"nofollow noreferrer\">https://www.youtube.com/shorts/RgyjKWDLx0I</a><br/>\nAbove is video I recorded cos hard to explain in text.</p>\n<p>I've tried deeplink, but it doesn't clear stack.\ntried different versions, doesn't work.</p>\n"},{"tags":["java","spring","oracle","apache-camel"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1666911144,"post_id":74228857,"comment_id":131053355,"body_markdown":"Java has an SQL [CLOB](https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html#CLOB) type... How are the Java variables that are bound to the OUT parameters defined?","body":"Java has an SQL <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html#CLOB\" rel=\"nofollow noreferrer\">CLOB</a> type... How are the Java variables that are bound to the OUT parameters defined?"},{"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1666933827,"post_id":74228857,"comment_id":131056456,"body_markdown":"As the procedure fails every night for last 3 weeks, *something* changed. Might be that content size was much smaller before, as now - as you said - it is 75K. It shouldn&#39;t be too difficult to verify it: modify the procedure and put e.g. &quot;Gerry&quot; into the return content - that *should* fit. Doesn&#39;t matter that it isn&#39;t what you&#39;d expect as the result, but - you don&#39;t have it for 3 weeks now, so one more night won&#39;t make a difference. If the procedure finishes OK, then you got it. I don&#39;t know Java so - have a look at what Alex said.","body":"As the procedure fails every night for last 3 weeks, <i>something</i> changed. Might be that content size was much smaller before, as now - as you said - it is 75K. It shouldn&#39;t be too difficult to verify it: modify the procedure and put e.g. &quot;Gerry&quot; into the return content - that <i>should</i> fit. Doesn&#39;t matter that it isn&#39;t what you&#39;d expect as the result, but - you don&#39;t have it for 3 weeks now, so one more night won&#39;t make a difference. If the procedure finishes OK, then you got it. I don&#39;t know Java so - have a look at what Alex said."},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667067459,"post_id":74228857,"comment_id":131085006,"body_markdown":"Maybe this is how to do it https://stackoverflow.com/questions/39466517/persist-data-into-blob-clob-datatype-in-oracle-db-using-apache-camel-framework Sure would be nice if the Camel people would document this stuff, or if they have, if I could find it.","body":"Maybe this is how to do it <a href=\"https://stackoverflow.com/questions/39466517/persist-data-into-blob-clob-datatype-in-oracle-db-using-apache-camel-framework\" title=\"persist data into blob clob datatype in oracle db using apache camel framework\">stackoverflow.com/questions/39466517/&hellip;</a> Sure would be nice if the Camel people would document this stuff, or if they have, if I could find it."},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667068576,"post_id":74228857,"comment_id":131085270,"body_markdown":"And somebody does it in XML, but how to do in Java https://stackoverflow.com/questions/72237216/retrieve-clob-data-using-apache-camel","body":"And somebody does it in XML, but how to do in Java <a href=\"https://stackoverflow.com/questions/72237216/retrieve-clob-data-using-apache-camel\" title=\"retrieve clob data using apache camel\">stackoverflow.com/questions/72237216/&hellip;</a>"},{"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"score":0,"creation_date":1667315842,"post_id":74228857,"comment_id":131136198,"body_markdown":"Wrote a test stored procedure and found 32K is okay, 75K blows up. Changing the stored procedure to implement paging. Still no CLOB, no idea at all what that would look like.","body":"Wrote a test stored procedure and found 32K is okay, 75K blows up. Changing the stored procedure to implement paging. Still no CLOB, no idea at all what that would look like."}],"owner":{"account_id":927341,"reputation":1071,"user_id":957847,"accept_rate":29,"display_name":"Gerry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667069266,"creation_date":1666908967,"question_id":74228857,"body_markdown":"I have a major problem with Camel/Spring framework/Oracle. My middleware calls many stored procedures, but one has a problem. Code looks like:\r\n\r\n    .to(&quot;sql-stored:someschema.somepackagename.someprocedure(&quot; + \r\n    \t&quot;OUT VARCHAR op_pending_list, OUT INTEGER op_return_status, OUT VARCHAR op_return_message)?dataSource=#somedatasource&quot;)\r\n\r\nThis is a nightly job that ran fine for 3 weeks, but now fails every night.\r\n\r\nThat procedure logs (to a db table) that everything is fine. The very last thing it does is log the result count and status code and that indicates working as expected.\r\n\r\nOn processing the response, middleware detects and logs the Oracle exception:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException CallableStatementCallback; bad SQL grammar [{call someschmea.somepackagename.someprocedure(?, ?, ?)}]; nested exception is java.sql.SQLException: ORA-06502: PL/SQL: numeric or value error\r\n    ORA-06512: at line 1\r\n\r\nPossibly the return value (Integer) might need to change to Number (NUMERIC in Camel). Integer is used in a number of other places without issue.\r\n\r\nAnother possibility is the return content is too large, I think it is around 75K. Declared as VARCHAR in middleware. In the stored procedure it is CLOB, but there is no Java type for that. Correction: there is a Java type for CLOB, but no idea how to use it. If I use CLOB it blows up trying to make the call. \r\n\r\nAnother possibility is that it is after logging (in the stored procedure) the exception occurs, even though the write to the table works and there isn’t any code left to run.\r\n\r\nPossible spring framework problem? \r\n\r\nWe have 3 environments, works fine in DEV and TEST, fails in PROD. Used to work in PROD for a while.... \r\n\r\nthoughts?\r\n","title":"Camel calls stored procedure which works fine, except for new mystery ORA exception","body":"<p>I have a major problem with Camel/Spring framework/Oracle. My middleware calls many stored procedures, but one has a problem. Code looks like:</p>\n<pre><code>.to(&quot;sql-stored:someschema.somepackagename.someprocedure(&quot; + \n    &quot;OUT VARCHAR op_pending_list, OUT INTEGER op_return_status, OUT VARCHAR op_return_message)?dataSource=#somedatasource&quot;)\n</code></pre>\n<p>This is a nightly job that ran fine for 3 weeks, but now fails every night.</p>\n<p>That procedure logs (to a db table) that everything is fine. The very last thing it does is log the result count and status code and that indicates working as expected.</p>\n<p>On processing the response, middleware detects and logs the Oracle exception:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException CallableStatementCallback; bad SQL grammar [{call someschmea.somepackagename.someprocedure(?, ?, ?)}]; nested exception is java.sql.SQLException: ORA-06502: PL/SQL: numeric or value error\nORA-06512: at line 1\n</code></pre>\n<p>Possibly the return value (Integer) might need to change to Number (NUMERIC in Camel). Integer is used in a number of other places without issue.</p>\n<p>Another possibility is the return content is too large, I think it is around 75K. Declared as VARCHAR in middleware. In the stored procedure it is CLOB, but there is no Java type for that. Correction: there is a Java type for CLOB, but no idea how to use it. If I use CLOB it blows up trying to make the call.</p>\n<p>Another possibility is that it is after logging (in the stored procedure) the exception occurs, even though the write to the table works and there isn’t any code left to run.</p>\n<p>Possible spring framework problem?</p>\n<p>We have 3 environments, works fine in DEV and TEST, fails in PROD. Used to work in PROD for a while....</p>\n<p>thoughts?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667045197,"post_id":74245097,"comment_id":131080359,"body_markdown":"So you basically need group by?","body":"So you basically need group by?"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667045449,"post_id":74245097,"comment_id":131080405,"body_markdown":"how are you going to fit that record into a hashmap?","body":"how are you going to fit that record into a hashmap?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667045677,"post_id":74245097,"comment_id":131080435,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1667045806,"post_id":74245097,"comment_id":131080456,"body_markdown":"I dont know why you use List&lt;Map&lt;String,String&gt;&gt; when you could use a custom class/Record to represent each record instead.","body":"I dont know why you use List&lt;Map&lt;String,String&gt;&gt; when you could use a custom class/Record to represent each record instead."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1667061233,"post_id":74245097,"comment_id":131083678,"body_markdown":"Try looking at [Count occurrences of value in a map](https://stackoverflow.com/questions/44500446/count-occurrences-of-value-in-a-map?adlt=strict&amp;toWww=1&amp;redig=C18AF74D8EC54E0FB8B6FAF4A71EDBDD).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/44500446/count-occurrences-of-value-in-a-map?adlt=strict&amp;toWww=1&amp;redig=C18AF74D8EC54E0FB8B6FAF4A71EDBDD\">Count occurrences of value in a map</a>."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667068809,"creation_date":1667068809,"answer_id":74247866,"question_id":74245097,"body_markdown":"**Using Java 8 stream**\r\n\r\n*You can try using stream `groupingBy` feature to get the `count` of each member type shown as below:*\r\n\r\n**Logic:**\r\n\r\nHere, I have created a POJO class `FamilyMember` with some attributes as given in the problem statement and created a list of FamilyMember and then by using `stream` operation and using `groupingBy`, grouped the data by `memberType` and using `Collectors.counting` getting the count of each memberType.\r\n\r\n**Suggestions:**\r\n\r\nAs mentioned in the problem statement, the given input is in the form of `List&lt;Map&lt;String, String&gt;&gt;` so instead of Map you can use a POJO class to hold the data for each member as shown in my implementation.\r\nAnd moreover, how you are holding this kind of structure in the form of `Map&lt;String,String&gt;`\r\n\r\n**Code:**\r\n\r\n        public class Test {\r\n    \r\n           public static void main(String[] args) {\r\n    \r\n            FamilyMember member1 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member2 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name2&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member3 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name3&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n            FamilyMember member4 = new FamilyMember(&quot;Child&quot;,&quot;Child name&quot;,\r\n                    LocalDate.of(2010,12,12),&quot;Male&quot;);\r\n            FamilyMember member5 = new FamilyMember(&quot;Child&quot;,&quot;Child name2&quot;,\r\n                    LocalDate.of(2000,12,12),&quot;Female&quot;);\r\n            FamilyMember member6 = new FamilyMember(&quot;Spouse&quot;,&quot;Spouse name&quot;,\r\n                    LocalDate.of(1990,12,12),&quot;Male&quot;);\r\n    \r\n            List&lt;FamilyMember&gt; listOfFamilyMember = Arrays.asList(member1,member2,\r\n                                                  member3,member4,member5,member6);\r\n    \r\n            Map&lt;String,Long&gt; countMembers = listOfFamilyMember.stream()\r\n                    .collect(Collectors.groupingBy(FamilyMember::getMemberType,\r\n                   Collectors.counting()));\r\n    \r\n            System.out.println(countMembers);\r\n        }\r\n    }\r\n\r\n**FamilyMember.java**\r\n\r\n    public class FamilyMember {\r\n    \r\n        private String memberType;\r\n        private String fullName;\r\n        private LocalDate dateOfBirth;\r\n        private String gender;\r\n    \r\n        public FamilyMember(String memberType, String fullName, \r\n                            LocalDate dateOfBirth, String gender) {\r\n            this.memberType = memberType;\r\n            this.fullName = fullName;\r\n            this.dateOfBirth = dateOfBirth;\r\n            this.gender = gender;\r\n        }\r\n        //getters and setters\r\n    }\r\n\r\n**Output:**\r\n\r\n    {Spouse=1, Sibling=3, Child=2}\r\n\r\n","title":"Get key count or occurrences in List&lt;Map&lt;String, String&gt; : Java","body":"<p><strong>Using Java 8 stream</strong></p>\n<p><em>You can try using stream <code>groupingBy</code> feature to get the <code>count</code> of each member type shown as below:</em></p>\n<p><strong>Logic:</strong></p>\n<p>Here, I have created a POJO class <code>FamilyMember</code> with some attributes as given in the problem statement and created a list of FamilyMember and then by using <code>stream</code> operation and using <code>groupingBy</code>, grouped the data by <code>memberType</code> and using <code>Collectors.counting</code> getting the count of each memberType.</p>\n<p><strong>Suggestions:</strong></p>\n<p>As mentioned in the problem statement, the given input is in the form of <code>List&lt;Map&lt;String, String&gt;&gt;</code> so instead of Map you can use a POJO class to hold the data for each member as shown in my implementation.\nAnd moreover, how you are holding this kind of structure in the form of <code>Map&lt;String,String&gt;</code></p>\n<p><strong>Code:</strong></p>\n<pre><code>    public class Test {\n\n       public static void main(String[] args) {\n\n        FamilyMember member1 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member2 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name2&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member3 = new FamilyMember(&quot;Sibling&quot;,&quot;Sibling name3&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n        FamilyMember member4 = new FamilyMember(&quot;Child&quot;,&quot;Child name&quot;,\n                LocalDate.of(2010,12,12),&quot;Male&quot;);\n        FamilyMember member5 = new FamilyMember(&quot;Child&quot;,&quot;Child name2&quot;,\n                LocalDate.of(2000,12,12),&quot;Female&quot;);\n        FamilyMember member6 = new FamilyMember(&quot;Spouse&quot;,&quot;Spouse name&quot;,\n                LocalDate.of(1990,12,12),&quot;Male&quot;);\n\n        List&lt;FamilyMember&gt; listOfFamilyMember = Arrays.asList(member1,member2,\n                                              member3,member4,member5,member6);\n\n        Map&lt;String,Long&gt; countMembers = listOfFamilyMember.stream()\n                .collect(Collectors.groupingBy(FamilyMember::getMemberType,\n               Collectors.counting()));\n\n        System.out.println(countMembers);\n    }\n}\n</code></pre>\n<p><strong>FamilyMember.java</strong></p>\n<pre><code>public class FamilyMember {\n\n    private String memberType;\n    private String fullName;\n    private LocalDate dateOfBirth;\n    private String gender;\n\n    public FamilyMember(String memberType, String fullName, \n                        LocalDate dateOfBirth, String gender) {\n        this.memberType = memberType;\n        this.fullName = fullName;\n        this.dateOfBirth = dateOfBirth;\n        this.gender = gender;\n    }\n    //getters and setters\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{Spouse=1, Sibling=3, Child=2}\n</code></pre>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667068809,"creation_date":1667045010,"question_id":74245097,"body_markdown":"I have List&lt;Map&lt;String, String&gt;&gt; that have family member details. Depending on added family member the rest details will be processed. \r\nThere can be other family member like uncle, aunt, niece... etc. These records can be single or multiple.\r\n\r\n      | Add_Family_Member | Full_Name     | Date_Of_Birth | Gender |\r\n      | Sibling           | Sibling name  | 12-12-1990    | Male   |\r\n      | Sibling           | Sibling name2 | 12-12-1990    | Male   |\r\n      | Sibling           | Sibling name2 | 12-12-1990    | Male   |\r\n      | Child             | Child name    | 12-12-2010    | Male   |\r\n      | Child             | Child name2   | 12-12-2000    | Female |\r\n      | Spouse            | Spouse name   | 12-12-1990    | Male   |\r\n\r\nSo how can I count Add_Family_Member i.e. Sibling count 3, Child count 2 and spouse count 1.","title":"Get key count or occurrences in List&lt;Map&lt;String, String&gt; : Java","body":"<p>I have List&lt;Map&lt;String, String&gt;&gt; that have family member details. Depending on added family member the rest details will be processed.\nThere can be other family member like uncle, aunt, niece... etc. These records can be single or multiple.</p>\n<pre><code>  | Add_Family_Member | Full_Name     | Date_Of_Birth | Gender |\n  | Sibling           | Sibling name  | 12-12-1990    | Male   |\n  | Sibling           | Sibling name2 | 12-12-1990    | Male   |\n  | Sibling           | Sibling name2 | 12-12-1990    | Male   |\n  | Child             | Child name    | 12-12-2010    | Male   |\n  | Child             | Child name2   | 12-12-2000    | Female |\n  | Spouse            | Spouse name   | 12-12-1990    | Male   |\n</code></pre>\n<p>So how can I count Add_Family_Member i.e. Sibling count 3, Child count 2 and spouse count 1.</p>\n"},{"tags":["java","linux","intellij-idea","javafx","jar"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1490645217,"post_id":43055474,"comment_id":73195594,"body_markdown":"Which Java runtime do you have on the linux machine? OpenJDK does not ship with JavaFX.","body":"Which Java runtime do you have on the linux machine? OpenJDK does not ship with JavaFX."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1490648415,"post_id":43055474,"comment_id":73197226,"body_markdown":"[Which linux?](https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/), what Java version ([`java -version`])?   Related: [Why is JavaFX is not included in OpenJDK 8 on Ubuntu Wily (15.10)?](http://stackoverflow.com/questions/34243982/why-is-javafx-is-not-included-in-openjdk-8-on-ubuntu-wily-15-10) and [JavaFX and OpenJDK](http://stackoverflow.com/questions/18547362/javafx-and-openjdk).  See also [Oracle java distributions for Linux](http://www.oracle.com/technetwork/java/javase/downloads/index.html), which include JavaFX.","body":"<a href=\"https://www.cyberciti.biz/faq/find-linux-distribution-name-version-number/\" rel=\"nofollow noreferrer\">Which linux?</a>, what Java version ([<code>java -version</code>])?   Related: <a href=\"http://stackoverflow.com/questions/34243982/why-is-javafx-is-not-included-in-openjdk-8-on-ubuntu-wily-15-10\">Why is JavaFX is not included in OpenJDK 8 on Ubuntu Wily (15.10)?</a> and <a href=\"http://stackoverflow.com/questions/18547362/javafx-and-openjdk\">JavaFX and OpenJDK</a>.  See also <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">Oracle java distributions for Linux</a>, which include JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":4524506,"reputation":189,"user_id":3676769,"display_name":"Matheus Valin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1490651823,"creation_date":1490651823,"answer_id":43057149,"question_id":43055474,"body_markdown":"So, turns out the problem was that the JRE on the Linux machine was OpenJDK, which does not come with JavaFX, as noted by James_D and jewelsea\r\n\r\nAfter installing the oracle JRE 8, it worked fine","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>So, turns out the problem was that the JRE on the Linux machine was OpenJDK, which does not come with JavaFX, as noted by James_D and jewelsea</p>\n\n<p>After installing the oracle JRE 8, it worked fine</p>\n"},{"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1667119606,"post_id":74247799,"comment_id":131091658,"body_markdown":"You are not really telling anybody to go back 11 versions of Java just because you are not able to get JavaFX working with the current version, do you? Instead have a look here for example: https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx","body":"You are not really telling anybody to go back 11 versions of Java just because you are not able to get JavaFX working with the current version, do you? Instead have a look here for example: <a href=\"https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx\" rel=\"nofollow noreferrer\">azul.com/downloads/&hellip;</a>"},{"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1667184532,"post_id":74247799,"comment_id":131103308,"body_markdown":"Apologies sir, I meant to clarify this is for people who are still using JRE 8. The app I&#39;m working on required JRE 8. But I&#39;m thinking the steps should more or less be the same for more recent versions of Java? Anyway, sorry this didn&#39;t help you.","body":"Apologies sir, I meant to clarify this is for people who are still using JRE 8. The app I&#39;m working on required JRE 8. But I&#39;m thinking the steps should more or less be the same for more recent versions of Java? Anyway, sorry this didn&#39;t help you."}],"tags":[],"owner":{"account_id":4076843,"reputation":508,"user_id":3348298,"accept_rate":100,"display_name":"Tim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667068048,"creation_date":1667068048,"answer_id":74247799,"question_id":43055474,"body_markdown":"Sorry for the necro post, but I had to take a few extra steps. I had JRE 8 installed, but I still had to point java_home to it.\r\nI&#39;m using a MAC. \r\n\r\nThe JDK locations are here:\r\n/Library/Java/JavaVirtualMachines (verify this)\r\n\r\nThe default JDK for my machine was temurin-17.jdk\r\n\r\nI had to change it to jdk1.8.0_301.jdk\r\n\r\nSteps:\r\n1) Open a terminal\r\n2) Type:\r\nvim ~/.bash_profile\r\n3) I pasted this onto the file:\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home\r\n4) Save and exit vim:\r\nhttps://phoenixnap.com/kb/how-to-vim-save-quit-exit\r\n5) In the terminal, type:\r\nsource ~/.bash_profile\r\n6) Restart your terminal\r\n7) In the terminal, type:\r\njava -version\r\n8) Make sure it&#39;s pointing to the right version\r\n9) Now navigate back to where the .jar is located.\r\n10) In the terminal, type: \r\njava -jar myapp.jar\r\n\r\nHope this helps.\r\n","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>Sorry for the necro post, but I had to take a few extra steps. I had JRE 8 installed, but I still had to point java_home to it.\nI'm using a MAC.</p>\n<p>The JDK locations are here:\n/Library/Java/JavaVirtualMachines (verify this)</p>\n<p>The default JDK for my machine was temurin-17.jdk</p>\n<p>I had to change it to jdk1.8.0_301.jdk</p>\n<p>Steps:</p>\n<ol>\n<li>Open a terminal</li>\n<li>Type:\nvim ~/.bash_profile</li>\n<li>I pasted this onto the file:\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home</li>\n<li>Save and exit vim:\n<a href=\"https://phoenixnap.com/kb/how-to-vim-save-quit-exit\" rel=\"nofollow noreferrer\">https://phoenixnap.com/kb/how-to-vim-save-quit-exit</a></li>\n<li>In the terminal, type:\nsource ~/.bash_profile</li>\n<li>Restart your terminal</li>\n<li>In the terminal, type:\njava -version</li>\n<li>Make sure it's pointing to the right version</li>\n<li>Now navigate back to where the .jar is located.</li>\n<li>In the terminal, type:\njava -jar myapp.jar</li>\n</ol>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4524506,"reputation":189,"user_id":3676769,"display_name":"Matheus Valin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43057149,"answer_count":2,"score":1,"last_activity_date":1667068048,"creation_date":1490645005,"question_id":43055474,"body_markdown":"I&#39;m trying to make a cross-platform JavaFX application, and it works fine on Windows and OSX machines, but not on Linux.\r\n\r\nWhen I try to run it on a Linux machine using java -jar app.jar, this is what I get:\r\n\r\n    Error: Could not find or load main class app.Main\r\n\r\nBut the class app.Main is in the .jar, as shown by &#39;jar tf app.jar&#39;:\r\n\r\n    ...\r\n    app/Main.class\r\n    ...\r\n\r\nI tried specifying the main class using java -cp app.jar app.Main but I got the same error message.\r\n\r\nThe .jar was built in Intellij IDEA, using basic JavaFX configuration.\r\n\r\nAny help?\r\n\r\n\r\n\r\n","title":"JavaFX .jar works on Windows and OSX but not on Linux","body":"<p>I'm trying to make a cross-platform JavaFX application, and it works fine on Windows and OSX machines, but not on Linux.</p>\n\n<p>When I try to run it on a Linux machine using java -jar app.jar, this is what I get:</p>\n\n<pre><code>Error: Could not find or load main class app.Main\n</code></pre>\n\n<p>But the class app.Main is in the .jar, as shown by 'jar tf app.jar':</p>\n\n<pre><code>...\napp/Main.class\n...\n</code></pre>\n\n<p>I tried specifying the main class using java -cp app.jar app.Main but I got the same error message.</p>\n\n<p>The .jar was built in Intellij IDEA, using basic JavaFX configuration.</p>\n\n<p>Any help?</p>\n"},{"tags":["java","spring-boot","drools","kie","drools-kie-server"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1643635216,"post_id":70899690,"comment_id":125384762,"body_markdown":"Did you save `dtFile` to your filesystem and verify it&#39;s actually saved before entering this &#39;if&#39; statement? (save/write being async operations.)","body":"Did you save <code>dtFile</code> to your filesystem and verify it&#39;s actually saved before entering this &#39;if&#39; statement? (save/write being async operations.)"}],"answers":[{"tags":[],"owner":{"account_id":24349652,"reputation":1,"user_id":18285660,"display_name":"Kapil Ankam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667067613,"creation_date":1667067613,"answer_id":74247743,"question_id":70899690,"body_markdown":"We see this issue when the DRL file not configured properly. \r\nThis error is misleading, please make sure drl file is not corrupted.","title":"Cannot find KieModule: org.default:artifact:1.0.0","body":"<p>We see this issue when the DRL file not configured properly.\nThis error is misleading, please make sure drl file is not corrupted.</p>\n"}],"owner":{"account_id":19510490,"reputation":11,"user_id":14274538,"display_name":"Ibrahim_Fneich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667067613,"creation_date":1643400347,"question_id":70899690,"body_markdown":"This is my configuration : \r\n\r\n    File dtFile = new File(&quot;path&quot;);\r\n           \r\n            if (dtFile != null) {\r\n                KieServices kieServices = KieServices.Factory.get();\r\n                KieFileSystem kieFileSystem = kieServices.newKieFileSystem().write(\r\n                        kieServices.getResources().newFileSystemResource(dtFile).setResourceType(ResourceType.DTABLE)\r\n                );\r\n                KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem);\r\n                kieBuilder.buildAll();\r\n                KieRepository kieRepository = kieServices.getRepository();\r\n                kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());\r\n            }\r\n\r\nand there is this error (Cannot find KieModule: org.default:artifact:1.0.0)\r\nat `kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());`\r\n...\r\n\r\n&gt; **The weird thing is if i open the excel file and save it manually (ctrl +s) the process will work successfully without errors**\r\n\r\n ","title":"Cannot find KieModule: org.default:artifact:1.0.0","body":"<p>This is my configuration :</p>\n<pre><code>File dtFile = new File(&quot;path&quot;);\n       \n        if (dtFile != null) {\n            KieServices kieServices = KieServices.Factory.get();\n            KieFileSystem kieFileSystem = kieServices.newKieFileSystem().write(\n                    kieServices.getResources().newFileSystemResource(dtFile).setResourceType(ResourceType.DTABLE)\n            );\n            KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem);\n            kieBuilder.buildAll();\n            KieRepository kieRepository = kieServices.getRepository();\n            kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());\n        }\n</code></pre>\n<p>and there is this error (Cannot find KieModule: org.default:artifact:1.0.0)\nat <code>kieContainer = kieServices.newKieContainer(kieRepository.getDefaultReleaseId());</code>\n...</p>\n<blockquote>\n<p><strong>The weird thing is if i open the excel file and save it manually (ctrl +s) the process will work successfully without errors</strong></p>\n</blockquote>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667067404,"creation_date":1667067404,"answer_id":74247717,"question_id":74247421,"body_markdown":"I think you are not getting the name correct, so it&#39;s not initializing it, name must be a string as a whole :\r\n```\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot; + (i+1).toString(), &quot;id&quot;, this.getPackageName());\r\n                L[i] = findViewById(resourceId);\r\n            }\r\n```\r\n","title":"Why do I get a null object reference on my RealtiveLayout.setBackgroundColor although I have initialized it","body":"<p>I think you are not getting the name correct, so it's not initializing it, name must be a string as a whole :</p>\n<pre><code>            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot; + (i+1).toString(), &quot;id&quot;, this.getPackageName());\n                L[i] = findViewById(resourceId);\n            }\n</code></pre>\n"}],"owner":{"account_id":19941118,"reputation":37,"user_id":20176107,"display_name":"Hamza Ateya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74247717,"answer_count":1,"score":1,"last_activity_date":1667067404,"creation_date":1667064800,"question_id":74247421,"body_markdown":"Here is my java code:\r\n```\r\npackage com.example.project_final;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class history extends AppCompatActivity {\r\n    FirebaseFirestore Fstore;\r\n    String userID;\r\n    FirebaseAuth fAuth ;\r\n    int times;\r\n    int heart;\r\n    int avg_heart;\r\n    String date;\r\n    int count = 0;\r\n    TextView Data;\r\n    RelativeLayout [] L = new RelativeLayout[7];\r\n    TextView [] hr = new TextView[7];\r\n    TextView [] dates = new TextView[7];\r\n    ImageView [] img = new ImageView[7];\r\n    TextView last;\r\n    ArrayList&lt;Integer&gt; intheart = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; intdates = new ArrayList&lt;&gt;();\r\n    TextView average;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_history);\r\n        Fstore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userID= fAuth.getUid();\r\n        DocumentReference documentReference = Fstore.collection(&quot;users&quot;).document(userID);\r\n        Data = findViewById(R.id.txtNodata);\r\n        Intent intent1 = getIntent();\r\n        String signup = intent1.getStringExtra(&quot;signup&quot;);\r\n            last = findViewById(R.id.txtlast);\r\n            average = findViewById(R.id.txtaverage);\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                L[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;heartrate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                hr[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;txtdate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                dates[i] = findViewById(resourceId);\r\n            }\r\n            for(int i = 0; i&lt;=6 ;i++) {\r\n                int resourceId = this.getResources().getIdentifier(&quot;img&quot;+ i+1, &quot;id&quot;, this.getPackageName());\r\n                img[i] = findViewById(resourceId);\r\n            }\r\n            documentReference.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    times = Math.toIntExact(task.getResult().getLong(&quot;times&quot;));\r\n                    avg_heart = Math.toIntExact(task.getResult().getLong(&quot;average_heart_rate&quot;));\r\n                    for (int i = 0 ; i &lt;times ;i++){\r\n                        intdates.add(task.getResult().getString(&quot;date&quot; + i));\r\n                        intheart.add(Math.toIntExact(task.getResult().getLong(&quot;heart&quot;+i)));\r\n                    }\r\n                }\r\n            });\r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if(!(intheart.isEmpty()||intdates.isEmpty())){\r\n                        int count =0;\r\n                        if(times&gt;7){\r\n                            times=7;\r\n                        }\r\n                        last.setText(&quot;Last &quot;+ times +&quot; Days history&quot;);\r\n                        for(int i =0 ; i&lt;intdates.size();i++){\r\n                            if(1.2*avg_heart&lt;intheart.get(i)||0.8*avg_heart&lt;intheart.get(i)){\r\n                                L[i].setBackgroundColor(R.drawable.color_gradient1);\r\n                                img[i].setImageResource(R.drawable.sad);\r\n                            }\r\n                            else{\r\n                                L[i].setBackgroundColor(R.drawable.gradient_color);\r\n                                img[i].setImageResource(R.drawable.happy);\r\n                            }\r\n                            dates[i].setText(intdates.get(i));\r\n                            hr[i].setText(intheart.get(i)+&quot; Bpm&quot;);\r\n                            L[i].setVisibility(View.VISIBLE);\r\n                        }\r\n                    }\r\n                    else{\r\n                        handler.postDelayed(this, 100);\r\n\r\n                    }\r\n\r\n                }\r\n            }, 100);\r\n\r\n\r\n\r\n        \r\n    }\r\n}\r\n```\r\nHere is my XML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;20dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.history&quot;&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtlast&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;&quot;\r\n        android:id=&quot;@+id/txtaverage&quot;\r\n        android:textColor=&quot;#000&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        /&gt;\r\n&lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtday1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 1&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtdate1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday1&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate1&quot;\r\n                    android:id=&quot;@+id/heartrate1&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img1&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:background=&quot;@drawable/color_gradient1&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 2&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday2&quot;\r\n                    /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtdate2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday2&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/heartrate2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate2&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img2&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:id=&quot;@+id/layout3&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 3&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday3&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday3&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate3&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate3&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate3&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img3&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout4&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/color_gradient1&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 4&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday4&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday4&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate4&quot;\r\n                    /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/heartrate4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate4&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot; /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img4&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout5&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 1&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday5&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday5&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate5&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate5&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate5&quot;\r\n                    /&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img5&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:visibility=&quot;invisible&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:id=&quot;@+id/layout6&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 6&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday6&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday6&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate6&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate6&quot;\r\n                    android:id=&quot;@+id/heartrate6&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img6&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;&gt;\r\n            &lt;RelativeLayout\r\n                android:visibility=&quot;invisible&quot;\r\n                android:id=&quot;@+id/layout7&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_color&quot;\r\n                android:padding=&quot;10dp&quot;\r\n                &gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Day 7&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:id=&quot;@+id/txtday7&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtday7&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:id=&quot;@+id/txtdate7&quot;\r\n                    /&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/txtdate7&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:textColor=&quot;#ffff&quot;\r\n                    android:id=&quot;@+id/heartrate7&quot;\r\n                    /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img7&quot;\r\n                    android:layout_width=&quot;300dp&quot;\r\n                    android:layout_height=&quot;300dp&quot;\r\n                    android:layout_marginLeft=&quot;220dp&quot;\r\n                    /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtNodata&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:fontFamily=&quot;@font/lovelo&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;No data Available&quot;\r\n        android:textColor=&quot;@color/colorRed&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:visibility=&quot;invisible&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n&lt;/ScrollView&gt;\r\n\r\n```\r\nWhen I run the code I get this error on a null object reference when I try to setbackground color inside the handler:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.RelativeLayout.setBackgroundColor(int)&#39; \r\n\r\nThe code should run fine since I initialized all the views. I&#39;ve been stuck for a while I don&#39;t know where is the problem help.","title":"Why do I get a null object reference on my RealtiveLayout.setBackgroundColor although I have initialized it","body":"<p>Here is my java code:</p>\n<pre><code>package com.example.project_final;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\n\nimport java.util.ArrayList;\n\npublic class history extends AppCompatActivity {\n    FirebaseFirestore Fstore;\n    String userID;\n    FirebaseAuth fAuth ;\n    int times;\n    int heart;\n    int avg_heart;\n    String date;\n    int count = 0;\n    TextView Data;\n    RelativeLayout [] L = new RelativeLayout[7];\n    TextView [] hr = new TextView[7];\n    TextView [] dates = new TextView[7];\n    ImageView [] img = new ImageView[7];\n    TextView last;\n    ArrayList&lt;Integer&gt; intheart = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; intdates = new ArrayList&lt;&gt;();\n    TextView average;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_history);\n        Fstore = FirebaseFirestore.getInstance();\n        fAuth = FirebaseAuth.getInstance();\n        userID= fAuth.getUid();\n        DocumentReference documentReference = Fstore.collection(&quot;users&quot;).document(userID);\n        Data = findViewById(R.id.txtNodata);\n        Intent intent1 = getIntent();\n        String signup = intent1.getStringExtra(&quot;signup&quot;);\n            last = findViewById(R.id.txtlast);\n            average = findViewById(R.id.txtaverage);\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;layout&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                L[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;heartrate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                hr[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;txtdate&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                dates[i] = findViewById(resourceId);\n            }\n            for(int i = 0; i&lt;=6 ;i++) {\n                int resourceId = this.getResources().getIdentifier(&quot;img&quot;+ i+1, &quot;id&quot;, this.getPackageName());\n                img[i] = findViewById(resourceId);\n            }\n            documentReference.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    times = Math.toIntExact(task.getResult().getLong(&quot;times&quot;));\n                    avg_heart = Math.toIntExact(task.getResult().getLong(&quot;average_heart_rate&quot;));\n                    for (int i = 0 ; i &lt;times ;i++){\n                        intdates.add(task.getResult().getString(&quot;date&quot; + i));\n                        intheart.add(Math.toIntExact(task.getResult().getLong(&quot;heart&quot;+i)));\n                    }\n                }\n            });\n            final Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    if(!(intheart.isEmpty()||intdates.isEmpty())){\n                        int count =0;\n                        if(times&gt;7){\n                            times=7;\n                        }\n                        last.setText(&quot;Last &quot;+ times +&quot; Days history&quot;);\n                        for(int i =0 ; i&lt;intdates.size();i++){\n                            if(1.2*avg_heart&lt;intheart.get(i)||0.8*avg_heart&lt;intheart.get(i)){\n                                L[i].setBackgroundColor(R.drawable.color_gradient1);\n                                img[i].setImageResource(R.drawable.sad);\n                            }\n                            else{\n                                L[i].setBackgroundColor(R.drawable.gradient_color);\n                                img[i].setImageResource(R.drawable.happy);\n                            }\n                            dates[i].setText(intdates.get(i));\n                            hr[i].setText(intheart.get(i)+&quot; Bpm&quot;);\n                            L[i].setVisibility(View.VISIBLE);\n                        }\n                    }\n                    else{\n                        handler.postDelayed(this, 100);\n\n                    }\n\n                }\n            }, 100);\n\n\n\n        \n    }\n}\n</code></pre>\n<p>Here is my XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.history&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/txtlast&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;40dp&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;30sp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:textColor=&quot;#000&quot;\n        android:textStyle=&quot;bold&quot;\n        /&gt;\n    &lt;TextView\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textStyle=&quot;bold&quot;\n        android:text=&quot;&quot;\n        android:id=&quot;@+id/txtaverage&quot;\n        android:textColor=&quot;#000&quot;\n        android:layout_gravity=&quot;center&quot;\n        /&gt;\n&lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                android:visibility=&quot;invisible&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtday1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 1&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtdate1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday1&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate1&quot;\n                    android:id=&quot;@+id/heartrate1&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img1&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout2&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:visibility=&quot;invisible&quot;\n                android:background=&quot;@drawable/color_gradient1&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 2&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday2&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/txtdate2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday2&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/heartrate2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate2&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img2&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:id=&quot;@+id/layout3&quot;\n                android:visibility=&quot;invisible&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 3&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday3&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday3&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate3&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate3&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate3&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img3&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout4&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/color_gradient1&quot;\n                android:visibility=&quot;invisible&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 4&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday4&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday4&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate4&quot;\n                    /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/heartrate4&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate4&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot; /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/img4&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:id=&quot;@+id/layout5&quot;\n                android:visibility=&quot;invisible&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 1&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday5&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday5&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate5&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate5&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate5&quot;\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/img5&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:visibility=&quot;invisible&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:id=&quot;@+id/layout6&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 6&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday6&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday6&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate6&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate6&quot;\n                    android:id=&quot;@+id/heartrate6&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img6&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            app:cardCornerRadius=&quot;20dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;&gt;\n            &lt;RelativeLayout\n                android:visibility=&quot;invisible&quot;\n                android:id=&quot;@+id/layout7&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_color&quot;\n                android:padding=&quot;10dp&quot;\n                &gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Day 7&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:id=&quot;@+id/txtday7&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtday7&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:id=&quot;@+id/txtdate7&quot;\n                    /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@id/txtdate7&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:textColor=&quot;#ffff&quot;\n                    android:id=&quot;@+id/heartrate7&quot;\n                    /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/img7&quot;\n                    android:layout_width=&quot;300dp&quot;\n                    android:layout_height=&quot;300dp&quot;\n                    android:layout_marginLeft=&quot;220dp&quot;\n                    /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n\n\n    &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:id=&quot;@+id/txtNodata&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:fontFamily=&quot;@font/lovelo&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;No data Available&quot;\n        android:textColor=&quot;@color/colorRed&quot;\n        android:textSize=&quot;20sp&quot;\n        android:visibility=&quot;invisible&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n\n</code></pre>\n<p>When I run the code I get this error on a null object reference when I try to setbackground color inside the handler:</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.RelativeLayout.setBackgroundColor(int)'</p>\n<p>The code should run fine since I initialized all the views. I've been stuck for a while I don't know where is the problem help.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-secrets-manager","truststore"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1667067147,"post_id":74245933,"comment_id":131084941,"body_markdown":"What truststore? The Java truststore? The code for accessing the truststore and the code for accessing something in SecretsManager would be completely different, so it is entirely unclear what is happening in your application. You would need to edit your question to include your code, and any relevant logs and error messages, if you want someone here to help you.","body":"What truststore? The Java truststore? The code for accessing the truststore and the code for accessing something in SecretsManager would be completely different, so it is entirely unclear what is happening in your application. You would need to edit your question to include your code, and any relevant logs and error messages, if you want someone here to help you."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667081920,"post_id":74245933,"comment_id":131087488,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26494082,"reputation":1,"user_id":20132107,"display_name":"qwerty"},"score":0,"creation_date":1667169500,"post_id":74245933,"comment_id":131101470,"body_markdown":"I meant java truststore. So I have a java application and it has truststore with few keys related to project. Now I&#39;m adding new feature, where I want to use secret manager to store my secrets. Its erroring out in secrets manager client while trying to access the secret: with error: [sdkclientexception unable to execute http request pkix path building failed: unable to find valid certification path]","body":"I meant java truststore. So I have a java application and it has truststore with few keys related to project. Now I&#39;m adding new feature, where I want to use secret manager to store my secrets. Its erroring out in secrets manager client while trying to access the secret: with error: [sdkclientexception unable to execute http request pkix path building failed: unable to find valid certification path]"},{"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"score":0,"creation_date":1678185962,"post_id":74245933,"comment_id":133480620,"body_markdown":"Consider using https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/html/index.html#spring-cloud-aws-secrets-manager to simplify it.","body":"Consider using <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/html/index.html#spring-cloud-aws-secrets-manager\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-RC1/reference/h&zwnj;&#8203;tml/&hellip;</a> to simplify it."}],"owner":{"account_id":26494082,"reputation":1,"user_id":20132107,"display_name":"qwerty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667067083,"creation_date":1667051943,"question_id":74245933,"body_markdown":"I have lambda function in spring boot, and I want to access secret manager and not truststore.\r\nWhile trying to get access secret manager, application is trying to find for the secret in truststore rather than going to secret manager. \r\nhow to solve this?\r\n\r\n\r\ntrying to find if there are any configs that will help me to use both truststore and secret manager.","title":"Access AWS secret manager over truststore of application","body":"<p>I have lambda function in spring boot, and I want to access secret manager and not truststore.\nWhile trying to get access secret manager, application is trying to find for the secret in truststore rather than going to secret manager.\nhow to solve this?</p>\n<p>trying to find if there are any configs that will help me to use both truststore and secret manager.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","spring-cloud-gateway"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1666878130,"post_id":74220633,"comment_id":131043108,"body_markdown":"Shouldn&#39;t the return of the `keycloakIntrospector` bean method be `ReactiveOpaqueTokenIntrospector`?","body":"Shouldn&#39;t the return of the <code>keycloakIntrospector</code> bean method be <code>ReactiveOpaqueTokenIntrospector</code>?"},{"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"score":0,"creation_date":1666879061,"post_id":74220633,"comment_id":131043489,"body_markdown":"If only in the article on the site https://www.baeldung.com an error. You can follow the link and make sure that they have an object of the SpringOpaqueTokenIntrospector class","body":"If only in the article on the site <a href=\"https://www.baeldung.com\" rel=\"nofollow noreferrer\">baeldung.com</a> an error. You can follow the link and make sure that they have an object of the SpringOpaqueTokenIntrospector class"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667065625,"creation_date":1666893889,"answer_id":74226469,"question_id":74220633,"body_markdown":"Marcus is right in his comment, your `keycloakIntrospector` @Bean type should be  `ReactiveOpaqueTokenIntrospector` (and not `SpringOpaqueTokenIntrospector` as declared in your conf)\r\n\r\nFew facts:\r\n- `SpringReactiveOpaqueTokenIntrospector` is a `ReactiveOpaqueTokenIntrospector` but `SpringOpaqueTokenIntrospector` isn&#39;t\r\n- your `KeycloakReactiveTokenInstrospector` is (implements) a `ReactiveOpaqueTokenIntrospector` too but is neither a `SpringReactiveOpaqueTokenIntrospector`, `SpringOpaqueTokenIntrospector` nor `OpaqueTokenIntrospector`\r\n\r\n# Side notes\r\n## Introspection VS JWT decoding\r\nKeycloak issues JWTs. JWT decoding is far more efficient than introspection: resource-server needs to fetch public-key only once from authorization-server to validate all incoming JWTs when introspection requires to submit access-token to authorization-server for each and every incoming request.\r\n\r\nAlso, you might not be able to implement multi-tenant scenarios with introspection: how to figure out by which issuer (Keycloak instance or realm) an opaque token was emitted? =&gt; you would have to &quot;try&quot; introspection on each issuer until one responds positively :/\r\n\r\n## Overriding introspector VS providing an authentication converter\r\nIf you switch to spring-security 5.8 or higher, customizing introspection is easier: you don&#39;t have to override the all introspector but can just provide a `ReactiveOpaqueTokenAuthenticationConverter` bean instead:\r\n```java\r\nhttp.oauth2ResourceServer().opaqueToken().authenticationConverter(\r\n    (String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; \r\n        new BearerTokenAuthentication(...));\r\n```\r\n\r\nThis bean is called after introspection was successfuly completed (and token attributes retrieved) but before `Authentication` is instanciated and put in security-context which allows you to just map authorities from any attribute you like or completely switch the authentication implementation.\r\n\r\n## Simplifying your resource-server configuration\r\nI host a [set of libs][1] to ease OAuth2 resource-server testing and configuration. There are various spring-boot starters depending on introspection or JWT decoding is used into servlet or reactive apps.\r\n\r\nAccording to your case (reactive app with introspection), you should have a look at this [sample with `BearerTokenAuthentication`][2] and [this other one with a custom authentication][3].\r\n\r\nConfiguration can be as simple as:\r\n```java\r\n@EnableReactiveMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n```properties\r\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\r\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\r\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\r\n\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\n\r\n# this is probably too permissive, addapt to your needs\r\ncom.c4-soft.springaddons.security.cors[0]=/**\r\n```\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.3&lt;/version&gt;&lt;!-- warning, this version goes with spring-boot 3.0.0-RC1 --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-oauthentication","title":"I can&#39;t build a Spring Cloud Gateway project with OAuth 2.0","body":"<p>Marcus is right in his comment, your <code>keycloakIntrospector</code> @Bean type should be  <code>ReactiveOpaqueTokenIntrospector</code> (and not <code>SpringOpaqueTokenIntrospector</code> as declared in your conf)</p>\n<p>Few facts:</p>\n<ul>\n<li><code>SpringReactiveOpaqueTokenIntrospector</code> is a <code>ReactiveOpaqueTokenIntrospector</code> but <code>SpringOpaqueTokenIntrospector</code> isn't</li>\n<li>your <code>KeycloakReactiveTokenInstrospector</code> is (implements) a <code>ReactiveOpaqueTokenIntrospector</code> too but is neither a <code>SpringReactiveOpaqueTokenIntrospector</code>, <code>SpringOpaqueTokenIntrospector</code> nor <code>OpaqueTokenIntrospector</code></li>\n</ul>\n<h1>Side notes</h1>\n<h2>Introspection VS JWT decoding</h2>\n<p>Keycloak issues JWTs. JWT decoding is far more efficient than introspection: resource-server needs to fetch public-key only once from authorization-server to validate all incoming JWTs when introspection requires to submit access-token to authorization-server for each and every incoming request.</p>\n<p>Also, you might not be able to implement multi-tenant scenarios with introspection: how to figure out by which issuer (Keycloak instance or realm) an opaque token was emitted? =&gt; you would have to &quot;try&quot; introspection on each issuer until one responds positively :/</p>\n<h2>Overriding introspector VS providing an authentication converter</h2>\n<p>If you switch to spring-security 5.8 or higher, customizing introspection is easier: you don't have to override the all introspector but can just provide a <code>ReactiveOpaqueTokenAuthenticationConverter</code> bean instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.oauth2ResourceServer().opaqueToken().authenticationConverter(\n    (String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; \n        new BearerTokenAuthentication(...));\n</code></pre>\n<p>This bean is called after introspection was successfuly completed (and token attributes retrieved) but before <code>Authentication</code> is instanciated and put in security-context which allows you to just map authorities from any attribute you like or completely switch the authentication implementation.</p>\n<h2>Simplifying your resource-server configuration</h2>\n<p>I host a <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">set of libs</a> to ease OAuth2 resource-server testing and configuration. There are various spring-boot starters depending on introspection or JWT decoding is used into servlet or reactive apps.</p>\n<p>According to your case (reactive app with introspection), you should have a look at this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-default\" rel=\"nofollow noreferrer\">sample with <code>BearerTokenAuthentication</code></a> and <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webflux-introspecting-oauthentication\" rel=\"nofollow noreferrer\">this other one with a custom authentication</a>.</p>\n<p>Configuration can be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableReactiveMethodSecurity\n@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\n\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\n\n# this is probably too permissive, addapt to your needs\ncom.c4-soft.springaddons.security.cors[0]=/**\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-webflux-introspecting-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;&lt;!-- warning, this version goes with spring-boot 3.0.0-RC1 --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24845157,"reputation":119,"user_id":18723075,"display_name":"alexmntmnk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74226469,"answer_count":1,"score":1,"last_activity_date":1667065625,"creation_date":1666866726,"question_id":74220633,"body_markdown":"I&#39;m trying to build a Backend Service project using the example from the site\r\n\r\n[Using Spring Cloud Gateway with OAuth 2.0 Patterns][1]\r\n\r\nHere is the repository itself\r\n[backend][2]\r\n\r\nAdded dependencies\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;ru.test.gw.oauth.resource&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;backresource&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;backresource&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;14&lt;/java.version&gt;\t\t\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI moved the properties from the quotes-application.properties file to this project\r\n\r\n    server.port=11002\r\n    # Resource server settings\r\n    spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8484/auth/realms/demo/protocol/openid-connect/token/introspect\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-id=gateway\r\n    spring.security.oauth2.resourceserver.opaquetoken.client-secret=dfdslksfkljweewrfsd\r\n\r\nAdded a class \r\n\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.oauth2.core.DefaultOAuth2AuthenticatedPrincipal;\r\n    import org.springframework.security.oauth2.core.OAuth2AuthenticatedPrincipal;\r\n    import org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    // Custom ReactiveTokenIntrospector to map realm roles into Spring GrantedAuthorities\r\n    public class KeycloakReactiveTokenInstrospector implements ReactiveOpaqueTokenIntrospector {\r\n        \r\n        private final ReactiveOpaqueTokenIntrospector delegate;\r\n       \r\n        public KeycloakReactiveTokenInstrospector(ReactiveOpaqueTokenIntrospector delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;OAuth2AuthenticatedPrincipal&gt; introspect(String token) {\r\n            \r\n            return delegate.introspect(token)\r\n             .map( this::mapPrincipal);\r\n        }\r\n        \r\n        protected OAuth2AuthenticatedPrincipal mapPrincipal(OAuth2AuthenticatedPrincipal principal) {\r\n            \r\n            return new DefaultOAuth2AuthenticatedPrincipal(\r\n                principal.getName(),\r\n                principal.getAttributes(),\r\n                extractAuthorities(principal));\r\n        }\r\n        \r\n        protected Collection&lt;GrantedAuthority&gt; extractAuthorities(OAuth2AuthenticatedPrincipal principal) {\r\n            \r\n            //\r\n            Map&lt;String,List&lt;String&gt;&gt; realm_access = principal.getAttribute(&quot;realm_access&quot;);\r\n            List&lt;String&gt; roles = realm_access.getOrDefault(&quot;roles&quot;, Collections.emptyList());\r\n            List&lt;GrantedAuthority&gt; rolesAuthorities = roles.stream()\r\n                    .map(SimpleGrantedAuthority::new)\r\n                    .collect(Collectors.toList());\r\n            \r\n            Set&lt;GrantedAuthority&gt; allAuthorities = new HashSet&lt;&gt;();\r\n            allAuthorities.addAll(principal.getAuthorities());\r\n            allAuthorities.addAll(rolesAuthorities);\r\n            \r\n            return allAuthorities;\r\n        }\r\n    }\r\n\r\n\r\nAnd the main class of the project\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\n    import org.springframework.security.oauth2.server.resource.introspection.NimbusReactiveOpaqueTokenIntrospector;\r\n    import org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\r\n    import ru.test.gw.oauth.resource.backresource.security.KeycloakReactiveTokenInstrospector;\r\n    \r\n    @SpringBootApplication\r\n    //@PropertySource(&quot;classpath:quotes-application.properties&quot;)\r\n    @EnableWebFluxSecurity\r\n    public class BackresourceApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(BackresourceApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n        public SpringOpaqueTokenIntrospector keycloakIntrospector(OAuth2ResourceServerProperties props) {\r\n            \r\n            NimbusReactiveOpaqueTokenIntrospector delegate = new NimbusReactiveOpaqueTokenIntrospector(\r\n               props.getOpaquetoken().getIntrospectionUri(),\r\n               props.getOpaquetoken().getClientId(),\r\n               props.getOpaquetoken().getClientSecret());\r\n            \r\n            return new KeycloakReactiveTokenInstrospector(delegate);\r\n        }\r\n    \t\r\n    }\r\n\r\nAnd in this class I get an error on SpringOpaqueTokenIntrospector, writes that it is not defined. Although all the imports completely coincide with the training example.\r\nIf I add a dependency that the IDE tells me to\r\n\r\n    import org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector;\r\n\r\n, then I get an error\r\n\r\n    Type mismatch: cannot convert from KeycloakReactiveTokenInstrospector to SpringOpaqueTokenIntrospector \r\n\r\nWhat&#39;s the problem here? Is there some kind of dependency missing?\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-gateway-oauth2\r\n  [2]: https://github.com/eugenp/tutorials/blob/master/spring-cloud-modules/spring-cloud-gateway/src/main/java/com/baeldung/springcloudgateway/oauth/backend/\r\n\r\nI completely repeated the structure of the project from the training material. \r\nSo far, I would like to build a project without errors.","title":"I can&#39;t build a Spring Cloud Gateway project with OAuth 2.0","body":"<p>I'm trying to build a Backend Service project using the example from the site</p>\n<p><a href=\"https://www.baeldung.com/spring-cloud-gateway-oauth2\" rel=\"nofollow noreferrer\">Using Spring Cloud Gateway with OAuth 2.0 Patterns</a></p>\n<p>Here is the repository itself\n<a href=\"https://github.com/eugenp/tutorials/blob/master/spring-cloud-modules/spring-cloud-gateway/src/main/java/com/baeldung/springcloudgateway/oauth/backend/\" rel=\"nofollow noreferrer\">backend</a></p>\n<p>Added dependencies</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;ru.test.gw.oauth.resource&lt;/groupId&gt;\n    &lt;artifactId&gt;backresource&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backresource&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;     \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I moved the properties from the quotes-application.properties file to this project</p>\n<pre><code>server.port=11002\n# Resource server settings\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=http://localhost:8484/auth/realms/demo/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=gateway\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=dfdslksfkljweewrfsd\n</code></pre>\n<p>Added a class</p>\n<pre><code>import org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.oauth2.core.DefaultOAuth2AuthenticatedPrincipal;\nimport org.springframework.security.oauth2.core.OAuth2AuthenticatedPrincipal;\nimport org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\nimport reactor.core.publisher.Mono;\n\n// Custom ReactiveTokenIntrospector to map realm roles into Spring GrantedAuthorities\npublic class KeycloakReactiveTokenInstrospector implements ReactiveOpaqueTokenIntrospector {\n    \n    private final ReactiveOpaqueTokenIntrospector delegate;\n   \n    public KeycloakReactiveTokenInstrospector(ReactiveOpaqueTokenIntrospector delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Mono&lt;OAuth2AuthenticatedPrincipal&gt; introspect(String token) {\n        \n        return delegate.introspect(token)\n         .map( this::mapPrincipal);\n    }\n    \n    protected OAuth2AuthenticatedPrincipal mapPrincipal(OAuth2AuthenticatedPrincipal principal) {\n        \n        return new DefaultOAuth2AuthenticatedPrincipal(\n            principal.getName(),\n            principal.getAttributes(),\n            extractAuthorities(principal));\n    }\n    \n    protected Collection&lt;GrantedAuthority&gt; extractAuthorities(OAuth2AuthenticatedPrincipal principal) {\n        \n        //\n        Map&lt;String,List&lt;String&gt;&gt; realm_access = principal.getAttribute(&quot;realm_access&quot;);\n        List&lt;String&gt; roles = realm_access.getOrDefault(&quot;roles&quot;, Collections.emptyList());\n        List&lt;GrantedAuthority&gt; rolesAuthorities = roles.stream()\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toList());\n        \n        Set&lt;GrantedAuthority&gt; allAuthorities = new HashSet&lt;&gt;();\n        allAuthorities.addAll(principal.getAuthorities());\n        allAuthorities.addAll(rolesAuthorities);\n        \n        return allAuthorities;\n    }\n}\n</code></pre>\n<p>And the main class of the project</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.oauth2.server.resource.introspection.NimbusReactiveOpaqueTokenIntrospector;\nimport org.springframework.security.oauth2.server.resource.introspection.ReactiveOpaqueTokenIntrospector;\nimport ru.test.gw.oauth.resource.backresource.security.KeycloakReactiveTokenInstrospector;\n\n@SpringBootApplication\n//@PropertySource(&quot;classpath:quotes-application.properties&quot;)\n@EnableWebFluxSecurity\npublic class BackresourceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackresourceApplication.class, args);\n    }\n\n    @Bean\n    public SpringOpaqueTokenIntrospector keycloakIntrospector(OAuth2ResourceServerProperties props) {\n        \n        NimbusReactiveOpaqueTokenIntrospector delegate = new NimbusReactiveOpaqueTokenIntrospector(\n           props.getOpaquetoken().getIntrospectionUri(),\n           props.getOpaquetoken().getClientId(),\n           props.getOpaquetoken().getClientSecret());\n        \n        return new KeycloakReactiveTokenInstrospector(delegate);\n    }\n    \n}\n</code></pre>\n<p>And in this class I get an error on SpringOpaqueTokenIntrospector, writes that it is not defined. Although all the imports completely coincide with the training example.\nIf I add a dependency that the IDE tells me to</p>\n<pre><code>import org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector;\n</code></pre>\n<p>, then I get an error</p>\n<pre><code>Type mismatch: cannot convert from KeycloakReactiveTokenInstrospector to SpringOpaqueTokenIntrospector \n</code></pre>\n<p>What's the problem here? Is there some kind of dependency missing?</p>\n<p>I completely repeated the structure of the project from the training material.\nSo far, I would like to build a project without errors.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1667043226,"post_id":74244790,"comment_id":131080034,"body_markdown":"Add more detail to what `when a members leaves` means","body":"Add more detail to what <code>when a members leaves</code> means"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1667043767,"post_id":74244790,"comment_id":131080100,"body_markdown":"No, this is not possible. You can only check roles, but channel overwrites are cleaned up on leave.","body":"No, this is not possible. You can only check roles, but channel overwrites are cleaned up on leave."}],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667065084,"creation_date":1667065084,"answer_id":74247452,"question_id":74244790,"body_markdown":"It took me a while, but i found the asnwer!\r\n\r\nFirst declare an array of type PermissionOverride[] in the main method.\r\n\r\nThen in the onGuildMemberJoin method:\r\n```\r\n    overrides = new PermissionOverride[overrides.length +1];\r\n        overrides[overrides.length - 1] = event.getGuild()\r\n                .getTextChannelById(textChannel.getId())\r\n                .getPermissionContainer()\r\n                .getPermissionOverrides()\r\n                .get(0);\r\n```\r\nNow in the onGuildMemberRemove method i can simply check if what i am looking for exists in overrides[]\r\n```\r\n    public void onGuildMemberRemove(GuildMemberRemoveEvent event) {\r\n\r\n        for(int k=0; k&lt;event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().size(); k++) {\r\n            for(int l = 0 ; l &lt; overrides.length; l++){\r\n                if(overrides[l].getChannel().getId().equals(event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().get(k).getId())) {\r\n                    if (!overrides[l].getChannel().getId().equals(null)) {\r\n                        overrides[l].getChannel().asTextChannel().delete().queue();\r\n\r\n                        overrides = removeOverride(overrides, overrides[l]);\r\n\r\n                        System.out.println(overrides);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nFor explanation i am creating a verification channel every time someone joins the server and grants them the VIEW_CHANNEL permission, then in case they leave before completing the verification, i remove the channel that they had access too.\r\n\r\nIn other words if you want to do it, you have to save the data in a PermissionOverride array, to access it when you need.\r\n\r\n@Minn\r\nNothing is impossible.","title":"How to check if a user HAD a permission before they left the server?","body":"<p>It took me a while, but i found the asnwer!</p>\n<p>First declare an array of type PermissionOverride[] in the main method.</p>\n<p>Then in the onGuildMemberJoin method:</p>\n<pre><code>    overrides = new PermissionOverride[overrides.length +1];\n        overrides[overrides.length - 1] = event.getGuild()\n                .getTextChannelById(textChannel.getId())\n                .getPermissionContainer()\n                .getPermissionOverrides()\n                .get(0);\n</code></pre>\n<p>Now in the onGuildMemberRemove method i can simply check if what i am looking for exists in overrides[]</p>\n<pre><code>    public void onGuildMemberRemove(GuildMemberRemoveEvent event) {\n\n        for(int k=0; k&lt;event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().size(); k++) {\n            for(int l = 0 ; l &lt; overrides.length; l++){\n                if(overrides[l].getChannel().getId().equals(event.getGuild().getCategoryById(&quot;1030472114907652137&quot;).getChannels().get(k).getId())) {\n                    if (!overrides[l].getChannel().getId().equals(null)) {\n                        overrides[l].getChannel().asTextChannel().delete().queue();\n\n                        overrides = removeOverride(overrides, overrides[l]);\n\n                        System.out.println(overrides);\n                    }\n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>For explanation i am creating a verification channel every time someone joins the server and grants them the VIEW_CHANNEL permission, then in case they leave before completing the verification, i remove the channel that they had access too.</p>\n<p>In other words if you want to do it, you have to save the data in a PermissionOverride array, to access it when you need.</p>\n<p>@Minn\nNothing is impossible.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74247452,"answer_count":1,"score":0,"last_activity_date":1667065084,"creation_date":1667042075,"question_id":74244790,"body_markdown":"Since\r\n\r\n```\r\nonGuildMemberRemove() \r\n```\r\n\r\nis called when a members leaves, when trying to check if he had permission to view/speak in a specific channel, it returns that\r\n\r\n```\r\ntextChannel.canTalk(event.getMember()) \r\n```\r\n\r\nis empty / null\r\n\r\nPlease help me get around this.\r\n\r\nHere is my\r\n\r\n```\r\nonGuildMemberRemove() \r\n```\r\n\r\n```\r\nfor (int i = 0; i &lt; channelID.length; i++) {\r\n    TextChannel textChannel = event.getGuild().getTextChannelById(channelID[i]);\r\n\r\n    if (textChannel.canTalk(event.getMember()) &amp;&amp; textChannel.getParentCategoryId().equals(&quot;1030472114907652137&quot;)) {\r\n        textChannel.delete().queue();\r\n        Arrays.stream(channelID).toList().remove(i);\r\n    }\r\n\r\n}\r\n```","title":"How to check if a user HAD a permission before they left the server?","body":"<p>Since</p>\n<pre><code>onGuildMemberRemove() \n</code></pre>\n<p>is called when a members leaves, when trying to check if he had permission to view/speak in a specific channel, it returns that</p>\n<pre><code>textChannel.canTalk(event.getMember()) \n</code></pre>\n<p>is empty / null</p>\n<p>Please help me get around this.</p>\n<p>Here is my</p>\n<pre><code>onGuildMemberRemove() \n</code></pre>\n<pre><code>for (int i = 0; i &lt; channelID.length; i++) {\n    TextChannel textChannel = event.getGuild().getTextChannelById(channelID[i]);\n\n    if (textChannel.canTalk(event.getMember()) &amp;&amp; textChannel.getParentCategoryId().equals(&quot;1030472114907652137&quot;)) {\n        textChannel.delete().queue();\n        Arrays.stream(channelID).toList().remove(i);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1666759271,"post_id":74202726,"comment_id":131009655,"body_markdown":"Right now you&#39;re running the outer loop N times (N = number of years) and the inner loop N * 12 times.  `1*(1*12) = 12`, but `2*(2*12) = 48`.  Why do you think the outer loop is needed?  You never use `i` in your current code.","body":"Right now you&#39;re running the outer loop N times (N = number of years) and the inner loop N * 12 times.  <code>1*(1*12) = 12</code>, but <code>2*(2*12) = 48</code>.  Why do you think the outer loop is needed?  You never use <code>i</code> in your current code."}],"answers":[{"tags":[],"owner":{"account_id":26278195,"reputation":1,"user_id":19947011,"display_name":"slingshot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666759640,"creation_date":1666759048,"answer_id":74202763,"question_id":74202726,"body_markdown":"Try using the break statement at which condition you want to break. In that case, you can easily come out of the loop.\r\nYou already looping per year so you do not need to multiply the year again in the next loop.\r\nOriginal : `for(int j = 1; j &lt;= (years * 12); j++)` Changed: `for(int j = 1; j &lt;= 12; j++)`\r\n\r\nHere is some ref: https://www.programiz.com/java-programming/break-statement\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AverageRainfall {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner kb = new Scanner(System.in);\r\n            \r\n            System.out.println(&quot;How many years did it rain? &quot;);\r\n    \r\n            int years = kb.nextInt();\r\n            int totalRain = 0;\r\n    \r\n            \r\n            for (int i = 1; i &lt;= years; i++){\r\n                for(int j = 1; j &lt;= 12; j++){\r\n                    System.out.println(&quot;How many inches of rain this month?&quot;);\r\n                    totalRain += kb.nextInt();\r\n                    \r\n                    System.out.println(&quot;Month: &quot; + j);\r\n                    System.out.println(totalRain + &quot; Inches of rain!&quot; );\r\n                }\r\n        }\r\n            System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\r\n            \r\n        }\r\n        \r\n    }","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p>Try using the break statement at which condition you want to break. In that case, you can easily come out of the loop.\nYou already looping per year so you do not need to multiply the year again in the next loop.\nOriginal : <code>for(int j = 1; j &lt;= (years * 12); j++)</code> Changed: <code>for(int j = 1; j &lt;= 12; j++)</code></p>\n<p>Here is some ref: <a href=\"https://www.programiz.com/java-programming/break-statement\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/break-statement</a></p>\n<pre><code>import java.util.Scanner;\n\npublic class AverageRainfall {\n\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        \n        System.out.println(&quot;How many years did it rain? &quot;);\n\n        int years = kb.nextInt();\n        int totalRain = 0;\n\n        \n        for (int i = 1; i &lt;= years; i++){\n            for(int j = 1; j &lt;= 12; j++){\n                System.out.println(&quot;How many inches of rain this month?&quot;);\n                totalRain += kb.nextInt();\n                \n                System.out.println(&quot;Month: &quot; + j);\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\n            }\n    }\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\n        \n    }\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22927376,"reputation":5,"user_id":17062245,"display_name":"ioannis_03"},"score":0,"creation_date":1666831484,"post_id":74203372,"comment_id":131031179,"body_markdown":"Thanks for your help! I knew there was a minor mistake somewhere that I had missed.  All these things are still new to me so I&#39;m trying to learn. Let me know if there&#39;s anything wrong with the way I asked the question etc!","body":"Thanks for your help! I knew there was a minor mistake somewhere that I had missed.  All these things are still new to me so I&#39;m trying to learn. Let me know if there&#39;s anything wrong with the way I asked the question etc!"}],"tags":[],"owner":{"account_id":13208968,"reputation":41,"user_id":9539836,"display_name":"Int"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666770023,"creation_date":1666764819,"answer_id":74203372,"question_id":74202726,"body_markdown":"The main problem in your code is that you are looping over 12 * years for every year (if you have 2 years, you will loop twice over 24 months). \r\nYou should use the inner loop only for looping over each month, or just use one loop that is 12 * years\r\n\r\nAlso please take note that it is good practise to close the Scanner using .close() method.\r\n\r\nIf you are new I&#39;d suggest you to **always** use significative names for your variables, for example you could rename &quot;kb&quot; to &quot;scanner&quot;, because when the code is longer, the reader loses context of what &quot;kb&quot; is, in any case you should not shorten words and at least use &quot;keyboard&quot; instead \r\n\r\nYou also need to add some spaces when concatenating string with variables, otherwise you will see things like &quot;period of 9years&quot;\r\n\r\nHere&#39;s your code, I&#39;ve taken profit of the structure stated in the assignment and added some messages to improve user experience and information on what he is typing in any moment\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;How many years did it rain? &quot;);\r\n\r\n        int years = scanner.nextInt();\r\n        int totalRain = 0;\r\n\r\n        for (int i = 1; i &lt;= years; i++){\r\n        \t System.out.println(&quot;Lets go with year &quot; + i + &quot;:&quot;);\r\n        \t \r\n            for(int j = 1; j &lt;= 12; j++){\r\n                System.out.println(&quot;How many inches of rain in month &quot; + j + &quot; ?&quot;);\r\n                totalRain += scanner.nextInt();\r\n                \r\n                System.out.println(totalRain + &quot; inches of rain in total!&quot; );\r\n            }\r\n        }\r\n        \r\n         System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot; years is: &quot; + totalRain/(12*years) + &quot; inches.&quot;);\r\n        \r\n         scanner.close();\r\n    }\r\n\r\n ","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p>The main problem in your code is that you are looping over 12 * years for every year (if you have 2 years, you will loop twice over 24 months).\nYou should use the inner loop only for looping over each month, or just use one loop that is 12 * years</p>\n<p>Also please take note that it is good practise to close the Scanner using .close() method.</p>\n<p>If you are new I'd suggest you to <strong>always</strong> use significative names for your variables, for example you could rename &quot;kb&quot; to &quot;scanner&quot;, because when the code is longer, the reader loses context of what &quot;kb&quot; is, in any case you should not shorten words and at least use &quot;keyboard&quot; instead</p>\n<p>You also need to add some spaces when concatenating string with variables, otherwise you will see things like &quot;period of 9years&quot;</p>\n<p>Here's your code, I've taken profit of the structure stated in the assignment and added some messages to improve user experience and information on what he is typing in any moment</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;How many years did it rain? &quot;);\n\n    int years = scanner.nextInt();\n    int totalRain = 0;\n\n    for (int i = 1; i &lt;= years; i++){\n         System.out.println(&quot;Lets go with year &quot; + i + &quot;:&quot;);\n         \n        for(int j = 1; j &lt;= 12; j++){\n            System.out.println(&quot;How many inches of rain in month &quot; + j + &quot; ?&quot;);\n            totalRain += scanner.nextInt();\n            \n            System.out.println(totalRain + &quot; inches of rain in total!&quot; );\n        }\n    }\n    \n     System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot; years is: &quot; + totalRain/(12*years) + &quot; inches.&quot;);\n    \n     scanner.close();\n}\n</code></pre>\n"}],"owner":{"account_id":22927376,"reputation":5,"user_id":17062245,"display_name":"ioannis_03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74203372,"answer_count":2,"score":-1,"last_activity_date":1667065066,"creation_date":1666758662,"question_id":74202726,"body_markdown":"[![My assigment](https://i.stack.imgur.com/dmCPJ.png)](https://i.stack.imgur.com/dmCPJ.png)\r\n\r\nI am pretty new to this so sorry if i am not clear.  \r\nMy code works so far for one year (12 months), however when i want to find the average rainfall for two years (24 months), it finds it for 48 months.\r\n\r\nNot sure how to fix this, or where the problem is situated.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class AverageRainfall {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;How many years did it rain? &quot;);\r\n\r\n        int years = kb.nextInt();\r\n\r\n        \r\n        for (int i = 1; i &lt;= years; i++){\r\n            for(int j = 1; j &lt;= (years * 12); j++){\r\n                System.out.println(&quot;How many inches of rain this month?&quot;);\r\n                totalRain += kb.nextInt();\r\n                \r\n                System.out.println(&quot;Month: &quot; + j);\r\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\r\n            }\r\n    }\r\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI tried changing things inside my for loop conditions but I can&#39;t figure it out.","title":"Java: How to make my nested for loop stop after it has completed its loop","body":"<p><a href=\"https://i.stack.imgur.com/dmCPJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dmCPJ.png\" alt=\"My assigment\" /></a></p>\n<p>I am pretty new to this so sorry if i am not clear.<br />\nMy code works so far for one year (12 months), however when i want to find the average rainfall for two years (24 months), it finds it for 48 months.</p>\n<p>Not sure how to fix this, or where the problem is situated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class AverageRainfall {\n\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        \n        System.out.println(&quot;How many years did it rain? &quot;);\n\n        int years = kb.nextInt();\n\n        \n        for (int i = 1; i &lt;= years; i++){\n            for(int j = 1; j &lt;= (years * 12); j++){\n                System.out.println(&quot;How many inches of rain this month?&quot;);\n                totalRain += kb.nextInt();\n                \n                System.out.println(&quot;Month: &quot; + j);\n                System.out.println(totalRain + &quot; Inches of rain!&quot; );\n            }\n    }\n        System.out.println(&quot;The average rainfall over the period of: &quot; + years + &quot;years is:&quot; + totalRain/(12*years) + &quot;Inches&quot;);\n        \n    }\n    \n}\n\n</code></pre>\n<p>I tried changing things inside my for loop conditions but I can't figure it out.</p>\n"},{"tags":["java","exception","javafx","media-player"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667067527,"post_id":74247333,"comment_id":131085022,"body_markdown":"Why do you call `Platform.runLater`?","body":"Why do you call <code>Platform.runLater</code>?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667067724,"post_id":74247333,"comment_id":131085063,"body_markdown":"Provide a [mcve].  *Minimal* code that replicates the issue through copy and paste with no change or addition that uses a publicly hosted media file via http.","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  <i>Minimal</i> code that replicates the issue through copy and paste with no change or addition that uses a publicly hosted media file via http."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667068134,"post_id":74247333,"comment_id":131085157,"body_markdown":"Ensure you are using a [JavaFX version](https://search.maven.org/artifact/org.openjfx/javafx-graphics) that is not early access (has `ea` in the version number).","body":"Ensure you are using a <a href=\"https://search.maven.org/artifact/org.openjfx/javafx-graphics\" rel=\"nofollow noreferrer\">JavaFX version</a> that is not early access (has <code>ea</code> in the version number)."},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1667122471,"post_id":74247333,"comment_id":131092061,"body_markdown":"I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed.","body":"I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed."},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1667122565,"post_id":74247333,"comment_id":131092082,"body_markdown":"JavaFX: 19+11 as stated in the first sentence is no early access to my knowledge but an official release (https://gluonhq.com/products/javafx/openjfx-19-release-notes/)","body":"JavaFX: 19+11 as stated in the first sentence is no early access to my knowledge but an official release (<a href=\"https://gluonhq.com/products/javafx/openjfx-19-release-notes/\" rel=\"nofollow noreferrer\">gluonhq.com/products/javafx/openjfx-19-release-notes</a>)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667125730,"post_id":74247333,"comment_id":131092597,"body_markdown":"&quot;I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed&quot; -&gt; that sounds like a problem in itself. Probably you have concurrency errors, perhaps other errors as well.","body":"&quot;I ran Platform.runLater since the changes of the textfields otherwise are not shown or delayed&quot; -&gt; that sounds like a problem in itself. Probably you have concurrency errors, perhaps other errors as well."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667126142,"post_id":74247333,"comment_id":131092671,"body_markdown":"I thought the + versions were all early access, but I guess the + number is related to the build (early access will have `ea` in the version).  I ran a version check of javafx system properties on the `19` release and it returned `javafx.version` of 19, and `javafx.runtime.version` of `19+11`.  So `19+11` is the released build of the javafx runtime for the javafx `19` (not early access) release.","body":"I thought the + versions were all early access, but I guess the + number is related to the build (early access will have <code>ea</code> in the version).  I ran a version check of javafx system properties on the <code>19</code> release and it returned <code>javafx.version</code> of 19, and <code>javafx.runtime.version</code> of <code>19+11</code>.  So <code>19+11</code> is the released build of the javafx runtime for the javafx <code>19</code> (not early access) release."}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667064904,"creation_date":1667064035,"question_id":74247333,"body_markdown":"I wrote a JavaFX based application (Java: 18.0.2, Oracle Corporation and\r\nJavaFX: 19+11, Win 11) to guide through sport training sessions by showing short movies with the respective exercises. For testing purposes I created the first 4 short movies, which I really want to use, once the application is stable. \r\nThe issue is that over 90% of the time the application throws\r\n \r\n\r\n    MediaException: UNKNOWN : [com.sun.media.jfxmediaimpl.platform.gstreamer.GSTMediaPlayer@3f239193] ERROR_MEDIA_INVALID: ERROR_MEDIA_INVALID\r\n    \tat javafx.media@19/javafx.scene.media.MediaException.getMediaException(MediaException.java:161)\r\n    \tat javafx.media@19/javafx.scene.media.MediaPlayer$_MediaErrorListener.onError(MediaPlayer.java:2624)\r\n    \tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.HandleErrorEvents(NativeMediaPlayer.java:692)\r\n    \tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.run(NativeMediaPlayer.java:426)\r\n\r\non one of the four movies. Which movie triggers the exception differs. While the earlier JavaFX version stumbled frequently over the first movie as well, since I installed the current JavaFX version the first movie most of the time - not always - runs fine.\r\n\r\nI checked the release notes and I took from it, that unusual width and height may cause a problem. However, I would expect that either the movie can be shown or not. But that the application sometimes shows the movies and sometimes not, makes it difficult to address the issue.\r\n \r\nFollowing some info about the four movies:\r\n\r\n    All of the videos are \r\n       - Format                               : MPEG-4 \r\n       - Format-Profil                        : Base Media / Version 2 \r\n       - Codec-ID                             : mp42 (mp41/isom)\r\n       - ID                                   : 1 \r\n         - Format                             : AVC \r\n         - Format/Info                        : Advanced Video Codec\r\n         - Format-Profil                      : Baseline@L3.1\r\n         - Format-Setting                     : 2 Ref Frames\r\n         - Format-Setting for CABAC           : No \r\n         - Format-Setting for RefFrames       : 2 frames \r\n         - Codec-ID                           : avc1 \r\n         - Codec-ID/Info                      : Advanced Video Coding \r\n         - Aspect ratio                       : 16:9 \r\n         - Refresh rate mode                  : constant \r\n         - FPS Color space                    : YUV \r\n         - Chroma subsampling                 : 4:2:0 \r\n         - Bit depth                          : 8 bits \r\n         - Scantyp                            : progressiv \r\n         - Codec configuration box            : avcC\r\n\r\nIf the movie has sound, the Audio is\r\n\r\n       - ID                                       : 2\r\n       - Format                                   : AAC LC\r\n       - Format/Info                              : Advanced Audio Codec Low Complexity\r\n       - Codec-ID                                 : mp4a-40-2\r\n       - Bitraten-Mode                            : constant\r\n\r\nIndividual movie info:\r\n\r\n     - Movie 1 Video \r\n       \r\n         - Duration                           : 5s 900 ms\r\n         - Bitrate                            : 1 653 kb/s \r\n         - Width                              : 960 Pixel\r\n         - Height                             : 540 Pixel \r\n         - Image refresh rate                 : 30,000 FPS \r\n         - Bits/(Pixel*Frame)                 : 0.106\r\n         - Stream-Size                        : 1,16 MiB (68%)\r\n     - Movie 2 Video \r\n       \r\n         - Duration                           : 2s 102 ms \r\n         - Bitrate                            : 934 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.034\r\n         - Stream-Size                        : 240 KiB (100%)\r\n     - Movie 3 Video \r\n       \r\n         - Duration                           : 2s 536 ms \r\n         - Bitrate                            : 3 931 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.142\r\n         - Stream-Size                        : 1,19 MiB (97%)\r\n    \r\n     - Movie 4 Video \r\n       \r\n         - Duration                           : 2s 536 ms \r\n         - Bitrate                            : 3 931 kb/s \r\n         - Width                              : 1 280 Pixel\r\n         - Height                             : 720 Pixel \r\n         - Image refresh rate                 : 29,970 (29970/1000) \r\n         - Bits/(Pixel*Frame)                 : 0.142\r\n         - Stream-Size                        : 1,19 MiB (97%)\r\n        \r\n\r\nSince the flaky behaviour suggests maybe a race condition issue, please find following the method that controls showing movies in a MediaView: \r\n\r\n    /**\r\n\t * \r\n\t * @param exercise, the object that encapsulates all information about a single training activity, that shall be displayed now\r\n\t * @param breakBetweenExercisesInSec, seconds to pause before the next exercise should be shown\r\n\t * @param exercises, list of remaining training exercises\r\n\t */\r\n    protected void runMovieExercise(Exercise exercise, int breakBetweenExercisesInSec, List&lt;Exercise&gt; exercises) {\r\n\r\n\t\tsets = reps = 0;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Initialize for every new exercise\r\n\t\tshowIntro = exercise.isShowIntro();\r\n\t\tsetLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\r\n\t\trepLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\r\n\r\n\t\tURL urlMediaLocation = getMediaLocation(exercise);\r\n\t\tif(urlMediaLocation == null) {\r\n\t\t\tSystem.err.println(&quot;Cannot show exercise: &quot; + exercise.getMediaFilePath());\r\n\t\t\trunSession(exercises, breakBetweenExercisesInSec);\t\t\t\t\t\t\t\t\t\t\t// Continue with next exercise\r\n\t\t}\r\n\t\tPlatform.runLater(() -&gt; {\r\n\t\t\texerciseLabel.setText(exercise.getName());\r\n\t\t});\r\n\r\n\t\tmedia = new Media(urlMediaLocation.toString());\r\n\t\tplayer = new MediaPlayer(media);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Every file needs a new dedicated MediaPlayer object according to API\r\n\t\tplayer.setVolume(0);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// TODO save and restore volume setting\r\n\t\tmediaView.setMediaPlayer(player);\r\n\r\n\t\tplayer.setOnError(() -&gt; {\r\n\t\t\tMediaException exc = player.getError();\r\n\t\t\tLOGGER.fine(&quot;An error occurred: &quot;  + exc.getLocalizedMessage());\r\n\t\t\tLOGGER.fine(urlMediaLocation.toExternalForm());\r\n\t\t\texc.printStackTrace(System.err);\r\n\t\t\tButtonType result = MessageBox.showMessageDialog(AlertType.ERROR, &quot;Cannot show media&quot;, \r\n\t\t\t\t\t&quot;Couldn&#39;t open the movie file: &quot; + exercise.getMediaFilePath() + &quot;.\\nRetry loading the media file?&quot;, \r\n\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.OK, ButtonType.NO);\r\n\t\t\tif (ButtonType.NO.equals(result)) {\r\n\t\t\t\trunSession(exercises, breakBetweenExercisesInSec);\t\t\t\t\t\t\t\t\t\t// Continue with next exercise\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\trunMovieExercise(exercise, breakBetweenExercisesInSec, exercises);\t\t\t\t\t\t// Retry\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tplayer.setOnEndOfMedia(() -&gt; {\r\n\r\n\t\t\tLOGGER.fine(&quot;setOnEndOfMedia started&quot;);\r\n\r\n\t\t\tif(showIntro) {\r\n\t\t\t\treps--;\r\n\t\t\t\tButtonType result = MessageBox.showMessageDialog(AlertType.CONFIRMATION, &quot;Replay the introduction?&quot;, \r\n\t\t\t\t\t\t&quot;You may want to repeat the introduction.&quot;, \r\n\t\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.YES, ButtonType.NO);\r\n\t\t\t\tif (ButtonType.NO.equals(result)) {\r\n\t\t\t\t\tshowIntro = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treps++;\r\n\t\t\tif((reps != 0) &amp;&amp; (reps % exercise.getRepsPerSet() == 0)) {\r\n\t\t\t\tsets++;\r\n\t\t\t\tif(sets == exercise.getNumOfSets())  {\t\t\t\t\t// start the next exercise\r\n\t\t\t\t\tplayer.dispose();\r\n\t\t\t\t\tif(exercises.size() &gt; 0) {\r\n\t\t\t\t\t\tpause(breakBetweenExercisesInSec, &quot;Exercise completed !&quot;);\r\n\t\t\t\t\t\tLOGGER.fine(&quot;starting next exercise&quot;);\r\n\t\t\t\t\t\trunSession(exercises, breakBetweenExercisesInSec);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpause(5, &quot;YOU MADE IT !!&quot;);\r\n\t\t\t\t\t\tstartStopContinueButton.setText(&quot;Start&quot;);\r\n\t\t\t\t\t\tsetLabel.setText(&quot;&quot;);\r\n\t\t\t\t\t\trepLabel.setText(&quot;&quot;);\r\n\t\t\t\t\t\tstartStopContinueButton.setDisable(true);\r\n\t\t\t\t\t\texerciseTable.setItems(null);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\t\tsetLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\r\n\t\t\t\t});\r\n\t\t\t\tpause(exercise.getBreakBetweenSetsInSecs(), &quot;Set completed !&quot;);\r\n\t\t\t\treps = 0;\r\n\t\t\t}\r\n\t\t\tPlatform.runLater(() -&gt; {\r\n\t\t\t\trepLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\r\n\t\t\t});\r\n\r\n\t\t\tplayer.setRate(exercise.getSpeed(reps));\r\n\t\t\tplayer.seek(Duration.ZERO);\r\n\t\t\tplayer.setAutoPlay(true);\r\n\t\t});\r\n\r\n\r\n\t\tvolumeSlider.valueProperty().bindBidirectional(player.volumeProperty());\r\n\t\tspeedSlider.valueProperty().bindBidirectional(player.rateProperty());\r\n\r\n\t\tif(showIntro) {\r\n\t\t\tMessageBox.showMessageDialog(AlertType.INFORMATION, &quot;Introduction&quot;, \r\n\t\t\t\t\t&quot;This exercise will now be shown to you for introductional purposes&quot;, \r\n\t\t\t\t\tmediaPane.getScene().getWindow(), ButtonType.YES, ButtonType.YES);\r\n\t\t}\r\n\r\n\t\tplayer.setRate(exercise.getSpeed(reps));\r\n\t\tplayer.setAutoPlay(true);\r\n\t}\r\n\r\n    protected URL getMediaLocation(Exercise exercise) {\r\n\r\n\t\tURL mediaLocationURL = null;\r\n\t\tFile mediaLocationFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.sifuSays/exercises/&quot; + exercise.getMediaFilePath());\r\n\r\n\t\ttry {\r\n\t\t\tmediaLocationURL = mediaLocationFile.toURI().toURL();\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot show exercise: &quot; + mediaLocationFile.getAbsolutePath());\r\n\t\t\tmediaLocationURL = null;\r\n\t\t}\r\n\t\treturn mediaLocationURL;\r\n\t}\r\n\r\nAs you can see, in player.setOnError() the code allows to re-try opening the file, which does work. So a typical run starts the first movie without problem. For movie 2 it needs 1 re-try, movie 3 needed 7 re-trys, and movie 4 needed 3 re-trys. But I also have runs where the application needed to re-try the first movie and all others were fine. So technically each movie is &quot;showable&quot;.\r\n\r\nIs there something I am missing or what am I do wrong?\r\n\r\nShould you need more code, let me know and I am happy to setup a github project to download the entire application - however, for legal reasons I cannot upload the movies, which is maybe the interesting part?! ","title":"Flaky JavaFX ERROR_MEDIA_INVALID MediaException","body":"<p>I wrote a JavaFX based application (Java: 18.0.2, Oracle Corporation and\nJavaFX: 19+11, Win 11) to guide through sport training sessions by showing short movies with the respective exercises. For testing purposes I created the first 4 short movies, which I really want to use, once the application is stable.\nThe issue is that over 90% of the time the application throws</p>\n<pre><code>MediaException: UNKNOWN : [com.sun.media.jfxmediaimpl.platform.gstreamer.GSTMediaPlayer@3f239193] ERROR_MEDIA_INVALID: ERROR_MEDIA_INVALID\n    at javafx.media@19/javafx.scene.media.MediaException.getMediaException(MediaException.java:161)\n    at javafx.media@19/javafx.scene.media.MediaPlayer$_MediaErrorListener.onError(MediaPlayer.java:2624)\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.HandleErrorEvents(NativeMediaPlayer.java:692)\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaPlayer$EventQueueThread.run(NativeMediaPlayer.java:426)\n</code></pre>\n<p>on one of the four movies. Which movie triggers the exception differs. While the earlier JavaFX version stumbled frequently over the first movie as well, since I installed the current JavaFX version the first movie most of the time - not always - runs fine.</p>\n<p>I checked the release notes and I took from it, that unusual width and height may cause a problem. However, I would expect that either the movie can be shown or not. But that the application sometimes shows the movies and sometimes not, makes it difficult to address the issue.</p>\n<p>Following some info about the four movies:</p>\n<pre><code>All of the videos are \n   - Format                               : MPEG-4 \n   - Format-Profil                        : Base Media / Version 2 \n   - Codec-ID                             : mp42 (mp41/isom)\n   - ID                                   : 1 \n     - Format                             : AVC \n     - Format/Info                        : Advanced Video Codec\n     - Format-Profil                      : Baseline@L3.1\n     - Format-Setting                     : 2 Ref Frames\n     - Format-Setting for CABAC           : No \n     - Format-Setting for RefFrames       : 2 frames \n     - Codec-ID                           : avc1 \n     - Codec-ID/Info                      : Advanced Video Coding \n     - Aspect ratio                       : 16:9 \n     - Refresh rate mode                  : constant \n     - FPS Color space                    : YUV \n     - Chroma subsampling                 : 4:2:0 \n     - Bit depth                          : 8 bits \n     - Scantyp                            : progressiv \n     - Codec configuration box            : avcC\n</code></pre>\n<p>If the movie has sound, the Audio is</p>\n<pre><code>   - ID                                       : 2\n   - Format                                   : AAC LC\n   - Format/Info                              : Advanced Audio Codec Low Complexity\n   - Codec-ID                                 : mp4a-40-2\n   - Bitraten-Mode                            : constant\n</code></pre>\n<p>Individual movie info:</p>\n<pre><code> - Movie 1 Video \n   \n     - Duration                           : 5s 900 ms\n     - Bitrate                            : 1 653 kb/s \n     - Width                              : 960 Pixel\n     - Height                             : 540 Pixel \n     - Image refresh rate                 : 30,000 FPS \n     - Bits/(Pixel*Frame)                 : 0.106\n     - Stream-Size                        : 1,16 MiB (68%)\n - Movie 2 Video \n   \n     - Duration                           : 2s 102 ms \n     - Bitrate                            : 934 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.034\n     - Stream-Size                        : 240 KiB (100%)\n - Movie 3 Video \n   \n     - Duration                           : 2s 536 ms \n     - Bitrate                            : 3 931 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.142\n     - Stream-Size                        : 1,19 MiB (97%)\n\n - Movie 4 Video \n   \n     - Duration                           : 2s 536 ms \n     - Bitrate                            : 3 931 kb/s \n     - Width                              : 1 280 Pixel\n     - Height                             : 720 Pixel \n     - Image refresh rate                 : 29,970 (29970/1000) \n     - Bits/(Pixel*Frame)                 : 0.142\n     - Stream-Size                        : 1,19 MiB (97%)\n    \n</code></pre>\n<p>Since the flaky behaviour suggests maybe a race condition issue, please find following the method that controls showing movies in a MediaView:</p>\n<pre><code>/**\n * \n * @param exercise, the object that encapsulates all information about a single training activity, that shall be displayed now\n * @param breakBetweenExercisesInSec, seconds to pause before the next exercise should be shown\n * @param exercises, list of remaining training exercises\n */\nprotected void runMovieExercise(Exercise exercise, int breakBetweenExercisesInSec, List&lt;Exercise&gt; exercises) {\n\n    sets = reps = 0;                                                                                // Initialize for every new exercise\n    showIntro = exercise.isShowIntro();\n    setLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\n    repLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\n\n    URL urlMediaLocation = getMediaLocation(exercise);\n    if(urlMediaLocation == null) {\n        System.err.println(&quot;Cannot show exercise: &quot; + exercise.getMediaFilePath());\n        runSession(exercises, breakBetweenExercisesInSec);                                          // Continue with next exercise\n    }\n    Platform.runLater(() -&gt; {\n        exerciseLabel.setText(exercise.getName());\n    });\n\n    media = new Media(urlMediaLocation.toString());\n    player = new MediaPlayer(media);                                                                // Every file needs a new dedicated MediaPlayer object according to API\n    player.setVolume(0);                                                                            // TODO save and restore volume setting\n    mediaView.setMediaPlayer(player);\n\n    player.setOnError(() -&gt; {\n        MediaException exc = player.getError();\n        LOGGER.fine(&quot;An error occurred: &quot;  + exc.getLocalizedMessage());\n        LOGGER.fine(urlMediaLocation.toExternalForm());\n        exc.printStackTrace(System.err);\n        ButtonType result = MessageBox.showMessageDialog(AlertType.ERROR, &quot;Cannot show media&quot;, \n                &quot;Couldn't open the movie file: &quot; + exercise.getMediaFilePath() + &quot;.\\nRetry loading the media file?&quot;, \n                mediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.OK, ButtonType.NO);\n        if (ButtonType.NO.equals(result)) {\n            runSession(exercises, breakBetweenExercisesInSec);                                      // Continue with next exercise\n        } else {                \n            runMovieExercise(exercise, breakBetweenExercisesInSec, exercises);                      // Retry\n        }\n    });\n\n\n    player.setOnEndOfMedia(() -&gt; {\n\n        LOGGER.fine(&quot;setOnEndOfMedia started&quot;);\n\n        if(showIntro) {\n            reps--;\n            ButtonType result = MessageBox.showMessageDialog(AlertType.CONFIRMATION, &quot;Replay the introduction?&quot;, \n                    &quot;You may want to repeat the introduction.&quot;, \n                    mediaPane.getScene().getWindow(), ButtonType.NO, ButtonType.YES, ButtonType.NO);\n            if (ButtonType.NO.equals(result)) {\n                showIntro = false;\n            }\n        }\n\n        reps++;\n        if((reps != 0) &amp;&amp; (reps % exercise.getRepsPerSet() == 0)) {\n            sets++;\n            if(sets == exercise.getNumOfSets())  {                  // start the next exercise\n                player.dispose();\n                if(exercises.size() &gt; 0) {\n                    pause(breakBetweenExercisesInSec, &quot;Exercise completed !&quot;);\n                    LOGGER.fine(&quot;starting next exercise&quot;);\n                    runSession(exercises, breakBetweenExercisesInSec);\n                    return;\n                } else {\n                    pause(5, &quot;YOU MADE IT !!&quot;);\n                    startStopContinueButton.setText(&quot;Start&quot;);\n                    setLabel.setText(&quot;&quot;);\n                    repLabel.setText(&quot;&quot;);\n                    startStopContinueButton.setDisable(true);\n                    exerciseTable.setItems(null);\n                    return;\n                }\n            }\n            Platform.runLater(() -&gt; {\n                setLabel.setText(Integer.toString(sets + 1) + &quot; / &quot; + exercise.getNumOfSets());\n            });\n            pause(exercise.getBreakBetweenSetsInSecs(), &quot;Set completed !&quot;);\n            reps = 0;\n        }\n        Platform.runLater(() -&gt; {\n            repLabel.setText(Integer.toString(reps + 1) + &quot; / &quot; + exercise.getRepsPerSet());\n        });\n\n        player.setRate(exercise.getSpeed(reps));\n        player.seek(Duration.ZERO);\n        player.setAutoPlay(true);\n    });\n\n\n    volumeSlider.valueProperty().bindBidirectional(player.volumeProperty());\n    speedSlider.valueProperty().bindBidirectional(player.rateProperty());\n\n    if(showIntro) {\n        MessageBox.showMessageDialog(AlertType.INFORMATION, &quot;Introduction&quot;, \n                &quot;This exercise will now be shown to you for introductional purposes&quot;, \n                mediaPane.getScene().getWindow(), ButtonType.YES, ButtonType.YES);\n    }\n\n    player.setRate(exercise.getSpeed(reps));\n    player.setAutoPlay(true);\n}\n\nprotected URL getMediaLocation(Exercise exercise) {\n\n    URL mediaLocationURL = null;\n    File mediaLocationFile = new File(System.getProperty(&quot;user.home&quot;), &quot;.sifuSays/exercises/&quot; + exercise.getMediaFilePath());\n\n    try {\n        mediaLocationURL = mediaLocationFile.toURI().toURL();\n    } catch (MalformedURLException e) {\n        System.err.println(&quot;Cannot show exercise: &quot; + mediaLocationFile.getAbsolutePath());\n        mediaLocationURL = null;\n    }\n    return mediaLocationURL;\n}\n</code></pre>\n<p>As you can see, in player.setOnError() the code allows to re-try opening the file, which does work. So a typical run starts the first movie without problem. For movie 2 it needs 1 re-try, movie 3 needed 7 re-trys, and movie 4 needed 3 re-trys. But I also have runs where the application needed to re-try the first movie and all others were fine. So technically each movie is &quot;showable&quot;.</p>\n<p>Is there something I am missing or what am I do wrong?</p>\n<p>Should you need more code, let me know and I am happy to setup a github project to download the entire application - however, for legal reasons I cannot upload the movies, which is maybe the interesting part?!</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666971075,"post_id":74233262,"comment_id":131067712,"body_markdown":"Yes, this is one of the primary use cases of modules, and even when you use private and package protected, Reflection could get around that... but not with modules.","body":"Yes, this is one of the primary use cases of modules, and even when you use private and package protected, Reflection could get around that... but not with modules."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666972489,"post_id":74233262,"comment_id":131068242,"body_markdown":"Your &quot;it&#39;s still working&quot; comment is unclear.  You should still be able to use the internal classes from inside your library but not from the other class.  Is that what you saw?","body":"Your &quot;it&#39;s still working&quot; comment is unclear.  You should still be able to use the internal classes from inside your library but not from the other class.  Is that what you saw?"},{"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"score":0,"creation_date":1666983014,"post_id":74233262,"comment_id":131071551,"body_markdown":"@DanielWiddis no, I meant that I&#39;m able to use the internal classes from other classes (outside my library) and exactly this I&#39;m trying to prevent","body":"@DanielWiddis no, I meant that I&#39;m able to use the internal classes from other classes (outside my library) and exactly this I&#39;m trying to prevent"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1666997796,"post_id":74233262,"comment_id":131074778,"body_markdown":"That shouldn&#39;t be possible *IF* the other project is modular.   If the other project doesn&#39;t have a module descriptor it access your project the old way.","body":"That shouldn&#39;t be possible <i>IF</i> the other project is modular.   If the other project doesn&#39;t have a module descriptor it access your project the old way."},{"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"score":0,"creation_date":1667044473,"post_id":74233262,"comment_id":131080239,"body_markdown":"@DanielWiddis thank you! It&#39;s good to know. \nHow do you think, if there is some another way to achieve that rather then put all internals in private/package protected in library?","body":"@DanielWiddis thank you! It&#39;s good to know.  How do you think, if there is some another way to achieve that rather then put all internals in private/package protected in library?"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1667059988,"post_id":74233262,"comment_id":131083410,"body_markdown":"Generally no way to “enforce” it that’s not heavyweight.  You can use custom class annotations to communicate to users what they “should” not extend or used some sort of mechanism to mine the stack trace to inspect the calling class…","body":"Generally no way to “enforce” it that’s not heavyweight.  You can use custom class annotations to communicate to users what they “should” not extend or used some sort of mechanism to mine the stack trace to inspect the calling class…"}],"answers":[{"comments":[{"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"score":0,"creation_date":1667145098,"post_id":74247403,"comment_id":131096307,"body_markdown":"thank you! this fully answered my question","body":"thank you! this fully answered my question"}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667064616,"creation_date":1667064616,"answer_id":74247403,"question_id":74233262,"body_markdown":"&gt; So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?\r\n\r\nYes, modules can be used for this, and in fact were one of the primary motivators for Project Jigsaw (which became JPMS).  \r\n\r\n[JSR-376][1], which defines the JPMS specification, includes strong encapsulation as one of its two fundamental capabilities:\r\n&gt; This specification achieves that goal by providing two fundamental capabilities:\r\n&gt; \r\n&gt; *Reliable configuration*, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another, along with\r\n&gt; \r\n&gt; *Strong encapsulation*, to allow a component to declare which of its public types are accessible to other components, and which are not.\r\n\r\n[JEP-260][2], part of the implementation, explicitly does this behavior for the JDK itself:\r\n&gt; **Summary**\r\n&gt;\r\n&gt; Encapsulate most of the JDK&#39;s internal APIs by default so that they are inaccessible at compile time, and prepare for a future release in which they will be inaccessible at run time. \r\n\r\nThis all seems like a good idea and would have been had it been included in the language specifications from the beginning.  However, using modules is still somewhat opt-in because Java also loves to support backwards compatibility and doesn&#39;t want to break a huge existing ecosystem where developers say things like:\r\n&gt; this library is already written and it would be a lot of effort to refactor it in that way.\r\n\r\nTo support backwards compatibility, Java separated the *module path* (which enforces this encapsulation) from the *class path* (the old way of doing things).  The class path fits into the module system as an &quot;unnamed module&quot;.\r\n\r\nSo if consumers of a library don&#39;t use modules, those imported classes end up on the class path, and they can do everything they used to be able to do, including accessing any package they want, and even working around access modifiers like `private` by (ab)using reflection (which simply requires a JVM argument to enable).   Many large java libraries still rely on reflection to do their work (e.g., JNA, Spring Boot, Jackson).\r\n\r\n&gt; And after that I&#39;ve tried to instantiate some classes from *.internal package and it&#39;s still working.\r\n\r\nWithout forcing other libraries to be modular to use your libraries, there&#39;s not much you can do to explicitly prevent it.  However, if you&#39;re willing to accept &quot;you shouldn&#39;t&quot; rather than &quot;you can&#39;t&quot; then there are many options available to you.  Some simpler ones:\r\n - Move classes into a package with a clear indication of its usage in its name (*.internal) as you have done.\r\n - Without moving any classes, use an annotation on the class such as `@foobar.api` and `@foobar.internal` to clearly communicate to users what they are supposed to use.\r\n\r\nIn parallel with this, motivate users to comply with this behavior by respecting [semantic versioning][3] for your API classes, but not requiring it (and even warning users) that internal class APIs may change (frequently) which will discourage users from taking dependencies on them.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~mr/jigsaw/spec/\r\n  [2]: https://openjdk.org/jeps/260\r\n  [3]: https://semver.org/","title":"Java library: using JPMS to prevent internal library classes from using them","body":"<blockquote>\n<p>So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?</p>\n</blockquote>\n<p>Yes, modules can be used for this, and in fact were one of the primary motivators for Project Jigsaw (which became JPMS).</p>\n<p><a href=\"http://cr.openjdk.java.net/%7Emr/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR-376</a>, which defines the JPMS specification, includes strong encapsulation as one of its two fundamental capabilities:</p>\n<blockquote>\n<p>This specification achieves that goal by providing two fundamental capabilities:</p>\n<p><em>Reliable configuration</em>, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another, along with</p>\n<p><em>Strong encapsulation</em>, to allow a component to declare which of its public types are accessible to other components, and which are not.</p>\n</blockquote>\n<p><a href=\"https://openjdk.org/jeps/260\" rel=\"nofollow noreferrer\">JEP-260</a>, part of the implementation, explicitly does this behavior for the JDK itself:</p>\n<blockquote>\n<p><strong>Summary</strong></p>\n<p>Encapsulate most of the JDK's internal APIs by default so that they are inaccessible at compile time, and prepare for a future release in which they will be inaccessible at run time.</p>\n</blockquote>\n<p>This all seems like a good idea and would have been had it been included in the language specifications from the beginning.  However, using modules is still somewhat opt-in because Java also loves to support backwards compatibility and doesn't want to break a huge existing ecosystem where developers say things like:</p>\n<blockquote>\n<p>this library is already written and it would be a lot of effort to refactor it in that way.</p>\n</blockquote>\n<p>To support backwards compatibility, Java separated the <em>module path</em> (which enforces this encapsulation) from the <em>class path</em> (the old way of doing things).  The class path fits into the module system as an &quot;unnamed module&quot;.</p>\n<p>So if consumers of a library don't use modules, those imported classes end up on the class path, and they can do everything they used to be able to do, including accessing any package they want, and even working around access modifiers like <code>private</code> by (ab)using reflection (which simply requires a JVM argument to enable).   Many large java libraries still rely on reflection to do their work (e.g., JNA, Spring Boot, Jackson).</p>\n<blockquote>\n<p>And after that I've tried to instantiate some classes from *.internal package and it's still working.</p>\n</blockquote>\n<p>Without forcing other libraries to be modular to use your libraries, there's not much you can do to explicitly prevent it.  However, if you're willing to accept &quot;you shouldn't&quot; rather than &quot;you can't&quot; then there are many options available to you.  Some simpler ones:</p>\n<ul>\n<li>Move classes into a package with a clear indication of its usage in its name (*.internal) as you have done.</li>\n<li>Without moving any classes, use an annotation on the class such as <code>@foobar.api</code> and <code>@foobar.internal</code> to clearly communicate to users what they are supposed to use.</li>\n</ul>\n<p>In parallel with this, motivate users to comply with this behavior by respecting <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semantic versioning</a> for your API classes, but not requiring it (and even warning users) that internal class APIs may change (frequently) which will discourage users from taking dependencies on them.</p>\n"}],"owner":{"account_id":2756894,"reputation":79,"user_id":2374709,"accept_rate":100,"display_name":"a_dobryn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74247403,"answer_count":1,"score":1,"last_activity_date":1667064736,"creation_date":1666949237,"question_id":74233262,"body_markdown":"I&#39;m trying to separate public API from internals in a library, so that users of that library can not instantiate internal classes. \r\n\r\nAs I understand, normally this is achieved through making internal things private/package protected. But this library is already written and it would be a lot of effort to refactor it in that way.\r\n\r\nAfter some reading I&#39;ve found out about the java modules, and that we can explicitly say which packages we would like to expose. So I did it in that way:\r\n - moved API classes to *.api package and internal to *.internal\r\n - created a Java module like this:\r\n```java\r\nmodule some.library{\r\n    exports some.library.api;\r\n    requires etc1;\r\n}\r\n```\r\nAfter that I&#39;ve compiled my library and used it in another project \r\n```xml\r\n&lt;parent&gt;\r\n    &lt;artifactId&gt;some.library&lt;/artifactId&gt;\r\n    &lt;groupId&gt;some.library&lt;/groupId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/parent&gt;\r\n```\r\nAnd after that I&#39;ve tried to instantiate some classes from *.internal package and it&#39;s still working (I can access these internal classes from the other project).\r\n\r\nSo the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?","title":"Java library: using JPMS to prevent internal library classes from using them","body":"<p>I'm trying to separate public API from internals in a library, so that users of that library can not instantiate internal classes.</p>\n<p>As I understand, normally this is achieved through making internal things private/package protected. But this library is already written and it would be a lot of effort to refactor it in that way.</p>\n<p>After some reading I've found out about the java modules, and that we can explicitly say which packages we would like to expose. So I did it in that way:</p>\n<ul>\n<li>moved API classes to *.api package and internal to *.internal</li>\n<li>created a Java module like this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>module some.library{\n    exports some.library.api;\n    requires etc1;\n}\n</code></pre>\n<p>After that I've compiled my library and used it in another project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;artifactId&gt;some.library&lt;/artifactId&gt;\n    &lt;groupId&gt;some.library&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And after that I've tried to instantiate some classes from *.internal package and it's still working (I can access these internal classes from the other project).</p>\n<p>So the main question - could modules used for something like this or is it used only to specifying new abstraction levels in-between packages in the same application?</p>\n"},{"tags":["java","jsp","servlets"],"owner":{"account_id":20150219,"reputation":315,"user_id":14777704,"display_name":"MVKXXX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667064311,"creation_date":1667064311,"question_id":74247362,"body_markdown":"I am learning Servlets and JSP. I have written an index.jsp page and a login servlet which are as follows - \r\n\r\nindex.jsp - (the welcome page)\r\n```\r\n&lt;body&gt;\r\n&lt;form action=&quot;login&quot; method=&quot;post&quot;&gt;\r\nUserName:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\r\n&lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nLoginServlet - \r\n```\r\n@WebServlet(&quot;/login&quot;)\r\npublic class LoginServlet extends HttpServlet {\r\n@Override\t\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\r\n\t\tString username=req.getParameter(&quot;username&quot;);\r\n\t\tHttpSession session=req.getSession(false);\r\n\t\tsession.setAttribute(&quot;username&quot;,username);\r\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;home.jsp&quot;);\r\n\t\trd.forward(req,res);\r\n\r\n\r\n}\r\n```\r\n\r\nIt works if I keep cookies enabled in Edge browser. But when I disable cookies in Edge browser it shows error that - session is null. But when I set req.getSession(true), then on disabling cookies it works.\r\n\r\n(I know that req.getSession(true) makes a new session if there is no existing session but req.getSession(false) returns null if there is no existing session. )\r\n\r\n\r\nCan anyone please explain why this is happening? Also, when exactly does the new session object get created? \r\n","title":"Why req.getSession(false) returns null on disabling cookies in browser?","body":"<p>I am learning Servlets and JSP. I have written an index.jsp page and a login servlet which are as follows -</p>\n<p>index.jsp - (the welcome page)</p>\n<pre><code>&lt;body&gt;\n&lt;form action=&quot;login&quot; method=&quot;post&quot;&gt;\nUserName:&lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;\n&lt;input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>LoginServlet -</p>\n<pre><code>@WebServlet(&quot;/login&quot;)\npublic class LoginServlet extends HttpServlet {\n@Override   \n    protected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n        String username=req.getParameter(&quot;username&quot;);\n        HttpSession session=req.getSession(false);\n        session.setAttribute(&quot;username&quot;,username);\n        RequestDispatcher rd=req.getRequestDispatcher(&quot;home.jsp&quot;);\n        rd.forward(req,res);\n\n\n}\n</code></pre>\n<p>It works if I keep cookies enabled in Edge browser. But when I disable cookies in Edge browser it shows error that - session is null. But when I set req.getSession(true), then on disabling cookies it works.</p>\n<p>(I know that req.getSession(true) makes a new session if there is no existing session but req.getSession(false) returns null if there is no existing session. )</p>\n<p>Can anyone please explain why this is happening? Also, when exactly does the new session object get created?</p>\n"},{"tags":["java","string","io","simulator"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667066502,"post_id":74247277,"comment_id":131084804,"body_markdown":"*then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.*   That&#39;s the job of the &quot;input a string&quot; function that uses the IN instruction, not the job of the IN instruction.  Plenty of actual computers manage to read strings despite only having &quot;read a character into a register&quot; in the instruction set.  Your simulated computer can work the same way.","body":"<i>then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.</i>   That&#39;s the job of the &quot;input a string&quot; function that uses the IN instruction, not the job of the IN instruction.  Plenty of actual computers manage to read strings despite only having &quot;read a character into a register&quot; in the instruction set.  Your simulated computer can work the same way."},{"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"score":0,"creation_date":1667438622,"post_id":74247277,"comment_id":131169649,"body_markdown":"I see. Thank you for your feedback. I&#39;m just having trouble finding the right keywords to look things up. I can&#39;t seem to find the right resources since most of what I found are more high level languages, and this is more machine code. Is there any way you can help point me to where I can find these information? Or even just what the right keywords are?","body":"I see. Thank you for your feedback. I&#39;m just having trouble finding the right keywords to look things up. I can&#39;t seem to find the right resources since most of what I found are more high level languages, and this is more machine code. Is there any way you can help point me to where I can find these information? Or even just what the right keywords are?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667440352,"post_id":74247277,"comment_id":131169892,"body_markdown":"This is a basic programming exercise: given a way to read a single character at a time, assemble an integer value from a sequence of characters.  The fundamental step is that for each digit value you get (0 to 9 for decimal input), multiply the number-so-far by 10 (if you want decimal input) and add the new digit value.  It doesn&#39;t matter if your read-a-character routine is a machine instruction or some &quot;readchar&quot; library routine, the algorithm is the same.","body":"This is a basic programming exercise: given a way to read a single character at a time, assemble an integer value from a sequence of characters.  The fundamental step is that for each digit value you get (0 to 9 for decimal input), multiply the number-so-far by 10 (if you want decimal input) and add the new digit value.  It doesn&#39;t matter if your read-a-character routine is a machine instruction or some &quot;readchar&quot; library routine, the algorithm is the same."}],"answers":[{"comments":[{"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"score":0,"creation_date":1667437881,"post_id":74247348,"comment_id":131169546,"body_markdown":"I see. Thank you for your feedback. I understand that it&#39;s impossible now. But, how would it be implemented if the user enters a long string? Is there any resources I can read up on to better learn about how to implement this?","body":"I see. Thank you for your feedback. I understand that it&#39;s impossible now. But, how would it be implemented if the user enters a long string? Is there any resources I can read up on to better learn about how to implement this?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667446475,"post_id":74247348,"comment_id":131170739,"body_markdown":"You&#39;d for example send 1 byte or 2 bytes representing the string size (if you send 1, your string can be no longer than 255 chars; if you sent 2, your limit is 65535), and then send that many bytes, e.g. with UTF-8 or US-ASCII or ISO-8859-1 encoding (these encodings turn strings into bytes). There aren&#39;t any other ways to do it, by its nature, strings are variable size.","body":"You&#39;d for example send 1 byte or 2 bytes representing the string size (if you send 1, your string can be no longer than 255 chars; if you sent 2, your limit is 65535), and then send that many bytes, e.g. with UTF-8 or US-ASCII or ISO-8859-1 encoding (these encodings turn strings into bytes). There aren&#39;t any other ways to do it, by its nature, strings are variable size."},{"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"score":0,"creation_date":1667596262,"post_id":74247348,"comment_id":131212413,"body_markdown":"I see, thank you so much! Your explanation gave me a good idea on how to work on it. Thank you again!","body":"I see, thank you so much! Your explanation gave me a good idea on how to work on it. Thank you again!"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667064153,"creation_date":1667064153,"answer_id":74247348,"question_id":74247277,"body_markdown":"What you want is mathematically impossible, by way of the pigeonhole principle. Imagine you&#39;re in a room with 3 lightswitches in it, that do nothing. You get to walk in, fiddle with the switches, and you must walk out again. You can&#39;t leave anything, you can&#39;t mess with anything else.\r\n\r\nLater I enter the same room, and I get to look at the switches, that&#39;s all.\r\n\r\nWe can communicate only 8 different things, because I can fully enumerate each and every situation you can possibly create: DDD, DDU, DUD, DUU, UDD, UDU, UUD, and UUU. That&#39;s 8.\r\n\r\n2 bytes is the same, except, its 16 lightswitches, not 3. You can thus communicate 65536 different states (2^16).\r\n\r\nThere are way more than 65536 strings of length 30 or so, which the message &quot;Some characters here and 12234&quot; is long. Given that you have to &#39;compress&#39; it down to 65536 different unique states, there can only be 65536 different strings that you can possibly represent. You&#39;re free to choose whatever 65536 different strings you want, but it can only be, at most, 65536 strings. After all, imagine that both &quot;Hi&quot; and &quot;Hello&quot; compress down to &#39;01 191&#39;. So if I see &#39;01 191&#39;, did you say Hi or did you say Hello? It&#39;s impossible to know.\r\n\r\nIf you severely reduce the amount of symbols that can be in the message, let&#39;s say down to only the capitals, space, and the digits, and that&#39;s it. No dots, no dashes, no underscores, no plusses, no question marks. That&#39;s only 26 + 1 + 10 = 37 characters. Let&#39;s knock off 5 more for convenience - we make the &#39;x&#39; impossible, the 0 and 1 (just use the letter &#39;o&#39; and &#39;l&#39; I guess), q, and z. Now it&#39;s 32 characters. Which can be represented with exactly 5 bits. You have 16 of em, so you can now represent 3 letters with your 16 bits, with 1 bit left over.\r\n\r\nBut that&#39;s as far as it goes.\r\n","title":"JAVA: saving a string encoded into a number (not parseInt)","body":"<p>What you want is mathematically impossible, by way of the pigeonhole principle. Imagine you're in a room with 3 lightswitches in it, that do nothing. You get to walk in, fiddle with the switches, and you must walk out again. You can't leave anything, you can't mess with anything else.</p>\n<p>Later I enter the same room, and I get to look at the switches, that's all.</p>\n<p>We can communicate only 8 different things, because I can fully enumerate each and every situation you can possibly create: DDD, DDU, DUD, DUU, UDD, UDU, UUD, and UUU. That's 8.</p>\n<p>2 bytes is the same, except, its 16 lightswitches, not 3. You can thus communicate 65536 different states (2^16).</p>\n<p>There are way more than 65536 strings of length 30 or so, which the message &quot;Some characters here and 12234&quot; is long. Given that you have to 'compress' it down to 65536 different unique states, there can only be 65536 different strings that you can possibly represent. You're free to choose whatever 65536 different strings you want, but it can only be, at most, 65536 strings. After all, imagine that both &quot;Hi&quot; and &quot;Hello&quot; compress down to '01 191'. So if I see '01 191', did you say Hi or did you say Hello? It's impossible to know.</p>\n<p>If you severely reduce the amount of symbols that can be in the message, let's say down to only the capitals, space, and the digits, and that's it. No dots, no dashes, no underscores, no plusses, no question marks. That's only 26 + 1 + 10 = 37 characters. Let's knock off 5 more for convenience - we make the 'x' impossible, the 0 and 1 (just use the letter 'o' and 'l' I guess), q, and z. Now it's 32 characters. Which can be represented with exactly 5 bits. You have 16 of em, so you can now represent 3 letters with your 16 bits, with 1 bit left over.</p>\n<p>But that's as far as it goes.</p>\n"}],"owner":{"account_id":26295800,"reputation":15,"user_id":19962063,"display_name":"Bi Bi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667064153,"creation_date":1667063508,"question_id":74247277,"body_markdown":"I&#39;m wondering if there is a way to convert a string into a number to be stored (not parseInt).\r\n\r\nSay, I have a user input a string `&quot;Some characters here and 12234&quot;`, is there a way to convert this to a specific number? That later on, that number can be interpreted and print back out as the same string?\r\n\r\nI thought about implementing it as ASCII characters, but ASCII characters require 1 byte for each characters, but my number is only 16-bit long (short).\r\n\r\nFor more information, I&#39;m implementing a basic computer simulator and I&#39;m trying to implement simple I/O instructions. The numbers will be stored into a register that is 16-bit in size. \r\nThe problem is that the instruction format is fixed, which is &quot;IN reg, device&quot; or &quot;OUT reg, device&quot;. If I use ASCII, the reg can only hold 2 characters at a time, then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be. ","title":"JAVA: saving a string encoded into a number (not parseInt)","body":"<p>I'm wondering if there is a way to convert a string into a number to be stored (not parseInt).</p>\n<p>Say, I have a user input a string <code>&quot;Some characters here and 12234&quot;</code>, is there a way to convert this to a specific number? That later on, that number can be interpreted and print back out as the same string?</p>\n<p>I thought about implementing it as ASCII characters, but ASCII characters require 1 byte for each characters, but my number is only 16-bit long (short).</p>\n<p>For more information, I'm implementing a basic computer simulator and I'm trying to implement simple I/O instructions. The numbers will be stored into a register that is 16-bit in size.\nThe problem is that the instruction format is fixed, which is &quot;IN reg, device&quot; or &quot;OUT reg, device&quot;. If I use ASCII, the reg can only hold 2 characters at a time, then I will have to save that into our virtual memory, but there is no spot in the instruction to indicate where in memory it will be.</p>\n"},{"tags":["java","sql-server","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1610620090,"post_id":65717197,"comment_id":116192247,"body_markdown":"My *guess* would be that the problem lies in what ever language you are using to insert the data, not the database (as inserting those characters when using that collation works fine). You should be tagging your application&#39;s language here too.","body":"My <i>guess</i> would be that the problem lies in what ever language you are using to insert the data, not the database (as inserting those characters when using that collation works fine). You should be tagging your application&#39;s language here too."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610622285,"post_id":65717197,"comment_id":116193174,"body_markdown":"Thanks, nice point, application has been written in java. Data has been inserted by some other app, the user locale is da_DK","body":"Thanks, nice point, application has been written in java. Data has been inserted by some other app, the user locale is da_DK"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1610622350,"post_id":65717197,"comment_id":116193200,"body_markdown":"What OS do you use? What is the default character encoding? Both on the dev and production environment.","body":"What OS do you use? What is the default character encoding? Both on the dev and production environment."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610623465,"post_id":65717197,"comment_id":116193657,"body_markdown":"Dev Environment: I am using MacOS, SQL Server is installed as Docker Image.\nStaging: app\\SQL server is running on Windows. \nJava version: openjdk version &quot;1.8.0_275&quot;","body":"Dev Environment: I am using MacOS, SQL Server is installed as Docker Image. Staging: app\\SQL server is running on Windows.  Java version: openjdk version &quot;1.8.0_275&quot;"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1610631393,"post_id":65717197,"comment_id":116197359,"body_markdown":"Does tempdb on the staging server also use Danish_Greenlandic_100_CS_AS?","body":"Does tempdb on the staging server also use Danish_Greenlandic_100_CS_AS?"},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610634449,"post_id":65717197,"comment_id":116198987,"body_markdown":"Yep. Both databases uses same collation: &#39;Danish_Greenlandic_100_CS_AS&#39;. On my local dev machine everything works fine, on staging server - &#39;&#216;&#39; &#39;&#197;&#39; &#39;&#198;&#39;characters are encoded improperly(non readable chars)","body":"Yep. Both databases uses same collation: &#39;Danish_Greenlandic_100_CS_AS&#39;. On my local dev machine everything works fine, on staging server - &#39;&#216;&#39; &#39;&#197;&#39; &#39;&#198;&#39;characters are encoded improperly(non readable chars)"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1610795705,"post_id":65717197,"comment_id":116247854,"body_markdown":"If you try the same thing directly in the database, is it successfully writing the Danish characters?","body":"If you try the same thing directly in the database, is it successfully writing the Danish characters?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1610824443,"post_id":65717197,"comment_id":116256024,"body_markdown":"Please, pay attention to the different default charsets of the JVM that you are using in MacOS (`UTF-8`) and Windows (`cp-1252`or some variant): I realized that you indicated charset `UTF-8` in you connection properties but maybe the problem is related with some kind of post processing (file output, ...)","body":"Please, pay attention to the different default charsets of the JVM that you are using in MacOS (<code>UTF-8</code>) and Windows (<code>cp-1252</code>or some variant): I realized that you indicated charset <code>UTF-8</code> in you connection properties but maybe the problem is related with some kind of post processing (file output, ...)"},{"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"score":0,"creation_date":1610844218,"post_id":65717197,"comment_id":116260902,"body_markdown":"I recommend to check locale of OS(in docker and on server),then the locale for the JVM, and server locale.","body":"I recommend to check locale of OS(in docker and on server),then the locale for the JVM, and server locale."},{"owner":{"account_id":1205141,"reputation":5974,"user_id":1174966,"display_name":"jdaz"},"score":0,"creation_date":1610934131,"post_id":65717197,"comment_id":116281215,"body_markdown":"How are you testing that the characters are encoded improperly on the staging machine?  If you are just printing them to the command line, that could be your problem since Windows CMD uses `cp-1252` instead of `UTF-8` by default. If the machine is at least running Windows 7, run `chcp 65001` on the console before printing anything and see if that fixes it.","body":"How are you testing that the characters are encoded improperly on the staging machine?  If you are just printing them to the command line, that could be your problem since Windows CMD uses <code>cp-1252</code> instead of <code>UTF-8</code> by default. If the machine is at least running Windows 7, run <code>chcp 65001</code> on the console before printing anything and see if that fixes it."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610949298,"post_id":65717197,"comment_id":116283901,"body_markdown":"Disclaimers: I am not able to insert anything to the table, and alongside the issue with charset, the additional complication to this  is the fact that I have quite limited access to staging environment. @LajosArpad","body":"Disclaimers: I am not able to insert anything to the table, and alongside the issue with charset, the additional complication to this  is the fact that I have quite limited access to staging environment. @LajosArpad"},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1610949625,"post_id":65717197,"comment_id":116283967,"body_markdown":"Invalid characters are printed in web server response(which I assume is base64 encoded ) and in logs. I believe that when I invoke rs.getString (or new String(&lt;input_raw_bytes&gt;, &quot;CharsetName)) then java is converting automatically to given encoding, and by default the result is UTF-8","body":"Invalid characters are printed in web server response(which I assume is base64 encoded ) and in logs. I believe that when I invoke rs.getString (or new String(&lt;input_raw_bytes&gt;, &quot;CharsetName)) then java is converting automatically to given encoding, and by default the result is UTF-8"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1610962433,"post_id":65717197,"comment_id":116288580,"body_markdown":"@Nazar it&#39;s a key question to find out whether the raw query that is to be executed works. If yes, then it is something with your Java. If not, then it is something with your query.","body":"@Nazar it&#39;s a key question to find out whether the raw query that is to be executed works. If yes, then it is something with your Java. If not, then it is something with your query."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611014866,"post_id":65717197,"comment_id":116309766,"body_markdown":"@Nazar Both the server response and the logs are typical examples of the problem with the charset I tried to explain. Please, review the charset which is in place in the JVM in every environment. Please, review the value of the `file.encoding` system property in your laptop and in the staging environment, maybe it will provide you some insights into the problem.","body":"@Nazar Both the server response and the logs are typical examples of the problem with the charset I tried to explain. Please, review the charset which is in place in the JVM in every environment. Please, review the value of the <code>file.encoding</code> system property in your laptop and in the staging environment, maybe it will provide you some insights into the problem."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1611123217,"post_id":65717197,"comment_id":116345607,"body_markdown":"Many thanks @jccampanero. You gave me good direction, i&#39;ll review those settings, I suspect that on windows based machine it won&#39;t be UTF-8. At least I have on option to try. \nWhat I have so far: I create a logs and in logs, when I opened them on staging(Windows 2012 Server RC2)/ or on Mac - I see issues, however If i specifically change encoding in logs file to ISO-8859-1 - logs looks good.","body":"Many thanks @jccampanero. You gave me good direction, i&#39;ll review those settings, I suspect that on windows based machine it won&#39;t be UTF-8. At least I have on option to try.  What I have so far: I create a logs and in logs, when I opened them on staging(Windows 2012 Server RC2)/ or on Mac - I see issues, however If i specifically change encoding in logs file to ISO-8859-1 - logs looks good."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611136015,"post_id":65717197,"comment_id":116350729,"body_markdown":"That is great @Nazar. I hope it works properly. If you think I can be of any help, please, tell me, I will be glad to help you if I can.","body":"That is great @Nazar. I hope it works properly. If you think I can be of any help, please, tell me, I will be glad to help you if I can."},{"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"score":0,"creation_date":1611206857,"post_id":65717197,"comment_id":116377540,"body_markdown":"@jccampanero - I solved my issue and many thanks to your input. So please write the answer below so that I can accept it and gave your bounty. Story is following:. default JVM character encodings matters! I launched the same application with JVM parameter: `-Dfile.encoding=UTF-8` and it started working correctly. Without this option it picks `Charset.defaultCharset()` that is not UTF-8 for Windows case and it causes issues. Simply adding option `java -jar -Dfile.encoding=UTF-8 &lt;my_app.jar&gt;` fixes the issue and the code from starts working correctly","body":"@jccampanero - I solved my issue and many thanks to your input. So please write the answer below so that I can accept it and gave your bounty. Story is following:. default JVM character encodings matters! I launched the same application with JVM parameter: <code>-Dfile.encoding=UTF-8</code> and it started working correctly. Without this option it picks <code>Charset.defaultCharset()</code> that is not UTF-8 for Windows case and it causes issues. Simply adding option <code>java -jar -Dfile.encoding=UTF-8 &lt;my_app.jar&gt;</code> fixes the issue and the code from starts working correctly"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1611223359,"post_id":65717197,"comment_id":116383389,"body_markdown":"It is nice @Nazar! I am very happy to know that you finally was able to solve the issue. I will post an answer summarizing the different comments. Please, do not hesitate to contact me if you think that I can be of any help.","body":"It is nice @Nazar! I am very happy to know that you finally was able to solve the issue. I will post an answer summarizing the different comments. Please, do not hesitate to contact me if you think that I can be of any help."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667063875,"creation_date":1611223792,"answer_id":65825163,"question_id":65717197,"body_markdown":"The problem can be related with the use of different charsets for the in MacOS (by default, `UTF-8`), in your local laptop, and Windows (`cp-1252` or some variant)  in the staging environment.\r\n\r\nAlthough you indicated charset UTF-8 in you connection properties, perhaps the problem is related with some kind of post processing.\r\n\r\nIn fact, as indicated in the question comments, both the server response and log files are typical examples of the aforementioned problem with the charset.\r\n\r\nPlease, review the charset which is in place in the JVM in every environment: review and adapt if necessary the value of the `file.encoding` system property on your laptop and the staging environment, maybe it will give you some insights about the problem and help you solve it.\r\n\r\nSo in oder to fix your issue try to add `file.encoding` JVM parameter while running your application:\r\n\r\n`java -Dfile.encoding=UTF-8 -jar your_app.jar`","title":"JDBC: Issue with rendering Danish specific characters: &#216;,&#197;,&#198;","body":"<p>The problem can be related with the use of different charsets for the in MacOS (by default, <code>UTF-8</code>), in your local laptop, and Windows (<code>cp-1252</code> or some variant)  in the staging environment.</p>\n<p>Although you indicated charset UTF-8 in you connection properties, perhaps the problem is related with some kind of post processing.</p>\n<p>In fact, as indicated in the question comments, both the server response and log files are typical examples of the aforementioned problem with the charset.</p>\n<p>Please, review the charset which is in place in the JVM in every environment: review and adapt if necessary the value of the <code>file.encoding</code> system property on your laptop and the staging environment, maybe it will give you some insights about the problem and help you solve it.</p>\n<p>So in oder to fix your issue try to add <code>file.encoding</code> JVM parameter while running your application:</p>\n<p><code>java -Dfile.encoding=UTF-8 -jar your_app.jar</code></p>\n"}],"owner":{"account_id":199097,"reputation":79,"user_id":444173,"accept_rate":75,"display_name":"Nazar"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65825163,"answer_count":1,"score":1,"last_activity_date":1667063875,"creation_date":1610619866,"question_id":65717197,"body_markdown":"Problem:\r\nDanish specific characters are displayed improperly(as non readable chars)\r\n\r\nGiven: \r\nDatabase is `Microsoft SQL server 2019`, database collation is: `Danish_Greenlandic_100_CS_AS`. Data has been stored in Varchar column types, data has been already there; change collation or any data modification is not appropriate. I am not inserting data, only reading them(kind of report functionality).\r\nEverything is working fine on my local machine, however on staging environment Danish characters are encoded improperly. \r\n\r\nConnection initialization snippet\r\n```\r\nProperties props = new Properties();\r\nprops.put (&quot;charSet&quot;, &quot;UTF-8&quot;);\r\nprops.put(&quot;username&quot;, &quot;dbusername&quot;);\r\nprops.put(&quot;password&quot;, &quot;secret&quot;);\r\ntry (Connection con = getConnection(repositoryUrl, props);\r\n   PreparedStatement preparedStatement = con.prepareStatement(sqlQuery)\r\n) {\r\n\r\n```\r\nReading data snippet:\r\n```\r\nResultSet rs = //getResultSet\r\nwhile (rs.next()) {\r\n            Map&lt;String, String&gt; rowEntry = new LinkedHashMap&lt;&gt;();\r\n            for (int i =0; i &lt; columnCount; i++ ) {\r\n                int columnIndex = i+1;\r\n                String value = rs.getString(columnIndex);\r\n                rowEntry.put(columnName, value);\r\n            }\r\n            result.add(rowEntry);\r\n        }\r\n```\r\n","title":"JDBC: Issue with rendering Danish specific characters: &#216;,&#197;,&#198;","body":"<p>Problem:\nDanish specific characters are displayed improperly(as non readable chars)</p>\n<p>Given:\nDatabase is <code>Microsoft SQL server 2019</code>, database collation is: <code>Danish_Greenlandic_100_CS_AS</code>. Data has been stored in Varchar column types, data has been already there; change collation or any data modification is not appropriate. I am not inserting data, only reading them(kind of report functionality).\nEverything is working fine on my local machine, however on staging environment Danish characters are encoded improperly.</p>\n<p>Connection initialization snippet</p>\n<pre><code>Properties props = new Properties();\nprops.put (&quot;charSet&quot;, &quot;UTF-8&quot;);\nprops.put(&quot;username&quot;, &quot;dbusername&quot;);\nprops.put(&quot;password&quot;, &quot;secret&quot;);\ntry (Connection con = getConnection(repositoryUrl, props);\n   PreparedStatement preparedStatement = con.prepareStatement(sqlQuery)\n) {\n\n</code></pre>\n<p>Reading data snippet:</p>\n<pre><code>ResultSet rs = //getResultSet\nwhile (rs.next()) {\n            Map&lt;String, String&gt; rowEntry = new LinkedHashMap&lt;&gt;();\n            for (int i =0; i &lt; columnCount; i++ ) {\n                int columnIndex = i+1;\n                String value = rs.getString(columnIndex);\n                rowEntry.put(columnName, value);\n            }\n            result.add(rowEntry);\n        }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9299,"page":924,"page_size":100}
