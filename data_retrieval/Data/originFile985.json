{"items":[{"tags":["java","oracle","spring","jdbctemplate"],"comments":[{"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"score":1,"creation_date":1362741338,"post_id":15292331,"comment_id":21580150,"body_markdown":"check if this helps http://www.coderanch.com/t/489862/Spring/Calling-Stored-Procedure-Spring-StoredProcedure .Did you try calling the procedure in sql prompt ? Did it work ?","body":"check if this helps <a href=\"http://www.coderanch.com/t/489862/Spring/Calling-Stored-Procedure-Spring-StoredProcedure\" rel=\"nofollow noreferrer\">coderanch.com/t/489862/Spring/&hellip;</a> .Did you try calling the procedure in sql prompt ? Did it work ?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1362743159,"post_id":15292331,"comment_id":21581126,"body_markdown":"There is no error in the procedure it working fine, The error might in java side.","body":"There is no error in the procedure it working fine, The error might in java side."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1571328826,"post_id":15292331,"comment_id":103213754,"body_markdown":"It worked for me only use CallableStatement. It is strange that in other similar procedures there are no problems.","body":"It worked for me only use CallableStatement. It is strange that in other similar procedures there are no problems."},{"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"score":0,"creation_date":1637046165,"post_id":15292331,"comment_id":123713500,"body_markdown":"If you use IN clause in sql query, then you can&#39;t pass list of values in place of this directly it need to converted to comma separated strings or need to be handled smartly.","body":"If you use IN clause in sql query, then you can&#39;t pass list of values in place of this directly it need to converted to comma separated strings or need to be handled smartly."}],"answers":[{"comments":[{"owner":{"account_id":2073637,"reputation":23447,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"score":0,"creation_date":1362744318,"post_id":15292978,"comment_id":21581764,"body_markdown":"@KrushnaCh.Dash - Are parameters for `new SqlParameter()` correct?","body":"@KrushnaCh.Dash - Are parameters for <code>new SqlParameter()</code> correct?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1362744705,"post_id":15292978,"comment_id":21582006,"body_markdown":"Yes adding SQL parameter is optional as i have mention the type at the top","body":"Yes adding SQL parameter is optional as i have mention the type at the top"}],"tags":[],"owner":{"account_id":2073637,"reputation":23447,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362742251,"creation_date":1362742251,"answer_id":15292978,"question_id":15292331,"body_markdown":"Probably, you need to insert schema identifier here:  \r\n\r\n    in.addValue(&quot;po_system_users&quot;, null, OracleTypes.ARRAY, &quot;your_schema.T_SYSTEM_USER_TAB&quot;);","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Probably, you need to insert schema identifier here:  </p>\n\n<pre><code>in.addValue(\"po_system_users\", null, OracleTypes.ARRAY, \"your_schema.T_SYSTEM_USER_TAB\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1649432445,"post_id":15294345,"comment_id":126882165,"body_markdown":"sometimes it could be enum type value that interferes with data type.","body":"sometimes it could be enum type value that interferes with data type."}],"tags":[],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362746878,"creation_date":1362746878,"answer_id":15294345,"question_id":15292331,"body_markdown":"I think the problem is with the datatype of the data you are passing `Caused by: java.sql.SQLException: Invalid column type: 1111` check the datatypes you pass with the actual column datatypes may be there can be some mismatch or some constraint violation with `null`","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I think the problem is with the datatype of the data you are passing <code>Caused by: java.sql.SQLException: Invalid column type: 1111</code> check the datatypes you pass with the actual column datatypes may be there can be some mismatch or some constraint violation with <code>null</code></p>\n"},{"comments":[{"owner":{"account_id":169876,"reputation":2154,"user_id":396216,"accept_rate":81,"display_name":"Murat Derya &#214;zen"},"score":7,"creation_date":1403787974,"post_id":15332385,"comment_id":37800284,"body_markdown":"Why do you not include how you solved it instead of pasting code?","body":"Why do you not include how you solved it instead of pasting code?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1445674265,"post_id":15332385,"comment_id":54430225,"body_markdown":"Please see the edits, The error will happen due to mismatch of IN/OUT parameter as declare in procedure and java code","body":"Please see the edits, The error will happen due to mismatch of IN/OUT parameter as declare in procedure and java code"},{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1699401944,"post_id":15332385,"comment_id":136526488,"body_markdown":"hey I don&#39;t know if you still have the code but can you show me the code of OracleSystemUser() class","body":"hey I don&#39;t know if you still have the code but can you show me the code of OracleSystemUser() class"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1700635822,"post_id":15332385,"comment_id":136677430,"body_markdown":"Sorry Bro, I do not have the code with me now","body":"Sorry Bro, I do not have the code with me now"}],"tags":[],"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"comment_count":4,"down_vote_count":3,"up_vote_count":4,"is_accepted":true,"score":1,"last_activity_date":1445674236,"creation_date":1362982972,"answer_id":15332385,"question_id":15292331,"body_markdown":"Finally I solve the issues using below code. This type of error will happen when there is a mismatch between In/Out parameter as declare in procedure and in java code `declareParameters`. Here we need to defined oracle return tab\r\n\r\n    public class ManualSaleStoredProcedureDao {\r\n\r\n\tprivate SimpleJdbcCall getAllSytemUsers;\r\n\r\n\tpublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\r\n\r\n\t\tMapSqlParameterSource in = new MapSqlParameterSource();\r\n\t\tin.addValue(&quot;pi_client_code&quot;, clientCode);\r\n\t\tMap&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tList&lt;SystemUser&gt; systemUsers = (List&lt;SystemUser&gt;) result\r\n\t\t\t\t.get(VSCConstants.GET_SYSTEM_USER_OUT_PARAM1);\r\n\t\treturn systemUsers;\r\n\r\n\t}\r\n\r\n\tpublic void setDataSource(DataSource dataSource) {\r\n\r\n\t\tgetAllSytemUsers = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t.withSchemaName(VSCConstants.SCHEMA)\r\n\t\t\t\t.withProcedureName(VSCConstants.GET_SYSTEM_USER_PROC_NAME)\r\n\t\t\t\t.declareParameters(\r\n\t\t\t\t\t\tnew SqlParameter(\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.NUMBER,\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;),\r\n\t\t\t\t\t\tnew SqlInOutParameter(\r\n\t\t\t\t\t\t\t\t&quot;po_system_users&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.ARRAY,\r\n\t\t\t\t\t\t\t\t&quot;T_SYSTEM_USER_TAB&quot;,\r\n\t\t\t\t\t\t\t\tnew OracleSystemUser()));\r\n\r\n\t}","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Finally I solve the issues using below code. This type of error will happen when there is a mismatch between In/Out parameter as declare in procedure and in java code <code>declareParameters</code>. Here we need to defined oracle return tab</p>\n\n<pre><code>public class ManualSaleStoredProcedureDao {\n\nprivate SimpleJdbcCall getAllSytemUsers;\n\npublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\n\n    MapSqlParameterSource in = new MapSqlParameterSource();\n    in.addValue(\"pi_client_code\", clientCode);\n    Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\n    @SuppressWarnings(\"unchecked\")\n    List&lt;SystemUser&gt; systemUsers = (List&lt;SystemUser&gt;) result\n            .get(VSCConstants.GET_SYSTEM_USER_OUT_PARAM1);\n    return systemUsers;\n\n}\n\npublic void setDataSource(DataSource dataSource) {\n\n    getAllSytemUsers = new SimpleJdbcCall(dataSource)\n            .withSchemaName(VSCConstants.SCHEMA)\n            .withProcedureName(VSCConstants.GET_SYSTEM_USER_PROC_NAME)\n            .declareParameters(\n                    new SqlParameter(\n                            \"pi_client_code\",\n                            OracleTypes.NUMBER,\n                            \"pi_client_code\"),\n                    new SqlInOutParameter(\n                            \"po_system_users\",\n                            OracleTypes.ARRAY,\n                            \"T_SYSTEM_USER_TAB\",\n                            new OracleSystemUser()));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498070950,"creation_date":1498070950,"answer_id":44683985,"question_id":15292331,"body_markdown":"I have a function which returns a CLOB and I was seeing the above error when I&#39;d forgotten to declare the return value as an output parameter.  Initially I had:\r\n\r\n    protected SimpleJdbcCall buildJdbcCall(JdbcTemplate jdbcTemplate)\r\n\t{\r\n\t\tSimpleJdbcCall call = new SimpleJdbcCall(jdbcTemplate)\r\n\t\t\t.withSchemaName(schema)\r\n\t\t\t.withCatalogName(catalog)\r\n\t\t\t.withFunctionName(functionName)\r\n\t\t\t.withReturnValue()\t\t\t\r\n\t\t\t.declareParameters(buildSqlParameters());\r\n\r\n\t\treturn call;\r\n\t}\r\n\r\n\tpublic SqlParameter[] buildSqlParameters() {\r\n\t\treturn new SqlParameter[]{\r\n\t\t\tnew SqlParameter(&quot;p_names&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_format&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_units&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_datums&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_start&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_end&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_timezone&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_office_id&quot;, Types.VARCHAR),\r\n\t\t\t};\r\n\t}\r\n\r\nThe buildSqlParameters method should have included the SqlOutParameter:\r\n\r\n\tpublic SqlParameter[] buildSqlParameters() {\r\n\t\treturn new SqlParameter[]{\r\n\t\t\tnew SqlParameter(&quot;p_names&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_format&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_units&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_datums&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_start&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_end&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_timezone&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_office_id&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlOutParameter(&quot;l_clob&quot;, Types.CLOB)  // &lt;-- This was missing!\r\n        }; \r\n\t}\r\n\r\n","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I have a function which returns a CLOB and I was seeing the above error when I'd forgotten to declare the return value as an output parameter.  Initially I had:</p>\n\n<pre><code>protected SimpleJdbcCall buildJdbcCall(JdbcTemplate jdbcTemplate)\n{\n    SimpleJdbcCall call = new SimpleJdbcCall(jdbcTemplate)\n        .withSchemaName(schema)\n        .withCatalogName(catalog)\n        .withFunctionName(functionName)\n        .withReturnValue()          \n        .declareParameters(buildSqlParameters());\n\n    return call;\n}\n\npublic SqlParameter[] buildSqlParameters() {\n    return new SqlParameter[]{\n        new SqlParameter(\"p_names\", Types.VARCHAR),\n        new SqlParameter(\"p_format\", Types.VARCHAR),\n        new SqlParameter(\"p_units\", Types.VARCHAR),\n        new SqlParameter(\"p_datums\", Types.VARCHAR),\n        new SqlParameter(\"p_start\", Types.VARCHAR),\n        new SqlParameter(\"p_end\", Types.VARCHAR),\n        new SqlParameter(\"p_timezone\", Types.VARCHAR),\n        new SqlParameter(\"p_office_id\", Types.VARCHAR),\n        };\n}\n</code></pre>\n\n<p>The buildSqlParameters method should have included the SqlOutParameter:</p>\n\n<pre><code>public SqlParameter[] buildSqlParameters() {\n    return new SqlParameter[]{\n        new SqlParameter(\"p_names\", Types.VARCHAR),\n        new SqlParameter(\"p_format\", Types.VARCHAR),\n        new SqlParameter(\"p_units\", Types.VARCHAR),\n        new SqlParameter(\"p_datums\", Types.VARCHAR),\n        new SqlParameter(\"p_start\", Types.VARCHAR),\n        new SqlParameter(\"p_end\", Types.VARCHAR),\n        new SqlParameter(\"p_timezone\", Types.VARCHAR),\n        new SqlParameter(\"p_office_id\", Types.VARCHAR),\n        new SqlOutParameter(\"l_clob\", Types.CLOB)  // &lt;-- This was missing!\n    }; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559317740,"creation_date":1559317740,"answer_id":56398191,"question_id":15292331,"body_markdown":"We had the same issue when we had a typo in the mybatis mapping file like\r\n\r\n            ....\r\n            #{column1Name,\t\t\tjdbcType=INTEGER},\r\n\t\t\t#{column2Name,\t\t\tjdbcType=VARCHAR},\r\n\t\t\t#{column3Name,\t\tjdbcTyep=VARCHAR}  -- do you see the typo ?\r\n            .....\r\n\r\nSo check this kind of typos as well. Unfortunately, it can not understand the typo in compile/build time, it causes an unchecked exception and booms in runtime.","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>We had the same issue when we had a typo in the mybatis mapping file like</p>\n\n<pre><code>        ....\n        #{column1Name,          jdbcType=INTEGER},\n        #{column2Name,          jdbcType=VARCHAR},\n        #{column3Name,      jdbcTyep=VARCHAR}  -- do you see the typo ?\n        .....\n</code></pre>\n\n<p>So check this kind of typos as well. Unfortunately, it can not understand the typo in compile/build time, it causes an unchecked exception and booms in runtime.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592485354,"creation_date":1592485354,"answer_id":62450616,"question_id":15292331,"body_markdown":"I had this problem, and turns out the problem was that I had used\r\n\r\n```java\r\nnew SimpleJdbcCall(jdbcTemplate)\r\n    .withProcedureName(&quot;foo&quot;)\r\n```\r\n\r\ninstead of\r\n\r\n```java\r\nnew SimpleJdbcCall(jdbcTemplate)\r\n    .withFunctionName(&quot;foo&quot;)\r\n```","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I had this problem, and turns out the problem was that I had used</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleJdbcCall(jdbcTemplate)\n    .withProcedureName(\"foo\")\n</code></pre>\n\n<p>instead of</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleJdbcCall(jdbcTemplate)\n    .withFunctionName(\"foo\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26544815,"reputation":1,"user_id":20175033,"display_name":"Ge&#243;rgia Maria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665055324,"creation_date":1665055324,"answer_id":73972955,"question_id":15292331,"body_markdown":"I had this problem. The cause was a table of record indexed type.\r\n\r\nThis \r\n\r\n    TYPE tp_tb IS TABLE OF VARCHAR2(21) INDEX BY PLS_INTEGER;\r\n\r\nInstead of \r\n\r\n    TYPE tp_tb IS TABLE OF VARCHAR2(21);","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I had this problem. The cause was a table of record indexed type.</p>\n<p>This</p>\n<pre><code>TYPE tp_tb IS TABLE OF VARCHAR2(21) INDEX BY PLS_INTEGER;\n</code></pre>\n<p>Instead of</p>\n<pre><code>TYPE tp_tb IS TABLE OF VARCHAR2(21);\n</code></pre>\n"}],"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166374,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":15332385,"answer_count":7,"score":12,"last_activity_date":1665055324,"creation_date":1362740107,"question_id":15292331,"body_markdown":"Hi All I am using spring simple JDBC template to call the oracle procedure the below are my code.\r\n\r\nThe procedure\r\n\r\n    create or replace\r\n    PROCEDURE get_all_system_users(\r\n    pi_client_code IN VARCHAR2,\r\n    po_system_users OUT T_SYSTEM_USER_TAB,\r\n    po_error_code        OUT NUMBER,\r\n    po_error_description OUT VARCHAR2)\r\n    IS\r\n    ctr NUMBER;\r\n    sysUser SYSTEM_USER_OBJ;\r\n    BEGIN\r\n    ctr:=0;\r\n    po_system_users:= t_system_user_tab();\r\n    end\r\nThe Spring Dao class\r\n\r\n    public class ManualSaleStoredProcedureDao {\r\n\r\n\tprivate SimpleJdbcCall getAllSytemUsers;\r\n\r\n\tpublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\r\n\r\n\t\tMapSqlParameterSource in = new MapSqlParameterSource();\r\n\t\tin.addValue(&quot;pi_client_code&quot;, clientCode);\r\n\t\tin.addValue(&quot;po_system_users&quot;, null,\r\n\t\t\t\tOracleTypes.ARRAY, &quot;T_SYSTEM_USER_TAB&quot;);\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\r\n\t\t\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\tpublic void setDataSource(DataSource dataSource) {\r\n\r\n\t\tgetAllSytemUsers = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t.withSchemaName(&quot;SChemaName&quot;)\r\n\t\t\t\t.withProcedureName(&quot;get_all_system_users&quot;)\r\n\r\n\t\t\t\t.declareParameters(\r\n\r\n\t\t\t\t\t\tnew SqlParameter(\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.VARCHAR,\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;));\r\n\r\n\t}\r\n\r\n When I am calling `Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);`\r\nIam getting the below exception\r\n\r\n    org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call VSC.GET_ALL_SYSTEM_USERS(?, ?, ?, ?)}]; SQL state [99999]; error code [17004]; Invalid column type: 1111; nested exception is java.sql.SQLException: Invalid column type: 1111\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1030)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1064)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:388)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:351)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:181)\r\n\tat com.budco.vsc.dao.ManualSaleStoredProcedureDao.getAllSytemUsers(ManualSaleStoredProcedureDao.java:30)\r\n\tat com.budco.vsc.dao.ManualSaleStoredProcedureDaoITest.getCustomerNotes(ManualSaleStoredProcedureDaoITest.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n       Caused by: java.sql.SQLException: Invalid column type: 1111\r\n\tat oracle.jdbc.driver.OracleStatement.getInternalType(OracleStatement.java:3950)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameterInternal(OracleCallableStatement.java:135)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:304)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:393)\r\n\tat oracle.jdbc.driver.OracleCallableStatementWrapper.registerOutParameter(OracleCallableStatementWrapper.java:1569)\r\n\tat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\r\n\tat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\r\n\tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:198)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1008)\r\n\t... 35 more\r\n\r\n","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Hi All I am using spring simple JDBC template to call the oracle procedure the below are my code.</p>\n\n<p>The procedure</p>\n\n<pre><code>create or replace\nPROCEDURE get_all_system_users(\npi_client_code IN VARCHAR2,\npo_system_users OUT T_SYSTEM_USER_TAB,\npo_error_code        OUT NUMBER,\npo_error_description OUT VARCHAR2)\nIS\nctr NUMBER;\nsysUser SYSTEM_USER_OBJ;\nBEGIN\nctr:=0;\npo_system_users:= t_system_user_tab();\nend\n</code></pre>\n\n<p>The Spring Dao class</p>\n\n<pre><code>public class ManualSaleStoredProcedureDao {\n\nprivate SimpleJdbcCall getAllSytemUsers;\n\npublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\n\n    MapSqlParameterSource in = new MapSqlParameterSource();\n    in.addValue(\"pi_client_code\", clientCode);\n    in.addValue(\"po_system_users\", null,\n            OracleTypes.ARRAY, \"T_SYSTEM_USER_TAB\");\n\n    Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\n\n    return null;\n\n}\n\npublic void setDataSource(DataSource dataSource) {\n\n    getAllSytemUsers = new SimpleJdbcCall(dataSource)\n            .withSchemaName(\"SChemaName\")\n            .withProcedureName(\"get_all_system_users\")\n\n            .declareParameters(\n\n                    new SqlParameter(\n                            \"pi_client_code\",\n                            OracleTypes.VARCHAR,\n                            \"pi_client_code\"));\n\n}\n</code></pre>\n\n<p>When I am calling <code>Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);</code>\nIam getting the below exception</p>\n\n<pre><code>org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call VSC.GET_ALL_SYSTEM_USERS(?, ?, ?, ?)}]; SQL state [99999]; error code [17004]; Invalid column type: 1111; nested exception is java.sql.SQLException: Invalid column type: 1111\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1030)\nat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1064)\nat org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:388)\nat org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:351)\nat org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:181)\nat com.budco.vsc.dao.ManualSaleStoredProcedureDao.getAllSytemUsers(ManualSaleStoredProcedureDao.java:30)\nat com.budco.vsc.dao.ManualSaleStoredProcedureDaoITest.getCustomerNotes(ManualSaleStoredProcedureDaoITest.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\nat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\nat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\nat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n   Caused by: java.sql.SQLException: Invalid column type: 1111\nat oracle.jdbc.driver.OracleStatement.getInternalType(OracleStatement.java:3950)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameterInternal(OracleCallableStatement.java:135)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:304)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:393)\nat oracle.jdbc.driver.OracleCallableStatementWrapper.registerOutParameter(OracleCallableStatementWrapper.java:1569)\nat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\nat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\nat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:198)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1008)\n... 35 more\n</code></pre>\n"},{"tags":["java","spring-boot","security","ssl","prometheus"],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665055257,"creation_date":1665055257,"question_id":73972938,"body_markdown":"I am following the [official documentation](https://prometheus.io/docs/guides/tls-encryption/) regarding the TLS encryption of Prometheus. My Spring Boot uses https endpoints and thus I want Prometheus to scrap them as is. I am following the instructions but I am having problem in configuring Prometheus to read my web-config.yml. Specifically the following command,\r\n\r\n```\r\nprometheus \\\r\n--config.file=/mnt/d/Projects/Msc-Thesis-Project/prometheus.yml \\\r\n--web.config.file=/mnt/d/Projects/Msc-Thesis-Project/web-config.yml \\\r\n--web.external-url=https://localhost:8443/\r\n```\r\n\r\nthrows the following error,\r\n\r\n&gt;Error parsing commandline arguments: unknown long flag &#39;--web.config.file&#39;\r\n&gt;prometheus: error: unknown long flag &#39;--web.config.file&#39;\r\n\r\nDoes anyone had encountered the issue? Any advices?","title":"Unable to Make Prometheus Read the web-config.yml for TLS Encryption (Error: unknown long flag &#39;--web.config.file&#39;)","body":"<p>I am following the <a href=\"https://prometheus.io/docs/guides/tls-encryption/\" rel=\"nofollow noreferrer\">official documentation</a> regarding the TLS encryption of Prometheus. My Spring Boot uses https endpoints and thus I want Prometheus to scrap them as is. I am following the instructions but I am having problem in configuring Prometheus to read my web-config.yml. Specifically the following command,</p>\n<pre><code>prometheus \\\n--config.file=/mnt/d/Projects/Msc-Thesis-Project/prometheus.yml \\\n--web.config.file=/mnt/d/Projects/Msc-Thesis-Project/web-config.yml \\\n--web.external-url=https://localhost:8443/\n</code></pre>\n<p>throws the following error,</p>\n<blockquote>\n<p>Error parsing commandline arguments: unknown long flag '--web.config.file'\nprometheus: error: unknown long flag '--web.config.file'</p>\n</blockquote>\n<p>Does anyone had encountered the issue? Any advices?</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665049035,"creation_date":1665049035,"answer_id":73971637,"question_id":73971339,"body_markdown":"When you apply a regular overlay to a signed PDF, i.e. when you add the static content of another PDF to the static content of the signed PDF, you will always invalidate the signature.\r\n\r\nThis is because only certain changes are allowed to a signed PDF, and changing the static content is not one of them. For details see [this answer][1] and documents referenced from there.\r\n\r\nWhether there is an alternative, depends on the nature of the signature in the PDF. If it restricts the allowed changes to _form fill-in only_ or even forbids changes at all, you&#39;re out of luck.\r\n\r\nBut if the signature allows annotation changes, you can try and add the overlay content as a page filling annotation. Obviously the annotation must be added in an incremental update. Beware, though, this overlay-in-an-annotation acts differently from regular overlay content. E.g. regular text extraction will not extract text from the overlay. Also the annotation is very volatile, it can easily be removed, even accidentally.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"Using pdfbox overlay for a document with a digital signature","body":"<p>When you apply a regular overlay to a signed PDF, i.e. when you add the static content of another PDF to the static content of the signed PDF, you will always invalidate the signature.</p>\n<p>This is because only certain changes are allowed to a signed PDF, and changing the static content is not one of them. For details see <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a> and documents referenced from there.</p>\n<p>Whether there is an alternative, depends on the nature of the signature in the PDF. If it restricts the allowed changes to <em>form fill-in only</em> or even forbids changes at all, you're out of luck.</p>\n<p>But if the signature allows annotation changes, you can try and add the overlay content as a page filling annotation. Obviously the annotation must be added in an incremental update. Beware, though, this overlay-in-an-annotation acts differently from regular overlay content. E.g. regular text extraction will not extract text from the overlay. Also the annotation is very volatile, it can easily be removed, even accidentally.</p>\n"}],"owner":{"account_id":8138896,"reputation":468,"user_id":6129750,"display_name":"Christian O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73971637,"answer_count":1,"score":0,"last_activity_date":1665054713,"creation_date":1665047721,"question_id":73971339,"body_markdown":"I have a PDF document that is digitaly signed by an application other than pdfbox. I would now like add an overlay to that digitaly signed PDF using pdfbox. Usually, this would look something like this: \r\n\r\n    Overlay overlayObj = new Overlay();\r\n    PDDocument originalDoc = PDDocument.load(new File(...));\r\n    PDDocument overlayDoc = PDDocument.load(new File(...));\r\n    overlayObj.setInputPDF(originalDoc);\r\n    overlayObj.setAllPagesOverlayPDF(overlayDoc );\r\n    Map&lt;Integer, String&gt; ovmap = new HashMap&lt;Integer, String&gt;(); // empty map is a dummy\r\n    PDDocument res = overlayObj.overlay(ovmap);\r\n    res.save(...);\r\n\r\nHowever, this code generates a new PDF file, thus invalidating the digital signature. It seems that the `saveIncremental()` (https://issues.apache.org/jira/browse/PDFBOX-45) may be able to preserve the digital signature.\r\n\r\nIs there a way to use `saveIncremental()` in combination with overlays? Or is there any other way to overlay a file with a digital signature that preserves the signature?\r\n","title":"Using pdfbox overlay for a document with a digital signature","body":"<p>I have a PDF document that is digitaly signed by an application other than pdfbox. I would now like add an overlay to that digitaly signed PDF using pdfbox. Usually, this would look something like this:</p>\n<pre><code>Overlay overlayObj = new Overlay();\nPDDocument originalDoc = PDDocument.load(new File(...));\nPDDocument overlayDoc = PDDocument.load(new File(...));\noverlayObj.setInputPDF(originalDoc);\noverlayObj.setAllPagesOverlayPDF(overlayDoc );\nMap&lt;Integer, String&gt; ovmap = new HashMap&lt;Integer, String&gt;(); // empty map is a dummy\nPDDocument res = overlayObj.overlay(ovmap);\nres.save(...);\n</code></pre>\n<p>However, this code generates a new PDF file, thus invalidating the digital signature. It seems that the <code>saveIncremental()</code> (<a href=\"https://issues.apache.org/jira/browse/PDFBOX-45\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-45</a>) may be able to preserve the digital signature.</p>\n<p>Is there a way to use <code>saveIncremental()</code> in combination with overlays? Or is there any other way to overlay a file with a digital signature that preserves the signature?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"score":0,"creation_date":1526407947,"post_id":50355486,"comment_id":87729843,"body_markdown":"Are you using Spring Security? How is your security conifg setup?","body":"Are you using Spring Security? How is your security conifg setup?"}],"answers":[{"comments":[{"owner":{"account_id":13577901,"reputation":393,"user_id":9794763,"display_name":"sumit maske"},"score":0,"creation_date":1526414526,"post_id":50356861,"comment_id":87733191,"body_markdown":"i tried your answer but it gives anonymousUser as result","body":"i tried your answer but it gives anonymousUser as result"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1665054598,"post_id":50356861,"comment_id":130611870,"body_markdown":"@sumitmaske because nobody is logged in","body":"@sumitmaske because nobody is logged in"},{"owner":{"display_name":"user19145409"},"score":0,"creation_date":1671723371,"post_id":50356861,"comment_id":132163457,"body_markdown":"I used the same method, it threw me the following error:\nhttps://stackoverflow.com/questions/74888304/java-lang-string-is-in-module-java-base-of-loader-bootstrap-com-gaurav-studen","body":"I used the same method, it threw me the following error: <a href=\"https://stackoverflow.com/questions/74888304/java-lang-string-is-in-module-java-base-of-loader-bootstrap-com-gaurav-studen\" title=\"java lang string is in module java base of loader bootstrap com gaurav studen\">stackoverflow.com/questions/74888304/&hellip;</a>"}],"tags":[],"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665054615,"creation_date":1526408301,"answer_id":50356861,"question_id":50355486,"body_markdown":"Assuming your `User` class implements `UserDetails`, you can get the `User` from `SecurityContextHolder` without dependency injection.\r\n\r\n    public User getCurrentUser() {\r\n      return ((User) SecurityContextHolder.getContext()\r\n                .getAuthentication()\r\n                .getPrincipal());\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>Assuming your <code>User</code> class implements <code>UserDetails</code>, you can get the <code>User</code> from <code>SecurityContextHolder</code> without dependency injection.</p>\n<pre><code>public User getCurrentUser() {\n  return ((User) SecurityContextHolder.getContext()\n            .getAuthentication()\n            .getPrincipal());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1616761606,"post_id":50466472,"comment_id":118110792,"body_markdown":"`@AuthenticationPrincipal` and `final` should technically not be required according to https://www.baeldung.com/get-user-in-spring-security","body":"<code>@AuthenticationPrincipal</code> and <code>final</code> should technically not be required according to <a href=\"https://www.baeldung.com/get-user-in-spring-security\" rel=\"nofollow noreferrer\">baeldung.com/get-user-in-spring-security</a>"}],"tags":[],"owner":{"account_id":5153148,"reputation":7842,"user_id":4127155,"accept_rate":45,"display_name":"David"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547022600,"creation_date":1526988315,"answer_id":50466472,"question_id":50355486,"body_markdown":"The previous answer should work fine,\r\nif using spring web MVC controllers you can also have it injected into your controllers automatically out of the box using springs default method argument resolvers (`org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver`)\r\n\r\nA controller can do:\r\n\r\n    @RestController\r\n    public class AcceptConnectionController {\r\n        \r\n        @PostMapping(value = &quot;/&quot;)\r\n        public void controllerMethod(@AuthenticationPrincipal final MyPrincipal user) {\r\n            //...\r\n        }\r\n    \r\n    }\r\n\r\nIn the example above, `MyPrincipal` extends `org.springframework.security.authentication.AbstractAuthenticationToken`\r\nYou can then pass this principal to your service layer.\r\n","title":"Spring boot: Get current user&#39;s username","body":"<p>The previous answer should work fine,\nif using spring web MVC controllers you can also have it injected into your controllers automatically out of the box using springs default method argument resolvers (<code>org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver</code>)</p>\n\n<p>A controller can do:</p>\n\n<pre><code>@RestController\npublic class AcceptConnectionController {\n\n    @PostMapping(value = \"/\")\n    public void controllerMethod(@AuthenticationPrincipal final MyPrincipal user) {\n        //...\n    }\n\n}\n</code></pre>\n\n<p>In the example above, <code>MyPrincipal</code> extends <code>org.springframework.security.authentication.AbstractAuthenticationToken</code>\nYou can then pass this principal to your service layer.</p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532640828,"creation_date":1532640828,"answer_id":51547820,"question_id":50355486,"body_markdown":"As @cosmos asked - are you using Spring Security? \r\n\r\nIf yes, the following should work:\r\n\r\nIn your SecurityConfig:\r\n\r\n    @Bean\r\n\tpublic AuthenticationManager customAuthenticationManager() throws Exception {\r\n\t\treturn authenticationManager();\r\n\t}\r\n\r\nAnd in your Controller:\r\n\r\n    private String getPrincipal() {\r\n\t        String userName = null;\r\n\t        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n\t        if (principal instanceof UserDetails) {\r\n\t            userName = ((UserDetails) principal).getUsername();\r\n\t        } else {\r\n\t            userName = principal.toString();\r\n\t        }\r\n\t        return userName;\r\n\t    }","title":"Spring boot: Get current user&#39;s username","body":"<p>As @cosmos asked - are you using Spring Security? </p>\n\n<p>If yes, the following should work:</p>\n\n<p>In your SecurityConfig:</p>\n\n<pre><code>@Bean\npublic AuthenticationManager customAuthenticationManager() throws Exception {\n    return authenticationManager();\n}\n</code></pre>\n\n<p>And in your Controller:</p>\n\n<pre><code>private String getPrincipal() {\n        String userName = null;\n        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        if (principal instanceof UserDetails) {\n            userName = ((UserDetails) principal).getUsername();\n        } else {\n            userName = principal.toString();\n        }\n        return userName;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":1,"creation_date":1616761692,"post_id":51960800,"comment_id":118110830,"body_markdown":"A fourth way of doing this is to get it from the Authentication Token as described in https://www.baeldung.com/get-user-in-spring-security#controller","body":"A fourth way of doing this is to get it from the Authentication Token as described in <a href=\"https://www.baeldung.com/get-user-in-spring-security#controller\" rel=\"nofollow noreferrer\">baeldung.com/get-user-in-spring-security#controller</a>"}],"tags":[],"owner":{"account_id":1613951,"reputation":331,"user_id":1492159,"display_name":"pgardunoc"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534918561,"creation_date":1534918561,"answer_id":51960800,"question_id":50355486,"body_markdown":"There are multiple ways to do this.\r\n\r\nUsing `SecurityContextHolder`\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    String username = auth.getName();\r\n\r\nUsing `Principal` from a Controller\r\n\r\n    @RequestMapping(value = &quot;/myusername&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public String currentUserName(Principal principal) {\r\n        return principal.getName();\r\n    }\r\n\r\nFrom `HttpServletRequest`\r\n\r\n    @RequestMapping(value = &quot;/myusername&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public String getUsername(HttpServletRequest req) {\r\n        return req.getUserPrincipal.getName();\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>There are multiple ways to do this.</p>\n\n<p>Using <code>SecurityContextHolder</code></p>\n\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\nString username = auth.getName();\n</code></pre>\n\n<p>Using <code>Principal</code> from a Controller</p>\n\n<pre><code>@RequestMapping(value = \"/myusername\", method = RequestMethod.GET)\n@ResponseBody\npublic String currentUserName(Principal principal) {\n    return principal.getName();\n}\n</code></pre>\n\n<p>From <code>HttpServletRequest</code></p>\n\n<pre><code>@RequestMapping(value = \"/myusername\", method = RequestMethod.GET)\n@ResponseBody\npublic String getUsername(HttpServletRequest req) {\n    return req.getUserPrincipal.getName();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9351314,"reputation":359,"user_id":6940908,"display_name":"Dennis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586164889,"creation_date":1586164889,"answer_id":61056563,"question_id":50355486,"body_markdown":"Here is a method to used to get a user principal\r\n    \r\n    \r\n    @PutMapping(value = &quot;/{userId}&quot;)\r\n    public ResponseEntity&lt;?&gt; updateUser(@Valid @RequestBody UserPutRequest updateRequest, @PathVariable String userId,\r\n            Authentication authentication) {\r\n        Optional&lt;UserObject&gt; userOptional = userRepository.findById(userId);\r\n        UserPrincipal userPrincipal = (UserPrincipal) authentication.getPrincipal();\r\n        UserObject currentUser = userRepository.findByEmail(userPrincipal.getEmail());\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>Here is a method to used to get a user principal</p>\n\n<pre><code>@PutMapping(value = \"/{userId}\")\npublic ResponseEntity&lt;?&gt; updateUser(@Valid @RequestBody UserPutRequest updateRequest, @PathVariable String userId,\n        Authentication authentication) {\n    Optional&lt;UserObject&gt; userOptional = userRepository.findById(userId);\n    UserPrincipal userPrincipal = (UserPrincipal) authentication.getPrincipal();\n    UserObject currentUser = userRepository.findByEmail(userPrincipal.getEmail());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9171232,"reputation":119,"user_id":9628146,"display_name":"hasanga lakdinu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635354752,"creation_date":1635354752,"answer_id":69742877,"question_id":50355486,"body_markdown":"if you are using keycloak you can get more details using this way\r\n\r\n     Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        KeycloakPrincipal principal = (KeycloakPrincipal)auth.getPrincipal();\r\n\r\n\r\n        KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\r\n        AccessToken accessToken = session.getToken();\r\n        String username = accessToken.getPreferredUsername();\r\n        String emailID = accessToken.getEmail();\r\n        String lastname = accessToken.getFamilyName();\r\n        String firstname = accessToken.getGivenName();\r\n        String realmName = accessToken.getIssuer();\r\n        AccessToken.Access realmAccess = accessToken.getRealmAccess();","title":"Spring boot: Get current user&#39;s username","body":"<p>if you are using keycloak you can get more details using this way</p>\n<pre><code> Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    KeycloakPrincipal principal = (KeycloakPrincipal)auth.getPrincipal();\n\n\n    KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\n    AccessToken accessToken = session.getToken();\n    String username = accessToken.getPreferredUsername();\n    String emailID = accessToken.getEmail();\n    String lastname = accessToken.getFamilyName();\n    String firstname = accessToken.getGivenName();\n    String realmName = accessToken.getIssuer();\n    AccessToken.Access realmAccess = accessToken.getRealmAccess();\n</code></pre>\n"}],"owner":{"account_id":13577901,"reputation":393,"user_id":9794763,"display_name":"sumit maske"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23749,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1665054615,"creation_date":1526403024,"question_id":50355486,"body_markdown":"I am trying to get the current logged in username using Spring&#39;s security but the `Principal` object returns null.\r\n\r\nThis is my REST controller method:\r\n\r\n    @RequestMapping(&quot;/getCurrentUser&quot;)\r\n\tpublic User getCurrentUser(Principal principal) {\r\n\r\n\t\tString username = principal.getName();\r\n\t\tUser user = new User();\r\n\t\tif (null != username) {\r\n\t\t\tuser = userService.findByUsername(username);\r\n\t\t}\r\n\r\n\t\treturn user;\r\n\t}\r\n\r\n**NB: I am running Spring boot 1.5.13 and spring security 4.2.6**\r\n\r\n* This is my security config class: \r\n\r\n\t\t@Configuration\r\n\r\n\t\t@EnableWebSecurity\r\n\r\n\t\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n\t\t\t@Autowired\r\n\t\t\tprivate Environment env;\r\n\t\t\t\r\n\t\t\t@Autowired\r\n\t\t\tprivate UserSecurityService userSecurityService;\r\n\t\t\t\r\n\t\t\tprivate BCryptPasswordEncoder passwordEncoder() {\r\n\t\t\t\treturn SecurityUtility.passwordEncoder();\r\n\t\t\t}\r\n\r\n\t\t\tprivate static final String[] PUBLIC_MATCHERS = {\r\n\t\t\t\t\t&quot;/css/**&quot;,\r\n\t\t\t\t\t&quot;/js/**&quot;,\r\n\t\t\t\t\t&quot;/image/**&quot;,\r\n\t\t\t\t\t&quot;/book/**&quot;,\r\n\t\t\t\t\t&quot;/user/**&quot;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\t\thttp.csrf().disable().cors().disable().httpBasic().and().authorizeRequests()\r\n\t\t\t\t.antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Autowired\r\n\t\t\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\t\tauth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Bean\r\n\t\t\tpublic HttpSessionStrategy httpSessionStrategy() {\r\n\t\t\t\treturn new HeaderHttpSessionStrategy();\r\n\t\t\t}\r\n\t\t}\r\n\r\n* This is my user security service class:\r\n\r\n\t\t@Service\r\n\r\n\t\tpublic class UserSecurityService implements UserDetailsService {\r\n\r\n\t\tprivate static final Logger LOG = LoggerFactory.getLogger(UserSecurityService.class);\r\n\t\t\t\r\n\t\t\t@Autowired \r\n\t\t\tprivate UserRepository userRepository;\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t\t\tUser user = userRepository.findByUsername(username);\r\n\t\t\t\tif(null == user) {\r\n\t\t\t\t\tLOG.warn(&quot;Username {} not found&quot;, username);\r\n\t\t\t\t\tthrow new UsernameNotFoundException(&quot;Username &quot;+username+&quot; not found&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn user;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n* this is my user class:\r\n\r\n\t\t@Entity\r\n\r\n\t\tpublic class User implements UserDetails, Serializable {\r\n\t\t\t\r\n\t\t\tprivate static final long serialVersionUID = 902783495L;\r\n\t\t\t\r\n\t\t\t@Id\r\n\t\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\t\t@Column(name=&quot;Id&quot;, nullable=false, updatable = false)\r\n\t\t\tprivate Long id;\r\n\t\t\t\r\n\t\t\tprivate String username;\r\n\t\t\tprivate String password;\r\n\t\t\tprivate String firstName;\r\n\t\t\tprivate String lastName;\r\n\t\t\t\r\n\t\t\tprivate String email;\r\n\t\t\tprivate String phone;\r\n\t\t\tprivate boolean enabled = true;\r\n\t\t\t\r\n\t\t\t@OneToMany(mappedBy = &quot;user&quot;, cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t\t\t@JsonIgnore\r\n\t\t\tprivate Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\t\t}","title":"Spring boot: Get current user&#39;s username","body":"<p>I am trying to get the current logged in username using Spring's security but the <code>Principal</code> object returns null.</p>\n\n<p>This is my REST controller method:</p>\n\n<pre><code>@RequestMapping(\"/getCurrentUser\")\npublic User getCurrentUser(Principal principal) {\n\n    String username = principal.getName();\n    User user = new User();\n    if (null != username) {\n        user = userService.findByUsername(username);\n    }\n\n    return user;\n}\n</code></pre>\n\n<p><strong>NB: I am running Spring boot 1.5.13 and spring security 4.2.6</strong></p>\n\n<ul>\n<li><p>This is my security config class: </p>\n\n<pre><code>@Configuration\n\n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private UserSecurityService userSecurityService;\n\n    private BCryptPasswordEncoder passwordEncoder() {\n        return SecurityUtility.passwordEncoder();\n    }\n\n    private static final String[] PUBLIC_MATCHERS = {\n            \"/css/**\",\n            \"/js/**\",\n            \"/image/**\",\n            \"/book/**\",\n            \"/user/**\"\n    };\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().cors().disable().httpBasic().and().authorizeRequests()\n        .antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public HttpSessionStrategy httpSessionStrategy() {\n        return new HeaderHttpSessionStrategy();\n    }\n}\n</code></pre></li>\n<li><p>This is my user security service class:</p>\n\n<pre><code>@Service\n\npublic class UserSecurityService implements UserDetailsService {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(UserSecurityService.class);\n\n    @Autowired \n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n        if(null == user) {\n            LOG.warn(\"Username {} not found\", username);\n            throw new UsernameNotFoundException(\"Username \"+username+\" not found\");\n        }\n        return user;\n    }\n}\n</code></pre></li>\n<li><p>this is my user class:</p>\n\n<pre><code>@Entity\n\npublic class User implements UserDetails, Serializable {\n\n    private static final long serialVersionUID = 902783495L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=\"Id\", nullable=false, updatable = false)\n    private Long id;\n\n    private String username;\n    private String password;\n    private String firstName;\n    private String lastName;\n\n    private String email;\n    private String phone;\n    private boolean enabled = true;\n\n    @OneToMany(mappedBy = \"user\", cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n    @JsonIgnore\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n}\n</code></pre></li>\n</ul>\n"},{"tags":["java","json","kotlin","gson"],"answers":[{"tags":[],"owner":{"account_id":6199489,"reputation":29,"user_id":4829799,"accept_rate":20,"display_name":"TheFlashes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665054335,"creation_date":1665054335,"answer_id":73972769,"question_id":73971792,"body_markdown":"Ok, I figured it out,\r\nI can just deserialize list of components:\r\n\r\nFor future generations:\r\nAdd registerTypeAdapter to gson builder\r\n```kotlin\r\nval gson = GsonBuilder()\r\n        .registerTypeAdapter(object : TypeToken&lt;MutableList&lt;Component&gt;&gt;() {}.type, ComponentsDeserializer())\r\n        .create()\r\n```\r\n\r\nAnd set appropriate type for JsonDeserializer\r\n```kotlin\r\nclass ComponentsDeserializer : JsonDeserializer&lt;List&lt;Component&gt;&gt; {\r\n    override fun deserialize(\r\n        json: JsonElement,\r\n        typeOfT: Type,\r\n        context: JsonDeserializationContext\r\n    ): List&lt;Component&gt; {\r\n        /* filter list... */\r\n    }\r\n}\r\n```","title":"Excluding an element in an array using JsonDeserializer in gson","body":"<p>Ok, I figured it out,\nI can just deserialize list of components:</p>\n<p>For future generations:\nAdd registerTypeAdapter to gson builder</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val gson = GsonBuilder()\n        .registerTypeAdapter(object : TypeToken&lt;MutableList&lt;Component&gt;&gt;() {}.type, ComponentsDeserializer())\n        .create()\n</code></pre>\n<p>And set appropriate type for JsonDeserializer</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ComponentsDeserializer : JsonDeserializer&lt;List&lt;Component&gt;&gt; {\n    override fun deserialize(\n        json: JsonElement,\n        typeOfT: Type,\n        context: JsonDeserializationContext\n    ): List&lt;Component&gt; {\n        /* filter list... */\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6199489,"reputation":29,"user_id":4829799,"accept_rate":20,"display_name":"TheFlashes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665054335,"creation_date":1665049724,"question_id":73971792,"body_markdown":"I have an example json object\r\n```json\r\n{\r\n\tid: 10,\r\n\tname: &quot;Hello World&quot;,\r\n\tcomponents: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttype: &quot;FRAME&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttype: &quot;DEFAULT&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\nAnd JsonDeserializer but only for Component objects\r\n```kotlin\r\nclass ComponentDeserializer : JsonDeserializer&lt;Component&gt; {\r\n    override fun deserialize(\r\n        json: JsonElement,\r\n        typeOfT: Type,\r\n        context: JsonDeserializationContext\r\n    ): Component {\r\n        val componentObject = json.asJsonObject\r\n        \r\n        val id = componentObject.get(&quot;id&quot;).asInt\r\n        val type = componentObject.get(&quot;type&quot;).asString\r\n        \r\n        return Component(\r\n            id = id,\r\n            type = type\r\n        )\r\n    }\r\n}\r\n```\r\nCan I somehow exclude components that have the type &quot;DEFAULT&quot; from the array without writing a deserializer for the entire json? I&#39;d like something like &quot;return null&quot; and then the &quot;components&quot; array has one less element","title":"Excluding an element in an array using JsonDeserializer in gson","body":"<p>I have an example json object</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    id: 10,\n    name: &quot;Hello World&quot;,\n    components: [\n        {\n            id: 1,\n            type: &quot;FRAME&quot;\n        },\n        {\n            id: 2,\n            type: &quot;DEFAULT&quot;\n        }\n    ]\n}\n</code></pre>\n<p>And JsonDeserializer but only for Component objects</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ComponentDeserializer : JsonDeserializer&lt;Component&gt; {\n    override fun deserialize(\n        json: JsonElement,\n        typeOfT: Type,\n        context: JsonDeserializationContext\n    ): Component {\n        val componentObject = json.asJsonObject\n        \n        val id = componentObject.get(&quot;id&quot;).asInt\n        val type = componentObject.get(&quot;type&quot;).asString\n        \n        return Component(\n            id = id,\n            type = type\n        )\n    }\n}\n</code></pre>\n<p>Can I somehow exclude components that have the type &quot;DEFAULT&quot; from the array without writing a deserializer for the entire json? I'd like something like &quot;return null&quot; and then the &quot;components&quot; array has one less element</p>\n"},{"tags":["javascript","java","glassfish","java-ee-7"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1665056394,"post_id":73972713,"comment_id":130612508,"body_markdown":"Depending how much request data, Ajax and or a cookie to control session.","body":"Depending how much request data, Ajax and or a cookie to control session."},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1695835651,"post_id":73972713,"comment_id":136078306,"body_markdown":"I would suggest having the js add a parameter to the URL, something like ?auto=1","body":"I would suggest having the js add a parameter to the URL, something like ?auto=1"}],"owner":{"account_id":5376107,"reputation":1657,"user_id":4282957,"accept_rate":87,"display_name":"Bohdan Myslyvchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665054055,"creation_date":1665054055,"question_id":73972713,"body_markdown":"I have Java EE app + Glassfish 4.1 + JSF Primefaces + Websockets. Session timeout configured for 30 minutes. It works on some pages.\r\n\r\n    &lt;!-- Session Timeout in min --&gt;\r\n\t&lt;session-config&gt;\r\n\t\t&lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n\t&lt;/session-config&gt;\r\n\r\nHowever we have pages where we have custom js logic to reload page (invoked every 30 sec) to get latest result on page (kind of workaround if web-sockets won&#39;t work) which then invoke servlet on backend.\r\n\r\nIs there any possibility to track is user inactive or check is this activity from user or it was auto-reload?\r\n\r\n\r\n","title":"Server Session timeout in Glassfish with custom page reload doesn&#39;t work","body":"<p>I have Java EE app + Glassfish 4.1 + JSF Primefaces + Websockets. Session timeout configured for 30 minutes. It works on some pages.</p>\n<pre><code>&lt;!-- Session Timeout in min --&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;1&lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p>However we have pages where we have custom js logic to reload page (invoked every 30 sec) to get latest result on page (kind of workaround if web-sockets won't work) which then invoke servlet on backend.</p>\n<p>Is there any possibility to track is user inactive or check is this activity from user or it was auto-reload?</p>\n"},{"tags":["java","jwt","bouncycastle","jwk"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1663044990,"post_id":73697175,"comment_id":130140216,"body_markdown":"`&quot;alg&quot;` is optional, as stated in rfc7517 linked from the page you link, but there is a builder method `.algorithm(String)` to set it if you want it. Similarly `&quot;x5c&quot;` and `&quot;x5t&quot;` apply only if you have a cert chain or thumbprint respectively, which you don&#39;t show; if you do have such, there are builder methods for them. Bouncy doesn&#39;t support JOSE/JWK, but it (bcpkix+bcprov) does most PEM, which could replace your first 7 lines by about 2.","body":"<code>&quot;alg&quot;</code> is optional, as stated in rfc7517 linked from the page you link, but there is a builder method <code>.algorithm(String)</code> to set it if you want it. Similarly <code>&quot;x5c&quot;</code> and <code>&quot;x5t&quot;</code> apply only if you have a cert chain or thumbprint respectively, which you don&#39;t show; if you do have such, there are builder methods for them. Bouncy doesn&#39;t support JOSE/JWK, but it (bcpkix+bcprov) does most PEM, which could replace your first 7 lines by about 2."},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1663054125,"post_id":73697175,"comment_id":130142359,"body_markdown":"@dave_thompson_085 Thx for chipping in. Updated the code with the alg. wonder how I get the values for x5t and x5c to feed into the builder method.","body":"@dave_thompson_085 Thx for chipping in. Updated the code with the alg. wonder how I get the values for x5t and x5c to feed into the builder method."}],"answers":[{"comments":[{"owner":{"account_id":446439,"reputation":2037,"user_id":2956829,"accept_rate":93,"display_name":"el n00b"},"score":0,"creation_date":1664977703,"post_id":73703594,"comment_id":130591884,"body_markdown":"Which library are you using for `SamlResourceUtils`, it doesn&#39;t look like it&#39;s in nimbus-jose-jwt.  I am using Guava&#39;s `Hashing.sha256().hashBytes(certEncoded).toString()` and it seems to be working, but I want to be sure.","body":"Which library are you using for <code>SamlResourceUtils</code>, it doesn&#39;t look like it&#39;s in nimbus-jose-jwt.  I am using Guava&#39;s <code>Hashing.sha256().hashBytes(certEncoded).toString()</code> and it seems to be working, but I want to be sure."},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":1,"creation_date":1665054243,"post_id":73703594,"comment_id":130611740,"body_markdown":"getThumbprint uses java.security.MessageDigest, full import see above","body":"getThumbprint uses java.security.MessageDigest, full import see above"}],"tags":[],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665054050,"creation_date":1663074536,"answer_id":73703594,"question_id":73697175,"body_markdown":"Along the way I learned that I need the certificate besides the public key. So the 2 method solution (until I learn better) is:\r\n\r\n```java\r\n/**\r\n   * Returns the JSON formatted JWK based on provided public key / cert\r\n   *\r\n   * @param rawKey - public key as read from disk in pem format\r\n   * @param cert - certificate as read from disk in pem format\r\n   * @return JWK Key as Optional&lt;String&gt;\r\n   */\r\n  public static Optional&lt;String&gt; getJwkString(final String rawKey, final String cert) {\r\n    try {\r\n      final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n      final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n      final SubjectPublicKeyInfo pubKeyInfo =\r\n          (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\r\n      final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\r\n      final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\r\n\r\n      final X509Certificate rsaCert =\r\n          (X509Certificate) cf.generateCertificate(new ByteArrayInputStream(cert.getBytes()));\r\n      final byte[] certEncoded = rsaCert.getEncoded();\r\n      final List&lt;Base64&gt; certChain = new ArrayList&lt;&gt;();\r\n      certChain.add(Base64.encode(certEncoded));\r\n\r\n      final Base64URL thumbprint = Base64URL.from(getThumbprint(certEncoded));\r\n\r\n      final RSAKey key = new RSAKey.Builder(rsaPubKey)\r\n          .keyUse(KeyUse.SIGNATURE)\r\n          .algorithm(new Algorithm(&quot;RS256&quot;))\r\n          .x509CertChain(certChain)\r\n          .x509CertThumbprint(thumbprint)\r\n          .keyID(&quot;mykey&quot;)\r\n          .build();\r\n\r\n      return Optional.of(key.toJSONString());\r\n\r\n    } catch (final Exception e) {\r\n      SamlResourceUtils.logger.error(e);\r\n    }\r\n\r\n    return Optional.empty();\r\n  }\r\n\r\n  public static String getThumbprint(final byte[] bytes)\r\n      throws NoSuchAlgorithmException {\r\n    final MessageDigest md = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    md.update(bytes);\r\n    return Hex.toHexString(md.digest());\r\n  }\r\n```\r\n\r\n`getThumbprint` using `java.security.MessageDigest`. Full import (not all classes are relevant here):\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.StringReader;\r\nimport java.security.KeyFactory;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport com.nimbusds.jose.Algorithm;\r\nimport com.nimbusds.jose.jwk.KeyUse;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.util.Base64;\r\nimport com.nimbusds.jose.util.Base64URL;\r\n\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.util.encoders.Hex;\r\n```\r\n","title":"How to generate a JWK from a PEM encoded public key in Java?","body":"<p>Along the way I learned that I need the certificate besides the public key. So the 2 method solution (until I learn better) is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n   * Returns the JSON formatted JWK based on provided public key / cert\n   *\n   * @param rawKey - public key as read from disk in pem format\n   * @param cert - certificate as read from disk in pem format\n   * @return JWK Key as Optional&lt;String&gt;\n   */\n  public static Optional&lt;String&gt; getJwkString(final String rawKey, final String cert) {\n    try {\n      final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n      final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n      final SubjectPublicKeyInfo pubKeyInfo =\n          (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\n      final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\n      final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\n\n      final X509Certificate rsaCert =\n          (X509Certificate) cf.generateCertificate(new ByteArrayInputStream(cert.getBytes()));\n      final byte[] certEncoded = rsaCert.getEncoded();\n      final List&lt;Base64&gt; certChain = new ArrayList&lt;&gt;();\n      certChain.add(Base64.encode(certEncoded));\n\n      final Base64URL thumbprint = Base64URL.from(getThumbprint(certEncoded));\n\n      final RSAKey key = new RSAKey.Builder(rsaPubKey)\n          .keyUse(KeyUse.SIGNATURE)\n          .algorithm(new Algorithm(&quot;RS256&quot;))\n          .x509CertChain(certChain)\n          .x509CertThumbprint(thumbprint)\n          .keyID(&quot;mykey&quot;)\n          .build();\n\n      return Optional.of(key.toJSONString());\n\n    } catch (final Exception e) {\n      SamlResourceUtils.logger.error(e);\n    }\n\n    return Optional.empty();\n  }\n\n  public static String getThumbprint(final byte[] bytes)\n      throws NoSuchAlgorithmException {\n    final MessageDigest md = MessageDigest.getInstance(&quot;SHA-1&quot;);\n    md.update(bytes);\n    return Hex.toHexString(md.digest());\n  }\n</code></pre>\n<p><code>getThumbprint</code> using <code>java.security.MessageDigest</code>. Full import (not all classes are relevant here):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.StringReader;\nimport java.security.KeyFactory;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport com.nimbusds.jose.Algorithm;\nimport com.nimbusds.jose.jwk.KeyUse;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.util.Base64;\nimport com.nimbusds.jose.util.Base64URL;\n\nimport io.vertx.core.json.JsonObject;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.util.encoders.Hex;\n</code></pre>\n"}],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73703594,"answer_count":1,"score":1,"last_activity_date":1665054050,"creation_date":1663038705,"question_id":73697175,"body_markdown":"I have a PEM encoded public key and want to generate a JWK key from it in Java. This is what I tried:\r\n\r\n```\r\n-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGhr2bd1u5JVSWEQjo+UWfH1pE0iK9lm\r\nC//yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6\r\nH/brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA/tUHEqxdqOl7H0xHJmbv9odn4Mmq\r\nE/azyohY8LhZ/+YUNbEAT3RCb1Z64tUHow4K+K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdf\r\ns8NxnGAKgb9APWvkbLw8+n2/sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7\r\ns9O6qQIDAQAB\r\n-----END PUBLIC KEY-----\r\n```\r\n\r\n```\r\n-----BEGIN CERTIFICATE-----\r\nMIICuTCCAaGgAwIBAgIJALza9IWWJsHkMA0GCSqGSIb3DQEBCwUAMBwxGjAYBgNVBAMMEVN0ZXBo\r\nYW4gV2lzc2VsL09VMB4XDTIxMDEyMDE5MDAxM1oXDTIxMDMwNjEzMDAxM1owHDEaMBgGA1UEAwwR\r\nU3RlcGhhbiBXaXNzZWwvT1UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAaGvZt3W7\r\nklVJYRCOj5RZ8fWkTSIr2WYL//JvmbLk+dDY7rZ60Zfeh1a9vXQn3mla+FqFBwLzA+eO951m0HFy\r\nAeIU6mtthiBlZxdqunD0Q7of9us+IrWHhqSOA3FN0GwUeKTNpnUSt3dPgUTOinyPilE2uMD+1QcS\r\nrF2o6XsfTEcmZu/2h2fgyaoT9rPKiFjwuFn/5hQ1sQBPdEJvVnri1QejDgr4rdAVs1NwRB03r3A2\r\n+4CyRixI8JHZ/xzqFhKGF1+zw3GcYAqBv0A9a+RsvDz6fb+xsfIKZbDmh9bUuiReILFzOorztQI8\r\nxqoXA63auUE2vOgwzNYCYfuz07qpAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAIHX2SudJ6vtpenZ\r\nIhR44/t4WTSfN53lCB2AxOrMFDoa1zZDfM/w7ewtfAND3Y0VGNerpxCh3D2M9NDImgTVKr42ip/+\r\nDxkfubrph24lW7o3gR2ujlLoY4K9Xvt8xD5jo1PRQC6G9YgS6nOeJjpu55QH1BVT1s2i09WAzNID\r\nl4rIsyRoP9r4FZu2W21UYEzs39uOM81r/zEM+7o2UZXVmx6CLdnPZG4HLvPcqNO2waMBNxGXpwAU\r\njiND/72QMzzENl/Su5Sc//4TOuNYKdTjMZ5GhCBftpMRL6FebFa9lkhES07e5aVzW4UyC94KpHXH\r\nh+a3MDv2zYm070cF44zDTFQ=\r\n-----END CERTIFICATE-----\r\n```\r\n\r\nJava method using [com.nimbusds.jose.jwk](https://bitbucket.org/connect2id/nimbus-jose-jwt/src/master/) and [vert.x](https://vertx.io/)&#39;s [JsonObject](https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html):\r\n\r\n```java\r\n  String getJWTKey(final String rawKey) throws Exception {\r\n    final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    final SubjectPublicKeyInfo pubKeyInfo =\r\n        (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\r\n    final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\r\n    final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\r\n\r\n    // How to get these two?\r\n    List&lt;Base64&gt; certChain = null;\r\n    Base64URL thumbprint = null;\r\n\r\n    final RSAKey key = new RSAKey.Builder(rsaPubKey)\r\n        .keyUse(KeyUse.SIGNATURE)\r\n        .algorithm(new Algorithm(&quot;RS256&quot;))\r\n        .keyID(&quot;mykey&quot;)\r\n        .x509CertChain(certChain)\r\n        .x509CertSHA256Thumbprint(thumbprint)\r\n        .build();\r\n \r\n    return key.toJSONString();\r\n```\r\n\r\nThe result is:\r\n\r\n```json\r\n{\r\n  &quot;keys&quot;: [\r\n    {\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;alg&quot; : &quot;RS256&quot;,\r\n      &quot;kid&quot;: &quot;mykey&quot;,\r\n      &quot;n&quot;: &quot;wGhr2bd1u5JVSWEQjo-UWfH1pE0iK9lmC__yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6H_brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA_tUHEqxdqOl7H0xHJmbv9odn4MmqE_azyohY8LhZ_-YUNbEAT3RCb1Z64tUHow4K-K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdfs8NxnGAKgb9APWvkbLw8-n2_sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7s9O6qQ&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nLooking at [documentation](https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-set-properties) I&#39;m missing:\r\n\r\n- x5c\r\n- x5t\r\n\r\nWhat do I miss in my code? A solution using [**bouncycastle**](https://www.bouncycastle.org/documentation.html) would be very much welcome. I have access to the cert file (self generated) if required","title":"How to generate a JWK from a PEM encoded public key in Java?","body":"<p>I have a PEM encoded public key and want to generate a JWK key from it in Java. This is what I tried:</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGhr2bd1u5JVSWEQjo+UWfH1pE0iK9lm\nC//yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6\nH/brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA/tUHEqxdqOl7H0xHJmbv9odn4Mmq\nE/azyohY8LhZ/+YUNbEAT3RCb1Z64tUHow4K+K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdf\ns8NxnGAKgb9APWvkbLw8+n2/sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7\ns9O6qQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICuTCCAaGgAwIBAgIJALza9IWWJsHkMA0GCSqGSIb3DQEBCwUAMBwxGjAYBgNVBAMMEVN0ZXBo\nYW4gV2lzc2VsL09VMB4XDTIxMDEyMDE5MDAxM1oXDTIxMDMwNjEzMDAxM1owHDEaMBgGA1UEAwwR\nU3RlcGhhbiBXaXNzZWwvT1UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAaGvZt3W7\nklVJYRCOj5RZ8fWkTSIr2WYL//JvmbLk+dDY7rZ60Zfeh1a9vXQn3mla+FqFBwLzA+eO951m0HFy\nAeIU6mtthiBlZxdqunD0Q7of9us+IrWHhqSOA3FN0GwUeKTNpnUSt3dPgUTOinyPilE2uMD+1QcS\nrF2o6XsfTEcmZu/2h2fgyaoT9rPKiFjwuFn/5hQ1sQBPdEJvVnri1QejDgr4rdAVs1NwRB03r3A2\n+4CyRixI8JHZ/xzqFhKGF1+zw3GcYAqBv0A9a+RsvDz6fb+xsfIKZbDmh9bUuiReILFzOorztQI8\nxqoXA63auUE2vOgwzNYCYfuz07qpAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAIHX2SudJ6vtpenZ\nIhR44/t4WTSfN53lCB2AxOrMFDoa1zZDfM/w7ewtfAND3Y0VGNerpxCh3D2M9NDImgTVKr42ip/+\nDxkfubrph24lW7o3gR2ujlLoY4K9Xvt8xD5jo1PRQC6G9YgS6nOeJjpu55QH1BVT1s2i09WAzNID\nl4rIsyRoP9r4FZu2W21UYEzs39uOM81r/zEM+7o2UZXVmx6CLdnPZG4HLvPcqNO2waMBNxGXpwAU\njiND/72QMzzENl/Su5Sc//4TOuNYKdTjMZ5GhCBftpMRL6FebFa9lkhES07e5aVzW4UyC94KpHXH\nh+a3MDv2zYm070cF44zDTFQ=\n-----END CERTIFICATE-----\n</code></pre>\n<p>Java method using <a href=\"https://bitbucket.org/connect2id/nimbus-jose-jwt/src/master/\" rel=\"nofollow noreferrer\">com.nimbusds.jose.jwk</a> and <a href=\"https://vertx.io/\" rel=\"nofollow noreferrer\">vert.x</a>'s <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html\" rel=\"nofollow noreferrer\">JsonObject</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  String getJWTKey(final String rawKey) throws Exception {\n    final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    final SubjectPublicKeyInfo pubKeyInfo =\n        (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\n    final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\n    final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\n\n    // How to get these two?\n    List&lt;Base64&gt; certChain = null;\n    Base64URL thumbprint = null;\n\n    final RSAKey key = new RSAKey.Builder(rsaPubKey)\n        .keyUse(KeyUse.SIGNATURE)\n        .algorithm(new Algorithm(&quot;RS256&quot;))\n        .keyID(&quot;mykey&quot;)\n        .x509CertChain(certChain)\n        .x509CertSHA256Thumbprint(thumbprint)\n        .build();\n \n    return key.toJSONString();\n</code></pre>\n<p>The result is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;keys&quot;: [\n    {\n      &quot;kty&quot;: &quot;RSA&quot;,\n      &quot;e&quot;: &quot;AQAB&quot;,\n      &quot;use&quot;: &quot;sig&quot;,\n      &quot;alg&quot; : &quot;RS256&quot;,\n      &quot;kid&quot;: &quot;mykey&quot;,\n      &quot;n&quot;: &quot;wGhr2bd1u5JVSWEQjo-UWfH1pE0iK9lmC__yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6H_brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA_tUHEqxdqOl7H0xHJmbv9odn4MmqE_azyohY8LhZ_-YUNbEAT3RCb1Z64tUHow4K-K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdfs8NxnGAKgb9APWvkbLw8-n2_sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7s9O6qQ&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Looking at <a href=\"https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-set-properties\" rel=\"nofollow noreferrer\">documentation</a> I'm missing:</p>\n<ul>\n<li>x5c</li>\n<li>x5t</li>\n</ul>\n<p>What do I miss in my code? A solution using <a href=\"https://www.bouncycastle.org/documentation.html\" rel=\"nofollow noreferrer\"><strong>bouncycastle</strong></a> would be very much welcome. I have access to the cert file (self generated) if required</p>\n"},{"tags":["java","android","jenkins","gradle"],"answers":[{"tags":[],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665053935,"creation_date":1665053935,"answer_id":73972694,"question_id":73908652,"body_markdown":"If someone encounters the same issue :\r\n\r\nTurns out I needed to upgrade the java version from 8 to 11 and compileSdkVersion of the project from 30 to 31. And it worked","title":"Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal error in jenkins when building android project","body":"<p>If someone encounters the same issue :</p>\n<p>Turns out I needed to upgrade the java version from 8 to 11 and compileSdkVersion of the project from 30 to 31. And it worked</p>\n"}],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972694,"answer_count":1,"score":0,"last_activity_date":1665053935,"creation_date":1664540287,"question_id":73908652,"body_markdown":"I am using Jenkins 2.346.3 to build my android project apk. It was working fine when the project was using Android gradle plugin v3.6.4 and gradle version-5.6.4. \r\n\r\nBut when I updated Android gradle plugin to v4.2.2 and gradle version to v6.7.1, jenkins is giving error when building the project. It running fine when building in Android studio. \r\n\r\nI have already updated gradle of jenkins to use v6.7.1 when building.\r\n\r\nThis is the error I am getting : \r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:anothersimpletooltip:mergeDebugJniLibFolders&#39;.\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\r\n        \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179) \r\n    ......\r\n    \r\n    Caused by: java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\r\n    \tat org.apache.xerces.jaxp.DocumentBuilderImpl.newDocument(Unknown Source)\r\n    \tat com.android.ide.common.resources.DataMerger.writeBlobTo(DataMerger.java:322)\r\n    \tat com.android.ide.common.resources.AssetMerger.writeBlobTo(AssetMerger.java:28)\r\n    .......\r\n    \r\n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:33)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\n    \r\n    ......\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal\r\n    \t... 105 more","title":"Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal error in jenkins when building android project","body":"<p>I am using Jenkins 2.346.3 to build my android project apk. It was working fine when the project was using Android gradle plugin v3.6.4 and gradle version-5.6.4.</p>\n<p>But when I updated Android gradle plugin to v4.2.2 and gradle version to v6.7.1, jenkins is giving error when building the project. It running fine when building in Android studio.</p>\n<p>I have already updated gradle of jenkins to use v6.7.1 when building.</p>\n<p>This is the error I am getting :</p>\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':anothersimpletooltip:mergeDebugJniLibFolders'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179) \n......\n\nCaused by: java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.newDocument(Unknown Source)\n    at com.android.ide.common.resources.DataMerger.writeBlobTo(DataMerger.java:322)\n    at com.android.ide.common.resources.AssetMerger.writeBlobTo(AssetMerger.java:28)\n.......\n\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:33)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\n\n......\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal\n    ... 105 more\n</code></pre>\n"},{"tags":["java","android","android-studio","libgdx","game-development"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661607431,"post_id":73509292,"comment_id":129814824,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1661748544,"post_id":73509292,"comment_id":129836774,"body_markdown":"Since these aren&#39;t pixel-width lines, you should either draw solid rectangles with ShapeRenderer, or draw rectangular sprites with SpriteBatch. You just need to work out the math for calculating the rectangle size and orientation based on the two end-points you want to connect.","body":"Since these aren&#39;t pixel-width lines, you should either draw solid rectangles with ShapeRenderer, or draw rectangular sprites with SpriteBatch. You just need to work out the math for calculating the rectangle size and orientation based on the two end-points you want to connect."}],"answers":[{"tags":[],"owner":{"account_id":14848544,"reputation":170,"user_id":10723244,"display_name":"Robert O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665053814,"creation_date":1665053814,"answer_id":73972666,"question_id":73509292,"body_markdown":"Use a shape renderer with a rectLine\r\n\r\n            shapeRenderer.rectLine(new Vector2(x1, y1), new Vector2(x2, y2),lineWidth);\r\n\r\nwhere x1, y1 is the position of your first image, and x2 y2 is the position of the second.\r\n\r\nIf you want the line to follow the users finger as they drag, then you must listen for if the drag/touch event has begun, and then set x2, y2 to the position of the users touch position.","title":"how to draw dynamic line using shape renderer (Libgdx)","body":"<p>Use a shape renderer with a rectLine</p>\n<pre><code>        shapeRenderer.rectLine(new Vector2(x1, y1), new Vector2(x2, y2),lineWidth);\n</code></pre>\n<p>where x1, y1 is the position of your first image, and x2 y2 is the position of the second.</p>\n<p>If you want the line to follow the users finger as they drag, then you must listen for if the drag/touch event has begun, and then set x2, y2 to the position of the users touch position.</p>\n"}],"owner":{"account_id":22705733,"reputation":1,"user_id":16872484,"display_name":"Md Humza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665053814,"creation_date":1661587237,"question_id":73509292,"body_markdown":"I am trying to make a matching game using Libgdx. but I stuck in drawing a line from one image to another to match the actors like [this game][1] have . Can anyone help?!!\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.hegodev.matchit","title":"how to draw dynamic line using shape renderer (Libgdx)","body":"<p>I am trying to make a matching game using Libgdx. but I stuck in drawing a line from one image to another to match the actors like <a href=\"https://play.google.com/store/apps/details?id=com.hegodev.matchit\" rel=\"nofollow noreferrer\">this game</a> have . Can anyone help?!!</p>\n"},{"tags":["java","spring-boot","graphql","spring-graphql"],"comments":[{"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"score":0,"creation_date":1677850347,"post_id":73958688,"comment_id":133423390,"body_markdown":"The issue is solved with Spring Boot 3.0.1","body":"The issue is solved with Spring Boot 3.0.1"}],"answers":[{"comments":[{"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"score":0,"creation_date":1665054087,"post_id":73969417,"comment_id":130611686,"body_markdown":"Hi Julio, thanks for the response. Unfortunately, enabling method level security doesn&#39;t help. My feeling is that this is the bug somehow related to schema mapping. As I stated before, everything works well if subtype is not used in a subscription response. I tried adding `DelegatingSecurityContextAsyncTaskExecutor` and `MethodInvokingFactoryBean` but without any success.","body":"Hi Julio, thanks for the response. Unfortunately, enabling method level security doesn&#39;t help. My feeling is that this is the bug somehow related to schema mapping. As I stated before, everything works well if subtype is not used in a subscription response. I tried adding <code>DelegatingSecurityContextAsyncTaskExecutor</code> and <code>MethodInvokingFactoryBean</code> but without any success."}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665037558,"creation_date":1665037558,"answer_id":73969417,"question_id":73958688,"body_markdown":"According to Rossen Stoyanchev&#39;s presentation at Spring IO last May ([which you can watch here][1]), Spring for GraphQL has a layered architecture that has a Web transport layer at the top (be it HTTP or Websocket), then comes the GraphQL engine, and then the Data Controllers.\r\n\r\nIt&#39;s at this last level that we find the Components, like a mutation or a query service, or also one of this &quot;service&quot; operations invoked by a Controller method. \r\nSpring for GraphQL makes sure that the Security context (e.g. the SecurityFilterChain) gets propagated through the GraphQL engine layer and remains available. \r\nFor that to work in your example, according to what I saw in your Github repository I believe you should use a @Secured(&quot;ROLE_ADMIN&quot;) annotation in your methods. \r\n\r\n        @Secured(&quot;ROLE_ADMIN&quot;)\r\n        public Post createPost(CreatePostInput postInput) {\r\n\t\t\r\n\t\tPost post = new Post(&quot;1&quot;, postInput.getTitle(), postInput.getAuthorId());\r\n\t\t// not actually saving anything\r\n\t\t\r\n\t\t// publish newly created Post\r\n\t\tthis.publisher.tryEmitNext(post);\r\n\t\t\r\n\t\treturn post;\r\n\t}\r\n\r\nMake sure to enable method level security as well.\r\nHope it helps.\r\n\r\nNote: For the Security part of Rossen&#39;s talk [go to 24:05 onwards][2].\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=FMZckqbPGq0\r\n  [2]: https://youtu.be/FMZckqbPGq0?t=1444","title":"Lost authentication when using GraphQL subscriptions with Spring Security","body":"<p>According to Rossen Stoyanchev's presentation at Spring IO last May (<a href=\"https://www.youtube.com/watch?v=FMZckqbPGq0\" rel=\"nofollow noreferrer\">which you can watch here</a>), Spring for GraphQL has a layered architecture that has a Web transport layer at the top (be it HTTP or Websocket), then comes the GraphQL engine, and then the Data Controllers.</p>\n<p>It's at this last level that we find the Components, like a mutation or a query service, or also one of this &quot;service&quot; operations invoked by a Controller method.\nSpring for GraphQL makes sure that the Security context (e.g. the SecurityFilterChain) gets propagated through the GraphQL engine layer and remains available.\nFor that to work in your example, according to what I saw in your Github repository I believe you should use a @Secured(&quot;ROLE_ADMIN&quot;) annotation in your methods.</p>\n<pre><code>    @Secured(&quot;ROLE_ADMIN&quot;)\n    public Post createPost(CreatePostInput postInput) {\n    \n    Post post = new Post(&quot;1&quot;, postInput.getTitle(), postInput.getAuthorId());\n    // not actually saving anything\n    \n    // publish newly created Post\n    this.publisher.tryEmitNext(post);\n    \n    return post;\n}\n</code></pre>\n<p>Make sure to enable method level security as well.\nHope it helps.</p>\n<p>Note: For the Security part of Rossen's talk <a href=\"https://youtu.be/FMZckqbPGq0?t=1444\" rel=\"nofollow noreferrer\">go to 24:05 onwards</a>.</p>\n"}],"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665053758,"creation_date":1664963587,"question_id":73958688,"body_markdown":"I&#39;m using ```spring-boot-starter-graphql``` for my GraphQL server application. I protected the application with basic authentication using Spring security. \r\nGraphQL subscription are used to return a type with a subtype. As soon as subscription returns a type, authentication gets lost from security context.\r\n\r\nHere is short version of my configuration:\r\n```\r\ntype Post  {\r\n    id: String!\r\n    title: String! \r\n    author: Author!\r\n}\r\n\r\ntype Author  {\r\n    id: String!\r\n    name: String!\r\n}\r\n\r\ntype Subscription {\r\n    getNewPost: Post\r\n}\r\n\r\n@SchemaMapping(typeName = &quot;Post&quot;, field = &quot;author&quot;)\r\npublic Author getAuthor(Post post) {\r\n\treturn this.appService.getAuthorById(post.getAuthorId());\r\n}\r\n\r\n@Bean\r\nMany&lt;Post&gt; publisher() {\r\n\treturn Sinks.many().multicast().directBestEffort();\r\n}\r\n\r\n@SubscriptionMapping(&quot;getNewPost&quot;)\r\npublic Publisher&lt;Post&gt; getNewPost() {\r\n\treturn this.publisher.asFlux();\r\n}\r\n\r\npublic Post createPost(CreatePostInput postInput) {\r\n\t...\t\t\r\n\tthis.publisher.tryEmitNext(post);\r\n\t...\r\n}\r\n```\r\nEverything works as expected until subscription returns first object. After that security context becomes empty and any following request gets redirected to login page.\r\n\r\nI noticed two things:\r\n\r\n - In case that object that subscription returns (```Post``` in this example) doesn&#39;t contain nested object (```Author```), everything works as it should\r\n - With Java Kickstart everything works as it should\r\n\r\nI created an example application for reproducing this issue: https://github.com/stojsavljevic/graphql-security-issue\r\n\r\n\r\nAny help is very much appreciated!\r\n","title":"Lost authentication when using GraphQL subscriptions with Spring Security","body":"<p>I'm using <code>spring-boot-starter-graphql</code> for my GraphQL server application. I protected the application with basic authentication using Spring security.\nGraphQL subscription are used to return a type with a subtype. As soon as subscription returns a type, authentication gets lost from security context.</p>\n<p>Here is short version of my configuration:</p>\n<pre><code>type Post  {\n    id: String!\n    title: String! \n    author: Author!\n}\n\ntype Author  {\n    id: String!\n    name: String!\n}\n\ntype Subscription {\n    getNewPost: Post\n}\n\n@SchemaMapping(typeName = &quot;Post&quot;, field = &quot;author&quot;)\npublic Author getAuthor(Post post) {\n    return this.appService.getAuthorById(post.getAuthorId());\n}\n\n@Bean\nMany&lt;Post&gt; publisher() {\n    return Sinks.many().multicast().directBestEffort();\n}\n\n@SubscriptionMapping(&quot;getNewPost&quot;)\npublic Publisher&lt;Post&gt; getNewPost() {\n    return this.publisher.asFlux();\n}\n\npublic Post createPost(CreatePostInput postInput) {\n    ...     \n    this.publisher.tryEmitNext(post);\n    ...\n}\n</code></pre>\n<p>Everything works as expected until subscription returns first object. After that security context becomes empty and any following request gets redirected to login page.</p>\n<p>I noticed two things:</p>\n<ul>\n<li>In case that object that subscription returns (<code>Post</code> in this example) doesn't contain nested object (<code>Author</code>), everything works as it should</li>\n<li>With Java Kickstart everything works as it should</li>\n</ul>\n<p>I created an example application for reproducing this issue: <a href=\"https://github.com/stojsavljevic/graphql-security-issue\" rel=\"nofollow noreferrer\">https://github.com/stojsavljevic/graphql-security-issue</a></p>\n<p>Any help is very much appreciated!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":2,"creation_date":1664558856,"post_id":73911298,"comment_id":130507304,"body_markdown":"You probably want to implement *Drag and Drop* instead of rolling your own solution: https://developer.android.com/develop/ui/views/touch-and-input/drag-drop","body":"You probably want to implement <i>Drag and Drop</i> instead of rolling your own solution: <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/drag-drop\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/touch-and-input/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665053563,"creation_date":1665053563,"answer_id":73972600,"question_id":73911298,"body_markdown":"As @cactustictacs suggested the Drag and Drop works great for this. \r\nBasically:\r\n1. Set a onTouchListener on objects B view that starts a drag action.\r\n2. Extend DragShadowBuilder and create a custom background/shadow for the dragged object. (Transparent drawable for me)\r\n3. Add data of object B to the drag action\r\n4. Set Object 1 2 3 views as drop zones by implementing onDragListeners.\r\n\r\n","title":"How to detect if a view is being touched if the press down originates outside of that view?","body":"<p>As @cactustictacs suggested the Drag and Drop works great for this.\nBasically:</p>\n<ol>\n<li>Set a onTouchListener on objects B view that starts a drag action.</li>\n<li>Extend DragShadowBuilder and create a custom background/shadow for the dragged object. (Transparent drawable for me)</li>\n<li>Add data of object B to the drag action</li>\n<li>Set Object 1 2 3 views as drop zones by implementing onDragListeners.</li>\n</ol>\n"}],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972600,"answer_count":1,"score":0,"last_activity_date":1665053563,"creation_date":1664553620,"question_id":73911298,"body_markdown":"I want to touch down on the view of object B and swipe to ie. object 3 where I release it. It needs to register that is has been released at object 3. I thought to give object 3 a OnTouchListener as well but that ontouchlistener is not called since it started outside of its view. I dont think a global ontouchlistener working back to coordinates will work since its all in a ScrollView. I tried several callback but none seem to work and I can&#39;t find an answer to this.\r\nSo, How to detect if a view is being touched if the press down originates outside of that view?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2qjHY.png","title":"How to detect if a view is being touched if the press down originates outside of that view?","body":"<p>I want to touch down on the view of object B and swipe to ie. object 3 where I release it. It needs to register that is has been released at object 3. I thought to give object 3 a OnTouchListener as well but that ontouchlistener is not called since it started outside of its view. I dont think a global ontouchlistener working back to coordinates will work since its all in a ScrollView. I tried several callback but none seem to work and I can't find an answer to this.\nSo, How to detect if a view is being touched if the press down originates outside of that view?</p>\n<p><a href=\"https://i.stack.imgur.com/2qjHY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qjHY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":14848544,"reputation":170,"user_id":10723244,"display_name":"Robert O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665053501,"creation_date":1665053501,"answer_id":73972589,"question_id":73955567,"body_markdown":"You could try using a Container.\r\n\r\n    Container&lt;Actor&gt; container = new Container&lt;&gt;(myRotatedActor);\r\n\r\nApply all your drag &amp; drop logic to the container.\r\n\r\nWhen you want to rotate, apply the rotation to the child (myRotatedActor) within the Container.","title":"Libgdx actor rotation drag position","body":"<p>You could try using a Container.</p>\n<pre><code>Container&lt;Actor&gt; container = new Container&lt;&gt;(myRotatedActor);\n</code></pre>\n<p>Apply all your drag &amp; drop logic to the container.</p>\n<p>When you want to rotate, apply the rotation to the child (myRotatedActor) within the Container.</p>\n"}],"owner":{"account_id":44550,"reputation":131,"user_id":130822,"accept_rate":71,"display_name":"avenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665053501,"creation_date":1664939276,"question_id":73955567,"body_markdown":"How can I set the drag position of a rotated libGDX actor?\r\n\r\nFor an non rotated actor, the normal drag position is at the center. In order to set the drag position where the finger is touched, I use the following method as described here:\r\nhttps://stackoverflow.com/questions/22062429/how-to-drag-and-drop-a-libgdx-image-actor\r\n\r\n`dragAndDrop.setDragActorPosition(-x, -y + sourceImage.getHeight())`\r\n\r\nThis works flawlessly only when the actor is not rotated. Now if I rotate the actor using either of the below options:\r\n\r\nOption 1: `rotateBy(-90)`\r\nOption 2: `addAction(Actions.rotateBy(-90))`\r\n\r\nthe drag position is no longer under my finger because the coordinates are rotated. I tried using `localToParentCoordinates()` provided by the Actor class and rotation matrix algorithm but both doesn&#39;t seem to work.","title":"Libgdx actor rotation drag position","body":"<p>How can I set the drag position of a rotated libGDX actor?</p>\n<p>For an non rotated actor, the normal drag position is at the center. In order to set the drag position where the finger is touched, I use the following method as described here:\n<a href=\"https://stackoverflow.com/questions/22062429/how-to-drag-and-drop-a-libgdx-image-actor\">How to drag and drop a LibGDX Image actor</a></p>\n<p><code>dragAndDrop.setDragActorPosition(-x, -y + sourceImage.getHeight())</code></p>\n<p>This works flawlessly only when the actor is not rotated. Now if I rotate the actor using either of the below options:</p>\n<p>Option 1: <code>rotateBy(-90)</code>\nOption 2: <code>addAction(Actions.rotateBy(-90))</code></p>\n<p>the drag position is no longer under my finger because the coordinates are rotated. I tried using <code>localToParentCoordinates()</code> provided by the Actor class and rotation matrix algorithm but both doesn't seem to work.</p>\n"},{"tags":["java","maven","junit","simd","java-module"],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665052571,"creation_date":1665005957,"answer_id":73966595,"question_id":73958179,"body_markdown":"As far as I can judge, the compilation is fine. That means the `maven-compiler-plugin` is properly configured, i.e. `&lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;` is picked up.\r\n\r\nThe `java.lang.NoClassDefFoundError` happens at runtime, i.e. when the test is running. That obviously means `--add-modules=jdk.incubator.vector` is not picked up. I believe the reason is the `maven-surefire-plugin` not configured properly so that it doesn&#39;t propagate that value to the JVM that actually runs the test. By default, that JVM is different from the one running Maven itself. This is managed by [the `forkCount` parameter][1]:\r\n\r\n&gt; The default setting is forkCount=1/reuseForks=true, which means that maven-surefire-plugin creates one new JVM process to execute all tests in one Maven module.\r\n\r\nSo, if you want to keep it that way (`forkCount` &gt; 0) then you have to properly configure the `maven-surefire-plugin`. Like in the following example:\r\n```\r\n&lt;plugins&gt;\r\n[...]\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;!-- pick your own version --&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n        &lt;argLine&gt;--add-modules=jdk.incubator.vector&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n[...]\r\n&lt;/plugins&gt;\r\n``` \r\n\r\n[`.mvn/jvm.config`][2] doesn&#39;t work in your case because this configuration is for Maven JVM as sort of alternative for [MAVEN_OPTS][3]:\r\n&gt; So no need anymore for MAVEN_OPTS... You don&#39;t need to use these options in MAVEN_OPTS or switch between different configurations.\r\n\r\nAbout MAVEN_OPTS:\r\n&gt; This variable contains parameters used to start up the JVM running Maven and can be used to supply additional options to it.\r\n\r\nSo, if forking is disabled (`forkCount` = 0) then it will work because there will be only one JVM for everything. Otherwise, only [the system properties get passed to a forked JVM][1]:\r\n\r\n&gt; System property variables from the main maven process are passed to the forked process as well.\r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\r\n  [2]: https://maven.apache.org/configure.html#mvn-jvm-config-file\r\n  [3]: https://maven.apache.org/configure.html#maven_opts-environment-variable","title":"JUnit tests do not seem to get run with --add-modules=jdk.incubator.vector from Maven","body":"<p>As far as I can judge, the compilation is fine. That means the <code>maven-compiler-plugin</code> is properly configured, i.e. <code>&lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;</code> is picked up.</p>\n<p>The <code>java.lang.NoClassDefFoundError</code> happens at runtime, i.e. when the test is running. That obviously means <code>--add-modules=jdk.incubator.vector</code> is not picked up. I believe the reason is the <code>maven-surefire-plugin</code> not configured properly so that it doesn't propagate that value to the JVM that actually runs the test. By default, that JVM is different from the one running Maven itself. This is managed by <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\" rel=\"nofollow noreferrer\">the <code>forkCount</code> parameter</a>:</p>\n<blockquote>\n<p>The default setting is forkCount=1/reuseForks=true, which means that maven-surefire-plugin creates one new JVM process to execute all tests in one Maven module.</p>\n</blockquote>\n<p>So, if you want to keep it that way (<code>forkCount</code> &gt; 0) then you have to properly configure the <code>maven-surefire-plugin</code>. Like in the following example:</p>\n<pre><code>&lt;plugins&gt;\n[...]\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;!-- pick your own version --&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;1&lt;/forkCount&gt;\n        &lt;argLine&gt;--add-modules=jdk.incubator.vector&lt;/argLine&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n[...]\n&lt;/plugins&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/configure.html#mvn-jvm-config-file\" rel=\"nofollow noreferrer\"><code>.mvn/jvm.config</code></a> doesn't work in your case because this configuration is for Maven JVM as sort of alternative for <a href=\"https://maven.apache.org/configure.html#maven_opts-environment-variable\" rel=\"nofollow noreferrer\">MAVEN_OPTS</a>:</p>\n<blockquote>\n<p>So no need anymore for MAVEN_OPTS... You don't need to use these options in MAVEN_OPTS or switch between different configurations.</p>\n</blockquote>\n<p>About MAVEN_OPTS:</p>\n<blockquote>\n<p>This variable contains parameters used to start up the JVM running Maven and can be used to supply additional options to it.</p>\n</blockquote>\n<p>So, if forking is disabled (<code>forkCount</code> = 0) then it will work because there will be only one JVM for everything. Otherwise, only <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\" rel=\"nofollow noreferrer\">the system properties get passed to a forked JVM</a>:</p>\n<blockquote>\n<p>System property variables from the main maven process are passed to the forked process as well.</p>\n</blockquote>\n"}],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966595,"answer_count":1,"score":1,"last_activity_date":1665052571,"creation_date":1664960927,"question_id":73958179,"body_markdown":"I&#39;ve added SIMD code to a Java application that uses Maven to build, and now I have to run it like this:\r\n\r\n    mvn exec:java -Dexec.mainClass=&quot;com.path.to.app.MainClass&quot; -Dexec.classpathScope=runtime -Dexec.systemProperties=&quot;-da --add-modules=jdk.incubator.vector&quot;\r\n\r\nI also created `.mvn/jvm.config` file with the following content:\r\n\r\n    --add-modules=jdk.incubator.vector\r\n\r\nFinally, in `pom.xml` I added the following under `project/build/plugins`:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe application itself runs from Eclipse and from command-line with Maven as shown above. However, if I run `mvn install`, the JUnit tests fail:\r\n\r\n    java.lang.NoClassDefFoundError: jdk/incubator/vector/Vector\r\n    ...\r\n    Caused by: java.lang.ClassNotFoundException: jdk.incubator.vector.Vector\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\r\nAll the above steps were found on the internet. I couldn&#39;t find how to fix JUnit. Please, suggest.\r\n\r\nOpenJDK 19, Maven 3.8.6, Ubuntu 20.04, JUnit is enabled in `pom.xml` as follows:\r\n\r\n    &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"JUnit tests do not seem to get run with --add-modules=jdk.incubator.vector from Maven","body":"<p>I've added SIMD code to a Java application that uses Maven to build, and now I have to run it like this:</p>\n<pre><code>mvn exec:java -Dexec.mainClass=&quot;com.path.to.app.MainClass&quot; -Dexec.classpathScope=runtime -Dexec.systemProperties=&quot;-da --add-modules=jdk.incubator.vector&quot;\n</code></pre>\n<p>I also created <code>.mvn/jvm.config</code> file with the following content:</p>\n<pre><code>--add-modules=jdk.incubator.vector\n</code></pre>\n<p>Finally, in <code>pom.xml</code> I added the following under <code>project/build/plugins</code>:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The application itself runs from Eclipse and from command-line with Maven as shown above. However, if I run <code>mvn install</code>, the JUnit tests fail:</p>\n<pre><code>java.lang.NoClassDefFoundError: jdk/incubator/vector/Vector\n...\nCaused by: java.lang.ClassNotFoundException: jdk.incubator.vector.Vector\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n<p>All the above steps were found on the internet. I couldn't find how to fix JUnit. Please, suggest.</p>\n<p>OpenJDK 19, Maven 3.8.6, Ubuntu 20.04, JUnit is enabled in <code>pom.xml</code> as follows:</p>\n<pre><code>&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n...\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665051998,"post_id":73972201,"comment_id":130610936,"body_markdown":"*Why password field send IllegalArgumentException instead of* because `BCryptPasswordEncoder.encode` is called before the validation.  The validation should be done in the &#217;serModel` I think","body":"<i>Why password field send IllegalArgumentException instead of</i> because <code>BCryptPasswordEncoder.encode</code> is called before the validation.  The validation should be done in the &#217;serModel` I think"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665051758,"creation_date":1665051758,"answer_id":73972248,"question_id":73972201,"body_markdown":"Because it&#39;s throwing that exception before even reaching the point where it would throw a `ConstraintViolationException`.\r\n\r\nHere\r\n\r\n    user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\r\n\r\nIt&#39;s `bCryptPasswordEncoder.encode(userModel.getPasword())` that is throwing the `IllegalArgumentException`, because it doesn&#39;t expect a null argument.","title":"How to handle &quot;java.lang.IllegalArgumentException: rawPassword cannot be null&quot;","body":"<p>Because it's throwing that exception before even reaching the point where it would throw a <code>ConstraintViolationException</code>.</p>\n<p>Here</p>\n<pre><code>user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\n</code></pre>\n<p>It's <code>bCryptPasswordEncoder.encode(userModel.getPasword())</code> that is throwing the <code>IllegalArgumentException</code>, because it doesn't expect a null argument.</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972248,"answer_count":1,"score":0,"last_activity_date":1665052523,"creation_date":1665051542,"question_id":73972201,"body_markdown":"In my code, I have `User` entity who have multiple fields and I&#39;m trying to handle field exception that&#39;s work fine. If any field is null then JVM will throw `ConstraintViolationException` which is I&#39;m handling perfectly with Custom Exception Handling but my problem is if password field is null then JVM will throw `IllegalArgumentException`. \r\n\r\nMy question is why am I getting an `IllegalArgumentException` instead of a `ConstraintViolationException`?\r\n\r\nHere is my code:\r\n\r\n**Entity**\r\n```\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer userId;\r\n\r\n\t@NotBlank(message = &quot;Please Insert Username !!&quot;)\r\n\tprivate String userName;\r\n\t\r\n\t@NotBlank(message = &quot;Please Insert Password !!&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@NotBlank(message = &quot;Please Insert Location !!&quot;)\r\n\tprivate String location;\r\n\r\n\t@Lob\r\n\tprivate String bio;\r\n    \r\n    // Parameterized Constructor\r\n    // getter and setter\r\n}\r\n```\r\n\r\n**Service**\r\n```\r\n@Override\r\npublic User addUser(UserModel userModel) {\r\n\tOptional&lt;Role&gt; role = roleRepo.findById(userModel.getRoleId());\r\n\t\r\n\tUser user = new User();\r\n\tuser.setUserId(userModel.getUserId());\r\n\tuser.setUserName(userModel.getUserName());\r\n\tuser.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\r\n\tuser.setLocation(userModel.getLocation());\r\n\tuser.setBio(userModel.getBio());\r\n\r\n\treturn userRepo.save(user);\r\n}\r\n```\r\n\r\n**Custom Exception Handler**\r\n```\r\n@ExceptionHandler(ConstraintViolationException.class)\r\n@ResponseStatus(value = HttpStatus.BAD_GATEWAY)\r\npublic Map&lt;Path, String&gt; handleConstraintViolationException(ConstraintViolationException ex) {\r\n\tSet&lt;ConstraintViolation&lt;?&gt;&gt; constraintViolations = ex.getConstraintViolations();\r\n\t         \r\n\tMap&lt;Path, String&gt; fieldException = new HashMap&lt;&gt;();\r\n\tconstraintViolations.stream().forEach(e -&gt; {\r\n\t    fieldException.put(e.getPropertyPath(), e.getMessage());\r\n\t});\r\n\treturn fieldException;\r\n}\r\n```\r\n\r\nHere is my full stack trace:\r\n```\r\njava.lang.IllegalArgumentException: rawPassword cannot be null\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.7.3.jar:5.7.3]\r\n\tat com.pixel.service.UserSereviceImpl.addUser(UserSereviceImpl.java:34) ~[classes/:na]\r\n\tat com.pixel.controller.UserController.addUser(UserController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```","title":"How to handle &quot;java.lang.IllegalArgumentException: rawPassword cannot be null&quot;","body":"<p>In my code, I have <code>User</code> entity who have multiple fields and I'm trying to handle field exception that's work fine. If any field is null then JVM will throw <code>ConstraintViolationException</code> which is I'm handling perfectly with Custom Exception Handling but my problem is if password field is null then JVM will throw <code>IllegalArgumentException</code>.</p>\n<p>My question is why am I getting an <code>IllegalArgumentException</code> instead of a <code>ConstraintViolationException</code>?</p>\n<p>Here is my code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer userId;\n\n    @NotBlank(message = &quot;Please Insert Username !!&quot;)\n    private String userName;\n    \n    @NotBlank(message = &quot;Please Insert Password !!&quot;)\n    private String password;\n    \n    @NotBlank(message = &quot;Please Insert Location !!&quot;)\n    private String location;\n\n    @Lob\n    private String bio;\n    \n    // Parameterized Constructor\n    // getter and setter\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Override\npublic User addUser(UserModel userModel) {\n    Optional&lt;Role&gt; role = roleRepo.findById(userModel.getRoleId());\n    \n    User user = new User();\n    user.setUserId(userModel.getUserId());\n    user.setUserName(userModel.getUserName());\n    user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\n    user.setLocation(userModel.getLocation());\n    user.setBio(userModel.getBio());\n\n    return userRepo.save(user);\n}\n</code></pre>\n<p><strong>Custom Exception Handler</strong></p>\n<pre><code>@ExceptionHandler(ConstraintViolationException.class)\n@ResponseStatus(value = HttpStatus.BAD_GATEWAY)\npublic Map&lt;Path, String&gt; handleConstraintViolationException(ConstraintViolationException ex) {\n    Set&lt;ConstraintViolation&lt;?&gt;&gt; constraintViolations = ex.getConstraintViolations();\n             \n    Map&lt;Path, String&gt; fieldException = new HashMap&lt;&gt;();\n    constraintViolations.stream().forEach(e -&gt; {\n        fieldException.put(e.getPropertyPath(), e.getMessage());\n    });\n    return fieldException;\n}\n</code></pre>\n<p>Here is my full stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: rawPassword cannot be null\n    at org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.7.3.jar:5.7.3]\n    at com.pixel.service.UserSereviceImpl.addUser(UserSereviceImpl.java:34) ~[classes/:na]\n    at com.pixel.controller.UserController.addUser(UserController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","collections","arraylist","swap"],"answers":[{"comments":[{"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"score":1,"creation_date":1385364007,"post_id":20186745,"comment_id":30095999,"body_markdown":"isn&#39;t it will increase the size of list?","body":"isn&#39;t it will increase the size of list?"},{"owner":{"account_id":1095385,"reputation":1553,"user_id":1089080,"display_name":"Venkata Krishna"},"score":0,"creation_date":1385364113,"post_id":20186745,"comment_id":30096035,"body_markdown":"Then remove the element from list by using url.remove(&quot;C&quot;); and add element at zero position by using url.add(0,&quot;C&quot;);","body":"Then remove the element from list by using url.remove(&quot;C&quot;); and add element at zero position by using url.add(0,&quot;C&quot;);"}],"tags":[],"owner":{"account_id":1095385,"reputation":1553,"user_id":1089080,"display_name":"Venkata Krishna"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1540467027,"creation_date":1385363974,"answer_id":20186745,"question_id":20186681,"body_markdown":"Do this:\r\n\r\n 1. ***Remove*** the element from the list: `ArraylistObj.remove(object);`\r\n 2. ***Add*** the element **back** to the list ***at specific position***: `ArrayListObj.add(position, Object);`\r\n\r\nAs per your code use this :\r\n\r\n    url.remove(&quot;C&quot;);\r\n    url.add(0,&quot;C&quot;);","title":"How to move specific item in array list to the first item","body":"<p>Do this:</p>\n\n<ol>\n<li><strong><em>Remove</em></strong> the element from the list: <code>ArraylistObj.remove(object);</code></li>\n<li><strong><em>Add</em></strong> the element <strong>back</strong> to the list <strong><em>at specific position</em></strong>: <code>ArrayListObj.add(position, Object);</code></li>\n</ol>\n\n<p>As per your code use this :</p>\n\n<pre><code>url.remove(\"C\");\nurl.add(0,\"C\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":4,"creation_date":1385364994,"post_id":20186749,"comment_id":30096347,"body_markdown":"if speed is a criteria, then maybe you should also look at http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/list/TreeList.html","body":"if speed is a criteria, then maybe you should also look at <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/list/TreeList.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1569439740,"post_id":20186749,"comment_id":102601567,"body_markdown":"@Aditya broken link now.","body":"@Aditya broken link now."},{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":0,"creation_date":1569485800,"post_id":20186749,"comment_id":102614562,"body_markdown":"Here is the new link - https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/TreeList.html","body":"Here is the new link - <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/TreeList.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/api-4&zwnj;&#8203;.4/&hellip;</a>"}],"tags":[],"owner":{"account_id":2029833,"reputation":11611,"user_id":1813853,"display_name":"Chris Hayes"},"comment_count":3,"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1500034271,"creation_date":1385363995,"answer_id":20186749,"question_id":20186681,"body_markdown":"What you want is a very expensive operation in an `ArrayList`. It requires shifting every element between the beginning of the list and the location of `C` down by one.\r\n\r\nHowever, if you really want to do it:\r\n\r\n    int index = url.indexOf(itemToMove);\r\n    url.remove(index);\r\n    url.add(0, itemToMove);\r\n\r\nIf this is a frequent operation for you, and random access is rather less frequent, you might consider switching to another `List` implementation such as `LinkedList`. You should also consider whether a list is the right data structure at all if you&#39;re so concerned about the order of elements.","title":"How to move specific item in array list to the first item","body":"<p>What you want is a very expensive operation in an <code>ArrayList</code>. It requires shifting every element between the beginning of the list and the location of <code>C</code> down by one.</p>\n\n<p>However, if you really want to do it:</p>\n\n<pre><code>int index = url.indexOf(itemToMove);\nurl.remove(index);\nurl.add(0, itemToMove);\n</code></pre>\n\n<p>If this is a frequent operation for you, and random access is rather less frequent, you might consider switching to another <code>List</code> implementation such as <code>LinkedList</code>. You should also consider whether a list is the right data structure at all if you're so concerned about the order of elements.</p>\n"},{"tags":[],"owner":{"account_id":3424174,"reputation":343,"user_id":2870535,"accept_rate":100,"display_name":"hbsrud"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1385367732,"creation_date":1385364174,"answer_id":20186795,"question_id":20186681,"body_markdown":"The problem is, you swap C with A, so A B C D E becomes C B A D E.\r\n\r\nYou could try something like this:\r\n\r\n    url.remove(itemToMove);\r\n    url.add(0, itemToMove);\r\n\r\nOr if ``url`` is a ``LinkedList``:\r\n\r\n    url.remove(itemToMove);\r\n    url.addFirst(itemToMove);","title":"How to move specific item in array list to the first item","body":"<p>The problem is, you swap C with A, so A B C D E becomes C B A D E.</p>\n\n<p>You could try something like this:</p>\n\n<pre><code>url.remove(itemToMove);\nurl.add(0, itemToMove);\n</code></pre>\n\n<p>Or if <code>url</code> is a <code>LinkedList</code>:</p>\n\n<pre><code>url.remove(itemToMove);\nurl.addFirst(itemToMove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5571074,"reputation":1,"user_id":4416340,"display_name":"sbc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425002891,"creation_date":1425002891,"answer_id":28756352,"question_id":20186681,"body_markdown":"This code will allow you to increase size of list, and insert elements without otherwise disturbing order of list    \r\n\r\n    private void insert(double price){\r\n        for(int i = 0; i &lt; keys.size(); i++){\r\n            if(price &gt; keys.get(i)){\r\n                keys.add(null);\r\n                for(int j = keys.size()-1; j &gt; i; j--){\r\n                    Collections.swap(keys, j, j-1);\r\n                }\r\n                keys.add(price);\r\n                Collections.swap(keys, keys.size()-1, i);\r\n                keys.remove(keys.size()-1);\r\n                return;\r\n            }\r\n        }\r\n        keys.add(price);\r\n    }","title":"How to move specific item in array list to the first item","body":"<p>This code will allow you to increase size of list, and insert elements without otherwise disturbing order of list    </p>\n\n<pre><code>private void insert(double price){\n    for(int i = 0; i &lt; keys.size(); i++){\n        if(price &gt; keys.get(i)){\n            keys.add(null);\n            for(int j = keys.size()-1; j &gt; i; j--){\n                Collections.swap(keys, j, j-1);\n            }\n            keys.add(price);\n            Collections.swap(keys, keys.size()-1, i);\n            keys.remove(keys.size()-1);\n            return;\n        }\n    }\n    keys.add(price);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996480,"reputation":1615,"user_id":1012277,"accept_rate":25,"display_name":"Zulqarnain Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477050776,"creation_date":1477050776,"answer_id":40176045,"question_id":20186681,"body_markdown":"Let say you have an array:\r\n\r\n    String[] arrayOne = new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\r\n\r\nNow you want to place the `C` at index `0` get the `C` in another variable\r\n\r\n    String characterC = arrayOne[2];\r\nNow run the loop like following:\r\n\r\n    for (int i = (2 - 1); i &gt;= 0; i--) {\r\n\r\n                arrayOne[i+1] = arrayOne[i];\r\n            }\r\nAbove `2` is index of `C`. Now insert `C` at index for example on `0`\r\n\r\n    arrayOne[0] = characterC;\r\nResult of above loop will be like that:\r\n\r\n    arrayOne: {&quot;C&quot;,&quot;A&quot;,&quot;B&quot;,&quot;D&quot;,&quot;E&quot;}\r\nThe end, we achieve our goal.","title":"How to move specific item in array list to the first item","body":"<p>Let say you have an array:</p>\n\n<pre><code>String[] arrayOne = new String[]{\"A\",\"B\",\"C\",\"D\",\"E\"};\n</code></pre>\n\n<p>Now you want to place the <code>C</code> at index <code>0</code> get the <code>C</code> in another variable</p>\n\n<pre><code>String characterC = arrayOne[2];\n</code></pre>\n\n<p>Now run the loop like following:</p>\n\n<pre><code>for (int i = (2 - 1); i &gt;= 0; i--) {\n\n            arrayOne[i+1] = arrayOne[i];\n        }\n</code></pre>\n\n<p>Above <code>2</code> is index of <code>C</code>. Now insert <code>C</code> at index for example on <code>0</code></p>\n\n<pre><code>arrayOne[0] = characterC;\n</code></pre>\n\n<p>Result of above loop will be like that:</p>\n\n<pre><code>arrayOne: {\"C\",\"A\",\"B\",\"D\",\"E\"}\n</code></pre>\n\n<p>The end, we achieve our goal.</p>\n"},{"comments":[{"owner":{"account_id":9419546,"reputation":1889,"user_id":7016052,"display_name":"lazarevzubov"},"score":0,"creation_date":1682181544,"post_id":47654383,"comment_id":134176438,"body_markdown":"It gives &quot;C, B, A, D, E&quot; on output instead of &quot;C, A, B, D, E&quot;.","body":"It gives &quot;C, B, A, D, E&quot; on output instead of &quot;C, A, B, D, E&quot;."},{"owner":{"account_id":10956798,"reputation":231,"user_id":8051306,"display_name":"MYLS"},"score":0,"creation_date":1683811059,"post_id":47654383,"comment_id":134425813,"body_markdown":"@lazarevzubov you can test it at Kotlin Playground, e.g. https://pl.kotl.in/OwYLJ_SZ-","body":"@lazarevzubov you can test it at Kotlin Playground, e.g. <a href=\"https://pl.kotl.in/OwYLJ_SZ-\" rel=\"nofollow noreferrer\">pl.kotl.in/OwYLJ_SZ-</a>"},{"owner":{"account_id":9419546,"reputation":1889,"user_id":7016052,"display_name":"lazarevzubov"},"score":0,"creation_date":1683813902,"post_id":47654383,"comment_id":134426655,"body_markdown":"My apologies...","body":"My apologies..."}],"tags":[],"owner":{"account_id":10956798,"reputation":231,"user_id":8051306,"display_name":"MYLS"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1512479191,"creation_date":1512479191,"answer_id":47654383,"question_id":20186681,"body_markdown":"Another solution, just keep swaping from `0` to `indexOf(itemToMove)`.\r\n\r\nThis is my Kotlin version:\r\n\r\n    val list = mutableListOf(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;)\r\n    (0..list.indexOf(&#39;C&#39;)).forEach {\r\n        Collections.swap(list, 0, it)\r\n    }\r\n\r\nSorry I am unfamiliar with Java but learned a little Kotlin. But the algorithm is the same.","title":"How to move specific item in array list to the first item","body":"<p>Another solution, just keep swaping from <code>0</code> to <code>indexOf(itemToMove)</code>.</p>\n\n<p>This is my Kotlin version:</p>\n\n<pre><code>val list = mutableListOf('A', 'B', 'C', 'D', 'E')\n(0..list.indexOf('C')).forEach {\n    Collections.swap(list, 0, it)\n}\n</code></pre>\n\n<p>Sorry I am unfamiliar with Java but learned a little Kotlin. But the algorithm is the same.</p>\n"},{"tags":[],"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657125031,"creation_date":1657125031,"answer_id":72887015,"question_id":20186681,"body_markdown":"Kotlin -&gt;\r\n\r\n   \r\n\r\n     \r\n    fun &lt;T&gt; MutableList&lt;T&gt;.move(item: T, newIndex: Int)  {\r\n        val currentIndex = indexOf(item)\r\n        if (currentIndex &lt; 0) return\r\n        removeAt(currentIndex)\r\n        add(newIndex, item)\r\n    }","title":"How to move specific item in array list to the first item","body":"<p>Kotlin -&gt;</p>\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.move(item: T, newIndex: Int)  {\n    val currentIndex = indexOf(item)\n    if (currentIndex &lt; 0) return\n    removeAt(currentIndex)\n    add(newIndex, item)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2675066,"reputation":1496,"user_id":2311651,"accept_rate":86,"display_name":"Pavlo28"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665052326,"creation_date":1665052326,"answer_id":73972371,"question_id":20186681,"body_markdown":"One more Kotlin solution based on other answers from this thread:\r\n\r\n    inline fun &lt;T&gt; List&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\r\n        for (element in this.withIndex()) {\r\n            if (predicate(element.value)) {\r\n                return this.toMutableList().apply {\r\n                    removeAt(element.index)\r\n                    add(0, element.value)\r\n                }.toList()\r\n            }\r\n        }\r\n        return this\r\n    }\r\n\r\nUsage:\r\n\r\n    var list = listOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\r\n    list = list.moveItemToFirstPosition { it == &quot;C&quot; }\r\n\r\nOR\r\n\r\n    inline fun &lt;T&gt; MutableList&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean) {\r\n        for (element in this.withIndex()) {\r\n            if (predicate(element.value)) {\r\n                removeAt(element.index)\r\n                add(0, element.value)\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    val list = mutableListOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\r\n    list.moveItemToFirstPosition { it == &quot;C&quot; }","title":"How to move specific item in array list to the first item","body":"<p>One more Kotlin solution based on other answers from this thread:</p>\n<pre><code>inline fun &lt;T&gt; List&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\n    for (element in this.withIndex()) {\n        if (predicate(element.value)) {\n            return this.toMutableList().apply {\n                removeAt(element.index)\n                add(0, element.value)\n            }.toList()\n        }\n    }\n    return this\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>var list = listOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\nlist = list.moveItemToFirstPosition { it == &quot;C&quot; }\n</code></pre>\n<p>OR</p>\n<pre><code>inline fun &lt;T&gt; MutableList&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean) {\n    for (element in this.withIndex()) {\n        if (predicate(element.value)) {\n            removeAt(element.index)\n            add(0, element.value)\n            break\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val list = mutableListOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\nlist.moveItemToFirstPosition { it == &quot;C&quot; }\n</code></pre>\n"}],"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125972,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":20186749,"answer_count":8,"score":94,"last_activity_date":1665052326,"creation_date":1385363745,"question_id":20186681,"body_markdown":"For example : A list\r\n\r\nA B C D E\r\n\r\nGiven C , Switch to \r\n\r\nC A B D E\r\n\r\nNotice that the array size will change, some items may removed in run times\r\n\r\n    Collections.swap(url, url.indexOf(itemToMove), 0);\r\n\r\nThis statement is not working because it output C B A D E not C A B D E , how to fix it?\r\n\r\nThanks. ","title":"How to move specific item in array list to the first item","body":"<p>For example : A list</p>\n\n<p>A B C D E</p>\n\n<p>Given C , Switch to </p>\n\n<p>C A B D E</p>\n\n<p>Notice that the array size will change, some items may removed in run times</p>\n\n<pre><code>Collections.swap(url, url.indexOf(itemToMove), 0);\n</code></pre>\n\n<p>This statement is not working because it output C B A D E not C A B D E , how to fix it?</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","algorithm","data-structures","disjoint-sets"],"comments":[{"owner":{"display_name":"user1181445"},"score":1,"creation_date":1333233055,"post_id":9459938,"comment_id":12721429,"body_markdown":"Correct me if I am wrong but this is a tree, so every node except the first node would have a parent node. Have you considered this implementation.","body":"Correct me if I am wrong but this is a tree, so every node except the first node would have a parent node. Have you considered this implementation."},{"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"score":1,"creation_date":1333634443,"post_id":9459938,"comment_id":12828249,"body_markdown":"@Legend, In kruskall&#39;s algorithm, during runtime of algorithm we have forest not tree, so your assumption is wrong.","body":"@Legend, In kruskall&#39;s algorithm, during runtime of algorithm we have forest not tree, so your assumption is wrong."}],"answers":[{"comments":[{"owner":{"account_id":6885505,"reputation":913,"user_id":5407757,"accept_rate":62,"display_name":"Daniel R. Collins"},"score":0,"creation_date":1559305519,"post_id":9459988,"comment_id":99388612,"body_markdown":"This is incorrect. Kruskal&#39;s algorithm proceeds by developing a disconnected subgraph, so it will commonly need to connect separate components, in which both vertices of the bridging edge have already been visited. E.g., see [here](https://en.wikipedia.org/wiki/Kruskal&#39;s_algorithm#Example) (Example step 5, in which edge BE is added). However, this claim would be true for a different algorithm like Prim&#39;s, which does grow a connected tree at each step (and hence is easier to implement and prove its correctness).","body":"This is incorrect. Kruskal&#39;s algorithm proceeds by developing a disconnected subgraph, so it will commonly need to connect separate components, in which both vertices of the bridging edge have already been visited. E.g., see <a href=\"https://en.wikipedia.org/wiki/Kruskal&#39;s_algorithm#Example\" rel=\"nofollow noreferrer\">here</a> (Example step 5, in which edge BE is added). However, this claim would be true for a different algorithm like Prim&#39;s, which does grow a connected tree at each step (and hence is easier to implement and prove its correctness)."}],"tags":[],"owner":{"account_id":1261919,"reputation":1717,"user_id":1219955,"accept_rate":100,"display_name":"Dan675"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1330317210,"creation_date":1330316020,"answer_id":9459988,"question_id":9459938,"body_markdown":"If the vertices are labelled in some way all you need to do is check if both vertices of the edge selected has been visited previously which will indicate a loop.\r\n\r\nSo if its implemented with integers you could use a boolean array to mark which vertices have been selected.\r\n\r\n    boolean[] visited = new boolean[vertex-count-1];\r\n\r\nOr if the vertices are labelled as strings you could add them to a Map for instance and check they have not already been added.","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>If the vertices are labelled in some way all you need to do is check if both vertices of the edge selected has been visited previously which will indicate a loop.</p>\n\n<p>So if its implemented with integers you could use a boolean array to mark which vertices have been selected.</p>\n\n<pre><code>boolean[] visited = new boolean[vertex-count-1];\n</code></pre>\n\n<p>Or if the vertices are labelled as strings you could add them to a Map for instance and check they have not already been added.</p>\n"},{"tags":[],"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1665052233,"creation_date":1333237904,"answer_id":9960713,"question_id":9459938,"body_markdown":"Kruskall&#39;s algorithm doesn&#39;t searche for cycles, because it&#39;s not performance efficient; instead creates disjoint  trees, and then connects them. Since connecting two distinct subtrees with a single edge creates a new tree, there is no need to check for cycles.\r\n\r\nIf you look at [wiki page][1] algorithm is as follow:\r\n\r\n    1. create a forest **F** (a set of trees), where each vertex in the graph is a separate tree\r\n    2. create a set S containing all the edges in the graph\r\n    3. while S is nonempty and F is not yet spanning\r\n        a. remove an edge with minimum weight from S\r\n        b. if that edge connects two different trees, then add it to the forest, combining \r\n           two trees into a single tree\r\n        c. otherwise discard that edge.\r\n\r\n\r\nYou should use [Disjoint Set Data Structure][2] for this. again from wiki:\r\n\r\n&gt; first sort the edges by weight using a comparison sort in O(E log E)\r\n&gt; time; this allows the step &quot;remove an edge with minimum weight from S&quot;\r\n&gt; to operate in constant time. Next, we use a disjoint-set data\r\n&gt; structure (Union&amp;Find) to keep track of which vertices are in which\r\n&gt; components. We need to perform O(E) operations, two &#39;find&#39; operations\r\n&gt; and possibly one union for each edge. Even a simple disjoint-set data\r\n&gt; structure such as disjoint-set forests with union by rank can perform\r\n&gt; O(E) operations in O(E log V) time. Thus the total time is O(E log E)\r\n&gt; = O(E log V).\r\n\r\n---\r\n\r\n#Creating Disjoint Forests\r\nNow you can take a look at [Boost Graph Library-Incremental Components][3] part.\r\nYou should implement some methods: **MakeSet**, **Find**, **Union**, After that you can implement Kruskall&#39;s algorithm. All you doing is working with sets, and simplest possible way to do so is using linked list.\r\n\r\nEach set has one element named as **representative element** which is the first element in the set.\r\n\r\n1- First implement **MakeSet** by linked lists:\r\n\r\n&gt; This prepares the disjoint-sets data structure for the incremental\r\n&gt; connected components algorithm by making each vertex in the graph a\r\n&gt; member of its own component (or set).\r\n\r\nJust initialize each vertex (element) as a representative element of new set, we can do this by setting them as themselves&#39; parent:\r\n\r\n     function MakeSet(x)\r\n       x.parent := x\r\n\r\n2- Implement **Find** method:\r\n\r\nFind representative element of a set that contains a vertex `x`:\r\n\r\n     function Find(x)\r\n     if x.parent == x\r\n        return x\r\n     else\r\n        return Find(x.parent)\r\n\r\nThe `if` part checks the element is representative element or not. we set all representative elements of sets as their first element by setting them as themselves parent.\r\n\r\n3- And finally when all previous steps are done, simple part is implementing the **Union** method:\r\n\r\n    function Union(x, y)\r\n     xRoot := Find(x) // find representative element of first element(set)\r\n     yRoot := Find(y) // find representative element of second element(set)\r\n     xRoot.parent := yRoot // set representative element of first set \r\n                           // as same as representative element of second set\r\n\r\nNow how you should run Kruskall?\r\n\r\nFirst put all nodes in `n` disjoint sets by **MakeSet** method. In each iteration after finding desired  edge (not marked and minimal one), find related sets of its endpoint vertices by **Find** method (their representative elements), if they are the same, drop this edge out because this edge causes a cycle, but If they are in different sets, use **Union** method to merge these sets. Since each set is a tree their union is a tree.\r\n\r\nYou can optimize this by choosing better data structure for disjoint sets, but for now I think this is enough. If you are interested in more advanced data structures, you can implement **rank** base method, there is a good documentation about it in wiki, it&#39;s easy but I didn&#39;t mention it to prevent from bewilderment.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Kruskal%27s_algorithm\r\n  [2]: http://en.wikipedia.org/wiki/Disjoint-set_data_structure\r\n  [3]: http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/incremental_components.html","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>Kruskall's algorithm doesn't searche for cycles, because it's not performance efficient; instead creates disjoint  trees, and then connects them. Since connecting two distinct subtrees with a single edge creates a new tree, there is no need to check for cycles.</p>\n<p>If you look at <a href=\"http://en.wikipedia.org/wiki/Kruskal%27s_algorithm\" rel=\"nofollow noreferrer\">wiki page</a> algorithm is as follow:</p>\n<pre><code>1. create a forest **F** (a set of trees), where each vertex in the graph is a separate tree\n2. create a set S containing all the edges in the graph\n3. while S is nonempty and F is not yet spanning\n    a. remove an edge with minimum weight from S\n    b. if that edge connects two different trees, then add it to the forest, combining \n       two trees into a single tree\n    c. otherwise discard that edge.\n</code></pre>\n<p>You should use <a href=\"http://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">Disjoint Set Data Structure</a> for this. again from wiki:</p>\n<blockquote>\n<p>first sort the edges by weight using a comparison sort in O(E log E)\ntime; this allows the step &quot;remove an edge with minimum weight from S&quot;\nto operate in constant time. Next, we use a disjoint-set data\nstructure (Union&amp;Find) to keep track of which vertices are in which\ncomponents. We need to perform O(E) operations, two 'find' operations\nand possibly one union for each edge. Even a simple disjoint-set data\nstructure such as disjoint-set forests with union by rank can perform\nO(E) operations in O(E log V) time. Thus the total time is O(E log E)\n= O(E log V).</p>\n</blockquote>\n<hr />\n<p>#Creating Disjoint Forests\nNow you can take a look at <a href=\"http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/incremental_components.html\" rel=\"nofollow noreferrer\">Boost Graph Library-Incremental Components</a> part.\nYou should implement some methods: <strong>MakeSet</strong>, <strong>Find</strong>, <strong>Union</strong>, After that you can implement Kruskall's algorithm. All you doing is working with sets, and simplest possible way to do so is using linked list.</p>\n<p>Each set has one element named as <strong>representative element</strong> which is the first element in the set.</p>\n<p>1- First implement <strong>MakeSet</strong> by linked lists:</p>\n<blockquote>\n<p>This prepares the disjoint-sets data structure for the incremental\nconnected components algorithm by making each vertex in the graph a\nmember of its own component (or set).</p>\n</blockquote>\n<p>Just initialize each vertex (element) as a representative element of new set, we can do this by setting them as themselves' parent:</p>\n<pre><code> function MakeSet(x)\n   x.parent := x\n</code></pre>\n<p>2- Implement <strong>Find</strong> method:</p>\n<p>Find representative element of a set that contains a vertex <code>x</code>:</p>\n<pre><code> function Find(x)\n if x.parent == x\n    return x\n else\n    return Find(x.parent)\n</code></pre>\n<p>The <code>if</code> part checks the element is representative element or not. we set all representative elements of sets as their first element by setting them as themselves parent.</p>\n<p>3- And finally when all previous steps are done, simple part is implementing the <strong>Union</strong> method:</p>\n<pre><code>function Union(x, y)\n xRoot := Find(x) // find representative element of first element(set)\n yRoot := Find(y) // find representative element of second element(set)\n xRoot.parent := yRoot // set representative element of first set \n                       // as same as representative element of second set\n</code></pre>\n<p>Now how you should run Kruskall?</p>\n<p>First put all nodes in <code>n</code> disjoint sets by <strong>MakeSet</strong> method. In each iteration after finding desired  edge (not marked and minimal one), find related sets of its endpoint vertices by <strong>Find</strong> method (their representative elements), if they are the same, drop this edge out because this edge causes a cycle, but If they are in different sets, use <strong>Union</strong> method to merge these sets. Since each set is a tree their union is a tree.</p>\n<p>You can optimize this by choosing better data structure for disjoint sets, but for now I think this is enough. If you are interested in more advanced data structures, you can implement <strong>rank</strong> base method, there is a good documentation about it in wiki, it's easy but I didn't mention it to prevent from bewilderment.</p>\n"},{"tags":[],"owner":{"account_id":408159,"reputation":526,"user_id":778643,"display_name":"gwilkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333238002,"creation_date":1333238002,"answer_id":9960724,"question_id":9459938,"body_markdown":"To check for circuits, you&#39;ll want to use a union-find data structure.  The easiest way to do it is just with linked lists, but there are more efficient implementations. This link can help you if you want to implement one yourself.\r\n\r\nhttp://en.wikipedia.org/wiki/Disjoint-set_data_structure\r\n\r\nOr here&#39;s a link to a java implementation:\r\n\r\nhttp://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx\r\n\r\nBasically, a union-find data structure allows you to track disjoint sets of elements, and supports two operations:\r\n\r\n    1) Find, which takes an element as an argument and tells you which set it is in\r\n    2) Union, which takes 2 disjoint sets and merges them\r\n\r\n\r\nLet&#39;s say your array of edges that will form the MST is `S`. The idea is that you can make a set, `C`, using Union-Find, that tracks which vertices of the graph are connected by the edges in `S`. When `C` contains all the vertices in the graph, then you&#39;re finished, and checking to see if the addition of an edge will create a cycle amounts to checking whether the two vertices that it connects are already in `C` (by using two `Find` operations).\r\n\r\nSo if `E` is the set of all the edges in the graph, your update operation can proceed like so:\r\n\r\n\r\n        Remove edge, e from E, with minimum weight (say that it connects vertices v1 and v2)\r\n        Find(v1) and Find(v2)\r\n        If v1 and v2 are both in C then continue\r\n        Else, Union(C,{v1,v2}) and append e to S\r\n\r\nAnd you stop the update once `C` contains every vertex of the graph.\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>To check for circuits, you'll want to use a union-find data structure.  The easiest way to do it is just with linked lists, but there are more efficient implementations. This link can help you if you want to implement one yourself.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Disjoint-set_data_structure</a></p>\n\n<p>Or here's a link to a java implementation:</p>\n\n<p><a href=\"http://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx\" rel=\"nofollow\">http://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx</a></p>\n\n<p>Basically, a union-find data structure allows you to track disjoint sets of elements, and supports two operations:</p>\n\n<pre><code>1) Find, which takes an element as an argument and tells you which set it is in\n2) Union, which takes 2 disjoint sets and merges them\n</code></pre>\n\n<p>Let's say your array of edges that will form the MST is <code>S</code>. The idea is that you can make a set, <code>C</code>, using Union-Find, that tracks which vertices of the graph are connected by the edges in <code>S</code>. When <code>C</code> contains all the vertices in the graph, then you're finished, and checking to see if the addition of an edge will create a cycle amounts to checking whether the two vertices that it connects are already in <code>C</code> (by using two <code>Find</code> operations).</p>\n\n<p>So if <code>E</code> is the set of all the edges in the graph, your update operation can proceed like so:</p>\n\n<pre><code>    Remove edge, e from E, with minimum weight (say that it connects vertices v1 and v2)\n    Find(v1) and Find(v2)\n    If v1 and v2 are both in C then continue\n    Else, Union(C,{v1,v2}) and append e to S\n</code></pre>\n\n<p>And you stop the update once <code>C</code> contains every vertex of the graph.</p>\n"},{"tags":[],"owner":{"account_id":72186,"reputation":1419,"user_id":208527,"accept_rate":75,"display_name":"kilotaras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333432060,"creation_date":1333432060,"answer_id":9987733,"question_id":9459938,"body_markdown":"If you check for cycle, using DFS it will be very inefficient. But you can use [Disjoint Set][1]. When connecting, you&#39;ll only need to check if your nodes are in same connected component.  \r\n\r\nAlso note, that you have to check that your original is connected, because Kruskall algorithm will find spanning forest and not a spanning tree in that case.\r\n\r\n\r\n  [1]: http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=disjointDataStructure &quot;Disjoint Set Tutorial&quot;","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>If you check for cycle, using DFS it will be very inefficient. But you can use <a href=\"http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=disjointDataStructure\" rel=\"nofollow\" title=\"Disjoint Set Tutorial\">Disjoint Set</a>. When connecting, you'll only need to check if your nodes are in same connected component.  </p>\n\n<p>Also note, that you have to check that your original is connected, because Kruskall algorithm will find spanning forest and not a spanning tree in that case.</p>\n"},{"tags":[],"owner":{"account_id":36062,"reputation":951,"user_id":102600,"display_name":"Garen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333835500,"creation_date":1333835500,"answer_id":10058684,"question_id":9459938,"body_markdown":"The most powerful if not most common way to detect cycles is via Tarjan&#39;s SCC (Strongly Connected Components) algorithm.  In any case, this question has already been answered:\r\n\r\nhttps://stackoverflow.com/questions/546655/finding-all-cycles-in-graph\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>The most powerful if not most common way to detect cycles is via Tarjan's SCC (Strongly Connected Components) algorithm.  In any case, this question has already been answered:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/546655/finding-all-cycles-in-graph\">Finding all cycles in a directed graph</a></p>\n"}],"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9960713,"answer_count":5,"score":8,"last_activity_date":1665052233,"creation_date":1330315671,"question_id":9459938,"body_markdown":"I&#39;m trying to write a program that would find the minimum spanning tree. But one problem I am having with this algorithm, is testing for a circuit. What would be the best way to do this in java.\r\n\r\nOk here is my code\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class JungleRoads \r\n    {\r\n        public static int FindMinimumCost(ArrayList graph,int size)\r\n        {\r\n            int total = 0;\r\n            int [] marked = new int[size];      //keeps track over integer in the mst\r\n            \r\n            //convert an arraylist to an array\r\n            List&lt;String&gt; wrapper = graph;\r\n            String[] arrayGraph = wrapper.toArray(new String[wrapper.size()]);\r\n            String[] temp = new String[size];\r\n            HashMap visited = new HashMap();\r\n            \r\n            \r\n            for(int i = 0; i &lt; size; i++)\r\n            {\r\n               // System.out.println(arrayGraph[i]);\r\n                temp = arrayGraph[i].split(&quot; &quot;);\r\n                \r\n                //loop over connections of a current node\r\n                for(int j =  2; j &lt; Integer.parseInt(temp[1])*2+2; j++)\r\n                {\r\n                            \r\n                    if(temp[j].matches(&quot;[0-9]+&quot;))\r\n                    {\r\n                        System.out.println(temp[j]);\r\n                    }\r\n                }\r\n                \r\n              \r\n            }\r\n            \r\n           \r\n            graph.clear();\r\n            return total;\r\n            \r\n            \r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) throws IOException\r\n        {\r\n    \r\n             FileReader fin = new FileReader(&quot;jungle.in&quot;);\r\n            BufferedReader infile = new BufferedReader(fin);\r\n    \r\n            FileWriter fout = new FileWriter(&quot;jungle.out&quot;);\r\n            BufferedWriter outfile = new BufferedWriter(fout);\r\n            \r\n            \r\n            String line;\r\n            line = infile.readLine();\r\n            ArrayList graph = new ArrayList();\r\n            \r\n            do\r\n            {\r\n                \r\n                int num = Integer.parseInt(line);\r\n                if(num!= 0)\r\n                {\r\n                   \r\n                    int size = Integer.parseInt(line)-1;\r\n                    \r\n                    for(int i=0; i &lt; size; i++)\r\n                    {\r\n                        line = infile.readLine(); \r\n                        graph.add(line);\r\n                    }\r\n                    \r\n                   outfile.write(FindMinimumCost(graph, size));\r\n                }   \r\n                \r\n                \r\n                line = infile.readLine();\r\n            }while(!line.equals(&quot;0&quot;));\r\n            \r\n        }\r\n    }\r\n\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>I'm trying to write a program that would find the minimum spanning tree. But one problem I am having with this algorithm, is testing for a circuit. What would be the best way to do this in java.</p>\n\n<p>Ok here is my code</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class JungleRoads \n{\n    public static int FindMinimumCost(ArrayList graph,int size)\n    {\n        int total = 0;\n        int [] marked = new int[size];      //keeps track over integer in the mst\n\n        //convert an arraylist to an array\n        List&lt;String&gt; wrapper = graph;\n        String[] arrayGraph = wrapper.toArray(new String[wrapper.size()]);\n        String[] temp = new String[size];\n        HashMap visited = new HashMap();\n\n\n        for(int i = 0; i &lt; size; i++)\n        {\n           // System.out.println(arrayGraph[i]);\n            temp = arrayGraph[i].split(\" \");\n\n            //loop over connections of a current node\n            for(int j =  2; j &lt; Integer.parseInt(temp[1])*2+2; j++)\n            {\n\n                if(temp[j].matches(\"[0-9]+\"))\n                {\n                    System.out.println(temp[j]);\n                }\n            }\n\n\n        }\n\n\n        graph.clear();\n        return total;\n\n\n    }\n\n\n    public static void main(String[] args) throws IOException\n    {\n\n         FileReader fin = new FileReader(\"jungle.in\");\n        BufferedReader infile = new BufferedReader(fin);\n\n        FileWriter fout = new FileWriter(\"jungle.out\");\n        BufferedWriter outfile = new BufferedWriter(fout);\n\n\n        String line;\n        line = infile.readLine();\n        ArrayList graph = new ArrayList();\n\n        do\n        {\n\n            int num = Integer.parseInt(line);\n            if(num!= 0)\n            {\n\n                int size = Integer.parseInt(line)-1;\n\n                for(int i=0; i &lt; size; i++)\n                {\n                    line = infile.readLine(); \n                    graph.add(line);\n                }\n\n               outfile.write(FindMinimumCost(graph, size));\n            }   \n\n\n            line = infile.readLine();\n        }while(!line.equals(\"0\"));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","persistence","eclipselink"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1665046409,"post_id":73970601,"comment_id":130608789,"body_markdown":"Why ins&#39;t their any `@Id` into your entity ?","body":"Why ins&#39;t their any <code>@Id</code> into your entity ?"},{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665046631,"post_id":73970601,"comment_id":130608868,"body_markdown":"@Zorglube I omitted it because it deemed it not relevant, it&#39;s done in a superclass.","body":"@Zorglube I omitted it because it deemed it not relevant, it&#39;s done in a superclass."}],"answers":[{"comments":[{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665046777,"post_id":73971099,"comment_id":130608927,"body_markdown":"My setter does not look like that, but in practice I do the same thing. Whenever I create a suggestion, I set the Item in the suggestion-class, and then I set the suggestion in the Item-class, and that should accomplish the same thing right?","body":"My setter does not look like that, but in practice I do the same thing. Whenever I create a suggestion, I set the Item in the suggestion-class, and then I set the suggestion in the Item-class, and that should accomplish the same thing right?"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1665047055,"post_id":73971099,"comment_id":130609025,"body_markdown":"yes, if that the case you need to show more code such as how you are populating your entities before saving and transactional boundaries etc","body":"yes, if that the case you need to show more code such as how you are populating your entities before saving and transactional boundaries etc"},{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665048206,"post_id":73971099,"comment_id":130609500,"body_markdown":"I updated the question with more code, showing how I populate the entities. Regarding the transactional boundaries I&#39;m not exactly sure what&#39;s relevant there. If you have anything specific you want to know then I&#39;ll provide it. Thanks for the feedback!","body":"I updated the question with more code, showing how I populate the entities. Regarding the transactional boundaries I&#39;m not exactly sure what&#39;s relevant there. If you have anything specific you want to know then I&#39;ll provide it. Thanks for the feedback!"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046639,"creation_date":1665046639,"answer_id":73971099,"question_id":73970601,"body_markdown":"Your setter in item should be as follows:\r\n```\r\npublic void setItemGroupSuggestion(ItemGroupSuggestion itemGroupSuggestion) {\r\n    itemGroupSuggestion.setItem(this);\r\n    this.itemGroupSuggestion = itemGroupSuggestion;\r\n}\r\n```\r\n","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>Your setter in item should be as follows:</p>\n<pre><code>public void setItemGroupSuggestion(ItemGroupSuggestion itemGroupSuggestion) {\n    itemGroupSuggestion.setItem(this);\n    this.itemGroupSuggestion = itemGroupSuggestion;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":1,"creation_date":1665064536,"post_id":73972304,"comment_id":130615771,"body_markdown":"It tell Hibernate (or any ORM) how is made the `SQL` junction. `@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;) private Item item;` That mean, in SQL : `mp_itemgroup_suggestion.item_id` is a foreingKey of `mp_item.id`.","body":"It tell Hibernate (or any ORM) how is made the <code>SQL</code> junction. <code>@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;) private Item item;</code> That mean, in SQL : <code>mp_itemgroup_suggestion.item_id</code> is a foreingKey of <code>mp_item.id</code>."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665179344,"post_id":73972304,"comment_id":130647288,"body_markdown":"It should have defaulted if the &quot;id&quot; column in Item is annotated as the ID and it isn&#39;t a composite ID. There is no need for it otherwise: Having the wrong value should still have let this &#39;work&#39; using the ID field or throw exceptions; eclipseLink doesn&#39;t ignore bad mappings and will validate and let you know about them - turn on logging though and it might help explain what is happening.","body":"It should have defaulted if the &quot;id&quot; column in Item is annotated as the ID and it isn&#39;t a composite ID. There is no need for it otherwise: Having the wrong value should still have let this &#39;work&#39; using the ID field or throw exceptions; eclipseLink doesn&#39;t ignore bad mappings and will validate and let you know about them - turn on logging though and it might help explain what is happening."}],"tags":[],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665052030,"creation_date":1665052030,"answer_id":73972304,"question_id":73970601,"body_markdown":"Seems like I finally got it to work, for some reason when I provided the **referencedColumnName** it started working. I thought that would be the default, but apparently not. \r\n\r\n    @JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Item item;\r\n\r\nIf anyone knows why this was needed to get things working, please let me know.","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>Seems like I finally got it to work, for some reason when I provided the <strong>referencedColumnName</strong> it started working. I thought that would be the default, but apparently not.</p>\n<pre><code>@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Item item;\n</code></pre>\n<p>If anyone knows why this was needed to get things working, please let me know.</p>\n"}],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665052030,"creation_date":1665044186,"question_id":73970601,"body_markdown":"I&#39;m having problems with automatically persisting my child entity when persisting the parent. I have followed guides etc but can&#39;t seem to find where I&#39;m making a mistake.\r\n\r\nI have the following entities:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;mp_item&quot;)\r\n    public class Item {\r\n\r\n\t@BatchFetch(value = BatchFetchType.JOIN)\r\n\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\r\n\tprivate ItemGroupSuggestion itemGroupSuggestion; \r\n    }\r\n\r\n\r\nChild:\r\n\r\n   \r\n\r\n     @Entity\r\n    @Table(name = &quot;mp_itemgroup_suggestion&quot;)\r\n    public class ItemGroupSuggestion  {\r\n\r\n\t@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;item_id&quot;)\r\n\tprivate Item item;\r\n\r\n\t\r\nWhen creating a suggestion I am setting the reference to the parent, and in the parent the reference to the child, like this:\r\n\r\n    ItemGroupSuggestion suggestion = new ItemGroupSuggestion(item, itemgroups, nearestItem);\r\n    // sets this.item = item inside constructor of ItemGroupSuggestion\r\n    item.setItemGroupSuggestion(suggestion);\r\n\r\n\r\n\r\nAfter setting the references, I do a batch-save:\r\n\r\n    itemService.saveAll(items);\r\n\r\nWhy are the children not getting persisted?\r\n\r\n\r\n\r\n","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>I'm having problems with automatically persisting my child entity when persisting the parent. I have followed guides etc but can't seem to find where I'm making a mistake.</p>\n<p>I have the following entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;mp_item&quot;)\npublic class Item {\n\n@BatchFetch(value = BatchFetchType.JOIN)\n@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\nprivate ItemGroupSuggestion itemGroupSuggestion; \n}\n</code></pre>\n<p>Child:</p>\n<pre><code> @Entity\n@Table(name = &quot;mp_itemgroup_suggestion&quot;)\npublic class ItemGroupSuggestion  {\n\n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;item_id&quot;)\nprivate Item item;\n</code></pre>\n<p>When creating a suggestion I am setting the reference to the parent, and in the parent the reference to the child, like this:</p>\n<pre><code>ItemGroupSuggestion suggestion = new ItemGroupSuggestion(item, itemgroups, nearestItem);\n// sets this.item = item inside constructor of ItemGroupSuggestion\nitem.setItemGroupSuggestion(suggestion);\n</code></pre>\n<p>After setting the references, I do a batch-save:</p>\n<pre><code>itemService.saveAll(items);\n</code></pre>\n<p>Why are the children not getting persisted?</p>\n"},{"tags":["java","digest-authentication"],"comments":[{"owner":{"account_id":16927701,"reputation":61,"user_id":12242894,"display_name":"Oussama Abouzid"},"score":0,"creation_date":1661435817,"post_id":73484721,"comment_id":129776173,"body_markdown":"any solution about this issue, I tried to create a header with authorization key but it did not work","body":"any solution about this issue, I tried to create a header with authorization key but it did not work"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1664521501,"post_id":73484721,"comment_id":130495088,"body_markdown":"Can you give more elaboration on &#39;header like postman&#39; part ?","body":"Can you give more elaboration on &#39;header like postman&#39; part ?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1664616675,"post_id":73484721,"comment_id":130515748,"body_markdown":"If you&#39;re talking about [this](https://en.wikipedia.org/wiki/Digest_access_authentication), you should have a realm and a nonce too. Is it the case?","body":"If you&#39;re talking about <a href=\"https://en.wikipedia.org/wiki/Digest_access_authentication\" rel=\"nofollow noreferrer\">this</a>, you should have a realm and a nonce too. Is it the case?"}],"answers":[{"tags":[],"owner":{"account_id":1332279,"reputation":337,"user_id":1275904,"display_name":"forrestg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964739,"creation_date":1664964739,"answer_id":73958900,"question_id":73484721,"body_markdown":"There&#39;re two key points, one is calculate the auth key, the other is pass key in request header. Depending on the service authentication method, you can read documentation of the service to do the calculation. I focus on later part, that you can pass the key in header like below:\r\n\r\n    import org.apache.hc.client5.http.classic.HttpClient;\r\n    import org.apache.hc.client5.http.classic.methods.HttpPost;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n    import org.apache.hc.core5.http.ContentType;\r\n    import org.apache.hc.core5.http.HttpEntity;\r\n    import org.apache.hc.core5.http.io.entity.StringEntity;\r\n    \r\n    public void post() throws IOException {\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\t\tString url = &quot;http://127.0.0.1:5050/vaccine/report&quot;;\r\n\t\tHttpPost post = new HttpPost(url);\r\n\t\tpost.addHeader(&quot;x-auth-token&quot;, &quot;computed value&quot;);\r\n\t\tString body = &quot;{\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;siteId\\&quot;:3,\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;injectCount\\&quot;:3,\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;email\\&quot;:\\&quot;yanghe@xyz.com\\&quot;\\n&quot; +\r\n\t\t\t\t&quot;}&quot;;\r\n\t\tHttpEntity entity = new StringEntity(body, ContentType.APPLICATION_JSON);\r\n\t\tpost.setEntity(entity);\r\n\r\n\t\tCloseableHttpResponse response = httpClient.execute(post);\r\n\r\n\t\tSystem.out.println(&quot;response code: &quot;+ response.getCode());\r\n\r\n\t\t\r\n\t}\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Create digest auth header","body":"<p>There're two key points, one is calculate the auth key, the other is pass key in request header. Depending on the service authentication method, you can read documentation of the service to do the calculation. I focus on later part, that you can pass the key in header like below:</p>\n<pre><code>import org.apache.hc.client5.http.classic.HttpClient;\nimport org.apache.hc.client5.http.classic.methods.HttpPost;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.core5.http.ContentType;\nimport org.apache.hc.core5.http.HttpEntity;\nimport org.apache.hc.core5.http.io.entity.StringEntity;\n\npublic void post() throws IOException {\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n    String url = &quot;http://127.0.0.1:5050/vaccine/report&quot;;\n    HttpPost post = new HttpPost(url);\n    post.addHeader(&quot;x-auth-token&quot;, &quot;computed value&quot;);\n    String body = &quot;{\\n&quot; +\n            &quot;    \\&quot;siteId\\&quot;:3,\\n&quot; +\n            &quot;    \\&quot;injectCount\\&quot;:3,\\n&quot; +\n            &quot;    \\&quot;email\\&quot;:\\&quot;yanghe@xyz.com\\&quot;\\n&quot; +\n            &quot;}&quot;;\n    HttpEntity entity = new StringEntity(body, ContentType.APPLICATION_JSON);\n    post.setEntity(entity);\n\n    CloseableHttpResponse response = httpClient.execute(post);\n\n    System.out.println(&quot;response code: &quot;+ response.getCode());\n\n    \n}\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665051931,"creation_date":1665051542,"answer_id":73972202,"question_id":73484721,"body_markdown":"No example like the [source example][1]. If you want to use request headers:\r\n\r\n1. Select the API Key option from the list in the request Authorization tab\r\n2. Enter your key in the dialogue box in front of “Key.”\r\n3. Enter the value corresponding to your key in the dialogue box in front of “value.”\r\n4. Select between Header and Query params from the list.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n This is what the `Postman` team are saying:\r\n\r\n\r\n\r\n&gt; &quot;This method of authorization is a little more complex than the\r\n&gt; methods mentioned above. In this method, the server sends some details\r\n&gt; when a client sends the first request to the API. During this time,\r\n&gt; the server generates an encrypted string using this passed data and\r\n&gt; stores it for future purposes. This data contains a “nonce” field ( a\r\n&gt; number that you can use only one time), other few details, and a 401\r\n&gt; unauthorized response.\r\n&gt; \r\n&gt; After receiving these details from the server, send an array of\r\n&gt; data(encrypted), which also contains username and password and the\r\n&gt; data that the server sent you in the first place.\r\n&gt; \r\n&gt; \r\n&gt; When you send the second request, the server matches the stored\r\n&gt; encrypted string with the data you sent in your request and decides\r\n&gt; whether to authenticate you.   Select Digest Auth from the dropdown\r\n&gt; list in the Authorization section of a request to use this method.&quot;\r\n\r\nAnd they provide exactly how to enter a digest request on Postman:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.codingninjas.com/codestudio/library/authorization-types-in-postman-including-no-auth-basic-auth-digest-auth-bearer-token-oauth\r\n  [2]: https://i.stack.imgur.com/sQmiE.png\r\n  [3]: https://i.stack.imgur.com/Tuio5.png","title":"Create digest auth header","body":"<p>No example like the <a href=\"https://www.codingninjas.com/codestudio/library/authorization-types-in-postman-including-no-auth-basic-auth-digest-auth-bearer-token-oauth\" rel=\"nofollow noreferrer\">source example</a>. If you want to use request headers:</p>\n<ol>\n<li>Select the API Key option from the list in the request Authorization tab</li>\n<li>Enter your key in the dialogue box in front of “Key.”</li>\n<li>Enter the value corresponding to your key in the dialogue box in front of “value.”</li>\n<li>Select between Header and Query params from the list.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/sQmiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQmiE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what the <code>Postman</code> team are saying:</p>\n<blockquote>\n<p>&quot;This method of authorization is a little more complex than the\nmethods mentioned above. In this method, the server sends some details\nwhen a client sends the first request to the API. During this time,\nthe server generates an encrypted string using this passed data and\nstores it for future purposes. This data contains a “nonce” field ( a\nnumber that you can use only one time), other few details, and a 401\nunauthorized response.</p>\n<p>After receiving these details from the server, send an array of\ndata(encrypted), which also contains username and password and the\ndata that the server sent you in the first place.</p>\n<p>When you send the second request, the server matches the stored\nencrypted string with the data you sent in your request and decides\nwhether to authenticate you.   Select Digest Auth from the dropdown\nlist in the Authorization section of a request to use this method.&quot;</p>\n</blockquote>\n<p>And they provide exactly how to enter a digest request on Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Tuio5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tuio5.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16927701,"reputation":61,"user_id":12242894,"display_name":"Oussama Abouzid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1665051931,"creation_date":1661418020,"question_id":73484721,"body_markdown":"I want to create a header in order to get a resource from a web service which is protected by a digest auth, I have the login and password but I did not find the right way to create this header like postman.","title":"Create digest auth header","body":"<p>I want to create a header in order to get a resource from a web service which is protected by a digest auth, I have the login and password but I did not find the right way to create this header like postman.</p>\n"},{"tags":["java","spring","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":1133506,"reputation":591,"user_id":1119046,"accept_rate":80,"display_name":"Nazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380291829,"creation_date":1380291829,"answer_id":19053187,"question_id":16166951,"body_markdown":"If you are using MSSQL please add such Quartz Properties to the SchedulerFactoryBean:\r\n\r\n    org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\r\n    org.quartz.jobStore.selectWithLockSQL=select lock_name from {0}locks with (updlock,rowlock) where lock_name=?","title":"Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39;","body":"<p>If you are using MSSQL please add such Quartz Properties to the SchedulerFactoryBean:</p>\n\n<pre><code>org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\norg.quartz.jobStore.selectWithLockSQL=select lock_name from {0}locks with (updlock,rowlock) where lock_name=?\n</code></pre>\n"}],"owner":{"account_id":2084143,"reputation":265,"user_id":1855466,"accept_rate":36,"display_name":"Swapnil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665051918,"creation_date":1366712710,"question_id":16166951,"body_markdown":"I am using Spring 3.0.5 and Quartz 1.8.3 and I am getting exceptions in SchedulerFactoryBean\r\nCan someone help me with this? with Quartz 1.8.6 also its not working\r\n\r\nI have following configuration\r\n\r\n    &lt;bean name=&quot;dailyScheduleBean&quot; class=&quot;com.abc.quartz.ComputeAndScheduleAlert&quot; /&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;dailyQuartzJob&quot;\r\n\t\tclass=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;targetObject&quot; ref=&quot;dailyScheduleBean&quot; /&gt;\r\n\t\t&lt;property name=&quot;targetMethod&quot; value=&quot;computeScheduleAlert&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;simpleTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerBean&quot;&gt;\r\n    &lt;!-- see the example of method invoking job above --&gt;\r\n    &lt;property name=&quot;jobDetail&quot; ref=&quot;dailyQuartzJob&quot; /&gt;\r\n    &lt;!-- 10 seconds --&gt;\r\n    &lt;property name=&quot;startDelay&quot; value=&quot;10000&quot; /&gt;\r\n    &lt;!-- repeat every 50 seconds --&gt;\r\n    &lt;property name=&quot;repeatInterval&quot; value=&quot;50000&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;dailyTrigger&quot; class=&quot;org.springframework.scheduling.quartz.CronTriggerBean&quot;&gt;\r\n\t\t&lt;property name=&quot;jobDetail&quot; ref=&quot;dailyQuartzJob&quot; /&gt;\r\n\t\t&lt;!-- run every morning at 00:05 AM CST --&gt;\r\n\t\t&lt;property name=&quot;cronExpression&quot; value=&quot;0 05 11 ? JAN-DEC SUN-SAT&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;triggers&quot;&gt;\r\n\t\t\t&lt;list&gt;\t\t\t\r\n \t\t\t\t&lt;ref bean=&quot;dailyTrigger&quot; /&gt;  \t\t\t\t\r\n \t\t\t\t&lt;ref bean=&quot;simpleTrigger&quot; /&gt; \r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n==============================================================================================================\r\n\r\nFollowing is Full Stack Trace\r\n\r\n    %[main] ERROR org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39; defined in ServletContext resource [/WEB-INF/hmpn-mvc-dispatcher-servlet.xml]: Invocation of init method failed; nested exception is org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:212)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4420)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4733)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1315)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1061)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n    Caused by: org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:607)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreCMT.initialize(JobStoreCMT.java:142)\r\n    \tat org.springframework.scheduling.quartz.LocalDataSourceJobStore.initialize(LocalDataSourceJobStore.java:151)\r\n    \tat org.quartz.impl.StdSchedulerFactory.instantiate(StdSchedulerFactory.java:1269)\r\n    \tat org.quartz.impl.StdSchedulerFactory.getScheduler(StdSchedulerFactory.java:1460)\r\n    \tat org.springframework.scheduling.quartz.SchedulerFactoryBean.createScheduler(SchedulerFactoryBean.java:600)\r\n    \tat org.springframework.scheduling.quartz.SchedulerFactoryBean.afterPropertiesSet(SchedulerFactoryBean.java:481)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \t... 41 more\r\n    Caused by: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]\r\n    \tat org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:109)\r\n    \tat org.quartz.impl.jdbcjobstore.DBSemaphore.obtainLock(DBSemaphore.java:112)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3756)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3725)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.cleanVolatileTriggerAndJobs(JobStoreSupport.java:747)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:605)\r\n    \t... 49 more\r\n    Caused by: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.\r\n    \tat net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:368)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2820)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2258)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:632)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:477)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\r\n    \tat org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:89)\r\n    \t... 54 more\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-5] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-8] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-4] DEBUG org.quartz.simpl.SimpleThreadPool  - \r\n    WorkerThread is shut down.\r\n","title":"Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39;","body":"<p>I am using Spring 3.0.5 and Quartz 1.8.3 and I am getting exceptions in SchedulerFactoryBean\nCan someone help me with this? with Quartz 1.8.6 also its not working</p>\n\n<p>I have following configuration</p>\n\n<pre><code>&lt;bean name=\"dailyScheduleBean\" class=\"com.abc.quartz.ComputeAndScheduleAlert\" /&gt;\n\n\n&lt;bean id=\"dailyQuartzJob\"\n    class=\"org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean\"&gt;\n    &lt;property name=\"targetObject\" ref=\"dailyScheduleBean\" /&gt;\n    &lt;property name=\"targetMethod\" value=\"computeScheduleAlert\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleTrigger\" class=\"org.springframework.scheduling.quartz.SimpleTriggerBean\"&gt;\n&lt;!-- see the example of method invoking job above --&gt;\n&lt;property name=\"jobDetail\" ref=\"dailyQuartzJob\" /&gt;\n&lt;!-- 10 seconds --&gt;\n&lt;property name=\"startDelay\" value=\"10000\" /&gt;\n&lt;!-- repeat every 50 seconds --&gt;\n&lt;property name=\"repeatInterval\" value=\"50000\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"dailyTrigger\" class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\n    &lt;property name=\"jobDetail\" ref=\"dailyQuartzJob\" /&gt;\n    &lt;!-- run every morning at 00:05 AM CST --&gt;\n    &lt;property name=\"cronExpression\" value=\"0 05 11 ? JAN-DEC SUN-SAT\" /&gt;\n&lt;/bean&gt;\n&lt;bean class=\"org.springframework.scheduling.quartz.SchedulerFactoryBean\"&gt;\n    &lt;property name=\"triggers\"&gt;\n        &lt;list&gt;          \n            &lt;ref bean=\"dailyTrigger\" /&gt;                 \n            &lt;ref bean=\"simpleTrigger\" /&gt; \n        &lt;/list&gt;\n    &lt;/property&gt;\n</code></pre>\n\n<h1>    </h1>\n\n<p>Following is Full Stack Trace</p>\n\n<pre><code>%[main] ERROR org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.scheduling.quartz.SchedulerFactoryBean#0' defined in ServletContext resource [/WEB-INF/hmpn-mvc-dispatcher-servlet.xml]: Invocation of init method failed; nested exception is org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:212)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4420)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4733)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1315)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1061)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:607)\n    at org.quartz.impl.jdbcjobstore.JobStoreCMT.initialize(JobStoreCMT.java:142)\n    at org.springframework.scheduling.quartz.LocalDataSourceJobStore.initialize(LocalDataSourceJobStore.java:151)\n    at org.quartz.impl.StdSchedulerFactory.instantiate(StdSchedulerFactory.java:1269)\n    at org.quartz.impl.StdSchedulerFactory.getScheduler(StdSchedulerFactory.java:1460)\n    at org.springframework.scheduling.quartz.SchedulerFactoryBean.createScheduler(SchedulerFactoryBean.java:600)\n    at org.springframework.scheduling.quartz.SchedulerFactoryBean.afterPropertiesSet(SchedulerFactoryBean.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n    ... 41 more\nCaused by: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]\n    at org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:109)\n    at org.quartz.impl.jdbcjobstore.DBSemaphore.obtainLock(DBSemaphore.java:112)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3756)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3725)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.cleanVolatileTriggerAndJobs(JobStoreSupport.java:747)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:605)\n    ... 49 more\nCaused by: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.\n    at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:368)\n    at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2820)\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2258)\n    at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:632)\n    at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:477)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\n    at org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:89)\n    ... 54 more\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-5] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-8] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-4] DEBUG org.quartz.simpl.SimpleThreadPool  - \nWorkerThread is shut down.\n</code></pre>\n"},{"tags":["java","recursion","tree","stack-overflow"],"answers":[{"comments":[{"owner":{"account_id":2843069,"reputation":349,"user_id":2442218,"display_name":"MattArmstrong"},"score":0,"creation_date":1665050752,"post_id":46683509,"comment_id":130610530,"body_markdown":"You can always transform recursion to a loop but must often also use a stack.  Since the stack overflow here is a problem, a naive translation of a recursive algorithm into a stack based loop may also run into memory problems.  The root issue is that splay trees can become arbitrarily unbalanced.","body":"You can always transform recursion to a loop but must often also use a stack.  Since the stack overflow here is a problem, a naive translation of a recursive algorithm into a stack based loop may also run into memory problems.  The root issue is that splay trees can become arbitrarily unbalanced."}],"tags":[],"owner":{"account_id":2976774,"reputation":500,"user_id":2527678,"display_name":"Sorontur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507710834,"creation_date":1507710834,"answer_id":46683509,"question_id":46683166,"body_markdown":"Your poblem is the recursive algorithm. As you figured out there is a limit in the stack size, which is build when you have recursion.\r\n\r\nYou can always transform recursion to a loop. \r\n\r\nhere are some examples for DFS and BFS algorithms using loops: https://stackoverflow.com/questions/5278580/non-recursive-depth-first-search-algorithm ","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>Your poblem is the recursive algorithm. As you figured out there is a limit in the stack size, which is build when you have recursion.</p>\n\n<p>You can always transform recursion to a loop. </p>\n\n<p>here are some examples for DFS and BFS algorithms using loops: <a href=\"https://stackoverflow.com/questions/5278580/non-recursive-depth-first-search-algorithm\">Non recursive Depth first search algorithm</a> </p>\n"},{"tags":[],"owner":{"account_id":10300271,"reputation":612,"user_id":7599197,"display_name":"niemar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507711125,"creation_date":1507711125,"answer_id":46683600,"question_id":46683166,"body_markdown":"You can increase the stack’s size. To do it you have to pass parameter to the jvm.\r\nThe format is -Xss&lt;size&gt;[g|G|m|M|k|K].\r\nFor example: java -Xss4m YourTreeProgram","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>You can increase the stack’s size. To do it you have to pass parameter to the jvm.\nThe format is -Xss[g|G|m|M|k|K].\nFor example: java -Xss4m YourTreeProgram</p>\n"},{"tags":[],"owner":{"account_id":2843069,"reputation":349,"user_id":2442218,"display_name":"MattArmstrong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665051253,"creation_date":1665051253,"answer_id":73972142,"question_id":46683166,"body_markdown":"The root issue is that splay trees can have a height equal to their node count, so the recursive algorithms you often see applied to binary trees are risky when applied to splay trees.\r\n\r\nThe easiest approach is to splay the tree as you go.\r\n\r\n1. Find the tree&#39;s minimum node.  Simply follow the &quot;left&quot; links from the root all the way until they are null.  Splay this node to the root, then add it to your list.\r\n2. Find its successor.  I.e. follow the root&#39;s &quot;right&quot; link once, then follow &quot;left&quot; repeatedly until null.  Splay that node to the root, then add it to your list.\r\n3. Repeat step 2 until there is no successor (i.e. the root&#39;s &quot;right&quot; link is null).\r\n\r\nFinding the minimum and successor nodes are no different from other kinds of trees.","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>The root issue is that splay trees can have a height equal to their node count, so the recursive algorithms you often see applied to binary trees are risky when applied to splay trees.</p>\n<p>The easiest approach is to splay the tree as you go.</p>\n<ol>\n<li>Find the tree's minimum node.  Simply follow the &quot;left&quot; links from the root all the way until they are null.  Splay this node to the root, then add it to your list.</li>\n<li>Find its successor.  I.e. follow the root's &quot;right&quot; link once, then follow &quot;left&quot; repeatedly until null.  Splay that node to the root, then add it to your list.</li>\n<li>Repeat step 2 until there is no successor (i.e. the root's &quot;right&quot; link is null).</li>\n</ol>\n<p>Finding the minimum and successor nodes are no different from other kinds of trees.</p>\n"}],"owner":{"account_id":11968199,"reputation":113,"user_id":8757299,"display_name":"Yanzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1665051253,"creation_date":1507709777,"question_id":46683166,"body_markdown":"I have implemented a Splay Tree class that uses nodes to store data. In this class I have tried to convert the data of nodes into a Singly Linked List. 1,000,000 nodes can be inserted into the splay tree and it works perfectly. Using recursion I get a StackOverFlow error when the tree contains 1,000,000 nodes. However when the tree contains around 15000 nodes it is able to be converted to a linked list without a problem.\r\n\r\nHere is the code for my toList Method that is inside the splay tree class\r\n\r\n    public LinkedList&lt;Node&gt; toList() {\r\n\r\n       LinkedList&lt;Node&gt; list = new LinkedList&lt;Node&gt;();\r\n       Node node = root;\r\n       addToList(node, list);\r\n\r\n       return list;\r\n    }\r\n\r\n    private void addToList(Node node, LinkedList&lt;Node&gt; list) {\r\n       if(node != null) {\r\n          addToList(node.left, list);\r\n          list.add(node);\r\n          addToList(node.right, list);\r\n       }\r\n    }\r\n\r\nI used this test class below to test the function of this method\r\n\r\n    @Test\r\n    public void testConversionToLinkedList {\r\n       SplayTree&lt;Integer,String&gt; st = new SplayTree&lt;Integer,String&gt;();\r\n       for(int i = 0; i &lt; 1000000; i++) {\r\n          st.insert(i, Integer.toString(i));\r\n       }\r\n       assertEquals(1000000, st.size());\r\n       \r\n       LinkedList&lt;Node&gt; list = st.toList();\r\n       assertEquals(1000000, list.size());\r\n    }\r\n\r\n  The test passes when the size entered is around 15000, however any number greater than that will show a StackOverFlowError\r\n\r\nThe error occurs at the line `addToList(node.left, list);`\r\n\r\nThis is really weird because when i used the same recursion technique to print the data of the nodes into a txt file, there is no StackOverFlow error and the data prints perfectly.\r\n\r\nI have tried to use In Order Traversal, PreOrder and PostOrder but I still receive the same error at 1,000,000 nodes. I do know that it could be doing recursion too deeply and the stack runs out of memory. If that is the case is there any way I can convert a splay tree of nodes into a linked list?\r\nAny idea what could be going wrong? cheers","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>I have implemented a Splay Tree class that uses nodes to store data. In this class I have tried to convert the data of nodes into a Singly Linked List. 1,000,000 nodes can be inserted into the splay tree and it works perfectly. Using recursion I get a StackOverFlow error when the tree contains 1,000,000 nodes. However when the tree contains around 15000 nodes it is able to be converted to a linked list without a problem.</p>\n\n<p>Here is the code for my toList Method that is inside the splay tree class</p>\n\n<pre><code>public LinkedList&lt;Node&gt; toList() {\n\n   LinkedList&lt;Node&gt; list = new LinkedList&lt;Node&gt;();\n   Node node = root;\n   addToList(node, list);\n\n   return list;\n}\n\nprivate void addToList(Node node, LinkedList&lt;Node&gt; list) {\n   if(node != null) {\n      addToList(node.left, list);\n      list.add(node);\n      addToList(node.right, list);\n   }\n}\n</code></pre>\n\n<p>I used this test class below to test the function of this method</p>\n\n<pre><code>@Test\npublic void testConversionToLinkedList {\n   SplayTree&lt;Integer,String&gt; st = new SplayTree&lt;Integer,String&gt;();\n   for(int i = 0; i &lt; 1000000; i++) {\n      st.insert(i, Integer.toString(i));\n   }\n   assertEquals(1000000, st.size());\n\n   LinkedList&lt;Node&gt; list = st.toList();\n   assertEquals(1000000, list.size());\n}\n</code></pre>\n\n<p>The test passes when the size entered is around 15000, however any number greater than that will show a StackOverFlowError</p>\n\n<p>The error occurs at the line <code>addToList(node.left, list);</code></p>\n\n<p>This is really weird because when i used the same recursion technique to print the data of the nodes into a txt file, there is no StackOverFlow error and the data prints perfectly.</p>\n\n<p>I have tried to use In Order Traversal, PreOrder and PostOrder but I still receive the same error at 1,000,000 nodes. I do know that it could be doing recursion too deeply and the stack runs out of memory. If that is the case is there any way I can convert a splay tree of nodes into a linked list?\nAny idea what could be going wrong? cheers</p>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"answers":[{"comments":[{"owner":{"account_id":15138562,"reputation":63,"user_id":10924307,"display_name":"Kiran George"},"score":1,"creation_date":1665053171,"post_id":73971855,"comment_id":130611385,"body_markdown":"What&#39;s the computer vision library it is using. I&#39;m unable to import those:\n\nimport com.google.ar.core.examples.java.computervision.rendering.BackgroundRenderer;","body":"What&#39;s the computer vision library it is using. I&#39;m unable to import those:  import com.google.ar.core.examples.java.computervision.rendering.Ba&zwnj;&#8203;ckgroundRenderer;"},{"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1665072743,"post_id":73971855,"comment_id":130619187,"body_markdown":"`computervision` is the name of the project (not the name of a library). Also, it&#39;s hard to tell what renderer was used. But its setup is here – https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/rendering/BackgroundRenderer.java","body":"<code>computervision</code> is the name of the project (not the name of a library). Also, it&#39;s hard to tell what renderer was used. But its setup is here – <a href=\"https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/rendering/BackgroundRenderer.java\" rel=\"nofollow noreferrer\">chromium.googlesource.com/external/github.com/google-ar/&hellip;</a>"}],"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665051203,"creation_date":1665049988,"answer_id":73971855,"question_id":73970615,"body_markdown":"I&#39;ve found an example demonstrating ARCore texture&#39;s reading app that implements `GLSurfaceView` and its renderer. Due to the fact that the code takes almost 300 lines, I&#39;m posting a [link][1] to it.\r\n\r\n    class MainActivity extends AppCompatActivity implements GLSurfaceView.Renderer {\r\n\r\n        private GLSurfaceView surfaceView;\r\n        private Session session;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            surfaceView = (GLSurfaceView) findViewById(R.id.surfaceview);\r\n\r\n            // some code...\r\n\r\n            surfaceView.setRenderer(this);\r\n            surfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n\r\n            if (session == null) {\r\n                if (!CameraPermissionHelper.hasCameraPermission(this)) {\r\n                    CameraPermissionHelper.requestCameraPermission(this);\r\n                    return;\r\n                }\r\n                session = new Session(/* some context= */ this);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/MainActivity.java","title":"How to use SurfaceView in ARCore to get the Pose of the camera","body":"<p>I've found an example demonstrating ARCore texture's reading app that implements <code>GLSurfaceView</code> and its renderer. Due to the fact that the code takes almost 300 lines, I'm posting a <a href=\"https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/MainActivity.java\" rel=\"nofollow noreferrer\">link</a> to it.</p>\n<pre><code>class MainActivity extends AppCompatActivity implements GLSurfaceView.Renderer {\n\n    private GLSurfaceView surfaceView;\n    private Session session;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        surfaceView = (GLSurfaceView) findViewById(R.id.surfaceview);\n\n        // some code...\n\n        surfaceView.setRenderer(this);\n        surfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (session == null) {\n            if (!CameraPermissionHelper.hasCameraPermission(this)) {\n                CameraPermissionHelper.requestCameraPermission(this);\n                return;\n            }\n            session = new Session(/* some context= */ this);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15138562,"reputation":63,"user_id":10924307,"display_name":"Kiran George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665051203,"creation_date":1665044236,"question_id":73970615,"body_markdown":"I&#39;m trying to create a camera application which saves the camera position along with each image captured. I&#39;m new to Android Studio and ARCore.\r\n\r\nI created a camera app using Android Studio tutorial, then tried to use the Pose class inside the app. But it gives me an error saying that it requires and OpenGL context. I then realized that I have to use SurfaceView instead of PreviewView for Pose to work. But I don&#39;t get how to use it properly even after reading the documentation. Please help me out.\r\n","title":"How to use SurfaceView in ARCore to get the Pose of the camera","body":"<p>I'm trying to create a camera application which saves the camera position along with each image captured. I'm new to Android Studio and ARCore.</p>\n<p>I created a camera app using Android Studio tutorial, then tried to use the Pose class inside the app. But it gives me an error saying that it requires and OpenGL context. I then realized that I have to use SurfaceView instead of PreviewView for Pose to work. But I don't get how to use it properly even after reading the documentation. Please help me out.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1665052396,"post_id":73971160,"comment_id":130611098,"body_markdown":"Do you have the table `r_db.TableBase` ? What hibernate version do you use?","body":"Do you have the table <code>r_db.TableBase</code> ? What hibernate version do you use?"},{"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"score":0,"creation_date":1665058927,"post_id":73971160,"comment_id":130613431,"body_markdown":"@SternK i have TableBase table and my hibernate version 3","body":"@SternK i have TableBase table and my hibernate version 3"}],"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665050874,"creation_date":1665046961,"question_id":73971160,"body_markdown":"I am trying to get data from 2 db table which have same columns in both tables\r\n\r\nFor that am trying following but getting Exception as \r\n\r\n \r\n\r\n       \r\n    - (conn:106433) Table &#39;r_db.TableBase&#39; doesn&#39;t exist\r\n        01:42:54,706 ERROR TableBaseEAO:67 - ::::::::EXCEPTION    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\r\n    \r\nI am not using any column called clazz_\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public class TableBase {\r\n    \r\n            @Id\r\n            @Column(name=&quot;NAME&quot;)\r\n            private String name;\r\n    \r\n            @Column(name=&quot;PHONE&quot;)\r\n            private String phoneNumber;\r\n    \r\n    \r\n            public String getPhoneNumber() {\r\n                    return phoneNumber;\r\n            }\r\n    \r\n            public void setPhoneNumber(String phone) {\r\n                    this.phoneNumber = phone;\r\n            }\r\n    }\r\n\r\nMy entity class for table1\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE_1&quot;)\r\n    public class Table1 extends TableBase {}\r\n\r\nEntity class for table 2\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE_2&quot;)\r\n    public class Table2 extends TableBase {}\r\n\r\nfollowing code is to get data in to the list from my 2 db tables\r\n\r\n\r\n    public ArrayList&lt;TableBase&gt; getUsers(){\r\n        AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\r\n        appEntMgr.startTransaction();\r\n        return (ArrayList&lt;TableBase&gt;) appEntMgr.createQuery(&quot;select e from TableBase e&quot;)\r\n                    .setFirstResult(0)\r\n                    .setMaxResults(10)\r\n                    .getResultList();\r\n    }","title":"Getting Exception while getting data from 2 db tables with TABLE_PER_CLASS Inheritance","body":"<p>I am trying to get data from 2 db table which have same columns in both tables</p>\n<p>For that am trying following but getting Exception as</p>\n<pre><code>- (conn:106433) Table 'r_db.TableBase' doesn't exist\n    01:42:54,706 ERROR TableBaseEAO:67 - ::::::::EXCEPTION    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not execute query\n</code></pre>\n<p>I am not using any column called clazz_</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class TableBase {\n\n        @Id\n        @Column(name=&quot;NAME&quot;)\n        private String name;\n\n        @Column(name=&quot;PHONE&quot;)\n        private String phoneNumber;\n\n\n        public String getPhoneNumber() {\n                return phoneNumber;\n        }\n\n        public void setPhoneNumber(String phone) {\n                this.phoneNumber = phone;\n        }\n}\n</code></pre>\n<p>My entity class for table1</p>\n<pre><code>@Entity\n@Table(name=&quot;TABLE_1&quot;)\npublic class Table1 extends TableBase {}\n</code></pre>\n<p>Entity class for table 2</p>\n<pre><code>@Entity\n@Table(name=&quot;TABLE_2&quot;)\npublic class Table2 extends TableBase {}\n</code></pre>\n<p>following code is to get data in to the list from my 2 db tables</p>\n<pre><code>public ArrayList&lt;TableBase&gt; getUsers(){\n    AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\n    appEntMgr.startTransaction();\n    return (ArrayList&lt;TableBase&gt;) appEntMgr.createQuery(&quot;select e from TableBase e&quot;)\n                .setFirstResult(0)\n                .setMaxResults(10)\n                .getResultList();\n}\n</code></pre>\n"},{"tags":["java","unit-testing","quarkus"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1568110441,"post_id":57868543,"comment_id":102162133,"body_markdown":"The `@Mock` annotation is used for automatically initializing mocks (either by a suitable testrunner, or calling `Mockito.initMocks(this)`). You don&#39;t need `@Mock` and `Mockito.mock()`, you need just one of them.","body":"The <code>@Mock</code> annotation is used for automatically initializing mocks (either by a suitable testrunner, or calling <code>Mockito.initMocks(this)</code>). You don&#39;t need <code>@Mock</code> and <code>Mockito.mock()</code>, you need just one of them."},{"owner":{"account_id":16667743,"reputation":51,"user_id":12045995,"display_name":"cstdev"},"score":0,"creation_date":1568111008,"post_id":57868543,"comment_id":102162411,"body_markdown":"@Kayaman OK, without it I&#39;m unable to do a Mockito.When(myClass.Method()) as myClass is null? And the mock isn&#39;t injected into the constructor, it&#39;s my actual implementation that is.","body":"@Kayaman OK, without it I&#39;m unable to do a Mockito.When(myClass.Method()) as myClass is null? And the mock isn&#39;t injected into the constructor, it&#39;s my actual implementation that is."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1568111172,"post_id":57868543,"comment_id":102162503,"body_markdown":"Don&#39;t inject it if you&#39;re trying to mock it. Or mock it separately for a test if you only want to use mock for a single test.","body":"Don&#39;t inject it if you&#39;re trying to mock it. Or mock it separately for a test if you only want to use mock for a single test."},{"owner":{"account_id":16667743,"reputation":51,"user_id":12045995,"display_name":"cstdev"},"score":0,"creation_date":1568111984,"post_id":57868543,"comment_id":102162895,"body_markdown":"@Kayaman Maybe it&#39;s more of a REST-assured question than anything, I need to mock the service class that the endpoint it calls uses. I&#39;ve updated the question to show what I mean, hopefully. And perhaps it&#39;s not the right tool for the job/method to do this. I could construct the Controller and pass in my mock, it&#39;s how I&#39;d normally do it. Was just trying to use Rest assured.","body":"@Kayaman Maybe it&#39;s more of a REST-assured question than anything, I need to mock the service class that the endpoint it calls uses. I&#39;ve updated the question to show what I mean, hopefully. And perhaps it&#39;s not the right tool for the job/method to do this. I could construct the Controller and pass in my mock, it&#39;s how I&#39;d normally do it. Was just trying to use Rest assured."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1568113377,"post_id":57868543,"comment_id":102163597,"body_markdown":"If you end up calling the real instances, then your mocks aren&#39;t where you think they are. Your example code seems to mock `InputPart` and `tableExtractorServiceMock`, but maybe you&#39;re not injecting them to the places they&#39;re used?","body":"If you end up calling the real instances, then your mocks aren&#39;t where you think they are. Your example code seems to mock <code>InputPart</code> and <code>tableExtractorServiceMock</code>, but maybe you&#39;re not injecting them to the places they&#39;re used?"},{"owner":{"account_id":233150,"reputation":4218,"user_id":498457,"accept_rate":52,"display_name":"Christoph Grimmer"},"score":0,"creation_date":1568706020,"post_id":57868543,"comment_id":102349143,"body_markdown":"Sadly you are not showing your test class. Is it annotated with `@QuarkusTest`?","body":"Sadly you are not showing your test class. Is it annotated with <code>@QuarkusTest</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1596824822,"post_id":63303544,"comment_id":111945362,"body_markdown":"While the links are helpful in the event they change the answer will be worthless.  Can you summarize the important parts?","body":"While the links are helpful in the event they change the answer will be worthless.  Can you summarize the important parts?"}],"tags":[],"owner":{"account_id":3452357,"reputation":21,"user_id":2891713,"display_name":"Jo&#227;o Lucas Scharf"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596809500,"creation_date":1596809500,"answer_id":63303544,"question_id":57868543,"body_markdown":"According [Quarkus test documentation](https://quarkus.io/guides/getting-started-testing), you can do it usingo [@QuarkusMock](https://quarkus.io/guides/getting-started-testing#mocking-using-quarkusmock) or [@InjectMock](https://quarkus.io/guides/getting-started-testing#further-simplification-with-injectmock).\r\n\r\n","title":"How to inject mock for only one test case with Quarkus/RestAssured","body":"<p>According <a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">Quarkus test documentation</a>, you can do it usingo <a href=\"https://quarkus.io/guides/getting-started-testing#mocking-using-quarkusmock\" rel=\"nofollow noreferrer\">@QuarkusMock</a> or <a href=\"https://quarkus.io/guides/getting-started-testing#further-simplification-with-injectmock\" rel=\"nofollow noreferrer\">@InjectMock</a>.</p>\n"},{"comments":[{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":1,"creation_date":1665050342,"post_id":68621673,"comment_id":130610348,"body_markdown":"This is no longer correct. Mocks can be global or per-test, although a slightly different mechanism is used.","body":"This is no longer correct. Mocks can be global or per-test, although a slightly different mechanism is used."}],"tags":[],"owner":{"account_id":13549778,"reputation":21,"user_id":9774952,"display_name":"Ankush"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627907539,"creation_date":1627907539,"answer_id":68621673,"question_id":57868543,"body_markdown":"It can&#39;t be done. Quarkus documentation explains the issue:-\r\n\r\nAlthough this mechanism is fairly straightforward to use, it nonetheless suffers from a few problems:\r\n\r\nA new class (or a new CDI producer method) needs to be used for each bean type that requires a mock. In a large application where a lot of mocks are needed, the amount of boilerplate code increases unacceptably.\r\n\r\nThere is no way for a mock to be used for certain tests only. This is due to the fact that beans that are annotated with @Mock are normal CDI beans (and are therefore used throughout the application). Depending on what needs to be tested, this can be very problematic.\r\n\r\nThere is a no out of the box integration with Mockito, which is the de-facto standard for mocking in Java applications. Users can certainly use Mockito (most commonly by using a CDI producer method), but there is boilerplate code involved.\r\n\r\nLink for reference: https://quarkus.io/blog/mocking/","title":"How to inject mock for only one test case with Quarkus/RestAssured","body":"<p>It can't be done. Quarkus documentation explains the issue:-</p>\n<p>Although this mechanism is fairly straightforward to use, it nonetheless suffers from a few problems:</p>\n<p>A new class (or a new CDI producer method) needs to be used for each bean type that requires a mock. In a large application where a lot of mocks are needed, the amount of boilerplate code increases unacceptably.</p>\n<p>There is no way for a mock to be used for certain tests only. This is due to the fact that beans that are annotated with @Mock are normal CDI beans (and are therefore used throughout the application). Depending on what needs to be tested, this can be very problematic.</p>\n<p>There is a no out of the box integration with Mockito, which is the de-facto standard for mocking in Java applications. Users can certainly use Mockito (most commonly by using a CDI producer method), but there is boilerplate code involved.</p>\n<p>Link for reference: <a href=\"https://quarkus.io/blog/mocking/\" rel=\"nofollow noreferrer\">https://quarkus.io/blog/mocking/</a></p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665050855,"creation_date":1665050855,"answer_id":73972046,"question_id":57868543,"body_markdown":"As @Ankush said, a class annotated with the @Mock annotation is using the CDI `@Alternative` mechanism, and will be global. [`@QuarkusTestProfile`s](https://quarkus.io/blog/quarkus-test-profiles/) can be used to define CDI `@Alternative`s for groups of tests. \r\n\r\nFor example, instead of annotating the mock with `@Mock`, it could be referenced in a test profile as \r\n\r\n```\r\n    default Set&lt;Class&lt;?&gt;&gt; getEnabledAlternatives() {\r\n        return Set.of(MyMockThing.class);\r\n    }\r\n```\r\n\r\nAny test annotatated with the \r\n\r\n```\r\n@TestProfile(MyMockyTestProfile.class)\r\n```\r\n\r\nprofile would get those mocks, while others would use the original implementation. \r\n\r\nWhat may be a simpler method is to just use `@InjectMock`. For example, in the test class, declaring a field like this:\r\n\r\n```\r\n    @InjectMock\r\n    MyThing mock;\r\n```\r\n\r\nwill ensure that mock is used by the classes under test, just for this test. \r\n\r\nFor rest clients, it will also be necessary to add a `@RestClient` annotation, and if the original implementation is a singleton, `convertscopes` can be used to coax the scopes into something mockable. \r\n\r\n```\r\n    @RestClient\r\n    @InjectMock(convertScopes = true)\r\n    MyThing mock;\r\n```\r\n\r\nBehaviour can be added to the injected mock in `@BeforeEach` or `@BeforeAll` methods. For example \r\n\r\n```\r\n    @BeforeEach\r\n    public void setup() {\r\n        when(mock.someMethod()).thenReturn(&quot;some value&quot;);\r\n    }\r\n```","title":"How to inject mock for only one test case with Quarkus/RestAssured","body":"<p>As @Ankush said, a class annotated with the @Mock annotation is using the CDI <code>@Alternative</code> mechanism, and will be global. <a href=\"https://quarkus.io/blog/quarkus-test-profiles/\" rel=\"nofollow noreferrer\"><code>@QuarkusTestProfile</code>s</a> can be used to define CDI <code>@Alternative</code>s for groups of tests.</p>\n<p>For example, instead of annotating the mock with <code>@Mock</code>, it could be referenced in a test profile as</p>\n<pre><code>    default Set&lt;Class&lt;?&gt;&gt; getEnabledAlternatives() {\n        return Set.of(MyMockThing.class);\n    }\n</code></pre>\n<p>Any test annotatated with the</p>\n<pre><code>@TestProfile(MyMockyTestProfile.class)\n</code></pre>\n<p>profile would get those mocks, while others would use the original implementation.</p>\n<p>What may be a simpler method is to just use <code>@InjectMock</code>. For example, in the test class, declaring a field like this:</p>\n<pre><code>    @InjectMock\n    MyThing mock;\n</code></pre>\n<p>will ensure that mock is used by the classes under test, just for this test.</p>\n<p>For rest clients, it will also be necessary to add a <code>@RestClient</code> annotation, and if the original implementation is a singleton, <code>convertscopes</code> can be used to coax the scopes into something mockable.</p>\n<pre><code>    @RestClient\n    @InjectMock(convertScopes = true)\n    MyThing mock;\n</code></pre>\n<p>Behaviour can be added to the injected mock in <code>@BeforeEach</code> or <code>@BeforeAll</code> methods. For example</p>\n<pre><code>    @BeforeEach\n    public void setup() {\n        when(mock.someMethod()).thenReturn(&quot;some value&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":16667743,"reputation":51,"user_id":12045995,"display_name":"cstdev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12113,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1665050855,"creation_date":1568110194,"question_id":57868543,"body_markdown":"I&#39;m attempting to test a REST controller (using Quarkus) endpoint using rest assured. I want to mock a class that is injected into that controller (ideally with Mockio), but only for one of my tests. Or get different behaviour per test case without having to have separate classes for each test.  I&#39;m not sure how to do this?\r\n\r\nI&#39;ve seen doing it the way from the documentation:\r\n\r\n```\r\n@Mock\r\n@ApplicationScoped \r\npublic class MockExternalService extends ExternalService {\r\n\r\n    @Override\r\n    public String service() {\r\n        return &quot;mock&quot;;\r\n    }\r\n}\r\n```\r\n\r\nBut this would only allow me to use one mock for all tests and not mock certain behaviours based on tests as I would with Mockito. I think?\r\n\r\nI&#39;ve tried creating a mock and annotating it with @Mock\r\n```\r\n    @Mock\r\n    public TableExtractorService tableExtractorServiceMock = Mockito.mock(TableExtractorService.class);;\r\n```\r\n\r\nbut I still get my real implementation when I use it. I&#39;m using a constructor annotated with @Inject in my Controller that takes the TableExtractorService. \r\n\r\n\r\n\r\nFor a bit more information my test using restassured looks like this:\r\n```\r\nInputPart filePart = Mockito.mock(InputPart.class);\r\nMockito.when(tableExtractorServiceMock.Extract(anyObject()))\r\n       .thenThrow(IOException.class);\r\n        \r\nfinal InputStream inputStream = filePart.getBody(InputStream.class, null);\r\n\r\ngiven()\r\n                .multiPart(&quot;file&quot;, inputStream)\r\n                .when().post(&quot;/document&quot;)\r\n                .then()\r\n                .statusCode(500);\r\n```\r\n\r\nThat endpoint calls the service class that I&#39;m trying to mock, and I want that mock to return an exception.\r\n","title":"How to inject mock for only one test case with Quarkus/RestAssured","body":"<p>I'm attempting to test a REST controller (using Quarkus) endpoint using rest assured. I want to mock a class that is injected into that controller (ideally with Mockio), but only for one of my tests. Or get different behaviour per test case without having to have separate classes for each test.  I'm not sure how to do this?</p>\n<p>I've seen doing it the way from the documentation:</p>\n<pre><code>@Mock\n@ApplicationScoped \npublic class MockExternalService extends ExternalService {\n\n    @Override\n    public String service() {\n        return &quot;mock&quot;;\n    }\n}\n</code></pre>\n<p>But this would only allow me to use one mock for all tests and not mock certain behaviours based on tests as I would with Mockito. I think?</p>\n<p>I've tried creating a mock and annotating it with @Mock</p>\n<pre><code>    @Mock\n    public TableExtractorService tableExtractorServiceMock = Mockito.mock(TableExtractorService.class);;\n</code></pre>\n<p>but I still get my real implementation when I use it. I'm using a constructor annotated with @Inject in my Controller that takes the TableExtractorService.</p>\n<p>For a bit more information my test using restassured looks like this:</p>\n<pre><code>InputPart filePart = Mockito.mock(InputPart.class);\nMockito.when(tableExtractorServiceMock.Extract(anyObject()))\n       .thenThrow(IOException.class);\n        \nfinal InputStream inputStream = filePart.getBody(InputStream.class, null);\n\ngiven()\n                .multiPart(&quot;file&quot;, inputStream)\n                .when().post(&quot;/document&quot;)\n                .then()\n                .statusCode(500);\n</code></pre>\n<p>That endpoint calls the service class that I'm trying to mock, and I want that mock to return an exception.</p>\n"},{"tags":["java","android","json","gson","retrofit2"],"comments":[{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1580202426,"post_id":59945168,"comment_id":106010639,"body_markdown":"take the raw response as your interface return type. after you evaluate the response code do the POJO conversion. I assume that success would have a 200 range and error would have a 400 or 500 range code.","body":"take the raw response as your interface return type. after you evaluate the response code do the POJO conversion. I assume that success would have a 200 range and error would have a 400 or 500 range code."},{"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"score":0,"creation_date":1580202477,"post_id":59945168,"comment_id":106010672,"body_markdown":"Nope, the success and error have the same 200 http code. How can I avoid repeating the parsing of &quot;data&quot; and &quot;error&quot; keys and do that once for every request?","body":"Nope, the success and error have the same 200 http code. How can I avoid repeating the parsing of &quot;data&quot; and &quot;error&quot; keys and do that once for every request?"},{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1580202833,"post_id":59945168,"comment_id":106010883,"body_markdown":"Ohh. so I would suggest to first convert the response to a JSON object. then you can check for keyword &quot;data&quot; or &quot;error&quot; to detect if its a success or an error. or another way is to simply try parsing to success inside try-catch. and parse to an error in catch block. but this would create a problem if you are expecting any list in response.","body":"Ohh. so I would suggest to first convert the response to a JSON object. then you can check for keyword &quot;data&quot; or &quot;error&quot; to detect if its a success or an error. or another way is to simply try parsing to success inside try-catch. and parse to an error in catch block. but this would create a problem if you are expecting any list in response."},{"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"score":0,"creation_date":1580202979,"post_id":59945168,"comment_id":106010969,"body_markdown":"Ok, but I&#39;d like to do that ONCE with a converter or type factory, not inside each requests.","body":"Ok, but I&#39;d like to do that ONCE with a converter or type factory, not inside each requests."},{"owner":{"account_id":5619902,"reputation":2178,"user_id":4450098,"accept_rate":35,"display_name":"Sagar Nayak"},"score":0,"creation_date":1580203992,"post_id":59945168,"comment_id":106011543,"body_markdown":"yes, you can do that, but what you need is a constant format for error. if its yes for you then you can create a utility method to get a response type a provide you with the response as your type or the error type which is pre-defined.","body":"yes, you can do that, but what you need is a constant format for error. if its yes for you then you can create a utility method to get a response type a provide you with the response as your type or the error type which is pre-defined."},{"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"score":0,"creation_date":1580204204,"post_id":59945168,"comment_id":106011645,"body_markdown":"My error format is constant, but sorry I didn&#39;t understand your answer.","body":"My error format is constant, but sorry I didn&#39;t understand your answer."}],"answers":[{"comments":[{"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"score":1,"creation_date":1580204251,"post_id":59945516,"comment_id":106011675,"body_markdown":"This way you&#39;re doing the &quot;data&quot; or &quot;error&quot; key extraction for every single request and that&#39;s exactly what I&#39;m trying to avoid.","body":"This way you&#39;re doing the &quot;data&quot; or &quot;error&quot; key extraction for every single request and that&#39;s exactly what I&#39;m trying to avoid."}],"tags":[],"owner":{"account_id":12431895,"reputation":2076,"user_id":9053942,"display_name":"Qazi Fahim Farhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580203263,"creation_date":1580203263,"answer_id":59945516,"question_id":59945168,"body_markdown":"In a similar case, I once used `JsonObject` as type, so your function will look like this:\r\n```\r\n@GET(&quot;login&quot;)\r\nCall&lt;?&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\r\n```\r\nNext, when you make a retrofit call, you keep the response as a string. So, in your java code, do something like this:\r\n```\r\nCall&lt;JsonObject&gt; call = RetrofitClient.getAPIService().login(&#39;YOUR_INPUT&#39;);\r\nData data = null;\r\nError error = null;\r\ncall.enqueue(new Callback&lt;JsonObject&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;JsonObject&gt; call, Response&lt;JsonObject&gt; response) {\r\nif(response.isSuccessfull()){\r\n  String jsonString = response.body().toString();\r\n  if(jsonString.contains(&quot;data:&quot;)){\r\n       data = new Gson().fromJson(jsonString,Data.class);\r\n  }else{\r\n      error = new Gson().fromJson(jsonString,Error.class);\r\n  }\r\n}\r\n        }\r\n\r\n```\r\n\r\nHere, I have used `Data` and `Error` these 2 classes. They are the POJOs. So Data can look something like this:\r\n### `Data.java`:\r\n```\r\npublic class Data implements Serializable{\r\n @SerializedName(&quot;foo&quot;)\r\n    @Expose\r\n    private Foo foo; // Foo is your desired data type \r\n\r\n}\r\n```\r\nSame goes for `Error`. So depending on your rest of the code, make necessary changes. Good luck.","title":"Retrofit multiple response types","body":"<p>In a similar case, I once used <code>JsonObject</code> as type, so your function will look like this:</p>\n\n<pre><code>@GET(\"login\")\nCall&lt;?&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\n</code></pre>\n\n<p>Next, when you make a retrofit call, you keep the response as a string. So, in your java code, do something like this:</p>\n\n<pre><code>Call&lt;JsonObject&gt; call = RetrofitClient.getAPIService().login('YOUR_INPUT');\nData data = null;\nError error = null;\ncall.enqueue(new Callback&lt;JsonObject&gt;() {\n            @Override\n            public void onResponse(Call&lt;JsonObject&gt; call, Response&lt;JsonObject&gt; response) {\nif(response.isSuccessfull()){\n  String jsonString = response.body().toString();\n  if(jsonString.contains(\"data:\")){\n       data = new Gson().fromJson(jsonString,Data.class);\n  }else{\n      error = new Gson().fromJson(jsonString,Error.class);\n  }\n}\n        }\n\n</code></pre>\n\n<p>Here, I have used <code>Data</code> and <code>Error</code> these 2 classes. They are the POJOs. So Data can look something like this:</p>\n\n<h3><code>Data.java</code>:</h3>\n\n<pre><code>public class Data implements Serializable{\n @SerializedName(\"foo\")\n    @Expose\n    private Foo foo; // Foo is your desired data type \n\n}\n</code></pre>\n\n<p>Same goes for <code>Error</code>. So depending on your rest of the code, make necessary changes. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":3795946,"reputation":326,"user_id":3151026,"display_name":"Mutasem Haj Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665050640,"creation_date":1665050640,"answer_id":73972008,"question_id":59945168,"body_markdown":"I used to do something like this&lt;br/&gt;\r\n**BaseResponse**\r\n\r\n    \r\n    public class BaseResponse&lt;D,E&gt;{\r\n    E error;\r\n    D data;\r\n    public boolean isSuccess(){\r\n        return error==null;\r\n    }\r\n}\r\n\r\n**Retrofit interface**\r\n\r\n    @GET(&quot;login&quot;)\r\n    Call&lt;BaseResponse&lt;LoginData,ErrorData&gt;&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\r\nthis approach will work OK when you have control over the REST API structure.&lt;br/&gt;\r\nthe only problem is that you need to check for success using isSuccess method for every request before using the data object.","title":"Retrofit multiple response types","body":"<p>I used to do something like this<br/>\n<strong>BaseResponse</strong></p>\n<pre><code>public class BaseResponse&lt;D,E&gt;{\nE error;\nD data;\npublic boolean isSuccess(){\n    return error==null;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Retrofit interface</strong></p>\n<pre><code>@GET(&quot;login&quot;)\nCall&lt;BaseResponse&lt;LoginData,ErrorData&gt;&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\n</code></pre>\n<p>this approach will work OK when you have control over the REST API structure.<br/>\nthe only problem is that you need to check for success using isSuccess method for every request before using the data object.</p>\n"}],"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6413,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1665050640,"creation_date":1580202068,"question_id":59945168,"body_markdown":"How can I use Retrofit2 to parse these two kinds of API responses?\r\n\r\nOk response (HTTP 200):\r\n\r\n    {\r\n        &quot;data&quot;: {\r\n            &quot;foo&quot;: &quot;bar&quot;\r\n        }\r\n    }\r\n\r\nError response (HTTP 200):\r\n\r\n    {\r\n        &quot;error&quot;: {\r\n            &quot;foo&quot;: &quot;bar&quot;\r\n        }\r\n    }\r\n\r\nI&#39;ve read tons of SO questions and tutorials, but I don&#39;t know how to do that, I&#39;ve tried:\r\n\r\n    GsonBuilder gsonBuilder = new GsonBuilder();\r\n    gsonBuilder.registerTypeAdapterFactory(new ItemTypeAdapterFactory());\r\n    Gson gson = gsonBuilder.create();\r\n    \r\n    final Retrofit retrofit = new Retrofit.Builder()\r\n            .client(getOkHttpClient())\r\n            .baseUrl(Constants.API_BASE_URL)\r\n            .addConverterFactory(GsonConverterFactory.create(gson))\r\n            .build();\r\n\r\nAnd this is my ItemTypeAdapterFactory:\r\n\r\n    class ItemTypeAdapterFactory implements TypeAdapterFactory {\r\n    \r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; type) {\r\n    \r\n            final TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\r\n            final TypeAdapter&lt;JsonElement&gt; elementAdapter = gson.getAdapter(JsonElement.class);\r\n    \r\n            return new TypeAdapter&lt;T&gt;() {\r\n    \r\n                public void write(JsonWriter out, T value) throws IOException {\r\n                    delegate.write(out, value);\r\n                }\r\n    \r\n                public T read(JsonReader in) throws IOException {\r\n    \r\n                    JsonElement jsonElement = elementAdapter.read(in);\r\n    \r\n                    if (jsonElement.isJsonObject()) {\r\n                        JsonObject jsonObject = jsonElement.getAsJsonObject();\r\n    \r\n                        // Data key\r\n                        if (jsonObject.has(Constants.JSON_KEY_DATA)) {\r\n    \r\n                            JsonElement jsonData = jsonObject.get(Constants.JSON_KEY_DATA);\r\n    \r\n                            // Primitive\r\n                            if (jsonData.isJsonPrimitive()) {\r\n                                jsonElement = jsonData.getAsJsonPrimitive();\r\n                            }\r\n                            // JSON object\r\n                            else if (jsonData.isJsonObject()) {\r\n                                jsonElement = jsonData;\r\n                            }\r\n                            // JSON object array\r\n                            else if (jsonData.isJsonArray()) {\r\n                                jsonElement = jsonData.getAsJsonArray();\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    return delegate.fromJsonTree(jsonElement);\r\n                }\r\n            }.nullSafe();\r\n        }\r\n    }\r\n\r\nBut now I don&#39;t know the type to be declared on retrofit2 interface, inside Call:\r\n\r\n    @GET(&quot;login&quot;)\r\n    Call&lt;?&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\r\n\r\nCould you please point me in the right direction? ","title":"Retrofit multiple response types","body":"<p>How can I use Retrofit2 to parse these two kinds of API responses?</p>\n\n<p>Ok response (HTTP 200):</p>\n\n<pre><code>{\n    \"data\": {\n        \"foo\": \"bar\"\n    }\n}\n</code></pre>\n\n<p>Error response (HTTP 200):</p>\n\n<pre><code>{\n    \"error\": {\n        \"foo\": \"bar\"\n    }\n}\n</code></pre>\n\n<p>I've read tons of SO questions and tutorials, but I don't know how to do that, I've tried:</p>\n\n<pre><code>GsonBuilder gsonBuilder = new GsonBuilder();\ngsonBuilder.registerTypeAdapterFactory(new ItemTypeAdapterFactory());\nGson gson = gsonBuilder.create();\n\nfinal Retrofit retrofit = new Retrofit.Builder()\n        .client(getOkHttpClient())\n        .baseUrl(Constants.API_BASE_URL)\n        .addConverterFactory(GsonConverterFactory.create(gson))\n        .build();\n</code></pre>\n\n<p>And this is my ItemTypeAdapterFactory:</p>\n\n<pre><code>class ItemTypeAdapterFactory implements TypeAdapterFactory {\n\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; type) {\n\n        final TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\n        final TypeAdapter&lt;JsonElement&gt; elementAdapter = gson.getAdapter(JsonElement.class);\n\n        return new TypeAdapter&lt;T&gt;() {\n\n            public void write(JsonWriter out, T value) throws IOException {\n                delegate.write(out, value);\n            }\n\n            public T read(JsonReader in) throws IOException {\n\n                JsonElement jsonElement = elementAdapter.read(in);\n\n                if (jsonElement.isJsonObject()) {\n                    JsonObject jsonObject = jsonElement.getAsJsonObject();\n\n                    // Data key\n                    if (jsonObject.has(Constants.JSON_KEY_DATA)) {\n\n                        JsonElement jsonData = jsonObject.get(Constants.JSON_KEY_DATA);\n\n                        // Primitive\n                        if (jsonData.isJsonPrimitive()) {\n                            jsonElement = jsonData.getAsJsonPrimitive();\n                        }\n                        // JSON object\n                        else if (jsonData.isJsonObject()) {\n                            jsonElement = jsonData;\n                        }\n                        // JSON object array\n                        else if (jsonData.isJsonArray()) {\n                            jsonElement = jsonData.getAsJsonArray();\n                        }\n                    }\n                }\n\n                return delegate.fromJsonTree(jsonElement);\n            }\n        }.nullSafe();\n    }\n}\n</code></pre>\n\n<p>But now I don't know the type to be declared on retrofit2 interface, inside Call:</p>\n\n<pre><code>@GET(\"login\")\nCall&lt;?&gt; login(@Query(Constants.API_PARAM_TOKEN) String token);\n</code></pre>\n\n<p>Could you please point me in the right direction? </p>\n"},{"tags":["java","android","amazon-web-services","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":15967487,"reputation":11,"user_id":11738095,"display_name":"Ayushman Dixit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665050427,"creation_date":1664278736,"answer_id":73866950,"question_id":49846113,"body_markdown":"Refer to this link. Secret hash needs to be calculated using username, clientId and clientSecretId. The python implementation is provided in the link. Translate it your preferred language. \r\n\r\nhttps://aws.amazon.com/premiumsupport/knowledge-center/cognito-unable-to-verify-secret-hash/","title":"Where to cognito secret hash key","body":"<p>Refer to this link. Secret hash needs to be calculated using username, clientId and clientSecretId. The python implementation is provided in the link. Translate it your preferred language.</p>\n<p><a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/cognito-unable-to-verify-secret-hash/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/premiumsupport/knowledge-center/cognito-unable-to-verify-secret-hash/</a></p>\n"}],"owner":{"account_id":13268698,"reputation":23,"user_id":9580500,"display_name":"Ronald Pitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665050427,"creation_date":1523821685,"question_id":49846113,"body_markdown":"I&#39;m attempting to create a simple android/aws project and I&#39;m receiving an error and I don&#39;t know where to look. Note sure if it matters but i&#39;m attempting to connect my app to an identity pool to have users log in with an email address.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //AWS Housekeeping\r\n        public static PinpointManager pinpointManager;\r\n        private DynamoDBMapper dynamoDBMapper;\r\n        private final String POOL_ID = &quot;xxxxxxxx&quot;;\r\n        private final String USER_POOL = &quot;xxxxxxxxx&quot;;\r\n    \r\n        private AWSCredentialsProvider awsCredentialsProvider;\r\n        private AWSConfiguration awsConfiguration;\r\n    \r\n        private Button loginBtm;\r\n        private Button createUserBtm;\r\n        private EditText emailField;\r\n        private EditText passwordField;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            createUserBtm = findViewById(R.id.createButton);\r\n            loginBtm = findViewById(R.id.loginButton);\r\n            emailField = findViewById(R.id.usernameField);\r\n            passwordField = findViewById(R.id.passwordField);\r\n    \r\n            final Intent newUserIntent = new Intent(this, NewUserActivity.class);\r\n            final Intent signInIntent = new Intent(this, HomeActivity.class);\r\n    \r\n    \r\n            AWSMobileClient.getInstance().initialize(this, new AWSStartupHandler() {\r\n                @Override\r\n                public void onComplete(AWSStartupResult awsStartupResult) {\r\n    \r\n                    // Obtain the reference to the AWSCredentialsProvider and AWSConfiguration objects\r\n                    awsCredentialsProvider = AWSMobileClient.getInstance().getCredentialsProvider();\r\n                    awsConfiguration = AWSMobileClient.getInstance().getConfiguration();\r\n    \r\n    \r\n                    // Use IdentityManager #getUserID to fetch the identity id.\r\n                    IdentityManager.getDefaultIdentityManager().getUserID(new IdentityHandler() {\r\n                        @Override\r\n                        public void onIdentityId(String identityId) {\r\n                            Log.d(&quot;YourMainActivity&quot;, &quot;Identity ID = &quot; + identityId);\r\n    \r\n                            // Use IdentityManager#getCachedUserID to\r\n                            //  fetch the locally cached identity id.\r\n                            final String cachedIdentityId =\r\n                                    IdentityManager.getDefaultIdentityManager().getCachedUserID();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void handleError(Exception exception) {\r\n                            Log.d(&quot;YourMainActivity&quot;, &quot;Error in retrieving the identity: &quot; + exception);\r\n                        }\r\n                    });\r\n                }\r\n            }).execute();\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            createUserBtm.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(newUserIntent);\r\n                }\r\n            });\r\n    \r\n            loginBtm.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(emailField.getText().toString() != null &amp;&amp; passwordField.getText().toString() != null){\r\n                        CognitoUserPool userPool = new CognitoUserPool(getApplicationContext(), POOL_ID, USER_POOL, null, Regions.US_EAST_1);\r\n                        CognitoUser cognitoUser = userPool.getUser();\r\n                        cognitoUser.getSessionInBackground(authenticationHandler);\r\n                        startActivity(signInIntent);\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        class loginUser extends AsyncTask&lt;Void, Void, Void&gt;{\r\n    \r\n            DynamoDBMapper dynamoDBMapper;\r\n            String username;\r\n            String password;\r\n    \r\n    \r\n            @Override\r\n            protected void onPreExecute(){\r\n    \r\n                username = emailField.getText().toString();\r\n                password = passwordField.getText().toString();\r\n    \r\n            }\r\n    \r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n    \r\n                //Instantiate an AmazonBynamoDBMapperClient\r\n                AmazonDynamoDBClient dynamoDBClient = new AmazonDynamoDBClient(AWSMobileClient.getInstance().getCredentialsProvider());\r\n                this.dynamoDBMapper = DynamoDBMapper.builder()\r\n                        .dynamoDBClient(dynamoDBClient)\r\n                        .awsConfiguration(AWSMobileClient.getInstance().getConfiguration())\r\n                        .build();\r\n    \r\n                return null;\r\n            }\r\n        }\r\n    \r\n    \r\n        final AuthenticationHandler authenticationHandler = new AuthenticationHandler() {\r\n            @Override\r\n            public void onSuccess(CognitoUserSession userSession, CognitoDevice newDevice) {\r\n                Log.i(&quot;Success: &quot;, userSession.getAccessToken().getJWTToken());\r\n            }\r\n    \r\n            @Override\r\n            public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String userId) {\r\n                // The API needs user sign-in credentials to continue\r\n                AuthenticationDetails authenticationDetails = new AuthenticationDetails(emailField.toString(), passwordField.toString(), null);\r\n    \r\n                // Pass the user sign-in credentials to the continuation\r\n                authenticationContinuation.setAuthenticationDetails(authenticationDetails);\r\n    \r\n                // Allow the sign-in to continue\r\n                authenticationContinuation.continueTask();\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void getMFACode(MultiFactorAuthenticationContinuation continuation) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void authenticationChallenge(ChallengeContinuation continuation) {\r\n    \r\n            }\r\n            @Override\r\n            public void onFailure(Exception exception) {\r\n                Log.i(&quot;ERROR:&quot;, exception.getMessage().toString());\r\n    \r\n            }\r\n        };\r\n    }\r\n\r\n\r\n\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    04-15 18:32:09.618 5880-5880/com.ronone.securesender I/ERROR:: Unable to verify secret hash for client xxxxxxxxxxx (Service: AmazonCognitoIdentityProvider; Status Code: 400; Error Code: NotAuthorizedException; Request ID: 4eca8202-40db-11e8-a05e-217eccab3af8)\r\n\r\n\r\nWhere can I locate this secret hash key? Thanks for any help in advance.","title":"Where to cognito secret hash key","body":"<p>I'm attempting to create a simple android/aws project and I'm receiving an error and I don't know where to look. Note sure if it matters but i'm attempting to connect my app to an identity pool to have users log in with an email address.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //AWS Housekeeping\n    public static PinpointManager pinpointManager;\n    private DynamoDBMapper dynamoDBMapper;\n    private final String POOL_ID = \"xxxxxxxx\";\n    private final String USER_POOL = \"xxxxxxxxx\";\n\n    private AWSCredentialsProvider awsCredentialsProvider;\n    private AWSConfiguration awsConfiguration;\n\n    private Button loginBtm;\n    private Button createUserBtm;\n    private EditText emailField;\n    private EditText passwordField;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        createUserBtm = findViewById(R.id.createButton);\n        loginBtm = findViewById(R.id.loginButton);\n        emailField = findViewById(R.id.usernameField);\n        passwordField = findViewById(R.id.passwordField);\n\n        final Intent newUserIntent = new Intent(this, NewUserActivity.class);\n        final Intent signInIntent = new Intent(this, HomeActivity.class);\n\n\n        AWSMobileClient.getInstance().initialize(this, new AWSStartupHandler() {\n            @Override\n            public void onComplete(AWSStartupResult awsStartupResult) {\n\n                // Obtain the reference to the AWSCredentialsProvider and AWSConfiguration objects\n                awsCredentialsProvider = AWSMobileClient.getInstance().getCredentialsProvider();\n                awsConfiguration = AWSMobileClient.getInstance().getConfiguration();\n\n\n                // Use IdentityManager #getUserID to fetch the identity id.\n                IdentityManager.getDefaultIdentityManager().getUserID(new IdentityHandler() {\n                    @Override\n                    public void onIdentityId(String identityId) {\n                        Log.d(\"YourMainActivity\", \"Identity ID = \" + identityId);\n\n                        // Use IdentityManager#getCachedUserID to\n                        //  fetch the locally cached identity id.\n                        final String cachedIdentityId =\n                                IdentityManager.getDefaultIdentityManager().getCachedUserID();\n                    }\n\n                    @Override\n                    public void handleError(Exception exception) {\n                        Log.d(\"YourMainActivity\", \"Error in retrieving the identity: \" + exception);\n                    }\n                });\n            }\n        }).execute();\n\n\n\n\n\n        createUserBtm.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(newUserIntent);\n            }\n        });\n\n        loginBtm.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(emailField.getText().toString() != null &amp;&amp; passwordField.getText().toString() != null){\n                    CognitoUserPool userPool = new CognitoUserPool(getApplicationContext(), POOL_ID, USER_POOL, null, Regions.US_EAST_1);\n                    CognitoUser cognitoUser = userPool.getUser();\n                    cognitoUser.getSessionInBackground(authenticationHandler);\n                    startActivity(signInIntent);\n                }\n            }\n        });\n\n\n\n    }\n\n    class loginUser extends AsyncTask&lt;Void, Void, Void&gt;{\n\n        DynamoDBMapper dynamoDBMapper;\n        String username;\n        String password;\n\n\n        @Override\n        protected void onPreExecute(){\n\n            username = emailField.getText().toString();\n            password = passwordField.getText().toString();\n\n        }\n\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            //Instantiate an AmazonBynamoDBMapperClient\n            AmazonDynamoDBClient dynamoDBClient = new AmazonDynamoDBClient(AWSMobileClient.getInstance().getCredentialsProvider());\n            this.dynamoDBMapper = DynamoDBMapper.builder()\n                    .dynamoDBClient(dynamoDBClient)\n                    .awsConfiguration(AWSMobileClient.getInstance().getConfiguration())\n                    .build();\n\n            return null;\n        }\n    }\n\n\n    final AuthenticationHandler authenticationHandler = new AuthenticationHandler() {\n        @Override\n        public void onSuccess(CognitoUserSession userSession, CognitoDevice newDevice) {\n            Log.i(\"Success: \", userSession.getAccessToken().getJWTToken());\n        }\n\n        @Override\n        public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String userId) {\n            // The API needs user sign-in credentials to continue\n            AuthenticationDetails authenticationDetails = new AuthenticationDetails(emailField.toString(), passwordField.toString(), null);\n\n            // Pass the user sign-in credentials to the continuation\n            authenticationContinuation.setAuthenticationDetails(authenticationDetails);\n\n            // Allow the sign-in to continue\n            authenticationContinuation.continueTask();\n\n        }\n\n        @Override\n        public void getMFACode(MultiFactorAuthenticationContinuation continuation) {\n\n        }\n\n        @Override\n        public void authenticationChallenge(ChallengeContinuation continuation) {\n\n        }\n        @Override\n        public void onFailure(Exception exception) {\n            Log.i(\"ERROR:\", exception.getMessage().toString());\n\n        }\n    };\n}\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>04-15 18:32:09.618 5880-5880/com.ronone.securesender I/ERROR:: Unable to verify secret hash for client xxxxxxxxxxx (Service: AmazonCognitoIdentityProvider; Status Code: 400; Error Code: NotAuthorizedException; Request ID: 4eca8202-40db-11e8-a05e-217eccab3af8)\n</code></pre>\n\n<p>Where can I locate this secret hash key? Thanks for any help in advance.</p>\n"},{"tags":["java","android","animation","view","window-managers"],"answers":[{"comments":[{"owner":{"account_id":2675276,"reputation":312,"user_id":2311822,"accept_rate":50,"display_name":"LeandroPortnoy"},"score":0,"creation_date":1374494966,"post_id":17758858,"comment_id":25945985,"body_markdown":"sandrstar... worked perfectly! however... I wonder if it&#39;s possible using animation translation with these components. I need to make an effect up and down the screen with this component...","body":"sandrstar... worked perfectly! however... I wonder if it&#39;s possible using animation translation with these components. I need to make an effect up and down the screen with this component..."},{"owner":{"account_id":2675276,"reputation":312,"user_id":2311822,"accept_rate":50,"display_name":"LeandroPortnoy"},"score":0,"creation_date":1374496119,"post_id":17758858,"comment_id":25946671,"body_markdown":"private void show(){\n\t\t\n\t\t//Animation fadeIn = (Animation) AnimationUtils.loadAnimation(getContext(), android.R.anim.fade_in);\n\t\t//this.startAnimation(fadeIn);\n\t    //this.bannerRelativeLayout.setVisibility(VISIBLE);\n\t\t\n\t\tthis.setActive(true);\n        mPopupLayout.setVisibility(VISIBLE);\n        \n\t\tfinal Animation in = new TranslateAnimation(0, 0, -1000, 0 );\n        in.setDuration(700);\n        \n        AnimationSet animation = new AnimationSet(false);\n        animation.addAnimation(in);\n\t    mPopupLayout.startAnimation(animation);\n        \n\t}","body":"private void show(){ \t\t \t\t//Animation fadeIn = (Animation) AnimationUtils.loadAnimation(getContext(), android.R.anim.fade_in); \t\t//this.startAnimation(fadeIn); \t    //this.bannerRelativeLayout.setVisibility(VISIBLE); \t\t \t\tthis.setActive(true);         mPopupLayout.setVisibility(VISIBLE);          \t\tfinal Animation in = new TranslateAnimation(0, 0, -1000, 0 );         in.setDuration(700);                  AnimationSet animation = new AnimationSet(false);         animation.addAnimation(in); \t    mPopupLayout.startAnimation(animation);          \t}"},{"owner":{"account_id":332284,"reputation":12573,"user_id":657487,"display_name":"sandrstar"},"score":0,"creation_date":1374547514,"post_id":17758858,"comment_id":25970895,"body_markdown":"Sorry for delay. I&#39;ve tried it and seems it works fine. May be You need to use params.width = ViewGroup.LayoutParams.MATCH_PARENT;\nparams.height = ViewGroup.LayoutParams.MATCH_PARENT; for FrameLayout.","body":"Sorry for delay. I&#39;ve tried it and seems it works fine. May be You need to use params.width = ViewGroup.LayoutParams.MATCH_PARENT; params.height = ViewGroup.LayoutParams.MATCH_PARENT; for FrameLayout."},{"owner":{"account_id":3008908,"reputation":2875,"user_id":2552811,"accept_rate":76,"display_name":"Hoa Vu"},"score":0,"creation_date":1421287779,"post_id":17758858,"comment_id":44306331,"body_markdown":"@sandrstar Could you take a look at this question about WindowManager? Thank you http://stackoverflow.com/questions/27937250/viewpager-on-a-view-added-by-windowmanager-getting-java-lang-illegalargumentexc/27937559","body":"@sandrstar Could you take a look at this question about WindowManager? Thank you <a href=\"http://stackoverflow.com/questions/27937250/viewpager-on-a-view-added-by-windowmanager-getting-java-lang-illegalargumentexc/27937559\" title=\"viewpager on a view added by windowmanager getting java lang illegalargumentexc\">stackoverflow.com/questions/27937250/&hellip;</a>"},{"owner":{"account_id":13317651,"reputation":2168,"user_id":9613462,"display_name":"wgm"},"score":0,"creation_date":1621327046,"post_id":17758858,"comment_id":119455205,"body_markdown":"@sandrstar Why not animate the mParentView directly?","body":"@sandrstar Why not animate the mParentView directly?"},{"owner":{"account_id":332284,"reputation":12573,"user_id":657487,"display_name":"sandrstar"},"score":0,"creation_date":1621416478,"post_id":17758858,"comment_id":119486699,"body_markdown":"@Run it&#39;ll look different than window animation","body":"@Run it&#39;ll look different than window animation"},{"owner":{"account_id":13317651,"reputation":2168,"user_id":9613462,"display_name":"wgm"},"score":0,"creation_date":1621549677,"post_id":17758858,"comment_id":119537321,"body_markdown":"@sandrstar what&#39;s the difference?","body":"@sandrstar what&#39;s the difference?"},{"owner":{"account_id":332284,"reputation":12573,"user_id":657487,"display_name":"sandrstar"},"score":0,"creation_date":1621861917,"post_id":17758858,"comment_id":119614333,"body_markdown":"@Run as far as I remember, it might be about background behavour","body":"@Run as far as I remember, it might be about background behavour"}],"tags":[],"owner":{"account_id":332284,"reputation":12573,"user_id":657487,"display_name":"sandrstar"},"comment_count":8,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1374296639,"creation_date":1374296639,"answer_id":17758858,"question_id":17745282,"body_markdown":"I&#39;m not sure about exact requirements for Your task, but there&#39;s two ways to provide animation to window:\r\n\r\n 1. Use `WindowManager.LayoutParams.windowAnimations` like the following:\r\n\r\n        params.windowAnimations = android.R.style.Animation_Translucent;\r\n\r\n 2. Add additonal &#39;container&#39; view, because `WindowManager` is not a real `ViewGroup` and so normal animation for adding views is not working with it. [This question has been asked already][1], however it lacks the code. I would apply it the following way:\r\n\r\n        public class BannerLayout extends View {\r\n        \r\n            private final Context mContext;\r\n        \r\n            private final ViewGroup mPopupLayout;\r\n        \r\n            private final ViewGroup mParentView;\r\n        \r\n            public BannerLayout(Activity activity, final Context context) {\r\n                super(context);\r\n        \r\n                mContext = context;\r\n        \r\n                final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n                        WindowManager.LayoutParams.TYPE_SYSTEM_OVERLAY,\r\n                        WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN |\r\n                                WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,\r\n                        PixelFormat.TRANSLUCENT);\r\n        \r\n                final WindowManager mWinManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\r\n        \r\n                LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                mPopupLayout = (RelativeLayout) inflater.inflate(R.layout.popup_activity, null);\r\n                mPopupLayout.setVisibility(GONE);\r\n        \r\n                params.width = ActionBar.LayoutParams.WRAP_CONTENT;\r\n                params.height = ActionBar.LayoutParams.WRAP_CONTENT;\r\n        \r\n                // Default variant\r\n                // params.windowAnimations = android.R.style.Animation_Translucent;\r\n        \r\n                mParentView = new FrameLayout(mContext);\r\n        \r\n                mWinManager.addView(mParentView, params);\r\n        \r\n                mParentView.addView(mPopupLayout);\r\n                mPopupLayout.setVisibility(GONE);\r\n            }\r\n        \r\n            /**\r\n             * Shows view\r\n             */\r\n            public void show(){\r\n                final Animation in = AnimationUtils.loadAnimation(this.mContext, android.R.anim.fade_in);\r\n        \r\n                in.setDuration(2000);\r\n        \r\n                mPopupLayout.setVisibility(VISIBLE);\r\n                mPopupLayout.startAnimation(in);\r\n            }\r\n        \r\n            /**\r\n             * Hides view\r\n             */\r\n            public void hide() {\r\n                mPopupLayout.setVisibility(GONE);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17537672/animate-system-alert-type-view","title":"WindowManager with Animation (is it possible?)","body":"<p>I'm not sure about exact requirements for Your task, but there's two ways to provide animation to window:</p>\n\n<ol>\n<li><p>Use <code>WindowManager.LayoutParams.windowAnimations</code> like the following:</p>\n\n<pre><code>params.windowAnimations = android.R.style.Animation_Translucent;\n</code></pre></li>\n<li><p>Add additonal 'container' view, because <code>WindowManager</code> is not a real <code>ViewGroup</code> and so normal animation for adding views is not working with it. <a href=\"https://stackoverflow.com/questions/17537672/animate-system-alert-type-view\">This question has been asked already</a>, however it lacks the code. I would apply it the following way:</p>\n\n<pre><code>public class BannerLayout extends View {\n\n    private final Context mContext;\n\n    private final ViewGroup mPopupLayout;\n\n    private final ViewGroup mParentView;\n\n    public BannerLayout(Activity activity, final Context context) {\n        super(context);\n\n        mContext = context;\n\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n                WindowManager.LayoutParams.TYPE_SYSTEM_OVERLAY,\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN |\n                        WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,\n                PixelFormat.TRANSLUCENT);\n\n        final WindowManager mWinManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n\n        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        mPopupLayout = (RelativeLayout) inflater.inflate(R.layout.popup_activity, null);\n        mPopupLayout.setVisibility(GONE);\n\n        params.width = ActionBar.LayoutParams.WRAP_CONTENT;\n        params.height = ActionBar.LayoutParams.WRAP_CONTENT;\n\n        // Default variant\n        // params.windowAnimations = android.R.style.Animation_Translucent;\n\n        mParentView = new FrameLayout(mContext);\n\n        mWinManager.addView(mParentView, params);\n\n        mParentView.addView(mPopupLayout);\n        mPopupLayout.setVisibility(GONE);\n    }\n\n    /**\n     * Shows view\n     */\n    public void show(){\n        final Animation in = AnimationUtils.loadAnimation(this.mContext, android.R.anim.fade_in);\n\n        in.setDuration(2000);\n\n        mPopupLayout.setVisibility(VISIBLE);\n        mPopupLayout.startAnimation(in);\n    }\n\n    /**\n     * Hides view\n     */\n    public void hide() {\n        mPopupLayout.setVisibility(GONE);\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2907399,"reputation":367,"user_id":2492355,"accept_rate":91,"display_name":"xXJJJasonMokXx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392818964,"creation_date":1392818964,"answer_id":21882935,"question_id":17745282,"body_markdown":"Yes it is indeed possible. As long as the view you want to animate is inside a container, by container I mean for instance a LinearLayout or any other layout will do. Conclusively the view to be animated should not be the root view of a window and so you should be able to animate the view `:)` Hope it helps","title":"WindowManager with Animation (is it possible?)","body":"<p>Yes it is indeed possible. As long as the view you want to animate is inside a container, by container I mean for instance a LinearLayout or any other layout will do. Conclusively the view to be animated should not be the root view of a window and so you should be able to animate the view <code>:)</code> Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":13750010,"reputation":171,"user_id":9922403,"display_name":"BADER EDDINE QODIA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665050368,"creation_date":1665050368,"answer_id":73971948,"question_id":17745282,"body_markdown":"I want to add something when you want to add an animation to `WindowManager` via :\r\n\r\n    params.windowAnimations = android.R.style.Animation_Translucent;\r\n\r\nthe animation style must be a system resource, it can not be an application\r\n\r\n&gt; A style resource defining the animations to use for this window. This must be a system resource; it can not be an application resource because the window manager does not have access to applications.\r\n[Android Developers DOCUMENTATION][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#windowAnimations","title":"WindowManager with Animation (is it possible?)","body":"<p>I want to add something when you want to add an animation to <code>WindowManager</code> via :</p>\n<pre><code>params.windowAnimations = android.R.style.Animation_Translucent;\n</code></pre>\n<p>the animation style must be a system resource, it can not be an application</p>\n<blockquote>\n<p>A style resource defining the animations to use for this window. This must be a system resource; it can not be an application resource because the window manager does not have access to applications.\n<a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#windowAnimations\" rel=\"nofollow noreferrer\">Android Developers DOCUMENTATION</a></p>\n</blockquote>\n"}],"owner":{"account_id":2675276,"reputation":312,"user_id":2311822,"accept_rate":50,"display_name":"LeandroPortnoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16638,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":17758858,"answer_count":3,"score":18,"last_activity_date":1665050368,"creation_date":1374234169,"question_id":17745282,"body_markdown":"Is there any way to inflate a view with WindowManager using Animation (at android&#39;s project)? I just can&#39;t do it even using the examples in sites! I used many examples but none worked!\r\n\r\n\r\n    public BannerLayout(Activity activity, final Context context) {\r\n        super(context);\r\n\r\n        this.context = context;\r\n        \r\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams( \r\n                WindowManager.LayoutParams.TYPE_SYSTEM_OVERLAY,\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | \r\n                WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,\r\n                PixelFormat.TRANSLUCENT); \r\n        \r\n        wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);    \r\n        \r\n        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \r\n        this.popupLayout = (RelativeLayout) inflater.inflate(R.layout.popup_activity, null);\r\n        this.popupLayout.setVisibility(GONE);\r\n        this.setActive(false);\r\n\r\n        wm.addView(this.popupLayout, params);\r\n\r\n        context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    }\r\n\r\n\r\n    private void show(){\r\n        Animation in = AnimationUtils.loadAnimation(this.context, android.R.anim.fade_in);\r\n        this.popupLayout.setAnimation(in);\r\n\r\n        this.setActive(true);\r\n        this.popupLayout.setVisibility(VISIBLE);\r\n    }","title":"WindowManager with Animation (is it possible?)","body":"<p>Is there any way to inflate a view with WindowManager using Animation (at android's project)? I just can't do it even using the examples in sites! I used many examples but none worked!</p>\n\n<pre><code>public BannerLayout(Activity activity, final Context context) {\n    super(context);\n\n    this.context = context;\n\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams( \n            WindowManager.LayoutParams.TYPE_SYSTEM_OVERLAY,\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | \n            WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,\n            PixelFormat.TRANSLUCENT); \n\n    wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);    \n\n    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); \n    this.popupLayout = (RelativeLayout) inflater.inflate(R.layout.popup_activity, null);\n    this.popupLayout.setVisibility(GONE);\n    this.setActive(false);\n\n    wm.addView(this.popupLayout, params);\n\n    context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n}\n\n\nprivate void show(){\n    Animation in = AnimationUtils.loadAnimation(this.context, android.R.anim.fade_in);\n    this.popupLayout.setAnimation(in);\n\n    this.setActive(true);\n    this.popupLayout.setVisibility(VISIBLE);\n}\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1665050560,"post_id":73971849,"comment_id":130610442,"body_markdown":"yes I tried to remove the flush as well...same thing...","body":"yes I tried to remove the flush as well...same thing..."},{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":1,"creation_date":1665050931,"post_id":73971849,"comment_id":130610589,"body_markdown":"I also tried the redirect approach but it gives me the following error: &quot;java.lang.IllegalStateException: Cannot call sendRedirect() after the response has been committed&quot;","body":"I also tried the redirect approach but it gives me the following error: &quot;java.lang.IllegalStateException: Cannot call sendRedirect() after the response has been committed&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665050947,"post_id":73971849,"comment_id":130610598,"body_markdown":"(create) Multipart response: https://stackoverflow.com/q/45066064/592355","body":"(create) Multipart response: <a href=\"https://stackoverflow.com/q/45066064/592355\">stackoverflow.com/q/45066064/592355</a>"},{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1665067928,"post_id":73971849,"comment_id":130617197,"body_markdown":"Not able to find a way to manage a MultiPart Response containing both HTML content to be displayed and a File Download...it seems to be applied for Mail...","body":"Not able to find a way to manage a MultiPart Response containing both HTML content to be displayed and a File Download...it seems to be applied for Mail..."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1665071362,"post_id":73971849,"comment_id":130618645,"body_markdown":"This makes no sense. You&#39;re basically trying to append HTML code to the downloaded file. Have you actually looked closer at the contents of the downloaded file? See the currently accepted answer of the abovelinked duplicate for the solution.","body":"This makes no sense. You&#39;re basically trying to append HTML code to the downloaded file. Have you actually looked closer at the contents of the downloaded file? See the currently accepted answer of the abovelinked duplicate for the solution."}],"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665071384,"answer_count":0,"score":0,"last_activity_date":1665049978,"creation_date":1665049978,"question_id":73971849,"body_markdown":"In my Servlet I would need to propose a file download to the end user and also display an HTML page indicating the status of the download.\r\n\r\nI read that it was not possible to use both OutputStream and PrintWriter on the same response, but by reading this [post][1], I tried to make it working...but no success...\r\n\r\nI tried the following:\r\n\r\n            try(InputStream in = new FileInputStream(new File(bf.path));\r\n            ServletOutputStream out = response.getOutputStream()) {\t\r\n\r\n\t\t\tbyte[] buffer = new byte[1048];        \r\n            int numBytesRead;\r\n            while ((numBytesRead = in.read(buffer)) &gt; 0) {\r\n                out.write(buffer, 0, numBytesRead);\r\n            }\r\n\r\n\t\t\tout.flush();\r\n\r\n\t\t\tPrintWriter print = new PrintWriter(new OutputStreamWriter(out, &quot;utf-8&quot;));\r\n\r\n\t\t\tprint.println(&quot;&lt;html&gt;&quot;);\r\n\t\t\tprint.println(&quot;&lt;/html&gt;&quot;);\r\n            print.flush();\r\n\t\t\tprint.close();\r\n            }\r\n\r\nThe download is proceeded successfully but my HTML content is never displayed...I also tried to perform the PrintWriter before the file download but same result...no HTML content displayed.\r\n\r\nI also tried with \r\n`PrintStream print = new PrintStream(out, true, &quot;utf-8&quot;);`\r\n\r\nbut same thing...\r\nany idea on how I can propose a file download and display HTML content on the same Servlet ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4321979/how-do-i-use-getoutputstream-and-getwriter-in-the-same-servlet-request","title":"Using ServletOutputStream and PrintWriter in the same response","body":"<p>In my Servlet I would need to propose a file download to the end user and also display an HTML page indicating the status of the download.</p>\n<p>I read that it was not possible to use both OutputStream and PrintWriter on the same response, but by reading this <a href=\"https://stackoverflow.com/questions/4321979/how-do-i-use-getoutputstream-and-getwriter-in-the-same-servlet-request\">post</a>, I tried to make it working...but no success...</p>\n<p>I tried the following:</p>\n<pre><code>        try(InputStream in = new FileInputStream(new File(bf.path));\n        ServletOutputStream out = response.getOutputStream()) { \n\n        byte[] buffer = new byte[1048];        \n        int numBytesRead;\n        while ((numBytesRead = in.read(buffer)) &gt; 0) {\n            out.write(buffer, 0, numBytesRead);\n        }\n\n        out.flush();\n\n        PrintWriter print = new PrintWriter(new OutputStreamWriter(out, &quot;utf-8&quot;));\n\n        print.println(&quot;&lt;html&gt;&quot;);\n        print.println(&quot;&lt;/html&gt;&quot;);\n        print.flush();\n        print.close();\n        }\n</code></pre>\n<p>The download is proceeded successfully but my HTML content is never displayed...I also tried to perform the PrintWriter before the file download but same result...no HTML content displayed.</p>\n<p>I also tried with\n<code>PrintStream print = new PrintStream(out, true, &quot;utf-8&quot;);</code></p>\n<p>but same thing...\nany idea on how I can propose a file download and display HTML content on the same Servlet ?</p>\n"},{"tags":["java","intellij-idea","suppress-warnings"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665049950,"creation_date":1665049950,"answer_id":73971842,"question_id":73964146,"body_markdown":"IDEA can see the check for &#39;response&#39;, but there are no explicit checks for &#39;getBody&#39; or &#39;getArrivals&#39;. First, you can extract &#39;response.getBody()&#39; to a variable and check if it&#39;s not null. Second, you can use JetBrains &#39;@NotNull&#39; annotation on a return of &#39;getBody&#39; and &#39;getArrivals&#39; if it&#39;s suites your code logic (see https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html)","title":"How to tell IntelliJ IDEA that a method is checking for null value (ConstantConditions warning)","body":"<p>IDEA can see the check for 'response', but there are no explicit checks for 'getBody' or 'getArrivals'. First, you can extract 'response.getBody()' to a variable and check if it's not null. Second, you can use JetBrains '@NotNull' annotation on a return of 'getBody' and 'getArrivals' if it's suites your code logic (see <a href=\"https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html</a>)</p>\n"}],"owner":{"account_id":259136,"reputation":3335,"user_id":541796,"accept_rate":82,"display_name":"Baptiste Pernet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665049950,"creation_date":1664990783,"question_id":73964146,"body_markdown":"We have a common method that we shared across our codebase to check if a response is empty, including `null` body. This is the signature of the method\r\n\r\n```java\r\npublic static &lt;T&gt; boolean checkResponseEmpty(ResponseEntity&lt;T&gt; responseEntity);\r\n```\r\n\r\nIs there a way (maybe by adding annotation) to tell the IDEA that we&#39;ve checked for `null` value on some fields, and it does not have to tell us a warning for `ConstantConditions` for that object and the fields (see screenshot).\r\n\r\n[![IntelliJ IDEA warning][1]][1]\r\n\r\n---\r\n\r\nPS: I already know that I can suppress the warning with `//noinspection ConstantConditions` but I don&#39;t event want to do that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RJICR.png","title":"How to tell IntelliJ IDEA that a method is checking for null value (ConstantConditions warning)","body":"<p>We have a common method that we shared across our codebase to check if a response is empty, including <code>null</code> body. This is the signature of the method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; boolean checkResponseEmpty(ResponseEntity&lt;T&gt; responseEntity);\n</code></pre>\n<p>Is there a way (maybe by adding annotation) to tell the IDEA that we've checked for <code>null</code> value on some fields, and it does not have to tell us a warning for <code>ConstantConditions</code> for that object and the fields (see screenshot).</p>\n<p><a href=\"https://i.stack.imgur.com/RJICR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RJICR.png\" alt=\"IntelliJ IDEA warning\" /></a></p>\n<hr />\n<p>PS: I already know that I can suppress the warning with <code>//noinspection ConstantConditions</code> but I don't event want to do that.</p>\n"},{"tags":["java","spring","duplicates","code-duplication"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1665049332,"post_id":73971678,"comment_id":130609955,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1665049388,"post_id":73971678,"comment_id":130609978,"body_markdown":"the code above will never compile, since you have statements outside of a block, method or constructor. First try to get compilable code before trying to improve it","body":"the code above will never compile, since you have statements outside of a block, method or constructor. First try to get compilable code before trying to improve it"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665050239,"post_id":73971678,"comment_id":130610308,"body_markdown":"Since `updatePartner` is a public, static method, you can simply call it like so: `PartnerOneService.updatePartner( ... )`. (Replace `...` with relevant method arguments.) Therefore you can safely remove the `updatePartner` method from class `PartnerTwoService`.","body":"Since <code>updatePartner</code> is a public, static method, you can simply call it like so: <code>PartnerOneService.updatePartner( ... )</code>. (Replace <code>...</code> with relevant method arguments.) Therefore you can safely remove the <code>updatePartner</code> method from class <code>PartnerTwoService</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665050570,"post_id":73971678,"comment_id":130610446,"body_markdown":"So you are new to Java but are directly working with complex topics that are indicated here, e.g. db access, versioning, services etc.? Why don&#39;t you grab a Java tutorial first and work your way through at least the polymorphism/inheritance portion?","body":"So you are new to Java but are directly working with complex topics that are indicated here, e.g. db access, versioning, services etc.? Why don&#39;t you grab a Java tutorial first and work your way through at least the polymorphism/inheritance portion?"},{"owner":{"account_id":3337557,"reputation":353,"user_id":6546783,"accept_rate":100,"display_name":"dgr379"},"score":0,"creation_date":1665060458,"post_id":73971678,"comment_id":130614062,"body_markdown":"@Thomas I am a frontend person but have to do some backend stuff.","body":"@Thomas I am a frontend person but have to do some backend stuff."}],"answers":[{"tags":[],"owner":{"account_id":18958947,"reputation":26,"user_id":13834921,"display_name":"Ekaterina"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665049769,"creation_date":1665049769,"answer_id":73971804,"question_id":73971678,"body_markdown":"You can create third service like RolePartnerService and put this code in where. Then you need to set roles partner you can call it like \r\n\r\n    rolePartnerService.setRole(mandant, rID, roleCd); //and whatever arguments you need","title":"Two classes with duplicates","body":"<p>You can create third service like RolePartnerService and put this code in where. Then you need to set roles partner you can call it like</p>\n<pre><code>rolePartnerService.setRole(mandant, rID, roleCd); //and whatever arguments you need\n</code></pre>\n"}],"owner":{"account_id":3337557,"reputation":353,"user_id":6546783,"accept_rate":100,"display_name":"dgr379"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665051821,"accepted_answer_id":73971804,"answer_count":1,"score":-3,"last_activity_date":1665049769,"creation_date":1665049250,"question_id":73971678,"body_markdown":"I&#39;m new to Java and object oriented programming. I&#39;ve tried to find the solution myself, but couldn&#39;t manage to solve this problem. \r\n\r\nI have two duplicated pieces of code which I need to remove. As I understand it, I have to create a super class for it. How can I create a super class or method in order to remove the duplicated code?:\r\n\r\n    public class PartnerOneService {\r\n\r\n     public static void updatePartner(Handle handle, Long mandant, Long rID, Integer roleCd, Long lebId, String user) throws ResourceNotFoundException {\r\n         // 1: Check if partner already exists\r\n                Role roleInDb = roleSql.readActive(mandant, rID, roleCd);\r\n        \r\n                if (roleInDb == null) {\r\n                    // 2: Insert new partner \r\n                    Process process = processCheck.get(0);\r\n                    Role role = createRole(mandant, roleCd, rID, process.getProcessId(), process.getProcessSubId(), lebId);\r\n                    roleVersioning.insert(role, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\r\n                } else {\r\n                    // 3: Update partner \r\n                    roleInDb.setPartnerId(lebId);\r\n                    roleVersioning.insert(roleInDb, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\r\n                }\r\n    }\r\n    }\r\n\r\n    public class PartnerTwoService {\r\n     public static void updatePartner(Handle handle, Long mandant, Long rID, Integer roleCd, Long lebId, String user) throws ResourceNotFoundException {\r\n         // 1: Check if partner already exists\r\n                Role roleInDb = roleSql.readActive(mandant, rID, roleCd);\r\n        \r\n                if (roleInDb == null) {\r\n                    // 2: Insert new partner \r\n                    Process process = processCheck.get(0);\r\n                    Role role = createRole(mandant, roleCd, rID, process.getProcessId(), process.getProcessSubId(), lebId);\r\n                    roleVersioning.insert(role, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\r\n                } else {\r\n                    // 3: Update partner \r\n                    roleInDb.setPartnerId(lebId);\r\n                    roleVersioning.insert(roleInDb, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\r\n                }\r\n    }\r\n    }","title":"Two classes with duplicates","body":"<p>I'm new to Java and object oriented programming. I've tried to find the solution myself, but couldn't manage to solve this problem.</p>\n<p>I have two duplicated pieces of code which I need to remove. As I understand it, I have to create a super class for it. How can I create a super class or method in order to remove the duplicated code?:</p>\n<pre><code>public class PartnerOneService {\n\n public static void updatePartner(Handle handle, Long mandant, Long rID, Integer roleCd, Long lebId, String user) throws ResourceNotFoundException {\n     // 1: Check if partner already exists\n            Role roleInDb = roleSql.readActive(mandant, rID, roleCd);\n    \n            if (roleInDb == null) {\n                // 2: Insert new partner \n                Process process = processCheck.get(0);\n                Role role = createRole(mandant, roleCd, rID, process.getProcessId(), process.getProcessSubId(), lebId);\n                roleVersioning.insert(role, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\n            } else {\n                // 3: Update partner \n                roleInDb.setPartnerId(lebId);\n                roleVersioning.insert(roleInDb, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\n            }\n}\n}\n\npublic class PartnerTwoService {\n public static void updatePartner(Handle handle, Long mandant, Long rID, Integer roleCd, Long lebId, String user) throws ResourceNotFoundException {\n     // 1: Check if partner already exists\n            Role roleInDb = roleSql.readActive(mandant, rID, roleCd);\n    \n            if (roleInDb == null) {\n                // 2: Insert new partner \n                Process process = processCheck.get(0);\n                Role role = createRole(mandant, roleCd, rID, process.getProcessId(), process.getProcessSubId(), lebId);\n                roleVersioning.insert(role, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\n            } else {\n                // 3: Update partner \n                roleInDb.setPartnerId(lebId);\n                roleVersioning.insert(roleInDb, TecTaskCd.MAN_REGULATION.getValue(), user, SfDate.getTimestampMilli(), ActualizationStatus.FINAL, false);\n            }\n}\n}\n</code></pre>\n"},{"tags":["java","scala","date","datetime"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1664882974,"post_id":73947147,"comment_id":130567285,"body_markdown":"Your question is not clear, possibly need some example input and expected output.\nSince you need to account for calendar, what if d1 and d2 is in different month?","body":"Your question is not clear, possibly need some example input and expected output. Since you need to account for calendar, what if d1 and d2 is in different month?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1664883684,"post_id":73947147,"comment_id":130567499,"body_markdown":"Have you tried [Duration.between](https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-) instead? Then, from the resulting duration object you could get months plus days, hours, minutes and seconds to calculate your fractional value.","body":"Have you tried <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">Duration.between</a> instead? Then, from the resulting duration object you could get months plus days, hours, minutes and seconds to calculate your fractional value."},{"owner":{"account_id":7662568,"reputation":143,"user_id":17931591,"display_name":"oren revenge"},"score":0,"creation_date":1664883928,"post_id":73947147,"comment_id":130567569,"body_markdown":"I updated my example, also I wanted to know if there is something easier to implement than making the fractional part myself","body":"I updated my example, also I wanted to know if there is something easier to implement than making the fractional part myself"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664885338,"post_id":73947147,"comment_id":130568026,"body_markdown":"@orenrevenge I believe you mean `20/31 + 30/30 + 31/31 + 23/31`? There are 20 days in the range in May, and June has 30 days, the upper bound is exclusive, like in your first example.","body":"@orenrevenge I believe you mean <code>20&#47;31 + 30&#47;30 + 31&#47;31 + 23&#47;31</code>? There are 20 days in the range in May, and June has 30 days, the upper bound is exclusive, like in your first example."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664885779,"post_id":73947147,"comment_id":130568166,"body_markdown":"_if there is something easier to implement than making the fractional part myself_ - I assume this is homework; the point is for you to write it. If it&#39;s not: This is a bit bizarre - the general way durations are spelled out is either in whole atomaries (&#39;484 days&#39; - days is then the chosen atomary. You can pick seconds too, whatever you want) - or in e.g. &#39;2 years, 5 months, 3 days&#39;. &#39;5.4823 months&#39; is not common. Given that it isn&#39;t common, the `java.time` library doesn&#39;t cater to the use case.","body":"<i>if there is something easier to implement than making the fractional part myself</i> - I assume this is homework; the point is for you to write it. If it&#39;s not: This is a bit bizarre - the general way durations are spelled out is either in whole atomaries (&#39;484 days&#39; - days is then the chosen atomary. You can pick seconds too, whatever you want) - or in e.g. &#39;2 years, 5 months, 3 days&#39;. &#39;5.4823 months&#39; is not common. Given that it isn&#39;t common, the <code>java.time</code> library doesn&#39;t cater to the use case."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664893700,"post_id":73947147,"comment_id":130571245,"body_markdown":"Depending on how you want to define fractional months one option is to define `double monthLengthDays = (double) ChronoUnit.MONTHS.getDuration().toSeconds() / (double) ChronoUnit.DAYS.getDuration().toSeconds();` and then calculate your difference as `ChronoUnit.DAYS.between(d1, d2) / monthLengthDays`. The difference between 1999-05-12 and 1999-08-24 is then 3.4169079447216575 months. Beware that in a non-leap year the difference between Jan 31 and Mar 1 is less than a month because it’s 30 days and an average month is longer than that.","body":"Depending on how you want to define fractional months one option is to define <code>double monthLengthDays = (double) ChronoUnit.MONTHS.getDuration().toSeconds() &#47; (double) ChronoUnit.DAYS.getDuration().toSeconds();</code> and then calculate your difference as <code>ChronoUnit.DAYS.between(d1, d2) &#47; monthLengthDays</code>. The difference between 1999-05-12 and 1999-08-24 is then 3.4169079447216575 months. Beware that in a non-leap year the difference between Jan 31 and Mar 1 is less than a month because it’s 30 days and an average month is longer than that."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1664905100,"post_id":73947147,"comment_id":130575246,"body_markdown":"@AlexanderIvanchenko Actually, I would say there is 20 days in May and 23 days in August in that range, since a common convention is that the lower bound is inclusive and the upper bound is exclusive, rather than the other way round. At least we both agree on the actual value being about 3.387. Do note however, that&#39;s not what your answer produces.","body":"@AlexanderIvanchenko Actually, I would say there is 20 days in May and 23 days in August in that range, since a common convention is that the lower bound is inclusive and the upper bound is exclusive, rather than the other way round. At least we both agree on the actual value being about 3.387. Do note however, that&#39;s not what your answer produces."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664909414,"post_id":73947147,"comment_id":130576354,"body_markdown":"@Sweeper You&#39;re right. `20` days of May and `23` of August should contribute the result. And thanks for pointing at my mistake, fixed the answer.","body":"@Sweeper You&#39;re right. <code>20</code> days of May and <code>23</code> of August should contribute the result. And thanks for pointing at my mistake, fixed the answer."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1664909831,"post_id":73947147,"comment_id":130576467,"body_markdown":"@rzwitserloot Can you define &quot;atomary&quot;? I&#39;ve never heard the word, and don&#39;t find it in dictionaries.","body":"@rzwitserloot Can you define &quot;atomary&quot;? I&#39;ve never heard the word, and don&#39;t find it in dictionaries."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664915291,"post_id":73947147,"comment_id":130578050,"body_markdown":"Among all the posts (including questions, answers, and comments), the comment by @OleV.V. makes the most sense. Even if you want to keep `monthLengthDays` =  31, it will be `ChronoUnit.DAYS.between(d1, d2) / 31.0 = 3.35` i.e. by any logical calculation, it will be between 3 and 4 months, never 2.786, the way you have imagined. If [Stephen Colebourne](https://www.linkedin.com/in/stephencolebourne) will see your calculation, he will faint.","body":"Among all the posts (including questions, answers, and comments), the comment by @OleV.V. makes the most sense. Even if you want to keep <code>monthLengthDays</code> =  31, it will be <code>ChronoUnit.DAYS.between(d1, d2) &#47; 31.0 = 3.35</code> i.e. by any logical calculation, it will be between 3 and 4 months, never 2.786, the way you have imagined. If <a href=\"https://www.linkedin.com/in/stephencolebourne\" rel=\"nofollow noreferrer\">Stephen Colebourne</a> will see your calculation, he will faint."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1664919604,"post_id":73947147,"comment_id":130579171,"body_markdown":"@erickson `atom` = smallest unit. In physics it&#39;s backed by the laws of nature, but in human systems, it&#39;s by decree. A cent is the atomary unit of dollars and euros - not because the notion of &#39;half a cent&#39; is unthinkable (half a cent is an easy notion to understand, of course), but simply because virtually all monetary systems have decreed that they shall not worry about things smaller than it. Perhaps &#39;granularity&#39; is the right idea, but what word would you use for the unit of the smallest thing that is _above_ the chosen granularity?","body":"@erickson <code>atom</code> = smallest unit. In physics it&#39;s backed by the laws of nature, but in human systems, it&#39;s by decree. A cent is the atomary unit of dollars and euros - not because the notion of &#39;half a cent&#39; is unthinkable (half a cent is an easy notion to understand, of course), but simply because virtually all monetary systems have decreed that they shall not worry about things smaller than it. Perhaps &#39;granularity&#39; is the right idea, but what word would you use for the unit of the smallest thing that is <i>above</i> the chosen granularity?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666367539,"post_id":73947147,"comment_id":130927995,"body_markdown":"So &quot;atomary&quot; ≡ &quot;atom&quot;.","body":"So &quot;atomary&quot; ≡ &quot;atom&quot;."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664903624,"creation_date":1664885313,"answer_id":73947644,"question_id":73947147,"body_markdown":"Here is my solution:\r\n\r\n    public static double monthsBetween(LocalDate start, LocalDate end) {\r\n        if (start.isAfter(end)) throw new IllegalArgumentException(&quot;Start must be before end!&quot;);\r\n\r\n        var lastDayOfStartMonth = start.with(TemporalAdjusters.lastDayOfMonth());\r\n        var firstDayOfEndMonth = end.with(TemporalAdjusters.firstDayOfMonth());\r\n        var startMonthLength = (double)start.lengthOfMonth();\r\n        var endMonthLength = (double)end.lengthOfMonth();\r\n        if (lastDayOfStartMonth.isAfter(firstDayOfEndMonth)) { // same month\r\n            return ChronoUnit.DAYS.between(start, end) / startMonthLength;\r\n        }\r\n        long months = ChronoUnit.MONTHS.between(lastDayOfStartMonth, firstDayOfEndMonth);\r\n        double startFraction = ChronoUnit.DAYS.between(start, lastDayOfStartMonth.plusDays(1)) / startMonthLength;\r\n        double endFraction = ChronoUnit.DAYS.between(firstDayOfEndMonth, end) / endMonthLength;\r\n        return months + startFraction + endFraction;\r\n    }\r\n\r\nThe idea is that you find the last day of `start`&#39;s month (`lastDayOfStartMonth`), and the first day of `end`&#39;s month (`firstDayOfEndMonth`) using temporal adjusters. These two dates are very important. The number you want is the sum of:\r\n\r\n- the fractional number of a month between `start` and `lastDayOfStartMonth`\r\n- the whole number of months between `lastDayOfStartMonth` and `firstDayOfEndMonth`.\r\n- the fractional number of a month between `firstDayOfEndMonth` and `end`.\r\n\r\nThen there is the edge case of when both dates are within the same month, which is easy to handle.\r\n\r\nBy using this definition, the nice property that the number of months between the first day of any two months is always a whole number is maintained.\r\n\r\nNote that in the first calculation, you have to add one day to `lastDayOfStartMonth`, because `ChronoUnit.between` treats the upper bound as exclusive, but we actually want to count it as one day here.","title":"Fractional month difference between 2 dates (Scala or Java)","body":"<p>Here is my solution:</p>\n<pre><code>public static double monthsBetween(LocalDate start, LocalDate end) {\n    if (start.isAfter(end)) throw new IllegalArgumentException(&quot;Start must be before end!&quot;);\n\n    var lastDayOfStartMonth = start.with(TemporalAdjusters.lastDayOfMonth());\n    var firstDayOfEndMonth = end.with(TemporalAdjusters.firstDayOfMonth());\n    var startMonthLength = (double)start.lengthOfMonth();\n    var endMonthLength = (double)end.lengthOfMonth();\n    if (lastDayOfStartMonth.isAfter(firstDayOfEndMonth)) { // same month\n        return ChronoUnit.DAYS.between(start, end) / startMonthLength;\n    }\n    long months = ChronoUnit.MONTHS.between(lastDayOfStartMonth, firstDayOfEndMonth);\n    double startFraction = ChronoUnit.DAYS.between(start, lastDayOfStartMonth.plusDays(1)) / startMonthLength;\n    double endFraction = ChronoUnit.DAYS.between(firstDayOfEndMonth, end) / endMonthLength;\n    return months + startFraction + endFraction;\n}\n</code></pre>\n<p>The idea is that you find the last day of <code>start</code>'s month (<code>lastDayOfStartMonth</code>), and the first day of <code>end</code>'s month (<code>firstDayOfEndMonth</code>) using temporal adjusters. These two dates are very important. The number you want is the sum of:</p>\n<ul>\n<li>the fractional number of a month between <code>start</code> and <code>lastDayOfStartMonth</code></li>\n<li>the whole number of months between <code>lastDayOfStartMonth</code> and <code>firstDayOfEndMonth</code>.</li>\n<li>the fractional number of a month between <code>firstDayOfEndMonth</code> and <code>end</code>.</li>\n</ul>\n<p>Then there is the edge case of when both dates are within the same month, which is easy to handle.</p>\n<p>By using this definition, the nice property that the number of months between the first day of any two months is always a whole number is maintained.</p>\n<p>Note that in the first calculation, you have to add one day to <code>lastDayOfStartMonth</code>, because <code>ChronoUnit.between</code> treats the upper bound as exclusive, but we actually want to count it as one day here.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664909214,"creation_date":1664886346,"answer_id":73947832,"question_id":73947147,"body_markdown":"To approach this problem, you need to consider the following cases:\r\n\r\n* dates belong to the same year and month;\r\n\r\n* dates belong to different year and/or month;\r\n\r\n* dates are invalid.\r\n\r\nWhen dates belong to the same year and month, then the result would be the difference in days between the two dates divided by the number of days in this month, which can be found using [`LocalDate.lengthOfMonth()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#lengthOfMonth()).\r\n\r\nIn the general case, the range of dates can be split into three parts:\r\n* *two fractional parts* at the beginning and at the end of the given range of dates (both could be evaluated using the approach for the simplest case when both data belong to the same *year/month*)\r\n* the *whole part*, we can use `ChronoUnit.MONTHS.between()` to calculate it.\r\n\r\nHere&#39;s how implementation might look like (`d1` - inclusive, `d2` - exclusive):\r\n\r\n    public static double getFractionalMonthDiff(LocalDate d1, LocalDate d2) {\r\n        if (d1.isAfter(d2)) throw new IllegalArgumentException(); // or return a value like -1\r\n        \r\n        if (d1.getYear() == d2.getYear() &amp;&amp; d1.getMonth() == d2.getMonth()) { // dates belong to same month and year\r\n            \r\n            return getFractionalPartOfMonth(d2.getDayOfMonth() - d1.getDayOfMonth(), d1.lengthOfMonth());\r\n        }\r\n        \r\n        int monthLen1 = d1.lengthOfMonth();\r\n        \r\n        return getFractionalPartOfMonth(monthLen1 - (d1.getDayOfMonth() - 1), monthLen1) // from the given day of month of the First Date d1 Inclusive to the Last day of month\r\n            + getFractionalPartOfMonth(d2.getDayOfMonth() - 1, d2.lengthOfMonth())       // from the First day of month to given day of month of the Second Date d2 Exclusive (for that reason 1 day was subtracted, and similarly on the previous line 1 day was added)\r\n            + ChronoUnit.MONTHS.between(d1.withDayOfMonth(monthLen1), d2.withDayOfMonth(1));\r\n    }\r\n    \r\n    public static double getFractionalPartOfMonth(int daysInterval, int monthLength) {\r\n        return daysInterval / (double) monthLength;\r\n    }","title":"Fractional month difference between 2 dates (Scala or Java)","body":"<p>To approach this problem, you need to consider the following cases:</p>\n<ul>\n<li><p>dates belong to the same year and month;</p>\n</li>\n<li><p>dates belong to different year and/or month;</p>\n</li>\n<li><p>dates are invalid.</p>\n</li>\n</ul>\n<p>When dates belong to the same year and month, then the result would be the difference in days between the two dates divided by the number of days in this month, which can be found using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#lengthOfMonth()\" rel=\"nofollow noreferrer\"><code>LocalDate.lengthOfMonth()</code></a>.</p>\n<p>In the general case, the range of dates can be split into three parts:</p>\n<ul>\n<li><em>two fractional parts</em> at the beginning and at the end of the given range of dates (both could be evaluated using the approach for the simplest case when both data belong to the same <em>year/month</em>)</li>\n<li>the <em>whole part</em>, we can use <code>ChronoUnit.MONTHS.between()</code> to calculate it.</li>\n</ul>\n<p>Here's how implementation might look like (<code>d1</code> - inclusive, <code>d2</code> - exclusive):</p>\n<pre><code>public static double getFractionalMonthDiff(LocalDate d1, LocalDate d2) {\n    if (d1.isAfter(d2)) throw new IllegalArgumentException(); // or return a value like -1\n    \n    if (d1.getYear() == d2.getYear() &amp;&amp; d1.getMonth() == d2.getMonth()) { // dates belong to same month and year\n        \n        return getFractionalPartOfMonth(d2.getDayOfMonth() - d1.getDayOfMonth(), d1.lengthOfMonth());\n    }\n    \n    int monthLen1 = d1.lengthOfMonth();\n    \n    return getFractionalPartOfMonth(monthLen1 - (d1.getDayOfMonth() - 1), monthLen1) // from the given day of month of the First Date d1 Inclusive to the Last day of month\n        + getFractionalPartOfMonth(d2.getDayOfMonth() - 1, d2.lengthOfMonth())       // from the First day of month to given day of month of the Second Date d2 Exclusive (for that reason 1 day was subtracted, and similarly on the previous line 1 day was added)\n        + ChronoUnit.MONTHS.between(d1.withDayOfMonth(monthLen1), d2.withDayOfMonth(1));\n}\n\npublic static double getFractionalPartOfMonth(int daysInterval, int monthLength) {\n    return daysInterval / (double) monthLength;\n}\n</code></pre>\n"}],"owner":{"account_id":7662568,"reputation":143,"user_id":17931591,"display_name":"oren revenge"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73947644,"answer_count":2,"score":1,"last_activity_date":1665049479,"creation_date":1664882592,"question_id":73947147,"body_markdown":"I&#39;m trying to find how many months are between 2 dates. My code is something like this right now\r\n\r\n    ChronoUnit.MONTHS.between(d1, d2)\r\n\r\nThe problem is that the result is a long. For example if the dates differ only in a few days I should get a result something like 0.34 instead of 0.\r\n\r\nAlso I need my code to account for the calendar, I cant assume each month has 31 days.\r\n\r\n\r\n    Diff between 1999-05-12 and 1999-08-24\r\n    Assuming all months have 31 days for simplicity\r\n    \r\n    result = (19/31 + 31/31 + 31/31 + 24/31) = 2.793\r\n    According to the calendar we replace the 31s with the correct number of days for that specific year and month","title":"Fractional month difference between 2 dates (Scala or Java)","body":"<p>I'm trying to find how many months are between 2 dates. My code is something like this right now</p>\n<pre><code>ChronoUnit.MONTHS.between(d1, d2)\n</code></pre>\n<p>The problem is that the result is a long. For example if the dates differ only in a few days I should get a result something like 0.34 instead of 0.</p>\n<p>Also I need my code to account for the calendar, I cant assume each month has 31 days.</p>\n<pre><code>Diff between 1999-05-12 and 1999-08-24\nAssuming all months have 31 days for simplicity\n\nresult = (19/31 + 31/31 + 31/31 + 24/31) = 2.793\nAccording to the calendar we replace the 31s with the correct number of days for that specific year and month\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"score":0,"creation_date":1665048638,"post_id":73912092,"comment_id":130609697,"body_markdown":"Hi am unable to pass 2 parameters to createQuery","body":"Hi am unable to pass 2 parameters to createQuery"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665049164,"post_id":73912092,"comment_id":130609891,"body_markdown":"I have no idea what `AppEntityManager` is, that&#39;s your own class. `javax.persistence.EntityManager` has a `createQuery(String query, Class resultType)` method. You can also remove the second parameter and do a cast.","body":"I have no idea what <code>AppEntityManager</code> is, that&#39;s your own class. <code>javax.persistence.EntityManager</code> has a <code>createQuery(String query, Class resultType)</code> method. You can also remove the second parameter and do a cast."},{"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"score":0,"creation_date":1665049492,"post_id":73912092,"comment_id":130610012,"body_markdown":"if i pass only query am getting exception \nJDBCExceptionReporter:77 - SQL Error: 1146, SQLState: 42S02\n02:42:14,522 ERROR JDBCExceptionReporter:78 - (conn:107546) Table &#39;r_db.TableBase&#39; doesn&#39;t exist","body":"if i pass only query am getting exception  JDBCExceptionReporter:77 - SQL Error: 1146, SQLState: 42S02 02:42:14,522 ERROR JDBCExceptionReporter:78 - (conn:107546) Table &#39;r_db.TableBase&#39; doesn&#39;t exist"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665050520,"post_id":73912092,"comment_id":130610421,"body_markdown":"I don&#39;t know what your `AppEntityManager` does. It&#39;s your own class. You&#39;ll have to debug that yourself. I can only tell you how Hibernate works.","body":"I don&#39;t know what your <code>AppEntityManager</code> does. It&#39;s your own class. You&#39;ll have to debug that yourself. I can only tell you how Hibernate works."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665049186,"creation_date":1664558728,"answer_id":73912092,"question_id":73910435,"body_markdown":"It would be easiest if you use table per class inheritance:\r\n\r\n```java\r\n    @Entity\r\n    @Inheritance(TABLE_PER_CLASS)\r\n    public class TableBase {\r\n    \r\n            @Id\r\n            @Column(name=&quot;NAME&quot;)\r\n            private String name;\r\n    \r\n            @Column(name=&quot;PHONE&quot;)\r\n            private String phoneNumber;\r\n    \r\n    \r\n            public String getPhoneNumber() {\r\n                    return phoneNumber;\r\n            }\r\n    \r\n            public void setPhoneNumber(String phone) {\r\n                    this.phoneNumber = phone;\r\n            }\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE_1&quot;)\r\n    public class Table1 extends TableBase {}\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE_2&quot;)\r\n    public class Table2 extends TableBase {}\r\n```\r\n\r\nthen you can use the following code:\r\n\r\n```java\r\n    public List&lt;TableBase&gt; getUsers(){\r\n        AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\r\n        appEntMgr.startTransaction();\r\n        return (List&lt;TableBase&gt;) appEntMgr.createQuery(&quot;select e from TableBase e&quot;)\r\n                    .setFirstResult(0)\r\n                    .setMaxResults(10)\r\n                    .getResultList();\r\n    }\r\n```","title":"Is it possible to execute UNION query to get data from 2 data tables with java hibernate","body":"<p>It would be easiest if you use table per class inheritance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Inheritance(TABLE_PER_CLASS)\n    public class TableBase {\n    \n            @Id\n            @Column(name=&quot;NAME&quot;)\n            private String name;\n    \n            @Column(name=&quot;PHONE&quot;)\n            private String phoneNumber;\n    \n    \n            public String getPhoneNumber() {\n                    return phoneNumber;\n            }\n    \n            public void setPhoneNumber(String phone) {\n                    this.phoneNumber = phone;\n            }\n    }\n\n    @Entity\n    @Table(name=&quot;TABLE_1&quot;)\n    public class Table1 extends TableBase {}\n\n    @Entity\n    @Table(name=&quot;TABLE_2&quot;)\n    public class Table2 extends TableBase {}\n</code></pre>\n<p>then you can use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;TableBase&gt; getUsers(){\n        AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\n        appEntMgr.startTransaction();\n        return (List&lt;TableBase&gt;) appEntMgr.createQuery(&quot;select e from TableBase e&quot;)\n                    .setFirstResult(0)\n                    .setMaxResults(10)\n                    .getResultList();\n    }\n</code></pre>\n"}],"owner":{"account_id":17951952,"reputation":263,"user_id":21110842,"display_name":"lada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665049186,"creation_date":1664548979,"question_id":73910435,"body_markdown":"This is the example i am provide following my my exact case\r\n\r\nI want data from two db tables into one list with UNION or any other query in java hibernate\r\n\r\nI tried the following \r\n Entity for table 1 this is my first data table that have 2 columns :\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE&quot;)\r\n    public class Table  {\r\n    \r\n            @Id\r\n            @Column(name=&quot;NAME&quot;)\r\n            private String name;\r\n    \r\n            @Column(name=&quot;PHONE&quot;)\r\n            private String phoneNumber;\r\n    \r\n    \r\n            public String getPhoneNumber() {\r\n                    return phoneNumber;\r\n            }\r\n    \r\n            public void setPhoneNumber(String phone) {\r\n                    this.phoneNumber = phone;\r\n            }\r\n       }\r\n\r\nThis Entity for my second db table that have same columns as first db table.\r\n\r\n        @Entity\r\n        @Table(name=&quot;TABLE_2&quot;)\r\n        public class Table2  {\r\n        \r\n                @Id\r\n                @Column(name=&quot;NAME&quot;)\r\n                private String name;\r\n        \r\n                @Column(name=&quot;PHONE&quot;)\r\n                private String phoneNumber;\r\n        \r\n        \r\n                public String getPhoneNumber() {\r\n                        return phoneNumber;\r\n                }\r\n        \r\n                public void setPhoneNumber(String phone) {\r\n                        this.phoneNumber = phone;\r\n                }\r\n       }\r\n\r\nMy Query : \r\n\r\n    select a from Table a union select a from Table2 a;\r\n\r\nMy  code to get data and store into list with new object\r\n\r\n        public ArrayList&lt;DTO&gt; getUsers(){\r\n\r\n                ArrayList&lt;DTO&gt; flist = new ArrayList&lt;DTO&gt;();\r\n                Query q = null;\r\n                String query = null;\r\n                query = &quot;select a from Table a UNION  select a from Table2 a&quot;;\r\n                try{\r\n                        AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\r\n                        appEntMgr.startTransaction();\r\n                        \r\n                        q = appEntMgr.createQuery(query);\r\n                        q.setFirstResult(0);\r\n                        q.setMaxResults(10);\r\n                        \r\n                        List&lt;Object[]&gt; list = q.getResultList();\r\n                        \r\n                        DTO dto = null;\r\n\r\n                        for (Object[] folderType: list) {\r\n                                dto.setName((String)folderType[0]);\r\n                                dto.setPhoneNumber((String)folderType[1]);\r\n                                flist.add(dto);\r\n                        }\r\n               }catch (Exception e) {\r\n                        log.error(&quot;Exception ::&quot; + e);\r\n               }\r\n                return flist;\r\n        }\r\n\r\n\r\nPlease help me if is it possible to get data from 2 DB table or Explain me\r\n\r\n ","title":"Is it possible to execute UNION query to get data from 2 data tables with java hibernate","body":"<p>This is the example i am provide following my my exact case</p>\n<p>I want data from two db tables into one list with UNION or any other query in java hibernate</p>\n<p>I tried the following\nEntity for table 1 this is my first data table that have 2 columns :</p>\n<pre><code>@Entity\n@Table(name=&quot;TABLE&quot;)\npublic class Table  {\n\n        @Id\n        @Column(name=&quot;NAME&quot;)\n        private String name;\n\n        @Column(name=&quot;PHONE&quot;)\n        private String phoneNumber;\n\n\n        public String getPhoneNumber() {\n                return phoneNumber;\n        }\n\n        public void setPhoneNumber(String phone) {\n                this.phoneNumber = phone;\n        }\n   }\n</code></pre>\n<p>This Entity for my second db table that have same columns as first db table.</p>\n<pre><code>    @Entity\n    @Table(name=&quot;TABLE_2&quot;)\n    public class Table2  {\n    \n            @Id\n            @Column(name=&quot;NAME&quot;)\n            private String name;\n    \n            @Column(name=&quot;PHONE&quot;)\n            private String phoneNumber;\n    \n    \n            public String getPhoneNumber() {\n                    return phoneNumber;\n            }\n    \n            public void setPhoneNumber(String phone) {\n                    this.phoneNumber = phone;\n            }\n   }\n</code></pre>\n<p>My Query :</p>\n<pre><code>select a from Table a union select a from Table2 a;\n</code></pre>\n<p>My  code to get data and store into list with new object</p>\n<pre><code>    public ArrayList&lt;DTO&gt; getUsers(){\n\n            ArrayList&lt;DTO&gt; flist = new ArrayList&lt;DTO&gt;();\n            Query q = null;\n            String query = null;\n            query = &quot;select a from Table a UNION  select a from Table2 a&quot;;\n            try{\n                    AppEntityManager appEntMgr = AppEntityManager.getAppEntityManager();\n                    appEntMgr.startTransaction();\n                    \n                    q = appEntMgr.createQuery(query);\n                    q.setFirstResult(0);\n                    q.setMaxResults(10);\n                    \n                    List&lt;Object[]&gt; list = q.getResultList();\n                    \n                    DTO dto = null;\n\n                    for (Object[] folderType: list) {\n                            dto.setName((String)folderType[0]);\n                            dto.setPhoneNumber((String)folderType[1]);\n                            flist.add(dto);\n                    }\n           }catch (Exception e) {\n                    log.error(&quot;Exception ::&quot; + e);\n           }\n            return flist;\n    }\n</code></pre>\n<p>Please help me if is it possible to get data from 2 DB table or Explain me</p>\n"},{"tags":["java","android","image-processing","android-camera","android-camera2"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1659431906,"post_id":73202741,"comment_id":129287632,"body_markdown":"few people in `image-processing` know much about android APIs. you should have tagged `android` and `java` because the other two tags are monitored by almost nobody.","body":"few people in <code>image-processing</code> know much about android APIs. you should have tagged <code>android</code> and <code>java</code> because the other two tags are monitored by almost nobody."},{"owner":{"account_id":445963,"reputation":2178,"user_id":838719,"accept_rate":75,"display_name":"Florian Echtler"},"score":0,"creation_date":1665393490,"post_id":73202741,"comment_id":130681597,"body_markdown":"Well, how do you initialize the `previewSurface` in the second code snippet? I think we need a bit more context here.","body":"Well, how do you initialize the <code>previewSurface</code> in the second code snippet? I think we need a bit more context here."},{"owner":{"account_id":6830998,"reputation":2903,"user_id":5255006,"accept_rate":57,"display_name":"Krunal Kapadiya"},"score":0,"creation_date":1665394998,"post_id":73202741,"comment_id":130682120,"body_markdown":"https://github.com/android/camera-samples/tree/main/Camera2Extensions Checkout this repository","body":"<a href=\"https://github.com/android/camera-samples/tree/main/Camera2Extensions\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/tree/main/Camera2Extension&zwnj;&#8203;s</a> Checkout this repository"},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1665656092,"post_id":73202741,"comment_id":130752854,"body_markdown":"@KrunalKapadiya See [this example file](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/camera2/impl/CameraExtensionSessionImpl.java), does line **470** help you to understand your error? It&#39;s telling you that your `captureRequest.getTargets().size()` is not **1**. Maybe check with: `var tempNum = myRequest.getTargets().size()` then `print(&quot;captureRequest Target SIZE : $tempNum&quot;)` ... If it is not **1** then your target is **not ready/available**. Try putting first the `.build` result into a variable before later using `session.setRepeatingRequest`","body":"@KrunalKapadiya See <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/camera2/impl/CameraExtensionSessionImpl.java\" rel=\"nofollow noreferrer\">this example file</a>, does line <b>470</b> help you to understand your error? It&#39;s telling you that your <code>captureRequest.getTargets().size()</code> is not <b>1</b>. Maybe check with: <code>var tempNum = myRequest.getTargets().size()</code> then <code>print(&quot;captureRequest Target SIZE : $tempNum&quot;)</code> ... If it is not <b>1</b> then your target is <b>not ready/available</b>. Try putting first the <code>.build</code> result into a variable before later using <code>session.setRepeatingRequest</code>"},{"owner":{"account_id":6830998,"reputation":2903,"user_id":5255006,"accept_rate":57,"display_name":"Krunal Kapadiya"},"score":0,"creation_date":1666179505,"post_id":73202741,"comment_id":130873221,"body_markdown":"I can see, but I added target after initialisation of stillImagereader and there is no method to check getTarget().size(). @VC.One","body":"I can see, but I added target after initialisation of stillImagereader and there is no method to check getTarget().size(). @VC.One"}],"owner":{"account_id":6830998,"reputation":2903,"user_id":5255006,"accept_rate":57,"display_name":"Krunal Kapadiya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1665048947,"creation_date":1659420772,"question_id":73202741,"body_markdown":"I am using [Camera2 Extension][1] example for real time image processing. Before that I was using [Camera2 Basic][2]. In Basic sample I was getting real-time image as from below code snippet.\r\n\r\n```\r\nval captureRequest = camera.createCaptureRequest(\r\n    CameraDevice.TEMPLATE_PREVIEW\r\n).apply {\r\n    addTarget(getViewDataBinding()?.viewFinder!!.holder.surface)\r\n    addTarget(imageReader.surface)\r\n}\r\n\r\n// This will keep sending the capture request as frequently as possible until the\r\n// session is torn down or session.stopRepeating() is called\r\ncaptureRequest.set(\r\n    CaptureRequest.CONTROL_MODE,\r\n    CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_PICTURE\r\n)\r\ncaptureRequest.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF)\r\nsession.setRepeatingRequest(captureRequest.build(), null, cameraHandler)\r\n```\r\n\r\nYou can see that, I added target **imageReader** in above code. I am using almost similar way with extension API. But in **ExtensionSessionConfiguration** configured method.\r\n\r\n```\r\ncameraExtensionSession = session\r\ntry {\r\n    val captureRequest = camera.createCaptureRequest(\r\n        CameraDevice.TEMPLATE_PREVIEW\r\n    ).apply {\r\n        addTarget(previewSurface)\r\n        addTarget(imageReader.surface)\r\n    }\r\n    captureRequest.set(\r\n        CaptureRequest.CONTROL_MODE,\r\n        CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_PICTURE\r\n    )\r\n    cameraExtensionSession.setRepeatingRequest(\r\n        captureRequest.build(),\r\n        Dispatchers.IO.asExecutor(), captureCallbacks\r\n    )\r\n} catch (e: CameraAccessException) {\r\n    Toast.makeText(\r\n        this@LiveCameraActivity, &quot;Failed to preview capture request.&quot;,\r\n        Toast.LENGTH_SHORT\r\n    ).show()\r\n    finish()\r\n}\r\n```\r\n\r\nAbove code giving me error like below\r\n\r\n```\r\njava.lang.IllegalArgumentException: Invalid repeating request output target!\r\n    at android.hardware.camera2.impl.CameraExtensionSessionImpl.setRepeatingRequest(CameraExtensionSessionImpl.java:442)\r\n    at com.cherish.smartcam.ui.liveCamera.LiveCameraActivity$startPreview$extensionConfiguration$1.onConfigured(CameraActivity.kt:399)\r\n```\r\n\r\nI have configured image as JPEG. My problem here, \r\n- How can I get live bitmap image with Camera2 extension API?\r\n- Is there anything wrong in above code?\r\n\r\n  [1]: https://github.com/android/camera-samples/tree/master/Camera2Extensions\r\n  [2]: https://github.com/android/camera-samples/tree/master/Camera2Basic","title":"How can I get live bitmap image with Camera2 extension API","body":"<p>I am using <a href=\"https://github.com/android/camera-samples/tree/master/Camera2Extensions\" rel=\"noreferrer\">Camera2 Extension</a> example for real time image processing. Before that I was using <a href=\"https://github.com/android/camera-samples/tree/master/Camera2Basic\" rel=\"noreferrer\">Camera2 Basic</a>. In Basic sample I was getting real-time image as from below code snippet.</p>\n<pre><code>val captureRequest = camera.createCaptureRequest(\n    CameraDevice.TEMPLATE_PREVIEW\n).apply {\n    addTarget(getViewDataBinding()?.viewFinder!!.holder.surface)\n    addTarget(imageReader.surface)\n}\n\n// This will keep sending the capture request as frequently as possible until the\n// session is torn down or session.stopRepeating() is called\ncaptureRequest.set(\n    CaptureRequest.CONTROL_MODE,\n    CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_PICTURE\n)\ncaptureRequest.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF)\nsession.setRepeatingRequest(captureRequest.build(), null, cameraHandler)\n</code></pre>\n<p>You can see that, I added target <strong>imageReader</strong> in above code. I am using almost similar way with extension API. But in <strong>ExtensionSessionConfiguration</strong> configured method.</p>\n<pre><code>cameraExtensionSession = session\ntry {\n    val captureRequest = camera.createCaptureRequest(\n        CameraDevice.TEMPLATE_PREVIEW\n    ).apply {\n        addTarget(previewSurface)\n        addTarget(imageReader.surface)\n    }\n    captureRequest.set(\n        CaptureRequest.CONTROL_MODE,\n        CameraMetadata.CONTROL_AF_MODE_CONTINUOUS_PICTURE\n    )\n    cameraExtensionSession.setRepeatingRequest(\n        captureRequest.build(),\n        Dispatchers.IO.asExecutor(), captureCallbacks\n    )\n} catch (e: CameraAccessException) {\n    Toast.makeText(\n        this@LiveCameraActivity, &quot;Failed to preview capture request.&quot;,\n        Toast.LENGTH_SHORT\n    ).show()\n    finish()\n}\n</code></pre>\n<p>Above code giving me error like below</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid repeating request output target!\n    at android.hardware.camera2.impl.CameraExtensionSessionImpl.setRepeatingRequest(CameraExtensionSessionImpl.java:442)\n    at com.cherish.smartcam.ui.liveCamera.LiveCameraActivity$startPreview$extensionConfiguration$1.onConfigured(CameraActivity.kt:399)\n</code></pre>\n<p>I have configured image as JPEG. My problem here,</p>\n<ul>\n<li>How can I get live bitmap image with Camera2 extension API?</li>\n<li>Is there anything wrong in above code?</li>\n</ul>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1054537,"reputation":20508,"user_id":1057547,"accept_rate":40,"display_name":"dognose"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664830660,"creation_date":1664830332,"answer_id":73940715,"question_id":73940075,"body_markdown":"    while (dividerLength != getDigits(dividend).size()) {\r\n        result = Math.abs(variable / divider);\r\n        builder.append(result);\r\n        substraction = Math.abs(result * divider);\r\n        variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\r\n                .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n\r\n        if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\r\n            variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\r\n                    .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n            builder.append(0);\r\n        }\r\n\r\nwithin the above section of code, you running the while-loop, while the `dividerLength` is smaller than the length of the dividend. \r\n \r\nBut WITHIN that loop, you use `dividerLength++` 2 times, which will lead to a dividerLength greater than what is allowed. Only increment once per loop, to make sure it stays within the array bounds. \r\n\r\nSecond: \r\nWhen the count is &quot;5&quot;, you have indexes 0-4 to access. - so use `dividerLength -1` to access the index - or make sure that it is incremented at the end, so the &quot;6th run&quot; (with dividerLength=5) won&#39;t happen.\r\n\r\n    while (dividerLength != getDigits(dividend).size()) {\r\n        result = Math.abs(variable / divider);\r\n        builder.append(result);\r\n        substraction = Math.abs(result * divider);\r\n        variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength)\r\n                .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n\r\n        if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\r\n            variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength)\r\n                    .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n            builder.append(0);\r\n\r\n        dividerLength += 1;\r\n        }\r\n","title":"java.lang.IndexOutOfBoundsException during Long division (Column Division)","body":"<pre><code>while (dividerLength != getDigits(dividend).size()) {\n    result = Math.abs(variable / divider);\n    builder.append(result);\n    substraction = Math.abs(result * divider);\n    variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\n            .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n\n    if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\n        variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\n                .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n        builder.append(0);\n    }\n</code></pre>\n<p>within the above section of code, you running the while-loop, while the <code>dividerLength</code> is smaller than the length of the dividend.</p>\n<p>But WITHIN that loop, you use <code>dividerLength++</code> 2 times, which will lead to a dividerLength greater than what is allowed. Only increment once per loop, to make sure it stays within the array bounds.</p>\n<p>Second:\nWhen the count is &quot;5&quot;, you have indexes 0-4 to access. - so use <code>dividerLength -1</code> to access the index - or make sure that it is incremented at the end, so the &quot;6th run&quot; (with dividerLength=5) won't happen.</p>\n<pre><code>while (dividerLength != getDigits(dividend).size()) {\n    result = Math.abs(variable / divider);\n    builder.append(result);\n    substraction = Math.abs(result * divider);\n    variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength)\n            .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n\n    if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\n        variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength)\n                .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n        builder.append(0);\n\n    dividerLength += 1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22886718,"reputation":32,"user_id":19704197,"display_name":"Albus_Percival"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665048845,"creation_date":1664972488,"answer_id":73960277,"question_id":73940075,"body_markdown":"So after two days i solved my problem. Answer from @dognose was not accepted because it&#39;s not solved my problem, but it was very close and i appreciate to much for @dognose, because it&#39;s help me to understand where is my mistake.\r\n\r\nHere is my final code at this stage, next step for me is String formatting.\r\n    \r\n    public class Division {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int dividend = scan.nextInt();\r\n            int divider = scan.nextInt();\r\n            divisionEngine(dividend, divider);\r\n            scan.close();\r\n        }\r\n    \r\n        public static List&lt;Integer&gt; getDigits(int dividend) {\r\n            List&lt;Integer&gt; digitArray = new ArrayList&lt;&gt;();\r\n    \r\n            while (dividend &gt; 0) {\r\n                digitArray.add(dividend % 10);\r\n                dividend = dividend / 10;\r\n            }\r\n            Collections.reverse(digitArray);\r\n            return digitArray;\r\n        }\r\n    \r\n        public static int divisionEngine(int dividend, int divider) {\r\n            StringBuilder builder = new StringBuilder();\r\n            int dividerLength = String.valueOf(divider).length();\r\n            int result = 0;\r\n            int substraction = 0;\r\n            int variable = Integer.parseInt(getDigits(dividend).subList(0, dividerLength).toString().replace(&quot;[&quot;, &quot;&quot;)\r\n                    .replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;));\r\n    \r\n            while (dividerLength != getDigits(dividend).size()) {\r\n                result = Math.abs(variable / divider);\r\n                builder.append(result);\r\n                substraction = Math.abs(result * divider);\r\n                variable = Integer.parseInt(Math.abs(variable - substraction) + &quot;&quot;.concat(getDigits(dividend)\r\n                        .get(dividerLength++).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n    \r\n                if (variable &lt; divider) {\r\n    \r\n                    while (variable &lt; substraction &amp;&amp; dividerLength != getDigits(dividend).size()) {\r\n                        variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++).toString()\r\n                                .replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n                        builder.append(0);\r\n                    }\r\n                }\r\n                if (substraction != 0) {\r\n                    System.out.println(substraction + &quot;\\n&quot; + variable);\r\n                }\r\n    \r\n            }\r\n    \r\n            if (dividerLength == getDigits(dividend).size()) {\r\n                result = Math.abs(variable / divider);\r\n                substraction = Math.abs(result * divider);\r\n                variable -= Math.abs(substraction);\r\n                builder.append(result);\r\n                result = Integer.parseInt(builder.toString());\r\n    \r\n                if (substraction &gt; variable) {\r\n                    System.out.println(substraction + &quot;\\n&quot; + variable);\r\n                }\r\n            }\r\n            System.out.println(&quot;= &quot; + result);\r\n    \r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\n ","title":"java.lang.IndexOutOfBoundsException during Long division (Column Division)","body":"<p>So after two days i solved my problem. Answer from @dognose was not accepted because it's not solved my problem, but it was very close and i appreciate to much for @dognose, because it's help me to understand where is my mistake.</p>\n<p>Here is my final code at this stage, next step for me is String formatting.</p>\n<pre><code>public class Division {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int dividend = scan.nextInt();\n        int divider = scan.nextInt();\n        divisionEngine(dividend, divider);\n        scan.close();\n    }\n\n    public static List&lt;Integer&gt; getDigits(int dividend) {\n        List&lt;Integer&gt; digitArray = new ArrayList&lt;&gt;();\n\n        while (dividend &gt; 0) {\n            digitArray.add(dividend % 10);\n            dividend = dividend / 10;\n        }\n        Collections.reverse(digitArray);\n        return digitArray;\n    }\n\n    public static int divisionEngine(int dividend, int divider) {\n        StringBuilder builder = new StringBuilder();\n        int dividerLength = String.valueOf(divider).length();\n        int result = 0;\n        int substraction = 0;\n        int variable = Integer.parseInt(getDigits(dividend).subList(0, dividerLength).toString().replace(&quot;[&quot;, &quot;&quot;)\n                .replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;));\n\n        while (dividerLength != getDigits(dividend).size()) {\n            result = Math.abs(variable / divider);\n            builder.append(result);\n            substraction = Math.abs(result * divider);\n            variable = Integer.parseInt(Math.abs(variable - substraction) + &quot;&quot;.concat(getDigits(dividend)\n                    .get(dividerLength++).toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n\n            if (variable &lt; divider) {\n\n                while (variable &lt; substraction &amp;&amp; dividerLength != getDigits(dividend).size()) {\n                    variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++).toString()\n                            .replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n                    builder.append(0);\n                }\n            }\n            if (substraction != 0) {\n                System.out.println(substraction + &quot;\\n&quot; + variable);\n            }\n\n        }\n\n        if (dividerLength == getDigits(dividend).size()) {\n            result = Math.abs(variable / divider);\n            substraction = Math.abs(result * divider);\n            variable -= Math.abs(substraction);\n            builder.append(result);\n            result = Integer.parseInt(builder.toString());\n\n            if (substraction &gt; variable) {\n                System.out.println(substraction + &quot;\\n&quot; + variable);\n            }\n        }\n        System.out.println(&quot;= &quot; + result);\n\n        return result;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22886718,"reputation":32,"user_id":19704197,"display_name":"Albus_Percival"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73960277,"answer_count":2,"score":-1,"last_activity_date":1665048845,"creation_date":1664825962,"question_id":73940075,"body_markdown":"I make a program that simulates long division(column division). Everything is working correctly as i expected, except examples with dividend digits that is similar to divider or very close to divider (only in case if dividend has one digit more than divider). In this case i got java.lang.IndexOutOfBoundsException. Could somebody advice me where is my mistake?\r\nMy code:\r\n\r\n    public class Division {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int dividend = scan.nextInt();\r\n        int divider = scan.nextInt();\r\n        divisionEngine(dividend, divider);\r\n        scan.close();\r\n    }\r\n\r\n    public static List&lt;Integer&gt; getDigits(int dividend) {\r\n        List&lt;Integer&gt; digitArray = new ArrayList&lt;&gt;();\r\n\r\n        while (dividend &gt; 0) {\r\n            digitArray.add(dividend % 10);\r\n            dividend = dividend / 10;\r\n        }\r\n        Collections.reverse(digitArray);\r\n        return digitArray;\r\n    }\r\n\r\n    public static int divisionEngine(int dividend, int divider) {\r\n        StringBuilder builder = new StringBuilder();\r\n        int dividerLength = String.valueOf(divider).length();\r\n        int result = 0;\r\n        int substraction = 0;\r\n        int variable = Integer.parseInt(getDigits(dividend).subList(0, dividerLength).toString().replace(&quot;[&quot;, &quot;&quot;)\r\n                .replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;));\r\n        int initVariable = variable;\r\n\r\n        while (dividerLength != getDigits(dividend).size()) {\r\n            result = Math.abs(variable / divider);\r\n            builder.append(result);\r\n            substraction = Math.abs(result * divider);\r\n            variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\r\n                    .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n\r\n            if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\r\n                variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\r\n                        .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\r\n                builder.append(0);\r\n            }\r\n\r\n            if (substraction != 0 &amp;&amp; variable != initVariable) {\r\n                System.out.println(substraction + &quot;\\n&quot; + variable);\r\n            }\r\n        }\r\n\r\n        if (dividerLength == getDigits(dividend).size()) {\r\n            result = Math.abs(variable / divider);\r\n            substraction = Math.abs(result * divider);\r\n            variable -= Math.abs(substraction);\r\n            builder.append(result);\r\n            result = Integer.parseInt(builder.toString());\r\n\r\n            if (substraction != 0) {\r\n                System.out.println(substraction + &quot;\\n&quot; + variable);\r\n            }\r\n        }\r\n        System.out.println(&quot;= &quot; + result);\r\n\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\nFinally should be something like this:\r\n\r\n[![Long Division][1]][1]\r\n\r\nAt this stage in my class i have only mathematics solving without drawing a String formatting to receive same picture, but before i continue with String formatting i have to solve this annoying problem.\r\n\r\nAlso here is my print outs from the console:\r\nWorking examples:\r\n[![like this is OK][2]][2]\r\n[![and like this is OK][3]][3]\r\n[![and like this is also ok][4]][4]\r\n[![enter image description here][5]][5]\r\n\r\n\r\nNot working example:\r\n[![like this i have an exception][6]][6]\r\n[![enter image description here][7]][7]\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sQPdi.png\r\n  [2]: https://i.stack.imgur.com/927dj.png\r\n  [3]: https://i.stack.imgur.com/hoSDn.png\r\n  [4]: https://i.stack.imgur.com/XJ3cW.png\r\n  [5]: https://i.stack.imgur.com/BLe7F.png\r\n  [6]: https://i.stack.imgur.com/NOwrL.png\r\n  [7]: https://i.stack.imgur.com/7NLJu.png","title":"java.lang.IndexOutOfBoundsException during Long division (Column Division)","body":"<p>I make a program that simulates long division(column division). Everything is working correctly as i expected, except examples with dividend digits that is similar to divider or very close to divider (only in case if dividend has one digit more than divider). In this case i got java.lang.IndexOutOfBoundsException. Could somebody advice me where is my mistake?\nMy code:</p>\n<pre><code>public class Division {\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int dividend = scan.nextInt();\n    int divider = scan.nextInt();\n    divisionEngine(dividend, divider);\n    scan.close();\n}\n\npublic static List&lt;Integer&gt; getDigits(int dividend) {\n    List&lt;Integer&gt; digitArray = new ArrayList&lt;&gt;();\n\n    while (dividend &gt; 0) {\n        digitArray.add(dividend % 10);\n        dividend = dividend / 10;\n    }\n    Collections.reverse(digitArray);\n    return digitArray;\n}\n\npublic static int divisionEngine(int dividend, int divider) {\n    StringBuilder builder = new StringBuilder();\n    int dividerLength = String.valueOf(divider).length();\n    int result = 0;\n    int substraction = 0;\n    int variable = Integer.parseInt(getDigits(dividend).subList(0, dividerLength).toString().replace(&quot;[&quot;, &quot;&quot;)\n            .replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;));\n    int initVariable = variable;\n\n    while (dividerLength != getDigits(dividend).size()) {\n        result = Math.abs(variable / divider);\n        builder.append(result);\n        substraction = Math.abs(result * divider);\n        variable = Integer.parseInt(variable - substraction + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\n                .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n\n        if (variable &lt; divider &amp;&amp; variable &lt; initVariable) {\n            variable = Integer.parseInt(variable + &quot;&quot;.concat(getDigits(dividend).get(dividerLength++)\n                    .toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;, &quot;, &quot;&quot;)));\n            builder.append(0);\n        }\n\n        if (substraction != 0 &amp;&amp; variable != initVariable) {\n            System.out.println(substraction + &quot;\\n&quot; + variable);\n        }\n    }\n\n    if (dividerLength == getDigits(dividend).size()) {\n        result = Math.abs(variable / divider);\n        substraction = Math.abs(result * divider);\n        variable -= Math.abs(substraction);\n        builder.append(result);\n        result = Integer.parseInt(builder.toString());\n\n        if (substraction != 0) {\n            System.out.println(substraction + &quot;\\n&quot; + variable);\n        }\n    }\n    System.out.println(&quot;= &quot; + result);\n\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p>Finally should be something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/sQPdi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQPdi.png\" alt=\"Long Division\" /></a></p>\n<p>At this stage in my class i have only mathematics solving without drawing a String formatting to receive same picture, but before i continue with String formatting i have to solve this annoying problem.</p>\n<p>Also here is my print outs from the console:\nWorking examples:\n<a href=\"https://i.stack.imgur.com/927dj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/927dj.png\" alt=\"like this is OK\" /></a>\n<a href=\"https://i.stack.imgur.com/hoSDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoSDn.png\" alt=\"and like this is OK\" /></a>\n<a href=\"https://i.stack.imgur.com/XJ3cW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJ3cW.png\" alt=\"and like this is also ok\" /></a>\n<a href=\"https://i.stack.imgur.com/BLe7F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BLe7F.png\" alt=\"enter image description here\" /></a></p>\n<p>Not working example:\n<a href=\"https://i.stack.imgur.com/NOwrL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NOwrL.png\" alt=\"like this i have an exception\" /></a>\n<a href=\"https://i.stack.imgur.com/7NLJu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7NLJu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","functional-interface"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":7,"creation_date":1477411452,"post_id":40244571,"comment_id":67751504,"body_markdown":"`s2` will give you &quot;now&quot; at the point in time where `s2` was assigned. `s1.get()` will give you &quot;now&quot; at the point when you call `get()`. That might not be the same if you have passed the `Supplier` somewhere to be used when required. Then if you call `s1.get()` again later, you will get a different time again.","body":"<code>s2</code> will give you &quot;now&quot; at the point in time where <code>s2</code> was assigned. <code>s1.get()</code> will give you &quot;now&quot; at the point when you call <code>get()</code>. That might not be the same if you have passed the <code>Supplier</code> somewhere to be used when required. Then if you call <code>s1.get()</code> again later, you will get a different time again."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1477415476,"post_id":40244571,"comment_id":67753947,"body_markdown":"Use it when you need to pass the ability to get _multiple values_ into _another method._  That&#39;s pretty much 100% of the valid use cases.","body":"Use it when you need to pass the ability to get <i>multiple values</i> into <i>another method.</i>  That&#39;s pretty much 100% of the valid use cases."}],"answers":[{"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":19,"creation_date":1477412379,"post_id":40244843,"comment_id":67752123,"body_markdown":"Surely that&#39;d be `Supplier&lt;Integer&gt;`. And it&#39;s got nothing to do with performance or how wordy a method is. There is a semantic difference.","body":"Surely that&#39;d be <code>Supplier&lt;Integer&gt;</code>. And it&#39;s got nothing to do with performance or how wordy a method is. There is a semantic difference."}],"tags":[],"owner":{"account_id":6358010,"reputation":4019,"user_id":4934560,"accept_rate":100,"display_name":"B&#225;lint"},"comment_count":1,"down_vote_count":6,"up_vote_count":29,"is_accepted":true,"score":23,"last_activity_date":1477411990,"creation_date":1477411990,"answer_id":40244843,"question_id":40244571,"body_markdown":"It definitely doesn&#39;t improve the performance. Your question is similar to this one: Why are we using variables? We could simply just recalculate everything every time we need it. Right?\r\n\r\nIf you need to use a method a lot of times, but it has a wordy syntax.\r\n\r\nLet&#39;s assume you have a class named `MyAmazingClass`, and you have a method in it with the name `MyEvenBetterMethod` (which is static), and you need to call it 15 times at 15 different positions in your code. Of course, you can do something like...\r\n\r\n    int myVar = MyAmazingClass.MyEvenBetterMethod();\r\n    // ...\r\n    int myOtherVar = MyAmazingClass.MyEvenBetterMethod();\r\n    // And so on...\r\n\r\n...but you can also do\r\n\r\n    Supplier&lt;MyAmazingClass&gt; shorter = MyAmazingClass::MyEvenBetterMethod;\r\n\r\n    int myVar = shorter.get();\r\n    // ...\r\n    int myOtherVar = shorter.get();\r\n    // And so on...\r\n","title":"When we should use Supplier in Java 8?","body":"<p>It definitely doesn't improve the performance. Your question is similar to this one: Why are we using variables? We could simply just recalculate everything every time we need it. Right?</p>\n\n<p>If you need to use a method a lot of times, but it has a wordy syntax.</p>\n\n<p>Let's assume you have a class named <code>MyAmazingClass</code>, and you have a method in it with the name <code>MyEvenBetterMethod</code> (which is static), and you need to call it 15 times at 15 different positions in your code. Of course, you can do something like...</p>\n\n<pre><code>int myVar = MyAmazingClass.MyEvenBetterMethod();\n// ...\nint myOtherVar = MyAmazingClass.MyEvenBetterMethod();\n// And so on...\n</code></pre>\n\n<p>...but you can also do</p>\n\n<pre><code>Supplier&lt;MyAmazingClass&gt; shorter = MyAmazingClass::MyEvenBetterMethod;\n\nint myVar = shorter.get();\n// ...\nint myOtherVar = shorter.get();\n// And so on...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1477413178,"creation_date":1477413178,"answer_id":40245207,"question_id":40244571,"body_markdown":"You are confusing functional interfaces and method references. `Supplier` is just an interface, similar to `Callable`, which you should know since Java&#160;5, the only difference being that `Callable.call` is allowed to throw checked `Exception`s, unlike `Supplier.get`. So these interfaces will have similar use cases.\r\n\r\nNow, these interface also happen to be *functional interfaces*, which implies that they can be implemented as a method reference, pointing to an existing method that will be invoked when the interface method is invoked.\r\n\r\nSo before Java&#160;8, you had to write\r\n\r\n    Future&lt;Double&gt; f=executorService.submit(new Callable&lt;Double&gt;() {\r\n        public Double call() throws Exception {\r\n            return calculatePI();\r\n        }\r\n    });\r\n    /* do some other work */\r\n    Double result=f.get();\r\nand now, you can write\r\n\r\n    Future&lt;Double&gt; f=executorService.submit(() -&gt; calculatePI());\r\n    /* do some other work */\r\n    Double result=f.get();\r\nor\r\n\r\n    Future&lt;Double&gt; f=executorService.submit(MyClass::calculatePI);\r\n    /* do some other work */\r\n    Double result=f.get();\r\n\r\nThe question *when to use* `Callable` hasn’t changed at all.\r\n\r\nSimilarly, the question when to use `Supplier` is not dependent on how you implement it, but which API you use, i.e.\r\n\r\n    CompletableFuture&lt;Double&gt; f=CompletableFuture.supplyAsync(MyClass::calculatePI);\r\n    /* do some other work */\r\n    Double result=f.join();// unlike Future.get, no checked exception to handle...\r\n","title":"When we should use Supplier in Java 8?","body":"<p>You are confusing functional interfaces and method references. <code>Supplier</code> is just an interface, similar to <code>Callable</code>, which you should know since Java 5, the only difference being that <code>Callable.call</code> is allowed to throw checked <code>Exception</code>s, unlike <code>Supplier.get</code>. So these interfaces will have similar use cases.</p>\n\n<p>Now, these interface also happen to be <em>functional interfaces</em>, which implies that they can be implemented as a method reference, pointing to an existing method that will be invoked when the interface method is invoked.</p>\n\n<p>So before Java 8, you had to write</p>\n\n<pre><code>Future&lt;Double&gt; f=executorService.submit(new Callable&lt;Double&gt;() {\n    public Double call() throws Exception {\n        return calculatePI();\n    }\n});\n/* do some other work */\nDouble result=f.get();\n</code></pre>\n\n<p>and now, you can write</p>\n\n<pre><code>Future&lt;Double&gt; f=executorService.submit(() -&gt; calculatePI());\n/* do some other work */\nDouble result=f.get();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Future&lt;Double&gt; f=executorService.submit(MyClass::calculatePI);\n/* do some other work */\nDouble result=f.get();\n</code></pre>\n\n<p>The question <em>when to use</em> <code>Callable</code> hasn’t changed at all.</p>\n\n<p>Similarly, the question when to use <code>Supplier</code> is not dependent on how you implement it, but which API you use, i.e.</p>\n\n<pre><code>CompletableFuture&lt;Double&gt; f=CompletableFuture.supplyAsync(MyClass::calculatePI);\n/* do some other work */\nDouble result=f.join();// unlike Future.get, no checked exception to handle...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1590873,"reputation":7073,"user_id":1474211,"accept_rate":100,"display_name":"Mushtaq Jameel"},"score":7,"creation_date":1528526277,"post_id":41647209,"comment_id":88550641,"body_markdown":"So the gist is delayed execution","body":"So the gist is delayed execution"},{"owner":{"account_id":2480535,"reputation":3334,"user_id":5649859,"display_name":"Rany Albeg Wein"},"score":0,"creation_date":1650579924,"post_id":41647209,"comment_id":127158830,"body_markdown":"That&#39;s a great example showing how by using a `Supplier&lt;T&gt;` we can defer then execution of some function of `T`, or use it on demand. Great one!","body":"That&#39;s a great example showing how by using a <code>Supplier&lt;T&gt;</code> we can defer then execution of some function of <code>T</code>, or use it on demand. Great one!"}],"tags":[],"owner":{"account_id":267143,"reputation":702,"user_id":555139,"display_name":"joshden"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1484372961,"creation_date":1484372961,"answer_id":41647209,"question_id":40244571,"body_markdown":"I&#39;ll go through a scenario where we should use `Supplier&lt;LocalDate&gt;` instead of `LocalDate`.\r\n\r\nCode that directly makes calls to static methods like `LocalDate.now()` is very difficult to unit test. Consider a scenario where we want to unit test a method `getAge()` that calculates a person&#39;s age:\r\n\r\n    class Person {\r\n        final String name;\r\n        private final LocalDate dateOfBirth;\r\n    \r\n        Person(String name, LocalDate dateOfBirth) {\r\n            this.name = name;\r\n            this.dateOfBirth = dateOfBirth;\r\n        }\r\n    \r\n        long getAge() {\r\n            return ChronoUnit.YEARS.between(dateOfBirth, LocalDate.now());\r\n        }\r\n    }\r\n\r\nThis works fine in production. But a unit test would either have to set the system&#39;s date to a known value or be updated every year to expect the returned age to be incremented by one, both pretty aweful solutions. \r\n\r\nA better solution would be for the unit test to inject in a known date while still allowing the production code to use `LocalDate.now()`. Maybe something like this:\r\n\r\n    class Person {\r\n        final String name;\r\n        private final LocalDate dateOfBirth;\r\n        private final LocalDate currentDate;\r\n\r\n        // Used by regular production code\r\n        Person(String name, LocalDate dateOfBirth) {\r\n            this(name, dateOfBirth, LocalDate.now());\r\n        }\r\n\r\n        // Visible for test\r\n        Person(String name, LocalDate dateOfBirth, LocalDate currentDate) {\r\n            this.name = name;\r\n            this.dateOfBirth = dateOfBirth;\r\n            this.currentDate = currentDate;\r\n        }\r\n\r\n        long getAge() {\r\n            return ChronoUnit.YEARS.between(dateOfBirth, currentDate);\r\n        }\r\n\r\n    }\r\n\r\nConsider a scenario where the person&#39;s birthday has passed since the object was created. With this implementation, `getAge()` will be based on when the Person object was created rather than the current date. We can solve this by using `Supplier&lt;LocalDate&gt;`:\r\n\r\n    class Person {\r\n        final String name;\r\n        private final LocalDate dateOfBirth;\r\n        private final Supplier&lt;LocalDate&gt; currentDate;\r\n    \r\n        // Used by regular production code\r\n        Person(String name, LocalDate dateOfBirth) {\r\n            this(name, dateOfBirth, ()-&gt; LocalDate.now());\r\n        }\r\n    \r\n        // Visible for test\r\n        Person(String name, LocalDate dateOfBirth, Supplier&lt;LocalDate&gt; currentDate) {\r\n            this.name = name;\r\n            this.dateOfBirth = dateOfBirth;\r\n            this.currentDate = currentDate;\r\n        }\r\n    \r\n        long getAge() {\r\n            return ChronoUnit.YEARS.between(dateOfBirth, currentDate.get());\r\n        }\r\n        \r\n        public static void main(String... args) throws InterruptedException {\r\n            // current date 2016-02-11\r\n            Person person = new Person(&quot;John Doe&quot;, LocalDate.parse(&quot;2010-02-12&quot;));\r\n            printAge(person);\r\n            TimeUnit.DAYS.sleep(1);\r\n            printAge(person);\r\n        }\r\n\r\n        private static void printAge(Person person) {\r\n            System.out.println(person.name + &quot; is &quot; + person.getAge());\r\n        }\r\n    }\r\n    \r\nThe output would correctly be:\r\n\r\n    John Doe is 5\r\n    John Doe is 6\r\n\r\nOur unit test can inject the &quot;now&quot; date like this:\r\n\r\n    @Test\r\n    void testGetAge() {\r\n        Supplier&lt;LocalDate&gt; injectedNow = ()-&gt; LocalDate.parse(&quot;2016-12-01&quot;);\r\n        Person person = new Person(&quot;John Doe&quot;, LocalDate.parse(&quot;2004-12-01&quot;), injectedNow);\r\n        assertEquals(12, person.getAge());\r\n    }\r\n\r\n\r\n\r\n","title":"When we should use Supplier in Java 8?","body":"<p>I'll go through a scenario where we should use <code>Supplier&lt;LocalDate&gt;</code> instead of <code>LocalDate</code>.</p>\n\n<p>Code that directly makes calls to static methods like <code>LocalDate.now()</code> is very difficult to unit test. Consider a scenario where we want to unit test a method <code>getAge()</code> that calculates a person's age:</p>\n\n<pre><code>class Person {\n    final String name;\n    private final LocalDate dateOfBirth;\n\n    Person(String name, LocalDate dateOfBirth) {\n        this.name = name;\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    long getAge() {\n        return ChronoUnit.YEARS.between(dateOfBirth, LocalDate.now());\n    }\n}\n</code></pre>\n\n<p>This works fine in production. But a unit test would either have to set the system's date to a known value or be updated every year to expect the returned age to be incremented by one, both pretty aweful solutions. </p>\n\n<p>A better solution would be for the unit test to inject in a known date while still allowing the production code to use <code>LocalDate.now()</code>. Maybe something like this:</p>\n\n<pre><code>class Person {\n    final String name;\n    private final LocalDate dateOfBirth;\n    private final LocalDate currentDate;\n\n    // Used by regular production code\n    Person(String name, LocalDate dateOfBirth) {\n        this(name, dateOfBirth, LocalDate.now());\n    }\n\n    // Visible for test\n    Person(String name, LocalDate dateOfBirth, LocalDate currentDate) {\n        this.name = name;\n        this.dateOfBirth = dateOfBirth;\n        this.currentDate = currentDate;\n    }\n\n    long getAge() {\n        return ChronoUnit.YEARS.between(dateOfBirth, currentDate);\n    }\n\n}\n</code></pre>\n\n<p>Consider a scenario where the person's birthday has passed since the object was created. With this implementation, <code>getAge()</code> will be based on when the Person object was created rather than the current date. We can solve this by using <code>Supplier&lt;LocalDate&gt;</code>:</p>\n\n<pre><code>class Person {\n    final String name;\n    private final LocalDate dateOfBirth;\n    private final Supplier&lt;LocalDate&gt; currentDate;\n\n    // Used by regular production code\n    Person(String name, LocalDate dateOfBirth) {\n        this(name, dateOfBirth, ()-&gt; LocalDate.now());\n    }\n\n    // Visible for test\n    Person(String name, LocalDate dateOfBirth, Supplier&lt;LocalDate&gt; currentDate) {\n        this.name = name;\n        this.dateOfBirth = dateOfBirth;\n        this.currentDate = currentDate;\n    }\n\n    long getAge() {\n        return ChronoUnit.YEARS.between(dateOfBirth, currentDate.get());\n    }\n\n    public static void main(String... args) throws InterruptedException {\n        // current date 2016-02-11\n        Person person = new Person(\"John Doe\", LocalDate.parse(\"2010-02-12\"));\n        printAge(person);\n        TimeUnit.DAYS.sleep(1);\n        printAge(person);\n    }\n\n    private static void printAge(Person person) {\n        System.out.println(person.name + \" is \" + person.getAge());\n    }\n}\n</code></pre>\n\n<p>The output would correctly be:</p>\n\n<pre><code>John Doe is 5\nJohn Doe is 6\n</code></pre>\n\n<p>Our unit test can inject the \"now\" date like this:</p>\n\n<pre><code>@Test\nvoid testGetAge() {\n    Supplier&lt;LocalDate&gt; injectedNow = ()-&gt; LocalDate.parse(\"2016-12-01\");\n    Person person = new Person(\"John Doe\", LocalDate.parse(\"2004-12-01\"), injectedNow);\n    assertEquals(12, person.getAge());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12219879,"reputation":159,"user_id":8919296,"display_name":"Ed Bighands"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1539432911,"creation_date":1539432911,"answer_id":52792811,"question_id":40244571,"body_markdown":"I am sure your query has been answered by the answers provided already. This is my understanding of Supplier.\r\n\r\nIt give me the default Java defined interfaces that acts as a wrapper for any lambda method ref target return time. Simply put, anywhere you have written a method that has no args and returns an Object, qualifies to be wrapped by the Supplier Interface. Without that, in pre generics, you would capture the return as object class and then cast and in generics you would define your own T(ype) to hold the return value. It just provides a uniform return type generic holder on which you can invoke get() to extract the returned object from the no arg method mentioned above.\r\n","title":"When we should use Supplier in Java 8?","body":"<p>I am sure your query has been answered by the answers provided already. This is my understanding of Supplier.</p>\n\n<p>It give me the default Java defined interfaces that acts as a wrapper for any lambda method ref target return time. Simply put, anywhere you have written a method that has no args and returns an Object, qualifies to be wrapped by the Supplier Interface. Without that, in pre generics, you would capture the return as object class and then cast and in generics you would define your own T(ype) to hold the return value. It just provides a uniform return type generic holder on which you can invoke get() to extract the returned object from the no arg method mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":8678502,"reputation":66,"user_id":6495198,"display_name":"Htnamus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579008477,"creation_date":1579008477,"answer_id":59734738,"question_id":40244571,"body_markdown":"The explanation in Item 5 of [Effective Java by Joshua Bloch][1] cleared this up for me:\r\n\r\n&gt; The Supplier&lt;T&gt; interface, introduced in Java 8, is perfect for representing factories. Methods that take a Supplier&lt;T&gt; on input should typically constrain the factory’s type parameter using a bounded wildcard type (Item 31) to allow the client to pass in a factory that creates any subtype of a specified type. For example, here is a method that makes a mosaic using a client-provided factory to produce each tile:\r\n\r\n`Mosaic create(Supplier&lt;? extends Tile&gt; tileFactory) { ... }`\r\n\r\nYou might want to send in a resource factory to an object which will make objects using the resource factory. Now, let&#39;s say you want to send in different resource factories with each resource factory generating objects in different positions of the inheritance tree and yet the object receiving the resource factory must be able to receive them in any case.\r\n\r\nThen you can implement a supplier which can accept methods that return objects extending/implementing a certain class/interface using the bounded wildcard and use the supplier as a resource factory.\r\n\r\nReading Item 5 of the book might help in completely understanding the usage.\r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/","title":"When we should use Supplier in Java 8?","body":"<p>The explanation in Item 5 of <a href=\"https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/\" rel=\"nofollow noreferrer\">Effective Java by Joshua Bloch</a> cleared this up for me:</p>\n\n<blockquote>\n  <p>The Supplier interface, introduced in Java 8, is perfect for representing factories. Methods that take a Supplier on input should typically constrain the factory’s type parameter using a bounded wildcard type (Item 31) to allow the client to pass in a factory that creates any subtype of a specified type. For example, here is a method that makes a mosaic using a client-provided factory to produce each tile:</p>\n</blockquote>\n\n<p><code>Mosaic create(Supplier&lt;? extends Tile&gt; tileFactory) { ... }</code></p>\n\n<p>You might want to send in a resource factory to an object which will make objects using the resource factory. Now, let's say you want to send in different resource factories with each resource factory generating objects in different positions of the inheritance tree and yet the object receiving the resource factory must be able to receive them in any case.</p>\n\n<p>Then you can implement a supplier which can accept methods that return objects extending/implementing a certain class/interface using the bounded wildcard and use the supplier as a resource factory.</p>\n\n<p>Reading Item 5 of the book might help in completely understanding the usage.</p>\n"},{"tags":[],"owner":{"account_id":4417481,"reputation":1155,"user_id":3598596,"display_name":"Vivek MVK"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1580411069,"creation_date":1580411069,"answer_id":59992848,"question_id":40244571,"body_markdown":"I will add my view as I am not satisfied by the answers:\r\nSupplier is useful when you want to delay the execution.\r\n\r\nWithout supplier\r\n\r\n    config.getLocalValue(getFromInternet() /*value if absent*/);\r\n\r\nBefore getLocalValue gets called getFromInternet will be called, but the value of getFromInternet() will be used only if local value is absent.\r\n\r\nNow, if `config.getLocalValue` can accept supplier, we can delay this execution, plus we won&#39;t execute if local value is present.\r\n\r\n    config.getLocalValue(() -&gt; getFromInternet())\r\n\r\n**Difference**\r\nSupplier makes it possible: `execute only when and if needed`","title":"When we should use Supplier in Java 8?","body":"<p>I will add my view as I am not satisfied by the answers:\nSupplier is useful when you want to delay the execution.</p>\n\n<p>Without supplier</p>\n\n<pre><code>config.getLocalValue(getFromInternet() /*value if absent*/);\n</code></pre>\n\n<p>Before getLocalValue gets called getFromInternet will be called, but the value of getFromInternet() will be used only if local value is absent.</p>\n\n<p>Now, if <code>config.getLocalValue</code> can accept supplier, we can delay this execution, plus we won't execute if local value is present.</p>\n\n<pre><code>config.getLocalValue(() -&gt; getFromInternet())\n</code></pre>\n\n<p><strong>Difference</strong>\nSupplier makes it possible: <code>execute only when and if needed</code></p>\n"},{"tags":[],"owner":{"account_id":1723085,"reputation":3842,"user_id":1578356,"accept_rate":63,"display_name":"newday"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587329474,"creation_date":1587329474,"answer_id":61311481,"question_id":40244571,"body_markdown":"This example of how `Supplier` can be used to improve the performance but `Supplier` itself will not improve the performance.\r\n\r\n    /**\r\n     * Checks that the specified object reference is not {@code null} and\r\n     * throws a customized {@link NullPointerException} if it is.\r\n     *\r\n     * &lt;p&gt;Unlike the method {@link #requireNonNull(Object, String)},\r\n     * this method allows creation of the message to be deferred until\r\n     * after the null check is made. While this may confer a\r\n     * performance advantage in the non-null case, when deciding to\r\n     * call this method care should be taken that the costs of\r\n     * creating the message supplier are less than the cost of just\r\n     * creating the string message directly.\r\n     *\r\n     * @param obj     the object reference to check for nullity\r\n     * @param messageSupplier supplier of the detail message to be\r\n     * used in the event that a {@code NullPointerException} is thrown\r\n     * @param &lt;T&gt; the type of the reference\r\n     * @return {@code obj} if not {@code null}\r\n     * @throws NullPointerException if {@code obj} is {@code null}\r\n     * @since 1.8\r\n     */\r\n    public static &lt;T&gt; T requireNonNull(T obj, Supplier&lt;String&gt; messageSupplier) {\r\n        if (obj == null)\r\n            throw new NullPointerException(messageSupplier == null ?\r\n                                           null : messageSupplier.get());\r\n        return obj;\r\n    }\r\n\r\nIn this method, the Supplier use in a way that only the object is really null then gets the String. Therefore, it can improve the performance of the operation but it is not `Supplier` but how it has been used.\r\n","title":"When we should use Supplier in Java 8?","body":"<p>This example of how <code>Supplier</code> can be used to improve the performance but <code>Supplier</code> itself will not improve the performance.</p>\n\n<pre><code>/**\n * Checks that the specified object reference is not {@code null} and\n * throws a customized {@link NullPointerException} if it is.\n *\n * &lt;p&gt;Unlike the method {@link #requireNonNull(Object, String)},\n * this method allows creation of the message to be deferred until\n * after the null check is made. While this may confer a\n * performance advantage in the non-null case, when deciding to\n * call this method care should be taken that the costs of\n * creating the message supplier are less than the cost of just\n * creating the string message directly.\n *\n * @param obj     the object reference to check for nullity\n * @param messageSupplier supplier of the detail message to be\n * used in the event that a {@code NullPointerException} is thrown\n * @param &lt;T&gt; the type of the reference\n * @return {@code obj} if not {@code null}\n * @throws NullPointerException if {@code obj} is {@code null}\n * @since 1.8\n */\npublic static &lt;T&gt; T requireNonNull(T obj, Supplier&lt;String&gt; messageSupplier) {\n    if (obj == null)\n        throw new NullPointerException(messageSupplier == null ?\n                                       null : messageSupplier.get());\n    return obj;\n}\n</code></pre>\n\n<p>In this method, the Supplier use in a way that only the object is really null then gets the String. Therefore, it can improve the performance of the operation but it is not <code>Supplier</code> but how it has been used.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1618218999,"creation_date":1618096367,"answer_id":67040099,"question_id":40244571,"body_markdown":"&gt; Does the Supplier improve performance or maybe the benefits on\r\n&gt; abstraction level?\r\n\r\nNo, it&#39;s not meant to improve performance. The `Supplier` is used for a deferred execution i.e. you specify a functionality (code) that will run whenever used. The following example demonstrates the difference:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.util.function.Supplier;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// Create a reference to the current date-time object when the following line is\r\n    \t\t// executed\r\n    \t\tLocalDateTime ldt = LocalDateTime.now();\r\n    \t\tSystem.out.println(ldt);// Line-1\r\n    \r\n    \t\t// Create a reference to a functionality that will get the current date-time\r\n    \t\t// whenever this functionality will be used\r\n    \t\tSupplier&lt;LocalDateTime&gt; dateSupplier = LocalDateTime::now;\r\n    \r\n    \t\t// Sleep for 5 seconds\r\n    \t\tThread.sleep(5000);\r\n    \r\n    \t\tSystem.out.println(ldt);// Will display the same value as Line-1\r\n    \t\tSystem.out.println(dateSupplier.get());// Will display the current date-time when this line will be executed\r\n    \r\n    \t\t// Sleep again for 5 seconds\r\n    \t\tThread.sleep(5000);\r\n    \r\n    \t\tSystem.out.println(ldt);// Will display the same value as Line-1\r\n    \t\tSystem.out.println(dateSupplier.get());// Will display the current date-time when this line will be executed\r\n    \t}\r\n    }\r\n**Output of a sample run:**\r\n\r\n    2021-04-11T00:04:06.205105\r\n    2021-04-11T00:04:06.205105\r\n    2021-04-11T00:04:11.211031\r\n    2021-04-11T00:04:06.205105\r\n    2021-04-11T00:04:16.211659\r\n\r\n**Another useful case:**\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\r\n    \r\n    \t\t// A simple Stream for demo; you can think of a complex Stream with more\r\n    \t\t// intermediate operations\r\n    \t\tStream&lt;String&gt; stream = list.stream()\r\n    \t\t\t\t\t\t\t\t\t.filter(s -&gt; s.length() &lt;= 5)\r\n    \t\t\t\t\t\t\t\t\t.map(s -&gt; s.substring(1));\r\n    \r\n    \t\tSystem.out.println(stream.anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\r\n    \t\tSystem.out.println(stream.anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    true\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:229)\r\n    \tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\r\n    \tat Main.main(Main.java:13)\r\n\r\nThe output is self-explanatory. An ugly workaround could be creating a new `Stream` each time as shown below:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\r\n    \r\n    \t\tSystem.out.println(list.stream().filter(s -&gt; s.length() &lt;= 5).map(s -&gt; s.substring(1))\r\n    \t\t\t\t.anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\r\n    \t\t\r\n    \t\tSystem.out.println(list.stream().filter(s -&gt; s.length() &lt;= 5).map(s -&gt; s.substring(1))\r\n    \t\t\t\t.anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\r\n    \t}\r\n    }\r\nNow, see how cleanly you can do it using a `Supplier`:\r\n\r\n    import java.util.List;\r\n    import java.util.function.Supplier;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\r\n    \r\n    \t\tSupplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; list.stream()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(s -&gt; s.length() &lt;= 5)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(s -&gt; s.substring(1));\r\n    \r\n    \t\tSystem.out.println(streamSupplier.get().anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\r\n    \r\n    \t\tSystem.out.println(streamSupplier.get().anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    true\r\n    true\r\n\r\n","title":"When we should use Supplier in Java 8?","body":"<blockquote>\n<p>Does the Supplier improve performance or maybe the benefits on\nabstraction level?</p>\n</blockquote>\n<p>No, it's not meant to improve performance. The <code>Supplier</code> is used for a deferred execution i.e. you specify a functionality (code) that will run whenever used. The following example demonstrates the difference:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.util.function.Supplier;\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        // Create a reference to the current date-time object when the following line is\n        // executed\n        LocalDateTime ldt = LocalDateTime.now();\n        System.out.println(ldt);// Line-1\n\n        // Create a reference to a functionality that will get the current date-time\n        // whenever this functionality will be used\n        Supplier&lt;LocalDateTime&gt; dateSupplier = LocalDateTime::now;\n\n        // Sleep for 5 seconds\n        Thread.sleep(5000);\n\n        System.out.println(ldt);// Will display the same value as Line-1\n        System.out.println(dateSupplier.get());// Will display the current date-time when this line will be executed\n\n        // Sleep again for 5 seconds\n        Thread.sleep(5000);\n\n        System.out.println(ldt);// Will display the same value as Line-1\n        System.out.println(dateSupplier.get());// Will display the current date-time when this line will be executed\n    }\n}\n</code></pre>\n<p><strong>Output of a sample run:</strong></p>\n<pre><code>2021-04-11T00:04:06.205105\n2021-04-11T00:04:06.205105\n2021-04-11T00:04:11.211031\n2021-04-11T00:04:06.205105\n2021-04-11T00:04:16.211659\n</code></pre>\n<p><strong>Another useful case:</strong></p>\n<pre><code>import java.util.List;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\n\n        // A simple Stream for demo; you can think of a complex Stream with more\n        // intermediate operations\n        Stream&lt;String&gt; stream = list.stream()\n                                    .filter(s -&gt; s.length() &lt;= 5)\n                                    .map(s -&gt; s.substring(1));\n\n        System.out.println(stream.anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\n        System.out.println(stream.anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>true\nException in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:229)\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\n    at Main.main(Main.java:13)\n</code></pre>\n<p>The output is self-explanatory. An ugly workaround could be creating a new <code>Stream</code> each time as shown below:</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\n\n        System.out.println(list.stream().filter(s -&gt; s.length() &lt;= 5).map(s -&gt; s.substring(1))\n                .anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\n        \n        System.out.println(list.stream().filter(s -&gt; s.length() &lt;= 5).map(s -&gt; s.substring(1))\n                .anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\n    }\n}\n</code></pre>\n<p>Now, see how cleanly you can do it using a <code>Supplier</code>:</p>\n<pre><code>import java.util.List;\nimport java.util.function.Supplier;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = List.of(&quot;Hello&quot;, &quot;B2C&quot;, &quot;World&quot;, &quot;Stack Overflow&quot;, &quot;is&quot;, &quot;a&quot;, &quot;gr8&quot;, &quot;platform&quot;);\n\n        Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; list.stream()\n                                                            .filter(s -&gt; s.length() &lt;= 5)\n                                                            .map(s -&gt; s.substring(1));\n\n        System.out.println(streamSupplier.get().anyMatch(s -&gt; Character.isLetter(s.charAt(0))));\n\n        System.out.println(streamSupplier.get().anyMatch(s -&gt; Character.isDigit(s.charAt(0))));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>true\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18956897,"reputation":45,"user_id":13833316,"display_name":"Ghulam Asghar Dahri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665048745,"creation_date":1665048745,"answer_id":73971576,"question_id":40244571,"body_markdown":"One of the primary usage of this interface to enable deferred execution. This means delaying the execution until it is needed. For example, Optional class has a method named orElseGet. This method is triggered if optional does not have data. This is demonstrated below:\r\n\r\n&gt; @Test public void supplierWithOptional(){\r\n&gt;     Supplier&lt;Double&gt; doubleSupplier = () -&gt; Math.random();\r\n&gt;     Optional&lt;Double&gt; optionalDouble = Optional.empty();\r\n&gt;     System.out.println(optionalDouble.orElseGet(doubleSupplier)); }\r\n\r\nCredit: https://medium.com/swlh/understanding-java-8s-consumer-supplier-predicate-and-function-c1889b9423d","title":"When we should use Supplier in Java 8?","body":"<p>One of the primary usage of this interface to enable deferred execution. This means delaying the execution until it is needed. For example, Optional class has a method named orElseGet. This method is triggered if optional does not have data. This is demonstrated below:</p>\n<blockquote>\n<p>@Test public void supplierWithOptional(){\nSupplier doubleSupplier = () -&gt; Math.random();\nOptional optionalDouble = Optional.empty();\nSystem.out.println(optionalDouble.orElseGet(doubleSupplier)); }</p>\n</blockquote>\n<p>Credit: <a href=\"https://medium.com/swlh/understanding-java-8s-consumer-supplier-predicate-and-function-c1889b9423d\" rel=\"nofollow noreferrer\">https://medium.com/swlh/understanding-java-8s-consumer-supplier-predicate-and-function-c1889b9423d</a></p>\n"}],"owner":{"account_id":4216557,"reputation":740,"user_id":3452571,"accept_rate":73,"display_name":"badCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31861,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":40244843,"answer_count":9,"score":55,"last_activity_date":1665048745,"creation_date":1477411145,"question_id":40244571,"body_markdown":"What difference between this code?\r\n\r\n    Supplier&lt;LocalDate&gt; s1 = LocalDate::now;\r\n    LocalDate s2 = LocalDate.now();\r\n\r\n    System.out.println(s1.get()); //2016-10-25\r\n    System.out.println(s2); //2016-10-25\r\nI start learning functional interfaces in Java 8 and don&#39;t understand the benefit of the Supplier. When and how, exactly, should use them. Does the Supplier improve performance or maybe the benefits on abstraction level?\r\n\r\nThanks for your answers! And it isn&#39;t duplicate question because I used search and didn&#39;t find what I need.\r\n\r\n**UPDATE 1:**\r\nYou mean this?\r\n\r\n        Supplier&lt;Long&gt; s1 = System::currentTimeMillis;\r\n        Long s2 = System.currentTimeMillis();\r\n\r\n        System.out.println(s1.get()); //1477411877817\r\n        System.out.println(s2); //1477411877817\r\n        try {\r\n            Thread.sleep(3000l);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(s1.get()); //1477411880817 - different\r\n        System.out.println(s2); //1477411877817","title":"When we should use Supplier in Java 8?","body":"<p>What difference between this code?</p>\n\n<pre><code>Supplier&lt;LocalDate&gt; s1 = LocalDate::now;\nLocalDate s2 = LocalDate.now();\n\nSystem.out.println(s1.get()); //2016-10-25\nSystem.out.println(s2); //2016-10-25\n</code></pre>\n\n<p>I start learning functional interfaces in Java 8 and don't understand the benefit of the Supplier. When and how, exactly, should use them. Does the Supplier improve performance or maybe the benefits on abstraction level?</p>\n\n<p>Thanks for your answers! And it isn't duplicate question because I used search and didn't find what I need.</p>\n\n<p><strong>UPDATE 1:</strong>\nYou mean this?</p>\n\n<pre><code>    Supplier&lt;Long&gt; s1 = System::currentTimeMillis;\n    Long s2 = System.currentTimeMillis();\n\n    System.out.println(s1.get()); //1477411877817\n    System.out.println(s2); //1477411877817\n    try {\n        Thread.sleep(3000l);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(s1.get()); //1477411880817 - different\n    System.out.println(s2); //1477411877817\n</code></pre>\n"},{"tags":["java","access-specifier"],"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1447418995,"post_id":9867976,"comment_id":55157728,"body_markdown":"The difference is clearly visualized in [this table](http://stackoverflow.com/a/33627846/276052).","body":"The difference is clearly visualized in <a href=\"http://stackoverflow.com/a/33627846/276052\">this table</a>."}],"answers":[{"comments":[{"owner":{"account_id":446823,"reputation":852,"user_id":840112,"display_name":"david"},"score":1,"creation_date":1332746019,"post_id":9867997,"comment_id":12582664,"body_markdown":"One clarification: The default access specifier allows access for all subclasses no matter what package they are in.The default modifier widens access to all classes in the same package compared to the protected access modifier.","body":"One clarification: The default access specifier allows access for all subclasses no matter what package they are in.The default modifier widens access to all classes in the same package compared to the protected access modifier."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":5,"creation_date":1332746096,"post_id":9867997,"comment_id":12582684,"body_markdown":"@david.dionis - That is not correct. A field, method, or other member with default access is not accessible from a subclass declared in a different package.","body":"@david.dionis - That is not correct. A field, method, or other member with default access is not accessible from a subclass declared in a different package."},{"owner":{"account_id":446823,"reputation":852,"user_id":840112,"display_name":"david"},"score":0,"creation_date":1332746294,"post_id":9867997,"comment_id":12582756,"body_markdown":"Wow that is true. I just tried it and learned something new. Thank you and +1!","body":"Wow that is true. I just tried it and learned something new. Thank you and +1!"},{"owner":{"account_id":1188816,"reputation":3407,"user_id":1162168,"display_name":"Michael Schmei&#223;er"},"score":1,"creation_date":1332746459,"post_id":9867997,"comment_id":12582805,"body_markdown":"@Ted Hopp Your answer is correct so I up-voted it, however, I would ask you to add the fact that the default visibility is actually public within interfaces. (Also mentioned within the JLS section: &quot;All members of interfaces are implicitly public.&quot;)","body":"@Ted Hopp Your answer is correct so I up-voted it, however, I would ask you to add the fact that the default visibility is actually public within interfaces. (Also mentioned within the JLS section: &quot;All members of interfaces are implicitly public.&quot;)"}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":4,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1398785508,"creation_date":1332745795,"answer_id":9867997,"question_id":9867976,"body_markdown":"The `protected` specifier allows access by all subclasses of the class in question, whatever package they reside in, as well as to other code in the same package. The default specifier allows access by other code in the same package, but not by code that is in subclasses residing in different packages. See [Java Language Specification Section 6.6][1].\r\n\r\nEDIT: Per request of Michael Schmei&#223;er (so others don&#39;t have to read through the comments or follow a link to find this): all members of interfaces are implicitly public. It is, in fact, a compile-time error to specify any access specifier for an interface member other than `public` (although no access specifier at all defaults to public access). Here&#39;s the full set of rules from the JLS for class members (see the above link for the rules for packages, top-level classes and interfaces, and arrays):\r\n\r\n&gt;A member (class, interface, field, or method) of a reference (class, interface, or array) type or a constructor of a class type is accessible only if the type is accessible and the member or constructor is declared to permit access:\r\n\r\n&gt; - If the member or constructor is declared public, then access is permitted.\r\n\r\n&gt; - All members of interfaces are implicitly public.\r\n\r\n&gt; - Otherwise, if the member or constructor is declared protected, then access is permitted only when one of the following is true:\r\n\r\n&gt; &gt; - Access to the member or constructor occurs from within the package containing the class in which the protected member or constructor is declared.\r\n\r\n&gt; &gt; - Access is correct as described in [&#167;6.6.2][2]. (This clause refers to the rules that allow derived classes to access protected members of superclasses; &#167;6.6.2 starts: _&quot;A protected member or constructor of an object may be accessed from outside the package in which it is declared only by code that is responsible for the implementation of that object.&quot;_ It then elaborates on that.)\r\n\r\n&gt; - Otherwise, if the member or constructor is declared private, then access is permitted if and only if it occurs within the body of the top level class ([&#167;7.6][3]) that encloses the declaration of the member or constructor.\r\n\r\n&gt; - Otherwise, we say there is default access, which is permitted only when the access occurs from within the package in which the type is declared.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.2\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.6","title":"Difference between the default access specifier and protected access specifier in java","body":"<p>The <code>protected</code> specifier allows access by all subclasses of the class in question, whatever package they reside in, as well as to other code in the same package. The default specifier allows access by other code in the same package, but not by code that is in subclasses residing in different packages. See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"noreferrer\">Java Language Specification Section 6.6</a>.</p>\n\n<p>EDIT: Per request of Michael Schmeißer (so others don't have to read through the comments or follow a link to find this): all members of interfaces are implicitly public. It is, in fact, a compile-time error to specify any access specifier for an interface member other than <code>public</code> (although no access specifier at all defaults to public access). Here's the full set of rules from the JLS for class members (see the above link for the rules for packages, top-level classes and interfaces, and arrays):</p>\n\n<blockquote>\n  <p>A member (class, interface, field, or method) of a reference (class, interface, or array) type or a constructor of a class type is accessible only if the type is accessible and the member or constructor is declared to permit access:</p>\n  \n  <ul>\n  <li><p>If the member or constructor is declared public, then access is permitted.</p></li>\n  <li><p>All members of interfaces are implicitly public.</p></li>\n  <li><p>Otherwise, if the member or constructor is declared protected, then access is permitted only when one of the following is true:</p></li>\n  </ul>\n  \n  <blockquote>\n    <ul>\n    <li><p>Access to the member or constructor occurs from within the package containing the class in which the protected member or constructor is declared.</p></li>\n    <li><p>Access is correct as described in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.2\" rel=\"noreferrer\">§6.6.2</a>. (This clause refers to the rules that allow derived classes to access protected members of superclasses; §6.6.2 starts: <em>\"A protected member or constructor of an object may be accessed from outside the package in which it is declared only by code that is responsible for the implementation of that object.\"</em> It then elaborates on that.)</p></li>\n    </ul>\n  </blockquote>\n  \n  <ul>\n  <li><p>Otherwise, if the member or constructor is declared private, then access is permitted if and only if it occurs within the body of the top level class (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.6\" rel=\"noreferrer\">§7.6</a>) that encloses the declaration of the member or constructor.</p></li>\n  <li><p>Otherwise, we say there is default access, which is permitted only when the access occurs from within the package in which the type is declared.</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1427305,"reputation":787,"user_id":1350470,"accept_rate":20,"display_name":"Coding Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1335951136,"creation_date":1335951136,"answer_id":10411094,"question_id":9867976,"body_markdown":"This Java [tutorial][1] may be of some use to you.\r\n\r\n    Modifier    | Class | Package | Subclass | World\r\n    \r\n    public      |  Y    |    Y    |    Y     |   Y\r\n    \r\n    protected   |  Y    |    Y    |    Y     |   N\r\n    \r\n    no modifier |  Y    |    Y    |    N     |   N\r\n    \r\n    private     |  Y    |    N    |    N     |   N\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/javaOO/accesscontrol.html","title":"Difference between the default access specifier and protected access specifier in java","body":"<p>This Java <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">tutorial</a> may be of some use to you.</p>\n\n<pre><code>Modifier    | Class | Package | Subclass | World\n\npublic      |  Y    |    Y    |    Y     |   Y\n\nprotected   |  Y    |    Y    |    Y     |   N\n\nno modifier |  Y    |    Y    |    N     |   N\n\nprivate     |  Y    |    N    |    N     |   N\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5118313,"reputation":87,"user_id":4102750,"display_name":"Neelam Chahal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429861017,"creation_date":1429861017,"answer_id":29841443,"question_id":9867976,"body_markdown":"         \r\n&lt;h2&gt;  Protected Access specifier - there are two ways to access protected data&lt;/h2&gt;    \r\n  \r\n\r\n   1. The protected data members,protected methods of a class will be visible to the other Classes if they resides in &lt;b&gt;same package &lt;/b&gt;\r\n            \r\n   \r\n\r\n   2. Using &lt;b&gt;Inheritance &lt;/b&gt;\r\n    \r\n      means we can use the protected data of that class by Inheriting that class.\r\n  \r\n\r\n      \r\n&lt;h2&gt; Default access specifier- Only one way to access default data &lt;/h2&gt;\r\n   Default restricts the access only to package level , even after extending the class having default data members ,we won&#39;t be able to access.\r\n\r\n&lt;h3&gt;Example&lt;/h3&gt;\r\n &lt;b&gt;To check it for default remove protected keyword for int x in ProvideProtected  , a compile time error will be generated.&lt;/b&gt;  \r\n\r\n\r\n        \r\n            1. SuperClass\r\n            \r\n            package nee.superclass;\r\n            \r\n            public class ProvideProtected {\r\n            \tprotected int x=800;\r\n            \r\n            }\r\n            \r\n            2.Subclass\r\n            \r\n            \r\n            package nee.subclass;\r\n            \r\n            import nee.superclass.*;\r\n            \r\n            public class AccessProtected extends ProvideProtected \r\n            \r\n            {\t\r\n            public void accessProtected()\r\n            \t{\r\n            \t\tSystem.out.println(x);\r\n            \t}\r\n            \r\n            \tpublic static void main(String[] args) {\r\n            \t\tAccessProtected obj=new AccessProtected();\r\n            \t\tobj.accessProtected();\r\n            \r\n            \t}\r\n            \r\n            }\r\n            \r\n            \r\n      \r\n\r\n   \r\n       \r\n","title":"Difference between the default access specifier and protected access specifier in java","body":"<h2>  Protected Access specifier - there are two ways to access protected data</h2>    \n\n<ol>\n<li><p>The protected data members,protected methods of a class will be visible to the other Classes if they resides in <b>same package </b></p></li>\n<li><p>Using <b>Inheritance </b></p>\n\n<p>means we can use the protected data of that class by Inheriting that class.</p></li>\n</ol>\n\n<h2> Default access specifier- Only one way to access default data </h2>\n\n<p>Default restricts the access only to package level , even after extending the class having default data members ,we won't be able to access.</p>\n\n<h3>Example</h3>\n\n<p><b>To check it for default remove protected keyword for int x in ProvideProtected  , a compile time error will be generated.</b>  </p>\n\n<pre><code>        1. SuperClass\n\n        package nee.superclass;\n\n        public class ProvideProtected {\n            protected int x=800;\n\n        }\n\n        2.Subclass\n\n\n        package nee.subclass;\n\n        import nee.superclass.*;\n\n        public class AccessProtected extends ProvideProtected \n\n        {   \n        public void accessProtected()\n            {\n                System.out.println(x);\n            }\n\n            public static void main(String[] args) {\n                AccessProtected obj=new AccessProtected();\n                obj.accessProtected();\n\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6467922,"reputation":143,"user_id":5009116,"display_name":"Akshat Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491490530,"creation_date":1491486864,"answer_id":43257312,"question_id":9867976,"body_markdown":"Protected Access Modifier :- Anything marked as protected is visible within the same package and also visible in the subclass .\r\n\r\nDefault access :- Default is not a keyword . It applies when no access modifier is specified . It is basically a package level modifier. Anything which is having such an access is visible in the same package .\r\n\r\nNow the difference can be explained better with the help of an example \r\n\r\n**package p1**\r\n\r\n    public class A\r\n    {\r\n    \r\n    protected void fn()\r\n    {\r\n    \r\n    }\r\n    \r\n    } \r\n\r\n**package p1**\r\n\r\n    public class B\r\n    {\r\n    \r\n    A a1 = new A();\r\n    \r\n    a1.fn();// fn() is visible inside the same package\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nNow we come to a subclass in different package\r\n\r\n**package p2**\r\n\r\n    public class D extends A\r\n    \r\n    {\r\n    \r\n    void test()\r\n    \r\n    {\r\n    \r\n    A a1 = new new A();\r\n    \r\n        //a1.fn() --&gt;  would give compilation error\r\n    fn();\r\n    \r\n    super.fn();\r\n    \r\n    }\r\n    \r\n    }\r\n\r\n\r\n`fn(), super.fn()` will not give an error.\r\n\r\nSo, the difference is in the subclass the method can&#39;t be called via reference of super class. Either  You can call it directly or use super. \r\n\r\nNote that `super.fn()` must be a part of non-static method.\r\n","title":"Difference between the default access specifier and protected access specifier in java","body":"<p>Protected Access Modifier :- Anything marked as protected is visible within the same package and also visible in the subclass .</p>\n\n<p>Default access :- Default is not a keyword . It applies when no access modifier is specified . It is basically a package level modifier. Anything which is having such an access is visible in the same package .</p>\n\n<p>Now the difference can be explained better with the help of an example </p>\n\n<p><strong>package p1</strong></p>\n\n<pre><code>public class A\n{\n\nprotected void fn()\n{\n\n}\n\n} \n</code></pre>\n\n<p><strong>package p1</strong></p>\n\n<pre><code>public class B\n{\n\nA a1 = new A();\n\na1.fn();// fn() is visible inside the same package\n\n}\n\n}\n</code></pre>\n\n<p>Now we come to a subclass in different package</p>\n\n<p><strong>package p2</strong></p>\n\n<pre><code>public class D extends A\n\n{\n\nvoid test()\n\n{\n\nA a1 = new new A();\n\n    //a1.fn() --&gt;  would give compilation error\nfn();\n\nsuper.fn();\n\n}\n\n}\n</code></pre>\n\n<p><code>fn(), super.fn()</code> will not give an error.</p>\n\n<p>So, the difference is in the subclass the method can't be called via reference of super class. Either  You can call it directly or use super. </p>\n\n<p>Note that <code>super.fn()</code> must be a part of non-static method.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665048549,"creation_date":1576321107,"answer_id":59334482,"question_id":9867976,"body_markdown":"Long story short:\r\n\r\n`default` member is available in *all the other classes of the same package*;\r\n\r\n`protected` member is available in *all the other classes of the same package* **and** *in any other class of any other package as long as that class extends the class containing your protected member.*","title":"Difference between the default access specifier and protected access specifier in java","body":"<p>Long story short:</p>\n<p><code>default</code> member is available in <em>all the other classes of the same package</em>;</p>\n<p><code>protected</code> member is available in <em>all the other classes of the same package</em> <strong>and</strong> <em>in any other class of any other package as long as that class extends the class containing your protected member.</em></p>\n"},{"tags":[],"owner":{"account_id":8661344,"reputation":11,"user_id":6483632,"display_name":"abhishek gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604050348,"creation_date":1604045309,"answer_id":64604662,"question_id":9867976,"body_markdown":" - protected - same package+other package which extends this class.\r\n - default - same package only.\r\n\r\nExample:\r\n\r\n    package p1;\r\n    protected class Parent{\r\n    }\r\n    \r\n    import p1.*;\r\n    class Child extends Parent{}\r\n\r\n","title":"Difference between the default access specifier and protected access specifier in java","body":"<ul>\n<li>protected - same package+other package which extends this class.</li>\n<li>default - same package only.</li>\n</ul>\n<p>Example:</p>\n<pre><code>package p1;\nprotected class Parent{\n}\n\nimport p1.*;\nclass Child extends Parent{}\n</code></pre>\n"}],"owner":{"account_id":180421,"reputation":734,"user_id":413727,"accept_rate":86,"display_name":"Abhilash PS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87803,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"closed_date":1604050373,"accepted_answer_id":9867997,"answer_count":6,"score":31,"last_activity_date":1665048549,"creation_date":1332745686,"question_id":9867976,"body_markdown":"I was trying to learn java and when I went through access specifiers I had a doubt. What is the difference between the default one if none is specified and the protected access specifier in java?","title":"Difference between the default access specifier and protected access specifier in java","body":"<p>I was trying to learn java and when I went through access specifiers I had a doubt. What is the difference between the default one if none is specified and the protected access specifier in java?</p>\n"},{"tags":["java","tostring","super","base-class"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":3,"creation_date":1439139613,"post_id":31906606,"comment_id":51727236,"body_markdown":"That depends what your base class is.","body":"That depends what your base class is."},{"owner":{"account_id":4381753,"reputation":1389,"user_id":3573213,"accept_rate":75,"display_name":"dramzy"},"score":2,"creation_date":1439139902,"post_id":31906606,"comment_id":51727320,"body_markdown":"You would do that if the string representation of your class should incorporate the string representation of its supertype. Instead of duplicating the code in the superclass that prints the properties that your class inherits from it, you just call its `toString()`","body":"You would do that if the string representation of your class should incorporate the string representation of its supertype. Instead of duplicating the code in the superclass that prints the properties that your class inherits from it, you just call its <code>toString()</code>"},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":1,"creation_date":1439139993,"post_id":31906606,"comment_id":51727348,"body_markdown":"Have you tried to run your code? I think that the best way to know what your code will return is to try to execute it ;)","body":"Have you tried to run your code? I think that the best way to know what your code will return is to try to execute it ;)"},{"owner":{"account_id":3275224,"reputation":143,"user_id":2757497,"accept_rate":88,"display_name":"Kartik Shah"},"score":0,"creation_date":1439140677,"post_id":31906606,"comment_id":51727564,"body_markdown":"@riccardo.cardin yes i run my code and i understand that if i use super.toString() in base class then it returns class name of that class and some code after &#39;@&#39; i don&#39;t know what that code is and when put same method in derived class at that time it displays name of base class and &#39;@&#39; and some code so now i understand that it returns class name of the class and if we use that in derived class it returns base class name i think i understand right ? just say what i said is right or wrong ?","body":"@riccardo.cardin yes i run my code and i understand that if i use super.toString() in base class then it returns class name of that class and some code after &#39;@&#39; i don&#39;t know what that code is and when put same method in derived class at that time it displays name of base class and &#39;@&#39; and some code so now i understand that it returns class name of the class and if we use that in derived class it returns base class name i think i understand right ? just say what i said is right or wrong ?"}],"answers":[{"tags":[],"owner":{"account_id":6595219,"reputation":81,"user_id":5095251,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439140595,"creation_date":1439140595,"answer_id":31906785,"question_id":31906606,"body_markdown":"Your class Person should extend parent class where you define method toString(), otherwise your parent class is class Object and the native method of this class is going to be used:\r\n\r\n\r\n        public String toString() {\r\n            return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n        }\r\n\r\n\r\nSo, you will get a string that consisting of the name of the class of which the object is an instance, the at-sign @, and unsigned hexadecimal representation of the hash code of the object\r\nIt&#39;s recommended that all classes (subclasses of class Object) override this method.","title":"Java - Super.toString() method in base class?","body":"<p>Your class Person should extend parent class where you define method toString(), otherwise your parent class is class Object and the native method of this class is going to be used:</p>\n\n<pre><code>    public String toString() {\n        return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n    }\n</code></pre>\n\n<p>So, you will get a string that consisting of the name of the class of which the object is an instance, the at-sign @, and unsigned hexadecimal representation of the hash code of the object\nIt's recommended that all classes (subclasses of class Object) override this method.</p>\n"},{"tags":[],"owner":{"account_id":5412067,"reputation":685,"user_id":4308491,"accept_rate":17,"display_name":"Gaur93"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665048189,"creation_date":1439141828,"answer_id":31907001,"question_id":31906606,"body_markdown":"&lt;code&gt;super&lt;/code&gt; keyword is used to call parent class methods in case of inheritance.&lt;br&gt;Every class is the child of &lt;code&gt;Object&lt;/code&gt; class in java and one of its non-final methods is &lt;code&gt;toString()&lt;/code&gt;.&lt;br&gt;So&lt;code&gt;super.toString()&lt;/code&gt; calls &lt;code&gt;Object&lt;/code&gt;class method &lt;code&gt;toString() &lt;/code&gt;.","title":"Java - Super.toString() method in base class?","body":"<p><code>super</code> keyword is used to call parent class methods in case of inheritance.<br>Every class is the child of <code>Object</code> class in java and one of its non-final methods is <code>toString()</code>.<br>So<code>super.toString()</code> calls <code>Object</code>class method <code>toString() </code>.</p>\n"}],"owner":{"account_id":3275224,"reputation":143,"user_id":2757497,"accept_rate":88,"display_name":"Kartik Shah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38002,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":31906785,"answer_count":2,"score":1,"last_activity_date":1665048189,"creation_date":1439139557,"question_id":31906606,"body_markdown":"My question is what is the reason to write Super.toString() in base class and what it returns and why ? \r\n\r\nthis is my code :\r\n\r\n    class Person    {\r\n    public String toString()    {\r\n            return super.toString() /*+ &quot;-&gt;&quot; + &quot;Person&quot; + name + &quot;------&quot;*/;\r\n        \t}\r\n    }\r\n\r\nwhat is supposed to be return ? and thanks i m beginner in java","title":"Java - Super.toString() method in base class?","body":"<p>My question is what is the reason to write Super.toString() in base class and what it returns and why ? </p>\n\n<p>this is my code :</p>\n\n<pre><code>class Person    {\npublic String toString()    {\n        return super.toString() /*+ \"-&gt;\" + \"Person\" + name + \"------\"*/;\n        }\n}\n</code></pre>\n\n<p>what is supposed to be return ? and thanks i m beginner in java</p>\n"},{"tags":["java","popup","return-value","vaadin23"],"comments":[{"owner":{"account_id":14527719,"reputation":373,"user_id":10493440,"display_name":"Eisenknurr"},"score":0,"creation_date":1664957286,"post_id":73956680,"comment_id":130584973,"body_markdown":"You could of course solve this manually but I recommend looking into [data binding](https://vaadin.com/docs/latest/binding-data) which solves this exact problem.","body":"You could of course solve this manually but I recommend looking into <a href=\"https://vaadin.com/docs/latest/binding-data\" rel=\"nofollow noreferrer\">data binding</a> which solves this exact problem."},{"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"score":0,"creation_date":1665012968,"post_id":73956680,"comment_id":130602422,"body_markdown":"I am familiar with the data binding and will be using it in my application. My question was how to do the popup and return validated bean upon popup window close event.","body":"I am familiar with the data binding and will be using it in my application. My question was how to do the popup and return validated bean upon popup window close event."}],"answers":[{"comments":[{"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"score":0,"creation_date":1665108070,"post_id":73971414,"comment_id":130627511,"body_markdown":"Thanks, I already found this component. To return value, I&#39;ll write a wrapper around the Dialog.","body":"Thanks, I already found this component. To return value, I&#39;ll write a wrapper around the Dialog."}],"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665048032,"creation_date":1665048032,"answer_id":73971414,"question_id":73956680,"body_markdown":"The component you are looking for is called Dialog. Dialogs don&#39;t have a &quot;return value&quot; (just like Windows in older versions) - you just maintain the state of the application to get the value the user has entered in the Dialog. If you want to do something when the Dialog is closed, you can use a listener for that.\r\n\r\nExample:\r\n\r\n```java\r\n    private String name; \r\n\r\n    @Override\r\n    public void openNameDialog() {\r\n    \r\n        Dialog dialog = new Dialog();\r\n        TextField nameTextField = new TextField(&quot;Enter name&quot;);\r\n        nameTextField.addValueChangeListener(e -&gt; {\r\n           name = e.getValue(); \r\n        });\r\n\t\tButton closeButton = new Button(&quot;close&quot;, e -&gt; { dialog.close(); });\r\n        dialog.add(nameTextField, closeButton);\r\n        dialog.addOpenedChangeListener(e -&gt; {\r\n            // if dialog was closed\r\n            if (!e.isOpened()) {\r\n                // do something with the `name` \r\n                System.out.println(&quot;Value entered in Dialog: &quot; + name);\r\n            }\r\n        });\r\n\t\tdialog.open();\r\n    }\r\n```","title":"Vaadin v.23 how to create a popup window that will return a value on closing","body":"<p>The component you are looking for is called Dialog. Dialogs don't have a &quot;return value&quot; (just like Windows in older versions) - you just maintain the state of the application to get the value the user has entered in the Dialog. If you want to do something when the Dialog is closed, you can use a listener for that.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private String name; \n\n    @Override\n    public void openNameDialog() {\n    \n        Dialog dialog = new Dialog();\n        TextField nameTextField = new TextField(&quot;Enter name&quot;);\n        nameTextField.addValueChangeListener(e -&gt; {\n           name = e.getValue(); \n        });\n        Button closeButton = new Button(&quot;close&quot;, e -&gt; { dialog.close(); });\n        dialog.add(nameTextField, closeButton);\n        dialog.addOpenedChangeListener(e -&gt; {\n            // if dialog was closed\n            if (!e.isOpened()) {\n                // do something with the `name` \n                System.out.println(&quot;Value entered in Dialog: &quot; + name);\n            }\n        });\n        dialog.open();\n    }\n</code></pre>\n"}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73971414,"answer_count":1,"score":0,"last_activity_date":1665048032,"creation_date":1664952180,"question_id":73956680,"body_markdown":"I am still learning Vaadin while trying to make my application.\r\nI have a button with click listener. Upon click it shall open a popup window, passing in an object.\r\nIn this popup window I have several text fields and buttons to edit this object.\r\nI created a class extending VerticalLayout which contains these components.\r\nWhen popup windows closed, it should return updated object to the main layout.\r\nI can&#39;t find neither in Javadocs, nor in tutorials a way to do it. In older versions of Vaadin there was a component Window which does not longer exist.\r\nIf someone can point me to the right direction, I will appreciate.","title":"Vaadin v.23 how to create a popup window that will return a value on closing","body":"<p>I am still learning Vaadin while trying to make my application.\nI have a button with click listener. Upon click it shall open a popup window, passing in an object.\nIn this popup window I have several text fields and buttons to edit this object.\nI created a class extending VerticalLayout which contains these components.\nWhen popup windows closed, it should return updated object to the main layout.\nI can't find neither in Javadocs, nor in tutorials a way to do it. In older versions of Vaadin there was a component Window which does not longer exist.\nIf someone can point me to the right direction, I will appreciate.</p>\n"},{"tags":["java","unit-testing","enums","hamcrest"],"answers":[{"comments":[{"owner":{"account_id":120846,"reputation":2631,"user_id":2215831,"accept_rate":65,"display_name":"Vince O&#39;Sullivan"},"score":1,"creation_date":1494147607,"post_id":1079722,"comment_id":74696555,"body_markdown":"Unit tests have no knowledge of how your months will be used and even less knowledge of how they might be used in the future.  That implies that you should include unit tests for them, even if the application won&#39;t currently compile if all the months are not present.  Caveat: Ensure your complex objects are properly covered by unit tests before worrying about simple ones (such as enums with no methods).","body":"Unit tests have no knowledge of how your months will be used and even less knowledge of how they might be used in the future.  That implies that you should include unit tests for them, even if the application won&#39;t currently compile if all the months are not present.  Caveat: Ensure your complex objects are properly covered by unit tests before worrying about simple ones (such as enums with no methods)."}],"tags":[],"owner":{"account_id":44044,"reputation":402,"user_id":129021,"accept_rate":100,"display_name":"mkato"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246632958,"creation_date":1246632958,"answer_id":1079722,"question_id":1079700,"body_markdown":"If you use all of the months in your code, your IDE won&#39;t let you compile, so I think you don&#39;t need unit testing.\r\n\r\nBut if you are using them with reflection, even if you delete one month, it will compile, so it&#39;s valid to put a unit test.","title":"How to test enum types?","body":"<p>If you use all of the months in your code, your IDE won't let you compile, so I think you don't need unit testing.</p>\n\n<p>But if you are using them with reflection, even if you delete one month, it will compile, so it's valid to put a unit test.</p>\n"},{"tags":[],"owner":{"account_id":4871,"reputation":48611,"user_id":7532,"accept_rate":87,"display_name":"Mark Heath"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1246633287,"creation_date":1246633287,"answer_id":1079747,"question_id":1079700,"body_markdown":"Usually I would say it is overkill, but there are occasionally reasons for writing unit tests for enums.\r\n\r\nSometimes the values assigned to enumeration members must never change or the loading of legacy persisted data will fail. Similarly, apparently unused members must not be deleted. Unit tests can be used to guard against a developer making changes without realising the implications.","title":"How to test enum types?","body":"<p>Usually I would say it is overkill, but there are occasionally reasons for writing unit tests for enums.</p>\n\n<p>Sometimes the values assigned to enumeration members must never change or the loading of legacy persisted data will fail. Similarly, apparently unused members must not be deleted. Unit tests can be used to guard against a developer making changes without realising the implications.</p>\n"},{"comments":[{"owner":{"account_id":2566502,"reputation":1063,"user_id":2226391,"accept_rate":57,"display_name":"dirtydexter"},"score":0,"creation_date":1414757779,"post_id":1103800,"comment_id":41948353,"body_markdown":"I have a enum that has one method that I want to test, I am a rookie in unit testing and can&#39;t figure out a way to write test cases for that method, can you please provide me an example or help to doing it.","body":"I have a enum that has one method that I want to test, I am a rookie in unit testing and can&#39;t figure out a way to write test cases for that method, can you please provide me an example or help to doing it."},{"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"score":0,"creation_date":1414982528,"post_id":1103800,"comment_id":42006726,"body_markdown":"If &quot;assertThat(Month.January, is(notNullValue()));&quot; in the OP&#39;s question is not enough of an example for you, I think you&#39;re better off asking it as a separate question and providing an example of what you&#39;re trying to test. Sounds to me like you might need help with JUnit itself.","body":"If &quot;assertThat(Month.January, is(notNullValue()));&quot; in the OP&#39;s question is not enough of an example for you, I think you&#39;re better off asking it as a separate question and providing an example of what you&#39;re trying to test. Sounds to me like you might need help with JUnit itself."}],"tags":[],"owner":{"account_id":42594,"reputation":12865,"user_id":124111,"accept_rate":98,"display_name":"aberrant80"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1247144982,"creation_date":1247144982,"answer_id":1103800,"question_id":1079700,"body_markdown":"For enums, I test them only when they actually have methods in them. If it&#39;s a pure value-only enum like your example, I&#39;d say don&#39;t bother.\r\n\r\nBut since you&#39;re keen on testing it, going with your second option is much better than the first. The problem with the first is that if you use an IDE, any renaming on the enums would also rename the ones in your test class.","title":"How to test enum types?","body":"<p>For enums, I test them only when they actually have methods in them. If it's a pure value-only enum like your example, I'd say don't bother.</p>\n\n<p>But since you're keen on testing it, going with your second option is much better than the first. The problem with the first is that if you use an IDE, any renaming on the enums would also rename the ones in your test class.</p>\n"},{"comments":[{"owner":{"account_id":2566502,"reputation":1063,"user_id":2226391,"accept_rate":57,"display_name":"dirtydexter"},"score":0,"creation_date":1414757862,"post_id":7882322,"comment_id":41948404,"body_markdown":"I have a enum that has one method that I want to test, I am a rookie in unit testing and can&#39;t figure out a way to write test cases for that method, can you please provide me an example or help to doing it.","body":"I have a enum that has one method that I want to test, I am a rookie in unit testing and can&#39;t figure out a way to write test cases for that method, can you please provide me an example or help to doing it."},{"owner":{"account_id":4570494,"reputation":335,"user_id":3710314,"display_name":"Erik Medina"},"score":0,"creation_date":1553869980,"post_id":7882322,"comment_id":97558489,"body_markdown":"Thank you for providing an example. I was stuck as well because I had no idea how to test a method within a `enum` class.","body":"Thank you for providing an example. I was stuck as well because I had no idea how to test a method within a <code>enum</code> class."}],"tags":[],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1415124140,"creation_date":1319492372,"answer_id":7882322,"question_id":1079700,"body_markdown":"I agree with [aberrant80][1].\r\n\r\n&gt; For enums, I test them only when they actually have methods in them.\r\n&gt; If it&#39;s a pure value-only enum like your example, I&#39;d say don&#39;t\r\n&gt; bother.\r\n&gt; \r\n&gt; But since you&#39;re keen on testing it, going with your second option is\r\n&gt; much better than the first. The problem with the first is that if you\r\n&gt; use an IDE, any renaming on the enums would also rename the ones in\r\n&gt; your test class.\r\n\r\nI would expand on it by adding that unit testings an Enum can be very useful. If you work in a large code base, build time starts to mount up and a unit test can be a faster way to verify functionality (tests only build their dependencies). Another really big advantage is that other developers cannot change the functionality of your code unintentionally (a huge problem with very large teams).\r\n\r\nAnd with all Test Driven Development, tests around an Enums Methods reduce the number of bugs in your code base.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1079700/how-to-test-enum-types/1103800#1103800\r\n\r\n**Simple Example**\r\n\r\n    public enum Multiplier {\r\n        DOUBLE(2.0),\r\n        TRIPLE(3.0);\r\n    \r\n        private final double multiplier;\r\n    \r\n        Multiplier(double multiplier) {\r\n            this.multiplier = multiplier;\r\n        }\r\n    \r\n        Double applyMultiplier(Double value) {\r\n            return multiplier * value;\r\n        }\r\n    \r\n    }\r\n\r\n    public class MultiplierTest {\r\n\r\n        @Test\r\n        public void should() {\r\n            assertThat(Multiplier.DOUBLE.applyMultiplier(1.0), is(2.0));\r\n            assertThat(Multiplier.TRIPLE.applyMultiplier(1.0), is(3.0));\r\n        }\r\n    }","title":"How to test enum types?","body":"<p>I agree with <a href=\"https://stackoverflow.com/questions/1079700/how-to-test-enum-types/1103800#1103800\">aberrant80</a>.</p>\n\n<blockquote>\n  <p>For enums, I test them only when they actually have methods in them.\n  If it's a pure value-only enum like your example, I'd say don't\n  bother.</p>\n  \n  <p>But since you're keen on testing it, going with your second option is\n  much better than the first. The problem with the first is that if you\n  use an IDE, any renaming on the enums would also rename the ones in\n  your test class.</p>\n</blockquote>\n\n<p>I would expand on it by adding that unit testings an Enum can be very useful. If you work in a large code base, build time starts to mount up and a unit test can be a faster way to verify functionality (tests only build their dependencies). Another really big advantage is that other developers cannot change the functionality of your code unintentionally (a huge problem with very large teams).</p>\n\n<p>And with all Test Driven Development, tests around an Enums Methods reduce the number of bugs in your code base.</p>\n\n<p><strong>Simple Example</strong></p>\n\n<pre><code>public enum Multiplier {\n    DOUBLE(2.0),\n    TRIPLE(3.0);\n\n    private final double multiplier;\n\n    Multiplier(double multiplier) {\n        this.multiplier = multiplier;\n    }\n\n    Double applyMultiplier(Double value) {\n        return multiplier * value;\n    }\n\n}\n\npublic class MultiplierTest {\n\n    @Test\n    public void should() {\n        assertThat(Multiplier.DOUBLE.applyMultiplier(1.0), is(2.0));\n        assertThat(Multiplier.TRIPLE.applyMultiplier(1.0), is(3.0));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3379852,"reputation":61,"user_id":2837125,"display_name":"razzek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380683358,"creation_date":1380683358,"answer_id":19129397,"question_id":1079700,"body_markdown":"you can test if have exactly some values, by example:\r\n\r\n    for(MyBoolean b : MyBoolean.values()) {\r\n        switch(b) {\r\n        case TRUE:\r\n            break;\r\n        case FALSE:\r\n            break;\r\n        default:\r\n            throw new IllegalArgumentException(b.toString());\r\n    }\r\n    \r\n    for(String s : new String[]{&quot;TRUE&quot;, &quot;FALSE&quot; }) {\r\n        MyBoolean.valueOf(s);\r\n    }\r\n\r\nIf someone removes or adds a value, some of test fails.","title":"How to test enum types?","body":"<p>you can test if have exactly some values, by example:</p>\n\n<pre><code>for(MyBoolean b : MyBoolean.values()) {\n    switch(b) {\n    case TRUE:\n        break;\n    case FALSE:\n        break;\n    default:\n        throw new IllegalArgumentException(b.toString());\n}\n\nfor(String s : new String[]{\"TRUE\", \"FALSE\" }) {\n    MyBoolean.valueOf(s);\n}\n</code></pre>\n\n<p>If someone removes or adds a value, some of test fails.</p>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653036887,"creation_date":1653036887,"answer_id":72316139,"question_id":1079700,"body_markdown":"This is a sample for what we have within our project.\r\n\r\n```\r\npublic enum Role {\r\n\r\n    ROLE_STUDENT(&quot;LEARNER&quot;),\r\n    ROLE_INSTRUCTOR(&quot;INSTRUCTOR&quot;),\r\n    ROLE_ADMINISTRATOR(&quot;ADMINISTRATOR&quot;),\r\n    ROLE_TEACHER(&quot;TEACHER&quot;),\r\n    ROLE_TRUSTED_API(&quot;TRUSTEDAPI&quot;);\r\n\r\n    private final String textValue;\r\n\r\n    Role(String textValue) {\r\n        this.textValue = textValue;\r\n    }\r\n\r\n    public String getTextValue() {\r\n        return textValue;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass RoleTest {\r\n\r\n    @Test\r\n    void testGetTextValue() {\r\n\r\n        assertAll(\r\n                () -&gt; assertEquals(&quot;LEARNER&quot;, Role.ROLE_STUDENT.getTextValue()),\r\n                () -&gt; assertEquals(&quot;INSTRUCTOR&quot;, Role.ROLE_INSTRUCTOR.getTextValue()),\r\n                () -&gt; assertEquals(&quot;ADMINISTRATOR&quot;, Role.ROLE_ADMINISTRATOR.getTextValue()),\r\n                () -&gt; assertEquals(&quot;TEACHER&quot;, Role.ROLE_TEACHER.getTextValue()),\r\n                () -&gt; assertEquals(&quot;TRUSTEDAPI&quot;, Role.ROLE_TRUSTED_API.getTextValue())\r\n        );\r\n    }\r\n}\r\n\r\n```","title":"How to test enum types?","body":"<p>This is a sample for what we have within our project.</p>\n<pre><code>public enum Role {\n\n    ROLE_STUDENT(&quot;LEARNER&quot;),\n    ROLE_INSTRUCTOR(&quot;INSTRUCTOR&quot;),\n    ROLE_ADMINISTRATOR(&quot;ADMINISTRATOR&quot;),\n    ROLE_TEACHER(&quot;TEACHER&quot;),\n    ROLE_TRUSTED_API(&quot;TRUSTEDAPI&quot;);\n\n    private final String textValue;\n\n    Role(String textValue) {\n        this.textValue = textValue;\n    }\n\n    public String getTextValue() {\n        return textValue;\n    }\n}\n</code></pre>\n<pre><code>class RoleTest {\n\n    @Test\n    void testGetTextValue() {\n\n        assertAll(\n                () -&gt; assertEquals(&quot;LEARNER&quot;, Role.ROLE_STUDENT.getTextValue()),\n                () -&gt; assertEquals(&quot;INSTRUCTOR&quot;, Role.ROLE_INSTRUCTOR.getTextValue()),\n                () -&gt; assertEquals(&quot;ADMINISTRATOR&quot;, Role.ROLE_ADMINISTRATOR.getTextValue()),\n                () -&gt; assertEquals(&quot;TEACHER&quot;, Role.ROLE_TEACHER.getTextValue()),\n                () -&gt; assertEquals(&quot;TRUSTEDAPI&quot;, Role.ROLE_TRUSTED_API.getTextValue())\n        );\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":39831,"reputation":1810,"user_id":115091,"display_name":"seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155561,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":1103800,"answer_count":6,"score":31,"last_activity_date":1665047538,"creation_date":1246632697,"question_id":1079700,"body_markdown":"I&#39;m currently trying to build a more or less complete set of unit tests for a small library. Since we want to allow different implementations to exist we want this set of tests to be (a) generic, so that we can re-use it to test the different implementations and (b) as complete as possible. For the (b) part I&#39;d like to know if there is any best-practice out there for testing enum types. So for example I have an enum as follows:\r\n\r\n    public enum Month {\r\n        January,\r\n        February,\r\n        ...\r\n        December;\r\n    }\r\n\r\nHere I want to ensure that all enum types really exist. Is that even necessary? Currently I&#39;m using Hamcrests `assertThat` like in the following example:\r\n\r\n    assertThat(Month.January, is(notNullValue()));\r\n\r\nA missing &quot;January&quot; enum would result in a compile time error which one can fix by creation the missing enum type.\r\n\r\nI&#39;m using Java here but I don&#39;t mind if your answer is for a different language..\r\n\r\n**Edit:**\r\n\r\nAs mkato and Mark Heath have both pointed out testing enums may not be necessary since the compiler won&#39;t compile when you are using an enum type which isn&#39;t there. But I still want to test those enums since we want to build a seperate TCK-like test.jar which will run the same test on different implementations. So my question was more meant to be like: What is the best way to test enum types?\r\n\r\nAfter thinking about it a bit more I changed the Hamcrest statement above to:\r\n\r\n    assertThat(Month.valueOf(&quot;January&quot;), is(notNullValue()));\r\n\r\nThis statement now throws a NPE when January is not there (yet). Is there anything wrong with this approach?","title":"How to test enum types?","body":"<p>I'm currently trying to build a more or less complete set of unit tests for a small library. Since we want to allow different implementations to exist we want this set of tests to be (a) generic, so that we can re-use it to test the different implementations and (b) as complete as possible. For the (b) part I'd like to know if there is any best-practice out there for testing enum types. So for example I have an enum as follows:</p>\n\n<pre><code>public enum Month {\n    January,\n    February,\n    ...\n    December;\n}\n</code></pre>\n\n<p>Here I want to ensure that all enum types really exist. Is that even necessary? Currently I'm using Hamcrests <code>assertThat</code> like in the following example:</p>\n\n<pre><code>assertThat(Month.January, is(notNullValue()));\n</code></pre>\n\n<p>A missing \"January\" enum would result in a compile time error which one can fix by creation the missing enum type.</p>\n\n<p>I'm using Java here but I don't mind if your answer is for a different language..</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>As mkato and Mark Heath have both pointed out testing enums may not be necessary since the compiler won't compile when you are using an enum type which isn't there. But I still want to test those enums since we want to build a seperate TCK-like test.jar which will run the same test on different implementations. So my question was more meant to be like: What is the best way to test enum types?</p>\n\n<p>After thinking about it a bit more I changed the Hamcrest statement above to:</p>\n\n<pre><code>assertThat(Month.valueOf(\"January\"), is(notNullValue()));\n</code></pre>\n\n<p>This statement now throws a NPE when January is not there (yet). Is there anything wrong with this approach?</p>\n"},{"tags":["java","json","string","log4j"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665030811,"post_id":73968490,"comment_id":130604833,"body_markdown":"You can get the first 4 fields by the delimiting spaces -- then everything left after `&lt;space&gt;&lt;space&gt;-&lt;space&gt;` is the log message. Where exactly are you having a problem?","body":"You can get the first 4 fields by the delimiting spaces -- then everything left after <code>&lt;space&gt;&lt;space&gt;-&lt;space&gt;</code> is the log message. Where exactly are you having a problem?"},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1665031536,"post_id":73968490,"comment_id":130604951,"body_markdown":"log message can have line breaks, spaces and dates. Require a proper way to get actual log lines without getting into trap of log message contents.","body":"log message can have line breaks, spaces and dates. Require a proper way to get actual log lines without getting into trap of log message contents."},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1665031680,"post_id":73968490,"comment_id":130604978,"body_markdown":"how to find whether it is an actual beginning of a log line?","body":"how to find whether it is an actual beginning of a log line?"},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1665031796,"post_id":73968490,"comment_id":130605001,"body_markdown":"cannot assume that log message content has not sequences like &lt;line-break&gt;&lt;number&gt;&lt;space&gt;","body":"cannot assume that log message content has not sequences like &lt;line-break&gt;&lt;number&gt;&lt;space&gt;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665031883,"post_id":73968490,"comment_id":130605010,"body_markdown":"After you have found a log line, (one starting with the expected pattern), assume the following lines are part of the log message unless they start with the expected pattern. Express the pattern in more detail (i.e. recognise a date, time and mode as more than just strings) to get more accuracy.","body":"After you have found a log line, (one starting with the expected pattern), assume the following lines are part of the log message unless they start with the expected pattern. Express the pattern in more detail (i.e. recognise a date, time and mode as more than just strings) to get more accuracy."},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1665032041,"post_id":73968490,"comment_id":130605044,"body_markdown":"I think it is possible. Is there any library or tool to do log parsing in an accurate way?","body":"I think it is possible. Is there any library or tool to do log parsing in an accurate way?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665032252,"post_id":73968490,"comment_id":130605073,"body_markdown":"Create a regular expression which matches the start of a log line with as little uncertainty as possible. As you haven&#39;t shown your log messages, we can&#39;t help you with that, but there are plenty of good regex tutorials.","body":"Create a regular expression which matches the start of a log line with as little uncertainty as possible. As you haven&#39;t shown your log messages, we can&#39;t help you with that, but there are plenty of good regex tutorials."},{"owner":{"account_id":8873402,"reputation":1052,"user_id":6626461,"display_name":"heyitsvajid"},"score":0,"creation_date":1665034720,"post_id":73968490,"comment_id":130605501,"body_markdown":"If i was in this situation, I would try to find the regex which can help me identify the start of the line. Any line which matches regex like date&lt;space&gt;time&lt;space&gt;mode&lt;space&gt;logger_ name\n\ndate and time would follow same format. Mode can be some finite number of values and loggere_name will also be some finite number of unique values. Once you know start of line, rest is to play with space and split the string","body":"If i was in this situation, I would try to find the regex which can help me identify the start of the line. Any line which matches regex like date&lt;space&gt;time&lt;space&gt;mode&lt;space&gt;logger_ name  date and time would follow same format. Mode can be some finite number of values and loggere_name will also be some finite number of unique values. Once you know start of line, rest is to play with space and split the string"}],"answers":[{"tags":[],"owner":{"account_id":6863081,"reputation":156,"user_id":5276434,"display_name":"Xingxing Qiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665047073,"creation_date":1665047073,"answer_id":73971199,"question_id":73968490,"body_markdown":"maybe you can try this [thekrakken/java-grok]( https://github.com/thekrakken/java-grok )\r\n&gt;  Simple API that allows you to easily parse logs and other files\r\n\r\nit is inspired by logstash filter [Grok filter plugin]( https://www.elastic.co/guide/en/logstash/current/plugins-filters-grok.html#_description_135 )","title":"Parse existing log file to a json array : Java","body":"<p>maybe you can try this <a href=\"https://github.com/thekrakken/java-grok\" rel=\"nofollow noreferrer\">thekrakken/java-grok</a></p>\n<blockquote>\n<p>Simple API that allows you to easily parse logs and other files</p>\n</blockquote>\n<p>it is inspired by logstash filter <a href=\"https://www.elastic.co/guide/en/logstash/current/plugins-filters-grok.html#_description_135\" rel=\"nofollow noreferrer\">Grok filter plugin</a></p>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665047073,"creation_date":1665028115,"question_id":73968490,"body_markdown":"I have some log files that returned from **slf4j.Logger**. logs file are in general format like :\r\n\r\n    date&lt;space&gt;time&lt;space&gt;mode&lt;space&gt;logger name&lt;space&gt; - log message\r\n\r\nlog message can have dates, times, space character &amp; even multiple line breaks.\r\n\r\nLooking for a way to parse this log file into a **JSON array** like :\r\n\r\n    [{\r\n        &quot;date&quot; : &quot;&quot;,\r\n        &quot;time&quot; : &quot;&quot;,\r\n        &quot;mode&quot; : &quot;&quot;,\r\n        &quot;loggerName&quot;: &quot;&quot;,\r\n        &quot;message&quot;:&quot;&quot;\r\n    },{next line..},...]\r\nI cannot change logger formatter settings hence these are already generated files. Can someone help me to find a way to achieve this goal?\r\n\r\nI tried String splits but does not work due to the contend of log messages(they have spaces, line breaks, dates, times). \r\n\r\nRequire a proper way to get actual log lines without getting into trap of log message contents.\r\n\r\n","title":"Parse existing log file to a json array : Java","body":"<p>I have some log files that returned from <strong>slf4j.Logger</strong>. logs file are in general format like :</p>\n<pre><code>date&lt;space&gt;time&lt;space&gt;mode&lt;space&gt;logger name&lt;space&gt; - log message\n</code></pre>\n<p>log message can have dates, times, space character &amp; even multiple line breaks.</p>\n<p>Looking for a way to parse this log file into a <strong>JSON array</strong> like :</p>\n<pre><code>[{\n    &quot;date&quot; : &quot;&quot;,\n    &quot;time&quot; : &quot;&quot;,\n    &quot;mode&quot; : &quot;&quot;,\n    &quot;loggerName&quot;: &quot;&quot;,\n    &quot;message&quot;:&quot;&quot;\n},{next line..},...]\n</code></pre>\n<p>I cannot change logger formatter settings hence these are already generated files. Can someone help me to find a way to achieve this goal?</p>\n<p>I tried String splits but does not work due to the contend of log messages(they have spaces, line breaks, dates, times).</p>\n<p>Require a proper way to get actual log lines without getting into trap of log message contents.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2474674,"reputation":487,"user_id":2155548,"display_name":"Rafi"},"score":0,"creation_date":1664994192,"post_id":73963990,"comment_id":130597803,"body_markdown":"Unfortunately this does not solve my issue. I tried with multiple combinations like -\n\n&quot;.antMatchers(&quot;/**&quot;).permitAll()\n.antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)&quot;\nbut didn&#39;t work","body":"Unfortunately this does not solve my issue. I tried with multiple combinations like -  &quot;.antMatchers(&quot;/**&quot;).permitAll() .antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)&quot; but didn&#39;t work"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1664995397,"post_id":73963990,"comment_id":130598168,"body_markdown":"The first rule that matches is applied. Because `.antMatchers(&quot;/**&quot;).permitAll()` is first, it is applied and subsequent rules are ignored.","body":"The first rule that matches is applied. Because <code>.antMatchers(&quot;&#47;**&quot;).permitAll()</code> is first, it is applied and subsequent rules are ignored."},{"owner":{"account_id":2474674,"reputation":487,"user_id":2155548,"display_name":"Rafi"},"score":0,"creation_date":1664995716,"post_id":73963990,"comment_id":130598259,"body_markdown":"I tried with `.antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;).antMatchers(&quot;/**&quot;).permitAll()`, I get 403 for both roles allowed and not allowed","body":"I tried with <code>.antMatchers(&quot;&#47;internal&#47;**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;).antMatchers(&quot;&#47;**&quot;).permitAll()</code>, I get 403 for both roles allowed and not allowed"}],"answers":[{"tags":[],"owner":{"account_id":2474674,"reputation":487,"user_id":2155548,"display_name":"Rafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046696,"creation_date":1665002012,"answer_id":73966056,"question_id":73963990,"body_markdown":"Since I was using `.hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)` as opposed to `.hasAnyAuthority(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)`, it was not working. I had to use `.hasAnyRole(&quot;A&quot;, &quot;B&quot;)` to get it to work. The `ROLE_` prefix gets added to the values automatically. So my working config is\r\n\r\n```java\r\nhttp\r\n    .csrf().disable()\r\n    .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n    .authorizeRequests()\r\n        .antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;A&quot;, &quot;B&quot;)\r\n        .antMatchers(&quot;/**&quot;).permitAll()\r\n```","title":"Is it possible to use hasAnyRole() and @RolesAllowed interchangeably in Spring Boot?","body":"<p>Since I was using <code>.hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)</code> as opposed to <code>.hasAnyAuthority(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)</code>, it was not working. I had to use <code>.hasAnyRole(&quot;A&quot;, &quot;B&quot;)</code> to get it to work. The <code>ROLE_</code> prefix gets added to the values automatically. So my working config is</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n    .authorizeRequests()\n        .antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;A&quot;, &quot;B&quot;)\n        .antMatchers(&quot;/**&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":2474674,"reputation":487,"user_id":2155548,"display_name":"Rafi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665004895,"answer_count":1,"score":0,"last_activity_date":1665046696,"creation_date":1664989869,"question_id":73963990,"body_markdown":"I have two methods under the same Controller class - one is for a public endpoint and the other for the authorized users.\r\n\r\n```\r\npublic class Controller {\r\n\r\n    @GetMapping(&quot;/endpoint&quot;)\r\n    public ResponseEntity public() {...}\r\n\r\n    @GetMapping(&quot;/internal/endpoint&quot;)\r\n    public ResponseEntity internal() {...}\r\n\r\n}\r\n```\r\n\r\nAnd in the Security Configuration, I have:\r\n```\r\nhttp\r\n   .csrf().disable()\r\n   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n   .and()\r\n   .authorizeRequests()\r\n   .antMatchers(&quot;/**&quot;).permitAll()\r\n   .antMatchers(&quot;/internal/**&quot;).authenticated()\r\n```\r\n\r\nIf I add `@RolesAllowed({&quot;ROLE_A&quot;, &quot;ROLE_B&quot;})` to the `internal()` method I get a 403 for the roles that are not allowed. But If I remove that and add `.antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)` to the security configuration it allows the users with unauthorized roles to access the internal endpoints.\r\n\r\nMy question is - can I use them interchangeably? If yes, what am I missing? Since I have quite a few internal endpoints I would prefer to have the role check in the security configuration rather that adding `@RolesAllowed` to every internal method, but I am also open to follow the best practice.","title":"Is it possible to use hasAnyRole() and @RolesAllowed interchangeably in Spring Boot?","body":"<p>I have two methods under the same Controller class - one is for a public endpoint and the other for the authorized users.</p>\n<pre><code>public class Controller {\n\n    @GetMapping(&quot;/endpoint&quot;)\n    public ResponseEntity public() {...}\n\n    @GetMapping(&quot;/internal/endpoint&quot;)\n    public ResponseEntity internal() {...}\n\n}\n</code></pre>\n<p>And in the Security Configuration, I have:</p>\n<pre><code>http\n   .csrf().disable()\n   .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n   .and()\n   .authorizeRequests()\n   .antMatchers(&quot;/**&quot;).permitAll()\n   .antMatchers(&quot;/internal/**&quot;).authenticated()\n</code></pre>\n<p>If I add <code>@RolesAllowed({&quot;ROLE_A&quot;, &quot;ROLE_B&quot;})</code> to the <code>internal()</code> method I get a 403 for the roles that are not allowed. But If I remove that and add <code>.antMatchers(&quot;/internal/**&quot;).hasAnyRole(&quot;ROLE_A&quot;, &quot;ROLE_B&quot;)</code> to the security configuration it allows the users with unauthorized roles to access the internal endpoints.</p>\n<p>My question is - can I use them interchangeably? If yes, what am I missing? Since I have quite a few internal endpoints I would prefer to have the role check in the security configuration rather that adding <code>@RolesAllowed</code> to every internal method, but I am also open to follow the best practice.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002114,"post_id":73966049,"comment_id":130600120,"body_markdown":"You only call `System.exit(0)` when the day is invalid, not when the month is invalid. NB `System#exit` works, but is the nuclear option. Another `else` or perhaps `return` would suffice","body":"You only call <code>System.exit(0)</code> when the day is invalid, not when the month is invalid. NB <code>System#exit</code> works, but is the nuclear option. Another <code>else</code> or perhaps <code>return</code> would suffice"},{"owner":{"account_id":26539309,"reputation":1,"user_id":20170327,"display_name":"Berner Tayer"},"score":0,"creation_date":1665002403,"post_id":73966049,"comment_id":130600195,"body_markdown":"What do you mean? What if they enter an invalid month such as 13? Unless I misunderstand?","body":"What do you mean? What if they enter an invalid month such as 13? Unless I misunderstand?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002460,"post_id":73966049,"comment_id":130600207,"body_markdown":"Then you need to abort. You are already aborting for day 32 (`System.exit`). But you are not aborting for invalid months (no System.exit in that branch)","body":"Then you need to abort. You are already aborting for day 32 (<code>System.exit</code>). But you are not aborting for invalid months (no System.exit in that branch)"},{"owner":{"account_id":8643899,"reputation":473,"user_id":6471719,"accept_rate":73,"display_name":"Tyler Dickson"},"score":0,"creation_date":1665002617,"post_id":73966049,"comment_id":130600256,"body_markdown":"Just add an else after your else if, and put the sign test within that final else. That way it won&#39;t get called unless the first two conditions aren&#39;t true.","body":"Just add an else after your else if, and put the sign test within that final else. That way it won&#39;t get called unless the first two conditions aren&#39;t true."},{"owner":{"account_id":26539309,"reputation":1,"user_id":20170327,"display_name":"Berner Tayer"},"score":0,"creation_date":1665002656,"post_id":73966049,"comment_id":130600270,"body_markdown":"if (month &lt; 1 || month &gt; 12) {\n\t\t\tSystem.out.println(&quot;Please enter a valid month number between (1-12).&quot;); }\n\t\tSystem.exit(0);\n\t\telse if (day &gt; 31 || day &lt; 1 ) {\n\t\t\tSystem.out.println(&quot;Please enter a valid day number between (1-31).&quot;); \n\t\tSystem.exit(0);","body":"if (month &lt; 1 || month &gt; 12) { \t\t\tSystem.out.println(&quot;Please enter a valid month number between (1-12).&quot;); } \t\tSystem.exit(0); \t\telse if (day &gt; 31 || day &lt; 1 ) { \t\t\tSystem.out.println(&quot;Please enter a valid day number between (1-31).&quot;);  \t\tSystem.exit(0);"},{"owner":{"account_id":26539309,"reputation":1,"user_id":20170327,"display_name":"Berner Tayer"},"score":0,"creation_date":1665002664,"post_id":73966049,"comment_id":130600273,"body_markdown":"U mean like that?","body":"U mean like that?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1665003178,"post_id":73966049,"comment_id":130600406,"body_markdown":"Welcome to Stack Overflow. Please read [ask] and note well that this is **not a discussion forum**. Please do not try to ask about changes to the code in the comments. Please also read the [formatting help](https://stackoverflow.com/help/formatting). I already [edit]ed the post to show the code properly. Anyway, please try to think about the logic of the code. If the month is out of range, the code will enter that `if` block, print a message... and **then what** do you expect would happen next? Why?","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and note well that this is <b>not a discussion forum</b>. Please do not try to ask about changes to the code in the comments. Please also read the <a href=\"https://stackoverflow.com/help/formatting\">formatting help</a>. I already <a href=\"https://stackoverflow.com/posts/73966049/edit\">edit</a>ed the post to show the code properly. Anyway, please try to think about the logic of the code. If the month is out of range, the code will enter that <code>if</code> block, print a message... and <b>then what</b> do you expect would happen next? Why?"}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1665007457,"post_id":73966180,"comment_id":130601459,"body_markdown":"sorry, but your code formatting is as bad as the one of the question","body":"sorry, but your code formatting is as bad as the one of the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665010839,"post_id":73966180,"comment_id":130602102,"body_markdown":"Always use braces with if statements, even if there&#39;s a single statement. Which the question did get right.","body":"Always use braces with if statements, even if there&#39;s a single statement. Which the question did get right."}],"tags":[],"owner":{"account_id":8643899,"reputation":473,"user_id":6471719,"accept_rate":73,"display_name":"Tyler Dickson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665002874,"creation_date":1665002874,"answer_id":73966180,"question_id":73966049,"body_markdown":"The following change should fix your issue:\r\n\r\n        if (month &lt; 1 || month &gt; 12) {\r\n            System.out.println(&quot;Please enter a valid month number between (1-12).&quot;); }\r\n        else if (day &gt; 31 || day &lt; 1 ) {\r\n            System.out.println(&quot;Please enter a valid day number between (1-31).&quot;); \r\n        }else\r\n        {\r\n        if (month==ARIES_START_MONTH &amp;&amp; day &gt;= ARIES_START_DAY || month==ARIES_END_MONTH &amp;&amp; day &lt;= ARIES_END_DAY) \r\n            sign = &quot;Aries!&quot;; \r\n        \r\n        else \r\n            sign = &quot;Test&quot;;\r\n    \r\n        // Output\r\n        System.out.print(&quot;You are a &quot; +sign);\r\n        }\r\n\r\n The final condition will only be resolved if the first two values aren&#39;t true.","title":"How do I make my code not execute both statements at once?","body":"<p>The following change should fix your issue:</p>\n<pre><code>    if (month &lt; 1 || month &gt; 12) {\n        System.out.println(&quot;Please enter a valid month number between (1-12).&quot;); }\n    else if (day &gt; 31 || day &lt; 1 ) {\n        System.out.println(&quot;Please enter a valid day number between (1-31).&quot;); \n    }else\n    {\n    if (month==ARIES_START_MONTH &amp;&amp; day &gt;= ARIES_START_DAY || month==ARIES_END_MONTH &amp;&amp; day &lt;= ARIES_END_DAY) \n        sign = &quot;Aries!&quot;; \n    \n    else \n        sign = &quot;Test&quot;;\n\n    // Output\n    System.out.print(&quot;You are a &quot; +sign);\n    }\n</code></pre>\n<p>The final condition will only be resolved if the first two values aren't true.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046519,"creation_date":1665046519,"answer_id":73971069,"question_id":73966049,"body_markdown":"Just because the User enters an invalid month value doesn&#39;t mean the program flow will automatically stop. You need to tell it to stop within the same `if` block where the condition was met otherwise the code continues onward to the next runnable code line. It&#39;s better to trap (validate) inputs at the prompt so that the User can enter a proper values rather than just ending the application.\r\n\r\nHere is an example:\r\n\r\n    if (month &lt; 1 || month &gt; 12) {\r\n        System.out.println(&quot;Please enter a valid month number between (1-12).&quot;); \r\n\r\n        /* Exit the method you are in. If this is the \r\n           main() method then the application will end.     */\r\n        return;\r\n    }\r\n\r\nLooks like it&#39;s going to be a lot of Constants:\r\n\r\n```\r\nARIES_START_MONTH\r\nARIES_END_MONTH\r\nARIES_START_DAY\r\nARIES_END_DAY\r\n```\r\nI get it, it&#39;s a test and I&#39;m not sure what your overall plans are but, are you sure you want to deal with 48 constants and possibly a bunch of `if/else if` statements? You can of course do that but I think the better way would be to utilize a Zodiac class, or a Two Dimensional String Array,  or a List Interface of String, or anything but 48 constants and possibly a bunch of `if/else if` statements. \r\n\r\nThe following runnable code is a concept for you to play with. It demonstrates **one way** to carry out Console Prompting with entry error retry. Each prompt also contains the capability to exit the current program flow or quit the application altogether (depends where you run the code) and, each prompt contains Entry Validation:\r\n\r\n```\r\npublic class ZodiacDemo {\r\n\r\n    /* The appropriate System newline character sequence.\r\n       Not all systems use the same newline. Some use &quot;\\n&quot; \r\n       and some use &quot;\\r\\n&quot;.              */\r\n    private final String LS = System.lineSeparator();\r\n    \r\n    /* Open a keyboard input stream. There is no need \r\n       to close this resource. The JVM will take care \r\n       of that when the appliaction closes.       */\r\n    private final java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        // Started this way to avoid the need for statics.\r\n        new ZodiacDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // Prompt for Month value:\r\n        String month = &quot;&quot;;\r\n        while (month.isEmpty()) {\r\n            System.out.print(&quot;Enter your birth month (1-12 or q to quit): &quot;);\r\n            month = userInput.nextLine();\r\n            \r\n            // Has quit been requested?\r\n            if (month.equalsIgnoreCase(&quot;q&quot;)) {\r\n                /* Yes...Exit this method which will ultimately\r\n                   close the application.                   */\r\n                return;\r\n            }\r\n\r\n            // Validates Month Range (1-12). Also accepts 01-09. \r\n            if (!month.matches(&quot;^(1[0-2]|0?[1-9])$&quot;)) {\r\n                System.out.println(&quot;Invalid month (&quot; + month + &quot;) entry! Try again...&quot; + LS);\r\n                month = &quot;&quot;;  // Empty variable so as to re-prompt.\r\n            }\r\n        }\r\n\r\n        // Make sure month is padded with leading &quot;0&quot; (ex: &quot;01&quot;).\r\n        month = String.format(&quot;%02d&quot;, Integer.parseInt(month));\r\n\r\n        // Prompt for Day of month value:\r\n        String day = &quot;&quot;;\r\n        while (day.isEmpty()) {\r\n            System.out.print(&quot;Enter your birth day (1-31 or q to quit): &quot;);\r\n            day = userInput.nextLine();\r\n            \r\n            // Has quit been requested?\r\n            if (day.equalsIgnoreCase(&quot;q&quot;)) {\r\n                /* Yes...Exit this method which will ultimately\r\n                   close the application.                   */\r\n                return;\r\n            }\r\n\r\n            /* Validates Day Range 1-31. Also accepts 01-09. The number of \r\n               actual days in the month (povided in previous prompt) is also \r\n               checked against the month `day` entered. If the day entered is \r\n               beyond the actual number of days in the month supplied then \r\n               the input is considered Invalid. example: Month: 11,  Day: 31 \r\n               is invalid since there are only 30 days in November.        */\r\n            if (!day.matches(&quot;^(0?[1-9]|[12][0-9]|3[01])$&quot;)\r\n                    || Integer.parseInt(day) &gt; java.time.Month.of(Integer.parseInt(month)).length(true)) {\r\n                System.out.println(&quot;Invalid day (&quot; + day + &quot;) entry! Try again...&quot; + LS);\r\n                day = &quot;&quot;;  // Empty variable so as to re-prompt.\r\n            }\r\n        }\r\n\r\n        // Make sure day is padded with leading &quot;0&quot; (ex: &quot;01&quot;).\r\n        day = String.format(&quot;%02d&quot;, Integer.parseInt(day));\r\n\r\n        /* Get the Zodiac sign from the `getSign()` method the\r\n           print it in the Console Window.                 */\r\n        System.out.println(&quot;You are a &quot; + getSign(month, day));\r\n        // &lt;Done&gt;\r\n    }\r\n    \r\n    public String getSign(String month, String day) {\r\n        /* 2000 is just an arbitrary year that is used merely\r\n           because it was simple to enter and it&#39;s a leap year\r\n           for days in month validation. Besides, lots of people \r\n           are born on Feb. 29th.       */\r\n        final String[][] zodiac = {\r\n                {&quot;Aquarius&quot;,    &quot;2000-01-20&quot;, &quot;2000-02-18&quot;},\r\n                {&quot;Pisces&quot;,      &quot;2000-02-19&quot;, &quot;2000-03-20&quot;},\r\n                {&quot;Aries&quot;,       &quot;2000-03-21&quot;, &quot;2000-04-19&quot;},\r\n                {&quot;Taurus&quot;,      &quot;2000-04-20&quot;, &quot;2000-05-20&quot;},\r\n                {&quot;Gemini&quot;,      &quot;2000-05-21&quot;, &quot;2000-06-20&quot;},\r\n                {&quot;Cancer&quot;,      &quot;2000-06-21&quot;, &quot;2000-07-22&quot;},\r\n                {&quot;Leo&quot;,         &quot;2000-07-23&quot;, &quot;2000-08-22&quot;},\r\n                {&quot;Virgo&quot;,       &quot;2000-08-23&quot;, &quot;2000-09-22&quot;},\r\n                {&quot;Libra&quot;,       &quot;2000-09-23&quot;, &quot;2000-10-22&quot;},\r\n                {&quot;Scorpio&quot;,     &quot;2000-10-23&quot;, &quot;2000-11-21&quot;},\r\n                {&quot;Sagittarius&quot;, &quot;2000-11-22&quot;, &quot;2000-12-21&quot;},\r\n                {&quot;Capricorn&quot;,   &quot;2000-12-22&quot;, &quot;2000-01-19&quot;}\r\n            };\r\n        \r\n        /* Iterate through the zodiac[][] Array and \r\n           retrieve the appropriate sign based on the \r\n           supplied Month and Day.        */\r\n        String sgn = &quot;Unknown&quot;;\r\n        for (String[] array : zodiac) {\r\n            sgn = array[0];\r\n            java.time.LocalDate sDate = java.time.LocalDate.parse(array[1]);\r\n            java.time.LocalDate eDate = java.time.LocalDate.parse(array[2]);\r\n            java.time.LocalDate userDate = java.time.LocalDate.parse(&quot;2000-&quot; + month + &quot;-&quot; + day);\r\n            if ((userDate.isEqual(sDate) || userDate.isEqual(eDate))\r\n                    || (userDate.isAfter(sDate) &amp;&amp; userDate.isBefore(eDate))) {\r\n                break; // Get out of loop - we have what we need.\r\n            }\r\n        }\r\n        return sgn;\r\n    }\r\n}\r\n```\r\n\r\n","title":"How do I make my code not execute both statements at once?","body":"<p>Just because the User enters an invalid month value doesn't mean the program flow will automatically stop. You need to tell it to stop within the same <code>if</code> block where the condition was met otherwise the code continues onward to the next runnable code line. It's better to trap (validate) inputs at the prompt so that the User can enter a proper values rather than just ending the application.</p>\n<p>Here is an example:</p>\n<pre><code>if (month &lt; 1 || month &gt; 12) {\n    System.out.println(&quot;Please enter a valid month number between (1-12).&quot;); \n\n    /* Exit the method you are in. If this is the \n       main() method then the application will end.     */\n    return;\n}\n</code></pre>\n<p>Looks like it's going to be a lot of Constants:</p>\n<pre><code>ARIES_START_MONTH\nARIES_END_MONTH\nARIES_START_DAY\nARIES_END_DAY\n</code></pre>\n<p>I get it, it's a test and I'm not sure what your overall plans are but, are you sure you want to deal with 48 constants and possibly a bunch of <code>if/else if</code> statements? You can of course do that but I think the better way would be to utilize a Zodiac class, or a Two Dimensional String Array,  or a List Interface of String, or anything but 48 constants and possibly a bunch of <code>if/else if</code> statements.</p>\n<p>The following runnable code is a concept for you to play with. It demonstrates <strong>one way</strong> to carry out Console Prompting with entry error retry. Each prompt also contains the capability to exit the current program flow or quit the application altogether (depends where you run the code) and, each prompt contains Entry Validation:</p>\n<pre><code>public class ZodiacDemo {\n\n    /* The appropriate System newline character sequence.\n       Not all systems use the same newline. Some use &quot;\\n&quot; \n       and some use &quot;\\r\\n&quot;.              */\n    private final String LS = System.lineSeparator();\n    \n    /* Open a keyboard input stream. There is no need \n       to close this resource. The JVM will take care \n       of that when the appliaction closes.       */\n    private final java.util.Scanner userInput = new java.util.Scanner(System.in);\n    \n    \n    public static void main(String[] args) {\n        // Started this way to avoid the need for statics.\n        new ZodiacDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // Prompt for Month value:\n        String month = &quot;&quot;;\n        while (month.isEmpty()) {\n            System.out.print(&quot;Enter your birth month (1-12 or q to quit): &quot;);\n            month = userInput.nextLine();\n            \n            // Has quit been requested?\n            if (month.equalsIgnoreCase(&quot;q&quot;)) {\n                /* Yes...Exit this method which will ultimately\n                   close the application.                   */\n                return;\n            }\n\n            // Validates Month Range (1-12). Also accepts 01-09. \n            if (!month.matches(&quot;^(1[0-2]|0?[1-9])$&quot;)) {\n                System.out.println(&quot;Invalid month (&quot; + month + &quot;) entry! Try again...&quot; + LS);\n                month = &quot;&quot;;  // Empty variable so as to re-prompt.\n            }\n        }\n\n        // Make sure month is padded with leading &quot;0&quot; (ex: &quot;01&quot;).\n        month = String.format(&quot;%02d&quot;, Integer.parseInt(month));\n\n        // Prompt for Day of month value:\n        String day = &quot;&quot;;\n        while (day.isEmpty()) {\n            System.out.print(&quot;Enter your birth day (1-31 or q to quit): &quot;);\n            day = userInput.nextLine();\n            \n            // Has quit been requested?\n            if (day.equalsIgnoreCase(&quot;q&quot;)) {\n                /* Yes...Exit this method which will ultimately\n                   close the application.                   */\n                return;\n            }\n\n            /* Validates Day Range 1-31. Also accepts 01-09. The number of \n               actual days in the month (povided in previous prompt) is also \n               checked against the month `day` entered. If the day entered is \n               beyond the actual number of days in the month supplied then \n               the input is considered Invalid. example: Month: 11,  Day: 31 \n               is invalid since there are only 30 days in November.        */\n            if (!day.matches(&quot;^(0?[1-9]|[12][0-9]|3[01])$&quot;)\n                    || Integer.parseInt(day) &gt; java.time.Month.of(Integer.parseInt(month)).length(true)) {\n                System.out.println(&quot;Invalid day (&quot; + day + &quot;) entry! Try again...&quot; + LS);\n                day = &quot;&quot;;  // Empty variable so as to re-prompt.\n            }\n        }\n\n        // Make sure day is padded with leading &quot;0&quot; (ex: &quot;01&quot;).\n        day = String.format(&quot;%02d&quot;, Integer.parseInt(day));\n\n        /* Get the Zodiac sign from the `getSign()` method the\n           print it in the Console Window.                 */\n        System.out.println(&quot;You are a &quot; + getSign(month, day));\n        // &lt;Done&gt;\n    }\n    \n    public String getSign(String month, String day) {\n        /* 2000 is just an arbitrary year that is used merely\n           because it was simple to enter and it's a leap year\n           for days in month validation. Besides, lots of people \n           are born on Feb. 29th.       */\n        final String[][] zodiac = {\n                {&quot;Aquarius&quot;,    &quot;2000-01-20&quot;, &quot;2000-02-18&quot;},\n                {&quot;Pisces&quot;,      &quot;2000-02-19&quot;, &quot;2000-03-20&quot;},\n                {&quot;Aries&quot;,       &quot;2000-03-21&quot;, &quot;2000-04-19&quot;},\n                {&quot;Taurus&quot;,      &quot;2000-04-20&quot;, &quot;2000-05-20&quot;},\n                {&quot;Gemini&quot;,      &quot;2000-05-21&quot;, &quot;2000-06-20&quot;},\n                {&quot;Cancer&quot;,      &quot;2000-06-21&quot;, &quot;2000-07-22&quot;},\n                {&quot;Leo&quot;,         &quot;2000-07-23&quot;, &quot;2000-08-22&quot;},\n                {&quot;Virgo&quot;,       &quot;2000-08-23&quot;, &quot;2000-09-22&quot;},\n                {&quot;Libra&quot;,       &quot;2000-09-23&quot;, &quot;2000-10-22&quot;},\n                {&quot;Scorpio&quot;,     &quot;2000-10-23&quot;, &quot;2000-11-21&quot;},\n                {&quot;Sagittarius&quot;, &quot;2000-11-22&quot;, &quot;2000-12-21&quot;},\n                {&quot;Capricorn&quot;,   &quot;2000-12-22&quot;, &quot;2000-01-19&quot;}\n            };\n        \n        /* Iterate through the zodiac[][] Array and \n           retrieve the appropriate sign based on the \n           supplied Month and Day.        */\n        String sgn = &quot;Unknown&quot;;\n        for (String[] array : zodiac) {\n            sgn = array[0];\n            java.time.LocalDate sDate = java.time.LocalDate.parse(array[1]);\n            java.time.LocalDate eDate = java.time.LocalDate.parse(array[2]);\n            java.time.LocalDate userDate = java.time.LocalDate.parse(&quot;2000-&quot; + month + &quot;-&quot; + day);\n            if ((userDate.isEqual(sDate) || userDate.isEqual(eDate))\n                    || (userDate.isAfter(sDate) &amp;&amp; userDate.isBefore(eDate))) {\n                break; // Get out of loop - we have what we need.\n            }\n        }\n        return sgn;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26539309,"reputation":1,"user_id":20170327,"display_name":"Berner Tayer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1665046519,"creation_date":1665001941,"question_id":73966049,"body_markdown":"```\r\npackage homework;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class PA3b {\r\n\r\n\tstatic final int ARIES_START_DAY = 21;\r\n\tstatic final int ARIES_END_DAY = 19;\r\n\tstatic final int ARIES_START_MONTH = 3;\r\n\tstatic final int ARIES_END_MONTH = 4;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t// Input\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter your birth month (1-12): &quot;);\r\n\t\tint month = scanner.nextInt();\r\n\t\tSystem.out.print(&quot;Enter your birth day (1-31): &quot;);\r\n\t\tint day = scanner.nextInt();\r\n\t\tscanner.close();\r\n\t\t\r\n\t\t// Process\r\n\t\t\r\n\t\tString sign;\r\n\t\t\r\n\t\tif (month &lt; 1 || month &gt; 12) {\r\n\t\t\tSystem.out.println(&quot;Please enter a valid month number between (1-12).&quot;); \r\n        }\r\n\t\telse if (day &gt; 31 || day &lt; 1 ) {\r\n\t\t\tSystem.out.println(&quot;Please enter a valid day number between (1-31).&quot;); \r\n\t\t    System.exit(0); \r\n\t    }\r\n\t\t\r\n\t\tif (month==ARIES_START_MONTH &amp;&amp; day &gt;= ARIES_START_DAY || \r\n                         month==ARIES_END_MONTH &amp;&amp; day &lt;= ARIES_END_DAY) {\r\n\t\t\tsign = &quot;Aries!&quot;; \r\n        }\r\n\t\telse {\r\n\t\t\tsign = &quot;Test&quot;;\r\n        }\r\n\r\n\t\t// Output\r\n\t\tSystem.out.print(&quot;You are a &quot; + sign);\r\n\t}\r\n}\r\n```\r\nThis is my code (it&#39;s not done yet but it&#39;s just for testing) but basically I want it to be for all zodiac signs, but the thing is when I input for example 13 month value, I want it to say that it is an invalid month value, but when I input it will say both &quot;You are an Aries&quot; and to &quot;Check if your value is right&quot; so how do I prevent this?","title":"How do I make my code not execute both statements at once?","body":"<pre><code>package homework;\n\nimport java.util.Scanner;\n\npublic class PA3b {\n\n    static final int ARIES_START_DAY = 21;\n    static final int ARIES_END_DAY = 19;\n    static final int ARIES_START_MONTH = 3;\n    static final int ARIES_END_MONTH = 4;\n    \n    public static void main(String[] args) {\n\n        // Input\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Enter your birth month (1-12): &quot;);\n        int month = scanner.nextInt();\n        System.out.print(&quot;Enter your birth day (1-31): &quot;);\n        int day = scanner.nextInt();\n        scanner.close();\n        \n        // Process\n        \n        String sign;\n        \n        if (month &lt; 1 || month &gt; 12) {\n            System.out.println(&quot;Please enter a valid month number between (1-12).&quot;); \n        }\n        else if (day &gt; 31 || day &lt; 1 ) {\n            System.out.println(&quot;Please enter a valid day number between (1-31).&quot;); \n            System.exit(0); \n        }\n        \n        if (month==ARIES_START_MONTH &amp;&amp; day &gt;= ARIES_START_DAY || \n                         month==ARIES_END_MONTH &amp;&amp; day &lt;= ARIES_END_DAY) {\n            sign = &quot;Aries!&quot;; \n        }\n        else {\n            sign = &quot;Test&quot;;\n        }\n\n        // Output\n        System.out.print(&quot;You are a &quot; + sign);\n    }\n}\n</code></pre>\n<p>This is my code (it's not done yet but it's just for testing) but basically I want it to be for all zodiac signs, but the thing is when I input for example 13 month value, I want it to say that it is an invalid month value, but when I input it will say both &quot;You are an Aries&quot; and to &quot;Check if your value is right&quot; so how do I prevent this?</p>\n"},{"tags":["java","json","angular","typescript","enums"],"comments":[{"owner":{"account_id":12242639,"reputation":164,"user_id":8935239,"display_name":"Kenneth"},"score":1,"creation_date":1664894304,"post_id":73949206,"comment_id":130571465,"body_markdown":"https://stackoverflow.com/questions/62215454/how-to-get-enum-key-by-value-in-typescript","body":"<a href=\"https://stackoverflow.com/questions/62215454/how-to-get-enum-key-by-value-in-typescript\" title=\"how to get enum key by value in typescript\">stackoverflow.com/questions/62215454/&hellip;</a>"},{"owner":{"account_id":26525883,"reputation":23,"user_id":20158893,"display_name":"mpapado"},"score":0,"creation_date":1664918351,"post_id":73949206,"comment_id":130578892,"body_markdown":"@Kenneth Thanks, but the thread you linked has almost nothing to do with my question. My question is about *serializing* an enum using its *key*. The thread you linked is about retrieving an enum key from its value.","body":"@Kenneth Thanks, but the thread you linked has almost nothing to do with my question. My question is about <i>serializing</i> an enum using its <i>key</i>. The thread you linked is about retrieving an enum key from its value."},{"owner":{"account_id":12242639,"reputation":164,"user_id":8935239,"display_name":"Kenneth"},"score":0,"creation_date":1664919234,"post_id":73949206,"comment_id":130579084,"body_markdown":"The semantics of the enum are such that each key has a value, and overriding that breaks basic logic.","body":"The semantics of the enum are such that each key has a value, and overriding that breaks basic logic."},{"owner":{"account_id":26525883,"reputation":23,"user_id":20158893,"display_name":"mpapado"},"score":0,"creation_date":1664921424,"post_id":73949206,"comment_id":130579531,"body_markdown":"I&#39;m not sure which part of my code breaks the rule that &quot;each key has a value&quot;. I&#39;m just asking if/how it would be possible to serialize/deserialize an enum to Json using its keys.","body":"I&#39;m not sure which part of my code breaks the rule that &quot;each key has a value&quot;. I&#39;m just asking if/how it would be possible to serialize/deserialize an enum to Json using its keys."},{"owner":{"account_id":12242639,"reputation":164,"user_id":8935239,"display_name":"Kenneth"},"score":0,"creation_date":1664923325,"post_id":73949206,"comment_id":130579824,"body_markdown":"By passing `Language.de` into your request, you&#39;re specifying a value. I don&#39;t know that there&#39;s any serialization that happens there, I think you&#39;re just giving it a string.","body":"By passing <code>Language.de</code> into your request, you&#39;re specifying a value. I don&#39;t know that there&#39;s any serialization that happens there, I think you&#39;re just giving it a string."}],"answers":[{"comments":[{"owner":{"account_id":26525883,"reputation":23,"user_id":20158893,"display_name":"mpapado"},"score":0,"creation_date":1664918088,"post_id":73950746,"comment_id":130578833,"body_markdown":"We are using Angular Material. Thanks a lot for your reply, but it is not clear to me what your model looks like. What is the type of property &quot;allCountries&quot;? Is it an array of Country, where Country is an enum? And if Country is an enum, then where are the properties nameShort and nameLong defined? As far as I know, TypeScript enums cannot have properties, right? It would be really helpful if you could expand your example to show how your model/component is set up.","body":"We are using Angular Material. Thanks a lot for your reply, but it is not clear to me what your model looks like. What is the type of property &quot;allCountries&quot;? Is it an array of Country, where Country is an enum? And if Country is an enum, then where are the properties nameShort and nameLong defined? As far as I know, TypeScript enums cannot have properties, right? It would be really helpful if you could expand your example to show how your model/component is set up."},{"owner":{"account_id":17445877,"reputation":13,"user_id":12646944,"display_name":"Liri22"},"score":0,"creation_date":1665046310,"post_id":73950746,"comment_id":130608753,"body_markdown":"@mpapado I added the js and updated the names of the variables, maybe it also would help to look at the doku of angular material.","body":"@mpapado I added the js and updated the names of the variables, maybe it also would help to look at the doku of angular material."}],"tags":[],"owner":{"account_id":17445877,"reputation":13,"user_id":12646944,"display_name":"Liri22"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046256,"creation_date":1664900142,"answer_id":73950746,"question_id":73949206,"body_markdown":"I sadly still can&#39;t comment but... as a reply now: \r\nI&#39;m presuming you are working with either Angular Material or PrimeNG as a GUI.\r\n\r\nWith both options you have e.g. for a dropdown the ability to set the value you want to display to the user (in your case &quot;Italian&quot;) to a different variable than the value you want to have changed /stored (in your case &quot;it&quot;).\r\n\r\nex. prime ng:\r\n[https://www.primefaces.org/primeng-v11-lts/#/dropdown][1]\r\n\r\n    &lt;p-dropdown [options]=&quot;languages&quot; [(ngModel)]=&quot;selectedlanguage&quot; optionLabel=&quot;nameFull&quot; optionValue=&quot;nameShort&quot;&gt;&lt;/p-dropdown&gt;\r\n\r\nex angular material:\r\n[https://material.angular.io/components/select/overview#getting-and-setting-the-select-value][1]\r\n\r\n    &lt;mat-select [(ngModel)]=&quot;selectedlanguage&quot; name=&quot;language&quot;&gt;\r\n          &lt;mat-option *ngFor=&quot;let language of alllanguages&quot; [value]=&quot;language.nameShort&quot;&gt;\r\n            {{language.nameLong}}\r\n          &lt;/mat-option&gt;\r\n    &lt;/mat-select&gt;\r\n\r\n.js:\r\n\r\n\r\n    interface Languages {\r\n      name: string;\r\n      namelong: string;\r\n    }\r\n    string selectedlanguage;\r\n    Languages alllanguages[] =  // as an with all your values.\r\n\r\n\r\nHope this helps :)","title":"Converting TypeScript enum to JSON to Java enum and back","body":"<p>I sadly still can't comment but... as a reply now:\nI'm presuming you are working with either Angular Material or PrimeNG as a GUI.</p>\n<p>With both options you have e.g. for a dropdown the ability to set the value you want to display to the user (in your case &quot;Italian&quot;) to a different variable than the value you want to have changed /stored (in your case &quot;it&quot;).</p>\n<p>ex. prime ng:\n[https://www.primefaces.org/primeng-v11-lts/#/dropdown][1]</p>\n<pre><code>&lt;p-dropdown [options]=&quot;languages&quot; [(ngModel)]=&quot;selectedlanguage&quot; optionLabel=&quot;nameFull&quot; optionValue=&quot;nameShort&quot;&gt;&lt;/p-dropdown&gt;\n</code></pre>\n<p>ex angular material:\n[https://material.angular.io/components/select/overview#getting-and-setting-the-select-value][1]</p>\n<pre><code>&lt;mat-select [(ngModel)]=&quot;selectedlanguage&quot; name=&quot;language&quot;&gt;\n      &lt;mat-option *ngFor=&quot;let language of alllanguages&quot; [value]=&quot;language.nameShort&quot;&gt;\n        {{language.nameLong}}\n      &lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n<p>.js:</p>\n<pre><code>interface Languages {\n  name: string;\n  namelong: string;\n}\nstring selectedlanguage;\nLanguages alllanguages[] =  // as an with all your values.\n</code></pre>\n<p>Hope this helps :)</p>\n"}],"owner":{"account_id":26525883,"reputation":23,"user_id":20158893,"display_name":"mpapado"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665046256,"creation_date":1664892505,"question_id":73949206,"body_markdown":"In an Angular2 application (using Angular 13 and Typescript 4.5.5) we use a lot of string enums like this:\r\n\r\n        export enum Language {\r\n           de = &quot;German&quot;,\r\n           fr = &quot;French&quot;,\r\n           it = &quot;Italian&quot;,\r\n           en = &quot;English&quot;\r\n         }\r\n\r\n        export class Request {\r\n           language: Language = Language.de;\r\n           ... // other enum-valued properties like the above\r\n         }\r\n\r\nThe **value** of the enum (e.g. &quot;Italian&quot;) is the value that should be displayed to the user, e.g. in a drop-down. The enum **key** (e.g. &#39;it&#39;) is what we would like to store in the database when we submit the data to our backend REST service that is implemented in Java.\r\n\r\nSo in the backend service we have a corresponding Java enum defined as this:\r\n\r\n    public enum Language {\r\n        de, fr, it, en\r\n    }\r\n    \r\n    @Entity\r\n    public class Request {\r\n        @Enumerated(EnumType.STRING)\r\n        private Language language;\r\n    \r\n        ... // other persistent properties\r\n    }\r\n\r\nThe problem is that when the data is submitted to the backend service, the Typescript enum is serialized to JSON using its value. **So the service receives &quot;Italian&quot; instead of &quot;it&quot; and cannot map it to the Java enum.** \r\n\r\nSimilarly, when we try to retrieve data from the backend service to display it in the Angular GUI, the service sends &quot;it&quot; instead &quot;Italian&quot;, so the deserialization of JSON to the TypeScript enum also fails.\r\n\r\nIs there any way to tell TypeScript that it should use the enum key both when serializing and deserializing an enum to/from JSON?\r\n\r\nAnd more generally, which approach would you suggest for what we&#39;re trying to achieve (i.e. separate the display value shown to the user from the technical value to be stored in the database)?","title":"Converting TypeScript enum to JSON to Java enum and back","body":"<p>In an Angular2 application (using Angular 13 and Typescript 4.5.5) we use a lot of string enums like this:</p>\n<pre><code>    export enum Language {\n       de = &quot;German&quot;,\n       fr = &quot;French&quot;,\n       it = &quot;Italian&quot;,\n       en = &quot;English&quot;\n     }\n\n    export class Request {\n       language: Language = Language.de;\n       ... // other enum-valued properties like the above\n     }\n</code></pre>\n<p>The <strong>value</strong> of the enum (e.g. &quot;Italian&quot;) is the value that should be displayed to the user, e.g. in a drop-down. The enum <strong>key</strong> (e.g. 'it') is what we would like to store in the database when we submit the data to our backend REST service that is implemented in Java.</p>\n<p>So in the backend service we have a corresponding Java enum defined as this:</p>\n<pre><code>public enum Language {\n    de, fr, it, en\n}\n\n@Entity\npublic class Request {\n    @Enumerated(EnumType.STRING)\n    private Language language;\n\n    ... // other persistent properties\n}\n</code></pre>\n<p>The problem is that when the data is submitted to the backend service, the Typescript enum is serialized to JSON using its value. <strong>So the service receives &quot;Italian&quot; instead of &quot;it&quot; and cannot map it to the Java enum.</strong></p>\n<p>Similarly, when we try to retrieve data from the backend service to display it in the Angular GUI, the service sends &quot;it&quot; instead &quot;Italian&quot;, so the deserialization of JSON to the TypeScript enum also fails.</p>\n<p>Is there any way to tell TypeScript that it should use the enum key both when serializing and deserializing an enum to/from JSON?</p>\n<p>And more generally, which approach would you suggest for what we're trying to achieve (i.e. separate the display value shown to the user from the technical value to be stored in the database)?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"score":3,"creation_date":1235730799,"post_id":591172,"comment_id":406020,"body_markdown":"for reference, ctrl-L deletes a line in Visual Studio, whereas ctrl-X xuts it. Usually they are interchangeable, but might have occasions when you have something on the clipboard and you want to delete not cut","body":"for reference, ctrl-L deletes a line in Visual Studio, whereas ctrl-X xuts it. Usually they are interchangeable, but might have occasions when you have something on the clipboard and you want to delete not cut"},{"owner":{"account_id":52906,"reputation":1060,"user_id":158132,"accept_rate":62,"display_name":"C.C."},"score":1,"creation_date":1330059727,"post_id":591172,"comment_id":11916597,"body_markdown":"while Ctrl+L in Visual Studio is cut the line, Ctrl+Shift+L means just delete the line.","body":"while Ctrl+L in Visual Studio is cut the line, Ctrl+Shift+L means just delete the line."},{"owner":{"account_id":160101,"reputation":988,"user_id":379917,"accept_rate":100,"display_name":"profMamba"},"score":2,"creation_date":1370070750,"post_id":591172,"comment_id":24335441,"body_markdown":"If you want Visual Studio bindings in Eclipse you can go Ctrl+Shift+L,Ctrl+Shift+L to bring up Preferences &gt; Keys. At the top of the window you will see a dropdown where you can set the Schemeto Visual Studio.","body":"If you want Visual Studio bindings in Eclipse you can go Ctrl+Shift+L,Ctrl+Shift+L to bring up Preferences &gt; Keys. At the top of the window you will see a dropdown where you can set the Schemeto Visual Studio."},{"owner":{"account_id":5847772,"reputation":8057,"user_id":5361412,"accept_rate":83,"display_name":"Kellen Stuart"},"score":0,"creation_date":1457211062,"post_id":591172,"comment_id":59306871,"body_markdown":"I like how the most simple questions are so useful!","body":"I like how the most simple questions are so useful!"}],"answers":[{"comments":[{"owner":{"account_id":323,"reputation":25104,"user_id":404,"accept_rate":73,"display_name":"Chris Farmer"},"score":1,"creation_date":1235705480,"post_id":591185,"comment_id":405201,"body_markdown":"This is the right answer, but it makes things hard to go between Eclipse and Resharper.","body":"This is the right answer, but it makes things hard to go between Eclipse and Resharper."},{"owner":{"account_id":49854,"reputation":3949,"user_id":148593,"display_name":"Neil"},"score":8,"creation_date":1412199039,"post_id":591185,"comment_id":40994006,"body_markdown":"On the Mac this is ⌘ + D","body":"On the Mac this is ⌘ + D"}],"tags":[],"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"comment_count":2,"down_vote_count":1,"up_vote_count":258,"is_accepted":true,"score":257,"last_activity_date":1583356285,"creation_date":1235664068,"answer_id":591185,"question_id":591172,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;D&lt;/kbd&gt;\r\n\r\nFrom **Help**-&gt;**Key Assist**... there are all kinds of useful keyboard shortcuts for Eclipse.\r\n\r\nFor Mac users: &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;D&lt;/kbd&gt;","title":"Delete a line in Eclipse","body":"<p><kbd>Ctrl</kbd> + <kbd>D</kbd></p>\n\n<p>From <strong>Help</strong>-><strong>Key Assist</strong>... there are all kinds of useful keyboard shortcuts for Eclipse.</p>\n\n<p>For Mac users: <kbd>⌘</kbd> + <kbd>D</kbd></p>\n"},{"tags":[],"owner":{"account_id":23882,"reputation":86350,"user_id":60261,"accept_rate":81,"display_name":"Dan Lew"},"comment_count":0,"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1403476463,"creation_date":1235664101,"answer_id":591188,"question_id":591172,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;D&lt;/kbd&gt; should delete the line.","title":"Delete a line in Eclipse","body":"<p><kbd>Ctrl</kbd> + <kbd>D</kbd> should delete the line.</p>\n"},{"comments":[{"owner":{"account_id":2558447,"reputation":1391,"user_id":2219971,"accept_rate":67,"display_name":"casper"},"score":4,"creation_date":1395669430,"post_id":592805,"comment_id":34429402,"body_markdown":"Cmd+Shift+L on Mac ;)","body":"Cmd+Shift+L on Mac ;)"},{"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"score":0,"creation_date":1537791930,"post_id":592805,"comment_id":91899641,"body_markdown":"Seems like that feature does not respect custom keyboard shortcuts. I re-defined [Ctrl] + [D] to toggle comment on current line, however, that help dialog still says *&quot;Delete line&quot;*.","body":"Seems like that feature does not respect custom keyboard shortcuts. I re-defined [Ctrl] + [D] to toggle comment on current line, however, that help dialog still says <i>&quot;Delete line&quot;</i>."}],"tags":[],"owner":{"account_id":24890,"reputation":6587,"user_id":63571,"display_name":"mandaleeka"},"comment_count":2,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1468430880,"creation_date":1235688537,"answer_id":592805,"question_id":591172,"body_markdown":"In the future, if you need to quickly find a keyboard shortcut for something simple, just hit &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt;.","title":"Delete a line in Eclipse","body":"<p>In the future, if you need to quickly find a keyboard shortcut for something simple, just hit <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235704555,"creation_date":1235704555,"answer_id":593386,"question_id":591172,"body_markdown":"And if you want it as a list to take a print or something, here is a link to the eclipse shortcut pdf.\r\n\r\n[shortcut to pdf page][1]\r\n\r\n\r\n  [1]: http://eclipse-tools.sourceforge.net/shortcuts.html","title":"Delete a line in Eclipse","body":"<p>And if you want it as a list to take a print or something, here is a link to the eclipse shortcut pdf.</p>\n\n<p><a href=\"http://eclipse-tools.sourceforge.net/shortcuts.html\" rel=\"nofollow noreferrer\">shortcut to pdf page</a></p>\n"},{"comments":[{"owner":{"account_id":296058,"reputation":320,"user_id":600796,"display_name":"JReader"},"score":0,"creation_date":1413218440,"post_id":594203,"comment_id":41351186,"body_markdown":"Ctrl-L is the go to Line # shortcut, I presume you mean Ctrl-Shift-L","body":"Ctrl-L is the go to Line # shortcut, I presume you mean Ctrl-Shift-L"}],"tags":[],"owner":{"account_id":18229,"reputation":15498,"user_id":41595,"accept_rate":75,"display_name":"Ewen Cartwright"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1468428384,"creation_date":1235729997,"answer_id":594203,"question_id":591172,"body_markdown":"To quickly find shortcuts, hit &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt;, &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; twice), then type something approximating what your command does in the filter text for the key assignments. This works pretty well for most shortcuts, although it can be a bit tricky for some where the name of their menu assignment bears no relation to that of their command in this list (for instance, Team-&gt;Revert to base appears in the keys list as &#39;Replace with latest from repository&#39;), so sometimes a little lateral thought is required :-) If no shortcut exists, it&#39;s easy to add one in the keys dialog.","title":"Delete a line in Eclipse","body":"<p>To quickly find shortcuts, hit <kbd>Ctrl</kbd> + <kbd>L</kbd>, <kbd>Ctrl</kbd> + <kbd>L</kbd> (<kbd>Ctrl</kbd>+<kbd>L</kbd> twice), then type something approximating what your command does in the filter text for the key assignments. This works pretty well for most shortcuts, although it can be a bit tricky for some where the name of their menu assignment bears no relation to that of their command in this list (for instance, Team->Revert to base appears in the keys list as 'Replace with latest from repository'), so sometimes a little lateral thought is required :-) If no shortcut exists, it's easy to add one in the keys dialog.</p>\n"},{"tags":[],"owner":{"account_id":15259,"reputation":23545,"user_id":32043,"accept_rate":98,"display_name":"guerda"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665046172,"creation_date":1235734953,"answer_id":594432,"question_id":591172,"body_markdown":"You can reassign the `Delete Line` command to your favourite hotkey.  \r\nWindow-&gt;Preferences  \r\nGeneral-&gt;Keys.\r\n\r\nNow type &quot;Delete&quot; and reassign the filtered command.","title":"Delete a line in Eclipse","body":"<p>You can reassign the <code>Delete Line</code> command to your favourite hotkey.<br />\nWindow-&gt;Preferences<br />\nGeneral-&gt;Keys.</p>\n<p>Now type &quot;Delete&quot; and reassign the filtered command.</p>\n"},{"tags":[],"owner":{"account_id":7971710,"reputation":11015,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492011589,"creation_date":1492011589,"answer_id":43374022,"question_id":591172,"body_markdown":"if your are using MAC then it is\r\n\r\n    command + D  =&gt; ⌘ + D","title":"Delete a line in Eclipse","body":"<p>if your are using MAC then it is</p>\n\n<pre><code>command + D  =&gt; ⌘ + D\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6817230"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493367485,"creation_date":1493367485,"answer_id":43675380,"question_id":591172,"body_markdown":"press Ctrl+Shift+L TWICE and press TAB then you can type to find your shortkeys","title":"Delete a line in Eclipse","body":"<p>press Ctrl+Shift+L TWICE and press TAB then you can type to find your shortkeys</p>\n"}],"owner":{"display_name":"Sasha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82738,"favorite_count":0,"down_vote_count":1,"up_vote_count":151,"accepted_answer_id":591185,"answer_count":8,"score":150,"last_activity_date":1665046172,"creation_date":1235663955,"question_id":591172,"body_markdown":"In a Visual Studio, you would use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt;, whereas in Eclipse I am forced to select a line or, if it is empty, go the beginning of the line before clicking delete/backspace.\r\n\r\nIs there a quick shortcut? Thanks!","title":"Delete a line in Eclipse","body":"<p>In a Visual Studio, you would use <kbd>Ctrl</kbd>+<kbd>L</kbd>, whereas in Eclipse I am forced to select a line or, if it is empty, go the beginning of the line before clicking delete/backspace.</p>\n\n<p>Is there a quick shortcut? Thanks!</p>\n"},{"tags":["java","serialization","swagger","swagger-ui"],"answers":[{"comments":[{"owner":{"account_id":10186405,"reputation":296,"user_id":7521174,"display_name":"P H"},"score":0,"creation_date":1665053651,"post_id":73970975,"comment_id":130611558,"body_markdown":"Thank you. I have thought about this. But I the problem is, I have many attributes and would need to create mappers if I use two DTO classes. I wanted to avoid this. \n\nI thought we could somehow annotate the hidden fields  which are nested. Anyway, seems like this is the only solution. Thank you.","body":"Thank you. I have thought about this. But I the problem is, I have many attributes and would need to create mappers if I use two DTO classes. I wanted to avoid this.   I thought we could somehow annotate the hidden fields  which are nested. Anyway, seems like this is the only solution. Thank you."},{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":1,"creation_date":1665055858,"post_id":73970975,"comment_id":130612319,"body_markdown":"@PH try use `mapstruct` for creating mappers","body":"@PH try use <code>mapstruct</code> for creating mappers"}],"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046139,"creation_date":1665046139,"answer_id":73970975,"question_id":73970273,"body_markdown":"Create two different `DTO` classes. One with a `height` field, the second without a `height` field.\r\n\r\nThis is because with one class swagger uses will use one link twice - you can see this by expanding the &quot;Models&quot; block at the bottom of the swagger UI page.","title":"How to hide nested attributes in Swagger-ui only for certain response?","body":"<p>Create two different <code>DTO</code> classes. One with a <code>height</code> field, the second without a <code>height</code> field.</p>\n<p>This is because with one class swagger uses will use one link twice - you can see this by expanding the &quot;Models&quot; block at the bottom of the swagger UI page.</p>\n"}],"owner":{"account_id":10186405,"reputation":296,"user_id":7521174,"display_name":"P H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665046139,"creation_date":1665042662,"question_id":73970273,"body_markdown":"I have a class with attributes as below. \r\n\r\n    Class AnimalResponse {\r\n    \r\n    @JsonProperty(&quot;animals&quot;)\r\n    private List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\r\n    \r\n    @JsonProperty(&quot;someOtherAttributes&quot;)\r\n    private List&lt;someOtherAttribute&gt; someOtherAttributes= new ArrayList&lt;&gt;();\r\n    \r\n    }\r\n\r\n`Animal.class` looks like below: \r\n\r\n    Class Animal {\r\n    \r\n    @JsonProperty(&quot;id&quot;)\r\n    private int id;\r\n    \r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n    \r\n    @JsonProperty(&quot;height&quot;)\r\n    private float height;\r\n    }\r\n\r\nI do not want to serialize the attribute `height` inside `Animal.class`. \r\n\r\nSo, I do the following 2 steps: \r\n1. I create a mixIn ignoring height\r\n\r\n    public interface HeightIgnoreMixIn {\r\n        \r\n            @JsonIgnore\r\n            String getHeight();\r\n    }\r\n\r\n2. During serialization, I add this mixin.\r\n\r\n    new ObjectMapper()\r\n            .addMixIn(Animal.class, HeightIgnoreMixIn .class)\r\n            .writer()\r\n            .writeValueAsString(object);\r\n\r\nThis works perfectly. \r\n\r\n    **Note: Animal.class is used by other classes.** \r\n\r\nI do not want to show this `height` in Swagger UI as well. How do I do this? \r\n\r\nI can&#39;t add `@ApiModelProperty(hidden=true)` to `height` because `Animal.class` is used by other classes and they want it visible in the Swagger UI. So, I only want to remove it from the `AnimalResponse` in Swagger UI. How do I do this? \r\n\r\n","title":"How to hide nested attributes in Swagger-ui only for certain response?","body":"<p>I have a class with attributes as below.</p>\n<pre><code>Class AnimalResponse {\n\n@JsonProperty(&quot;animals&quot;)\nprivate List&lt;Animal&gt; animals = new ArrayList&lt;&gt;();\n\n@JsonProperty(&quot;someOtherAttributes&quot;)\nprivate List&lt;someOtherAttribute&gt; someOtherAttributes= new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p><code>Animal.class</code> looks like below:</p>\n<pre><code>Class Animal {\n\n@JsonProperty(&quot;id&quot;)\nprivate int id;\n\n@JsonProperty(&quot;name&quot;)\nprivate String name;\n\n@JsonProperty(&quot;height&quot;)\nprivate float height;\n}\n</code></pre>\n<p>I do not want to serialize the attribute <code>height</code> inside <code>Animal.class</code>.</p>\n<p>So, I do the following 2 steps:</p>\n<ol>\n<li><p>I create a mixIn ignoring height</p>\n<p>public interface HeightIgnoreMixIn {</p>\n<pre><code>     @JsonIgnore\n     String getHeight();\n</code></pre>\n<p>}</p>\n</li>\n<li><p>During serialization, I add this mixin.</p>\n<p>new ObjectMapper()\n.addMixIn(Animal.class, HeightIgnoreMixIn .class)\n.writer()\n.writeValueAsString(object);</p>\n</li>\n</ol>\n<p>This works perfectly.</p>\n<pre><code>**Note: Animal.class is used by other classes.** \n</code></pre>\n<p>I do not want to show this <code>height</code> in Swagger UI as well. How do I do this?</p>\n<p>I can't add <code>@ApiModelProperty(hidden=true)</code> to <code>height</code> because <code>Animal.class</code> is used by other classes and they want it visible in the Swagger UI. So, I only want to remove it from the <code>AnimalResponse</code> in Swagger UI. How do I do this?</p>\n"},{"tags":["java","spring-boot","rest","file","blob"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665050865,"post_id":73970917,"comment_id":130610570,"body_markdown":"Code looks ok so &#39;fileContent&#39; is possibly *already* corrupt","body":"Code looks ok so &#39;fileContent&#39; is possibly <i>already</i> corrupt"},{"owner":{"account_id":10984408,"reputation":21,"user_id":8070592,"display_name":"Kuldeep Jatwa"},"score":0,"creation_date":1665072762,"post_id":73970917,"comment_id":130619197,"body_markdown":"True it is, is fixed now thanks.","body":"True it is, is fixed now thanks."}],"owner":{"account_id":10984408,"reputation":21,"user_id":8070592,"display_name":"Kuldeep Jatwa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665045814,"creation_date":1665045814,"question_id":73970917,"body_markdown":"Getting response from the POST api call from which getting byte[] which i am writing using output stream but xslx file getting corrupted and PDF out as blank. Belo is the common code that i use to write a file. \r\n```\r\npublic File writeToFile(String fileName, byte[] fileContent) {\r\n        var outputFile = new File(&quot;path&quot;, fileName);\r\n        try (var outStream = new FileOutputStream(outputFile)) {\r\n            outStream.write(fileContent);\r\n            outStream.flush();\r\n        } catch (Exception e) {\r\n            throw new IOException(&quot;Error writing to file: &quot; + outputFile.getAbsolutePath());\r\n        }\r\n        return outputFile;\r\n    }\r\n```\r\n\r\nThanks in Advance ","title":"xlsx and pdf got corrupted while writing by the response received from Rest api POST call","body":"<p>Getting response from the POST api call from which getting byte[] which i am writing using output stream but xslx file getting corrupted and PDF out as blank. Belo is the common code that i use to write a file.</p>\n<pre><code>public File writeToFile(String fileName, byte[] fileContent) {\n        var outputFile = new File(&quot;path&quot;, fileName);\n        try (var outStream = new FileOutputStream(outputFile)) {\n            outStream.write(fileContent);\n            outStream.flush();\n        } catch (Exception e) {\n            throw new IOException(&quot;Error writing to file: &quot; + outputFile.getAbsolutePath());\n        }\n        return outputFile;\n    }\n</code></pre>\n<p>Thanks in Advance</p>\n"},{"tags":["java","spring","http","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665046708,"post_id":73970911,"comment_id":130608899,"body_markdown":"`@ResponseBody` only tells that the result is written in the body of the response **not** how it is written. How it is written depends on what the client accepts (XML, JSON, etc) a suitable `HttpMessageConverter` is then selected and the output written. So `@ResponseBody` has nothing (and all) to do with just JSON.","body":"<code>@ResponseBody</code> only tells that the result is written in the body of the response <b>not</b> how it is written. How it is written depends on what the client accepts (XML, JSON, etc) a suitable <code>HttpMessageConverter</code> is then selected and the output written. So <code>@ResponseBody</code> has nothing (and all) to do with just JSON."},{"owner":{"account_id":5571482,"reputation":384,"user_id":4416562,"accept_rate":60,"display_name":"hayley"},"score":0,"creation_date":1665047425,"post_id":73970911,"comment_id":130609178,"body_markdown":"@M.Deinum `@ResponseBody` has nothing (and all) to do with just JSON. --&gt; What is that mean? And please check this article out: https://www.baeldung.com/spring-request-response-body#requestbody","body":"@M.Deinum <code>@ResponseBody</code> has nothing (and all) to do with just JSON. --&gt; What is that mean? And please check this article out: <a href=\"https://www.baeldung.com/spring-request-response-body#requestbody\" rel=\"nofollow noreferrer\">baeldung.com/spring-request-response-body#requestbody</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665047573,"post_id":73970911,"comment_id":130609233,"body_markdown":"That article is wrong. As stated `@ResponseBody` as the annotation implies returns the result of the controller method as the body of the response. The **how** (xml, json, excel, binary, .... ) isn&#39;t forced but, as stated, depends on what the client accepts (and what you support!). So if you support XML and the client requests XML it will be XML. If you support JSON and the client supports JSON it will be json etc. So as stated it doesn&#39;t enforce anything.","body":"That article is wrong. As stated <code>@ResponseBody</code> as the annotation implies returns the result of the controller method as the body of the response. The <b>how</b> (xml, json, excel, binary, .... ) isn&#39;t forced but, as stated, depends on what the client accepts (and what you support!). So if you support XML and the client requests XML it will be XML. If you support JSON and the client supports JSON it will be json etc. So as stated it doesn&#39;t enforce anything."},{"owner":{"account_id":5571482,"reputation":384,"user_id":4416562,"accept_rate":60,"display_name":"hayley"},"score":0,"creation_date":1665048323,"post_id":73970911,"comment_id":130609559,"body_markdown":"@M.Deinum I&#39;m so sorry :( But I want to clarify that response body mentioned above is equivalent to **HTTP response body** right? Sometimes I&#39;m not sure if my interpretation is correct.","body":"@M.Deinum I&#39;m so sorry :( But I want to clarify that response body mentioned above is equivalent to <b>HTTP response body</b> right? Sometimes I&#39;m not sure if my interpretation is correct."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665048974,"post_id":73970911,"comment_id":130609837,"body_markdown":"What else would it be? We are in the context of the web.","body":"What else would it be? We are in the context of the web."}],"owner":{"account_id":5571482,"reputation":384,"user_id":4416562,"accept_rate":60,"display_name":"hayley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665045778,"creation_date":1665045778,"question_id":73970911,"body_markdown":"Recently, I&#39;m trying to get the xml file under the resources file. Then all the questions come out.\r\nI read so many articles say something like: \r\n\r\n&gt; @ResponseBody tells a controller that the object returned is\r\n&gt; automatically serialized into JSON and passed back into the\r\n&gt; HttpResponse object.\r\n\r\nSo my question is: the `produces` attribute is used to narrow the mapping by the media types that can be produced by the mapped handler, not to declare the media types the mapped handler will produce, right? Then how should I return xml content in the condition of automatically serialized into JSON format? I guess I mess up the meaning of the content showing in the view with HTTP response body... Please someone explain to me nicely and patiently :&quot;(","title":"Java Spring @ResponseBody return XML with produce attribute","body":"<p>Recently, I'm trying to get the xml file under the resources file. Then all the questions come out.\nI read so many articles say something like:</p>\n<blockquote>\n<p>@ResponseBody tells a controller that the object returned is\nautomatically serialized into JSON and passed back into the\nHttpResponse object.</p>\n</blockquote>\n<p>So my question is: the <code>produces</code> attribute is used to narrow the mapping by the media types that can be produced by the mapped handler, not to declare the media types the mapped handler will produce, right? Then how should I return xml content in the condition of automatically serialized into JSON format? I guess I mess up the meaning of the content showing in the view with HTTP response body... Please someone explain to me nicely and patiently :&quot;(</p>\n"},{"tags":["java","autodesk-forge"],"comments":[{"owner":{"account_id":12954367,"reputation":1207,"user_id":9365707,"display_name":"AlexAR"},"score":0,"creation_date":1665044353,"post_id":73970094,"comment_id":130608137,"body_markdown":"Please try to write as much as possible your code in your question (using code blocks) instead of picture, it&#39;s much more easier to read.","body":"Please try to write as much as possible your code in your question (using code blocks) instead of picture, it&#39;s much more easier to read."}],"answers":[{"comments":[{"owner":{"account_id":1957162,"reputation":9194,"user_id":1759915,"display_name":"Petr Broz"},"score":0,"creation_date":1665488469,"post_id":73970735,"comment_id":130707442,"body_markdown":"Alex is correct. The regions are handled independently between the two services. With the DM service you can configure where the _files_ are stored, and with the MD service you can configure where the _conversion outputs_ are stored.","body":"Alex is correct. The regions are handled independently between the two services. With the DM service you can configure where the <i>files</i> are stored, and with the MD service you can configure where the <i>conversion outputs</i> are stored."}],"tags":[],"owner":{"account_id":12954367,"reputation":1207,"user_id":9365707,"display_name":"AlexAR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665044866,"creation_date":1665044866,"answer_id":73970735,"question_id":73970094,"body_markdown":"AFAIK, **DataManagement** and **ModelDerivative** APIs can use regions independently.\r\n\r\nAdam Nagy explains it in this article : [DataManagement and ModelDerivative regions][1].\r\nSo I think your bucket is in **EMEA** but your derivatives are still in **US**, so you should delete the old manifest and translate again your file with **EMEA** destination.\r\n\r\nAlso you can use [OSS Manager][2] or [Forge Visual Studio Code][3] to help you understand in which regions are your buckets and derivatives.\r\n\r\n\r\n  [1]: https://forge.autodesk.com/blog/data-management-and-model-derivative-regions\r\n  [2]: https://oss-manager.autodesk.io/\r\n  [3]: https://forge.autodesk.com/blog/forge-visual-studio-code","title":"Can’t change the region from “US” to “EMEA” ( java)","body":"<p>AFAIK, <strong>DataManagement</strong> and <strong>ModelDerivative</strong> APIs can use regions independently.</p>\n<p>Adam Nagy explains it in this article : <a href=\"https://forge.autodesk.com/blog/data-management-and-model-derivative-regions\" rel=\"nofollow noreferrer\">DataManagement and ModelDerivative regions</a>.\nSo I think your bucket is in <strong>EMEA</strong> but your derivatives are still in <strong>US</strong>, so you should delete the old manifest and translate again your file with <strong>EMEA</strong> destination.</p>\n<p>Also you can use <a href=\"https://oss-manager.autodesk.io/\" rel=\"nofollow noreferrer\">OSS Manager</a> or <a href=\"https://forge.autodesk.com/blog/forge-visual-studio-code\" rel=\"nofollow noreferrer\">Forge Visual Studio Code</a> to help you understand in which regions are your buckets and derivatives.</p>\n"}],"owner":{"account_id":26383587,"reputation":1,"user_id":20036467,"display_name":"Hamdi Mahjoub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665044866,"creation_date":1665041622,"question_id":73970094,"body_markdown":"I’m using the library &quot;forge java sdk&quot; and I made the necessary configurations to change the region but in  the manifest usually display “US” . \r\nYou can find below some configurations : \r\n\r\n[Configuration Photo 1][1]\r\n\r\n[Configuration Photo 2][2]\r\n\r\nThe region still displaying “US” : \r\n\r\n[Manifest Photo][3]\r\n\r\nHow can i fix that ?\r\n\r\n  [1]: https://i.stack.imgur.com/9tCwc.png\r\n  [2]: https://i.stack.imgur.com/QdnNx.png\r\n  [3]: https://i.stack.imgur.com/yu6ZR.png","title":"Can’t change the region from “US” to “EMEA” ( java)","body":"<p>I’m using the library &quot;forge java sdk&quot; and I made the necessary configurations to change the region but in  the manifest usually display “US” .\nYou can find below some configurations :</p>\n<p><a href=\"https://i.stack.imgur.com/9tCwc.png\" rel=\"nofollow noreferrer\">Configuration Photo 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/QdnNx.png\" rel=\"nofollow noreferrer\">Configuration Photo 2</a></p>\n<p>The region still displaying “US” :</p>\n<p><a href=\"https://i.stack.imgur.com/yu6ZR.png\" rel=\"nofollow noreferrer\">Manifest Photo</a></p>\n<p>How can i fix that ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1620908874,"post_id":66740314,"comment_id":119341968,"body_markdown":"How did you fix this false positive lint error?","body":"How did you fix this false positive lint error?"}],"answers":[{"comments":[{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":3,"creation_date":1620908065,"post_id":66740530,"comment_id":119341668,"body_markdown":"I am still getting lint error, this is a bit old project written in Java and I already added `androidx.activity:activity-ktx:1.3.0-alpha07` and using `androidx.fragment:fragment-ktx:1.3.3` working with AS Arctic Fox Canary 15","body":"I am still getting lint error, this is a bit old project written in Java and I already added <code>androidx.activity:activity-ktx:1.3.0-alpha07</code> and using <code>androidx.fragment:fragment-ktx:1.3.3</code> working with AS Arctic Fox Canary 15"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1628286606,"post_id":66740530,"comment_id":121388944,"body_markdown":"Also get this error for `androidx.fragment:fragment-ktx:1.3.6` with Arctix Fox.","body":"Also get this error for <code>androidx.fragment:fragment-ktx:1.3.6</code> with Arctix Fox."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1628296973,"post_id":66740530,"comment_id":121390517,"body_markdown":"@CoolMind - you should [file an issue](https://issuetracker.google.com/issues/new?component=527362) with a project that reproduces your problem.","body":"@CoolMind - you should <a href=\"https://issuetracker.google.com/issues/new?component=527362\" rel=\"nofollow noreferrer\">file an issue</a> with a project that reproduces your problem."},{"owner":{"account_id":1467847,"reputation":426,"user_id":1380208,"display_name":"Hemant Parmar"},"score":0,"creation_date":1631525684,"post_id":66740530,"comment_id":122236400,"body_markdown":"It wasn&#39;t working for me for &#39;androidx.fragment:fragment-ktx:1.3.6&#39; also but it started working after I added  &#39;androidx.activity:activity:1.3.0-alpha05&#39; to the implementation list ...","body":"It wasn&#39;t working for me for &#39;androidx.fragment:fragment-ktx:1.3.6&#39; also but it started working after I added  &#39;androidx.activity:activity:1.3.0-alpha05&#39; to the implementation list ..."}],"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1616611017,"creation_date":1616389002,"answer_id":66740530,"question_id":66740314,"body_markdown":"This is a [known issue][1] which is already fixed for the next version. You can either wait for that release to come out or suppress the warning.\r\n\r\n**Edit**: [Fragment 1.3.2][2] has been released and states:\r\n\r\n&gt; Fragment now depends on [Activity 1.2.2][3], fixing an issue with Activity’s `InvalidFragmentVersionForActivityResult` lint check when using Fragment 1.3.1 or higher.\r\n\r\nSo you should upgrade to Fragment 1.3.2.\r\n\r\n  [1]: https://issuetracker.google.com/issues/182388985\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/fragment#1.3.2\r\n  [3]: https://developer.android.com/jetpack/androidx/releases/activity#1.2.2","title":"Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]","body":"<p>This is a <a href=\"https://issuetracker.google.com/issues/182388985\" rel=\"noreferrer\">known issue</a> which is already fixed for the next version. You can either wait for that release to come out or suppress the warning.</p>\n<p><strong>Edit</strong>: <a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.3.2\" rel=\"noreferrer\">Fragment 1.3.2</a> has been released and states:</p>\n<blockquote>\n<p>Fragment now depends on <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#1.2.2\" rel=\"noreferrer\">Activity 1.2.2</a>, fixing an issue with Activity’s <code>InvalidFragmentVersionForActivityResult</code> lint check when using Fragment 1.3.1 or higher.</p>\n</blockquote>\n<p>So you should upgrade to Fragment 1.3.2.</p>\n"},{"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1628446102,"post_id":68703138,"comment_id":121416705,"body_markdown":"Fragment 1.3.2 already depends on this version of Activity, you don&#39;t need to manually include a dependency on it; you&#39;ll get fixes for Activity automatically as part of the transitive dependency.","body":"Fragment 1.3.2 already depends on this version of Activity, you don&#39;t need to manually include a dependency on it; you&#39;ll get fixes for Activity automatically as part of the transitive dependency."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1628449848,"post_id":68703138,"comment_id":121417594,"body_markdown":"@ianhanniballake, if don&#39;t add this dependency, Lint won&#39;t remove the error.","body":"@ianhanniballake, if don&#39;t add this dependency, Lint won&#39;t remove the error."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1628451695,"post_id":68703138,"comment_id":121418028,"body_markdown":"That&#39;s not how transitive dependencies work. You should [file an issue](https://issuetracker.google.com/issues/new?component=527362&amp;template=1189829) with a project that reproduces your problem if you&#39;re finding that necessary.","body":"That&#39;s not how transitive dependencies work. You should <a href=\"https://issuetracker.google.com/issues/new?component=527362&amp;template=1189829\" rel=\"nofollow noreferrer\">file an issue</a> with a project that reproduces your problem if you&#39;re finding that necessary."}],"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628443537,"creation_date":1628443537,"answer_id":68703138,"question_id":66740314,"body_markdown":"See https://developer.android.com/jetpack/androidx/releases/activity#version_122_3.\r\n\r\nIf you use `androidx.appcompat:appcompat:1.3.1`, add also `import androidx.activity:activity-ktx:1.2.2` or `androidx.activity:activity:1.2.2` to remove this Lint error.","title":"Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]","body":"<p>See <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#version_122_3\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/activity#version_122_3</a>.</p>\n<p>If you use <code>androidx.appcompat:appcompat:1.3.1</code>, add also <code>import androidx.activity:activity-ktx:1.2.2</code> or <code>androidx.activity:activity:1.2.2</code> to remove this Lint error.</p>\n"},{"tags":[],"owner":{"account_id":9479691,"reputation":1604,"user_id":7048025,"display_name":"Amer Alzibak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665044841,"creation_date":1665044841,"answer_id":73970728,"question_id":66740314,"body_markdown":"in my case i&#39;ve updated `appcompat` lib to this version and it&#39;s resolved :\r\n\r\n    implementation &quot;androidx.appcompat:appcompat:1.5.1&quot;","title":"Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]","body":"<p>in my case i've updated <code>appcompat</code> lib to this version and it's resolved :</p>\n<pre><code>implementation &quot;androidx.appcompat:appcompat:1.5.1&quot;\n</code></pre>\n"}],"owner":{"account_id":19204699,"reputation":572,"user_id":14031849,"display_name":"Encycode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":66740530,"answer_count":3,"score":7,"last_activity_date":1665044841,"creation_date":1616387069,"question_id":66740314,"body_markdown":"I have the following login with google code in java android.\r\n\r\n    private void signIn() {\r\n            Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n            someActivityResultLauncher.launch(signInIntent);\r\n    }\r\n    \r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(result.getData());\r\n                        handleSignInResult(task);\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\nAnd I get this linting error. App does run on device. But I would like to fix this issue.\r\n\r\n    /home/runner/work/etu-android/etu-android/app/src/main/java/com/encycode/etus/Login.java:151: Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]\r\n        ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n                                                                    ^\r\n    \r\n       Explanation for issues of type &quot;InvalidFragmentVersionForActivityResult&quot;:\r\n       In order to use the ActivityResult APIs you must upgrade your              \r\n         Fragment version to 1.3.0. Previous versions of FragmentActivity         \r\n              failed to call super.onRequestPermissionsResult() and used invalid\r\n       request codes\r\n\r\nI am using following library version\r\n\r\n    implementation &quot;androidx.fragment:fragment:1.3.1&quot;","title":"Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]","body":"<p>I have the following login with google code in java android.</p>\n<pre><code>private void signIn() {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        someActivityResultLauncher.launch(signInIntent);\n}\n\nActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(result.getData());\n                    handleSignInResult(task);\n                }\n            }\n        }\n);\n</code></pre>\n<p>And I get this linting error. App does run on device. But I would like to fix this issue.</p>\n<pre><code>/home/runner/work/etu-android/etu-android/app/src/main/java/com/encycode/etus/Login.java:151: Error: Upgrade Fragment version to at least 1.3.0. [InvalidFragmentVersionForActivityResult]\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n                                                                ^\n\n   Explanation for issues of type &quot;InvalidFragmentVersionForActivityResult&quot;:\n   In order to use the ActivityResult APIs you must upgrade your              \n     Fragment version to 1.3.0. Previous versions of FragmentActivity         \n          failed to call super.onRequestPermissionsResult() and used invalid\n   request codes\n</code></pre>\n<p>I am using following library version</p>\n<pre><code>implementation &quot;androidx.fragment:fragment:1.3.1&quot;\n</code></pre>\n"},{"tags":["java","memory","zip","inputstream"],"answers":[{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1399915276,"post_id":23613145,"comment_id":36254354,"body_markdown":"Make sure you call the close()-method in a finally block, or better: use the Automatic Resource Management of Java 7.","body":"Make sure you call the close()-method in a finally block, or better: use the Automatic Resource Management of Java 7."},{"owner":{"account_id":2809874,"reputation":4581,"user_id":2416313,"accept_rate":92,"display_name":"Thirumalai Parthasarathi"},"score":0,"creation_date":1399916412,"post_id":23613145,"comment_id":36255045,"body_markdown":"@Puce : I intended to show only a snippet but after your comment i felt that adding a more structured code would be good. Thanks for the comment.. :)","body":"@Puce : I intended to show only a snippet but after your comment i felt that adding a more structured code would be good. Thanks for the comment.. :)"},{"owner":{"account_id":4442197,"reputation":2368,"user_id":3616496,"accept_rate":83,"display_name":"Sleep Deprived Bulbasaur"},"score":0,"creation_date":1399990970,"post_id":23613145,"comment_id":36290517,"body_markdown":"@BlackPanther could you elaborate more/ show a detailed version for if the origin file exists in a local directory.","body":"@BlackPanther could you elaborate more/ show a detailed version for if the origin file exists in a local directory."},{"owner":{"account_id":2809874,"reputation":4581,"user_id":2416313,"accept_rate":92,"display_name":"Thirumalai Parthasarathi"},"score":0,"creation_date":1400048840,"post_id":23613145,"comment_id":36316737,"body_markdown":"@SleepDeprivedBulbasaur : [**This**](http://stackoverflow.com/questions/10103861/adding-files-to-zip-file/10103963#10103963) link can help you on that.","body":"@SleepDeprivedBulbasaur : <a href=\"http://stackoverflow.com/questions/10103861/adding-files-to-zip-file/10103963#10103963\"><b>This</b></a> link can help you on that."},{"owner":{"account_id":325053,"reputation":167,"user_id":646001,"display_name":"hencrice"},"score":8,"creation_date":1439418926,"post_id":23613145,"comment_id":51859540,"body_markdown":"Check this post (http://stackoverflow.com/questions/25974354/creating-zip-file-in-memory-out-of-byte-zip-file-is-allways-corrupted). Remember to close the ZipOutputStream before invoking `getBytes` on ByteArrayOutputStream.","body":"Check this post (<a href=\"http://stackoverflow.com/questions/25974354/creating-zip-file-in-memory-out-of-byte-zip-file-is-allways-corrupted\" title=\"creating zip file in memory out of byte zip file is allways corrupted\">stackoverflow.com/questions/25974354/&hellip;</a>). Remember to close the ZipOutputStream before invoking <code>getBytes</code> on ByteArrayOutputStream."},{"owner":{"account_id":1073613,"reputation":370,"user_id":1072277,"display_name":"MikeyT"},"score":0,"creation_date":1557845339,"post_id":23613145,"comment_id":98897360,"body_markdown":"@hencrice and posterity, be aware that the example in that link (https://stackoverflow.com/questions/25974354/creating-zip-file-in-memory-out-of-byte-zip-file-is-allways-corrupted) doesn&#39;t work in Java 7 or 8. They didn&#39;t add the ability to declare resource variables outside the try block until Java 9. The example in this post will work for Java 7/8 folks.","body":"@hencrice and posterity, be aware that the example in that link (<a href=\"https://stackoverflow.com/questions/25974354/creating-zip-file-in-memory-out-of-byte-zip-file-is-allways-corrupted\" title=\"creating zip file in memory out of byte zip file is allways corrupted\">stackoverflow.com/questions/25974354/&hellip;</a>) doesn&#39;t work in Java 7 or 8. They didn&#39;t add the ability to declare resource variables outside the try block until Java 9. The example in this post will work for Java 7/8 folks."},{"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"score":0,"creation_date":1641807482,"post_id":23613145,"comment_id":124893957,"body_markdown":"This is a very good example and I admire it. Also I can recommend just a simple addition - set appropriate encoding when use those example. try(ZipOutputStream zos = new ZipOutputStream(baos, StandardCharsets.UTF_8)) and zos.write(s.getBytes(StandardCharsets.UTF_8));","body":"This is a very good example and I admire it. Also I can recommend just a simple addition - set appropriate encoding when use those example. try(ZipOutputStream zos = new ZipOutputStream(baos, StandardCharsets.UTF_8)) and zos.write(s.getBytes(StandardCharsets.UTF_8));"}],"tags":[],"owner":{"account_id":2809874,"reputation":4581,"user_id":2416313,"accept_rate":92,"display_name":"Thirumalai Parthasarathi"},"comment_count":7,"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1665044669,"creation_date":1399908669,"answer_id":23613145,"question_id":23612864,"body_markdown":"Use [**ByteArrayOutputStream**](http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html) with [**ZipOutputStream**](http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipOutputStream.html) to accomplish the task.\r\n\r\nyou can use [**ZipEntry**](http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipEntry.html) to specify the files\r\nto be included into the zip file.\r\n\r\nHere is an example of using the above classes,\r\n\r\n    String s = &quot;hello world&quot;;\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    try(ZipOutputStream zos = new ZipOutputStream(baos)) {\r\n\r\n      /* File is not on the disk, test.txt indicates\r\n         only the file name to be put into the zip */\r\n      ZipEntry entry = new ZipEntry(&quot;test.txt&quot;); \r\n\r\n      zos.putNextEntry(entry);\r\n      zos.write(s.getBytes());\r\n      zos.closeEntry();\r\n\r\n      /* use more Entries to add more files\r\n         and use closeEntry() to close each file entry */\r\n\r\n    } catch(IOException ioe) {\r\n      ioe.printStackTrace();\r\n    }\r\n\r\nnow `baos` contains your zip file as a `stream`","title":"Create a Zip File in Memory","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html\" rel=\"nofollow noreferrer\"><strong>ByteArrayOutputStream</strong></a> with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipOutputStream.html\" rel=\"nofollow noreferrer\"><strong>ZipOutputStream</strong></a> to accomplish the task.</p>\n<p>you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipEntry.html\" rel=\"nofollow noreferrer\"><strong>ZipEntry</strong></a> to specify the files\nto be included into the zip file.</p>\n<p>Here is an example of using the above classes,</p>\n<pre><code>String s = &quot;hello world&quot;;\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\ntry(ZipOutputStream zos = new ZipOutputStream(baos)) {\n\n  /* File is not on the disk, test.txt indicates\n     only the file name to be put into the zip */\n  ZipEntry entry = new ZipEntry(&quot;test.txt&quot;); \n\n  zos.putNextEntry(entry);\n  zos.write(s.getBytes());\n  zos.closeEntry();\n\n  /* use more Entries to add more files\n     and use closeEntry() to close each file entry */\n\n} catch(IOException ioe) {\n  ioe.printStackTrace();\n}\n</code></pre>\n<p>now <code>baos</code> contains your zip file as a <code>stream</code></p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1399915129,"creation_date":1399915129,"answer_id":23615096,"question_id":23612864,"body_markdown":"As the NIO.2 API, which was introduce in Java SE 7, supports custom file systems you could try to combine an in-memory filesystem like https://github.com/marschall/memoryfilesystem and the Zip file system provided by Oracle.\r\n\r\nNote: I&#39;ve written some utility classes to work with the Zip file system.\r\n\r\nThe library is Open Source and it might help to get you started.\r\n\r\nHere is the tutorial: http://softsmithy.sourceforge.net/lib/0.4/docs/tutorial/nio-file/index.html\r\n\r\nYou can download the library from here: http://sourceforge.net/projects/softsmithy/files/softsmithy/v0.4/\r\n\r\nOr with Maven:\r\n\r\n    &lt;dependency&gt;  \r\n        &lt;groupId&gt;org.softsmithy.lib&lt;/groupId&gt;  \r\n        &lt;artifactId&gt;softsmithy-lib-core&lt;/artifactId&gt;  \r\n        &lt;version&gt;0.4&lt;/version&gt;   \r\n    &lt;/dependency&gt;  ","title":"Create a Zip File in Memory","body":"<p>As the NIO.2 API, which was introduce in Java SE 7, supports custom file systems you could try to combine an in-memory filesystem like <a href=\"https://github.com/marschall/memoryfilesystem\" rel=\"nofollow\">https://github.com/marschall/memoryfilesystem</a> and the Zip file system provided by Oracle.</p>\n\n<p>Note: I've written some utility classes to work with the Zip file system.</p>\n\n<p>The library is Open Source and it might help to get you started.</p>\n\n<p>Here is the tutorial: <a href=\"http://softsmithy.sourceforge.net/lib/0.4/docs/tutorial/nio-file/index.html\" rel=\"nofollow\">http://softsmithy.sourceforge.net/lib/0.4/docs/tutorial/nio-file/index.html</a></p>\n\n<p>You can download the library from here: <a href=\"http://sourceforge.net/projects/softsmithy/files/softsmithy/v0.4/\" rel=\"nofollow\">http://sourceforge.net/projects/softsmithy/files/softsmithy/v0.4/</a></p>\n\n<p>Or with Maven:</p>\n\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.softsmithy.lib&lt;/groupId&gt;  \n    &lt;artifactId&gt;softsmithy-lib-core&lt;/artifactId&gt;  \n    &lt;version&gt;0.4&lt;/version&gt;   \n&lt;/dependency&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6531871,"reputation":845,"user_id":5052781,"display_name":"cclient"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592472371,"creation_date":1592472371,"answer_id":62446726,"question_id":23612864,"body_markdown":"[nifi MergeContent contain compressZip code][1]\r\n\r\n[commons-io][2]\r\n\r\n    public byte[] compressZip(ByteArrayOutputStream baos,String entryName) throws IOException {\r\n        try (final ByteArrayOutputStream zipBaos = new ByteArrayOutputStream();\r\n             final java.util.zip.ZipOutputStream out = new ZipOutputStream(zipBaos)) {\r\n            final ZipEntry zipEntry = new ZipEntry(entryName);\r\n            zipEntry.setSize(baos.size());\r\n            out.putNextEntry(zipEntry);\r\n            IOUtils.copy(new ByteArrayInputStream(baos.toByteArray()), out);\r\n            out.closeEntry();\r\n            out.finish();\r\n            out.flush();\r\n            return zipBaos.toByteArray();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/apache/nifi/blob/ea9b0db2f620526c8dd0db595cf8b44c3ef835be/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/MergeContent.java\r\n  [2]: https://mvnrepository.com/artifact/commons-io/commons-io","title":"Create a Zip File in Memory","body":"<p><a href=\"https://github.com/apache/nifi/blob/ea9b0db2f620526c8dd0db595cf8b44c3ef835be/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/MergeContent.java\" rel=\"nofollow noreferrer\">nifi MergeContent contain compressZip code</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/commons-io/commons-io\" rel=\"nofollow noreferrer\">commons-io</a></p>\n\n<pre><code>public byte[] compressZip(ByteArrayOutputStream baos,String entryName) throws IOException {\n    try (final ByteArrayOutputStream zipBaos = new ByteArrayOutputStream();\n         final java.util.zip.ZipOutputStream out = new ZipOutputStream(zipBaos)) {\n        final ZipEntry zipEntry = new ZipEntry(entryName);\n        zipEntry.setSize(baos.size());\n        out.putNextEntry(zipEntry);\n        IOUtils.copy(new ByteArrayInputStream(baos.toByteArray()), out);\n        out.closeEntry();\n        out.finish();\n        out.flush();\n        return zipBaos.toByteArray();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4442197,"reputation":2368,"user_id":3616496,"accept_rate":83,"display_name":"Sleep Deprived Bulbasaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49998,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":23613145,"answer_count":3,"score":42,"last_activity_date":1665044669,"creation_date":1399907931,"question_id":23612864,"body_markdown":"I&#39;m trying to zip a file (for example foo.csv) and upload it to a server.  I have a working version which creates a local copy and then deletes the local copy.  How would I zip a file so I could send it without writing to the hard drive and do it purely in memory?","title":"Create a Zip File in Memory","body":"<p>I'm trying to zip a file (for example foo.csv) and upload it to a server.  I have a working version which creates a local copy and then deletes the local copy.  How would I zip a file so I could send it without writing to the hard drive and do it purely in memory?</p>\n"},{"tags":["java","spring","spring-boot","netflix-zuul","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594348466,"creation_date":1594348466,"answer_id":62826489,"question_id":62825536,"body_markdown":"Without using external dependencies you can implement it as a Filter:\r\n```java\r\npublic class RpsFilter extends GenericFilterBean {\r\n//...\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\tif (rpsGreaterThanMax()) {\r\n\t\t\tresponseSystemBusy((HttpServletResponse) response);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t}\r\n\t}\r\n//...\r\n}\r\n```\r\nAnd then add it to the filter chain:\r\n```java\r\n@Bean\r\npublic FilterRegistrationBean&lt;RpsFilter&gt; rpsFilter(){\r\n    FilterRegistrationBean&lt;RpsFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n    int maxRps = getMaxRequestsPerSecond(); // from properties file\r\n    registrationBean.setFilter(new RpsFilter(maxRps));\r\n    registrationBean.addUrlPatterns(&quot;/api/v1/*&quot;); // url to apply the throttling\r\n    return registrationBean;    \r\n}\r\n```","title":"Springboot: Implementing throttling","body":"<p>Without using external dependencies you can implement it as a Filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RpsFilter extends GenericFilterBean {\n//...\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        if (rpsGreaterThanMax()) {\n            responseSystemBusy((HttpServletResponse) response);\n        }\n        else {\n            chain.doFilter(request, response);\n        }\n    }\n//...\n}\n</code></pre>\n<p>And then add it to the filter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean&lt;RpsFilter&gt; rpsFilter(){\n    FilterRegistrationBean&lt;RpsFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n    int maxRps = getMaxRequestsPerSecond(); // from properties file\n    registrationBean.setFilter(new RpsFilter(maxRps));\n    registrationBean.addUrlPatterns(&quot;/api/v1/*&quot;); // url to apply the throttling\n    return registrationBean;    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1594386287,"post_id":62827511,"comment_id":111115944,"body_markdown":"but my assumption is resilence4j is for external api calls.Can we use on top of our controller too?","body":"but my assumption is resilence4j is for external api calls.Can we use on top of our controller too?"},{"owner":{"account_id":3064909,"reputation":1619,"user_id":2596827,"accept_rate":60,"display_name":"Liquidpie"},"score":0,"creation_date":1594390436,"post_id":62827511,"comment_id":111118262,"body_markdown":"other modules of resilience4j like circuit breaker and retry are for external api calls, but rateLimiter can be used for controller methods/endpoints. It&#39;s the same configuration","body":"other modules of resilience4j like circuit breaker and retry are for external api calls, but rateLimiter can be used for controller methods/endpoints. It&#39;s the same configuration"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1651054670,"post_id":62827511,"comment_id":127269348,"body_markdown":"Check if this article helps too throw some light ? https://medium.com/teamarimac/implementing-throttling-in-java-spring-boot-ec4723cfce9f#:~:text=weddini%2Fspring%2Dboot%2Dthrottling%20Library,-When%20we%20consider&amp;text=You%20can%20implement%20throttling%20by,1%20method%20call%20per%20second.","body":"Check if this article helps too throw some light ? <a href=\"https://medium.com/teamarimac/implementing-throttling-in-java-spring-boot-ec4723cfce9f#:~:text=weddini%2Fspring%2Dboot%2Dthrottling%20Library,-When%20we%20consider&amp;text=You%20can%20implement%20throttling%20by,1%20method%20call%20per%20second\" rel=\"nofollow noreferrer\">medium.com/teamarimac/&hellip;</a>."}],"tags":[],"owner":{"account_id":3064909,"reputation":1619,"user_id":2596827,"accept_rate":60,"display_name":"Liquidpie"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594356550,"creation_date":1594356550,"answer_id":62827511,"question_id":62825536,"body_markdown":"**resilience4j** RateLimiter is a good option as resilience4j is a light-weight and modular library. There&#39;s a minimal configuration. And, it will also publish the metrics to meter registry.\r\n\r\nresilience4j is easily integrated with Spring Webflux too. It provides Reactor operators for it.\r\n\r\nDocumentation: [resilience4j RateLimiter][1]\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/ratelimiter","title":"Springboot: Implementing throttling","body":"<p><strong>resilience4j</strong> RateLimiter is a good option as resilience4j is a light-weight and modular library. There's a minimal configuration. And, it will also publish the metrics to meter registry.</p>\n<p>resilience4j is easily integrated with Spring Webflux too. It provides Reactor operators for it.</p>\n<p>Documentation: <a href=\"https://resilience4j.readme.io/docs/ratelimiter\" rel=\"nofollow noreferrer\">resilience4j RateLimiter</a></p>\n"},{"tags":[],"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665044640,"creation_date":1665044640,"answer_id":73970685,"question_id":62825536,"body_markdown":"By using **`weddini`** dependency\r\n```\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.weddini.throttling&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-throttling-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.9&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\nyou can just use `@Throttling` annotation on service method to enable throttling with default or custom implementation. for example,\r\n```\r\n//this is the default implementation\r\n@Throttling\r\npublic void serviceMethod() {}\r\n\r\n//annotation above is equivalent to this\r\n@Throttling(type = ThrottlingType.RemoteAddr, limit = 1, timeUnit = TimeUnit.SECONDS)\r\npublic void serviceMethod() {}\r\n```","title":"Springboot: Implementing throttling","body":"<p>By using <strong><code>weddini</code></strong> dependency</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;com.weddini.throttling&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-throttling-starter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.9&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>you can just use <code>@Throttling</code> annotation on service method to enable throttling with default or custom implementation. for example,</p>\n<pre><code>//this is the default implementation\n@Throttling\npublic void serviceMethod() {}\n\n//annotation above is equivalent to this\n@Throttling(type = ThrottlingType.RemoteAddr, limit = 1, timeUnit = TimeUnit.SECONDS)\npublic void serviceMethod() {}\n</code></pre>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6236,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1665044640,"creation_date":1594340318,"question_id":62825536,"body_markdown":"We are writing a brand new spring-boot-2 application in our organization.We are exploring the options how can we implement throttling on top of our api?What are some of the frameworks available to implement throttling with spring boot?Can we use **resilence4j or Netflix Zuul** RateLimiter to achieve this?","title":"Springboot: Implementing throttling","body":"<p>We are writing a brand new spring-boot-2 application in our organization.We are exploring the options how can we implement throttling on top of our api?What are some of the frameworks available to implement throttling with spring boot?Can we use <strong>resilence4j or Netflix Zuul</strong> RateLimiter to achieve this?</p>\n"},{"tags":["java","spring","redirect","struts-1"],"answers":[{"tags":[],"owner":{"account_id":4312127,"reputation":513,"user_id":3522933,"accept_rate":100,"display_name":"MinionAttack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664959253,"creation_date":1664959253,"answer_id":73957858,"question_id":73950958,"body_markdown":"Finally, the only thing I have found to achieve this was:\r\n\r\nIn the Action class of the old URL, as it received `HttpServletResponse response` as a parameter, I made the redirection there directly and forced a null return since the signature of the method expects an `ActionForward`.\r\n\r\n    protected ActionForward doExecute(..., HttpServletResponse response) throws Exception {\r\n    \t...\r\n    \tresponse.sendRedirect(&quot;https://my_new_site/a_section_of_the_website&quot;);\r\n    \treturn null;\r\n    }\r\n\r\nI hope this may be of help to someone in the future.","title":"How to do a url redirection in Struts1 and Spring","body":"<p>Finally, the only thing I have found to achieve this was:</p>\n<p>In the Action class of the old URL, as it received <code>HttpServletResponse response</code> as a parameter, I made the redirection there directly and forced a null return since the signature of the method expects an <code>ActionForward</code>.</p>\n<pre><code>protected ActionForward doExecute(..., HttpServletResponse response) throws Exception {\n    ...\n    response.sendRedirect(&quot;https://my_new_site/a_section_of_the_website&quot;);\n    return null;\n}\n</code></pre>\n<p>I hope this may be of help to someone in the future.</p>\n"}],"owner":{"account_id":4312127,"reputation":513,"user_id":3522933,"accept_rate":100,"display_name":"MinionAttack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73957858,"answer_count":1,"score":0,"last_activity_date":1665044364,"creation_date":1664901203,"question_id":73950958,"body_markdown":"For legacy reasons I need to do a url redirection from an old website to the new one.\r\n\r\nFor example, this is the old URL:\r\n\r\n    https://my_old_site/a_section_of_the_website\r\n\r\nSo when a user types this URL because they think it is still the actual URL, I want to redirect the user to:\r\n\r\n    https://my_new_site/a_section_of_the_website\r\n\r\nI mean, I don&#39;t want to redirect to another action, I want to intercept the URL and redirect it to another url. But after searching here, on Google and other sites, I can&#39;t figure out how to do it.\r\n\r\nI would like to know if there is a way in Struts or Spring to manage the URLs of the application and handle redirects. I don&#39;t know if it can be done in the `struts.xml` or there is another file in `Spring` in which it performs this task.\r\n\r\nBest regards.","title":"How to do a url redirection in Struts1 and Spring","body":"<p>For legacy reasons I need to do a url redirection from an old website to the new one.</p>\n<p>For example, this is the old URL:</p>\n<pre><code>https://my_old_site/a_section_of_the_website\n</code></pre>\n<p>So when a user types this URL because they think it is still the actual URL, I want to redirect the user to:</p>\n<pre><code>https://my_new_site/a_section_of_the_website\n</code></pre>\n<p>I mean, I don't want to redirect to another action, I want to intercept the URL and redirect it to another url. But after searching here, on Google and other sites, I can't figure out how to do it.</p>\n<p>I would like to know if there is a way in Struts or Spring to manage the URLs of the application and handle redirects. I don't know if it can be done in the <code>struts.xml</code> or there is another file in <code>Spring</code> in which it performs this task.</p>\n<p>Best regards.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":3444677,"reputation":83,"user_id":10015540,"display_name":"lolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665044058,"creation_date":1639772706,"question_id":70398541,"body_markdown":"I am trying to add events dynamically from Firebase , but I&#39;m not able to display any events, I am using [Alamkanak Week-View][1] , I stuck with problem and try many ways because **onMonthChange** called before executing firebase, please help guys.\r\n\r\n\r\n  [1]: https://github.com/alamkanak/Android-Week-View\r\n\r\n        private void RetriveAllAppointment(ArrayList&lt;String&gt; id_list) {\r\n            mrefDatabase = FirebaseDatabase.getInstance().getReference(&quot;Appointments&quot;).child(&quot;Active&quot;);\r\n            mrefDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()) {\r\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                         times_list = new ArrayList&lt;&gt;();\r\n                                    for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n                       appointmantdate = snapshot.child(&quot;Date&quot;).getValue().toString();\r\n     selectedVenueName = snapshot.child(&quot;venueName&quot;).getValue().toString();\r\n                                        if (snapshot.hasChild(&quot;times&quot;)) {\r\n                                            for (DataSnapshot timesnapshot \r\n    \r\n        :snapshot.child(&quot;times&quot;).getChildren()) {\r\n        String time = timesnapshot.getValue().toString();\r\n        times_list.add(time);}\r\n                                            CreateEvent(year, month);}\r\n\r\ncreate event from data that come from firebase\r\n\r\n\r\n    public void CreateEvent(int year, int month) {\r\n            String[] separated = appointmantdate.split(&quot;-&quot;);\r\n            int year_ = Integer.parseInt(separated[0]);\r\n            int month_ = Integer.parseInt(separated[1]);\r\n            int day = Integer.parseInt(separated[2]);\r\n            for (int a = 0; a &lt; times_list.size(); a++) {\r\n\r\n                String[] timeSplit = times_list.get(a).split(&quot;:&quot;);\r\n                int time_hour = Integer.parseInt(timeSplit[0]);\r\n                int time_minute = Integer.parseInt(timeSplit[1]);\r\n\r\n                Calendar startTime = Calendar.getInstance();\r\n                startTime.set(Calendar.HOUR_OF_DAY, time_hour);\r\n                startTime.set(Calendar.MINUTE, time_minute);\r\n                startTime.set(Calendar.DAY_OF_MONTH, day);\r\n                startTime.set(Calendar.MONTH, month_ - 1);\r\n                startTime.set(Calendar.YEAR, year_);\r\n                Calendar endTime = (Calendar) startTime.clone();\r\n\r\n                String[] endtimeSplit = times_list.get(times_list.size() - 1).split(&quot;:&quot;);\r\n                int endtime_hour = Integer.parseInt(endtimeSplit[0]);\r\n                int endtime_minute = Integer.parseInt(endtimeSplit[1]);\r\n                endTime.add(Calendar.HOUR, endtime_hour);\r\n                startTime.set(Calendar.MINUTE, endtime_minute);\r\n                endTime.set(Calendar.MONTH, month - 1);\r\n                event = new WeekViewEvent(1, selectedVenueName, startTime, endTime);\r\n                event.setColor(getActivity(). getResources().getColor(R.color.event_color_03));\r\n                events.add(event);}\r\n       \r\n\r\nonMonthChange method\r\n\r\n    @Override\r\n    public List&lt;? extends WeekViewEvent&gt; onMonthChange(int newYear, int newMonth) {\r\n        List&lt;WeekViewEvent&gt; lastone = new ArrayList&lt;WeekViewEvent&gt;();\r\n        \r\n        if (appointmantdate != null &amp;&amp; times_list != null) {\r\n          lastone = CreateEvent(newYear, newMonth);\r\n            events.addAll(lastone);\r\n        }\r\n        ArrayList&lt;WeekViewEvent&gt; matchedEvents = new ArrayList&lt;WeekViewEvent&gt;();\r\n        for (WeekViewEvent event : events) {\r\n            if (eventMatches(event, newYear, newMonth)) {\r\n                matchedEvents.add(event);\r\n            }\r\n         return matchedEvents;\r\n\r\n","title":"How to get all events from Firebase database in Alamkanak Android-Week-View library","body":"<p>I am trying to add events dynamically from Firebase , but I'm not able to display any events, I am using <a href=\"https://github.com/alamkanak/Android-Week-View\" rel=\"nofollow noreferrer\">Alamkanak Week-View</a> , I stuck with problem and try many ways because <strong>onMonthChange</strong> called before executing firebase, please help guys.</p>\n<pre><code>    private void RetriveAllAppointment(ArrayList&lt;String&gt; id_list) {\n        mrefDatabase = FirebaseDatabase.getInstance().getReference(&quot;Appointments&quot;).child(&quot;Active&quot;);\n        mrefDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()) {\n                    for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                     times_list = new ArrayList&lt;&gt;();\n                                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n                   appointmantdate = snapshot.child(&quot;Date&quot;).getValue().toString();\n selectedVenueName = snapshot.child(&quot;venueName&quot;).getValue().toString();\n                                    if (snapshot.hasChild(&quot;times&quot;)) {\n                                        for (DataSnapshot timesnapshot \n\n    :snapshot.child(&quot;times&quot;).getChildren()) {\n    String time = timesnapshot.getValue().toString();\n    times_list.add(time);}\n                                        CreateEvent(year, month);}\n</code></pre>\n<p>create event from data that come from firebase</p>\n<pre><code>public void CreateEvent(int year, int month) {\n        String[] separated = appointmantdate.split(&quot;-&quot;);\n        int year_ = Integer.parseInt(separated[0]);\n        int month_ = Integer.parseInt(separated[1]);\n        int day = Integer.parseInt(separated[2]);\n        for (int a = 0; a &lt; times_list.size(); a++) {\n\n            String[] timeSplit = times_list.get(a).split(&quot;:&quot;);\n            int time_hour = Integer.parseInt(timeSplit[0]);\n            int time_minute = Integer.parseInt(timeSplit[1]);\n\n            Calendar startTime = Calendar.getInstance();\n            startTime.set(Calendar.HOUR_OF_DAY, time_hour);\n            startTime.set(Calendar.MINUTE, time_minute);\n            startTime.set(Calendar.DAY_OF_MONTH, day);\n            startTime.set(Calendar.MONTH, month_ - 1);\n            startTime.set(Calendar.YEAR, year_);\n            Calendar endTime = (Calendar) startTime.clone();\n\n            String[] endtimeSplit = times_list.get(times_list.size() - 1).split(&quot;:&quot;);\n            int endtime_hour = Integer.parseInt(endtimeSplit[0]);\n            int endtime_minute = Integer.parseInt(endtimeSplit[1]);\n            endTime.add(Calendar.HOUR, endtime_hour);\n            startTime.set(Calendar.MINUTE, endtime_minute);\n            endTime.set(Calendar.MONTH, month - 1);\n            event = new WeekViewEvent(1, selectedVenueName, startTime, endTime);\n            event.setColor(getActivity(). getResources().getColor(R.color.event_color_03));\n            events.add(event);}\n   \n</code></pre>\n<p>onMonthChange method</p>\n<pre><code>@Override\npublic List&lt;? extends WeekViewEvent&gt; onMonthChange(int newYear, int newMonth) {\n    List&lt;WeekViewEvent&gt; lastone = new ArrayList&lt;WeekViewEvent&gt;();\n    \n    if (appointmantdate != null &amp;&amp; times_list != null) {\n      lastone = CreateEvent(newYear, newMonth);\n        events.addAll(lastone);\n    }\n    ArrayList&lt;WeekViewEvent&gt; matchedEvents = new ArrayList&lt;WeekViewEvent&gt;();\n    for (WeekViewEvent event : events) {\n        if (eventMatches(event, newYear, newMonth)) {\n            matchedEvents.add(event);\n        }\n     return matchedEvents;\n</code></pre>\n"},{"tags":["javascript","java","asynchronous","jsf","user-experience"],"comments":[{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1664992086,"post_id":73964004,"comment_id":130597152,"body_markdown":"@JasperdeVries how can it help to use a websocket? When I get the notification I have the same problem","body":"@JasperdeVries how can it help to use a websocket? When I get the notification I have the same problem"},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1665063585,"post_id":73964004,"comment_id":130615354,"body_markdown":"I already can notify the user using javascript, that&#39;s not the problem.","body":"I already can notify the user using javascript, that&#39;s not the problem."}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665043993,"creation_date":1664989916,"question_id":73964004,"body_markdown":"I have to use an external api, which may be slow, so I&#39;m using javascript to send the request asynchronously. When the response it&#39;s back, I need to update the JSF component.\r\n\r\nActually I&#39;m using a remotecommand to do this, it calls a method on the bean which reloads the component (datatable). The thing is, if the user is doing some other action and I reload the component I could affect the user experience (eg. the user already went to the next page of the datatable and when the reloads happens the datatable goes back to the first page)\r\n\r\nSo my question is, which would be the correct way of updating a component asynchronously when the user is performing other actions on the same page?\r\n\r\nAlso, could I have concurrency problems if instead of reloading the entire datatable, I modify an object of the list and then update the UI? ","title":"Update a JSF component from async javascript request","body":"<p>I have to use an external api, which may be slow, so I'm using javascript to send the request asynchronously. When the response it's back, I need to update the JSF component.</p>\n<p>Actually I'm using a remotecommand to do this, it calls a method on the bean which reloads the component (datatable). The thing is, if the user is doing some other action and I reload the component I could affect the user experience (eg. the user already went to the next page of the datatable and when the reloads happens the datatable goes back to the first page)</p>\n<p>So my question is, which would be the correct way of updating a component asynchronously when the user is performing other actions on the same page?</p>\n<p>Also, could I have concurrency problems if instead of reloading the entire datatable, I modify an object of the list and then update the UI?</p>\n"},{"tags":["java","combobox","listbox","zk"],"answers":[{"tags":[],"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665043775,"creation_date":1665043775,"answer_id":73970521,"question_id":73942680,"body_markdown":"From your syntax, it looks like you are using `GenericForwardComposer` as the super class for your BaseController.\r\nIs that correct?\r\n\r\nDepending on how much you have already done, I&#39;d recommend checking if you could switch to `SelectorComposer` instead.\r\nThey work the same way (wire components, and listen to events), but the `SelectorComposer` is much more explicit in how things are wired. `GenericForwardComposer` can be somewhat error-prone unless you are very clear about its lifecycle.\r\n\r\nRegarding why the onSelect would not be firing in this case:\r\n\r\nZK Composers works in phases. One important phase is the &quot;compose&quot; phase, during which the components are created, events listeners are put in places, etc.\r\n\r\nAt the end of that phase, the &quot;afterCompose&quot; phase takes place. During afterCompose, &quot;magic&quot; stuff (like the wiring of the private components in your current composer, or the auto-forwarding of the onSelect$myCombobox0 in the same class) takes place. It will also attempt to rewire stuff that was missing again just before triggering onCreate on its root anchor component.\r\n\r\nNow, if your comboboxes are created dynamically after that step (for example, during an &quot;onCreate$myWindow&quot; event which happens after all of the above is finished), the composer will have already done all of the wiring and forwarding, and will not know to re-check the components for additional wiring.\r\n\r\nWith all of that explained, what can you do about it?\r\n\r\nFirst, you can consider moving the onCreate code to a doAfterCompose method.\r\nInstead of waiting for onCreate to generate the Listbox content, if you do it during doAfterCompose (override from genericFowardComposer), you should be early enough that auto-wiring will trigger on these components.\r\n\r\nThat should look like this:\r\n\r\n    @Override\r\n    public void doAfterCompose(Component comp) {\r\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\r\n        myListbox.setModel(modelo);\r\n        myListbox.setItemRenderer(new NewFileRender());\r\n    }\r\n\r\n2nd, if you move from genericForwardComposer to SelectorComposer, you can actually tell the composer to rewire itself &quot;on demand&quot; by using the Selectors.wireComponents method. Of course, that&#39;s only valid if your application can be refactored for this change.\r\n\r\n","title":"ZK Framework - How to access the onSelect method of a Combobox that is inside a Listbox generated with a render?","body":"<p>From your syntax, it looks like you are using <code>GenericForwardComposer</code> as the super class for your BaseController.\nIs that correct?</p>\n<p>Depending on how much you have already done, I'd recommend checking if you could switch to <code>SelectorComposer</code> instead.\nThey work the same way (wire components, and listen to events), but the <code>SelectorComposer</code> is much more explicit in how things are wired. <code>GenericForwardComposer</code> can be somewhat error-prone unless you are very clear about its lifecycle.</p>\n<p>Regarding why the onSelect would not be firing in this case:</p>\n<p>ZK Composers works in phases. One important phase is the &quot;compose&quot; phase, during which the components are created, events listeners are put in places, etc.</p>\n<p>At the end of that phase, the &quot;afterCompose&quot; phase takes place. During afterCompose, &quot;magic&quot; stuff (like the wiring of the private components in your current composer, or the auto-forwarding of the onSelect$myCombobox0 in the same class) takes place. It will also attempt to rewire stuff that was missing again just before triggering onCreate on its root anchor component.</p>\n<p>Now, if your comboboxes are created dynamically after that step (for example, during an &quot;onCreate$myWindow&quot; event which happens after all of the above is finished), the composer will have already done all of the wiring and forwarding, and will not know to re-check the components for additional wiring.</p>\n<p>With all of that explained, what can you do about it?</p>\n<p>First, you can consider moving the onCreate code to a doAfterCompose method.\nInstead of waiting for onCreate to generate the Listbox content, if you do it during doAfterCompose (override from genericFowardComposer), you should be early enough that auto-wiring will trigger on these components.</p>\n<p>That should look like this:</p>\n<pre><code>@Override\npublic void doAfterCompose(Component comp) {\n    ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\n    myListbox.setModel(modelo);\n    myListbox.setItemRenderer(new NewFileRender());\n}\n</code></pre>\n<p>2nd, if you move from genericForwardComposer to SelectorComposer, you can actually tell the composer to rewire itself &quot;on demand&quot; by using the Selectors.wireComponents method. Of course, that's only valid if your application can be refactored for this change.</p>\n"}],"owner":{"account_id":26520197,"reputation":1,"user_id":20154219,"display_name":"Matias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665043775,"creation_date":1664851618,"question_id":73942680,"body_markdown":"Good evening, I tell you my problem:\r\n\r\nIn the ZK Framework I need to use the onSelect method of a dynamically rendered Combobox within a Listbox that is also rendered.\r\n\r\nWhen I select one of the Combobox options, its content should be saved in the observaciones variable of the DocumentoVinculado class. But the onSelect don&#39;t work! I appreciate any help. Attached code:\r\n\r\n**.zul**\r\n```\r\n&lt;zk&gt;\r\n&lt;window id=&quot;myWindow&quot; apply=&quot;com.curso.controller.NewFileComposer&quot; title=&quot;Help&quot;&gt;\r\n        &lt;listbox id=&quot;myListbox&quot;&gt;\r\n            &lt;listhead&gt;\r\n                &lt;listheader label=&quot;NroGEBI&quot;&gt;&lt;/listheader&gt;\r\n                &lt;listheader label=&quot;Observaciones&quot;&gt;&lt;/listheader&gt;\r\n            &lt;/listhead&gt;\r\n        &lt;/listbox&gt;\r\n        &lt;label id=&quot;myLabel&quot;&gt;&lt;/label&gt;\r\n&lt;/window&gt;\r\n&lt;/zk&gt;\r\n```\r\n**Composer / Controller**\r\n```\r\npublic class NewFileComposer extends BaseController {\r\n\r\n    private Window myWindow;\r\n    private Listbox myListbox;\r\n    private Combobox myCombobox0;\r\n    private Combobox myCombobox1;\r\n    private Label myLabel;\r\n\r\n    public void onSelect$myCombobox0() { myLabel.setValue(myCombobox0.getValue()); }\r\n\r\n    public void onSelect$myCombobox1() { myLabel.setValue(myCombobox1.getValue()); }\r\n    \r\n    public void onCreate$myWindow() {\r\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\r\n        myListbox.setModel(modelo);\r\n        myListbox.setItemRenderer(new NewFileRender());\r\n    }\r\n    \r\n    private List&lt;DocumentoVinculado&gt; crearLista() {\r\n        List&lt;DocumentoVinculado&gt; docVinculados = new ArrayList&lt;&gt;();\r\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI1&quot;, &quot; &quot;));\r\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI2&quot;, &quot; &quot;));\r\n        return docVinculados;\r\n    }\r\n}\r\n```\r\n**Render**\r\n```\r\npublic class NewFileRender implements ListitemRenderer {\r\n\r\n    @Override\r\n    public void render(Listitem item, Object data, int i) throws Exception {\r\n        DocumentoVinculado docVinculado = (DocumentoVinculado) data;\r\n\r\n        Listcell nroGebiCell = new Listcell(docVinculado.getNroGEBI());\r\n        nroGebiCell.setParent(item);\r\n\r\n        Listcell opcionesCell = new Listcell();\r\n        opcionesCell.appendChild(comboboxObservaciones(i));\r\n        item.appendChild(opcionesCell);\r\n    }\r\n    \r\n    private Combobox comboboxObservaciones(int i) {\r\n        Combobox combobox = new Combobox();\r\n        List&lt;String&gt; listaDeOpciones = listaDeOpciones();\r\n        for(String opcion : listaDeOpciones) {\r\n            Comboitem myComboitem = new Comboitem();\r\n            myComboitem.setLabel(opcion);\r\n            myComboitem.setParent(combobox);\r\n        }       \r\n        combobox.setId(&quot;myCombobox&quot; + i);\r\n        return combobox;\r\n    }\r\n    \r\n    private List&lt;String&gt; listaDeOpciones() {\r\n        List&lt;String&gt; opciones = new ArrayList&lt;&gt;();\r\n        opciones.add(&quot; &quot;);\r\n        opciones.add(&quot;Opcion1&quot;);\r\n        opciones.add(&quot;Opcion2&quot;);\r\n        return opciones;\r\n    }\r\n}\r\n```\r\nThank you for reading. Cheers!","title":"ZK Framework - How to access the onSelect method of a Combobox that is inside a Listbox generated with a render?","body":"<p>Good evening, I tell you my problem:</p>\n<p>In the ZK Framework I need to use the onSelect method of a dynamically rendered Combobox within a Listbox that is also rendered.</p>\n<p>When I select one of the Combobox options, its content should be saved in the observaciones variable of the DocumentoVinculado class. But the onSelect don't work! I appreciate any help. Attached code:</p>\n<p><strong>.zul</strong></p>\n<pre><code>&lt;zk&gt;\n&lt;window id=&quot;myWindow&quot; apply=&quot;com.curso.controller.NewFileComposer&quot; title=&quot;Help&quot;&gt;\n        &lt;listbox id=&quot;myListbox&quot;&gt;\n            &lt;listhead&gt;\n                &lt;listheader label=&quot;NroGEBI&quot;&gt;&lt;/listheader&gt;\n                &lt;listheader label=&quot;Observaciones&quot;&gt;&lt;/listheader&gt;\n            &lt;/listhead&gt;\n        &lt;/listbox&gt;\n        &lt;label id=&quot;myLabel&quot;&gt;&lt;/label&gt;\n&lt;/window&gt;\n&lt;/zk&gt;\n</code></pre>\n<p><strong>Composer / Controller</strong></p>\n<pre><code>public class NewFileComposer extends BaseController {\n\n    private Window myWindow;\n    private Listbox myListbox;\n    private Combobox myCombobox0;\n    private Combobox myCombobox1;\n    private Label myLabel;\n\n    public void onSelect$myCombobox0() { myLabel.setValue(myCombobox0.getValue()); }\n\n    public void onSelect$myCombobox1() { myLabel.setValue(myCombobox1.getValue()); }\n    \n    public void onCreate$myWindow() {\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\n        myListbox.setModel(modelo);\n        myListbox.setItemRenderer(new NewFileRender());\n    }\n    \n    private List&lt;DocumentoVinculado&gt; crearLista() {\n        List&lt;DocumentoVinculado&gt; docVinculados = new ArrayList&lt;&gt;();\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI1&quot;, &quot; &quot;));\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI2&quot;, &quot; &quot;));\n        return docVinculados;\n    }\n}\n</code></pre>\n<p><strong>Render</strong></p>\n<pre><code>public class NewFileRender implements ListitemRenderer {\n\n    @Override\n    public void render(Listitem item, Object data, int i) throws Exception {\n        DocumentoVinculado docVinculado = (DocumentoVinculado) data;\n\n        Listcell nroGebiCell = new Listcell(docVinculado.getNroGEBI());\n        nroGebiCell.setParent(item);\n\n        Listcell opcionesCell = new Listcell();\n        opcionesCell.appendChild(comboboxObservaciones(i));\n        item.appendChild(opcionesCell);\n    }\n    \n    private Combobox comboboxObservaciones(int i) {\n        Combobox combobox = new Combobox();\n        List&lt;String&gt; listaDeOpciones = listaDeOpciones();\n        for(String opcion : listaDeOpciones) {\n            Comboitem myComboitem = new Comboitem();\n            myComboitem.setLabel(opcion);\n            myComboitem.setParent(combobox);\n        }       \n        combobox.setId(&quot;myCombobox&quot; + i);\n        return combobox;\n    }\n    \n    private List&lt;String&gt; listaDeOpciones() {\n        List&lt;String&gt; opciones = new ArrayList&lt;&gt;();\n        opciones.add(&quot; &quot;);\n        opciones.add(&quot;Opcion1&quot;);\n        opciones.add(&quot;Opcion2&quot;);\n        return opciones;\n    }\n}\n</code></pre>\n<p>Thank you for reading. Cheers!</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1665033742,"post_id":73968682,"comment_id":130605314,"body_markdown":"Try debugging using `String` values.","body":"Try debugging using <code>String</code> values."},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1665035418,"post_id":73968682,"comment_id":130605620,"body_markdown":"I&#39;m not sure how running a String array though would help. When I do this is just fails at ``while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) { length--; }``","body":"I&#39;m not sure how running a String array though would help. When I do this is just fails at <code>while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) { length--; }</code>"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1665039183,"post_id":73968682,"comment_id":130606531,"body_markdown":"`String` values can be easy to tell from index values. (So choose &quot;A&quot;, &quot;G&quot;, &quot;O&quot;…, *not* &quot;3&quot;, &quot;1&quot;, &quot;4&quot;…) (Why cast to int?)","body":"<code>String</code> values can be easy to tell from index values. (So choose &quot;A&quot;, &quot;G&quot;, &quot;O&quot;…, <i>not</i> &quot;3&quot;, &quot;1&quot;, &quot;4&quot;…) (Why cast to int?)"}],"answers":[{"comments":[{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1665104028,"post_id":73969645,"comment_id":130626991,"body_markdown":"Thanks @oleg.cherednik this code worked great. I just have one other question for you how would I chose a different pivot point? Right now it is sorting the list based off of the first item an the array list but what if I wanted to sort the list based off of a random number? I tried changing the item variable and it does not sort the ArrayList properly.","body":"Thanks @oleg.cherednik this code worked great. I just have one other question for you how would I chose a different pivot point? Right now it is sorting the list based off of the first item an the array list but what if I wanted to sort the list based off of a random number? I tried changing the item variable and it does not sort the ArrayList properly."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1665142370,"post_id":73969645,"comment_id":130635989,"body_markdown":"This is a bit tricky. You can choose any point you want, even make it random. As result you should have two separated array in perfect case with the same size (to keep going sorting with `O(log n)`)","body":"This is a bit tricky. You can choose any point you want, even make it random. As result you should have two separated array in perfect case with the same size (to keep going sorting with <code>O(log n)</code>)"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665043725,"creation_date":1665039055,"answer_id":73969645,"question_id":73968682,"body_markdown":"```java\r\n// 3-way quicksort\r\npublic final class QuickSort {\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items) {\r\n        Collections.shuffle(items);  // sorted array is the worst case\r\n        quickSort(items, 0, items.size() - 1);\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items, int lo, int hi) {\r\n        if (lo &lt; hi) {\r\n            Pair pair = partition(items, lo, hi);\r\n            quickSort(items, lo, pair.lt - 1);\r\n            quickSort(items, pair.gt + 1, hi);\r\n        }\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Pair partition(List&lt;T&gt; items, int lo, int hi) {\r\n        int lt = lo;\r\n        int i = lo + 1;\r\n        int gt = hi;\r\n        T item = items.get(lo);\r\n\r\n        while (i &lt;= gt) {\r\n            int cmp = items.get(i).compareTo(item);\r\n\r\n            if (cmp &lt; 0)\r\n                swap(items, lt++, i++);\r\n            else if (cmp &gt; 0)\r\n                swap(items, i, gt--);\r\n            else\r\n                i++;\r\n        }\r\n\r\n        return new Pair(lt, gt);\r\n    }\r\n\r\n    private static &lt;T&gt; void swap(List&lt;T&gt; items, int i, int j) {\r\n        T tmp = items.get(i);\r\n        items.set(i, items.get(j));\r\n        items.set(j, tmp);\r\n    }\r\n\r\n    private static final class Pair {\r\n\r\n        private int lt;\r\n        private int gt;\r\n\r\n        public Pair(int lt, int gt) {\r\n            this.lt = lt;\r\n            this.gt = gt;\r\n        }\r\n    }\r\n\r\n    private QuickSort() {\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Demo**\r\n```java\r\nList&lt;Integer&gt; items = Arrays.asList(9, 2, 10, 3, 6, 7, 4, 8, 5, 1);\r\nSystem.out.println(items);  // [9, 2, 10, 3, 6, 7, 4, 8, 5, 1\r\nQuickSort.quickSort(items);\r\nSystem.out.println(items);  // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n```\r\n---\r\n[Algorithms, 4th Edition by Robert Sedgewick and Kevin Wayne. - 2.3   Quicksort][1] is your friend!\r\n\r\n\r\n  [1]: https://algs4.cs.princeton.edu/23quicksort/","title":"Java ArrayList quickSort algorithm not working properly","body":"<pre class=\"lang-java prettyprint-override\"><code>// 3-way quicksort\npublic final class QuickSort {\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items) {\n        Collections.shuffle(items);  // sorted array is the worst case\n        quickSort(items, 0, items.size() - 1);\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items, int lo, int hi) {\n        if (lo &lt; hi) {\n            Pair pair = partition(items, lo, hi);\n            quickSort(items, lo, pair.lt - 1);\n            quickSort(items, pair.gt + 1, hi);\n        }\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Pair partition(List&lt;T&gt; items, int lo, int hi) {\n        int lt = lo;\n        int i = lo + 1;\n        int gt = hi;\n        T item = items.get(lo);\n\n        while (i &lt;= gt) {\n            int cmp = items.get(i).compareTo(item);\n\n            if (cmp &lt; 0)\n                swap(items, lt++, i++);\n            else if (cmp &gt; 0)\n                swap(items, i, gt--);\n            else\n                i++;\n        }\n\n        return new Pair(lt, gt);\n    }\n\n    private static &lt;T&gt; void swap(List&lt;T&gt; items, int i, int j) {\n        T tmp = items.get(i);\n        items.set(i, items.get(j));\n        items.set(j, tmp);\n    }\n\n    private static final class Pair {\n\n        private int lt;\n        private int gt;\n\n        public Pair(int lt, int gt) {\n            this.lt = lt;\n            this.gt = gt;\n        }\n    }\n\n    private QuickSort() {\n    }\n\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; items = Arrays.asList(9, 2, 10, 3, 6, 7, 4, 8, 5, 1);\nSystem.out.println(items);  // [9, 2, 10, 3, 6, 7, 4, 8, 5, 1\nQuickSort.quickSort(items);\nSystem.out.println(items);  // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<hr />\n<p><a href=\"https://algs4.cs.princeton.edu/23quicksort/\" rel=\"nofollow noreferrer\">Algorithms, 4th Edition by Robert Sedgewick and Kevin Wayne. - 2.3   Quicksort</a> is your friend!</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73969645,"answer_count":1,"score":0,"last_activity_date":1665043725,"creation_date":1665030584,"question_id":73968682,"body_markdown":"I am trying to sort an ArrayList of integers in numerical order using a quicksort algorithm. The below code is what I have been able to come up with and it is getting close to sorting the list but unfortunately, it does not completely sort my ArrayList as it should. It will come pretty close but it is almost as if it just needs to run the while loop a few more times to completely sort the list. I have been trying for quite a long time now to figure out why my code won&#39;t work properly so any help would be appreciated.\r\n\r\nRight now these are the results I am getting:\r\n\r\nPre-sort: [9, 2, 10, 3, 6, 7, 4, 8, 5, 1]\r\n\r\nPost-sort: [1, 2, 5, 3, 4, 6, 7, 8, 9, 10]\r\n\r\n     /**\r\n    \t * \r\n    \t * This method performs a quicksort on the generic ArrayList given as input. You\r\n    \t * must implement three different strategies for determining the pivot, and your\r\n    \t * implementation should be able to easily switch among these strategies.\r\n    \t * (Consider using a few private helper methods for your different\r\n    \t * pivot-selection strategies.) You will perform timing experiments to determine\r\n    \t * which strategy works best. Your implementation may switch to insertion sort\r\n    \t * on some small threshold, if you wish.\r\n    \t * \r\n    \t * @param &lt;T&gt;\r\n    \t */\r\n    \tstatic &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(ArrayList&lt;T&gt; quickList, int begin, int end) {\r\n    \t\tif (begin &lt; end) {\r\n    \t\t\tint partitionIndex = partition(quickList, begin, end);\r\n    \r\n    \t\t\tquickSort(quickList, begin, partitionIndex - 1);\r\n    \t\t\tquickSort(quickList, partitionIndex + 1, end);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tprivate static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(ArrayList&lt;T&gt; quickList, int begin, int end) {\r\n    \t\tint init = begin;\r\n    \t\tint length = end;\r\n    \r\n    \t\tint pivot = quicksort.getRandom(quickList);\r\n    \t\t\r\n    \t\twhile (true) {\r\n    \t\t\twhile ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) {\r\n    \t\t\t\tlength--;\r\n    \t\t\t}\r\n    \r\n    \t\t\twhile ((int) quickList.get(init) &lt; (int) pivot &amp;&amp; init &lt; end) {\r\n    \t\t\t\tinit++;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (init &lt; length) {\r\n    \t\t\t\tT temp;\r\n    \t\t\t\ttemp = quickList.get(init);\r\n    \t\t\t\tquickList.set(init, quickList.get(length));\r\n    \t\t\t\tquickList.set(length, temp);\r\n    \t\t\t\tlength--;\r\n    \t\t\t\tinit++;\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\treturn length;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic interface quicksort {\r\n    \t\t/**\r\n    \t\t * This method will grab the median of the entire ArrayList\r\n    \t\t * \r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getMedian(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tdouble lower = 0;\r\n    \t\t\tdouble upper = 0;\r\n    \r\n    \t\t\tif (passedArrayList.size() % 2 == 1)\r\n    \t\t\t\tSystem.out.println(passedArrayList.get((passedArrayList.size() + 1) / 2 - 1));\r\n    \t\t\telse {\r\n    \t\t\t\t// Will make sure that our passed array is able to be divided\r\n    \t\t\t\tlower = (double) (passedArrayList.size() / 2 - 1);\r\n    \t\t\t\tupper = (double) (passedArrayList.size() / 2);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn (int) Math.round((lower + upper) / 2.0);\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * This method will randomly grab a index out of the provided ArrayList\r\n    \t\t * \r\n    \t\t * @param &lt;T&gt;\r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getRandom(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tint arrayListSize = passedArrayList.size();\r\n    \r\n    \t\t\tRandom rand = new Random(); // instance of random class\r\n    \t\t\tint upperbound = arrayListSize;\r\n    \t\t\tint randomIndex = rand.nextInt(upperbound);\r\n    \r\n    \t\t\treturn randomIndex;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * This method will grab three random indexes and then determine the median\r\n    \t\t * based off of those\r\n    \t\t * \r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getThreeRandomThenMedian(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tint[] intArray;\r\n    \t\t\tintArray = new int[3];\r\n    \r\n    \t\t\t// sets are array with 3 random numbers from our passedArrayList\r\n    \t\t\tintArray[0] = getRandom(passedArrayList);\r\n    \t\t\tintArray[1] = getRandom(passedArrayList);\r\n    \t\t\tintArray[2] = getRandom(passedArrayList);\r\n    \r\n    \t\t\t// finds the median of our 3 random numbers\r\n    \t\t\tArrays.sort(intArray);\r\n    \t\t\tdouble median;\r\n    \t\t\tif (intArray.length % 2 == 0)\r\n    \t\t\t\tmedian = ((double) intArray[intArray.length / 2] + (double) intArray[intArray.length / 2 - 1]) / 2;\r\n    \t\t\telse\r\n    \t\t\t\tmedian = (double) intArray[intArray.length / 2];\r\n    \r\n    \t\t\t// converts our median from a double to a int so we can grab the median from our\r\n    \t\t\t// array\r\n    \t\t\tint returnMedian = (int) Math.round(median);\r\n    \r\n    \t\t\treturn returnMedian;\r\n    \t\t}\r\n    \t}","title":"Java ArrayList quickSort algorithm not working properly","body":"<p>I am trying to sort an ArrayList of integers in numerical order using a quicksort algorithm. The below code is what I have been able to come up with and it is getting close to sorting the list but unfortunately, it does not completely sort my ArrayList as it should. It will come pretty close but it is almost as if it just needs to run the while loop a few more times to completely sort the list. I have been trying for quite a long time now to figure out why my code won't work properly so any help would be appreciated.</p>\n<p>Right now these are the results I am getting:</p>\n<p>Pre-sort: [9, 2, 10, 3, 6, 7, 4, 8, 5, 1]</p>\n<p>Post-sort: [1, 2, 5, 3, 4, 6, 7, 8, 9, 10]</p>\n<pre><code> /**\n     * \n     * This method performs a quicksort on the generic ArrayList given as input. You\n     * must implement three different strategies for determining the pivot, and your\n     * implementation should be able to easily switch among these strategies.\n     * (Consider using a few private helper methods for your different\n     * pivot-selection strategies.) You will perform timing experiments to determine\n     * which strategy works best. Your implementation may switch to insertion sort\n     * on some small threshold, if you wish.\n     * \n     * @param &lt;T&gt;\n     */\n    static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(ArrayList&lt;T&gt; quickList, int begin, int end) {\n        if (begin &lt; end) {\n            int partitionIndex = partition(quickList, begin, end);\n\n            quickSort(quickList, begin, partitionIndex - 1);\n            quickSort(quickList, partitionIndex + 1, end);\n        }\n    }\n\n    \n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(ArrayList&lt;T&gt; quickList, int begin, int end) {\n        int init = begin;\n        int length = end;\n\n        int pivot = quicksort.getRandom(quickList);\n        \n        while (true) {\n            while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) {\n                length--;\n            }\n\n            while ((int) quickList.get(init) &lt; (int) pivot &amp;&amp; init &lt; end) {\n                init++;\n            }\n\n            if (init &lt; length) {\n                T temp;\n                temp = quickList.get(init);\n                quickList.set(init, quickList.get(length));\n                quickList.set(length, temp);\n                length--;\n                init++;\n\n            } else {\n                return length;\n            }\n        }\n    }\n\n    \n    public interface quicksort {\n        /**\n         * This method will grab the median of the entire ArrayList\n         * \n         * @return median\n         */\n        static &lt;T&gt; int getMedian(ArrayList&lt;T&gt; passedArrayList) {\n            double lower = 0;\n            double upper = 0;\n\n            if (passedArrayList.size() % 2 == 1)\n                System.out.println(passedArrayList.get((passedArrayList.size() + 1) / 2 - 1));\n            else {\n                // Will make sure that our passed array is able to be divided\n                lower = (double) (passedArrayList.size() / 2 - 1);\n                upper = (double) (passedArrayList.size() / 2);\n            }\n\n            return (int) Math.round((lower + upper) / 2.0);\n        }\n\n        /**\n         * This method will randomly grab a index out of the provided ArrayList\n         * \n         * @param &lt;T&gt;\n         * @return median\n         */\n        static &lt;T&gt; int getRandom(ArrayList&lt;T&gt; passedArrayList) {\n            int arrayListSize = passedArrayList.size();\n\n            Random rand = new Random(); // instance of random class\n            int upperbound = arrayListSize;\n            int randomIndex = rand.nextInt(upperbound);\n\n            return randomIndex;\n        }\n\n        /**\n         * This method will grab three random indexes and then determine the median\n         * based off of those\n         * \n         * @return median\n         */\n        static &lt;T&gt; int getThreeRandomThenMedian(ArrayList&lt;T&gt; passedArrayList) {\n            int[] intArray;\n            intArray = new int[3];\n\n            // sets are array with 3 random numbers from our passedArrayList\n            intArray[0] = getRandom(passedArrayList);\n            intArray[1] = getRandom(passedArrayList);\n            intArray[2] = getRandom(passedArrayList);\n\n            // finds the median of our 3 random numbers\n            Arrays.sort(intArray);\n            double median;\n            if (intArray.length % 2 == 0)\n                median = ((double) intArray[intArray.length / 2] + (double) intArray[intArray.length / 2 - 1]) / 2;\n            else\n                median = (double) intArray[intArray.length / 2];\n\n            // converts our median from a double to a int so we can grab the median from our\n            // array\n            int returnMedian = (int) Math.round(median);\n\n            return returnMedian;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1665035884,"post_id":73967740,"comment_id":130605715,"body_markdown":"See https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html for a list of available primitive types.","body":"See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/&hellip;</a> for a list of available primitive types."},{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1665036047,"post_id":73967740,"comment_id":130605744,"body_markdown":"@Michael, I have everything sorted out now, just posted an answer, it was my bad and at end of day, JNI is not that hard to implement, have learnt heaps from this, cheers","body":"@Michael, I have everything sorted out now, just posted an answer, it was my bad and at end of day, JNI is not that hard to implement, have learnt heaps from this, cheers"}],"answers":[{"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1665038217,"post_id":73969223,"comment_id":130606260,"body_markdown":"Note that Java&#39;s `short` type is signed.","body":"Note that Java&#39;s <code>short</code> type is signed."},{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1665038892,"post_id":73969223,"comment_id":130606455,"body_markdown":"@Michael, thanks for that, will have to see if it causes me issues as I test and debug my app, only in the very early stages of a long haul journey to the end goal.","body":"@Michael, thanks for that, will have to see if it causes me issues as I test and debug my app, only in the very early stages of a long haul journey to the end goal."}],"tags":[],"owner":{"display_name":"user16458899"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665037615,"creation_date":1665035946,"answer_id":73969223,"question_id":73967740,"body_markdown":"Solved my problem, was simple error of not changing one important detail before executing call i was looking for a return type of short but had String in native declaration. \r\n\r\n\r\nI had  \r\n        `private native String getCheckSum(String a);` \r\n \r\nit should have been \r\n\r\n        `private native short getCheckSum(String a);`\r\n\r\nMy call was / is\r\n\r\n short result = getCheckSum(A);\r\n\r\nWorked fine after correcting my mistake.\r\n\r\nfor those interested my c++ code\r\n\r\n        #include &lt;jni.h&gt;       // JNI header provided by JDK\r\n    #include &quot;ekmCheckSum.h&quot;\r\n    #include &lt;iostream&gt;    // C++ standard IO header\r\n    using namespace std;\r\n    \r\n    //---------------------------------------------------------------------------\r\n     void ekmCheckSum() {\r\n    \r\n    }\r\n    \r\n    static const unsigned short ekmCrcLut[256] = {\r\n        0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241,\r\n        0xc601, 0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440,\r\n        0xcc01, 0x0cc0, 0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40,\r\n        0x0a00, 0xcac1, 0xcb81, 0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841,\r\n        0xd801, 0x18c0, 0x1980, 0xd941, 0x1b00, 0xdbc1, 0xda81, 0x1a40,\r\n        0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01, 0x1dc0, 0x1c80, 0xdc41,\r\n        0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0, 0x1680, 0xd641,\r\n        0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081, 0x1040,\r\n        0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\r\n        0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441,\r\n        0x3c00, 0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41,\r\n        0xfa01, 0x3ac0, 0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840,\r\n        0x2800, 0xe8c1, 0xe981, 0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41,\r\n        0xee01, 0x2ec0, 0x2f80, 0xef41, 0x2d00, 0xedc1, 0xec81, 0x2c40,\r\n        0xe401, 0x24c0, 0x2580, 0xe541, 0x2700, 0xe7c1, 0xe681, 0x2640,\r\n        0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0, 0x2080, 0xe041,\r\n        0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281, 0x6240,\r\n        0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\r\n        0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41,\r\n        0xaa01, 0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840,\r\n        0x7800, 0xb8c1, 0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41,\r\n        0xbe01, 0x7ec0, 0x7f80, 0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40,\r\n        0xb401, 0x74c0, 0x7580, 0xb541, 0x7700, 0xb7c1, 0xb681, 0x7640,\r\n        0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101, 0x71c0, 0x7080, 0xb041,\r\n        0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0, 0x5280, 0x9241,\r\n        0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481, 0x5440,\r\n        0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\r\n        0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841,\r\n        0x8801, 0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40,\r\n        0x4e00, 0x8ec1, 0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41,\r\n        0x4400, 0x84c1, 0x8581, 0x4540, 0x8701, 0x47c0, 0x4680, 0x8641,\r\n        0x8201, 0x42c0, 0x4380, 0x8341, 0x4100, 0x81c1, 0x8081, 0x4040\r\n    };\r\n    //---------------------------------------------------------------------------\r\n    unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\r\n    {\r\n        unsigned short crc = 0xffff;\r\n    \r\n        while (len--)\r\n        {\r\n            crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\r\n        }\r\n    \r\n        crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\r\n        crc &amp;= 0x7f7f;\r\n    \r\n        return crc;\r\n    }\r\n    //---------------------------------------------------------------------------\r\n    // Implementation of the native method getCheckSum()\r\n    extern &quot;C&quot;\r\n    JNIEXPORT unsigned short JNICALL\r\n    Java_com_[project name]_ekmV4Fields_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\r\n        const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\r\n        if(NULL == aCStr)\r\n            return NULL;\r\n        unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\r\n    \r\n        return crc;\r\n    \r\n    }\r\n\r\nmy .h file contains\r\n\r\n        #ifndef PROJECT_NAME_EKMCHECKSUM_H\r\n    #define PROJECT_NAME_EKMCHECKSUM_H\r\n    \r\n    class ekmCheckSum\r\n    \t{\r\n    \tprivate:\r\n    \tpublic:\r\n    \t\tekmCheckSum();\r\n    \t \tunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len);\r\n      };\r\n    \r\n    #endif //PROJECT_NAME_EKMCHECKSUM_H\r\n    \r\nmy java file includes\r\n\r\n        \r\n     static {System.loadLibrary(&quot;ekmCheckSum&quot;);}\r\n        \r\n        private native short getCheckSum(String a);\r\n        \r\n        public void SetEkmFieldValueStrings(String A, String B)\r\n          {\r\n          /* if length of A is less than 250 chars, read is no good, discard\r\n          *  NOTE:  both Strings A and B will need to be validated for checksum\r\n          * TODO check A &amp; B if checksum is correct\r\n          * */\r\n          boolean _aOk = false, _bOk=false;\r\n        \r\n         short result = getCheckSum(A); \r\n         ...\r\n         ...\r\n\r\n\r\n       ","title":"SIGABRT error when returning from C++ code from java module in android","body":"<p>Solved my problem, was simple error of not changing one important detail before executing call i was looking for a return type of short but had String in native declaration.</p>\n<p>I had<br />\n<code>private native String getCheckSum(String a);</code></p>\n<p>it should have been</p>\n<pre><code>    `private native short getCheckSum(String a);`\n</code></pre>\n<p>My call was / is</p>\n<p>short result = getCheckSum(A);</p>\n<p>Worked fine after correcting my mistake.</p>\n<p>for those interested my c++ code</p>\n<pre><code>    #include &lt;jni.h&gt;       // JNI header provided by JDK\n#include &quot;ekmCheckSum.h&quot;\n#include &lt;iostream&gt;    // C++ standard IO header\nusing namespace std;\n\n//---------------------------------------------------------------------------\n void ekmCheckSum() {\n\n}\n\nstatic const unsigned short ekmCrcLut[256] = {\n    0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241,\n    0xc601, 0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440,\n    0xcc01, 0x0cc0, 0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40,\n    0x0a00, 0xcac1, 0xcb81, 0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841,\n    0xd801, 0x18c0, 0x1980, 0xd941, 0x1b00, 0xdbc1, 0xda81, 0x1a40,\n    0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01, 0x1dc0, 0x1c80, 0xdc41,\n    0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0, 0x1680, 0xd641,\n    0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081, 0x1040,\n    0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\n    0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441,\n    0x3c00, 0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41,\n    0xfa01, 0x3ac0, 0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840,\n    0x2800, 0xe8c1, 0xe981, 0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41,\n    0xee01, 0x2ec0, 0x2f80, 0xef41, 0x2d00, 0xedc1, 0xec81, 0x2c40,\n    0xe401, 0x24c0, 0x2580, 0xe541, 0x2700, 0xe7c1, 0xe681, 0x2640,\n    0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0, 0x2080, 0xe041,\n    0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281, 0x6240,\n    0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\n    0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41,\n    0xaa01, 0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840,\n    0x7800, 0xb8c1, 0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41,\n    0xbe01, 0x7ec0, 0x7f80, 0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40,\n    0xb401, 0x74c0, 0x7580, 0xb541, 0x7700, 0xb7c1, 0xb681, 0x7640,\n    0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101, 0x71c0, 0x7080, 0xb041,\n    0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0, 0x5280, 0x9241,\n    0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481, 0x5440,\n    0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\n    0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841,\n    0x8801, 0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40,\n    0x4e00, 0x8ec1, 0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41,\n    0x4400, 0x84c1, 0x8581, 0x4540, 0x8701, 0x47c0, 0x4680, 0x8641,\n    0x8201, 0x42c0, 0x4380, 0x8341, 0x4100, 0x81c1, 0x8081, 0x4040\n};\n//---------------------------------------------------------------------------\nunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\n{\n    unsigned short crc = 0xffff;\n\n    while (len--)\n    {\n        crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\n    }\n\n    crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\n    crc &amp;= 0x7f7f;\n\n    return crc;\n}\n//---------------------------------------------------------------------------\n// Implementation of the native method getCheckSum()\nextern &quot;C&quot;\nJNIEXPORT unsigned short JNICALL\nJava_com_[project name]_ekmV4Fields_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\n    const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\n    if(NULL == aCStr)\n        return NULL;\n    unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\n\n    return crc;\n\n}\n</code></pre>\n<p>my .h file contains</p>\n<pre><code>    #ifndef PROJECT_NAME_EKMCHECKSUM_H\n#define PROJECT_NAME_EKMCHECKSUM_H\n\nclass ekmCheckSum\n    {\n    private:\n    public:\n        ekmCheckSum();\n        unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len);\n  };\n\n#endif //PROJECT_NAME_EKMCHECKSUM_H\n</code></pre>\n<p>my java file includes</p>\n<pre><code> static {System.loadLibrary(&quot;ekmCheckSum&quot;);}\n    \n    private native short getCheckSum(String a);\n    \n    public void SetEkmFieldValueStrings(String A, String B)\n      {\n      /* if length of A is less than 250 chars, read is no good, discard\n      *  NOTE:  both Strings A and B will need to be validated for checksum\n      * TODO check A &amp; B if checksum is correct\n      * */\n      boolean _aOk = false, _bOk=false;\n    \n     short result = getCheckSum(A); \n     ...\n     ...\n\n\n   \n</code></pre>\n"}],"owner":{"display_name":"user16458899"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665043184,"creation_date":1665018590,"question_id":73967740,"body_markdown":"Still new to android and java but learning more each day :)\r\n\r\n[This question refers to ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73941988/yet-another-how-to-call-c-method-from-java-have-added-to-project-and-compiles?noredirect=1#comment130585346_73941988\r\nOk, the error refers to \r\n\r\n&gt; expression failed to parse:\r\nerror: &lt;user expression 27&gt;:1:1: &#39;bl&#39; has unknown type; cast it to its declared type to use it\r\nbl\r\n^~\r\nand\r\n \r\n&gt; expression failed to parse:\r\nerror: &lt;user expression 28&gt;:1:1: &#39;uxtb&#39; has unknown type; cast it to its declared type to use it\r\nuxtb.w\r\n^~~~\r\n\r\nI call (will want a short ) `result = getCheckSum(A, B);` from my java code.\r\n\r\nThe method in my C++ code is \r\n\r\n        //---------------------------------------------------------------------------\r\n    unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\r\n    {\r\n        unsigned short crc = 0xffff;\r\n    \r\n        while (len--)\r\n        {\r\n            crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\r\n        }\r\n    \r\n        crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\r\n        crc &amp;= 0x7f7f;\r\n    \r\n        return crc;\r\n    }\r\n    //---------------------------------------------------------------------------\r\n    // Implementation of the native method getCheckSum()\r\n    extern &quot;C&quot;\r\n    JNIEXPORT unsigned short JNICALL\r\n    Java_com_(...)_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\r\n        const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\r\n        if(NULL == aCStr)\r\n            return NULL;\r\n        unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\r\n    \r\n        return crc;\r\n    \r\n    }\r\n\r\n    \r\nThis code is experimental showing the actual code I want to run ekmCheckCRC16( ... ), its purpose is to learn how to return a value back to the java module.\r\n\r\nThe error message seems to be clear &#39;unknown&#39; type cast, so question is, how should I be returning the value of aCStr?\r\n\r\nThanks in advance.\r\n  \r\n","title":"SIGABRT error when returning from C++ code from java module in android","body":"<p>Still new to android and java but learning more each day :)</p>\n<p><a href=\"https://stackoverflow.com/questions/73941988/yet-another-how-to-call-c-method-from-java-have-added-to-project-and-compiles?noredirect=1#comment130585346_73941988\">This question refers to </a></p>\n<p>Ok, the error refers to</p>\n<blockquote>\n<p>expression failed to parse:\nerror: &lt;user expression 27&gt;:1:1: 'bl' has unknown type; cast it to its declared type to use it\nbl\n^~\nand</p>\n</blockquote>\n<blockquote>\n<p>expression failed to parse:\nerror: &lt;user expression 28&gt;:1:1: 'uxtb' has unknown type; cast it to its declared type to use it\nuxtb.w\n^~~~</p>\n</blockquote>\n<p>I call (will want a short ) <code>result = getCheckSum(A, B);</code> from my java code.</p>\n<p>The method in my C++ code is</p>\n<pre><code>    //---------------------------------------------------------------------------\nunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\n{\n    unsigned short crc = 0xffff;\n\n    while (len--)\n    {\n        crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\n    }\n\n    crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\n    crc &amp;= 0x7f7f;\n\n    return crc;\n}\n//---------------------------------------------------------------------------\n// Implementation of the native method getCheckSum()\nextern &quot;C&quot;\nJNIEXPORT unsigned short JNICALL\nJava_com_(...)_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\n    const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\n    if(NULL == aCStr)\n        return NULL;\n    unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\n\n    return crc;\n\n}\n</code></pre>\n<p>This code is experimental showing the actual code I want to run ekmCheckCRC16( ... ), its purpose is to learn how to return a value back to the java module.</p>\n<p>The error message seems to be clear 'unknown' type cast, so question is, how should I be returning the value of aCStr?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","api","moodle"],"comments":[{"owner":{"account_id":4900106,"reputation":1024,"user_id":3948711,"display_name":"Alex Baranowski"},"score":0,"creation_date":1483807563,"post_id":41522924,"comment_id":70253497,"body_markdown":"Generally speaking if something has API you can interact with it. There are plenty repos on github that you can use in order to understand how to do it. [Searching on github](https://github.com/search?l=Java&amp;q=moodle&amp;type=Repositories&amp;utf8=%E2%9C%93)","body":"Generally speaking if something has API you can interact with it. There are plenty repos on github that you can use in order to understand how to do it. <a href=\"https://github.com/search?l=Java&amp;q=moodle&amp;type=Repositories&amp;utf8=%E2%9C%93\" rel=\"nofollow noreferrer\">Searching on github</a>"},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1483972213,"post_id":41522924,"comment_id":70305472,"body_markdown":"@AlexBaranowski I still dont understand. Would I be able to just develop an app that generates a bunch of URL requests then parses the JSON to fit a GUI?","body":"@AlexBaranowski I still dont understand. Would I be able to just develop an app that generates a bunch of URL requests then parses the JSON to fit a GUI?"},{"owner":{"account_id":4900106,"reputation":1024,"user_id":3948711,"display_name":"Alex Baranowski"},"score":0,"creation_date":1483988372,"post_id":41522924,"comment_id":70315199,"body_markdown":"You can look on already working app - [Github](https://github.com/praveendath92/MDroid) - the author is using rest and gson [Gson on github](https://github.com/google/gson). Gson is library that can convert java objects to json and json to java object. The example usage can be find in MDroid repo [example gson (json) + rest](https://github.com/praveendath92/MDroid/blob/master/app/src/main/java/in/co/praveenkumar/mdroid/moodlerest/MoodleRestCourse.java).\n\nSO it&#39;s cleary possible to interact with Moodle via REST/JSON api :).","body":"You can look on already working app - <a href=\"https://github.com/praveendath92/MDroid\" rel=\"nofollow noreferrer\">Github</a> - the author is using rest and gson <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson on github</a>. Gson is library that can convert java objects to json and json to java object. The example usage can be find in MDroid repo <a href=\"https://github.com/praveendath92/MDroid/blob/master/app/src/main/java/in/co/praveenkumar/mdroid/moodlerest/MoodleRestCourse.java\" rel=\"nofollow noreferrer\">example gson (json) + rest</a>.  SO it&#39;s cleary possible to interact with Moodle via REST/JSON api :)."}],"answers":[{"comments":[{"owner":{"account_id":364122,"reputation":555,"user_id":708323,"accept_rate":100,"display_name":"Martin Greenaway"},"score":1,"creation_date":1484050995,"post_id":41567522,"comment_id":70341435,"body_markdown":"To clarify this further - as @Bearzi is quite correct - the Moodle API is geared towards developers building plugins to work within Moodle, not external applications.  This means you&#39;d have an additional step, which is to build a Moodle plugin which responds to your web service calls, uses the Moodle API to get the data you want, and then formats it to return to your mobile app in the format you&#39;re expecting.","body":"To clarify this further - as @Bearzi is quite correct - the Moodle API is geared towards developers building plugins to work within Moodle, not external applications.  This means you&#39;d have an additional step, which is to build a Moodle plugin which responds to your web service calls, uses the Moodle API to get the data you want, and then formats it to return to your mobile app in the format you&#39;re expecting."}],"tags":[],"owner":{"account_id":468922,"reputation":538,"user_id":875177,"accept_rate":60,"display_name":"Bearzi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484047027,"creation_date":1484047027,"answer_id":41567522,"question_id":41522924,"body_markdown":"Please note that &quot;API&quot; in moodle does not automatically refer to webservices like you are used to communicate with.\r\n\r\nSee https://docs.moodle.org/32/en/Mobile_web_services and https://docs.moodle.org/32/en/Using_web_services and https://docs.moodle.org/dev/Web_service_API_functions\r\n\r\nThese docs might be interesting for you.\r\n\r\nBeside the existing webservice methods, you can also create your own moodle plugin, which provides the methods required, some info can be found here https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin\r\n","title":"Is it possible to have my app communicate with moodle?","body":"<p>Please note that \"API\" in moodle does not automatically refer to webservices like you are used to communicate with.</p>\n\n<p>See <a href=\"https://docs.moodle.org/32/en/Mobile_web_services\" rel=\"nofollow noreferrer\">https://docs.moodle.org/32/en/Mobile_web_services</a> and <a href=\"https://docs.moodle.org/32/en/Using_web_services\" rel=\"nofollow noreferrer\">https://docs.moodle.org/32/en/Using_web_services</a> and <a href=\"https://docs.moodle.org/dev/Web_service_API_functions\" rel=\"nofollow noreferrer\">https://docs.moodle.org/dev/Web_service_API_functions</a></p>\n\n<p>These docs might be interesting for you.</p>\n\n<p>Beside the existing webservice methods, you can also create your own moodle plugin, which provides the methods required, some info can be found here <a href=\"https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin\" rel=\"nofollow noreferrer\">https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin</a></p>\n"}],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665043120,"creation_date":1483802054,"question_id":41522924,"body_markdown":"I am thinking about building a student app, that would use Moodle data, and notify the user when a new file has been uploaded, and perhaps  do something like checking your grades etc.\r\n\r\nI&#39;m quite new to android programming and can get easily confused with the technical terms. I&#39;ve looked around the web and found that there is an API, but I dont really 100% know what that means. Which is weird since I&#39;ve communicated with API&#39;s like the OpenWeatherMap one and uTorrent. Would Moodle&#39;s api do the same? Make it easier for me to get their data? Their descriptions are really technical and I can not understand much.","title":"Is it possible to have my app communicate with moodle?","body":"<p>I am thinking about building a student app, that would use Moodle data, and notify the user when a new file has been uploaded, and perhaps  do something like checking your grades etc.</p>\n\n<p>I'm quite new to android programming and can get easily confused with the technical terms. I've looked around the web and found that there is an API, but I dont really 100% know what that means. Which is weird since I've communicated with API's like the OpenWeatherMap one and uTorrent. Would Moodle's api do the same? Make it easier for me to get their data? Their descriptions are really technical and I can not understand much.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":1,"creation_date":1665043917,"post_id":73970347,"comment_id":130607989,"body_markdown":"Yeah, thats it. I followed some tutorial and the guy didnt create any HTML just used postman for testing, so I had some troubles while returning HTML page, that was the reason why my `ResponseEntity` and `Set-Cookie` looked like that. I assumed as I wrote that something is not good because I didint return cookie in response entity, but nvm I&#39;m learning. Your answer is good and so far its work. I just added `URI.create` before URL by suggestion from IDE and all is fine. Thanks again!","body":"Yeah, thats it. I followed some tutorial and the guy didnt create any HTML just used postman for testing, so I had some troubles while returning HTML page, that was the reason why my <code>ResponseEntity</code> and <code>Set-Cookie</code> looked like that. I assumed as I wrote that something is not good because I didint return cookie in response entity, but nvm I&#39;m learning. Your answer is good and so far its work. I just added <code>URI.create</code> before URL by suggestion from IDE and all is fine. Thanks again!"},{"owner":{"account_id":21459,"reputation":31234,"user_id":52162,"accept_rate":83,"display_name":"jensgram"},"score":0,"creation_date":1665044248,"post_id":73970347,"comment_id":130608101,"body_markdown":"Oh, fair point :) I didn&#39;t notice the `URI` type on `.location`.","body":"Oh, fair point :) I didn&#39;t notice the <code>URI</code> type on <code>.location</code>."}],"tags":[],"owner":{"account_id":21459,"reputation":31234,"user_id":52162,"accept_rate":83,"display_name":"jensgram"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665043000,"creation_date":1665043000,"answer_id":73970347,"question_id":73970136,"body_markdown":"I may be mistaken here, but the following looks odd:\r\n\r\n```\r\n  HttpHeaders headers = new HttpHeaders();\r\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString()); // What now?\r\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\r\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\r\n```\r\n\r\nThe `Set-Cookie` header is never part of the _actually returned_ `ResponseEntity`. Try adding the `Set-Cookie` and `Location` header to the same response entity:\r\n\r\n```\r\nreturn ResponseEntity\r\n  .status(HttpStatus.FOUND)\r\n  .location(&quot;/api/users/tripAdvisorHomePage&quot;)\r\n  .header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\r\n  .build();\r\n```\r\n\r\n(untested)","title":"I have blocked the URL for a user who is not logged in, but after the user logs in he still cannot access the URL","body":"<p>I may be mistaken here, but the following looks odd:</p>\n<pre><code>  HttpHeaders headers = new HttpHeaders();\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString()); // What now?\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\n</code></pre>\n<p>The <code>Set-Cookie</code> header is never part of the <em>actually returned</em> <code>ResponseEntity</code>. Try adding the <code>Set-Cookie</code> and <code>Location</code> header to the same response entity:</p>\n<pre><code>return ResponseEntity\n  .status(HttpStatus.FOUND)\n  .location(&quot;/api/users/tripAdvisorHomePage&quot;)\n  .header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\n  .build();\n</code></pre>\n<p>(untested)</p>\n"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73970347,"answer_count":1,"score":0,"last_activity_date":1665043000,"creation_date":1665041940,"question_id":73970136,"body_markdown":"Title says it all. \r\n\r\n- `WebSecurityConfig`\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/users/**&quot;).authenticated()\r\n                .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll().and()\r\n                .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;).and()\r\n                .logout().logoutUrl(&quot;/api/auth/logout&quot;).logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .permitAll();\r\n        http.headers().frameOptions().sameOrigin();\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n      }\r\n\r\nAs you can see I have `.antMatchers(&quot;/api/users/**&quot;).authenticated()` and that works, I cant access that URL, getting `Unauthorized error: Full authentication is required to access this resource` with code `401`. \r\n\r\nBut when I go back and enter a credentials and get redirected to `successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;)` its still `Full authentication is required`.\r\n\r\n- This is my `login` method:\r\n\r\n      @PostMapping(&quot;/login&quot;)\r\n      @Transactional\r\n      public ResponseEntity&lt;?&gt; login(@Valid @ModelAttribute(&quot;login&quot;) \r\n      LoginRequest loginRequest, Model model) {\r\n        Authentication authentication = authenticationManager.\r\n                authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n\r\n        ResponseCookie jwtCookie = jwtHelper.generateJwtCookie(user);\r\n        System.out.println(jwtCookie);\r\n\r\n\r\n        model.addAttribute(&quot;login&quot;, loginRequest);\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString());\r\n        headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\r\n        return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\r\n\r\n- This is my method to show page if user is logged in.\r\n\r\n      @GetMapping(&quot;/tripAdvisorHomePage&quot;)\r\n      public String index() {\r\n        return &quot;tripAdvisorHomePage&quot;;\r\n      }\r\n\r\nAnd on top of class I have `@RequestMapping(&quot;/api/users&quot;)` so the URL for that `index` API is like in `WebSecurityConfig` - `&quot;/api/users/tripAdvisorHomePage&quot;`\r\n\r\nI tried to find something useful around but there are all specific ways for each and other and so far I had no success.","title":"I have blocked the URL for a user who is not logged in, but after the user logs in he still cannot access the URL","body":"<p>Title says it all.</p>\n<ul>\n<li><p><code>WebSecurityConfig</code></p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http.cors().and().csrf().disable()\n          .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n          .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n          .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n          .antMatchers(&quot;/api/users/**&quot;).authenticated()\n          .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll().and()\n          .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\n          .successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;).and()\n          .logout().logoutUrl(&quot;/api/auth/logout&quot;).logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\n          .permitAll();\n  http.headers().frameOptions().sameOrigin();\n  http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n</li>\n</ul>\n<p>As you can see I have <code>.antMatchers(&quot;/api/users/**&quot;).authenticated()</code> and that works, I cant access that URL, getting <code>Unauthorized error: Full authentication is required to access this resource</code> with code <code>401</code>.</p>\n<p>But when I go back and enter a credentials and get redirected to <code>successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;)</code> its still <code>Full authentication is required</code>.</p>\n<ul>\n<li><p>This is my <code>login</code> method:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n@Transactional\npublic ResponseEntity&lt;?&gt; login(@Valid @ModelAttribute(&quot;login&quot;) \nLoginRequest loginRequest, Model model) {\n  Authentication authentication = authenticationManager.\n          authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n  SecurityContextHolder.getContext().setAuthentication(authentication);\n  UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n\n  ResponseCookie jwtCookie = jwtHelper.generateJwtCookie(user);\n  System.out.println(jwtCookie);\n\n\n  model.addAttribute(&quot;login&quot;, loginRequest);\n\n  HttpHeaders headers = new HttpHeaders();\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString());\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\n</code></pre>\n</li>\n<li><p>This is my method to show page if user is logged in.</p>\n<pre><code>@GetMapping(&quot;/tripAdvisorHomePage&quot;)\npublic String index() {\n  return &quot;tripAdvisorHomePage&quot;;\n}\n</code></pre>\n</li>\n</ul>\n<p>And on top of class I have <code>@RequestMapping(&quot;/api/users&quot;)</code> so the URL for that <code>index</code> API is like in <code>WebSecurityConfig</code> - <code>&quot;/api/users/tripAdvisorHomePage&quot;</code></p>\n<p>I tried to find something useful around but there are all specific ways for each and other and so far I had no success.</p>\n"},{"tags":["java","azure","azure-functions","azure-functions-runtime","azure-functions-core-tools"],"comments":[{"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"score":0,"creation_date":1663240422,"post_id":73713321,"comment_id":130194973,"body_markdown":"looking at the error message we understood that its an authorization error. Could you please let us know do you have the contributor access to the function app?\nIf you have recently got the contributor access, try to re-login and do the deployment again.","body":"looking at the error message we understood that its an authorization error. Could you please let us know do you have the contributor access to the function app? If you have recently got the contributor access, try to re-login and do the deployment again."},{"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"score":0,"creation_date":1664255664,"post_id":73713321,"comment_id":130423239,"body_markdown":"Did you check this @Preethi H R?","body":"Did you check this @Preethi H R?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1665043149,"post_id":73713321,"comment_id":130607746,"body_markdown":"@Preethi H R, please mask the subscription Id, object Id and official email id from the above image in the question.","body":"@Preethi H R, please mask the subscription Id, object Id and official email id from the above image in the question."}],"answers":[{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665041626,"creation_date":1665041626,"answer_id":73970095,"question_id":73713321,"body_markdown":"I have created the user in my Azure Subscription and provided the **reader** role access and then deployed the function app from local to Azure using the maven cmdlet `mvn azure-functions:deploy`:\r\n\r\n![enter image description here](https://i.stack.imgur.com/fUQZM.png)\r\n\r\n\r\nSo, instead of reader role on the subscription, provided **contributor** role this time and checked the deployment which is successful:\r\n\r\n![enter image description here](https://i.stack.imgur.com/WtYq5.png)\r\n\r\n**In Azure Portal**:\r\n\r\n![enter image description here](https://i.stack.imgur.com/yJVKU.png)\r\n\r\n\r\nNot only the Contributor access, two more roles available \r\n\r\n![enter image description here](https://i.stack.imgur.com/UOsgK.png)\r\n\r\n\r\nin accessing the Function App with specific privileges mentioned in one of the [MSFT Q&amp;A Answer](https://learn.microsoft.com/en-us/answers/questions/669276/azure-function-rbac.html) by @*MughundhanRaveendran*.\r\n\r\n","title":"Java Azure Functions deployment error: Failed to execute goal com.microsoft.azure:azure-functions-maven-plugin:1.19.0:deploy","body":"<p>I have created the user in my Azure Subscription and provided the <strong>reader</strong> role access and then deployed the function app from local to Azure using the maven cmdlet <code>mvn azure-functions:deploy</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/fUQZM.png\" alt=\"enter image description here\" /></p>\n<p>So, instead of reader role on the subscription, provided <strong>contributor</strong> role this time and checked the deployment which is successful:</p>\n<p><img src=\"https://i.stack.imgur.com/WtYq5.png\" alt=\"enter image description here\" /></p>\n<p><strong>In Azure Portal</strong>:</p>\n<p><img src=\"https://i.stack.imgur.com/yJVKU.png\" alt=\"enter image description here\" /></p>\n<p>Not only the Contributor access, two more roles available</p>\n<p><img src=\"https://i.stack.imgur.com/UOsgK.png\" alt=\"enter image description here\" /></p>\n<p>in accessing the Function App with specific privileges mentioned in one of the <a href=\"https://learn.microsoft.com/en-us/answers/questions/669276/azure-function-rbac.html\" rel=\"nofollow noreferrer\">MSFT Q&amp;A Answer</a> by @<em>MughundhanRaveendran</em>.</p>\n"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665041626,"creation_date":1663141943,"question_id":73713321,"body_markdown":"I have created a azure function in java created Using Command line by following below given Microsoft guide https://docs.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\r\n\r\nI have followed all the steps and locally I have deployed the functions and it is working fine but while trying to deploy into Azure using the following commands:\r\n\r\n[![error][1]][1]\r\n\r\n\r\nI am getting the following error on Command line:\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7fPyC.png\r\n  [2]: https://i.stack.imgur.com/pzJFT.png\r\n\r\nAnyone please help me in resolving the above error to deploy the function into azure.\r\n\r\nThanks &amp; Regards, \r\nPreethi H R","title":"Java Azure Functions deployment error: Failed to execute goal com.microsoft.azure:azure-functions-maven-plugin:1.19.0:deploy","body":"<p>I have created a azure function in java created Using Command line by following below given Microsoft guide <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java</a></p>\n<p>I have followed all the steps and locally I have deployed the functions and it is working fine but while trying to deploy into Azure using the following commands:</p>\n<p><a href=\"https://i.stack.imgur.com/7fPyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7fPyC.png\" alt=\"error\" /></a></p>\n<p>I am getting the following error on Command line:\n<a href=\"https://i.stack.imgur.com/pzJFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzJFT.png\" alt=\"error\" /></a></p>\n<p>Anyone please help me in resolving the above error to deploy the function into azure.</p>\n<p>Thanks &amp; Regards,\nPreethi H R</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665042469,"post_id":73969971,"comment_id":130607528,"body_markdown":"Because toolbar is shared.","body":"Because toolbar is shared."},{"owner":{"account_id":25270658,"reputation":11,"user_id":19100028,"display_name":"HaPhoba"},"score":0,"creation_date":1665042730,"post_id":73969971,"comment_id":130607608,"body_markdown":"How can I fix it?","body":"How can I fix it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665044237,"post_id":73969971,"comment_id":130608098,"body_markdown":"Set it again to whatever you require","body":"Set it again to whatever you require"}],"owner":{"account_id":25270658,"reputation":11,"user_id":19100028,"display_name":"HaPhoba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665041618,"creation_date":1665040906,"question_id":73969971,"body_markdown":"I changed colors of toolbar&#39;s background and its icon in one Activity.\r\nbut when I start other Activities, changed Colors is maintained....\r\n\r\n            setSupportActionBar(binding.toolbar);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    \r\n            binding.toolbar.getBackground().setAlpha(0);\r\n            binding.toolbar.getNavigationIcon().setTint(getResources().getColor(R.color.black,null));\r\n            binding.toolbar.getOverflowIcon().setTint(getResources().getColor(R.color.black,null));\r\n            binding.toolbar.setTitleTextColor(Color.argb(0,255,255,255));\r\n\r\n\r\nWhat is the problem??","title":"Why toolbar&#39;s background color is maintained?","body":"<p>I changed colors of toolbar's background and its icon in one Activity.\nbut when I start other Activities, changed Colors is maintained....</p>\n<pre><code>        setSupportActionBar(binding.toolbar);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        binding.toolbar.getBackground().setAlpha(0);\n        binding.toolbar.getNavigationIcon().setTint(getResources().getColor(R.color.black,null));\n        binding.toolbar.getOverflowIcon().setTint(getResources().getColor(R.color.black,null));\n        binding.toolbar.setTitleTextColor(Color.argb(0,255,255,255));\n</code></pre>\n<p>What is the problem??</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1665046721,"post_id":73969006,"comment_id":130608903,"body_markdown":"When you split, you get a string array. Why do you need an array list? Are you sure about the type of the result?","body":"When you split, you get a string array. Why do you need an array list? Are you sure about the type of the result?"}],"answers":[{"comments":[{"owner":{"account_id":24552187,"reputation":41,"user_id":18461232,"display_name":"hanchao"},"score":0,"creation_date":1665034734,"post_id":73969028,"comment_id":130605504,"body_markdown":"thank you very much! and do you know how to split it out this: [2022, {yyyy}, {mm}, {dd}]","body":"thank you very much! and do you know how to split it out this: [2022, {yyyy}, {mm}, {dd}]"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1665034855,"post_id":73969028,"comment_id":130605525,"body_markdown":"Yes, split on `(?=\\{)`","body":"Yes, split on <code>(?=\\{)</code>"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665034362,"creation_date":1665034362,"answer_id":73969028,"question_id":73969006,"body_markdown":"One approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String line = &quot;2022{yyyy}{mm}{dd}&quot;;\r\n    String[] parts = line.split(&quot;[{}]+&quot;);\r\n    System.out.println(Arrays.toString(parts));  // [2022, yyyy, mm, dd]\r\n\r\nAnother possibility might be to do a regex find all on `\\w+` using a formal pattern matcher.","title":"Split string with two brackets","body":"<p>One approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line = &quot;2022{yyyy}{mm}{dd}&quot;;\nString[] parts = line.split(&quot;[{}]+&quot;);\nSystem.out.println(Arrays.toString(parts));  // [2022, yyyy, mm, dd]\n</code></pre>\n<p>Another possibility might be to do a regex find all on <code>\\w+</code> using a formal pattern matcher.</p>\n"},{"tags":[],"owner":{"account_id":328297,"reputation":106396,"user_id":651174,"accept_rate":92,"display_name":"David542"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665041560,"creation_date":1665041560,"answer_id":73970082,"question_id":73969006,"body_markdown":"Here would be an example approach if you wanted to use four capturing groups:\r\n\r\n- [`(\\d{4}){(y{4})}{(m{2})}{(d{2})}`](https://regex101.com/r/O59FiG/1)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHaving said that, Tim&#39;s approach is much simpler and I&#39;d go for that.\r\n\r\n  [1]: https://i.stack.imgur.com/6pZWb.png","title":"Split string with two brackets","body":"<p>Here would be an example approach if you wanted to use four capturing groups:</p>\n<ul>\n<li><a href=\"https://regex101.com/r/O59FiG/1\" rel=\"nofollow noreferrer\"><code>(\\d{4}){(y{4})}{(m{2})}{(d{2})}</code></a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/6pZWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pZWb.png\" alt=\"enter image description here\" /></a></p>\n<p>Having said that, Tim's approach is much simpler and I'd go for that.</p>\n"}],"owner":{"account_id":24552187,"reputation":41,"user_id":18461232,"display_name":"hanchao"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"closed_date":1665089563,"accepted_answer_id":73969028,"answer_count":2,"score":-5,"last_activity_date":1665041560,"creation_date":1665034251,"question_id":73969006,"body_markdown":"I have a string that comes out like this:\r\n\r\n    String line = &quot;2022{yyyy}{mm}{dd}&quot;;\r\n\r\n\r\nI want to split it into an arraylist like this:\r\n\r\n    2022\r\n    yyyy\r\n    mm\r\n    dd\r\n\r\nhow can i do this?","title":"Split string with two brackets","body":"<p>I have a string that comes out like this:</p>\n<pre><code>String line = &quot;2022{yyyy}{mm}{dd}&quot;;\n</code></pre>\n<p>I want to split it into an arraylist like this:</p>\n<pre><code>2022\nyyyy\nmm\ndd\n</code></pre>\n<p>how can i do this?</p>\n"},{"tags":["java","spring","spring-boot","servlets","streamingresponsebody"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665041266,"post_id":73969980,"comment_id":130607156,"body_markdown":"Zip to filesystem. Close stream, determine size, then stream to client. If you really want you need an intermediate step.","body":"Zip to filesystem. Close stream, determine size, then stream to client. If you really want you need an intermediate step."},{"owner":{"account_id":15598270,"reputation":35,"user_id":11253079,"display_name":"Venkatasai Janaparapu"},"score":0,"creation_date":1665041886,"post_id":73969980,"comment_id":130607351,"body_markdown":"Hi @M.Deinum we are wrapping the zip similar to https://medium.com/swlh/streaming-data-with-spring-boot-restful-web-service-87522511c071 using lamda. Without filesystem is it possible to set content length.","body":"Hi @M.Deinum we are wrapping the zip similar to <a href=\"https://medium.com/swlh/streaming-data-with-spring-boot-restful-web-service-87522511c071\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a> using lamda. Without filesystem is it possible to set content length."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665042044,"post_id":73969980,"comment_id":130607395,"body_markdown":"You would need to store it in memory in a byte[] or `ByteArrayOutputStream` however that is really memory intensive and might lead to OOM.","body":"You would need to store it in memory in a byte[] or <code>ByteArrayOutputStream</code> however that is really memory intensive and might lead to OOM."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665042340,"post_id":73969980,"comment_id":130607496,"body_markdown":"If you are using the code from the link, you are actually using a file system (as a `File` is just that, a resource on the filesystem).","body":"If you are using the code from the link, you are actually using a file system (as a <code>File</code> is just that, a resource on the filesystem)."}],"owner":{"account_id":15598270,"reputation":35,"user_id":11253079,"display_name":"Venkatasai Janaparapu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665041240,"creation_date":1665040947,"question_id":73969980,"body_markdown":"I&#39;m trying to download a zip file in spring boot. Using `HttpServletResponse` output stream. We will be reading a file from local, zip it, inside `StreamingResponseBody` and add it in the return statement of `ResponseEntity.body(StreamingResponseBody)`. We require content length to show progress bar in UI. We can get `zipEntry.getCompressedSize()` for the content length. But as soon as the zip file is written spring boot sending response headers to UI and I&#39;ll be getting content length only after I close zipoutputstream. Because of this I&#39;m getting 0 as content length as a header in UI. \r\nCan you please help me to properly add content length to response headers.\r\n\r\n\r\nThanks in advance.","title":"Not able to set content length for ResponseEntity&lt;StreamingResponseBody&gt;","body":"<p>I'm trying to download a zip file in spring boot. Using <code>HttpServletResponse</code> output stream. We will be reading a file from local, zip it, inside <code>StreamingResponseBody</code> and add it in the return statement of <code>ResponseEntity.body(StreamingResponseBody)</code>. We require content length to show progress bar in UI. We can get <code>zipEntry.getCompressedSize()</code> for the content length. But as soon as the zip file is written spring boot sending response headers to UI and I'll be getting content length only after I close zipoutputstream. Because of this I'm getting 0 as content length as a header in UI.\nCan you please help me to properly add content length to response headers.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","arangodb"],"owner":{"account_id":26542810,"reputation":11,"user_id":20173295,"display_name":"Vaibhav Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665041184,"creation_date":1665041184,"question_id":73970024,"body_markdown":"Arango version 3.3.16\r\n\r\nWe are creating connection trough java service as below\r\n\r\n\treturn new ArangoDB.Builder().host(host, port).user(user).password(password).useProtocol(Protocol.VST)\r\n\t\t\t.useSsl(ssl).maxConnections(1).connectionTtl(1000 * 60 * 3L).build();\r\nbelow are the java driver versions used\r\n\r\n\t\tarangodb-spring-data\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\r\n\t\tarangodb-java-driver\r\n\t\t&lt;version&gt;4.7.0&lt;/version&gt;\r\nwe are getting below error frequently is some requests\r\n\r\n\r\nstandard code used to query database \r\n\tpublic Iterable&lt;? extends Object&gt; queryArango(String query, Map&lt;String, Object&gt; bindVars, Class className) {\r\n\r\n\t\tArangoDatabase db = null;\r\n\t\tArangoCursor&lt;Object&gt; cursor = null;\r\n\r\n\t\ttry {\r\n\t\t\tdb = multitenantDbFactory.connectDB().db(multitenantDbFactory.getDb());\r\n\t\t\tcursor = db.query(query, bindVars, null, className);\r\n\r\n\t\t\tList&lt;? extends Object&gt; result = cursor.asListRemaining();\r\n\r\n\t\t\tList&lt;Object&gt; response = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tfor (Object baseDocument : result) {\r\n\t\t\t\tif (log.isDebugEnabled()) {\r\n\t\t\t\t\tlog.info(&quot;result {}&quot;, baseDocument.getClass());\r\n\t\t\t\t}\r\n\t\t\t\tresponse.add(baseDocument);\r\n\t\t\t}\r\n\t\t\treturn response;\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tcursor.close();\r\n\t\t\t\tdb.arango().shutdown();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tlog.warn(&quot;Failed to close the query cursor, possible memory leak &quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nCould not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX]\r\n\r\ng.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:321)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:284)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1100)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at","title":"Could not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX] || Arango Broken PIPe","body":"<p>Arango version 3.3.16</p>\n<p>We are creating connection trough java service as below</p>\n<pre><code>return new ArangoDB.Builder().host(host, port).user(user).password(password).useProtocol(Protocol.VST)\n        .useSsl(ssl).maxConnections(1).connectionTtl(1000 * 60 * 3L).build();\n</code></pre>\n<p>below are the java driver versions used</p>\n<pre><code>    arangodb-spring-data\n    &lt;version&gt;3.2.0&lt;/version&gt;\n\n    arangodb-java-driver\n    &lt;version&gt;4.7.0&lt;/version&gt;\n</code></pre>\n<p>we are getting below error frequently is some requests</p>\n<p>standard code used to query database\npublic Iterable&lt;? extends Object&gt; queryArango(String query, Map&lt;String, Object&gt; bindVars, Class className) {</p>\n<pre><code>    ArangoDatabase db = null;\n    ArangoCursor&lt;Object&gt; cursor = null;\n\n    try {\n        db = multitenantDbFactory.connectDB().db(multitenantDbFactory.getDb());\n        cursor = db.query(query, bindVars, null, className);\n\n        List&lt;? extends Object&gt; result = cursor.asListRemaining();\n\n        List&lt;Object&gt; response = new ArrayList&lt;&gt;();\n\n        for (Object baseDocument : result) {\n            if (log.isDebugEnabled()) {\n                log.info(&quot;result {}&quot;, baseDocument.getClass());\n            }\n            response.add(baseDocument);\n        }\n        return response;\n    } finally {\n        try {\n            cursor.close();\n            db.arango().shutdown();\n        } catch (IOException e) {\n            log.warn(&quot;Failed to close the query cursor, possible memory leak &quot;, e);\n        }\n    }\n\n}\n</code></pre>\n<p>Could not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX]</p>\n<p>g.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:321)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:284)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1100)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at</p>\n"},{"tags":["java","spring","initialization","conditional-statements","autowired"],"answers":[{"comments":[{"owner":{"account_id":4633564,"reputation":132,"user_id":3755385,"accept_rate":40,"display_name":"biven"},"score":1,"creation_date":1424166819,"post_id":28558464,"comment_id":45429758,"body_markdown":"Thanks! Now I actually think that @Conditional is not a best way for me.","body":"Thanks! Now I actually think that @Conditional is not a best way for me."},{"owner":{"account_id":3953970,"reputation":943,"user_id":3263204,"display_name":"X. Wo Satuk"},"score":0,"creation_date":1485778652,"post_id":28558464,"comment_id":71051607,"body_markdown":"Setting the profile would depend on the result returned from method in `ArchaiusProperties` bean. How is it possible? Also, doesn&#39;t the cited Javadoc say that you actually can refer to beans inside the `ConfigurationCondition`?","body":"Setting the profile would depend on the result returned from method in <code>ArchaiusProperties</code> bean. How is it possible? Also, doesn&#39;t the cited Javadoc say that you actually can refer to beans inside the <code>ConfigurationCondition</code>?"}],"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1424164891,"creation_date":1424164891,"answer_id":28558464,"question_id":28556627,"body_markdown":"If we have a look at [java docs][1] for `Condition` interface - \r\n\r\n&gt; Conditions must follow the same restrictions as `BeanFactoryPostProcessor` and take care to never interact with bean instances.\r\n\r\nThe restrictions are (*from [java docs][2] of `BeanFactoryPostProcessor`*)\r\n\r\n&gt; A `BeanFactoryPostProcessor` may interact with and modify bean definitions, but **never** bean instances. Doing so may cause premature bean instantiation, violating the container and causing unintended side-effects.\r\n\r\nSo what you are trying to achieve is something *not recommended*; side effects of which already encountered.\r\n\r\nHowever if we dig further in docs for `Condition` we get \r\n\r\n&gt; For more fine-grained control of conditions that interact with @Configuration beans consider the `ConfigurationCondition` interface.\r\n\r\nHere as well the *restrictions* are in violation. Thus all in all using `Condition` in this scenario is not a good idea.\r\n\r\nSo IMO the best bet for you is to go with [@Profile][3] where you can activate the desired profile at a time and use the respective bean; without considering the frills attached.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html","title":"How to autowire properties bean from Condition","body":"<p>If we have a look at <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"nofollow\">java docs</a> for <code>Condition</code> interface - </p>\n\n<blockquote>\n  <p>Conditions must follow the same restrictions as <code>BeanFactoryPostProcessor</code> and take care to never interact with bean instances.</p>\n</blockquote>\n\n<p>The restrictions are (<em>from <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html\" rel=\"nofollow\">java docs</a> of <code>BeanFactoryPostProcessor</code></em>)</p>\n\n<blockquote>\n  <p>A <code>BeanFactoryPostProcessor</code> may interact with and modify bean definitions, but <strong>never</strong> bean instances. Doing so may cause premature bean instantiation, violating the container and causing unintended side-effects.</p>\n</blockquote>\n\n<p>So what you are trying to achieve is something <em>not recommended</em>; side effects of which already encountered.</p>\n\n<p>However if we dig further in docs for <code>Condition</code> we get </p>\n\n<blockquote>\n  <p>For more fine-grained control of conditions that interact with @Configuration beans consider the <code>ConfigurationCondition</code> interface.</p>\n</blockquote>\n\n<p>Here as well the <em>restrictions</em> are in violation. Thus all in all using <code>Condition</code> in this scenario is not a good idea.</p>\n\n<p>So IMO the best bet for you is to go with <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow\">@Profile</a> where you can activate the desired profile at a time and use the respective bean; without considering the frills attached.</p>\n"},{"tags":[],"owner":{"account_id":26542806,"reputation":1,"user_id":20173291,"display_name":"V&#245; Tiến An"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665041013,"creation_date":1665041013,"answer_id":73969993,"question_id":28556627,"body_markdown":"To get system properties in Condition, I use `conditionContext.getEnvironment().getProperty(&quot;app.x.y.z&quot;, String.class);`","title":"How to autowire properties bean from Condition","body":"<p>To get system properties in Condition, I use <code>conditionContext.getEnvironment().getProperty(&quot;app.x.y.z&quot;, String.class);</code></p>\n"}],"owner":{"account_id":4633564,"reputation":132,"user_id":3755385,"accept_rate":40,"display_name":"biven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4383,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28558464,"answer_count":2,"score":6,"last_activity_date":1665041013,"creation_date":1424157506,"question_id":28556627,"body_markdown":"Does have anyone way to autowire bean in Condition? \r\n\r\nThere is an next example. We have 2 implementation of FileManager. One of implementation should be initialize in depends on property &#39;platform&#39;. Properties handles via Archaius.\r\n\r\n    @Component\r\n    public class AwsPlatformCondition implements Condition {\r\n    \r\n        @Autowired\r\n        private ArchaiusProperties archaiusProperties;\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n            return &quot;aws&quot;.equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\r\n        }\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    public class StandardPlatformCondition implements Condition {\r\n    \r\n        @Autowired\r\n        private ArchaiusProperties archaiusProperties;\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n            return &quot;standard&quot;.equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\r\n        }\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    @Conditional(AwsPlatformCondition.class)\r\n    public class AS3FileManager implements FileManager {\r\n    ...\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    @Conditional(StandardPlatformCondition.class)\r\n    public class NativeFileManager implements FileManager {\r\n    ...\r\n    }\r\n\r\nThis code doesn&#39;t work. Main reason is because ArchaiusProperties bean doesn&#39;t initialized when condition matches. Does have anyone way to initialize ArchaiusProperties bean before using it in condition?","title":"How to autowire properties bean from Condition","body":"<p>Does have anyone way to autowire bean in Condition? </p>\n\n<p>There is an next example. We have 2 implementation of FileManager. One of implementation should be initialize in depends on property 'platform'. Properties handles via Archaius.</p>\n\n<pre><code>@Component\npublic class AwsPlatformCondition implements Condition {\n\n    @Autowired\n    private ArchaiusProperties archaiusProperties;\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        return \"aws\".equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\npublic class StandardPlatformCondition implements Condition {\n\n    @Autowired\n    private ArchaiusProperties archaiusProperties;\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        return \"standard\".equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\n@Conditional(AwsPlatformCondition.class)\npublic class AS3FileManager implements FileManager {\n...\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\n@Conditional(StandardPlatformCondition.class)\npublic class NativeFileManager implements FileManager {\n...\n}\n</code></pre>\n\n<p>This code doesn't work. Main reason is because ArchaiusProperties bean doesn't initialized when condition matches. Does have anyone way to initialize ArchaiusProperties bean before using it in condition?</p>\n"},{"tags":["java","io","nosuchelementexception"],"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":2,"creation_date":1664754731,"post_id":73930070,"comment_id":130538045,"body_markdown":"You&#39;re calling `scan.next()` ten times after checking once that `scan.hasNext()` so if any row does not have the required number of fields, you&#39;ll get an error.\n\nMaybe use a CSV parsing library.","body":"You&#39;re calling <code>scan.next()</code> ten times after checking once that <code>scan.hasNext()</code> so if any row does not have the required number of fields, you&#39;ll get an error.  Maybe use a CSV parsing library."}],"answers":[{"comments":[{"owner":{"account_id":22384913,"reputation":13,"user_id":16597877,"display_name":"happy days"},"score":0,"creation_date":1664756478,"post_id":73930112,"comment_id":130538221,"body_markdown":"Unfortunately, I still get the same error after removing the if statement. Not too sure where to go with this one!","body":"Unfortunately, I still get the same error after removing the if statement. Not too sure where to go with this one!"}],"tags":[],"owner":{"account_id":25166600,"reputation":1,"user_id":19010055,"display_name":"pranayroni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664755173,"creation_date":1664755173,"answer_id":73930112,"question_id":73930070,"body_markdown":"    if (scan.next().equals(&quot;N/A&quot;)\r\n\r\n\r\nmight be your problem here. from what it looks like, this is not doing what you intend on doing.\r\n\r\nWhen you call `scan.next()` it will read regardless of whether it is equal to &quot;N/A&quot; \r\n\r\nyou put an else statement after this and say `discount = Double.parseDouble(scan.next()` and I presume you are talking about the same `scan.next()` that you called in the initial if statement, but that line has already passed. You need to store this `scan.next()` in a variable and then check if it is &quot;N/A&quot;.","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<pre><code>if (scan.next().equals(&quot;N/A&quot;)\n</code></pre>\n<p>might be your problem here. from what it looks like, this is not doing what you intend on doing.</p>\n<p>When you call <code>scan.next()</code> it will read regardless of whether it is equal to &quot;N/A&quot;</p>\n<p>you put an else statement after this and say <code>discount = Double.parseDouble(scan.next()</code> and I presume you are talking about the same <code>scan.next()</code> that you called in the initial if statement, but that line has already passed. You need to store this <code>scan.next()</code> in a variable and then check if it is &quot;N/A&quot;.</p>\n"},{"tags":[],"owner":{"account_id":247030,"reputation":2030,"user_id":521495,"accept_rate":78,"display_name":"Kojotak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665040865,"creation_date":1665040865,"answer_id":73969964,"question_id":73930070,"body_markdown":" - your CSV has actually two delimiters: comma and new line. Try: `scan.useDelimiter(&quot;,|\\\\R&quot;);`\r\n - discount is read twice for numeric values, try: \r\n\r\n```\r\n    String discountStr = scan.next();\r\n    discount = discountStr.equals(&quot;N/A&quot;) ? 0 : Double.parseDouble(discountStr);\r\n```","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<ul>\n<li>your CSV has actually two delimiters: comma and new line. Try: <code>scan.useDelimiter(&quot;,|\\\\R&quot;);</code></li>\n<li>discount is read twice for numeric values, try:</li>\n</ul>\n<pre><code>    String discountStr = scan.next();\n    discount = discountStr.equals(&quot;N/A&quot;) ? 0 : Double.parseDouble(discountStr);\n</code></pre>\n"}],"owner":{"account_id":22384913,"reputation":13,"user_id":16597877,"display_name":"happy days"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969964,"answer_count":2,"score":0,"last_activity_date":1665040865,"creation_date":1664754424,"question_id":73930070,"body_markdown":"I&#39;m able to read everything from the text file and print the data yet I get a &quot;No Such Element&quot; Exception. All the solutions i&#39;ve found say to use &quot;HasNext&quot; in while loop and yet it doesn&#39;t seem to work for me\r\n\r\n\r\n  public void fileReader() throws IOException {\r\n\r\n\t\tString id;\r\n\t\tString brand;\r\n\t\tint yearOfManufacture;\r\n\t\tint numSeats;\r\n\t\tdouble rentalPerDay;\r\n\t\tdouble insurancePerDay;\r\n\t\tdouble serviceFee;\r\n\t\tdouble discount;\r\n\t\tString model;\r\n\t\tString type;\r\n\t\tString color;\r\n\t\tArrayList&lt;Vehicle&gt; vehicleArray = new ArrayList&lt;&gt;();\r\n\t\tFile file = new File(&quot;C:/Users/jockg/Downloads/Fleet (1).csv&quot;);\r\n\t\tScanner scan = new Scanner(file);\r\n\t\tscan.useDelimiter(&quot;n/n&quot;);\r\n\r\n\t\twhile (scan.hasNext() || scan.hasNextDouble() || scan.hasNextInt()) {\r\n\r\n\t\t\tid = scan.next();\r\n\t\t\t System.out.println(id);\r\n\t\t\tbrand = scan.next();\r\n\t\t\t System.out.println(brand);\r\n\t\t\tmodel = scan.next();\r\n\t\t\t System.out.println(model);\r\n\t\t\ttype = scan.next();\r\n\t\t\t System.out.println(type);\r\n\t\t\tyearOfManufacture = Integer.parseInt(scan.next());\r\n\t\t\t System.out.println(yearOfManufacture);\r\n\t\t\tnumSeats = Integer.parseInt(scan.next());\r\n\t\t\t System.out.println(numSeats);\r\n\t\t\tcolor = scan.next();\r\n\t\t\t System.out.println(color);\r\n\t\t\trentalPerDay = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(rentalPerDay);\r\n\t\t\tinsurancePerDay = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(insurancePerDay);\r\n\t\t\tserviceFee = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(serviceFee);\r\n\t\t\tif (scan.next().equals(&quot;N/A&quot;)) {\r\n\t\t\t\tdiscount = 0;\r\n\t\t\t} else {\r\n\t\t\t\tdiscount = Double.parseDouble(scan.next());\r\n\t\t\t}\r\n\r\n\t\t\t System.out.println(discount);\r\n\r\n\t\t\tCar newCar = new Car(id, brand, yearOfManufacture, numSeats, rentalPerDay, insurancePerDay, serviceFee,\r\n\t\t\t\t\tdiscount, model, type, color);\r\n\t\t\tvehicleArray.add(newCar);\r\n\t\t}\r\n\t}\r\n\r\nC001,Toyota,Yaris,Sedan,2012,4,Blue,50,15,10,10\r\nC002,Toyota,Corolla,Hatch,2020,4,White,45,20,10,10\r\nC003,Toyota,Kluger,SUV,2019,7,Grey,70,20,20,10\r\nC004,Audi,A3,Sedan,2015,5,Red,65,10,20,10\r\nC005,Holden,Cruze,Hatch,2020,4,Green,70,10,10,10\r\nC006,BMW,X5,SUV,2018,7,White,100,25,20,10\r\nC007,BMW,320i,Sedan,2021,5,Grey,75,10,15,N/A\r\nC008,Ford,Focus,Sedan,2014,5,Red,45,10,10,N/A\r\nC009,Ford,Puma,SUV,2015,5,Black,70,20,15,20\r\n\r\nThis is the Exception I get:\r\n\r\n","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<p>I'm able to read everything from the text file and print the data yet I get a &quot;No Such Element&quot; Exception. All the solutions i've found say to use &quot;HasNext&quot; in while loop and yet it doesn't seem to work for me</p>\n<p>public void fileReader() throws IOException {</p>\n<pre><code>    String id;\n    String brand;\n    int yearOfManufacture;\n    int numSeats;\n    double rentalPerDay;\n    double insurancePerDay;\n    double serviceFee;\n    double discount;\n    String model;\n    String type;\n    String color;\n    ArrayList&lt;Vehicle&gt; vehicleArray = new ArrayList&lt;&gt;();\n    File file = new File(&quot;C:/Users/jockg/Downloads/Fleet (1).csv&quot;);\n    Scanner scan = new Scanner(file);\n    scan.useDelimiter(&quot;n/n&quot;);\n\n    while (scan.hasNext() || scan.hasNextDouble() || scan.hasNextInt()) {\n\n        id = scan.next();\n         System.out.println(id);\n        brand = scan.next();\n         System.out.println(brand);\n        model = scan.next();\n         System.out.println(model);\n        type = scan.next();\n         System.out.println(type);\n        yearOfManufacture = Integer.parseInt(scan.next());\n         System.out.println(yearOfManufacture);\n        numSeats = Integer.parseInt(scan.next());\n         System.out.println(numSeats);\n        color = scan.next();\n         System.out.println(color);\n        rentalPerDay = Double.parseDouble(scan.next());\n         System.out.println(rentalPerDay);\n        insurancePerDay = Double.parseDouble(scan.next());\n         System.out.println(insurancePerDay);\n        serviceFee = Double.parseDouble(scan.next());\n         System.out.println(serviceFee);\n        if (scan.next().equals(&quot;N/A&quot;)) {\n            discount = 0;\n        } else {\n            discount = Double.parseDouble(scan.next());\n        }\n\n         System.out.println(discount);\n\n        Car newCar = new Car(id, brand, yearOfManufacture, numSeats, rentalPerDay, insurancePerDay, serviceFee,\n                discount, model, type, color);\n        vehicleArray.add(newCar);\n    }\n}\n</code></pre>\n<p>C001,Toyota,Yaris,Sedan,2012,4,Blue,50,15,10,10\nC002,Toyota,Corolla,Hatch,2020,4,White,45,20,10,10\nC003,Toyota,Kluger,SUV,2019,7,Grey,70,20,20,10\nC004,Audi,A3,Sedan,2015,5,Red,65,10,20,10\nC005,Holden,Cruze,Hatch,2020,4,Green,70,10,10,10\nC006,BMW,X5,SUV,2018,7,White,100,25,20,10\nC007,BMW,320i,Sedan,2021,5,Grey,75,10,15,N/A\nC008,Ford,Focus,Sedan,2014,5,Red,45,10,10,N/A\nC009,Ford,Puma,SUV,2015,5,Black,70,20,15,20</p>\n<p>This is the Exception I get:</p>\n"},{"tags":["java","tomcat","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":18696844,"reputation":122,"user_id":13629957,"display_name":"Sid"},"score":0,"creation_date":1617287638,"post_id":66898416,"comment_id":118267526,"body_markdown":"I did that but its not working as expected. My application launches and then stuck at the first page itself. I guess I need to check application settings in depth. Thanks for your help though.","body":"I did that but its not working as expected. My application launches and then stuck at the first page itself. I guess I need to check application settings in depth. Thanks for your help though."}],"tags":[],"owner":{"account_id":10743045,"reputation":116,"user_id":7905416,"display_name":"Sjnao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617251141,"creation_date":1617251141,"answer_id":66898416,"question_id":66896629,"body_markdown":"If I understand that correctly you set up your Tomcat Server in intellij IDEA you should have 5 tabs in the tomcat configuration: Server, Deployment, Logs, Code Coverage and Startup/Connection. In the deployment tab you can change the application context, I hope that is what you/they meant. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qiteR.png","title":"How to add or update context root of tomcat server in Intellij","body":"<p>If I understand that correctly you set up your Tomcat Server in intellij IDEA you should have 5 tabs in the tomcat configuration: Server, Deployment, Logs, Code Coverage and Startup/Connection. In the deployment tab you can change the application context, I hope that is what you/they meant.\n<a href=\"https://i.stack.imgur.com/qiteR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiteR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24323906,"reputation":128,"user_id":18263761,"display_name":"ilia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665040610,"creation_date":1665040610,"answer_id":73969922,"question_id":66896629,"body_markdown":"File -&gt;Project Structure -&gt; Artifacts -&gt;  and check if there are war files from previous ones.\r\n\r\nAlso, delete if you have previous deployments in the Tomcat server and add a new one.\r\n\r\n","title":"How to add or update context root of tomcat server in Intellij","body":"<p>File -&gt;Project Structure -&gt; Artifacts -&gt;  and check if there are war files from previous ones.</p>\n<p>Also, delete if you have previous deployments in the Tomcat server and add a new one.</p>\n"}],"owner":{"account_id":18696844,"reputation":122,"user_id":13629957,"display_name":"Sid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665040610,"creation_date":1617233909,"question_id":66896629,"body_markdown":"I am setting up my project in Intellij for which I was following companies documentation but the problem is its written for eclipse IDE. In the documentation they asked to &quot;Update the Context root under -&gt; WebProject Settings : order/genome-database&quot; \r\n\r\nI don&#39;t know how to do the same in Intellij. I added tomcat server and added artifacts to it. Its running fine without errors and lunching the application but its not working as expected. Now, I want to update &quot;context root&quot; of tomcat server and I don&#39;t know how to do it for Intellij. \r\n\r\nI was googling for a while but couldn&#39;t resolve the issue. Please let me know if you know how to do it.\r\n\r\nThanks","title":"How to add or update context root of tomcat server in Intellij","body":"<p>I am setting up my project in Intellij for which I was following companies documentation but the problem is its written for eclipse IDE. In the documentation they asked to &quot;Update the Context root under -&gt; WebProject Settings : order/genome-database&quot;</p>\n<p>I don't know how to do the same in Intellij. I added tomcat server and added artifacts to it. Its running fine without errors and lunching the application but its not working as expected. Now, I want to update &quot;context root&quot; of tomcat server and I don't know how to do it for Intellij.</p>\n<p>I was googling for a while but couldn't resolve the issue. Please let me know if you know how to do it.</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1665040745,"post_id":73969918,"comment_id":130607000,"body_markdown":"have you considered to create a library?","body":"have you considered to create a library?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665041015,"post_id":73969918,"comment_id":130607070,"body_markdown":"Perhaps this is relevant: [Sharing Build Logic between Subprojects](https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html).","body":"Perhaps this is relevant: <a href=\"https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html\" rel=\"nofollow noreferrer\">Sharing Build Logic between Subprojects</a>."}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665040589,"creation_date":1665040589,"question_id":73969918,"body_markdown":"How to just override sourceSets between gradle files without copying over all definitions. I want to define all groovy functions to build Bar Application in build-bar.gradle but just inherit everything from build-bar.gradle and override `just` the sourceSets in build-baz.gradle file. How can we do this?\r\n\r\nBar Application contains this\r\n\r\n    build-bar.gradle\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                exclude &#39;com/foo/BarApplication.java&#39;\r\n            }   \r\n        }   \r\n    }\r\n\r\n\r\nBaz Application contains this\r\n\r\n    build-baz.gradle\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                exclude &#39;com/foo/BazApplication.java&#39;\r\n            }   \r\n        }   \r\n    }\r\n\r\n","title":"How to just override sourceSets in a different gradle file","body":"<p>How to just override sourceSets between gradle files without copying over all definitions. I want to define all groovy functions to build Bar Application in build-bar.gradle but just inherit everything from build-bar.gradle and override <code>just</code> the sourceSets in build-baz.gradle file. How can we do this?</p>\n<p>Bar Application contains this</p>\n<pre><code>build-bar.gradle\nsourceSets {\n    main {\n        java {\n            exclude 'com/foo/BarApplication.java'\n        }   \n    }   \n}\n</code></pre>\n<p>Baz Application contains this</p>\n<pre><code>build-baz.gradle\nsourceSets {\n    main {\n        java {\n            exclude 'com/foo/BazApplication.java'\n        }   \n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":8464239,"reputation":33,"user_id":6348860,"display_name":"Bogdan Dob&#226;ndă"},"score":0,"creation_date":1665041367,"post_id":73969862,"comment_id":130607189,"body_markdown":"This was the issue. Thank you!","body":"This was the issue. Thank you!"}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665040306,"creation_date":1665040306,"answer_id":73969862,"question_id":73961761,"body_markdown":"You probably need to inject the class into the targeted class loader rather then creating a new one (which is the default). So instead of:\r\n\r\n    load(getClass().getClassLoader())\r\n\r\nYou&#39;d use:\r\n\r\n    load(getClass().getClassLoader(), ClassLoadingStrategy.Default.INJECT)\r\n\r\nFor Java 9+, you&#39;d rather use ClassLoadingStrategy.UsingLookup. It has a factory that would work on either JVM version.","title":"Register Spring reactive repository using Byte Buddy","body":"<p>You probably need to inject the class into the targeted class loader rather then creating a new one (which is the default). So instead of:</p>\n<pre><code>load(getClass().getClassLoader())\n</code></pre>\n<p>You'd use:</p>\n<pre><code>load(getClass().getClassLoader(), ClassLoadingStrategy.Default.INJECT)\n</code></pre>\n<p>For Java 9+, you'd rather use ClassLoadingStrategy.UsingLookup. It has a factory that would work on either JVM version.</p>\n"}],"owner":{"account_id":8464239,"reputation":33,"user_id":6348860,"display_name":"Bogdan Dob&#226;ndă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969862,"answer_count":1,"score":0,"last_activity_date":1665040306,"creation_date":1664979408,"question_id":73961761,"body_markdown":"I want to create and register at runtime using **Byte Buddy** a trio of three entities (a class for entity/table, a repository interface and controller class)\r\n```\r\nClass&lt;?&gt; tableClass =\r\n    new ByteBuddy()\r\n        .subclass(Object.class, ConstructorStrategy.Default.DEFAULT_CONSTRUCTOR)\r\n        .name(className)\r\n        .annotateType(getTableAnnotation(tableName))\r\n        .defineField(&quot;id&quot;, UUID.class, Visibility.PRIVATE)\r\n        .annotateField(getIdAnnotation())\r\n        .defineMethod(&quot;getId&quot;, UUID.class, Visibility.PUBLIC)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\r\n        .withParameter(UUID.class)\r\n        .intercept(FieldAccessor.ofBeanProperty());\r\n        .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\r\n        .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\r\n        .withParameter(String.class)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .make()\r\n        .load(getClass().getClassLoader())\r\n        .getLoaded();\r\n\r\nTypeDescription.Generic repositoryTypeDescription =\r\n    TypeDescription.Generic.Builder.parameterizedType(\r\n            R2dbcRepository.class, tableClass, UUID.class)\r\n\r\nClass&lt;? extends Object&gt; repositoryClass =\r\n    new ByteBuddy()\r\n        .makeInterface(repositoryTypeDescription)\r\n        .name(tableClass.getCanonicalName() + &quot;Repository&quot;)\r\n        .make()\r\n        .load(tableClass.getClassLoader())\r\n        .getLoaded();\r\n\r\n```\r\n\r\nI have also a service class that does all bean registration\r\n\r\n```\r\n@Service\r\npublic class BeanRegisterService {\r\n\r\n  @Autowired private BeanFactory beanFactory;\r\n  @Autowired private R2dbcEntityTemplate entityTemplate;\r\n\r\n  public &lt;T&gt; void registerBean(String beanName, T bean) {\r\n    ((ConfigurableBeanFactory) beanFactory).registerSingleton(beanName, bean);\r\n  }\r\n\r\n  public &lt;T&gt; void registerBeanDefinition(String beanName, Class&lt;T&gt; rootBeanClass) {\r\n    BeanDefinitionBuilder beanDefinitionBuilder =\r\n        BeanDefinitionBuilder.rootBeanDefinition(rootBeanClass);\r\n    ((DefaultListableBeanFactory) beanFactory)\r\n        .registerBeanDefinition(beanName, beanDefinitionBuilder.getBeanDefinition());\r\n  }\r\n\r\n  public &lt;T&gt; void registerRepositoryBeanDefinition(\r\n      String entityBean, Class&lt;T&gt; repositoryInterface) {\r\n    BeanDefinitionBuilder beanDefinitionBuilder =\r\n        BeanDefinitionBuilder.rootBeanDefinition(R2dbcRepositoryFactoryBean.class)\r\n            .addConstructorArgValue(repositoryInterface)\r\n            .addPropertyValue(&quot;databaseClient&quot;, entityTemplate.getDatabaseClient())\r\n            .addPropertyValue(&quot;dataAccessStrategy&quot;, entityTemplate.getDataAccessStrategy());\r\n\r\n    ((DefaultListableBeanFactory) beanFactory)\r\n        .registerBeanDefinition(\r\n            repositoryInterface.getSimpleName(), beanDefinitionBuilder.getBeanDefinition());\r\n  }\r\n}\r\n```\r\n\r\n```\r\nbeanService.registerBeanDefinition(tableClass.getSimpleName(), tableClass);\r\nbeanService.registerRepositoryBeanDefinition(tableClass.getSimpleName(), repositoryClass);\r\n```\r\n\r\nWhen I try to gain access to the repository bean via `ApplicationContext` I get an error: `MyRepository referenced from a method is not visible from class loader`.\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: com.example.MyRepository referenced from a method is not visible from class loader\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426) ~[na:na]\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329) ~[na:na]\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006) ~[na:na]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:126) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:371) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:179) ~[spring-data-r2dbc-1.5.2.jar:1.5.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n        ... 15 common frames omitted\r\n```\r\n\r\nThe table class has a more dynamic definition than above example and it is not known at build time; so all the classes must be generated at runtime on demand.\r\n\r\nWhat am I missing?\r\n\r\nMy code is based on answers from:\r\n\r\nhttps://stackoverflow.com/questions/41615861/byte-buddy-runtime-generation-for-spring-boot-jpa-repository-classes\r\n\r\nhttps://stackoverflow.com/questions/71100421/how-to-register-custom-jpa-interface-using-bytebuddy\r\n\r\n**Edit:**\r\n\r\nIf I load ```repositoryClass``` with ```this.getClass()``` it doesn&#39;t make it to ProxyBuilder. \r\nIt crashes way sooner with ClassNotFound.\r\nSwitching ClassLoadingStrategy to persistent does not help either.\r\nOn the other hand ```tableClass``` bean gets loaded without any issues.","title":"Register Spring reactive repository using Byte Buddy","body":"<p>I want to create and register at runtime using <strong>Byte Buddy</strong> a trio of three entities (a class for entity/table, a repository interface and controller class)</p>\n<pre><code>Class&lt;?&gt; tableClass =\n    new ByteBuddy()\n        .subclass(Object.class, ConstructorStrategy.Default.DEFAULT_CONSTRUCTOR)\n        .name(className)\n        .annotateType(getTableAnnotation(tableName))\n        .defineField(&quot;id&quot;, UUID.class, Visibility.PRIVATE)\n        .annotateField(getIdAnnotation())\n        .defineMethod(&quot;getId&quot;, UUID.class, Visibility.PUBLIC)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\n        .withParameter(UUID.class)\n        .intercept(FieldAccessor.ofBeanProperty());\n        .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\n        .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\n        .withParameter(String.class)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .make()\n        .load(getClass().getClassLoader())\n        .getLoaded();\n\nTypeDescription.Generic repositoryTypeDescription =\n    TypeDescription.Generic.Builder.parameterizedType(\n            R2dbcRepository.class, tableClass, UUID.class)\n\nClass&lt;? extends Object&gt; repositoryClass =\n    new ByteBuddy()\n        .makeInterface(repositoryTypeDescription)\n        .name(tableClass.getCanonicalName() + &quot;Repository&quot;)\n        .make()\n        .load(tableClass.getClassLoader())\n        .getLoaded();\n\n</code></pre>\n<p>I have also a service class that does all bean registration</p>\n<pre><code>@Service\npublic class BeanRegisterService {\n\n  @Autowired private BeanFactory beanFactory;\n  @Autowired private R2dbcEntityTemplate entityTemplate;\n\n  public &lt;T&gt; void registerBean(String beanName, T bean) {\n    ((ConfigurableBeanFactory) beanFactory).registerSingleton(beanName, bean);\n  }\n\n  public &lt;T&gt; void registerBeanDefinition(String beanName, Class&lt;T&gt; rootBeanClass) {\n    BeanDefinitionBuilder beanDefinitionBuilder =\n        BeanDefinitionBuilder.rootBeanDefinition(rootBeanClass);\n    ((DefaultListableBeanFactory) beanFactory)\n        .registerBeanDefinition(beanName, beanDefinitionBuilder.getBeanDefinition());\n  }\n\n  public &lt;T&gt; void registerRepositoryBeanDefinition(\n      String entityBean, Class&lt;T&gt; repositoryInterface) {\n    BeanDefinitionBuilder beanDefinitionBuilder =\n        BeanDefinitionBuilder.rootBeanDefinition(R2dbcRepositoryFactoryBean.class)\n            .addConstructorArgValue(repositoryInterface)\n            .addPropertyValue(&quot;databaseClient&quot;, entityTemplate.getDatabaseClient())\n            .addPropertyValue(&quot;dataAccessStrategy&quot;, entityTemplate.getDataAccessStrategy());\n\n    ((DefaultListableBeanFactory) beanFactory)\n        .registerBeanDefinition(\n            repositoryInterface.getSimpleName(), beanDefinitionBuilder.getBeanDefinition());\n  }\n}\n</code></pre>\n<pre><code>beanService.registerBeanDefinition(tableClass.getSimpleName(), tableClass);\nbeanService.registerRepositoryBeanDefinition(tableClass.getSimpleName(), repositoryClass);\n</code></pre>\n<p>When I try to gain access to the repository bean via <code>ApplicationContext</code> I get an error: <code>MyRepository referenced from a method is not visible from class loader</code>.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: com.example.MyRepository referenced from a method is not visible from class loader\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858) ~[na:na]\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681) ~[na:na]\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426) ~[na:na]\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329) ~[na:na]\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006) ~[na:na]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:126) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:371) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:179) ~[spring-data-r2dbc-1.5.2.jar:1.5.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n        ... 15 common frames omitted\n</code></pre>\n<p>The table class has a more dynamic definition than above example and it is not known at build time; so all the classes must be generated at runtime on demand.</p>\n<p>What am I missing?</p>\n<p>My code is based on answers from:</p>\n<p><a href=\"https://stackoverflow.com/questions/41615861/byte-buddy-runtime-generation-for-spring-boot-jpa-repository-classes\">Byte Buddy Runtime generation for spring boot JPA repository classes</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71100421/how-to-register-custom-jpa-interface-using-bytebuddy\">How to register custom JPA interface using bytebuddy</a></p>\n<p><strong>Edit:</strong></p>\n<p>If I load <code>repositoryClass</code> with <code>this.getClass()</code> it doesn't make it to ProxyBuilder.\nIt crashes way sooner with ClassNotFound.\nSwitching ClassLoadingStrategy to persistent does not help either.\nOn the other hand <code>tableClass</code> bean gets loaded without any issues.</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":1,"creation_date":1663150109,"post_id":73712613,"comment_id":130169578,"body_markdown":"Compare you Keycloak versions dev vs prod.","body":"Compare you Keycloak versions dev vs prod."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1663168960,"post_id":73712613,"comment_id":130176932,"body_markdown":"This  does not answer your question, but **do not use Keycloak libs for spring** [it is deprecated](https://github.com/keycloak/keycloak/discussions/10187). Directly call the REST API with your prefered client (Feign, rest-template, WebClient). If you need to configure resource-server security too, have a look at [this article](https://dzone.com/articles/spring-oauth2-resource-servers)","body":"This  does not answer your question, but <b>do not use Keycloak libs for spring</b> <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is deprecated</a>. Directly call the REST API with your prefered client (Feign, rest-template, WebClient). If you need to configure resource-server security too, have a look at <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">this article</a>"},{"owner":{"account_id":4215707,"reputation":113,"user_id":3451991,"display_name":"Michael Kronberger"},"score":0,"creation_date":1663757909,"post_id":73712613,"comment_id":130313257,"body_markdown":"thxs for the answer. Hoped that it&#39;s not necessary to reimplement the feature via REST API...","body":"thxs for the answer. Hoped that it&#39;s not necessary to reimplement the feature via REST API..."}],"owner":{"account_id":4215707,"reputation":113,"user_id":3451991,"display_name":"Michael Kronberger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665040306,"creation_date":1663138273,"question_id":73712613,"body_markdown":"   I have the following situation. I have implemented in a Spring Boot application a user management system using keycloak. \r\nIts working perfectly fine on my test systems. Only in Production I always get an 404 error when trying to create a keylcoak user. \r\n\r\n```\r\ncom.example.solar.frontend.usecase.exceptions.KeycloakException: Error creating Keycloak user. Get Response 404\r\nSep 14 08:34:08 solar[23098]: at com.example.solar.frontend.adapter.outgoing.KeycloakUserService.createUser(KeycloakUserService.java:59) ~[classes!/:0.0.4]\r\n```\r\n\r\nThis is my service:\r\n\r\n    public class KeycloakUserService implements UserService {\r\n\r\n    private final RealmResource realmResource;\r\n\r\n    @Autowired\r\n    public KeycloakUserService(KeycloakProvider keycloakProvider, @Value(&quot;${keycloak.realm}&quot;) String realm) {\r\n\r\n        realmResource = keycloakProvider.keycloak().realm(realm);\r\n    }\r\n\r\n    public String createUser(KeycloakUserRequest userRequest) throws KeycloakException {\r\n\r\n        UsersResource usersResource = realmResource.users();\r\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(userRequest.getPassword());\r\n\r\n        UserRepresentation kcUser = new UserRepresentation();\r\n        kcUser.setUsername(userRequest.getUsername());\r\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\r\n        kcUser.setFirstName(userRequest.getFirstname());\r\n        kcUser.setLastName(userRequest.getLastname());\r\n        kcUser.setEmail(userRequest.getEmail());\r\n        kcUser.setEnabled(true);\r\n        kcUser.setEmailVerified(false);\r\n\r\n        Response response = usersResource.create(kcUser);\r\n\r\n        if (response.getStatus() == HttpStatus.SC_CREATED) {\r\n\r\n            String userId = response.getLocation().getPath().replaceAll(&quot;.*/([^/]+)$&quot;, &quot;$1&quot;);\r\n            log.info(&quot;Successfully created user in Keycloak userId: {}, email: {}, firstname: {}, lastname: {}&quot;, userId,\r\n                    kcUser.getEmail(), kcUser.getFirstName(), kcUser.getLastName());\r\n            return userId;\r\n        } else {\r\n            throw new KeycloakException(&quot;Error creating Keycloak user. Get Response &quot; + response.getStatus() + &quot; &quot; + response.getStatusInfo().getReasonPhrase());\r\n        }\r\n    }\r\n\r\n\r\nThis is my configuration in application.properties:\r\n\r\n```\r\nkeycloak.realm=&lt;realm&gt;\r\nkeycloak.auth-server-url=http://&lt;loadbalancer-keycloak-url&gt;/auth/\r\nkeycloak.resource=solar\r\nkeycloak.credentials.secret=&lt;secret&gt;\r\n```\r\n\r\nThis config is working on dev perfectly, but there I calling keycloak auth url directly  instead over a loadbalancer. (http protocol is correct). Calling the url via browser, the keycloak admin index page is returned, so url is correct. \r\n\r\nAny idea, which config I am missing, or what else I can do? \r\n\r\nFinally I could solve the issue. It was a firewall issue. \r\n\r\nbest regards\r\nMichael \r\n","title":"Always get 404 when calling keycloak create User in Spring boot via Loadbalancer","body":"<p>I have the following situation. I have implemented in a Spring Boot application a user management system using keycloak.\nIts working perfectly fine on my test systems. Only in Production I always get an 404 error when trying to create a keylcoak user.</p>\n<pre><code>com.example.solar.frontend.usecase.exceptions.KeycloakException: Error creating Keycloak user. Get Response 404\nSep 14 08:34:08 solar[23098]: at com.example.solar.frontend.adapter.outgoing.KeycloakUserService.createUser(KeycloakUserService.java:59) ~[classes!/:0.0.4]\n</code></pre>\n<p>This is my service:</p>\n<pre><code>public class KeycloakUserService implements UserService {\n\nprivate final RealmResource realmResource;\n\n@Autowired\npublic KeycloakUserService(KeycloakProvider keycloakProvider, @Value(&quot;${keycloak.realm}&quot;) String realm) {\n\n    realmResource = keycloakProvider.keycloak().realm(realm);\n}\n\npublic String createUser(KeycloakUserRequest userRequest) throws KeycloakException {\n\n    UsersResource usersResource = realmResource.users();\n    CredentialRepresentation credentialRepresentation = createPasswordCredentials(userRequest.getPassword());\n\n    UserRepresentation kcUser = new UserRepresentation();\n    kcUser.setUsername(userRequest.getUsername());\n    kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\n    kcUser.setFirstName(userRequest.getFirstname());\n    kcUser.setLastName(userRequest.getLastname());\n    kcUser.setEmail(userRequest.getEmail());\n    kcUser.setEnabled(true);\n    kcUser.setEmailVerified(false);\n\n    Response response = usersResource.create(kcUser);\n\n    if (response.getStatus() == HttpStatus.SC_CREATED) {\n\n        String userId = response.getLocation().getPath().replaceAll(&quot;.*/([^/]+)$&quot;, &quot;$1&quot;);\n        log.info(&quot;Successfully created user in Keycloak userId: {}, email: {}, firstname: {}, lastname: {}&quot;, userId,\n                kcUser.getEmail(), kcUser.getFirstName(), kcUser.getLastName());\n        return userId;\n    } else {\n        throw new KeycloakException(&quot;Error creating Keycloak user. Get Response &quot; + response.getStatus() + &quot; &quot; + response.getStatusInfo().getReasonPhrase());\n    }\n}\n</code></pre>\n<p>This is my configuration in application.properties:</p>\n<pre><code>keycloak.realm=&lt;realm&gt;\nkeycloak.auth-server-url=http://&lt;loadbalancer-keycloak-url&gt;/auth/\nkeycloak.resource=solar\nkeycloak.credentials.secret=&lt;secret&gt;\n</code></pre>\n<p>This config is working on dev perfectly, but there I calling keycloak auth url directly  instead over a loadbalancer. (http protocol is correct). Calling the url via browser, the keycloak admin index page is returned, so url is correct.</p>\n<p>Any idea, which config I am missing, or what else I can do?</p>\n<p>Finally I could solve the issue. It was a firewall issue.</p>\n<p>best regards\nMichael</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039920,"creation_date":1665039920,"answer_id":73969790,"question_id":73951672,"body_markdown":"It seems you need an `org.modelmapper.Converter` to assign `taskName`from `taskInfo`.\r\n\r\nAssuming `StudentDTO.getTaskInfo()` returns a type `TaskInfo` and `Person.taskName` is of type `String`:\r\n```java\r\nConverter&lt;TaskInfo, String&gt; nameOfTaskInfo = ctx -&gt; PersonUtil.getTaskName(ctx.getSource());\r\n```\r\n...and then...\r\n```java\r\n  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\r\n    mapper.map(StudentDTO::getId, Person::setId); // I think this could be skipped\r\n    mapper.using(nameOfTaskInfo).map(StudentDTO::getTaskInfo), Person::setTaskName);\r\n  })\r\n```\r\nBut TBH, I am new to ModelMapper too, maybe there are easier solutions.\r\n## Explanation ##\r\nThe purpose of the `map` function seems to determine Getters and Setters through some magic (using byte code manipulated stub objects). The provided expressions are executed when defining the `TypeMap` and not during the actual mapping. The [documentation][1] says:\r\n\r\n&gt; Map source getter value to destination setter \r\n\r\nWhile on the other hand the `org.modelmapper.Converter` is executed during the mapping.\r\n\r\n  [1]: http://modelmapper.org/javadoc/org/modelmapper/builder/ReferenceMapExpression.html#map-org.modelmapper.spi.SourceGetter-org.modelmapper.spi.DestinationSetter-","title":"How do I update entity with ModelMapper?","body":"<p>It seems you need an <code>org.modelmapper.Converter</code> to assign <code>taskName</code>from <code>taskInfo</code>.</p>\n<p>Assuming <code>StudentDTO.getTaskInfo()</code> returns a type <code>TaskInfo</code> and <code>Person.taskName</code> is of type <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Converter&lt;TaskInfo, String&gt; nameOfTaskInfo = ctx -&gt; PersonUtil.getTaskName(ctx.getSource());\n</code></pre>\n<p>...and then...</p>\n<pre class=\"lang-java prettyprint-override\"><code>  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\n    mapper.map(StudentDTO::getId, Person::setId); // I think this could be skipped\n    mapper.using(nameOfTaskInfo).map(StudentDTO::getTaskInfo), Person::setTaskName);\n  })\n</code></pre>\n<p>But TBH, I am new to ModelMapper too, maybe there are easier solutions.</p>\n<h2>Explanation</h2>\n<p>The purpose of the <code>map</code> function seems to determine Getters and Setters through some magic (using byte code manipulated stub objects). The provided expressions are executed when defining the <code>TypeMap</code> and not during the actual mapping. The <a href=\"http://modelmapper.org/javadoc/org/modelmapper/builder/ReferenceMapExpression.html#map-org.modelmapper.spi.SourceGetter-org.modelmapper.spi.DestinationSetter-\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>Map source getter value to destination setter</p>\n</blockquote>\n<p>While on the other hand the <code>org.modelmapper.Converter</code> is executed during the mapping.</p>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665039920,"creation_date":1664905195,"question_id":73951672,"body_markdown":"\r\n\r\nSo I have a method like this\r\n\r\n    public void updateEntity(String id) {\r\n    .....\r\n    .....\r\n      Person person = personRepository.findById(id);\r\n      StudentDTO studentDTO = studentService.getStudent(id); //This returns StudentDTO for the given id\r\n    \r\n      Person updatedPerson = personService.updatePerson(person, studentDTO);\r\n    \r\n      personRepository.save(updatedPerson);\r\n    }\r\n    \r\n    public Person updatePerson(Person person, StudentDTO studentDTO) {\r\n      ModelMapper modelMapper = new ModelMapper();\r\n      modelMapper.getConfiguration().setSkipNullEnabled(true);\r\n      modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\r\n        mapper.map(StudentDTO::getId, PersonDTO::setId);\r\n        mapper.map(src -&gt; PersonUtil.getTaskName(src.getTaskInfo), Person::setTaskName);\r\n      })\r\n    \r\n      return modelMapper.map(studentDTO, Person.class);\r\n    }\r\n\r\nI am facing two issues with this code.\r\n- Its not updating the Person entity. Rather it is just setting the values of StudentDTO and assigning null values to those properties of Person entity which are not available in StudentDTO.\r\n- For task name, it is setting the entire DTO present inside the TaskInfo property. PersonUtil.getTaskName is the function which takes the object and returns the string taskName but modelmapper for some reason is assigning an entire dto for that field.","title":"How do I update entity with ModelMapper?","body":"<p>So I have a method like this</p>\n<pre><code>public void updateEntity(String id) {\n.....\n.....\n  Person person = personRepository.findById(id);\n  StudentDTO studentDTO = studentService.getStudent(id); //This returns StudentDTO for the given id\n\n  Person updatedPerson = personService.updatePerson(person, studentDTO);\n\n  personRepository.save(updatedPerson);\n}\n\npublic Person updatePerson(Person person, StudentDTO studentDTO) {\n  ModelMapper modelMapper = new ModelMapper();\n  modelMapper.getConfiguration().setSkipNullEnabled(true);\n  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\n    mapper.map(StudentDTO::getId, PersonDTO::setId);\n    mapper.map(src -&gt; PersonUtil.getTaskName(src.getTaskInfo), Person::setTaskName);\n  })\n\n  return modelMapper.map(studentDTO, Person.class);\n}\n</code></pre>\n<p>I am facing two issues with this code.</p>\n<ul>\n<li>Its not updating the Person entity. Rather it is just setting the values of StudentDTO and assigning null values to those properties of Person entity which are not available in StudentDTO.</li>\n<li>For task name, it is setting the entire DTO present inside the TaskInfo property. PersonUtil.getTaskName is the function which takes the object and returns the string taskName but modelmapper for some reason is assigning an entire dto for that field.</li>\n</ul>\n"},{"tags":["java","csv","jackson"],"answers":[{"tags":[],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039647,"creation_date":1665039647,"answer_id":73969746,"question_id":71441736,"body_markdown":"This might solve your problem. Full example [here][1]\r\n\r\n    /**\r\n     * @param listOfMap\r\n     * @param writer\r\n     * @throws IOException\r\n     */\r\n    public static void csvWriter(List&lt;HashMap&lt;String, String&gt;&gt; listOfMap, Writer writer) throws IOException {\r\n        CsvSchema schema = null;\r\n        CsvSchema.Builder schemaBuilder = CsvSchema.builder();\r\n        if (listOfMap != null &amp;&amp; !listOfMap.isEmpty()) {\r\n            for (String col : listOfMap.get(0).keySet()) {\r\n                schemaBuilder.addColumn(col);\r\n            }\r\n            schema = schemaBuilder.build().withLineSeparator(System.lineSeparator()).withHeader();\r\n        }\r\n        CsvMapper mapper = new CsvMapper();\r\n        mapper.writer(schema).writeValues(writer).writeAll(listOfMap);\r\n        writer.flush();\r\n    }\r\n\r\n\r\n  [1]: https://itexpertsconsultant.wordpress.com/2016/08/03/how-to-readwrite-csv-file-to-map-in-java/","title":"Jackson CsvMapper to map object with a map of maps to csv","body":"<p>This might solve your problem. Full example <a href=\"https://itexpertsconsultant.wordpress.com/2016/08/03/how-to-readwrite-csv-file-to-map-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>/**\n * @param listOfMap\n * @param writer\n * @throws IOException\n */\npublic static void csvWriter(List&lt;HashMap&lt;String, String&gt;&gt; listOfMap, Writer writer) throws IOException {\n    CsvSchema schema = null;\n    CsvSchema.Builder schemaBuilder = CsvSchema.builder();\n    if (listOfMap != null &amp;&amp; !listOfMap.isEmpty()) {\n        for (String col : listOfMap.get(0).keySet()) {\n            schemaBuilder.addColumn(col);\n        }\n        schema = schemaBuilder.build().withLineSeparator(System.lineSeparator()).withHeader();\n    }\n    CsvMapper mapper = new CsvMapper();\n    mapper.writer(schema).writeValues(writer).writeAll(listOfMap);\n    writer.flush();\n}\n</code></pre>\n"}],"owner":{"account_id":15602262,"reputation":11,"user_id":11256061,"display_name":"May"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665039647,"creation_date":1647016530,"question_id":71441736,"body_markdown":"I have a complex java object that I want to map to csv using Jacksons CsvMapper.\r\n\r\n    public class TestObject {\r\n      private Map&lt;String, Map&lt;String, String&gt;&gt; values;\r\n      @JsonAnyGetter\r\n      public Map&lt;String, Map&lt;String, String&gt;&gt; getValues() {\r\n          return values;\r\n      }\r\n\r\n      @JsonAnySetter\r\n      public void setValues(Map&lt;String, Map&lt;String, String&gt;&gt; values) {\r\n        this.values = values;\r\n      }\r\n\r\n    }\r\n\r\nThe object is a list of TestObjects:  \r\n\r\n     CsvMapper mapper = new CsvMapper(); \r\n     CsvSchema schema = mapper.schemaFor(clazz).withUseHeader(true);\r\n     \r\n     ObjectWriter myObjectWriter = mapper.writer(schema);\r\n     return myObjectWriter.writeValueAsString(objectList);\r\n\r\nHowever when I try to map this to csv, I get an error due to the values in the map since its a map of map.\r\n\r\n    Caused by: com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column &#39;test_column&#39;: known columns: ....\r\n\r\nDoes anyone know how I can get jacksons csvmapper to correctly convert this map of maps to csv?\r\n\r\n","title":"Jackson CsvMapper to map object with a map of maps to csv","body":"<p>I have a complex java object that I want to map to csv using Jacksons CsvMapper.</p>\n<pre><code>public class TestObject {\n  private Map&lt;String, Map&lt;String, String&gt;&gt; values;\n  @JsonAnyGetter\n  public Map&lt;String, Map&lt;String, String&gt;&gt; getValues() {\n      return values;\n  }\n\n  @JsonAnySetter\n  public void setValues(Map&lt;String, Map&lt;String, String&gt;&gt; values) {\n    this.values = values;\n  }\n\n}\n</code></pre>\n<p>The object is a list of TestObjects:</p>\n<pre><code> CsvMapper mapper = new CsvMapper(); \n CsvSchema schema = mapper.schemaFor(clazz).withUseHeader(true);\n \n ObjectWriter myObjectWriter = mapper.writer(schema);\n return myObjectWriter.writeValueAsString(objectList);\n</code></pre>\n<p>However when I try to map this to csv, I get an error due to the values in the map since its a map of map.</p>\n<pre><code>Caused by: com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column 'test_column': known columns: ....\n</code></pre>\n<p>Does anyone know how I can get jacksons csvmapper to correctly convert this map of maps to csv?</p>\n"},{"tags":["java","android","android-recyclerview","nullpointerexception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1665039494,"post_id":73969695,"comment_id":130606604,"body_markdown":"*110.8500* is not an integer. It is a decimal value","body":"<i>110.8500</i> is not an integer. It is a decimal value"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039660,"post_id":73969695,"comment_id":130606665,"body_markdown":"@Jens - So changing int to double will solve the  error?","body":"@Jens - So changing int to double will solve the  error?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665039681,"post_id":73969695,"comment_id":130606674,"body_markdown":"@Abm yes, that and use Double.parseDouble.","body":"@Abm yes, that and use Double.parseDouble."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665039749,"post_id":73969695,"comment_id":130606696,"body_markdown":"Yes that should work","body":"Yes that should work"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039881,"post_id":73969695,"comment_id":130606727,"body_markdown":"@Jens -  holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;","body":"@Jens -  holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039907,"post_id":73969695,"comment_id":130606737,"body_markdown":"@Stultuske - holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;","body":"@Stultuske - holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040025,"post_id":73969695,"comment_id":130606774,"body_markdown":"First question, can your quantity be a double or should it be an integer&#223;. Second question what is *holder.brd_quantity*?","body":"First question, can your quantity be a double or should it be an integer&#223;. Second question what is <i>holder.brd_quantity</i>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040068,"post_id":73969695,"comment_id":130606797,"body_markdown":"BTW: Take care of java naming conventions. Variable names must be camelCase not snake_case","body":"BTW: Take care of java naming conventions. Variable names must be camelCase not snake_case"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665040120,"post_id":73969695,"comment_id":130606814,"body_markdown":"It is double.. holder.brd_quantity is editText binding in recyclerview","body":"It is double.. holder.brd_quantity is editText binding in recyclerview"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665040282,"post_id":73969695,"comment_id":130606863,"body_markdown":"@Abm no doubt you are familiar with String concatenation?","body":"@Abm no doubt you are familiar with String concatenation?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040638,"post_id":73969695,"comment_id":130606972,"body_markdown":"@Abm You should reformat your double as text","body":"@Abm You should reformat your double as text"},{"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665041286,"post_id":73969695,"comment_id":130607161,"body_markdown":"This line - holder.brd_value.setText(Integer.parseInt(b)*numVal); will also cause crash. It will consider the int resulted as a string id, which does not exist and will then crash. You should change it to holder.brd_value.setText(&quot;&quot;+Integer.parseInt(b)*numVal); or any other form of converting the value to string","body":"This line - holder.brd_value.setText(Integer.parseInt(b)*numVal); will also cause crash. It will consider the int resulted as a string id, which does not exist and will then crash. You should change it to holder.brd_value.setText(&quot;&quot;+Integer.parseInt(b)*numVal); or any other form of converting the value to string"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665041671,"post_id":73969695,"comment_id":130607284,"body_markdown":"@DanBaruch that is indeed the line we&#39;ve been talking about all along","body":"@DanBaruch that is indeed the line we&#39;ve been talking about all along"},{"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665041816,"post_id":73969695,"comment_id":130607325,"body_markdown":"@Stultuske ye, only after I&#39;ve written down the comment I noticed there&#39;s a whole conversation here haha","body":"@Stultuske ye, only after I&#39;ve written down the comment I noticed there&#39;s a whole conversation here haha"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665041967,"post_id":73969695,"comment_id":130607369,"body_markdown":"@DanBaruch -  holder.brd_value.setText(String.valueOf(product.getBrdprice())); This is working fine. Is it the correct way?","body":"@DanBaruch -  holder.brd_value.setText(String.valueOf(product.getBrdprice(&zwnj;&#8203;))); This is working fine. Is it the correct way?"},{"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665042107,"post_id":73969695,"comment_id":130607419,"body_markdown":"@Abm considering it&#39;s different than the original line I don&#39;t know if that&#39;s the value you are looking for, but yes. It&#39;s a correct way.","body":"@Abm considering it&#39;s different than the original line I don&#39;t know if that&#39;s the value you are looking for, but yes. It&#39;s a correct way."}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665039328,"creation_date":1665039328,"question_id":73969695,"body_markdown":"In the below code of recyclerView I am increment/decrementing product quantity onClick of respective buttons but app is crashing onClick of increment. I am also calculating product quantity * price but its not working right. Where have I gone wrong? How do I calculate the product price?\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RVOrderBrdAdapter.RVViewHolder holder, int position) {\r\n        //getting the product of the specified position\r\n        OrderBrdDataModel product = filteredList.get(position);\r\n\r\n        //binding the data with the viewholder views\r\n        holder.brd_value.setText(product.getBrdprice());\r\n        holder.brd_product.setText(product.getBrdname());\r\n        holder.brd_quantity.setText(&quot;1&quot;);\r\n\r\n        holder.brd_increment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                number = Integer.parseInt(holder.brd_quantity.getText().toString());\r\n                if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }else if(number &gt;=9999){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }else{\r\n                    number++;\r\n                    numVal =number++;\r\n\r\n                }\r\n\r\n                holder.brd_quantity.setText(&quot;&quot;+number);\r\n                String b = product.getBrdprice();\r\n\r\n               holder.brd_value.setText(Integer.parseInt(b)*numVal);\r\n\r\n\r\n            }\r\n        });\r\n\r\n        holder.brd_decrement.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                number = Integer.parseInt(holder.brd_quantity.getText().toString());\r\n                if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }else if(number&lt;=0){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be less than 0&quot;, Toast.LENGTH_SHORT).show();\r\n                    number = 0;\r\n                }else {\r\n                    number--;\r\n                    holder.brd_quantity.setText(&quot;&quot;+number);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return filteredList.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n\r\n        return itemFilter;\r\n    }\r\n\r\n    public class RVViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView brd_value, brd_product,brd_quantity,brd_increment,brd_decrement;\r\n\r\n        public RVViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            brd_value = itemView.findViewById(R.id.brd_value);\r\n            brd_product = itemView.findViewById(R.id.brd_product);\r\n            brd_quantity = itemView.findViewById(R.id.brd_quantity);\r\n            brd_increment = itemView.findViewById(R.id.brd_increment);\r\n            brd_decrement = itemView.findViewById(R.id.brd_decrement);\r\n\r\n        }\r\n\r\n    }\r\n    public class ItemFilter extends Filter{\r\n\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n             ArrayList&lt;OrderBrdDataModel&gt; temp_filteredList= new ArrayList&lt;&gt;();\r\n            for (int i=0;i&lt;ordList.size();i++){\r\n                if (ordList.get(i).isSelected()){\r\n                    temp_filteredList.add(ordList.get(i));\r\n                }\r\n\r\n            }\r\n            FilterResults results = new FilterResults();\r\n            results.values = temp_filteredList;\r\n            return results;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            filteredList = (ArrayList)results.values;\r\n            System.out.println(&quot;RvFilter &quot; + filteredList.size());\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n}\r\nBelow is my crash log\r\n\r\n    2022-10-06 12:06:46.633 11380-11380/com.live I/System.out: crash_report=Exception is: android.content.res.Resources$NotFoundException: String resource ID #0x6e\r\n    2022-10-06 12:15:50.147 12148-12148/com.live I/System.out: crash_report=Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;","title":"android Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;","body":"<p>In the below code of recyclerView I am increment/decrementing product quantity onClick of respective buttons but app is crashing onClick of increment. I am also calculating product quantity * price but its not working right. Where have I gone wrong? How do I calculate the product price?</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull RVOrderBrdAdapter.RVViewHolder holder, int position) {\n    //getting the product of the specified position\n    OrderBrdDataModel product = filteredList.get(position);\n\n    //binding the data with the viewholder views\n    holder.brd_value.setText(product.getBrdprice());\n    holder.brd_product.setText(product.getBrdname());\n    holder.brd_quantity.setText(&quot;1&quot;);\n\n    holder.brd_increment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            number = Integer.parseInt(holder.brd_quantity.getText().toString());\n            if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n            }else if(number &gt;=9999){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_SHORT).show();\n\n            }else{\n                number++;\n                numVal =number++;\n\n            }\n\n            holder.brd_quantity.setText(&quot;&quot;+number);\n            String b = product.getBrdprice();\n\n           holder.brd_value.setText(Integer.parseInt(b)*numVal);\n\n\n        }\n    });\n\n    holder.brd_decrement.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            number = Integer.parseInt(holder.brd_quantity.getText().toString());\n            if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n            }else if(number&lt;=0){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be less than 0&quot;, Toast.LENGTH_SHORT).show();\n                number = 0;\n            }else {\n                number--;\n                holder.brd_quantity.setText(&quot;&quot;+number);\n            }\n        }\n    });\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return filteredList.size();\n}\n\n@Override\npublic Filter getFilter() {\n\n    return itemFilter;\n}\n\npublic class RVViewHolder extends RecyclerView.ViewHolder {\n\n    TextView brd_value, brd_product,brd_quantity,brd_increment,brd_decrement;\n\n    public RVViewHolder(View itemView) {\n        super(itemView);\n\n        brd_value = itemView.findViewById(R.id.brd_value);\n        brd_product = itemView.findViewById(R.id.brd_product);\n        brd_quantity = itemView.findViewById(R.id.brd_quantity);\n        brd_increment = itemView.findViewById(R.id.brd_increment);\n        brd_decrement = itemView.findViewById(R.id.brd_decrement);\n\n    }\n\n}\npublic class ItemFilter extends Filter{\n\n    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n         ArrayList&lt;OrderBrdDataModel&gt; temp_filteredList= new ArrayList&lt;&gt;();\n        for (int i=0;i&lt;ordList.size();i++){\n            if (ordList.get(i).isSelected()){\n                temp_filteredList.add(ordList.get(i));\n            }\n\n        }\n        FilterResults results = new FilterResults();\n        results.values = temp_filteredList;\n        return results;\n    }\n\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        filteredList = (ArrayList)results.values;\n        System.out.println(&quot;RvFilter &quot; + filteredList.size());\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>}\nBelow is my crash log</p>\n<pre><code>2022-10-06 12:06:46.633 11380-11380/com.live I/System.out: crash_report=Exception is: android.content.res.Resources$NotFoundException: String resource ID #0x6e\n2022-10-06 12:15:50.147 12148-12148/com.live I/System.out: crash_report=Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1665040549,"post_id":73969602,"comment_id":130606940,"body_markdown":"Here&#39;s some info online regarding this: https://www.baeldung.com/jackson-field-serializable-deserializable-or-not","body":"Here&#39;s some info online regarding this: <a href=\"https://www.baeldung.com/jackson-field-serializable-deserializable-or-not\" rel=\"nofollow noreferrer\">baeldung.com/jackson-field-serializable-deserializable-or-no&zwnj;&#8203;t</a>"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039010,"creation_date":1665039010,"answer_id":73969636,"question_id":73969602,"body_markdown":"When you are using Spring-Boot, take a look at `@Validated`.","title":"How to validate fields if they aren&#39;t serialized in jackson","body":"<p>When you are using Spring-Boot, take a look at <code>@Validated</code>.</p>\n"}],"owner":{"account_id":5676941,"reputation":804,"user_id":4489743,"accept_rate":62,"display_name":"Yuval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665039010,"creation_date":1665038774,"question_id":73969602,"body_markdown":"In my class, there&#39;s a field I want to validate, but I don&#39;t want to return it in the response. For that I&#39;ve used the annotations \r\n\r\n    @Valid\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private User user;\r\n\r\nThe problem is that when I use WRITE_ONLY, the code doesn&#39;t check the validations. What can I do to fix that?","title":"How to validate fields if they aren&#39;t serialized in jackson","body":"<p>In my class, there's a field I want to validate, but I don't want to return it in the response. For that I've used the annotations</p>\n<pre><code>@Valid\n@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\nprivate User user;\n</code></pre>\n<p>The problem is that when I use WRITE_ONLY, the code doesn't check the validations. What can I do to fix that?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1665038617,"post_id":73969560,"comment_id":130606367,"body_markdown":"you could ... not provide code to create them, I assume?","body":"you could ... not provide code to create them, I assume?"},{"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"score":0,"creation_date":1665038831,"post_id":73969560,"comment_id":130606429,"body_markdown":"yes, but I was thinking of some solution like `@Immutable`, that explicitly marks the entity","body":"yes, but I was thinking of some solution like <code>@Immutable</code>, that explicitly marks the entity"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665039157,"post_id":73969560,"comment_id":130606523,"body_markdown":"This seems like it would be better _enforced_ by the DBMS, if possible. Then in the Java code, simply don&#39;t write code to insert/update/delete `Country` entities. Though perhaps you could throw an exception from an `@PrePersist` handler? I don&#39;t know what the defined behavior is in that case, however.","body":"This seems like it would be better <i>enforced</i> by the DBMS, if possible. Then in the Java code, simply don&#39;t write code to insert/update/delete <code>Country</code> entities. Though perhaps you could throw an exception from an <code>@PrePersist</code> handler? I don&#39;t know what the defined behavior is in that case, however."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1665403984,"post_id":73969560,"comment_id":130685052,"body_markdown":"How about making it impossible to insert into the entity table by e.g. not configuring the id generation i.e. remove `@GeneratedValue`?","body":"How about making it impossible to insert into the entity table by e.g. not configuring the id generation i.e. remove <code>@GeneratedValue</code>?"}],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038504,"creation_date":1665038504,"question_id":73969560,"body_markdown":"I have a type of entity that must not be created or updated by application, .e.g. `Country` entity. Its corresponding table is filled manually, the application must only read from it.\r\n\r\nI&#39;m using the `@Immutable` to mark that the entity must not be changed. But I can not find an analog annotation to prevent entity creation. Are there possibilities from Hibernate to prevent an application from creating an entity? ","title":"Hibernate: how to prevent entity creation?","body":"<p>I have a type of entity that must not be created or updated by application, .e.g. <code>Country</code> entity. Its corresponding table is filled manually, the application must only read from it.</p>\n<p>I'm using the <code>@Immutable</code> to mark that the entity must not be changed. But I can not find an analog annotation to prevent entity creation. Are there possibilities from Hibernate to prevent an application from creating an entity?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665040851,"post_id":73969552,"comment_id":130607030,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":20858467,"reputation":466,"user_id":15321239,"display_name":"MACROSystems"},"score":0,"creation_date":1665065657,"post_id":73969552,"comment_id":130616233,"body_markdown":"can you please share the XML?","body":"can you please share the XML?"}],"owner":{"account_id":18247691,"reputation":1,"user_id":13283418,"display_name":"HabibUllah786"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038468,"creation_date":1665038468,"question_id":73969552,"body_markdown":"Basically, my app is AppLocker.\r\nWhen you click the locked app it shows overlay Lock.\r\nAll was working until I notice that LockOverlay not looking good when shown on Landscape apps like Games.\r\n\r\nWhat I did until now.\r\n---&gt; I created a landscape layout for lock Overlay, but the problem still exist, the landscape layout is not applied on Overlay.\r\n\r\nPortrait\r\n[enter image description here][1]\r\n\r\n\r\nLandscape\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IlUQp.png\r\n  [2]: https://i.stack.imgur.com/uidlt.png","title":"Landscape not working for overlay Android","body":"<p>Basically, my app is AppLocker.\nWhen you click the locked app it shows overlay Lock.\nAll was working until I notice that LockOverlay not looking good when shown on Landscape apps like Games.</p>\n<p>What I did until now.\n---&gt; I created a landscape layout for lock Overlay, but the problem still exist, the landscape layout is not applied on Overlay.</p>\n<p>Portrait\n<a href=\"https://i.stack.imgur.com/IlUQp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Landscape\n<a href=\"https://i.stack.imgur.com/uidlt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","couchbase","project-reactor"],"comments":[{"owner":{"account_id":6716331,"reputation":1131,"user_id":5178057,"display_name":"Stepan Tsybulski"},"score":0,"creation_date":1580740908,"post_id":60033730,"comment_id":106186537,"body_markdown":"what does your method `upsert` return? Could you also provide its signature?","body":"what does your method <code>upsert</code> return? Could you also provide its signature?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1580923941,"post_id":60033730,"comment_id":106260588,"body_markdown":"What class is `bucket` an instance of?","body":"What class is <code>bucket</code> an instance of?"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1586888975,"post_id":60033730,"comment_id":108293311,"body_markdown":"@KunalGupta consider accepting an answer if it works for you.","body":"@KunalGupta consider accepting an answer if it works for you."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1586961433,"post_id":60033730,"comment_id":108322455,"body_markdown":"The reason documents weren&#39;t getting persisting was because I was trying to flush the bucket in a different thread without realising that the flush operation can take some time. By the time the documents were persisted, the flush operation hadn&#39;t finished and when it actually did it removed the documents that i was persisting. But your answer is still valid. I had to use flatmap for this little operation i am doing here. Thanks :)","body":"The reason documents weren&#39;t getting persisting was because I was trying to flush the bucket in a different thread without realising that the flush operation can take some time. By the time the documents were persisted, the flush operation hadn&#39;t finished and when it actually did it removed the documents that i was persisting. But your answer is still valid. I had to use flatmap for this little operation i am doing here. Thanks :)"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1586978807,"post_id":60033730,"comment_id":108332839,"body_markdown":"Oh okay, those details were missing from the question.","body":"Oh okay, those details were missing from the question."}],"answers":[{"comments":[{"owner":{"account_id":6716331,"reputation":1131,"user_id":5178057,"display_name":"Stepan Tsybulski"},"score":0,"creation_date":1580740965,"post_id":60034097,"comment_id":106186570,"body_markdown":"`.block()` method is explicitly called","body":"<code>.block()</code> method is explicitly called"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1580751402,"post_id":60034097,"comment_id":106192295,"body_markdown":".block() subscribes to the outer stream. bucket.upsert returns a stream and has to be subscribed to. flatmap does that, not map. However, I am not sure OP&#39;s code even compiles as bucket.upsert returns an Observable&lt;T&gt;.","body":".block() subscribes to the outer stream. bucket.upsert returns a stream and has to be subscribed to. flatmap does that, not map. However, I am not sure OP&#39;s code even compiles as bucket.upsert returns an Observable&lt;T&gt;."},{"owner":{"account_id":6716331,"reputation":1131,"user_id":5178057,"display_name":"Stepan Tsybulski"},"score":0,"creation_date":1580752417,"post_id":60034097,"comment_id":106192744,"body_markdown":"ah, in case `bucket.upsert` returns Observable, your proposal should help then","body":"ah, in case <code>bucket.upsert</code> returns Observable, your proposal should help then"}],"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1580711238,"creation_date":1580711238,"answer_id":60034097,"question_id":60033730,"body_markdown":"Use .`flatMap` instead of .`map`. You inner stream is not getting subscribed to.","title":"Blocking upsert in couchbase","body":"<p>Use .<code>flatMap</code> instead of .<code>map</code>. You inner stream is not getting subscribed to.</p>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038426,"creation_date":1664612751,"answer_id":73916866,"question_id":60033730,"body_markdown":"I&#39;m getting the same issue regarding upserting items into couchbase with a `block()` then performing a get without the items being there.  There seems to be an tiny amount of time after a `block()` to an upsert before a get can find the items.   This is not the expected behaviour of a `block()` which should complete.\r\n\r\nIf i do create\r\n\r\n    Thread.sleep(5000)\r\n\r\n    GetItems\r\n\r\nIt works fine.\r\n\r\n","title":"Blocking upsert in couchbase","body":"<p>I'm getting the same issue regarding upserting items into couchbase with a <code>block()</code> then performing a get without the items being there.  There seems to be an tiny amount of time after a <code>block()</code> to an upsert before a get can find the items.   This is not the expected behaviour of a <code>block()</code> which should complete.</p>\n<p>If i do create</p>\n<pre><code>Thread.sleep(5000)\n\nGetItems\n</code></pre>\n<p>It works fine.</p>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038218,"creation_date":1664615602,"answer_id":73917120,"question_id":60033730,"body_markdown":"I think you may need this added to your query\r\n\r\nIt basically waits until all indexes have been completed internally on the couchbase before proceeding with the query.  It fixed my issues where i had a bulk upsert and then tried to do a get items which was returning an inconsistent number of rows (simply based on how many couchbase indexes had been fully resolved internally).  Nasty symptoms but this is your path to glory!\r\n\r\n    QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS)","title":"Blocking upsert in couchbase","body":"<p>I think you may need this added to your query</p>\n<p>It basically waits until all indexes have been completed internally on the couchbase before proceeding with the query.  It fixed my issues where i had a bulk upsert and then tried to do a get items which was returning an inconsistent number of rows (simply based on how many couchbase indexes had been fully resolved internally).  Nasty symptoms but this is your path to glory!</p>\n<pre><code>QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664631423,"creation_date":1664616486,"answer_id":73917204,"question_id":60033730,"body_markdown":"Finally solved this issue regarding couchbase and its state not totally updated after block\r\n\r\n\r\n\r\nMore notes on this issue.  It was actually not an error but Couchbase uses a scanning consistency for its internal indexes of UNBOUNDED.  This means that if any creates, deletes, etc are performed on couchbase then its internal state takes a tiny amount of time to reindex.  This was causing the intermittent behavour when running the reactor service.  Especially when doing a bulk create followed by a get items.  Using the query option command QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS) forced couchbase to update its indexes prior to running the query.  This is exactly the behaviour we need and putting this in fixed all this shit ive been having.","title":"Blocking upsert in couchbase","body":"<p>Finally solved this issue regarding couchbase and its state not totally updated after block</p>\n<p>More notes on this issue.  It was actually not an error but Couchbase uses a scanning consistency for its internal indexes of UNBOUNDED.  This means that if any creates, deletes, etc are performed on couchbase then its internal state takes a tiny amount of time to reindex.  This was causing the intermittent behavour when running the reactor service.  Especially when doing a bulk create followed by a get items.  Using the query option command QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS) forced couchbase to update its indexes prior to running the query.  This is exactly the behaviour we need and putting this in fixed all this shit ive been having.</p>\n"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60034097,"answer_count":4,"score":3,"last_activity_date":1665038426,"creation_date":1580708859,"question_id":60033730,"body_markdown":"I am writing a test where I need to upsert some documents(let&#39;s say 10) in my couchbase bucket before actually running any tests. So I have a method annotated with @BeforeAll that tries to upset these documents. Now when I try to run the test, the test fails because documents were not persisted by then. In order to wait for these documents to be inserted I am doing something like this -\r\n\r\n```\r\n\r\n    Flux.fromIterable(couchDocs)\r\n        .map(couchDoc -&gt; bucket.upsert(couchDoc, persistTo)\r\n        .collectList()\r\n        .block();\r\n```\r\n\r\nBut still when I run the test I can see that the documents were not persisted by then and the assertions fail. Am I missing something here?\r\n","title":"Blocking upsert in couchbase","body":"<p>I am writing a test where I need to upsert some documents(let's say 10) in my couchbase bucket before actually running any tests. So I have a method annotated with @BeforeAll that tries to upset these documents. Now when I try to run the test, the test fails because documents were not persisted by then. In order to wait for these documents to be inserted I am doing something like this -</p>\n\n<pre><code>\n    Flux.fromIterable(couchDocs)\n        .map(couchDoc -&gt; bucket.upsert(couchDoc, persistTo)\n        .collectList()\n        .block();\n</code></pre>\n\n<p>But still when I run the test I can see that the documents were not persisted by then and the assertions fail. Am I missing something here?</p>\n"},{"tags":["javascript","java","spring","selenium","aop"],"comments":[{"owner":{"account_id":6318334,"reputation":1487,"user_id":4907452,"accept_rate":75,"display_name":"Fabian Damken"},"score":0,"creation_date":1446243134,"post_id":33445617,"comment_id":54679560,"body_markdown":"Have you made sure that the class containing the click()-method is a Spring bean that is running in you ApplicationContext?","body":"Have you made sure that the class containing the click()-method is a Spring bean that is running in you ApplicationContext?"},{"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"score":0,"creation_date":1446243189,"post_id":33445617,"comment_id":54679576,"body_markdown":"Nope. Thanks it could be a clue","body":"Nope. Thanks it could be a clue"}],"answers":[{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038294,"creation_date":1664527176,"answer_id":73906074,"question_id":33445617,"body_markdown":"As far as I know, \r\n1. ProceedingJoinPoint can&#39;t be used with `@Before`, it&#39;s only available with `@Advice`\r\n2. Even in `@Advice`, as soon as you initiate the advice to proceed (i.e. click happens), there is NO guarantee that the element will be present in the DOM.","title":"Highlight selenium clicks using AOP","body":"<p>As far as I know,</p>\n<ol>\n<li>ProceedingJoinPoint can't be used with <code>@Before</code>, it's only available with <code>@Advice</code></li>\n<li>Even in <code>@Advice</code>, as soon as you initiate the advice to proceed (i.e. click happens), there is NO guarantee that the element will be present in the DOM.</li>\n</ol>\n"}],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665038294,"creation_date":1446242967,"question_id":33445617,"body_markdown":"I am trying to plug in js element highlighting to selenium framework. I have this code:\r\n\r\n    @Aspect\r\n    public class HighlightAspect {\r\n\r\n\t@Pointcut(&quot;execution(* *.click())&quot;)\r\n\tprivate void allClickMethods(){}\r\n\r\n\t@Before(&quot;allClickMethods()&quot;)\r\n\tpublic void proxyClick(ProceedingJoinPoint joinPoint){\r\n\t\tWebElement element = (WebElement)joinPoint.getTarget();\r\n\t\thighlight(element, &quot;green&quot;);\r\n\t}\r\n\r\n\tprivate void highlight(WebElement element, String color) {\r\n\t\tBrowser.getBrowser().executeScript(&quot;arguments[0].style.backgroundColor = &#39;&quot;+color+&quot;&#39;&quot;,  element);\r\n    \t}\r\n    }\r\n\r\nI initialize spring context in &#39;main&#39; class like:\r\n\r\n    private static ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;spring_config.xml&quot;);\r\n\r\nAnd my `src/main/resources/spring_config.xml` looks like:\r\n\r\n    &lt;aop:aspectj-autoproxy /&gt;\r\n    ...\r\n        &lt;bean\r\n                id=&quot;highlightAspect&quot;\r\n                class=&quot;com.&lt;my_name_space&gt;.HighlightAspect&quot;&gt;\r\n        &lt;/bean&gt;\r\n    ...\r\n\r\n_______________\r\nI don&#39;t receive any exceptions from JVM, but when I add a logger to `proxyClick` I see this method didn&#39;t happen to be executed. \r\nPlease, help me to make it work. \r\n","title":"Highlight selenium clicks using AOP","body":"<p>I am trying to plug in js element highlighting to selenium framework. I have this code:</p>\n\n<pre><code>@Aspect\npublic class HighlightAspect {\n\n@Pointcut(\"execution(* *.click())\")\nprivate void allClickMethods(){}\n\n@Before(\"allClickMethods()\")\npublic void proxyClick(ProceedingJoinPoint joinPoint){\n    WebElement element = (WebElement)joinPoint.getTarget();\n    highlight(element, \"green\");\n}\n\nprivate void highlight(WebElement element, String color) {\n    Browser.getBrowser().executeScript(\"arguments[0].style.backgroundColor = '\"+color+\"'\",  element);\n    }\n}\n</code></pre>\n\n<p>I initialize spring context in 'main' class like:</p>\n\n<pre><code>private static ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\"spring_config.xml\");\n</code></pre>\n\n<p>And my <code>src/main/resources/spring_config.xml</code> looks like:</p>\n\n<pre><code>&lt;aop:aspectj-autoproxy /&gt;\n...\n    &lt;bean\n            id=\"highlightAspect\"\n            class=\"com.&lt;my_name_space&gt;.HighlightAspect\"&gt;\n    &lt;/bean&gt;\n...\n</code></pre>\n\n<hr>\n\n<p>I don't receive any exceptions from JVM, but when I add a logger to <code>proxyClick</code> I see this method didn't happen to be executed. \nPlease, help me to make it work. </p>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":17010875,"reputation":73,"user_id":12305901,"display_name":"rgb1380"},"score":0,"creation_date":1665057101,"post_id":73969523,"comment_id":130612760,"body_markdown":"I have upgraded byte-buddy to version 1.12.17 and still getting the same issue.","body":"I have upgraded byte-buddy to version 1.12.17 and still getting the same issue."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1665137651,"post_id":73969523,"comment_id":130634353,"body_markdown":"Have you tried registering an `AgentBuilder.Listener` to see if the transformation fails in some way?","body":"Have you tried registering an <code>AgentBuilder.Listener</code> to see if the transformation fails in some way?"}],"owner":{"account_id":17010875,"reputation":73,"user_id":12305901,"display_name":"rgb1380"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038269,"creation_date":1665038269,"question_id":73969523,"body_markdown":"I am trying to create a deep copy of method arguments using the ByteBuddy agent (this is handy for using ArgumentCaptor of Mockito where the reference to the object is not enough and a deep copy is desired). It works for the private method of the target class but not the public one. The lib I have tested with is version 1.11.19.\r\n\r\nHere is the MRE where testPrivate() passes but testPublic() fails. The only difference is the access modifier of the wrapped method in the Print class. \r\n\r\nAm I missing something in setting up the agent?\r\n\r\n```java\r\nimport net.bytebuddy.agent.ByteBuddyAgent;\r\nimport net.bytebuddy.agent.builder.AgentBuilder;\r\nimport net.bytebuddy.implementation.MethodDelegation;\r\nimport net.bytebuddy.implementation.bind.annotation.*;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.ArgumentCaptor;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.concurrent.Callable;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.internal.verification.VerificationModeFactory.times;\r\n\r\npublic class ByteBuddyTest {\r\n\r\n    public static class CopyInterceptor {\r\n        @RuntimeType\r\n        public static Object intercept(\r\n            @AllArguments Object[] allArguments,\r\n            @SuperMethod Method superMethod,\r\n            @Origin Method method,\r\n            @SuperCall Callable&lt;?&gt; callable,\r\n            @This Object self\r\n        ) throws Exception {\r\n            if (allArguments.length == 1 &amp;&amp; allArguments[0] instanceof Person person) {\r\n                var copiedPerson = new Person(person.getAge());\r\n                allArguments[0] = copiedPerson;\r\n            }\r\n            return superMethod.invoke(self, allArguments);\r\n        }\r\n    }\r\n\r\n    void initAgent() {\r\n        ByteBuddyAgent.install();\r\n        new AgentBuilder.Default()\r\n            .type(ElementMatchers.nameEndsWith(&quot;Print&quot;))\r\n            .transform((builder, type, classLoader, module, protectionDomain) -&gt;\r\n                builder\r\n                    .method(ElementMatchers.any())\r\n                    .intercept(MethodDelegation.to(CopyInterceptor.class))\r\n            ).installOnByteBuddyAgent();\r\n    }\r\n\r\n    @Test\r\n    void testPrivate() {\r\n        initAgent();\r\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\r\n            ArgumentCaptor.forClass(Person.class);\r\n\r\n        var print = mock(Print.class);\r\n        var person = new Person(0);\r\n\r\n        int count = 10;\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            person.setAge(i);\r\n            print.privatePrint(person);\r\n        }\r\n        verify(print, times(count)).privatePrint(personCaptor.capture());\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            var p = personCaptor.getAllValues().get(i);\r\n            assertEquals(i, p.getAge());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testPublic() {\r\n        initAgent();\r\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\r\n            ArgumentCaptor.forClass(Person.class);\r\n\r\n        var print = mock(Print.class);\r\n        var person = new Person(0);\r\n\r\n        int count = 10;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            person.setAge(i);\r\n            print.publicPrint(person);\r\n        }\r\n        verify(print, times(count)).publicPrint(personCaptor.capture());\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            var p = personCaptor.getAllValues().get(i);\r\n            assertEquals(i, p.getAge());\r\n        }\r\n    }\r\n\r\n    static class Person {\r\n        private int age;\r\n        public Person (int age) {\r\n            this.age = age;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\n    static class Print {\r\n        private void privatePrint(Person p) {\r\n            System.out.println(&quot;private - &quot; + p.getAge());\r\n        }\r\n\r\n        public void publicPrint(Person p) {\r\n            System.out.println(&quot;public - &quot; + p.getAge());\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"ByteBuddy does not intercept public method","body":"<p>I am trying to create a deep copy of method arguments using the ByteBuddy agent (this is handy for using ArgumentCaptor of Mockito where the reference to the object is not enough and a deep copy is desired). It works for the private method of the target class but not the public one. The lib I have tested with is version 1.11.19.</p>\n<p>Here is the MRE where testPrivate() passes but testPublic() fails. The only difference is the access modifier of the wrapped method in the Print class.</p>\n<p>Am I missing something in setting up the agent?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.bytebuddy.agent.ByteBuddyAgent;\nimport net.bytebuddy.agent.builder.AgentBuilder;\nimport net.bytebuddy.implementation.MethodDelegation;\nimport net.bytebuddy.implementation.bind.annotation.*;\nimport net.bytebuddy.matcher.ElementMatchers;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\n\nimport java.lang.reflect.Method;\nimport java.util.concurrent.Callable;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.internal.verification.VerificationModeFactory.times;\n\npublic class ByteBuddyTest {\n\n    public static class CopyInterceptor {\n        @RuntimeType\n        public static Object intercept(\n            @AllArguments Object[] allArguments,\n            @SuperMethod Method superMethod,\n            @Origin Method method,\n            @SuperCall Callable&lt;?&gt; callable,\n            @This Object self\n        ) throws Exception {\n            if (allArguments.length == 1 &amp;&amp; allArguments[0] instanceof Person person) {\n                var copiedPerson = new Person(person.getAge());\n                allArguments[0] = copiedPerson;\n            }\n            return superMethod.invoke(self, allArguments);\n        }\n    }\n\n    void initAgent() {\n        ByteBuddyAgent.install();\n        new AgentBuilder.Default()\n            .type(ElementMatchers.nameEndsWith(&quot;Print&quot;))\n            .transform((builder, type, classLoader, module, protectionDomain) -&gt;\n                builder\n                    .method(ElementMatchers.any())\n                    .intercept(MethodDelegation.to(CopyInterceptor.class))\n            ).installOnByteBuddyAgent();\n    }\n\n    @Test\n    void testPrivate() {\n        initAgent();\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\n            ArgumentCaptor.forClass(Person.class);\n\n        var print = mock(Print.class);\n        var person = new Person(0);\n\n        int count = 10;\n\n        for (int i = 0; i &lt; count; i++) {\n            person.setAge(i);\n            print.privatePrint(person);\n        }\n        verify(print, times(count)).privatePrint(personCaptor.capture());\n\n        for (int i = 0; i &lt; count; i++) {\n            var p = personCaptor.getAllValues().get(i);\n            assertEquals(i, p.getAge());\n        }\n    }\n\n    @Test\n    void testPublic() {\n        initAgent();\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\n            ArgumentCaptor.forClass(Person.class);\n\n        var print = mock(Print.class);\n        var person = new Person(0);\n\n        int count = 10;\n        for (int i = 0; i &lt; count; i++) {\n            person.setAge(i);\n            print.publicPrint(person);\n        }\n        verify(print, times(count)).publicPrint(personCaptor.capture());\n\n        for (int i = 0; i &lt; count; i++) {\n            var p = personCaptor.getAllValues().get(i);\n            assertEquals(i, p.getAge());\n        }\n    }\n\n    static class Person {\n        private int age;\n        public Person (int age) {\n            this.age = age;\n        }\n\n        public int getAge() {\n            return age;\n        }\n\n        public void setAge(int age) {\n            this.age = age;\n        }\n    }\n\n    static class Print {\n        private void privatePrint(Person p) {\n            System.out.println(&quot;private - &quot; + p.getAge());\n        }\n\n        public void publicPrint(Person p) {\n            System.out.println(&quot;public - &quot; + p.getAge());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","input","numbers"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665030869,"post_id":73968686,"comment_id":130604842,"body_markdown":"What does &quot;won&#39;t accept it&quot; mean?","body":"What does &quot;won&#39;t accept it&quot; mean?"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":0,"creation_date":1665030971,"post_id":73968686,"comment_id":130604856,"body_markdown":"You should describe the exact behavior (_i.e._ output) for a given input, and explain what you expect. Otherwise it&#39;s very difficult to unpack what you&#39;re saying. Note that `999 99` is _two_ numbers. Also, your for-loop could be rewritten with modulo arithmetic instead of looping.","body":"You should describe the exact behavior (<i>i.e.</i> output) for a given input, and explain what you expect. Otherwise it&#39;s very difficult to unpack what you&#39;re saying. Note that <code>999 99</code> is <i>two</i> numbers. Also, your for-loop could be rewritten with modulo arithmetic instead of looping."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665031068,"post_id":73968686,"comment_id":130604876,"body_markdown":"Do not close you stdin Scanner `input.close();\n`","body":"Do not close you stdin Scanner <code>input.close(); </code>"}],"answers":[{"comments":[{"owner":{"account_id":10985088,"reputation":3,"user_id":8071065,"display_name":"Pascal Anema"},"score":0,"creation_date":1665038328,"post_id":73969501,"comment_id":130606292,"body_markdown":"Note that an unproperly checked while loop will make your program hang and never complete, so make sure you always let your loop finish one way or another.","body":"Note that an unproperly checked while loop will make your program hang and never complete, so make sure you always let your loop finish one way or another."}],"tags":[],"owner":{"account_id":10985088,"reputation":3,"user_id":8071065,"display_name":"Pascal Anema"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038106,"creation_date":1665038106,"answer_id":73969501,"question_id":73968686,"body_markdown":"I believe your problem lies in the following part of your code:\r\n\r\n     while (moneySum &gt; EPS) {\r\n\r\n        month = month + 1;\r\n        moneySum = moneySum * (1 + 0.06 / 12);\r\n        moneySum = moneySum - withDraw;\r\n\r\n    }\r\nImagine what happens when ```moneySum``` is very large, at the end of each iteration of the ```while``` loop. Let&#39;s say you input ```moneySum = 1000000```, then it gets updated like so:\r\n\r\n    final double withDraw = 500;\r\n    moneySum = 1000000; // from input\r\n    \r\n    while (moneySum &gt; EPS) {\r\n       month = month + 1;\r\n       moneySum = moneySum * (1 + 0.06 / 12); // 1005000\r\n       moneySum = moneySum - withDraw; // 1004500\r\n       // moneySum is now larger than it was before,\r\n       //  it will thus keep increasing indefinitely\r\n    }\r\nAfter each iteration, ```moneySum``` only increases, but your loop condition checks whether ```moneySum``` decreases to below ```EPS = 0.000000000000001```, which will never happen.\r\n\r\nTo fix this issue, make sure you account for this possibility in your loop, it&#39;s the special case where you &quot;never run out of money&quot;. Like this:\r\n\r\n    while (moneySum &gt; EPS) {\r\n        month = month + 1;\r\n        double newMoneySum = moneySum * (1 + 0.06 / 12) - withDraw;\r\n        if (newMoneySum &lt; moneySum)\r\n            moneySum = newMoneySum;\r\n        else {\r\n            month = -1; // this is so we can check for this condition later\r\n            year = -1;  // feel free to implement it however you like\r\n            break; // this will exit the while loop, regardless of the loop condition\r\n        }\r\n    }\r\n\r\n    for (int i = 0; month &gt; 12; i++) {\r\n\r\n        month = month / 12;\r\n        year = month + i;\r\n\r\n    }\r\n    \r\n    if (year &lt; 0 &amp;&amp; month &lt; 0) {\r\n        System.out.println(&quot;Your money will last you forever!&quot;);\r\n    } else if (year &gt; 0) {\r\n        System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\r\n    } else if (year &lt;= 0) {\r\n        System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\r\n    } else if (month &lt;= 1) {\r\n        System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\r\n    } else if (month == 1 &amp;&amp; year == 1) {\r\n        System.out.println(&quot;Your money will last one year and one month&quot;);\r\n    }\r\n\r\nHope this helps!\r\n\r\nFeel free to implement it differently as well, helps with learning :)","title":"My program does not accept numbers bigger than 999 99","body":"<p>I believe your problem lies in the following part of your code:</p>\n<pre><code> while (moneySum &gt; EPS) {\n\n    month = month + 1;\n    moneySum = moneySum * (1 + 0.06 / 12);\n    moneySum = moneySum - withDraw;\n\n}\n</code></pre>\n<p>Imagine what happens when <code>moneySum</code> is very large, at the end of each iteration of the <code>while</code> loop. Let's say you input <code>moneySum = 1000000</code>, then it gets updated like so:</p>\n<pre><code>final double withDraw = 500;\nmoneySum = 1000000; // from input\n\nwhile (moneySum &gt; EPS) {\n   month = month + 1;\n   moneySum = moneySum * (1 + 0.06 / 12); // 1005000\n   moneySum = moneySum - withDraw; // 1004500\n   // moneySum is now larger than it was before,\n   //  it will thus keep increasing indefinitely\n}\n</code></pre>\n<p>After each iteration, <code>moneySum</code> only increases, but your loop condition checks whether <code>moneySum</code> decreases to below <code>EPS = 0.000000000000001</code>, which will never happen.</p>\n<p>To fix this issue, make sure you account for this possibility in your loop, it's the special case where you &quot;never run out of money&quot;. Like this:</p>\n<pre><code>while (moneySum &gt; EPS) {\n    month = month + 1;\n    double newMoneySum = moneySum * (1 + 0.06 / 12) - withDraw;\n    if (newMoneySum &lt; moneySum)\n        moneySum = newMoneySum;\n    else {\n        month = -1; // this is so we can check for this condition later\n        year = -1;  // feel free to implement it however you like\n        break; // this will exit the while loop, regardless of the loop condition\n    }\n}\n\nfor (int i = 0; month &gt; 12; i++) {\n\n    month = month / 12;\n    year = month + i;\n\n}\n\nif (year &lt; 0 &amp;&amp; month &lt; 0) {\n    System.out.println(&quot;Your money will last you forever!&quot;);\n} else if (year &gt; 0) {\n    System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\n} else if (year &lt;= 0) {\n    System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\n} else if (month &lt;= 1) {\n    System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\n} else if (month == 1 &amp;&amp; year == 1) {\n    System.out.println(&quot;Your money will last one year and one month&quot;);\n}\n</code></pre>\n<p>Hope this helps!</p>\n<p>Feel free to implement it differently as well, helps with learning :)</p>\n"}],"owner":{"account_id":26541574,"reputation":1,"user_id":20172234,"display_name":"Paulo De Souza Moulatlet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665038106,"creation_date":1665030637,"question_id":73968686,"body_markdown":"So I am making an interest calculator for my CPSC class in college first year, things are kinda moving fast and I almost feel like I&#39;m not cut out for this future but I will continue to try until I get it right. However, there is one issue that I can&#39;t overcome. Basically, I am trying to input around 999 99 or more but it won&#39;t accept it. Lower numbers are accepted however higher ones aren&#39;t well even just numbers like 9000. Earlier I was trying to type cast but nothing was working. Any tips on how to fix this would be greatly appreciated!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tfinal double withDraw = 500;\r\n\t\tdouble  moneySum = 0;\r\n\t\tint month = 0;\r\n\t\tdouble EPS = 0.000000000000001;\r\n\t\tint year = 0;\r\n\t\t// all the needed variables\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t// Starting the first scanner input\r\n\t\tSystem.out.print(&quot;Now input the sum of money in the bank account: &quot;);\r\n\t\tmoneySum = input.nextDouble();\r\n\t\tinput.close();\r\n\r\n\t\twhile (moneySum &gt; EPS) {\r\n\r\n\t\t\tmonth = month + 1;\r\n\t\t\tmoneySum = moneySum * (1 + 0.06 / 12);\r\n\t\t\tmoneySum = moneySum - withDraw;\r\n\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; month &gt; 12; i++) {\r\n\r\n\t\t\tmonth = month / 12;\r\n\t\t\tyear = month + i;\r\n\r\n\t\t}\r\n\t\t// Work on this to make sure things are plural when they should be and singular\r\n\t\t// when they should be\r\n\t\tif (year &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\r\n\t\t} else if (year &lt;= 0) {\r\n\t\t\tSystem.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\r\n\t\t} else if (month &lt;= 1) {\r\n\t\t\tSystem.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\r\n\t\t} else if (month == 1 &amp;&amp; year == 1) {\r\n\t\t\tSystem.out.println(&quot;Your money will last one year and one month&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n","title":"My program does not accept numbers bigger than 999 99","body":"<p>So I am making an interest calculator for my CPSC class in college first year, things are kinda moving fast and I almost feel like I'm not cut out for this future but I will continue to try until I get it right. However, there is one issue that I can't overcome. Basically, I am trying to input around 999 99 or more but it won't accept it. Lower numbers are accepted however higher ones aren't well even just numbers like 9000. Earlier I was trying to type cast but nothing was working. Any tips on how to fix this would be greatly appreciated!</p>\n<pre><code>    final double withDraw = 500;\n    double  moneySum = 0;\n    int month = 0;\n    double EPS = 0.000000000000001;\n    int year = 0;\n    // all the needed variables\n\n    Scanner input = new Scanner(System.in);\n    // Starting the first scanner input\n    System.out.print(&quot;Now input the sum of money in the bank account: &quot;);\n    moneySum = input.nextDouble();\n    input.close();\n\n    while (moneySum &gt; EPS) {\n\n        month = month + 1;\n        moneySum = moneySum * (1 + 0.06 / 12);\n        moneySum = moneySum - withDraw;\n\n    }\n\n    for (int i = 0; month &gt; 12; i++) {\n\n        month = month / 12;\n        year = month + i;\n\n    }\n    // Work on this to make sure things are plural when they should be and singular\n    // when they should be\n    if (year &gt; 0) {\n        System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\n    } else if (year &lt;= 0) {\n        System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\n    } else if (month &lt;= 1) {\n        System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\n    } else if (month == 1 &amp;&amp; year == 1) {\n        System.out.println(&quot;Your money will last one year and one month&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1664989663,"post_id":73963860,"comment_id":130596354,"body_markdown":"I believe this would be a limitation of prepared statements, in that you cannot use it to specify a dynamic field/table name (e.g. you cannot use them for `ORDER BY` clauses in this manner). In this one rare case, you can append **known** database tables to the query (or keep a list of allowed queries), but do not do that for user input. Overall, it&#39;s more likely there&#39;s a bit of a misdesign in your DB, as users should not really know anything about the database.","body":"I believe this would be a limitation of prepared statements, in that you cannot use it to specify a dynamic field/table name (e.g. you cannot use them for <code>ORDER BY</code> clauses in this manner). In this one rare case, you can append <b>known</b> database tables to the query (or keep a list of allowed queries), but do not do that for user input. Overall, it&#39;s more likely there&#39;s a bit of a misdesign in your DB, as users should not really know anything about the database."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664989769,"post_id":73963860,"comment_id":130596392,"body_markdown":"@Rogue is correct but you shouldn&#39;t be doing it from Java anyway - big security no-no","body":"@Rogue is correct but you shouldn&#39;t be doing it from Java anyway - big security no-no"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664994181,"post_id":73963860,"comment_id":130597798,"body_markdown":"Both right, but I think it&#39;s only a syntax([quoting](https://dev.mysql.com/doc/refman/8.0/en/grant.html#grant-quoting)) problem... Try to hard code `dbTest.*` ... Try also `&quot;?&quot;.*`","body":"Both right, but I think it&#39;s only a syntax(<a href=\"https://dev.mysql.com/doc/refman/8.0/en/grant.html#grant-quoting\" rel=\"nofollow noreferrer\">quoting</a>) problem... Try to hard code <code>dbTest.*</code> ... Try also <code>&quot;?&quot;.*</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1665020284,"post_id":73963860,"comment_id":130603382,"body_markdown":"@xerx593 your approach would work for the username, but not for the `dbTest`. That will always be escaped as a value, and not a reference (which would use backticks ``` instead of `&#39;` or `&quot;`). In order for it to (maybe) work, you would need to enable `ANSI_QUOTES` for mysql, which has its own set of hassles/nightmares (e.g. strings can no longer be quoted with `&quot;`). I believe the prepared statement would still just appropriately substitute it with `PRIVILEGES ON &#39;dbTest&#39;.* ...` again, however.","body":"@xerx593 your approach would work for the username, but not for the <code>dbTest</code>. That will always be escaped as a value, and not a reference (which would use backticks ``` instead of <code>&#39;</code> or <code>&quot;</code>). In order for it to (maybe) work, you would need to enable <code>ANSI_QUOTES</code> for mysql, which has its own set of hassles/nightmares (e.g. strings can no longer be quoted with <code>&quot;</code>). I believe the prepared statement would still just appropriately substitute it with <code>PRIVILEGES ON &#39;dbTest&#39;.* ...</code> again, however."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1665037925,"post_id":73963860,"comment_id":130606179,"body_markdown":"You cannot use parameters for object names.","body":"You cannot use parameters for object names."}],"owner":{"display_name":"user12693314"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665037886,"creation_date":1664989165,"question_id":73963860,"body_markdown":"I&#39;m trying to give to a user all privileges on a database to all the tables it has.\r\n\r\nWhen I do it from Java, I get a syntax error when `this.ps.execute()` is called.\r\n\r\n    String setPrivileges = &quot;GRANT ALL PRIVILEGES ON ?.* TO ? @&#39;localhost&#39;&quot;;\r\n\r\n    this.ps = this.connection.prepareStatement(setPrivileges);\r\n    this.ps.setString(1, &quot;dbTest&quot;);\r\n    this.ps.setString(2, &quot;John&quot;);\r\n        \r\n    this.ps.execute(); \r\n\r\nThe error is:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException** near &#39;dbTest&#39;.* TO &#39;John&#39; @&#39;%&#39;\r\n    ","title":"Grant privileges to user on MySQL from java","body":"<p>I'm trying to give to a user all privileges on a database to all the tables it has.</p>\n<p>When I do it from Java, I get a syntax error when <code>this.ps.execute()</code> is called.</p>\n<pre><code>String setPrivileges = &quot;GRANT ALL PRIVILEGES ON ?.* TO ? @'localhost'&quot;;\n\nthis.ps = this.connection.prepareStatement(setPrivileges);\nthis.ps.setString(1, &quot;dbTest&quot;);\nthis.ps.setString(2, &quot;John&quot;);\n    \nthis.ps.execute(); \n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException** near 'dbTest'.* TO 'John' @'%'</p>\n</blockquote>\n"},{"tags":["java","linked-list","reverse"],"answers":[{"comments":[{"owner":{"account_id":26282587,"reputation":1,"user_id":19950845,"display_name":"Jayasimha Reddy"},"score":0,"creation_date":1665010713,"post_id":73964916,"comment_id":130602081,"body_markdown":"And why the reverse (slow) is working as I am applying same function to it.","body":"And why the reverse (slow) is working as I am applying same function to it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1665037079,"post_id":73964916,"comment_id":130605969,"body_markdown":"I added a visualisation to my answer. I hope that clarifies it.","body":"I added a visualisation to my answer. I hope that clarifies it."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665037060,"creation_date":1664995147,"answer_id":73964916,"question_id":73962629,"body_markdown":"The &quot;full&quot; reverse version cannot work, because the reversal is done *inplace*, which means that the *original* list is reversed, and specifically all `next` pointers have been altered. You write *&quot;...and compare the original with...&quot;*, but there is no original anymore. It has been reversed.\r\n\r\nThat means that after having called `reverse(head)`, the node at `head` is now the tail of this list. It is still the same node, but its `next` pointer is now `null`. And since `fast` references the same node as `head`, the loop will end after its first iteration... `fast=fast.next` will surely make `fast` null.\r\n\r\nWhen only the second half of the list is reversed, the first half is still as it was originally, and so the `head` node still has its `next` pointer going forward, and a forward walk is possible until the half of the nodes have been traversed. \r\n\r\nIt may help to visualise it. Let&#39;s say we have this list:\r\n\r\n```none\r\n       head\r\n        ↓\r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\nAfter code has executed to reverse the *whole* list, we get:\r\n\r\n```none\r\n       head fast                                 slow\r\n        ↓    ↓                                    ↓\r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\nnull◄──── :next │ ◄──── :next │ ◄──── :next │ ◄──── :next │\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\nNote how there is no way anymore to go from the leftmost node to its right neighbor.\r\n\r\nNow see what happens when the code executes that performs the half-reversal. First it moves the `slow` pointer into place with a loop:\r\n\r\n```none\r\n       head                        slow\r\n        ↓                           ↓ \r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\n...then it calls `reverse(slow)`:\r\n\r\n```none\r\n       head fast                                 slow\r\n        ↓    ↓                                    ↓ \r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │┌─ :next │ ◄──── :next │\r\n      └─────────┘   └─────────┘   └│────────┘   └─────────┘\r\n                             null◄─┘\r\n```\r\n\r\nNow both `slow` and `fast` can move in the intended direction. If they follow the `next` pointers then they can move &quot;toward&quot; each other. If the list happens to be a palindrome, that loop will continue until `slow` is null, which is when both pointers have traversed half of the list. \r\n\r\n\r\nThe full reversal algorithm would have worked if `reverse` would have created *new* nodes and linked those together into a new, reversed list, leaving the original untouched.\r\n\r\n","title":"why my reverse is not working on full linked list and it is working on half of the linked list","body":"<p>The &quot;full&quot; reverse version cannot work, because the reversal is done <em>inplace</em>, which means that the <em>original</em> list is reversed, and specifically all <code>next</code> pointers have been altered. You write <em>&quot;...and compare the original with...&quot;</em>, but there is no original anymore. It has been reversed.</p>\n<p>That means that after having called <code>reverse(head)</code>, the node at <code>head</code> is now the tail of this list. It is still the same node, but its <code>next</code> pointer is now <code>null</code>. And since <code>fast</code> references the same node as <code>head</code>, the loop will end after its first iteration... <code>fast=fast.next</code> will surely make <code>fast</code> null.</p>\n<p>When only the second half of the list is reversed, the first half is still as it was originally, and so the <code>head</code> node still has its <code>next</code> pointer going forward, and a forward walk is possible until the half of the nodes have been traversed.</p>\n<p>It may help to visualise it. Let's say we have this list:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head\n        ↓\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>After code has executed to reverse the <em>whole</em> list, we get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head fast                                 slow\n        ↓    ↓                                    ↓\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\nnull◄──── :next │ ◄──── :next │ ◄──── :next │ ◄──── :next │\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>Note how there is no way anymore to go from the leftmost node to its right neighbor.</p>\n<p>Now see what happens when the code executes that performs the half-reversal. First it moves the <code>slow</code> pointer into place with a loop:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head                        slow\n        ↓                           ↓ \n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>...then it calls <code>reverse(slow)</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head fast                                 slow\n        ↓    ↓                                    ↓ \n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │┌─ :next │ ◄──── :next │\n      └─────────┘   └─────────┘   └│────────┘   └─────────┘\n                             null◄─┘\n</code></pre>\n<p>Now both <code>slow</code> and <code>fast</code> can move in the intended direction. If they follow the <code>next</code> pointers then they can move &quot;toward&quot; each other. If the list happens to be a palindrome, that loop will continue until <code>slow</code> is null, which is when both pointers have traversed half of the list.</p>\n<p>The full reversal algorithm would have worked if <code>reverse</code> would have created <em>new</em> nodes and linked those together into a new, reversed list, leaving the original untouched.</p>\n"}],"owner":{"account_id":26282587,"reputation":1,"user_id":19950845,"display_name":"Jayasimha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665037060,"creation_date":1664983160,"question_id":73962629,"body_markdown":"I tried solving palindrome of linked list in leetcode, initially i thought of just reversing the linked list and compare the original with reverse to find palindrome, but the reverse function is not working. after seeing the solutions, I found 2 pointer method, and solved it now my reverse is working.(commented are the 2 pointer).\r\n\r\nAny help, why the full reverse is not and it is working for half linked list.\r\nThanks in advance. \r\n\r\n`enter code here`\r\n\r\n           class Solution {\r\n             public boolean isPalindrome(ListNode head) {\r\n              ListNode fast=head;\r\n              ListNode slow=reverse(head);\r\n              // while(fast!=null &amp;&amp; fast.next!=null){\r\n              //     fast=fast.next.next;\r\n              //     slow=slow.next;\r\n              // }\r\n              // slow=reverse(slow);\r\n              // fast=head;\r\n              while(slow!=null){\r\n                 if(fast.val!=slow.val){\r\n                 return false;\r\n              }\r\n               fast=fast.next;\r\n                slow=slow.next;\r\n            }\r\n           return true;\r\n          }\r\n         public ListNode reverse(ListNode head){\r\n            ListNode prev=null;\r\n            ListNode cur=head;\r\n            ListNode ne=head.next;\r\n            while(cur!=null){\r\n             cur.next=prev;\r\n             prev=cur;\r\n             cur=ne;\r\n             if(ne!=null){\r\n                ne=ne.next;\r\n             }\r\n          }\r\n           return prev;\r\n       }\r\n     }\r\n","title":"why my reverse is not working on full linked list and it is working on half of the linked list","body":"<p>I tried solving palindrome of linked list in leetcode, initially i thought of just reversing the linked list and compare the original with reverse to find palindrome, but the reverse function is not working. after seeing the solutions, I found 2 pointer method, and solved it now my reverse is working.(commented are the 2 pointer).</p>\n<p>Any help, why the full reverse is not and it is working for half linked list.\nThanks in advance.</p>\n<p><code>enter code here</code></p>\n<pre><code>       class Solution {\n         public boolean isPalindrome(ListNode head) {\n          ListNode fast=head;\n          ListNode slow=reverse(head);\n          // while(fast!=null &amp;&amp; fast.next!=null){\n          //     fast=fast.next.next;\n          //     slow=slow.next;\n          // }\n          // slow=reverse(slow);\n          // fast=head;\n          while(slow!=null){\n             if(fast.val!=slow.val){\n             return false;\n          }\n           fast=fast.next;\n            slow=slow.next;\n        }\n       return true;\n      }\n     public ListNode reverse(ListNode head){\n        ListNode prev=null;\n        ListNode cur=head;\n        ListNode ne=head.next;\n        while(cur!=null){\n         cur.next=prev;\n         prev=cur;\n         cur=ne;\n         if(ne!=null){\n            ne=ne.next;\n         }\n      }\n       return prev;\n   }\n }\n</code></pre>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1665034989,"post_id":73968794,"comment_id":130605547,"body_markdown":"It&#39;s similar to the question asked by you here https://stackoverflow.com/questions/73603380/errors-calling-procedures-when-using-the-official-neo4j-procedure-template","body":"It&#39;s similar to the question asked by you here <a href=\"https://stackoverflow.com/questions/73603380/errors-calling-procedures-when-using-the-official-neo4j-procedure-template\" title=\"errors calling procedures when using the official neo4j procedure template\">stackoverflow.com/questions/73603380/&hellip;</a>"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1665035256,"post_id":73968794,"comment_id":130605592,"body_markdown":"In the `YIELD` statement use fields of the class CoActorRecord","body":"In the <code>YIELD</code> statement use fields of the class CoActorRecord"},{"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"score":0,"creation_date":1665035440,"post_id":73968794,"comment_id":130605624,"body_markdown":"Yes similar, but the return is in diff format and I am trying to learn more on stream API. Can you provide a concrete answer? @CharchitKapoor","body":"Yes similar, but the return is in diff format and I am trying to learn more on stream API. Can you provide a concrete answer? @CharchitKapoor"}],"answers":[{"comments":[{"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"score":0,"creation_date":1665036520,"post_id":73969259,"comment_id":130605850,"body_markdown":"Thank you. name does not work. But `node` works since that is the definition of the CoActorRecord. Now I have a much better understanding on how to use this. Please update your answer (yield node, return node) and i will accept it.","body":"Thank you. name does not work. But <code>node</code> works since that is the definition of the CoActorRecord. Now I have a much better understanding on how to use this. Please update your answer (yield node, return node) and i will accept it."}],"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665036606,"creation_date":1665036329,"answer_id":73969259,"question_id":73968794,"body_markdown":"In the example, of the neo4j Template, the procedure returns `Stream&lt;RelationshipTypes&gt;`, where the `RelationshipTypes` class is defined as:\r\n\r\n    public static class RelationshipTypes {\r\n        public List&lt;String&gt; outgoing;\r\n        public List&lt;String&gt; incoming;\r\n    \r\n        public RelationshipTypes(List&lt;String&gt; incoming, List&lt;String&gt; outgoing) {\r\n             this.outgoing = outgoing;\r\n             this.incoming = incoming;\r\n        }\r\n    }\r\n\r\nSo when using this procedure, we use `YIELD incoming, outcoming`, basically the fields of the `RelationshipTypes` class. Similarly, now, in this case, you should yield the field of `CoActorRecord` class. For example, if the node is one field, then something like this:\r\n\r\n    MATCH (n:Person)\r\n    CALL travers.findCoActors(n.name)\r\n    YIELD node\r\n    RETURN node\r\n\r\n","title":"errors calling procedures when using the official &quot;Neo4j Procedure Template&quot; travers.findCoActors","body":"<p>In the example, of the neo4j Template, the procedure returns <code>Stream&lt;RelationshipTypes&gt;</code>, where the <code>RelationshipTypes</code> class is defined as:</p>\n<pre><code>public static class RelationshipTypes {\n    public List&lt;String&gt; outgoing;\n    public List&lt;String&gt; incoming;\n\n    public RelationshipTypes(List&lt;String&gt; incoming, List&lt;String&gt; outgoing) {\n         this.outgoing = outgoing;\n         this.incoming = incoming;\n    }\n}\n</code></pre>\n<p>So when using this procedure, we use <code>YIELD incoming, outcoming</code>, basically the fields of the <code>RelationshipTypes</code> class. Similarly, now, in this case, you should yield the field of <code>CoActorRecord</code> class. For example, if the node is one field, then something like this:</p>\n<pre><code>MATCH (n:Person)\nCALL travers.findCoActors(n.name)\nYIELD node\nRETURN node\n</code></pre>\n"}],"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969259,"answer_count":1,"score":0,"last_activity_date":1665036606,"creation_date":1665031927,"question_id":73968794,"body_markdown":"I am using this official neo4j template to understand how to write customized procedures https://github.com/neo4j-examples/neo4j-procedure-template\r\n\r\nI have loaded the compiled JAR file into the plugins directory on a neo4j container (community verison 4.4.4)\r\n\r\nThe customized function and aggregated function both works as expected. But when I call the customized procedure\r\n\r\n    MATCH (n:Person)\r\n    CALL travers.findCoActors(n.name);\r\n\r\nI got an error\r\n\r\n    Procedure call inside a query does not support naming results implicitly (name explicitly using `YIELD` instead) (line 2, column 1 (offset: 17))\r\n    &quot;CALL travers.findCoActors(n.name);&quot;\r\n     ^\r\n\r\nI understand that I need to use yield and return in the cypher query, but I am not sure what is the correct output format of the findCoActors based on the function definition in java. Not very familiar with all the stream APIs...\r\n\r\n    @Procedure(value = &quot;travers.findCoActors&quot;, mode = Mode.READ)\r\n    @Description(&quot;traverses starting from the Person with the given name and returns all co-actors&quot;)\r\n    public Stream&lt;CoActorRecord&gt; findCoActors(@Name(&quot;actorName&quot;) String actorName) {\r\n    \r\n        Node actor = tx.findNodes(PERSON, &quot;name&quot;, actorName)\r\n                .stream()\r\n                .findFirst()\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    \r\n        final Traverser traverse = tx.traversalDescription()\r\n                .depthFirst()\r\n                .evaluator(Evaluators.fromDepth(1))\r\n                .evaluator(Evaluators.toDepth(2))\r\n                .evaluator(Evaluators.includeIfAcceptedByAny(new PathLogger(), new LabelEvaluator(PERSON)))\r\n                .traverse(actor);\r\n    \r\n        return StreamSupport\r\n                .stream(traverse.spliterator(), false)\r\n                .map(Path::endNode)\r\n                .map(CoActorRecord::new);\r\n    }\r\n\r\n\r\nHow do I make the query work?","title":"errors calling procedures when using the official &quot;Neo4j Procedure Template&quot; travers.findCoActors","body":"<p>I am using this official neo4j template to understand how to write customized procedures <a href=\"https://github.com/neo4j-examples/neo4j-procedure-template\" rel=\"nofollow noreferrer\">https://github.com/neo4j-examples/neo4j-procedure-template</a></p>\n<p>I have loaded the compiled JAR file into the plugins directory on a neo4j container (community verison 4.4.4)</p>\n<p>The customized function and aggregated function both works as expected. But when I call the customized procedure</p>\n<pre><code>MATCH (n:Person)\nCALL travers.findCoActors(n.name);\n</code></pre>\n<p>I got an error</p>\n<pre><code>Procedure call inside a query does not support naming results implicitly (name explicitly using `YIELD` instead) (line 2, column 1 (offset: 17))\n&quot;CALL travers.findCoActors(n.name);&quot;\n ^\n</code></pre>\n<p>I understand that I need to use yield and return in the cypher query, but I am not sure what is the correct output format of the findCoActors based on the function definition in java. Not very familiar with all the stream APIs...</p>\n<pre><code>@Procedure(value = &quot;travers.findCoActors&quot;, mode = Mode.READ)\n@Description(&quot;traverses starting from the Person with the given name and returns all co-actors&quot;)\npublic Stream&lt;CoActorRecord&gt; findCoActors(@Name(&quot;actorName&quot;) String actorName) {\n\n    Node actor = tx.findNodes(PERSON, &quot;name&quot;, actorName)\n            .stream()\n            .findFirst()\n            .orElseThrow(IllegalArgumentException::new);\n\n    final Traverser traverse = tx.traversalDescription()\n            .depthFirst()\n            .evaluator(Evaluators.fromDepth(1))\n            .evaluator(Evaluators.toDepth(2))\n            .evaluator(Evaluators.includeIfAcceptedByAny(new PathLogger(), new LabelEvaluator(PERSON)))\n            .traverse(actor);\n\n    return StreamSupport\n            .stream(traverse.spliterator(), false)\n            .map(Path::endNode)\n            .map(CoActorRecord::new);\n}\n</code></pre>\n<p>How do I make the query work?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665035518,"creation_date":1665035518,"answer_id":73969168,"question_id":73967148,"body_markdown":"**Use this**\r\n\r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdk 23\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n    \r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/dependencies.txt&#39;\r\n            exclude &#39;META-INF/LGPL2.1&#39;\r\n        }\r\n    \r\n        dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        \r\n        implementation &#39;org.apache.httpcomponents:httpclient:4.2.6&#39;\r\n        implementation &#39;org.apache.httpcomponents:httpmime:4.5.6&#39;\r\n    }","title":"Gradle Duplicate classes for org.apache.http library","body":"<p><strong>Use this</strong></p>\n<pre><code>android {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n    useLibrary 'org.apache.http.legacy'\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/dependencies.txt'\n        exclude 'META-INF/LGPL2.1'\n    }\n\n    dexOptions {\n        javaMaxHeapSize &quot;4g&quot;\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.0'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    \n    implementation 'org.apache.httpcomponents:httpclient:4.2.6'\n    implementation 'org.apache.httpcomponents:httpmime:4.5.6'\n}\n</code></pre>\n"}],"owner":{"account_id":2805482,"reputation":397,"user_id":2412814,"accept_rate":62,"display_name":"PewK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665035518,"creation_date":1665011257,"question_id":73967148,"body_markdown":"I am getting duplicate classes errors when building my gradle with the Apache http classes. Here are some of the errors I&#39;m getting:\r\n\r\n```\r\nDuplicate class org.apache.http.HttpHeaders found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.TruncatedChunkException found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.GuardedBy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.Immutable found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.NotThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.ThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.auth.ContextAwareAuthScheme found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.AuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.RedirectStrategy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.DecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.DeflateDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.GzipDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestAcceptEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestAuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestClientConnControl found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.ResponseContentEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.JdkIdn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Punycode found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Rfc3492Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.conn.HttpRoutedConnection found in modules jetified-httpclient-android-4.3.5.1.jar \r\n```\r\n\r\nHere&#39;s my gradle:\r\n\r\n    \r\n\r\n    \r\n\r\n    android {\r\n                compileSdkVersion 30\r\n                buildToolsVersion &quot;30.0.2&quot;\r\n                useLibrary &#39;org.apache.http.legacy&#39;\r\n            \r\n                compileOptions {\r\n                    sourceCompatibility JavaVersion.VERSION_1_8\r\n                    targetCompatibility JavaVersion.VERSION_1_8\r\n                }\r\n            \r\n                dexOptions {\r\n                    javaMaxHeapSize &quot;4g&quot;\r\n                }\r\n    \r\n                ...\r\n             defaultConfig {\r\n                applicationId &quot;com.myapp.android&quot;\r\n                //Oreo 8.0\r\n                minSdkVersion 26\r\n                // Android 11\r\n                targetSdkVersion 30\r\n    }\r\n            \r\n                ...\r\n            }\r\n            \r\n            dependencies {\r\n                ...\r\n                implementation (&#39;org.apache.httpcomponents:httpclient-android:4.3.5.1&#39;) {\r\n                    exclude group: &#39;org.apache.http&#39;\r\n                }\r\n                implementation(&#39;org.apache.httpcomponents:httpmime:4.3&#39;) {\r\n                    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n                 ...\r\n                }\r\n               \r\n        implementation&#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n            }\r\n\r\nI need to access the following classes: `HttpMultipartMode, MultipartEntityBuilder, ContentType, HttpPost, HttpRequestBase, HttpUriRequest`. That&#39;s why this combination of libraries work for me. However it fails right before running on the device. Any support is appreciated!","title":"Gradle Duplicate classes for org.apache.http library","body":"<p>I am getting duplicate classes errors when building my gradle with the Apache http classes. Here are some of the errors I'm getting:</p>\n<pre><code>Duplicate class org.apache.http.HttpHeaders found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.TruncatedChunkException found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.GuardedBy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.Immutable found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.NotThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.ThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.auth.ContextAwareAuthScheme found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.AuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.RedirectStrategy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.DecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.DeflateDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.GzipDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestAcceptEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestAuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestClientConnControl found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.ResponseContentEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.JdkIdn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Punycode found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Rfc3492Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.conn.HttpRoutedConnection found in modules jetified-httpclient-android-4.3.5.1.jar \n</code></pre>\n<p>Here's my gradle:</p>\n<pre><code>android {\n            compileSdkVersion 30\n            buildToolsVersion &quot;30.0.2&quot;\n            useLibrary 'org.apache.http.legacy'\n        \n            compileOptions {\n                sourceCompatibility JavaVersion.VERSION_1_8\n                targetCompatibility JavaVersion.VERSION_1_8\n            }\n        \n            dexOptions {\n                javaMaxHeapSize &quot;4g&quot;\n            }\n\n            ...\n         defaultConfig {\n            applicationId &quot;com.myapp.android&quot;\n            //Oreo 8.0\n            minSdkVersion 26\n            // Android 11\n            targetSdkVersion 30\n}\n        \n            ...\n        }\n        \n        dependencies {\n            ...\n            implementation ('org.apache.httpcomponents:httpclient-android:4.3.5.1') {\n                exclude group: 'org.apache.http'\n            }\n            implementation('org.apache.httpcomponents:httpmime:4.3') {\n                exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n             ...\n            }\n           \n    implementation'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n        }\n</code></pre>\n<p>I need to access the following classes: <code>HttpMultipartMode, MultipartEntityBuilder, ContentType, HttpPost, HttpRequestBase, HttpUriRequest</code>. That's why this combination of libraries work for me. However it fails right before running on the device. Any support is appreciated!</p>\n"},{"tags":["java","int","java.util.scanner"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1487776458,"post_id":42395182,"comment_id":71937863,"body_markdown":"Your code works fine for me if I give it a number.  What, exactly, are you providing as input on system in? (The error message you&#39;ve posted indicates you&#39;re trying to parse `null`)","body":"Your code works fine for me if I give it a number.  What, exactly, are you providing as input on system in? (The error message you&#39;ve posted indicates you&#39;re trying to parse <code>null</code>)"},{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":0,"creation_date":1487776691,"post_id":42395182,"comment_id":71938002,"body_markdown":"What is your input ? The code looks fine to me. http://ideone.com/omNdEF","body":"What is your input ? The code looks fine to me. <a href=\"http://ideone.com/omNdEF\" rel=\"nofollow noreferrer\">ideone.com/omNdEF</a>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1487777588,"post_id":42395182,"comment_id":71938685,"body_markdown":"I doubt that your exception message matches your code. Scanner methods don&#39;t return `null`. They will throw an exception if there&#39;s nothing to read. Please provide a [mcve].","body":"I doubt that your exception message matches your code. Scanner methods don&#39;t return <code>null</code>. They will throw an exception if there&#39;s nothing to read. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":0,"creation_date":1535747469,"post_id":42395182,"comment_id":91195859,"body_markdown":"The steps given do not reproduce the quoted problem.","body":"The steps given do not reproduce the quoted problem."}],"answers":[{"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":3,"creation_date":1487776587,"post_id":42395285,"comment_id":71937934,"body_markdown":"That won&#39;t make any difference, Java&#39;s quite happy to unbox the `Integer` returned by `valueOf()`.","body":"That won&#39;t make any difference, Java&#39;s quite happy to unbox the <code>Integer</code> returned by <code>valueOf()</code>."}],"tags":[],"owner":{"account_id":9538011,"reputation":418,"user_id":7087480,"accept_rate":53,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487776296,"creation_date":1487776296,"answer_id":42395285,"question_id":42395182,"body_markdown":"    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    String name=sc.next();\r\n    int result = Integer.parseInt(name);\r\n    if (result / 2 == 1){\r\n    System.out.println(&quot;a&quot;);\r\n\r\nparseint changes it to a primitive int rather than an Integer object","title":"How do I convert scanner input into an integer?","body":"<pre><code>System.out.println(\"Enter first number\");\nScanner sc=new Scanner(System.in); \nString name=sc.next();\nint result = Integer.parseInt(name);\nif (result / 2 == 1){\nSystem.out.println(\"a\");\n</code></pre>\n\n<p>parseint changes it to a primitive int rather than an Integer object</p>\n"},{"tags":[],"owner":{"account_id":7983058,"reputation":19,"user_id":6023628,"display_name":"Sergei Stepanenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487776914,"creation_date":1487776914,"answer_id":42395537,"question_id":42395182,"body_markdown":"In your stacktrace you have `null` as parameter in `Integer.valueOf(name)`. \r\nSeems your console produce some invalid input sequence.\r\nTry to check it with `sc.hasNext()` condition:\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        if (sc.hasNext()) {\r\n            String name = sc.next();\r\n            int result = Integer.parseInt(name);\r\n            if (result / 2 == 1) {\r\n                System.out.println(&quot;a&quot;);\r\n            }\r\n        }\r\n","title":"How do I convert scanner input into an integer?","body":"<p>In your stacktrace you have <code>null</code> as parameter in <code>Integer.valueOf(name)</code>. \nSeems your console produce some invalid input sequence.\nTry to check it with <code>sc.hasNext()</code> condition:</p>\n\n<pre><code>    System.out.println(\"Enter first number\");\n    Scanner sc = new Scanner(System.in);\n    if (sc.hasNext()) {\n        String name = sc.next();\n        int result = Integer.parseInt(name);\n        if (result / 2 == 1) {\n            System.out.println(\"a\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487777005,"creation_date":1487777005,"answer_id":42395565,"question_id":42395182,"body_markdown":"Try \r\n   \r\n    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    int name=sc.nextInt();\r\n    if ((name / 2) == 1)\r\n    System.out.println(&quot;a&quot;); \r\n\r\n**RUN**\r\n\r\n    run:\r\n    Enter first number\r\n    2\r\n    a","title":"How do I convert scanner input into an integer?","body":"<p>Try </p>\n\n<pre><code>System.out.println(\"Enter first number\");\nScanner sc=new Scanner(System.in); \nint name=sc.nextInt();\nif ((name / 2) == 1)\nSystem.out.println(\"a\"); \n</code></pre>\n\n<p><strong>RUN</strong></p>\n\n<pre><code>run:\nEnter first number\n2\na\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3915545,"reputation":616,"user_id":3239441,"accept_rate":0,"display_name":"Anik Dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487786467,"creation_date":1487786467,"answer_id":42399006,"question_id":42395182,"body_markdown":"Try this code\r\n\r\n    package exmaple;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Parser {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\t\r\n    \t\tString name = in.next();\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tint result = Integer.parseInt(name);\r\n    \t\t\tif(result / 2 == 1) {\r\n    \t\t\t\tSystem.out.println(&quot;a&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch(Exception exception) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I convert scanner input into an integer?","body":"<p>Try this code</p>\n\n<pre><code>package exmaple;\n\nimport java.util.Scanner;\n\npublic class Parser {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        String name = in.next();\n\n        try{\n            int result = Integer.parseInt(name);\n            if(result / 2 == 1) {\n                System.out.println(\"a\");\n            }\n\n        } catch(Exception exception) {\n\n        }\n        in.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19253211,"reputation":3,"user_id":14070712,"display_name":"David Drezel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034996,"creation_date":1665034996,"answer_id":73969102,"question_id":42395182,"body_markdown":"try\r\n\r\n    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    int result = sc.nextInt;\r\n    if (result / 2 == 1){\r\n    System.out.println(&quot;a&quot;);","title":"How do I convert scanner input into an integer?","body":"<p>try</p>\n<pre><code>System.out.println(&quot;Enter first number&quot;);\nScanner sc=new Scanner(System.in); \nint result = sc.nextInt;\nif (result / 2 == 1){\nSystem.out.println(&quot;a&quot;);\n</code></pre>\n"}],"owner":{"account_id":10309082,"reputation":25,"user_id":7605466,"display_name":"O Williams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38338,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":5,"score":0,"last_activity_date":1665034996,"creation_date":1487776017,"question_id":42395182,"body_markdown":"In Java, how, if possible, can I convert numerical scanner input (such as 2 or 87) into an integer variable? What I&#39;m using now yields the error message:\r\n\r\n        Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n        at java.lang.Integer.parseInt(Unknown Source)\r\n\t    at java.lang.Integer.valueOf(Unknown Source)\r\n\t    at diDecryption.Didecryption.main(Didecryption.java:226)\r\n\r\nAnd this is the code I&#39;m using to do it (pieced together, it&#39;s part of a much larger program):\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n\t\tScanner sc=new Scanner(System.in); \r\n\t\tString name=sc.next();\r\n        int result = Integer.valueOf(name);\r\n        if (result / 2 == 1){\r\n\t\tSystem.out.println(&quot;a&quot;);\r\n\r\nThe purpose of the program is to decode an encrypted message. The input is numerical, and if I remove the string to int converter, the division does not work. How do I fix this?\r\n        ","title":"How do I convert scanner input into an integer?","body":"<p>In Java, how, if possible, can I convert numerical scanner input (such as 2 or 87) into an integer variable? What I'm using now yields the error message:</p>\n\n<pre><code>    Exception in thread \"main\" java.lang.NumberFormatException: null\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.valueOf(Unknown Source)\n    at diDecryption.Didecryption.main(Didecryption.java:226)\n</code></pre>\n\n<p>And this is the code I'm using to do it (pieced together, it's part of a much larger program):</p>\n\n<pre><code>    System.out.println(\"Enter first number\");\n    Scanner sc=new Scanner(System.in); \n    String name=sc.next();\n    int result = Integer.valueOf(name);\n    if (result / 2 == 1){\n    System.out.println(\"a\");\n</code></pre>\n\n<p>The purpose of the program is to decode an encrypted message. The input is numerical, and if I remove the string to int converter, the division does not work. How do I fix this?</p>\n"},{"tags":["java","elasticsearch","kibana","elasticsearch-api"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1665000977,"post_id":73965064,"comment_id":130599796,"body_markdown":"I believe you will have to use a script to see if the user is list or object.","body":"I believe you will have to use a script to see if the user is list or object."}],"answers":[{"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1665047330,"post_id":73969056,"comment_id":130609139,"body_markdown":"I&#39;m new to using painless scripts so please forgive me, but is that the entire JSON to use?  Nothing else?  I would assume you&#39;d need to know about `document.user`, no?","body":"I&#39;m new to using painless scripts so please forgive me, but is that the entire JSON to use?  Nothing else?  I would assume you&#39;d need to know about <code>document.user</code>, no?"},{"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"score":0,"creation_date":1665047847,"post_id":73969056,"comment_id":130609347,"body_markdown":"@Dan please change &quot;document&quot; to your field name in query. Test it out and let me know if you face any issue","body":"@Dan please change &quot;document&quot; to your field name in query. Test it out and let me know if you face any issue"},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1665048100,"post_id":73969056,"comment_id":130609451,"body_markdown":"which field should I change it to, &quot;document&quot; or &quot;user&quot;?   Inside the ES doc we literally have a property called &quot;document&quot; (as crazy as that sounds)\n\nSo should I change it to ```&quot;script&quot;: &quot;if (doc[&#39;document.user.keyword&#39;].size()==1) return true;```","body":"which field should I change it to, &quot;document&quot; or &quot;user&quot;?   Inside the ES doc we literally have a property called &quot;document&quot; (as crazy as that sounds)  So should I change it to <code>&quot;script&quot;: &quot;if (doc[&#39;document.user.keyword&#39;].size()==1) return true;</code>"},{"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"score":0,"creation_date":1665048534,"post_id":73969056,"comment_id":130609646,"body_markdown":"@Dan can you add sample document and your mapping","body":"@Dan can you add sample document and your mapping"},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1665061456,"post_id":73969056,"comment_id":130614461,"body_markdown":"Unfort. no, I cannot.  This issue is on a corp account which I cannot share.","body":"Unfort. no, I cannot.  This issue is on a corp account which I cannot share."},{"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"score":0,"creation_date":1665070008,"post_id":73969056,"comment_id":130618088,"body_markdown":"@Dan try document.user.keyword, check if it works. If data type of field document is nested then you will need to use nested query","body":"@Dan try document.user.keyword, check if it works. If data type of field document is nested then you will need to use nested query"}],"tags":[],"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034600,"creation_date":1665034600,"answer_id":73969056,"question_id":73965064,"body_markdown":"You can use script query like below \r\n```\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;script&quot;: {\r\n      &quot;script&quot;: &quot;if (doc[&#39;document.keyword&#39;].size()==1) return true;&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Elastic ExistsRequst for field value and field type","body":"<p>You can use script query like below</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;script&quot;: {\n      &quot;script&quot;: &quot;if (doc['document.keyword'].size()==1) return true;&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665034600,"creation_date":1664995987,"question_id":73965064,"body_markdown":"I&#39;m working on a project creating integration tests and the data I have includes all the schema updates people have done in the past.  For example My &quot;documents&quot; field has a property of `user`, which has been an array in the past, but is now an Object.\r\n\r\nI&#39;m trying to write an integration test that will ONLY use a `document` if the `user` type is Object, not array.\r\n\r\nIs there a way to do this with an `ExistsQuery`?  So far I have not been able to find anything. Here&#39;s my current query which brings back inconsistent data:\r\n\r\n```\r\nGET _search\r\n{\r\n &quot;query&quot; : {\r\n   &quot;bool&quot; : {\r\n     &quot;must&quot; : {\r\n       &quot;exists&quot; : {\r\n         &quot;document.user&quot;\r\n       }\r\n     }\r\n   }\r\n }\r\n}\r\n```\r\n\r\nIdeally I&#39;d like to check for `document.user[]` and filter those values out.","title":"Elastic ExistsRequst for field value and field type","body":"<p>I'm working on a project creating integration tests and the data I have includes all the schema updates people have done in the past.  For example My &quot;documents&quot; field has a property of <code>user</code>, which has been an array in the past, but is now an Object.</p>\n<p>I'm trying to write an integration test that will ONLY use a <code>document</code> if the <code>user</code> type is Object, not array.</p>\n<p>Is there a way to do this with an <code>ExistsQuery</code>?  So far I have not been able to find anything. Here's my current query which brings back inconsistent data:</p>\n<pre><code>GET _search\n{\n &quot;query&quot; : {\n   &quot;bool&quot; : {\n     &quot;must&quot; : {\n       &quot;exists&quot; : {\n         &quot;document.user&quot;\n       }\n     }\n   }\n }\n}\n</code></pre>\n<p>Ideally I'd like to check for <code>document.user[]</code> and filter those values out.</p>\n"},{"tags":["java","list","matrix"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1664976683,"post_id":73960753,"comment_id":130591399,"body_markdown":"You don&#39;t need to return the matrix passed as a parameter, right? That would mean you could create a new list of lists and then add the values accordingly. Rotation basically swaps columns and rows so depending on whether the first dimension is rows or columns you basically read the values from the same column or row and add then to the _new array list_ which you in turn add to the _new list_ that represents the entire matrix.","body":"You don&#39;t need to return the matrix passed as a parameter, right? That would mean you could create a new list of lists and then add the values accordingly. Rotation basically swaps columns and rows so depending on whether the first dimension is rows or columns you basically read the values from the same column or row and add then to the <i>new array list</i> which you in turn add to the <i>new list</i> that represents the entire matrix."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664977872,"creation_date":1664977217,"answer_id":73961271,"question_id":73960753,"body_markdown":"In case if according to the requirements of this challenge you&#39;re expected to return a newly created nested list, then you can prepopulate it and then manipulate with it as if it&#39;s a nested array.\r\n\r\nThe key point you need to understand in order to solve this problem - is how in indices are getting changed during rotation of element. And the best way to visualize this is to draw this process on a paper.\r\n\r\nIf you&#39;ll do that, you&#39;ll be able to observe that while rotating elements of a square matrix clockwise that:\r\n* a **row** becomes a **column**\r\n```\r\nrow -&gt; column // i -&gt; j   in the code\r\n```\r\n* a new **column** index becomes equal to the matrix size `n` minus `1` minus previous **row** index\r\n```\r\nj -&gt; (n - 1) - i\r\n```\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = getMatrix(n);\r\n        \r\n        // i -&gt; j &amp; j -&gt; (n - 1) - i\r\n        \r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                int next = matrix.get(i).get(j);\r\n                result.get(j).set((n - 1) - i, next);\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n    \r\n    public static List&lt;List&lt;Integer&gt;&gt; getMatrix(int n) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            result.add(new ArrayList&lt;&gt;(Collections.nCopies(n, 0)));\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; rotatedList = rotate(List.of(\r\n            List.of(1, 2, 3),\r\n            List.of(4, 5, 6),\r\n            List.of(7, 8, 9)\r\n        ), 3);\r\n        \r\n        rotatedList.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[7, 4, 1]\r\n[8, 5, 2]\r\n[9, 6, 3]\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>In case if according to the requirements of this challenge you're expected to return a newly created nested list, then you can prepopulate it and then manipulate with it as if it's a nested array.</p>\n<p>The key point you need to understand in order to solve this problem - is how in indices are getting changed during rotation of element. And the best way to visualize this is to draw this process on a paper.</p>\n<p>If you'll do that, you'll be able to observe that while rotating elements of a square matrix clockwise that:</p>\n<ul>\n<li>a <strong>row</strong> becomes a <strong>column</strong></li>\n</ul>\n<pre><code>row -&gt; column // i -&gt; j   in the code\n</code></pre>\n<ul>\n<li>a new <strong>column</strong> index becomes equal to the matrix size <code>n</code> minus <code>1</code> minus previous <strong>row</strong> index</li>\n</ul>\n<pre><code>j -&gt; (n - 1) - i\n</code></pre>\n<p>That's how it might be implemented:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    List&lt;List&lt;Integer&gt;&gt; result = getMatrix(n);\n    \n    // i -&gt; j &amp; j -&gt; (n - 1) - i\n    \n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            int next = matrix.get(i).get(j);\n            result.get(j).set((n - 1) - i, next);\n        }\n    }\n    \n    return result;\n}\n\npublic static List&lt;List&lt;Integer&gt;&gt; getMatrix(int n) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        result.add(new ArrayList&lt;&gt;(Collections.nCopies(n, 0)));\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;Integer&gt;&gt; rotatedList = rotate(List.of(\n        List.of(1, 2, 3),\n        List.of(4, 5, 6),\n        List.of(7, 8, 9)\n    ), 3);\n    \n    rotatedList.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[7, 4, 1]\n[8, 5, 2]\n[9, 6, 3]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664979995,"creation_date":1664978912,"answer_id":73961649,"question_id":73960753,"body_markdown":"Try this.\r\n\r\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; rotate(List&lt;List&lt;T&gt;&gt; matrix) {\r\n        final int rows = matrix.size(), cols = matrix.get(0).size();\r\n        List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;(cols);\r\n        for (int c = 0; c &lt; cols; ++c) {\r\n            List&lt;T&gt; newRow = new ArrayList&lt;&gt;(rows);\r\n            for (int r = rows - 1; r &gt;= 0 ; --r)\r\n                newRow.add(matrix.get(r).get(c));\r\n            result.add(newRow);\r\n        }\r\n        return result;\r\n    }\r\n    \r\nand\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; matrix = List.of(\r\n        List.of(1,2,3),\r\n        List.of(4,5,6));\r\n    List&lt;List&lt;Integer&gt;&gt; result = rotate(matrix);\r\n    for (List&lt;Integer&gt; row : result)\r\n        System.out.println(row);\r\n\r\n\r\noutput:\r\n\r\n    [4, 1]\r\n    [5, 2]\r\n    [6, 3]\r\n\r\n","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>Try this.</p>\n<pre><code>static &lt;T&gt; List&lt;List&lt;T&gt;&gt; rotate(List&lt;List&lt;T&gt;&gt; matrix) {\n    final int rows = matrix.size(), cols = matrix.get(0).size();\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;(cols);\n    for (int c = 0; c &lt; cols; ++c) {\n        List&lt;T&gt; newRow = new ArrayList&lt;&gt;(rows);\n        for (int r = rows - 1; r &gt;= 0 ; --r)\n            newRow.add(matrix.get(r).get(c));\n        result.add(newRow);\n    }\n    return result;\n}\n</code></pre>\n<p>and</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; matrix = List.of(\n    List.of(1,2,3),\n    List.of(4,5,6));\nList&lt;List&lt;Integer&gt;&gt; result = rotate(matrix);\nfor (List&lt;Integer&gt; row : result)\n    System.out.println(row);\n</code></pre>\n<p>output:</p>\n<pre><code>[4, 1]\n[5, 2]\n[6, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665034587,"creation_date":1664980966,"answer_id":73962139,"question_id":73960753,"body_markdown":"It is possible to do it **in place**\r\n\r\n```java\r\npublic static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n    assert matrix.size() == n;\r\n\r\n    /*\r\n        1,2,3\r\n        4,5,6\r\n        7,8,9\r\n    */\r\n    matrix.forEach(row -&gt; {\r\n        assert row.size() == n;\r\n\r\n        for (int i = 0; i &lt; n / 2; i++)\r\n            swap(row, i, row, n - 1 - i);\r\n    });\r\n\r\n    /*\r\n        3,2,1\r\n        6,5,4\r\n        9,8,7\r\n    */\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt;= i; j++) {\r\n            List&lt;Integer&gt; row1 = matrix.get(i - j);\r\n            List&lt;Integer&gt; row2 = matrix.get(n - 1 - j);\r\n            swap(row1, j, row2, n - 1 - i + j);\r\n        }\r\n    }\r\n\r\n    /*\r\n        7,4,1\r\n        8,5,2\r\n        9,6,3\r\n    */\r\n    return matrix;\r\n}\r\n\r\nprivate static void swap(List&lt;Integer&gt; one, int i, List&lt;Integer&gt; two, int j) {\r\n    int tmp = one.get(i);\r\n    one.set(i, two.get(j));\r\n    two.set(j, tmp);\r\n}\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>It is possible to do it <strong>in place</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    assert matrix.size() == n;\n\n    /*\n        1,2,3\n        4,5,6\n        7,8,9\n    */\n    matrix.forEach(row -&gt; {\n        assert row.size() == n;\n\n        for (int i = 0; i &lt; n / 2; i++)\n            swap(row, i, row, n - 1 - i);\n    });\n\n    /*\n        3,2,1\n        6,5,4\n        9,8,7\n    */\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= i; j++) {\n            List&lt;Integer&gt; row1 = matrix.get(i - j);\n            List&lt;Integer&gt; row2 = matrix.get(n - 1 - j);\n            swap(row1, j, row2, n - 1 - i + j);\n        }\n    }\n\n    /*\n        7,4,1\n        8,5,2\n        9,6,3\n    */\n    return matrix;\n}\n\nprivate static void swap(List&lt;Integer&gt; one, int i, List&lt;Integer&gt; two, int j) {\n    int tmp = one.get(i);\n    one.set(i, two.get(j));\n    two.set(j, tmp);\n}\n</code></pre>\n"}],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73962139,"answer_count":3,"score":0,"last_activity_date":1665034587,"creation_date":1664974869,"question_id":73960753,"body_markdown":"Encountered this problem on hackerrank ,\r\n\r\nPlease guide on how to rotate a 2D array clockwise by 90 degree using `ArrayList` only?\r\n\r\nHere is my code below:\r\n\r\n```\r\npublic static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n    \r\n    int N=n;\r\n    ArrayList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\r\n    for (int j = 0; j &lt; N; j++) {\r\n        for (int i = N - 1; i &gt;= 0; i--)\r\n            matrix.get(i).get(j);\r\n    }\r\n    temp.add(matrix);  \r\n    return temp;\r\n    }\r\n}\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>Encountered this problem on hackerrank ,</p>\n<p>Please guide on how to rotate a 2D array clockwise by 90 degree using <code>ArrayList</code> only?</p>\n<p>Here is my code below:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    \n    int N=n;\n    ArrayList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\n    for (int j = 0; j &lt; N; j++) {\n        for (int i = N - 1; i &gt;= 0; i--)\n            matrix.get(i).get(j);\n    }\n    temp.add(matrix);  \n    return temp;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664927738,"post_id":73953702,"comment_id":130580442,"body_markdown":"Where is your spring/test config? Sounds like `Calculator` is not a &quot;bean&quot;, then `@Value` is &quot;worthless&quot; (does nothing, `boolean` default/unassigned value is `false`)","body":"Where is your spring/test config? Sounds like <code>Calculator</code> is not a &quot;bean&quot;, then <code>@Value</code> is &quot;worthless&quot; (does nothing, <code>boolean</code> default/unassigned value is <code>false</code>)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664954863,"post_id":73953702,"comment_id":130584285,"body_markdown":"You are doing `new Calculator` which renders `@Value` useless. Inject the `Calculator` so you get a spring managed instance.","body":"You are doing <code>new Calculator</code> which renders <code>@Value</code> useless. Inject the <code>Calculator</code> so you get a spring managed instance."},{"owner":{"account_id":15284188,"reputation":3,"user_id":11027679,"display_name":"Shubham Gupta"},"score":0,"creation_date":1664957567,"post_id":73953702,"comment_id":130585085,"body_markdown":"@xerx593 - `Calculator` is a bean. I forgot to add the `@Component` annotation to the posted question.","body":"@xerx593 - <code>Calculator</code> is a bean. I forgot to add the <code>@Component</code> annotation to the posted question."}],"answers":[{"tags":[],"owner":{"account_id":21132388,"reputation":1,"user_id":15536444,"display_name":"Andreas K&#252;bl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034100,"creation_date":1665033979,"answer_id":73968975,"question_id":73953702,"body_markdown":"As M. Deinum already said you are creating the Calculator with &quot;new Calculator();&quot; in the init() method. Therefore it is not a spring-managed bean. \r\n\r\nYou should have spring create the calculator. \r\nPre-condition &quot;spring-boot-starter-test&quot; E.g.:\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\r\n    @SpringBootTest(classes = Calculator.class)\r\n    public class CalculatorTest {\r\n    \r\n        @Autowired\r\n        private Calculator calculator;\r\n        \r\n        @Test\r\n        public void isEnabled_Success_Test() {\r\n            Assert.assertTrue(calculator.isEnabled());\r\n        }\r\n    }\r\n\r\nMoreover, you are currently using JUnit4 maybe it is a good idea to move to JUnit5\r\n","title":"@TestPropertySource not initialising boolean property","body":"<p>As M. Deinum already said you are creating the Calculator with &quot;new Calculator();&quot; in the init() method. Therefore it is not a spring-managed bean.</p>\n<p>You should have spring create the calculator.\nPre-condition &quot;spring-boot-starter-test&quot; E.g.:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\n@SpringBootTest(classes = Calculator.class)\npublic class CalculatorTest {\n\n    @Autowired\n    private Calculator calculator;\n    \n    @Test\n    public void isEnabled_Success_Test() {\n        Assert.assertTrue(calculator.isEnabled());\n    }\n}\n</code></pre>\n<p>Moreover, you are currently using JUnit4 maybe it is a good idea to move to JUnit5</p>\n"}],"owner":{"account_id":15284188,"reputation":3,"user_id":11027679,"display_name":"Shubham Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665034100,"creation_date":1664918034,"question_id":73953702,"body_markdown":"I am trying to override one of my declared variables by using @TestPropertySource. Below is my code for the test :\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\r\n    public class CalculatorTest {\r\n    \r\n        private Calculator calculator;\r\n    \r\n        @Before\r\n        public void init() {\r\n            calculator = new Calculator();\r\n        }\r\n    \r\n        @Test\r\n        public void isEnabled_Success_Test() {\r\n            Assert.assertFalse(calculator.isEnabled());\r\n        }\r\n    }\r\n\r\nHere is the class to be tested :\r\n\r\n    @Component\r\n    public class Calculator {\r\n    \r\n        @Value(&quot;${calculator.enabled:true}&quot;)\r\n        private boolean isEnabled;\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return isEnabled;\r\n        }\r\n    }\r\n\r\nHowever, I always end up with the test actually passing when it should not since the isEnabled field gets initialized with the default value of false.\r\nWhat could I be doing wrong here?","title":"@TestPropertySource not initialising boolean property","body":"<p>I am trying to override one of my declared variables by using @TestPropertySource. Below is my code for the test :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\npublic class CalculatorTest {\n\n    private Calculator calculator;\n\n    @Before\n    public void init() {\n        calculator = new Calculator();\n    }\n\n    @Test\n    public void isEnabled_Success_Test() {\n        Assert.assertFalse(calculator.isEnabled());\n    }\n}\n</code></pre>\n<p>Here is the class to be tested :</p>\n<pre><code>@Component\npublic class Calculator {\n\n    @Value(&quot;${calculator.enabled:true}&quot;)\n    private boolean isEnabled;\n\n    @Override\n    public boolean isEnabled() {\n        return isEnabled;\n    }\n}\n</code></pre>\n<p>However, I always end up with the test actually passing when it should not since the isEnabled field gets initialized with the default value of false.\nWhat could I be doing wrong here?</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1664878929,"post_id":73946337,"comment_id":130565992,"body_markdown":"Are the methods in the same order than in the controller class?","body":"Are the methods in the same order than in the controller class?"},{"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"score":0,"creation_date":1664880155,"post_id":73946337,"comment_id":130566373,"body_markdown":"We have only one method per class, and that it is ok, but swagger is a mess because there too many sections, one by method","body":"We have only one method per class, and that it is ok, but swagger is a mess because there too many sections, one by method"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1664880338,"post_id":73946337,"comment_id":130566422,"body_markdown":"You seem to be misusing `tags`. Tags are used to create groups like that in Swagger UI. Maybe you meant to use those texts as operation `summary` or `description`?","body":"You seem to be misusing <code>tags</code>. Tags are used to create groups like that in Swagger UI. Maybe you meant to use those texts as operation <code>summary</code> or <code>description</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1664880413,"post_id":73946337,"comment_id":130566440,"body_markdown":"Why not grouping methods by the class of the objects manipulated (here application?)","body":"Why not grouping methods by the class of the objects manipulated (here application?)"},{"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"score":0,"creation_date":1664880909,"post_id":73946337,"comment_id":130566625,"body_markdown":"We use the tags, one for each method, because in this way, when openapi-generator creates the interfaces, it generates an interface for each endpoint, so we can create classes of the type CreateTextEndpoint, DeleteTextEndpoint, etc instead of a single class that contains all the methods, so we isolate the dependencies of each method and do not generate too large controllers","body":"We use the tags, one for each method, because in this way, when openapi-generator creates the interfaces, it generates an interface for each endpoint, so we can create classes of the type CreateTextEndpoint, DeleteTextEndpoint, etc instead of a single class that contains all the methods, so we isolate the dependencies of each method and do not generate too large controllers"}],"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665032998,"creation_date":1664878311,"question_id":73946337,"body_markdown":"We have defined, for example, a path to create, read, modify and delete texts:\r\n\r\n       /api/v1/applications/{applicationCode}/texts:\r\n         get:\r\n           tags:\r\n           - Texts - Find texts\r\n    [...]\r\n         post:\r\n           tags:\r\n           - Texts - Create text\r\n    [...]\r\n         delete:\r\n           tags:\r\n           - Texts - Delete text\r\n\r\nWe have a tag for each endpoint, and thus it generates an interface for each one and thus we have each endpoint separated in a class (CreateTextEndpoint, FindTextEndpoint, etc). The problem is that the documentation in swagger is not very attractive, since it also separates and creates a section for each tag (as you can see in the image below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs it possible to have a class for each endpoint like we have, but grouping them in swagger?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D3Nj7.png","title":"Openapi 3 one single endpoint per operation","body":"<p>We have defined, for example, a path to create, read, modify and delete texts:</p>\n<pre><code>   /api/v1/applications/{applicationCode}/texts:\n     get:\n       tags:\n       - Texts - Find texts\n[...]\n     post:\n       tags:\n       - Texts - Create text\n[...]\n     delete:\n       tags:\n       - Texts - Delete text\n</code></pre>\n<p>We have a tag for each endpoint, and thus it generates an interface for each one and thus we have each endpoint separated in a class (CreateTextEndpoint, FindTextEndpoint, etc). The problem is that the documentation in swagger is not very attractive, since it also separates and creates a section for each tag (as you can see in the image below).</p>\n<p><a href=\"https://i.stack.imgur.com/D3Nj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3Nj7.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to have a class for each endpoint like we have, but grouping them in swagger?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1435576801,"post_id":31114289,"comment_id":50242006,"body_markdown":"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html","body":"<a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/&hellip;</a>"},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":2,"creation_date":1435576807,"post_id":31114289,"comment_id":50242010,"body_markdown":"Have you read the related documentation? https://www.jetbrains.com/idea/help/live-templates.html","body":"Have you read the related documentation? <a href=\"https://www.jetbrains.com/idea/help/live-templates.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/live-templates.html</a>"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577001,"post_id":31114289,"comment_id":50242124,"body_markdown":"I did not realize that it was called &quot;templates&quot;. What a horrible naming.","body":"I did not realize that it was called &quot;templates&quot;. What a horrible naming."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1435577155,"post_id":31114289,"comment_id":50242230,"body_markdown":"Better than &quot;macro&quot;, because they _are_ templates. :P","body":"Better than &quot;macro&quot;, because they <i>are</i> templates. :P"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577189,"post_id":31114289,"comment_id":50242252,"body_markdown":"Also, did not work: https://www.dropbox.com/s/m7hyvfzljecft4d/Screenshot%202015-06-29%2013.26.20.png?dl=0","body":"Also, did not work: <a href=\"https://www.dropbox.com/s/m7hyvfzljecft4d/Screenshot%202015-06-29%2013.26.20.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/m7hyvfzljecft4d/&hellip;</a>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1435577436,"post_id":31114289,"comment_id":50242385,"body_markdown":"@ChristianJonassen It works ... if you define the context.","body":"@ChristianJonassen It works ... if you define the context."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577503,"post_id":31114289,"comment_id":50242435,"body_markdown":"@Tom nope. https://www.dropbox.com/s/cb5h7fnrhttu6js/Screenshot%202015-06-29%2013.31.17.png?dl=0 and, well, https://www.dropbox.com/s/zfnkz1d17igvk38/Screenshot%202015-06-29%2013.31.33.png?dl=0 ...","body":"@Tom nope. <a href=\"https://www.dropbox.com/s/cb5h7fnrhttu6js/Screenshot%202015-06-29%2013.31.17.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/cb5h7fnrhttu6js/&hellip;</a> and, well, <a href=\"https://www.dropbox.com/s/zfnkz1d17igvk38/Screenshot%202015-06-29%2013.31.33.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/zfnkz1d17igvk38/&hellip;</a> ..."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577674,"post_id":31114289,"comment_id":50242544,"body_markdown":"oh, I see now what you mean. the context UNDER the text field. sorry. feel free to make an answer.","body":"oh, I see now what you mean. the context UNDER the text field. sorry. feel free to make an answer."}],"answers":[{"tags":[],"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1435578486,"creation_date":1435578176,"answer_id":31114815,"question_id":31114289,"body_markdown":"Like said in the comments, these macros are called [&quot;Live Templates&quot;](https://www.jetbrains.com/idea/help/live-templates.html).\n\nTo create one:\n\n* open the settings menu\n* select the &quot;Live Templates&quot; entry in the left menu\n* select the category where you like to create your new template\n* press the &quot;+&quot; button on the right hand side of the settings menu window\n* add the abbreviation, &quot;fb&quot; in your case\n* add a description\n* ... and then the text:\n\n        final boolean\n  (`$END$` can be omitted here)\n\n* Now select the _context_ (link is beneath the text field) where this template will be used and recognized by IDEA\n\n  I&#39;ve used the contexts Java _Statement_, _Expression_, _Declaration_ and _Other_ (but &quot;Other&quot; isn&#39;t shown in the list of contexts).\n\nIt could like this:\n![live template example][1]\n\nTo use it write `fb` on the appropriate place and either wait until IDEA suggests to use the template or press &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;space&lt;/kbd&gt; to activate the auto complete, it should create:\n\n    final boolean\n\nYou may find some more information about creating and editing live templates on the official help page: [Creating and Editing Live Templates](https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html)\n\n  [1]: http://i.stack.imgur.com/fVGOs.png","title":"Adding your own custom macros like &quot;sout&quot;in IntelliJ","body":"<p>Like said in the comments, these macros are called <a href=\"https://www.jetbrains.com/idea/help/live-templates.html\" rel=\"nofollow noreferrer\">&quot;Live Templates&quot;</a>.</p>\n<p>To create one:</p>\n<ul>\n<li><p>open the settings menu</p>\n</li>\n<li><p>select the &quot;Live Templates&quot; entry in the left menu</p>\n</li>\n<li><p>select the category where you like to create your new template</p>\n</li>\n<li><p>press the &quot;+&quot; button on the right hand side of the settings menu window</p>\n</li>\n<li><p>add the abbreviation, &quot;fb&quot; in your case</p>\n</li>\n<li><p>add a description</p>\n</li>\n<li><p>... and then the text:</p>\n<pre><code>  final boolean\n</code></pre>\n<p>(<code>$END$</code> can be omitted here)</p>\n</li>\n<li><p>Now select the <em>context</em> (link is beneath the text field) where this template will be used and recognized by IDEA</p>\n<p>I've used the contexts Java <em>Statement</em>, <em>Expression</em>, <em>Declaration</em> and <em>Other</em> (but &quot;Other&quot; isn't shown in the list of contexts).</p>\n</li>\n</ul>\n<p>It could like this:\n<img src=\"https://i.stack.imgur.com/fVGOs.png\" alt=\"live template example\" /></p>\n<p>To use it write <code>fb</code> on the appropriate place and either wait until IDEA suggests to use the template or press <kbd>ctrl</kbd> + <kbd>space</kbd> to activate the auto complete, it should create:</p>\n<pre><code>final boolean\n</code></pre>\n<p>You may find some more information about creating and editing live templates on the official help page: <a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html\" rel=\"nofollow noreferrer\">Creating and Editing Live Templates</a></p>\n"}],"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31114815,"answer_count":1,"score":5,"last_activity_date":1665032637,"creation_date":1435576662,"question_id":31114289,"body_markdown":"I really like to be able to type sout&lt;TAB&gt; and get System.out.println. In fact, I like it so much that I want to add more of these. For example, fb could be final boolean.\r\n\r\nHow do I add that?","title":"Adding your own custom macros like &quot;sout&quot;in IntelliJ","body":"<p>I really like to be able to type sout and get System.out.println. In fact, I like it so much that I want to add more of these. For example, fb could be final boolean.</p>\n\n<p>How do I add that?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1344425906,"post_id":11863663,"comment_id":15781234,"body_markdown":"Do you mean all at once, or one at a time (as in organise imports, then safely delete unused functions, etc.)","body":"Do you mean all at once, or one at a time (as in organise imports, then safely delete unused functions, etc.)"},{"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"score":0,"creation_date":1344431853,"post_id":11863663,"comment_id":15783928,"body_markdown":"DOes it make a difference? I guess the underlying implementation will go one by one with all of them","body":"DOes it make a difference? I guess the underlying implementation will go one by one with all of them"}],"answers":[{"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":6,"creation_date":1344435527,"post_id":11863717,"comment_id":15785753,"body_markdown":"IDEA provides hundreds of code inspections out of the box. To address this question installing FindBugs is not needed, IDEA can already find and fix the problems outlined by @Bober02.","body":"IDEA provides hundreds of code inspections out of the box. To address this question installing FindBugs is not needed, IDEA can already find and fix the problems outlined by @Bober02."},{"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"score":0,"creation_date":1344459742,"post_id":11863717,"comment_id":15796556,"body_markdown":"Yes, but FindBugs provides a way more inspections.","body":"Yes, but FindBugs provides a way more inspections."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1344468413,"post_id":11863717,"comment_id":15799266,"body_markdown":"Are you sure about **a way more**? The list at http://findbugs.sourceforge.net/bugDescriptions.html contains about **400** inspections, while IntelliJ IDEA has more than **600**: http://www.jetbrains.com/idea/documentation/inspections.jsp.","body":"Are you sure about <b>a way more</b>? The list at <a href=\"http://findbugs.sourceforge.net/bugDescriptions.html\" rel=\"nofollow noreferrer\">findbugs.sourceforge.net/bugDescriptions.html</a> contains about <b>400</b> inspections, while IntelliJ IDEA has more than <b>600</b>: <a href=\"http://www.jetbrains.com/idea/documentation/inspections.jsp\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation/inspections.jsp</a>."}],"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1344425989,"creation_date":1344425989,"answer_id":11863717,"question_id":11863663,"body_markdown":"There is a plugin for IDEA - FindBugs-IDEA. It scans for cases you listed and a lot more.","title":"intellij - cleanup code","body":"<p>There is a plugin for IDEA - FindBugs-IDEA. It scans for cases you listed and a lot more.</p>\n"},{"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1344426499,"post_id":11863721,"comment_id":15781470,"body_markdown":"In addition you could ask IDEA to optimize, reformat code on VCS commit","body":"In addition you could ask IDEA to optimize, reformat code on VCS commit"},{"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"score":0,"creation_date":1344426992,"post_id":11863721,"comment_id":15781682,"body_markdown":"Yes indeed, when commiting IntelliJ at least checks for warnings and TODO&#39;s in your code, giving you the chance to verify them before you commit. That comes in pretty handy.","body":"Yes indeed, when commiting IntelliJ at least checks for warnings and TODO&#39;s in your code, giving you the chance to verify them before you commit. That comes in pretty handy."}],"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344426004,"creation_date":1344426004,"answer_id":11863721,"question_id":11863663,"body_markdown":"You can try it out using the trial.\r\n\r\nAs to the imports, yes, you can Organize Imports `ctrl-alt-o`, and you can choose to do so on the current file or on every file in the project.\r\n\r\nNot sure if you can delete all unused methods in a project, but you do get warnings regarding methods/variables that aren&#39;t used and can be safely deleted (and IntelliJ does offer the option to safely delete).\r\n\r\nAlso, in the Preferences, you can setup a ton of things that you choose to be considered as warnings, depending on your coding style, conventions, etc.","title":"intellij - cleanup code","body":"<p>You can try it out using the trial.</p>\n\n<p>As to the imports, yes, you can Organize Imports <code>ctrl-alt-o</code>, and you can choose to do so on the current file or on every file in the project.</p>\n\n<p>Not sure if you can delete all unused methods in a project, but you do get warnings regarding methods/variables that aren't used and can be safely deleted (and IntelliJ does offer the option to safely delete).</p>\n\n<p>Also, in the Preferences, you can setup a ton of things that you choose to be considered as warnings, depending on your coding style, conventions, etc.</p>\n"},{"comments":[{"owner":{"account_id":1124507,"reputation":1168,"user_id":1112106,"accept_rate":100,"display_name":"feuyeux"},"score":0,"creation_date":1392612650,"post_id":11863997,"comment_id":33024602,"body_markdown":"For lightweight, the analyze-inspect code.. is enough, instead of installing Findbugs/PMD/CheckStyle\nFor full inspection, it&#39;s better to use SonarQube standalone or running with Jenkins","body":"For lightweight, the analyze-inspect code.. is enough, instead of installing Findbugs/PMD/CheckStyle For full inspection, it&#39;s better to use SonarQube standalone or running with Jenkins"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1344427003,"creation_date":1344427003,"answer_id":11863997,"question_id":11863663,"body_markdown":"Use `Analyze` | **Inspect Code** with the corresponding options enabled to find unused code, in the results you can apply the fix to all the occurrences at once removing all the unused methods and fields.\r\n\r\nUse `Code` | **Reformat Code** or **Optimize Imports** for the rest. Reformat Code has an option to optimize imports and you can run it on the whole project to do both operations globally in a single step. \r\n\r\nIt&#39;s also possible to optimize imports on the fly (enabled in Settings) and reformat/optimize imports when committing to the version control. Code inspections can be also executed before the commit to notify you about possible problems.","title":"intellij - cleanup code","body":"<p>Use <code>Analyze</code> | <strong>Inspect Code</strong> with the corresponding options enabled to find unused code, in the results you can apply the fix to all the occurrences at once removing all the unused methods and fields.</p>\n\n<p>Use <code>Code</code> | <strong>Reformat Code</strong> or <strong>Optimize Imports</strong> for the rest. Reformat Code has an option to optimize imports and you can run it on the whole project to do both operations globally in a single step. </p>\n\n<p>It's also possible to optimize imports on the fly (enabled in Settings) and reformat/optimize imports when committing to the version control. Code inspections can be also executed before the commit to notify you about possible problems.</p>\n"},{"tags":[],"owner":{"account_id":6537188,"reputation":2325,"user_id":5303558,"display_name":"Dmytro Melnychuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476903450,"creation_date":1476903450,"answer_id":40139458,"question_id":11863663,"body_markdown":"I propose to use these 10 IDEA Inspections that maybe you&#39;re not using:\r\n\r\nhttp://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html\r\n\r\nAnd from myself I like fighting with **NullPointerException** with help of **Intellij IDEA.** \r\n\r\nFollowing inspections are helping me so much:\r\n\r\n 1. Constant conditions &amp; exceptions\r\n[![enter image description here][1]][1]\r\n 2. @NotNull/@Nullable problems\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XAGUE.png\r\n  [2]: https://i.stack.imgur.com/Qu00a.png","title":"intellij - cleanup code","body":"<p>I propose to use these 10 IDEA Inspections that maybe you're not using:</p>\n\n<p><a href=\"http://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html\" rel=\"nofollow\">http://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html</a></p>\n\n<p>And from myself I like fighting with <strong>NullPointerException</strong> with help of <strong>Intellij IDEA.</strong> </p>\n\n<p>Following inspections are helping me so much:</p>\n\n<ol>\n<li>Constant conditions &amp; exceptions\n<a href=\"https://i.stack.imgur.com/XAGUE.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/XAGUE.png\" alt=\"enter image description here\"></a></li>\n<li>@NotNull/@Nullable problems\n<a href=\"https://i.stack.imgur.com/Qu00a.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Qu00a.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13018,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11863717,"answer_count":4,"score":8,"last_activity_date":1665032061,"creation_date":1344425794,"question_id":11863663,"body_markdown":"I was wondering whether intellij has a feature that would allow it to scan through files and perform things such as organising imports, safely deleting unused functions and fields etc. This feature was very helpful in .NET in Resharper plugin. Thanks for any pointers.","title":"intellij - cleanup code","body":"<p>I was wondering whether intellij has a feature that would allow it to scan through files and perform things such as organising imports, safely deleting unused functions and fields etc. This feature was very helpful in .NET in Resharper plugin. Thanks for any pointers.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":1,"creation_date":1665028298,"post_id":73968442,"comment_id":130604449,"body_markdown":"Using static variable in conjuction to the Spring Bean is not advice, because we can&#39;t make sure the object is injected by Spring before the static function is called, but if you are sure that the variable is always initiated then I have nothing else stopping you. \nSpring Bean is instantiated with singleton object design pattern unless specified different, I&#39;m not sure about what you want, creating autowired constructor looks fine for me, if you want something else you can also autowired by setter injection through setter function.","body":"Using static variable in conjuction to the Spring Bean is not advice, because we can&#39;t make sure the object is injected by Spring before the static function is called, but if you are sure that the variable is always initiated then I have nothing else stopping you.  Spring Bean is instantiated with singleton object design pattern unless specified different, I&#39;m not sure about what you want, creating autowired constructor looks fine for me, if you want something else you can also autowired by setter injection through setter function."},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665028538,"post_id":73968442,"comment_id":130604486,"body_markdown":"I just want to have a different approach on how to implement it but I&#39;m just worried that there might be some performance issues later on that&#39;s why I have posted it here to get some feedback before proceeding..","body":"I just want to have a different approach on how to implement it but I&#39;m just worried that there might be some performance issues later on that&#39;s why I have posted it here to get some feedback before proceeding.."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1665029059,"post_id":73968442,"comment_id":130604572,"body_markdown":"I do not see any issue with either of both your approach unless the static reference, and also if you want another approach you can check the setter injection style, it uses autowired annotation on a function that sets the value of the variable you want, and then the Spring framework will inject the appropriate object to the variable.","body":"I do not see any issue with either of both your approach unless the static reference, and also if you want another approach you can check the setter injection style, it uses autowired annotation on a function that sets the value of the variable you want, and then the Spring framework will inject the appropriate object to the variable."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":3,"creation_date":1665035516,"post_id":73968442,"comment_id":130605639,"body_markdown":"My 2ct: when in rome... If you have decided to use Spring, then use it the intended way. If you are asking this, because some button down many many layouts and classes needs this service, then you might want to rething your architecture. A button should not need a repository, it should set the wheels in motion for some central building block to use it (just an example of course).","body":"My 2ct: when in rome... If you have decided to use Spring, then use it the intended way. If you are asking this, because some button down many many layouts and classes needs this service, then you might want to rething your architecture. A button should not need a repository, it should set the wheels in motion for some central building block to use it (just an example of course)."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":1,"creation_date":1665047457,"post_id":73968442,"comment_id":130609190,"body_markdown":"What is the problem you&#39;re actually trying to solve? In other words, why are you &quot;trying to avoid passing a parameter in a view class of Vaadin&quot;?","body":"What is the problem you&#39;re actually trying to solve? In other words, why are you &quot;trying to avoid passing a parameter in a view class of Vaadin&quot;?"},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665364041,"post_id":73968442,"comment_id":130675837,"body_markdown":"Hi @ollitietavainen I was not trying to solve a problem, I was just trying to implement a different approach..","body":"Hi @ollitietavainen I was not trying to solve a problem, I was just trying to implement a different approach.."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665384380,"post_id":73968442,"comment_id":130678692,"body_markdown":"As @cfrick Use the tools/frameworks as they are intended to use","body":"As @cfrick Use the tools/frameworks as they are intended to use"},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1665386211,"post_id":73968442,"comment_id":130679200,"body_markdown":"@garagumo I assume there&#39;s still a reason why you&#39;re trying to avoid passing a parameter for the view class. If you start with that reason, you might get better results.","body":"@garagumo I assume there&#39;s still a reason why you&#39;re trying to avoid passing a parameter for the view class. If you start with that reason, you might get better results."},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665452495,"post_id":73968442,"comment_id":130698456,"body_markdown":"I think I&#39;ll just stick to the standard as you&#39;ve all suggested. Thank you :)","body":"I think I&#39;ll just stick to the standard as you&#39;ve all suggested. Thank you :)"}],"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665031963,"creation_date":1665027470,"question_id":73968442,"body_markdown":"Vaadin views only allows injecting @Autowired repositories in constructor, but instead of doing that I implemented it using a Singleton class. my question is, do I have to worry in the future about this? or will it affect my app or are there going to be some performance issues?\r\n\r\nHow to implement in Vaadin view:\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        public HelloWorldView(@Autowired AccountRepository accountRepository) {\r\n       \r\n            for(Account a : accountRepository.findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n    \r\nOR\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        @Autowired\r\n        public HelloWorldView(AccountRepository accountRepository) {\r\n\r\n            for(Account a : accountRepository.findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m trying to avoid passing a parameter in a view class of Vaadin, so my implementation is:\r\n\r\n    @Repository\r\n    public interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n    }\r\n\r\n    @Service\r\n    public class AccountService {\r\n\r\n        private static AccountRepository accountRepository;\r\n\r\n        private static AccountService INSTANCE;\r\n\r\n        private AccountService(AccountRepository accountRepository) {\r\n            this.accountRepository = accountRepository;\r\n        }\r\n\r\n        public synchronized static AccountService getInstance() {\r\n            if(INSTANCE == null){\r\n                INSTANCE = new AccountService(accountRepository);\r\n            }\r\n\r\n            return INSTANCE;\r\n        }\r\n\r\n        public List&lt;Account&gt; findAll() {\r\n            return accountRepository.findAll();\r\n        }\r\n    }\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        public HelloWorldView() {\r\n       \r\n            for(Account a : AccountService.getInstance().findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n\r\nEDIT: \r\n\r\nremove the static from the findAll() method and call the service using AccountService.getInstance().findAll()","title":"Creating a Singleton class rather than Injecting repository in constructor","body":"<p>Vaadin views only allows injecting @Autowired repositories in constructor, but instead of doing that I implemented it using a Singleton class. my question is, do I have to worry in the future about this? or will it affect my app or are there going to be some performance issues?</p>\n<p>How to implement in Vaadin view:</p>\n<pre><code>public class HelloWorldView extends HorizontalLayout {\n\n    public HelloWorldView(@Autowired AccountRepository accountRepository) {\n   \n        for(Account a : accountRepository.findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public class HelloWorldView extends HorizontalLayout {\n\n    @Autowired\n    public HelloWorldView(AccountRepository accountRepository) {\n\n        for(Account a : accountRepository.findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>I'm trying to avoid passing a parameter in a view class of Vaadin, so my implementation is:</p>\n<pre><code>@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n}\n\n@Service\npublic class AccountService {\n\n    private static AccountRepository accountRepository;\n\n    private static AccountService INSTANCE;\n\n    private AccountService(AccountRepository accountRepository) {\n        this.accountRepository = accountRepository;\n    }\n\n    public synchronized static AccountService getInstance() {\n        if(INSTANCE == null){\n            INSTANCE = new AccountService(accountRepository);\n        }\n\n        return INSTANCE;\n    }\n\n    public List&lt;Account&gt; findAll() {\n        return accountRepository.findAll();\n    }\n}\n\npublic class HelloWorldView extends HorizontalLayout {\n\n    public HelloWorldView() {\n   \n        for(Account a : AccountService.getInstance().findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>EDIT:</p>\n<p>remove the static from the findAll() method and call the service using AccountService.getInstance().findAll()</p>\n"},{"tags":["java","while-loop","indexof","longest-prefix"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665031124,"post_id":73968227,"comment_id":130604886,"body_markdown":"Stepping through the code with the debugger will help.","body":"Stepping through the code with the debugger will help."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665031223,"post_id":73968722,"comment_id":130604904,"body_markdown":"&quot;All this condition is doing is checking if prefix is a substring of the current string you comparing it with&quot;, no, it is checking whether `prefix` is *a prefix* of `strs[i]`.","body":"&quot;All this condition is doing is checking if prefix is a substring of the current string you comparing it with&quot;, no, it is checking whether <code>prefix</code> is <i>a prefix</i> of <code>strs[i]</code>."},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1665031598,"post_id":73968722,"comment_id":130604964,"body_markdown":"Thanks @tgdavies, I edited it. If you see anything else that I can improve please feel free.","body":"Thanks @tgdavies, I edited it. If you see anything else that I can improve please feel free."},{"owner":{"account_id":18414388,"reputation":3,"user_id":13413725,"display_name":"Altoids weed"},"score":0,"creation_date":1665216456,"post_id":73968722,"comment_id":130651638,"body_markdown":"@DennisLLopis Thanks so much for taking the time to explain this code to me! I now understand that the while loop conditional is acting like a &quot;Numeric Boolean&quot;? where true (LCP found) will result in number 0, or False (No LCP found) will result in -1? I was confused b/c ```while (strs[i].indexOf(prefix) != 0)``` I first see ```strs[i]``` and think String value, not int/boolean value, do you see how I got confused? I was thinking how can I compare a String ```strs[i]``` to an integer ```indexOf(prefix)``` and I guess I also forgot that in Java true/false can be represented by 0, -1 ?","body":"@DennisLLopis Thanks so much for taking the time to explain this code to me! I now understand that the while loop conditional is acting like a &quot;Numeric Boolean&quot;? where true (LCP found) will result in number 0, or False (No LCP found) will result in -1? I was confused b/c <code>while (strs[i].indexOf(prefix) != 0)</code> I first see <code>strs[i]</code> and think String value, not int/boolean value, do you see how I got confused? I was thinking how can I compare a String <code>strs[i]</code> to an integer <code>indexOf(prefix)</code> and I guess I also forgot that in Java true/false can be represented by 0, -1 ?"},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1665237256,"post_id":73968722,"comment_id":130655194,"body_markdown":"The indexOf() method returns the position of the first occurrence of specified character(s) in a string. The specified characters in this problem is a prefix, so if found it will always begin at 0 :) Please mark the answer as correct if it helped you and if you need anymore clarification, let me know and I&#39;ll edit the answer. Best of luck!","body":"The indexOf() method returns the position of the first occurrence of specified character(s) in a string. The specified characters in this problem is a prefix, so if found it will always begin at 0 :) Please mark the answer as correct if it helped you and if you need anymore clarification, let me know and I&#39;ll edit the answer. Best of luck!"}],"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665031551,"creation_date":1665031078,"answer_id":73968722,"question_id":73968227,"body_markdown":"&gt; // System.out.println(&quot;Confused by this--&gt; &quot; +\r\n&gt; strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\r\n\r\n-1 means that the prefix was not a prefix of the current string you are comparing it with. For example, foo is not a prefix of bar, so when you try to call &quot;foo&quot;.indexOf(&quot;bar&quot;) you will indeed get &#39;-1&#39; because an index does not exist where this is true.\r\n\r\n&gt; however I do not understand the conditional statement within the while\r\n&gt; loop, which is while (strs[i].indexOf(prefix) != 0)\r\n\r\nAll this condition is doing is checking if prefix is a prefix of the current string you comparing it with. If it returns 0 it means that it is, else -1 is returned and the while loop will continue to trim the last character of prefix until the condition is satisfied. If prefix is completely trimmed then return an empty string.\r\n\r\nExample 1:\r\n```\r\nString[] s = {&quot;al&quot;, &quot;alamonte&quot;, &quot;alligator&quot;} \r\nprefix = s[0] // &quot;al&quot;\r\n```\r\n\r\n - &quot;al&quot; exist in &quot;alimonte&quot; -- &quot;alimonte&quot;.indexOf(&quot;al&quot;) = 0\r\n - &quot;al&quot; exist in &quot;alligator&quot; -- &quot;alligator.indexOf(&quot;al&quot;) = 0\r\n - return &quot;al&quot;\r\n - This is a bad example to look into because &quot;al&quot; is conveniently at the beginning of the array and it fits into all other elements. The while loop is never entered, so we never see it in action.\r\n\r\nLet&#39;s try another example:\r\n```\r\nString[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\r\nprefix = &quot;leet&quot;\r\n```\r\n\r\n - &quot;leet&quot; exist in &quot;leetcode&quot; -- leetcode.indexOf(&quot;leet&quot;) = 0\r\n - &quot;leet&quot; exist in &quot;leet&quot; -- leet.indexOf(&quot;leet&quot;) = 0\r\n - &quot;leet&quot; DOES NOT exist in &quot;leed&quot; -- leet.indexOf(&quot;leed&quot;) = -1\r\n   - Enter while body and continue to trim last character.\r\n   - trim &#39;t&#39; from prefix: &quot;leet&quot;\r\n   - prefix = &quot;lee&quot;\r\n   - check while condition again -&gt; &quot;lee&quot; exist in &quot;leed&quot; -&quot;leed&quot;.indexOf(&quot;lee&quot;) = 0\r\n - We reached the end of our array and return prefix : &quot;lee&quot;.\r\n\r\nI took the code you provided and modified it with print statements, so that you can see how prefix is trimmed when index.Of() returns -1.\r\n\r\n```\r\npublic class LongestCommonPrefix {\r\n\r\n\tpublic static String longestCommonPrefix(String[] strs) {\r\n        if (strs.length == 0) return &quot;&quot;;\r\n        String prefix = strs[0];\r\n        \r\n        for (int i = 1; i &lt; strs.length; i++) {\r\n        \tSystem.out.println(strs[i] + &quot;.indexOf(&quot; + prefix + &quot;)&quot; + &quot; =  &quot; + strs[i].indexOf(prefix));\r\n            while (strs[i].indexOf(prefix) != 0) {\r\n            \tSystem.out.println(&quot;Trim the last character: &quot; + prefix.charAt(prefix.length() - 1));\r\n                prefix = prefix.substring(0, prefix.length() - 1);\r\n                if (prefix.isEmpty())  {\r\n                \tSystem.out.println(&quot;No LCP exist after trimming all characters from prefix!&quot;);\r\n                \treturn &quot;&quot;;\r\n                }\r\n            }\r\n            System.out.println(&quot;prefix after comparing with &quot; + strs[i] + &quot;: &quot; + prefix + &quot;\\n&quot;);\r\n        }\r\n        return prefix;\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\r\n\t\tSystem.out.println(&quot;Input array: &quot; + Arrays.toString(s) + &quot;\\n&quot;);\r\n\t\tSystem.out.println(&quot;LCP: &quot; + longestCommonPrefix(s));\r\n\t}\r\n}\r\n```\r\nHope this helps out and best of luck!","title":"I need clarification of Java while loop conditional statement, when trying to find longest common prefix from an array of Strings","body":"<blockquote>\n<p>// System.out.println(&quot;Confused by this--&gt; &quot; +\nstrs[i].indexOf(prefix));// this prints out -1 and im not sure why..</p>\n</blockquote>\n<p>-1 means that the prefix was not a prefix of the current string you are comparing it with. For example, foo is not a prefix of bar, so when you try to call &quot;foo&quot;.indexOf(&quot;bar&quot;) you will indeed get '-1' because an index does not exist where this is true.</p>\n<blockquote>\n<p>however I do not understand the conditional statement within the while\nloop, which is while (strs[i].indexOf(prefix) != 0)</p>\n</blockquote>\n<p>All this condition is doing is checking if prefix is a prefix of the current string you comparing it with. If it returns 0 it means that it is, else -1 is returned and the while loop will continue to trim the last character of prefix until the condition is satisfied. If prefix is completely trimmed then return an empty string.</p>\n<p>Example 1:</p>\n<pre><code>String[] s = {&quot;al&quot;, &quot;alamonte&quot;, &quot;alligator&quot;} \nprefix = s[0] // &quot;al&quot;\n</code></pre>\n<ul>\n<li>&quot;al&quot; exist in &quot;alimonte&quot; -- &quot;alimonte&quot;.indexOf(&quot;al&quot;) = 0</li>\n<li>&quot;al&quot; exist in &quot;alligator&quot; -- &quot;alligator.indexOf(&quot;al&quot;) = 0</li>\n<li>return &quot;al&quot;</li>\n<li>This is a bad example to look into because &quot;al&quot; is conveniently at the beginning of the array and it fits into all other elements. The while loop is never entered, so we never see it in action.</li>\n</ul>\n<p>Let's try another example:</p>\n<pre><code>String[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\nprefix = &quot;leet&quot;\n</code></pre>\n<ul>\n<li>&quot;leet&quot; exist in &quot;leetcode&quot; -- leetcode.indexOf(&quot;leet&quot;) = 0</li>\n<li>&quot;leet&quot; exist in &quot;leet&quot; -- leet.indexOf(&quot;leet&quot;) = 0</li>\n<li>&quot;leet&quot; DOES NOT exist in &quot;leed&quot; -- leet.indexOf(&quot;leed&quot;) = -1\n<ul>\n<li>Enter while body and continue to trim last character.</li>\n<li>trim 't' from prefix: &quot;leet&quot;</li>\n<li>prefix = &quot;lee&quot;</li>\n<li>check while condition again -&gt; &quot;lee&quot; exist in &quot;leed&quot; -&quot;leed&quot;.indexOf(&quot;lee&quot;) = 0</li>\n</ul>\n</li>\n<li>We reached the end of our array and return prefix : &quot;lee&quot;.</li>\n</ul>\n<p>I took the code you provided and modified it with print statements, so that you can see how prefix is trimmed when index.Of() returns -1.</p>\n<pre><code>public class LongestCommonPrefix {\n\n    public static String longestCommonPrefix(String[] strs) {\n        if (strs.length == 0) return &quot;&quot;;\n        String prefix = strs[0];\n        \n        for (int i = 1; i &lt; strs.length; i++) {\n            System.out.println(strs[i] + &quot;.indexOf(&quot; + prefix + &quot;)&quot; + &quot; =  &quot; + strs[i].indexOf(prefix));\n            while (strs[i].indexOf(prefix) != 0) {\n                System.out.println(&quot;Trim the last character: &quot; + prefix.charAt(prefix.length() - 1));\n                prefix = prefix.substring(0, prefix.length() - 1);\n                if (prefix.isEmpty())  {\n                    System.out.println(&quot;No LCP exist after trimming all characters from prefix!&quot;);\n                    return &quot;&quot;;\n                }\n            }\n            System.out.println(&quot;prefix after comparing with &quot; + strs[i] + &quot;: &quot; + prefix + &quot;\\n&quot;);\n        }\n        return prefix;\n    }\n    \n    public static void main(String[] args) {\n        String[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\n        System.out.println(&quot;Input array: &quot; + Arrays.toString(s) + &quot;\\n&quot;);\n        System.out.println(&quot;LCP: &quot; + longestCommonPrefix(s));\n    }\n}\n</code></pre>\n<p>Hope this helps out and best of luck!</p>\n"}],"owner":{"account_id":18414388,"reputation":3,"user_id":13413725,"display_name":"Altoids weed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73968722,"answer_count":1,"score":0,"last_activity_date":1665031551,"creation_date":1665024877,"question_id":73968227,"body_markdown":"I&#39;m working on a problem - Longest Common Prefix - using Java, for this problem I must return the longest common prefix when given an array of Strings, for example an array of [&quot;ale&quot;, &quot;Altamonte&quot;, &quot;alligator&quot;] would return the Longest Common Prefix &quot;al&quot;. One of the answers given for this problem was provided and I have posted it below, however I do not understand the conditional statement within the while loop, which is ``` while (strs[i].indexOf(prefix) != 0) ```. When I try to understand this conditional statement I perceive it as if parameter strs at index i, which can only be 1 through ```strs.length -1 ```, why put ```.indexOf(prefix) != 0 ``` ?  when I do a print out statement of ``` System.out.println(strs[i].indexOf(prefix)); ``` I get value of -1. I perceive this as some way for the loop to iterate backwards from ```strs[i]``` until the method finally gets to the longest common prefix? I also see that the variable ```prefix``` is equal to ```strs[0]``` so is the while loop conditional saying that since ```strs[i]``` cannot go to 0 then we get value of -1? I hope this question makes sense, I&#39;m just struggling to understand this conditional statement and if anyone could help me understand how this code below is actually working I would very much appreciate the knowledge! many sincere thanks for any help given!\r\n\r\n```   \r\n  public String longestCommonPrefix(String[] strs) {\r\n        if (strs.length == 0) return &quot;&quot;;\r\n        String prefix = strs[0];\r\n        for (int i = 1; i &lt; strs.length; i++)\r\n            while (strs[i].indexOf(prefix) != 0) {\r\n // System.out.println(&quot;Confused by this--&gt; &quot; + strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\r\n                prefix = prefix.substring(0, prefix.length() - 1);\r\n                if (prefix.isEmpty()) return &quot;&quot;;\r\n            }        \r\n        return prefix;\r\n    }\r\n```","title":"I need clarification of Java while loop conditional statement, when trying to find longest common prefix from an array of Strings","body":"<p>I'm working on a problem - Longest Common Prefix - using Java, for this problem I must return the longest common prefix when given an array of Strings, for example an array of [&quot;ale&quot;, &quot;Altamonte&quot;, &quot;alligator&quot;] would return the Longest Common Prefix &quot;al&quot;. One of the answers given for this problem was provided and I have posted it below, however I do not understand the conditional statement within the while loop, which is <code>while (strs[i].indexOf(prefix) != 0)</code>. When I try to understand this conditional statement I perceive it as if parameter strs at index i, which can only be 1 through <code>strs.length -1 </code>, why put <code>.indexOf(prefix) != 0 </code> ?  when I do a print out statement of <code>System.out.println(strs[i].indexOf(prefix));</code> I get value of -1. I perceive this as some way for the loop to iterate backwards from <code>strs[i]</code> until the method finally gets to the longest common prefix? I also see that the variable <code>prefix</code> is equal to <code>strs[0]</code> so is the while loop conditional saying that since <code>strs[i]</code> cannot go to 0 then we get value of -1? I hope this question makes sense, I'm just struggling to understand this conditional statement and if anyone could help me understand how this code below is actually working I would very much appreciate the knowledge! many sincere thanks for any help given!</p>\n<pre><code>  public String longestCommonPrefix(String[] strs) {\n        if (strs.length == 0) return &quot;&quot;;\n        String prefix = strs[0];\n        for (int i = 1; i &lt; strs.length; i++)\n            while (strs[i].indexOf(prefix) != 0) {\n // System.out.println(&quot;Confused by this--&gt; &quot; + strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\n                prefix = prefix.substring(0, prefix.length() - 1);\n                if (prefix.isEmpty()) return &quot;&quot;;\n            }        \n        return prefix;\n    }\n</code></pre>\n"},{"tags":["java","algorithm","java-me","geolocation"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1296723056,"post_id":4883933,"comment_id":5432358,"body_markdown":"can you please describe what you want to do functionally","body":"can you please describe what you want to do functionally"},{"owner":{"account_id":69570,"reputation":1457,"user_id":202313,"accept_rate":62,"display_name":"Rangana Sampath"},"score":0,"creation_date":1296723338,"post_id":4883933,"comment_id":5432405,"body_markdown":"i want to fetch the data that needed by a user depending on his location , for example let&#39;s say the person want to find the ATM machines around him within a 100m radius, so the user can search for that and algorithm will show the ATM machines depending on his location , that is the kind of thing that i want to implement.","body":"i want to fetch the data that needed by a user depending on his location , for example let&#39;s say the person want to find the ATM machines around him within a 100m radius, so the user can search for that and algorithm will show the ATM machines depending on his location , that is the kind of thing that i want to implement."},{"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"score":0,"creation_date":1296724747,"post_id":4883933,"comment_id":5432660,"body_markdown":"@anganMIT please update your question according to that comment, in order for answers to come more easily.","body":"@anganMIT please update your question according to that comment, in order for answers to come more easily."}],"answers":[{"tags":[],"owner":{"account_id":286378,"reputation":1266,"user_id":585602,"accept_rate":80,"display_name":"Marcin Michalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1296723842,"creation_date":1296723842,"answer_id":4884095,"question_id":4883933,"body_markdown":"You could have PointOfInterest table that relates to address.\r\nLet say I want to find an ATM in Chicago. Then you perform a seach for all ATMs in chicago.\r\nAfter you get your result set you perform distance calculation over each of them and check which is the closest one.\r\n\r\nHere you may find a way how to calculate distance based on longitude/latitude coordinates\r\n\r\nhttp://www.movable-type.co.uk/scripts/latlong.html","title":"location based data grabbing algorithm","body":"<p>You could have PointOfInterest table that relates to address.\nLet say I want to find an ATM in Chicago. Then you perform a seach for all ATMs in chicago.\nAfter you get your result set you perform distance calculation over each of them and check which is the closest one.</p>\n\n<p>Here you may find a way how to calculate distance based on longitude/latitude coordinates</p>\n\n<p><a href=\"http://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow\">http://www.movable-type.co.uk/scripts/latlong.html</a></p>\n"}],"owner":{"account_id":69570,"reputation":1457,"user_id":202313,"accept_rate":62,"display_name":"Rangana Sampath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":4884095,"answer_count":1,"score":0,"last_activity_date":1665031510,"creation_date":1296722675,"question_id":4883933,"body_markdown":"I have to develop an algorithm for location based data grabbing and displaying it on a mobile device. I&#39;m just a web programmer with some knowledge of php and mysql. I need to develop this algorithm. Please give some instructions on where to start the development.","title":"location based data grabbing algorithm","body":"<p>I have to develop an algorithm for location based data grabbing and displaying it on a mobile device. I'm just a web programmer with some knowledge of php and mysql. I need to develop this algorithm. Please give some instructions on where to start the development.</p>\n"},{"tags":["java","oop","design-patterns","object-design"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665009941,"creation_date":1665009941,"answer_id":73967018,"question_id":73966824,"body_markdown":"&gt; The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism\r\n\r\nYes, that would be the typical solution.\r\n\r\n&gt; However, the thing I dislike about this approach is tha the product classes are mostly data objects, and the preparePackage function can contain lots of business logic\r\n\r\nThat doesn&#39;t follow. Just because you have a method in BaseProduct doesn&#39;t imply that this method must do all the work. It can call other methods, you know :-)\r\n\r\nSo I&#39;d have a bare-bones polymorphic method in BaseProduct that locates and calls the correct implementation, which contains the &quot;lots of business logic&quot; you don&#39;t want in your domain class.\r\n\r\nIf you take this technique to its extreme (where the domain class contains nothing but delegation code), you end up with the visitor pattern.\r\n\r\n```\r\nclass BaseProduct {\r\n    abstract &lt;R&gt; R visit(Visitor&lt;R&gt; visitor);\r\n}\r\n\r\nclass ProductA {\r\n    &lt;R&gt; R visit(Visitor&lt;R&gt; visitor) {\r\n        return visitor.visit(this);\r\n    }\r\n}\r\n\r\n// similar for ProductB\r\n\r\ninterface Visitor&lt;R&gt; {\r\n    R visit(ProductA productA);\r\n    R visit(ProductB productB);\r\n}\r\n\r\nclass Packager implements Visitor&lt;Package&gt; {\r\n    public Package visit(ProductA productA) {\r\n        // lots of business logic here\r\n    }\r\n\r\n    public Package visit(ProductB productB) {\r\n        // lots of business logic here\r\n    }\r\n}\r\n\r\n\r\n// and then you can write\r\nmyProduct.visit(new Packager()); // type safe invocation of logic the domain knows nothing about\r\n```","title":"Suggestion on Pattern to solve concrete class specialization","body":"<blockquote>\n<p>The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism</p>\n</blockquote>\n<p>Yes, that would be the typical solution.</p>\n<blockquote>\n<p>However, the thing I dislike about this approach is tha the product classes are mostly data objects, and the preparePackage function can contain lots of business logic</p>\n</blockquote>\n<p>That doesn't follow. Just because you have a method in BaseProduct doesn't imply that this method must do all the work. It can call other methods, you know :-)</p>\n<p>So I'd have a bare-bones polymorphic method in BaseProduct that locates and calls the correct implementation, which contains the &quot;lots of business logic&quot; you don't want in your domain class.</p>\n<p>If you take this technique to its extreme (where the domain class contains nothing but delegation code), you end up with the visitor pattern.</p>\n<pre><code>class BaseProduct {\n    abstract &lt;R&gt; R visit(Visitor&lt;R&gt; visitor);\n}\n\nclass ProductA {\n    &lt;R&gt; R visit(Visitor&lt;R&gt; visitor) {\n        return visitor.visit(this);\n    }\n}\n\n// similar for ProductB\n\ninterface Visitor&lt;R&gt; {\n    R visit(ProductA productA);\n    R visit(ProductB productB);\n}\n\nclass Packager implements Visitor&lt;Package&gt; {\n    public Package visit(ProductA productA) {\n        // lots of business logic here\n    }\n\n    public Package visit(ProductB productB) {\n        // lots of business logic here\n    }\n}\n\n\n// and then you can write\nmyProduct.visit(new Packager()); // type safe invocation of logic the domain knows nothing about\n</code></pre>\n"}],"owner":{"account_id":26539736,"reputation":3,"user_id":20170682,"display_name":"codeWarrior0712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73967018,"answer_count":1,"score":0,"last_activity_date":1665030857,"creation_date":1665008073,"question_id":73966824,"body_markdown":"Suppose that you have several data objects that share some common fields and inherit from a base object.\r\n\r\n```\r\nclass BaseProduct {\r\nString productId;\r\nString productType; // i.e. {A, B}.\r\n}\r\n\r\nclass ConcreteProductA extends BaseProduct {\r\n...\r\nString concreteAttA;\r\n}\r\n\r\nclass ConcreteProductB extends BaseProduct {\r\n...\r\nString concreteAttB;\r\n}\r\n```\r\n\r\nNow suppose I can create packages containing a specific type of product, and that the implementation of the function that creates the package is different depending on the concrete type being packaged. However, Ideally, I&#39;d want to encapsulate that specific behavior behind an abstraction, as I&#39;d always want to take the same steps (i.e. preparePackage) for any type of product. In other words, I want to be calling `packageManager.preparePackage` from the following excerpt:\r\n\r\n```\r\ninterface PackageBuilder&lt;T extends BaseProduct&gt; {\r\n      Package preparePackage(T product);\r\n}\r\n\r\nclass ProductAPackageBuilder implements PackageBuilder&lt;ConcreteProductA&gt; {\r\n\r\n     @Override\r\n    Package preparePackage(ConcreteProductA productA) {\r\n        return new Package(productA.concreteAttA);\r\n    }\r\n}\r\n\r\nclass PackageManager {\r\n    Map&lt;String, PackageBuilder&gt; packageBuilders;\r\n\r\n    Package preparePackage(BaseProduct product) {\r\n      return packageBuilders.get(product.productType).preparePackage(product);\r\n    }\r\n}\r\n```\r\n\r\nThis code results in a downcast being made from `BaseProduct` when calling the prepare package. This also raises a compiler warning. I understand the disadvantages in downcasting and having calls to preparePackage not being statically typed. However, I&#39;m also struggling to find a solution that&#39;s strictly better than this approach.\r\n\r\nThe obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism.\r\nHowever, the thing I dislike about this approach is tha the product classes are mostly data objects, and the `preparePackage` function can contain lots of business logic. Ideally I&#39;d like the product classes to be as thin as possible and contain just data and not a lot of behavior.\r\n\r\nIs there any alternative that allows me to keep the product objects being data-only, and avoid this downcast?\r\nWould this be an acceptable case where downcast could be useful?","title":"Suggestion on Pattern to solve concrete class specialization","body":"<p>Suppose that you have several data objects that share some common fields and inherit from a base object.</p>\n<pre><code>class BaseProduct {\nString productId;\nString productType; // i.e. {A, B}.\n}\n\nclass ConcreteProductA extends BaseProduct {\n...\nString concreteAttA;\n}\n\nclass ConcreteProductB extends BaseProduct {\n...\nString concreteAttB;\n}\n</code></pre>\n<p>Now suppose I can create packages containing a specific type of product, and that the implementation of the function that creates the package is different depending on the concrete type being packaged. However, Ideally, I'd want to encapsulate that specific behavior behind an abstraction, as I'd always want to take the same steps (i.e. preparePackage) for any type of product. In other words, I want to be calling <code>packageManager.preparePackage</code> from the following excerpt:</p>\n<pre><code>interface PackageBuilder&lt;T extends BaseProduct&gt; {\n      Package preparePackage(T product);\n}\n\nclass ProductAPackageBuilder implements PackageBuilder&lt;ConcreteProductA&gt; {\n\n     @Override\n    Package preparePackage(ConcreteProductA productA) {\n        return new Package(productA.concreteAttA);\n    }\n}\n\nclass PackageManager {\n    Map&lt;String, PackageBuilder&gt; packageBuilders;\n\n    Package preparePackage(BaseProduct product) {\n      return packageBuilders.get(product.productType).preparePackage(product);\n    }\n}\n</code></pre>\n<p>This code results in a downcast being made from <code>BaseProduct</code> when calling the prepare package. This also raises a compiler warning. I understand the disadvantages in downcasting and having calls to preparePackage not being statically typed. However, I'm also struggling to find a solution that's strictly better than this approach.</p>\n<p>The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism.\nHowever, the thing I dislike about this approach is tha the product classes are mostly data objects, and the <code>preparePackage</code> function can contain lots of business logic. Ideally I'd like the product classes to be as thin as possible and contain just data and not a lot of behavior.</p>\n<p>Is there any alternative that allows me to keep the product objects being data-only, and avoid this downcast?\nWould this be an acceptable case where downcast could be useful?</p>\n"},{"tags":["java","mysql","github"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665024434,"post_id":73968189,"comment_id":130603927,"body_markdown":"Use a public key rather than plain text password","body":"Use a public key rather than plain text password"}],"answers":[{"comments":[{"owner":{"account_id":25969414,"reputation":1,"user_id":19684875,"display_name":"Genaro Di Stilio"},"score":0,"creation_date":1665719228,"post_id":73968669,"comment_id":130768945,"body_markdown":"Sorry, forgot to thank you! I created a file with the password and the program reads it from it. I supposed that&#39;s what you meant.","body":"Sorry, forgot to thank you! I created a file with the password and the program reads it from it. I supposed that&#39;s what you meant."}],"tags":[],"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665030458,"creation_date":1665030458,"answer_id":73968669,"question_id":73968189,"body_markdown":"As a good practice, you should never store user/password in your code. There are a few alternatives to do so.\r\n\r\nYou may use variables whose values come from system variables or context files.\r\n\r\nAn even better alternative is to rely on the infrastructure, such as provided by application servers, for example.\r\nIn this case, your code looks up data sources that define the DB connection. No password, users nor even DB name, IP and port are stored in your code.\r\n\r\nYour DB access info is stored in your infra and can be easily and securely updated without changing the code.","title":"Correct way to upload my Java Mysql application on Github","body":"<p>As a good practice, you should never store user/password in your code. There are a few alternatives to do so.</p>\n<p>You may use variables whose values come from system variables or context files.</p>\n<p>An even better alternative is to rely on the infrastructure, such as provided by application servers, for example.\nIn this case, your code looks up data sources that define the DB connection. No password, users nor even DB name, IP and port are stored in your code.</p>\n<p>Your DB access info is stored in your infra and can be easily and securely updated without changing the code.</p>\n"}],"owner":{"account_id":25969414,"reputation":1,"user_id":19684875,"display_name":"Genaro Di Stilio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665030458,"creation_date":1665024334,"question_id":73968189,"body_markdown":"first ever question here. I&#39;m sorry if this one has been alredy asked but I couldn&#39;t find it anywhere.\r\nI just finished my first crud application using java and mysql, the thing is: To upload it to github I will be revealing mysql password... I mean, its a simple password and of course I have nothing more than the project data in the database. So should I find another way to upload my project or is it fairly safe to share the password?. Thanks in advance!","title":"Correct way to upload my Java Mysql application on Github","body":"<p>first ever question here. I'm sorry if this one has been alredy asked but I couldn't find it anywhere.\nI just finished my first crud application using java and mysql, the thing is: To upload it to github I will be revealing mysql password... I mean, its a simple password and of course I have nothing more than the project data in the database. So should I find another way to upload my project or is it fairly safe to share the password?. Thanks in advance!</p>\n"},{"tags":["java","android","xml","android-imageview"],"comments":[{"owner":{"account_id":1501507,"reputation":9507,"user_id":1405983,"accept_rate":64,"display_name":"Hardik Joshi"},"score":0,"creation_date":1382513810,"post_id":19535571,"comment_id":28983829,"body_markdown":"You need to check like click.getId() == profileBtn. And share your code how you initialize your whoamiwith ?","body":"You need to check like click.getId() == profileBtn. And share your code how you initialize your whoamiwith ?"},{"owner":{"account_id":456932,"reputation":4574,"user_id":855950,"accept_rate":82,"display_name":"A.S."},"score":0,"creation_date":1382513827,"post_id":19535571,"comment_id":28983835,"body_markdown":"have you initialized your `whoamiwith` ?","body":"have you initialized your <code>whoamiwith</code> ?"},{"owner":{"account_id":1112634,"reputation":3922,"user_id":1102799,"accept_rate":56,"display_name":"Rethinavel"},"score":0,"creation_date":1382513851,"post_id":19535571,"comment_id":28983847,"body_markdown":"There is a problem with your initialization. Check your imageview id.","body":"There is a problem with your initialization. Check your imageview id."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382513955,"post_id":19535571,"comment_id":28983903,"body_markdown":"ImageView whereami = (ImageView) findViewById(R.id.whereami); i got it this way guys..","body":"ImageView whereami = (ImageView) findViewById(R.id.whereami); i got it this way guys.."},{"owner":{"account_id":1112634,"reputation":3922,"user_id":1102799,"accept_rate":56,"display_name":"Rethinavel"},"score":0,"creation_date":1382514194,"post_id":19535571,"comment_id":28984014,"body_markdown":"How you dealt with &quot;whoamiwith&quot; You have only initialized whoamiwith rite? How about whereami? and you are trying to set background image with initializing that!","body":"How you dealt with &quot;whoamiwith&quot; You have only initialized whoamiwith rite? How about whereami? and you are trying to set background image with initializing that!"},{"owner":{"account_id":1687957,"reputation":11835,"user_id":2660283,"display_name":"arshu"},"score":0,"creation_date":1382514240,"post_id":19535571,"comment_id":28984036,"body_markdown":"you have declared the imageview as whereami &amp; you are setting the background image on whoami. Recheck your calling variables.","body":"you have declared the imageview as whereami &amp; you are setting the background image on whoami. Recheck your calling variables."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382514705,"post_id":19535571,"comment_id":28984265,"body_markdown":"im sorry that was a FAIL question i edited the code and now that should help you understand the problem.","body":"im sorry that was a FAIL question i edited the code and now that should help you understand the problem."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382514919,"post_id":19535571,"comment_id":28984372,"body_markdown":"this force close is really bugging me all day. and by the way, the &lt;FrameLayout&gt; is located on a fragment which appears on my activity, i think that might be one of the reason. dont you think guys?","body":"this force close is really bugging me all day. and by the way, the &lt;FrameLayout&gt; is located on a fragment which appears on my activity, i think that might be one of the reason. dont you think guys?"},{"owner":{"account_id":3057704,"reputation":7306,"user_id":2591002,"accept_rate":36,"display_name":"SweetWisher ツ"},"score":0,"creation_date":1382516188,"post_id":19535571,"comment_id":28985011,"body_markdown":"Show me initialication line for whoamiwith","body":"Show me initialication line for whoamiwith"},{"owner":{"account_id":1440073,"reputation":1630,"user_id":1360475,"display_name":"Manivannan"},"score":0,"creation_date":1382516412,"post_id":19535571,"comment_id":28985135,"body_markdown":"did u initialise like... ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)..it is saying whoamiwith is null, i think..","body":"did u initialise like... ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)..it is saying whoamiwith is null, i think.."}],"answers":[{"tags":[],"owner":{"account_id":1717378,"reputation":5135,"user_id":1574153,"accept_rate":26,"display_name":"Bhanu Sharma"},"comment_count":0,"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1382514609,"creation_date":1382514609,"answer_id":19535849,"question_id":19535571,"body_markdown":"    whoamiwith.setImageResource(R.drawable.loginbtn);","title":"How to change ImageView source in android","body":"<pre><code>whoamiwith.setImageResource(R.drawable.loginbtn);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3057704,"reputation":7306,"user_id":2591002,"accept_rate":36,"display_name":"SweetWisher ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382516374,"creation_date":1382516374,"answer_id":19536406,"question_id":19535571,"body_markdown":"Initialize image view :\r\n\r\n    whoamiwith = findViewByid(R.id.whoamiwith);\r\n\r\nThen on Click method, write this lines to change the image resource  : \r\n\r\n   \r\n\r\n     if(android.os.Build.VERSION.SDK_INT &gt; 15)\r\n        {\r\n            // for API above 15\r\n        \twhoamiwith.setBackground(getResources().getDrawable(R.drawable.loginbtn));\r\n        }\r\n        else\r\n        {\r\n            // for API below 15\r\n    \t    whoamiwith.setBackgroundDrawable(getResources().getDrawable(R.drawable.loginbtn));\r\n        }","title":"How to change ImageView source in android","body":"<p>Initialize image view :</p>\n\n<pre><code>whoamiwith = findViewByid(R.id.whoamiwith);\n</code></pre>\n\n<p>Then on Click method, write this lines to change the image resource  : </p>\n\n<pre><code> if(android.os.Build.VERSION.SDK_INT &gt; 15)\n    {\n        // for API above 15\n        whoamiwith.setBackground(getResources().getDrawable(R.drawable.loginbtn));\n    }\n    else\n    {\n        // for API below 15\n        whoamiwith.setBackgroundDrawable(getResources().getDrawable(R.drawable.loginbtn));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440073,"reputation":1630,"user_id":1360475,"display_name":"Manivannan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441092561,"creation_date":1382516766,"answer_id":19536552,"question_id":19535571,"body_markdown":"Exception is `whoamiwith` is null.\r\ndid u initialise `whoamiwith` like,\r\nImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)\r\n\r\nRefer https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview","title":"How to change ImageView source in android","body":"<p>Exception is <code>whoamiwith</code> is null.\ndid u initialise <code>whoamiwith</code> like,\nImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)</p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview\">Using setImageDrawable dynamically to set image in an ImageView</a></p>\n"},{"comments":[{"owner":{"account_id":3989430,"reputation":977,"user_id":3288888,"accept_rate":75,"display_name":"sk1pro99"},"score":2,"creation_date":1436017599,"post_id":19536724,"comment_id":50442579,"body_markdown":"setBackgroundDrawable is now deprecated unfortunately","body":"setBackgroundDrawable is now deprecated unfortunately"}],"tags":[],"owner":{"account_id":2854391,"reputation":141,"user_id":2450919,"display_name":"Eloytxo"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1382517217,"creation_date":1382517217,"answer_id":19536724,"question_id":19535571,"body_markdown":"     ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \r\n     Drawable new_image= getResources().getDrawable(R.drawable.loginbtn); \t\r\n        whoamiwith.setBackgroundDrawable(new_image);","title":"How to change ImageView source in android","body":"<pre><code> ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \n Drawable new_image= getResources().getDrawable(R.drawable.loginbtn);   \n    whoamiwith.setBackgroundDrawable(new_image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2374296,"reputation":1917,"user_id":2078099,"accept_rate":75,"display_name":"Jitesh Dalsaniya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1382517304,"creation_date":1382517304,"answer_id":19536754,"question_id":19535571,"body_markdown":"Just try\r\n\r\n    ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \r\n    whoamiwith.setImageResource(R.id.new_image);","title":"How to change ImageView source in android","body":"<p>Just try</p>\n\n<pre><code>ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \nwhoamiwith.setImageResource(R.id.new_image);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1493968024,"post_id":19536868,"comment_id":74637172,"body_markdown":"Shots fired. HAHA","body":"Shots fired. HAHA"}],"tags":[],"owner":{"account_id":3360128,"reputation":900,"user_id":2822093,"accept_rate":33,"display_name":"RussVirtuoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382517607,"creation_date":1382517607,"answer_id":19536868,"question_id":19535571,"body_markdown":"    ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith);\r\n    whoamiwith.setImageResource(R.drawable.image_i_wanna_put);\r\n","title":"How to change ImageView source in android","body":"<pre><code>ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith);\nwhoamiwith.setImageResource(R.drawable.image_i_wanna_put);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23875912,"reputation":251,"user_id":17877077,"display_name":"Samiya Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665030126,"creation_date":1665030126,"answer_id":73968646,"question_id":19535571,"body_markdown":"In Kotlin, we can change ImageView programmatically like this.\r\n\r\n    val imageView: ImageView = findViewById(R.id.imageView)\r\n    imageView.setImageResource(R.drawable.imagename)\r\n\r\nAnd in Java,\r\n\r\n    ImageView imageView= (ImageView)findViewById(R.id.imageView);\r\n    imageView.setImageResource(R.drawable.imagename);\r\n","title":"How to change ImageView source in android","body":"<p>In Kotlin, we can change ImageView programmatically like this.</p>\n<pre><code>val imageView: ImageView = findViewById(R.id.imageView)\nimageView.setImageResource(R.drawable.imagename)\n</code></pre>\n<p>And in Java,</p>\n<pre><code>ImageView imageView= (ImageView)findViewById(R.id.imageView);\nimageView.setImageResource(R.drawable.imagename);\n</code></pre>\n"}],"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120491,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":19535849,"answer_count":7,"score":50,"last_activity_date":1665030126,"creation_date":1382513715,"question_id":19535571,"body_markdown":"This is my xml, this is located inside a fragment that appears in my activity.\r\n\r\n    &lt;FrameLayout\r\n                        android:id=&quot;@+id/frame1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;115dp&quot;\r\n                        android:layout_margin=&quot;2dp&quot;\r\n                        android:layout_weight=&quot;0.33&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/whoamiwith&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:scaleType=&quot;fitCenter&quot;\r\n                            android:src=&quot;@drawable/default_image&quot; /&gt;\r\n                    &lt;/FrameLayout&gt;\r\n\r\nAnd this is my java code : \r\n\r\n    @Override\r\n    public void onClick(View click) {\r\n    \tif (click == profileBtn) {\r\n    \t\twhoamiwith.setBackgroundResource(R.drawable.image_i_wanna_put);\r\n    \t}\r\n    }\r\n\r\nI am trying to change the image source of the image view. There are no syntax errors but when I click the button the emulator is giving me a force close and on the logcat it says:\r\n\r\n&gt; java.lang.NullPointerException\r\n\r\n\r\nIt&#39;s pointing to the line:  \r\n\r\n    whoamiwith.setBackgroundResource(R.drawable.loginbtn);","title":"How to change ImageView source in android","body":"<p>This is my xml, this is located inside a fragment that appears in my activity.</p>\n\n<pre><code>&lt;FrameLayout\n                    android:id=\"@+id/frame1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"115dp\"\n                    android:layout_margin=\"2dp\"\n                    android:layout_weight=\"0.33\"&gt;\n\n                    &lt;ImageView\n                        android:id=\"@+id/whoamiwith\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:scaleType=\"fitCenter\"\n                        android:src=\"@drawable/default_image\" /&gt;\n                &lt;/FrameLayout&gt;\n</code></pre>\n\n<p>And this is my java code : </p>\n\n<pre><code>@Override\npublic void onClick(View click) {\n    if (click == profileBtn) {\n        whoamiwith.setBackgroundResource(R.drawable.image_i_wanna_put);\n    }\n}\n</code></pre>\n\n<p>I am trying to change the image source of the image view. There are no syntax errors but when I click the button the emulator is giving me a force close and on the logcat it says:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException</p>\n</blockquote>\n\n<p>It's pointing to the line:  </p>\n\n<pre><code>whoamiwith.setBackgroundResource(R.drawable.loginbtn);\n</code></pre>\n"},{"tags":["java","mongodb","aggregation-framework","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1664295588,"post_id":73869815,"comment_id":130436948,"body_markdown":"I think Atlas Search may be a better approach to this problem. They have a video demonstration [here on YouTube](https://www.youtube.com/watch?v=s2kXYZRE7pA)","body":"I think Atlas Search may be a better approach to this problem. They have a video demonstration <a href=\"https://www.youtube.com/watch?v=s2kXYZRE7pA\" rel=\"nofollow noreferrer\">here on YouTube</a>"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":2,"creation_date":1664496171,"post_id":73869815,"comment_id":130491321,"body_markdown":"There&#39;s no need for the `$unionWith` clauses. Instead you can just use `$or: [ { &quot;productName&quot; : /HYPER/i }, {&quot;subCategoryName&quot; : /HYPER/i}, ... ], &lt;companyNo&gt;, &lt;status&gt;` all in a single `$match`.  Can you also clarify what you mean when you say that you need _support for pagination_ and that you aren&#39;t _aren&#39;t able to achieve that with Spring Data_?","body":"There&#39;s no need for the <code>$unionWith</code> clauses. Instead you can just use <code>$or: [ { &quot;productName&quot; : &#47;HYPER&#47;i }, {&quot;subCategoryName&quot; : &#47;HYPER&#47;i}, ... ], &lt;companyNo&gt;, &lt;status&gt;</code> all in a single <code>$match</code>.  Can you also clarify what you mean when you say that you need <i>support for pagination</i> and that you aren&#39;t <i>aren&#39;t able to achieve that with Spring Data</i>?"}],"answers":[{"comments":[{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1664773495,"post_id":73911145,"comment_id":130540212,"body_markdown":"Sure, some examples would really help me out","body":"Sure, some examples would really help me out"},{"owner":{"account_id":26328686,"reputation":919,"user_id":19989557,"display_name":"wikimind"},"score":0,"creation_date":1664833301,"post_id":73911145,"comment_id":130557317,"body_markdown":"I made an edit with an example and added another link that will include documentation for different pipeline options!","body":"I made an edit with an example and added another link that will include documentation for different pipeline options!"}],"tags":[],"owner":{"account_id":26328686,"reputation":919,"user_id":19989557,"display_name":"wikimind"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664901892,"creation_date":1664552713,"answer_id":73911145,"question_id":73869815,"body_markdown":"Checkout mongodb&#39;s search indexes. You can create a search index with the needed fields to search by, and then you can add a $search stage to your aggregation. You can use the already built in dynamic tech search functionality. If you&#39;re using mongodb atlas, I suggest looking at the atlas text search docs!\r\n\r\nTo address your auto complete needs, you can set the index to allow for autocompletions (i.e - you type &quot;hello&quot; and the product &quot;hello world&quot; shows up). In addition you can implement fuzzy searches and have other neat configurations to allow for filtering alongside the text search.\r\n\r\n[text search docs][1]\r\n\r\n[atlas text search docs][2]\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // example search index to be added to mongodb atlas\r\n\r\n    {\r\n      &quot;analyzer&quot;: &quot;lucene.standard&quot;,\r\n      &quot;searchAnalyzer&quot;: &quot;lucene.standard&quot;,\r\n      &quot;mappings&quot;: {\r\n        &quot;dynamic&quot;: true,\r\n        &quot;fields&quot;: {\r\n          &quot;_id&quot;: {\r\n            &quot;type&quot;: &quot;objectId&quot;\r\n          },\r\n          &quot;title&quot;: {\r\n            &quot;type&quot;: &quot;autocomplete&quot;\r\n          },\r\n          &quot;subTitle&quot;: {\r\n            &quot;type&quot;: &quot;autocomplete&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // example aggregation\r\n\r\n    const userSearchText = &#39;some search&#39;;\r\n\r\n    db.someCollection.aggregate([\r\n      {\r\n        $search: {\r\n          should: [\r\n            autocomplete: {\r\n              query: userSearchText,\r\n              path: &#39;title&#39;,\r\n              fuzzy: {\r\n                maxEdits: 2,\r\n                prefixLength: 2\r\n              }\r\n            },\r\n            autocomplete: {\r\n              query: userSearchText,\r\n              path: &#39;subTitle&#39;,\r\n              fuzzy: {\r\n                maxEdits: 2,\r\n                prefixLength: 2\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    ])\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nApologies for any typos in the code\r\n\r\nAlso take a look at the different pipeline options that can be used:\r\n[pipeline search options][3]\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/text-search/\r\n  [2]: https://www.mongodb.com/docs/atlas/atlas-search/atlas-search-overview/\r\n  [3]: https://www.mongodb.com/docs/atlas/atlas-search/compound/","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>Checkout mongodb's search indexes. You can create a search index with the needed fields to search by, and then you can add a $search stage to your aggregation. You can use the already built in dynamic tech search functionality. If you're using mongodb atlas, I suggest looking at the atlas text search docs!</p>\n<p>To address your auto complete needs, you can set the index to allow for autocompletions (i.e - you type &quot;hello&quot; and the product &quot;hello world&quot; shows up). In addition you can implement fuzzy searches and have other neat configurations to allow for filtering alongside the text search.</p>\n<p><a href=\"https://www.mongodb.com/docs/manual/text-search/\" rel=\"nofollow noreferrer\">text search docs</a></p>\n<p><a href=\"https://www.mongodb.com/docs/atlas/atlas-search/atlas-search-overview/\" rel=\"nofollow noreferrer\">atlas text search docs</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>// example search index to be added to mongodb atlas\n\n{\n  &quot;analyzer&quot;: &quot;lucene.standard&quot;,\n  &quot;searchAnalyzer&quot;: &quot;lucene.standard&quot;,\n  &quot;mappings&quot;: {\n    &quot;dynamic&quot;: true,\n    &quot;fields&quot;: {\n      &quot;_id&quot;: {\n        &quot;type&quot;: &quot;objectId&quot;\n      },\n      &quot;title&quot;: {\n        &quot;type&quot;: &quot;autocomplete&quot;\n      },\n      &quot;subTitle&quot;: {\n        &quot;type&quot;: &quot;autocomplete&quot;\n      }\n    }\n  }\n}\n\n// example aggregation\n\nconst userSearchText = 'some search';\n\ndb.someCollection.aggregate([\n  {\n    $search: {\n      should: [\n        autocomplete: {\n          query: userSearchText,\n          path: 'title',\n          fuzzy: {\n            maxEdits: 2,\n            prefixLength: 2\n          }\n        },\n        autocomplete: {\n          query: userSearchText,\n          path: 'subTitle',\n          fuzzy: {\n            maxEdits: 2,\n            prefixLength: 2\n          }\n        }\n      ]\n    }\n  }\n])\n</code></pre>\n\n<p>Apologies for any typos in the code</p>\n<p>Also take a look at the different pipeline options that can be used:\n<a href=\"https://www.mongodb.com/docs/atlas/atlas-search/compound/\" rel=\"nofollow noreferrer\">pipeline search options</a></p>\n"},{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665030082,"creation_date":1665011534,"answer_id":73967169,"question_id":73869815,"body_markdown":"Here is my working example in Spring Boot.\r\n\r\nhttps://github.com/ConsciousObserver/MongoAggregationTest\r\n\r\nYou can invoke the `/product` REST service using following command\r\n\r\n    http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10\r\n\r\nImplementation supports following\r\n\r\n 1. Text search on `productName` (Searches by words, needs text search index)\r\n 2. Exact match on `brandName`, `categoryName` and `subCategoryName`\r\n 3. Pagination using `pageNumber` and `pageSize`\r\n\r\nAll of it is implemented using Spring Data APIs. I generally avoid writing native queries in code, as they are not validated at compile time.\r\n\r\nAll classes are added to one Java file, it&#39;s just a sample so it&#39;s better to keep everything in one place.\r\n\r\nAdding code below in case GitHub repository goes down.\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.4&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;MongoAggregationTest&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;MongoAggregationTest&lt;/name&gt;\r\n        &lt;description&gt;MongoAggregationTest&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n**MongoAggregationTestApplication.java**\r\n\r\n    package com.example;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Min;\r\n\r\n    import org.bson.BsonDocument;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.aggregation.Aggregation;\r\n    import org.springframework.data.mongodb.core.aggregation.AggregationResults;\r\n    import org.springframework.data.mongodb.core.aggregation.LimitOperation;\r\n    import org.springframework.data.mongodb.core.aggregation.MatchOperation;\r\n    import org.springframework.data.mongodb.core.aggregation.SkipOperation;\r\n    import org.springframework.data.mongodb.core.index.TextIndexDefinition;\r\n    import org.springframework.data.mongodb.core.index.TextIndexDefinition.TextIndexDefinitionBuilder;\r\n    import org.springframework.data.mongodb.core.index.TextIndexed;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import org.springframework.data.mongodb.core.mapping.Field;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.CriteriaDefinition;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.TextCriteria;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n\r\n    @RequiredArgsConstructor\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class MongoAggregationTestApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MongoAggregationTestApplication.class, args);\r\n        }\r\n\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        @PostConstruct\r\n        void prepareData() {\r\n            boolean collectionExists = mongoTemplate.collectionExists(Product.COLLECTION_NAME);\r\n\r\n            log.info(&quot;####### product collection exists: {}&quot;, collectionExists);\r\n\r\n            if (!collectionExists) {\r\n                throw new RuntimeException(\r\n                        String.format(&quot;Required collection {%s} does not exist&quot;, Product.COLLECTION_NAME));\r\n            }\r\n\r\n            //Adding index manually ------------- This is required for text search on productName\r\n            TextIndexDefinition textIndex = new TextIndexDefinitionBuilder().onField(&quot;productName&quot;, 1F).build();\r\n            mongoTemplate.indexOps(Product.class).ensureIndex(textIndex);\r\n\r\n            boolean samplesAlreadyAdded = mongoTemplate\r\n                    .exists(new Query().addCriteria(Criteria.where(&quot;brandName&quot;).exists(true)), Product.class);\r\n\r\n            //Uncomment to delete all rows from product collection\r\n            //mongoTemplate.getCollection(Product.COLLECTION_NAME).deleteMany(new BsonDocument());\r\n\r\n            if (!samplesAlreadyAdded) {\r\n                for (int i = 1; i &lt;= 5; i++) {\r\n                    //adds 3 words in productName\r\n                    //product name term1\r\n                    String productName = &quot;product name term&quot; + i;\r\n\r\n                    Product product = new Product(null, &quot;ACTIVE&quot;, productName, &quot;BRAND&quot; + i, &quot;CATEGORY&quot; + i,\r\n                            &quot;SUB_CATEGORY&quot; + 1);\r\n\r\n                    mongoTemplate.save(product);\r\n\r\n                    log.info(&quot;Saving sample product to database: {}&quot;, product);\r\n                }\r\n            } else {\r\n                log.info(&quot;Skipping sample insertion as they&#39;re already in DB&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Slf4j\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @Validated\r\n    class ProductController {\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        //JSR 303 validations are returning 500 when validation fails, instead of 400. Will look into it later\r\n        /**\r\n         * Invoke using follwing command\r\n         * &lt;p&gt;\r\n         * &lt;code&gt;http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10&lt;/code&gt;\r\n         * \r\n         * @param productName\r\n         * @param brandName\r\n         * @param categoryName\r\n         * @param subCategoryName\r\n         * @param pageNumber\r\n         * @param pageSize\r\n         * @return\r\n         */\r\n        @GetMapping(&quot;/products&quot;)\r\n        public List&lt;Product&gt; getProducts(@RequestParam String productName, @RequestParam String brandName,\r\n                @RequestParam String categoryName, @RequestParam String subCategoryName,\r\n                @RequestParam @Min(0) int pageNumber, @RequestParam @Min(1) @Max(100) int pageSize) {\r\n\r\n            log.info(\r\n                    &quot;Request parameters: productName: {}, brandName: {}, categoryName: {}, subCategoryName: {}, pageNumber: {}, pageSize: {}&quot;,\r\n                    productName, brandName, categoryName, subCategoryName, pageNumber, pageSize);\r\n            //Query Start\r\n\r\n            TextCriteria productNameTextCriteria = new TextCriteria().matchingAny(productName).caseSensitive(false);\r\n            TextCriteriaHack textCriteriaHack = new TextCriteriaHack();\r\n            textCriteriaHack.addCriteria(productNameTextCriteria);\r\n\r\n            //Needs this hack to combine TextCriteria with Criteria in a single query\r\n            //See TextCriteriaHack for details\r\n            MatchOperation productNameTextMatch = new MatchOperation(textCriteriaHack);\r\n\r\n            //Exact match\r\n            Criteria brandNameMatch = Criteria.where(&quot;brandName&quot;).is(brandName);\r\n            Criteria categoryNameMatch = Criteria.where(&quot;categoryName&quot;).is(categoryName);\r\n            Criteria subCategoryNameMatch = Criteria.where(&quot;subCategoryName&quot;).is(subCategoryName);\r\n\r\n            MatchOperation orMatch = Aggregation\r\n                    .match(new Criteria().orOperator(brandNameMatch, categoryNameMatch, subCategoryNameMatch));\r\n\r\n            //Pagination setup\r\n            SkipOperation skip = Aggregation.skip((long) pageNumber * pageSize);\r\n            LimitOperation limit = Aggregation.limit(pageSize);\r\n\r\n            Aggregation aggregation = Aggregation.newAggregation(productNameTextMatch, orMatch, skip, limit);\r\n\r\n            //Query end\r\n\r\n            //Query execution\r\n            AggregationResults&lt;Product&gt; aggregateResults = mongoTemplate.aggregate(aggregation, Product.COLLECTION_NAME,\r\n                    Product.class);\r\n\r\n            List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n\r\n            aggregateResults.iterator().forEachRemaining(products::add);\r\n\r\n            log.info(&quot;Found products: {}&quot;, products);\r\n\r\n            return products;\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @Document(Product.COLLECTION_NAME)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    class Product {\r\n        static final String COLLECTION_NAME = &quot;product&quot;;\r\n\r\n        @Id\r\n        @Field(&quot;_id&quot;)\r\n        private String id;\r\n\r\n        @Field(&quot;status&quot;)\r\n        private String status;\r\n\r\n        @TextIndexed\r\n        @Field(&quot;productName&quot;)\r\n        private String productName;\r\n\r\n        @Field(&quot;brandName&quot;)\r\n        private String brandName;\r\n\r\n        @Field(&quot;categoryName&quot;)\r\n        private String categoryName;\r\n\r\n        @Field(&quot;subCategoryName&quot;)\r\n        private String subCategoryName;\r\n    }\r\n\r\n    /**\r\n     * https://stackoverflow.com/a/29925876 There is no way to combine\r\n     * CriteriaDefinition and Criteria in one query This hack converts\r\n     * CriteriaDefinition to Query which can be converted to Criteria\r\n     */\r\n    class TextCriteriaHack extends Query implements CriteriaDefinition {\r\n        @Override\r\n        public org.bson.Document getCriteriaObject() {\r\n            return this.getQueryObject();\r\n        }\r\n\r\n        @Override\r\n        public String getKey() {\r\n            return null;\r\n        }\r\n    }\r\n\r\nHere&#39;s the query that&#39;s being executed by `/products`, I got it from `MongoTemplate` logs\r\n\r\n    [\r\n        {\r\n            &quot;$match&quot;: {\r\n                &quot;$text&quot;: {\r\n                    &quot;$search&quot;: &quot;name&quot;,\r\n                    &quot;$caseSensitive&quot;: false\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$match&quot;: {\r\n                &quot;$or&quot;: [\r\n                    {\r\n                        &quot;brandName&quot;: &quot;BRAND1&quot;\r\n                    },\r\n                    {\r\n                        &quot;categoryName&quot;: &quot;CATEGORY2&quot;\r\n                    },\r\n                    {\r\n                        &quot;subCategoryName&quot;: &quot;SUB_CATEGORY3&quot;\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            &quot;$skip&quot;: 0\r\n        },\r\n        {\r\n            &quot;$limit&quot;: 1\r\n        }\r\n    ]\r\n\r\nHere&#39;s log contents, after a few requests have been fired\r\n\r\n    2022-10-06 04:50:01.209  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-10-06 04:50:01.770  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2022-10-06 04:50:01.780  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.\r\n    2022-10-06 04:50:02.447  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-10-06 04:50:02.456  INFO 26472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-10-06 04:50:02.456  INFO 26472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-10-06 04:50:02.531  INFO 26472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-10-06 04:50:02.531  INFO 26472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms\r\n    2022-10-06 04:50:02.679  INFO 26472 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/OpenLogic-OpenJDK/1.8.0-262-b10&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@22bd2039]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:121}] to localhost:27017\r\n    2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:122}] to localhost:27017\r\n    2022-10-06 04:50:02.726  INFO 26472 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48972600}\r\n    2022-10-06 04:50:02.922  INFO 26472 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:123}] to localhost:27017\r\n    2022-10-06 04:50:02.933  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : ####### product collection exists: true\r\n    2022-10-06 04:50:02.957 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Executing count: { &quot;brandName&quot; : { &quot;$exists&quot; : true}} in collection: product\r\n    2022-10-06 04:50:02.977 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.993  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.993 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.995  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.995 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.996  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d6, status=ACTIVE, productName=product name term3, brandName=BRAND3, categoryName=CATEGORY3, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.996 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.997  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d7, status=ACTIVE, productName=product name term4, brandName=BRAND4, categoryName=CATEGORY4, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.997 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.998  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d8, status=ACTIVE, productName=product name term5, brandName=BRAND5, categoryName=CATEGORY5, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:03.310  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-10-06 04:50:03.318  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Started MongoAggregationTestApplication in 2.446 seconds (JVM running for 2.802)\r\n    2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-10-06 04:50:17.448  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2022-10-06 04:50:17.511  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:17.517 DEBUG 26472 --- [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:17.527  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:23.235  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 1\r\n    2022-10-06 04:50:23.236 DEBUG 26472 --- [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 1}] in collection product\r\n    2022-10-06 04:50:23.238  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:28.891  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:28.892 DEBUG 26472 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:28.894  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:33.354  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Request parameters: productName: term3, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:33.355 DEBUG 26472 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term3&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:33.356  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Found products: []\r\n    2022-10-06 04:50:36.667  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Request parameters: productName: term2, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:36.667 DEBUG 26472 --- [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term2&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:36.669  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\r\n","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>Here is my working example in Spring Boot.</p>\n<p><a href=\"https://github.com/ConsciousObserver/MongoAggregationTest\" rel=\"nofollow noreferrer\">https://github.com/ConsciousObserver/MongoAggregationTest</a></p>\n<p>You can invoke the <code>/product</code> REST service using following command</p>\n<pre><code>http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10\n</code></pre>\n<p>Implementation supports following</p>\n<ol>\n<li>Text search on <code>productName</code> (Searches by words, needs text search index)</li>\n<li>Exact match on <code>brandName</code>, <code>categoryName</code> and <code>subCategoryName</code></li>\n<li>Pagination using <code>pageNumber</code> and <code>pageSize</code></li>\n</ol>\n<p>All of it is implemented using Spring Data APIs. I generally avoid writing native queries in code, as they are not validated at compile time.</p>\n<p>All classes are added to one Java file, it's just a sample so it's better to keep everything in one place.</p>\n<p>Adding code below in case GitHub repository goes down.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MongoAggregationTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MongoAggregationTest&lt;/name&gt;\n    &lt;description&gt;MongoAggregationTest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>MongoAggregationTestApplication.java</strong></p>\n<pre><code>package com.example;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.annotation.PostConstruct;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\n\nimport org.bson.BsonDocument;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.aggregation.Aggregation;\nimport org.springframework.data.mongodb.core.aggregation.AggregationResults;\nimport org.springframework.data.mongodb.core.aggregation.LimitOperation;\nimport org.springframework.data.mongodb.core.aggregation.MatchOperation;\nimport org.springframework.data.mongodb.core.aggregation.SkipOperation;\nimport org.springframework.data.mongodb.core.index.TextIndexDefinition;\nimport org.springframework.data.mongodb.core.index.TextIndexDefinition.TextIndexDefinitionBuilder;\nimport org.springframework.data.mongodb.core.index.TextIndexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.CriteriaDefinition;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.TextCriteria;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\n@RequiredArgsConstructor\n@SpringBootApplication\n@Slf4j\npublic class MongoAggregationTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoAggregationTestApplication.class, args);\n    }\n\n    private final MongoTemplate mongoTemplate;\n\n    @PostConstruct\n    void prepareData() {\n        boolean collectionExists = mongoTemplate.collectionExists(Product.COLLECTION_NAME);\n\n        log.info(&quot;####### product collection exists: {}&quot;, collectionExists);\n\n        if (!collectionExists) {\n            throw new RuntimeException(\n                    String.format(&quot;Required collection {%s} does not exist&quot;, Product.COLLECTION_NAME));\n        }\n\n        //Adding index manually ------------- This is required for text search on productName\n        TextIndexDefinition textIndex = new TextIndexDefinitionBuilder().onField(&quot;productName&quot;, 1F).build();\n        mongoTemplate.indexOps(Product.class).ensureIndex(textIndex);\n\n        boolean samplesAlreadyAdded = mongoTemplate\n                .exists(new Query().addCriteria(Criteria.where(&quot;brandName&quot;).exists(true)), Product.class);\n\n        //Uncomment to delete all rows from product collection\n        //mongoTemplate.getCollection(Product.COLLECTION_NAME).deleteMany(new BsonDocument());\n\n        if (!samplesAlreadyAdded) {\n            for (int i = 1; i &lt;= 5; i++) {\n                //adds 3 words in productName\n                //product name term1\n                String productName = &quot;product name term&quot; + i;\n\n                Product product = new Product(null, &quot;ACTIVE&quot;, productName, &quot;BRAND&quot; + i, &quot;CATEGORY&quot; + i,\n                        &quot;SUB_CATEGORY&quot; + 1);\n\n                mongoTemplate.save(product);\n\n                log.info(&quot;Saving sample product to database: {}&quot;, product);\n            }\n        } else {\n            log.info(&quot;Skipping sample insertion as they're already in DB&quot;);\n        }\n    }\n}\n\n@Slf4j\n@RestController\n@RequiredArgsConstructor\n@Validated\nclass ProductController {\n    private final MongoTemplate mongoTemplate;\n\n    //JSR 303 validations are returning 500 when validation fails, instead of 400. Will look into it later\n    /**\n     * Invoke using follwing command\n     * &lt;p&gt;\n     * &lt;code&gt;http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10&lt;/code&gt;\n     * \n     * @param productName\n     * @param brandName\n     * @param categoryName\n     * @param subCategoryName\n     * @param pageNumber\n     * @param pageSize\n     * @return\n     */\n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; getProducts(@RequestParam String productName, @RequestParam String brandName,\n            @RequestParam String categoryName, @RequestParam String subCategoryName,\n            @RequestParam @Min(0) int pageNumber, @RequestParam @Min(1) @Max(100) int pageSize) {\n\n        log.info(\n                &quot;Request parameters: productName: {}, brandName: {}, categoryName: {}, subCategoryName: {}, pageNumber: {}, pageSize: {}&quot;,\n                productName, brandName, categoryName, subCategoryName, pageNumber, pageSize);\n        //Query Start\n\n        TextCriteria productNameTextCriteria = new TextCriteria().matchingAny(productName).caseSensitive(false);\n        TextCriteriaHack textCriteriaHack = new TextCriteriaHack();\n        textCriteriaHack.addCriteria(productNameTextCriteria);\n\n        //Needs this hack to combine TextCriteria with Criteria in a single query\n        //See TextCriteriaHack for details\n        MatchOperation productNameTextMatch = new MatchOperation(textCriteriaHack);\n\n        //Exact match\n        Criteria brandNameMatch = Criteria.where(&quot;brandName&quot;).is(brandName);\n        Criteria categoryNameMatch = Criteria.where(&quot;categoryName&quot;).is(categoryName);\n        Criteria subCategoryNameMatch = Criteria.where(&quot;subCategoryName&quot;).is(subCategoryName);\n\n        MatchOperation orMatch = Aggregation\n                .match(new Criteria().orOperator(brandNameMatch, categoryNameMatch, subCategoryNameMatch));\n\n        //Pagination setup\n        SkipOperation skip = Aggregation.skip((long) pageNumber * pageSize);\n        LimitOperation limit = Aggregation.limit(pageSize);\n\n        Aggregation aggregation = Aggregation.newAggregation(productNameTextMatch, orMatch, skip, limit);\n\n        //Query end\n\n        //Query execution\n        AggregationResults&lt;Product&gt; aggregateResults = mongoTemplate.aggregate(aggregation, Product.COLLECTION_NAME,\n                Product.class);\n\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n\n        aggregateResults.iterator().forEachRemaining(products::add);\n\n        log.info(&quot;Found products: {}&quot;, products);\n\n        return products;\n    }\n}\n\n@Data\n@Document(Product.COLLECTION_NAME)\n@NoArgsConstructor\n@AllArgsConstructor\nclass Product {\n    static final String COLLECTION_NAME = &quot;product&quot;;\n\n    @Id\n    @Field(&quot;_id&quot;)\n    private String id;\n\n    @Field(&quot;status&quot;)\n    private String status;\n\n    @TextIndexed\n    @Field(&quot;productName&quot;)\n    private String productName;\n\n    @Field(&quot;brandName&quot;)\n    private String brandName;\n\n    @Field(&quot;categoryName&quot;)\n    private String categoryName;\n\n    @Field(&quot;subCategoryName&quot;)\n    private String subCategoryName;\n}\n\n/**\n * https://stackoverflow.com/a/29925876 There is no way to combine\n * CriteriaDefinition and Criteria in one query This hack converts\n * CriteriaDefinition to Query which can be converted to Criteria\n */\nclass TextCriteriaHack extends Query implements CriteriaDefinition {\n    @Override\n    public org.bson.Document getCriteriaObject() {\n        return this.getQueryObject();\n    }\n\n    @Override\n    public String getKey() {\n        return null;\n    }\n}\n</code></pre>\n<p>Here's the query that's being executed by <code>/products</code>, I got it from <code>MongoTemplate</code> logs</p>\n<pre><code>[\n    {\n        &quot;$match&quot;: {\n            &quot;$text&quot;: {\n                &quot;$search&quot;: &quot;name&quot;,\n                &quot;$caseSensitive&quot;: false\n            }\n        }\n    },\n    {\n        &quot;$match&quot;: {\n            &quot;$or&quot;: [\n                {\n                    &quot;brandName&quot;: &quot;BRAND1&quot;\n                },\n                {\n                    &quot;categoryName&quot;: &quot;CATEGORY2&quot;\n                },\n                {\n                    &quot;subCategoryName&quot;: &quot;SUB_CATEGORY3&quot;\n                }\n            ]\n        }\n    },\n    {\n        &quot;$skip&quot;: 0\n    },\n    {\n        &quot;$limit&quot;: 1\n    }\n]\n</code></pre>\n<p>Here's log contents, after a few requests have been fired</p>\n<pre><code>2022-10-06 04:50:01.209  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-10-06 04:50:01.770  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2022-10-06 04:50:01.780  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.\n2022-10-06 04:50:02.447  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-10-06 04:50:02.456  INFO 26472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-10-06 04:50:02.456  INFO 26472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-10-06 04:50:02.531  INFO 26472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-10-06 04:50:02.531  INFO 26472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms\n2022-10-06 04:50:02.679  INFO 26472 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/OpenLogic-OpenJDK/1.8.0-262-b10&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@22bd2039]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:121}] to localhost:27017\n2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:122}] to localhost:27017\n2022-10-06 04:50:02.726  INFO 26472 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48972600}\n2022-10-06 04:50:02.922  INFO 26472 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:123}] to localhost:27017\n2022-10-06 04:50:02.933  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : ####### product collection exists: true\n2022-10-06 04:50:02.957 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Executing count: { &quot;brandName&quot; : { &quot;$exists&quot; : true}} in collection: product\n2022-10-06 04:50:02.977 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.993  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.993 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.995  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.995 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.996  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d6, status=ACTIVE, productName=product name term3, brandName=BRAND3, categoryName=CATEGORY3, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.996 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.997  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d7, status=ACTIVE, productName=product name term4, brandName=BRAND4, categoryName=CATEGORY4, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.997 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.998  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d8, status=ACTIVE, productName=product name term5, brandName=BRAND5, categoryName=CATEGORY5, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:03.310  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-10-06 04:50:03.318  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Started MongoAggregationTestApplication in 2.446 seconds (JVM running for 2.802)\n2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-10-06 04:50:17.448  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2022-10-06 04:50:17.511  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:17.517 DEBUG 26472 --- [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:17.527  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:23.235  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 1\n2022-10-06 04:50:23.236 DEBUG 26472 --- [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 1}] in collection product\n2022-10-06 04:50:23.238  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:28.891  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:28.892 DEBUG 26472 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:28.894  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:33.354  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Request parameters: productName: term3, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:33.355 DEBUG 26472 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term3&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:33.356  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Found products: []\n2022-10-06 04:50:36.667  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Request parameters: productName: term2, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:36.667 DEBUG 26472 --- [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term2&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:36.669  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\n</code></pre>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73967169,"answer_count":2,"score":4,"last_activity_date":1665030082,"creation_date":1664291071,"question_id":73869815,"body_markdown":"I&#39;m trying to implement a dynamic search for a huge product collection. The object has several properties including `productName`, `subCategoryName`, `categoryName`, `brandName`, etc. The user could search for products using any of these properties. The order is fixed and the first priority for a search string is to find it in `productName` and then `subCategoryName` and so on.\r\n\r\nI used `aggregate` to achieve this and then `unionWith` to concat records that matched with other properties. It seems to work when fired as a raw query but we also need support for pagination and I&#39;m not being able to achieve that with Spring Data MongoDB\r\n```\r\ndb.product.aggregate(\r\n[\r\n&#160; { $match: { &quot;productName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]} }},\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;subCategoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;categoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;brandName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n]\r\n)\r\n```\r\nAlso, this query only works if we pass the substring of the exact name. For example, the ***NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart*** product will be returned if I search with *NIVEA BODY LOTION* but it won&#39;t return anything if I search with *HYDRATION LOTION*\r\n\r\nA Sample Product:\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;6278c1c2f2570d6f199435b2&quot;),\r\n    &quot;companyNo&quot; : 10000009,\r\n    &quot;categoryName&quot; : &quot;BEAUTY and PERSONAL CARE&quot;,\r\n    &quot;brandName&quot; : &quot;HYPERMART&quot;,\r\n    &quot;productName&quot; : &quot;NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart&quot;,\r\n    &quot;productImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\r\n    &quot;compressProductImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\r\n    &quot;productPrice&quot; : 249.0,\r\n    &quot;status&quot; : &quot;ACTIVE&quot;,\r\n    &quot;subCategoryName&quot; : &quot;BODY LOTION &amp; BODY CREAM&quot;,\r\n    &quot;defaultDiscount&quot; : 0.0,\r\n    &quot;discount&quot; : 7.0,\r\n    &quot;description&quot; : &quot;Give your skin fast-absorbing moisturisation and make it noticeably smoother for 48-hours with Nivea Express Hydration Body Lotion. The formula with Sea Minerals and Hydra IQ supplies your skin with moisture all day. The new improved formula contains Deep Moisture Serum to lock in deep moisture leaving you with soft and supple skin.&quot;,\r\n    &quot;afterDiscountPrice&quot; : 231.57,\r\n    &quot;taxPercentage&quot; : 1.0,\r\n    &quot;availableQuantity&quot; : NumberLong(100),\r\n    &quot;packingCharges&quot; : 0.0,\r\n    &quot;available&quot; : true,\r\n    &quot;featureProduct&quot; : false,\r\n    &quot;wholesaleProduct&quot; : false,\r\n    &quot;rewards&quot; : NumberLong(0),\r\n    &quot;createAt&quot; : ISODate(&quot;2022-05-09T07:24:40.286Z&quot;),\r\n    &quot;createdBy&quot; : &quot;companyAdmin_@+919146670758shivani.patni@apptware.com&quot;,\r\n    &quot;isBulkUpload&quot; : true,\r\n    &quot;buyPrice&quot; : 0.0,\r\n    &quot;privateProduct&quot; : false,\r\n    &quot;comboProduct&quot; : false,\r\n    &quot;subscribable&quot; : false,\r\n    &quot;discountAdded&quot; : false,\r\n    &quot;_class&quot; : &quot;com.apptmart.product.entity.Product&quot;\r\n}\r\n```\r\nI&#39;m new to MongoDB. any references will be appretiated.","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>I'm trying to implement a dynamic search for a huge product collection. The object has several properties including <code>productName</code>, <code>subCategoryName</code>, <code>categoryName</code>, <code>brandName</code>, etc. The user could search for products using any of these properties. The order is fixed and the first priority for a search string is to find it in <code>productName</code> and then <code>subCategoryName</code> and so on.</p>\n<p>I used <code>aggregate</code> to achieve this and then <code>unionWith</code> to concat records that matched with other properties. It seems to work when fired as a raw query but we also need support for pagination and I'm not being able to achieve that with Spring Data MongoDB</p>\n<pre><code>db.product.aggregate(\n[\n  { $match: { &quot;productName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]} }},\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;subCategoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;categoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;brandName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n]\n)\n</code></pre>\n<p>Also, this query only works if we pass the substring of the exact name. For example, the <em><strong>NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart</strong></em> product will be returned if I search with <em>NIVEA BODY LOTION</em> but it won't return anything if I search with <em>HYDRATION LOTION</em></p>\n<p>A Sample Product:</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;6278c1c2f2570d6f199435b2&quot;),\n    &quot;companyNo&quot; : 10000009,\n    &quot;categoryName&quot; : &quot;BEAUTY and PERSONAL CARE&quot;,\n    &quot;brandName&quot; : &quot;HYPERMART&quot;,\n    &quot;productName&quot; : &quot;NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart&quot;,\n    &quot;productImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\n    &quot;compressProductImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\n    &quot;productPrice&quot; : 249.0,\n    &quot;status&quot; : &quot;ACTIVE&quot;,\n    &quot;subCategoryName&quot; : &quot;BODY LOTION &amp; BODY CREAM&quot;,\n    &quot;defaultDiscount&quot; : 0.0,\n    &quot;discount&quot; : 7.0,\n    &quot;description&quot; : &quot;Give your skin fast-absorbing moisturisation and make it noticeably smoother for 48-hours with Nivea Express Hydration Body Lotion. The formula with Sea Minerals and Hydra IQ supplies your skin with moisture all day. The new improved formula contains Deep Moisture Serum to lock in deep moisture leaving you with soft and supple skin.&quot;,\n    &quot;afterDiscountPrice&quot; : 231.57,\n    &quot;taxPercentage&quot; : 1.0,\n    &quot;availableQuantity&quot; : NumberLong(100),\n    &quot;packingCharges&quot; : 0.0,\n    &quot;available&quot; : true,\n    &quot;featureProduct&quot; : false,\n    &quot;wholesaleProduct&quot; : false,\n    &quot;rewards&quot; : NumberLong(0),\n    &quot;createAt&quot; : ISODate(&quot;2022-05-09T07:24:40.286Z&quot;),\n    &quot;createdBy&quot; : &quot;companyAdmin_@+919146670758shivani.patni@apptware.com&quot;,\n    &quot;isBulkUpload&quot; : true,\n    &quot;buyPrice&quot; : 0.0,\n    &quot;privateProduct&quot; : false,\n    &quot;comboProduct&quot; : false,\n    &quot;subscribable&quot; : false,\n    &quot;discountAdded&quot; : false,\n    &quot;_class&quot; : &quot;com.apptmart.product.entity.Product&quot;\n}\n</code></pre>\n<p>I'm new to MongoDB. any references will be appretiated.</p>\n"},{"tags":["java","android","api","retrofit"],"comments":[{"owner":{"account_id":5209923,"reputation":579,"user_id":4166687,"accept_rate":60,"display_name":"Stack Man"},"score":6,"creation_date":1413949996,"post_id":26500036,"comment_id":41632355,"body_markdown":"I don&#39;t find enough documentations/tutorials for using Retrofit.","body":"I don&#39;t find enough documentations/tutorials for using Retrofit."},{"owner":{"account_id":2193124,"reputation":122,"user_id":1939598,"accept_rate":100,"display_name":"Rafed Nole"},"score":1,"creation_date":1414314389,"post_id":26500036,"comment_id":41761056,"body_markdown":"Did you get it resolved ?","body":"Did you get it resolved ?"},{"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"score":1,"creation_date":1414415010,"post_id":26500036,"comment_id":41791239,"body_markdown":"better to use volley for fast networking.","body":"better to use volley for fast networking."},{"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"score":8,"creation_date":1427450667,"post_id":26500036,"comment_id":46791084,"body_markdown":"A little late to the party, but for future searchers: you can find a fairly extensive guide for retrofit [here](http://futurestud.io/blog/retrofit-getting-started-and-android-client/).","body":"A little late to the party, but for future searchers: you can find a fairly extensive guide for retrofit <a href=\"http://futurestud.io/blog/retrofit-getting-started-and-android-client/\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1466241480,"creation_date":1414330894,"answer_id":26573609,"question_id":26500036,"body_markdown":"Found a small, but complete and concise example at\r\nhttps://github.com/square/retrofit/tree/master/samples","title":"Using Retrofit in Android","body":"<p>Found a small, but complete and concise example at\n<a href=\"https://github.com/square/retrofit/tree/master/samples\" rel=\"nofollow\">https://github.com/square/retrofit/tree/master/samples</a></p>\n"},{"comments":[{"owner":{"account_id":2173447,"reputation":9226,"user_id":2423194,"accept_rate":88,"display_name":"Rock Lee"},"score":2,"creation_date":1444771402,"post_id":26573636,"comment_id":54040072,"body_markdown":"`Unresolved reference: RestAdapter` It appears RestAdapter is no longer used in version 2. This question helped explain that: http://stackoverflow.com/questions/32424184/restadapter-retrofit-not-resolving-in-android","body":"<code>Unresolved reference: RestAdapter</code> It appears RestAdapter is no longer used in version 2. This question helped explain that: <a href=\"http://stackoverflow.com/questions/32424184/restadapter-retrofit-not-resolving-in-android\" title=\"restadapter retrofit not resolving in android\">stackoverflow.com/questions/32424184/&hellip;</a>"},{"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"score":0,"creation_date":1472143928,"post_id":26573636,"comment_id":65645035,"body_markdown":"this is retrofit 1. people are using retrofit 2 now. the syntax is different.","body":"this is retrofit 1. people are using retrofit 2 now. the syntax is different."},{"owner":{"account_id":6113679,"reputation":379,"user_id":4769384,"display_name":"Vinayak Mestri"},"score":0,"creation_date":1601744341,"post_id":26573636,"comment_id":113503374,"body_markdown":"Easy way to add retrofit in your project with just one click. (one time setup)\nhttps://medium.com/@mestri.vinayak.n/quick-install-retrofit-in-your-android-project-custom-template-a14a6adc77c2","body":"Easy way to add retrofit in your project with just one click. (one time setup) <a href=\"https://medium.com/@mestri.vinayak.n/quick-install-retrofit-in-your-android-project-custom-template-a14a6adc77c2\" rel=\"nofollow noreferrer\">medium.com/@mestri.vinayak.n/&hellip;</a>"}],"tags":[],"owner":{"account_id":1326426,"reputation":4831,"user_id":1271136,"accept_rate":100,"display_name":"Artemis"},"comment_count":3,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1414331054,"creation_date":1414331054,"answer_id":26573636,"question_id":26500036,"body_markdown":"Using Retrofit is quite simple and straightforward. \r\n\r\nFirst of all you need to add retrofit to your project, as example with Gradle build sytem. \r\n\r\n    compile &#39;com.squareup.retrofit:retrofit:1.7.1&#39; |\r\n\r\nanother way you can download .jar and place it to your libs folder. \r\n\r\nThen you need to define interfaces that will be used by Retrofit to make API calls to your REST endpoints. For example for users:  \r\n\r\n    public interface YourUsersApi {\r\n\r\n       //You can use rx.java for sophisticated composition of requests \r\n       @GET(&quot;/users/{user}&quot;)\r\n       public Observable&lt;SomeUserModel&gt; fetchUser(@Path(&quot;user&quot;) String user);\r\n\r\n       //or you can just get your model if you use json api\r\n       @GET(&quot;/users/{user}&quot;)\r\n       public SomeUserModel fetchUser(@Path(&quot;user&quot;) String user);\r\n\r\n       //or if there are some special cases you can process your response manually \r\n       @GET(&quot;/users/{user}&quot;)\r\n       public Response fetchUser(@Path(&quot;user&quot;) String user);\r\n    \r\n    }\r\n\r\nOk. Now you have defined your API interface an you can try to use it. \r\n\r\nTo start you need to create an instance of ***RestAdapter*** and set base url of your API back-end. It&#39;s also quite simple: \r\n\r\n    RestAdapter restAdapter = new RestAdapter.Builder()\r\n       .setEndpoint(&quot;https://yourserveraddress.com&quot;)\r\n        .build();\r\n\r\n    YourUsersApi yourUsersApi = restAdapter.create(YourUsersApi.class);\r\n\r\nHere Retrofit will read your information from interface and under the hood it will create ***RestHandler*** according to meta-info your provided which actually will perform HTTP  requests. \r\n\r\nThen under the hood, once response is received, in case of json api your data will be transformed to your model using Gson library so you should be aware of that fact that limitations that are present in Gson are actually there in Retrofit. \r\n\r\nTo extend/override process of serialisers/deserialisation your response data to your models you might want to provide your custom serialisers/deserialisers to retrofit.\r\n\r\nHere you need to implement Converter interface and implement 2 methods ***fromBody()*** and ***toBody()***.\r\n\r\nHere is example: \r\n\r\n    public class SomeCustomRetrofitConverter implements Converter {\r\n\r\n        private GsonBuilder gb;\r\n\r\n        public SomeCustomRetrofitConverter() {\r\n            gb = new GsonBuilder();\r\n\r\n            //register your cursom custom type serialisers/deserialisers if needed\r\n            gb.registerTypeAdapter(SomeCutsomType.class, new SomeCutsomTypeDeserializer());\r\n        }\r\n\r\n        public static final String ENCODING = &quot;UTF-8&quot;;\r\n\r\n        @Override\r\n        public Object fromBody(TypedInput body, Type type) throws ConversionException {\r\n            String charset = &quot;UTF-8&quot;;\r\n            if (body.mimeType() != null) {\r\n                charset = MimeUtil.parseCharset(body.mimeType());\r\n            }\r\n            InputStreamReader isr = null;\r\n            try {\r\n               isr = new InputStreamReader(body.in(), charset);\r\n               Gson gson = gb.create();\r\n               return gson.fromJson(isr, type);\r\n            } catch (IOException e) {\r\n                throw new ConversionException(e);\r\n            } catch (JsonParseException e) {\r\n                throw new ConversionException(e);\r\n            } finally {\r\n                if (isr != null) {\r\n                       try {\r\n                          isr.close();\r\n                       } catch (IOException ignored) {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public TypedOutput toBody(Object object) {\r\n            try {\r\n                Gson gson = gb.create();\r\n                return new JsonTypedOutput(gson.toJson(object).getBytes(ENCODING), ENCODING);\r\n            } catch (UnsupportedEncodingException e) {\r\n                throw new AssertionError(e);\r\n            }\r\n         }\r\n\r\n        private static class JsonTypedOutput implements TypedOutput {\r\n            private final byte[] jsonBytes;\r\n            private final String mimeType;\r\n\r\n            JsonTypedOutput(byte[] jsonBytes, String encode) {\r\n                this.jsonBytes = jsonBytes;\r\n                this.mimeType = &quot;application/json; charset=&quot; + encode;\r\n            }\r\n\r\n            @Override\r\n            public String fileName() {\r\n                return null;\r\n            }\r\n\r\n           @Override\r\n           public String mimeType() {\r\n               return mimeType;\r\n           }\r\n\r\n           @Override\r\n           public long length() {\r\n              return jsonBytes.length;\r\n           }\r\n\r\n           @Override\r\n           public void writeTo(OutputStream out) throws IOException {\r\n               out.write(jsonBytes);\r\n           }\r\n        }\r\n     }\r\n\r\nAnd now you need to enable your custom adapters, if it was needed by using ***setConverter()*** on building RestAdapter \r\n\r\nOk. Now you are aware how you can get your data from server to your Android application. But you need somehow mange your data and invoke REST call in right place. \r\nThere I would suggest to use android Service or AsyncTask or loader or rx.java that would query your data on background thread in order to not block your UI. \r\n\r\nSo now you can find the most appropriate place to call  \r\n\r\n    SomeUserModel yourUser = yourUsersApi.fetchUser(&quot;someUsers&quot;)\r\nto fetch your remote data.\r\n  ","title":"Using Retrofit in Android","body":"<p>Using Retrofit is quite simple and straightforward. </p>\n\n<p>First of all you need to add retrofit to your project, as example with Gradle build sytem. </p>\n\n<pre><code>compile 'com.squareup.retrofit:retrofit:1.7.1' |\n</code></pre>\n\n<p>another way you can download .jar and place it to your libs folder. </p>\n\n<p>Then you need to define interfaces that will be used by Retrofit to make API calls to your REST endpoints. For example for users:  </p>\n\n<pre><code>public interface YourUsersApi {\n\n   //You can use rx.java for sophisticated composition of requests \n   @GET(\"/users/{user}\")\n   public Observable&lt;SomeUserModel&gt; fetchUser(@Path(\"user\") String user);\n\n   //or you can just get your model if you use json api\n   @GET(\"/users/{user}\")\n   public SomeUserModel fetchUser(@Path(\"user\") String user);\n\n   //or if there are some special cases you can process your response manually \n   @GET(\"/users/{user}\")\n   public Response fetchUser(@Path(\"user\") String user);\n\n}\n</code></pre>\n\n<p>Ok. Now you have defined your API interface an you can try to use it. </p>\n\n<p>To start you need to create an instance of <strong><em>RestAdapter</em></strong> and set base url of your API back-end. It's also quite simple: </p>\n\n<pre><code>RestAdapter restAdapter = new RestAdapter.Builder()\n   .setEndpoint(\"https://yourserveraddress.com\")\n    .build();\n\nYourUsersApi yourUsersApi = restAdapter.create(YourUsersApi.class);\n</code></pre>\n\n<p>Here Retrofit will read your information from interface and under the hood it will create <strong><em>RestHandler</em></strong> according to meta-info your provided which actually will perform HTTP  requests. </p>\n\n<p>Then under the hood, once response is received, in case of json api your data will be transformed to your model using Gson library so you should be aware of that fact that limitations that are present in Gson are actually there in Retrofit. </p>\n\n<p>To extend/override process of serialisers/deserialisation your response data to your models you might want to provide your custom serialisers/deserialisers to retrofit.</p>\n\n<p>Here you need to implement Converter interface and implement 2 methods <strong><em>fromBody()</em></strong> and <strong><em>toBody()</em></strong>.</p>\n\n<p>Here is example: </p>\n\n<pre><code>public class SomeCustomRetrofitConverter implements Converter {\n\n    private GsonBuilder gb;\n\n    public SomeCustomRetrofitConverter() {\n        gb = new GsonBuilder();\n\n        //register your cursom custom type serialisers/deserialisers if needed\n        gb.registerTypeAdapter(SomeCutsomType.class, new SomeCutsomTypeDeserializer());\n    }\n\n    public static final String ENCODING = \"UTF-8\";\n\n    @Override\n    public Object fromBody(TypedInput body, Type type) throws ConversionException {\n        String charset = \"UTF-8\";\n        if (body.mimeType() != null) {\n            charset = MimeUtil.parseCharset(body.mimeType());\n        }\n        InputStreamReader isr = null;\n        try {\n           isr = new InputStreamReader(body.in(), charset);\n           Gson gson = gb.create();\n           return gson.fromJson(isr, type);\n        } catch (IOException e) {\n            throw new ConversionException(e);\n        } catch (JsonParseException e) {\n            throw new ConversionException(e);\n        } finally {\n            if (isr != null) {\n                   try {\n                      isr.close();\n                   } catch (IOException ignored) {\n                }\n            }\n        }\n    }\n\n    @Override\n    public TypedOutput toBody(Object object) {\n        try {\n            Gson gson = gb.create();\n            return new JsonTypedOutput(gson.toJson(object).getBytes(ENCODING), ENCODING);\n        } catch (UnsupportedEncodingException e) {\n            throw new AssertionError(e);\n        }\n     }\n\n    private static class JsonTypedOutput implements TypedOutput {\n        private final byte[] jsonBytes;\n        private final String mimeType;\n\n        JsonTypedOutput(byte[] jsonBytes, String encode) {\n            this.jsonBytes = jsonBytes;\n            this.mimeType = \"application/json; charset=\" + encode;\n        }\n\n        @Override\n        public String fileName() {\n            return null;\n        }\n\n       @Override\n       public String mimeType() {\n           return mimeType;\n       }\n\n       @Override\n       public long length() {\n          return jsonBytes.length;\n       }\n\n       @Override\n       public void writeTo(OutputStream out) throws IOException {\n           out.write(jsonBytes);\n       }\n    }\n }\n</code></pre>\n\n<p>And now you need to enable your custom adapters, if it was needed by using <strong><em>setConverter()</em></strong> on building RestAdapter </p>\n\n<p>Ok. Now you are aware how you can get your data from server to your Android application. But you need somehow mange your data and invoke REST call in right place. \nThere I would suggest to use android Service or AsyncTask or loader or rx.java that would query your data on background thread in order to not block your UI. </p>\n\n<p>So now you can find the most appropriate place to call  </p>\n\n<pre><code>SomeUserModel yourUser = yourUsersApi.fetchUser(\"someUsers\")\n</code></pre>\n\n<p>to fetch your remote data.</p>\n"},{"tags":[],"owner":{"account_id":3084900,"reputation":16354,"user_id":2612259,"accept_rate":76,"display_name":"nPn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414383320,"creation_date":1414383320,"answer_id":26581104,"question_id":26500036,"body_markdown":"Take a look at this , excellent blog on using Retrofit in conjunction with Otto, both libraries are from Square.\r\n\r\nhttp://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html\r\n\r\nThe basic idea is that you will hold a reference to a &quot;repository&quot; object in your Application class.  This object will have methods that &quot;subscribe&quot; to rest api event requests. When one is received it will make the proper Retrofit call, and then &quot;post&quot; the response, which can then be  &quot;subscribed&quot; to by another component (such as the activity that made the request).\r\n\r\nOnce you have this all setup properly,  accessing data via your rest api becomes very easy.  For example, making are request for data would look something like this :\r\n\r\n\t\tmBus.post(new GetMicropostsRequest(mUserId));\r\n\r\nand consuming the data would look something like this:\r\n\r\n\t@Subscribe\r\n\tpublic void onGetUserProfileResponse(GetUserProfileResponse event) {\r\n\t\tmView.setUserIcon(&quot;http://www.gravatar.com/avatar/&quot; + event.getGravatar_id());\r\n\t\tmView.setUserName(event.getName());\r\n\r\n\t}\r\n\r\nIt takes a little bit of upfront effort, but in the end it becomes &quot;trivial&quot; to access anything you need from our backend via Rest.","title":"Using Retrofit in Android","body":"<p>Take a look at this , excellent blog on using Retrofit in conjunction with Otto, both libraries are from Square.</p>\n\n<p><a href=\"http://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html\" rel=\"nofollow\">http://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html</a></p>\n\n<p>The basic idea is that you will hold a reference to a \"repository\" object in your Application class.  This object will have methods that \"subscribe\" to rest api event requests. When one is received it will make the proper Retrofit call, and then \"post\" the response, which can then be  \"subscribed\" to by another component (such as the activity that made the request).</p>\n\n<p>Once you have this all setup properly,  accessing data via your rest api becomes very easy.  For example, making are request for data would look something like this :</p>\n\n<pre><code>    mBus.post(new GetMicropostsRequest(mUserId));\n</code></pre>\n\n<p>and consuming the data would look something like this:</p>\n\n<pre><code>@Subscribe\npublic void onGetUserProfileResponse(GetUserProfileResponse event) {\n    mView.setUserIcon(\"http://www.gravatar.com/avatar/\" + event.getGravatar_id());\n    mView.setUserName(event.getName());\n\n}\n</code></pre>\n\n<p>It takes a little bit of upfront effort, but in the end it becomes \"trivial\" to access anything you need from our backend via Rest.</p>\n"},{"tags":[],"owner":{"account_id":140142,"reputation":7582,"user_id":346232,"accept_rate":60,"display_name":"Ben Pearson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466243282,"creation_date":1414509533,"answer_id":26611983,"question_id":26500036,"body_markdown":"Firstly, putting everything in MainActivity would be bad practice and you would end up with a [God object][1].\r\n\r\nThe documentation on the [Retrofit site][2] is fantastic, so I&#39;m going to read your question on how to structure the project. I wrote a very small app for demonstration purposes. It loads cats from the cat API and should be fairly simple to follow what is happening.\r\n\r\nIt has an example of using JSON or XML for the parsing of data from the service. You can find it at https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\r\n\r\nHopefully you can extrapolate why I have structured it the way I have. I&#39;m happy to answer any questions you have in the comments and update the answer.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/God_object\r\n  [2]: http://square.github.io/retrofit/","title":"Using Retrofit in Android","body":"<p>Firstly, putting everything in MainActivity would be bad practice and you would end up with a <a href=\"http://en.wikipedia.org/wiki/God_object\" rel=\"nofollow\">God object</a>.</p>\n\n<p>The documentation on the <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow\">Retrofit site</a> is fantastic, so I'm going to read your question on how to structure the project. I wrote a very small app for demonstration purposes. It loads cats from the cat API and should be fairly simple to follow what is happening.</p>\n\n<p>It has an example of using JSON or XML for the parsing of data from the service. You can find it at <a href=\"https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\" rel=\"nofollow\">https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit</a></p>\n\n<p>Hopefully you can extrapolate why I have structured it the way I have. I'm happy to answer any questions you have in the comments and update the answer.</p>\n"},{"tags":[],"owner":{"account_id":3749,"reputation":7592,"user_id":5446,"accept_rate":88,"display_name":"Sean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414685702,"creation_date":1414685702,"answer_id":26658073,"question_id":26500036,"body_markdown":"Checkout this app that demonstrates Retrofit integration to Google Tasks API.\r\n\r\nhttps://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks\r\n\r\nThere are examples of Retrofit api (TaskApi) used within Activity AsyncTask in MainActivity, as well as examples of use within Sync Adapter in background service.\r\n\r\nThe strategy from the article posted in @nPn&#39;s answer is probably a more elegant solution, but you can at least look at another working example.","title":"Using Retrofit in Android","body":"<p>Checkout this app that demonstrates Retrofit integration to Google Tasks API.</p>\n\n<p><a href=\"https://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks\" rel=\"nofollow\">https://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks</a></p>\n\n<p>There are examples of Retrofit api (TaskApi) used within Activity AsyncTask in MainActivity, as well as examples of use within Sync Adapter in background service.</p>\n\n<p>The strategy from the article posted in @nPn's answer is probably a more elegant solution, but you can at least look at another working example.</p>\n"},{"comments":[{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":1,"creation_date":1447397760,"post_id":26666965,"comment_id":55146857,"body_markdown":"Excuse me if my question is very trivial but I&#39;m really struggling to start using Retrofit (yet zero progress). Should we have something like a php page to accomplish the task?","body":"Excuse me if my question is very trivial but I&#39;m really struggling to start using Retrofit (yet zero progress). Should we have something like a php page to accomplish the task?"},{"owner":{"account_id":3795203,"reputation":1302,"user_id":3150510,"accept_rate":50,"display_name":"chkm8"},"score":2,"creation_date":1447399177,"post_id":26666965,"comment_id":55147394,"body_markdown":"Retrofit is a REST api for android, basically you need to have a server side application, like php where you will need also to build your api. If you havent tried to create a simple mobile application with REST in android, you might start with this tutorial,http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/. And if you already have experience in REST, Retrofit will be a good library to use.","body":"Retrofit is a REST api for android, basically you need to have a server side application, like php where you will need also to build your api. If you havent tried to create a simple mobile application with REST in android, you might start with this tutorial,<a href=\"http://www.androidhive.info/2012/01/android-login-and-registration-with-php-mysql-and-sqlite/\" rel=\"nofollow noreferrer\">androidhive.info/2012/01/&hellip;</a>. And if you already have experience in REST, Retrofit will be a good library to use."},{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":0,"creation_date":1447399606,"post_id":26666965,"comment_id":55147567,"body_markdown":"Thank you. Indeed I&#39;ve already tried this and I can understand it. You create a php page which receives what you have send it as POST and generates the response in JSON format. Do you anything even close to that tutorial for retrofit?","body":"Thank you. Indeed I&#39;ve already tried this and I can understand it. You create a php page which receives what you have send it as POST and generates the response in JSON format. Do you anything even close to that tutorial for retrofit?"},{"owner":{"account_id":3795203,"reputation":1302,"user_id":3150510,"accept_rate":50,"display_name":"chkm8"},"score":2,"creation_date":1447401618,"post_id":26666965,"comment_id":55148390,"body_markdown":"It is not a php page actually., it should be an api, normally plain php script that accepts request like POST/GET in JSON/XML format. Here is an example of api.\nfunction login_post(){\n   \n    \t$email = $this-&gt;post(&#39;email&#39;);\n    \t$password = $this-&gt;post(&#39;password&#39;);\n    \t\n    \t$data = $this-&gt;Auth_model-&gt;authenticate($email, $password);\n\n    \tprint_r($data);\n }","body":"It is not a php page actually., it should be an api, normally plain php script that accepts request like POST/GET in JSON/XML format. Here is an example of api. function login_post(){         \t$email = $this-&gt;post(&#39;email&#39;);     \t$password = $this-&gt;post(&#39;password&#39;);     \t     \t$data = $this-&gt;Auth_model-&gt;authenticate($email, $password);      \tprint_r($data);  }"}],"tags":[],"owner":{"account_id":3795203,"reputation":1302,"user_id":3150510,"accept_rate":50,"display_name":"chkm8"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1414724851,"creation_date":1414724851,"answer_id":26666965,"question_id":26500036,"body_markdown":"I have just used retrofit for a couple of weeks and at first I found it hard to use in my application. I would like to share to you the easiest way to use retrofit in you application. And then later on if you already have a good grasp in retrofit you can enhance your codes(separating your ui from api and use callbacks) and maybe get some techniques from the post above.\r\n\r\nIn your app you have Login,Activity for list of task,and activity to view detailed task.\r\n\r\nFirst thing is you need to add retrofit in your app and theres 2 ways, follow @artemis post above.\r\n\r\nRetrofit uses interface as your API. So, create an interface class.\r\n\r\n    public interface MyApi{\r\n\r\n\t/*LOGIN*/\r\n    @GET(&quot;/api_reciever/login&quot;) //your login function in your api\r\n    public void login(@Query(&quot;username&quot;) String username,@Query(&quot;password&quot;) String password,Callback&lt;String&gt; calback); //this is for your login, and you can used String as response or you can use a POJO, retrofit is very rubust to convert JSON to POJO\r\n\r\n    /*GET LIST*/\r\n    @GET(&quot;/api_reciever/getlist&quot;) //a function in your api to get all the list\r\n    public void getTaskList(@Query(&quot;user_uuid&quot;) String user_uuid,Callback&lt;ArrayList&lt;Task&gt;&gt; callback); //this is an example of response POJO - make sure your variable name is the same with your json tagging\r\n\r\n    /*GET LIST*/\r\n    @GET(&quot;/api_reciever/getlistdetails&quot;) //a function in your api to get all the list\r\n    public void getTaskDetail(@Query(&quot;task_uuid&quot;) String task_uuid,Callback&lt;Task&gt; callback);   //this is an example of response POJO - make sure your variable name is the same with your json tagging\r\n\r\n    }\r\n\r\nCreate another interface class to hold all your BASE ADDRESS of your api\r\n\r\n    public interface Constants{\r\n\t   public String URL = &quot;www.yoururl.com&quot;\r\n    }\r\n\r\n\r\nIn your Login activity create a method to handle the retrofit\r\n\r\n    private void myLogin(String username,String password){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mylogin = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mylogin.login(username,password,new Callback&lt;String&gt;() {\r\n            @Override\r\n            public void success(String s, Response response) {\r\n                //process your response if login successfull you can call Intent and launch your main activity\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nIn your MainActivityList\r\n\r\n    private void myList(String user_uuid){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mytask.getTaskDetail(user_uuid,new Callback&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public void success(ArrayList&lt;Task&gt; list, Response response) {\r\n                //process your response if successful load the list in your listview adapter\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\nIn your Detailed List\r\n\r\n    private void myDetailed(String task_uuid){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mytask.getTaskList(task_uuid,new Callback&lt;Task&gt;() {\r\n            @Override\r\n            public void success(Task task, Response response) {\r\n                //process your response if successful do what you want in your task\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nHope this would help you though its really the simplest way to use retrofit. \r\n\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p>I have just used retrofit for a couple of weeks and at first I found it hard to use in my application. I would like to share to you the easiest way to use retrofit in you application. And then later on if you already have a good grasp in retrofit you can enhance your codes(separating your ui from api and use callbacks) and maybe get some techniques from the post above.</p>\n\n<p>In your app you have Login,Activity for list of task,and activity to view detailed task.</p>\n\n<p>First thing is you need to add retrofit in your app and theres 2 ways, follow @artemis post above.</p>\n\n<p>Retrofit uses interface as your API. So, create an interface class.</p>\n\n<pre><code>public interface MyApi{\n\n/*LOGIN*/\n@GET(\"/api_reciever/login\") //your login function in your api\npublic void login(@Query(\"username\") String username,@Query(\"password\") String password,Callback&lt;String&gt; calback); //this is for your login, and you can used String as response or you can use a POJO, retrofit is very rubust to convert JSON to POJO\n\n/*GET LIST*/\n@GET(\"/api_reciever/getlist\") //a function in your api to get all the list\npublic void getTaskList(@Query(\"user_uuid\") String user_uuid,Callback&lt;ArrayList&lt;Task&gt;&gt; callback); //this is an example of response POJO - make sure your variable name is the same with your json tagging\n\n/*GET LIST*/\n@GET(\"/api_reciever/getlistdetails\") //a function in your api to get all the list\npublic void getTaskDetail(@Query(\"task_uuid\") String task_uuid,Callback&lt;Task&gt; callback);   //this is an example of response POJO - make sure your variable name is the same with your json tagging\n\n}\n</code></pre>\n\n<p>Create another interface class to hold all your BASE ADDRESS of your api</p>\n\n<pre><code>public interface Constants{\n   public String URL = \"www.yoururl.com\"\n}\n</code></pre>\n\n<p>In your Login activity create a method to handle the retrofit</p>\n\n<pre><code>private void myLogin(String username,String password){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mylogin = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmylogin.login(username,password,new Callback&lt;String&gt;() {\n        @Override\n        public void success(String s, Response response) {\n            //process your response if login successfull you can call Intent and launch your main activity\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>In your MainActivityList</p>\n\n<pre><code>private void myList(String user_uuid){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmytask.getTaskDetail(user_uuid,new Callback&lt;Task&gt;&gt;() {\n        @Override\n        public void success(ArrayList&lt;Task&gt; list, Response response) {\n            //process your response if successful load the list in your listview adapter\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>In your Detailed List</p>\n\n<pre><code>private void myDetailed(String task_uuid){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmytask.getTaskList(task_uuid,new Callback&lt;Task&gt;() {\n        @Override\n        public void success(Task task, Response response) {\n            //process your response if successful do what you want in your task\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>Hope this would help you though its really the simplest way to use retrofit. </p>\n"},{"tags":[],"owner":{"account_id":3028959,"reputation":555,"user_id":2568378,"display_name":"mr. Nutscracker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414783627,"creation_date":1414783627,"answer_id":26682054,"question_id":26500036,"body_markdown":"You may try saving references to your api inside your application class. Then you can get it&#39;s instance from any activity or fragment and get api from there. That sounds a little weird, but it may be a simple DI alternative. And if you will only store references in your app class, it won&#39;t be a kind of god object\r\n\r\nUPD: http://square.github.io/retrofit/ - here is some documentation, it might be useful","title":"Using Retrofit in Android","body":"<p>You may try saving references to your api inside your application class. Then you can get it's instance from any activity or fragment and get api from there. That sounds a little weird, but it may be a simple DI alternative. And if you will only store references in your app class, it won't be a kind of god object</p>\n\n<p>UPD: <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow\">http://square.github.io/retrofit/</a> - here is some documentation, it might be useful</p>\n"},{"tags":[],"owner":{"account_id":4842194,"reputation":1936,"user_id":4647343,"accept_rate":33,"display_name":"kundan roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445352867,"creation_date":1445352867,"answer_id":33239974,"question_id":26500036,"body_markdown":"Using RetroFit is very easy. \r\n\r\n - Add dependecy in build.gradle. \r\n \r\n\r\n            compile &#39;com.squareup.retrofit:retrofit:1.9.0&#39;\r\n\r\n            compile &#39;com.squareup.okhttp:okhttp:2.4.0&#39; \r\n\r\n\r\n - Make an Interface for all http methods.\r\n\r\n   \r\n\r\n - Copy your json output and create pojo class to recieve json of your  \r\n   response, you can make pojo from [JsonSchema2pojo ][1]  site .\r\n - make an adapter and call your method\r\n\r\n for complete demo try this tutorial [Retrofit Android example][2]\r\n\r\n\r\n  [1]: http://www.jsonschema2pojo.org/\r\n  [2]: http://www.androidwarriors.com/2015/08/retrofit-android-example-web-services.html","title":"Using Retrofit in Android","body":"<p>Using RetroFit is very easy. </p>\n\n<ul>\n<li><p>Add dependecy in build.gradle. </p>\n\n<pre><code>    compile 'com.squareup.retrofit:retrofit:1.9.0'\n\n    compile 'com.squareup.okhttp:okhttp:2.4.0' \n</code></pre></li>\n<li><p>Make an Interface for all http methods.</p></li>\n<li><p>Copy your json output and create pojo class to recieve json of your<br>\nresponse, you can make pojo from <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow\">JsonSchema2pojo </a>  site .</p></li>\n<li><p>make an adapter and call your method</p>\n\n<p>for complete demo try this tutorial <a href=\"http://www.androidwarriors.com/2015/08/retrofit-android-example-web-services.html\" rel=\"nofollow\">Retrofit Android example</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473332024,"creation_date":1473321946,"answer_id":39385674,"question_id":26500036,"body_markdown":"I find these tutorials [AndroidHive][1] , [CodePath][2] helpful\r\n\r\nI will briefly describe what I have learned.\r\n\r\n**Step 1 :** Add these three `dependencies to build.gradle` and Add `Internet permission` to `Manifest`\r\n\r\n    compile &#39;com.google.code.gson:gson:2.6.2&#39; // for string to class conversion. Not Compulsory\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;// compulsory\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39; //for retrofit conversion\r\n\r\nAdd them in Manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n**Step 2**\r\nCreae ApiClient and ApiInterface.\r\n\r\n    public class ApiClient {\r\n    \r\n        public static final String BASE_URL = &quot;http://yourwebsite/services/&quot;;\r\n        private static Retrofit retrofit = null;\r\n        \r\n        public static Retrofit getClient() {\r\n            if (retrofit==null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\nwhere ApiInterface.class\r\n\r\n    public interface ApiInterface {\r\n    \r\n        // getting same data in three different ways.\r\n        @GET(&quot;GetCompanyDetailByID&quot;)\r\n        Call&lt;CompanyResponse&gt; getDetailOfComapanies(@Query(&quot;CompanyID&quot;) int companyID);\r\n    \r\n    \r\n        @GET(&quot;GetCompanyDetailByID&quot;)\r\n        Call&lt;ResponseBody&gt; getRawDetailOfCompanies(@Query(&quot;CompanyID&quot;) int companyID);\r\n    \r\n        @GET(&quot;{pathToAdd}&quot;)\r\n        Call&lt;CompanyResponse&gt; getDetailOfComapaniesWithPath(@Path(&quot;pathToAdd&quot;) String pathToAppend, @Query(&quot;CompanyID&quot;) int companyID);\r\n    }\r\n\r\nAnd call this service like\r\n\r\n    ApiInterface apiService =\r\n                    ApiClient.getClient().create(ApiInterface.class);\r\n    \r\n            Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapanies(2);\r\n            //Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapaniesWithPath(&quot;GetCompanyDetailByID&quot;,2);\r\n    \r\n            companyResponseCall.enqueue(new Callback&lt;CompanyResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;CompanyResponse&gt; call, Response&lt;CompanyResponse&gt; response) {\r\n                    CompanyResponse comapnyResponse = response.body();\r\n                    Boolean status  = comapnyResponse.getStatus();\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;CompanyResponse&gt; call, Throwable t) {\r\n                }\r\n            });\r\n\r\n\r\n**For Getting Raw Json String** \r\n\r\n    Call&lt;ResponseBody&gt; call = apiService.getRawDetailOfCompanies(2);\r\n            call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                        String jsonStr = response.body().string();\r\n                        if(!jsonStr.isEmpty()){\r\n                            Gson gson = new Gson();\r\n    \r\n                            JSONObject jObject = new JSONObject(jsonStr).getJSONObject(&quot;data&quot;);\r\n    \r\n    \t\t\t\t\t\t//1st Method\r\n                            Data dataKiType = gson.fromJson(jObject.toString(), Data.class);\r\n                            dataKiType.getCompanyDetail();\r\n    \r\n                            //2nd method for creaing class or List at runTime\r\n                            Type listType = new TypeToken&lt;Data&gt;(){}.getType();\r\n                            Data yourClassList = new Gson().fromJson(jObject.toString(), listType);\r\n                            yourClassList.getCompanyDetail();\r\n                        }  e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                }\r\n            });\r\n\r\n&gt;You can create your business object using http://www.jsonschema2pojo.org/ by simply pasting json. and selecting source type to JSON and Annotation Style to GSon\r\n\r\n  [1]: http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\r\n  [2]: https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit","title":"Using Retrofit in Android","body":"<p>I find these tutorials <a href=\"http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\" rel=\"nofollow\">AndroidHive</a> , <a href=\"https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\" rel=\"nofollow\">CodePath</a> helpful</p>\n\n<p>I will briefly describe what I have learned.</p>\n\n<p><strong>Step 1 :</strong> Add these three <code>dependencies to build.gradle</code> and Add <code>Internet permission</code> to <code>Manifest</code></p>\n\n<pre><code>compile 'com.google.code.gson:gson:2.6.2' // for string to class conversion. Not Compulsory\ncompile 'com.squareup.retrofit2:retrofit:2.1.0'// compulsory\ncompile 'com.squareup.retrofit2:converter-gson:2.1.0' //for retrofit conversion\n</code></pre>\n\n<p>Add them in Manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p><strong>Step 2</strong>\nCreae ApiClient and ApiInterface.</p>\n\n<pre><code>public class ApiClient {\n\n    public static final String BASE_URL = \"http://yourwebsite/services/\";\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit==null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n\n<p>where ApiInterface.class</p>\n\n<pre><code>public interface ApiInterface {\n\n    // getting same data in three different ways.\n    @GET(\"GetCompanyDetailByID\")\n    Call&lt;CompanyResponse&gt; getDetailOfComapanies(@Query(\"CompanyID\") int companyID);\n\n\n    @GET(\"GetCompanyDetailByID\")\n    Call&lt;ResponseBody&gt; getRawDetailOfCompanies(@Query(\"CompanyID\") int companyID);\n\n    @GET(\"{pathToAdd}\")\n    Call&lt;CompanyResponse&gt; getDetailOfComapaniesWithPath(@Path(\"pathToAdd\") String pathToAppend, @Query(\"CompanyID\") int companyID);\n}\n</code></pre>\n\n<p>And call this service like</p>\n\n<pre><code>ApiInterface apiService =\n                ApiClient.getClient().create(ApiInterface.class);\n\n        Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapanies(2);\n        //Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapaniesWithPath(\"GetCompanyDetailByID\",2);\n\n        companyResponseCall.enqueue(new Callback&lt;CompanyResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;CompanyResponse&gt; call, Response&lt;CompanyResponse&gt; response) {\n                CompanyResponse comapnyResponse = response.body();\n                Boolean status  = comapnyResponse.getStatus();\n            }\n\n            @Override\n            public void onFailure(Call&lt;CompanyResponse&gt; call, Throwable t) {\n            }\n        });\n</code></pre>\n\n<p><strong>For Getting Raw Json String</strong> </p>\n\n<pre><code>Call&lt;ResponseBody&gt; call = apiService.getRawDetailOfCompanies(2);\n        call.enqueue(new Callback&lt;ResponseBody&gt;() {\n            @Override\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                    String jsonStr = response.body().string();\n                    if(!jsonStr.isEmpty()){\n                        Gson gson = new Gson();\n\n                        JSONObject jObject = new JSONObject(jsonStr).getJSONObject(\"data\");\n\n                        //1st Method\n                        Data dataKiType = gson.fromJson(jObject.toString(), Data.class);\n                        dataKiType.getCompanyDetail();\n\n                        //2nd method for creaing class or List at runTime\n                        Type listType = new TypeToken&lt;Data&gt;(){}.getType();\n                        Data yourClassList = new Gson().fromJson(jObject.toString(), listType);\n                        yourClassList.getCompanyDetail();\n                    }  e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n            }\n        });\n</code></pre>\n\n<blockquote>\n  <p>You can create your business object using <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow\">http://www.jsonschema2pojo.org/</a> by simply pasting json. and selecting source type to JSON and Annotation Style to GSon</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3264477,"reputation":857,"user_id":2749218,"accept_rate":67,"display_name":"Madhav Bhattarai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490775875,"creation_date":1490775875,"answer_id":43088178,"question_id":26500036,"body_markdown":"Beginners find it little intimidating to learn retrofit. I have prepared a tutorial which will simplify the learning curve. See [Retrofit android tutorial][1] for more information.\r\n\r\n\r\n  [1]: http://learnzone.info/retrofit-android-tutorial/","title":"Using Retrofit in Android","body":"<p>Beginners find it little intimidating to learn retrofit. I have prepared a tutorial which will simplify the learning curve. See <a href=\"http://learnzone.info/retrofit-android-tutorial/\" rel=\"nofollow noreferrer\">Retrofit android tutorial</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500367087,"creation_date":1500367087,"answer_id":45161592,"question_id":26500036,"body_markdown":"**Its Working**\r\n\r\n[![enter image description here][1]][1]\r\n    package com.keshav.gmailretrofitexampleworking.network;\r\n    \r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.gson.GsonConverterFactory;\r\n    \r\n    public class ApiClient {\r\n        public static final String BASE_URL = &quot;http://api.androidhive.info/json/&quot;;\r\n        private static Retrofit retrofit = null;\r\n        \r\n        public static Retrofit getClient() {\r\n            if (retrofit == null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n    ==============================================\r\n    package com.keshav.gmailretrofitexampleworking.network;\r\n    \r\n    import com.keshav.gmailretrofitexampleworking.models.Message;\r\n    \r\n    import java.util.List;\r\n    \r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    \r\n    public interface ApiInterface {\r\n        @GET(&quot;inbox.json&quot;)\r\n        Call&lt;List&lt;Message&gt;&gt; getInbox();\r\n    }\r\n\r\n compile &#39;com.google.code.gson:gson:2.6.2&#39;\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.0.2&#39;\r\n\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.0.2&#39;\r\n\r\n\r\n=====================================================\r\n       Call Retrofit 2 APi inside onCreate \r\n=====================================================\r\n\r\n    private void getInbox() {\r\n        swipeRefreshLayout.setRefreshing(true);\r\n\r\n        ApiInterface apiService =\r\n                ApiClient.getClient().create(ApiInterface.class);\r\n\r\n        Call&lt;List&lt;Message&gt;&gt; call = apiService.getInbox();\r\n        call.enqueue(new Callback&lt;List&lt;Message&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Message&gt;&gt; call, Response&lt;List&lt;Message&gt;&gt; response) {\r\n                // clear the inbox\r\n                messages.clear();\r\n\r\n                // add all the messages\r\n                // messages.addAll(response.body());\r\n\r\n                // TODO - avoid looping\r\n                // the loop was performed to add colors to each message\r\n\r\n                Log.e(&quot;keshav&quot;,&quot;response&quot; +response.body());\r\n\r\n                for (Message message : response.body()) {\r\n                    // generate a random color\r\n\r\n                    // TODO keshav Generate Random Color Here\r\n                    message.setColor(getRandomMaterialColor(&quot;400&quot;));\r\n                    messages.add(message);\r\n                }\r\n\r\n                mAdapter.notifyDataSetChanged();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Message&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;Unable to fetch json: &quot; + t.getMessage(), Toast.LENGTH_LONG).show();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nSource Code \r\nhttps://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU\r\n\r\nhttps://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8\r\n\r\n  [1]: https://i.stack.imgur.com/ipgeT.png","title":"Using Retrofit in Android","body":"<p><strong>Its Working</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ipgeT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ipgeT.png\" alt=\"enter image description here\"></a>\n    package com.keshav.gmailretrofitexampleworking.network;</p>\n\n<pre><code>import retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class ApiClient {\n    public static final String BASE_URL = \"http://api.androidhive.info/json/\";\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n==============================================\npackage com.keshav.gmailretrofitexampleworking.network;\n\nimport com.keshav.gmailretrofitexampleworking.models.Message;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface ApiInterface {\n    @GET(\"inbox.json\")\n    Call&lt;List&lt;Message&gt;&gt; getInbox();\n}\n</code></pre>\n\n<p>compile 'com.google.code.gson:gson:2.6.2'</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.0.2'\n\ncompile 'com.squareup.retrofit2:converter-gson:2.0.2'\n</code></pre>\n\n<p>=====================================================</p>\n\n<h1>       Call Retrofit 2 APi inside onCreate</h1>\n\n<pre><code>private void getInbox() {\n    swipeRefreshLayout.setRefreshing(true);\n\n    ApiInterface apiService =\n            ApiClient.getClient().create(ApiInterface.class);\n\n    Call&lt;List&lt;Message&gt;&gt; call = apiService.getInbox();\n    call.enqueue(new Callback&lt;List&lt;Message&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Message&gt;&gt; call, Response&lt;List&lt;Message&gt;&gt; response) {\n            // clear the inbox\n            messages.clear();\n\n            // add all the messages\n            // messages.addAll(response.body());\n\n            // TODO - avoid looping\n            // the loop was performed to add colors to each message\n\n            Log.e(\"keshav\",\"response\" +response.body());\n\n            for (Message message : response.body()) {\n                // generate a random color\n\n                // TODO keshav Generate Random Color Here\n                message.setColor(getRandomMaterialColor(\"400\"));\n                messages.add(message);\n            }\n\n            mAdapter.notifyDataSetChanged();\n            swipeRefreshLayout.setRefreshing(false);\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Message&gt;&gt; call, Throwable t) {\n            Toast.makeText(getApplicationContext(), \"Unable to fetch json: \" + t.getMessage(), Toast.LENGTH_LONG).show();\n            swipeRefreshLayout.setRefreshing(false);\n        }\n    });\n}\n</code></pre>\n\n<p>Source Code \n<a href=\"https://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU</a></p>\n\n<p><a href=\"https://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8</a></p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500547428,"creation_date":1500547428,"answer_id":45212463,"question_id":26500036,"body_markdown":"**Developing your own type-safe HTTP library to interface with a REST API can be a real pain: you have to handle many aspects, such as making connections, caching, retrying failed requests, threading, response parsing, error handling, and more. Retrofit, on the other hand, is a well-planned, documented and tested library that will save you a lot of precious time and headaches.**\r\n\r\n\r\ncompile &#39;com.google.code.gson:gson:2.6.2&#39; \r\n\r\ncompile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;// compulsory\r\n\r\ncompile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39; //for retrofit conversion","title":"Using Retrofit in Android","body":"<p><strong>Developing your own type-safe HTTP library to interface with a REST API can be a real pain: you have to handle many aspects, such as making connections, caching, retrying failed requests, threading, response parsing, error handling, and more. Retrofit, on the other hand, is a well-planned, documented and tested library that will save you a lot of precious time and headaches.</strong></p>\n\n<p>compile 'com.google.code.gson:gson:2.6.2' </p>\n\n<p>compile 'com.squareup.retrofit2:retrofit:2.1.0'// compulsory</p>\n\n<p>compile 'com.squareup.retrofit2:converter-gson:2.1.0' //for retrofit conversion</p>\n"},{"tags":[],"owner":{"account_id":7117449,"reputation":473,"user_id":5443193,"accept_rate":44,"display_name":"jojo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511805076,"creation_date":1511805076,"answer_id":47516986,"question_id":26500036,"body_markdown":"First, add this lines to gradle file\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.7&#39;\r\n        compile &#39;com.squareup:otto:1.3.8&#39;\r\n        compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;\r\n\r\nThen Create Objects in OnCreate of Activity\r\n\r\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\t\r\n    OkHttpClient client= new OkHttpClient\r\n                    .Builder()\r\n                    .connectTimeout(30, TimeUnit.SECONDS)\r\n                    .readTimeout(30, TimeUnit.SECONDS)\r\n                    .addInterceptor(interceptor).build();\r\n    Gson gson=new GsonBuilder()\r\n              .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n              .create();\r\n    Retrofit retrofit= new Retrofit.Builder()\r\n                    .baseUrl(&quot;url&quot;)\r\n                    .client(client)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n\r\nCreate an iterface\r\n\r\n    public interface summaryListAPI {\r\n    //post\r\n        @FormUrlEncoded\r\n        @POST(&quot;index.php&quot;)\r\n        Call&lt;summaryList&gt; post(\r\n                @Field(&quot;status&quot;) String status,\r\n                @Field(&quot;sox&quot;) String sox\r\n        );\r\n    //get\r\n    @GET(&quot;yesbdeChatHistoryList/{userId}/&quot;)\r\n        Call&lt;List&lt;ChatTabTwoResp&gt;&gt; getFriends(\r\n                @Path(&quot;userId&quot;) int userId\r\n        );\r\n    }\r\n\r\nCreate classes\r\n\r\n    public class summaryList {\r\n        @SerializedName(&quot;bookingSummary&quot;) @Expose private List&lt;summaryListData&gt; status = new ArrayList&lt;summaryListData&gt;();\r\n    }\t\r\n    \r\n    public class summaryListData {\r\n        @SerializedName(&quot;date&quot;) @Expose private String date;\r\n    }\r\n\r\nAdd this Method to your activity\r\n\r\n     public void apiSummaryListMain(final Retrofit retrofit) {\r\n            retrofit.create(summaryListAPI.class).post(&quot;8547861657&quot;,&quot;100&quot;).enqueue(new Callback&lt;summaryList&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;summaryList&gt; call, Response&lt;summaryList&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        progressBar.setVisibility(View.INVISIBLE);\r\n                         List&lt;summaryListData&gt; summary_List= response.body().getStatus();                   \r\n                    }else{              \r\n                    }\r\n                }\r\n                @Override\r\n                public void onFailure(Call&lt;summaryList&gt; call, Throwable t) {\r\n                   \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n","title":"Using Retrofit in Android","body":"<p>First, add this lines to gradle file</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.squareup:otto:1.3.8'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n</code></pre>\n\n<p>Then Create Objects in OnCreate of Activity</p>\n\n<pre><code>HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);    \nOkHttpClient client= new OkHttpClient\n                .Builder()\n                .connectTimeout(30, TimeUnit.SECONDS)\n                .readTimeout(30, TimeUnit.SECONDS)\n                .addInterceptor(interceptor).build();\nGson gson=new GsonBuilder()\n          .setDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\")\n          .create();\nRetrofit retrofit= new Retrofit.Builder()\n                .baseUrl(\"url\")\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n</code></pre>\n\n<p>Create an iterface</p>\n\n<pre><code>public interface summaryListAPI {\n//post\n    @FormUrlEncoded\n    @POST(\"index.php\")\n    Call&lt;summaryList&gt; post(\n            @Field(\"status\") String status,\n            @Field(\"sox\") String sox\n    );\n//get\n@GET(\"yesbdeChatHistoryList/{userId}/\")\n    Call&lt;List&lt;ChatTabTwoResp&gt;&gt; getFriends(\n            @Path(\"userId\") int userId\n    );\n}\n</code></pre>\n\n<p>Create classes</p>\n\n<pre><code>public class summaryList {\n    @SerializedName(\"bookingSummary\") @Expose private List&lt;summaryListData&gt; status = new ArrayList&lt;summaryListData&gt;();\n}   \n\npublic class summaryListData {\n    @SerializedName(\"date\") @Expose private String date;\n}\n</code></pre>\n\n<p>Add this Method to your activity</p>\n\n<pre><code> public void apiSummaryListMain(final Retrofit retrofit) {\n        retrofit.create(summaryListAPI.class).post(\"8547861657\",\"100\").enqueue(new Callback&lt;summaryList&gt;() {\n            @Override\n            public void onResponse(Call&lt;summaryList&gt; call, Response&lt;summaryList&gt; response) {\n                if (response.isSuccessful()) {\n                    progressBar.setVisibility(View.INVISIBLE);\n                     List&lt;summaryListData&gt; summary_List= response.body().getStatus();                   \n                }else{              \n                }\n            }\n            @Override\n            public void onFailure(Call&lt;summaryList&gt; call, Throwable t) {\n\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428198,"reputation":2311,"user_id":3690456,"display_name":"A-Droid Tech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511957771,"creation_date":1511957771,"answer_id":47552676,"question_id":26500036,"body_markdown":"I just braked this problem in a very easy way you just need install a plugin and  follow some steps to implement retrofit in any of your App.:\r\n\r\nAlready posted answer : https://stackoverflow.com/questions/39866613/retrofit-in-android/47552486#47552486\r\n\r\nAdd (QAssist - Android Studio Plugin) Android plugin in your Android studio. ( https://github.com/sakkeerhussain/QAssist ).\r\n\r\n\r\nHope this will help you.","title":"Using Retrofit in Android","body":"<p>I just braked this problem in a very easy way you just need install a plugin and  follow some steps to implement retrofit in any of your App.:</p>\n\n<p>Already posted answer : <a href=\"https://stackoverflow.com/questions/39866613/retrofit-in-android/47552486#47552486\">Retrofit in android?</a></p>\n\n<p>Add (QAssist - Android Studio Plugin) Android plugin in your Android studio. ( <a href=\"https://github.com/sakkeerhussain/QAssist\" rel=\"nofollow noreferrer\">https://github.com/sakkeerhussain/QAssist</a> ).</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":5905776,"reputation":4552,"user_id":4647628,"accept_rate":73,"display_name":"Aks4125"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522604627,"creation_date":1522604627,"answer_id":49600884,"question_id":26500036,"body_markdown":"Simple retrofit + okhttp integration using RxJava\r\n\r\n    public WebService apiService(Context context) {\r\n        String mBaseUrl = context.getString(BuildConfig.DEBUG ? R.string.local_url : R.string.live_url);\r\n\r\n        int cacheSize = 5 * 1024 * 1024; // 5 MB\r\n        Cache cache = new Cache(context.getCacheDir(), cacheSize);\r\n\r\n        HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n        loggingInterceptor.setLevel(BuildConfig.DEBUG ? HttpLoggingInterceptor.Level.BODY : HttpLoggingInterceptor.Level.NONE);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .readTimeout(120, TimeUnit.SECONDS)\r\n                .writeTimeout(120, TimeUnit.SECONDS)\r\n                .connectTimeout(120, TimeUnit.SECONDS)\r\n                .addInterceptor(loggingInterceptor)\r\n                //.addNetworkInterceptor(networkInterceptor)\r\n                .cache(cache)\r\n                .build();\r\n\r\n        return new Retrofit.Builder().baseUrl(mBaseUrl)\r\n                .client(okHttpClient)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n                .build().create(WebService.class);\r\n\r\n    }","title":"Using Retrofit in Android","body":"<p>Simple retrofit + okhttp integration using RxJava</p>\n\n<pre><code>public WebService apiService(Context context) {\n    String mBaseUrl = context.getString(BuildConfig.DEBUG ? R.string.local_url : R.string.live_url);\n\n    int cacheSize = 5 * 1024 * 1024; // 5 MB\n    Cache cache = new Cache(context.getCacheDir(), cacheSize);\n\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\n    loggingInterceptor.setLevel(BuildConfig.DEBUG ? HttpLoggingInterceptor.Level.BODY : HttpLoggingInterceptor.Level.NONE);\n\n    OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .readTimeout(120, TimeUnit.SECONDS)\n            .writeTimeout(120, TimeUnit.SECONDS)\n            .connectTimeout(120, TimeUnit.SECONDS)\n            .addInterceptor(loggingInterceptor)\n            //.addNetworkInterceptor(networkInterceptor)\n            .cache(cache)\n            .build();\n\n    return new Retrofit.Builder().baseUrl(mBaseUrl)\n            .client(okHttpClient)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build().create(WebService.class);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7791517,"reputation":61,"user_id":5894271,"display_name":"CHirag RAmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554116063,"creation_date":1554116063,"answer_id":55453462,"question_id":26500036,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    public interface APIService {\r\n\r\n        @POST(Constant.updateProfile)\r\n        @FormUrlEncoded\r\n        Call&lt;ResponseBody&gt; updateProfile(\r\n                @Field(&quot;user_id&quot;) String user_id,\r\n                @Field(&quot;first_name&quot;) String first_name,\r\n                @Field(&quot;last_name&quot;) String last_name\r\n        );\r\n    }\r\n\r\n    public class RetrofitClient {\r\n        private static Retrofit retrofit = null;\r\n\r\n        public static Retrofit getClient(String baseUrl) {\r\n            if (retrofit == null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(baseUrl)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n\r\n    }\r\n\r\n\r\npublic class Body {\r\n\r\n\r\n    // Check Status if Status True or False\r\n    String status;\r\n    String message;\r\n    String checksum;\r\n  \r\n}\r\n\r\n\r\n\r\npublic interface OnBodyResponseListner {\r\n\r\n\r\n    public void onSucces(Body response);\r\n    public void onFailure(Body response);\r\n    public void onBlankBody(Call&lt;ResponseBody&gt; call);\r\n\r\n}\r\n\r\n public static void setOnWebServiceCallListner(final Call&lt;ResponseBody&gt; t, final OnBodyResponseListner onBodyResponseListner) {\r\n        t.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                try {\r\n                    call.cancel();\r\n                    Gson gson = new GsonBuilder().serializeNulls().create();\r\n                    String json = response.body().string();\r\n                    Log.d(TAG, json + &quot;  ~ Response ~  &quot; + json);\r\n                    Body body = gson.fromJson(json, Body.class);\r\n\r\n                    if (body.getStatus().equalsIgnoreCase(&quot;true&quot;)) {\r\n                        onBodyResponseListner.onSucces(body);\r\n                    } else {\r\n                        onBodyResponseListner.onFailure(body);\r\n                    }\r\n\r\n\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                onBodyResponseListner.onBlankBody(call);\r\n                Log.d(TAG, &quot;~ Response Message Blank ~ &quot; + t.getMessage() + &quot; \\n Localize Message ~ &quot; + t.getLocalizedMessage() + &quot; \\n&quot; + t.getStackTrace().toString());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n APIService mService = RetrofitClient.getClient(Constant.BASE_URL).create(APIService.class);\r\n\r\n\r\nOprations.setOnWebServiceCallListner(mService.updateProfile(&quot;12&quot;,\r\n                &quot;first_name&quot;,\r\n                &quot;last,name&quot;\r\n        ), new OnBodyResponseListner() {\r\n            @Override\r\n            public void onSucces(Body response) {\r\n                \r\n               \r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Body response) {\r\n                \r\n                Toast.makeText(mContext, response.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBlankBody(Call&lt;ResponseBody&gt; call) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Using Retrofit in Android","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public interface APIService {\r\n\r\n    @POST(Constant.updateProfile)\r\n    @FormUrlEncoded\r\n    Call&lt;ResponseBody&gt; updateProfile(\r\n            @Field(\"user_id\") String user_id,\r\n            @Field(\"first_name\") String first_name,\r\n            @Field(\"last_name\") String last_name\r\n    );\r\n}\r\n\r\npublic class RetrofitClient {\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl) {\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Body {\r\n\r\n\r\n// Check Status if Status True or False\r\nString status;\r\nString message;\r\nString checksum;\r\n  \r\n}\r\n\r\n\r\n\r\npublic interface OnBodyResponseListner {\r\n\r\n\r\npublic void onSucces(Body response);\r\npublic void onFailure(Body response);\r\npublic void onBlankBody(Call&lt;ResponseBody&gt; call);\r\n\r\n}\r\n\r\n public static void setOnWebServiceCallListner(final Call&lt;ResponseBody&gt; t, final OnBodyResponseListner onBodyResponseListner) {\r\n    t.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n            try {\r\n                call.cancel();\r\n                Gson gson = new GsonBuilder().serializeNulls().create();\r\n                String json = response.body().string();\r\n                Log.d(TAG, json + \"  ~ Response ~  \" + json);\r\n                Body body = gson.fromJson(json, Body.class);\r\n\r\n                if (body.getStatus().equalsIgnoreCase(\"true\")) {\r\n                    onBodyResponseListner.onSucces(body);\r\n                } else {\r\n                    onBodyResponseListner.onFailure(body);\r\n                }\r\n\r\n\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n            onBodyResponseListner.onBlankBody(call);\r\n            Log.d(TAG, \"~ Response Message Blank ~ \" + t.getMessage() + \" \\n Localize Message ~ \" + t.getLocalizedMessage() + \" \\n\" + t.getStackTrace().toString());\r\n        }\r\n    });\r\n\r\n\r\n}\r\n\r\n\r\n APIService mService = RetrofitClient.getClient(Constant.BASE_URL).create(APIService.class);\r\n\r\n\r\nOprations.setOnWebServiceCallListner(mService.updateProfile(\"12\",\r\n            \"first_name\",\r\n            \"last,name\"\r\n    ), new OnBodyResponseListner() {\r\n        @Override\r\n        public void onSucces(Body response) {\r\n            \r\n           \r\n\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Body response) {\r\n            \r\n            Toast.makeText(mContext, response.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onBlankBody(Call&lt;ResponseBody&gt; call) {\r\n\r\n        }\r\n    });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14019881,"reputation":279,"user_id":10126339,"display_name":"ajaas azeez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581330661,"creation_date":1581329100,"answer_id":60147991,"question_id":26500036,"body_markdown":"1. First, add the dependency - `compile &#39;com.squareup.retrofit:retrofit:1.7.1&#39; `\r\n2. Create retrofit instance class\r\n\r\n```\r\npublic class RetrofitClientInstance {\r\n    private Context context;\r\n    private static OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n    private static Retrofit retrofit\r\n    private static Retrofit.Builder builder =\r\n            new Retrofit.Builder()\r\n                    .baseUrl(BuildConfig.SERVER_URL)\r\n                    .client(getRequestHeader())\r\n                    .addConverterFactory(GsonConverterFactory.create());\r\n    public static HttpLoggingInterceptor setLogger() {\r\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        return logging;\r\n    }\r\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n    \r\n        if (!httpClient.interceptors().isEmpty()) {\r\n    \r\n            httpClient.interceptors().clear();\r\n        }\r\n        httpClient.authenticator(new AccessTokenAuthenticator());\r\n        httpClient.readTimeout(60,TimeUnit.SECONDS);\r\n        httpClient.connectTimeout(60,TimeUnit.SECONDS);\r\n        httpClient.addInterceptor(setLogger());\r\n        httpClient.addInterceptor(new Interceptor() {\r\n            @Override\r\n            public Response intercept(Chain chain) throws IOException {\r\n                Request original = chain.request();\r\n                Request.Builder requestBuilder = original.newBuilder()\r\n                        .header(&quot;LocalSystemDate&quot;, MyApplication.getInstance().getCurrentDateAndTimeWithTimeZone())\r\n                        .addHeader(&quot;channel_id&quot;, AppConst.CHANNEL_ID)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;Bearer&quot; + &quot; &quot; + SharedPref.getsAccessToken())\r\n                        .method(original.method(), original.body());\r\n                Request request = requestBuilder.build();\r\n                return chain.proceed(request);\r\n            }\r\n        });\r\n    \r\n        OkHttpClient client = httpClient.build();\r\n        Retrofit retrofit = builder.client(client).build();\r\n        return retrofit.create(serviceClass);\r\n    }\r\n    \r\n    \r\n    private static OkHttpClient getRequestHeader() {\r\n    \r\n        return new OkHttpClient.Builder()\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. Write the interface\r\n```\r\npublic interface GetDataService {\r\n\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n    @POST(&quot;login&quot;)\r\n    Call&lt;LoginResponseModel&gt; loginUser(\r\n          @Body LoginBodyModel loginBodyModel\r\n    );\r\n\r\n}\r\n```\r\n\r\n\r\n4. Call the service\r\n```\r\nGetDataService service = RetrofitClientInstance.createService(GetDataService.class);\r\n\r\nCall&lt;LoginResponseModel&gt; loginModelCall = service.loginUser(loginBodyModel);\r\n\r\nloginModelCall.enqueue(new Callback&lt;LoginResponseModel&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;LoginResponseModel&gt; call, Response&lt;LoginResponseModel&gt; response) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onFailure(Call&lt;LoginResponseModel&gt; call, Throwable t)  {\r\n       \r\n    }\r\n});\r\n```","title":"Using Retrofit in Android","body":"<ol>\n<li>First, add the dependency - <code>compile 'com.squareup.retrofit:retrofit:1.7.1'</code></li>\n<li>Create retrofit instance class</li>\n</ol>\n\n<pre><code>public class RetrofitClientInstance {\n    private Context context;\n    private static OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    private static Retrofit retrofit\n    private static Retrofit.Builder builder =\n            new Retrofit.Builder()\n                    .baseUrl(BuildConfig.SERVER_URL)\n                    .client(getRequestHeader())\n                    .addConverterFactory(GsonConverterFactory.create());\n    public static HttpLoggingInterceptor setLogger() {\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        return logging;\n    }\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n\n        if (!httpClient.interceptors().isEmpty()) {\n\n            httpClient.interceptors().clear();\n        }\n        httpClient.authenticator(new AccessTokenAuthenticator());\n        httpClient.readTimeout(60,TimeUnit.SECONDS);\n        httpClient.connectTimeout(60,TimeUnit.SECONDS);\n        httpClient.addInterceptor(setLogger());\n        httpClient.addInterceptor(new Interceptor() {\n            @Override\n            public Response intercept(Chain chain) throws IOException {\n                Request original = chain.request();\n                Request.Builder requestBuilder = original.newBuilder()\n                        .header(\"LocalSystemDate\", MyApplication.getInstance().getCurrentDateAndTimeWithTimeZone())\n                        .addHeader(\"channel_id\", AppConst.CHANNEL_ID)\n                        .addHeader(\"Authorization\", \"Bearer\" + \" \" + SharedPref.getsAccessToken())\n                        .method(original.method(), original.body());\n                Request request = requestBuilder.build();\n                return chain.proceed(request);\n            }\n        });\n\n        OkHttpClient client = httpClient.build();\n        Retrofit retrofit = builder.client(client).build();\n        return retrofit.create(serviceClass);\n    }\n\n\n    private static OkHttpClient getRequestHeader() {\n\n        return new OkHttpClient.Builder()\n                .readTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .build();\n    }\n}\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Write the interface</li>\n</ol>\n\n<pre><code>public interface GetDataService {\n\n    @Headers(\"Content-Type: application/json\")\n    @POST(\"login\")\n    Call&lt;LoginResponseModel&gt; loginUser(\n          @Body LoginBodyModel loginBodyModel\n    );\n\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>Call the service</li>\n</ol>\n\n<pre><code>GetDataService service = RetrofitClientInstance.createService(GetDataService.class);\n\nCall&lt;LoginResponseModel&gt; loginModelCall = service.loginUser(loginBodyModel);\n\nloginModelCall.enqueue(new Callback&lt;LoginResponseModel&gt;() {\n    @Override\n    public void onResponse(Call&lt;LoginResponseModel&gt; call, Response&lt;LoginResponseModel&gt; response) {\n\n    }\n\n    @Override\n    public void onFailure(Call&lt;LoginResponseModel&gt; call, Throwable t)  {\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651826734,"creation_date":1651826734,"answer_id":72138655,"question_id":26500036,"body_markdown":"**You can do this with hilt**\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent::class)\r\n    object RestClientModule {\r\n    \r\n        @Provides\r\n        @Singleton\r\n        internal fun provideApiService(\r\n            @WeatherRetrofit retrofit: Retrofit\r\n        ): ApiService = retrofit.create(ApiService::class.java)\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Provides\r\n        @WeatherRetrofit\r\n        @Singleton\r\n        internal fun provideHiCityRetrofit(\r\n            okHttpClient: OkHttpClient,\r\n            moshi: Moshi\r\n        ): Retrofit = Retrofit.Builder()\r\n            .baseUrl(EndPoint.STAGE_BASE_URL)\r\n            .client(okHttpClient)\r\n            .addConverterFactory(ScalarsConverterFactory.create())\r\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\r\n            .build()\r\n    }\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p><strong>You can do this with hilt</strong></p>\n<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nobject RestClientModule {\n\n    @Provides\n    @Singleton\n    internal fun provideApiService(\n        @WeatherRetrofit retrofit: Retrofit\n    ): ApiService = retrofit.create(ApiService::class.java)\n\n\n\n\n\n    @Provides\n    @WeatherRetrofit\n    @Singleton\n    internal fun provideHiCityRetrofit(\n        okHttpClient: OkHttpClient,\n        moshi: Moshi\n    ): Retrofit = Retrofit.Builder()\n        .baseUrl(EndPoint.STAGE_BASE_URL)\n        .client(okHttpClient)\n        .addConverterFactory(ScalarsConverterFactory.create())\n        .addConverterFactory(MoshiConverterFactory.create(moshi))\n        .build()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665029829,"creation_date":1664301285,"answer_id":73871886,"question_id":26500036,"body_markdown":"You can checkout this Github Link with source-code avaible for login and signup API in android. https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master\r\n\r\nOr you can check this tutorial for learning purpose.\r\n[https://youtu.be/TyJEDhauUeQ][1]\r\n\r\n\r\nOr for more other details checkout this \r\n\r\n[https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7][2]\r\n\r\n\r\n  [1]: https://youtu.be/TyJEDhauUeQ\r\n  [2]: https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7","title":"Using Retrofit in Android","body":"<p>You can checkout this Github Link with source-code avaible for login and signup API in android. <a href=\"https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master\" rel=\"nofollow noreferrer\">https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master</a></p>\n<p>Or you can check this tutorial for learning purpose.\n<a href=\"https://youtu.be/TyJEDhauUeQ\" rel=\"nofollow noreferrer\">https://youtu.be/TyJEDhauUeQ</a></p>\n<p>Or for more other details checkout this</p>\n<p><a href=\"https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7\" rel=\"nofollow noreferrer\">https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7</a></p>\n"}],"owner":{"account_id":5209923,"reputation":579,"user_id":4166687,"accept_rate":60,"display_name":"Stack Man"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70987,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":26573636,"answer_count":19,"score":45,"last_activity_date":1665029829,"creation_date":1413949874,"question_id":26500036,"body_markdown":"I have an android app that has 3 activities :\r\n\r\n1. A login activity\r\n2. A tasks acivity where all tasks pertaining to a user are displayed (Populated using an Array Adapter)\r\n3. A task_details activity which results from clicking a task on the list\r\n\r\nI have to consume REST Apis. The research I have done so far directs me to use Retrofit. I checked how to use it and found out that :\r\n\r\n1. Set the base URL in the Main Activity (Mine is  the Login Activity)\r\n2. I need to create a API class and define my functions using annotations.\r\n3. Use the class Rest Adapter in the Activity and define Callbacks.\r\n\r\nHad my app been a single activity app, I would have crunched everything in my MainActivity.java but I don&#39;t know how and where to put all the code from steps 1,2,3 for use in my 3 activities.Could you please help by telling how to use Retrofit in my app. Thanks a lot.\r\n\r\nSpecifically, I need network calls to :\r\n1. Login the user\r\n2. Get all the tasks of the user. \r\nAnd for both I would be using a given REST api.\r\n\r\n\r\n\r\n    *********************************************\r\n              Calling Api USing Retrofit\r\n    *********************************************\r\n    **Dependancies** :-\r\n          implementation &#39;com.android.support:recyclerview-v7:27.1.1&#39;\r\n            implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n            implementation &#39;com.android.support:cardview-v7:27.1.1&#39;\r\n        enter code here\r\n    **Model**\r\n    use the Pozo class\r\n    \r\n    **Api Call**\r\n     -&gt; getLogin()    // use the method\r\n    \r\n    \r\n    \r\n      //API call for Login\r\n        private void getLogin()\r\n        {\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,\r\n                    WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n            AsyncHttpClient client = new AsyncHttpClient();\r\n            RequestParams requestParams = new RequestParams();\r\n            requestParams.put(&quot;email_id&quot;, edit_email.getText().toString());\r\n            requestParams.put(&quot;password&quot;, edit_password.getText().toString());\r\n            Log.e(&quot;&quot;, &quot;LOGIN URL==&gt;&quot; + Urls.LOGIN + requestParams);\r\n            Log.d(&quot;device_token&quot;, &quot;Device_ Token&quot; + FirebaseInstanceId.getInstance().getToken());\r\n            client.post(Urls.LOGIN, requestParams, new JsonHttpResponseHandler() {\r\n                @Override\r\n                public void onStart() {\r\n                    super.onStart();\r\n                    ShowProgress();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    super.onFinish();\r\n                    Hideprogress();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                    super.onSuccess(statusCode, headers, response);\r\n                    Log.e(&quot;&quot;, &quot;Login RESPONSE-&quot; + response);\r\n                    Login login = new Gson().fromJson(String.valueOf(response), Login.class);\r\n                    edit_email.setText(&quot;&quot;);\r\n                    edit_password.setText(&quot;&quot;);\r\n                    if (login.getStatus().equals(&quot;true&quot;)) {\r\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                        MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(&quot;User Login Successfully!&quot;),\r\n                                MDToast.LENGTH_SHORT, MDToast.TYPE_SUCCESS);\r\n                        mdToast.show();\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Util_Main.Constant.EMAIL, login.getData().getEmailId());\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERID, login.getData().getId());\r\n    \r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERNAME, login.getData().getFirstName());\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.PROFILE, login.getData().getProfileImage());\r\n                        hideKeyboard(SignInActivity.this);\r\n                        Intent intent = new Intent(SignInActivity.this, DashboardActivity.class);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    } else {\r\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                        MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(&quot;Login Denied&quot;),\r\n                                MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\r\n                        mdToast.show();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\r\n                    super.onFailure(statusCode, headers, responseString, throwable);\r\n                    Log.e(&quot;&quot;, throwable.getMessage());\r\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, &quot;Something went wrong&quot;,\r\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\r\n                    mdToast.show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p>I have an android app that has 3 activities :</p>\n\n<ol>\n<li>A login activity</li>\n<li>A tasks acivity where all tasks pertaining to a user are displayed (Populated using an Array Adapter)</li>\n<li>A task_details activity which results from clicking a task on the list</li>\n</ol>\n\n<p>I have to consume REST Apis. The research I have done so far directs me to use Retrofit. I checked how to use it and found out that :</p>\n\n<ol>\n<li>Set the base URL in the Main Activity (Mine is  the Login Activity)</li>\n<li>I need to create a API class and define my functions using annotations.</li>\n<li>Use the class Rest Adapter in the Activity and define Callbacks.</li>\n</ol>\n\n<p>Had my app been a single activity app, I would have crunched everything in my MainActivity.java but I don't know how and where to put all the code from steps 1,2,3 for use in my 3 activities.Could you please help by telling how to use Retrofit in my app. Thanks a lot.</p>\n\n<p>Specifically, I need network calls to :\n1. Login the user\n2. Get all the tasks of the user. \nAnd for both I would be using a given REST api.</p>\n\n<pre><code>*********************************************\n          Calling Api USing Retrofit\n*********************************************\n**Dependancies** :-\n      implementation 'com.android.support:recyclerview-v7:27.1.1'\n        implementation 'com.squareup.picasso:picasso:2.5.2'\n        implementation 'com.android.support:cardview-v7:27.1.1'\n    enter code here\n**Model**\nuse the Pozo class\n\n**Api Call**\n -&gt; getLogin()    // use the method\n\n\n\n  //API call for Login\n    private void getLogin()\n    {\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,\n                WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n        AsyncHttpClient client = new AsyncHttpClient();\n        RequestParams requestParams = new RequestParams();\n        requestParams.put(\"email_id\", edit_email.getText().toString());\n        requestParams.put(\"password\", edit_password.getText().toString());\n        Log.e(\"\", \"LOGIN URL==&gt;\" + Urls.LOGIN + requestParams);\n        Log.d(\"device_token\", \"Device_ Token\" + FirebaseInstanceId.getInstance().getToken());\n        client.post(Urls.LOGIN, requestParams, new JsonHttpResponseHandler() {\n            @Override\n            public void onStart() {\n                super.onStart();\n                ShowProgress();\n            }\n\n            @Override\n            public void onFinish() {\n                super.onFinish();\n                Hideprogress();\n\n            }\n\n            @Override\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n                super.onSuccess(statusCode, headers, response);\n                Log.e(\"\", \"Login RESPONSE-\" + response);\n                Login login = new Gson().fromJson(String.valueOf(response), Login.class);\n                edit_email.setText(\"\");\n                edit_password.setText(\"\");\n                if (login.getStatus().equals(\"true\")) {\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(\"User Login Successfully!\"),\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_SUCCESS);\n                    mdToast.show();\n                    Utils.WriteSharePrefrence(SignInActivity.this, Util_Main.Constant.EMAIL, login.getData().getEmailId());\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERID, login.getData().getId());\n\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERNAME, login.getData().getFirstName());\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.PROFILE, login.getData().getProfileImage());\n                    hideKeyboard(SignInActivity.this);\n                    Intent intent = new Intent(SignInActivity.this, DashboardActivity.class);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                    startActivity(intent);\n                    finish();\n                } else {\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(\"Login Denied\"),\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\n                    mdToast.show();\n                }\n            }\n\n            @Override\n            public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\n                super.onFailure(statusCode, headers, responseString, throwable);\n                Log.e(\"\", throwable.getMessage());\n                getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                MDToast mdToast = MDToast.makeText(SignInActivity.this, \"Something went wrong\",\n                        MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\n                mdToast.show();\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","sockets","while-loop","bufferedreader","java-io"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612339,"post_id":73916809,"comment_id":130515085,"body_markdown":"You need to close the socket.","body":"You need to close the socket."},{"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"score":0,"creation_date":1664612473,"post_id":73916809,"comment_id":130515103,"body_markdown":"But I would like to reuse this socket. As I may send the message from client to server more than once.","body":"But I would like to reuse this socket. As I may send the message from client to server more than once."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612576,"post_id":73916809,"comment_id":130515118,"body_markdown":"Then you need to tell server when it should exit the loop. Yo may send special string or something.","body":"Then you need to tell server when it should exit the loop. Yo may send special string or something."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664612625,"post_id":73916809,"comment_id":130515130,"body_markdown":"Or use non-blocking","body":"Or use non-blocking"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612671,"post_id":73916809,"comment_id":130515142,"body_markdown":"@g00se it won&#39;t help.","body":"@g00se it won&#39;t help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664613059,"post_id":73916809,"comment_id":130515185,"body_markdown":"@talex not sure why you say that","body":"@talex not sure why you say that"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664613232,"post_id":73916809,"comment_id":130515208,"body_markdown":"@g00se because non-blocking IO wont help server to understand when this specific part of communication is over. If you think I&#39;m wrong can you please explain your suggestion in more details.","body":"@g00se because non-blocking IO wont help server to understand when this specific part of communication is over. If you think I&#39;m wrong can you please explain your suggestion in more details."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664617359,"post_id":73916809,"comment_id":130515839,"body_markdown":"@talex Well, I read *Is it here?* as &quot;this is a debugging line&quot; rather than &quot;I haven&#39;t got a clue about what the client is going to send&quot;. So, if my guess is correct, when a &#39;unit of communication&#39; has arrived in non-blocking IO, that unit can be captured and processed.","body":"@talex Well, I read <i>Is it here?</i> as &quot;this is a debugging line&quot; rather than &quot;I haven&#39;t got a clue about what the client is going to send&quot;. So, if my guess is correct, when a &#39;unit of communication&#39; has arrived in non-blocking IO, that unit can be captured and processed."}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664617907,"creation_date":1664617907,"answer_id":73917341,"question_id":73916809,"body_markdown":"Your Client is waiting for some response of the Server. But the Server does not send any response. The Server writes to the `System.out` only. The Server has to write the response with the `out`.\r\n\r\n            in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n            out = new PrintWriter(client.getOutputStream(), true);\r\n\r\n            //read client input\r\n            //multi line \r\n            //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\r\n            String line = &quot;&quot;;\r\n            while((line =in.readLine()) != null) {\r\n                System.out.println(line);\r\n                out.println(line);  // send Server response\r\n            }\r\n            System.out.println(&quot;is it here?&quot;);","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>Your Client is waiting for some response of the Server. But the Server does not send any response. The Server writes to the <code>System.out</code> only. The Server has to write the response with the <code>out</code>.</p>\n<pre><code>        in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        out = new PrintWriter(client.getOutputStream(), true);\n\n        //read client input\n        //multi line \n        //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\n        String line = &quot;&quot;;\n        while((line =in.readLine()) != null) {\n            System.out.println(line);\n            out.println(line);  // send Server response\n        }\n        System.out.println(&quot;is it here?&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665027938,"creation_date":1665027938,"answer_id":73968472,"question_id":73916809,"body_markdown":"@ talex\r\nThen you need to tell server when it should exit the loop. Yo may send special string or something.\r\n\r\nThis works fine.\r\n        \r\n\r\n            String line = &quot;&quot;;\r\n            while((line =in.readLine()) != null) {\r\n                System.out.println(line);\r\n                if (line.equals(&quot;break&quot;) {\r\n                break;\r\n                }\r\n            }","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>@ talex\nThen you need to tell server when it should exit the loop. Yo may send special string or something.</p>\n<p>This works fine.</p>\n<pre><code>        String line = &quot;&quot;;\n        while((line =in.readLine()) != null) {\n            System.out.println(line);\n            if (line.equals(&quot;break&quot;) {\n            break;\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73968472,"answer_count":2,"score":1,"last_activity_date":1665027938,"creation_date":1664612208,"question_id":73916809,"body_markdown":"I have trying to send multiple lines of code from a client to the server.\r\n\r\nHere is the code on the server side\r\n\r\n                in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                out = new PrintWriter(client.getOutputStream(), true);\r\n\r\n                //read client input\r\n                //multi line \r\n                //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\r\n                String line = &quot;&quot;;\r\n                while((line =in.readLine()) != null) {\r\n                    System.out.println(line);\r\n                }\r\n                System.out.println(&quot;is it here?&quot;);\r\n\r\nHere is the code on the client side :\r\n\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        BufferedReader keyboard = new BufferedReader(new InputStreamReader(System.in));\r\n        PrintWriter out = new PrintWriter(socket.getOutputStream(),true);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;&gt; &quot;);\r\n\r\n            //content server input command (put, lamport clock, message)\r\n            String command = keyboard.readLine();\r\n            if (command.equals(&quot;quit&quot;)){\r\n                break;\r\n            }\r\n            //read from CSDB/txt1.txt\r\n            String message = readFileReturnString(&quot;CSDB/txt1.txt&quot;, StandardCharsets.UTF_8);\r\n            System.out.println(message);\r\n            //send to clientHandler through PrintWriter\r\n            out.println(command + &quot; 3 \\n&quot; + message);\r\n\r\n            //receive response from ClientHandler (lamport clock)\r\n            String serverResponse = input.readLine();\r\n            System.out.println(serverResponse + socket);\r\n        }\r\n\r\nServer side is able to print out all the text that is sent from the client side. However, the while loop doesn&#39;t break and System.out.println(&quot;is it here?&quot;); has never been executed.\r\n\r\nMay I know why and how I can solve this problem please?","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>I have trying to send multiple lines of code from a client to the server.</p>\n<p>Here is the code on the server side</p>\n<pre><code>            in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            out = new PrintWriter(client.getOutputStream(), true);\n\n            //read client input\n            //multi line \n            //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\n            String line = &quot;&quot;;\n            while((line =in.readLine()) != null) {\n                System.out.println(line);\n            }\n            System.out.println(&quot;is it here?&quot;);\n</code></pre>\n<p>Here is the code on the client side :</p>\n<pre><code>    BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n    BufferedReader keyboard = new BufferedReader(new InputStreamReader(System.in));\n    PrintWriter out = new PrintWriter(socket.getOutputStream(),true);\n\n    while (true) {\n        System.out.print(&quot;&gt; &quot;);\n\n        //content server input command (put, lamport clock, message)\n        String command = keyboard.readLine();\n        if (command.equals(&quot;quit&quot;)){\n            break;\n        }\n        //read from CSDB/txt1.txt\n        String message = readFileReturnString(&quot;CSDB/txt1.txt&quot;, StandardCharsets.UTF_8);\n        System.out.println(message);\n        //send to clientHandler through PrintWriter\n        out.println(command + &quot; 3 \\n&quot; + message);\n\n        //receive response from ClientHandler (lamport clock)\n        String serverResponse = input.readLine();\n        System.out.println(serverResponse + socket);\n    }\n</code></pre>\n<p>Server side is able to print out all the text that is sent from the client side. However, the while loop doesn't break and System.out.println(&quot;is it here?&quot;); has never been executed.</p>\n<p>May I know why and how I can solve this problem please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":6,"creation_date":1664830646,"post_id":73940741,"comment_id":130556697,"body_markdown":"`numberCups &gt;= 1 || numberCups &lt;= 100` reads &quot;if the number of cups is at least one, OR if the number of cups is up to 100 (or both), then do ...&quot;. Is this the logic you intended?","body":"<code>numberCups &gt;= 1 || numberCups &lt;= 100</code> reads &quot;if the number of cups is at least one, OR if the number of cups is up to 100 (or both), then do ...&quot;. Is this the logic you intended?"},{"owner":{"account_id":357186,"reputation":1764,"user_id":697188,"accept_rate":90,"display_name":"Michael Welch"},"score":0,"creation_date":1664830873,"post_id":73940741,"comment_id":130556761,"body_markdown":"To build on what @nanofarad said. 0 is less than or equal to 100. So your if statement is true for the value of 0.","body":"To build on what @nanofarad said. 0 is less than or equal to 100. So your if statement is true for the value of 0."},{"owner":{"account_id":26519143,"reputation":11,"user_id":20153151,"display_name":"Daniel Colbert"},"score":0,"creation_date":1664831059,"post_id":73940741,"comment_id":130556812,"body_markdown":"I see what you&#39;re getting at.  So the number has to be BETWEEN 1 and 100. If that makes more sense.  0 should fail, 101+ should fail.","body":"I see what you&#39;re getting at.  So the number has to be BETWEEN 1 and 100. If that makes more sense.  0 should fail, 101+ should fail."},{"owner":{"account_id":357186,"reputation":1764,"user_id":697188,"accept_rate":90,"display_name":"Michael Welch"},"score":1,"creation_date":1664831154,"post_id":73940741,"comment_id":130556830,"body_markdown":"correct. So check that logic to see if you&#39;ve expressed your requirements correctly in your code.","body":"correct. So check that logic to see if you&#39;ve expressed your requirements correctly in your code."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1664831203,"post_id":73940741,"comment_id":130556842,"body_markdown":"The value is either valid or not; you want an `&amp;&amp;` (not an `||`), and an `else` (not an `else if`).","body":"The value is either valid or not; you want an <code>&amp;&amp;</code> (not an <code>||</code>), and an <code>else</code> (not an <code>else if</code>)."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1664831863,"post_id":73940741,"comment_id":130557003,"body_markdown":"All integers are at least one of `&gt;=1` or `&lt;=100` (possibly both).","body":"All integers are at least one of <code>&gt;=1</code> or <code>&lt;=100</code> (possibly both)."}],"answers":[{"comments":[{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":1,"creation_date":1664831715,"post_id":73940879,"comment_id":130556966,"body_markdown":"The inputs are either valid or not valid. I don&#39;t think the OP needs `else if`. It&#39;s a straight `else`. I also suggest calories could be zero. Water has zero calories. But that&#39;s more a requirements question than a programming issue.","body":"The inputs are either valid or not valid. I don&#39;t think the OP needs <code>else if</code>. It&#39;s a straight <code>else</code>. I also suggest calories could be zero. Water has zero calories. But that&#39;s more a requirements question than a programming issue."}],"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664831486,"creation_date":1664831486,"answer_id":73940879,"question_id":73940741,"body_markdown":"Problem was in line:\r\n\r\n     if (numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n     ...\r\n     }\r\n\r\n\r\n\r\nWhen you entered 0, program checked if 0 is greater or equal to 1, and that was false but you had also &quot;or&quot; condition ( || ), and in that condition you were checking if 0 &lt;= 100 and because that is true, false || true gives true and that&#39;s why your if statement was correct. You needed to use &quot;and&quot; ( &amp;&amp; ) instead of &quot;or&quot;. There was flaw in your logic.\r\n\r\nTest code below, it should work now:\r\n  \r\n\r\n    package recipe_collection_manager;\r\n        \r\n        import java.util.Scanner;\r\n        \r\n        public class Ingredient {\r\n        \r\n        \r\n            public static void main(String[] args) {\r\n                Scanner scnr = new Scanner(System.in);\r\n        \r\n                //Initializes the variables\r\n        \r\n                String nameOfIngredient = &quot;&quot;;\r\n                int numberCups = 0;\r\n                int numberCaloriesPerCup = 0;\r\n                int totalCaloriesPerCup = 0;\r\n                double totalCalories = 0.0;\r\n        \r\n        // Enter the name of the ingredient.\r\n        \r\n                System.out.println(&quot;Please enter the name of the ingredient: &quot;);\r\n                nameOfIngredient = scnr.next();\r\n        \r\n                // Enter the number of cups needed for the ingredient.\r\n                // If Else statements used to establish if the number of cups is valid.\r\n        \r\n                System.out.println(&quot;Please enter the number of cups of &quot;\r\n                        + nameOfIngredient + &quot; we&#39;ll need. The number of cups must be between 1 and 100: &quot;);\r\n                numberCups = scnr.nextInt();\r\n        \r\n                if (numberCups &gt;= 1 &amp;&amp; numberCups &lt;= 100) {\r\n                    System.out.println(&quot;The number of cups is valid.&quot;);\r\n                } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\r\n                    System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n                }\r\n        \r\n                // Enter the number of calories used per cup.\r\n                // If Else statements are used to establish if the number of calories is valid.\r\n        \r\n                System.out.println(&quot;Please enter the number of calories per cup: &quot;);\r\n                numberCaloriesPerCup = scnr.nextInt();\r\n        \r\n                if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\r\n                    System.out.println(&quot;The number of calories is valid.&quot;);\r\n                } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\r\n                    System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n                }\r\n        \r\n                // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\r\n        \r\n                if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\r\n                    totalCalories = numberCups * numberCaloriesPerCup;\r\n                }\r\n        \r\n                System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\r\n                        + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\r\n        \r\n            }\r\n        }","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>Problem was in line:</p>\n<pre><code> if (numberCups &gt;= 1 || numberCups &lt;= 100) {\n ...\n }\n</code></pre>\n<p>When you entered 0, program checked if 0 is greater or equal to 1, and that was false but you had also &quot;or&quot; condition ( || ), and in that condition you were checking if 0 &lt;= 100 and because that is true, false || true gives true and that's why your if statement was correct. You needed to use &quot;and&quot; ( &amp;&amp; ) instead of &quot;or&quot;. There was flaw in your logic.</p>\n<p>Test code below, it should work now:</p>\n<pre><code>package recipe_collection_manager;\n    \n    import java.util.Scanner;\n    \n    public class Ingredient {\n    \n    \n        public static void main(String[] args) {\n            Scanner scnr = new Scanner(System.in);\n    \n            //Initializes the variables\n    \n            String nameOfIngredient = &quot;&quot;;\n            int numberCups = 0;\n            int numberCaloriesPerCup = 0;\n            int totalCaloriesPerCup = 0;\n            double totalCalories = 0.0;\n    \n    // Enter the name of the ingredient.\n    \n            System.out.println(&quot;Please enter the name of the ingredient: &quot;);\n            nameOfIngredient = scnr.next();\n    \n            // Enter the number of cups needed for the ingredient.\n            // If Else statements used to establish if the number of cups is valid.\n    \n            System.out.println(&quot;Please enter the number of cups of &quot;\n                    + nameOfIngredient + &quot; we'll need. The number of cups must be between 1 and 100: &quot;);\n            numberCups = scnr.nextInt();\n    \n            if (numberCups &gt;= 1 &amp;&amp; numberCups &lt;= 100) {\n                System.out.println(&quot;The number of cups is valid.&quot;);\n            } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n            }\n    \n            // Enter the number of calories used per cup.\n            // If Else statements are used to establish if the number of calories is valid.\n    \n            System.out.println(&quot;Please enter the number of calories per cup: &quot;);\n            numberCaloriesPerCup = scnr.nextInt();\n    \n            if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\n                System.out.println(&quot;The number of calories is valid.&quot;);\n            } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n            }\n    \n            // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\n    \n            if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\n                totalCalories = numberCups * numberCaloriesPerCup;\n            }\n    \n            System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\n                    + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\n    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664833252,"creation_date":1664832484,"answer_id":73940998,"question_id":73940741,"body_markdown":"Just to clarify.  The following statement\r\n```\r\nif(numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n...\r\n}\r\n```\r\nIs true any number of cups.  Any number of cups `&gt;= 1` will be caught by the first condition.  Any number of cups `&lt;= 0` will be caught by the second condition since in that case they will all be less than `100`.  With a logical `||` only one condition is required to be true for the statement to be true.\r\n\r\nIn fact,\r\n```\r\nif(numberOfCups is &gt;= A || numberOfCups &lt;= B) {\r\n...\r\n}\r\n```\r\nwill always be true as long as `B &gt;= A-1`.","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>Just to clarify.  The following statement</p>\n<pre><code>if(numberCups &gt;= 1 || numberCups &lt;= 100) {\n...\n}\n</code></pre>\n<p>Is true any number of cups.  Any number of cups <code>&gt;= 1</code> will be caught by the first condition.  Any number of cups <code>&lt;= 0</code> will be caught by the second condition since in that case they will all be less than <code>100</code>.  With a logical <code>||</code> only one condition is required to be true for the statement to be true.</p>\n<p>In fact,</p>\n<pre><code>if(numberOfCups is &gt;= A || numberOfCups &lt;= B) {\n...\n}\n</code></pre>\n<p>will always be true as long as <code>B &gt;= A-1</code>.</p>\n"}],"owner":{"account_id":26519143,"reputation":11,"user_id":20153151,"display_name":"Daniel Colbert"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665027723,"creation_date":1664830535,"question_id":73940741,"body_markdown":"I am a new coder.  Working on an assignment.  This is also my first post here so I apologize if it&#39;s a little sloppy.\r\n\r\nI&#39;m having some troubles with my if/else statements in Java...the &quot;if&quot; conditions seem to work okay.  But my &quot;else&quot; conditions do not.  Take a look at the code and the build results below.\r\n\r\nBasically, I enter an ingredient. And then I put in the number of cups needed.  And the number of calories the ingredient has per x cup.  That all seems to work as long as I input what I want to for &quot;successful&quot; results.\r\n\r\n[Successful Build Image][1]\r\n\r\nBut when I start to input values outside of my criteria, my application doesn&#39;t seem to care.  If I input 0, I should get that output of &quot;your response is invalid&quot; or whatever it is I coded.  But it just seems to skip over that entirely.\r\n\r\n[Bad Code Image][2]\r\n\r\n    package recipe_collection_manager;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Ingredient {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n    \r\n            //Initializes the variables\r\n    \r\n            String nameOfIngredient = &quot;&quot;;\r\n            int numberCups = 0;\r\n            int numberCaloriesPerCup = 0;\r\n            int totalCaloriesPerCup = 0;\r\n            double totalCalories = 0.0;\r\n    \r\n    // Enter the name of the ingredient.\r\n    \r\n            System.out.println(&quot;Please enter the name of the ingredient: &quot;);\r\n            nameOfIngredient = scnr.next();\r\n    \r\n            // Enter the number of cups needed for the ingredient.\r\n            // If Else statements used to establish if the number of cups is valid.\r\n    \r\n            System.out.println(&quot;Please enter the number of cups of &quot;\r\n                    + nameOfIngredient + &quot; we&#39;ll need. The number of cups must be between 1 and 100: &quot;);\r\n            numberCups = scnr.nextInt();\r\n    \r\n            if (numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n                System.out.println(&quot;The number of cups is valid.&quot;);\r\n            } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\r\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n            }\r\n    \r\n            // Enter the number of calories used per cup.\r\n            // If Else statements are used to establish if the number of calories is valid.\r\n    \r\n            System.out.println(&quot;Please enter the number of calories per cup: &quot;);\r\n            numberCaloriesPerCup = scnr.nextInt();\r\n    \r\n            if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\r\n                System.out.println(&quot;The number of calories is valid.&quot;);\r\n            } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\r\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n            }\r\n    \r\n            // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\r\n    \r\n            if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\r\n                totalCalories = numberCups * numberCaloriesPerCup;\r\n            }\r\n    \r\n            System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\r\n                    + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/8obJc.jpg\r\n  [2]: https://i.stack.imgur.com/HqyVj.jpg\r\n","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>I am a new coder.  Working on an assignment.  This is also my first post here so I apologize if it's a little sloppy.</p>\n<p>I'm having some troubles with my if/else statements in Java...the &quot;if&quot; conditions seem to work okay.  But my &quot;else&quot; conditions do not.  Take a look at the code and the build results below.</p>\n<p>Basically, I enter an ingredient. And then I put in the number of cups needed.  And the number of calories the ingredient has per x cup.  That all seems to work as long as I input what I want to for &quot;successful&quot; results.</p>\n<p><a href=\"https://i.stack.imgur.com/8obJc.jpg\" rel=\"nofollow noreferrer\">Successful Build Image</a></p>\n<p>But when I start to input values outside of my criteria, my application doesn't seem to care.  If I input 0, I should get that output of &quot;your response is invalid&quot; or whatever it is I coded.  But it just seems to skip over that entirely.</p>\n<p><a href=\"https://i.stack.imgur.com/HqyVj.jpg\" rel=\"nofollow noreferrer\">Bad Code Image</a></p>\n<pre><code>package recipe_collection_manager;\n\nimport java.util.Scanner;\n\npublic class Ingredient {\n\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        //Initializes the variables\n\n        String nameOfIngredient = &quot;&quot;;\n        int numberCups = 0;\n        int numberCaloriesPerCup = 0;\n        int totalCaloriesPerCup = 0;\n        double totalCalories = 0.0;\n\n// Enter the name of the ingredient.\n\n        System.out.println(&quot;Please enter the name of the ingredient: &quot;);\n        nameOfIngredient = scnr.next();\n\n        // Enter the number of cups needed for the ingredient.\n        // If Else statements used to establish if the number of cups is valid.\n\n        System.out.println(&quot;Please enter the number of cups of &quot;\n                + nameOfIngredient + &quot; we'll need. The number of cups must be between 1 and 100: &quot;);\n        numberCups = scnr.nextInt();\n\n        if (numberCups &gt;= 1 || numberCups &lt;= 100) {\n            System.out.println(&quot;The number of cups is valid.&quot;);\n        } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\n            System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n        }\n\n        // Enter the number of calories used per cup.\n        // If Else statements are used to establish if the number of calories is valid.\n\n        System.out.println(&quot;Please enter the number of calories per cup: &quot;);\n        numberCaloriesPerCup = scnr.nextInt();\n\n        if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\n            System.out.println(&quot;The number of calories is valid.&quot;);\n        } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\n            System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n        }\n\n        // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\n\n        if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\n            totalCalories = numberCups * numberCaloriesPerCup;\n        }\n\n        System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\n                + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\n\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9238,"page":985,"page_size":100}
