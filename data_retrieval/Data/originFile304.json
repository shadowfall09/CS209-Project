{"items":[{"tags":["java","spring","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":22530700,"reputation":16,"user_id":20444647,"display_name":"rafinhaLQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689619682,"creation_date":1689619682,"answer_id":76707322,"question_id":76706624,"body_markdown":"If you wanna validate all the parameters, to reduce the number of assertions, you can map the object to String before asserting.\r\n\r\nI usually made a class utils to do this mapping, like that:\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\npublic class TestUtils {\r\n\r\n    public static ObjectMapper mapper = new ObjectMapper();\r\n\r\n    public static String mapToString(Object object) throws JsonProcessingException {\r\n        return mapper.writeValueAsString(object);\r\n    }\r\n}\r\n```\r\n\r\nAnd then you can assert only once comparing the result and one previously build mock object:\r\n\r\n```\r\n@Test\r\nvoid testCreateUserSnapshotWithInitializedUser() {\r\n    UserSnapshot mock = UserSnapshotMocks.createUserSnapshot();\r\n\r\n    var result = testCreateUserSnapshotWithInitializedUser(user);\r\n    assertEquals(TestUtils.mapToString(mock), TestUtils.mapToString(result));\r\n}\r\n```\r\n\r\nThis way you will assert the entire object like one and only String.","title":"Unit tests - good practice when comparing object fields","body":"<p>If you wanna validate all the parameters, to reduce the number of assertions, you can map the object to String before asserting.</p>\n<p>I usually made a class utils to do this mapping, like that:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class TestUtils {\n\n    public static ObjectMapper mapper = new ObjectMapper();\n\n    public static String mapToString(Object object) throws JsonProcessingException {\n        return mapper.writeValueAsString(object);\n    }\n}\n</code></pre>\n<p>And then you can assert only once comparing the result and one previously build mock object:</p>\n<pre><code>@Test\nvoid testCreateUserSnapshotWithInitializedUser() {\n    UserSnapshot mock = UserSnapshotMocks.createUserSnapshot();\n\n    var result = testCreateUserSnapshotWithInitializedUser(user);\n    assertEquals(TestUtils.mapToString(mock), TestUtils.mapToString(result));\n}\n</code></pre>\n<p>This way you will assert the entire object like one and only String.</p>\n"}],"owner":{"account_id":19381158,"reputation":13,"user_id":14172391,"display_name":"Deren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76707322,"answer_count":1,"score":-2,"last_activity_date":1689619682,"creation_date":1689613055,"question_id":76706624,"body_markdown":"I am writing unit tests for my web application. I started to wonder if what I am writing is a good practice. I mean when an object creates a snapshot of its state and I compare the field values of the newly created object to determine whether they are correct.\r\n\r\n```\r\n  @Test\r\n    public void testCreateUserSnapshotWithInitializedUser() {\r\n        //given\r\n        User user = aUser()\r\n                .withUsername(&quot;Test&quot;)\r\n                .withPassword(&quot;Pa$$word&quot;)\r\n                .withEmail(&quot;example@example.com&quot;)\r\n                .withRole(UserRole.COMMON)\r\n                .buildInitialized();\r\n\r\n        //when\r\n        UserSnapshot snapshot = user.createSnapshot();\r\n\r\n        //then\r\n        assertEquals(&quot;Test&quot;, snapshot.getUsername());\r\n        assertEquals(&quot;Pa$$word&quot;, snapshot.getPassword());\r\n        assertEquals(&quot;example@example.com&quot;, snapshot.getEmail());\r\n        assertEquals(UserRole.COMMON, snapshot.getRole());\r\n        assertEquals(true, snapshot.isEnabled());\r\n    }\r\n```\r\nIs the amount of assertion in the **then** section is too overwhelming? Or should I separate appropriate methods for each asseration e.g.\r\n\r\n`assertUsernameIs(&quot;Test&quot;, snapshot); `\r\n\r\nOr create one method like: \r\n`assertSnapshotIsCorrect(snapshot); `","title":"Unit tests - good practice when comparing object fields","body":"<p>I am writing unit tests for my web application. I started to wonder if what I am writing is a good practice. I mean when an object creates a snapshot of its state and I compare the field values of the newly created object to determine whether they are correct.</p>\n<pre><code>  @Test\n    public void testCreateUserSnapshotWithInitializedUser() {\n        //given\n        User user = aUser()\n                .withUsername(&quot;Test&quot;)\n                .withPassword(&quot;Pa$$word&quot;)\n                .withEmail(&quot;example@example.com&quot;)\n                .withRole(UserRole.COMMON)\n                .buildInitialized();\n\n        //when\n        UserSnapshot snapshot = user.createSnapshot();\n\n        //then\n        assertEquals(&quot;Test&quot;, snapshot.getUsername());\n        assertEquals(&quot;Pa$$word&quot;, snapshot.getPassword());\n        assertEquals(&quot;example@example.com&quot;, snapshot.getEmail());\n        assertEquals(UserRole.COMMON, snapshot.getRole());\n        assertEquals(true, snapshot.isEnabled());\n    }\n</code></pre>\n<p>Is the amount of assertion in the <strong>then</strong> section is too overwhelming? Or should I separate appropriate methods for each asseration e.g.</p>\n<p><code>assertUsernameIs(&quot;Test&quot;, snapshot); </code></p>\n<p>Or create one method like:\n<code>assertSnapshotIsCorrect(snapshot); </code></p>\n"},{"tags":["java","mongodb","apache-kafka","slowdown"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689605996,"post_id":76698919,"comment_id":135233620,"body_markdown":"I&#39;m not sure I understand the question. Yes, you can delay flushing a producer, but you can try `linger.ms` rather than sleeping the thread","body":"I&#39;m not sure I understand the question. Yes, you can delay flushing a producer, but you can try <code>linger.ms</code> rather than sleeping the thread"},{"owner":{"account_id":28338722,"reputation":13,"user_id":21672080,"display_name":"Kamivix"},"score":0,"creation_date":1689610770,"post_id":76698919,"comment_id":135234645,"body_markdown":"Hi.\nIn general, I would like to test different times when kafka will receive data. I want kafka to consume data as soon as possible, but receive it at different time intervals. Could I achive this using linger.ms ?","body":"Hi. In general, I would like to test different times when kafka will receive data. I want kafka to consume data as soon as possible, but receive it at different time intervals. Could I achive this using linger.ms ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689613585,"post_id":76698919,"comment_id":135235262,"body_markdown":"In general, Kafka consumers will always read as soon as the data is available. If you want to prevent the producer from sending data to the broker, then yes, you can block the thread, or have it linger and wait for data to be added to the buffer before any network request is done","body":"In general, Kafka consumers will always read as soon as the data is available. If you want to prevent the producer from sending data to the broker, then yes, you can block the thread, or have it linger and wait for data to be added to the buffer before any network request is done"},{"owner":{"account_id":28338722,"reputation":13,"user_id":21672080,"display_name":"Kamivix"},"score":0,"creation_date":1689619369,"post_id":76698919,"comment_id":135236374,"body_markdown":"@OneCricketeer Prevent producer from sending data is exacly what I want to achive. I can&#39;t use `linger.ms` because I would like to slow down the generation of data.  I have added  code I use to send maybe there is a problem there?","body":"@OneCricketeer Prevent producer from sending data is exacly what I want to achive. I can&#39;t use <code>linger.ms</code> because I would like to slow down the generation of data.  I have added  code I use to send maybe there is a problem there?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689620280,"post_id":76698919,"comment_id":135236563,"body_markdown":"Hard to say, but the producer can flush its buffer (based on `batch.size`) before `Thread.sleep` finishes, and before you manually flush. Also, the insertField transform will run within the JVM context of the Connect worker, and is completely unrelated to the Producer which can add its own timestamp to the record manually from the `ProducerRecord` constructor","body":"Hard to say, but the producer can flush its buffer (based on <code>batch.size</code>) before <code>Thread.sleep</code> finishes, and before you manually flush. Also, the insertField transform will run within the JVM context of the Connect worker, and is completely unrelated to the Producer which can add its own timestamp to the record manually from the <code>ProducerRecord</code> constructor"},{"owner":{"account_id":28338722,"reputation":13,"user_id":21672080,"display_name":"Kamivix"},"score":0,"creation_date":1689621618,"post_id":76698919,"comment_id":135236888,"body_markdown":"So I will try to increase `batch.size` Thank&#39;s for your help,.If you have any other ideas, I&#39;d love to read them","body":"So I will try to increase <code>batch.size</code> Thank&#39;s for your help,.If you have any other ideas, I&#39;d love to read them"},{"owner":{"account_id":28338722,"reputation":13,"user_id":21672080,"display_name":"Kamivix"},"score":0,"creation_date":1689621881,"post_id":76698919,"comment_id":135236934,"body_markdown":"One question, You have said Producer can add its own timestamp. How can I achive it? When I use `recordMetadata.timestamp()` I get exacly same time as from insertField transform","body":"One question, You have said Producer can add its own timestamp. How can I achive it? When I use <code>recordMetadata.timestamp()</code> I get exacly same time as from insertField transform"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689685771,"post_id":76698919,"comment_id":135246360,"body_markdown":"The constructor for ProducerRecord accepts a timestamp, in addition to topic, key, and value. However, that just overrides the default &quot;current time&quot;. It won&#39;t delay anything","body":"The constructor for ProducerRecord accepts a timestamp, in addition to topic, key, and value. However, that just overrides the default &quot;current time&quot;. It won&#39;t delay anything"}],"owner":{"account_id":28338722,"reputation":13,"user_id":21672080,"display_name":"Kamivix"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689619030,"creation_date":1689519708,"question_id":76698919,"body_markdown":"I have a problem when measuring the write time from Kafka to MongoDB.\r\nThese are my docker-compose files: \r\n```\r\nversion: &quot;3.6&quot;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:latest\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    networks:\r\n      - localnet\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      KAFKA_JMX_PORT: 35000\r\n\r\n  broker:\r\n    image: confluentinc/cp-kafka:latest\r\n    hostname: broker\r\n    container_name: broker\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n    depends_on:\r\n      - zookeeper\r\n    networks:\r\n      - localnet\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: &quot;zookeeper:2181&quot;\r\n      KAFKA_LISTENERS: LISTENER_1://broker:29092,LISTENER_2://broker:9092\r\n      KAFKA_ADVERTISED_LISTENERS: LISTENER_1://broker:29092,LISTENER_2://localhost:9092\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: LISTENER_1:PLAINTEXT,LISTENER_2:PLAINTEXT\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: LISTENER_1\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n      CONFLUENT_SUPPORT_CUSTOMER_ID: &quot;anonymous&quot;\r\n      KAFKA_DELETE_TOPIC_ENABLE: &quot;true&quot;\r\n      KAFKA_JMX_PORT: 35000\r\n      \r\n  schema-registry:\r\n    image: confluentinc/cp-schema-registry:latest\r\n    hostname: schema-registry\r\n    container_name: schema-registry\r\n    depends_on:\r\n      - broker\r\n    networks:\r\n      - localnet\r\n    environment:\r\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: &quot;broker:29092&quot;\r\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081    \r\n          \r\n  connect:\r\n    build:\r\n      context: .\r\n      dockerfile: connect.Dockerfile\r\n    ports:\r\n      - &quot;35000:35000&quot;\r\n      - &quot;8083:8083&quot;\r\n    hostname: connect\r\n    container_name: connect\r\n    depends_on:\r\n      - zookeeper\r\n      - broker\r\n    networks:\r\n      - localnet\r\n    environment:\r\n      KAFKA_JMX_PORT: 35000\r\n      KAFKA_JMX_HOSTNAME: localhost\r\n      CONNECT_BOOTSTRAP_SERVERS: &quot;broker:29092&quot;\r\n      CONNECT_REST_ADVERTISED_HOST_NAME: connect\r\n      CONNECT_GROUP_ID: connect-cluster-group\r\n      CONNECT_CONFIG_STORAGE_TOPIC: docker-connect-configs\r\n      CONNECT_CONFIG_STORAGE_REPLICATION_FACTOR: 1\r\n      CONNECT_OFFSET_FLUSH_INTERVAL_MS: 10000\r\n      CONNECT_OFFSET_STORAGE_TOPIC: docker-connect-offsets\r\n      CONNECT_OFFSET_STORAGE_REPLICATION_FACTOR: 1\r\n      CONNECT_STATUS_STORAGE_TOPIC: docker-connect-status\r\n      CONNECT_STATUS_STORAGE_REPLICATION_FACTOR: 1\r\n      CONNECT_ZOOKEEPER_CONNECT: &quot;zookeeper:2181&quot;\r\n      CONNECT_PLUGIN_PATH: &quot;/usr/share/java,/usr/share/confluent-hub-components&quot;\r\n      CONNECT_CONNECTIONS_MAX_IDLE_MS: 180000\r\n      CONNECT_METADATA_MAX_AGE_MS: 180000\r\n      CONNECT_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\r\n      CONNECT_KEY_CONVERTER: &quot;org.apache.kafka.connect.json.JsonConverter&quot;\r\n      CONNECT_VALUE_CONVERTER: &quot;org.apache.kafka.connect.json.JsonConverter&quot;\r\n\r\n  mongo1:\r\n    image: mongo:latest\r\n    container_name: mongo1\r\n    command: --replSet rs0 --oplogSize 128\r\n    ports:\r\n      - &quot;35001:27017&quot;\r\n    depends_on:\r\n      - zookeeper\r\n      - broker\r\n      - connect\r\n    networks:\r\n      - localnet\r\n    restart: always\r\n\r\n  mongo1-setup:\r\n    image: mongo:latest\r\n    container_name: mongo1-setup\r\n    volumes: \r\n      - ./config-replica.js:/config-replica.js\r\n    depends_on:\r\n      - mongo1\r\n    networks:\r\n      - localnet\r\n    entrypoint:\r\n      [\r\n        &quot;bash&quot;,\r\n        &quot;-c&quot;,\r\n        &quot;sleep 10 &amp;&amp; mongosh --host mongo1:27017 config-replica.js &amp;&amp; sleep 10&quot;,\r\n      ]\r\n    restart: &quot;no&quot;\r\n    \r\n    \r\n  control-center:\r\n    image: confluentinc/cp-enterprise-control-center:latest\r\n    hostname: control-center\r\n    container_name: control-center\r\n    depends_on:\r\n      - broker\r\n      - schema-registry\r\n      - connect\r\n    ports:\r\n      - &quot;9021:9021&quot;\r\n    environment:\r\n      CONTROL_CENTER_BOOTSTRAP_SERVERS: &#39;broker:29092&#39;\r\n      CONTROL_CENTER_CONNECT_CONNECT-DEFAULT_CLUSTER: &#39;connect:8083&#39;\r\n      CONTROL_CENTER_KSQL_KSQLDB1_URL: &quot;http://ksqldb-server:8088&quot;\r\n      CONTROL_CENTER_KSQL_KSQLDB1_ADVERTISED_URL: &quot;http://localhost:8088&quot;\r\n      CONTROL_CENTER_SCHEMA_REGISTRY_URL: &quot;http://schema-registry:8081&quot;\r\n      CONTROL_CENTER_REPLICATION_FACTOR: 1\r\n      CONTROL_CENTER_INTERNAL_TOPICS_PARTITIONS: 1\r\n      CONTROL_CENTER_MONITORING_INTERCEPTOR_TOPIC_PARTITIONS: 1\r\n      CONFLUENT_METRICS_TOPIC_REPLICATION: 1\r\n      PORT: 9021 \r\n    networks:\r\n      - localnet\r\n\r\nnetworks:\r\n  localnet:\r\n    attachable: true\r\n\r\n\r\n```\r\n\r\n```\r\nFROM confluentinc/cp-kafka-connect:latest\r\n\r\nRUN confluent-hub install --no-prompt --verbose mongodb/kafka-connect-mongodb:latest\r\n\r\n\r\nENV CONNECT_PLUGIN_PATH=&quot;/usr/share/java,/usr/share/confluent-hub-components&quot;\r\n\r\n```\r\n\r\na Connector configuration: \r\n```\r\n{\r\n    &quot;name&quot;: &quot;mongo-sink&quot;,\r\n    &quot;config&quot;: {\r\n        &quot;connector.class&quot;: &quot;com.mongodb.kafka.connect.MongoSinkConnector&quot;,\r\n        &quot;topics&quot;: &quot;IoT&quot;,\r\n        &quot;connection.uri&quot;: &quot;mongodb://mongo1&quot;,\r\n        &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n        &quot;value.converter&quot;: &quot;org.apache.kafka.connect.json.JsonConverter&quot;,\r\n        &quot;database&quot;: &quot;IoT&quot;,\r\n        &quot;value.converter.schemas.enable&quot;: &quot;false&quot;,\r\n        &quot;writemodel.strategy&quot;: &quot;org.example.klas&quot;,\r\n        &quot;collection&quot;: &quot;devices&quot;,\r\n        &quot;transforms&quot;: &quot;InsertField&quot;,\r\n        &quot;transforms.InsertField.type&quot;: &quot;org.apache.kafka.connect.transforms.InsertField$Value&quot;,\r\n        &quot;transforms.InsertField.timestamp.field&quot;: &quot;insertedToKafka&quot;,\r\n        &quot;timeseries.timefield&quot;: &quot;measureTime&quot;,\r\n        &quot;timeseries.timefield.auto.convert&quot;: &quot;true&quot;,\r\n        &quot;timeseries.timefield.auto.convert.date.format&quot;: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;\r\n    }\r\n}\r\n```\r\n\r\nAnd my custom write strategy: \r\n```\r\npackage org.example;\r\n\r\nimport com.mongodb.client.model.InsertOneModel;\r\nimport com.mongodb.client.model.WriteModel;\r\nimport com.mongodb.kafka.connect.sink.converter.SinkDocument;\r\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.UpdateOneTimestampsStrategy;\r\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.WriteModelStrategy;\r\nimport org.bson.BsonDateTime;\r\nimport org.bson.BsonDocument;\r\n\r\npublic class klas implements WriteModelStrategy {\r\n\r\n    private final static String ID_FIELD_NAME = &quot;_id&quot;;\r\n    private final static String EVENT_TYPE_FIELD_NAME = &quot;eventType&quot;;\r\n    @Override\r\n    public WriteModel&lt;BsonDocument&gt; createWriteModel(SinkDocument sinkDocument) {\r\n        BsonDocument vd = (BsonDocument)sinkDocument.getValueDoc().orElseThrow(() -&gt; {\r\n            return new RuntimeException(&quot;Could not build the WriteModel,the value document was missing unexpectedly&quot;);\r\n        });\r\n        vd = vd.append(&quot;insertTime&quot;,new BsonDateTime(System.currentTimeMillis()));\r\n        return new InsertOneModel(vd);\r\n    }\r\n}\r\n\r\n```\r\n\r\nGenerally I would like to measure how much time do I need to consume data from Apache Kafka and save data in MongoDB. \r\nTo get time I put data into kafka I have used this part of configuration file \r\n\r\n```\r\n&quot;transforms&quot;: &quot;InsertField&quot;,\r\n&quot;transforms.InsertField.type&quot;: &quot;org.apache.kafka.connect.transforms.InsertField$Value&quot;,\r\n&quot;transforms.InsertField.timestamp.field&quot;: &quot;insertedToKafka&quot;\r\n```\r\n\r\nDocument in MongoDB looks like: \r\n\r\n```\r\n{\r\n    measureTime: ISODate(&quot;2023-07-15T19:39:15.977Z&quot;),\r\n    _id: ObjectId(&quot;64b3df9edcf32746323e15fe&quot;),\r\n    value: 91.40457465058628,\r\n    insertedToKafka: Long(&quot;1689509790584&quot;),\r\n    externalId: Long(&quot;4355&quot;),\r\n    deviceId: &#39;0d036333-83aa-4565-80ad-d4db4238a910&#39;,\r\n    deviceName: &#39;TERMOMETER&#39;,\r\n    insertTime: ISODate(&quot;2023-07-16T12:16:30.587Z&quot;)\r\n  }\r\n```\r\n\r\nTo save time when MongoDB save data I have used upper write model strategy(insertTime in document)\r\n\r\nI used Java program to send data on Kafka. It work quite well but in case I want to slow down (using Thread.sleep(20)) a while loop which put data into Kafka sometimes insertTime &gt; insertedToKafka.\r\nIs this problem with Kafka or with Thread.sleep()?  How could I avoid it?\r\n\r\nThis is code I have been using to send data on Kafka \r\n\r\n      public static void main(String[] args) throws IOException {\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        List&lt;String&gt; anotherList = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;data.txt&quot;));\r\n        String topic = &quot;IoT&quot;;\r\n        String line;\r\n        String kafkaIndex=&quot;0&quot;;\r\n            Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n            while ((line = reader.readLine()) != null) {\r\n                if(line.contains(&quot;TERMOMETER&quot;))\r\n                {\r\n                    kafkaIndex = &quot;1&quot;;\r\n                }\r\n                if(line.contains(&quot;HIGROMETER&quot;))\r\n                {\r\n                    kafkaIndex = &quot;3&quot;;\r\n                }\r\n                if(line.contains(&quot;BAROMETER&quot;))\r\n                {\r\n                    kafkaIndex = &quot;4&quot;;\r\n                }\r\n\r\n                ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topic,kafkaIndex, line);\r\n                var x = producer.send(record, (recordMetadata, e) -&gt; {\r\n                    if (e == null) {\r\n                        // the record was successfully sent\r\n                        anotherList.add(String.valueOf(recordMetadata.timestamp()));\r\n                    } else {\r\n                        System.out.println(&quot;Error while producing&quot;+e);\r\n                    }\r\n                });\r\n\r\n                try {\r\n                    Thread.sleep(20);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                producer.flush();\r\n\r\n            }\r\n        producer.close();\r\n            givenDataArray_whenConvertToCSV_thenOutputCreated(anotherList,&quot;timeFromKafka.csv&quot;);\r\n\r\n        }\r\n\r\nWhen I add `Thread.sleep(20)` a   subtraction between insertTime and insertedToKafa sometimes is between -50k ms and +50k ms \r\n\r\n\r\n\r\n\r\nI have been looking for any solution or tip but can&#39;t find anything usefull","title":"Apache Kafka + MongoDB weird behaviour when time measure","body":"<p>I have a problem when measuring the write time from Kafka to MongoDB.\nThese are my docker-compose files:</p>\n<pre><code>version: &quot;3.6&quot;\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:latest\n    hostname: zookeeper\n    container_name: zookeeper\n    networks:\n      - localnet\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      KAFKA_JMX_PORT: 35000\n\n  broker:\n    image: confluentinc/cp-kafka:latest\n    hostname: broker\n    container_name: broker\n    ports:\n      - &quot;9092:9092&quot;\n    depends_on:\n      - zookeeper\n    networks:\n      - localnet\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: &quot;zookeeper:2181&quot;\n      KAFKA_LISTENERS: LISTENER_1://broker:29092,LISTENER_2://broker:9092\n      KAFKA_ADVERTISED_LISTENERS: LISTENER_1://broker:29092,LISTENER_2://localhost:9092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: LISTENER_1:PLAINTEXT,LISTENER_2:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: LISTENER_1\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      CONFLUENT_SUPPORT_CUSTOMER_ID: &quot;anonymous&quot;\n      KAFKA_DELETE_TOPIC_ENABLE: &quot;true&quot;\n      KAFKA_JMX_PORT: 35000\n      \n  schema-registry:\n    image: confluentinc/cp-schema-registry:latest\n    hostname: schema-registry\n    container_name: schema-registry\n    depends_on:\n      - broker\n    networks:\n      - localnet\n    environment:\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: &quot;broker:29092&quot;\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081    \n          \n  connect:\n    build:\n      context: .\n      dockerfile: connect.Dockerfile\n    ports:\n      - &quot;35000:35000&quot;\n      - &quot;8083:8083&quot;\n    hostname: connect\n    container_name: connect\n    depends_on:\n      - zookeeper\n      - broker\n    networks:\n      - localnet\n    environment:\n      KAFKA_JMX_PORT: 35000\n      KAFKA_JMX_HOSTNAME: localhost\n      CONNECT_BOOTSTRAP_SERVERS: &quot;broker:29092&quot;\n      CONNECT_REST_ADVERTISED_HOST_NAME: connect\n      CONNECT_GROUP_ID: connect-cluster-group\n      CONNECT_CONFIG_STORAGE_TOPIC: docker-connect-configs\n      CONNECT_CONFIG_STORAGE_REPLICATION_FACTOR: 1\n      CONNECT_OFFSET_FLUSH_INTERVAL_MS: 10000\n      CONNECT_OFFSET_STORAGE_TOPIC: docker-connect-offsets\n      CONNECT_OFFSET_STORAGE_REPLICATION_FACTOR: 1\n      CONNECT_STATUS_STORAGE_TOPIC: docker-connect-status\n      CONNECT_STATUS_STORAGE_REPLICATION_FACTOR: 1\n      CONNECT_ZOOKEEPER_CONNECT: &quot;zookeeper:2181&quot;\n      CONNECT_PLUGIN_PATH: &quot;/usr/share/java,/usr/share/confluent-hub-components&quot;\n      CONNECT_CONNECTIONS_MAX_IDLE_MS: 180000\n      CONNECT_METADATA_MAX_AGE_MS: 180000\n      CONNECT_AUTO_CREATE_TOPICS_ENABLE: &quot;true&quot;\n      CONNECT_KEY_CONVERTER: &quot;org.apache.kafka.connect.json.JsonConverter&quot;\n      CONNECT_VALUE_CONVERTER: &quot;org.apache.kafka.connect.json.JsonConverter&quot;\n\n  mongo1:\n    image: mongo:latest\n    container_name: mongo1\n    command: --replSet rs0 --oplogSize 128\n    ports:\n      - &quot;35001:27017&quot;\n    depends_on:\n      - zookeeper\n      - broker\n      - connect\n    networks:\n      - localnet\n    restart: always\n\n  mongo1-setup:\n    image: mongo:latest\n    container_name: mongo1-setup\n    volumes: \n      - ./config-replica.js:/config-replica.js\n    depends_on:\n      - mongo1\n    networks:\n      - localnet\n    entrypoint:\n      [\n        &quot;bash&quot;,\n        &quot;-c&quot;,\n        &quot;sleep 10 &amp;&amp; mongosh --host mongo1:27017 config-replica.js &amp;&amp; sleep 10&quot;,\n      ]\n    restart: &quot;no&quot;\n    \n    \n  control-center:\n    image: confluentinc/cp-enterprise-control-center:latest\n    hostname: control-center\n    container_name: control-center\n    depends_on:\n      - broker\n      - schema-registry\n      - connect\n    ports:\n      - &quot;9021:9021&quot;\n    environment:\n      CONTROL_CENTER_BOOTSTRAP_SERVERS: 'broker:29092'\n      CONTROL_CENTER_CONNECT_CONNECT-DEFAULT_CLUSTER: 'connect:8083'\n      CONTROL_CENTER_KSQL_KSQLDB1_URL: &quot;http://ksqldb-server:8088&quot;\n      CONTROL_CENTER_KSQL_KSQLDB1_ADVERTISED_URL: &quot;http://localhost:8088&quot;\n      CONTROL_CENTER_SCHEMA_REGISTRY_URL: &quot;http://schema-registry:8081&quot;\n      CONTROL_CENTER_REPLICATION_FACTOR: 1\n      CONTROL_CENTER_INTERNAL_TOPICS_PARTITIONS: 1\n      CONTROL_CENTER_MONITORING_INTERCEPTOR_TOPIC_PARTITIONS: 1\n      CONFLUENT_METRICS_TOPIC_REPLICATION: 1\n      PORT: 9021 \n    networks:\n      - localnet\n\nnetworks:\n  localnet:\n    attachable: true\n\n\n</code></pre>\n<pre><code>FROM confluentinc/cp-kafka-connect:latest\n\nRUN confluent-hub install --no-prompt --verbose mongodb/kafka-connect-mongodb:latest\n\n\nENV CONNECT_PLUGIN_PATH=&quot;/usr/share/java,/usr/share/confluent-hub-components&quot;\n\n</code></pre>\n<p>a Connector configuration:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;mongo-sink&quot;,\n    &quot;config&quot;: {\n        &quot;connector.class&quot;: &quot;com.mongodb.kafka.connect.MongoSinkConnector&quot;,\n        &quot;topics&quot;: &quot;IoT&quot;,\n        &quot;connection.uri&quot;: &quot;mongodb://mongo1&quot;,\n        &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n        &quot;value.converter&quot;: &quot;org.apache.kafka.connect.json.JsonConverter&quot;,\n        &quot;database&quot;: &quot;IoT&quot;,\n        &quot;value.converter.schemas.enable&quot;: &quot;false&quot;,\n        &quot;writemodel.strategy&quot;: &quot;org.example.klas&quot;,\n        &quot;collection&quot;: &quot;devices&quot;,\n        &quot;transforms&quot;: &quot;InsertField&quot;,\n        &quot;transforms.InsertField.type&quot;: &quot;org.apache.kafka.connect.transforms.InsertField$Value&quot;,\n        &quot;transforms.InsertField.timestamp.field&quot;: &quot;insertedToKafka&quot;,\n        &quot;timeseries.timefield&quot;: &quot;measureTime&quot;,\n        &quot;timeseries.timefield.auto.convert&quot;: &quot;true&quot;,\n        &quot;timeseries.timefield.auto.convert.date.format&quot;: &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;\n    }\n}\n</code></pre>\n<p>And my custom write strategy:</p>\n<pre><code>package org.example;\n\nimport com.mongodb.client.model.InsertOneModel;\nimport com.mongodb.client.model.WriteModel;\nimport com.mongodb.kafka.connect.sink.converter.SinkDocument;\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.UpdateOneTimestampsStrategy;\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.WriteModelStrategy;\nimport org.bson.BsonDateTime;\nimport org.bson.BsonDocument;\n\npublic class klas implements WriteModelStrategy {\n\n    private final static String ID_FIELD_NAME = &quot;_id&quot;;\n    private final static String EVENT_TYPE_FIELD_NAME = &quot;eventType&quot;;\n    @Override\n    public WriteModel&lt;BsonDocument&gt; createWriteModel(SinkDocument sinkDocument) {\n        BsonDocument vd = (BsonDocument)sinkDocument.getValueDoc().orElseThrow(() -&gt; {\n            return new RuntimeException(&quot;Could not build the WriteModel,the value document was missing unexpectedly&quot;);\n        });\n        vd = vd.append(&quot;insertTime&quot;,new BsonDateTime(System.currentTimeMillis()));\n        return new InsertOneModel(vd);\n    }\n}\n\n</code></pre>\n<p>Generally I would like to measure how much time do I need to consume data from Apache Kafka and save data in MongoDB.\nTo get time I put data into kafka I have used this part of configuration file</p>\n<pre><code>&quot;transforms&quot;: &quot;InsertField&quot;,\n&quot;transforms.InsertField.type&quot;: &quot;org.apache.kafka.connect.transforms.InsertField$Value&quot;,\n&quot;transforms.InsertField.timestamp.field&quot;: &quot;insertedToKafka&quot;\n</code></pre>\n<p>Document in MongoDB looks like:</p>\n<pre><code>{\n    measureTime: ISODate(&quot;2023-07-15T19:39:15.977Z&quot;),\n    _id: ObjectId(&quot;64b3df9edcf32746323e15fe&quot;),\n    value: 91.40457465058628,\n    insertedToKafka: Long(&quot;1689509790584&quot;),\n    externalId: Long(&quot;4355&quot;),\n    deviceId: '0d036333-83aa-4565-80ad-d4db4238a910',\n    deviceName: 'TERMOMETER',\n    insertTime: ISODate(&quot;2023-07-16T12:16:30.587Z&quot;)\n  }\n</code></pre>\n<p>To save time when MongoDB save data I have used upper write model strategy(insertTime in document)</p>\n<p>I used Java program to send data on Kafka. It work quite well but in case I want to slow down (using Thread.sleep(20)) a while loop which put data into Kafka sometimes insertTime &gt; insertedToKafka.\nIs this problem with Kafka or with Thread.sleep()?  How could I avoid it?</p>\n<p>This is code I have been using to send data on Kafka</p>\n<pre><code>  public static void main(String[] args) throws IOException {\n    Properties properties = new Properties();\n    properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n    properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    List&lt;String&gt; anotherList = new ArrayList&lt;&gt;();\n\n\n\n    BufferedReader reader = new BufferedReader(new FileReader(&quot;data.txt&quot;));\n    String topic = &quot;IoT&quot;;\n    String line;\n    String kafkaIndex=&quot;0&quot;;\n        Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n        while ((line = reader.readLine()) != null) {\n            if(line.contains(&quot;TERMOMETER&quot;))\n            {\n                kafkaIndex = &quot;1&quot;;\n            }\n            if(line.contains(&quot;HIGROMETER&quot;))\n            {\n                kafkaIndex = &quot;3&quot;;\n            }\n            if(line.contains(&quot;BAROMETER&quot;))\n            {\n                kafkaIndex = &quot;4&quot;;\n            }\n\n            ProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topic,kafkaIndex, line);\n            var x = producer.send(record, (recordMetadata, e) -&gt; {\n                if (e == null) {\n                    // the record was successfully sent\n                    anotherList.add(String.valueOf(recordMetadata.timestamp()));\n                } else {\n                    System.out.println(&quot;Error while producing&quot;+e);\n                }\n            });\n\n            try {\n                Thread.sleep(20);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            producer.flush();\n\n        }\n    producer.close();\n        givenDataArray_whenConvertToCSV_thenOutputCreated(anotherList,&quot;timeFromKafka.csv&quot;);\n\n    }\n</code></pre>\n<p>When I add <code>Thread.sleep(20)</code> a   subtraction between insertTime and insertedToKafa sometimes is between -50k ms and +50k ms</p>\n<p>I have been looking for any solution or tip but can't find anything usefull</p>\n"},{"tags":["java","android","text","edit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689345116,"post_id":76683796,"comment_id":135204671,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21447811,"reputation":16,"user_id":15800941,"display_name":"siapost"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689618990,"creation_date":1689290032,"question_id":76683796,"body_markdown":"My application gets the selected text in an EditText using editText.getSelectionStart(); and editText.getSelectionEnd();\r\n\r\nThis works for &quot;manual&quot; selections, but not for selections created with the Gboard edit panel. \r\n\r\nI am getting an empty string.\r\n\r\nIs there a way to get the selected Gboard text without using a clipboard?\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    String s = String.valueOf(editText.getText());\r\n    int kStart = editText.getSelectionStart(), \r\n        kEnd = editText.getSelectionEnd();\r\n    if (kEnd &gt; 0 &amp;&amp; kEnd &gt; kStart) {\r\n        for (int i = kStart; i &lt; kEnd; i++)\r\n            sb.append(s.charAt(i));\r\n    }\r\n    String sout = sb.toString();\r\n","title":"Can&#39;t get selected text in EditText using Google Gboard","body":"<p>My application gets the selected text in an EditText using editText.getSelectionStart(); and editText.getSelectionEnd();</p>\n<p>This works for &quot;manual&quot; selections, but not for selections created with the Gboard edit panel.</p>\n<p>I am getting an empty string.</p>\n<p>Is there a way to get the selected Gboard text without using a clipboard?</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nString s = String.valueOf(editText.getText());\nint kStart = editText.getSelectionStart(), \n    kEnd = editText.getSelectionEnd();\nif (kEnd &gt; 0 &amp;&amp; kEnd &gt; kStart) {\n    for (int i = kStart; i &lt; kEnd; i++)\n        sb.append(s.charAt(i));\n}\nString sout = sb.toString();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-3"],"owner":{"account_id":1512795,"reputation":49,"user_id":1414480,"display_name":"gguptha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689617878,"creation_date":1689617878,"question_id":76707132,"body_markdown":"I have 2 entities -\r\n\r\n    public class Instance {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n        private UUID id;\r\n    \r\n        private String name;\r\n        private LocalDate startDate;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private InstanceStatus instanceStatus;\r\n    }\r\n\r\n\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.UUID)\r\n        private UUID id;\r\n    \r\n        @ManyToOne(targetEntity = Instance.class)\r\n        private Instance instance;\r\n    \r\n        private String name;\r\n        private String email;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private UserStatus userStatus;\r\n    }\r\n\r\nand respective repositories -\r\n\r\n    public interface InstanceRepository extends JpaRepository&lt;Instance, UUID&gt; {\r\n    }\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n    }\r\n\r\nI am trying to persist user information along with an instance which is already existing. I have an instance with id = 5512a059-fe11-4b6f-9ce0-a485839186b1 and below is the user data i am trying to save in json - \r\n\r\n    {\r\n        &quot;name&quot;: &quot;Manasi B Gopinath&quot;,\r\n        &quot;email&quot;: &quot;bg.manasi@gmail.com&quot;,\r\n        &quot;userStatus&quot;: null,\r\n        &quot;instance&quot;: {\r\n              &quot;href&quot;: &quot;http://localhost:8080/api/instances/5512a059-fe11-4b6f-9ce0-a485839186b1&quot;\r\n        }\r\n    }  \r\n\r\n The user data is getting saved to the database, but the instance is not getting resolved and hence saved as null. Can someone let me know how to pass the instance data here.\r\n\r\nThanks.","title":"Passing data to a repository rest api in a spring boot application","body":"<p>I have 2 entities -</p>\n<pre><code>public class Instance {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    private String name;\n    private LocalDate startDate;\n\n    @Enumerated(EnumType.STRING)\n    private InstanceStatus instanceStatus;\n}\n\n\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @ManyToOne(targetEntity = Instance.class)\n    private Instance instance;\n\n    private String name;\n    private String email;\n\n    @Enumerated(EnumType.STRING)\n    private UserStatus userStatus;\n}\n</code></pre>\n<p>and respective repositories -</p>\n<pre><code>public interface InstanceRepository extends JpaRepository&lt;Instance, UUID&gt; {\n}\n\npublic interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n}\n</code></pre>\n<p>I am trying to persist user information along with an instance which is already existing. I have an instance with id = 5512a059-fe11-4b6f-9ce0-a485839186b1 and below is the user data i am trying to save in json -</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Manasi B Gopinath&quot;,\n    &quot;email&quot;: &quot;bg.manasi@gmail.com&quot;,\n    &quot;userStatus&quot;: null,\n    &quot;instance&quot;: {\n          &quot;href&quot;: &quot;http://localhost:8080/api/instances/5512a059-fe11-4b6f-9ce0-a485839186b1&quot;\n    }\n}  \n</code></pre>\n<p>The user data is getting saved to the database, but the instance is not getting resolved and hence saved as null. Can someone let me know how to pass the instance data here.</p>\n<p>Thanks.</p>\n"},{"tags":["java","discord","bots","discord4j"],"comments":[{"owner":{"account_id":24468625,"reputation":46,"user_id":18388656,"display_name":"GibMirRechte"},"score":0,"creation_date":1689593732,"post_id":76702215,"comment_id":135230688,"body_markdown":"@Community its all code thats necessary to unterstand the problem.","body":"@Community its all code thats necessary to unterstand the problem."}],"answers":[{"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689617610,"creation_date":1689617610,"answer_id":76707099,"question_id":76702215,"body_markdown":"You can disable the command from the server settings for certain channels.\r\nUnfortunately, you can&#39;t edit this via the API (not a Discord4J issue, it&#39;s a Discord restriction).\r\n\r\n 1. Go to the &quot;integrations&quot; settings\r\n\r\n[![&quot;Integrations settings menu&quot;][1]][1]\r\n\r\n 2. Select the bot you want to edit\r\n\r\n[![Select the bot][2]][2]\r\n\r\n 3. Select the command you want to disable\r\n\r\n[![Select the command you want to disable][3]][3]\r\n\r\n 4. Click on &quot;add channel&quot;\r\n\r\n[![Click on &quot;add channel&quot;][4]][4]\r\n\r\n 5. Select the channel(s) you want to disable, then effectively disable the command\r\n\r\n[![Select the channel(s) you want to disable, then effectively disable the command][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oNcfh.png\r\n  [2]: https://i.stack.imgur.com/At0sb.png\r\n  [3]: https://i.stack.imgur.com/pGTeF.png\r\n  [4]: https://i.stack.imgur.com/Y9v4w.png\r\n  [5]: https://i.stack.imgur.com/xJZCd.png","title":"Discord4J - Slash Command only in a specific channel","body":"<p>You can disable the command from the server settings for certain channels.\nUnfortunately, you can't edit this via the API (not a Discord4J issue, it's a Discord restriction).</p>\n<ol>\n<li>Go to the &quot;integrations&quot; settings</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oNcfh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNcfh.png\" alt=\"&quot;Integrations settings menu&quot;\" /></a></p>\n<ol start=\"2\">\n<li>Select the bot you want to edit</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/At0sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/At0sb.png\" alt=\"Select the bot\" /></a></p>\n<ol start=\"3\">\n<li>Select the command you want to disable</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/pGTeF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGTeF.png\" alt=\"Select the command you want to disable\" /></a></p>\n<ol start=\"4\">\n<li>Click on &quot;add channel&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Y9v4w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9v4w.png\" alt=\"Click on &quot;add channel&quot;\" /></a></p>\n<ol start=\"5\">\n<li>Select the channel(s) you want to disable, then effectively disable the command</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/xJZCd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xJZCd.png\" alt=\"Select the channel(s) you want to disable, then effectively disable the command\" /></a></p>\n"}],"owner":{"account_id":24468625,"reputation":46,"user_id":18388656,"display_name":"GibMirRechte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76707099,"answer_count":1,"score":0,"last_activity_date":1689617610,"creation_date":1689578127,"question_id":76702215,"body_markdown":"I am currently working on a Discord bot using the Discord4J library in Java, and I would like to create a slash command that is only available in a specific channel and is not suggested in other channels.\r\n\r\nCurrently, I have successfully implemented the slash command and it shows up in all channels where the bot is active. However, I would like the command to be suggested only in a specific channel and not appear in other channels.\r\n\r\nI have implemented the command as any other already with the following code. However, there it is displayed in every channel and not only in a specific one as expected:\r\n\r\n`List&lt;CommandData&gt; commandData = new ArrayList&lt;&gt;();\r\n\r\n        commandData.add(Commands.slash(&quot;poll&quot;, &quot;Erstelle eine Umfrage&quot;)\r\n                .setDefaultPermissions(DefaultMemberPermissions.enabledFor(Permission.ADMINISTRATOR))\r\n                .setGuildOnly(true));`\r\n\r\nThanks in advance for your help!","title":"Discord4J - Slash Command only in a specific channel","body":"<p>I am currently working on a Discord bot using the Discord4J library in Java, and I would like to create a slash command that is only available in a specific channel and is not suggested in other channels.</p>\n<p>Currently, I have successfully implemented the slash command and it shows up in all channels where the bot is active. However, I would like the command to be suggested only in a specific channel and not appear in other channels.</p>\n<p>I have implemented the command as any other already with the following code. However, there it is displayed in every channel and not only in a specific one as expected:</p>\n<p>`List commandData = new ArrayList&lt;&gt;();</p>\n<pre><code>    commandData.add(Commands.slash(&quot;poll&quot;, &quot;Erstelle eine Umfrage&quot;)\n            .setDefaultPermissions(DefaultMemberPermissions.enabledFor(Permission.ADMINISTRATOR))\n            .setGuildOnly(true));`\n</code></pre>\n<p>Thanks in advance for your help!</p>\n"},{"tags":["java","android","android-studio","gradle","kotlin"],"comments":[{"owner":{"account_id":4433290,"reputation":688,"user_id":3609883,"display_name":"Crammeur"},"score":1,"creation_date":1533067886,"post_id":51621301,"comment_id":90208131,"body_markdown":"Do you try `Invalidate Cache / Restart`.","body":"Do you try <code>Invalidate Cache &#47; Restart</code>."},{"owner":{"display_name":"user8959091"},"score":5,"creation_date":1533068094,"post_id":51621301,"comment_id":90208212,"body_markdown":"Sometimes this problem goes away simply by Build, if your project is error free","body":"Sometimes this problem goes away simply by Build, if your project is error free"},{"owner":{"display_name":"user8959091"},"score":1,"creation_date":1533152705,"post_id":51621301,"comment_id":90246836,"body_markdown":"Do you know that in Kotlin you don&#39;t need findViewById in your activities?","body":"Do you know that in Kotlin you don&#39;t need findViewById in your activities?"},{"owner":{"display_name":"user8959091"},"score":0,"creation_date":1533152916,"post_id":51621301,"comment_id":90246924,"body_markdown":"Yes _____________","body":"Yes _____________"}],"answers":[{"tags":[],"owner":{"account_id":13964518,"reputation":103,"user_id":10084714,"display_name":"Earl Whitney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534980246,"creation_date":1534980246,"answer_id":51976448,"question_id":51621301,"body_markdown":"This worked for me.  How much work it is depends on how big your project is.  I started a new project, created the required modules (XML, Kotlin, colors, strings, etc.), then copied the code into the modules in the new project from the modules in the old project.  Copying XML saves a lot of time compared to recreating the UI.  All in all, it take a little while, but I have spent much more time tring to fix the unresolved reference error without it.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>This worked for me.  How much work it is depends on how big your project is.  I started a new project, created the required modules (XML, Kotlin, colors, strings, etc.), then copied the code into the modules in the new project from the modules in the old project.  Copying XML saves a lot of time compared to recreating the UI.  All in all, it take a little while, but I have spent much more time tring to fix the unresolved reference error without it.</p>\n"},{"tags":[],"owner":{"account_id":2850257,"reputation":515,"user_id":2447618,"display_name":"Fireworks"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1539855945,"creation_date":1536521628,"answer_id":52248013,"question_id":51621301,"body_markdown":"Use gradle commands.  \r\nIn Android Studio, on the right menu:  \r\n`Gradle -&gt; :app -&gt; Tasks -&gt; build -&gt; clean`.  \r\nAfter that, `Gradle -&gt; :app -&gt; Tasks -&gt; build -&gt; build`","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>Use gradle commands.<br>\nIn Android Studio, on the right menu:<br>\n<code>Gradle -&gt; :app -&gt; Tasks -&gt; build -&gt; clean</code>.<br>\nAfter that, <code>Gradle -&gt; :app -&gt; Tasks -&gt; build -&gt; build</code></p>\n"},{"tags":[],"owner":{"account_id":1026461,"reputation":593,"user_id":1035669,"accept_rate":25,"display_name":"martomstom"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1539777785,"creation_date":1539777785,"answer_id":52854447,"question_id":51621301,"body_markdown":"I used com.android.tools.build:gradle:3.3.0-alpha13 and had the same issue. Changing to stable Version 3.2.1 solved this problem for me.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I used com.android.tools.build:gradle:3.3.0-alpha13 and had the same issue. Changing to stable Version 3.2.1 solved this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":14554052,"reputation":1,"user_id":10512100,"display_name":"PRANAY REDDY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540555755,"creation_date":1540543214,"answer_id":53004786,"question_id":51621301,"body_markdown":"TRY THIS\r\n\r\nGo to the content_main.xml file and there you need to change the\r\n\r\n `android:id=&quot;@+id/??????&quot;&gt;`  line of code to whatever id you have given to your file.\r\n\r\nReplace question mark `??????` with the related file id name.(IF you dont know the id go to the design tab on the bottom and click on the related Asset.\r\n\r\nOn the right side below attributes, you can find the ID you have given to it.\r\nIf it is blank you can freshly name it and Android Studio will write the code.\r\n\r\nThen restart Android Studio. Hope this will help. Happy coding.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>TRY THIS</p>\n\n<p>Go to the content_main.xml file and there you need to change the</p>\n\n<p><code>android:id=\"@+id/??????\"&gt;</code>  line of code to whatever id you have given to your file.</p>\n\n<p>Replace question mark <code>??????</code> with the related file id name.(IF you dont know the id go to the design tab on the bottom and click on the related Asset.</p>\n\n<p>On the right side below attributes, you can find the ID you have given to it.\nIf it is blank you can freshly name it and Android Studio will write the code.</p>\n\n<p>Then restart Android Studio. Hope this will help. Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":2013095,"reputation":5352,"user_id":1801072,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1596666936,"creation_date":1540561386,"answer_id":53010120,"question_id":51621301,"body_markdown":"So this is a misleading error. \r\nThe fastest way to get to the root cause is to run:\r\n\r\n    bash gradlew assembleDebug --debug\r\nthen scroll up and look for the real error happening.\r\n\r\nHowever, if it still doesn&#39;t seem like you have the answer you are looking for, then read on. \r\n\r\nI&#39;m going to explain the 30,000 foot view of what is happening. This is not EXACT order or EXACT flow, it is just pretty damn close ;) so if you know more then I do of the exact order and care to make corrections with links, feel free I won&#39;t stop ya :).\r\n\r\n**The Process**\r\n\r\n&gt; The R file is generated code. \r\n&gt; \r\n&gt; There is an order to the generation.\r\n&gt; \r\n&gt; Gradle will do it&#39;s magic, pull it&#39;s dependencies and kick off it&#39;s\r\n&gt; warning and error tree first, \r\n&gt; \r\n&gt; then Android converts all Kotlin to Java behind the scenes. Yup that&#39;s\r\n&gt; right, our beloved Kotlin still has to be Java to compile for our\r\n&gt; beloved ART virtual machine. \r\n&gt; \r\n&gt; \r\n&gt; Then it runs through and does the adapters that you have created for\r\n&gt; JVM Statics and a few other tasks.\r\n&gt; Next up it compiles all the xml databinding files first to create the\r\n&gt; generated databinding files. \r\n&gt; \r\n&gt; If everything succeeds it moves on to processing the assets and\r\n&gt; resources. Which creates pointers or IDs for each resource that you\r\n&gt; reference in code.    Next it will run through and begin compiling the\r\n&gt; code and packaging process after that.\r\n\r\nPretty straight forward process, but here in lies the problem.\r\n\r\n***The misleading Error***\r\n\r\nIf any step fails before the R generation is complete, then the R does not get generated. Sometimes a simple rebuild is all you need to do, sometimes a simple File-&gt;Invalidate Cache and Restart is all you need. However, more often than not you have a code issue in your gradle, your xml, your databinding or your adapters that are preventing the compiler from even reaching the R generation stage.\r\n\r\n**So the next question is**  \r\n\r\n&gt; &quot;Well shoot, how do we troubleshoot it if the errors are worthless or\r\n&gt; non-existent&quot;.\r\n\r\nWell first let&#39;s talk about the many ways these errors present themselves. \r\n\r\n - Duplicate Databinding class found\r\n - xml Binding Error at line #\r\n - Couldn&#39;t find matching signature of bind:customAdapterMethod\r\n - Can&#39;t find R file of the correct project, only shows import options for sub modules or incorrect namespace R files.\r\n - Couldn&#39;t find DataBindingUtility or DataBinding for activity/fragment\r\n - And many other various ways as well, too many to list them all\r\n\r\nNext, let&#39;s talk about potential candidates causing the problem. As there are sooo many lol.\r\n\r\n - Gradle Syncing issues \r\n - Bad versions of Gradle or Tools, you may have gone too far forward in your last gradle file modification. Try stepping back one version and &quot;invalidate cache and restart&quot; if that fixed it, great, if not, read on.\r\n - Caching Issues (File-&gt;Restart and Invalidate Cache)\r\n - xml elements with wrong namespace\r\n - xml elements with bad IDs or references IDs out of order (i.e. you say align to right of an element that is lower in the xml document then the sibling element that is trying to reference it)\r\n - xml data binding issues referencing namespace or member that doesn&#39;t exist or is not typed correctly\r\n - xml data binding issues in non-auto-filled spots like custom attributes using adapters as those are harder to spot. i.e. bind:myCustomMethod=@&quot;myObject.mistypedProperty()&quot;\r\n - JVM Static adapters with issues or duplicated signatures\r\n - Duplicated or bad character in the Strings or Dimens file or any other xml file for that matter\r\n - Private variable marked for @Binding without properties to access it\r\n - Member variable marked for @Binding that matches a parent class method causing duplications that manifests itself in almost impossible errors\r\n - Mismatch of types like using an adapter that takes (Int) but you are passing (Int?) via data binding and it isn&#39;t recognized with JVM Statics until compile time\r\n - You selected IMPORT on a popup to import R file of a sub module instead of the application file\r\n - Having bindable members in a child or parent class, but not giving fully qualified namespace to class cast in the XML usage of the parent or child class. As the databinding compiler is not smart enough to realize the variable provided for class Foo is also parentFoo baseclass, so you have to qualify it as android:text=&quot;@((com.path.parentFoo)foo).parentMethod&quot;\r\n - Having a method name in a class, that matches a &quot;generated property from @Binding member variable&quot; i.e. firstName as a variable, but then having a method called getFirstName in a parent or child class, because you are now matching a method name that will get auto generated, thus causing dataBindingUtility duplication class errors.\r\n - There are more causes, but this should give you a series of places to look, but the list can go on and on seriously.\r\n\r\nUnfortunately this happens a lot in bleeding edge technologies where the UI tools are not up to speed with the terminal based tools yet. So I suggest you run from the project root in a terminal with\r\n\r\n    bash gradlew assembleDebug --debug\r\n\r\nWhen it fails, and it will. Start scrolling up through the logs until you find the red where you see what is actually failing and preventing the next stage from occurring.\r\n\r\nYou will find this especially useful when you start dealing with databinding.\r\n\r\n**TIP:**\r\n\r\nWhen you start dealing with databinding, make sure you compile and run often because the goal is to recognize right away before doing other files to make sure you didn&#39;t break generation and make your life MUCH easier to know code you just added caused the issue before getting too far. \r\n\r\nTimes to compile and run to confirm no issues before moving on.\r\n\r\n - If you add a few JVM statics compile and run\r\n - If you add variables to your XML to use\r\n - If you bind to properties of your model in 1 file\r\n - If you add a binding to a JVMStatic\r\n - If you add bindable members or properties to an model\r\n - If you refactor moving observable member variables or properties into children or base classes\r\n - Any other xml or binding related elements that can effect the generated code.\r\n\r\nLike I mentioned above, the reason is to avoid getting so many changes, that it becomes a troubleshooting nightmare to find a generic vague, horrible error related to generated databinding code. I&#39;m sure the tools will improve, but for now, do yourself a favor and compile and run often when changing Databinding related items.\r\n\r\nHappy Coding","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>So this is a misleading error.\nThe fastest way to get to the root cause is to run:</p>\n<pre><code>bash gradlew assembleDebug --debug\n</code></pre>\n<p>then scroll up and look for the real error happening.</p>\n<p>However, if it still doesn't seem like you have the answer you are looking for, then read on.</p>\n<p>I'm going to explain the 30,000 foot view of what is happening. This is not EXACT order or EXACT flow, it is just pretty damn close ;) so if you know more then I do of the exact order and care to make corrections with links, feel free I won't stop ya :).</p>\n<p><strong>The Process</strong></p>\n<blockquote>\n<p>The R file is generated code.</p>\n<p>There is an order to the generation.</p>\n<p>Gradle will do it's magic, pull it's dependencies and kick off it's\nwarning and error tree first,</p>\n<p>then Android converts all Kotlin to Java behind the scenes. Yup that's\nright, our beloved Kotlin still has to be Java to compile for our\nbeloved ART virtual machine.</p>\n<p>Then it runs through and does the adapters that you have created for\nJVM Statics and a few other tasks.\nNext up it compiles all the xml databinding files first to create the\ngenerated databinding files.</p>\n<p>If everything succeeds it moves on to processing the assets and\nresources. Which creates pointers or IDs for each resource that you\nreference in code.    Next it will run through and begin compiling the\ncode and packaging process after that.</p>\n</blockquote>\n<p>Pretty straight forward process, but here in lies the problem.</p>\n<p><em><strong>The misleading Error</strong></em></p>\n<p>If any step fails before the R generation is complete, then the R does not get generated. Sometimes a simple rebuild is all you need to do, sometimes a simple File-&gt;Invalidate Cache and Restart is all you need. However, more often than not you have a code issue in your gradle, your xml, your databinding or your adapters that are preventing the compiler from even reaching the R generation stage.</p>\n<p><strong>So the next question is</strong></p>\n<blockquote>\n<p>&quot;Well shoot, how do we troubleshoot it if the errors are worthless or\nnon-existent&quot;.</p>\n</blockquote>\n<p>Well first let's talk about the many ways these errors present themselves.</p>\n<ul>\n<li>Duplicate Databinding class found</li>\n<li>xml Binding Error at line #</li>\n<li>Couldn't find matching signature of bind:customAdapterMethod</li>\n<li>Can't find R file of the correct project, only shows import options for sub modules or incorrect namespace R files.</li>\n<li>Couldn't find DataBindingUtility or DataBinding for activity/fragment</li>\n<li>And many other various ways as well, too many to list them all</li>\n</ul>\n<p>Next, let's talk about potential candidates causing the problem. As there are sooo many lol.</p>\n<ul>\n<li>Gradle Syncing issues</li>\n<li>Bad versions of Gradle or Tools, you may have gone too far forward in your last gradle file modification. Try stepping back one version and &quot;invalidate cache and restart&quot; if that fixed it, great, if not, read on.</li>\n<li>Caching Issues (File-&gt;Restart and Invalidate Cache)</li>\n<li>xml elements with wrong namespace</li>\n<li>xml elements with bad IDs or references IDs out of order (i.e. you say align to right of an element that is lower in the xml document then the sibling element that is trying to reference it)</li>\n<li>xml data binding issues referencing namespace or member that doesn't exist or is not typed correctly</li>\n<li>xml data binding issues in non-auto-filled spots like custom attributes using adapters as those are harder to spot. i.e. bind:myCustomMethod=@&quot;myObject.mistypedProperty()&quot;</li>\n<li>JVM Static adapters with issues or duplicated signatures</li>\n<li>Duplicated or bad character in the Strings or Dimens file or any other xml file for that matter</li>\n<li>Private variable marked for @Binding without properties to access it</li>\n<li>Member variable marked for @Binding that matches a parent class method causing duplications that manifests itself in almost impossible errors</li>\n<li>Mismatch of types like using an adapter that takes (Int) but you are passing (Int?) via data binding and it isn't recognized with JVM Statics until compile time</li>\n<li>You selected IMPORT on a popup to import R file of a sub module instead of the application file</li>\n<li>Having bindable members in a child or parent class, but not giving fully qualified namespace to class cast in the XML usage of the parent or child class. As the databinding compiler is not smart enough to realize the variable provided for class Foo is also parentFoo baseclass, so you have to qualify it as android:text=&quot;@((com.path.parentFoo)foo).parentMethod&quot;</li>\n<li>Having a method name in a class, that matches a &quot;generated property from @Binding member variable&quot; i.e. firstName as a variable, but then having a method called getFirstName in a parent or child class, because you are now matching a method name that will get auto generated, thus causing dataBindingUtility duplication class errors.</li>\n<li>There are more causes, but this should give you a series of places to look, but the list can go on and on seriously.</li>\n</ul>\n<p>Unfortunately this happens a lot in bleeding edge technologies where the UI tools are not up to speed with the terminal based tools yet. So I suggest you run from the project root in a terminal with</p>\n<pre><code>bash gradlew assembleDebug --debug\n</code></pre>\n<p>When it fails, and it will. Start scrolling up through the logs until you find the red where you see what is actually failing and preventing the next stage from occurring.</p>\n<p>You will find this especially useful when you start dealing with databinding.</p>\n<p><strong>TIP:</strong></p>\n<p>When you start dealing with databinding, make sure you compile and run often because the goal is to recognize right away before doing other files to make sure you didn't break generation and make your life MUCH easier to know code you just added caused the issue before getting too far.</p>\n<p>Times to compile and run to confirm no issues before moving on.</p>\n<ul>\n<li>If you add a few JVM statics compile and run</li>\n<li>If you add variables to your XML to use</li>\n<li>If you bind to properties of your model in 1 file</li>\n<li>If you add a binding to a JVMStatic</li>\n<li>If you add bindable members or properties to an model</li>\n<li>If you refactor moving observable member variables or properties into children or base classes</li>\n<li>Any other xml or binding related elements that can effect the generated code.</li>\n</ul>\n<p>Like I mentioned above, the reason is to avoid getting so many changes, that it becomes a troubleshooting nightmare to find a generic vague, horrible error related to generated databinding code. I'm sure the tools will improve, but for now, do yourself a favor and compile and run often when changing Databinding related items.</p>\n<p>Happy Coding</p>\n"},{"tags":[],"owner":{"account_id":7785191,"reputation":1727,"user_id":5890321,"display_name":"Kenneth Argo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542912407,"creation_date":1542912407,"answer_id":53436666,"question_id":51621301,"body_markdown":"I believe that I came across the real answer (though by accident).\r\n\r\nI also, as the OP had my KT file fail to location R. as well as other classes that happen to be in java.  What I noticed was that there was a case difference I the filenames.  Once I corrected the import statements to match the case of the package (aka, folder) the errors resolved.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I believe that I came across the real answer (though by accident).</p>\n\n<p>I also, as the OP had my KT file fail to location R. as well as other classes that happen to be in java.  What I noticed was that there was a case difference I the filenames.  Once I corrected the import statements to match the case of the package (aka, folder) the errors resolved.</p>\n"},{"tags":[],"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1678937778,"creation_date":1543369624,"answer_id":53510869,"question_id":51621301,"body_markdown":"The issue can be caused by many factors, \r\n\r\n - as mentioned by martomstom in this [Answer][1] the issue is sometimes caused by `com.android.tools.build:gradle` version, changing it&#39;s version to a more stable one would solve the problem: for example: `com.android.tools.build:gradle:3.4.0-alpha02` with `com.android.tools.build:gradle:3.2.1` \r\n - Also, having libraries from the same group, but with different versions may cause the problem or even more runtime errors. use the exclude group method like the following : `    implementation(&#39;com.squareup.picasso:picasso:2.71828&#39;) { exclude(group: &#39;com.android.support&#39;) }` in this case, picasso library uses android.support components, the android library version used in picasso is different than the one you&#39;re currently using in your app, so in order to solve this issue, we have to exclude it completely from its sub library and class groups.\r\n\r\n - It can also happen by the mismatch of resources and code, including this importation line in your activity may solve the problem too : `import com.package.name.R`\r\n - Sometimes it can happen because of the IDE, performances or memory.. Cleaning the project from time to time may save you some time, on Android Studio it would be something like this : `Build -&gt; Clean Project / Rebuild Project` **-** Cleaning IDE cash also helps with performance and memory, on Android Studio it would look like this : `File-&gt; Invalidate Chases/ Restart -&gt; Invalidate Cashes and Restart`\r\n - I noticed that this problem happens to me the most of the time when importing new resources, Using prohibited characters in their names would fire the error, such as `. , , - , UpperCase or special Letters`\r\n - And as a suggestion , if you&#39;re using **Kotlin**, i really recommend using Kotlin extensions in your activity such as : import `kotlinx.android.synthetic.main.activity_page.*` or if you&#39;re using a custom view : `kotlinx.android.synthetic.main.view_layout.view.*` \r\n**after that**, in onCreat() method of an activity , you&#39;ll only have to call the id, for example : `my_edit_text_ID.text = &quot;Kotlin Dbest!&quot;`, or from a custom view : `mCostumView.my_edit_text_ID.text = &quot;Kotlin Dbest!&quot;`\r\n\r\n\r\n**EDIT :**\r\n\r\n - I have faced this issue againe and the problem was the &#39;&#39; R &#39;&#39; library was imported from 2 different sources : \r\n\r\n       com.android.R\r\n    \r\n       com.example.package.R\r\n\r\n   You must only import the &#39;&#39; R &#39;&#39; library with your application package name, \r\n   in this case `com.example.package.R` \r\n   Sometimes the library is not imported at all, to import it, click on the \r\n   unresolved reference `R` and press `Alt + Enter`   \r\n\r\n**EDIT:**\r\n\r\nAs [tobltobs][2] mentioned in the comments section: &quot; Most of the time the problem is caused by another error which prevents the build system from creating generated sources. To find the root cause look at the gradle log (the &quot;toggle view&quot; icon below of the green hammer in the Build output) and look for errors unrelated to R or BuildConfig (also generated). If there is no other error left and the problem with R persists then maybe something of this list might help. &quot;\r\n\r\n**EDIT:**\r\n\r\nAs Patrick Beagan mentioned, Kotlin extensions for finding views in layouts are now deprecated - I&#39;d advise using ViewBinding instead\r\n\r\n  [1]: https://stackoverflow.com/a/52854447/9005383\r\n  [2]: https://stackoverflow.com/users/444100/tobltobs\r\n","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>The issue can be caused by many factors,</p>\n<ul>\n<li><p>as mentioned by martomstom in this <a href=\"https://stackoverflow.com/a/52854447/9005383\">Answer</a> the issue is sometimes caused by <code>com.android.tools.build:gradle</code> version, changing it's version to a more stable one would solve the problem: for example: <code>com.android.tools.build:gradle:3.4.0-alpha02</code> with <code>com.android.tools.build:gradle:3.2.1</code></p>\n</li>\n<li><p>Also, having libraries from the same group, but with different versions may cause the problem or even more runtime errors. use the exclude group method like the following : <code>    implementation('com.squareup.picasso:picasso:2.71828') { exclude(group: 'com.android.support') }</code> in this case, picasso library uses android.support components, the android library version used in picasso is different than the one you're currently using in your app, so in order to solve this issue, we have to exclude it completely from its sub library and class groups.</p>\n</li>\n<li><p>It can also happen by the mismatch of resources and code, including this importation line in your activity may solve the problem too : <code>import com.package.name.R</code></p>\n</li>\n<li><p>Sometimes it can happen because of the IDE, performances or memory.. Cleaning the project from time to time may save you some time, on Android Studio it would be something like this : <code>Build -&gt; Clean Project / Rebuild Project</code> <strong>-</strong> Cleaning IDE cash also helps with performance and memory, on Android Studio it would look like this : <code>File-&gt; Invalidate Chases/ Restart -&gt; Invalidate Cashes and Restart</code></p>\n</li>\n<li><p>I noticed that this problem happens to me the most of the time when importing new resources, Using prohibited characters in their names would fire the error, such as <code>. , , - , UpperCase or special Letters</code></p>\n</li>\n<li><p>And as a suggestion , if you're using <strong>Kotlin</strong>, i really recommend using Kotlin extensions in your activity such as : import <code>kotlinx.android.synthetic.main.activity_page.*</code> or if you're using a custom view : <code>kotlinx.android.synthetic.main.view_layout.view.*</code>\n<strong>after that</strong>, in onCreat() method of an activity , you'll only have to call the id, for example : <code>my_edit_text_ID.text = &quot;Kotlin Dbest!&quot;</code>, or from a custom view : <code>mCostumView.my_edit_text_ID.text = &quot;Kotlin Dbest!&quot;</code></p>\n</li>\n</ul>\n<p><strong>EDIT :</strong></p>\n<ul>\n<li><p>I have faced this issue againe and the problem was the '' R '' library was imported from 2 different sources :</p>\n<pre><code>com.android.R\n\ncom.example.package.R\n</code></pre>\n<p>You must only import the '' R '' library with your application package name,\nin this case <code>com.example.package.R</code>\nSometimes the library is not imported at all, to import it, click on the\nunresolved reference <code>R</code> and press <code>Alt + Enter</code></p>\n</li>\n</ul>\n<p><strong>EDIT:</strong></p>\n<p>As <a href=\"https://stackoverflow.com/users/444100/tobltobs\">tobltobs</a> mentioned in the comments section: &quot; Most of the time the problem is caused by another error which prevents the build system from creating generated sources. To find the root cause look at the gradle log (the &quot;toggle view&quot; icon below of the green hammer in the Build output) and look for errors unrelated to R or BuildConfig (also generated). If there is no other error left and the problem with R persists then maybe something of this list might help. &quot;</p>\n<p><strong>EDIT:</strong></p>\n<p>As Patrick Beagan mentioned, Kotlin extensions for finding views in layouts are now deprecated - I'd advise using ViewBinding instead</p>\n"},{"tags":[],"owner":{"account_id":400341,"reputation":725,"user_id":766263,"accept_rate":25,"display_name":"Josue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547711536,"creation_date":1547711536,"answer_id":54231284,"question_id":51621301,"body_markdown":"I had the same problem with R reference too.\r\nFinally Android Studio 3.3 has been released and using `&#39;com.android.tools.build:gradle:3.3.0&#39;` the problem has been fixed!","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I had the same problem with R reference too.\nFinally Android Studio 3.3 has been released and using <code>'com.android.tools.build:gradle:3.3.0'</code> the problem has been fixed!</p>\n"},{"tags":[],"owner":{"account_id":11533436,"reputation":133,"user_id":8451711,"display_name":"HasBert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548639535,"creation_date":1548639535,"answer_id":54394538,"question_id":51621301,"body_markdown":"I had the same problem, and I tried not to downgrade from gradle version 3.3 to gradle version 3.2.1. Instead I updated Android Studio to version 3.3, which made the trick for me ;-)","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I had the same problem, and I tried not to downgrade from gradle version 3.3 to gradle version 3.2.1. Instead I updated Android Studio to version 3.3, which made the trick for me ;-)</p>\n"},{"tags":[],"owner":{"account_id":6678851,"reputation":1,"user_id":5152688,"display_name":"dudukee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551683450,"creation_date":1551683450,"answer_id":54978228,"question_id":51621301,"body_markdown":"I update Android Studio to version 3.3.1 and solved this problem.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I update Android Studio to version 3.3.1 and solved this problem.</p>\n"},{"tags":[],"owner":{"account_id":11416273,"reputation":204,"user_id":8369016,"display_name":"Nithesh"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1557319444,"creation_date":1557319444,"answer_id":56041111,"question_id":51621301,"body_markdown":"Here is the solution,\r\nFile-&gt;Project Structure-&gt;Project, select Android Gradle Plugin Version as 3.2.1 from the drop-down. then click apply. ","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>Here is the solution,\nFile->Project Structure->Project, select Android Gradle Plugin Version as 3.2.1 from the drop-down. then click apply. </p>\n"},{"tags":[],"owner":{"account_id":7996916,"reputation":416,"user_id":6032911,"display_name":"Ankush Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563507388,"creation_date":1563507388,"answer_id":57105200,"question_id":51621301,"body_markdown":"Downgrading gradle version worked for me.\n\nI changed :\n\n&gt; Gradle version  from : 4.10.4 to 4.4.1\n&gt;\n&gt; and Gradle Plugin version from : 3.3.1 to 3.1.3","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>Downgrading gradle version worked for me.</p>\n<p>I changed :</p>\n<blockquote>\n<p>Gradle version  from : 4.10.4 to 4.4.1</p>\n<p>and Gradle Plugin version from : 3.3.1 to 3.1.3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13230604,"reputation":1843,"user_id":9554350,"display_name":"K Vij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583908500,"creation_date":1583908500,"answer_id":60630434,"question_id":51621301,"body_markdown":"If your are experiencing this issue in Kotlin because you cannot reference the elements of the xml layout by ids. (e.g. `R.id.adView`) then try removing the line `import android.R` from your kotlin file. ","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>If your are experiencing this issue in Kotlin because you cannot reference the elements of the xml layout by ids. (e.g. <code>R.id.adView</code>) then try removing the line <code>import android.R</code> from your kotlin file. </p>\n"},{"tags":[],"owner":{"account_id":7491562,"reputation":199,"user_id":5693069,"display_name":"Adam Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584658409,"creation_date":1584658409,"answer_id":60766204,"question_id":51621301,"body_markdown":"For me it was because I had created a new package and R wasn&#39;t available until I imported it from the package above","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>For me it was because I had created a new package and R wasn't available until I imported it from the package above</p>\n"},{"tags":[],"owner":{"account_id":1187948,"reputation":1076,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587054230,"creation_date":1587054230,"answer_id":61255133,"question_id":51621301,"body_markdown":"I faced the same issue. I restarted my Android Studio, invalidate caches, Sync Gradle but nothing was working. Then I looked into my file and there are 2 imports of my R. 1 import was related to my application package and the other was related to Android.\r\n\r\n1. import com.example.myApp.R\r\n2. import android.R // This import was added accidentally during the build.\r\n\r\nRemoving second import related to android solved this issue.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I faced the same issue. I restarted my Android Studio, invalidate caches, Sync Gradle but nothing was working. Then I looked into my file and there are 2 imports of my R. 1 import was related to my application package and the other was related to Android.</p>\n\n<ol>\n<li>import com.example.myApp.R</li>\n<li>import android.R // This import was added accidentally during the build.</li>\n</ol>\n\n<p>Removing second import related to android solved this issue.</p>\n"},{"tags":[],"owner":{"account_id":974238,"reputation":1956,"user_id":996046,"display_name":"Vasudev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606677807,"creation_date":1606677807,"answer_id":65064187,"question_id":51621301,"body_markdown":"I had wrong import statement `import android.R` instead of `import my.project.package.R`. Fixing it solved the problem","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I had wrong import statement <code>import android.R</code> instead of <code>import my.project.package.R</code>. Fixing it solved the problem</p>\n"},{"tags":[],"owner":{"account_id":426051,"reputation":1004,"user_id":807038,"display_name":"Oren Bengigi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627078971,"creation_date":1627078971,"answer_id":68505548,"question_id":51621301,"body_markdown":"I had an issue because of this import:\r\n\r\n    import android.os.Build.VERSION_CODES.*\r\n\r\nIn the latest version it contains R","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I had an issue because of this import:</p>\n<pre><code>import android.os.Build.VERSION_CODES.*\n</code></pre>\n<p>In the latest version it contains R</p>\n"},{"tags":[],"owner":{"account_id":4399745,"reputation":73358,"user_id":3585796,"display_name":"Phil Dukhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644464482,"creation_date":1644464482,"answer_id":71059521,"question_id":51621301,"body_markdown":"I had same problem while using [auto-manifest][1] plugin. Adding `AndroidManifest.xml` explicitly solved the problem to me.\r\n\r\n\r\n  [1]: https://github.com/GradleUp/auto-manifest","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I had same problem while using <a href=\"https://github.com/GradleUp/auto-manifest\" rel=\"nofollow noreferrer\">auto-manifest</a> plugin. Adding <code>AndroidManifest.xml</code> explicitly solved the problem to me.</p>\n"},{"tags":[],"owner":{"account_id":1807763,"reputation":394,"user_id":3127526,"accept_rate":62,"display_name":"sandip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660831348,"creation_date":1660831348,"answer_id":73404429,"question_id":51621301,"body_markdown":"I used to File --&gt; Invalidate Caches... and issue resolved. ","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I used to File --&gt; Invalidate Caches... and issue resolved.</p>\n"},{"tags":[],"owner":{"account_id":204544,"reputation":1118,"user_id":3176753,"display_name":"thijsonline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665570121,"creation_date":1665570121,"answer_id":74040254,"question_id":51621301,"body_markdown":"Just restarting Android Studio solved it for me.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>Just restarting Android Studio solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":22283008,"reputation":1708,"user_id":16985146,"display_name":"Siddharth Mehra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676451962,"creation_date":1676451962,"answer_id":75457492,"question_id":51621301,"body_markdown":"I also had this problem, `Gradle Sync`, and `Invalidate Cache`, and Restarting Android Studio Didn&#39;t help. Upgrading and Downgrading Gradle were also not helpful.\r\n\r\nWhat worked for me is: `Make Project` (Ctrl + F9) and then try to run the project.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I also had this problem, <code>Gradle Sync</code>, and <code>Invalidate Cache</code>, and Restarting Android Studio Didn't help. Upgrading and Downgrading Gradle were also not helpful.</p>\n<p>What worked for me is: <code>Make Project</code> (Ctrl + F9) and then try to run the project.</p>\n"},{"tags":[],"owner":{"account_id":13391429,"reputation":156,"user_id":9663684,"display_name":"Mwanagenzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676556024,"creation_date":1676556024,"answer_id":75473330,"question_id":51621301,"body_markdown":"I solved this error by following Android Studio&#39;s lint tools to upgrade the version of a dependency in the project-level gradle file. In this case, I upgraded `androidx.navigation:navigation-safe-args-gradle-plugin` from `2.3.2` to `2.5.2` (latest version), then synced the project.","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I solved this error by following Android Studio's lint tools to upgrade the version of a dependency in the project-level gradle file. In this case, I upgraded <code>androidx.navigation:navigation-safe-args-gradle-plugin</code> from <code>2.3.2</code> to <code>2.5.2</code> (latest version), then synced the project.</p>\n"},{"tags":[],"owner":{"account_id":27341351,"reputation":51,"user_id":20851932,"display_name":"Swaraj Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689617479,"creation_date":1685146076,"answer_id":76344831,"question_id":51621301,"body_markdown":"## The Issue\r\n  - SplashView is unable to get the R value, and so it shows the error, that R is not defined.\r\n\r\n## The Solution\r\n - Change the project name, on line number one, with yours, and you will be good to go.\r\n\r\n### Before\r\n```package com.example.experiments_flutter```\r\n\r\n### After \r\n```package &lt;your_project_name&gt;```","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<h2>The Issue</h2>\n<ul>\n<li>SplashView is unable to get the R value, and so it shows the error, that R is not defined.</li>\n</ul>\n<h2>The Solution</h2>\n<ul>\n<li>Change the project name, on line number one, with yours, and you will be good to go.</li>\n</ul>\n<h3>Before</h3>\n<p><code>package com.example.experiments_flutter</code></p>\n<h3>After</h3>\n<p><code>package &lt;your_project_name&gt;</code></p>\n"}],"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85091,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":53510869,"answer_count":23,"score":57,"last_activity_date":1689617479,"creation_date":1533067787,"question_id":51621301,"body_markdown":"I am new to Kotlin. I have converted some code from Java, but it seems like there&#39;s something wrong. The R in findViewById(R.id.my_id) is highlighted in red and it shows this message:\r\n\r\n&gt; Unresolved reference: R\r\n\r\nI&#39;ve been looking for a solution, but I seem not to figure it out. So what should I do?\r\n\r\nHere&#39;s a screenshot:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/n4TCM.png\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Studio 3.1.3 - Unresolved reference: R - Kotlin","body":"<p>I am new to Kotlin. I have converted some code from Java, but it seems like there's something wrong. The R in findViewById(R.id.my_id) is highlighted in red and it shows this message:</p>\n<blockquote>\n<p>Unresolved reference: R</p>\n</blockquote>\n<p>I've been looking for a solution, but I seem not to figure it out. So what should I do?</p>\n<p>Here's a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/n4TCM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4TCM.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","thymeleaf"],"owner":{"account_id":29029164,"reputation":1,"user_id":22236574,"display_name":"GPFrederick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689617389,"creation_date":1689529972,"question_id":76699697,"body_markdown":"I am working in a project with spring boot &amp; thymeleaf.\r\n\r\nI have a form in Thymeleaf where I get some info to create something like a booking. \r\nThe info I request on the form is CheckIn,CheckOut, Method of payment and Price.\r\nBefore I save the booking I need to let the client know how much it is going to cost.\r\nTo calculate that I need to know the days they are going to book.\r\nHere is my question. How can I renderize the price once they choose the date of checkin and checkout?\r\nI already know how to get the days between and so on...\r\nBefore the client hit on submit I need to renderize the price. \r\n\r\nEverything is working fine submiting the form &amp; saving it into the database.\r\n\r\nThis is the form the client is showed.\r\n  [1]: https://i.stack.imgur.com/vdb1s.png\r\n\r\nThis is the controller:\r\n\r\n    @GetMapping(&quot;/bookings/{userId}/new&quot;)\r\n    public String createBookingForm(@PathVariable(&quot;userId&quot;) Long userId, Model model) {\r\n        Booking booking = new Booking();\r\n        model.addAttribute(&quot;userId&quot;, userId);\r\n        model.addAttribute(&quot;booking&quot;, booking);\r\n        return &quot;bookings-create&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/bookings/{userId}&quot;)\r\n    public String createBooking(@PathVariable(&quot;userId&quot;) Long userId,\r\n                                @ModelAttribute(&quot;booking&quot;) BookingDto bookingDto,\r\n                                BindingResult result, Model model) {\r\n        if (result.hasErrors()) {\r\n            model.addAttribute(&quot;booking&quot;, bookingDto);\r\n            return &quot;bookings/create&quot;;\r\n        }\r\n        bookingService.createBooking(userId, bookingDto);\r\n        return &quot;redirect:/users/&quot; + userId;\r\n    }\r\n\r\nThis is the html:\r\n\r\n    &lt;form role=&quot;form&quot; method=&quot;post&quot; th:action=&quot;@{/bookings/{userId}(userId=${userId})}&quot; th:object=&quot;${booking}&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\r\n                &lt;div class=&quot;form-row&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;startTime&quot;&gt;Checkin&lt;/label&gt;\r\n                        &lt;input\r\n                                type=&quot;datetime-local&quot;\r\n                                class=&quot;form-control&quot;\r\n                                id=&quot;startTime&quot;\r\n                                name=&quot;startTime&quot;\r\n                                th:field=&quot;*{startTime}&quot;\r\n                                placeholder=&quot;Checkin&quot;&gt;\r\n                        &lt;p th:if=&quot;${#fields.hasErrors(&#39;startTime&#39;)}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{startTime}&quot;&gt;&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;endTime&quot;&gt;Checkout&lt;/label&gt;\r\n                        &lt;input\r\n                                type=&quot;datetime-local&quot;\r\n                                class=&quot;form-control&quot;\r\n                                id=&quot;endTime&quot;\r\n                                name=&quot;endTime&quot;\r\n                                th:field=&quot;*{endTime}&quot;\r\n                                placeholder=&quot;Checkout&quot;&gt;\r\n                        &lt;p th:if=&quot;${#fields.hasErrors(&#39;endTime&#39;)}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{endTime}&quot;&gt;&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Method Of Payment&lt;/label&gt;\r\n                        &lt;select th:field=&quot;*{methodOfPayment}&quot; class=&quot;form-select&quot; aria-label=&quot;Default select example&quot;&gt;\r\n                            &lt;option selected th:value=&quot;${&#39;Efectivo&#39;}&quot;&gt;Efectivo&lt;/option&gt;\r\n                            &lt;option th:value=&quot;${&#39;Tarjeta de D&#233;bito&#39;}&quot;&gt;Tarjeta de D&#233;bito&lt;/option&gt;\r\n                            &lt;option th:value=&quot;${&#39;Tarjeta de Cr&#233;dito&#39;}&quot;&gt;Tarjeta de Cr&#233;dito&lt;/option&gt;\r\n                        &lt;/select&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;row mb-3&quot;&gt;\r\n                        &lt;div class=&quot;col&quot;&gt;\r\n                            &lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\r\n                            &lt;input\r\n                                    type=&quot;text&quot;\r\n                                    class=&quot;form-control&quot;\r\n                                    id=&quot;price&quot;\r\n                                    name=&quot;price&quot;\r\n                                    th:field=&quot;*{price}&quot;\r\n                                    placeholder=&quot;price&quot;&gt;\r\n                            &lt;p th:if=&quot;${#fields.hasErrors(&#39;price&#39;)}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{price}&quot;&gt;&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;col mt-4&quot;&gt;\r\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-dark&quot;&gt;Get price&lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;d-grid gap-2&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Create&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/form&gt;","title":"How to get data from thymeleaf form to the controller before submitting?","body":"<p>I am working in a project with spring boot &amp; thymeleaf.</p>\n<p>I have a form in Thymeleaf where I get some info to create something like a booking.\nThe info I request on the form is CheckIn,CheckOut, Method of payment and Price.\nBefore I save the booking I need to let the client know how much it is going to cost.\nTo calculate that I need to know the days they are going to book.\nHere is my question. How can I renderize the price once they choose the date of checkin and checkout?\nI already know how to get the days between and so on...\nBefore the client hit on submit I need to renderize the price.</p>\n<p>Everything is working fine submiting the form &amp; saving it into the database.</p>\n<p>This is the form the client is showed.\n[1]: <a href=\"https://i.stack.imgur.com/vdb1s.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/vdb1s.png</a></p>\n<p>This is the controller:</p>\n<pre><code>@GetMapping(&quot;/bookings/{userId}/new&quot;)\npublic String createBookingForm(@PathVariable(&quot;userId&quot;) Long userId, Model model) {\n    Booking booking = new Booking();\n    model.addAttribute(&quot;userId&quot;, userId);\n    model.addAttribute(&quot;booking&quot;, booking);\n    return &quot;bookings-create&quot;;\n}\n\n@PostMapping(&quot;/bookings/{userId}&quot;)\npublic String createBooking(@PathVariable(&quot;userId&quot;) Long userId,\n                            @ModelAttribute(&quot;booking&quot;) BookingDto bookingDto,\n                            BindingResult result, Model model) {\n    if (result.hasErrors()) {\n        model.addAttribute(&quot;booking&quot;, bookingDto);\n        return &quot;bookings/create&quot;;\n    }\n    bookingService.createBooking(userId, bookingDto);\n    return &quot;redirect:/users/&quot; + userId;\n}\n</code></pre>\n<p>This is the html:</p>\n<pre><code>&lt;form role=&quot;form&quot; method=&quot;post&quot; th:action=&quot;@{/bookings/{userId}(userId=${userId})}&quot; th:object=&quot;${booking}&quot;&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\n            &lt;div class=&quot;form-row&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;startTime&quot;&gt;Checkin&lt;/label&gt;\n                    &lt;input\n                            type=&quot;datetime-local&quot;\n                            class=&quot;form-control&quot;\n                            id=&quot;startTime&quot;\n                            name=&quot;startTime&quot;\n                            th:field=&quot;*{startTime}&quot;\n                            placeholder=&quot;Checkin&quot;&gt;\n                    &lt;p th:if=&quot;${#fields.hasErrors('startTime')}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{startTime}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;endTime&quot;&gt;Checkout&lt;/label&gt;\n                    &lt;input\n                            type=&quot;datetime-local&quot;\n                            class=&quot;form-control&quot;\n                            id=&quot;endTime&quot;\n                            name=&quot;endTime&quot;\n                            th:field=&quot;*{endTime}&quot;\n                            placeholder=&quot;Checkout&quot;&gt;\n                    &lt;p th:if=&quot;${#fields.hasErrors('endTime')}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{endTime}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Method Of Payment&lt;/label&gt;\n                    &lt;select th:field=&quot;*{methodOfPayment}&quot; class=&quot;form-select&quot; aria-label=&quot;Default select example&quot;&gt;\n                        &lt;option selected th:value=&quot;${'Efectivo'}&quot;&gt;Efectivo&lt;/option&gt;\n                        &lt;option th:value=&quot;${'Tarjeta de Débito'}&quot;&gt;Tarjeta de Débito&lt;/option&gt;\n                        &lt;option th:value=&quot;${'Tarjeta de Crédito'}&quot;&gt;Tarjeta de Crédito&lt;/option&gt;\n                    &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row mb-3&quot;&gt;\n                    &lt;div class=&quot;col&quot;&gt;\n                        &lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\n                        &lt;input\n                                type=&quot;text&quot;\n                                class=&quot;form-control&quot;\n                                id=&quot;price&quot;\n                                name=&quot;price&quot;\n                                th:field=&quot;*{price}&quot;\n                                placeholder=&quot;price&quot;&gt;\n                        &lt;p th:if=&quot;${#fields.hasErrors('price')}&quot; class=&quot;text-danger&quot; th:errors=&quot;*{price}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col mt-4&quot;&gt;\n                        &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-dark&quot;&gt;Get price&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;d-grid gap-2&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Create&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","mysql","sql","spring","hibernate"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1395869884,"post_id":22673588,"comment_id":34540242,"body_markdown":"possible duplicate of [Hibernate show real SQL](http://stackoverflow.com/questions/2536829/hibernate-show-real-sql)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2536829/hibernate-show-real-sql\">Hibernate show real SQL</a>"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1689617098,"post_id":22673588,"comment_id":135235909,"body_markdown":"This question featured various external links to image hosts and file lockers. Unfortunately all those resources no longer work. For the time being I am voting to put the question on hold, since the post no longer contains a [mcve]. In the unlikely event the question can be repaired, we can reopen again.","body":"This question featured various external links to image hosts and file lockers. Unfortunately all those resources no longer work. For the time being I am voting to put the question on hold, since the post no longer contains a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In the unlikely event the question can be repaired, we can reopen again."}],"answers":[{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395870027,"creation_date":1395870027,"answer_id":22673647,"question_id":22673588,"body_markdown":"ORMs sometimes have a rather unique view on how to translate their query language to SQL, which may lead to various issues ranging from slow queries to odd or absent results.\r\n\r\nTherefore I&#39;d advise you to activate the query log (see [here][1] or [here][2]), that will be the SQL that actually gets sent to the server.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2536829/hibernate-show-real-sql\r\n  [2]: https://stackoverflow.com/questions/1710476/print-query-string-in-hibernate-with-parameter-values","title":"Simulating a Hibernate query in MySQL","body":"<p>ORMs sometimes have a rather unique view on how to translate their query language to SQL, which may lead to various issues ranging from slow queries to odd or absent results.</p>\n\n<p>Therefore I'd advise you to activate the query log (see <a href=\"https://stackoverflow.com/questions/2536829/hibernate-show-real-sql\">here</a> or <a href=\"https://stackoverflow.com/questions/1710476/print-query-string-in-hibernate-with-parameter-values\">here</a>), that will be the SQL that actually gets sent to the server.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689616937,"creation_date":1395869744,"question_id":22673588,"body_markdown":"I have a query that is not producing any results even though there is definitely data in the underlying database corresponding with the query.  The query is being run by Hibernate, and I want to validate it by running the query directly in MySQL. How can I translate from Hibernate to SQL so that I can see if the query produces any results?  \r\n  \r\nHere is the Hibernate query that the Eclipse console says is being run:  \r\n  \r\n    select\r\n     drugword0_.name as name1_12_2_,\r\n     concepts1_.word as word1_12_4_,\r\n     drugconcep2_.rxcui as rxcui2_13_4_,\r\n     drugconcep2_.rxcui as rxcui1_10_0_,\r\n     atoms3_.rxcui as rxcui3_10_5_,\r\n     atoms3_.rxaui as rxaui1_39_5_,\r\n     atoms3_.rxaui as rxaui1_39_1_,\r\n     atoms3_.rxcui as rxcui3_39_1_,\r\n     atoms3_.str as str2_39_1_ \r\n    from drugwords drugword0_\r\n     left outer join drugwordsconsoJunction concepts1_ on drugword0_.name=concepts1_.word\r\n     left outer join drugconcepts drugconcep2_ on concepts1_.rxcui=drugconcep2_.rxcui\r\n     left outer join rxnconso atoms3_ on drugconcep2_.rxcui=atoms3_.rxcui where drugword0_.name=?\r\n    \r\nHow do I convert that Hibernate query into working syntax for a sql query of a MySQL database? And why do you think my Hibernate query is not returning any results? Are the Hibernate mappings set up incorrectly?  \r\n","title":"Simulating a Hibernate query in MySQL","body":"<p>I have a query that is not producing any results even though there is definitely data in the underlying database corresponding with the query.  The query is being run by Hibernate, and I want to validate it by running the query directly in MySQL. How can I translate from Hibernate to SQL so that I can see if the query produces any results?</p>\n<p>Here is the Hibernate query that the Eclipse console says is being run:</p>\n<pre><code>select\n drugword0_.name as name1_12_2_,\n concepts1_.word as word1_12_4_,\n drugconcep2_.rxcui as rxcui2_13_4_,\n drugconcep2_.rxcui as rxcui1_10_0_,\n atoms3_.rxcui as rxcui3_10_5_,\n atoms3_.rxaui as rxaui1_39_5_,\n atoms3_.rxaui as rxaui1_39_1_,\n atoms3_.rxcui as rxcui3_39_1_,\n atoms3_.str as str2_39_1_ \nfrom drugwords drugword0_\n left outer join drugwordsconsoJunction concepts1_ on drugword0_.name=concepts1_.word\n left outer join drugconcepts drugconcep2_ on concepts1_.rxcui=drugconcep2_.rxcui\n left outer join rxnconso atoms3_ on drugconcep2_.rxcui=atoms3_.rxcui where drugword0_.name=?\n</code></pre>\n<p>How do I convert that Hibernate query into working syntax for a sql query of a MySQL database? And why do you think my Hibernate query is not returning any results? Are the Hibernate mappings set up incorrectly?</p>\n"},{"tags":["java","maven","pom.xml","bitcoin","bitcoinj"],"comments":[{"owner":{"account_id":186255,"reputation":502,"user_id":423511,"display_name":"RicardoPHP"},"score":0,"creation_date":1689720245,"post_id":76707016,"comment_id":135252793,"body_markdown":"PS: I noticed I presented in the notes and files the reference to the file &quot;bitcoinj-0.11-SNAPSHOT-sources.jar&quot; because I carried out tests both with the sources and with the final one and, according to what I know, the correct would be always use &quot;bitcoinj-0.11 -SNAPSHOT.jar&quot;, that is, the final file and not the sources.","body":"PS: I noticed I presented in the notes and files the reference to the file &quot;bitcoinj-0.11-SNAPSHOT-sources.jar&quot; because I carried out tests both with the sources and with the final one and, according to what I know, the correct would be always use &quot;bitcoinj-0.11 -SNAPSHOT.jar&quot;, that is, the final file and not the sources."}],"owner":{"account_id":186255,"reputation":502,"user_id":423511,"display_name":"RicardoPHP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689616664,"creation_date":1689616664,"question_id":76707016,"body_markdown":"The problem I&#39;m currently facing is that as far as I understand, for example, the com.google.bitcoin.core package belongs to is the same as the com.google.bitcoinj.core package but this one is not being accessible or understanding that both are the same package and thus generating the error below (among several similar ones) when building the apk in phase 3/4 of the build. Let me zoom in on the details....\r\n\r\nI&#39;m wanting to remove the rust from java and decided to study something different I took the opportunity to look for something challenging and that would make me learn a little about bitcoin as well, I ended up at an &quot;impasse&quot; ...\r\n\r\nPS: I imagine some will want to add recommendations like &quot;for mobile development nowadays we use kotlin&quot; or &quot;there is another bitcoin/java project better for that&quot; ... and I thank you in advance for such recommendation (I&#39;ll keep my track on this project still it is nice to know alternatives) and I&#39;d be happy if you add it as a comment to the thread (and not as an answer to the question). So in addition to being able to talk, it is possible it will be something useful for other people studying such stack. Thanks again. So ...\r\n\r\nI&#39;m trying to compile one **old version of schildbach wallet** (if I&#39;m not mistaken it was the first version of bitcoin wallet for android. It&#39;s an open-source project that seems to be very interesting and I decided to use it for my studies). AFAIK this 3.31 version is wide used to build a few other wallets to manage other coins. Don&#39;t ask me exactly why, but it seems to me this is one of the most used versions.\r\n\r\nI already managed to build the necessary JAR files, but when the environment builds the APK file (so that I can use it in the android simulator) it ends up not being able to generate the file. my guess is there is something missing on my sistem or it does not exists animore and should be changed on pom file as an workaround. Could someone please help me and point me out what I&#39;m doing wrong?\r\n\r\nPS: For knowledge, I&#39;ve been working with vanilla java for a long time, but I don&#39;t have much experience even in Android development. My experience in mobile is mobile qt, golang, webapps and recently what I most used java was with spring.\r\n\r\nAnd in case you are wandering ... yes I set a self signed truststore ssl certificate with keytool by now.\r\n\r\nTo build the environment (considering that it is a 2014 version) I ended up installing several **SDK Tools versions** in Android Studio, including those related to version 4 of Android Studio (which was the version used at the time and settled in maven).\r\n\r\nI&#39;m also using **Java version** 8 (from sdkman, the oldest I was able to use was &quot;8.0.265-open&quot; because it had already been installed on another computer, so I managed to bring it to the current machine, that is, I didn&#39;t install it it through &quot;sdk install java&quot;, I just rsynced from another machine and AFAIK it&#39;s basically the same that &quot;sdk install&quot; does). I made some attempts with java 6-zulu, 7-zulu, 16-open, 20-amzn and 22-open, but nothing encouraging, so I decided to go with 8.\r\n\r\nAs for **maven version**, I tried with &quot;3.2.2 &quot; and &quot;3.9.1&quot;, but the results are the same as the version &quot;3.8.1&quot; I&#39;m currently using.\r\n\r\nHere we have a link to the project version I am using right on github https://github.com/schildbach/bitcoin-wallet/tree/112b477201699e8389625add27c6ab8ed1353d22\r\n\r\nI made some changes in the wallet directory pom file because it seems to me since it is a very old code maven was not able to download some packages files ...\r\n\r\n(in wallet pom file) For the&#160;com.google.bitcoinj.* dependencies and for de.schildbach.wallet.integration.android.* I added the scope and the systemPath (I didn&#39;t understand why de.schildbach.wallet.integration.android.* generates errors being that the domain is in the same project, only in another module and bitcoinj I downloaded it in the project, compiled it in the appropriate version and added the jar in this project that I&#39;m trying to compile now). I set the , getting like this ....\r\n\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bitcoinj&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/../dependencies/bitcoinj-0.11-SNAPSHOT-sources.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.schildbach.wallet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;integration-android&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/../integration-android/target/integration-android-1.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n(in wallet pom file) I force maven to use 3.8.1 at plugins and profiles as well ...\r\n\r\n\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.jayway.maven.plugins.android.generation2&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.8.1&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;release&gt;true&lt;/release&gt;\r\n                            &lt;proguard&gt;\r\n                                &lt;skip&gt;false&lt;/skip&gt;\r\n                            &lt;/proguard&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;build&gt;\r\n        /* some other stuff */\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.jayway.maven.plugins.android.generation2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludeJarResources&gt;\r\n                        &lt;excludeJarResource&gt;.*\\.jar$&lt;/excludeJarResource&gt;\r\n                    &lt;/excludeJarResources&gt;\r\n                    &lt;sdk&gt;\r\n                        &lt;platform&gt;14&lt;/platform&gt;\r\n                    &lt;/sdk&gt;\r\n                    &lt;sign&gt;\r\n                        &lt;debug&gt;both&lt;/debug&gt;\r\n                    &lt;/sign&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nAnd finally (in the wallet project&#39;s pom file) I added the maven repository url....\r\n\r\n\r\n```xml\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n```\r\n\r\nAs the error dump is very large, I ended up creating a gist to receive the files involved in the issue, it is at https://gist.github.com/rstriquer/7ccf9fe8bc83c1b507a5b6a49b664c07\r\n\r\nIn the gist I also added a ``make.sh`` script used to build the project (as I have many languages and development environment versions I use it to make a script to remember, in case I come to review the study in a few years... .)\r\n\r\nAnd as I mentioned, the output generated by my environment when using java &quot;8.0.265-open&quot; and maven &quot;3.9.0&quot;:","title":"Building old schildbach wallet (android bitcoin-wallet) version on a modern java/maven environment","body":"<p>The problem I'm currently facing is that as far as I understand, for example, the com.google.bitcoin.core package belongs to is the same as the com.google.bitcoinj.core package but this one is not being accessible or understanding that both are the same package and thus generating the error below (among several similar ones) when building the apk in phase 3/4 of the build. Let me zoom in on the details....</p>\n<p>I'm wanting to remove the rust from java and decided to study something different I took the opportunity to look for something challenging and that would make me learn a little about bitcoin as well, I ended up at an &quot;impasse&quot; ...</p>\n<p>PS: I imagine some will want to add recommendations like &quot;for mobile development nowadays we use kotlin&quot; or &quot;there is another bitcoin/java project better for that&quot; ... and I thank you in advance for such recommendation (I'll keep my track on this project still it is nice to know alternatives) and I'd be happy if you add it as a comment to the thread (and not as an answer to the question). So in addition to being able to talk, it is possible it will be something useful for other people studying such stack. Thanks again. So ...</p>\n<p>I'm trying to compile one <strong>old version of schildbach wallet</strong> (if I'm not mistaken it was the first version of bitcoin wallet for android. It's an open-source project that seems to be very interesting and I decided to use it for my studies). AFAIK this 3.31 version is wide used to build a few other wallets to manage other coins. Don't ask me exactly why, but it seems to me this is one of the most used versions.</p>\n<p>I already managed to build the necessary JAR files, but when the environment builds the APK file (so that I can use it in the android simulator) it ends up not being able to generate the file. my guess is there is something missing on my sistem or it does not exists animore and should be changed on pom file as an workaround. Could someone please help me and point me out what I'm doing wrong?</p>\n<p>PS: For knowledge, I've been working with vanilla java for a long time, but I don't have much experience even in Android development. My experience in mobile is mobile qt, golang, webapps and recently what I most used java was with spring.</p>\n<p>And in case you are wandering ... yes I set a self signed truststore ssl certificate with keytool by now.</p>\n<p>To build the environment (considering that it is a 2014 version) I ended up installing several <strong>SDK Tools versions</strong> in Android Studio, including those related to version 4 of Android Studio (which was the version used at the time and settled in maven).</p>\n<p>I'm also using <strong>Java version</strong> 8 (from sdkman, the oldest I was able to use was &quot;8.0.265-open&quot; because it had already been installed on another computer, so I managed to bring it to the current machine, that is, I didn't install it it through &quot;sdk install java&quot;, I just rsynced from another machine and AFAIK it's basically the same that &quot;sdk install&quot; does). I made some attempts with java 6-zulu, 7-zulu, 16-open, 20-amzn and 22-open, but nothing encouraging, so I decided to go with 8.</p>\n<p>As for <strong>maven version</strong>, I tried with &quot;3.2.2 &quot; and &quot;3.9.1&quot;, but the results are the same as the version &quot;3.8.1&quot; I'm currently using.</p>\n<p>Here we have a link to the project version I am using right on github <a href=\"https://github.com/schildbach/bitcoin-wallet/tree/112b477201699e8389625add27c6ab8ed1353d22\" rel=\"nofollow noreferrer\">https://github.com/schildbach/bitcoin-wallet/tree/112b477201699e8389625add27c6ab8ed1353d22</a></p>\n<p>I made some changes in the wallet directory pom file because it seems to me since it is a very old code maven was not able to download some packages files ...</p>\n<p>(in wallet pom file) For the com.google.bitcoinj.* dependencies and for de.schildbach.wallet.integration.android.* I added the scope and the systemPath (I didn't understand why de.schildbach.wallet.integration.android.* generates errors being that the domain is in the same project, only in another module and bitcoinj I downloaded it in the project, compiled it in the appropriate version and added the jar in this project that I'm trying to compile now). I set the , getting like this ....</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google&lt;/groupId&gt;\n            &lt;artifactId&gt;bitcoinj&lt;/artifactId&gt;\n            &lt;version&gt;0.11&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/../dependencies/bitcoinj-0.11-SNAPSHOT-sources.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.schildbach.wallet&lt;/groupId&gt;\n            &lt;artifactId&gt;integration-android&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/../integration-android/target/integration-android-1.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>(in wallet pom file) I force maven to use 3.8.1 at plugins and profiles as well ...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.jayway.maven.plugins.android.generation2&lt;/groupId&gt;\n                        &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;release&gt;true&lt;/release&gt;\n                            &lt;proguard&gt;\n                                &lt;skip&gt;false&lt;/skip&gt;\n                            &lt;/proguard&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;build&gt;\n        /* some other stuff */\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.jayway.maven.plugins.android.generation2&lt;/groupId&gt;\n                &lt;artifactId&gt;android-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludeJarResources&gt;\n                        &lt;excludeJarResource&gt;.*\\.jar$&lt;/excludeJarResource&gt;\n                    &lt;/excludeJarResources&gt;\n                    &lt;sdk&gt;\n                        &lt;platform&gt;14&lt;/platform&gt;\n                    &lt;/sdk&gt;\n                    &lt;sign&gt;\n                        &lt;debug&gt;both&lt;/debug&gt;\n                    &lt;/sign&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>And finally (in the wallet project's pom file) I added the maven repository url....</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>As the error dump is very large, I ended up creating a gist to receive the files involved in the issue, it is at <a href=\"https://gist.github.com/rstriquer/7ccf9fe8bc83c1b507a5b6a49b664c07\" rel=\"nofollow noreferrer\">https://gist.github.com/rstriquer/7ccf9fe8bc83c1b507a5b6a49b664c07</a></p>\n<p>In the gist I also added a <code>make.sh</code> script used to build the project (as I have many languages and development environment versions I use it to make a script to remember, in case I come to review the study in a few years... .)</p>\n<p>And as I mentioned, the output generated by my environment when using java &quot;8.0.265-open&quot; and maven &quot;3.9.0&quot;:</p>\n"},{"tags":["java","eclipse","maven","jetty","maven-jetty-plugin"],"answers":[{"tags":[],"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1428559874,"creation_date":1428337220,"answer_id":29475147,"question_id":28914233,"body_markdown":"This is what I use for my projects to speed up Jetty startup just from the maven `pom.xml` file (no external configuration is required):\r\n\r\n            &lt;plugin&gt;  \r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webApp&gt;\r\n\r\n                        &lt;!-- no need to scan anything as we&#39;re using servlet 2.5 and moreover, we&#39;re not using ServletContainerInitializer(s) --&gt;\r\n                        &lt;!-- for more relevant information regarding scanning of classes refer to https://java.net/jira/browse/SERVLET_SPEC-36 --&gt;\r\n                        &lt;webInfIncludeJarPattern&gt;^$&lt;/webInfIncludeJarPattern&gt;\r\n                        &lt;containerIncludeJarPattern&gt;^$&lt;/containerIncludeJarPattern&gt;\r\n                        &lt;!--&lt;webInfIncludeJarPattern&gt;.*/spring-[^/]*\\.jar$|.*/.*jsp-api-[^/]\\.jar$|./.*jsp-[^/]\\.jar$|./.*taglibs[^/]*\\.jar$&lt;/webInfIncludeJarPattern&gt;--&gt;\r\n                    &lt;/webApp&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\nUse any regex of your choice (if you&#39;re using servlet initializers). Note that `^$` excludes everything.","title":"limit jetty scanning in maven plugin","body":"<p>This is what I use for my projects to speed up Jetty startup just from the maven <code>pom.xml</code> file (no external configuration is required):</p>\n\n<pre><code>        &lt;plugin&gt;  \n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;webApp&gt;\n\n                    &lt;!-- no need to scan anything as we're using servlet 2.5 and moreover, we're not using ServletContainerInitializer(s) --&gt;\n                    &lt;!-- for more relevant information regarding scanning of classes refer to https://java.net/jira/browse/SERVLET_SPEC-36 --&gt;\n                    &lt;webInfIncludeJarPattern&gt;^$&lt;/webInfIncludeJarPattern&gt;\n                    &lt;containerIncludeJarPattern&gt;^$&lt;/containerIncludeJarPattern&gt;\n                    &lt;!--&lt;webInfIncludeJarPattern&gt;.*/spring-[^/]*\\.jar$|.*/.*jsp-api-[^/]\\.jar$|./.*jsp-[^/]\\.jar$|./.*taglibs[^/]*\\.jar$&lt;/webInfIncludeJarPattern&gt;--&gt;\n                &lt;/webApp&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Use any regex of your choice (if you're using servlet initializers). Note that <code>^$</code> excludes everything.</p>\n"}],"owner":{"account_id":2827775,"reputation":2751,"user_id":2430030,"accept_rate":86,"display_name":"ljgw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":29475147,"answer_count":1,"score":10,"last_activity_date":1689616483,"creation_date":1425726494,"question_id":28914233,"body_markdown":"I&#39;m having problems getting a webapp to start quickly in using the maven jetty plugin in eclipse. I&#39;m using the jetty:run goal.\r\n\r\nAfter turning on the logging the problem seems to be that jetty scans all the jars in my webapp for web app configuration. Just including a dependency to `jersey-media-moxy` causes jetty to add 48 seconds to its start up time.\r\n\r\nHow do I limit this scanning in the jetty-maven-plugin? I&#39;ve found https://stackoverflow.com/questions/26927939/jetty-startup-delay-due-to-scanning but before I make some external jetty configuration and include this is the maven configuration, I want to make sure that there isn&#39;t a more straightforward option.\r\n\r\nhttp://eclipse.dev/jetty/documentation/current/quickstart-webapp.html looks promising, but I&#39;m unsure how to proceed (as this doesn&#39;t mention the maven plugin either).\r\n\r\nmy pom.xml file is included below:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.my-app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;my-app&lt;/name&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;my-app&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;9.2.9.v20150224&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;war&gt;${project.basedir}/target/my-app.war&lt;/war&gt;\r\n    \t\t\t\t\t&lt;stopPort&gt;8088&lt;/stopPort&gt;\r\n    \t\t\t\t\t&lt;stopKey&gt;foo&lt;/stopKey&gt;\r\n    \t\t\t\t\t&lt;stopWait&gt;10&lt;/stopWait&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;!-- artifactId&gt;jersey-container-servlet-core&lt;/artifactId --&gt;\r\n    \t\t\t&lt;!-- use the following artifactId if you don&#39;t need servlet 2.x compatibility --&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- uncomment this to get JSON support --&gt;\r\n    \t\t&lt;!--  --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- --&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n ","title":"limit jetty scanning in maven plugin","body":"<p>I'm having problems getting a webapp to start quickly in using the maven jetty plugin in eclipse. I'm using the jetty:run goal.</p>\n<p>After turning on the logging the problem seems to be that jetty scans all the jars in my webapp for web app configuration. Just including a dependency to <code>jersey-media-moxy</code> causes jetty to add 48 seconds to its start up time.</p>\n<p>How do I limit this scanning in the jetty-maven-plugin? I've found <a href=\"https://stackoverflow.com/questions/26927939/jetty-startup-delay-due-to-scanning\">Jetty startup delay due to scanning</a> but before I make some external jetty configuration and include this is the maven configuration, I want to make sure that there isn't a more straightforward option.</p>\n<p><a href=\"http://eclipse.dev/jetty/documentation/current/quickstart-webapp.html\" rel=\"nofollow noreferrer\">http://eclipse.dev/jetty/documentation/current/quickstart-webapp.html</a> looks promising, but I'm unsure how to proceed (as this doesn't mention the maven plugin either).</p>\n<p>my pom.xml file is included below:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.my-app&lt;/groupId&gt;\n    &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-app&lt;/name&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;my-app&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.2.9.v20150224&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;war&gt;${project.basedir}/target/my-app.war&lt;/war&gt;\n                    &lt;stopPort&gt;8088&lt;/stopPort&gt;\n                    &lt;stopKey&gt;foo&lt;/stopKey&gt;\n                    &lt;stopWait&gt;10&lt;/stopWait&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;!-- artifactId&gt;jersey-container-servlet-core&lt;/artifactId --&gt;\n            &lt;!-- use the following artifactId if you don't need servlet 2.x compatibility --&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support --&gt;\n        &lt;!--  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- --&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","complex-event-processing","siddhi"],"owner":{"account_id":27743237,"reputation":21,"user_id":21179239,"display_name":"Oğuzhan &#214;zt&#252;rk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689615921,"creation_date":1689596006,"question_id":76704352,"body_markdown":"Recently I started study on siddhi and I want to get statistics from my siddhi runner. I deployed the example from query guide but nothing happened. Here what I used for siddhi\r\n\r\n(I copied from here https://siddhi.io/en/v5.1/docs/query-guide/#statistics) :\r\n\r\n```\r\n@App:name(&#39;TestMetrics&#39;)\r\n@App:Statistics(reporter = &#39;console&#39;, interval=&#39;120&#39;)\r\ndefine stream TestStream (message string);\r\n@info(name=&#39;logQuery&#39;)\r\nfrom TestStream#log(&quot;Message:&quot;)\r\ninsert into TempStream;\r\n```\r\n\r\nand this is what&#39;s showed up on console :\r\n\r\n```\r\n[2023-07-17 15:00:09,819]  INFO {io.siddhi.distribution.core.internal.util.SiddhiAppFilesystemInvoker} - Siddhi App: TestMetrics saved in the filesystem\r\n[2023-07-17 15:00:13,465]  INFO {io.siddhi.distribution.core.internal.StreamProcessorService} - Siddhi App TestMetrics deployed successfully\r\n```\r\n\r\nI have tried to change interval and includes for metrics but nothing solved my problem. Because of I  copied code from query guide I wonder where is the problem. \r\n\r\nUPDATE =&gt; I can get those statistics at tooling but still not in the runner. What&#39;s the differences between them","title":"I Can&#39;t Get Statistics From Siddhi Query Guide Example","body":"<p>Recently I started study on siddhi and I want to get statistics from my siddhi runner. I deployed the example from query guide but nothing happened. Here what I used for siddhi</p>\n<p>(I copied from here <a href=\"https://siddhi.io/en/v5.1/docs/query-guide/#statistics\" rel=\"nofollow noreferrer\">https://siddhi.io/en/v5.1/docs/query-guide/#statistics</a>) :</p>\n<pre><code>@App:name('TestMetrics')\n@App:Statistics(reporter = 'console', interval='120')\ndefine stream TestStream (message string);\n@info(name='logQuery')\nfrom TestStream#log(&quot;Message:&quot;)\ninsert into TempStream;\n</code></pre>\n<p>and this is what's showed up on console :</p>\n<pre><code>[2023-07-17 15:00:09,819]  INFO {io.siddhi.distribution.core.internal.util.SiddhiAppFilesystemInvoker} - Siddhi App: TestMetrics saved in the filesystem\n[2023-07-17 15:00:13,465]  INFO {io.siddhi.distribution.core.internal.StreamProcessorService} - Siddhi App TestMetrics deployed successfully\n</code></pre>\n<p>I have tried to change interval and includes for metrics but nothing solved my problem. Because of I  copied code from query guide I wonder where is the problem.</p>\n<p>UPDATE =&gt; I can get those statistics at tooling but still not in the runner. What's the differences between them</p>\n"},{"tags":["java","html","validation","nuxeo"],"comments":[{"owner":{"account_id":186155,"reputation":12130,"user_id":423316,"accept_rate":83,"display_name":"zod"},"score":0,"creation_date":1394226696,"post_id":22260704,"comment_id":33811613,"body_markdown":"some regex , but not perfect","body":"some regex , but not perfect"},{"owner":{"account_id":163804,"reputation":4908,"user_id":386178,"accept_rate":97,"display_name":"Brian S"},"score":1,"creation_date":1394226822,"post_id":22260704,"comment_id":33811677,"body_markdown":"HTML is not a regular language, so regex is the wrong answer to HTML validation.","body":"HTML is not a regular language, so regex is the wrong answer to HTML validation."},{"owner":{"account_id":1212714,"reputation":5390,"user_id":1180966,"accept_rate":90,"display_name":"Mike B"},"score":0,"creation_date":1394227498,"post_id":22260704,"comment_id":33812045,"body_markdown":"possible duplicate of [Are there any java libraries for validating user supplied HTML, on the server side?](http://stackoverflow.com/questions/2336353/are-there-any-java-libraries-for-validating-user-supplied-html-on-the-server-si)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2336353/are-there-any-java-libraries-for-validating-user-supplied-html-on-the-server-si\">Are there any java libraries for validating user supplied HTML, on the server side?</a>"}],"answers":[{"tags":[],"owner":{"account_id":60655,"reputation":5127,"user_id":181136,"accept_rate":79,"display_name":"srini.venigalla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394228568,"creation_date":1394228568,"answer_id":22261235,"question_id":22260704,"body_markdown":"If your source is in XHTML format, you might be able to use XHTML schema to validate using Xerces or any standard dom parser. Isn&#39;t this the way the browsers validate the XHTML document?","title":"How to validate HTML input using Java/Nuxeo","body":"<p>If your source is in XHTML format, you might be able to use XHTML schema to validate using Xerces or any standard dom parser. Isn't this the way the browsers validate the XHTML document?</p>\n"}],"owner":{"account_id":186155,"reputation":12130,"user_id":423316,"accept_rate":83,"display_name":"zod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1264,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689615900,"creation_date":1394226542,"question_id":22260704,"body_markdown":"Are HTML parsers the only way to validate whether input is valid HTML? I am using Java and Nuxeo.","title":"How to validate HTML input using Java/Nuxeo","body":"<p>Are HTML parsers the only way to validate whether input is valid HTML? I am using Java and Nuxeo.</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689589541,"post_id":76701784,"comment_id":135229855,"body_markdown":"I don&#39;t know what you are doing or the cause of the issue you have.  For the warnings missing `requires transitive`, you could read the [drinking explanation](https://stackoverflow.com/questions/46502453/whats-the-difference-between-requires-and-requires-transitive-statements-in-jav) though I am guessing the additional info won&#39;t help you solve your problem.","body":"I don&#39;t know what you are doing or the cause of the issue you have.  For the warnings missing <code>requires transitive</code>, you could read the <a href=\"https://stackoverflow.com/questions/46502453/whats-the-difference-between-requires-and-requires-transitive-statements-in-jav\">drinking explanation</a> though I am guessing the additional info won&#39;t help you solve your problem."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689603940,"post_id":76701784,"comment_id":135233120,"body_markdown":"I am not sure what the issue is. but I would use the latest `maven-compiler-plugin` and  `javafx-maven-plugin`. I am not sure if this will solve your issue.","body":"I am not sure what the issue is. but I would use the latest <code>maven-compiler-plugin</code> and  <code>javafx-maven-plugin</code>. I am not sure if this will solve your issue."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689615599,"post_id":76701784,"comment_id":135235648,"body_markdown":"I am guessing that the requires transitive messages in your screenshot are compiler warnings, not actual errors.  Probably, the compiler is warning that a type in a required module in your project won&#39;t be available automatically to users of your project.  If your project is to build a stand-alone application and not a library to be used by others, the requires transitive warnings probably do not matter.  As an aside, it is better to include the compiler output as text formatted as code rather than as a screenshot.","body":"I am guessing that the requires transitive messages in your screenshot are compiler warnings, not actual errors.  Probably, the compiler is warning that a type in a required module in your project won&#39;t be available automatically to users of your project.  If your project is to build a stand-alone application and not a library to be used by others, the requires transitive warnings probably do not matter.  As an aside, it is better to include the compiler output as text formatted as code rather than as a screenshot."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689617598,"post_id":76701784,"comment_id":135235996,"body_markdown":"As noted by @jewelsea, that is a warning, not an error. Though I&#39;m not sure if it&#39;s an IDE inspection or a compiler warning (specifically ECJ, not javac). Anyway, that warning is saying you have a type exposed by a public member of an &quot;exported&quot; package, but the type comes from an external module. For example, you have `Stage` as a parameter of the required `start` method. That class comes from `javafx.graphics`. And since you must `exports` the application&#39;s package to at least that module, you are &quot;exporting&quot; an API where consumers would transitively require the `javafx.graphics` module.","body":"As noted by @jewelsea, that is a warning, not an error. Though I&#39;m not sure if it&#39;s an IDE inspection or a compiler warning (specifically ECJ, not javac). Anyway, that warning is saying you have a type exposed by a public member of an &quot;exported&quot; package, but the type comes from an external module. For example, you have <code>Stage</code> as a parameter of the required <code>start</code> method. That class comes from <code>javafx.graphics</code>. And since you must <code>exports</code> the application&#39;s package to at least that module, you are &quot;exporting&quot; an API where consumers would transitively require the <code>javafx.graphics</code> module."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689617800,"post_id":76701784,"comment_id":135236041,"body_markdown":"The &quot;fix&quot; is to have `requires transitive javafx.graphics` instead of just `requires javafx.graphics` (or in addition to e.g., `requires javafx.controls` if that&#39;s all you have; the controls module transitively requires the graphics module, hence why you don&#39;t need to explicitly require both to use types from both in _your own module_). Though the more appropriate fix is to have a qualified exports: `exports &lt;package&gt; to javafx.graphics`. But I don&#39;t know if that will get rid of the warning (it doesn&#39;t, or at least hasn&#39;t, in VS Code), even though it makes the warning is meaningless.","body":"The &quot;fix&quot; is to have <code>requires transitive javafx.graphics</code> instead of just <code>requires javafx.graphics</code> (or in addition to e.g., <code>requires javafx.controls</code> if that&#39;s all you have; the controls module transitively requires the graphics module, hence why you don&#39;t need to explicitly require both to use types from both in <i>your own module</i>). Though the more appropriate fix is to have a qualified exports: <code>exports &lt;package&gt; to javafx.graphics</code>. But I don&#39;t know if that will get rid of the warning (it doesn&#39;t, or at least hasn&#39;t, in VS Code), even though it makes the warning is meaningless."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689620836,"post_id":76701784,"comment_id":135236737,"body_markdown":"In your question, you note that the app *&quot;does not works as it should&quot;* -&gt; That is not specific enough for somebody to help.  The nature of the failure is not relayed, no stack trace or exception is provided, nor is there a description of the expected behavior and how the actual behavior differs.  You can edit the question to improve it.","body":"In your question, you note that the app <i>&quot;does not works as it should&quot;</i> -&gt; That is not specific enough for somebody to help.  The nature of the failure is not relayed, no stack trace or exception is provided, nor is there a description of the expected behavior and how the actual behavior differs.  You can edit the question to improve it."},{"owner":{"account_id":27691360,"reputation":13,"user_id":21137969,"display_name":"Crynda"},"score":0,"creation_date":1689652681,"post_id":76701784,"comment_id":135240281,"body_markdown":"Small update, I reviewed the code a bit and now it works, so that&#39;s how they comment, they seem to be just warnings, but I&#39;m a little worried if it has any repercussions on users who use the program in the future","body":"Small update, I reviewed the code a bit and now it works, so that&#39;s how they comment, they seem to be just warnings, but I&#39;m a little worried if it has any repercussions on users who use the program in the future"}],"owner":{"account_id":27691360,"reputation":13,"user_id":21137969,"display_name":"Crynda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689615243,"creation_date":1689573027,"question_id":76701784,"body_markdown":"When creating a new javafx project provided by maven, I get some errors in the console that cause the project to malfunction\r\n\r\nI started writing the project and modifying a bit the one that is generated by default, but when calling some elements such as nodes and some events (in the case of one of the scene controllers), it generates errors to the console, the application opens, but does not it works as it should, I really don&#39;t know what to do, this project is the same as one that I had in eclipse ide, where it worked normally, but here when writing basically the same bop, the errors are generated, import the same project that I have in eclipse to vscode and in that case no error is generated and it works in the same way, I really don&#39;t know if it has to do with configuring the buildpath of the maven project in vscode, I don&#39;t know how to do it I&#39;m new to vscode, I remember configuring the buildpath and some things in eclipse, but I have no idea how to do it here, if anyone has any suggestions or something I would appreciate it.\r\n\r\nThese are the errors that occur, and also the configuration of the project I think, it seems curious to me that the section for the javafx library does not appear\r\n\r\n[![exception messages][1]][1]\r\n\r\nAnd these are the main archive:\r\n\r\n\r\n```\r\npackage com.scenes;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    private static Scene scene;\r\n\r\n    @Override//creamos aqui \r\n    public void start(Stage stage) throws IOException {\r\n        scene = new Scene(loadFXML(&quot;menu&quot;));\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    static void setRoot(String fxml) throws IOException {\r\n        scene.setRoot(loadFXML(fxml));\r\n    }\r\n\r\n    private static Parent loadFXML(String fxml) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\r\n        return fxmlLoader.load();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the controller scene:\r\n\r\n\r\n```\r\npackage com.scenes;\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.animation.TranslateTransition;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Node;//Deberemos importar un nodo para usarlo despues\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\n\r\npublic class MenuCont implements Initializable{\r\n\t\r\n\tprivate Stage stage;\r\n\tprivate Scene scene;\r\n\tprivate Parent root;\r\n\t\r\n\t@FXML\r\n\tprivate Button Configuration;\r\n\t@FXML\r\n\tprivate StackPane StPane;\r\n\t@FXML\r\n\tprivate AnchorPane AnchorPane;\r\n\t\r\n\tpublic void SwitchToConfig(ActionEvent event) throws IOException {\r\n\t\troot = FXMLLoader.load(getClass().getResource(&quot;menu.fxml&quot;));\r\n\t\tstage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\t\r\n\tpublic void switchToScene2(ActionEvent event) throws IOException {\r\n\t\troot = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;));\r\n\t\tstage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\t\r\n\t\r\n\t@FXML //ni puta idea de por que iba esta anotacion pero sin esto no lo reconoce xdd\r\n\tprivate void loadSecond(ActionEvent event) throws IOException {//funciona? si pero no ejecuta la animacion por alguna razon, asi que eso ver que es y tambien probar con el codigo de movimiento del nerdo del video que ando viendo xd\r\n\t\t//correcion, la mierda no carga nada del la otra escena.. wtf\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;)); \r\n\t\tScene scene = Configuration.getScene();\r\n\t\t\r\n\t\troot.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \r\n\t\tStPane.getChildren().add(root);\r\n\t\t\r\n\t\tTranslateTransition translate = new TranslateTransition();\r\n\t\ttranslate.setNode(root);\r\n\t\ttranslate.setDuration(Duration.millis(150));\r\n\t\ttranslate.setToY(0);\r\n\t\ttranslate.setOnFinished(event1 -&gt; {\r\n\t\t\tStPane.getChildren().remove(AnchorPane);//Esto se ejecuta al finalizar la animacion\r\n\t\t});\r\n\t\t\r\n\t\tTranslateTransition translat2 = new TranslateTransition();\r\n\t\ttranslat2.setNode(AnchorPane);\r\n\t\ttranslat2.setDuration(Duration.millis(200));\r\n\t\ttranslat2.setToY(-500);\r\n\r\n\t\t\r\n\t\ttranslate.playFromStart();\r\n\t\ttranslat2.playFromStart();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnd finally, here is the maven project pom file:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.scenes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;periodic-table-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.scenes.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P2Q7o.jpg","title":"I have javafx module problems","body":"<p>When creating a new javafx project provided by maven, I get some errors in the console that cause the project to malfunction</p>\n<p>I started writing the project and modifying a bit the one that is generated by default, but when calling some elements such as nodes and some events (in the case of one of the scene controllers), it generates errors to the console, the application opens, but does not it works as it should, I really don't know what to do, this project is the same as one that I had in eclipse ide, where it worked normally, but here when writing basically the same bop, the errors are generated, import the same project that I have in eclipse to vscode and in that case no error is generated and it works in the same way, I really don't know if it has to do with configuring the buildpath of the maven project in vscode, I don't know how to do it I'm new to vscode, I remember configuring the buildpath and some things in eclipse, but I have no idea how to do it here, if anyone has any suggestions or something I would appreciate it.</p>\n<p>These are the errors that occur, and also the configuration of the project I think, it seems curious to me that the section for the javafx library does not appear</p>\n<p><a href=\"https://i.stack.imgur.com/P2Q7o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2Q7o.jpg\" alt=\"exception messages\" /></a></p>\n<p>And these are the main archive:</p>\n<pre><code>package com.scenes;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    private static Scene scene;\n\n    @Override//creamos aqui \n    public void start(Stage stage) throws IOException {\n        scene = new Scene(loadFXML(&quot;menu&quot;));\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    static void setRoot(String fxml) throws IOException {\n        scene.setRoot(loadFXML(fxml));\n    }\n\n    private static Parent loadFXML(String fxml) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\n        return fxmlLoader.load();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p>And the controller scene:</p>\n<pre><code>package com.scenes;\n\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.animation.TranslateTransition;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Node;//Deberemos importar un nodo para usarlo despues\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\n\npublic class MenuCont implements Initializable{\n    \n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    \n    @FXML\n    private Button Configuration;\n    @FXML\n    private StackPane StPane;\n    @FXML\n    private AnchorPane AnchorPane;\n    \n    public void SwitchToConfig(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;menu.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public void switchToScene2(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    \n    @FXML //ni puta idea de por que iba esta anotacion pero sin esto no lo reconoce xdd\n    private void loadSecond(ActionEvent event) throws IOException {//funciona? si pero no ejecuta la animacion por alguna razon, asi que eso ver que es y tambien probar con el codigo de movimiento del nerdo del video que ando viendo xd\n        //correcion, la mierda no carga nada del la otra escena.. wtf\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;config.fxml&quot;)); \n        Scene scene = Configuration.getScene();\n        \n        root.translateYProperty().set(scene.getHeight()); //aqui movemos el root (escena a cargar), en este caso la altura \n        StPane.getChildren().add(root);\n        \n        TranslateTransition translate = new TranslateTransition();\n        translate.setNode(root);\n        translate.setDuration(Duration.millis(150));\n        translate.setToY(0);\n        translate.setOnFinished(event1 -&gt; {\n            StPane.getChildren().remove(AnchorPane);//Esto se ejecuta al finalizar la animacion\n        });\n        \n        TranslateTransition translat2 = new TranslateTransition();\n        translat2.setNode(AnchorPane);\n        translat2.setDuration(Duration.millis(200));\n        translat2.setToY(-500);\n\n        \n        translate.playFromStart();\n        translat2.playFromStart();\n    }\n\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n<p>And finally, here is the maven project pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.scenes&lt;/groupId&gt;\n    &lt;artifactId&gt;periodic-table-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.scenes.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1689588230,"post_id":76703345,"comment_id":135229590,"body_markdown":"&quot;all possible kind of exception start to happen because of the need of from create to handle exceptions&quot; what do you mean? Can you please [edit] your question to clarify? What exceptions are you getting and at what point of the code?","body":"&quot;all possible kind of exception start to happen because of the need of from create to handle exceptions&quot; what do you mean? Can you please <a href=\"https://stackoverflow.com/posts/76703345/edit\">edit</a> your question to clarify? What exceptions are you getting and at what point of the code?"}],"owner":{"account_id":29032995,"reputation":21,"user_id":22239480,"display_name":"u.rnad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689594833,"answer_count":0,"score":1,"last_activity_date":1689615195,"creation_date":1689588009,"question_id":76703345,"body_markdown":"I have an *UI* that can ask for the path of the `excel sheets`. But the moment I give those paths to a workbook to open or do something with them, all possible kind of exception start to happen because of the need of from create to handle `exceptions`. \r\n\r\nI use the `APACHE POI library` and the `Commons IO library` because they are required to start the project. \r\n\r\nHere&#180;s some of the code I am talking about:\r\n\r\n```\r\n\r\n//Start Button\r\nJButton startButton = new JButton(&quot;Start&quot;);\r\nstartButton.setBounds(100, 150, buttonWidth, height);\r\npanel.add(startButton);\r\nstartButton.addActionListener(e -&gt; {\r\nString sourceFilePath = filePath1TextField.getText();\r\nString targetFilePath = filePath2TextField.getText();\r\nString savePath = savePathTextField.getText();\r\n\r\nWorkbook sourceWorkbook;\r\nWorkbook targetWorkbook;\r\n\r\ntry {\r\n//Pfade zu den Excel-Dokumenten festlegen\r\nsourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\r\ntargetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\r\n\r\n```\r\n\r\n\r\n\r\nIt should just `initialize the workbooks` and go on to the next steps because these are the only problems I have.\r\n\r\n,But instead of doing that all these exceptions get triggered for no reason at all, even though I `debbuged` all of the code for mistakes.\r\n\r\nIt only happens when I try to create a new workbook and at that point it just stops and doesn&#39;t compile the code below it. Here are the `exceptions:`\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\r\n\tat org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\r\n\tat \r\norg.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\r\n\tat GUI.lambda$new$4(GUI.java:100)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:262)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n   ... 41 more\r\n\r\n```","title":"Open Excel Workbook with java","body":"<p>I have an <em>UI</em> that can ask for the path of the <code>excel sheets</code>. But the moment I give those paths to a workbook to open or do something with them, all possible kind of exception start to happen because of the need of from create to handle <code>exceptions</code>.</p>\n<p>I use the <code>APACHE POI library</code> and the <code>Commons IO library</code> because they are required to start the project.</p>\n<p>Here´s some of the code I am talking about:</p>\n<pre><code>\n//Start Button\nJButton startButton = new JButton(&quot;Start&quot;);\nstartButton.setBounds(100, 150, buttonWidth, height);\npanel.add(startButton);\nstartButton.addActionListener(e -&gt; {\nString sourceFilePath = filePath1TextField.getText();\nString targetFilePath = filePath2TextField.getText();\nString savePath = savePathTextField.getText();\n\nWorkbook sourceWorkbook;\nWorkbook targetWorkbook;\n\ntry {\n//Pfade zu den Excel-Dokumenten festlegen\nsourceWorkbook = WorkbookFactory.create(new FileInputStream(sourceFilePath));\ntargetWorkbook = WorkbookFactory.create(new FileInputStream(targetFilePath));\n\n</code></pre>\n<p>It should just <code>initialize the workbooks</code> and go on to the next steps because these are the only problems I have.</p>\n<p>,But instead of doing that all these exceptions get triggered for no reason at all, even though I <code>debbuged</code> all of the code for mistakes.</p>\n<p>It only happens when I try to create a new workbook and at that point it just stops and doesn't compile the code below it. Here are the <code>exceptions:</code></p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager\n    at org.apache.poi.util.IOUtils.&lt;clinit&gt;(IOUtils.java:43)\n    at \norg.apache.poi.poifs.filesystem.FileMagic.valueOf(FileMagic.java:209)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:222)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:185)\n    at GUI.lambda$new$4(GUI.java:100)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:262)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n   ... 41 more\n\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689187609,"post_id":76672974,"comment_id":135179477,"body_markdown":"Also, have a look at [`ChartFx`](https://github.com/fair-acc/chart-fx). There is a chance it can do what you need.","body":"Also, have a look at <a href=\"https://github.com/fair-acc/chart-fx\" rel=\"nofollow noreferrer\"><code>ChartFx</code></a>. There is a chance it can do what you need."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689187752,"post_id":76672974,"comment_id":135179512,"body_markdown":"https://github.com/HanSolo/charts","body":"<a href=\"https://github.com/HanSolo/charts\" rel=\"nofollow noreferrer\">github.com/HanSolo/charts</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689614802,"creation_date":1689248399,"answer_id":76678976,"question_id":76672974,"body_markdown":"An example is presented here, it won&#39;t do exactly what you want, but it should be adaptable to your case, as I understand it.\r\n\r\nAs you move the mouse around the chart, the crosshairs track the current mouse position, and the closest data node is highlighted.\r\n\r\n[![nearest point app][1]][1]\r\n\r\nThe app places the lines for a crosshair in a Pane above the chart.  When the mouse moves, a comparator is invoked which determines the nearest node to the current crosshair position, which is then highlighted.  When the mouse leaves the chart area, the crosshairs are removed and the highlight is removed from the highlighted node.\r\n\r\nTo calculate distances accurately, all coordinates need to be translated to a common co-ordinate system.  In the example, I translate to scene coordinates and use those.\r\n\r\n*NearestPointApp.java*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.XYChart;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class NearestPointApp extends Application {\r\n    \r\n        @Override public void start(Stage stage) {\r\n            final InteractiveChartPane chartPane = new InteractiveChartPane(\r\n                    createSeries()\r\n            );\r\n    \r\n            Scene scene = new Scene(chartPane);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            chartPane.enableInteractivityInScene(scene);\r\n        }\r\n    \r\n        private static XYChart.Series&lt;Number, Number&gt; createSeries() {\r\n            XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\r\n    \r\n            series.getData().add(new XYChart.Data&lt;&gt;(1, 23));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(2, 14));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(3, 15));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(4, 24));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(5, 34));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(6, 36));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(7, 22));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(8, 45));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(9, 43));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(10, 17));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(11, 29));\r\n            series.getData().add(new XYChart.Data&lt;&gt;(12, 25));\r\n    \r\n            return series;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n*InteractiveChartPane.java*\r\n\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.scene.Cursor;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    import javafx.scene.chart.XYChart;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.robot.Robot;\r\n    import javafx.scene.shape.Line;\r\n    \r\n    public class InteractiveChartPane extends Pane {\r\n        // crosshair display in chart.\r\n        private final Line horizontal = createLine();\r\n        private final Line vertical = createLine();\r\n    \r\n        private final HighlightManager highlightManager = new HighlightManager();\r\n    \r\n        private final LineChart&lt;Number, Number&gt; chart = new LineChart&lt;&gt;(\r\n                makeSimpleAxis(), makeSimpleAxis()\r\n        );\r\n    \r\n        public InteractiveChartPane(XYChart.Series&lt;Number, Number&gt; series) {\r\n            chart.getData().add(series);\r\n            chart.setLegendVisible(false);\r\n    \r\n            getChildren().setAll(\r\n                    chart,\r\n                    horizontal,\r\n                    vertical\r\n            );\r\n        }\r\n    \r\n        public void enableInteractivityInScene(Scene scene) {\r\n            // size chart to scene,\r\n            // not sure why this doesn&#39;t happen automatically,\r\n            // but probably the charts have some\r\n            // default preferred size they like to stick to.\r\n            chart.prefWidthProperty().bind(scene.widthProperty());\r\n            chart.prefHeightProperty().bind(scene.heightProperty());\r\n    \r\n            // hide the cursor when in the chart\r\n            // as the crosshair overlay will indicate mouse position.\r\n            Node chartArea = chart.lookup(&quot;.chart-plot-background&quot;);\r\n            chartArea.setCursor(Cursor.NONE);\r\n    \r\n            // show crosshair, highlight chart and closest node\r\n            // when the mouse is in the chart.\r\n            chart.setOnMouseMoved(e -&gt;\r\n                    handleMovementInChart(\r\n                            new Point2D(e.getSceneX(), e.getSceneY())\r\n                    )\r\n            );\r\n    \r\n            // find the initial mouse position and handle chart highlighting for it.\r\n            Point2D mousePositionInScene = findCurrentMousePositionInScene(chart);\r\n            if (mousePositionInScene != null) {\r\n                handleMovementInChart(mousePositionInScene);\r\n            }\r\n        }\r\n    \r\n        private void handleMovementInChart(\r\n                Point2D mousePositionInScene\r\n        ) {\r\n            Scene scene = getScene();\r\n            XYChart.Series&lt;Number, Number&gt; series = chart.getData().get(0);\r\n    \r\n            Node chartArea = lookup(&quot;.chart-plot-background&quot;);\r\n            Bounds chartBoundsInScene = chartArea.localToScene(chartArea.getBoundsInLocal());\r\n    \r\n            if (chartBoundsInScene.contains(mousePositionInScene)) {\r\n                scene.setCursor(Cursor.NONE);\r\n    \r\n                chartArea.setStyle(&quot;-fx-background-color: azure;&quot;);\r\n    \r\n                horizontal.setVisible(true);\r\n                vertical.setVisible(true);\r\n    \r\n                horizontal.setStartX(chartBoundsInScene.getMinX());\r\n                horizontal.setEndX(chartBoundsInScene.getMaxX());\r\n                horizontal.setStartY(mousePositionInScene.getY());\r\n                horizontal.setEndY(mousePositionInScene.getY());\r\n    \r\n                vertical.setStartX(mousePositionInScene.getX());\r\n                vertical.setEndX(mousePositionInScene.getX());\r\n                vertical.setStartY(chartBoundsInScene.getMinY());\r\n                vertical.setEndY(chartBoundsInScene.getMaxY());\r\n    \r\n                // highlight the closest data node to the mouse.\r\n                series.getData().stream()\r\n                        .min(new DistanceComparator(mousePositionInScene))\r\n                        .ifPresent(closestData -&gt;\r\n                                highlightManager.setHighlightedNode(\r\n                                        closestData.getNode()\r\n                                )\r\n                        );\r\n            } else { // mouse is not in the chart area, remove interactive guides.\r\n                scene.setCursor(Cursor.DEFAULT);\r\n                chartArea.setStyle(null);\r\n                horizontal.setVisible(false);\r\n                vertical.setVisible(false);\r\n                highlightManager.setHighlightedNode(null);\r\n            }\r\n        }\r\n    \r\n        private static Point2D findCurrentMousePositionInScene(LineChart&lt;Number, Number&gt; chart) {\r\n            Robot robot = new Robot();\r\n    \r\n            Point2D mousePositionInScreen = robot.getMousePosition();\r\n            Point2D mousePositionInLocal = chart.screenToLocal(mousePositionInScreen);\r\n            if (mousePositionInLocal == null) {\r\n                return null;\r\n            }\r\n    \r\n            return chart.localToScene(mousePositionInLocal);\r\n        }\r\n    \r\n        private static Line createLine() {\r\n            Line horizontal = new Line();\r\n    \r\n            horizontal.setStroke(Color.PLUM);\r\n            horizontal.setMouseTransparent(true);\r\n    \r\n            return horizontal;\r\n        }\r\n    \r\n        private static NumberAxis makeSimpleAxis() {\r\n            final NumberAxis xAxis = new NumberAxis();\r\n    \r\n            xAxis.setTickMarkVisible(false);\r\n            xAxis.setTickLabelsVisible(false);\r\n            xAxis.setMinorTickCount(0);\r\n    \r\n            return xAxis;\r\n        }\r\n    }\r\n\r\n*DistanceComparator.java*\r\n\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.chart.XYChart;\r\n    \r\n    import java.util.Comparator;\r\n    \r\n    // compares data nodes based on the distances of their center from a pivot point in the scene.\r\n    public record DistanceComparator(Point2D pivotInScene) implements Comparator&lt;XYChart.Data&lt;Number, Number&gt;&gt; {\r\n        @Override\r\n        public int compare(XYChart.Data&lt;Number, Number&gt; o1, XYChart.Data&lt;Number, Number&gt; o2) {\r\n            Node o1Node = o1.getNode();\r\n            Node o2Node = o2.getNode();\r\n    \r\n            Bounds o1Bounds = o1Node.localToScene(o1Node.getBoundsInLocal());\r\n            Bounds o2Bounds = o2Node.localToScene(o2Node.getBoundsInLocal());\r\n    \r\n            Point2D o1Center = new Point2D(o1Bounds.getCenterX(), o1Bounds.getCenterY());\r\n            Point2D o2Center = new Point2D(o2Bounds.getCenterX(), o2Bounds.getCenterY());\r\n    \r\n            double o1Dist = pivotInScene.distance(o1Center);\r\n                double o2Dist = pivotInScene.distance(o2Center);\r\n    \r\n            return Double.compare(o1Dist, o2Dist);\r\n        }\r\n    }\r\n\r\n*HighlightManager.java*\r\n\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.effect.DropShadow;\r\n    import javafx.scene.effect.Effect;\r\n    import javafx.scene.effect.Glow;\r\n    import javafx.scene.paint.Color;\r\n    \r\n    // utility class for highlighting a node in a chart.\r\n    class HighlightManager {\r\n        // highlighted data node in chart.\r\n        private final ObjectProperty&lt;Node&gt; highlightedNode = new SimpleObjectProperty&lt;&gt;();\r\n        private final Effect highlightEffect = createHighlightEffect();\r\n    \r\n        public HighlightManager() {\r\n            highlightedNode.addListener((observable, oldNode, newNode) -&gt; {\r\n                removeHighlight(oldNode);\r\n                applyHighlight(newNode);\r\n            });\r\n        }\r\n    \r\n        public void setHighlightedNode(Node highlightedNode) {\r\n            this.highlightedNode.set(highlightedNode);\r\n        }\r\n    \r\n        private static Effect createHighlightEffect() {\r\n            DropShadow outerShadow = new DropShadow(15, Color.GOLD);\r\n    \r\n            Glow glow = new Glow();\r\n            glow.setInput(outerShadow);\r\n    \r\n            return glow;\r\n        }\r\n    \r\n        private void applyHighlight(Node node) {\r\n            if (node == null) {\r\n                return;\r\n            }\r\n    \r\n            node.setStyle(&quot;-fx-background-color: CHART_COLOR_1, yellow;&quot;);\r\n            node.setEffect(highlightEffect);\r\n        }\r\n    \r\n        private void removeHighlight(Node node) {\r\n            if (node == null) {\r\n                return;\r\n            }\r\n    \r\n            node.setStyle(null);\r\n            node.setEffect(null);\r\n        }\r\n    }\r\n\r\n**Related Questions**\r\n\r\n * https://stackoverflow.com/questions/15615881/how-to-add-a-value-marker-to-javafx-chart\r\n * https://stackoverflow.com/questions/24232931/adding-a-line-in-a-javafx-chart\r\n\r\n  [1]: https://i.stack.imgur.com/YNi7U.png","title":"Javafx Get Layout Coordinate of a Data Point?","body":"<p>An example is presented here, it won't do exactly what you want, but it should be adaptable to your case, as I understand it.</p>\n<p>As you move the mouse around the chart, the crosshairs track the current mouse position, and the closest data node is highlighted.</p>\n<p><a href=\"https://i.stack.imgur.com/YNi7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNi7U.png\" alt=\"nearest point app\" /></a></p>\n<p>The app places the lines for a crosshair in a Pane above the chart.  When the mouse moves, a comparator is invoked which determines the nearest node to the current crosshair position, which is then highlighted.  When the mouse leaves the chart area, the crosshairs are removed and the highlight is removed from the highlighted node.</p>\n<p>To calculate distances accurately, all coordinates need to be translated to a common co-ordinate system.  In the example, I translate to scene coordinates and use those.</p>\n<p><em>NearestPointApp.java</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.XYChart;\nimport javafx.stage.Stage;\n\npublic class NearestPointApp extends Application {\n\n    @Override public void start(Stage stage) {\n        final InteractiveChartPane chartPane = new InteractiveChartPane(\n                createSeries()\n        );\n\n        Scene scene = new Scene(chartPane);\n        stage.setScene(scene);\n        stage.show();\n\n        chartPane.enableInteractivityInScene(scene);\n    }\n\n    private static XYChart.Series&lt;Number, Number&gt; createSeries() {\n        XYChart.Series&lt;Number, Number&gt; series = new XYChart.Series&lt;&gt;();\n\n        series.getData().add(new XYChart.Data&lt;&gt;(1, 23));\n        series.getData().add(new XYChart.Data&lt;&gt;(2, 14));\n        series.getData().add(new XYChart.Data&lt;&gt;(3, 15));\n        series.getData().add(new XYChart.Data&lt;&gt;(4, 24));\n        series.getData().add(new XYChart.Data&lt;&gt;(5, 34));\n        series.getData().add(new XYChart.Data&lt;&gt;(6, 36));\n        series.getData().add(new XYChart.Data&lt;&gt;(7, 22));\n        series.getData().add(new XYChart.Data&lt;&gt;(8, 45));\n        series.getData().add(new XYChart.Data&lt;&gt;(9, 43));\n        series.getData().add(new XYChart.Data&lt;&gt;(10, 17));\n        series.getData().add(new XYChart.Data&lt;&gt;(11, 29));\n        series.getData().add(new XYChart.Data&lt;&gt;(12, 25));\n\n        return series;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><em>InteractiveChartPane.java</em></p>\n<pre><code>import javafx.geometry.Bounds;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Cursor;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.robot.Robot;\nimport javafx.scene.shape.Line;\n\npublic class InteractiveChartPane extends Pane {\n    // crosshair display in chart.\n    private final Line horizontal = createLine();\n    private final Line vertical = createLine();\n\n    private final HighlightManager highlightManager = new HighlightManager();\n\n    private final LineChart&lt;Number, Number&gt; chart = new LineChart&lt;&gt;(\n            makeSimpleAxis(), makeSimpleAxis()\n    );\n\n    public InteractiveChartPane(XYChart.Series&lt;Number, Number&gt; series) {\n        chart.getData().add(series);\n        chart.setLegendVisible(false);\n\n        getChildren().setAll(\n                chart,\n                horizontal,\n                vertical\n        );\n    }\n\n    public void enableInteractivityInScene(Scene scene) {\n        // size chart to scene,\n        // not sure why this doesn't happen automatically,\n        // but probably the charts have some\n        // default preferred size they like to stick to.\n        chart.prefWidthProperty().bind(scene.widthProperty());\n        chart.prefHeightProperty().bind(scene.heightProperty());\n\n        // hide the cursor when in the chart\n        // as the crosshair overlay will indicate mouse position.\n        Node chartArea = chart.lookup(&quot;.chart-plot-background&quot;);\n        chartArea.setCursor(Cursor.NONE);\n\n        // show crosshair, highlight chart and closest node\n        // when the mouse is in the chart.\n        chart.setOnMouseMoved(e -&gt;\n                handleMovementInChart(\n                        new Point2D(e.getSceneX(), e.getSceneY())\n                )\n        );\n\n        // find the initial mouse position and handle chart highlighting for it.\n        Point2D mousePositionInScene = findCurrentMousePositionInScene(chart);\n        if (mousePositionInScene != null) {\n            handleMovementInChart(mousePositionInScene);\n        }\n    }\n\n    private void handleMovementInChart(\n            Point2D mousePositionInScene\n    ) {\n        Scene scene = getScene();\n        XYChart.Series&lt;Number, Number&gt; series = chart.getData().get(0);\n\n        Node chartArea = lookup(&quot;.chart-plot-background&quot;);\n        Bounds chartBoundsInScene = chartArea.localToScene(chartArea.getBoundsInLocal());\n\n        if (chartBoundsInScene.contains(mousePositionInScene)) {\n            scene.setCursor(Cursor.NONE);\n\n            chartArea.setStyle(&quot;-fx-background-color: azure;&quot;);\n\n            horizontal.setVisible(true);\n            vertical.setVisible(true);\n\n            horizontal.setStartX(chartBoundsInScene.getMinX());\n            horizontal.setEndX(chartBoundsInScene.getMaxX());\n            horizontal.setStartY(mousePositionInScene.getY());\n            horizontal.setEndY(mousePositionInScene.getY());\n\n            vertical.setStartX(mousePositionInScene.getX());\n            vertical.setEndX(mousePositionInScene.getX());\n            vertical.setStartY(chartBoundsInScene.getMinY());\n            vertical.setEndY(chartBoundsInScene.getMaxY());\n\n            // highlight the closest data node to the mouse.\n            series.getData().stream()\n                    .min(new DistanceComparator(mousePositionInScene))\n                    .ifPresent(closestData -&gt;\n                            highlightManager.setHighlightedNode(\n                                    closestData.getNode()\n                            )\n                    );\n        } else { // mouse is not in the chart area, remove interactive guides.\n            scene.setCursor(Cursor.DEFAULT);\n            chartArea.setStyle(null);\n            horizontal.setVisible(false);\n            vertical.setVisible(false);\n            highlightManager.setHighlightedNode(null);\n        }\n    }\n\n    private static Point2D findCurrentMousePositionInScene(LineChart&lt;Number, Number&gt; chart) {\n        Robot robot = new Robot();\n\n        Point2D mousePositionInScreen = robot.getMousePosition();\n        Point2D mousePositionInLocal = chart.screenToLocal(mousePositionInScreen);\n        if (mousePositionInLocal == null) {\n            return null;\n        }\n\n        return chart.localToScene(mousePositionInLocal);\n    }\n\n    private static Line createLine() {\n        Line horizontal = new Line();\n\n        horizontal.setStroke(Color.PLUM);\n        horizontal.setMouseTransparent(true);\n\n        return horizontal;\n    }\n\n    private static NumberAxis makeSimpleAxis() {\n        final NumberAxis xAxis = new NumberAxis();\n\n        xAxis.setTickMarkVisible(false);\n        xAxis.setTickLabelsVisible(false);\n        xAxis.setMinorTickCount(0);\n\n        return xAxis;\n    }\n}\n</code></pre>\n<p><em>DistanceComparator.java</em></p>\n<pre><code>import javafx.geometry.Bounds;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Node;\nimport javafx.scene.chart.XYChart;\n\nimport java.util.Comparator;\n\n// compares data nodes based on the distances of their center from a pivot point in the scene.\npublic record DistanceComparator(Point2D pivotInScene) implements Comparator&lt;XYChart.Data&lt;Number, Number&gt;&gt; {\n    @Override\n    public int compare(XYChart.Data&lt;Number, Number&gt; o1, XYChart.Data&lt;Number, Number&gt; o2) {\n        Node o1Node = o1.getNode();\n        Node o2Node = o2.getNode();\n\n        Bounds o1Bounds = o1Node.localToScene(o1Node.getBoundsInLocal());\n        Bounds o2Bounds = o2Node.localToScene(o2Node.getBoundsInLocal());\n\n        Point2D o1Center = new Point2D(o1Bounds.getCenterX(), o1Bounds.getCenterY());\n        Point2D o2Center = new Point2D(o2Bounds.getCenterX(), o2Bounds.getCenterY());\n\n        double o1Dist = pivotInScene.distance(o1Center);\n            double o2Dist = pivotInScene.distance(o2Center);\n\n        return Double.compare(o1Dist, o2Dist);\n    }\n}\n</code></pre>\n<p><em>HighlightManager.java</em></p>\n<pre><code>import javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.scene.Node;\nimport javafx.scene.effect.DropShadow;\nimport javafx.scene.effect.Effect;\nimport javafx.scene.effect.Glow;\nimport javafx.scene.paint.Color;\n\n// utility class for highlighting a node in a chart.\nclass HighlightManager {\n    // highlighted data node in chart.\n    private final ObjectProperty&lt;Node&gt; highlightedNode = new SimpleObjectProperty&lt;&gt;();\n    private final Effect highlightEffect = createHighlightEffect();\n\n    public HighlightManager() {\n        highlightedNode.addListener((observable, oldNode, newNode) -&gt; {\n            removeHighlight(oldNode);\n            applyHighlight(newNode);\n        });\n    }\n\n    public void setHighlightedNode(Node highlightedNode) {\n        this.highlightedNode.set(highlightedNode);\n    }\n\n    private static Effect createHighlightEffect() {\n        DropShadow outerShadow = new DropShadow(15, Color.GOLD);\n\n        Glow glow = new Glow();\n        glow.setInput(outerShadow);\n\n        return glow;\n    }\n\n    private void applyHighlight(Node node) {\n        if (node == null) {\n            return;\n        }\n\n        node.setStyle(&quot;-fx-background-color: CHART_COLOR_1, yellow;&quot;);\n        node.setEffect(highlightEffect);\n    }\n\n    private void removeHighlight(Node node) {\n        if (node == null) {\n            return;\n        }\n\n        node.setStyle(null);\n        node.setEffect(null);\n    }\n}\n</code></pre>\n<p><strong>Related Questions</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15615881/how-to-add-a-value-marker-to-javafx-chart\">How to add a value marker to JavaFX chart?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24232931/adding-a-line-in-a-javafx-chart\">Adding a line in a JavaFX chart</a></li>\n</ul>\n"}],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76678976,"answer_count":1,"score":0,"last_activity_date":1689614802,"creation_date":1689181762,"question_id":76672974,"body_markdown":"I&#39;m creating a line chart with a large set of data points. This chart has a blue marker line that hovers with the mouse curser. What I&#39;m trying to achieve, is onlick get the nearest data point that the blue line is &quot;marking&quot;. I&#39;ve tried to get the coordinate of the Data nodes but wasn&#39;t having luck. I also thought about a percentage of distance from first last but worried about the effects screen/stage resizing would have. Any insight or ideas would be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    \t\t// Note ****** &quot;frames&quot; is a List&lt;FrameV&gt; that I pass in  *****\r\n\t\t\tdouble max = (double)frames.stream().mapToLong(f -&gt; f.getFloatValue(type)).max().getAsLong();\r\n\t\t\tdouble min = (double)frames.stream().mapToLong(f -&gt; f.getFloatValue(type)).min().getAsLong();\r\n\t\t\tdouble percent5 = (max-min)*0.05;\r\n\t\t\tmax += percent5;\r\n\t\t\tmin -= percent5;\r\n\t\t\tNumberAxis xAxis = new NumberAxis();\r\n\t\t\txAxis.setTickLabelsVisible(false);\r\n\t        xAxis.setLabel(title);\r\n\t        NumberAxis yAxis = new NumberAxis();\r\n\t        yAxis.setTickLabelsVisible(false);\r\n\t        yAxis.setOpacity(0);\r\n\t        yAxis.setMaxWidth(5);\r\n\t        yAxis.setMaxHeight(max);\r\n\t        yAxis.setMinHeight(min);\r\n\t        \r\n\t        // Build Charts\r\n\t        LineChart lineChart = new LineChart(xAxis, yAxis);\r\n\t        lineChart.setPrefWidth(1000);\r\n\t        lineChart.setMaxHeight(100);\r\n\t        lineChart.setCreateSymbols(false);\r\n\t\t\t\r\n\t        // Calc Frame Rate\r\n\t\t\tdouble temp = (Math.sqrt((double)frames.size()) / 4);\r\n\t\t\tint frameRate = temp &lt; 1 ? 1 : (int)Math.round(temp);\r\n\t\t\t\r\n\t\t\t// Fill Data\r\n\t\t\tXYChart.Series dataSeries1 = new XYChart.Series();\r\n\t\t\tfor(int i = 0; i &lt; frames.size(); i+=frameRate) \r\n\t\t\t{\r\n\t\t\t\tdataSeries1.getData().add(new XYChart.Data( i, frames.get(i).getFloatValue(type)));\r\n\t\t\t}\r\n\t        lineChart.getData().add(dataSeries1);\r\n\t        \r\n\t\t\t\r\n\t        // Make Line\r\n\t        mark = new Rectangle(0,0,1,110);\r\n\t\t\tmark.setStroke(Color.BLUE);\r\n\t\t\tmark.setTranslateY(-15);\r\n\t\t\tmark.setVisible(false);\r\n\t\t\t\r\n\t\t\tchartPane = new StackPane(lineChart,mark);\r\n\t\t\tchartPane.setPadding(new Insets(0,5,0,5));\r\n\t\t\tchartPane.setAlignment(Pos.CENTER_LEFT);\r\n\t\t\t\r\n\t        chartPane.setOnMouseMoved(e -&gt; {\r\n\t        \tmark.setTranslateX(e.getX());\r\n\t        });\r\n\t        \r\n\t        chartPane.setOnMouseEntered(e -&gt; {mark.setVisible(true);});\r\n\t        chartPane.setOnMouseExited(e -&gt; {mark.setVisible(false);});\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bWOQV.png","title":"Javafx Get Layout Coordinate of a Data Point?","body":"<p>I'm creating a line chart with a large set of data points. This chart has a blue marker line that hovers with the mouse curser. What I'm trying to achieve, is onlick get the nearest data point that the blue line is &quot;marking&quot;. I've tried to get the coordinate of the Data nodes but wasn't having luck. I also thought about a percentage of distance from first last but worried about the effects screen/stage resizing would have. Any insight or ideas would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/bWOQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWOQV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        // Note ****** &quot;frames&quot; is a List&lt;FrameV&gt; that I pass in  *****\n        double max = (double)frames.stream().mapToLong(f -&gt; f.getFloatValue(type)).max().getAsLong();\n        double min = (double)frames.stream().mapToLong(f -&gt; f.getFloatValue(type)).min().getAsLong();\n        double percent5 = (max-min)*0.05;\n        max += percent5;\n        min -= percent5;\n        NumberAxis xAxis = new NumberAxis();\n        xAxis.setTickLabelsVisible(false);\n        xAxis.setLabel(title);\n        NumberAxis yAxis = new NumberAxis();\n        yAxis.setTickLabelsVisible(false);\n        yAxis.setOpacity(0);\n        yAxis.setMaxWidth(5);\n        yAxis.setMaxHeight(max);\n        yAxis.setMinHeight(min);\n        \n        // Build Charts\n        LineChart lineChart = new LineChart(xAxis, yAxis);\n        lineChart.setPrefWidth(1000);\n        lineChart.setMaxHeight(100);\n        lineChart.setCreateSymbols(false);\n        \n        // Calc Frame Rate\n        double temp = (Math.sqrt((double)frames.size()) / 4);\n        int frameRate = temp &lt; 1 ? 1 : (int)Math.round(temp);\n        \n        // Fill Data\n        XYChart.Series dataSeries1 = new XYChart.Series();\n        for(int i = 0; i &lt; frames.size(); i+=frameRate) \n        {\n            dataSeries1.getData().add(new XYChart.Data( i, frames.get(i).getFloatValue(type)));\n        }\n        lineChart.getData().add(dataSeries1);\n        \n        \n        // Make Line\n        mark = new Rectangle(0,0,1,110);\n        mark.setStroke(Color.BLUE);\n        mark.setTranslateY(-15);\n        mark.setVisible(false);\n        \n        chartPane = new StackPane(lineChart,mark);\n        chartPane.setPadding(new Insets(0,5,0,5));\n        chartPane.setAlignment(Pos.CENTER_LEFT);\n        \n        chartPane.setOnMouseMoved(e -&gt; {\n            mark.setTranslateX(e.getX());\n        });\n        \n        chartPane.setOnMouseEntered(e -&gt; {mark.setVisible(true);});\n        chartPane.setOnMouseExited(e -&gt; {mark.setVisible(false);});\n</code></pre>\n"},{"tags":["java","libgee"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689616825,"post_id":76706737,"comment_id":135235870,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29035772,"reputation":1,"user_id":22241708,"display_name":"Maleja rosario"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689614240,"creation_date":1689614240,"question_id":76706737,"body_markdown":"This function returns me the longitude and latitude of the pixels. The code works fine when I only do it for the &quot;date&quot; band, but when I do it for the &quot;dates&quot; and &quot;NDVI&quot; bands I get this error: Error in map(ID=LT04_009055_19880921): Array: Parallel arrays must have the same length. I&#39;m not quite sure why this happens. This is my code: \r\n\r\n\r\n```\r\n\r\nvar bands = [&#39;dates&#39;, &#39;NDVI&#39;]\r\n\r\nfunction extractPixels(image) {\r\n  var pixels = image\r\n    .clip(roi)\r\n    .select(bands)\r\n    //.unmask(999)\r\n    .addBands(ee.Image.pixelLonLat())\r\n    .reduceRegion({\r\n      reducer: ee.Reducer.toList(), \r\n      geometry: roi, \r\n      scale: 30,\r\n      maxPixels: 1e13\r\n    });\r\n    \r\n  return ee.FeatureCollection(\r\n    ee.Array(pixels.values())\r\n      .transpose()\r\n      .toList()\r\n      .map(function (values) {\r\n        var properties = ee.Dictionary.fromLists(pixels.keys(), values);\r\n        var longitude = ee.Number(properties.get(&#39;longitude&#39;));\r\n        var latitude = ee.Number(properties.get(&#39;latitude&#39;));\r\n        var geometry = ee.Geometry.Point(longitude, latitude);\r\n        \r\n        return ee.Feature(geometry, properties)\r\n          .set(&#39;date&#39;, ee.Number(image.select(&#39;dates&#39;)))\r\n          //.set(&#39;constant&#39;, ee.Number(image.select(&#39;constant&#39;)))\r\n          //.set(&#39;srb4&#39;, ee.Number(image.select(&#39;SR_B4&#39;)))\r\n          //.set(&#39;srb3&#39;, ee.Number(image.select(&#39;SR_B3&#39;)))\r\n          .set(&#39;ndvi&#39;, ee.Number(image.select(&#39;NDVI&#39;)))\r\n    \r\n      })\r\n  );\r\n}\r\n```\r\n\r\nI tried to fix it by putting an unmask, assuming that the size of the bands is different, but it doesn&#39;t work for me. ","title":"Access to each pixel using the NDVI band in GEE","body":"<p>This function returns me the longitude and latitude of the pixels. The code works fine when I only do it for the &quot;date&quot; band, but when I do it for the &quot;dates&quot; and &quot;NDVI&quot; bands I get this error: Error in map(ID=LT04_009055_19880921): Array: Parallel arrays must have the same length. I'm not quite sure why this happens. This is my code:</p>\n<pre><code>\nvar bands = ['dates', 'NDVI']\n\nfunction extractPixels(image) {\n  var pixels = image\n    .clip(roi)\n    .select(bands)\n    //.unmask(999)\n    .addBands(ee.Image.pixelLonLat())\n    .reduceRegion({\n      reducer: ee.Reducer.toList(), \n      geometry: roi, \n      scale: 30,\n      maxPixels: 1e13\n    });\n    \n  return ee.FeatureCollection(\n    ee.Array(pixels.values())\n      .transpose()\n      .toList()\n      .map(function (values) {\n        var properties = ee.Dictionary.fromLists(pixels.keys(), values);\n        var longitude = ee.Number(properties.get('longitude'));\n        var latitude = ee.Number(properties.get('latitude'));\n        var geometry = ee.Geometry.Point(longitude, latitude);\n        \n        return ee.Feature(geometry, properties)\n          .set('date', ee.Number(image.select('dates')))\n          //.set('constant', ee.Number(image.select('constant')))\n          //.set('srb4', ee.Number(image.select('SR_B4')))\n          //.set('srb3', ee.Number(image.select('SR_B3')))\n          .set('ndvi', ee.Number(image.select('NDVI')))\n    \n      })\n  );\n}\n</code></pre>\n<p>I tried to fix it by putting an unmask, assuming that the size of the bands is different, but it doesn't work for me.</p>\n"},{"tags":["java","spring","junit","mockmvc"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689613564,"post_id":76706654,"comment_id":135235258,"body_markdown":"Your property file `application-test.property` seems not to contain all needed information about the data source. DB can not be found and tables not created.","body":"Your property file <code>application-test.property</code> seems not to contain all needed information about the data source. DB can not be found and tables not created."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689613717,"post_id":76706654,"comment_id":135235273,"body_markdown":"Keep in mind the lifecycle. Your app starts, reads properties, creates persistence context and scanns for entities to create tables and if everything is up your test sources, DB script,.. will be executed but thats to late so persistence layer complains","body":"Keep in mind the lifecycle. Your app starts, reads properties, creates persistence context and scanns for entities to create tables and if everything is up your test sources, DB script,.. will be executed but thats to late so persistence layer complains"},{"owner":{"account_id":28141342,"reputation":1,"user_id":22068221,"display_name":"Display_name"},"score":0,"creation_date":1689616447,"post_id":76706654,"comment_id":135235807,"body_markdown":"@LenglBoy\nThis is what I assumed, but I do not understand how to solve the problem, I have already added new annotations","body":"@LenglBoy This is what I assumed, but I do not understand how to solve the problem, I have already added new annotations"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689617069,"post_id":76706654,"comment_id":135235903,"body_markdown":"More annotations cant solve this since the context might still start before the properties and data source is configured. So the app complains on starting even before a test gets triggered. You need to extend the `application-test.property` file to that the datasource is fine.","body":"More annotations cant solve this since the context might still start before the properties and data source is configured. So the app complains on starting even before a test gets triggered. You need to extend the <code>application-test.property</code> file to that the datasource is fine."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1689617187,"post_id":76706654,"comment_id":135235931,"body_markdown":"You can also exchange `@SpringBootTest` by `@WebMvcTest`. The datayource (and services) will not ramp up. Just the http-layer. YOu need to mock service/repo and you can verify rest endpoints, exception handler and security anyway using less resources. Thats calles test-slicing.","body":"You can also exchange <code>@SpringBootTest</code> by <code>@WebMvcTest</code>. The datayource (and services) will not ramp up. Just the http-layer. YOu need to mock service/repo and you can verify rest endpoints, exception handler and security anyway using less resources. Thats calles test-slicing."}],"owner":{"account_id":28141342,"reputation":1,"user_id":22068221,"display_name":"Display_name"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689613639,"creation_date":1689613366,"question_id":76706654,"body_markdown":"I want to learn how to test, but I get an error java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration. If I remove `@TestPropertySource(&quot;/application-test.properties&quot;)`, then the tests pass without problems. But as soon as I add back `@TestPropertySource` and `@Sql(value = {&quot;/create-user-before.sql&quot;}, execution Phase = Sql.Execution Phase.BEFORE_TEST_METHOD)`. Returns an error\r\n\r\n```\r\n java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1368e2f7 testClass = com.example.Sweater.LoginTest, locations = [], classes = [com.example.Sweater.SweaterApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [&quot;classpath:/application-test.properties&quot;], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@4d84688f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d0bf09b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54422e18, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7bba5817, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a75e76a, org.springframework.boot.test.context.SpringBootTestAnnotation@c77810aa], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [message]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) \r\n ```\r\n\r\n``` \r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n//@TestPropertySource(&quot;/application-test.properties&quot;)\r\npublic class LoginTest {\r\n    @Autowired\r\n    private MessageController controller;\r\n    @Autowired\r\n    private MockMvc mockMvc; // MockMvc создает копию mvc для тестов\r\n\r\n    @Test\r\n    public void contextLoads() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/&quot;)) // делаем запрос на главную страницу проекта\r\n                .andDo(print())\r\n                .andExpect(status().isOk()) // ожидается что статус будет 200\r\n                .andExpect(content().string(containsString(&quot;Hello, guest&quot;)))\r\n                .andExpect(content().string(containsString(&quot;Please, login&quot;)));\r\n    }\r\n\r\n    @Test// данный метод проверяет авторизацию пользователя\r\n    public void accessDeniedTest() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/main&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().is3xxRedirection())\r\n                .andExpect(redirectedUrl(&quot;http://localhost/login&quot;));\r\n    }\r\n\r\n    @Test\r\n//   @Sql(value = {&quot;/create-user-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n    public void correctLoginTest() throws Exception {\r\n        this.mockMvc.perform(formLogin().user(&quot;admin2&quot;).password(&quot;1&quot;)) // смотрим совпадение логина и пароля\r\n                .andExpect(status().is3xxRedirection())\r\n                .andExpect(redirectedUrl(&quot;/&quot;));\r\n    }\r\n\r\n    @Test // метод на проверку неправильных данных пользователя\r\n    public void badCredentials() throws Exception {\r\n        this.mockMvc.perform(post(&quot;/login&quot;).param(&quot;username&quot;, &quot;Alfred&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isForbidden()); // тут мы ожидаем 403 статус\r\n    }\r\n} \r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MdNP2.jpg","title":"Failed to load ApplicationContext. Testing","body":"<p>I want to learn how to test, but I get an error java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration. If I remove <code>@TestPropertySource(&quot;/application-test.properties&quot;)</code>, then the tests pass without problems. But as soon as I add back <code>@TestPropertySource</code> and <code>@Sql(value = {&quot;/create-user-before.sql&quot;}, execution Phase = Sql.Execution Phase.BEFORE_TEST_METHOD)</code>. Returns an error</p>\n<pre><code> java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1368e2f7 testClass = com.example.Sweater.LoginTest, locations = [], classes = [com.example.Sweater.SweaterApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [&quot;classpath:/application-test.properties&quot;], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@4d84688f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5d0bf09b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@54422e18, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7bba5817, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a75e76a, org.springframework.boot.test.context.SpringBootTestAnnotation@c77810aa], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [message]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) \n</code></pre>\n<pre><code>\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n//@TestPropertySource(&quot;/application-test.properties&quot;)\npublic class LoginTest {\n    @Autowired\n    private MessageController controller;\n    @Autowired\n    private MockMvc mockMvc; // MockMvc создает копию mvc для тестов\n\n    @Test\n    public void contextLoads() throws Exception {\n        this.mockMvc.perform(get(&quot;/&quot;)) // делаем запрос на главную страницу проекта\n                .andDo(print())\n                .andExpect(status().isOk()) // ожидается что статус будет 200\n                .andExpect(content().string(containsString(&quot;Hello, guest&quot;)))\n                .andExpect(content().string(containsString(&quot;Please, login&quot;)));\n    }\n\n    @Test// данный метод проверяет авторизацию пользователя\n    public void accessDeniedTest() throws Exception {\n        this.mockMvc.perform(get(&quot;/main&quot;))\n                .andDo(print())\n                .andExpect(status().is3xxRedirection())\n                .andExpect(redirectedUrl(&quot;http://localhost/login&quot;));\n    }\n\n    @Test\n//   @Sql(value = {&quot;/create-user-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n    public void correctLoginTest() throws Exception {\n        this.mockMvc.perform(formLogin().user(&quot;admin2&quot;).password(&quot;1&quot;)) // смотрим совпадение логина и пароля\n                .andExpect(status().is3xxRedirection())\n                .andExpect(redirectedUrl(&quot;/&quot;));\n    }\n\n    @Test // метод на проверку неправильных данных пользователя\n    public void badCredentials() throws Exception {\n        this.mockMvc.perform(post(&quot;/login&quot;).param(&quot;username&quot;, &quot;Alfred&quot;))\n                .andDo(print())\n                .andExpect(status().isForbidden()); // тут мы ожидаем 403 статус\n    }\n} \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MdNP2.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","certificate","jks","cer","java-security"],"answers":[{"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1433147277,"creation_date":1432132889,"answer_id":30352945,"question_id":30352681,"body_markdown":"Just to be sure that this is really the &quot;conversion&quot; you need, please note that `jks` files are keystores, a file format used to store more than one  certificate and allows you to retrieve them programmatically using the Java security API, it&#39;s not a one-to-one conversion between equivalent formats.\r\n\r\nSo, if you just want to import that certificate in a new ad-hoc keystore you can do it with [Keystore Explorer][1], a graphical tool. You&#39;ll be able to modify the keystore and the certificates contained therein like you would have done with the java terminal utilities like `keytool` (but in a more accessible way).\r\n\r\n\r\n  [1]: http://keystore-explorer.sourceforge.net/","title":"Convert .cer certificate to .jks","body":"<p>Just to be sure that this is really the \"conversion\" you need, please note that <code>jks</code> files are keystores, a file format used to store more than one  certificate and allows you to retrieve them programmatically using the Java security API, it's not a one-to-one conversion between equivalent formats.</p>\n\n<p>So, if you just want to import that certificate in a new ad-hoc keystore you can do it with <a href=\"http://keystore-explorer.sourceforge.net/\" rel=\"noreferrer\">Keystore Explorer</a>, a graphical tool. You'll be able to modify the keystore and the certificates contained therein like you would have done with the java terminal utilities like <code>keytool</code> (but in a more accessible way).</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1452262419,"creation_date":1432133229,"answer_id":30353086,"question_id":30352681,"body_markdown":"`keytool` comes with the JDK installation (in the `bin` folder):\r\n\r\n    keytool -importcert -file &quot;your.cer&quot; -keystore your.jks -alias &quot;&lt;anything&gt;&quot;\r\n\r\nThis will create a new keystore and add just your certificate to it.\r\n\r\nSo, you can&#39;t *convert* a certificate to a keystore: you **add** a certificate to a keystore.","title":"Convert .cer certificate to .jks","body":"<p><code>keytool</code> comes with the JDK installation (in the <code>bin</code> folder):</p>\n\n<pre><code>keytool -importcert -file \"your.cer\" -keystore your.jks -alias \"&lt;anything&gt;\"\n</code></pre>\n\n<p>This will create a new keystore and add just your certificate to it.</p>\n\n<p>So, you can't <em>convert</em> a certificate to a keystore: you <strong>add</strong> a certificate to a keystore.</p>\n"},{"tags":[],"owner":{"account_id":10264955,"reputation":55,"user_id":7575208,"display_name":"amiri_mak"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1487254458,"creation_date":1487251354,"answer_id":42275204,"question_id":30352681,"body_markdown":"Export a certificate from a keystore:\r\n\r\n    keytool -export -alias mydomain -file mydomain.crt -keystore keystore.jks","title":"Convert .cer certificate to .jks","body":"<p>Export a certificate from a keystore:</p>\n\n<pre><code>keytool -export -alias mydomain -file mydomain.crt -keystore keystore.jks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2487761,"reputation":291,"user_id":2165875,"accept_rate":100,"display_name":"Mukti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659558702,"creation_date":1499831795,"answer_id":45048149,"question_id":30352681,"body_markdown":"Use the following will help\r\n\r\n    keytool -import -v -trustcacerts \\\r\n    -alias keyAlias \\\r\n    -file server.cer \\\r\n    -keystore cacerts.jks \\\r\n    -keypass changeit","title":"Convert .cer certificate to .jks","body":"<p>Use the following will help</p>\n<pre><code>keytool -import -v -trustcacerts \\\n-alias keyAlias \\\n-file server.cer \\\n-keystore cacerts.jks \\\n-keypass changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15115227,"reputation":25331,"user_id":10907864,"display_name":"Promise Preston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689613437,"creation_date":1689611957,"answer_id":76706516,"question_id":30352681,"body_markdown":"This worked for me brilliantly\r\n\r\nFirst, create a PKCS12 keystore :\r\n\r\n    openssl pkcs12 -export -in my-app-certificate.crt -inkey my-app-certificate-private.key -out my-app-keystore.p12 -name my-app\r\n\r\nThis will require a **password**\r\n\r\n`-name` is the alias of the private key entry in keystore.\r\n\r\nNext, convert the PKCS12 keystore to JKS keytstore using keytool command :\r\n\r\n    keytool -importkeystore -srckeystore my-app-keystore.p12 -srcstoretype PKCS12 -destkeystore my-app-certificate.jks -deststoretype JKS\r\n\r\nTo view the JKS file contents:\r\n\r\n    keytool -v -list -keystore my-app-certificate.jks\r\n\r\n**Reference**: [Steps to create a self-signed certificate using OpenSSL][1]\r\n\r\nThis will request for the password entered when creating the PKCS12 keystore\r\n\r\n\r\n  [1]: https://blogs.oracle.com/blogbypuneeth/post/steps-to-create-a-self-signed-certificate-using-openssl","title":"Convert .cer certificate to .jks","body":"<p>This worked for me brilliantly</p>\n<p>First, create a PKCS12 keystore :</p>\n<pre><code>openssl pkcs12 -export -in my-app-certificate.crt -inkey my-app-certificate-private.key -out my-app-keystore.p12 -name my-app\n</code></pre>\n<p>This will require a <strong>password</strong></p>\n<p><code>-name</code> is the alias of the private key entry in keystore.</p>\n<p>Next, convert the PKCS12 keystore to JKS keytstore using keytool command :</p>\n<pre><code>keytool -importkeystore -srckeystore my-app-keystore.p12 -srcstoretype PKCS12 -destkeystore my-app-certificate.jks -deststoretype JKS\n</code></pre>\n<p>To view the JKS file contents:</p>\n<pre><code>keytool -v -list -keystore my-app-certificate.jks\n</code></pre>\n<p><strong>Reference</strong>: <a href=\"https://blogs.oracle.com/blogbypuneeth/post/steps-to-create-a-self-signed-certificate-using-openssl\" rel=\"nofollow noreferrer\">Steps to create a self-signed certificate using OpenSSL</a></p>\n<p>This will request for the password entered when creating the PKCS12 keystore</p>\n"}],"owner":{"account_id":2862245,"reputation":675,"user_id":2457268,"accept_rate":40,"display_name":"arikabc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182547,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":5,"score":50,"last_activity_date":1689613437,"creation_date":1432132209,"question_id":30352681,"body_markdown":"I need to convert a `.cer` file to a `.jks` file.\r\nI saw a few questions about it, but haven&#39;t seen a solution to what I need.\r\n\r\nI don&#39;t need it in order to add it to my local certificates, but as a file to upload to a server.\r\nI also need to do it only once, and not programmatically.\r\nThere&#39;s this thread https://stackoverflow.com/questions/27131210/converting-cer-to-jks-using-java and the author says he had done it successfully, but I couldn&#39;t comment to his last reply as I don&#39;t have enough reputation, nor could I send him a personal message and ask him.\r\n\r\nSo if anyone knows of a simple way to do so, I&#39;ll be glad to hear.\r\n\r\n  [1]: https://stackoverflow.com/questions/27131210/converting-cer-to-jks-using-java","title":"Convert .cer certificate to .jks","body":"<p>I need to convert a <code>.cer</code> file to a <code>.jks</code> file.\nI saw a few questions about it, but haven't seen a solution to what I need.</p>\n\n<p>I don't need it in order to add it to my local certificates, but as a file to upload to a server.\nI also need to do it only once, and not programmatically.\nThere's this thread <a href=\"https://stackoverflow.com/questions/27131210/converting-cer-to-jks-using-java\">Converting .cer to .jks using java</a> and the author says he had done it successfully, but I couldn't comment to his last reply as I don't have enough reputation, nor could I send him a personal message and ask him.</p>\n\n<p>So if anyone knows of a simple way to do so, I'll be glad to hear.</p>\n"},{"tags":["java","android","android-studio","encryption","communication"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1689605212,"post_id":76705609,"comment_id":135233454,"body_markdown":"Isn&#39;t https enough?","body":"Isn&#39;t https enough?"},{"owner":{"account_id":17636312,"reputation":123,"user_id":12799518,"display_name":"Elio Bteich"},"score":0,"creation_date":1689605270,"post_id":76705609,"comment_id":135233463,"body_markdown":"@FedericoklezCulloca I prefer an end to end encryption...","body":"@FedericoklezCulloca I prefer an end to end encryption..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1689605577,"post_id":76705609,"comment_id":135233524,"body_markdown":"https *is* e2ee between your app and your web server. What&#39;s between them? Or isn&#39;t the web server the other end of the communication? If that&#39;s the case you might want to [edit] your post and better explain your architecture. In any case you may want to explain *why* https is not a good fit, otherwise people might suggest solutions with the same pitfalls you&#39;re trying to avoid by not choosing the obvious solution.","body":"https <i>is</i> e2ee between your app and your web server. What&#39;s between them? Or isn&#39;t the web server the other end of the communication? If that&#39;s the case you might want to <a href=\"https://stackoverflow.com/posts/76705609/edit\">edit</a> your post and better explain your architecture. In any case you may want to explain <i>why</i> https is not a good fit, otherwise people might suggest solutions with the same pitfalls you&#39;re trying to avoid by not choosing the obvious solution."},{"owner":{"account_id":17636312,"reputation":123,"user_id":12799518,"display_name":"Elio Bteich"},"score":0,"creation_date":1689606149,"post_id":76705609,"comment_id":135233655,"body_markdown":"@FedericoklezCulloca Thank you very much for your collaboration, there is no devices between the app and the server, so you find that adding another layer of security is not a good practice?","body":"@FedericoklezCulloca Thank you very much for your collaboration, there is no devices between the app and the server, so you find that adding another layer of security is not a good practice?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1689607702,"post_id":76705609,"comment_id":135234026,"body_markdown":"I&#39;m not saying it&#39;s bad practice (although, reinventing security protocols usually *is* bad practice), I&#39;m just wondering whether it&#39;s actually necessary or whether you might be over-complicating things.","body":"I&#39;m not saying it&#39;s bad practice (although, reinventing security protocols usually <i>is</i> bad practice), I&#39;m just wondering whether it&#39;s actually necessary or whether you might be over-complicating things."},{"owner":{"account_id":17636312,"reputation":123,"user_id":12799518,"display_name":"Elio Bteich"},"score":0,"creation_date":1689608274,"post_id":76705609,"comment_id":135234127,"body_markdown":"@FedericoklezCulloca I&#39;m honestly a little bit complicating the things because the data that will be transferred is so critical","body":"@FedericoklezCulloca I&#39;m honestly a little bit complicating the things because the data that will be transferred is so critical"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1689625948,"post_id":76705609,"comment_id":135237634,"body_markdown":"&quot;Critical&quot; doesn&#39;t sound like there is a proper security analysis present to define what security requirements and risks exist.","body":"&quot;Critical&quot; doesn&#39;t sound like there is a proper security analysis present to define what security requirements and risks exist."}],"owner":{"account_id":17636312,"reputation":123,"user_id":12799518,"display_name":"Elio Bteich"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689613272,"creation_date":1689605104,"question_id":76705609,"body_markdown":"So Basically I&#39;m building an android app that needs to communicate critical information with the web server, I need encryption method suggestions on top of https to improve the security and how can I use keystore to generate the keys? And also how can we securely store the keys on the web server?\r\nAny help would be appreciated!","title":"How can I secure the connection between my android app and the web server","body":"<p>So Basically I'm building an android app that needs to communicate critical information with the web server, I need encryption method suggestions on top of https to improve the security and how can I use keystore to generate the keys? And also how can we securely store the keys on the web server?\nAny help would be appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1528642703,"post_id":50784957,"comment_id":88576384,"body_markdown":"Writing some code is a good start. Besides, I am quite sure that this is not possible. You cannot iterate through the array without any &quot;extra variables&quot;. http://idownvotedbecau.se/noattempt/","body":"Writing some code is a good start. Besides, I am quite sure that this is not possible. You cannot iterate through the array without any &quot;extra variables&quot;. <a href=\"http://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/noattempt</a>"},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1528643837,"post_id":50784957,"comment_id":88576702,"body_markdown":"&quot;*without using any extra variable or built in function.*&quot;  May I just ask.. *why*?","body":"&quot;<i>without using any extra variable or built in function.</i>&quot;  May I just ask.. <i>why</i>?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1528644060,"post_id":50784957,"comment_id":88576764,"body_markdown":"@Turing85 im not going to do it because (a) I think they&#39;ve misunderstood what they need to do and (b) you&#39;re right about needing an attempt but I think you could possibly do it by hard coding the comparison of the first 3 items then using them as your variables to use to iterate over and hold the maximum so far and hold the best of the first 3 (determined by hardcoded comparisons)","body":"@Turing85 im not going to do it because (a) I think they&#39;ve misunderstood what they need to do and (b) you&#39;re right about needing an attempt but I think you could possibly do it by hard coding the comparison of the first 3 items then using them as your variables to use to iterate over and hold the maximum so far and hold the best of the first 3 (determined by hardcoded comparisons)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1528644298,"post_id":50784957,"comment_id":88576844,"body_markdown":"@RichardTingle depends on how you define &quot;extra variable&quot;. `for (int i = ...)` and `for (int i : ...) ` have an extra variable (the `i` in both cases). You could, of course, hard-code a solution for all `2^31` indices... but I doubt that this is what is supposed to be done.","body":"@RichardTingle depends on how you define &quot;extra variable&quot;. <code>for (int i = ...)</code> and <code>for (int i : ...) </code> have an extra variable (the <code>i</code> in both cases). You could, of course, hard-code a solution for all <code>2^31</code> indices... but I doubt that this is what is supposed to be done."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1528644939,"post_id":50784957,"comment_id":88577045,"body_markdown":"@Turing85 you need a while loop and any time you want to refer to `i` you refer to `arr[0]` and any time you want to refer to `maxSoFar` you refer to `arr[1]` after clearing those out in the short hard coded bit at the beginning (that puts it&#39;s result in `arr[2]`)","body":"@Turing85 you need a while loop and any time you want to refer to <code>i</code> you refer to <code>arr[0]</code> and any time you want to refer to <code>maxSoFar</code> you refer to <code>arr[1]</code> after clearing those out in the short hard coded bit at the beginning (that puts it&#39;s result in <code>arr[2]</code>)"}],"answers":[{"tags":[],"owner":{"account_id":2674965,"reputation":801,"user_id":2311567,"display_name":"Tiago Mussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529484548,"creation_date":1529484548,"answer_id":50944025,"question_id":50784957,"body_markdown":"If you&#39;re using Java 8 or above you can do something like:\r\n\r\n    int[] arr = { 4, 5, 87, -9, 1, 0, 34, 5, 0, 8 };\r\n    int maxNum = java.util.Arrays.stream(arr).max().getAsInt();\r\n\r\nTake a look at [java.util.stream.IntStream][1] interface documentation for more features.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"How to get largest number in an array without using any extra variable or built in function","body":"<p>If you're using Java 8 or above you can do something like:</p>\n\n<pre><code>int[] arr = { 4, 5, 87, -9, 1, 0, 34, 5, 0, 8 };\nint maxNum = java.util.Arrays.stream(arr).max().getAsInt();\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">java.util.stream.IntStream</a> interface documentation for more features.</p>\n"},{"tags":[],"owner":{"account_id":26562345,"reputation":1,"user_id":20189986,"display_name":"Rafiya Quazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665748478,"creation_date":1665748429,"answer_id":74068818,"question_id":50784957,"body_markdown":"Check with array first element and compare with rest of all the elements of array.\r\n\r\n \r\n     public static void main(String[] args) {\r\n        int arr[] = {4,5,87,-9,1,0,34,5,8};\r\n       \r\n        for(int i=1;i&lt;arr.length;i++){\r\n           if(arr[0]&lt;arr[i]){\r\n             arr[0]=arr[i];\r\n           }\r\n        }\r\n        System.out.println(&quot;largest element : &quot;+arr[0]);\r\n     }\r\n","title":"How to get largest number in an array without using any extra variable or built in function","body":"<p>Check with array first element and compare with rest of all the elements of array.</p>\n<pre><code> public static void main(String[] args) {\n    int arr[] = {4,5,87,-9,1,0,34,5,8};\n   \n    for(int i=1;i&lt;arr.length;i++){\n       if(arr[0]&lt;arr[i]){\n         arr[0]=arr[i];\n       }\n    }\n    System.out.println(&quot;largest element : &quot;+arr[0]);\n }\n</code></pre>\n"}],"owner":{"account_id":2271052,"reputation":79,"user_id":1998454,"accept_rate":0,"display_name":"Manu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":14,"up_vote_count":1,"answer_count":2,"score":-13,"last_activity_date":1689612681,"creation_date":1528642627,"question_id":50784957,"body_markdown":"How to get largest number in an array without using any extra variable or built in function.\r\n\r\n\r\n    Sample Input: int arr[] = {4,5,87,-9,1,0,34,5,,8};\r\n    Sample O/p: 87\r\n\r\n","title":"How to get largest number in an array without using any extra variable or built in function","body":"<p>How to get largest number in an array without using any extra variable or built in function.</p>\n\n<pre><code>Sample Input: int arr[] = {4,5,87,-9,1,0,34,5,,8};\nSample O/p: 87\n</code></pre>\n"},{"tags":["java","spring-boot","maven","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668528451,"post_id":74448237,"comment_id":131424849,"body_markdown":"You need to enable the buildInfo in your build so it will get added to the properties 9Not the yaml) (which is basically the second tutorial). Please include your build file to see what you are doing there. There is also a section in the Reference Guide (see https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.build.generate-info).","body":"You need to enable the buildInfo in your build so it will get added to the properties 9Not the yaml) (which is basically the second tutorial). Please include your build file to see what you are doing there. There is also a section in the Reference Guide (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.build.generate-info\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>)."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668528905,"creation_date":1668526604,"answer_id":74448345,"question_id":74448237,"body_markdown":"Use @project.version@\r\n\r\n    info:\r\n      app:\r\n        name: &#39;@project.name@&#39;\r\n        description: &#39;@project.description@&#39;\r\n        version: &#39;@project.version@&#39;\r\n\r\nThis will be replaced with the Maven version\r\n","title":"How to display app version in actuator/info using Spring Boot and app.yml?","body":"<p>Use @project.version@</p>\n<pre><code>info:\n  app:\n    name: '@project.name@'\n    description: '@project.description@'\n    version: '@project.version@'\n</code></pre>\n<p>This will be replaced with the Maven version</p>\n"},{"tags":[],"owner":{"account_id":24385934,"reputation":111,"user_id":18316717,"display_name":"agitrubard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689611948,"creation_date":1689611948,"answer_id":76706513,"question_id":74448237,"body_markdown":"**Solution for Spring Boot 3 Application**\r\n\r\n1. You need to add the following dependency to the `pom.xml` file of your application;\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. Then, you should add the following code block to the `application.yml` file.\r\n\r\n&gt; You can customize the information under the `info:` section according to your preferences.\r\n\r\n```\r\nmanagement:\r\n  info:\r\n    env:\r\n      enabled: true\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: info\r\n      base-path: /public/actuator\r\n\r\ninfo:\r\n  application:\r\n    name: &#39;@project.name@&#39;\r\n    description: &#39;@project.description@&#39;\r\n    version: &#39;@project.version@&#39;\r\n```\r\n\r\n3. If you are not using Spring Security, you can skip this step. You need to expose the `/public/**` endpoints specifically for the `GET` HTTP method. Otherwise, you will get an error because you won&#39;t be able to access these endpoints.\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\r\n\r\n   httpSecurity\r\n      ...\r\n      .authorizeHttpRequests(customizer -&gt; customizer\r\n         ...\r\n         .requestMatchers(HttpMethod.GET, &quot;/public/**&quot;).permitAll()\r\n         ...\r\n         .anyRequest().authenticated()\r\n      )\r\n      ...\r\n\r\n   ...\r\n}\r\n```\r\n\r\n\r\n4.  After completing the first and second steps, you can start the application and test it by accessing the `{{API_URL}}/public/actuator/info` URL in a browser.\r\n\r\n&gt; Example for {{API_URL}}: http://localhost:8080","title":"How to display app version in actuator/info using Spring Boot and app.yml?","body":"<p><strong>Solution for Spring Boot 3 Application</strong></p>\n<ol>\n<li>You need to add the following dependency to the <code>pom.xml</code> file of your application;</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Then, you should add the following code block to the <code>application.yml</code> file.</li>\n</ol>\n<blockquote>\n<p>You can customize the information under the <code>info:</code> section according to your preferences.</p>\n</blockquote>\n<pre><code>management:\n  info:\n    env:\n      enabled: true\n  endpoints:\n    web:\n      exposure:\n        include: info\n      base-path: /public/actuator\n\ninfo:\n  application:\n    name: '@project.name@'\n    description: '@project.description@'\n    version: '@project.version@'\n</code></pre>\n<ol start=\"3\">\n<li>If you are not using Spring Security, you can skip this step. You need to expose the <code>/public/**</code> endpoints specifically for the <code>GET</code> HTTP method. Otherwise, you will get an error because you won't be able to access these endpoints.</li>\n</ol>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\n\n   httpSecurity\n      ...\n      .authorizeHttpRequests(customizer -&gt; customizer\n         ...\n         .requestMatchers(HttpMethod.GET, &quot;/public/**&quot;).permitAll()\n         ...\n         .anyRequest().authenticated()\n      )\n      ...\n\n   ...\n}\n</code></pre>\n<ol start=\"4\">\n<li>After completing the first and second steps, you can start the application and test it by accessing the <code>{{API_URL}}/public/actuator/info</code> URL in a browser.</li>\n</ol>\n<blockquote>\n<p>Example for {{API_URL}}: http://localhost:8080</p>\n</blockquote>\n"}],"owner":{"account_id":17695265,"reputation":33,"user_id":12846166,"display_name":"Lawell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2697,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689611948,"creation_date":1668526190,"question_id":74448237,"body_markdown":"I&#39;m using Maven for Java project with Spring Boot and Actuator.\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI would like to bring back the Snapshot version in pom.xml of the project in /info tab and&#160;read many tutorials on the subject like those above.\r\n\r\n 1. https://blog.jdriven.com/2018/10/get-your-application-version-with-spring-boot/\r\n 2. https://www.vojtechruzicka.com/spring-boot-version/\r\n 3. https://stackoverflow.com/questions/67893857/actuator-info-endpoint-not-working-with-spring-boot-2-5-0\r\n\r\n\r\napp.yml:\r\n```\r\n#general properties\r\nmanagement:\r\n    endpoint:\r\n        info:\r\n            enabled: true\r\n    endpoints:\r\n        info:\r\n            enabled: true\r\n#custom properties\r\ninfo:\r\n    app:\r\n        name: Spring Sample Application\r\n        description: &quot;spring application\r\n        version: &#39;1.0.0&#39;&quot;\r\n```\r\n\r\nI did not know which quotes to use in my app.yml.\r\n\r\nBut I never succeed to display anything in the /info tab, there is just those&#160;{ } symbols.\r\n\r\n\r\nAnyone knows what I did wrong and how to display my app version in /actuator/info?","title":"How to display app version in actuator/info using Spring Boot and app.yml?","body":"<p>I'm using Maven for Java project with Spring Boot and Actuator.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I would like to bring back the Snapshot version in pom.xml of the project in /info tab and read many tutorials on the subject like those above.</p>\n<ol>\n<li><a href=\"https://blog.jdriven.com/2018/10/get-your-application-version-with-spring-boot/\" rel=\"nofollow noreferrer\">https://blog.jdriven.com/2018/10/get-your-application-version-with-spring-boot/</a></li>\n<li><a href=\"https://www.vojtechruzicka.com/spring-boot-version/\" rel=\"nofollow noreferrer\">https://www.vojtechruzicka.com/spring-boot-version/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/67893857/actuator-info-endpoint-not-working-with-spring-boot-2-5-0\">/actuator/info Endpoint not working with spring boot 2.5.0</a></li>\n</ol>\n<p>app.yml:</p>\n<pre><code>#general properties\nmanagement:\n    endpoint:\n        info:\n            enabled: true\n    endpoints:\n        info:\n            enabled: true\n#custom properties\ninfo:\n    app:\n        name: Spring Sample Application\n        description: &quot;spring application\n        version: '1.0.0'&quot;\n</code></pre>\n<p>I did not know which quotes to use in my app.yml.</p>\n<p>But I never succeed to display anything in the /info tab, there is just those { } symbols.</p>\n<p>Anyone knows what I did wrong and how to display my app version in /actuator/info?</p>\n"},{"tags":["java","android","google-developers-console","device-admin","android-securityexception"],"comments":[{"owner":{"account_id":28738031,"reputation":451,"user_id":22008745,"display_name":"Rohan Hazarika"},"score":0,"creation_date":1685901605,"post_id":76391747,"comment_id":134722404,"body_markdown":"Please anyone can help me with this error. This is really frustrating.","body":"Please anyone can help me with this error. This is really frustrating."},{"owner":{"account_id":1775027,"reputation":404,"user_id":1618958,"display_name":"noblemaster"},"score":1,"creation_date":1687001518,"post_id":76391747,"comment_id":134877967,"body_markdown":"I&#39;d think this is a false positive. It might be the pre-launch report service that actually crashes, but not the app. You can check in the actual crash logs from the users but I doubt you will find the crash there?","body":"I&#39;d think this is a false positive. It might be the pre-launch report service that actually crashes, but not the app. You can check in the actual crash logs from the users but I doubt you will find the crash there?"},{"owner":{"account_id":2248796,"reputation":347,"user_id":1981529,"accept_rate":55,"display_name":"Clinton"},"score":1,"creation_date":1689273909,"post_id":76391747,"comment_id":135194119,"body_markdown":"I just got this today when putting up a new app.  Unfortunately, its blocking me from publishing the app and it just gets rejected.  I tested on more than 1 device and emulator but it only seems to occur on their testing device.","body":"I just got this today when putting up a new app.  Unfortunately, its blocking me from publishing the app and it just gets rejected.  I tested on more than 1 device and emulator but it only seems to occur on their testing device."},{"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"score":0,"creation_date":1689618946,"post_id":76391747,"comment_id":135236307,"body_markdown":"@Clinton Were you able to get past review today and pushing rejected or was it already approved for review?","body":"@Clinton Were you able to get past review today and pushing rejected or was it already approved for review?"},{"owner":{"account_id":2248796,"reputation":347,"user_id":1981529,"accept_rate":55,"display_name":"Clinton"},"score":0,"creation_date":1689765461,"post_id":76391747,"comment_id":135258770,"body_markdown":"@tricknology I got it sorted by no actions of mine.  I couldn&#39;t reproduce the error and decided to instead upload it to an open testing.  I woke up the next morning and the release that was marked as problematic was now all of a sudden approved.","body":"@tricknology I got it sorted by no actions of mine.  I couldn&#39;t reproduce the error and decided to instead upload it to an open testing.  I woke up the next morning and the release that was marked as problematic was now all of a sudden approved."},{"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"score":0,"creation_date":1689802385,"post_id":76391747,"comment_id":135266995,"body_markdown":"@Clinton - Same here...","body":"@Clinton - Same here..."}],"answers":[{"tags":[],"owner":{"account_id":1431836,"reputation":4159,"user_id":1354096,"accept_rate":94,"display_name":"BamsBamx"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1685738785,"creation_date":1685725066,"answer_id":76392132,"question_id":76391747,"body_markdown":"Just got the same report a while ago. Looks like there is a problem related to the devices/emulator that Google uses for generating the report.\r\n\r\nAt least in my case, it is not related to the tested app, since it doesn&#39;t have a single dependency on Google libraries\r\n\r\nEDIT: You can find a similar report in the Google Issue Tracker: https://issuetracker.google.com/issues/160907013#comment144","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p>Just got the same report a while ago. Looks like there is a problem related to the devices/emulator that Google uses for generating the report.</p>\n<p>At least in my case, it is not related to the tested app, since it doesn't have a single dependency on Google libraries</p>\n<p>EDIT: You can find a similar report in the Google Issue Tracker: <a href=\"https://issuetracker.google.com/issues/160907013#comment144\" rel=\"noreferrer\">https://issuetracker.google.com/issues/160907013#comment144</a></p>\n"},{"tags":[],"owner":{"account_id":14912456,"reputation":31,"user_id":10767479,"display_name":"Gabriel Bateca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686188327,"creation_date":1686188327,"answer_id":76428076,"question_id":76391747,"body_markdown":"I just got the same error while trying to publish my Flutter app to the Play Store. I removed some packages. Curious enough, this error is with a Samsung device. I&#39;ll leave you the stack trace in case it may be useful.\r\n\r\nIt still appears as &quot;in review&quot; so I&#39;m not sure if I will be able to ignore the error and promote it to production.\r\n\r\nStack trace    \r\n\r\n    java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n\r\n\r\n    Exception Process: com.google.android.apps.mtaas.deviceadmin, PID: 6114\r\n    java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n      at android.os.Parcel.createException (Parcel.java:2088)\r\n      at android.os.Parcel.readException (Parcel.java:2056)\r\n      at android.os.Parcel.readException (Parcel.java:2004)\r\n      at android.app.admin.IDevicePolicyManager$Stub$Proxy.setNetworkLoggingEnabled (IDevicePolicyManager.java:15305)\r\n      at android.app.admin.DevicePolicyManager.setNetworkLoggingEnabled (DevicePolicyManager.java:11627)\r\n      at com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging.onStart (EnableNetworkLogging.kt:27)\r\n      at android.app.Instrumentation$InstrumentationThread.run (Instrumentation.java:2209)\r\n\r\n[Device that prompts the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7Sxb.png","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p>I just got the same error while trying to publish my Flutter app to the Play Store. I removed some packages. Curious enough, this error is with a Samsung device. I'll leave you the stack trace in case it may be useful.</p>\n<p>It still appears as &quot;in review&quot; so I'm not sure if I will be able to ignore the error and promote it to production.</p>\n<p>Stack trace</p>\n<pre><code>java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n\n\nException Process: com.google.android.apps.mtaas.deviceadmin, PID: 6114\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n  at android.os.Parcel.createException (Parcel.java:2088)\n  at android.os.Parcel.readException (Parcel.java:2056)\n  at android.os.Parcel.readException (Parcel.java:2004)\n  at android.app.admin.IDevicePolicyManager$Stub$Proxy.setNetworkLoggingEnabled (IDevicePolicyManager.java:15305)\n  at android.app.admin.DevicePolicyManager.setNetworkLoggingEnabled (DevicePolicyManager.java:11627)\n  at com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging.onStart (EnableNetworkLogging.kt:27)\n  at android.app.Instrumentation$InstrumentationThread.run (Instrumentation.java:2209)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/I7Sxb.png\" rel=\"nofollow noreferrer\">Device that prompts the error</a></p>\n"},{"tags":[],"owner":{"account_id":28785201,"reputation":251,"user_id":22045824,"display_name":"OK_1"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1686289731,"creation_date":1686289731,"answer_id":76437535,"question_id":76391747,"body_markdown":"I just contacted Google Play support about that issue, and this is what they responded:\r\n\r\nSupport: &quot;Please note that pre-launch reports do not block releases to any tracks.&quot;\r\n\r\nSupport: &quot;It only helps to identify issues proactively before your app reaches testers.&quot;\r\n\r\nSupport: &quot;This means that it only informs you of any possible issues in your testing tracks&#39; new releases, but it does not prevent you from continuing to publish those releases.&quot;\r\n\r\nSupport: &quot;Furthermore, pre-launch reports only test releases you&#39;ve uploaded to the open, closed, and internal testing tracks; it does not test for releases uploaded to the Production track.&quot;\r\n\r\nSupport: &quot;If you are confident that your release does not have any errors, then you can proceed to ignore the error in the pre-launch report and publish your release.&quot;\r\n\r\nSupport: &quot;For more information about the pre-launch reports, please refer to our Help Center.\r\nhttps://support.google.com/googleplay/android-developer/answer/9842757 &quot;\r\n\r\nMe: &quot;So the report does not have an affect on final review before publishing to production, correct?&quot;\r\n\r\nSupport: &quot;Yes, that is correct.&quot;","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p>I just contacted Google Play support about that issue, and this is what they responded:</p>\n<p>Support: &quot;Please note that pre-launch reports do not block releases to any tracks.&quot;</p>\n<p>Support: &quot;It only helps to identify issues proactively before your app reaches testers.&quot;</p>\n<p>Support: &quot;This means that it only informs you of any possible issues in your testing tracks' new releases, but it does not prevent you from continuing to publish those releases.&quot;</p>\n<p>Support: &quot;Furthermore, pre-launch reports only test releases you've uploaded to the open, closed, and internal testing tracks; it does not test for releases uploaded to the Production track.&quot;</p>\n<p>Support: &quot;If you are confident that your release does not have any errors, then you can proceed to ignore the error in the pre-launch report and publish your release.&quot;</p>\n<p>Support: &quot;For more information about the pre-launch reports, please refer to our Help Center.\n<a href=\"https://support.google.com/googleplay/android-developer/answer/9842757\" rel=\"noreferrer\">https://support.google.com/googleplay/android-developer/answer/9842757</a> &quot;</p>\n<p>Me: &quot;So the report does not have an affect on final review before publishing to production, correct?&quot;</p>\n<p>Support: &quot;Yes, that is correct.&quot;</p>\n"},{"tags":[],"owner":{"account_id":19484690,"reputation":61,"user_id":14254287,"display_name":"Paras Rawat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687574790,"creation_date":1687574790,"answer_id":76544384,"question_id":76391747,"body_markdown":"**Solution**: Do nothing &#127773;\r\n\r\n**Explanation**: Pre-launch reports do not block releases to any tracks","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p><strong>Solution</strong>: Do nothing 🌝</p>\n<p><strong>Explanation</strong>: Pre-launch reports do not block releases to any tracks</p>\n"},{"tags":[],"owner":{"account_id":11420868,"reputation":393,"user_id":8372412,"display_name":"Walulya francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689611779,"creation_date":1689611779,"answer_id":76706492,"question_id":76391747,"body_markdown":"This may sound odd, but the real problem causing this is if you have webservice in your application like API calls and you did not do error handling properly like adding you code between \r\n\r\n     try{ //\r\n     your webservice request\r\n     }catch(e){\r\n    // error handling\r\n    } \r\n\r\nand if you have used old libraries or libraries without proper error handling.  you  will face the same problem.\r\nAfter doing all error handling properly, change the app version name and code in pubspec.yaml as follows `version: 1.0.1+2` then run commands `flutter clean ` and `flutter build appbundle --release` to create a new app  bundle\r\n","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p>This may sound odd, but the real problem causing this is if you have webservice in your application like API calls and you did not do error handling properly like adding you code between</p>\n<pre><code> try{ //\n your webservice request\n }catch(e){\n// error handling\n} \n</code></pre>\n<p>and if you have used old libraries or libraries without proper error handling.  you  will face the same problem.\nAfter doing all error handling properly, change the app version name and code in pubspec.yaml as follows <code>version: 1.0.1+2</code> then run commands <code>flutter clean </code> and <code>flutter build appbundle --release</code> to create a new app  bundle</p>\n"}],"owner":{"account_id":28738031,"reputation":451,"user_id":22008745,"display_name":"Rohan Hazarika"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17158,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":5,"score":45,"last_activity_date":1689611779,"creation_date":1685721643,"question_id":76391747,"body_markdown":"I am encountering an error in the pre-launch report on the Google Play Console during testing. The error message is as follows:\r\n\r\n```\r\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n```\r\n\r\nThis error occurs specifically in Android 10 (SDK 29). The full error summary is as follows:\r\n\r\n```\r\n\r\nException Process: com.google.android.apps.mtaas.deviceadmin, PID: 4380\r\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n  at android.os.Parcel.createException (Parcel.java:2088)\r\n  at android.os.Parcel.readException (Parcel.java:2056)\r\n  at android.os.Parcel.readException (Parcel.java:2004)\r\n  at android.app.admin.IDevicePolicyManager$Stub$Proxy.setNetworkLoggingEnabled (IDevicePolicyManager.java:15305)\r\n  at android.app.admin.DevicePolicyManager.setNetworkLoggingEnabled (DevicePolicyManager.java:11627)\r\n  at com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging.onStart (EnableNetworkLogging.kt:27)\r\n  at android.app.Instrumentation$InstrumentationThread.run (Instrumentation.java:2209)\r\nCaused by android.os.RemoteException: Remote stack trace:\r\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminWithPolicyForUidLocked (DevicePolicyManagerService.java:3259)\r\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminOrCheckPermissionForCallerLocked (DevicePolicyManagerService.java:3155)\r\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminForCallerLocked (DevicePolicyManagerService.java:3136)\r\n  at com.android.server.devicepolicy.DevicePolicyManagerService.enforceCanManageScopeOrCheckPermission (DevicePolicyManagerService.java:7218)\r\n  at com.android.server.devicepolicy.DevicePolicyManagerService.enforceCanManageScope (DevicePolicyManagerService.java:7204)\r\n\r\n```\r\n\r\nI need assistance in resolving this specific error. Any help or guidance would be greatly appreciated.","title":"Getting &#39;No active admin&#39; SecurityException in Android 10 - how to resolve?","body":"<p>I am encountering an error in the pre-launch report on the Google Play Console during testing. The error message is as follows:</p>\n<pre><code>java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n</code></pre>\n<p>This error occurs specifically in Android 10 (SDK 29). The full error summary is as follows:</p>\n<pre><code>\nException Process: com.google.android.apps.mtaas.deviceadmin, PID: 4380\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n  at android.os.Parcel.createException (Parcel.java:2088)\n  at android.os.Parcel.readException (Parcel.java:2056)\n  at android.os.Parcel.readException (Parcel.java:2004)\n  at android.app.admin.IDevicePolicyManager$Stub$Proxy.setNetworkLoggingEnabled (IDevicePolicyManager.java:15305)\n  at android.app.admin.DevicePolicyManager.setNetworkLoggingEnabled (DevicePolicyManager.java:11627)\n  at com.google.android.apps.mtaas.deviceadmin.EnableNetworkLogging.onStart (EnableNetworkLogging.kt:27)\n  at android.app.Instrumentation$InstrumentationThread.run (Instrumentation.java:2209)\nCaused by android.os.RemoteException: Remote stack trace:\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminWithPolicyForUidLocked (DevicePolicyManagerService.java:3259)\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminOrCheckPermissionForCallerLocked (DevicePolicyManagerService.java:3155)\n  at com.android.server.devicepolicy.DevicePolicyManagerService.getActiveAdminForCallerLocked (DevicePolicyManagerService.java:3136)\n  at com.android.server.devicepolicy.DevicePolicyManagerService.enforceCanManageScopeOrCheckPermission (DevicePolicyManagerService.java:7218)\n  at com.android.server.devicepolicy.DevicePolicyManagerService.enforceCanManageScope (DevicePolicyManagerService.java:7204)\n\n</code></pre>\n<p>I need assistance in resolving this specific error. Any help or guidance would be greatly appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":20034190,"reputation":1,"user_id":14686307,"display_name":"Barabba"},"score":0,"creation_date":1689611375,"post_id":76706436,"comment_id":135234779,"body_markdown":"I searched for a while, and all the similar questions are for different depenencies, so i decided to create a question too.","body":"I searched for a while, and all the similar questions are for different depenencies, so i decided to create a question too."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689616518,"post_id":76706436,"comment_id":135235817,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1689620313,"post_id":76706436,"comment_id":135236573,"body_markdown":"You’re depending on Tomcat 9, which doesn’t support the JakartaEE version of the servlet API.  Spring Boot 3 requires at least Tomcat 10.  In fact it provides such a dependency, so you shouldn’t need to specify one in your POM.","body":"You’re depending on Tomcat 9, which doesn’t support the JakartaEE version of the servlet API.  Spring Boot 3 requires at least Tomcat 10.  In fact it provides such a dependency, so you shouldn’t need to specify one in your POM."},{"owner":{"account_id":20034190,"reputation":1,"user_id":14686307,"display_name":"Barabba"},"score":0,"creation_date":1689669207,"post_id":76706436,"comment_id":135242708,"body_markdown":"Now i&#39;m getting this two errors: Caused by: java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest","body":"Now i&#39;m getting this two errors: Caused by: java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest"},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1689792075,"post_id":76706436,"comment_id":135265200,"body_markdown":"Sounds like you have some other dependency that requires the old javax servlet API.  Does the full stack trace give any clue as to what’s requiring that class?","body":"Sounds like you have some other dependency that requires the old javax servlet API.  Does the full stack trace give any clue as to what’s requiring that class?"},{"owner":{"account_id":20034190,"reputation":1,"user_id":14686307,"display_name":"Barabba"},"score":0,"creation_date":1689845821,"post_id":76706436,"comment_id":135272176,"body_markdown":"There&#39;re a lot of lines all relative to spring-core, spring-plugin-core, spring-context and spring-boot","body":"There&#39;re a lot of lines all relative to spring-core, spring-plugin-core, spring-context and spring-boot"},{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":0,"creation_date":1689939790,"post_id":76706436,"comment_id":135287521,"body_markdown":"You basically need to sort out your dependencies to be consistent. For example, you’re using `spring-boot-starter-parent` 3.0.0 but I just noticed you also have `spring-boot-starter-security` 2.7.5.  Ideally you don’t want to be specifying explicit versions on anything you don’t have to (and especially not on Spring dependencies), because the parent POM will define consistent versions.","body":"You basically need to sort out your dependencies to be consistent. For example, you’re using <code>spring-boot-starter-parent</code> 3.0.0 but I just noticed you also have <code>spring-boot-starter-security</code> 2.7.5.  Ideally you don’t want to be specifying explicit versions on anything you don’t have to (and especially not on Spring dependencies), because the parent POM will define consistent versions."}],"owner":{"account_id":20034190,"reputation":1,"user_id":14686307,"display_name":"Barabba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689611294,"creation_date":1689611294,"question_id":76706436,"body_markdown":"I&#39;m working on a spring project that i leaved for a while, in fact i had to update some dependency and i think i wrong something.\r\n\r\nNow, when i try to run the project i get this in the stacktrace: \r\n\r\n`Description:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.configureContext(TomcatServletWebServerFactory.java:378)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.apache.catalina.Context.addServletContainerInitializer(jakarta.servlet.ServletContainerInitializer, java.util.Set)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/Fradm/.m2/repository/org/springframework/boot/spring-boot/3.0.0/spring-boot-3.0.0.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\r\n\r\nThe called method&#39;s class, org.apache.catalina.Context, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/Fradm/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.73/tomcat-embed-core-9.0.73.jar!/org/apache/catalina/Context.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.catalina.Context: file:/C:/Users/Fradm/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.73/tomcat-embed-core-9.0.73.jar`\r\n\r\n\r\npom.xml:\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;art.idmax&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;idmaxart&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;idmaxart&lt;/name&gt;\r\n\t&lt;description&gt;Idmax.art back-end&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.73&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\t\tSWAGGER DOCUMENTATION  --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n`","title":"Correct the classpath of your application so that it contains compatible versions of the classes...?","body":"<p>I'm working on a spring project that i leaved for a while, in fact i had to update some dependency and i think i wrong something.</p>\n<p>Now, when i try to run the project i get this in the stacktrace:</p>\n<p>`Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<pre><code>org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.configureContext(TomcatServletWebServerFactory.java:378)\n</code></pre>\n<p>The following method did not exist:</p>\n<pre><code>'void org.apache.catalina.Context.addServletContainerInitializer(jakarta.servlet.ServletContainerInitializer, java.util.Set)'\n</code></pre>\n<p>The calling method's class, org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory, was loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/Fradm/.m2/repository/org/springframework/boot/spring-boot/3.0.0/spring-boot-3.0.0.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\n</code></pre>\n<p>The called method's class, org.apache.catalina.Context, is available from the following locations:</p>\n<pre><code>jar:file:/C:/Users/Fradm/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.73/tomcat-embed-core-9.0.73.jar!/org/apache/catalina/Context.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<pre><code>org.apache.catalina.Context: file:/C:/Users/Fradm/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.73/tomcat-embed-core-9.0.73.jar`\n</code></pre>\n<p>pom.xml:</p>\n<p>`\n\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.0.0\n \n\nart.idmax\nidmaxart\n0.0.1-SNAPSHOT\nidmaxart\nIdmax.art back-end\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n        &lt;version&gt;5.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.11.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;9.0.73&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.1.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--        SWAGGER DOCUMENTATION  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n`\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":18264024,"reputation":50,"user_id":13296195,"display_name":"Frangu Mădălin"},"score":0,"creation_date":1689284494,"post_id":76683314,"comment_id":135195860,"body_markdown":"have you tried [this](https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur/67002271#67002271)?","body":"have you tried <a href=\"https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur/67002271#67002271\">this</a>?"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1689285559,"post_id":76683314,"comment_id":135195988,"body_markdown":"Try Android studio -&gt; File -&gt; Project structure.  You can set the project sdk under Project  tab.","body":"Try Android studio -&gt; File -&gt; Project structure.  You can set the project sdk under Project  tab."}],"answers":[{"tags":[],"owner":{"account_id":28603700,"reputation":1,"user_id":21900081,"display_name":"Janis Wehen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689610941,"creation_date":1689317908,"answer_id":76685349,"question_id":76683314,"body_markdown":"Setting the jdk version manually, that gradel uses, in the `gradle.properties` file by adding the line `org.gradle.java.home=&lt;path ot jdk 15&gt;` worked for me. I still think it is weird that flutter completely ignores the jdk version specified by `$JAVA_HOME`.\r\n\r\nThanks for the help :)","title":"flutter not using jdk from JAVA_HOME","body":"<p>Setting the jdk version manually, that gradel uses, in the <code>gradle.properties</code> file by adding the line <code>org.gradle.java.home=&lt;path ot jdk 15&gt;</code> worked for me. I still think it is weird that flutter completely ignores the jdk version specified by <code>$JAVA_HOME</code>.</p>\n<p>Thanks for the help :)</p>\n"}],"owner":{"account_id":28603700,"reputation":1,"user_id":21900081,"display_name":"Janis Wehen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689610941,"creation_date":1689283325,"question_id":76683314,"body_markdown":"I am currently developing a Flutter application on my Mac and am trying to test my app on an Android emulator. To facilitate this, I have installed Android Studio along with the Android SDK. Running `flutter doctor --verbose` shows that everything has been set up correctly.(no warings or errors)\r\n\r\nHowever, I am encountering an issue related to Java versions. When I attempt to start my app for Android, I receive an error stating that my Gradle version (Gradle-6.9.3, which I prefer not to change) is incompatible with my JDK. According to the error message, my system needs to use Java 15 to achieve compatibility.\r\n\r\nWhen I run `java --version`, the output indicates that I am indeed using Java 15. Furthermore, I&#39;ve set my `$JAVA_HOME` environment variable to the output of `/usr/libexec/java_home -v 15`, so it should be referencing the correct Java version.\r\n\r\nHowever, the issue persists. When I execute `flutter doctor --verbose`, it returns `Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)`. This suggests that Flutter is using Java 17 instead of Java 15, which is referenced by `$JAVA_HOME`.\r\n\r\nMy hypothesis is that either Flutter or Android Studio might be using their own bundled JDK, which seems to override my system settings. I am looking for a way to change this behavior so that Flutter uses the JDK version specified in `$JAVA_HOME`.\r\n\r\nIn an attempt to solve this issue, I have installed Java 15 and configured the `$JAVA_HOME` environment variable accordingly. Additionally, I modified the Flutter command so that it sets the correct `$JAVA_HOME` value right before executing Flutter.\r\n\r\nDespite these adjustments, it seems that Flutter is still ignoring the `$JAVA_HOME` variable and opting to use the bundled Java version instead. This is problematic because I need to use Java 15 for compatibility with other tools and libraries in my project.\r\n\r\nI considered the possibility of completely removing Java 17 from my system as a potential solution. However, when I ran `sudo /usr/bin/find / -name &quot;*.jdk&quot;` to locate any installed JDKs, I was unable to find JDK 17. Also, running `/usr/libexec/java_home -V` does not show JDK 17.\r\n\r\nI expected Flutter to use the JDK version as specified in the `$JAVA_HOME` environment variable. Instead, it appears to be using its own bundled version, irrespective of my system settings.\r\n\r\nDoes anyone have an idea about how to rectify this? Any advice or guidance would be greatly appreciated. Thank you!\r\n\r\n","title":"flutter not using jdk from JAVA_HOME","body":"<p>I am currently developing a Flutter application on my Mac and am trying to test my app on an Android emulator. To facilitate this, I have installed Android Studio along with the Android SDK. Running <code>flutter doctor --verbose</code> shows that everything has been set up correctly.(no warings or errors)</p>\n<p>However, I am encountering an issue related to Java versions. When I attempt to start my app for Android, I receive an error stating that my Gradle version (Gradle-6.9.3, which I prefer not to change) is incompatible with my JDK. According to the error message, my system needs to use Java 15 to achieve compatibility.</p>\n<p>When I run <code>java --version</code>, the output indicates that I am indeed using Java 15. Furthermore, I've set my <code>$JAVA_HOME</code> environment variable to the output of <code>/usr/libexec/java_home -v 15</code>, so it should be referencing the correct Java version.</p>\n<p>However, the issue persists. When I execute <code>flutter doctor --verbose</code>, it returns <code>Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)</code>. This suggests that Flutter is using Java 17 instead of Java 15, which is referenced by <code>$JAVA_HOME</code>.</p>\n<p>My hypothesis is that either Flutter or Android Studio might be using their own bundled JDK, which seems to override my system settings. I am looking for a way to change this behavior so that Flutter uses the JDK version specified in <code>$JAVA_HOME</code>.</p>\n<p>In an attempt to solve this issue, I have installed Java 15 and configured the <code>$JAVA_HOME</code> environment variable accordingly. Additionally, I modified the Flutter command so that it sets the correct <code>$JAVA_HOME</code> value right before executing Flutter.</p>\n<p>Despite these adjustments, it seems that Flutter is still ignoring the <code>$JAVA_HOME</code> variable and opting to use the bundled Java version instead. This is problematic because I need to use Java 15 for compatibility with other tools and libraries in my project.</p>\n<p>I considered the possibility of completely removing Java 17 from my system as a potential solution. However, when I ran <code>sudo /usr/bin/find / -name &quot;*.jdk&quot;</code> to locate any installed JDKs, I was unable to find JDK 17. Also, running <code>/usr/libexec/java_home -V</code> does not show JDK 17.</p>\n<p>I expected Flutter to use the JDK version as specified in the <code>$JAVA_HOME</code> environment variable. Instead, it appears to be using its own bundled version, irrespective of my system settings.</p>\n<p>Does anyone have an idea about how to rectify this? Any advice or guidance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689609330,"creation_date":1689609330,"answer_id":76706212,"question_id":76703922,"body_markdown":"So, you do this:\r\n\r\n     .handle((p,h) -&gt; Mono.just(&quot;foo&quot;))\r\n     .handle(toUpperCase())\r\n\r\nThe Framework doesn&#39;t know (and really doesn&#39;t care) that you return a `Mono` from the first handler. The second handler expects from us a `String` as an input payload type, but your one is a `Mono`.\r\n\r\nFor that old version I would suggest to fix it like this:\r\n\r\n    .handle((p,h) -&gt; Mono.just(&quot;foo&quot;), e -&gt; e.async(true)).\r\n\r\nIt covers both `Future` and Reactive Streams `Publisher` reply message handling.","title":"Chain handlers returning Mono","body":"<p>So, you do this:</p>\n<pre><code> .handle((p,h) -&gt; Mono.just(&quot;foo&quot;))\n .handle(toUpperCase())\n</code></pre>\n<p>The Framework doesn't know (and really doesn't care) that you return a <code>Mono</code> from the first handler. The second handler expects from us a <code>String</code> as an input payload type, but your one is a <code>Mono</code>.</p>\n<p>For that old version I would suggest to fix it like this:</p>\n<pre><code>.handle((p,h) -&gt; Mono.just(&quot;foo&quot;), e -&gt; e.async(true)).\n</code></pre>\n<p>It covers both <code>Future</code> and Reactive Streams <code>Publisher</code> reply message handling.</p>\n"}],"owner":{"account_id":17045705,"reputation":112,"user_id":19623995,"display_name":"Maxime Dutaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76706212,"answer_count":1,"score":0,"last_activity_date":1689609330,"creation_date":1689592645,"question_id":76703922,"body_markdown":"I am trying to make a flow that starts from a WebFlux.inboundChannelAdapter, use a first handler that returns a Mono, and then a second one that is imperative.\r\nEventually I would like the REST call to return only once the flow has completed.\r\n\r\nFrom what I understood from the [Reactive Streams Support documentation][1] I should not have to modify my imperative handler to take a Mono as parameter. Unfortunately I keep facing the exception:\r\n\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred in message handler [ServiceActivator for [org.springframework.integration.handler.LambdaMessageProcessor@7f08caf] (simple.org.springframework.integration.config.ConsumerEndpointFactoryBean#1)]; nested exception is java.lang.ClassCastException: reactor.core.publisher.MonoJust cannot be cast to java.lang.String, failedMessage=GenericMessage [payload=MonoJust, headers={id=13de5ed2-0100-9b5c-323b-4d213a05a582, timestamp=1689592273907}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:64)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:87)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:36)\r\n\tat org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:295)\r\n\tat org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:276)\r\n\tat reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160)\r\n\tat reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:200)\r\n\tat reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:490)\r\n\tat reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:281)\r\n\tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\r\n\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\r\n\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\r\n\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\r\n\tat org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:82)\r\n\tat org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:71)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:456)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:324)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:267)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:231)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:55)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:87)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:36)\r\n\tat org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:295)\r\n\tat org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:276)\r\n\tat reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160)\r\n\tat reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:200)\r\n\tat reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:490)\r\n\tat reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:281)\r\n\tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\r\n\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\r\n\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\r\n\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\r\n\tat org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:82)\r\n\tat org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:71)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.integration.channel.FluxMessageChannel.lambda$subscribeTo$6(FluxMessageChannel.java:147)\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:196)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.lang.ClassCastException: reactor.core.publisher.MonoJust cannot be cast to java.lang.String\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:105)\r\n\tat org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:55)\r\n\t... 54 more\r\n```\r\nSpring integration version: 5.5.18\r\nJava: 1.8\r\n\r\nI reproduce the issue with a small demo application:\r\n\r\n    @Bean\r\n\tIntegrationFlow flow() {\r\n\r\n\t\treturn IntegrationFlows\r\n\t\t\t\t.from(WebFlux.inboundChannelAdapter(&quot;/start&quot;)\r\n\t\t\t\t\t\t.requestMapping(m -&gt; m.methods(HttpMethod.GET))\r\n\t\t\t\t)\r\n\t\t\t\t.handle((p,h) -&gt; Mono.just(&quot;foo&quot;)) //In reality the is a WebClient involved here\r\n\t\t\t\t.handle(toUpperCase())\r\n\t\t\t\t.get();\r\n\t}\r\n\r\n\tGenericHandler&lt;String&gt; toUpperCase() {\r\n\t\treturn (p,h) -&gt; p.toUpperCase();\r\n\t}\r\n\r\nI have tried a combination of `.channel(c -&gt; c.flux())` and `.reactive()` on handler&#39;s `ConsumerEndpointSpec` but without success.\r\n\r\n\r\nCould you please help me to figure out a solution ?\r\n\r\n  [1]: https://docs.spring.io/spring-integration/docs/5.5.16/reference/html/reactive-streams.html","title":"Chain handlers returning Mono","body":"<p>I am trying to make a flow that starts from a WebFlux.inboundChannelAdapter, use a first handler that returns a Mono, and then a second one that is imperative.\nEventually I would like the REST call to return only once the flow has completed.</p>\n<p>From what I understood from the <a href=\"https://docs.spring.io/spring-integration/docs/5.5.16/reference/html/reactive-streams.html\" rel=\"nofollow noreferrer\">Reactive Streams Support documentation</a> I should not have to modify my imperative handler to take a Mono as parameter. Unfortunately I keep facing the exception:</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred in message handler [ServiceActivator for [org.springframework.integration.handler.LambdaMessageProcessor@7f08caf] (simple.org.springframework.integration.config.ConsumerEndpointFactoryBean#1)]; nested exception is java.lang.ClassCastException: reactor.core.publisher.MonoJust cannot be cast to java.lang.String, failedMessage=GenericMessage [payload=MonoJust, headers={id=13de5ed2-0100-9b5c-323b-4d213a05a582, timestamp=1689592273907}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:64)\n    at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:87)\n    at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:36)\n    at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:295)\n    at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:276)\n    at reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160)\n    at reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:200)\n    at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:490)\n    at reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:281)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\n    at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\n    at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\n    at org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:82)\n    at org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:71)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:456)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:324)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:267)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:231)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:55)\n    at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:87)\n    at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:36)\n    at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:295)\n    at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:276)\n    at reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160)\n    at reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:200)\n    at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:490)\n    at reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:281)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\n    at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\n    at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\n    at org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:82)\n    at org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:71)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.integration.channel.FluxMessageChannel.lambda$subscribeTo$6(FluxMessageChannel.java:147)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:196)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.lang.ClassCastException: reactor.core.publisher.MonoJust cannot be cast to java.lang.String\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:105)\n    at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:105)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:55)\n    ... 54 more\n</code></pre>\n<p>Spring integration version: 5.5.18\nJava: 1.8</p>\n<p>I reproduce the issue with a small demo application:</p>\n<pre><code>@Bean\nIntegrationFlow flow() {\n\n    return IntegrationFlows\n            .from(WebFlux.inboundChannelAdapter(&quot;/start&quot;)\n                    .requestMapping(m -&gt; m.methods(HttpMethod.GET))\n            )\n            .handle((p,h) -&gt; Mono.just(&quot;foo&quot;)) //In reality the is a WebClient involved here\n            .handle(toUpperCase())\n            .get();\n}\n\nGenericHandler&lt;String&gt; toUpperCase() {\n    return (p,h) -&gt; p.toUpperCase();\n}\n</code></pre>\n<p>I have tried a combination of <code>.channel(c -&gt; c.flux())</code> and <code>.reactive()</code> on handler's <code>ConsumerEndpointSpec</code> but without success.</p>\n<p>Could you please help me to figure out a solution ?</p>\n"},{"tags":["java","spring-boot","querydsl"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689168863,"creation_date":1689168863,"answer_id":76671173,"question_id":76670068,"body_markdown":"The like operation is handled by using the `like()` or `contains()` functions (the diff is described [there][1]), so since you want to find any row that contains any of the words from your list, you would have to iterate and add **each** condition to your `BooleanBuilder`, something like this:\r\n```java\r\nfinal var builder = new BooleanBuilder();\r\n\r\nfor (String address : accountAddress.getAddressLine()) {\r\n    builder.or(qAccount.accAddress.like(&quot;%&quot; + address + &quot;%&quot;));\r\n}\r\n\r\nPredicate predicate = builder.getValue();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42562483/querydsl-like-surprise","title":"How to write &#39;like&#39; along with array operation query in QueryDsl using predicate","body":"<p>The like operation is handled by using the <code>like()</code> or <code>contains()</code> functions (the diff is described <a href=\"https://stackoverflow.com/questions/42562483/querydsl-like-surprise\">there</a>), so since you want to find any row that contains any of the words from your list, you would have to iterate and add <strong>each</strong> condition to your <code>BooleanBuilder</code>, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var builder = new BooleanBuilder();\n\nfor (String address : accountAddress.getAddressLine()) {\n    builder.or(qAccount.accAddress.like(&quot;%&quot; + address + &quot;%&quot;));\n}\n\nPredicate predicate = builder.getValue();\n</code></pre>\n"}],"owner":{"account_id":4036351,"reputation":1,"user_id":3320662,"display_name":"Sumith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689608650,"creation_date":1689161469,"question_id":76670068,"body_markdown":"I have a varchar field in PostgreSQL, let&#39;s say the column is &#39;address&#39; and list is [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]. I want to find any row in my table that has any of those words.\r\n\r\nHow do I write it using BoolenBuilder to create predicate? or by any means\r\n\r\n \r\n\r\n    final var builder = new BooleanBuilder();\r\n    builder.and(qAccount.accAddress.eqAny(accountAddress.getAddressLine()));\r\n    \r\n    \r\n    Predicate predicate = builder.getValue();\r\n\r\n** here ArrayPath&lt;String[], String&gt; accAddress1 = qAccount.accAddress;\r\n\r\n\r\n","title":"How to write &#39;like&#39; along with array operation query in QueryDsl using predicate","body":"<p>I have a varchar field in PostgreSQL, let's say the column is 'address' and list is ['foo', 'bar', 'baz']. I want to find any row in my table that has any of those words.</p>\n<p>How do I write it using BoolenBuilder to create predicate? or by any means</p>\n<pre><code>final var builder = new BooleanBuilder();\nbuilder.and(qAccount.accAddress.eqAny(accountAddress.getAddressLine()));\n\n\nPredicate predicate = builder.getValue();\n</code></pre>\n<p>** here ArrayPath&lt;String[], String&gt; accAddress1 = qAccount.accAddress;</p>\n"},{"tags":["java","arrays","max"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1689409692,"post_id":76692857,"comment_id":135211891,"body_markdown":"You are basically only comparing the last two elements. You should only overwrite the `max` variable if an element is indeed greater than the current maximum.","body":"You are basically only comparing the last two elements. You should only overwrite the <code>max</code> variable if an element is indeed greater than the current maximum."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689412790,"post_id":76692857,"comment_id":135212218,"body_markdown":"I wonder the reason for &quot;Sum&quot; in the name of the `maximizeSum()` method","body":"I wonder the reason for &quot;Sum&quot; in the name of the <code>maximizeSum()</code> method"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689409791,"creation_date":1689409791,"answer_id":76692896,"question_id":76692857,"body_markdown":"You&#39;re currently looking for the max element between each value and it&#39;s next, so at the end you just get the max between the last value and the previous one\r\n\r\nTo find the max, get the max between the current value and the max you&#39;ve got so far. You can initialize your `max` to the first value and start iterate at the second (`i=1`) value\r\n\r\n    public static int maximizeSum(int[] nums) {\r\n        int max = nums[0];\r\n        for(int i=1; i&lt;nums.length ; i++){\r\n            max = Math.max(nums[i], max);\r\n        }\r\n        return max;\r\n    }","title":"Showing an wrong element while finding max element in the array","body":"<p>You're currently looking for the max element between each value and it's next, so at the end you just get the max between the last value and the previous one</p>\n<p>To find the max, get the max between the current value and the max you've got so far. You can initialize your <code>max</code> to the first value and start iterate at the second (<code>i=1</code>) value</p>\n<pre><code>public static int maximizeSum(int[] nums) {\n    int max = nums[0];\n    for(int i=1; i&lt;nums.length ; i++){\n        max = Math.max(nums[i], max);\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689420491,"creation_date":1689420491,"answer_id":76693519,"question_id":76692857,"body_markdown":"Your algorithm is incorrect.\r\n\r\nYou are simply evaluating the maximum of every two elements.  \r\nThe last two are _1_ and _7_, thus _max_ is assigned _7_.\r\n\r\nCheck _max_ before assigning the value.\r\n\r\n```java\r\npublic static int maximizeSum(int[] nums) {\r\n    int max = nums[0], value;\r\n    for(int i=0; i&lt;nums.length - 1; i++){\r\n        value = Math.max(nums[i],nums[i+1]);\r\n        if (value &gt; max) max = value;\r\n    }\r\n    return max;\r\n}\r\n```\r\n\r\nAnother way to do this is one item at a time, as opposed to every two.\r\n\r\n```java\r\nint max = nums[0];\r\nfor (int value : nums) {\r\n    if (value &gt; max) max = value;\r\n}\r\nreturn max;\r\n```\r\n\r\nAdditionally, you can use the _Collections#max_ method, although you&#39;d need to use an _Integer_ array, and not an _int_ array.\r\n\r\n```java\r\nCollections.max(Arrays.asList(nums));\r\n```","title":"Showing an wrong element while finding max element in the array","body":"<p>Your algorithm is incorrect.</p>\n<p>You are simply evaluating the maximum of every two elements.<br />\nThe last two are <em>1</em> and <em>7</em>, thus <em>max</em> is assigned <em>7</em>.</p>\n<p>Check <em>max</em> before assigning the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int maximizeSum(int[] nums) {\n    int max = nums[0], value;\n    for(int i=0; i&lt;nums.length - 1; i++){\n        value = Math.max(nums[i],nums[i+1]);\n        if (value &gt; max) max = value;\n    }\n    return max;\n}\n</code></pre>\n<p>Another way to do this is one item at a time, as opposed to every two.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int max = nums[0];\nfor (int value : nums) {\n    if (value &gt; max) max = value;\n}\nreturn max;\n</code></pre>\n<p>Additionally, you can use the <em>Collections#max</em> method, although you'd need to use an <em>Integer</em> array, and not an <em>int</em> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.max(Arrays.asList(nums));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28937097,"reputation":1,"user_id":22164429,"display_name":"absakran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689608631,"creation_date":1689608534,"answer_id":76706108,"question_id":76692857,"body_markdown":"When evaluating the method, the maximum value is determined by comparing each pair of adjacent values, without comparing the maximum value to those values. For example, in your code implementation, the method compares the first two numbers, where 10 is greater than 1, thus establishing 10 as the maximum value. Subsequently, it compares 10 and 2, which also yields the correct result. However, an issue arises when comparing 2 and 6, as it only compares 6 to 2, overlooking the previous maximum value of 10. Consequently, the logic flaw lies in consistently comparing adjacent numbers without considering the maximum value. To address this, the solution entails identifying the maximum value and subsequently comparing it to the remaining numbers, rather than solely comparing adjacent pairs.\r\n\r\n\r\nAlternatively, you can utilize built-in functions in Java to find the maximum value within a list. This approach eliminates the need for manual comparison and ensures a more efficient and reliable solution.","title":"Showing an wrong element while finding max element in the array","body":"<p>When evaluating the method, the maximum value is determined by comparing each pair of adjacent values, without comparing the maximum value to those values. For example, in your code implementation, the method compares the first two numbers, where 10 is greater than 1, thus establishing 10 as the maximum value. Subsequently, it compares 10 and 2, which also yields the correct result. However, an issue arises when comparing 2 and 6, as it only compares 6 to 2, overlooking the previous maximum value of 10. Consequently, the logic flaw lies in consistently comparing adjacent numbers without considering the maximum value. To address this, the solution entails identifying the maximum value and subsequently comparing it to the remaining numbers, rather than solely comparing adjacent pairs.</p>\n<p>Alternatively, you can utilize built-in functions in Java to find the maximum value within a list. This approach eliminates the need for manual comparison and ensures a more efficient and reliable solution.</p>\n"}],"owner":{"account_id":25981203,"reputation":21,"user_id":19694903,"display_name":"Vaibhav More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1689608631,"creation_date":1689409109,"question_id":76692857,"body_markdown":"Code:\r\n&lt;br&gt;\r\n\r\n    public class FindMax {\r\n        public static void main(String[] args) {\r\n            int[] nums = {1,10,2,6,7,9,8,5,8,3,1,3,10,5,8,3,9,3,8,2,3,3,10,5,8,8,4,7,2,3,4,3,10,8,7,9,1,3,4,2,6,6,9,6,2,10,10,4,6,3,4,1,1,3,8,4,10,3,9,5,3,10,4,7,10,7,1,7};\r\n            int max = maximizeSum(nums);\r\n            System.out.println(max);\r\n        }\r\n        public static int maximizeSum(int[] nums) {\r\n            int max = nums[0];\r\n            for(int i=0; i&lt;nums.length - 1; i++){\r\n                max = Math.max(nums[i],nums[i+1]);\r\n            }\r\n            return max;\r\n        }\r\n    } \r\n\r\n\r\n**In this code, it is showing an output 7 instead of showing output 10.**\r\n&lt;br&gt;\r\n\r\n\r\nI tried some other conditions, some are working correctly some are showing wrong output. Can anyone tell me why the incorrect output is showing for certain cases.","title":"Showing an wrong element while finding max element in the array","body":"<p>Code:\n<br></p>\n<pre><code>public class FindMax {\n    public static void main(String[] args) {\n        int[] nums = {1,10,2,6,7,9,8,5,8,3,1,3,10,5,8,3,9,3,8,2,3,3,10,5,8,8,4,7,2,3,4,3,10,8,7,9,1,3,4,2,6,6,9,6,2,10,10,4,6,3,4,1,1,3,8,4,10,3,9,5,3,10,4,7,10,7,1,7};\n        int max = maximizeSum(nums);\n        System.out.println(max);\n    }\n    public static int maximizeSum(int[] nums) {\n        int max = nums[0];\n        for(int i=0; i&lt;nums.length - 1; i++){\n            max = Math.max(nums[i],nums[i+1]);\n        }\n        return max;\n    }\n} \n</code></pre>\n<p><strong>In this code, it is showing an output 7 instead of showing output 10.</strong>\n<br></p>\n<p>I tried some other conditions, some are working correctly some are showing wrong output. Can anyone tell me why the incorrect output is showing for certain cases.</p>\n"},{"tags":["java","spring-boot","maven","google-cloud-platform","google-cloud-run"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1689604865,"post_id":76705192,"comment_id":135233367,"body_markdown":"What command do you run? Can you share more about your pipeline, dockerfile (if any) or whatever you do?","body":"What command do you run? Can you share more about your pipeline, dockerfile (if any) or whatever you do?"},{"owner":{"account_id":18624897,"reputation":1,"user_id":13574241,"display_name":"Ayodeji Adebola"},"score":0,"creation_date":1689608431,"post_id":76705192,"comment_id":135234157,"body_markdown":"I didn&#39;t use dockerfile. I have added the cloud.yaml i used for the configuration to the question","body":"I didn&#39;t use dockerfile. I have added the cloud.yaml i used for the configuration to the question"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1689608972,"post_id":76705192,"comment_id":135234274,"body_markdown":"What&#39;s the linux permission of ./mvnw binary?","body":"What&#39;s the linux permission of ./mvnw binary?"},{"owner":{"account_id":18624897,"reputation":1,"user_id":13574241,"display_name":"Ayodeji Adebola"},"score":0,"creation_date":1689610441,"post_id":76705192,"comment_id":135234579,"body_markdown":"I set it to executable","body":"I set it to executable"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1689611336,"post_id":76705192,"comment_id":135234772,"body_markdown":"Strange because it&#39;s exactly the meaning of your error!","body":"Strange because it&#39;s exactly the meaning of your error!"},{"owner":{"account_id":18624897,"reputation":1,"user_id":13574241,"display_name":"Ayodeji Adebola"},"score":0,"creation_date":1689611793,"post_id":76705192,"comment_id":135234871,"body_markdown":"hmm, thank you very much. I will check it again","body":"hmm, thank you very much. I will check it again"}],"owner":{"account_id":18624897,"reputation":1,"user_id":13574241,"display_name":"Ayodeji Adebola"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689608374,"creation_date":1689602264,"question_id":76705192,"body_markdown":"I am trying to deploy java project as an API via github to google cloud run but I keep getting permission denied. Here is the error I keep getting:\r\n\r\n*Buildpack&quot;: Failure: (ID: dc066188) executing command &quot;./mvnw clean package --batch-mode -DskipTests -Dhttp.keepAlive=false -f=pom.xml --quiet&quot;: fork/exec ./mvnw: permission denied *\r\n\r\nI have tried building the project with docker but I wasn&#39;t able to do that. I was able to push the project successfully to cloud run via github but the project doesn&#39;t build successfully. I tried changing the line endings to LF on visual studio code and github but it didn&#39;t bring a fix. Lastly, I also tried making the mvnw executable which didn&#39;t fix it still.\r\n\r\nThis is my cloud.yaml configuration file if it is any help\r\n\r\nsteps:\r\n  - name: &#39;gcr.io/cloud-builders/mvn&#39;\r\n    args: [&#39;clean&#39;, &#39;install&#39;, &#39;-DskipTests&#39;]\r\n  - name: &#39;gcr.io/cloud-builders/gcloud&#39;\r\n    args: [&#39;run&#39;, &#39;deploy&#39;, &#39;favdoctorapi&#39;, &#39;--image&#39;, &#39;gcr.io/$PROJECT_ID/favdoctorapi&#39;, &#39;--platform&#39;, &#39;managed&#39;, &#39;--region&#39;, &#39;us-central1&#39;]\r\n    dir: &#39;./&#39;","title":"How to deploy java springboot project on google cloud run","body":"<p>I am trying to deploy java project as an API via github to google cloud run but I keep getting permission denied. Here is the error I keep getting:</p>\n<p>*Buildpack&quot;: Failure: (ID: dc066188) executing command &quot;./mvnw clean package --batch-mode -DskipTests -Dhttp.keepAlive=false -f=pom.xml --quiet&quot;: fork/exec ./mvnw: permission denied *</p>\n<p>I have tried building the project with docker but I wasn't able to do that. I was able to push the project successfully to cloud run via github but the project doesn't build successfully. I tried changing the line endings to LF on visual studio code and github but it didn't bring a fix. Lastly, I also tried making the mvnw executable which didn't fix it still.</p>\n<p>This is my cloud.yaml configuration file if it is any help</p>\n<p>steps:</p>\n<ul>\n<li>name: 'gcr.io/cloud-builders/mvn'\nargs: ['clean', 'install', '-DskipTests']</li>\n<li>name: 'gcr.io/cloud-builders/gcloud'\nargs: ['run', 'deploy', 'favdoctorapi', '--image', 'gcr.io/$PROJECT_ID/favdoctorapi', '--platform', 'managed', '--region', 'us-central1']\ndir: './'</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689607360,"creation_date":1689607360,"answer_id":76705948,"question_id":76705470,"body_markdown":"#### Summary \r\n```getPayload```  method  has Mono which is non-blocking method and reactivie programing  , so when you invoke reactor method like mono flux ,please  in mention  your current thread .  last  , reactive program is unnecessary that get the javaobject ,  just provide some applier or function for compose and invoke .\r\n\r\n\r\n\r\nbelow is how to get the object and use subscribe to do next step . Alternatively, you can write your hander in  ```doOnNext``` instead of ```subscribe()```\r\n\r\n```java\r\n\r\n\r\npublic Mono&lt;String&gt; processData() {\r\n    // Perform your non-blocking operation and return a Mono\r\n    return Mono.just(&quot;Data&quot;);\r\n}\r\n\r\n\r\n// below is function for compose \r\npublic void doSomething() {\r\n    processData().subscribe(result -&gt; {\r\n        System.out.println(result);\r\n    });\r\n}\r\n```","title":"Remove block() method from reactive code response","body":"<h4>Summary</h4>\n<p><code>getPayload</code>  method  has Mono which is non-blocking method and reactivie programing  , so when you invoke reactor method like mono flux ,please  in mention  your current thread .  last  , reactive program is unnecessary that get the javaobject ,  just provide some applier or function for compose and invoke .</p>\n<p>below is how to get the object and use subscribe to do next step . Alternatively, you can write your hander in  <code>doOnNext</code> instead of <code>subscribe()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\npublic Mono&lt;String&gt; processData() {\n    // Perform your non-blocking operation and return a Mono\n    return Mono.just(&quot;Data&quot;);\n}\n\n\n// below is function for compose \npublic void doSomething() {\n    processData().subscribe(result -&gt; {\n        System.out.println(result);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689607908,"creation_date":1689604034,"question_id":76705470,"body_markdown":"I tried this client into Spring Cloud Gateway:\r\n\r\n      @Autowired\r\n      public WebClient webClient;\r\n        \r\n      public Mono&lt;Response&gt; getPayload(.......) {\r\n    \r\n        // Create custom headers\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        headers.add(.......);\r\n    \r\n        // Create the request body\r\n        MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\r\n        requestBody.add(....);\r\n    \r\n        // Make the POST request\r\n        Mono&lt;Response&gt; responseMono = webClient.method(HttpMethod.POST)\r\n                .uri(........)\r\n                .headers(httpHeaders -&gt; httpHeaders.addAll(headers))\r\n                .body(BodyInserters.fromValue(requestBody))\r\n                .retrieve()\r\n                .bodyToMono(Response.class);\r\n    \r\n        // Convert the Mono to a custom Java object\r\n        Mono&lt;Response&gt; customObjMono = responseMono.map(customObject -&gt; {\r\n          // Convert the CustomObject to CustomObj\r\n          Response customObj = new Response();\r\n          // Perform any necessary mapping or transformation\r\n          customObj.setAccessToken(customObject.getAccessToken());\r\n          return customObj;\r\n        });\r\n    \r\n        return customObjMono;\r\n      }\r\n    \r\n          Response token = client.getPayload(........).block();\r\n\r\nBut I get error at this `.block()` code:\r\n\r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-4\r\n    \tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.29.jar:3.4.29]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ org.springframework.web.filter.reactive.ServerWebExchangeContextFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\r\n    \t*__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n\r\nWhat is the proper way to implement this without `.block()` method?\r\n\r\nPS I tried also:\r\n\r\nMono&lt;Response&gt; token = client.getPayload(........);\r\n\r\n  \r\n\r\n      token.subscribe(transformedToken -&gt; {\r\n        // Handle the transformedToken object here\r\n        UaaToken plainJavaObject = transformedToken; // Assign transformedToken to a variable of type UaaToken\r\n        // You can return plainJavaObject or perform any other desired operations\r\n      });\r\n\r\nBut it&#39;s not clear how to get plainJavaObject from this `subscribe` code block.\r\n\r\nEDIT:\r\n\r\nHow I can simplify this code:\r\n\r\n    public Mono&lt;ResponseObject&gt; processData() {\r\n        // Perform your non-blocking operation and return a Mono\r\n        return Mono.just(ResponseObject);\r\n    }\r\n    \r\n    \r\n          AtomicReference&lt;ResponseObject&gt; plainJavaObject = new AtomicReference&lt;&gt;();\r\n          processData().subscribe(transformedToken -&gt; {\r\n            // Handle the transformedToken object here\r\n            plainJavaObject.set(transformedToken);\r\n          });\r\n          ResponseObject responseObject = plainJavaObject.get();","title":"Remove block() method from reactive code response","body":"<p>I tried this client into Spring Cloud Gateway:</p>\n<pre><code>  @Autowired\n  public WebClient webClient;\n    \n  public Mono&lt;Response&gt; getPayload(.......) {\n\n    // Create custom headers\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n    headers.add(.......);\n\n    // Create the request body\n    MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\n    requestBody.add(....);\n\n    // Make the POST request\n    Mono&lt;Response&gt; responseMono = webClient.method(HttpMethod.POST)\n            .uri(........)\n            .headers(httpHeaders -&gt; httpHeaders.addAll(headers))\n            .body(BodyInserters.fromValue(requestBody))\n            .retrieve()\n            .bodyToMono(Response.class);\n\n    // Convert the Mono to a custom Java object\n    Mono&lt;Response&gt; customObjMono = responseMono.map(customObject -&gt; {\n      // Convert the CustomObject to CustomObj\n      Response customObj = new Response();\n      // Perform any necessary mapping or transformation\n      customObj.setAccessToken(customObject.getAccessToken());\n      return customObj;\n    });\n\n    return customObjMono;\n  }\n\n      Response token = client.getPayload(........).block();\n</code></pre>\n<p>But I get error at this <code>.block()</code> code:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-4\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.29.jar:3.4.29]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerWebExchangeContextFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n</code></pre>\n<p>What is the proper way to implement this without <code>.block()</code> method?</p>\n<p>PS I tried also:</p>\n<p>Mono token = client.getPayload(........);</p>\n<pre><code>  token.subscribe(transformedToken -&gt; {\n    // Handle the transformedToken object here\n    UaaToken plainJavaObject = transformedToken; // Assign transformedToken to a variable of type UaaToken\n    // You can return plainJavaObject or perform any other desired operations\n  });\n</code></pre>\n<p>But it's not clear how to get plainJavaObject from this <code>subscribe</code> code block.</p>\n<p>EDIT:</p>\n<p>How I can simplify this code:</p>\n<pre><code>public Mono&lt;ResponseObject&gt; processData() {\n    // Perform your non-blocking operation and return a Mono\n    return Mono.just(ResponseObject);\n}\n\n\n      AtomicReference&lt;ResponseObject&gt; plainJavaObject = new AtomicReference&lt;&gt;();\n      processData().subscribe(transformedToken -&gt; {\n        // Handle the transformedToken object here\n        plainJavaObject.set(transformedToken);\n      });\n      ResponseObject responseObject = plainJavaObject.get();\n</code></pre>\n"},{"tags":["java","docker","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":13208488,"reputation":13,"user_id":9539476,"display_name":"Susnigdha Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689546266,"creation_date":1689546266,"answer_id":76700641,"question_id":76475219,"body_markdown":"please refer to this framework: https://github.com/susnigdha1/PlaywrightTestAutomationFramework, I have added example of how to use Springboot, Cucumber, Junit5, Maven and Docker.","title":"playwright-java inside Docker RuntimeException: Failed to create driver","body":"<p>please refer to this framework: <a href=\"https://github.com/susnigdha1/PlaywrightTestAutomationFramework\" rel=\"nofollow noreferrer\">https://github.com/susnigdha1/PlaywrightTestAutomationFramework</a>, I have added example of how to use Springboot, Cucumber, Junit5, Maven and Docker.</p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689607788,"creation_date":1689607788,"answer_id":76706003,"question_id":76475219,"body_markdown":"The problem was because I was trying to run linux/amd64 images on M1 mac \r\n(Apple MacBook with ARM-based Apple Silicon).\r\n\r\nOnce switchedc to run everything as ARM architecture: linux/arm64, the problem went away. The exact cause is unclear, but most likely pure JDK issue.\r\n\r\nSome hints for using docker images:\r\n\r\nHaving envvar `DEBUG=pw:install` gives more Playwright logging related to browser install and connection.\r\n\r\n\r\n```Dockerfile\r\nARG BASE_IMAGE_ARCH=amd64\r\nFROM mcr.microsoft.com/playwright/java:v1.35.0-jammy-${BASE_IMAGE_ARCH}\r\n\r\n...\r\n\r\nENV PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=true\r\nENV DEBUG=pw:install\r\n\r\n```\r\n\r\nWith such Dockerfile it is still easy to try both arm64 and amd64","title":"playwright-java inside Docker RuntimeException: Failed to create driver","body":"<p>The problem was because I was trying to run linux/amd64 images on M1 mac\n(Apple MacBook with ARM-based Apple Silicon).</p>\n<p>Once switchedc to run everything as ARM architecture: linux/arm64, the problem went away. The exact cause is unclear, but most likely pure JDK issue.</p>\n<p>Some hints for using docker images:</p>\n<p>Having envvar <code>DEBUG=pw:install</code> gives more Playwright logging related to browser install and connection.</p>\n<pre><code>ARG BASE_IMAGE_ARCH=amd64\nFROM mcr.microsoft.com/playwright/java:v1.35.0-jammy-${BASE_IMAGE_ARCH}\n\n...\n\nENV PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=true\nENV DEBUG=pw:install\n\n</code></pre>\n<p>With such Dockerfile it is still easy to try both arm64 and amd64</p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76706003,"answer_count":2,"score":0,"last_activity_date":1689607788,"creation_date":1686756532,"question_id":76475219,"body_markdown":"When using playwright-java https://github.com/microsoft/playwright-java\r\nin Java/Spring\r\n\r\n```java\r\n  @PostConstruct\r\n  void init(){\r\n    LOGGER.info(&quot;Initializinig Playwright with Chromium ...&quot;);\r\n    Playwright playwright = Playwright.create();\r\n    browser = playwright.chromium().launch(); // Page.pdf only supported in headless Chromium\r\n  }\r\n```\r\n\r\nI get Exception (See log below). I understand that I need to find a way to look inside running container temp .sh file, I would expect Java app using playwright-java running inside microsoft.com/playwright/java container (of the same v1.35.0) should just work.\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;playwrightPdfConverterService&#39;: Invocation of init method failed; nested exception is java.lang.RuntimeException: Failed to create driver\r\n2023-06-14T15:05:31.174236127Z \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)\r\n2023-06-14T15:05:31.174238335Z \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\r\n2023-06-14T15:05:31.174240377Z \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\r\n2023-06-14T15:05:31.174242293Z \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n2023-06-14T15:05:31.174244168Z \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n2023-06-14T15:05:31.174246085Z \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n2023-06-14T15:05:31.174250960Z \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n2023-06-14T15:05:31.174286252Z \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n2023-06-14T15:05:31.174289335Z \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n2023-06-14T15:05:31.174291252Z \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n2023-06-14T15:05:31.174293168Z \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n2023-06-14T15:05:31.174296127Z \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n2023-06-14T15:05:31.174298168Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n2023-06-14T15:05:31.174300085Z \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n2023-06-14T15:05:31.174302293Z \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n2023-06-14T15:05:31.174304168Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n2023-06-14T15:05:31.174306002Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n2023-06-14T15:05:31.174307793Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n2023-06-14T15:05:31.174309543Z \tat com.company.pdf.Application.main(Application.java:12)\r\n2023-06-14T15:05:31.174311293Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-06-14T15:05:31.174313085Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n2023-06-14T15:05:31.174314918Z \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-06-14T15:05:31.174316752Z \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n2023-06-14T15:05:31.174318460Z \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n2023-06-14T15:05:31.174320293Z \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n2023-06-14T15:05:31.174322085Z \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n2023-06-14T15:05:31.174323793Z \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n2023-06-14T15:05:31.174325585Z Caused by: java.lang.RuntimeException: Failed to create driver\r\n2023-06-14T15:05:31.174327293Z \tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\r\n2023-06-14T15:05:31.174330835Z \tat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\r\n2023-06-14T15:05:31.174334460Z \tat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\r\n2023-06-14T15:05:31.174340127Z \tat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\r\n2023-06-14T15:05:31.174343460Z \tat com.microsoft.playwright.Playwright.create(Playwright.java:110)\r\n2023-06-14T15:05:31.174345335Z \tat com.microsoft.playwright.Playwright.create(Playwright.java:114)\r\n2023-06-14T15:05:31.174347085Z \tat com.company.pdf.converter.PlaywrightPdfConverterService.init(PlaywrightPdfConverterService.java:29)\r\n2023-06-14T15:05:31.174348835Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-06-14T15:05:31.174429543Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n2023-06-14T15:05:31.174448960Z \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-06-14T15:05:31.174451293Z \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n2023-06-14T15:05:31.174453127Z \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)\r\n2023-06-14T15:05:31.174455127Z \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)\r\n2023-06-14T15:05:31.174457127Z \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)\r\n2023-06-14T15:05:31.174458960Z \t... 26 common frames omitted\r\n2023-06-14T15:05:31.174460460Z Caused by: java.io.IOException: Cannot run program &quot;/tmp/playwright-java-7667674547892745859/playwright.sh&quot;: error=0, Failed to exec spawn helper: pid: 36, exit value: 1\r\n2023-06-14T15:05:31.174462377Z \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\r\n2023-06-14T15:05:31.174464043Z \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\n2023-06-14T15:05:31.174465585Z \tat com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:93)\r\n2023-06-14T15:05:31.174467252Z \tat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\r\n2023-06-14T15:05:31.174468877Z \tat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\r\n2023-06-14T15:05:31.174472752Z \tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\r\n2023-06-14T15:05:31.174475377Z \t... 39 common frames omitted\r\n2023-06-14T15:05:31.174477002Z Caused by: java.io.IOException: error=0, Failed to exec spawn helper: pid: 36, exit value: 1\r\n2023-06-14T15:05:31.174478668Z \tat java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n2023-06-14T15:05:31.174480335Z \tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:314)\r\n2023-06-14T15:05:31.174482127Z \tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\r\n2023-06-14T15:05:31.174496252Z \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\r\n2023-06-14T15:05:31.174498960Z \t... 44 common frames omitted\r\n2023-06-14T15:05:31.174500585Z \r\n```\r\n\r\nDockerfile\r\n```dockerfile\r\nFROM mcr.microsoft.com/playwright/java:v1.35.0-jammy-amd64\r\n# Ubuntu 22.04-based image with java 17, mvn 3.8.8\r\n# and chromium-1064  ffmpeg-1009  firefox-1408  webkit-1848\r\n# See https://github.com/microsoft/playwright-java/blob/main/utils/docker/Dockerfile.jammy\r\n# For tags and available platform see\r\n# https://mcr.microsoft.com/en-us/product/playwright/java/tags\r\n\r\nWORKDIR /opt\r\n\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} ./company-pdf-service.jar\r\n\r\n\r\n\r\n# run server\r\nEXPOSE 8300\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;./company-pdf-service.jar&quot;]\r\n```\r\n\r\n","title":"playwright-java inside Docker RuntimeException: Failed to create driver","body":"<p>When using playwright-java <a href=\"https://github.com/microsoft/playwright-java\" rel=\"nofollow noreferrer\">https://github.com/microsoft/playwright-java</a>\nin Java/Spring</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostConstruct\n  void init(){\n    LOGGER.info(&quot;Initializinig Playwright with Chromium ...&quot;);\n    Playwright playwright = Playwright.create();\n    browser = playwright.chromium().launch(); // Page.pdf only supported in headless Chromium\n  }\n</code></pre>\n<p>I get Exception (See log below). I understand that I need to find a way to look inside running container temp .sh file, I would expect Java app using playwright-java running inside microsoft.com/playwright/java container (of the same v1.35.0) should just work.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'playwrightPdfConverterService': Invocation of init method failed; nested exception is java.lang.RuntimeException: Failed to create driver\n2023-06-14T15:05:31.174236127Z  at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)\n2023-06-14T15:05:31.174238335Z  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\n2023-06-14T15:05:31.174240377Z  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\n2023-06-14T15:05:31.174242293Z  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n2023-06-14T15:05:31.174244168Z  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n2023-06-14T15:05:31.174246085Z  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n2023-06-14T15:05:31.174250960Z  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n2023-06-14T15:05:31.174286252Z  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n2023-06-14T15:05:31.174289335Z  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n2023-06-14T15:05:31.174291252Z  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n2023-06-14T15:05:31.174293168Z  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n2023-06-14T15:05:31.174296127Z  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n2023-06-14T15:05:31.174298168Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n2023-06-14T15:05:31.174300085Z  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n2023-06-14T15:05:31.174302293Z  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n2023-06-14T15:05:31.174304168Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n2023-06-14T15:05:31.174306002Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n2023-06-14T15:05:31.174307793Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n2023-06-14T15:05:31.174309543Z  at com.company.pdf.Application.main(Application.java:12)\n2023-06-14T15:05:31.174311293Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-06-14T15:05:31.174313085Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n2023-06-14T15:05:31.174314918Z  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-06-14T15:05:31.174316752Z  at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n2023-06-14T15:05:31.174318460Z  at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n2023-06-14T15:05:31.174320293Z  at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n2023-06-14T15:05:31.174322085Z  at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n2023-06-14T15:05:31.174323793Z  at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n2023-06-14T15:05:31.174325585Z Caused by: java.lang.RuntimeException: Failed to create driver\n2023-06-14T15:05:31.174327293Z  at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\n2023-06-14T15:05:31.174330835Z  at com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\n2023-06-14T15:05:31.174334460Z  at com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\n2023-06-14T15:05:31.174340127Z  at com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\n2023-06-14T15:05:31.174343460Z  at com.microsoft.playwright.Playwright.create(Playwright.java:110)\n2023-06-14T15:05:31.174345335Z  at com.microsoft.playwright.Playwright.create(Playwright.java:114)\n2023-06-14T15:05:31.174347085Z  at com.company.pdf.converter.PlaywrightPdfConverterService.init(PlaywrightPdfConverterService.java:29)\n2023-06-14T15:05:31.174348835Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-06-14T15:05:31.174429543Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n2023-06-14T15:05:31.174448960Z  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-06-14T15:05:31.174451293Z  at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n2023-06-14T15:05:31.174453127Z  at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)\n2023-06-14T15:05:31.174455127Z  at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)\n2023-06-14T15:05:31.174457127Z  at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)\n2023-06-14T15:05:31.174458960Z  ... 26 common frames omitted\n2023-06-14T15:05:31.174460460Z Caused by: java.io.IOException: Cannot run program &quot;/tmp/playwright-java-7667674547892745859/playwright.sh&quot;: error=0, Failed to exec spawn helper: pid: 36, exit value: 1\n2023-06-14T15:05:31.174462377Z  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\n2023-06-14T15:05:31.174464043Z  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\n2023-06-14T15:05:31.174465585Z  at com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:93)\n2023-06-14T15:05:31.174467252Z  at com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\n2023-06-14T15:05:31.174468877Z  at com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\n2023-06-14T15:05:31.174472752Z  at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\n2023-06-14T15:05:31.174475377Z  ... 39 common frames omitted\n2023-06-14T15:05:31.174477002Z Caused by: java.io.IOException: error=0, Failed to exec spawn helper: pid: 36, exit value: 1\n2023-06-14T15:05:31.174478668Z  at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\n2023-06-14T15:05:31.174480335Z  at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:314)\n2023-06-14T15:05:31.174482127Z  at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:244)\n2023-06-14T15:05:31.174496252Z  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\n2023-06-14T15:05:31.174498960Z  ... 44 common frames omitted\n2023-06-14T15:05:31.174500585Z \n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM mcr.microsoft.com/playwright/java:v1.35.0-jammy-amd64\n# Ubuntu 22.04-based image with java 17, mvn 3.8.8\n# and chromium-1064  ffmpeg-1009  firefox-1408  webkit-1848\n# See https://github.com/microsoft/playwright-java/blob/main/utils/docker/Dockerfile.jammy\n# For tags and available platform see\n# https://mcr.microsoft.com/en-us/product/playwright/java/tags\n\nWORKDIR /opt\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} ./company-pdf-service.jar\n\n\n\n# run server\nEXPOSE 8300\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;./company-pdf-service.jar&quot;]\n</code></pre>\n"},{"tags":["java","data-structures","hashmap"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689560867,"post_id":76700776,"comment_id":135225840,"body_markdown":"Does this answer your question? [How to Flatten a HashMap?](https://stackoverflow.com/questions/54183766/how-to-flatten-a-hashmap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54183766/how-to-flatten-a-hashmap\">How to Flatten a HashMap?</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689566460,"post_id":76700776,"comment_id":135226245,"body_markdown":"Consider using the device as the key, and the gateway and distance as the value.","body":"Consider using the device as the key, and the gateway and distance as the value."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1689582274,"post_id":76700776,"comment_id":135228340,"body_markdown":"What is `data`? What is the code of `calculateAverageDistances`?","body":"What is <code>data</code>? What is the code of <code>calculateAverageDistances</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689589570,"creation_date":1689583883,"answer_id":76702825,"question_id":76700776,"body_markdown":"Maintain a `Map` from device to a preferable gateway .\r\nHere is an example:\r\n\r\n        // key - device, value - pair of preferable gateway and distance\r\n        Map&lt;String, Map.Entry&lt;String, Double&gt;&gt; deviceToLowestDistance = new HashMap&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Map&lt;String, Double&gt;&gt; entry : averageDistances.entrySet()) {\r\n            Map&lt;String, Double&gt; deviceDistances = entry.getValue();\r\n            for (Map.Entry&lt;String, Double&gt; deviceEntry : deviceDistances.entrySet()) {\r\n                deviceToLowestDistance.compute(\r\n                        deviceEntry.getKey(),\r\n                        (k, currentLowestEntry) -&gt; {\r\n                            if (currentLowestEntry == null || deviceEntry.getValue() &lt; currentLowestEntry.getValue()) {\r\n                                return deviceEntry;\r\n                            } else {\r\n                                return currentLowestEntry;\r\n                            }\r\n                        }\r\n                );\r\n            }\r\n        }\r\n\r\n        // if you don&#39;t need to group devices with lowest distances by gateway, then deviceToLowestDistance in enough. Otherwise group them:\r\n\r\n        // key - gateway, value - devices with lowest distances only\r\n        Map&lt;String, Map&lt;String, Double&gt;&gt; gatewaysWithLowestDistances = new HashMap&lt;&gt;();\r\n        deviceToLowestDistance.forEach((device, gatewayToDistance) -&gt; {\r\n                    String gateway = gatewayToDistance.getKey();\r\n                    Double lowestDistance = gatewayToDistance.getValue();\r\n                    gatewaysWithLowestDistances.computeIfAbsent(gateway, k -&gt; new HashMap&lt;&gt;()).put(device, lowestDistance)\r\n                }\r\n        );\r\n        \r\n        // print gatewaysWithLowestDistances in any way","title":"How to simplify HashMap within HashMap values into single HashMap?","body":"<p>Maintain a <code>Map</code> from device to a preferable gateway .\nHere is an example:</p>\n<pre><code>    // key - device, value - pair of preferable gateway and distance\n    Map&lt;String, Map.Entry&lt;String, Double&gt;&gt; deviceToLowestDistance = new HashMap&lt;&gt;();\n\n    for (Map.Entry&lt;String, Map&lt;String, Double&gt;&gt; entry : averageDistances.entrySet()) {\n        Map&lt;String, Double&gt; deviceDistances = entry.getValue();\n        for (Map.Entry&lt;String, Double&gt; deviceEntry : deviceDistances.entrySet()) {\n            deviceToLowestDistance.compute(\n                    deviceEntry.getKey(),\n                    (k, currentLowestEntry) -&gt; {\n                        if (currentLowestEntry == null || deviceEntry.getValue() &lt; currentLowestEntry.getValue()) {\n                            return deviceEntry;\n                        } else {\n                            return currentLowestEntry;\n                        }\n                    }\n            );\n        }\n    }\n\n    // if you don't need to group devices with lowest distances by gateway, then deviceToLowestDistance in enough. Otherwise group them:\n\n    // key - gateway, value - devices with lowest distances only\n    Map&lt;String, Map&lt;String, Double&gt;&gt; gatewaysWithLowestDistances = new HashMap&lt;&gt;();\n    deviceToLowestDistance.forEach((device, gatewayToDistance) -&gt; {\n                String gateway = gatewayToDistance.getKey();\n                Double lowestDistance = gatewayToDistance.getValue();\n                gatewaysWithLowestDistances.computeIfAbsent(gateway, k -&gt; new HashMap&lt;&gt;()).put(device, lowestDistance)\n            }\n    );\n    \n    // print gatewaysWithLowestDistances in any way\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6466355,"reputation":488,"user_id":5008145,"display_name":"NorthernSky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689607572,"creation_date":1689591456,"answer_id":76703774,"question_id":76700776,"body_markdown":"It seems like you wish, for each gateway, to have a list of devices closest to that gateway, and also include information about the distance.\r\n\r\nSo first, build a temporary structure where each device keeps track of the gateway closest to it.\r\nThen, reverse the order of the structure, using the gateway ID as key.\r\n\r\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances = calculateAverageDistances(data);\r\n\r\n        findClosestGateway(averageDistances).forEach((gatewayID, devices) -&gt; {\r\n            System.out.println(&quot;Gateway: &quot; + gatewayID);\r\n            devices.forEach(device -&gt; System.out.println(&quot;Device: &quot; + device.id + &quot;, Average Distance: &quot; + device.distance));\r\n        });\r\n\r\n\r\n    private record Device(String id, double distance) {};\r\n\r\n    private Map&lt;String, List&lt;Device&gt;&gt; findClosestGateway(Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances) {\r\n        record Gateway(String id, double distance) {};\r\n        var devices = new HashMap&lt;String, Gateway&gt;();\r\n        averageDistances.forEach((gatewayID, distances) -&gt; distances.forEach((deviceID, distance) -&gt; {\r\n            var currentClosestGateway = devices.get(deviceID);\r\n            if (currentClosestGateway == null || currentClosestGateway.distance &gt; distance) {\r\n                devices.put(deviceID, new Gateway(gatewayID, distance));\r\n            }\r\n        }));\r\n        var result = new HashMap&lt;String, List&lt;Device&gt;&gt;();\r\n        devices.forEach((deviceID, gateway) -&gt; {\r\n            result.computeIfAbsent(gateway.id, k -&gt; new ArrayList&lt;&gt;()).add(new Device(deviceID, gateway.distance));\r\n        });\r\n        return result;\r\n    }\r\n\r\n\r\nNote that if there are devices which are equidistant to two or more gateways, which gateway is chosen is arbitrary because we are using HashMap here. If you wish to have more control in this edge case, use LinkedHashMap or TreeMap instead, depending on your needs.\r\n","title":"How to simplify HashMap within HashMap values into single HashMap?","body":"<p>It seems like you wish, for each gateway, to have a list of devices closest to that gateway, and also include information about the distance.</p>\n<p>So first, build a temporary structure where each device keeps track of the gateway closest to it.\nThen, reverse the order of the structure, using the gateway ID as key.</p>\n<pre><code>    Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances = calculateAverageDistances(data);\n\n    findClosestGateway(averageDistances).forEach((gatewayID, devices) -&gt; {\n        System.out.println(&quot;Gateway: &quot; + gatewayID);\n        devices.forEach(device -&gt; System.out.println(&quot;Device: &quot; + device.id + &quot;, Average Distance: &quot; + device.distance));\n    });\n\n\nprivate record Device(String id, double distance) {};\n\nprivate Map&lt;String, List&lt;Device&gt;&gt; findClosestGateway(Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances) {\n    record Gateway(String id, double distance) {};\n    var devices = new HashMap&lt;String, Gateway&gt;();\n    averageDistances.forEach((gatewayID, distances) -&gt; distances.forEach((deviceID, distance) -&gt; {\n        var currentClosestGateway = devices.get(deviceID);\n        if (currentClosestGateway == null || currentClosestGateway.distance &gt; distance) {\n            devices.put(deviceID, new Gateway(gatewayID, distance));\n        }\n    }));\n    var result = new HashMap&lt;String, List&lt;Device&gt;&gt;();\n    devices.forEach((deviceID, gateway) -&gt; {\n        result.computeIfAbsent(gateway.id, k -&gt; new ArrayList&lt;&gt;()).add(new Device(deviceID, gateway.distance));\n    });\n    return result;\n}\n</code></pre>\n<p>Note that if there are devices which are equidistant to two or more gateways, which gateway is chosen is arbitrary because we are using HashMap here. If you wish to have more control in this edge case, use LinkedHashMap or TreeMap instead, depending on your needs.</p>\n"}],"owner":{"account_id":11342805,"reputation":919,"user_id":8316275,"accept_rate":52,"display_name":"user565"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76703774,"answer_count":2,"score":0,"last_activity_date":1689607572,"creation_date":1689549383,"question_id":76700776,"body_markdown":"I have multiple Gateways which gives the information of various devices along with the distance. I want to extract information like which device is having a low distance in which gateway. Currently, I combined the results into HashMap within HashMap like this code:\r\n\r\n    Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances = calculateAverageDistances(data);\r\n\r\n    for (Map.Entry&lt;String, Map&lt;String, Double&gt;&gt; entry : averageDistances.entrySet()) {\r\n                String gateway = entry.getKey();\r\n                System.out.println(&quot;Gateway: &quot; + gateway);\r\n    \r\n                Map&lt;String, Double&gt; deviceDistances = entry.getValue();\r\n                for (Map.Entry&lt;String, Double&gt; deviceEntry : deviceDistances.entrySet()) {\r\n                    String device = deviceEntry.getKey();\r\n                    double averageDistance = deviceEntry.getValue();\r\n                    System.out.println(&quot;Device: &quot; + device + &quot;, Average Distance: &quot; + averageDistance);\r\n                 }\r\n            }\r\n\r\nWhich is showing the result like that:\r\n\r\n    Gateway: AC233FC0FA9F\r\n    Device: AC233FAC9623, Average Distance: 7.1\r\n    Device: AC233FAC9624, Average Distance: 4.3\r\n    Gateway: AC233FC0FAAE\r\n    Device: AC233FAC9623, Average Distance: 11.850000000000001\r\n    Device: AC233FAC9624, Average Distance: 0.8\r\n\r\nI want the final result like as a device(AC233FAC9623) is present in both gateways(AC233FC0FA9F and AC233FC0FAAE), it is having a lower distance in the gateway(AC233FC0FA9F) so consider this record only. Same as the device(AC233FAC9624) is having a lower distance in the gateway(AC233FC0FAAE) so consider this record. A final output should be like this:\r\n\r\n    Gateway: AC233FC0FA9F\r\n    Device: AC233FAC9623, Average Distance: 7.1\r\n    \r\n    Gateway: AC233FC0FAAE\r\n    Device: AC233FAC9624, Average Distance: 0.8\r\n\r\nCan someone hint which data structure should be used here?\r\n","title":"How to simplify HashMap within HashMap values into single HashMap?","body":"<p>I have multiple Gateways which gives the information of various devices along with the distance. I want to extract information like which device is having a low distance in which gateway. Currently, I combined the results into HashMap within HashMap like this code:</p>\n<pre><code>Map&lt;String, Map&lt;String, Double&gt;&gt; averageDistances = calculateAverageDistances(data);\n\nfor (Map.Entry&lt;String, Map&lt;String, Double&gt;&gt; entry : averageDistances.entrySet()) {\n            String gateway = entry.getKey();\n            System.out.println(&quot;Gateway: &quot; + gateway);\n\n            Map&lt;String, Double&gt; deviceDistances = entry.getValue();\n            for (Map.Entry&lt;String, Double&gt; deviceEntry : deviceDistances.entrySet()) {\n                String device = deviceEntry.getKey();\n                double averageDistance = deviceEntry.getValue();\n                System.out.println(&quot;Device: &quot; + device + &quot;, Average Distance: &quot; + averageDistance);\n             }\n        }\n</code></pre>\n<p>Which is showing the result like that:</p>\n<pre><code>Gateway: AC233FC0FA9F\nDevice: AC233FAC9623, Average Distance: 7.1\nDevice: AC233FAC9624, Average Distance: 4.3\nGateway: AC233FC0FAAE\nDevice: AC233FAC9623, Average Distance: 11.850000000000001\nDevice: AC233FAC9624, Average Distance: 0.8\n</code></pre>\n<p>I want the final result like as a device(AC233FAC9623) is present in both gateways(AC233FC0FA9F and AC233FC0FAAE), it is having a lower distance in the gateway(AC233FC0FA9F) so consider this record only. Same as the device(AC233FAC9624) is having a lower distance in the gateway(AC233FC0FAAE) so consider this record. A final output should be like this:</p>\n<pre><code>Gateway: AC233FC0FA9F\nDevice: AC233FAC9623, Average Distance: 7.1\n\nGateway: AC233FC0FAAE\nDevice: AC233FAC9624, Average Distance: 0.8\n</code></pre>\n<p>Can someone hint which data structure should be used here?</p>\n"},{"tags":["java","macos","graalvm"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":2,"creation_date":1673458599,"post_id":75086803,"comment_id":132505701,"body_markdown":"You could use https://sdkman.io/ Switching between different vendors and versions can be easily done by command line. I have been using it for years on macos and it perfectly run as expected!","body":"You could use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a> Switching between different vendors and versions can be easily done by command line. I have been using it for years on macos and it perfectly run as expected!"},{"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"score":0,"creation_date":1673542647,"post_id":75086803,"comment_id":132527931,"body_markdown":"Sometimes it doesn&#39;t have the needed versions, so I like to install the versions from the source zip","body":"Sometimes it doesn&#39;t have the needed versions, so I like to install the versions from the source zip"}],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673516197,"creation_date":1673516197,"answer_id":75094202,"question_id":75086803,"body_markdown":"`alias graalvm-11=&quot;export JAVA_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java11-22.3.0/Contents/Home; java -version&quot;`\r\n\r\nI&#39;ve taken the path to GraalVM installation from the output of `java_home -V`","title":"Switching between Java versions for the same version","body":"<p><code>alias graalvm-11=&quot;export JAVA_HOME=/Library/Java/JavaVirtualMachines/graalvm-ce-java11-22.3.0/Contents/Home; java -version&quot;</code></p>\n<p>I've taken the path to GraalVM installation from the output of <code>java_home -V</code></p>\n"},{"tags":[],"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689607546,"creation_date":1689607546,"answer_id":76705972,"question_id":75086803,"body_markdown":"In the end I found it much simpler to use sdkman.\r\nIt is possible to select there all the versions.\r\n\r\nAs a bonus you can use `.sdkmanrc` file in your projects. So once you enter the folder you can switch the java version, which you want to use. That saves a lot of time.","title":"Switching between Java versions for the same version","body":"<p>In the end I found it much simpler to use sdkman.\nIt is possible to select there all the versions.</p>\n<p>As a bonus you can use <code>.sdkmanrc</code> file in your projects. So once you enter the folder you can switch the java version, which you want to use. That saves a lot of time.</p>\n"}],"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76705972,"answer_count":2,"score":0,"last_activity_date":1689607546,"creation_date":1673457618,"question_id":75086803,"body_markdown":"I want to make some experiments with GradleVM, so I installed the the next java versions on MacOS\r\n```\r\n% /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (3):\r\n    17.0.2 (x86_64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 17.0.2&quot; /Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\r\n    11.0.17 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.17&quot; /usr/local/Cellar/openjdk@11/11.0.17/libexec/openjdk.jdk/Contents/Home\r\n    11.0.17 (x86_64) &quot;GraalVM Community&quot; - &quot;GraalVM CE 22.3.0&quot; /Library/Java/JavaVirtualMachines/graalvm-ce-java11-22.3.0/Contents/Home\r\n```\r\n\r\nI can easily switch between v11 and v17 with the approach\r\n```\r\nalias java-17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\r\nalias java-11=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 11`; java -version&quot;\r\n```\r\n\r\nBut how I can switch between GraalVM11 and normal jdk11?","title":"Switching between Java versions for the same version","body":"<p>I want to make some experiments with GradleVM, so I installed the the next java versions on MacOS</p>\n<pre><code>% /usr/libexec/java_home -V\nMatching Java Virtual Machines (3):\n    17.0.2 (x86_64) &quot;Oracle Corporation&quot; - &quot;OpenJDK 17.0.2&quot; /Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\n    11.0.17 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.17&quot; /usr/local/Cellar/openjdk@11/11.0.17/libexec/openjdk.jdk/Contents/Home\n    11.0.17 (x86_64) &quot;GraalVM Community&quot; - &quot;GraalVM CE 22.3.0&quot; /Library/Java/JavaVirtualMachines/graalvm-ce-java11-22.3.0/Contents/Home\n</code></pre>\n<p>I can easily switch between v11 and v17 with the approach</p>\n<pre><code>alias java-17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\nalias java-11=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 11`; java -version&quot;\n</code></pre>\n<p>But how I can switch between GraalVM11 and normal jdk11?</p>\n"},{"tags":["java","multithreading","algorithm","parallel-processing","quicksort"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1689579186,"post_id":76702295,"comment_id":135227752,"body_markdown":"That in my opinion is synchronous parallel.  Asynchronous is something that is time-intensive, and we give some kind of output that &#39;we are working on it. we will notify you when it is done&#39;, and move on...  Later get a notification that your work is done..  If you divide some activity in multiple threads and make it parallel, but wait for all the threads to complete, it is synchronous parallel..","body":"That in my opinion is synchronous parallel.  Asynchronous is something that is time-intensive, and we give some kind of output that &#39;we are working on it. we will notify you when it is done&#39;, and move on...  Later get a notification that your work is done..  If you divide some activity in multiple threads and make it parallel, but wait for all the threads to complete, it is synchronous parallel.."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":3,"creation_date":1689579203,"post_id":76702295,"comment_id":135227757,"body_markdown":"&quot;and called join() on each thread&quot; - this is your synchronization code.","body":"&quot;and called join() on each thread&quot; - this is your synchronization code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689590255,"post_id":76702295,"comment_id":135229985,"body_markdown":"I&#39;m not sure it applies yet; I believe _synchronicity_ pertains to the communication of the data.  So, it would be determined in your next step, when you are utilizing the contents after the sort—if you begin using the sorted data of a list before the other lists have completed _their_ sort, it would be _asynchronous_, if you wait for the entire sort to finish, before using the data, it would be _synchronous_.","body":"I&#39;m not sure it applies yet; I believe <i>synchronicity</i> pertains to the communication of the data.  So, it would be determined in your next step, when you are utilizing the contents after the sort—if you begin using the sorted data of a list before the other lists have completed <i>their</i> sort, it would be <i>asynchronous</i>, if you wait for the entire sort to finish, before using the data, it would be <i>synchronous</i>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1689607708,"post_id":76702295,"comment_id":135234028,"body_markdown":"Time allowing, look into [`Java Executor`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executors.html)s.","body":"Time allowing, look into <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Java Executor</code></a>s."}],"answers":[{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689580963,"creation_date":1689580963,"answer_id":76702518,"question_id":76702295,"body_markdown":"For me the algorithm is asynchronous in the first part when each thread does the sort in an independent way from the others. The part in which the algorithm should wait until all threads have finished to begin the merge of the result, can be defined synchronous (join is actually a synchronization instruction).\r\n\r\nIf you need to give a definition to the whole process, I think it depends on which aspect is considered more relevant. The majority of the computation is done in the sorting part in an asynchronous way but to achieve  the result a typical synchronous mechanism is needed.\r\n","title":"If we split data into multiple parts and process each part in parallel &amp; combine the results, is that asynchronous or synchronous parallel algorithm?","body":"<p>For me the algorithm is asynchronous in the first part when each thread does the sort in an independent way from the others. The part in which the algorithm should wait until all threads have finished to begin the merge of the result, can be defined synchronous (join is actually a synchronization instruction).</p>\n<p>If you need to give a definition to the whole process, I think it depends on which aspect is considered more relevant. The majority of the computation is done in the sorting part in an asynchronous way but to achieve  the result a typical synchronous mechanism is needed.</p>\n"}],"owner":{"account_id":6821374,"reputation":318,"user_id":5248424,"display_name":"Gulshan Chaurasia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689607364,"creation_date":1689578786,"question_id":76702295,"body_markdown":"If we split data into multiple parts and process each part in parallel, then combine the results of those processes/`Thread`s to form the final result, is that asynchronous or synchronous parallel algorithm?\r\n\r\n\r\n\r\nTo be specific, I have implemented QuickSort in Java\r\n\r\nThen to make parallel QuickSort, \r\n1. I split the array into four equal parts\r\n2. Used Java `Thread`s to run QuickSort on each part and called `join()` on each thread to wait for their completion.\r\n3. Finally, used merge function to merge the sorted array from each of those four `Thread`s.\r\n\r\nSince the final result is dependent on the result of each of those threads, it seems like synchronous.   \r\nHowever, I have not used any locks or synchronization code, in that sense, all the threads are free from another threads.  \r\n\r\nNow, is this a *synchronous* or *asynchronous Parallel Algorithm*?","title":"If we split data into multiple parts and process each part in parallel &amp; combine the results, is that asynchronous or synchronous parallel algorithm?","body":"<p>If we split data into multiple parts and process each part in parallel, then combine the results of those processes/<code>Thread</code>s to form the final result, is that asynchronous or synchronous parallel algorithm?</p>\n<p>To be specific, I have implemented QuickSort in Java</p>\n<p>Then to make parallel QuickSort,</p>\n<ol>\n<li>I split the array into four equal parts</li>\n<li>Used Java <code>Thread</code>s to run QuickSort on each part and called <code>join()</code> on each thread to wait for their completion.</li>\n<li>Finally, used merge function to merge the sorted array from each of those four <code>Thread</code>s.</li>\n</ol>\n<p>Since the final result is dependent on the result of each of those threads, it seems like synchronous.<br />\nHowever, I have not used any locks or synchronization code, in that sense, all the threads are free from another threads.</p>\n<p>Now, is this a <em>synchronous</em> or <em>asynchronous Parallel Algorithm</em>?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689607356,"creation_date":1689607356,"answer_id":76705947,"question_id":76705774,"body_markdown":"You can&#39;t mix matchers and actual values. Wrap the value in a matcher:\r\n\r\n`\r\nwhen(paymentTicketService.generatePaymentTicket(any(GeneratePaymentTicketRequest.class), eq(spokesmanDocumentNumber))).thenReturn(paymentTicketPdfResponse);\r\n`","title":"Getting &#39;Misplaced or misused argument matcher detected&#39; on mockito tests","body":"<p>You can't mix matchers and actual values. Wrap the value in a matcher:</p>\n<p><code>when(paymentTicketService.generatePaymentTicket(any(GeneratePaymentTicketRequest.class), eq(spokesmanDocumentNumber))).thenReturn(paymentTicketPdfResponse);</code></p>\n"}],"owner":{"account_id":984057,"reputation":1750,"user_id":1003020,"accept_rate":79,"display_name":"Vinicius Garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689607356,"creation_date":1689606165,"question_id":76705774,"body_markdown":"I have the following Unit test:\r\n\r\n    @InjectMocks\r\n    private PaymentTicketService paymentTicketService;\r\n    \r\n    @Test\r\n    public void blahblahTest() {\r\n    \r\n        ...\r\n\r\n        String spokesmanDocumentNumber = &quot;47246536809&quot;;\r\n        PaymentTicketPdfResponse paymentTicketPdfResponse = Fixture.from(...).gimme(...);\r\n       \r\n        when(paymentTicketService.generatePaymentTicket(any(GeneratePaymentTicketRequest.class), spokesmanDocumentNumber)).thenReturn(paymentTicketPdfResponse);\r\n    \r\n        ...\r\n    }\r\n\r\nThe testing method is this one:\r\n\r\n    public PaymentTicketPdfResponse generatePaymentTicket(GeneratePaymentTicketRequest generateBankTicketRequest, String spokesmanDocumentNumber) {\r\n        ...\r\n    }\r\n\r\nI&#39;m getting a `Misplaced or misused argument matcher detected` error on the &#39;when&#39; clause of my test. It says that I cannot use argument matchers outside of verification or stubbing.\r\nI don&#39;t really understand this error, as I&#39;m passing any(GeneratePaymentTicketRequest.class) and a acctual string to the mocked method.\r\n\r\nWhat I&#39;m doing wrong here?","title":"Getting &#39;Misplaced or misused argument matcher detected&#39; on mockito tests","body":"<p>I have the following Unit test:</p>\n<pre><code>@InjectMocks\nprivate PaymentTicketService paymentTicketService;\n\n@Test\npublic void blahblahTest() {\n\n    ...\n\n    String spokesmanDocumentNumber = &quot;47246536809&quot;;\n    PaymentTicketPdfResponse paymentTicketPdfResponse = Fixture.from(...).gimme(...);\n   \n    when(paymentTicketService.generatePaymentTicket(any(GeneratePaymentTicketRequest.class), spokesmanDocumentNumber)).thenReturn(paymentTicketPdfResponse);\n\n    ...\n}\n</code></pre>\n<p>The testing method is this one:</p>\n<pre><code>public PaymentTicketPdfResponse generatePaymentTicket(GeneratePaymentTicketRequest generateBankTicketRequest, String spokesmanDocumentNumber) {\n    ...\n}\n</code></pre>\n<p>I'm getting a <code>Misplaced or misused argument matcher detected</code> error on the 'when' clause of my test. It says that I cannot use argument matchers outside of verification or stubbing.\nI don't really understand this error, as I'm passing any(GeneratePaymentTicketRequest.class) and a acctual string to the mocked method.</p>\n<p>What I'm doing wrong here?</p>\n"},{"tags":["javascript","java","android","webview"],"owner":{"account_id":10363806,"reputation":19,"user_id":7643489,"display_name":"Daniel Houshmandfar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1689607041,"creation_date":1689591994,"question_id":76703839,"body_markdown":"I have a JavaScript file in the cache folder and I need to load that into the html WebView in Android via Java. How I can do that?\r\n\r\nI need to show JavaScript changes apply into the HTML page.\r\n\r\n\r\n```lang-java\r\n  File cacheDir = getCacheDir();\r\n        File javaScriptPath = new File(cacheDir, &quot;ckEditor.js&quot;);\r\n\r\n  String html = &quot;&lt;!DOCTYPE html&gt;\\n&quot; +\r\n                &quot;&lt;html lang=\\&quot;en\\&quot;&gt;\\n&quot; +\r\n                &quot;&lt;head&gt;\\n&quot; +\r\n                &quot;    &lt;meta charset=\\&quot;utf-8\\&quot;&gt;\\n&quot; +\r\n                &quot;&lt;script type=\\&quot;text/javascript\\&quot; src=\\&quot;&quot; + javaScriptPath.getAbsolutePath() + &quot;\\&quot;&gt;&quot; + &quot;&lt;/script&gt;&quot; +\r\n                &quot;&lt;/head&gt;\\n&quot; +\r\n                &quot;&lt;body&gt;\\n&quot; +\r\n                &quot;    &lt;h1&gt;Classic editor&lt;/h1&gt;\\n&quot; +\r\n                &quot;    &lt;form action=\\&quot;[URL]\\&quot; method=\\&quot;post\\&quot;&gt;\\n&quot; +\r\n                &quot;        &lt;textarea name=\\&quot;content\\&quot; id=\\&quot;editor\\&quot;&gt;\\n&quot; +\r\n                &quot;            &amp;lt;p&amp;gt;This is some sample content.&amp;lt;/p&amp;gt;\\n&quot; +\r\n                &quot;        &lt;/textarea&gt;\\n&quot; +\r\n                &quot;        &lt;p&gt;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;&gt;&lt;/p&gt;\\n&quot; +\r\n                &quot;    &lt;/form&gt;\\n&quot; +\r\n                &quot;&lt;/body&gt;\\n&quot; +\r\n                &quot; &lt;script&gt;\\n&quot; +\r\n                &quot;        ClassicEditor\\n&quot; +\r\n                &quot;            .create( document.querySelector( &#39;#editor&#39; ) )\\n&quot; +\r\n                &quot;            .catch( error =&gt; {\\n&quot; +\r\n                &quot;                console.error( error );\\n&quot; +\r\n                &quot;            } );\\n&quot; +\r\n                &quot;    &lt;/script&gt;&quot; +\r\n                &quot;&lt;/html&gt;&quot;;\r\n\r\n        mWebView.loadDataWithBaseURL(cacheDir.getAbsolutePath(), html, &quot;text/html; charset=utf-8&quot;, &quot;utf-8&quot;, null);\r\n```","title":"Load a local cached JavaScript file into a Webview","body":"<p>I have a JavaScript file in the cache folder and I need to load that into the html WebView in Android via Java. How I can do that?</p>\n<p>I need to show JavaScript changes apply into the HTML page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  File cacheDir = getCacheDir();\n        File javaScriptPath = new File(cacheDir, &quot;ckEditor.js&quot;);\n\n  String html = &quot;&lt;!DOCTYPE html&gt;\\n&quot; +\n                &quot;&lt;html lang=\\&quot;en\\&quot;&gt;\\n&quot; +\n                &quot;&lt;head&gt;\\n&quot; +\n                &quot;    &lt;meta charset=\\&quot;utf-8\\&quot;&gt;\\n&quot; +\n                &quot;&lt;script type=\\&quot;text/javascript\\&quot; src=\\&quot;&quot; + javaScriptPath.getAbsolutePath() + &quot;\\&quot;&gt;&quot; + &quot;&lt;/script&gt;&quot; +\n                &quot;&lt;/head&gt;\\n&quot; +\n                &quot;&lt;body&gt;\\n&quot; +\n                &quot;    &lt;h1&gt;Classic editor&lt;/h1&gt;\\n&quot; +\n                &quot;    &lt;form action=\\&quot;[URL]\\&quot; method=\\&quot;post\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;textarea name=\\&quot;content\\&quot; id=\\&quot;editor\\&quot;&gt;\\n&quot; +\n                &quot;            &amp;lt;p&amp;gt;This is some sample content.&amp;lt;/p&amp;gt;\\n&quot; +\n                &quot;        &lt;/textarea&gt;\\n&quot; +\n                &quot;        &lt;p&gt;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Submit\\&quot;&gt;&lt;/p&gt;\\n&quot; +\n                &quot;    &lt;/form&gt;\\n&quot; +\n                &quot;&lt;/body&gt;\\n&quot; +\n                &quot; &lt;script&gt;\\n&quot; +\n                &quot;        ClassicEditor\\n&quot; +\n                &quot;            .create( document.querySelector( '#editor' ) )\\n&quot; +\n                &quot;            .catch( error =&gt; {\\n&quot; +\n                &quot;                console.error( error );\\n&quot; +\n                &quot;            } );\\n&quot; +\n                &quot;    &lt;/script&gt;&quot; +\n                &quot;&lt;/html&gt;&quot;;\n\n        mWebView.loadDataWithBaseURL(cacheDir.getAbsolutePath(), html, &quot;text/html; charset=utf-8&quot;, &quot;utf-8&quot;, null);\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-storm"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689606097,"post_id":76701226,"comment_id":135233648,"body_markdown":"What&#39;s the problem? There&#39;s no client property difference between those versions. You&#39;ll need a KafkaSink to write anywhere","body":"What&#39;s the problem? There&#39;s no client property difference between those versions. You&#39;ll need a KafkaSink to write anywhere"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689623855,"post_id":76701226,"comment_id":135237231,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26294582,"reputation":1,"user_id":19961046,"display_name":"AziDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689606036,"creation_date":1689561909,"question_id":76701226,"body_markdown":"I am working on an Apache Storm ETL project which needs to read from Kafka 0.9.0 and write to the version 3.1.0. Do you know how the Kafka-3 info should be provided? \r\n\r\nI created a bolt class which its constructor has two arguments topic name and bootsrtaps info. \r\n\r\npublic class CPPKafkaBolt&lt;K, V&gt; extends BaseRichBolt {\r\n    private static final long                     serialVersionUID        = -5205886631877033478L;\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(KafkaBolt.class);\r\n\r\n    public static final String TOPIC = &quot;topic&quot;;\r\n\r\n    private Producer&lt;String, String&gt; producer;\r\n    private OutputCollector collector;\r\n    private TupleToKafkaMapper&lt;K,V&gt; mapper;\r\n    private KafkaTopicSelector topicSelector;\r\n    private Properties boltSpecfiedProperties = new Properties();\r\n    /**\r\n     * With default setting for fireAndForget and async, the callback is called when the sending succeeds.\r\n     * By setting fireAndForget true, the send will not wait at all for kafka to ack.\r\n     * &quot;acks&quot; setting in 0.8.2 Producer API config doesn&#39;t matter if fireAndForget is set.\r\n     * By setting async false, synchronous sending is used.\r\n     */\r\n    private boolean fireAndForget = false;\r\n    private boolean async = true;\r\n\r\n    private String bootstrapServers;\r\n\r\n    public CPPKafkaBolt(String bootstrapServers, String topic) {\r\n        this.bootstrapServers = bootstrapServers;\r\n        this.topicSelector = (new DefaultTopicSelector(topic));\r\n    }\r\n\r\n    public CPPKafkaBolt&lt;K,V&gt; withTupleToKafkaMapper(TupleToKafkaMapper&lt;K,V&gt; mapper) {\r\n        this.mapper = mapper;\r\n        return this;\r\n    }\r\n\r\n    public CPPKafkaBolt&lt;K,V&gt; withTopicSelector(KafkaTopicSelector selector) {\r\n        this.topicSelector = selector;\r\n        return this;\r\n    }\r\n\r\n    public CPPKafkaBolt&lt;K,V&gt; withProducerProperties(Properties producerProperties) {\r\n        this.boltSpecfiedProperties = producerProperties;\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) {\r\n        //for backward compatibility.\r\n        if(mapper == null) {\r\n            this.mapper = new FieldNameBasedTupleToKafkaMapper&lt;K,V&gt;();\r\n        }\r\n\r\n        //for backward compatibility.\r\n        if(topicSelector == null) {\r\n            this.topicSelector = new DefaultTopicSelector((String) stormConf.get(TOPIC));\r\n        }\r\n\r\n        Properties props = new Properties();\r\n        props.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServers);\r\n        KafkaProducer&lt;String, String&gt; producer1 = new KafkaProducer&lt;&gt;(\r\n                props, new StringSerializer(), new StringSerializer());\r\n        this.producer = producer1;\r\n\r\n        this.mapper = new FieldNameBasedTupleToKafkaMapper();\r\n        this.collector = collector;\r\n    }\r\n\r\n    @Override\r\n    public void execute(final Tuple input) {\r\n        if (TupleUtils.isTick(input)) {\r\n            collector.ack(input);\r\n            return; // Do not try to send ticks to Kafka\r\n        }\r\n\r\n        K key;\r\n        V message;\r\n        String topic;\r\n        try {\r\n            key = mapper.getKeyFromTuple(input);\r\n            message = mapper.getMessageFromTuple(input);\r\n            topic = topicSelector.getTopic(input);\r\n            if (topic != null ) {\r\n                Callback callback = null;\r\n\r\n                if (!fireAndForget &amp;&amp; async) {\r\n                    callback = new Callback() {\r\n                        @Override\r\n                        public void onCompletion(RecordMetadata ignored, Exception e) {\r\n                            synchronized (collector) {\r\n                                if (e != null) {\r\n                                    collector.reportError(e);\r\n                                    collector.fail(input);\r\n                                } else {\r\n                                    collector.ack(input);\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n                Future&lt;RecordMetadata&gt; result = producer.send(new ProducerRecord(&quot;topic&quot;, &quot;key&quot;, &quot;message&quot;), (Callback)callback);\r\n                if (!async) {\r\n                    try {\r\n                        result.get();\r\n                        collector.ack(input);\r\n                    } catch (ExecutionException err) {\r\n                        collector.reportError(err);\r\n                        collector.fail(input);\r\n                    }\r\n                } else if (fireAndForget) {\r\n                    collector.ack(input);\r\n                }\r\n            } else {\r\n                LOG.warn(&quot;skipping key = &quot; + key + &quot;, topic selector returned null.&quot;);\r\n                collector.ack(input);\r\n            }\r\n        } catch (Exception ex) {\r\n            collector.reportError(ex);\r\n            collector.fail(input);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void declareOutputFields(OutputFieldsDeclarer declarer) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void cleanup() {\r\n        producer.close();\r\n    }\r\n\r\n    public void setFireAndForget(boolean fireAndForget) {\r\n        this.fireAndForget = fireAndForget;\r\n    }\r\n\r\n    public void setAsync(boolean async) {\r\n        this.async = async;\r\n    }\r\n}\r\n","title":"Read from kafka 0.9.0 and write to kafka 3.1.0 in Storm ETL projects","body":"<p>I am working on an Apache Storm ETL project which needs to read from Kafka 0.9.0 and write to the version 3.1.0. Do you know how the Kafka-3 info should be provided?</p>\n<p>I created a bolt class which its constructor has two arguments topic name and bootsrtaps info.</p>\n<p>public class CPPKafkaBolt&lt;K, V&gt; extends BaseRichBolt {\nprivate static final long                     serialVersionUID        = -5205886631877033478L;</p>\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(KafkaBolt.class);\n\npublic static final String TOPIC = &quot;topic&quot;;\n\nprivate Producer&lt;String, String&gt; producer;\nprivate OutputCollector collector;\nprivate TupleToKafkaMapper&lt;K,V&gt; mapper;\nprivate KafkaTopicSelector topicSelector;\nprivate Properties boltSpecfiedProperties = new Properties();\n/**\n * With default setting for fireAndForget and async, the callback is called when the sending succeeds.\n * By setting fireAndForget true, the send will not wait at all for kafka to ack.\n * &quot;acks&quot; setting in 0.8.2 Producer API config doesn't matter if fireAndForget is set.\n * By setting async false, synchronous sending is used.\n */\nprivate boolean fireAndForget = false;\nprivate boolean async = true;\n\nprivate String bootstrapServers;\n\npublic CPPKafkaBolt(String bootstrapServers, String topic) {\n    this.bootstrapServers = bootstrapServers;\n    this.topicSelector = (new DefaultTopicSelector(topic));\n}\n\npublic CPPKafkaBolt&lt;K,V&gt; withTupleToKafkaMapper(TupleToKafkaMapper&lt;K,V&gt; mapper) {\n    this.mapper = mapper;\n    return this;\n}\n\npublic CPPKafkaBolt&lt;K,V&gt; withTopicSelector(KafkaTopicSelector selector) {\n    this.topicSelector = selector;\n    return this;\n}\n\npublic CPPKafkaBolt&lt;K,V&gt; withProducerProperties(Properties producerProperties) {\n    this.boltSpecfiedProperties = producerProperties;\n    return this;\n}\n\n@Override\npublic void prepare(Map stormConf, TopologyContext context, OutputCollector collector) {\n    //for backward compatibility.\n    if(mapper == null) {\n        this.mapper = new FieldNameBasedTupleToKafkaMapper&lt;K,V&gt;();\n    }\n\n    //for backward compatibility.\n    if(topicSelector == null) {\n        this.topicSelector = new DefaultTopicSelector((String) stormConf.get(TOPIC));\n    }\n\n    Properties props = new Properties();\n    props.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServers);\n    KafkaProducer&lt;String, String&gt; producer1 = new KafkaProducer&lt;&gt;(\n            props, new StringSerializer(), new StringSerializer());\n    this.producer = producer1;\n\n    this.mapper = new FieldNameBasedTupleToKafkaMapper();\n    this.collector = collector;\n}\n\n@Override\npublic void execute(final Tuple input) {\n    if (TupleUtils.isTick(input)) {\n        collector.ack(input);\n        return; // Do not try to send ticks to Kafka\n    }\n\n    K key;\n    V message;\n    String topic;\n    try {\n        key = mapper.getKeyFromTuple(input);\n        message = mapper.getMessageFromTuple(input);\n        topic = topicSelector.getTopic(input);\n        if (topic != null ) {\n            Callback callback = null;\n\n            if (!fireAndForget &amp;&amp; async) {\n                callback = new Callback() {\n                    @Override\n                    public void onCompletion(RecordMetadata ignored, Exception e) {\n                        synchronized (collector) {\n                            if (e != null) {\n                                collector.reportError(e);\n                                collector.fail(input);\n                            } else {\n                                collector.ack(input);\n                            }\n                        }\n                    }\n                };\n            }\n            Future&lt;RecordMetadata&gt; result = producer.send(new ProducerRecord(&quot;topic&quot;, &quot;key&quot;, &quot;message&quot;), (Callback)callback);\n            if (!async) {\n                try {\n                    result.get();\n                    collector.ack(input);\n                } catch (ExecutionException err) {\n                    collector.reportError(err);\n                    collector.fail(input);\n                }\n            } else if (fireAndForget) {\n                collector.ack(input);\n            }\n        } else {\n            LOG.warn(&quot;skipping key = &quot; + key + &quot;, topic selector returned null.&quot;);\n            collector.ack(input);\n        }\n    } catch (Exception ex) {\n        collector.reportError(ex);\n        collector.fail(input);\n    }\n}\n\n@Override\npublic void declareOutputFields(OutputFieldsDeclarer declarer) {\n\n}\n\n@Override\npublic void cleanup() {\n    producer.close();\n}\n\npublic void setFireAndForget(boolean fireAndForget) {\n    this.fireAndForget = fireAndForget;\n}\n\npublic void setAsync(boolean async) {\n    this.async = async;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689591042,"creation_date":1689591042,"answer_id":76703728,"question_id":76703601,"body_markdown":"You just have to click on &lt;kbd&gt;Accept Cookie&lt;/kbd&gt; button first. And then try to locate and click checkbox.\r\n\r\n\r\nRefer the code below:\r\n\r\n````\r\ndriver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\r\ndriver.manage().window().maximize();\r\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n\t\t\r\n// Accept cookies\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept All Cookies&#39;]&quot;))).click();\r\n\t\t\r\n// Click checkbox\r\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=&#39;doi0&#39;]&quot;))).click();\r\n````","title":"Clicking on checkbox with Selenium java automation","body":"<p>You just have to click on <kbd>Accept Cookie</kbd> button first. And then try to locate and click checkbox.</p>\n<p>Refer the code below:</p>\n<pre><code>driver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\ndriver.manage().window().maximize();\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n        \n// Accept cookies\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept All Cookies']&quot;))).click();\n        \n// Click checkbox\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id='doi0']&quot;))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689595566,"creation_date":1689595566,"answer_id":76704282,"question_id":76703601,"body_markdown":"    driver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().implicitlyWait(TimeOut.Seconds(20));\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n                    \r\n    // Accept cookies\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept All Cookies&#39;]&quot;))).click();\r\n    Thread.sleep(5000); \r\n    // Click checkbox\r\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@name=&#39;doi&#39;]&quot;))).click();","title":"Clicking on checkbox with Selenium java automation","body":"<pre><code>driver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(TimeOut.Seconds(20));\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n                \n// Accept cookies\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept All Cookies']&quot;))).click();\nThread.sleep(5000); \n// Click checkbox\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@name='doi']&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689605877,"creation_date":1689589964,"question_id":76703601,"body_markdown":"I want to click on the checkbox below this registration form based on the given code by it doesn&#39;t seem to be working.\r\n\r\n```\r\n//System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\browserdrivers\\\\chromedriver.exe&quot;);\r\nChromeDriverManager.getInstance().setup();\r\nChromeDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\r\ndriver.manage().window().maximize();\r\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll\\&quot;]&quot;))).click();\r\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;doi0\\&quot;]&quot;)).click();\r\n```\r\n\r\nI had also tried `findElement(By.name (&quot;doi&quot;)`, this doesn&#39;t seem to work either.\r\n","title":"Clicking on checkbox with Selenium java automation","body":"<p>I want to click on the checkbox below this registration form based on the given code by it doesn't seem to be working.</p>\n<pre><code>//System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\browserdrivers\\\\chromedriver.exe&quot;);\nChromeDriverManager.getInstance().setup();\nChromeDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.sugarcrm.com/request-demo/&quot;);\ndriver.manage().window().maximize();\nnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll\\&quot;]&quot;))).click();\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;doi0\\&quot;]&quot;)).click();\n</code></pre>\n<p>I had also tried <code>findElement(By.name (&quot;doi&quot;)</code>, this doesn't seem to work either.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44670,"reputation":23784,"user_id":131227,"accept_rate":89,"display_name":"Mark Bolusmjak"},"score":3,"creation_date":1267202716,"post_id":2343187,"comment_id":2315209,"body_markdown":"Are you using an IDE? Is the IDE set to copy resources into wherever classes get compiled to?","body":"Are you using an IDE? Is the IDE set to copy resources into wherever classes get compiled to?"},{"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"score":0,"creation_date":1267202969,"post_id":2343187,"comment_id":2315240,"body_markdown":"Where is the image located relative to the class and to the root of the project?","body":"Where is the image located relative to the class and to the root of the project?"},{"owner":{"account_id":98300,"reputation":1859,"user_id":266192,"accept_rate":83,"display_name":"Luhar"},"score":0,"creation_date":1267203110,"post_id":2343187,"comment_id":2315261,"body_markdown":"Yes, I am using Eclipse, and it wasn&#39;t set up to copy resources.  Have fixed that.  The class is located in root/bin/&lt;namespace&gt;/MyClass and the images are located in root/resources/images/myImage.gif\n\nThanks for your responses.","body":"Yes, I am using Eclipse, and it wasn&#39;t set up to copy resources.  Have fixed that.  The class is located in root/bin/&lt;namespace&gt;/MyClass and the images are located in root/resources/images/myImage.gif  Thanks for your responses."}],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1267202911,"creation_date":1267202911,"answer_id":2343224,"question_id":2343187,"body_markdown":"`getClass().getResource(path)` loads resources from the classpath, not from a filesystem path.\r\n","title":"Loading resources using getClass().getResource()","body":"<p><code>getClass().getResource(path)</code> loads resources from the classpath, not from a filesystem path.</p>\n"},{"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1523323285,"creation_date":1267202940,"answer_id":2343229,"question_id":2343187,"body_markdown":"You can request a path in this format:\r\n\r\n    /package/path/to/the/resource.ext\r\n\r\nEven the bytes for creating the classes in memory are found this way:\r\n\r\n    my.Class -&gt; /my/Class.class\r\n\r\nand `getResource` will give you a URL which can be used to retrieve an `InputStream`.\r\n\r\nBut... I&#39;d recommend using directly `getClass().getResourceAsStream(...)` with the same argument, because it returns directly the InputStream and don&#39;t have to worry about creating a (probably complex) URL object that has to know how to create the InputStream.\r\n\r\nIn short: try using `getResourceAsStream` and some constructor of `ImageIcon` that uses an `InputStream` as an argument.\r\n\r\n**Classloaders**\r\n\r\nBe careful if your app has many classloaders. If you have a simple standalone application (no servers or complex things) you shouldn&#39;t worry. I don&#39;t think it&#39;s the case provided `ImageIcon` was capable of finding it.\r\n\r\n**Edit: classpath**\r\n\r\n`getResource` is—as mattb says—for loading resources from the classpath (from your .jar or classpath directory). If you are bundling an app it&#39;s nice to have altogether, so you could include the icon file inside the jar of your app and obtain it this way.","title":"Loading resources using getClass().getResource()","body":"<p>You can request a path in this format:</p>\n\n<pre><code>/package/path/to/the/resource.ext\n</code></pre>\n\n<p>Even the bytes for creating the classes in memory are found this way:</p>\n\n<pre><code>my.Class -&gt; /my/Class.class\n</code></pre>\n\n<p>and <code>getResource</code> will give you a URL which can be used to retrieve an <code>InputStream</code>.</p>\n\n<p>But... I'd recommend using directly <code>getClass().getResourceAsStream(...)</code> with the same argument, because it returns directly the InputStream and don't have to worry about creating a (probably complex) URL object that has to know how to create the InputStream.</p>\n\n<p>In short: try using <code>getResourceAsStream</code> and some constructor of <code>ImageIcon</code> that uses an <code>InputStream</code> as an argument.</p>\n\n<p><strong>Classloaders</strong></p>\n\n<p>Be careful if your app has many classloaders. If you have a simple standalone application (no servers or complex things) you shouldn't worry. I don't think it's the case provided <code>ImageIcon</code> was capable of finding it.</p>\n\n<p><strong>Edit: classpath</strong></p>\n\n<p><code>getResource</code> is—as mattb says—for loading resources from the classpath (from your .jar or classpath directory). If you are bundling an app it's nice to have altogether, so you could include the icon file inside the jar of your app and obtain it this way.</p>\n"},{"tags":[],"owner":{"account_id":9998001,"reputation":577,"user_id":7394973,"accept_rate":60,"display_name":"J.E.Tkaczyk"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1485016998,"creation_date":1485016998,"answer_id":41781868,"question_id":2343187,"body_markdown":"As a noobie I was confused by this until I realized that the so called &quot;path&quot; is the path ***relative*** to the MyClass.**class** file in the file system and not the MyClass.**java** file.  My IDE copies the resources (like xx.jpg, xx.xml) to a directory local to the MyClass.class. For example, inside a pkg directory called &quot;target/classes/pkg.  The class-file location may be different for different IDE&#39;s and depending on how the build is structured for your application.  You should first explore the file system and find the location of the MyClass.class file and the copied location of the associated resource you are seeking to extract.  Then determine the path relative to the MyClass.class file and write that as a string value with &quot;dots&quot; and &quot;slashes&quot;.  \r\n\r\nFor example, here is how I make an app1.fxml file available to my javafx application where the relevant &quot;MyClass.class&quot; is implicitly &quot;Main.class&quot;.  The Main.java file is where this line of resource-calling code is contained.  In my specific case the resources are copied to a location at the same level as the enclosing package folder. That is: /target/classes/pkg/Main.class and /target/classes/app1.fxml.  So paraphrasing...the relative reference &quot;../app1.fxml&quot; is &quot;start from Main.class, go up one directory level, now you can see the resource&quot;.  \r\n\r\n    FXMLLoader loader = new FXMLLoader();\r\n            loader.setLocation(getClass().getResource(&quot;../app1.fxml&quot;));\r\n\r\nNote that in this relative-path string &quot;../app1.fxml&quot;, the first two dots reference the directory enclosing Main.class and the single &quot;.&quot; indicates a file extension to follow.  After these details become second nature, you will forget why it was confusing.  \r\n\r\n","title":"Loading resources using getClass().getResource()","body":"<p>As a noobie I was confused by this until I realized that the so called \"path\" is the path <strong><em>relative</em></strong> to the MyClass.<strong>class</strong> file in the file system and not the MyClass.<strong>java</strong> file.  My IDE copies the resources (like xx.jpg, xx.xml) to a directory local to the MyClass.class. For example, inside a pkg directory called \"target/classes/pkg.  The class-file location may be different for different IDE's and depending on how the build is structured for your application.  You should first explore the file system and find the location of the MyClass.class file and the copied location of the associated resource you are seeking to extract.  Then determine the path relative to the MyClass.class file and write that as a string value with \"dots\" and \"slashes\".  </p>\n\n<p>For example, here is how I make an app1.fxml file available to my javafx application where the relevant \"MyClass.class\" is implicitly \"Main.class\".  The Main.java file is where this line of resource-calling code is contained.  In my specific case the resources are copied to a location at the same level as the enclosing package folder. That is: /target/classes/pkg/Main.class and /target/classes/app1.fxml.  So paraphrasing...the relative reference \"../app1.fxml\" is \"start from Main.class, go up one directory level, now you can see the resource\".  </p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(getClass().getResource(\"../app1.fxml\"));\n</code></pre>\n\n<p>Note that in this relative-path string \"../app1.fxml\", the first two dots reference the directory enclosing Main.class and the single \".\" indicates a file extension to follow.  After these details become second nature, you will forget why it was confusing.  </p>\n"},{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523289095,"creation_date":1523289095,"answer_id":49736934,"question_id":2343187,"body_markdown":"getResource by example:\r\n\r\n    package szb.testGetResource;\r\n    public class TestGetResource {\r\n        private void testIt() {\r\n            System.out.println(&quot;test1: &quot;+TestGetResource.class.getResource(&quot;test.css&quot;));\r\n            System.out.println(&quot;test2: &quot;+getClass().getResource(&quot;test.css&quot;));\r\n        }\r\n        public static void main(String[] args) {\r\n\t        new TestGetResource().testIt();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\noutput:\r\n\r\n    test1: file:/home/szb/projects/test/bin/szb/testGetResource/test.css\r\n    test2: file:/home/szb/projects/test/bin/szb/testGetResource/test.css\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2Lo1.png","title":"Loading resources using getClass().getResource()","body":"<p>getResource by example:</p>\n\n<pre><code>package szb.testGetResource;\npublic class TestGetResource {\n    private void testIt() {\n        System.out.println(\"test1: \"+TestGetResource.class.getResource(\"test.css\"));\n        System.out.println(\"test2: \"+getClass().getResource(\"test.css\"));\n    }\n    public static void main(String[] args) {\n        new TestGetResource().testIt();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/X2Lo1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X2Lo1.png\" alt=\"enter image description here\"></a></p>\n\n<p>output:</p>\n\n<pre><code>test1: file:/home/szb/projects/test/bin/szb/testGetResource/test.css\ntest2: file:/home/szb/projects/test/bin/szb/testGetResource/test.css\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15199664,"reputation":51,"user_id":10968020,"display_name":"Dop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689605870,"creation_date":1603031930,"answer_id":64414570,"question_id":2343187,"body_markdown":"`getResourceAsStream()` looks inside of your resource folder. So the file should be placed inside of the defined resource-folder. That is, if the file resides in `/src/main/resources/properties` the path should be `/properties/yourFilename.\r\n\r\n`getClass().getResourceAsStream(/properties/yourFilename)`","title":"Loading resources using getClass().getResource()","body":"<p><code>getResourceAsStream()</code> looks inside of your resource folder. So the file should be placed inside of the defined resource-folder. That is, if the file resides in <code>/src/main/resources/properties</code> the path should be `/properties/yourFilename.</p>\n<p><code>getClass().getResourceAsStream(/properties/yourFilename)</code></p>\n"}],"owner":{"account_id":98300,"reputation":1859,"user_id":266192,"accept_rate":83,"display_name":"Luhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162555,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":2343229,"answer_count":5,"score":28,"last_activity_date":1689605870,"creation_date":1267202570,"question_id":2343187,"body_markdown":"I am trying to load an image to use as an icon in my application.  The appropriate method according to this [tutorial][1] is:\n\n    protected ImageIcon createImageIcon(String path, String description) \n    {\n        java.net.URL imgURL = getClass().getResource(path);\n        if (imgURL != null) {\n            return new ImageIcon(imgURL, description);\n        } else {\n            System.err.println(&quot;Couldn&#39;t find file: &quot; + path);\n            return null;\n        }\n    }\n\n\nSo, I placed the location of the file, and passed it as a parameter to this function.  This didn&#39;t work, i.e. imgURL was null. When I tried creating the ImageIcon by passing in the path explicitly:\n\n    ImageIcon icon  = new ImageIcon(path,&quot;My Icon Image&quot;);\n\nIt worked great!  So the application can pick up the image from an explicitly defined path, but didn&#39;t pick up the image using getResources().  In both cases, the value of the path variable is the same.  Why wouldn&#39;t it work?  How are resources found by the class loader?\n\nThanks.\n\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/components/icon.html","title":"Loading resources using getClass().getResource()","body":"<p>I am trying to load an image to use as an icon in my application.  The appropriate method according to this <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/icon.html\" rel=\"noreferrer\">tutorial</a> is:</p>\n<pre><code>protected ImageIcon createImageIcon(String path, String description) \n{\n    java.net.URL imgURL = getClass().getResource(path);\n    if (imgURL != null) {\n        return new ImageIcon(imgURL, description);\n    } else {\n        System.err.println(&quot;Couldn't find file: &quot; + path);\n        return null;\n    }\n}\n</code></pre>\n<p>So, I placed the location of the file, and passed it as a parameter to this function.  This didn't work, i.e. imgURL was null. When I tried creating the ImageIcon by passing in the path explicitly:</p>\n<pre><code>ImageIcon icon  = new ImageIcon(path,&quot;My Icon Image&quot;);\n</code></pre>\n<p>It worked great!  So the application can pick up the image from an explicitly defined path, but didn't pick up the image using getResources().  In both cases, the value of the path variable is the same.  Why wouldn't it work?  How are resources found by the class loader?</p>\n<p>Thanks.</p>\n"},{"tags":["java","jaxb","jakarta-migration"],"owner":{"account_id":28955839,"reputation":1,"user_id":22179419,"display_name":"vivek204"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689605760,"creation_date":1688620657,"question_id":76625708,"body_markdown":"As we have request for file export for setting request we are try to migrate from javax to jakarta  code throwing Exception at jaxb.marshal using jakarta.xml.bind 3.0jar \r\n```\r\npublic String exportSettings(final String reason) throws EpcisException {\r\n\t\tfinal File file = PathUtils.getTempFile(getServerPath(), &quot;result_export_&quot; + System.currentTimeMillis(), &quot;.xml&quot;);\r\n\r\n\t\ttry (OutputStream os = new FileOutputStream(file)) {\r\n\t\t\tfinal JAXBElement&lt;Settings&gt; settingsElement = new JAXBElement&lt;&gt;(SettingsNodeNames.SETINGS, Settings.class, export(reason));\r\n\t\t\tJAXB.marshal(settingsElement, os); //throwing exception at this line\r\n\r\n\t\t\treturn file.getParentFile().getName() + &quot;/&quot; + file.getName();\r\n\t\t} catch (final IOException e) {\r\n\t\t\tthrow new EpcisException(e.getMessage());\r\n\t\t}\r\n\t}\r\n```\r\n**ErrorLOG:**\r\njakarta.xml.bind.MarshalException - with linked exception: [com.sun.istack.SAXException2: unable to marshal type &quot;epcglobal.epcis.xsd._1.AttributeType&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n","title":"jakarta.xml.bind.MarshalException: unable to marshal type as an element because it is missing an @XmlRootElement annotation","body":"<p>As we have request for file export for setting request we are try to migrate from javax to jakarta  code throwing Exception at jaxb.marshal using jakarta.xml.bind 3.0jar</p>\n<pre><code>public String exportSettings(final String reason) throws EpcisException {\n        final File file = PathUtils.getTempFile(getServerPath(), &quot;result_export_&quot; + System.currentTimeMillis(), &quot;.xml&quot;);\n\n        try (OutputStream os = new FileOutputStream(file)) {\n            final JAXBElement&lt;Settings&gt; settingsElement = new JAXBElement&lt;&gt;(SettingsNodeNames.SETINGS, Settings.class, export(reason));\n            JAXB.marshal(settingsElement, os); //throwing exception at this line\n\n            return file.getParentFile().getName() + &quot;/&quot; + file.getName();\n        } catch (final IOException e) {\n            throw new EpcisException(e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>ErrorLOG:</strong>\njakarta.xml.bind.MarshalException - with linked exception: [com.sun.istack.SAXException2: unable to marshal type &quot;epcglobal.epcis.xsd._1.AttributeType&quot; as an element because it is missing an @XmlRootElement annotation</p>\n"},{"tags":["java","elasticsearch","lucene"],"owner":{"account_id":2073200,"reputation":777,"user_id":1847212,"accept_rate":8,"display_name":"Igor Kustov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689605590,"creation_date":1689605590,"question_id":76705688,"body_markdown":"I&#39;m writing custom lucene query which is basically a wrapper around boolean query with many should clauses. \r\n\r\nI want to access this boolean query&#39;s matched terms, and then either filter out this document depending on external statistics on those terms or proceed with this document without affecting it boolean score.\r\n\r\nI believe I need to create custom **scorer** which will use **two-phase iterator** which will use **boolean-query iterator** as approximation and then in match ***method*** I will be able somehow to either match terms or return false. However, I couldn&#39;t find how to access matched terms.\r\n\r\n     @Override\r\n     public Weight createWeight(IndexSearcher searcher, ScoreMode scoreMode, float boost) throws IOException {\r\n           var internalScorer  = booleanQueryWeight.scorer(leafReaderContext);\r\n           var approximationIterator = internalScorer.iterator();\r\n    \r\n           final TwoPhaseIterator iterator = new TwoPhaseIterator(approximationIterator) {\r\n            @Override\r\n            public boolean matches() throws IOException {\r\n                ???\r\n            }\r\n    \r\n            @Override\r\n            public float matchCost() {\r\n                return 0;\r\n            }\r\n        }\r\n    \r\n        return new ConstantScoreScorer(this, boost, scoreMode, iterator);\r\n    }","title":"Access child boolean query matched terms in parent custom wrapper query","body":"<p>I'm writing custom lucene query which is basically a wrapper around boolean query with many should clauses.</p>\n<p>I want to access this boolean query's matched terms, and then either filter out this document depending on external statistics on those terms or proceed with this document without affecting it boolean score.</p>\n<p>I believe I need to create custom <strong>scorer</strong> which will use <strong>two-phase iterator</strong> which will use <strong>boolean-query iterator</strong> as approximation and then in match <em><strong>method</strong></em> I will be able somehow to either match terms or return false. However, I couldn't find how to access matched terms.</p>\n<pre><code> @Override\n public Weight createWeight(IndexSearcher searcher, ScoreMode scoreMode, float boost) throws IOException {\n       var internalScorer  = booleanQueryWeight.scorer(leafReaderContext);\n       var approximationIterator = internalScorer.iterator();\n\n       final TwoPhaseIterator iterator = new TwoPhaseIterator(approximationIterator) {\n        @Override\n        public boolean matches() throws IOException {\n            ???\n        }\n\n        @Override\n        public float matchCost() {\n            return 0;\n        }\n    }\n\n    return new ConstantScoreScorer(this, boost, scoreMode, iterator);\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1689602570,"post_id":76705137,"comment_id":135232796,"body_markdown":"Which tool/platform/language are you using? Probably Java?","body":"Which tool/platform/language are you using? Probably Java?"},{"owner":{"account_id":5832706,"reputation":313,"user_id":4596721,"display_name":"Francesco"},"score":0,"creation_date":1689605197,"post_id":76705137,"comment_id":135233448,"body_markdown":"yes, i&#39;m using java! :-)","body":"yes, i&#39;m using java! :-)"}],"answers":[{"tags":[],"owner":{"account_id":16711209,"reputation":1,"user_id":12078392,"display_name":"sachith Coperate"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689602201,"creation_date":1689602201,"answer_id":76705177,"question_id":76705137,"body_markdown":"Probably this will work\r\n\r\n\\p{Alpha}[\\p{Alnum}-]+(?!-)\\p{Alnum}\r\n\r\nIn this pattern, (?!-) is the negative lookahead assertion that ensures there is no dash immediately following the previous match.","title":"Regex should not match for two or more consecutive dashes","body":"<p>Probably this will work</p>\n<p>\\p{Alpha}[\\p{Alnum}-]+(?!-)\\p{Alnum}</p>\n<p>In this pattern, (?!-) is the negative lookahead assertion that ensures there is no dash immediately following the previous match.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689603816,"creation_date":1689603816,"answer_id":76705439,"question_id":76705137,"body_markdown":"You may consider this regex solution:\r\n\r\n```sh\r\n^\\p{Alpha}\\p{Alnum}*(?:-\\p{Alnum}+)*$\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/kBjSRm/1\r\n\r\n**RegEx Details:**\r\n\r\n- `^`: Start\r\n- `\\p{Alpha}`: Match an alphabet\r\n- `\\p{Alnum}*`: Match 0 or more alphanumeric characters\r\n- `(?:-\\p{Alnum}+)*`: Match `-` followed by 1+ of alphanumeric characters. Repeat this group 0 or more times\r\n- `$`: End","title":"Regex should not match for two or more consecutive dashes","body":"<p>You may consider this regex solution:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^\\p{Alpha}\\p{Alnum}*(?:-\\p{Alnum}+)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/kBjSRm/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>\\p{Alpha}</code>: Match an alphabet</li>\n<li><code>\\p{Alnum}*</code>: Match 0 or more alphanumeric characters</li>\n<li><code>(?:-\\p{Alnum}+)*</code>: Match <code>-</code> followed by 1+ of alphanumeric characters. Repeat this group 0 or more times</li>\n<li><code>$</code>: End</li>\n</ul>\n"}],"owner":{"account_id":5832706,"reputation":313,"user_id":4596721,"display_name":"Francesco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76705439,"answer_count":2,"score":1,"last_activity_date":1689605231,"creation_date":1689601875,"question_id":76705137,"body_markdown":"I have the following regex:\r\n```\r\n\\p{Alpha}[\\p{Alnum}-]+\\p{Alnum}\r\n```\r\nWith this, the text should start with an alpha character and could be followed by alphanumerics and dashes.\r\n\r\nBut I don t want to have two or more consecutive dashes. What is the right regex that I can use for this case?\r\n\r\nThanks to all\r\n\r\nFrank","title":"Regex should not match for two or more consecutive dashes","body":"<p>I have the following regex:</p>\n<pre><code>\\p{Alpha}[\\p{Alnum}-]+\\p{Alnum}\n</code></pre>\n<p>With this, the text should start with an alpha character and could be followed by alphanumerics and dashes.</p>\n<p>But I don t want to have two or more consecutive dashes. What is the right regex that I can use for this case?</p>\n<p>Thanks to all</p>\n<p>Frank</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect","ignite"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689604753,"creation_date":1689604753,"answer_id":76705558,"question_id":76702596,"body_markdown":"You can use environment variable `KAFKA_OPTS` to add arbitrary JVM flags, however, your error is more related to CLASSPATH not loading the JAR you added ","title":"How to pass &#39;--add-opens&#39; JVM arguments to run ignite sink connector inside kafka kube connect","body":"<p>You can use environment variable <code>KAFKA_OPTS</code> to add arbitrary JVM flags, however, your error is more related to CLASSPATH not loading the JAR you added</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689604768,"creation_date":1689581639,"question_id":76702596,"body_markdown":"I want to use IgniteSinkConnector inside my kafka kube connect which using kafka version 3.4. I add ignite core and kafka ignite extension to my path and I can see that new sink connector was added and I can use. Problem is when I want to start it I got exception:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.internal.util.IgniteUtils\r\n\r\nAccording to ignite documention I should add --add-opens JVM arguments but I don&#39;t know where when I just add jar to classpath kafka connect","title":"How to pass &#39;--add-opens&#39; JVM arguments to run ignite sink connector inside kafka kube connect","body":"<p>I want to use IgniteSinkConnector inside my kafka kube connect which using kafka version 3.4. I add ignite core and kafka ignite extension to my path and I can see that new sink connector was added and I can use. Problem is when I want to start it I got exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.internal.util.IgniteUtils\n</code></pre>\n<p>According to ignite documention I should add --add-opens JVM arguments but I don't know where when I just add jar to classpath kafka connect</p>\n"},{"tags":["java","spring-boot","oauth-2.0","postman","clientcredential"],"answers":[{"tags":[],"owner":{"account_id":28576136,"reputation":131,"user_id":21877718,"display_name":"Will Phi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689604735,"creation_date":1689604735,"answer_id":76705555,"question_id":76445327,"body_markdown":"This is due to the default [DelegatingPasswordEncoder][1].\r\n\r\nTry to change\r\n\r\n    .clientSecret(&quot;abcde&quot;)\r\n\r\nto\r\n\r\n    .clientSecret(&quot;{noop}abcde&quot;)\r\n\r\nMay need to change the user&#39;s password as well.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/DelegatingPasswordEncoder.html","title":"spring authorization server oauth2 client credentials flow (fail to get token)","body":"<p>This is due to the default <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/DelegatingPasswordEncoder.html\" rel=\"nofollow noreferrer\">DelegatingPasswordEncoder</a>.</p>\n<p>Try to change</p>\n<pre><code>.clientSecret(&quot;abcde&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>.clientSecret(&quot;{noop}abcde&quot;)\n</code></pre>\n<p>May need to change the user's password as well.</p>\n"}],"owner":{"account_id":13120438,"reputation":67,"user_id":9478032,"display_name":"J L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76705555,"answer_count":1,"score":0,"last_activity_date":1689604735,"creation_date":1686384418,"question_id":76445327,"body_markdown":"Trying to setup a authorization sever with spring authorization server and test with postaman, but keep responding 401, attahced my postaman input in image and console error in image\r\n\r\nMainly reference: \r\n1. https://www.baeldung.com/spring-security-oauth-jwt\r\n2. https://stackoverflow.com/questions/72474476/spring-auth-server-code-grant-returns-401-unauthorized-for-endpoint-oauth2-auth\r\n\r\nImage\r\n\r\n[![postman input][1]][1]\r\n[![console error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gOWiX.png\r\n  [2]: https://i.stack.imgur.com/h6bDU.png\r\n\r\n2 configuration files\r\n\r\nDefaultSecurityConfig.java\r\n```@EnableWebSecurity\r\n@Configuration(proxyBeanMethods = false)\r\npublic class DefaultSecurityConfig {\r\n\r\n\t// @formatter:off\r\n\t@Bean\r\n\tpublic   SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n\t    http.authorizeRequests(authorizeRequests -&gt;\r\n        authorizeRequests.anyRequest().authenticated()\r\n    )\r\n    .formLogin(withDefaults());\r\n\t    return http.build();\r\n\t}\r\n\t// @formatter:on\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService users() {\r\n\t\tUserDetails user = User.withDefaultPasswordEncoder()\r\n\t\t\t\t.username(&quot;user1&quot;)\r\n\t\t\t\t.password(&quot;password&quot;)\r\n\t\t\t\t.roles(&quot;USER&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn new InMemoryUserDetailsManager(user);\r\n\t}\r\n\t// @formatter:on\r\n\r\n\t@Bean\r\n\tpublic SessionRegistry sessionRegistry() {\r\n\t\treturn new SessionRegistryImpl();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic HttpSessionEventPublisher httpSessionEventPublisher() {\r\n\t\treturn new HttpSessionEventPublisher();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAuthorizationServerConfig.java\r\n```@Configuration\r\n@ComponentScan(basePackageClasses = AuthorizationServerConfig.class)\r\n\r\npublic class AuthorizationServerConfig {\r\n\r\n\r\n  @Bean\r\n  @Order(Ordered.HIGHEST_PRECEDENCE)\r\n  public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n    return http.formLogin(Customizer.withDefaults()).build();\r\n  }\r\n\r\n  @Bean\r\n  @ConditionalOnMissingBean\r\n  public RegisteredClientRepository registeredClientRepository() {\r\n\r\n    RegisteredClient codeClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n    .clientId(&quot;code-auth-client&quot;)\r\n    .clientSecret(&quot;abcde&quot;)\r\n    .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n    .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n    .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n    .authorizationGrantType(AuthorizationGrantType.JWT_BEARER)\r\n    .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n    .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n    .redirectUri(&quot;http://127.0.0.1:8080/redirect/&quot;)\r\n    .scope(&quot;read-access&quot;)\r\n    .build();\r\n\r\n    return new InMemoryRegisteredClientRepository(codeClient);\r\n  }\r\n\r\n}```\r\n","title":"spring authorization server oauth2 client credentials flow (fail to get token)","body":"<p>Trying to setup a authorization sever with spring authorization server and test with postaman, but keep responding 401, attahced my postaman input in image and console error in image</p>\n<p>Mainly reference:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/spring-security-oauth-jwt\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-oauth-jwt</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72474476/spring-auth-server-code-grant-returns-401-unauthorized-for-endpoint-oauth2-auth\">Spring auth server code grant returns 401 unauthorized for endpoint /oauth2/authorize via Postman</a></li>\n</ol>\n<p>Image</p>\n<p><a href=\"https://i.stack.imgur.com/gOWiX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOWiX.png\" alt=\"postman input\" /></a>\n<a href=\"https://i.stack.imgur.com/h6bDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6bDU.png\" alt=\"console error\" /></a></p>\n<p>2 configuration files</p>\n<p>DefaultSecurityConfig.java</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class DefaultSecurityConfig {\n\n    // @formatter:off\n    @Bean\n    public   SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests(authorizeRequests -&gt;\n        authorizeRequests.anyRequest().authenticated()\n    )\n    .formLogin(withDefaults());\n        return http.build();\n    }\n    // @formatter:on\n\n    @Bean\n    public UserDetailsService users() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;user1&quot;)\n                .password(&quot;password&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n    // @formatter:on\n\n    @Bean\n    public SessionRegistry sessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n\n}\n</code></pre>\n<p>AuthorizationServerConfig.java</p>\n<pre><code>@ComponentScan(basePackageClasses = AuthorizationServerConfig.class)\n\npublic class AuthorizationServerConfig {\n\n\n  @Bean\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\n    OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n    return http.formLogin(Customizer.withDefaults()).build();\n  }\n\n  @Bean\n  @ConditionalOnMissingBean\n  public RegisteredClientRepository registeredClientRepository() {\n\n    RegisteredClient codeClient = RegisteredClient.withId(UUID.randomUUID().toString())\n    .clientId(&quot;code-auth-client&quot;)\n    .clientSecret(&quot;abcde&quot;)\n    .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n    .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n    .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n    .authorizationGrantType(AuthorizationGrantType.JWT_BEARER)\n    .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n    .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n    .redirectUri(&quot;http://127.0.0.1:8080/redirect/&quot;)\n    .scope(&quot;read-access&quot;)\n    .build();\n\n    return new InMemoryRegisteredClientRepository(codeClient);\n  }\n\n}```\n</code></pre>\n"},{"tags":["java","generics","java-8","functional-interface"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1681588556,"post_id":76024428,"comment_id":134081905,"body_markdown":"`T` extends `Base&lt;T&gt;`. The extending `T` is not guaranteed to be a functional interface, it could have added a method, making it not a SAM-type anymore (e.g. `interface TChild extends Base&lt;TChild&gt; { void secondMethod(); }`","body":"<code>T</code> extends <code>Base&lt;T&gt;</code>. The extending <code>T</code> is not guaranteed to be a functional interface, it could have added a method, making it not a SAM-type anymore (e.g. <code>interface TChild extends Base&lt;TChild&gt; { void secondMethod(); }</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681634958,"post_id":76024428,"comment_id":134085544,"body_markdown":"It&#39;s not just that it could have added a method, it could be a class and not an interface.  Nothing like this can possibly work.","body":"It&#39;s not just that it could have added a method, it could be a class and not an interface.  Nothing like this can possibly work."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1681800616,"post_id":76024428,"comment_id":134110692,"body_markdown":"It’s a lucky coincidence that in your example, the `process` method has the same parameter types and return type as the `parse` method. Since nothing in the language enforces this, you have demonstrated yourself that even if the sub-interface is a functional interface it may have a different method to implement and there’s no guaranty that the lambda expression in the default method is compatible to the other method.","body":"It’s a lucky coincidence that in your example, the <code>process</code> method has the same parameter types and return type as the <code>parse</code> method. Since nothing in the language enforces this, you have demonstrated yourself that even if the sub-interface is a functional interface it may have a different method to implement and there’s no guaranty that the lambda expression in the default method is compatible to the other method."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689603763,"creation_date":1689603763,"answer_id":76705429,"question_id":76024428,"body_markdown":"As said in a comment, it is not guaranteed the interface extending the `Base` interface can be expressed the same way. The only possible is to change the return type to `Base&lt;T&gt;` to make returning the lambda legal, which is guaranteed by the `Base` interface:\r\n\r\n```java\r\ndefault Base&lt;T&gt; someDefault() {\r\n\treturn () -&gt; {};\r\n}\r\n```\r\n\r\nThough it is probably what you don&#39;t want. Remember that the ultimate condition you need to satisfy that an interface can be expressed through a lambda expression is that the interface has exactly one abstract (non-default) method, which can be achieved also through extending a different interface. \r\n\r\nHere is an example using the `Base` interface that demonstrates why it is not possible to achieve the way you do:\r\n\r\n```java\r\npublic interface StringBase extends Base&lt;StringBase&gt; {\r\n\r\n\tvoid bonk();\r\n}\r\n```\r\n\r\nNow `StringBase` cannot be expressed through a lambda expression as long as it provides two abstract methods.\r\n\r\nTheoretically, only and only if all interfaces extending the `Base` interface can be compiled with `@FunctionalInterface` would assure that each of them would satisfy such a condition. However, there is no mechanism in Java to enforce this for the sake of successful compilation.\r\n\r\nOne of the workarounds is to implement the `someDefault` method and provide it as `default` in the extending interface. This assures the instantiated interface has truly a single abstract method and there is no dispute as in the `Base` interface:\r\n\r\n```java\r\npublic interface Base&lt;T extends Base&lt;T&gt;&gt; {\r\n\r\n\tvoid doIt();\r\n\r\n\tT someDefault();\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface StringBase extends Base&lt;StringBase&gt; {\r\n\r\n\t@Override\r\n\tdefault StringBase someDefault() {\r\n\t\treturn () -&gt; {};\r\n\t}\r\n}\r\n```","title":"Base interface for a functional interface","body":"<p>As said in a comment, it is not guaranteed the interface extending the <code>Base</code> interface can be expressed the same way. The only possible is to change the return type to <code>Base&lt;T&gt;</code> to make returning the lambda legal, which is guaranteed by the <code>Base</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default Base&lt;T&gt; someDefault() {\n    return () -&gt; {};\n}\n</code></pre>\n<p>Though it is probably what you don't want. Remember that the ultimate condition you need to satisfy that an interface can be expressed through a lambda expression is that the interface has exactly one abstract (non-default) method, which can be achieved also through extending a different interface.</p>\n<p>Here is an example using the <code>Base</code> interface that demonstrates why it is not possible to achieve the way you do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StringBase extends Base&lt;StringBase&gt; {\n\n    void bonk();\n}\n</code></pre>\n<p>Now <code>StringBase</code> cannot be expressed through a lambda expression as long as it provides two abstract methods.</p>\n<p>Theoretically, only and only if all interfaces extending the <code>Base</code> interface can be compiled with <code>@FunctionalInterface</code> would assure that each of them would satisfy such a condition. However, there is no mechanism in Java to enforce this for the sake of successful compilation.</p>\n<p>One of the workarounds is to implement the <code>someDefault</code> method and provide it as <code>default</code> in the extending interface. This assures the instantiated interface has truly a single abstract method and there is no dispute as in the <code>Base</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Base&lt;T extends Base&lt;T&gt;&gt; {\n\n    void doIt();\n\n    T someDefault();\n}\n\n@FunctionalInterface\npublic interface StringBase extends Base&lt;StringBase&gt; {\n\n    @Override\n    default StringBase someDefault() {\n        return () -&gt; {};\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11519559,"reputation":53,"user_id":8441845,"display_name":"voidnull"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689603763,"creation_date":1681588105,"question_id":76024428,"body_markdown":"I recently came across this when trying to provide common functionality to a sub-class of a functional interface. Apparently you cannot do it the way I thought (atleast for Java 8):\r\n\r\n```\r\n@FunctionalInterface \r\npublic interface Base&lt;T extends Base&lt;T&gt;&gt; {\r\n    void doit();\r\n        \r\n    default T someDefault() {\r\n        return () -&gt; {}; //incompatible types: T is not a functional interface\r\n    }\r\n}\r\n```\r\nIs there a way to do this? Or was it intentionally disallowed? Maybe an abuse of default methods?\r\n\r\nMaybe a use-case example would be a good idea:\r\n````\r\n@FunctionalInterface \r\npublic interface Processor&lt;I, T extends Processor&lt;I, T&gt;&gt; {\r\n    T process(I input);\r\n    default T requireNonNull(I i) {\r\n        return (I input) -&gt; {\r\n            Objects.requireNonNull(i);\r\n            process(input);\r\n        };\r\n    }\r\n}\r\n    \r\n@FunctionalInterface \r\npublic interface Parser&lt;T&gt; extends Processor&lt;String, T&gt; {\r\n    @Override\r\n    default T process(String s) { \r\n        return parse(s);\r\n    }\r\n    T parse(String s);\r\n}\r\n````","title":"Base interface for a functional interface","body":"<p>I recently came across this when trying to provide common functionality to a sub-class of a functional interface. Apparently you cannot do it the way I thought (atleast for Java 8):</p>\n<pre><code>@FunctionalInterface \npublic interface Base&lt;T extends Base&lt;T&gt;&gt; {\n    void doit();\n        \n    default T someDefault() {\n        return () -&gt; {}; //incompatible types: T is not a functional interface\n    }\n}\n</code></pre>\n<p>Is there a way to do this? Or was it intentionally disallowed? Maybe an abuse of default methods?</p>\n<p>Maybe a use-case example would be a good idea:</p>\n<pre><code>@FunctionalInterface \npublic interface Processor&lt;I, T extends Processor&lt;I, T&gt;&gt; {\n    T process(I input);\n    default T requireNonNull(I i) {\n        return (I input) -&gt; {\n            Objects.requireNonNull(i);\n            process(input);\n        };\n    }\n}\n    \n@FunctionalInterface \npublic interface Parser&lt;T&gt; extends Processor&lt;String, T&gt; {\n    @Override\n    default T process(String s) { \n        return parse(s);\n    }\n    T parse(String s);\n}\n</code></pre>\n"},{"tags":["java","sql-server","spring-boot","teiid"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1689601121,"post_id":76704955,"comment_id":135232438,"body_markdown":"i would make a guess that this teiid thing doesn&#39;t handle UNIONs in query, seems it wants to parse the query manually and fails","body":"i would make a guess that this teiid thing doesn&#39;t handle UNIONs in query, seems it wants to parse the query manually and fails"},{"owner":{"account_id":5977320,"reputation":41,"user_id":4697705,"display_name":"SamanthPadala"},"score":0,"creation_date":1689616374,"post_id":76704955,"comment_id":135235788,"body_markdown":"@siggemannen, as per the documentation(https://github.com/teiid/teiid-spring-boot/blob/master/docs/UserGuide.adoc) it supports.","body":"@siggemannen, as per the documentation(<a href=\"https://github.com/teiid/teiid-spring-boot/blob/master/docs/UserGuide.adoc\" rel=\"nofollow noreferrer\">github.com/teiid/teiid-spring-boot/blob/master&zwnj;&#8203;/docs/&hellip;</a>) it supports."},{"owner":{"account_id":5977320,"reputation":41,"user_id":4697705,"display_name":"SamanthPadala"},"score":0,"creation_date":1689616782,"post_id":76704955,"comment_id":135235859,"body_markdown":"@ramesh-reddy kindly, can you help me out here ?","body":"@ramesh-reddy kindly, can you help me out here ?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1689617265,"post_id":76704955,"comment_id":135235946,"body_markdown":"aha, i think &quot;parameter&quot; is a reserved word in their parser. So you should use another column name. Also, database54.DAC_SYS_MEMORY, shouldn&#39;t it be database54.dbo.DAC_SYS_MEMORY","body":"aha, i think &quot;parameter&quot; is a reserved word in their parser. So you should use another column name. Also, database54.DAC_SYS_MEMORY, shouldn&#39;t it be database54.dbo.DAC_SYS_MEMORY"},{"owner":{"account_id":5977320,"reputation":41,"user_id":4697705,"display_name":"SamanthPadala"},"score":0,"creation_date":1689659455,"post_id":76704955,"comment_id":135240864,"body_markdown":"@siggemannen Getting same error even when I use &#39;database54.dbo.DAC_SYS_MEMORY&#39;. Alternatively, we can add &#39;spring.datasource.database54.importer.SchemaPattern=dbo&#39; in application.properties file (which I am using).","body":"@siggemannen Getting same error even when I use &#39;database54.dbo.DAC_SYS_MEMORY&#39;. Alternatively, we can add &#39;spring.datasource.database54.importer.SchemaPattern=dbo&#39; in application.properties file (which I am using)."}],"owner":{"account_id":5977320,"reputation":41,"user_id":4697705,"display_name":"SamanthPadala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689603714,"creation_date":1689600428,"question_id":76704955,"body_markdown":"I am getting below error when trying to fetch data from two different mssql servers:\r\n\r\n&gt; TEIID31100 Parsing error: Encountered &quot;SELECT id, [\\*]parameter[\\*],\r\n&gt; value&quot; at line 9, column 12. Was expecting: &quot;char&quot; | &quot;date&quot; | &quot;time&quot; |\r\n&gt; &quot;timestamp&quot; | &quot;cast&quot; | &quot;convert&quot; | &quot;any&quot; | &quot;array&quot; | &quot;array_agg&quot; |\r\n&gt; &quot;case&quot; ... \tat\r\n&gt; org.teiid.query.parser.QueryParser.convertParserException(QueryParser.java:231)\r\n&gt; ~[teiid-engine-16.0.0.jar:16.0.0] \t... 28 common frames omitted\r\n\r\n\r\nMy Class:\r\n\r\n     @SelectQuery(&quot;SELECT id, parameter, value, created_date FROM database63.DAC_SYS_MEMORY&quot;\r\n\t\t     + &quot; UNION ALL&quot;\r\n\t\t     + &quot; SELECT id, parameter, value, created_date FROM database54.DAC_SYS_MEMORY&quot;)\r\n     public class CustomRecord {\r\n\t\r\n\t    @Id\r\n\t    @Column(name=&quot;ID&quot;)\r\n\t    private int id;\r\n\t    @Column(name=&quot;Parameter&quot;)\r\n\t    private String parameter;\r\n\t    @Column(name=&quot;Value&quot;)\r\n\t    private String value;\r\n\t    @Column(name=&quot;created_date&quot;)\r\n\t    private Date createdDate;\r\n\r\n\r\nI have integrated Teiid spring boot and been trying to fetch data from two diff sqlservers","title":"TEIID Spring boot integration with two sql server. QueryParserException","body":"<p>I am getting below error when trying to fetch data from two different mssql servers:</p>\n<blockquote>\n<p>TEIID31100 Parsing error: Encountered &quot;SELECT id, [*]parameter[*],\nvalue&quot; at line 9, column 12. Was expecting: &quot;char&quot; | &quot;date&quot; | &quot;time&quot; |\n&quot;timestamp&quot; | &quot;cast&quot; | &quot;convert&quot; | &quot;any&quot; | &quot;array&quot; | &quot;array_agg&quot; |\n&quot;case&quot; ...    at\norg.teiid.query.parser.QueryParser.convertParserException(QueryParser.java:231)\n~[teiid-engine-16.0.0.jar:16.0.0]     ... 28 common frames omitted</p>\n</blockquote>\n<p>My Class:</p>\n<pre><code> @SelectQuery(&quot;SELECT id, parameter, value, created_date FROM database63.DAC_SYS_MEMORY&quot;\n         + &quot; UNION ALL&quot;\n         + &quot; SELECT id, parameter, value, created_date FROM database54.DAC_SYS_MEMORY&quot;)\n public class CustomRecord {\n\n    @Id\n    @Column(name=&quot;ID&quot;)\n    private int id;\n    @Column(name=&quot;Parameter&quot;)\n    private String parameter;\n    @Column(name=&quot;Value&quot;)\n    private String value;\n    @Column(name=&quot;created_date&quot;)\n    private Date createdDate;\n</code></pre>\n<p>I have integrated Teiid spring boot and been trying to fetch data from two diff sqlservers</p>\n"},{"tags":["java","arraylist","combinations","permutation"],"comments":[{"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"score":0,"creation_date":1524925164,"post_id":50077475,"comment_id":87171109,"body_markdown":"share your implementation (even if it start with 0) so we could help you fine tuning it","body":"share your implementation (even if it start with 0) so we could help you fine tuning it"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1524926381,"post_id":50077475,"comment_id":87171436,"body_markdown":"Get your permutations (which is best acquired using recursion) into an ArrayList. Before  the ArrayList is returned, Iterate through it and remove any elements that start with 0.","body":"Get your permutations (which is best acquired using recursion) into an ArrayList. Before  the ArrayList is returned, Iterate through it and remove any elements that start with 0."}],"answers":[{"tags":[],"owner":{"account_id":11111130,"reputation":95,"user_id":8156875,"display_name":"balderdash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524927183,"creation_date":1524926702,"answer_id":50077717,"question_id":50077475,"body_markdown":"You could solve this recursively as described here:  https://stackoverflow.com/questions/24460480/permutation-of-an-arraylist-of-numbers-using-recursion.\r\nThe only thing that is missing there is your restriction with the zeros, which could be solved somehow like this (the loop is taken from the example above):\r\n\r\n    for (List&lt;Integer&gt; al : myLists) {\r\n\r\n        // The part you need to add:\r\n        if (al.get(0) == 0) {\r\n            continue;\r\n        }\r\n\r\n        String appender = &quot;&quot;;\r\n        for (Integer i : al) {\r\n            System.out.print(appender + i);\r\n            appender = &quot; &quot;;\r\n        }\r\n        System.out.println();\r\n    }\r\nYou basically check the first element of each permutation and skip the ones with a leading zero. The `continue` jumps to the next iteration of the loop and therefore to the next permutation.\r\n\r\n","title":"Permutations of ArrayList&lt;Integer&gt;","body":"<p>You could solve this recursively as described here:  <a href=\"https://stackoverflow.com/questions/24460480/permutation-of-an-arraylist-of-numbers-using-recursion\">Permutation of an ArrayList of numbers using recursion</a>.\nThe only thing that is missing there is your restriction with the zeros, which could be solved somehow like this (the loop is taken from the example above):</p>\n\n<pre><code>for (List&lt;Integer&gt; al : myLists) {\n\n    // The part you need to add:\n    if (al.get(0) == 0) {\n        continue;\n    }\n\n    String appender = \"\";\n    for (Integer i : al) {\n        System.out.print(appender + i);\n        appender = \" \";\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>You basically check the first element of each permutation and skip the ones with a leading zero. The <code>continue</code> jumps to the next iteration of the loop and therefore to the next permutation.</p>\n"},{"tags":[],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524927020,"creation_date":1524927020,"answer_id":50077769,"question_id":50077475,"body_markdown":"Curious question! Interesting code kata.\r\n\r\nI naively think I would have a recursive method that takes:\r\n\r\n- a list of the items currently chosen by the caller\r\n- a set of the items available for the callee\r\n\r\nThe method would iterate over the set to chose 1 more item and call itself with the list extended by this item, and the set reduced by this item. Upon return, remove from list, add back to set and go on with next item (take a defensive copy of the set of course).\r\n\r\nIf the current list is empty, the selected first item cannot be 0, as per your rules. If you must collect the permutations somewhere (not just print), a 3rd argument would be required for a collection or an observer.\r\n\r\nThe recursion obvioulsy stops when the available set is empty, at which point the permutation is sent to the collection or observer. \r\n\r\nIf items can repeat, you may have benefit from sorting them first in order to skip electing the same item again at a given position.\r\n\r\nBeware this quires a recursion depth of N, for N items. But the danger is minimal because even with N=10000, it may not stackoverflow, but the CPU time to complete would be order(N!) (probably end of universe...)\r\n","title":"Permutations of ArrayList&lt;Integer&gt;","body":"<p>Curious question! Interesting code kata.</p>\n\n<p>I naively think I would have a recursive method that takes:</p>\n\n<ul>\n<li>a list of the items currently chosen by the caller</li>\n<li>a set of the items available for the callee</li>\n</ul>\n\n<p>The method would iterate over the set to chose 1 more item and call itself with the list extended by this item, and the set reduced by this item. Upon return, remove from list, add back to set and go on with next item (take a defensive copy of the set of course).</p>\n\n<p>If the current list is empty, the selected first item cannot be 0, as per your rules. If you must collect the permutations somewhere (not just print), a 3rd argument would be required for a collection or an observer.</p>\n\n<p>The recursion obvioulsy stops when the available set is empty, at which point the permutation is sent to the collection or observer. </p>\n\n<p>If items can repeat, you may have benefit from sorting them first in order to skip electing the same item again at a given position.</p>\n\n<p>Beware this quires a recursion depth of N, for N items. But the danger is minimal because even with N=10000, it may not stackoverflow, but the CPU time to complete would be order(N!) (probably end of universe...)</p>\n"}],"owner":{"account_id":6306949,"reputation":29,"user_id":4899775,"display_name":"JuanMartinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689603648,"creation_date":1524924945,"question_id":50077475,"body_markdown":"I  am working on a problem where I have to obtain all permutations of an arraylist of numbers. The only restriction is that any number can&#39;t start with 0, so if we have [0,1,2] we would obtain\r\n\r\n[1,2,0]\r\n\r\n[1,0,2]\r\n\r\n[2,0,1]\r\n\r\n[2,1,0]\r\n\r\nI know how to do this with 3 loops but the thing is that I have to repeat this to different sets of numbers with different sizes, so I need one method that I can apply to different sets of numbers. Unfortunately, I have no clue how to do this. I imagine I have to use some kind of recursive function but I don&#39;t know how to implement it so the numbers cant start with a 0. Any ideas? Please help me understand the problem, don&#39;t just post working code.","title":"Permutations of ArrayList&lt;Integer&gt;","body":"<p>I  am working on a problem where I have to obtain all permutations of an arraylist of numbers. The only restriction is that any number can't start with 0, so if we have [0,1,2] we would obtain</p>\n<p>[1,2,0]</p>\n<p>[1,0,2]</p>\n<p>[2,0,1]</p>\n<p>[2,1,0]</p>\n<p>I know how to do this with 3 loops but the thing is that I have to repeat this to different sets of numbers with different sizes, so I need one method that I can apply to different sets of numbers. Unfortunately, I have no clue how to do this. I imagine I have to use some kind of recursive function but I don't know how to implement it so the numbers cant start with a 0. Any ideas? Please help me understand the problem, don't just post working code.</p>\n"},{"tags":["java","service","solr"],"answers":[{"tags":[],"owner":{"account_id":3831347,"reputation":111,"user_id":3176808,"display_name":"Mahlatse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689603448,"creation_date":1689603448,"answer_id":76705372,"question_id":73745060,"body_markdown":"Seems like your problem is related to a JAVA_HOME that points to nonexistent location. Specify JAVA_HOME in your system settings and see if the problem persists [like this stackoverflow solution][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"Failed to start LSB: Controls Apache Solr as a Service","body":"<p>Seems like your problem is related to a JAVA_HOME that points to nonexistent location. Specify JAVA_HOME in your system settings and see if the problem persists <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">like this stackoverflow solution</a></p>\n"}],"owner":{"account_id":22616221,"reputation":21,"user_id":16795709,"display_name":"Himanshu Jhaloya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689603448,"creation_date":1663332529,"question_id":73745060,"body_markdown":"When I install any solr I am getting this: \r\n\r\n```none\r\nsolr.service - LSB: Controls Apache Solr as a Service\r\n     Loaded: loaded (/etc/init.d/solr; generated)\r\n     Active: failed (Result: exit-code) since Fri 2022-09-16 17:35:43 IST; 33min ago\r\n       Docs: man:systemd-sysv-generator(8)\r\n    Process: 23476 ExecStart=/etc/init.d/solr start (code=exited, status=1/FAILURE)\r\n\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: (to solr) root on none\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: pam_unix(su-l:session): session opened for user solr by (uid=0)\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: The currently defined JAVA_HOME (/usr/lib/jvm/openjdk-11) refers\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: to a location where Java could not be found.  Aborting.\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: Either fix the JAVA_HOME variable or remove it from the\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: environment so that the system PATH will be searched.\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: pam_unix(su-l:session): session closed for user solr\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: solr.service: Control process exited, code=exited, status=1/FAILURE\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: solr.service: Failed with result &#39;exit-code&#39;.\r\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: Failed to start LSB: Controls Apache Solr as a Service.\r\n```\r\n\r\nHow can I fix this?","title":"Failed to start LSB: Controls Apache Solr as a Service","body":"<p>When I install any solr I am getting this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>solr.service - LSB: Controls Apache Solr as a Service\n     Loaded: loaded (/etc/init.d/solr; generated)\n     Active: failed (Result: exit-code) since Fri 2022-09-16 17:35:43 IST; 33min ago\n       Docs: man:systemd-sysv-generator(8)\n    Process: 23476 ExecStart=/etc/init.d/solr start (code=exited, status=1/FAILURE)\n\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: (to solr) root on none\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: pam_unix(su-l:session): session opened for user solr by (uid=0)\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: The currently defined JAVA_HOME (/usr/lib/jvm/openjdk-11) refers\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: to a location where Java could not be found.  Aborting.\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: Either fix the JAVA_HOME variable or remove it from the\nSep 16 17:35:43 himanshu-Inspiron-15-3567 solr[23492]: environment so that the system PATH will be searched.\nSep 16 17:35:43 himanshu-Inspiron-15-3567 su[23478]: pam_unix(su-l:session): session closed for user solr\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: solr.service: Control process exited, code=exited, status=1/FAILURE\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: solr.service: Failed with result 'exit-code'.\nSep 16 17:35:43 himanshu-Inspiron-15-3567 systemd[1]: Failed to start LSB: Controls Apache Solr as a Service.\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","exception","log4j2"],"owner":{"account_id":18037665,"reputation":21,"user_id":13110682,"display_name":"pratik t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689603267,"creation_date":1689603267,"question_id":76705348,"body_markdown":"We are using Log4j 2 version 2.7* and using Log4j2.properties file not an XML.\r\n\r\nWe are also using Kibana for log monitoring. But whenever there&#39;s an exception, the java stack trace error is being documented as single event per line. \r\n\r\nI want the whole java stack trace to be in one document in Kibana elastic search. \r\n\r\nI have tried appender.console.layout.stacktraceAsString=true.  It did not work. \r\n\r\nIs there any way we could transform the java stack trace to be documented as one document rather than printing each stack trace line as separate document. IT gets really ugly in kibana when there&#39;s an exception.","title":"Log4j2 - Java stack trace in one single event","body":"<p>We are using Log4j 2 version 2.7* and using Log4j2.properties file not an XML.</p>\n<p>We are also using Kibana for log monitoring. But whenever there's an exception, the java stack trace error is being documented as single event per line.</p>\n<p>I want the whole java stack trace to be in one document in Kibana elastic search.</p>\n<p>I have tried appender.console.layout.stacktraceAsString=true.  It did not work.</p>\n<p>Is there any way we could transform the java stack trace to be documented as one document rather than printing each stack trace line as separate document. IT gets really ugly in kibana when there's an exception.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-data-redis","spring-session"],"owner":{"account_id":29032286,"reputation":1,"user_id":22238903,"display_name":"Blues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689603215,"creation_date":1689582132,"question_id":76702639,"body_markdown":"When I tried to use Redis indexing to solve the issue of concurrent control in Spring Security session clustering, I noticed that after adding the `@EnableRedisIndexedHttpSession` annotation, Spring Session did not use the namespace configuration specified in the `application.yml` file (`spring.session.redis.namespace`), but instead used the default value specified in the `@EnableRedisIndexedHttpSession` annotation. \r\nI would like to know how to configure it so that the namespace uses the configuration from the `application.yml` file when using `@EnableRedisIndexedHttpSession`. \r\n\r\nTo ensure that the namespace used in the `@EnableRedisIndexedHttpSession` annotation is the same as the one configured in the `application.yml` file, I directly assign the redisNamespace parameter of the annotation with the value from the configuration file, is there any other way?","title":"Issue with Spring Boot 3 Spring Session: @EnableRedisIndexedHttpSession annotation sets the default value for Redis namespace","body":"<p>When I tried to use Redis indexing to solve the issue of concurrent control in Spring Security session clustering, I noticed that after adding the <code>@EnableRedisIndexedHttpSession</code> annotation, Spring Session did not use the namespace configuration specified in the <code>application.yml</code> file (<code>spring.session.redis.namespace</code>), but instead used the default value specified in the <code>@EnableRedisIndexedHttpSession</code> annotation.\nI would like to know how to configure it so that the namespace uses the configuration from the <code>application.yml</code> file when using <code>@EnableRedisIndexedHttpSession</code>.</p>\n<p>To ensure that the namespace used in the <code>@EnableRedisIndexedHttpSession</code> annotation is the same as the one configured in the <code>application.yml</code> file, I directly assign the redisNamespace parameter of the annotation with the value from the configuration file, is there any other way?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1689600615,"post_id":76704872,"comment_id":135232314,"body_markdown":"i run your code with new project and it consumes 0 cpu usage, do you have any other detail that might cause it?","body":"i run your code with new project and it consumes 0 cpu usage, do you have any other detail that might cause it?"},{"owner":{"account_id":10050771,"reputation":376,"user_id":7430667,"accept_rate":60,"display_name":"Gog1nA"},"score":0,"creation_date":1689600833,"post_id":76704872,"comment_id":135232366,"body_markdown":"Make sure you are sending requests for the methods which are secured and doesn&#39;t match to the  &quot;permitMethods&quot;","body":"Make sure you are sending requests for the methods which are secured and doesn&#39;t match to the  &quot;permitMethods&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689601033,"post_id":76704872,"comment_id":135232416,"body_markdown":"Enable profiling and figure out where the hotspot is else you will be only guessing. One thing is I would remove the `CachingUserDetailsService` as the default doesn&#39;t cache but only adds additional overhead of calling a noop cache. Also make sure you don&#39;t have TRACE or DEBUG logging enabled while you are running the tests as logging will severly impact your test results!","body":"Enable profiling and figure out where the hotspot is else you will be only guessing. One thing is I would remove the <code>CachingUserDetailsService</code> as the default doesn&#39;t cache but only adds additional overhead of calling a noop cache. Also make sure you don&#39;t have TRACE or DEBUG logging enabled while you are running the tests as logging will severly impact your test results!"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689602701,"creation_date":1689602701,"answer_id":76705247,"question_id":76704872,"body_markdown":"the issue is simple, the cause of high cpu is in your password encoder specifically at line which is `UserDetails user = User.withDefaultPasswordEncoder()` now at the stage if u go to the implantation of it, you can see it uses ByCrypt algorithm for encoding passwords, and ByCrypt is expensive for CPU, since it does hashing in many iterations, you can check [how bycrypt works][1] to understand more about how it works.\r\n\r\nyou can verify that the issue is bycrpt and not httbasic by doing following:\r\n\r\ndefine bean password encoder:\r\n\r\n```\r\n@Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n```\r\n and here try use plain text passwords!\r\n\r\nalso for registring users\r\nuse \r\n```\r\nUserDetails user = User.builder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;admin&quot;)\r\n                .build();\r\n```\r\n\r\n**now that you know the issue what can you do?**\r\nyou can alter some bycrypt functionalities which is available when you define `BCryptPasswordEncoder` as bean(check constructor). like below:\r\n```\r\n@Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder(strenght_number_that_suits_for_you);\r\n    }\r\n```\r\n\r\n**or**\r\nyou can use faster hashing algorithm for spring security you can check implemented classes of `PasswordEncoder` interface\r\n\r\nalso you can check some other related questions that might help you more like:\r\n[this][2] or [this][3]\r\n\r\n\r\n  [1]: https://auth0.com/blog/hashing-in-action-understanding-bcrypt/\r\n  [2]: https://stackoverflow.com/questions/51777464/why-is-spring-boot-security-basic-authentication-slow\r\n  [3]: https://stackoverflow.com/questions/52040679/how-to-speed-up-springboot-2-0-basic-authentication","title":"Spring boot 3 - High CPU usage on basicAuth","body":"<p>the issue is simple, the cause of high cpu is in your password encoder specifically at line which is <code>UserDetails user = User.withDefaultPasswordEncoder()</code> now at the stage if u go to the implantation of it, you can see it uses ByCrypt algorithm for encoding passwords, and ByCrypt is expensive for CPU, since it does hashing in many iterations, you can check <a href=\"https://auth0.com/blog/hashing-in-action-understanding-bcrypt/\" rel=\"nofollow noreferrer\">how bycrypt works</a> to understand more about how it works.</p>\n<p>you can verify that the issue is bycrpt and not httbasic by doing following:</p>\n<p>define bean password encoder:</p>\n<pre><code>@Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n</code></pre>\n<p>and here try use plain text passwords!</p>\n<p>also for registring users\nuse</p>\n<pre><code>UserDetails user = User.builder()\n                .username(&quot;admin&quot;)\n                .password(&quot;admin&quot;)\n                .build();\n</code></pre>\n<p><strong>now that you know the issue what can you do?</strong>\nyou can alter some bycrypt functionalities which is available when you define <code>BCryptPasswordEncoder</code> as bean(check constructor). like below:</p>\n<pre><code>@Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder(strenght_number_that_suits_for_you);\n    }\n</code></pre>\n<p><strong>or</strong>\nyou can use faster hashing algorithm for spring security you can check implemented classes of <code>PasswordEncoder</code> interface</p>\n<p>also you can check some other related questions that might help you more like:\n<a href=\"https://stackoverflow.com/questions/51777464/why-is-spring-boot-security-basic-authentication-slow\">this</a> or <a href=\"https://stackoverflow.com/questions/52040679/how-to-speed-up-springboot-2-0-basic-authentication\">this</a></p>\n"}],"owner":{"account_id":10050771,"reputation":376,"user_id":7430667,"accept_rate":60,"display_name":"Gog1nA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76705247,"answer_count":1,"score":1,"last_activity_date":1689602701,"creation_date":1689599820,"question_id":76704872,"body_markdown":"I have a java application build on spring boot 3 and I have a simple security configuration like this:\r\n  \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    public class SecurityConfig {\r\n    \r\n        private static final String[] permitMethods = new String[]{\r\n                &quot;/api/games/**&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                &quot;/v3/api-docs/**&quot;,\r\n                &quot;/actuator/**&quot;\r\n        };\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf(csrf -&gt; csrf.disable())\r\n                    .authorizeRequests(authorizeRequests -&gt;\r\n                            authorizeRequests\r\n                                    .requestMatchers(permitMethods).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .userDetailsService(userDetailsService())\r\n                    .httpBasic(Customizer.withDefaults());\r\n            return http.build();\r\n        }\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            UserDetails user = User.withDefaultPasswordEncoder()\r\n                    .username(&quot;admin&quot;)\r\n                    .password(&quot;admin&quot;)\r\n                    .build();\r\n            return new CachingUserDetailsService(new InMemoryUserDetailsManager(user));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\nThe problem is that current application uses too much CPU over 70% while executing stress test.\r\nWhen I am removing \r\n```.httpBasic(Customizer.withDefaults());```\r\n\r\nCPU usage goes down to 10%.\r\nI am executing stress test just with 40 parallel threads, the more parallel threads I set the more CPU usage becomes. \r\n\r\n\r\nI am currently using `spring boot 3.1.1 version` but I have tried it on `spring boot 3.0.0` version as well, but the result was same.\r\n\r\nDo you have any ideas how can I minimize CPU usage with the basic authentication ? \r\n","title":"Spring boot 3 - High CPU usage on basicAuth","body":"<p>I have a java application build on spring boot 3 and I have a simple security configuration like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    private static final String[] permitMethods = new String[]{\n            &quot;/api/games/**&quot;,\n            &quot;/swagger-ui/**&quot;,\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/actuator/**&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeRequests(authorizeRequests -&gt;\n                        authorizeRequests\n                                .requestMatchers(permitMethods).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .userDetailsService(userDetailsService())\n                .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user = User.withDefaultPasswordEncoder()\n                .username(&quot;admin&quot;)\n                .password(&quot;admin&quot;)\n                .build();\n        return new CachingUserDetailsService(new InMemoryUserDetailsManager(user));\n    }\n\n}\n</code></pre>\n<p>The problem is that current application uses too much CPU over 70% while executing stress test.\nWhen I am removing\n<code>.httpBasic(Customizer.withDefaults());</code></p>\n<p>CPU usage goes down to 10%.\nI am executing stress test just with 40 parallel threads, the more parallel threads I set the more CPU usage becomes.</p>\n<p>I am currently using <code>spring boot 3.1.1 version</code> but I have tried it on <code>spring boot 3.0.0</code> version as well, but the result was same.</p>\n<p>Do you have any ideas how can I minimize CPU usage with the basic authentication ?</p>\n"},{"tags":["java","sql","spring","exception","jpa"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689602278,"creation_date":1689601682,"answer_id":76705105,"question_id":76705051,"body_markdown":"Add the `@org.springframework.data.jpa.repository.Modifying` annotation to the method and set the return value to `void`,because update queries can not return a value \r\n\r\n    @Repository\r\n    public interface ReservationRepository extends JpaRepository&lt;Reservation,String&gt; {\r\n        @Modifying\r\n        @Transactional\r\n        @Query(&quot;UPDATE Reservation SET Status =:Status WHERE pnr =:pnr&quot;)\r\n        void setStatus( @Param(&quot;Status&quot;)String Status,@Param(&quot;pnr&quot;) String pnr);\r\n    }","title":"IllegalSelectQueryException and InvalidDataAccessApiUsageException","body":"<p>Add the <code>@org.springframework.data.jpa.repository.Modifying</code> annotation to the method and set the return value to <code>void</code>,because update queries can not return a value</p>\n<pre><code>@Repository\npublic interface ReservationRepository extends JpaRepository&lt;Reservation,String&gt; {\n    @Modifying\n    @Transactional\n    @Query(&quot;UPDATE Reservation SET Status =:Status WHERE pnr =:pnr&quot;)\n    void setStatus( @Param(&quot;Status&quot;)String Status,@Param(&quot;pnr&quot;) String pnr);\n}\n</code></pre>\n"}],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76705105,"answer_count":1,"score":2,"last_activity_date":1689602582,"creation_date":1689601266,"question_id":76705051,"body_markdown":"I use Query annotation for my project. While I call query, I get `IllegalSelectQueryException`. I want to update status column which is on Reservation table with WHERE the PNR number exists.\r\n\r\n    @Repository\r\n    public interface ReservationRepository extends JpaRepository&lt;Reservation,String&gt; {\r\n        @Query(&quot;UPDATE Reservation SET Status =:Status WHERE pnr =:pnr&quot;)\r\n        String setStatus( @Param(&quot;Status&quot;)String Status,@Param(&quot;pnr&quot;) String pnr);\r\n    }\r\n\r\nError\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException: Expecting\r\n&gt; a SELECT query : `UPDATE Reservation SET Status = :Status WHERE pnr =\r\n&gt; :pnr` \tat  Caused by: org.hibernate.query.IllegalSelectQueryException:\r\n&gt; Expecting a SELECT Query\r\n&gt; [org.hibernate.query.sqm.tree.select.SqmSelectStatement], but found\r\n&gt; org.hibernate.query.sqm.tree.update.SqmUpdateStatement [UPDATE\r\n&gt; Reservation SET Status = :Status WHERE pnr = :pnr] \tat\r\n&gt; org.hibernate.query.sqm.internal.SqmUtil.verifyIsSelectStatement(SqmUtil.java:81)\r\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final] \tat\r\n&gt; org.hibernate.query.sqm.internal.QuerySqmImpl.verifySelect(QuerySqmImpl.java:499)\r\n&gt; ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final] \t... 102 common frames\r\n&gt; omitted\r\n\r\n\r\n\r\nI tried changing the query but nothing works\r\n","title":"IllegalSelectQueryException and InvalidDataAccessApiUsageException","body":"<p>I use Query annotation for my project. While I call query, I get <code>IllegalSelectQueryException</code>. I want to update status column which is on Reservation table with WHERE the PNR number exists.</p>\n<pre><code>@Repository\npublic interface ReservationRepository extends JpaRepository&lt;Reservation,String&gt; {\n    @Query(&quot;UPDATE Reservation SET Status =:Status WHERE pnr =:pnr&quot;)\n    String setStatus( @Param(&quot;Status&quot;)String Status,@Param(&quot;pnr&quot;) String pnr);\n}\n</code></pre>\n<p>Error</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: Expecting\na SELECT query : <code>UPDATE Reservation SET Status = :Status WHERE pnr = :pnr</code>     at  Caused by: org.hibernate.query.IllegalSelectQueryException:\nExpecting a SELECT Query\n[org.hibernate.query.sqm.tree.select.SqmSelectStatement], but found\norg.hibernate.query.sqm.tree.update.SqmUpdateStatement [UPDATE\nReservation SET Status = :Status WHERE pnr = :pnr]    at\norg.hibernate.query.sqm.internal.SqmUtil.verifyIsSelectStatement(SqmUtil.java:81)\n~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]     at\norg.hibernate.query.sqm.internal.QuerySqmImpl.verifySelect(QuerySqmImpl.java:499)\n~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]     ... 102 common frames\nomitted</p>\n</blockquote>\n<p>I tried changing the query but nothing works</p>\n"},{"tags":["java","amazon-web-services","sdk","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":12538336,"reputation":21,"user_id":9124235,"display_name":"guest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513797220,"creation_date":1513797220,"answer_id":47912920,"question_id":47911875,"body_markdown":"There are a few things that you&#39;re missing:\r\n\r\n* Use the `receiveMessages(ReceiveMessageRequest)` and set a wait time to enable long polling.\r\n* Wrap your AWS calls in try/catch blocks. In particular, pay attention to `OverLimitException`, which can be thrown from `receiveMessages()` if you would have too many in-flight messages.\r\n* Wrap the entire body of the `while` loop in its own try/catch block, logging any exceptions that are caught (there shouldn&#39;t be -- this is here to ensure that your application doesn&#39;t crash because AWS changed their API or you neglected to handle an expected exception).\r\n\r\nSee [doc](http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html) for more information about long polling and possible exceptions.\r\n\r\nAs for using the async client: do you have any particular reason to use it? If not, then don&#39;t: a single receiver thread is much easier to manage.","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>There are a few things that you're missing:</p>\n\n<ul>\n<li>Use the <code>receiveMessages(ReceiveMessageRequest)</code> and set a wait time to enable long polling.</li>\n<li>Wrap your AWS calls in try/catch blocks. In particular, pay attention to <code>OverLimitException</code>, which can be thrown from <code>receiveMessages()</code> if you would have too many in-flight messages.</li>\n<li>Wrap the entire body of the <code>while</code> loop in its own try/catch block, logging any exceptions that are caught (there shouldn't be -- this is here to ensure that your application doesn't crash because AWS changed their API or you neglected to handle an expected exception).</li>\n</ul>\n\n<p>See <a href=\"http://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html\" rel=\"nofollow noreferrer\">doc</a> for more information about long polling and possible exceptions.</p>\n\n<p>As for using the async client: do you have any particular reason to use it? If not, then don't: a single receiver thread is much easier to manage.</p>\n"},{"tags":[],"owner":{"account_id":1274617,"reputation":408,"user_id":2186430,"display_name":"jpdave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516083302,"creation_date":1513831236,"answer_id":47918032,"question_id":47911875,"body_markdown":"If you want to use SQS and then lambda to process the request  you can follow the steps given in the [link][1] or you always use lambda instead of SQS and invoke lambda for every request. \r\n\r\n\r\n\r\n  [1]: https://cloudonaut.io/integrate-sqs-and-lambda-serverless-architecture-for-asynchronous-workloads/","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>If you want to use SQS and then lambda to process the request  you can follow the steps given in the <a href=\"https://cloudonaut.io/integrate-sqs-and-lambda-serverless-architecture-for-asynchronous-workloads/\" rel=\"nofollow noreferrer\">link</a> or you always use lambda instead of SQS and invoke lambda for every request. </p>\n"},{"tags":[],"owner":{"account_id":9332353,"reputation":431,"user_id":6927708,"display_name":"Amitkumar Gupta"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1514269416,"creation_date":1514267803,"answer_id":47974415,"question_id":47911875,"body_markdown":"To my knowledge, there is no way in Amazon SQS to support an active listener model where Amazon SQS would &quot;push&quot; messages to your listener, or would invoke your message listener when there are messages.\r\n\r\nSo, you would always have to poll for messages. There are two polling mechanisms supported for polling - Short Polling and Long Polling. Each has its own pros and cons, but Long Polling is the one you would typically end up using in most cases, although the default one is Short Polling. Long Polling mechanism is definitely more efficient in terms of network traffic, is more cost efficient (because Amazon charges you by the number of requests made), and is also the preferred mechanism when you want your messages to be processed in a time sensitive manner (~= process as soon as possible).\r\n\r\nThere are more intricacies around Long Polling and Short Polling that are worth knowing, and its somewhat difficult to paraphrase all of that here, but if you like, you can read a lot more details about this through the following blog. It has a few code examples as well that should be helpful.\r\n\r\nhttp://pragmaticnotes.com/2017/11/20/amazon-sqs-long-polling-versus-short-polling/\r\n\r\nIn terms of a while(true) loop, I would say it depends. \r\nIf you are using Long Polling, and you can set the wait time to be (max) 20 seconds, that way you do not poll SQS more often than 20 seconds if there are no messages. If there are messages, you can decide whether to poll frequently (to process messages as soon as they arrive) or whether to always process them in time intervals (say every n seconds).\r\n\r\nAnother point to note would be that you could read upto 10 messages in a single receiveMessages request, so that would also reduce the number of calls you make to SQS, thereby reducing costs. And as the above blog explains in details, you may request to read 10 messages, but it may not return you 10 even if there are that many messages in the queue. \r\n\r\nIn general though, I would say you need to build appropriate hooks and exception handling to turn off the polling if you wish to at runtime, in case you are using a while(true) kind of a structure.\r\n\r\nAnother aspect to consider is whether you would like to poll SQS in your main application thread or you would like to spawn another thread. So another option could be to create a ScheduledThreadPoolExecutor with a single thread in the main to schedule a thread to poll the SQS periodically (every few seconds), and you may not need a while(true) structure.\r\n","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>To my knowledge, there is no way in Amazon SQS to support an active listener model where Amazon SQS would \"push\" messages to your listener, or would invoke your message listener when there are messages.</p>\n\n<p>So, you would always have to poll for messages. There are two polling mechanisms supported for polling - Short Polling and Long Polling. Each has its own pros and cons, but Long Polling is the one you would typically end up using in most cases, although the default one is Short Polling. Long Polling mechanism is definitely more efficient in terms of network traffic, is more cost efficient (because Amazon charges you by the number of requests made), and is also the preferred mechanism when you want your messages to be processed in a time sensitive manner (~= process as soon as possible).</p>\n\n<p>There are more intricacies around Long Polling and Short Polling that are worth knowing, and its somewhat difficult to paraphrase all of that here, but if you like, you can read a lot more details about this through the following blog. It has a few code examples as well that should be helpful.</p>\n\n<p><a href=\"http://pragmaticnotes.com/2017/11/20/amazon-sqs-long-polling-versus-short-polling/\" rel=\"noreferrer\">http://pragmaticnotes.com/2017/11/20/amazon-sqs-long-polling-versus-short-polling/</a></p>\n\n<p>In terms of a while(true) loop, I would say it depends. \nIf you are using Long Polling, and you can set the wait time to be (max) 20 seconds, that way you do not poll SQS more often than 20 seconds if there are no messages. If there are messages, you can decide whether to poll frequently (to process messages as soon as they arrive) or whether to always process them in time intervals (say every n seconds).</p>\n\n<p>Another point to note would be that you could read upto 10 messages in a single receiveMessages request, so that would also reduce the number of calls you make to SQS, thereby reducing costs. And as the above blog explains in details, you may request to read 10 messages, but it may not return you 10 even if there are that many messages in the queue. </p>\n\n<p>In general though, I would say you need to build appropriate hooks and exception handling to turn off the polling if you wish to at runtime, in case you are using a while(true) kind of a structure.</p>\n\n<p>Another aspect to consider is whether you would like to poll SQS in your main application thread or you would like to spawn another thread. So another option could be to create a ScheduledThreadPoolExecutor with a single thread in the main to schedule a thread to poll the SQS periodically (every few seconds), and you may not need a while(true) structure.</p>\n"},{"tags":[],"owner":{"account_id":1585956,"reputation":1641,"user_id":1470311,"accept_rate":72,"display_name":"Chazt3n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643815632,"creation_date":1643815632,"answer_id":70958305,"question_id":47911875,"body_markdown":"As of 2019 SQS can trigger lambdas:\r\nhttps://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>As of 2019 SQS can trigger lambdas:\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html</a></p>\n"},{"tags":[],"owner":{"account_id":12445562,"reputation":21,"user_id":10602458,"display_name":"Devang Parekh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655805291,"creation_date":1655805291,"answer_id":72698759,"question_id":47911875,"body_markdown":"I found one solution for actively listening the queue.\r\nFor Node. I have used the following package and resolved my issue.\r\n\r\n **sqs-consumer**\r\n\r\nLink\r\nhttps://www.npmjs.com/package/sqs-consumer\r\n\r\n","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>I found one solution for actively listening the queue.\nFor Node. I have used the following package and resolved my issue.</p>\n<p><strong>sqs-consumer</strong></p>\n<p>Link\n<a href=\"https://www.npmjs.com/package/sqs-consumer\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/sqs-consumer</a></p>\n"},{"tags":[],"owner":{"account_id":332952,"reputation":359,"user_id":658541,"accept_rate":83,"display_name":"k6ps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689602521,"creation_date":1689601734,"answer_id":76705115,"question_id":47911875,"body_markdown":"It is several years later, but just in case someone searches this topic, i&#39;m posting my solution. I&#39;m not sure if this is the best one but works for us. Note that this uses [Project Reactor][1]. Also note that this solution is used for not very time-critical messages - delays of several minutes are ok for us here.\r\n\r\n```\r\npackage myapp.amazonsqs;\r\n\r\nimport static org.apache.logging.log4j.LogManager.getLogger;\r\n\r\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\r\nimport com.amazonaws.auth.BasicAWSCredentials;\r\nimport com.amazonaws.regions.Regions;\r\nimport com.amazonaws.services.sqs.AmazonSQS;\r\nimport com.amazonaws.services.sqs.AmazonSQSClientBuilder;\r\nimport com.amazonaws.services.sqs.model.Message;\r\nimport com.amazonaws.services.sqs.model.ReceiveMessageRequest;\r\nimport com.amazonaws.services.sqs.model.ReceiveMessageResult;\r\nimport org.apache.logging.log4j.Logger;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.util.retry.Retry;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MyAmazonSqsMessagingGateway {\r\n\r\n    private static final Logger LOGGER = getLogger(MyAmazonSqsMessagingGateway.class);\r\n    private static final long POLLING_PERIOD_SECONDS = 30L;\r\n    // max 20\r\n    private static final int POLL_WAIT_TIME_SECONDS = 20;\r\n    private static final long MINIMUM_RETRY_PERIOD_SECONDS = 30L;\r\n    private final String amazonAwsRegion;\r\n    private final String amazonAwsAccessKeyId;\r\n    private final String amazonAwsAccessKeySecret;\r\n    private final String queueName;\r\n    private AmazonSQS amazonSqsClient;\r\n\r\n    public MyAmazonSqsMessagingGateway(\r\n            final String amazonAwsRegion,\r\n            final String amazonAwsAccessKeyId,\r\n            final String amazonAwsAccessKeySecret,\r\n            final String queueName\r\n    ) {\r\n        this.amazonAwsRegion = amazonAwsRegion;\r\n        this.amazonAwsAccessKeyId = amazonAwsAccessKeyId;\r\n        this.amazonAwsAccessKeySecret = amazonAwsAccessKeySecret;\r\n        this.queueName = queueName;\r\n    }\r\n\r\n    public void init() {\r\n        this.amazonSqsClient = createClient();\r\n        start();\r\n    }\r\n\r\n    private AmazonSQS createClient() {\r\n        return AmazonSQSClientBuilder\r\n                .standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(\r\n                        this.amazonAwsAccessKeyId,\r\n                        this.amazonAwsAccessKeySecret\r\n                )))\r\n                .withRegion(Regions.fromName(this.amazonAwsRegion))\r\n                .build();\r\n    }\r\n\r\n    private void start() {\r\n        LOGGER.debug(&quot;Starting..&quot;);\r\n        final String queueUrl = getAndCheckMessageQueueUrl();\r\n        final Duration initialDelay = Duration.ofSeconds(1L);\r\n        final Duration pollingPeriod = Duration.ofSeconds(POLLING_PERIOD_SECONDS);\r\n        final Duration minimumRetryPeriod = Duration.ofSeconds(MINIMUM_RETRY_PERIOD_SECONDS);\r\n        // retry indefinitely with backoff, until this application is stopped\r\n        final long maxNumberOfRetryAttempts = Long.MAX_VALUE;\r\n        Flux.interval(initialDelay, pollingPeriod)\r\n                .map(ignoredParameter -&gt; receiveMessages(this.amazonSqsClient, queueUrl))\r\n                .retryWhen(Retry\r\n                        .backoff(maxNumberOfRetryAttempts, minimumRetryPeriod)\r\n                        .doBeforeRetry(retrySignal -&gt; LOGGER.warn(\r\n                                &quot;Exception when receiving messages, retrying.. &quot;,\r\n                                retrySignal.failure()\r\n                        ))\r\n                        .doAfterRetry(retrySignal -&gt; LOGGER.debug(&quot;Retry complete.&quot;))\r\n                )\r\n                .subscribe(\r\n                        receiveMessageResult -&gt; receiveMessageResult\r\n                                .getMessages()\r\n                                .forEach(this::handleMessage),\r\n                        throwable -&gt; LOGGER.error(\r\n                                &quot;Non-recoverable exception when receiving messages from Amazon SQS: &quot;,\r\n                                throwable\r\n                        )\r\n                );\r\n        LOGGER.debug(&quot;Start completed.&quot;);\r\n    }\r\n\r\n    private ReceiveMessageResult receiveMessages(final AmazonSQS amazonSqsClient, final String queueUrl) {\r\n        LOGGER.debug(&quot;Receiving messages...&quot;);\r\n        return amazonSqsClient.receiveMessage(new ReceiveMessageRequest(\r\n                queueUrl).withWaitTimeSeconds(POLL_WAIT_TIME_SECONDS)\r\n                .withMaxNumberOfMessages(10));\r\n    }\r\n\r\n    private String getAndCheckMessageQueueUrl() {\r\n        final String queueUrl = amazonSqsClient\r\n                .getQueueUrl(this.queueName)\r\n                .getQueueUrl();\r\n        if (queueUrl == null) {\r\n            throw new IllegalStateException(&quot;queueUrl is null, cannot run!&quot;);\r\n        } else {\r\n            LOGGER.info(() -&gt; String.format(&quot;Listening in queue %s&quot;, queueUrl));\r\n        }\r\n        return queueUrl;\r\n    }\r\n\r\n    private void handleMessage(final Message message) {\r\n        logMessage(message);\r\n        // do something useful with the message here.\r\n    }\r\n\r\n    private static void logMessage(final Message message) {\r\n        if (LOGGER.isDebugEnabled()) {\r\n            final Map&lt;String, String&gt; attributes = message.getAttributes();\r\n            final String attributesAsSingleString = attributes\r\n                    .keySet()\r\n                    .stream()\r\n                    .map(key -&gt; &quot;Attribute &quot; + key + &quot; value = &quot; + attributes.get(key))\r\n                    .collect(Collectors.joining(&quot;\\n&quot;));\r\n            LOGGER.debug(&quot;Message received! id = &quot;\r\n                    + message.getMessageId()\r\n                    + &quot;\\nreceipt handle = &quot;\r\n                    + message.getReceiptHandle()\r\n                    + &quot;\\n&quot;\r\n                    + attributesAsSingleString\r\n                    + &quot;body:\\n&quot;\r\n                    + message.getBody());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://projectreactor.io","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>It is several years later, but just in case someone searches this topic, i'm posting my solution. I'm not sure if this is the best one but works for us. Note that this uses <a href=\"https://projectreactor.io\" rel=\"nofollow noreferrer\">Project Reactor</a>. Also note that this solution is used for not very time-critical messages - delays of several minutes are ok for us here.</p>\n<pre><code>package myapp.amazonsqs;\n\nimport static org.apache.logging.log4j.LogManager.getLogger;\n\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.sqs.AmazonSQS;\nimport com.amazonaws.services.sqs.AmazonSQSClientBuilder;\nimport com.amazonaws.services.sqs.model.Message;\nimport com.amazonaws.services.sqs.model.ReceiveMessageRequest;\nimport com.amazonaws.services.sqs.model.ReceiveMessageResult;\nimport org.apache.logging.log4j.Logger;\nimport reactor.core.publisher.Flux;\nimport reactor.util.retry.Retry;\n\nimport java.time.Duration;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class MyAmazonSqsMessagingGateway {\n\n    private static final Logger LOGGER = getLogger(MyAmazonSqsMessagingGateway.class);\n    private static final long POLLING_PERIOD_SECONDS = 30L;\n    // max 20\n    private static final int POLL_WAIT_TIME_SECONDS = 20;\n    private static final long MINIMUM_RETRY_PERIOD_SECONDS = 30L;\n    private final String amazonAwsRegion;\n    private final String amazonAwsAccessKeyId;\n    private final String amazonAwsAccessKeySecret;\n    private final String queueName;\n    private AmazonSQS amazonSqsClient;\n\n    public MyAmazonSqsMessagingGateway(\n            final String amazonAwsRegion,\n            final String amazonAwsAccessKeyId,\n            final String amazonAwsAccessKeySecret,\n            final String queueName\n    ) {\n        this.amazonAwsRegion = amazonAwsRegion;\n        this.amazonAwsAccessKeyId = amazonAwsAccessKeyId;\n        this.amazonAwsAccessKeySecret = amazonAwsAccessKeySecret;\n        this.queueName = queueName;\n    }\n\n    public void init() {\n        this.amazonSqsClient = createClient();\n        start();\n    }\n\n    private AmazonSQS createClient() {\n        return AmazonSQSClientBuilder\n                .standard()\n                .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(\n                        this.amazonAwsAccessKeyId,\n                        this.amazonAwsAccessKeySecret\n                )))\n                .withRegion(Regions.fromName(this.amazonAwsRegion))\n                .build();\n    }\n\n    private void start() {\n        LOGGER.debug(&quot;Starting..&quot;);\n        final String queueUrl = getAndCheckMessageQueueUrl();\n        final Duration initialDelay = Duration.ofSeconds(1L);\n        final Duration pollingPeriod = Duration.ofSeconds(POLLING_PERIOD_SECONDS);\n        final Duration minimumRetryPeriod = Duration.ofSeconds(MINIMUM_RETRY_PERIOD_SECONDS);\n        // retry indefinitely with backoff, until this application is stopped\n        final long maxNumberOfRetryAttempts = Long.MAX_VALUE;\n        Flux.interval(initialDelay, pollingPeriod)\n                .map(ignoredParameter -&gt; receiveMessages(this.amazonSqsClient, queueUrl))\n                .retryWhen(Retry\n                        .backoff(maxNumberOfRetryAttempts, minimumRetryPeriod)\n                        .doBeforeRetry(retrySignal -&gt; LOGGER.warn(\n                                &quot;Exception when receiving messages, retrying.. &quot;,\n                                retrySignal.failure()\n                        ))\n                        .doAfterRetry(retrySignal -&gt; LOGGER.debug(&quot;Retry complete.&quot;))\n                )\n                .subscribe(\n                        receiveMessageResult -&gt; receiveMessageResult\n                                .getMessages()\n                                .forEach(this::handleMessage),\n                        throwable -&gt; LOGGER.error(\n                                &quot;Non-recoverable exception when receiving messages from Amazon SQS: &quot;,\n                                throwable\n                        )\n                );\n        LOGGER.debug(&quot;Start completed.&quot;);\n    }\n\n    private ReceiveMessageResult receiveMessages(final AmazonSQS amazonSqsClient, final String queueUrl) {\n        LOGGER.debug(&quot;Receiving messages...&quot;);\n        return amazonSqsClient.receiveMessage(new ReceiveMessageRequest(\n                queueUrl).withWaitTimeSeconds(POLL_WAIT_TIME_SECONDS)\n                .withMaxNumberOfMessages(10));\n    }\n\n    private String getAndCheckMessageQueueUrl() {\n        final String queueUrl = amazonSqsClient\n                .getQueueUrl(this.queueName)\n                .getQueueUrl();\n        if (queueUrl == null) {\n            throw new IllegalStateException(&quot;queueUrl is null, cannot run!&quot;);\n        } else {\n            LOGGER.info(() -&gt; String.format(&quot;Listening in queue %s&quot;, queueUrl));\n        }\n        return queueUrl;\n    }\n\n    private void handleMessage(final Message message) {\n        logMessage(message);\n        // do something useful with the message here.\n    }\n\n    private static void logMessage(final Message message) {\n        if (LOGGER.isDebugEnabled()) {\n            final Map&lt;String, String&gt; attributes = message.getAttributes();\n            final String attributesAsSingleString = attributes\n                    .keySet()\n                    .stream()\n                    .map(key -&gt; &quot;Attribute &quot; + key + &quot; value = &quot; + attributes.get(key))\n                    .collect(Collectors.joining(&quot;\\n&quot;));\n            LOGGER.debug(&quot;Message received! id = &quot;\n                    + message.getMessageId()\n                    + &quot;\\nreceipt handle = &quot;\n                    + message.getReceiptHandle()\n                    + &quot;\\n&quot;\n                    + attributesAsSingleString\n                    + &quot;body:\\n&quot;\n                    + message.getBody());\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7856698,"reputation":1137,"user_id":5938293,"accept_rate":88,"display_name":"Francisco Hanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40459,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":47974415,"answer_count":6,"score":30,"last_activity_date":1689602521,"creation_date":1513792863,"question_id":47911875,"body_markdown":"I have a simple class named `QueueService` with some methods that wrap the methods from the AWS SQS SDK for Java. For example:\r\n\r\n    public ArrayList&lt;Hashtable&lt;String, String&gt;&gt; receiveMessages(String queueURL) {\r\n    \t\tList&lt;Message&gt; messages = this.sqsClient.receiveMessage(queueURL).getMessages();\r\n    \r\n    \t\tArrayList&lt;Hashtable&lt;String, String&gt;&gt; resultList = new ArrayList&lt;Hashtable&lt;String, String&gt;&gt;();\r\n    \t\tfor(Message message : messages) {\r\n    \t\t\tHashtable&lt;String, String&gt; resultItem = new Hashtable&lt;String, String&gt;();\r\n    \t\t\tresultItem.put(&quot;MessageId&quot;, message.getMessageId());\r\n    \t\t\tresultItem.put(&quot;ReceiptHandle&quot;, message.getReceiptHandle());\r\n    \t\t\tresultItem.put(&quot;Body&quot;, message.getBody());\r\n    \t\t\tresultList.add(resultItem);\r\n    \t\t}\r\n    \t\treturn resultList;\r\n    \t}\r\n\r\nI have another another class named `App` that has a `main` and creates an instace of the `QueueService`. \r\n\r\nI looking for a &quot;pattern&quot; to make the `main` in `App` to listen for new messages in the queue. Right now I have a `while(true)` loop where I call the `receiveMessages`method:\r\n\r\n    while(true) {\r\n            \tmessages = queueService.receiveMessages(queueURL); \r\n            \tfor(Hashtable&lt;String, String&gt; message: messages) {\r\n            \t\tString receiptHandle = message.get(&quot;ReceiptHandle&quot;);\r\n            \t\tString messageBody = message.get(&quot;MessageBody&quot;);\r\n            \t\tSystem.out.println(messageBody);\r\n            \t\tqueueService.deleteMessage(queueURL, receiptHandle);\r\n            \t}\r\n            }\r\n\r\nIs this the correct way? Should I use the async message receive method in SQS SDK?\r\n","title":"Pattern to continuously listen to AWS SQS messages","body":"<p>I have a simple class named <code>QueueService</code> with some methods that wrap the methods from the AWS SQS SDK for Java. For example:</p>\n\n<pre><code>public ArrayList&lt;Hashtable&lt;String, String&gt;&gt; receiveMessages(String queueURL) {\n        List&lt;Message&gt; messages = this.sqsClient.receiveMessage(queueURL).getMessages();\n\n        ArrayList&lt;Hashtable&lt;String, String&gt;&gt; resultList = new ArrayList&lt;Hashtable&lt;String, String&gt;&gt;();\n        for(Message message : messages) {\n            Hashtable&lt;String, String&gt; resultItem = new Hashtable&lt;String, String&gt;();\n            resultItem.put(\"MessageId\", message.getMessageId());\n            resultItem.put(\"ReceiptHandle\", message.getReceiptHandle());\n            resultItem.put(\"Body\", message.getBody());\n            resultList.add(resultItem);\n        }\n        return resultList;\n    }\n</code></pre>\n\n<p>I have another another class named <code>App</code> that has a <code>main</code> and creates an instace of the <code>QueueService</code>. </p>\n\n<p>I looking for a \"pattern\" to make the <code>main</code> in <code>App</code> to listen for new messages in the queue. Right now I have a <code>while(true)</code> loop where I call the <code>receiveMessages</code>method:</p>\n\n<pre><code>while(true) {\n            messages = queueService.receiveMessages(queueURL); \n            for(Hashtable&lt;String, String&gt; message: messages) {\n                String receiptHandle = message.get(\"ReceiptHandle\");\n                String messageBody = message.get(\"MessageBody\");\n                System.out.println(messageBody);\n                queueService.deleteMessage(queueURL, receiptHandle);\n            }\n        }\n</code></pre>\n\n<p>Is this the correct way? Should I use the async message receive method in SQS SDK?</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1689606570,"post_id":76705220,"comment_id":135233748,"body_markdown":"1) What version of Avro are you using 2) Please show a [mcve]. That plugin does not remove whitespace, only creates a schema that your Java classes can use... Maybe your own serialization process is the issue.","body":"1) What version of Avro are you using 2) Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That plugin does not remove whitespace, only creates a schema that your Java classes can use... Maybe your own serialization process is the issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689612693,"post_id":76705220,"comment_id":135235090,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29034597,"reputation":1,"user_id":22240795,"display_name":"KICKER_OF_ROCKS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689602470,"creation_date":1689602470,"question_id":76705220,"body_markdown":"We have an app that uses the avro-maven-plugin. We are using kafka to consume from topics and receieve events that contain data in avro format. The data consists of things like addresses so when the user enters data and they put their address in, they may type &quot;450 SpongeBob Boulevard&quot; but our app receives it as &quot;450SpongeBobBoulevard&quot;. We want to do validations on the address and check to see if certain things are valid, but it has become very difficult now that it all comes in as one string. Is there a good process or configuration I can use to keep the whitespace?\r\n\r\nI&#39;ve tried creating a parser method that can tell if something ends in Road or Way and can tell if it starts with a number, then i can assign these values to an array, but now im running into things like PO box and N S E W (North South East West) and im not sure this is the best way to go about it.","title":"Getting help keeping whitespace from Avro Deserialization","body":"<p>We have an app that uses the avro-maven-plugin. We are using kafka to consume from topics and receieve events that contain data in avro format. The data consists of things like addresses so when the user enters data and they put their address in, they may type &quot;450 SpongeBob Boulevard&quot; but our app receives it as &quot;450SpongeBobBoulevard&quot;. We want to do validations on the address and check to see if certain things are valid, but it has become very difficult now that it all comes in as one string. Is there a good process or configuration I can use to keep the whitespace?</p>\n<p>I've tried creating a parser method that can tell if something ends in Road or Way and can tell if it starts with a number, then i can assign these values to an array, but now im running into things like PO box and N S E W (North South East West) and im not sure this is the best way to go about it.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1689579352,"post_id":76702334,"comment_id":135227786,"body_markdown":"So where is your endpoint? I see 2 controllers without an endpoint definition.","body":"So where is your endpoint? I see 2 controllers without an endpoint definition."},{"owner":{"account_id":4008661,"reputation":961,"user_id":3302683,"accept_rate":75,"display_name":"trever"},"score":0,"creation_date":1689579716,"post_id":76702334,"comment_id":135227859,"body_markdown":"All I am really trying to do at this point is set up the structure so when I get to my actionable controller it will be in the format of `/api/v1/xxx/` endpoint. I&#39;ve tried going to the very end and setting up one to test with, didn&#39;t work. For example: `/api/v1/card/all` also gives me a 404.","body":"All I am really trying to do at this point is set up the structure so when I get to my actionable controller it will be in the format of <code>&#47;api&#47;v1&#47;xxx&#47;</code> endpoint. I&#39;ve tried going to the very end and setting up one to test with, didn&#39;t work. For example: <code>&#47;api&#47;v1&#47;card&#47;all</code> also gives me a 404."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1689580143,"post_id":76702334,"comment_id":135227933,"body_markdown":"Consider adding a common prefix for all rest controllers in the system instead of the hierarchy: https://stackoverflow.com/questions/28006501/how-to-specify-prefix-for-all-controllers-in-spring-boot","body":"Consider adding a common prefix for all rest controllers in the system instead of the hierarchy: <a href=\"https://stackoverflow.com/questions/28006501/how-to-specify-prefix-for-all-controllers-in-spring-boot\" title=\"how to specify prefix for all controllers in spring boot\">stackoverflow.com/questions/28006501/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597424,"creation_date":1689597424,"answer_id":76704518,"question_id":76702334,"body_markdown":"Spring request mappings don&#39;t work with inheritance like that. See for example: https://stackoverflow.com/questions/5268643/spring-mvc-requestmapping-inheritance\r\n\r\nThe Spring docs don&#39;t even mention inheritance in this context.\r\n\r\nI can&#39;t find a reference right now, but I believe Java itself is preventing it to work like this. The annotation on the subclass overwrites the annotation on the superclass, so that reflection can &quot;see&quot; the original annotation.","title":"Spring Boot @RestController @RequestMapping nesting","body":"<p>Spring request mappings don't work with inheritance like that. See for example: <a href=\"https://stackoverflow.com/questions/5268643/spring-mvc-requestmapping-inheritance\">Spring MVC @RequestMapping Inheritance</a></p>\n<p>The Spring docs don't even mention inheritance in this context.</p>\n<p>I can't find a reference right now, but I believe Java itself is preventing it to work like this. The annotation on the subclass overwrites the annotation on the superclass, so that reflection can &quot;see&quot; the original annotation.</p>\n"},{"tags":[],"owner":{"account_id":23065836,"reputation":27,"user_id":17180282,"display_name":"cli ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689602416,"creation_date":1689602416,"answer_id":76705212,"question_id":76702334,"body_markdown":"As others have said, Spring does not support this way of inheriting RequestMapping through classes. If you want to implement nested access paths, you can customize an annotation and use SPEL to achieve this function. Here is a simple example:\r\n\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@RequestMapping\r\npublic @interface NestingPath {\r\n    @AliasFor(annotation = RequestMapping.class)\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\n```java\r\n@Component(&quot;nph&quot;)\r\npublic class NestingPathHandler {\r\n\r\n    public String eval(Class&lt;?&gt; clazz, String path) throws ClassNotFoundException {\r\n        Deque&lt;String&gt; pathList = new LinkedList&lt;&gt;();\r\n        pathList.push(path);\r\n        findNestingPath(clazz.getSuperclass(), pathList);\r\n        StringBuilder sb = new StringBuilder();\r\n        while (!pathList.isEmpty()) {\r\n            sb.append(pathList.pop());\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    private void findNestingPath(Class&lt;?&gt; clazz, Deque&lt;String&gt; pathList) throws ClassNotFoundException {\r\n        if (clazz == Object.class) {\r\n            return;\r\n        }\r\n        Annotation[] annotations = clazz.getAnnotations();\r\n        for (Annotation annotation : annotations) {\r\n            if (annotation.annotationType() == NestingPath.class) {\r\n                String value = ((NestingPath) annotation).value();\r\n                if (value.contains(&quot;@nph.eval&quot;)) {\r\n                    int i1 = value.lastIndexOf(&quot;&#39;&quot;);\r\n                    int j1 = value.lastIndexOf(&quot;&#39;&quot;, i1 - 1);\r\n                    String path = value.substring(j1 + 1, i1);\r\n\r\n                    int i2 = value.lastIndexOf(&quot;T(&quot;);\r\n                    int j2 = value.lastIndexOf(&quot;)&quot;, j1 + 1);\r\n                    String className = value.substring(i2 + 2, j2);\r\n\r\n                    pathList.push(eval(Class.forName(className), path));\r\n                } else {\r\n                    pathList.push(value);\r\n                    findNestingPath(clazz.getSuperclass(), pathList);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.RootAPIController),&#39;/root&#39;)}&quot;)\r\npublic class RootAPIController {\r\n}\r\n\r\n@RestController\r\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.RootV1Controller),&#39;/v1&#39;)}&quot;)\r\npublic class RootV1Controller extends RootAPIController {\r\n}\r\n\r\n@RestController\r\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.CardController),&#39;/card&#39;)}&quot;)\r\npublic class CardController  extends RootV1Controller {\r\n    @GetMapping(value = &quot;/all&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; getCards() {\r\n        return new ResponseEntity&lt;&gt;(&quot;card&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nBut the implementation I provided is not concise, so it is not a good choice. Maybe others will provide a better implementation.","title":"Spring Boot @RestController @RequestMapping nesting","body":"<p>As others have said, Spring does not support this way of inheriting RequestMapping through classes. If you want to implement nested access paths, you can customize an annotation and use SPEL to achieve this function. Here is a simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@RequestMapping\npublic @interface NestingPath {\n    @AliasFor(annotation = RequestMapping.class)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component(&quot;nph&quot;)\npublic class NestingPathHandler {\n\n    public String eval(Class&lt;?&gt; clazz, String path) throws ClassNotFoundException {\n        Deque&lt;String&gt; pathList = new LinkedList&lt;&gt;();\n        pathList.push(path);\n        findNestingPath(clazz.getSuperclass(), pathList);\n        StringBuilder sb = new StringBuilder();\n        while (!pathList.isEmpty()) {\n            sb.append(pathList.pop());\n        }\n        return sb.toString();\n    }\n\n    private void findNestingPath(Class&lt;?&gt; clazz, Deque&lt;String&gt; pathList) throws ClassNotFoundException {\n        if (clazz == Object.class) {\n            return;\n        }\n        Annotation[] annotations = clazz.getAnnotations();\n        for (Annotation annotation : annotations) {\n            if (annotation.annotationType() == NestingPath.class) {\n                String value = ((NestingPath) annotation).value();\n                if (value.contains(&quot;@nph.eval&quot;)) {\n                    int i1 = value.lastIndexOf(&quot;'&quot;);\n                    int j1 = value.lastIndexOf(&quot;'&quot;, i1 - 1);\n                    String path = value.substring(j1 + 1, i1);\n\n                    int i2 = value.lastIndexOf(&quot;T(&quot;);\n                    int j2 = value.lastIndexOf(&quot;)&quot;, j1 + 1);\n                    String className = value.substring(i2 + 2, j2);\n\n                    pathList.push(eval(Class.forName(className), path));\n                } else {\n                    pathList.push(value);\n                    findNestingPath(clazz.getSuperclass(), pathList);\n                }\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.RootAPIController),'/root')}&quot;)\npublic class RootAPIController {\n}\n\n@RestController\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.RootV1Controller),'/v1')}&quot;)\npublic class RootV1Controller extends RootAPIController {\n}\n\n@RestController\n@NestingPath(&quot;#{@nph.eval(T(org.test.controller.CardController),'/card')}&quot;)\npublic class CardController  extends RootV1Controller {\n    @GetMapping(value = &quot;/all&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; getCards() {\n        return new ResponseEntity&lt;&gt;(&quot;card&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>But the implementation I provided is not concise, so it is not a good choice. Maybe others will provide a better implementation.</p>\n"}],"owner":{"account_id":4008661,"reputation":961,"user_id":3302683,"accept_rate":75,"display_name":"trever"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689602416,"creation_date":1689579137,"question_id":76702334,"body_markdown":"I am starting a new Spring Boot web project and want to nest `@RestController` inside of each other to have a structure for my v1, v2, etc, API and other endpoints that may come along and have the child obtain the path from their parent. For example:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class RootAPIController {\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\npublic class RootV1Controller extends RootAPIController {\r\n}\r\n```\r\n\r\nto the final path like this:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/card&quot;)\r\npublic class CardController extends RootV1Controller {\r\n\r\n    @GetMapping(value = &quot;/all&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; getCards() {\r\n        return new ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\nBut Spring doesn&#39;t seem to be exposing my URL&#39;s at all, all I&#39;m getting is a 404 back when trying any of them.\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class BackendServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendServiceApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAll of my classes are in children under the main package that the `SpringBootApplication` sits at, from what I have read it should pick those up if they are under it, but it just won&#39;t for the ones that are outside of it. What am I missing here?\r\n\r\nThanks!","title":"Spring Boot @RestController @RequestMapping nesting","body":"<p>I am starting a new Spring Boot web project and want to nest <code>@RestController</code> inside of each other to have a structure for my v1, v2, etc, API and other endpoints that may come along and have the child obtain the path from their parent. For example:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class RootAPIController {\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1&quot;)\npublic class RootV1Controller extends RootAPIController {\n}\n</code></pre>\n<p>to the final path like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/card&quot;)\npublic class CardController extends RootV1Controller {\n\n    @GetMapping(value = &quot;/all&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; getCards() {\n        return new ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>But Spring doesn't seem to be exposing my URL's at all, all I'm getting is a 404 back when trying any of them.</p>\n<pre><code>@SpringBootApplication\npublic class BackendServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>All of my classes are in children under the main package that the <code>SpringBootApplication</code> sits at, from what I have read it should pick those up if they are under it, but it just won't for the ones that are outside of it. What am I missing here?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","lazy-loading"],"comments":[{"owner":{"display_name":"user18473608"},"score":3,"creation_date":1688581830,"post_id":76542457,"comment_id":135094305,"body_markdown":"LazyInitializationException indicates an attempt to access unfetched data outside the context of an open stateful Session. (from https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/LazyInitializationException.html ) After the first call of `getLazyCollection()`, are you sure about the session is still opened when you call that method again?","body":"LazyInitializationException indicates an attempt to access unfetched data outside the context of an open stateful Session. (from <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/LazyInitializationException.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/&hellip;</a> ) After the first call of <code>getLazyCollection()</code>, are you sure about the session is still opened when you call that method again?"},{"owner":{"account_id":8416879,"reputation":667,"user_id":6317008,"accept_rate":78,"display_name":"SGiux"},"score":0,"creation_date":1688624529,"post_id":76542457,"comment_id":135099037,"body_markdown":"I know what the exception means and I enabled hibernate logs to make sure the session is open and it is. it ss very odd that if the attempt to access unfetched data is done after the if, it fails.","body":"I know what the exception means and I enabled hibernate logs to make sure the session is open and it is. it ss very odd that if the attempt to access unfetched data is done after the if, it fails."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1688762399,"post_id":76542457,"comment_id":135122305,"body_markdown":"Simplify the code. Remove the stream. Remove the calls to `updateOperation` and `addOperation`.","body":"Simplify the code. Remove the stream. Remove the calls to <code>updateOperation</code> and <code>addOperation</code>."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688642966,"creation_date":1688642620,"answer_id":76628307,"question_id":76542457,"body_markdown":"I suspect the reason why you get `LIE` on the second call is that in your Spring Boot  you have [Open-Session-in-View][1] enabled (default behavior). Please check the application log for\r\n```\r\nspring.jpa.open-in-view is enabled by default. Therefore, database  queries may be performed during view rendering.Explicitly configure spring.jpa.open-in-view to disable this warning\r\n```\r\nIf there&#39;s this warning then add this to your `application.properties`:\r\n```properties\r\nspring.jpa.open-in-view=false\r\n```\r\nWhen you fetch the lazy properties for the second time there could be no connection available as the connection pool is exhausted, so try to add more connections in your config.\r\n\r\nAnother possible culprit is \r\n```properties\r\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n```\r\nSetting this property to `true` should be [avoided][2] as it again increases the number of session (and connections taken from the pool) causing pool exhaustion.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-open-session-in-view\r\n  [2]: https://www.baeldung.com/hibernate-lazy-loading-workaround","title":"Special case of Hibernate LazyInitializationException","body":"<p>I suspect the reason why you get <code>LIE</code> on the second call is that in your Spring Boot  you have <a href=\"https://www.baeldung.com/spring-open-session-in-view\" rel=\"nofollow noreferrer\">Open-Session-in-View</a> enabled (default behavior). Please check the application log for</p>\n<pre><code>spring.jpa.open-in-view is enabled by default. Therefore, database  queries may be performed during view rendering.Explicitly configure spring.jpa.open-in-view to disable this warning\n</code></pre>\n<p>If there's this warning then add this to your <code>application.properties</code>:</p>\n<pre><code>spring.jpa.open-in-view=false\n</code></pre>\n<p>When you fetch the lazy properties for the second time there could be no connection available as the connection pool is exhausted, so try to add more connections in your config.</p>\n<p>Another possible culprit is</p>\n<pre><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n<p>Setting this property to <code>true</code> should be <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround\" rel=\"nofollow noreferrer\">avoided</a> as it again increases the number of session (and connections taken from the pool) causing pool exhaustion.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688806933,"creation_date":1688801993,"answer_id":76641871,"question_id":76542457,"body_markdown":"Strange behaviour at the first glance. `LazyInitializationException` mostly happens when the session that is used to load the entity is already closed when you access that entity &#39;s lazy loaded collection at the first time. \r\n\r\n\r\nSo sounds like the related session is somehow closed after executing `existingFields.contains(field)`. Suggest to try the following for troubleshooting : \r\n\r\n1. Revise the function such that you can access the `Session` (or `EntityManager` if using JPA) and call its method `isOpen()` to verify if the session is really closed : \r\n\r\n``` java\r\n   if (existingFields.contains(field)) {\r\n       session.isOpen() // verify if the session is still open             \r\n    }\r\n\r\n```\r\n\r\n2.  Change the logger level of `org.hibernate.internal` to TRACE. When the session is closed , it will log `Closing session [xxxxxx]` at `SessionImpl#closeWithoutOpenChecks()`. If it really exist in the log , place the breakpoint at there to see who close it. \r\n\r\n","title":"Special case of Hibernate LazyInitializationException","body":"<p>Strange behaviour at the first glance. <code>LazyInitializationException</code> mostly happens when the session that is used to load the entity is already closed when you access that entity 's lazy loaded collection at the first time.</p>\n<p>So sounds like the related session is somehow closed after executing <code>existingFields.contains(field)</code>. Suggest to try the following for troubleshooting :</p>\n<ol>\n<li>Revise the function such that you can access the <code>Session</code> (or <code>EntityManager</code> if using JPA) and call its method <code>isOpen()</code> to verify if the session is really closed :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   if (existingFields.contains(field)) {\n       session.isOpen() // verify if the session is still open             \n    }\n\n</code></pre>\n<ol start=\"2\">\n<li>Change the logger level of <code>org.hibernate.internal</code> to TRACE. When the session is closed , it will log <code>Closing session [xxxxxx]</code> at <code>SessionImpl#closeWithoutOpenChecks()</code>. If it really exist in the log , place the breakpoint at there to see who close it.</li>\n</ol>\n"}],"owner":{"account_id":8416879,"reputation":667,"user_id":6317008,"accept_rate":78,"display_name":"SGiux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689601713,"creation_date":1687542373,"question_id":76542457,"body_markdown":"today at work I encountered a **strange** `LazyInitializationException` when running a spring boot **integration test**. The most common errors have to be excluded:\r\n\r\n - Transaction is open when executing the incriminated code. Indeed `@Transactional` is used and **logs confirm that**.\r\n - The transaction method is called by another class and not by the same class, so letting Spring AOP do the &quot;magic&quot; by opening and closing transaction without code anything.\r\n - During the all execution the code is run in the same thread (`@Transactional` is thread-bound)\r\n\r\nThis is the code (names of things modified) where the exception happens:\r\n\r\n    @UtilityClass\r\n    public class UpdateStrategy {\r\n    \r\n        public &lt;A extends ObjectWithLazyCollections&gt; Result&lt;Nothing&gt; updateOrAddLazyCollection(A objectWithLazyCollections,\r\n                                                                Collection&lt;Field&gt; fields,\r\n                                                                BiFunction&lt;A, Field, Result&lt;Nothing&gt;&gt; addOperation,\r\n                                                                BiFunction&lt;A, Field, Result&lt;Nothing&gt;&gt; updateOperation) {\r\n            return objectWithLazyCollections.getFields().stream() // this is not a lazy collection\r\n                .map(field -&gt; {\r\n                    System.out.println(objectWithLazyCollections.getLazyCollection()); // // This will avoid the LazyInitializationException\r\n                    if (existingFields.contains(field)) {\r\n                        System.out.println(objectWithLazyCollections.getLazyCollection()); // This will throw a LazyInitializationException\r\n                        return updateOperation.apply(objectWithLazyCollections, field); // Without any prints, during the execution of this method, the exception is thrown.\r\n                    }\r\n                    return addOperation.apply(objectWithLazyCollections, field); \r\n                })\r\n                .reduce(Result.success(), Result::merge);\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;ve added two lines where a print the lazy collection, to force the inizialization of the collection, to understand where the exception can be thrown. **If a run my test with the first print it will work**. However **if I delete the first print** statement the `LazyInitializationException` is thrown at the next print statement.\r\n\r\nBasically if the lazy collection is initialized just before the if test is passing. If I try to access the lazy collection just after the if, a LIE is thrown.\r\n\r\nWhy this happens?\r\n\r\n**UPDATE**:\r\n\r\nThis in printed in the console after enabling the `org.hibernate.internal: TRACE` (app logs are hidden): \r\n\r\n    ...\r\n    2023-07-17 11:46:10,663 TRACE [main] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [032a4aab-0c4f-444d-a957-005830fde4ec] at timestamp: 1689594370663\r\n    2023-07-17 11:46:10,666 TRACE [main] org.hibernate.internal.SessionImpl.beforeTransactionCompletion:2424 - SessionImpl#beforeTransactionCompletion()\r\n    2023-07-17 11:46:10,666 TRACE [main] org.hibernate.internal.SessionImpl.managedFlush:488 - Automatically flushing session\r\n    2023-07-17 11:46:10,670 TRACE [main] org.hibernate.internal.SessionImpl.afterTransactionCompletion:2439 - SessionImpl#afterTransactionCompletion(successful=true, delayed=false)\r\n    2023-07-17 11:46:10,670 TRACE [main] org.hibernate.internal.SessionImpl.closeWithoutOpenChecks:403 - Closing session [032a4aab-0c4f-444d-a957-005830fde4ec]\r\n    2023-07-17 11:46:10,671 TRACE [main] org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession:1333 - Opening Hibernate Session.  tenant=null\r\n    2023-07-17 11:46:10,671 TRACE [main] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [9ac71002-40e2-48c8-94d3-6466eb8a45e2] at timestamp: 1689594370671\r\n    2023-07-17 11:46:10,695 INFO  [main] ...\r\n    2023-07-17 11:46:10,935 INFO  [main] ...\r\n    2023-07-17 11:46:11,111 INFO  [boundedElastic-11] ...\r\n    2023-07-17 11:46:11,232 TRACE [boundedElastic-11] org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession:1333 - Opening Hibernate Session.  tenant=null\r\n    2023-07-17 11:46:11,236 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [0fedd4ba-2580-459d-acfa-2880e410e28d] at timestamp: 1689594371234\r\n    2023-07-17 11:46:11,263 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.beforeTransactionCompletion:2424 - SessionImpl#beforeTransactionCompletion()\r\n    2023-07-17 11:46:11,264 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.managedFlush:488 - Automatically flushing session\r\n    2023-07-17 11:46:11,277 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.afterTransactionCompletion:2439 - SessionImpl#afterTransactionCompletion(successful=true, delayed=false)\r\n    2023-07-17 11:46:11,277 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.closeWithoutOpenChecks:403 - Closing session [0fedd4ba-2580-459d-acfa-2880e410e28d]\r\n    2023-07-17 11:46:11,285 WARN  [main] ...\r\n    2023-07-17 11:46:11,473 INFO  [main] ...\r\n    2023-07-17 11:46:11,588 INFO  [main] ...\r\n    2023-07-17 11:46:11,613 INFO  [main] ...\r\n    2023-07-17 11:46:12,197 INFO  [main] ...\r\n    2023-07-17 11:46:12,201 INFO  [main] ...\r\n    true -- this is the entityManager.isOpen() output, right before the code that is generating the exception\r\n    2023-07-17 11:46:12,320 ERROR [main] ...\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: XXX, could not initialize proxy - no Session\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\r\n    \tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n    \tat org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)\r\n    \tat java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n    \tat .... updateOperation(...)\r\n\r\nI tried also to print the session contained in the lazy collection:\r\n\r\n    abstractPersistentCollection.getSession()\r\n\r\nWhat I noticed is that starting from the second iteration in the stream it becomes null, but the is no sign in the logs that the connection has been closed.","title":"Special case of Hibernate LazyInitializationException","body":"<p>today at work I encountered a <strong>strange</strong> <code>LazyInitializationException</code> when running a spring boot <strong>integration test</strong>. The most common errors have to be excluded:</p>\n<ul>\n<li>Transaction is open when executing the incriminated code. Indeed <code>@Transactional</code> is used and <strong>logs confirm that</strong>.</li>\n<li>The transaction method is called by another class and not by the same class, so letting Spring AOP do the &quot;magic&quot; by opening and closing transaction without code anything.</li>\n<li>During the all execution the code is run in the same thread (<code>@Transactional</code> is thread-bound)</li>\n</ul>\n<p>This is the code (names of things modified) where the exception happens:</p>\n<pre><code>@UtilityClass\npublic class UpdateStrategy {\n\n    public &lt;A extends ObjectWithLazyCollections&gt; Result&lt;Nothing&gt; updateOrAddLazyCollection(A objectWithLazyCollections,\n                                                            Collection&lt;Field&gt; fields,\n                                                            BiFunction&lt;A, Field, Result&lt;Nothing&gt;&gt; addOperation,\n                                                            BiFunction&lt;A, Field, Result&lt;Nothing&gt;&gt; updateOperation) {\n        return objectWithLazyCollections.getFields().stream() // this is not a lazy collection\n            .map(field -&gt; {\n                System.out.println(objectWithLazyCollections.getLazyCollection()); // // This will avoid the LazyInitializationException\n                if (existingFields.contains(field)) {\n                    System.out.println(objectWithLazyCollections.getLazyCollection()); // This will throw a LazyInitializationException\n                    return updateOperation.apply(objectWithLazyCollections, field); // Without any prints, during the execution of this method, the exception is thrown.\n                }\n                return addOperation.apply(objectWithLazyCollections, field); \n            })\n            .reduce(Result.success(), Result::merge);\n    }\n\n}\n</code></pre>\n<p>I've added two lines where a print the lazy collection, to force the inizialization of the collection, to understand where the exception can be thrown. <strong>If a run my test with the first print it will work</strong>. However <strong>if I delete the first print</strong> statement the <code>LazyInitializationException</code> is thrown at the next print statement.</p>\n<p>Basically if the lazy collection is initialized just before the if test is passing. If I try to access the lazy collection just after the if, a LIE is thrown.</p>\n<p>Why this happens?</p>\n<p><strong>UPDATE</strong>:</p>\n<p>This in printed in the console after enabling the <code>org.hibernate.internal: TRACE</code> (app logs are hidden):</p>\n<pre><code>...\n2023-07-17 11:46:10,663 TRACE [main] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [032a4aab-0c4f-444d-a957-005830fde4ec] at timestamp: 1689594370663\n2023-07-17 11:46:10,666 TRACE [main] org.hibernate.internal.SessionImpl.beforeTransactionCompletion:2424 - SessionImpl#beforeTransactionCompletion()\n2023-07-17 11:46:10,666 TRACE [main] org.hibernate.internal.SessionImpl.managedFlush:488 - Automatically flushing session\n2023-07-17 11:46:10,670 TRACE [main] org.hibernate.internal.SessionImpl.afterTransactionCompletion:2439 - SessionImpl#afterTransactionCompletion(successful=true, delayed=false)\n2023-07-17 11:46:10,670 TRACE [main] org.hibernate.internal.SessionImpl.closeWithoutOpenChecks:403 - Closing session [032a4aab-0c4f-444d-a957-005830fde4ec]\n2023-07-17 11:46:10,671 TRACE [main] org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession:1333 - Opening Hibernate Session.  tenant=null\n2023-07-17 11:46:10,671 TRACE [main] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [9ac71002-40e2-48c8-94d3-6466eb8a45e2] at timestamp: 1689594370671\n2023-07-17 11:46:10,695 INFO  [main] ...\n2023-07-17 11:46:10,935 INFO  [main] ...\n2023-07-17 11:46:11,111 INFO  [boundedElastic-11] ...\n2023-07-17 11:46:11,232 TRACE [boundedElastic-11] org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession:1333 - Opening Hibernate Session.  tenant=null\n2023-07-17 11:46:11,236 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.&lt;init&gt;:287 - Opened Session [0fedd4ba-2580-459d-acfa-2880e410e28d] at timestamp: 1689594371234\n2023-07-17 11:46:11,263 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.beforeTransactionCompletion:2424 - SessionImpl#beforeTransactionCompletion()\n2023-07-17 11:46:11,264 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.managedFlush:488 - Automatically flushing session\n2023-07-17 11:46:11,277 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.afterTransactionCompletion:2439 - SessionImpl#afterTransactionCompletion(successful=true, delayed=false)\n2023-07-17 11:46:11,277 TRACE [boundedElastic-11] org.hibernate.internal.SessionImpl.closeWithoutOpenChecks:403 - Closing session [0fedd4ba-2580-459d-acfa-2880e410e28d]\n2023-07-17 11:46:11,285 WARN  [main] ...\n2023-07-17 11:46:11,473 INFO  [main] ...\n2023-07-17 11:46:11,588 INFO  [main] ...\n2023-07-17 11:46:11,613 INFO  [main] ...\n2023-07-17 11:46:12,197 INFO  [main] ...\n2023-07-17 11:46:12,201 INFO  [main] ...\ntrue -- this is the entityManager.isOpen() output, right before the code that is generating the exception\n2023-07-17 11:46:12,320 ERROR [main] ...\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: XXX, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:614)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\n    at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:387)\n    at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1865)\n    at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at .... updateOperation(...)\n</code></pre>\n<p>I tried also to print the session contained in the lazy collection:</p>\n<pre><code>abstractPersistentCollection.getSession()\n</code></pre>\n<p>What I noticed is that starting from the second iteration in the stream it becomes null, but the is no sign in the logs that the connection has been closed.</p>\n"},{"tags":["java","list","nodes","reverse"],"answers":[{"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674045156,"creation_date":1674045156,"answer_id":75159290,"question_id":75158605,"body_markdown":"It seems quite a theoretical question to me, so you might want to check Geek for Geeks first. Most of these questions that are used in programming courses are well explained there, including coding examples.\r\n\r\nIn this case, a well-known solution is to use three pointers: a current number, the previous number , and the next number; to keep track of nodes to update reverse links.\r\nCheck here: https://www.geeksforgeeks.org/reverse-a-linked-list/\r\n","title":"How can I inverse a list of elements if I can only access to an element and his next one?","body":"<p>It seems quite a theoretical question to me, so you might want to check Geek for Geeks first. Most of these questions that are used in programming courses are well explained there, including coding examples.</p>\n<p>In this case, a well-known solution is to use three pointers: a current number, the previous number , and the next number; to keep track of nodes to update reverse links.\nCheck here: <a href=\"https://www.geeksforgeeks.org/reverse-a-linked-list/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/reverse-a-linked-list/</a></p>\n"},{"tags":[],"owner":{"account_id":3343640,"reputation":1317,"user_id":3671939,"accept_rate":62,"display_name":"Carlos Pinz&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689601340,"creation_date":1689601340,"answer_id":76705060,"question_id":75158605,"body_markdown":"One solution is to think recursively. In order to reverse the list, it suffices to isolate the first node, recursively reverse the list from the second element to the end, and append the first node at the very end. This means that your reverse function will need to receive not just the first node of the list to be reversed, but also, optionally, a node to be appended at the end.\r\n\r\nSince your function must now not just reverse but also append an element to the end, you can isolate the first node, append the extra nodes to it, and then call your function to reverse from the second to the end, appending the first node to the result.\r\n\r\nYou can test the following js implementation in your browser console:\r\n\r\n```js\r\nfunction reverse(h, append=null){\r\n  let next = h.next;\r\n  h.next = append;\r\n  if(!next) return h;\r\n  return reverse(next, h);\r\n}\r\n\r\nreverse({value:1, next:{value:2, next:{value:3, next:{value:4, next:null}}}})\r\n// yields:\r\n{ value: 4, next: { value: 3, next: { value: 2, next: { value: 1, next: null } } } }\r\n```\r\n\r\n","title":"How can I inverse a list of elements if I can only access to an element and his next one?","body":"<p>One solution is to think recursively. In order to reverse the list, it suffices to isolate the first node, recursively reverse the list from the second element to the end, and append the first node at the very end. This means that your reverse function will need to receive not just the first node of the list to be reversed, but also, optionally, a node to be appended at the end.</p>\n<p>Since your function must now not just reverse but also append an element to the end, you can isolate the first node, append the extra nodes to it, and then call your function to reverse from the second to the end, appending the first node to the result.</p>\n<p>You can test the following js implementation in your browser console:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function reverse(h, append=null){\n  let next = h.next;\n  h.next = append;\n  if(!next) return h;\n  return reverse(next, h);\n}\n\nreverse({value:1, next:{value:2, next:{value:3, next:{value:4, next:null}}}})\n// yields:\n{ value: 4, next: { value: 3, next: { value: 2, next: { value: 1, next: null } } } }\n</code></pre>\n"}],"owner":{"account_id":26984141,"reputation":1,"user_id":20548066,"display_name":"Javier Montes P&#233;rez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689601340,"creation_date":1674041545,"question_id":75158605,"body_markdown":"I have been given a &quot;class&quot; called LinkedList&lt;T&gt; which has only one atributte\r\n&quot;Node&lt;T&gt; first&quot; which refers to the first element of a list. The way to access the other ones is that class &quot;Node&quot; has access to an element &#39;x&#39; and his following one:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class LinkedList&lt;T&gt; {\r\n        private static class Node&lt;E&gt; {\r\n            E elem;\r\n            Node&lt;E&gt; next;\r\n\r\n            Node (E elem) {\r\n                this.elem = elem;\r\n                this.next = null;\r\n            }\r\n        }\r\n\r\n        private Node&lt;T&gt; first;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo that, I have been ordered to do a method called &quot;reverse&quot; from class &quot;LinkedList&quot; which has to reverse the list. However, the difficulty of the exercise is that I can only re-link the attributte &quot;first&quot;, I mean I cannot create auxiliar data structures and that type of help.\r\n\r\nI have done this in order to achieve the last element of the list, but I dont know how to continue:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        public void reverse () {\r\n            Node&lt;T&gt; aux = first.next;\r\n            while (aux.next != null) {\r\n                first.elem = aux.elem;\r\n                aux = aux.next;\r\n            }\r\n            first.elem = aux.elem;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I inverse a list of elements if I can only access to an element and his next one?","body":"<p>I have been given a &quot;class&quot; called LinkedList which has only one atributte\n&quot;Node first&quot; which refers to the first element of a list. The way to access the other ones is that class &quot;Node&quot; has access to an element 'x' and his following one:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class LinkedList&lt;T&gt; {\n    private static class Node&lt;E&gt; {\n        E elem;\n        Node&lt;E&gt; next;\n\n        Node (E elem) {\n            this.elem = elem;\n            this.next = null;\n        }\n    }\n\n    private Node&lt;T&gt; first;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So that, I have been ordered to do a method called &quot;reverse&quot; from class &quot;LinkedList&quot; which has to reverse the list. However, the difficulty of the exercise is that I can only re-link the attributte &quot;first&quot;, I mean I cannot create auxiliar data structures and that type of help.</p>\n<p>I have done this in order to achieve the last element of the list, but I dont know how to continue:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public void reverse () {\n        Node&lt;T&gt; aux = first.next;\n        while (aux.next != null) {\n            first.elem = aux.elem;\n            aux = aux.next;\n        }\n        first.elem = aux.elem;\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","xml","spring-boot","soap","unmarshalling"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689327210,"post_id":76686420,"comment_id":135200845,"body_markdown":"You get a `JAXBElement&lt;PrepaidUserInfoResponse&gt;` instead of a `PrepaidUserInfoResponse` from the marshaller. Which makes sense as that is what you are wrapping it to any way. So just do `return unmarshaller.unmarshal(mock);` and fix the casting to `(JAXBElement&lt;PrepaidUserInfoResponse&gt;)`. Then you can remove the ObjectFactory and call to it. No need for that. I&#39;m not going to validate your WSDLs for you.","body":"You get a <code>JAXBElement&lt;PrepaidUserInfoResponse&gt;</code> instead of a <code>PrepaidUserInfoResponse</code> from the marshaller. Which makes sense as that is what you are wrapping it to any way. So just do <code>return unmarshaller.unmarshal(mock);</code> and fix the casting to <code>(JAXBElement&lt;PrepaidUserInfoResponse&gt;)</code>. Then you can remove the ObjectFactory and call to it. No need for that. I&#39;m not going to validate your WSDLs for you."},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689328235,"post_id":76686420,"comment_id":135201057,"body_markdown":"if I write &quot;prepaidUserInfo = unmarshaller.unmarshal(mock);&quot; instead of &quot;response = (PrepaidUserInfoResponse) unmarshaller.unmarshal(mock);&quot; compiler give me error &quot;Type mismatch: cannot convert from Object to JAXBElement&lt;PrepaidUserInfoResponse&gt;&quot;","body":"if I write &quot;prepaidUserInfo = unmarshaller.unmarshal(mock);&quot; instead of &quot;response = (PrepaidUserInfoResponse) unmarshaller.unmarshal(mock);&quot; compiler give me error &quot;Type mismatch: cannot convert from Object to JAXBElement&lt;PrepaidUserInfoResponse&gt;&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689328373,"post_id":76686420,"comment_id":135201084,"body_markdown":"If you would&#39;ve read the second sentence of my comment -&gt; *fix the casting to `(JAXBElement&lt;PrepaidUserInfoResponse&gt;)`*.","body":"If you would&#39;ve read the second sentence of my comment -&gt; <i>fix the casting to <code>(JAXBElement&lt;PrepaidUserInfoResponse&gt;)</code></i>."},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689328853,"post_id":76686420,"comment_id":135201172,"body_markdown":"What should I write?","body":"What should I write?"},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689329037,"post_id":76686420,"comment_id":135201200,"body_markdown":"You have write also &quot;Then you can remove the ObjectFactory and call to it.&quot; . What does it mean?","body":"You have write also &quot;Then you can remove the ObjectFactory and call to it.&quot; . What does it mean?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689329339,"post_id":76686420,"comment_id":135201253,"body_markdown":"you just need to do `return (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshall(mock);` you don&#39;t need to code after that hence no need for the `new ObjectFactory()` either.","body":"you just need to do <code>return (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshall(mock);</code> you don&#39;t need to code after that hence no need for the <code>new ObjectFactory()</code> either."},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689329469,"post_id":76686420,"comment_id":135201282,"body_markdown":"ok, before Your answer I have write &quot;prepaidUserInfo = (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(mock);&quot; and comment the line inside finally block &quot;prepaidUserInfo = factoryPanel.createGetPrepaidUserInfoResponse(response);&quot; but answer is empty","body":"ok, before Your answer I have write &quot;prepaidUserInfo = (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(mock);&quot; and comment the line inside finally block &quot;prepaidUserInfo = factoryPanel.createGetPrepaidUserInfoResponse(response);&quot; but answer is empty"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689329857,"post_id":76686420,"comment_id":135201350,"body_markdown":"Then your unmarshalling doesn&#39;t work (or it doesn&#39;t read the file). A `File` has to be an actual resource you are loading from the classpath so that will probably fail. Instead use `new ClassPathResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;)` and get an `InputStream` from it and pass that to the `unmarshall` method instead of a `File`.","body":"Then your unmarshalling doesn&#39;t work (or it doesn&#39;t read the file). A <code>File</code> has to be an actual resource you are loading from the classpath so that will probably fail. Instead use <code>new ClassPathResource(&quot;fallback&#47;PrepaidUserInfoMock.xml&quot;)</code> and get an <code>InputStream</code> from it and pass that to the <code>unmarshall</code> method instead of a <code>File</code>."},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689329902,"post_id":76686420,"comment_id":135201358,"body_markdown":"objectfactory class, for reason that I don&#39;t know because I work inside a team, it&#39;s splitted in 2 class objectfactory class, so in the class used inside jaxbcontext there isn&#39;t /**\n     * Create an instance of {@link PrepaidUserInfoResponse }\n     * \n     */\n    public PrepaidUserInfoResponse createPrepaidUserInfoResponse() {\n        return new PrepaidUserInfoResponse();\n    } ... Can be this the cause?","body":"objectfactory class, for reason that I don&#39;t know because I work inside a team, it&#39;s splitted in 2 class objectfactory class, so in the class used inside jaxbcontext there isn&#39;t /**      * Create an instance of {@link PrepaidUserInfoResponse }      *       */     public PrepaidUserInfoResponse createPrepaidUserInfoResponse() {         return new PrepaidUserInfoResponse();     } ... Can be this the cause?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689330011,"post_id":76686420,"comment_id":135201377,"body_markdown":"You don&#39;t need the `ObjectFactory`. And no it isn&#39;t the cause. You are trying to much and I suspect that you have no clue on how the technologies you use are actually working.","body":"You don&#39;t need the <code>ObjectFactory</code>. And no it isn&#39;t the cause. You are trying to much and I suspect that you have no clue on how the technologies you use are actually working."},{"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"score":0,"creation_date":1689330603,"post_id":76686420,"comment_id":135201466,"body_markdown":"with &quot;prepaidUserInfo = (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(new ClassPathResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;).getInputStream());&quot; still doesn&#39;t work","body":"with &quot;prepaidUserInfo = (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(new ClassPathResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;).getInp&zwnj;&#8203;utStream());&quot; still doesn&#39;t work"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689330775,"post_id":76686420,"comment_id":135201489,"body_markdown":"As I mention in my answer your exception handling is flawed as well as it continues as is without failing. Make that proper and you probably get an exception exactly telling you what is wrong.","body":"As I mention in my answer your exception handling is flawed as well as it continues as is without failing. Make that proper and you probably get an exception exactly telling you what is wrong."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689330325,"creation_date":1689330325,"answer_id":76686813,"question_id":76686420,"body_markdown":"```java\r\n@Endpoint\r\npublic class GetPrepaidUserInfoEndPoint {\r\n    private static final String NAMESPACE_URI = &quot;http://address.xxx/tmp/model/consumer/panel&quot;;\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getPrepaidUserInfo&quot;)\r\n    @ResponsePayload\r\n    public JAXBElement&lt;PrepaidUserInfoResponse&gt; getPrepaidUserInfo(@RequestPayload PrepaidUserInfoRequest request){\r\n        var resource = new ClassPathResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;);\r\n        try {\r\n       \r\n            JAXBContext context = JAXBContext.newInstance(PrepaidUserInfoResponse.class);\r\n            javax.xml.bind.Unmarshaller unmarshaller = context.createUnmarshaller();\r\n            return (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(resource.getInputStream());\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Error creating response!&quot;. ex);\r\n            throw new IllegalStateException(&quot;Error creating Response&quot;, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou are trying to much here and seems to point to a lack of understand of what you are actually doing. \r\n\r\nThe `File` needs to be a physical resource on the file system. If you are running this as jar/war this won&#39;t work as it isn&#39;t a physical resource but packed inside a jar. Instead use a `ClasspathResource` from Spring to load it and use `getInputStream` to have it read. \r\n\r\nAlso fix the exception handling as when there is an error the process will continue and return an empty or no response. \r\n\r\nYou don&#39;t need all those `ObjectFactory` instances they don&#39;t really add anything. You can just call `unmarshall` and return the element you get from there. ","title":"java.lang.ClassCastException error when I make xml unmarshaling of a mock endpoint","body":"<pre class=\"lang-java prettyprint-override\"><code>@Endpoint\npublic class GetPrepaidUserInfoEndPoint {\n    private static final String NAMESPACE_URI = &quot;http://address.xxx/tmp/model/consumer/panel&quot;;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getPrepaidUserInfo&quot;)\n    @ResponsePayload\n    public JAXBElement&lt;PrepaidUserInfoResponse&gt; getPrepaidUserInfo(@RequestPayload PrepaidUserInfoRequest request){\n        var resource = new ClassPathResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;);\n        try {\n       \n            JAXBContext context = JAXBContext.newInstance(PrepaidUserInfoResponse.class);\n            javax.xml.bind.Unmarshaller unmarshaller = context.createUnmarshaller();\n            return (JAXBElement&lt;PrepaidUserInfoResponse&gt;) unmarshaller.unmarshal(resource.getInputStream());\n        } catch (Exception ex) {\n            logger.error(&quot;Error creating response!&quot;. ex);\n            throw new IllegalStateException(&quot;Error creating Response&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>You are trying to much here and seems to point to a lack of understand of what you are actually doing.</p>\n<p>The <code>File</code> needs to be a physical resource on the file system. If you are running this as jar/war this won't work as it isn't a physical resource but packed inside a jar. Instead use a <code>ClasspathResource</code> from Spring to load it and use <code>getInputStream</code> to have it read.</p>\n<p>Also fix the exception handling as when there is an error the process will continue and return an empty or no response.</p>\n<p>You don't need all those <code>ObjectFactory</code> instances they don't really add anything. You can just call <code>unmarshall</code> and return the element you get from there.</p>\n"},{"tags":[],"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689601173,"creation_date":1689601173,"answer_id":76705038,"question_id":76686420,"body_markdown":"ok, I have solved the problem: when are created the JAXB classes with Eclipse tool, it&#39;s created also a class named package-info.java that has the folowing content:\r\n\r\npackage-info.java\r\n\r\n```\r\n@javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://address.xxx/tmp/model/consumer&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\r\npackage xxx.address.tmp.model.consumer.prepaid;\r\n```\r\n\r\nso, can occur the following issues:\r\n1. if namespace value in @javax.xml.bind.annotation.XmlSchema in package-info.java (&quot;http://address.xxx/tmp/model/consumer&quot;) it&#39;s different from xmlns attribute of root element on xml file mock (in my case xmlns value attribute is &quot;http://address.xxx/tmp/model/consumer/panel&quot; while root element is &quot;PrepaidUserInfoResponse&quot; you&#39;ll get a javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://address.xxx/tmp/model/consumer/panel&quot;, local:&quot;PrepaidUserInfoResponse&quot;). Expected element are &lt;{http://address.xxx/tmp/model/consumer}PrepaidUserInfoResponse&gt; .\r\n\r\n\r\n\r\n2. if namespace value in @javax.xml.bind.annotation.XmlSchema and xmlns attribute of root element on xml file mock are the same (in my case &quot;http://address.xxx/tmp/model/consumer&quot;) but are different from attribute namespace in @XmlType annotation in PrepaidUserInfoResponse.java (in my case &quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;) You&#39;ll get a response with empty values.\r\n\r\nI have also obtained a &quot;java.lang.ClassCastException: javax.xml.bind.JAXBElement cannot be cast to xxx.address.tmp.model.consumer.prepaid.PrepaidUserInfoResponse&quot; but I don&#39;t remember on what circustances.","title":"java.lang.ClassCastException error when I make xml unmarshaling of a mock endpoint","body":"<p>ok, I have solved the problem: when are created the JAXB classes with Eclipse tool, it's created also a class named package-info.java that has the folowing content:</p>\n<p>package-info.java</p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://address.xxx/tmp/model/consumer&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)\npackage xxx.address.tmp.model.consumer.prepaid;\n</code></pre>\n<p>so, can occur the following issues:</p>\n<ol>\n<li><p>if namespace value in @javax.xml.bind.annotation.XmlSchema in package-info.java (&quot;http://address.xxx/tmp/model/consumer&quot;) it's different from xmlns attribute of root element on xml file mock (in my case xmlns value attribute is &quot;http://address.xxx/tmp/model/consumer/panel&quot; while root element is &quot;PrepaidUserInfoResponse&quot; you'll get a javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://address.xxx/tmp/model/consumer/panel&quot;, local:&quot;PrepaidUserInfoResponse&quot;). Expected element are &lt;{http://address.xxx/tmp/model/consumer}PrepaidUserInfoResponse&gt; .</p>\n</li>\n<li><p>if namespace value in @javax.xml.bind.annotation.XmlSchema and xmlns attribute of root element on xml file mock are the same (in my case &quot;http://address.xxx/tmp/model/consumer&quot;) but are different from attribute namespace in @XmlType annotation in PrepaidUserInfoResponse.java (in my case &quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;) You'll get a response with empty values.</p>\n</li>\n</ol>\n<p>I have also obtained a &quot;java.lang.ClassCastException: javax.xml.bind.JAXBElement cannot be cast to xxx.address.tmp.model.consumer.prepaid.PrepaidUserInfoResponse&quot; but I don't remember on what circustances.</p>\n"}],"owner":{"account_id":2936705,"reputation":69,"user_id":2515445,"accept_rate":33,"display_name":"n3o"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689601173,"creation_date":1689326828,"question_id":76686420,"body_markdown":"I&#39;m working on a project that use SOAP technology and I&#39;m new on this technology. I have the following source files (I have write the source files to be sure that You have a full view of project)\r\n\r\nPanel_Abstract.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;wsdl:definitions xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n\ttargetNamespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\r\n\txmlns:tns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\r\n\txmlns:prepaiduserinfo=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;\r\n\txmlns:panel=&quot;http://address.xxx/tmp/model/consumer&quot;\r\n\tname=&quot;ConsumerPanel&quot;\r\n\txmlns:wsr=&quot;http://www.openuri.org/2002/10/soap/reliability/&quot;\r\n\txmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot; \r\n\txmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\r\n\txmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;\r\n\txmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;\r\n\txmlns:soap12enc=&quot;http://www.w3.org/2003/05/soap-encoding&quot;\r\n\txmlns:conv=&quot;http://www.openuri.org/2002/04/wsdl/conversation/&quot;\r\n\txmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n\txmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n\txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t\r\n\t&lt;wsdl:types&gt;\r\n\t\t&lt;xsd:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t\t\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; schemaLocation=&quot;./Panel.xsd&quot;/&gt;\r\n\t\t\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\r\n\t\t\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; schemaLocation=&quot;./PanelEntitiesPrepaidUserInfo.xsd&quot; /&gt;\r\n\t\t&lt;/xsd:schema&gt;\r\n\t&lt;/wsdl:types&gt;\r\n\r\n\t&lt;wsdl:message name=&quot;getPrepaidUserInfo&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;prepaidUserInfoRequest&quot; element=&quot;tns:getPrepaidUserInfo&quot; /&gt;\r\n\t&lt;/wsdl:message&gt;\r\n\t&lt;wsdl:message name=&quot;getPrepaidUserInfoResponse&quot;&gt;\r\n\t\t&lt;wsdl:part name=&quot;result&quot; element=&quot;tns:getPrepaidUserInfoResponse&quot; /&gt;\r\n\t&lt;/wsdl:message&gt;\r\n\t\r\n\t&lt;wsdl:portType name=&quot;WEBPanelServicesPort&quot;&gt;\r\n\t\t\t&lt;wsdl:operation name=&quot;getPrepaidUserInfo&quot;&gt;\r\n\t\t\t&lt;wsdl:input message=&quot;tns:getPrepaidUserInfo&quot; /&gt;\r\n\t\t\t&lt;wsdl:output message=&quot;tns:getPrepaidUserInfoResponse&quot; /&gt;\r\n\t\t&lt;/wsdl:operation&gt;\r\n\t&lt;/wsdl:portType&gt;\r\n&lt;/wsdl:definitions&gt;\r\n```\r\n\r\nPanel_Concrete.wsdl\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;wsdl:definitions xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n\txmlns:tns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\r\n\ttargetNamespace=http://address.xxx/tmp/model/consumer/panel&quot;\r\n\txmlns:wsr=&quot;http://www.openuri.org/2002/10/soap/reliability/&quot;\r\n\txmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot;\r\n\txmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\r\n\txmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;\r\n\txmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;\r\n\txmlns:soap12enc=&quot;http://www.w3.org/2003/05/soap-encoding&quot;\r\n\txmlns:conv=&quot;http://www.openuri.org/2002/04/wsdl/conversation/&quot;\r\n\txmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\r\n\txmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; \r\n\txmlns:s=&quot;http://www.w3.org/2001/XMLSchema&quot; name=&quot;ConsumerPanel&quot;&gt;\r\n\r\n\t&lt;wsdl:import namespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; location=&quot;./Panel_Abstract.wsdl&quot;/&gt;\r\n\r\n\t&lt;wsdl:binding name=&quot;WEBPanelServicesPort&quot; type=&quot;tns:WEBPanelServicesPort&quot;&gt;\r\n\t\t&lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n\t\t\t&lt;wsdl:operation name=&quot;getPrepaidUserInfo&quot;&gt;\r\n\t\t\t\t&lt;soap:operation soapAction=&quot;getPrepaidUserInfo&quot; style=&quot;document&quot; /&gt;\r\n\t\t\t&lt;wsdl:input&gt;\r\n\t\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t\t&lt;/wsdl:input&gt;\r\n\t\t\t&lt;wsdl:output&gt;\r\n\t\t\t\t&lt;soap:body use=&quot;literal&quot;/&gt;\r\n\t\t\t&lt;/wsdl:output&gt;\r\n\t\t\t&lt;/wsdl:operation&gt;\r\n \t&lt;/wsdl:binding&gt;\r\n\r\n\t&lt;wsdl:service name=&quot;WEBPanelServices&quot;&gt;\r\n\t\t&lt;wsdl:port name=&quot;WEBPanelServicesPort&quot; binding=&quot;tns:WEBPanelServicesPort&quot;&gt;\r\n\t\t\t&lt;soap:address location=&quot;http://localhost:7001/PanelWebService/WEBPanelServices&quot; /&gt;\r\n\t\t&lt;/wsdl:port&gt;\r\n\t&lt;/wsdl:service&gt;\r\n&lt;/wsdl:definitions&gt;\r\n```\r\n\r\nPanel.xsd\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:ns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\r\n\txmlns:panel=&quot;http://address.xxx/tmp/model/consumer&quot;\r\n\txmlns:prepaidUserInfoPanel=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;\r\n\ttargetNamespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\r\n\t\r\n\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; schemaLocation=&quot;./PanelEntitiesPrepaidUserInfo.xsd&quot;/&gt;\r\n\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\r\n\t&lt;xs:element name=&quot;getPrepaidUserInfo&quot; type=&quot;prepaidUserInfoPanel:PrepaidUserInfoRequest&quot; nillable=&quot;true&quot;/&gt;\r\n\t&lt;xs:element name=&quot;getPrepaidUserInfoResponse&quot; type=&quot;prepaidUserInfoPanel:PrepaidUserInfoResponse&quot; nillable=&quot;true&quot;/&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nPanelEntitiesPrepaidUserInfo.xsd\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:prepaiduserinfo=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; \r\n\txmlns:commonPanel=&quot;http://address.xxx/tmp/model/consumer&quot;\r\n\telementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot;\r\n\ttargetNamespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;&gt;\r\n\t&lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\r\n\r\n\t&lt;xs:complexType name=&quot;PrepaidUserInfoRequest&quot;&gt;\r\n\t\t&lt;xs:complexContent&gt;\r\n\t\t\t&lt;xs:extension base=&quot;commonPanel:UserInfoRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;month&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:extension&gt;\r\n\t\t&lt;/xs:complexContent&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\r\n\t&lt;xs:complexType name=&quot;PrepaidUserInfoResponse&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;SIMExpirationDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeBonusAsSeconds&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeBonusAsSecondsExtended&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeFlag&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeGapToBonusAsSeconds&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeRolloverCount&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeRolloverMax&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;bonusAsBytes&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;bonusAsEuros&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;credit&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;creditCompany&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;languageID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;lastCreditSynchDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;lastEventDescription&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;profileID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;profileName&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:int&quot; name=&quot;profileType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;commonPanel:ResponseHeader&quot; name=&quot;responseHeader&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;secondsWonByPromotion&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;smsWonByPromotion&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;trafficAmountEndDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;trafficAmountStartDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;xtensionContractID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;xtensionProfileName&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;prepaiduserinfo:PrepaidXtensionTrafficContainer&quot; name=&quot;xtensionTraffic&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; /&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\r\n\t&lt;xs:complexType name=&quot;PrepaidXtensionTrafficContainer&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;dataBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;dataTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;mmsSentReceivedBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;mmsSentReceivedEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;payformeBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;payformeDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;smsMmsTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;smsMmsTotalEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;smsSentReceivedBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;smsSentReceivedEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;totalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;vasBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceIntercommBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceIntercommDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceInternationalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceInternationalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceNationalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceNationalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceRoamingBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceRoamingDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceTotalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;wapBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element type=&quot;xs:string&quot; name=&quot;wifiBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nConsumerCommonEntities.xsd\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n               xmlns:commonPanel=&quot;http://address.xxx/tmp/model/consumer&quot;\r\n               targetNamespace=&quot;http://address.xxx/tmp/model/consumer&quot;\r\n               elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\r\n        &lt;xs:complexType name=&quot;RequestHeader&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n                &lt;xs:element name=&quot;system&quot; type=&quot;xs:string&quot; nillable=&quot;true&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n                &lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;ResponseHeader&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element name=&quot;responseCode&quot; type=&quot;xs:int&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n   \t\t&lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;BasicUserInfoRequest&quot;&gt;\r\n\t\t&lt;xs:sequence&gt;\r\n\t\t\t&lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element name=&quot;system&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t&lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n\t&lt;xs:complexType name=&quot;UserInfoRequest&quot;&gt;\r\n\t\t&lt;xs:complexContent&gt;\r\n\t\t\t&lt;xs:extension base=&quot;commonPanel:BasicUserInfoRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;sendNotification&quot; type=&quot;xs:int&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:extension&gt;\r\n\t\t&lt;/xs:complexContent&gt;\r\n\t&lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n```\r\n\r\nPrepaidUserInfoResponse.java\r\n\r\n```\r\n//\r\n// Questo file &#232; stato generato dall&#39;Eclipse Implementation of JAXB, v2.3.7 \r\n// Vedere https://eclipse-ee4j.github.io/jaxb-ri \r\n// Qualsiasi modifica a questo file andr&#224; persa durante la ricompilazione dello schema di origine. \r\n// Generato il: 2023.07.06 alle 03:41:54 PM CEST \r\n//\r\n\r\n\r\npackage xxx.address.tmp.model.consumer.prepaid;\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport javax.xml.bind.annotation.XmlType;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\nimport xxx.address.tmp.model.consumer.ResponseHeader;\r\n\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;PrepaidUserInfoResponse&quot;, namespace = &quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;, propOrder = {\r\n    &quot;simExpirationDate&quot;,\r\n    &quot;autoRechargeBonusAsSeconds&quot;,\r\n    &quot;autoRechargeBonusAsSecondsExtended&quot;,\r\n    &quot;autoRechargeFlag&quot;,\r\n    &quot;autoRechargeGapToBonusAsSeconds&quot;,\r\n    &quot;autoRechargeRolloverCount&quot;,\r\n    &quot;autoRechargeRolloverMax&quot;,\r\n    &quot;bonusAsBytes&quot;,\r\n    &quot;bonusAsEuros&quot;,\r\n    &quot;credit&quot;,\r\n    &quot;creditCompany&quot;,\r\n    &quot;languageID&quot;,\r\n    &quot;lastCreditSynchDate&quot;,\r\n    &quot;lastEventDescription&quot;,\r\n    &quot;profileID&quot;,\r\n    &quot;profileName&quot;,\r\n    &quot;profileType&quot;,\r\n    &quot;responseHeader&quot;,\r\n    &quot;secondsWonByPromotion&quot;,\r\n    &quot;smsWonByPromotion&quot;,\r\n    &quot;trafficAmountEndDate&quot;,\r\n    &quot;trafficAmountStartDate&quot;,\r\n    &quot;xtensionContractID&quot;,\r\n    &quot;xtensionProfileName&quot;,\r\n    &quot;xtensionTraffic&quot;\r\n})\r\npublic class PrepaidUserInfoResponse {\r\n\t\r\n\t@JacksonXmlProperty(localName = &quot;SIMExpirationDate&quot;)\r\n    @XmlElement(name = &quot;SIMExpirationDate&quot;, required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String simExpirationDate;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeBonusAsSeconds;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeBonusAsSecondsExtended;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeFlag;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeGapToBonusAsSeconds;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeRolloverCount;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String autoRechargeRolloverMax;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String bonusAsBytes;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String bonusAsEuros;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String credit;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String creditCompany;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String languageID;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String lastCreditSynchDate;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String lastEventDescription;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String profileID;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String profileName;\r\n    @XmlElement(defaultValue = &quot;-1&quot;)\r\n    protected int profileType;\r\n    @XmlElement(required = true, nillable = true)\r\n    protected ResponseHeader responseHeader;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String secondsWonByPromotion;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String smsWonByPromotion;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String trafficAmountEndDate;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String trafficAmountStartDate;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String xtensionContractID;\r\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\r\n    protected String xtensionProfileName;\r\n    @XmlElement(required = true, nillable = true)\r\n    protected PrepaidXtensionTrafficContainer xtensionTraffic;\r\n\r\n    public String getSIMExpirationDate() {\r\n        return simExpirationDate;\r\n    }\r\n\r\n    public void setSIMExpirationDate(String value) {\r\n        this.simExpirationDate = value;\r\n    }\r\n\r\n    //all the rest is all of get and set method\r\n\r\n}\r\n```\r\n\r\nObjectFactory.java\r\n\r\n```\r\n@XmlRegistry\r\npublic class ObjectFactory {\r\n\r\n    private final static QName _GetPrepaidUserInfo_QNAME = new QName(http://address.xxx/tmp/model/consumer/panel&quot;, &quot;getPrepaidUserInfo&quot;);\r\n    private final static QName _GetPrepaidUserInfoResponse_QNAME = new QName(&quot;http://address.xxx/tmp/model/consumer/panel&quot;, &quot;PrepaidUserInfoResponse&quot;);\r\n\t\r\n    public ObjectFactory() {\r\n    }\r\n\r\n    /**\r\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoRequest }{@code &gt;}\r\n     * \r\n     * @param value\r\n     *     Java instance representing xml element&#39;s value.\r\n     * @return\r\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoRequest }{@code &gt;}\r\n     */\r\n    @XmlElementDecl(namespace = &quot;http://address.xxx/tmp/model/consumer/panel&quot;, name = &quot;getPrepaidUserInfo&quot;)\r\n    public JAXBElement&lt;PrepaidUserInfoRequest&gt; createGetPrepaidUserInfo(PrepaidUserInfoRequest value) {\r\n        return new JAXBElement&lt;PrepaidUserInfoRequest&gt;(_GetPrepaidUserInfo_QNAME, PrepaidUserInfoRequest.class, null, value);\r\n    }\r\n\r\n    /**\r\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoResponse }{@code &gt;}\r\n     * \r\n     * @param value\r\n     *     Java instance representing xml element&#39;s value.\r\n     * @return\r\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoResponse }{@code &gt;}\r\n     */\r\n    @XmlElementDecl(namespace = &quot;http://address.xxx/tmp/model/consumer/panel&quot;, name = &quot;PrepaidUserInfoResponse&quot;)\r\n    public JAXBElement&lt;PrepaidUserInfoResponse&gt; createGetPrepaidUserInfoResponse(PrepaidUserInfoResponse value) {\r\n        return new JAXBElement&lt;PrepaidUserInfoResponse&gt;(_GetPrepaidUserInfoResponse_QNAME, PrepaidUserInfoResponse.class, null, value);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPrepaidUserInfoMock.xml\r\n\r\n```\r\n&lt;PrepaidUserInfoResponse xmlns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;&gt;\r\n&lt;SIMExpirationDate&gt;20240707235959&lt;/SIMExpirationDate&gt;\r\n&lt;autoRechargeBonusAsSeconds&gt;-1&lt;/autoRechargeBonusAsSeconds&gt;\r\n&lt;autoRechargeBonusAsSecondsExtended&gt;0&lt;/autoRechargeBonusAsSecondsExtended&gt; \r\n&lt;autoRechargeFlag&gt;0&lt;/autoRechargeFlag&gt;\r\n&lt;autoRechargeGapToBonusAsSeconds&gt;-1&lt;/autoRechargeGapToBonusAsSeconds&gt;\r\n&lt;autoRechargeRolloverCount&gt;-1&lt;/autoRechargeRolloverCount&gt;\r\n&lt;autoRechargeRolloverMax&gt;0x7ff0000000000000L&lt;/autoRechargeRolloverMax&gt;\r\n&lt;bonusAsBytes&gt;-1&lt;/bonusAsBytes&gt;\r\n&lt;bonusAsEuros&gt;0.00&lt;/bonusAsEuros&gt;\r\n&lt;credit&gt;3.02&lt;/credit&gt;\r\n&lt;creditCompany&gt;-1&lt;/creditCompany&gt;\r\n&lt;languageID&gt;1&lt;/languageID&gt;\r\n&lt;lastCreditSynchDate&gt;20230709020514&lt;/lastCreditSynchDate&gt;\r\n&lt;lastEventDescription&gt;Attivazione/rinnovo offerta&lt;/lastEventDescription&gt;\r\n&lt;profileID&gt;286&lt;/profileID&gt;\r\n&lt;profileName&gt;PIANO BLA BLA&lt;/profileName&gt;\r\n&lt;profileType&gt;0&lt;/profileType&gt;\r\n&lt;responseHeader&gt;\r\n\t&lt;msisdn&gt;3388237629&lt;/msisdn&gt;\r\n\t&lt;responseCode&gt;200&lt;/responseCode&gt;\r\n\t&lt;transactionID&gt;3333333333_1111111111146_608.0_239.0&lt;/transactionID&gt;\r\n&lt;/responseHeader&gt;\r\n&lt;secondsWonByPromotion&gt;-1&lt;/secondsWonByPromotion&gt;\r\n&lt;smsWonByPromotion&gt;-1&lt;/smsWonByPromotion&gt;\r\n&lt;trafficAmountEndDate&gt;-1&lt;/trafficAmountEndDate&gt;\r\n&lt;trafficAmountStartDate&gt;-1&lt;/trafficAmountStartDate&gt;\r\n&lt;xtensionContractID&gt;-1&lt;/xtensionContractID&gt;\r\n&lt;xtensionProfileName&gt;-1&lt;/xtensionProfileName&gt;\r\n&lt;xtensionTraffic&gt;\r\n\t&lt;dataBalance&gt;-1&lt;/dataBalance&gt;\r\n\t&lt;dataTotalBalance&gt;-1&lt;/dataTotalBalance&gt;\r\n\t&lt;mmsSentReceivedBalance&gt;-1&lt;/mmsSentReceivedBalance&gt;\r\n\t&lt;mmsSentReceivedEvent&gt;-1&lt;/mmsSentReceivedEvent&gt;\r\n\t&lt;payformeBalance&gt;-1&lt;/payformeBalance&gt;\r\n\t&lt;payformeDuration&gt;-1&lt;/payformeDuration&gt;\r\n\t&lt;smsMmsTotalBalance&gt;-1&lt;/smsMmsTotalBalance&gt;\r\n\t&lt;smsMmsTotalEvent&gt;-1&lt;/smsMmsTotalEvent&gt;\r\n\t&lt;smsSentReceivedBalance&gt;-1&lt;/smsSentReceivedBalance&gt;\r\n\t&lt;smsSentReceivedEvent&gt;-1&lt;/smsSentReceivedEvent&gt;\r\n\t&lt;totalBalance&gt;-1&lt;/totalBalance&gt;\r\n\t&lt;vasBalance&gt;-1&lt;/vasBalance&gt;\r\n\t&lt;voiceIntercommBalance&gt;-1&lt;/voiceIntercommBalance&gt;\r\n\t&lt;voiceIntercommDuration&gt;-1&lt;/voiceIntercommDuration&gt;\r\n\t&lt;voiceInternationalBalance&gt;-1&lt;/voiceInternationalBalance&gt;\r\n\t&lt;voiceInternationalDuration&gt;-1&lt;/voiceInternationalDuration&gt;\r\n\t&lt;voiceNationalBalance&gt;-1&lt;/voiceNationalBalance&gt;\r\n\t&lt;voiceNationalDuration&gt;-1&lt;/voiceNationalDuration&gt;\r\n\t&lt;voiceRoamingBalance&gt;-1&lt;/voiceRoamingBalance&gt;\r\n\t&lt;voiceRoamingDuration&gt;-1&lt;/voiceRoamingDuration&gt;\r\n\t&lt;voiceTotalBalance&gt;-1&lt;/voiceTotalBalance&gt;\r\n\t&lt;voiceTotalDuration&gt;-1&lt;/voiceTotalDuration&gt;\r\n\t&lt;wapBalance&gt;-1&lt;/wapBalance&gt;\r\n\t&lt;wifiBalance&gt;-1&lt;/wifiBalance&gt;\r\n&lt;/xtensionTraffic&gt;\r\n&lt;/PrepaidUserInfoResponse&gt;\r\n```\r\n\r\nWebServiceConfig.java\r\n\r\n```\r\n@EnableWs\r\n@Configuration\r\npublic class WebServiceConfig  extends WsConfigurerAdapter  {\r\n\r\n    protected final Logger logger = LoggerFactory.getLogger(WebServiceConfig.class);\r\n    @Bean\r\n    public ServletRegistrationBean&lt;MessageDispatcherServlet&gt; messageDispatcherServlet(ApplicationContext applicationContext) {\r\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n        servlet.setApplicationContext(applicationContext);\r\n        servlet.setTransformWsdlLocations(true);\r\n        //return new ServletRegistrationBean&lt;&gt;(servlet, &quot;/ws/*&quot;);\r\n        return new ServletRegistrationBean&lt;&gt;(servlet, &quot;/*&quot;);\r\n    }\r\n\r\n   \r\n    @Bean(name = &quot;Panel&quot;)\r\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema panelSchema) {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;WEBPanelServicesPort&quot;);\r\n        //wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://address.xxx/tmp/model/consumer/panel&quot;);\r\n        wsdl11Definition.setServiceName(&quot;WEBPanelServices&quot;);\r\n        wsdl11Definition.setSchema(panelSchema);\r\n        return wsdl11Definition;\r\n    }\r\n    \r\n    @Bean\r\n\tpublic XsdSchema panelSchema() {\r\n\t\treturn new SimpleXsdSchema(new ClassPathResource(&quot;wsdl/Panel.xsd&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nGetPrepaidUserInfoEndPoint.java\r\n\r\n```\r\n@Endpoint\r\npublic class GetPrepaidUserInfoEndPoint {\r\n\tprivate static final String NAMESPACE_URI = &quot;http://address.xxx/tmp/model/consumer/panel&quot;;\r\n\r\n\t@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getPrepaidUserInfo&quot;)\r\n\t@ResponsePayload\r\n\tpublic JAXBElement&lt;PrepaidUserInfoResponse&gt; getPrepaidUserInfo(@RequestPayload PrepaidUserInfoRequest request){\r\n\r\n\t\tJAXBElement&lt;PrepaidUserInfoResponse&gt; prepaidUserInfo = null;\r\n\t\txxx.address.tmp.model.consumer.prepaid.ObjectFactory factory = new xxx.address.tmp.model.consumer.prepaid.ObjectFactory();\r\n\t\tObjectFactory factoryPanel = new ObjectFactory();\r\n\t\tPrepaidUserInfoResponse response = factory.createPrepaidUserInfoResponse();\r\n\t\t\r\n\t\tURL resource = getClass().getClassLoader().getResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;);\r\n\r\n\t\tFile mock;\r\n\t\ttry {\r\n\t\t\tmock = new File(resource.toURI());\r\n\t\t\r\n\t\t\tJAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\r\n\t\t\tjavax.xml.bind.Unmarshaller unmarshaller = context.createUnmarshaller();\r\n\t\t\tresponse = (PrepaidUserInfoResponse) unmarshaller.unmarshal(mock);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(e.toString());\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tprepaidUserInfo = factoryPanel.createGetPrepaidUserInfoResponse(response);\r\n\t\t}\r\n\t\treturn prepaidUserInfo;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have cutted all the possible lines of code to reduce the size. When call the endpoint from soapui I&#39;ll get &quot;java.lang.ClassCastException: javax.xml.bind.JAXBElement cannot be cast to xxx.address.tmp.model.consumer.prepaid.PrepaidUserInfoResponse&quot; error. What is the cause ?\r\n\r\nAfter that, can You check if the 2 wsdl, Panel.xsd and WebServiceConfig.java are conceptual correct? (for example in WebServiceConfig.java class, the XsdSchema panelSchema parameter name in defaultWsdl11Definition should match with @Bean\r\n    public XsdSchema panelSchema() method more under, but if name doesn&#39;t match compiler however give &quot;Build success&quot;)","title":"java.lang.ClassCastException error when I make xml unmarshaling of a mock endpoint","body":"<p>I'm working on a project that use SOAP technology and I'm new on this technology. I have the following source files (I have write the source files to be sure that You have a full view of project)</p>\n<p>Panel_Abstract.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wsdl:definitions xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n    targetNamespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\n    xmlns:tns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\n    xmlns:prepaiduserinfo=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;\n    xmlns:panel=&quot;http://address.xxx/tmp/model/consumer&quot;\n    name=&quot;ConsumerPanel&quot;\n    xmlns:wsr=&quot;http://www.openuri.org/2002/10/soap/reliability/&quot;\n    xmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot; \n    xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\n    xmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;\n    xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;\n    xmlns:soap12enc=&quot;http://www.w3.org/2003/05/soap-encoding&quot;\n    xmlns:conv=&quot;http://www.openuri.org/2002/04/wsdl/conversation/&quot;\n    xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n    xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    \n    &lt;wsdl:types&gt;\n        &lt;xsd:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n            &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; schemaLocation=&quot;./Panel.xsd&quot;/&gt;\n            &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\n            &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; schemaLocation=&quot;./PanelEntitiesPrepaidUserInfo.xsd&quot; /&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/wsdl:types&gt;\n\n    &lt;wsdl:message name=&quot;getPrepaidUserInfo&quot;&gt;\n        &lt;wsdl:part name=&quot;prepaidUserInfoRequest&quot; element=&quot;tns:getPrepaidUserInfo&quot; /&gt;\n    &lt;/wsdl:message&gt;\n    &lt;wsdl:message name=&quot;getPrepaidUserInfoResponse&quot;&gt;\n        &lt;wsdl:part name=&quot;result&quot; element=&quot;tns:getPrepaidUserInfoResponse&quot; /&gt;\n    &lt;/wsdl:message&gt;\n    \n    &lt;wsdl:portType name=&quot;WEBPanelServicesPort&quot;&gt;\n            &lt;wsdl:operation name=&quot;getPrepaidUserInfo&quot;&gt;\n            &lt;wsdl:input message=&quot;tns:getPrepaidUserInfo&quot; /&gt;\n            &lt;wsdl:output message=&quot;tns:getPrepaidUserInfoResponse&quot; /&gt;\n        &lt;/wsdl:operation&gt;\n    &lt;/wsdl:portType&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n<p>Panel_Concrete.wsdl</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wsdl:definitions xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n    xmlns:tns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\n    targetNamespace=http://address.xxx/tmp/model/consumer/panel&quot;\n    xmlns:wsr=&quot;http://www.openuri.org/2002/10/soap/reliability/&quot;\n    xmlns:mime=&quot;http://schemas.xmlsoap.org/wsdl/mime/&quot;\n    xmlns:soap12=&quot;http://schemas.xmlsoap.org/wsdl/soap12/&quot;\n    xmlns:http=&quot;http://schemas.xmlsoap.org/wsdl/http/&quot;\n    xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;\n    xmlns:soap12enc=&quot;http://www.w3.org/2003/05/soap-encoding&quot;\n    xmlns:conv=&quot;http://www.openuri.org/2002/04/wsdl/conversation/&quot;\n    xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;\n    xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; \n    xmlns:s=&quot;http://www.w3.org/2001/XMLSchema&quot; name=&quot;ConsumerPanel&quot;&gt;\n\n    &lt;wsdl:import namespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; location=&quot;./Panel_Abstract.wsdl&quot;/&gt;\n\n    &lt;wsdl:binding name=&quot;WEBPanelServicesPort&quot; type=&quot;tns:WEBPanelServicesPort&quot;&gt;\n        &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n            &lt;wsdl:operation name=&quot;getPrepaidUserInfo&quot;&gt;\n                &lt;soap:operation soapAction=&quot;getPrepaidUserInfo&quot; style=&quot;document&quot; /&gt;\n            &lt;wsdl:input&gt;\n                &lt;soap:body use=&quot;literal&quot;/&gt;\n            &lt;/wsdl:input&gt;\n            &lt;wsdl:output&gt;\n                &lt;soap:body use=&quot;literal&quot;/&gt;\n            &lt;/wsdl:output&gt;\n            &lt;/wsdl:operation&gt;\n    &lt;/wsdl:binding&gt;\n\n    &lt;wsdl:service name=&quot;WEBPanelServices&quot;&gt;\n        &lt;wsdl:port name=&quot;WEBPanelServicesPort&quot; binding=&quot;tns:WEBPanelServicesPort&quot;&gt;\n            &lt;soap:address location=&quot;http://localhost:7001/PanelWebService/WEBPanelServices&quot; /&gt;\n        &lt;/wsdl:port&gt;\n    &lt;/wsdl:service&gt;\n&lt;/wsdl:definitions&gt;\n</code></pre>\n<p>Panel.xsd</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:ns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;\n    xmlns:panel=&quot;http://address.xxx/tmp/model/consumer&quot;\n    xmlns:prepaidUserInfoPanel=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;\n    targetNamespace=&quot;http://address.xxx/tmp/model/consumer/panel&quot; elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\n    \n    &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; schemaLocation=&quot;./PanelEntitiesPrepaidUserInfo.xsd&quot;/&gt;\n    &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\n    &lt;xs:element name=&quot;getPrepaidUserInfo&quot; type=&quot;prepaidUserInfoPanel:PrepaidUserInfoRequest&quot; nillable=&quot;true&quot;/&gt;\n    &lt;xs:element name=&quot;getPrepaidUserInfoResponse&quot; type=&quot;prepaidUserInfoPanel:PrepaidUserInfoResponse&quot; nillable=&quot;true&quot;/&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>PanelEntitiesPrepaidUserInfo.xsd</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:prepaiduserinfo=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot; \n    xmlns:commonPanel=&quot;http://address.xxx/tmp/model/consumer&quot;\n    elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot;\n    targetNamespace=&quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;&gt;\n    &lt;xs:import namespace=&quot;http://address.xxx/tmp/model/consumer&quot; schemaLocation=&quot;./ConsumerCommonEntities.xsd&quot;/&gt;\n\n    &lt;xs:complexType name=&quot;PrepaidUserInfoRequest&quot;&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=&quot;commonPanel:UserInfoRequest&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element type=&quot;xs:string&quot; name=&quot;month&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;PrepaidUserInfoResponse&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;SIMExpirationDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeBonusAsSeconds&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeBonusAsSecondsExtended&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeFlag&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeGapToBonusAsSeconds&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeRolloverCount&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;autoRechargeRolloverMax&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;bonusAsBytes&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;bonusAsEuros&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;credit&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;creditCompany&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;languageID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;lastCreditSynchDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;lastEventDescription&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;profileID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;profileName&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:int&quot; name=&quot;profileType&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;commonPanel:ResponseHeader&quot; name=&quot;responseHeader&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;secondsWonByPromotion&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;smsWonByPromotion&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;trafficAmountEndDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;trafficAmountStartDate&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;xtensionContractID&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;xtensionProfileName&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;prepaiduserinfo:PrepaidXtensionTrafficContainer&quot; name=&quot;xtensionTraffic&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n\n    &lt;xs:complexType name=&quot;PrepaidXtensionTrafficContainer&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;dataBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;dataTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;mmsSentReceivedBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;mmsSentReceivedEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;payformeBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;payformeDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;smsMmsTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;smsMmsTotalEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;smsSentReceivedBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;smsSentReceivedEvent&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;totalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;vasBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceIntercommBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceIntercommDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceInternationalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceInternationalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceNationalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceNationalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceRoamingBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceRoamingDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceTotalBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;voiceTotalDuration&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;wapBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element type=&quot;xs:string&quot; name=&quot;wifiBalance&quot; minOccurs=&quot;1&quot; nillable=&quot;true&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>ConsumerCommonEntities.xsd</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n               xmlns:commonPanel=&quot;http://address.xxx/tmp/model/consumer&quot;\n               targetNamespace=&quot;http://address.xxx/tmp/model/consumer&quot;\n               elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\n        &lt;xs:complexType name=&quot;RequestHeader&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n                &lt;xs:element name=&quot;system&quot; type=&quot;xs:string&quot; nillable=&quot;true&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n                &lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; nillable=&quot;false&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;ResponseHeader&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element name=&quot;responseCode&quot; type=&quot;xs:int&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\n        &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;BasicUserInfoRequest&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element name=&quot;system&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\n            &lt;xs:element name=&quot;transactionID&quot; type=&quot;xs:string&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; nillable=&quot;true&quot; default=&quot;-1&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;UserInfoRequest&quot;&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=&quot;commonPanel:BasicUserInfoRequest&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;sendNotification&quot; type=&quot;xs:int&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; default=&quot;-1&quot; /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n    &lt;/xs:schema&gt;\n</code></pre>\n<p>PrepaidUserInfoResponse.java</p>\n<pre><code>//\n// Questo file è stato generato dall'Eclipse Implementation of JAXB, v2.3.7 \n// Vedere https://eclipse-ee4j.github.io/jaxb-ri \n// Qualsiasi modifica a questo file andrà persa durante la ricompilazione dello schema di origine. \n// Generato il: 2023.07.06 alle 03:41:54 PM CEST \n//\n\n\npackage xxx.address.tmp.model.consumer.prepaid;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\nimport xxx.address.tmp.model.consumer.ResponseHeader;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;PrepaidUserInfoResponse&quot;, namespace = &quot;http://address.xxx/tmp/model/consumer/prepaid/userinfo&quot;, propOrder = {\n    &quot;simExpirationDate&quot;,\n    &quot;autoRechargeBonusAsSeconds&quot;,\n    &quot;autoRechargeBonusAsSecondsExtended&quot;,\n    &quot;autoRechargeFlag&quot;,\n    &quot;autoRechargeGapToBonusAsSeconds&quot;,\n    &quot;autoRechargeRolloverCount&quot;,\n    &quot;autoRechargeRolloverMax&quot;,\n    &quot;bonusAsBytes&quot;,\n    &quot;bonusAsEuros&quot;,\n    &quot;credit&quot;,\n    &quot;creditCompany&quot;,\n    &quot;languageID&quot;,\n    &quot;lastCreditSynchDate&quot;,\n    &quot;lastEventDescription&quot;,\n    &quot;profileID&quot;,\n    &quot;profileName&quot;,\n    &quot;profileType&quot;,\n    &quot;responseHeader&quot;,\n    &quot;secondsWonByPromotion&quot;,\n    &quot;smsWonByPromotion&quot;,\n    &quot;trafficAmountEndDate&quot;,\n    &quot;trafficAmountStartDate&quot;,\n    &quot;xtensionContractID&quot;,\n    &quot;xtensionProfileName&quot;,\n    &quot;xtensionTraffic&quot;\n})\npublic class PrepaidUserInfoResponse {\n    \n    @JacksonXmlProperty(localName = &quot;SIMExpirationDate&quot;)\n    @XmlElement(name = &quot;SIMExpirationDate&quot;, required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String simExpirationDate;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeBonusAsSeconds;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeBonusAsSecondsExtended;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeFlag;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeGapToBonusAsSeconds;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeRolloverCount;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String autoRechargeRolloverMax;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String bonusAsBytes;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String bonusAsEuros;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String credit;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String creditCompany;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String languageID;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String lastCreditSynchDate;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String lastEventDescription;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String profileID;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String profileName;\n    @XmlElement(defaultValue = &quot;-1&quot;)\n    protected int profileType;\n    @XmlElement(required = true, nillable = true)\n    protected ResponseHeader responseHeader;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String secondsWonByPromotion;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String smsWonByPromotion;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String trafficAmountEndDate;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String trafficAmountStartDate;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String xtensionContractID;\n    @XmlElement(required = true, defaultValue = &quot;-1&quot;, nillable = true)\n    protected String xtensionProfileName;\n    @XmlElement(required = true, nillable = true)\n    protected PrepaidXtensionTrafficContainer xtensionTraffic;\n\n    public String getSIMExpirationDate() {\n        return simExpirationDate;\n    }\n\n    public void setSIMExpirationDate(String value) {\n        this.simExpirationDate = value;\n    }\n\n    //all the rest is all of get and set method\n\n}\n</code></pre>\n<p>ObjectFactory.java</p>\n<pre><code>@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _GetPrepaidUserInfo_QNAME = new QName(http://address.xxx/tmp/model/consumer/panel&quot;, &quot;getPrepaidUserInfo&quot;);\n    private final static QName _GetPrepaidUserInfoResponse_QNAME = new QName(&quot;http://address.xxx/tmp/model/consumer/panel&quot;, &quot;PrepaidUserInfoResponse&quot;);\n    \n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoRequest }{@code &gt;}\n     * \n     * @param value\n     *     Java instance representing xml element's value.\n     * @return\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoRequest }{@code &gt;}\n     */\n    @XmlElementDecl(namespace = &quot;http://address.xxx/tmp/model/consumer/panel&quot;, name = &quot;getPrepaidUserInfo&quot;)\n    public JAXBElement&lt;PrepaidUserInfoRequest&gt; createGetPrepaidUserInfo(PrepaidUserInfoRequest value) {\n        return new JAXBElement&lt;PrepaidUserInfoRequest&gt;(_GetPrepaidUserInfo_QNAME, PrepaidUserInfoRequest.class, null, value);\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoResponse }{@code &gt;}\n     * \n     * @param value\n     *     Java instance representing xml element's value.\n     * @return\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link PrepaidUserInfoResponse }{@code &gt;}\n     */\n    @XmlElementDecl(namespace = &quot;http://address.xxx/tmp/model/consumer/panel&quot;, name = &quot;PrepaidUserInfoResponse&quot;)\n    public JAXBElement&lt;PrepaidUserInfoResponse&gt; createGetPrepaidUserInfoResponse(PrepaidUserInfoResponse value) {\n        return new JAXBElement&lt;PrepaidUserInfoResponse&gt;(_GetPrepaidUserInfoResponse_QNAME, PrepaidUserInfoResponse.class, null, value);\n    }\n\n}\n</code></pre>\n<p>PrepaidUserInfoMock.xml</p>\n<pre><code>&lt;PrepaidUserInfoResponse xmlns=&quot;http://address.xxx/tmp/model/consumer/panel&quot;&gt;\n&lt;SIMExpirationDate&gt;20240707235959&lt;/SIMExpirationDate&gt;\n&lt;autoRechargeBonusAsSeconds&gt;-1&lt;/autoRechargeBonusAsSeconds&gt;\n&lt;autoRechargeBonusAsSecondsExtended&gt;0&lt;/autoRechargeBonusAsSecondsExtended&gt; \n&lt;autoRechargeFlag&gt;0&lt;/autoRechargeFlag&gt;\n&lt;autoRechargeGapToBonusAsSeconds&gt;-1&lt;/autoRechargeGapToBonusAsSeconds&gt;\n&lt;autoRechargeRolloverCount&gt;-1&lt;/autoRechargeRolloverCount&gt;\n&lt;autoRechargeRolloverMax&gt;0x7ff0000000000000L&lt;/autoRechargeRolloverMax&gt;\n&lt;bonusAsBytes&gt;-1&lt;/bonusAsBytes&gt;\n&lt;bonusAsEuros&gt;0.00&lt;/bonusAsEuros&gt;\n&lt;credit&gt;3.02&lt;/credit&gt;\n&lt;creditCompany&gt;-1&lt;/creditCompany&gt;\n&lt;languageID&gt;1&lt;/languageID&gt;\n&lt;lastCreditSynchDate&gt;20230709020514&lt;/lastCreditSynchDate&gt;\n&lt;lastEventDescription&gt;Attivazione/rinnovo offerta&lt;/lastEventDescription&gt;\n&lt;profileID&gt;286&lt;/profileID&gt;\n&lt;profileName&gt;PIANO BLA BLA&lt;/profileName&gt;\n&lt;profileType&gt;0&lt;/profileType&gt;\n&lt;responseHeader&gt;\n    &lt;msisdn&gt;3388237629&lt;/msisdn&gt;\n    &lt;responseCode&gt;200&lt;/responseCode&gt;\n    &lt;transactionID&gt;3333333333_1111111111146_608.0_239.0&lt;/transactionID&gt;\n&lt;/responseHeader&gt;\n&lt;secondsWonByPromotion&gt;-1&lt;/secondsWonByPromotion&gt;\n&lt;smsWonByPromotion&gt;-1&lt;/smsWonByPromotion&gt;\n&lt;trafficAmountEndDate&gt;-1&lt;/trafficAmountEndDate&gt;\n&lt;trafficAmountStartDate&gt;-1&lt;/trafficAmountStartDate&gt;\n&lt;xtensionContractID&gt;-1&lt;/xtensionContractID&gt;\n&lt;xtensionProfileName&gt;-1&lt;/xtensionProfileName&gt;\n&lt;xtensionTraffic&gt;\n    &lt;dataBalance&gt;-1&lt;/dataBalance&gt;\n    &lt;dataTotalBalance&gt;-1&lt;/dataTotalBalance&gt;\n    &lt;mmsSentReceivedBalance&gt;-1&lt;/mmsSentReceivedBalance&gt;\n    &lt;mmsSentReceivedEvent&gt;-1&lt;/mmsSentReceivedEvent&gt;\n    &lt;payformeBalance&gt;-1&lt;/payformeBalance&gt;\n    &lt;payformeDuration&gt;-1&lt;/payformeDuration&gt;\n    &lt;smsMmsTotalBalance&gt;-1&lt;/smsMmsTotalBalance&gt;\n    &lt;smsMmsTotalEvent&gt;-1&lt;/smsMmsTotalEvent&gt;\n    &lt;smsSentReceivedBalance&gt;-1&lt;/smsSentReceivedBalance&gt;\n    &lt;smsSentReceivedEvent&gt;-1&lt;/smsSentReceivedEvent&gt;\n    &lt;totalBalance&gt;-1&lt;/totalBalance&gt;\n    &lt;vasBalance&gt;-1&lt;/vasBalance&gt;\n    &lt;voiceIntercommBalance&gt;-1&lt;/voiceIntercommBalance&gt;\n    &lt;voiceIntercommDuration&gt;-1&lt;/voiceIntercommDuration&gt;\n    &lt;voiceInternationalBalance&gt;-1&lt;/voiceInternationalBalance&gt;\n    &lt;voiceInternationalDuration&gt;-1&lt;/voiceInternationalDuration&gt;\n    &lt;voiceNationalBalance&gt;-1&lt;/voiceNationalBalance&gt;\n    &lt;voiceNationalDuration&gt;-1&lt;/voiceNationalDuration&gt;\n    &lt;voiceRoamingBalance&gt;-1&lt;/voiceRoamingBalance&gt;\n    &lt;voiceRoamingDuration&gt;-1&lt;/voiceRoamingDuration&gt;\n    &lt;voiceTotalBalance&gt;-1&lt;/voiceTotalBalance&gt;\n    &lt;voiceTotalDuration&gt;-1&lt;/voiceTotalDuration&gt;\n    &lt;wapBalance&gt;-1&lt;/wapBalance&gt;\n    &lt;wifiBalance&gt;-1&lt;/wifiBalance&gt;\n&lt;/xtensionTraffic&gt;\n&lt;/PrepaidUserInfoResponse&gt;\n</code></pre>\n<p>WebServiceConfig.java</p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig  extends WsConfigurerAdapter  {\n\n    protected final Logger logger = LoggerFactory.getLogger(WebServiceConfig.class);\n    @Bean\n    public ServletRegistrationBean&lt;MessageDispatcherServlet&gt; messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        //return new ServletRegistrationBean&lt;&gt;(servlet, &quot;/ws/*&quot;);\n        return new ServletRegistrationBean&lt;&gt;(servlet, &quot;/*&quot;);\n    }\n\n   \n    @Bean(name = &quot;Panel&quot;)\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema panelSchema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;WEBPanelServicesPort&quot;);\n        //wsdl11Definition.setLocationUri(&quot;/ws&quot;);\n        wsdl11Definition.setLocationUri(&quot;/&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;http://address.xxx/tmp/model/consumer/panel&quot;);\n        wsdl11Definition.setServiceName(&quot;WEBPanelServices&quot;);\n        wsdl11Definition.setSchema(panelSchema);\n        return wsdl11Definition;\n    }\n    \n    @Bean\n    public XsdSchema panelSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(&quot;wsdl/Panel.xsd&quot;));\n    }\n}\n</code></pre>\n<p>GetPrepaidUserInfoEndPoint.java</p>\n<pre><code>@Endpoint\npublic class GetPrepaidUserInfoEndPoint {\n    private static final String NAMESPACE_URI = &quot;http://address.xxx/tmp/model/consumer/panel&quot;;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getPrepaidUserInfo&quot;)\n    @ResponsePayload\n    public JAXBElement&lt;PrepaidUserInfoResponse&gt; getPrepaidUserInfo(@RequestPayload PrepaidUserInfoRequest request){\n\n        JAXBElement&lt;PrepaidUserInfoResponse&gt; prepaidUserInfo = null;\n        xxx.address.tmp.model.consumer.prepaid.ObjectFactory factory = new xxx.address.tmp.model.consumer.prepaid.ObjectFactory();\n        ObjectFactory factoryPanel = new ObjectFactory();\n        PrepaidUserInfoResponse response = factory.createPrepaidUserInfoResponse();\n        \n        URL resource = getClass().getClassLoader().getResource(&quot;fallback/PrepaidUserInfoMock.xml&quot;);\n\n        File mock;\n        try {\n            mock = new File(resource.toURI());\n        \n            JAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\n            javax.xml.bind.Unmarshaller unmarshaller = context.createUnmarshaller();\n            response = (PrepaidUserInfoResponse) unmarshaller.unmarshal(mock);\n        } catch (Exception e) {\n            logger.error(e.toString());\n        }\n        finally {\n            prepaidUserInfo = factoryPanel.createGetPrepaidUserInfoResponse(response);\n        }\n        return prepaidUserInfo;\n    }\n\n}\n</code></pre>\n<p>I have cutted all the possible lines of code to reduce the size. When call the endpoint from soapui I'll get &quot;java.lang.ClassCastException: javax.xml.bind.JAXBElement cannot be cast to xxx.address.tmp.model.consumer.prepaid.PrepaidUserInfoResponse&quot; error. What is the cause ?</p>\n<p>After that, can You check if the 2 wsdl, Panel.xsd and WebServiceConfig.java are conceptual correct? (for example in WebServiceConfig.java class, the XsdSchema panelSchema parameter name in defaultWsdl11Definition should match with @Bean\npublic XsdSchema panelSchema() method more under, but if name doesn't match compiler however give &quot;Build success&quot;)</p>\n"},{"tags":["java","apache-kafka-streams","topology"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689600617,"creation_date":1689513818,"answer_id":76698497,"question_id":76698450,"body_markdown":"I may assume, you just haven&#39;t specified the default value `Serde` in the `StreamsConfig`. While you have defined the Serdes for your specific classes MyObject1, MyObject2, and MyObject3, Kafka Streams also require a default Serde to be set. And even if you&#39;re not running anything on remote, you&#39;d need to have local properties anyway, something like this might help:\r\n```java\r\nProperties props = new Properties();\r\nprops.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;my-app-id&quot;);\r\nprops.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\nprops.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\nprops.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n```\r\n\r\n","title":"KafkaStreams doesn&#39;t accept my serde in StreamsConfig","body":"<p>I may assume, you just haven't specified the default value <code>Serde</code> in the <code>StreamsConfig</code>. While you have defined the Serdes for your specific classes MyObject1, MyObject2, and MyObject3, Kafka Streams also require a default Serde to be set. And even if you're not running anything on remote, you'd need to have local properties anyway, something like this might help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = new Properties();\nprops.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;my-app-id&quot;);\nprops.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\nprops.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\nprops.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n</code></pre>\n"}],"owner":{"account_id":29027912,"reputation":35,"user_id":22235630,"display_name":"icardiyolog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76698497,"answer_count":1,"score":0,"last_activity_date":1689600617,"creation_date":1689513375,"question_id":76698450,"body_markdown":"I am trying to merge data by id (Id is a String in the objects) in 2 topics and creating another topic to write the merged data. In my topology, I do not have any Properties configurations since I am not running it on remote yet. Just trying to test it in a unit test with Mockito and JUnit5. \r\n\r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n    testDriver = new TopologyTestDriver(myTopology.buildTopology());\r\n\r\n    Serde&lt;MyObject1&gt; myObject1Serde = new JsonSerde&lt;&gt;(MyObject1.class);\r\n    Serde&lt;MyObject2&gt; myObject2Serde = new JsonSerde&lt;&gt;(MyObject2.class);\r\n    Serde&lt;MyObject3&gt; myObject3Serde = new JsonSerde&lt;&gt;(MyObject3.class);\r\n\r\n    // It goes like creating input topics and serializing, creating output topic and deserializing it like that:\r\n    myObject1Topic = testDriver.createInputTopic(\r\n        MyTopology.FIRST_INPUT_TOPIC,\r\n        Serdes.String().serializer(),\r\n        myObject1Serde.serializer()\r\n    );\r\n\r\n    // ... same for the other 2 objects\r\n}\r\n```\r\nWhen I run that, it gives me this error: \r\n\r\n```log\r\n16:00:02.424 [main] WARN org.apache.kafka.streams.processor.internals.StateDirectory -- Using an OS temp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS. Resolved state.dir: [/var/folders/dn/f006xw_d4_7f9p5bbywpdxyh0000gp/T//kafka-streams]\r\n\r\norg.apache.kafka.common.config.ConfigException: Please specify a value serde or set one through StreamsConfig#DEFAULT_VALUE_SERDE_CLASS_CONFIG\r\n\tat org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:1769)\r\n\tat org.apache.kafka.streams.processor.internals.AbstractProcessorContext.valueSerde(AbstractProcessorContext.java:100)\r\n\tat org.apache.kafka.streams.processor.internals.SerdeGetter.valueSerde(SerdeGetter.java:51)\r\n\tat org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareSerde(WrappingNullableUtils.java:63)\r\n\tat org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareValueSerde(WrappingNullableUtils.java:94)\r\n\tat org.apache.kafka.streams.state.internals.MeteredWindowStore.prepareValueSerde(MeteredWindowStore.java:145)\r\n\tat org.apache.kafka.streams.state.internals.MeteredWindowStore.initStoreSerde(MeteredWindowStore.java:171)\r\n\tat org.apache.kafka.streams.state.internals.MeteredWindowStore.init(MeteredWindowStore.java:134)\r\n\tat org.apache.kafka.streams.processor.internals.ProcessorStateManager.registerStateStores(ProcessorStateManager.java:219)\r\n\tat org.apache.kafka.streams.processor.internals.StateManagerUtil.registerStateStores(StateManagerUtil.java:99)\r\n\tat org.apache.kafka.streams.processor.internals.StreamTask.initializeIfNeeded(StreamTask.java:227)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.setupTask(TopologyTestDriver.java:525)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:372)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:299)\r\n\tat org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:275)\r\n\tat com.overspentblocker.overspentblocker.topology.OverspentTopologyTest.setUp(MyTopologyTest.java:46)\r\n```\r\n\r\nI assume that it is related to my topology and I am trying to understand Serdes, thanks for your help in advance. \r\n\r\n\r\nI was trying to test my topology and I was expecting to merge data and assert them if it is working good.","title":"KafkaStreams doesn&#39;t accept my serde in StreamsConfig","body":"<p>I am trying to merge data by id (Id is a String in the objects) in 2 topics and creating another topic to write the merged data. In my topology, I do not have any Properties configurations since I am not running it on remote yet. Just trying to test it in a unit test with Mockito and JUnit5.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n    testDriver = new TopologyTestDriver(myTopology.buildTopology());\n\n    Serde&lt;MyObject1&gt; myObject1Serde = new JsonSerde&lt;&gt;(MyObject1.class);\n    Serde&lt;MyObject2&gt; myObject2Serde = new JsonSerde&lt;&gt;(MyObject2.class);\n    Serde&lt;MyObject3&gt; myObject3Serde = new JsonSerde&lt;&gt;(MyObject3.class);\n\n    // It goes like creating input topics and serializing, creating output topic and deserializing it like that:\n    myObject1Topic = testDriver.createInputTopic(\n        MyTopology.FIRST_INPUT_TOPIC,\n        Serdes.String().serializer(),\n        myObject1Serde.serializer()\n    );\n\n    // ... same for the other 2 objects\n}\n</code></pre>\n<p>When I run that, it gives me this error:</p>\n<pre><code>16:00:02.424 [main] WARN org.apache.kafka.streams.processor.internals.StateDirectory -- Using an OS temp directory in the state.dir property can cause failures with writing the checkpoint file due to the fact that this directory can be cleared by the OS. Resolved state.dir: [/var/folders/dn/f006xw_d4_7f9p5bbywpdxyh0000gp/T//kafka-streams]\n\norg.apache.kafka.common.config.ConfigException: Please specify a value serde or set one through StreamsConfig#DEFAULT_VALUE_SERDE_CLASS_CONFIG\n    at org.apache.kafka.streams.StreamsConfig.defaultValueSerde(StreamsConfig.java:1769)\n    at org.apache.kafka.streams.processor.internals.AbstractProcessorContext.valueSerde(AbstractProcessorContext.java:100)\n    at org.apache.kafka.streams.processor.internals.SerdeGetter.valueSerde(SerdeGetter.java:51)\n    at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareSerde(WrappingNullableUtils.java:63)\n    at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareValueSerde(WrappingNullableUtils.java:94)\n    at org.apache.kafka.streams.state.internals.MeteredWindowStore.prepareValueSerde(MeteredWindowStore.java:145)\n    at org.apache.kafka.streams.state.internals.MeteredWindowStore.initStoreSerde(MeteredWindowStore.java:171)\n    at org.apache.kafka.streams.state.internals.MeteredWindowStore.init(MeteredWindowStore.java:134)\n    at org.apache.kafka.streams.processor.internals.ProcessorStateManager.registerStateStores(ProcessorStateManager.java:219)\n    at org.apache.kafka.streams.processor.internals.StateManagerUtil.registerStateStores(StateManagerUtil.java:99)\n    at org.apache.kafka.streams.processor.internals.StreamTask.initializeIfNeeded(StreamTask.java:227)\n    at org.apache.kafka.streams.TopologyTestDriver.setupTask(TopologyTestDriver.java:525)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:372)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:299)\n    at org.apache.kafka.streams.TopologyTestDriver.&lt;init&gt;(TopologyTestDriver.java:275)\n    at com.overspentblocker.overspentblocker.topology.OverspentTopologyTest.setUp(MyTopologyTest.java:46)\n</code></pre>\n<p>I assume that it is related to my topology and I am trying to understand Serdes, thanks for your help in advance.</p>\n<p>I was trying to test my topology and I was expecting to merge data and assert them if it is working good.</p>\n"},{"tags":["java","dll"],"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689600569,"creation_date":1689600355,"question_id":76704943,"body_markdown":"I&#39;m trying to import a `.DLL` into Java project by using jni4net.\r\n\r\nCommand I run: `proxygen [path_to_my_dll_file] -wd [directory_output_files]`\r\n\r\nCommand return error\r\n\r\n```\r\nSystem.BadImageFormatException: Could not load file or assembly &#39;file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll&#39; or one of its dependencies. The module was expected to contain an assembly manifest.\r\nFile name: &#39;file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll&#39;\r\n   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\r\n   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\r\n   at System.Reflection.RuntimeAssembly.InternalLoadFrom(String assemblyFile, Evidence securityEvidence, Byte[] hashValue, AssemblyHashAlgorithm hashAlgorithm, Boolean forIntrospection, Boolean suppressSecurityChecks, StackCrawlMark&amp; stackMark)\r\n   at System.Reflection.Assembly.LoadFrom(String assemblyFile)\r\n   at net.sf.jni4net.proxygen.model.Repository.LoadFile(String file)\r\n   at net.sf.jni4net.proxygen.model.Repository.LoadAssemblies()\r\n   at net.sf.jni4net.proxygen.model.Repository.Register()\r\n   at net.sf.jni4net.proxygen.Program.Work(String[] args)\r\n   at net.sf.jni4net.proxygen.Program.Main(String[] args)\r\n\r\nWRN: Assembly binding logging is turned OFF.\r\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\r\nNote: There is some performance penalty associated with assembly bind failure logging.\r\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\r\n```\r\n\r\nI&#39;ve done some researches and all of its said because different of platform x64 and x86 but I have checked again that my `.dll` file was built in x64.\r\n\r\n- I also tested with JNA (Java Native Access), and it works. But now, I need to test my dll with jni4net (or normal JNI)\r\n\r\n- I also try to use absolute path when run `proxygen` or use double backslash `\\\\` but none of them work\r\n\r\nI&#39;m new to Java and C++ with .dll. Can someone help please","title":"jni4net return error System.BadImageFormatException: Could not load file or assembly or one of its dependencies","body":"<p>I'm trying to import a <code>.DLL</code> into Java project by using jni4net.</p>\n<p>Command I run: <code>proxygen [path_to_my_dll_file] -wd [directory_output_files]</code></p>\n<p>Command return error</p>\n<pre><code>System.BadImageFormatException: Could not load file or assembly 'file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll' or one of its dependencies. The module was expected to contain an assembly manifest.\nFile name: 'file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll'\n   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoadFrom(String assemblyFile, Evidence securityEvidence, Byte[] hashValue, AssemblyHashAlgorithm hashAlgorithm, Boolean forIntrospection, Boolean suppressSecurityChecks, StackCrawlMark&amp; stackMark)\n   at System.Reflection.Assembly.LoadFrom(String assemblyFile)\n   at net.sf.jni4net.proxygen.model.Repository.LoadFile(String file)\n   at net.sf.jni4net.proxygen.model.Repository.LoadAssemblies()\n   at net.sf.jni4net.proxygen.model.Repository.Register()\n   at net.sf.jni4net.proxygen.Program.Work(String[] args)\n   at net.sf.jni4net.proxygen.Program.Main(String[] args)\n\nWRN: Assembly binding logging is turned OFF.\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\nNote: There is some performance penalty associated with assembly bind failure logging.\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\n</code></pre>\n<p>I've done some researches and all of its said because different of platform x64 and x86 but I have checked again that my <code>.dll</code> file was built in x64.</p>\n<ul>\n<li><p>I also tested with JNA (Java Native Access), and it works. But now, I need to test my dll with jni4net (or normal JNI)</p>\n</li>\n<li><p>I also try to use absolute path when run <code>proxygen</code> or use double backslash <code>\\\\</code> but none of them work</p>\n</li>\n</ul>\n<p>I'm new to Java and C++ with .dll. Can someone help please</p>\n"},{"tags":["java","keycloak","keycloak-services"],"answers":[{"tags":[],"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1626879579,"creation_date":1522321978,"answer_id":49554628,"question_id":49552011,"body_markdown":"One way to do it is via the api :\r\n\r\n- Get token for an account with the rights to add client to the realm\r\n\r\n\r\n        POST https://&lt;keycloak-url&gt;/auth/realms/master/protocol/openid-connect/token\r\n        Host: &lt;keycloak-url&gt;\r\n        Content-Type: application/x-www-form-urlencoded\r\n        Cache-Control: no-cache\r\n         \r\n        client_id=admin-cli&amp;grant_type=password&amp;username=&lt;user&gt;&amp;password=&lt;password&gt;\r\n\r\n\r\n\r\n- Add a new client (the request body comes from an export of an existing client)\r\n\r\n        POST https://keycloak-url/auth/admin/realms/&lt;realm-name&gt;/clients\r\n        Host: &lt;keycloak-url&gt;\r\n        Content-Type: application/json\r\n        Cache-Control: no-cache\r\n        Authorization: Bearer &lt;token&gt;\r\n    \r\n        {\r\n             &quot;clientId&quot;: &quot;test-add&quot;,\r\n             &quot;[...]&quot;\r\n         }\r\n\r\nThe response status should be a `201` with an header location to the new client.\r\n\r\nDocumentation can be found here : https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource","title":"Create Client programmatically in Keycloak","body":"<p>One way to do it is via the api :</p>\n<ul>\n<li><p>Get token for an account with the rights to add client to the realm</p>\n<pre><code>  POST https://&lt;keycloak-url&gt;/auth/realms/master/protocol/openid-connect/token\n  Host: &lt;keycloak-url&gt;\n  Content-Type: application/x-www-form-urlencoded\n  Cache-Control: no-cache\n\n  client_id=admin-cli&amp;grant_type=password&amp;username=&lt;user&gt;&amp;password=&lt;password&gt;\n</code></pre>\n</li>\n<li><p>Add a new client (the request body comes from an export of an existing client)</p>\n<pre><code>  POST https://keycloak-url/auth/admin/realms/&lt;realm-name&gt;/clients\n  Host: &lt;keycloak-url&gt;\n  Content-Type: application/json\n  Cache-Control: no-cache\n  Authorization: Bearer &lt;token&gt;\n\n  {\n       &quot;clientId&quot;: &quot;test-add&quot;,\n       &quot;[...]&quot;\n   }\n</code></pre>\n</li>\n</ul>\n<p>The response status should be a <code>201</code> with an header location to the new client.</p>\n<p>Documentation can be found here : <a href=\"https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource</a></p>\n"},{"tags":[],"owner":{"account_id":4831051,"reputation":1234,"user_id":3899245,"display_name":"G&#246;khan Ayhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523518716,"creation_date":1523518716,"answer_id":49790632,"question_id":49552011,"body_markdown":"I did it like this,\r\n\r\n    public boolean createClient(String clientId, String realmName) throws IOException {\r\n        try {\r\n            Keycloak keycloakInstanceDefault = KeycloakInstance.getInstance();\r\n            RealmResource createdRealmResource = keycloakInstanceDefault.realms().realm(realmName);\r\n            ClientRepresentation clientRepresentation = new ClientRepresentation();\r\n            clientRepresentation.setClientId(clientId);\r\n            clientRepresentation.setProtocol(&quot;openid-connect&quot;);\r\n            clientRepresentation.setSecret(clientId);\r\n            createdRealmResource.clients().create(clientRepresentation);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n\r\nKeycloakInstance.getInstance(); returns Keycloak Object.","title":"Create Client programmatically in Keycloak","body":"<p>I did it like this,</p>\n\n<pre><code>public boolean createClient(String clientId, String realmName) throws IOException {\n    try {\n        Keycloak keycloakInstanceDefault = KeycloakInstance.getInstance();\n        RealmResource createdRealmResource = keycloakInstanceDefault.realms().realm(realmName);\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\n        clientRepresentation.setClientId(clientId);\n        clientRepresentation.setProtocol(\"openid-connect\");\n        clientRepresentation.setSecret(clientId);\n        createdRealmResource.clients().create(clientRepresentation);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>KeycloakInstance.getInstance(); returns Keycloak Object.</p>\n"},{"tags":[],"owner":{"account_id":10455298,"reputation":71,"user_id":7707636,"display_name":"Elieser Jose Pereira Reyes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652925220,"creation_date":1574316677,"answer_id":58968350,"question_id":49552011,"body_markdown":"### Using curl\r\n\r\n```\r\n#get token\r\nRESULT=`curl --data &quot;username=&lt;your_admin_user&gt;&amp;password=&lt;your_passwod&gt;&amp;grant_type=password&amp;client_id=admin-cli&quot; http://localhost:8090/auth/realms/master/protocol/openid-connect/token`\r\nTOKEN=`echo $RESULT | sed &#39;s/.*access_token&quot;:&quot;//g&#39; | sed &#39;s/&quot;.*//g&#39;`\r\n#create user\r\ncurl -X POST -d &#39;{ &quot;clientId&quot;: &quot;myclient&quot; }&#39; -H &quot;Content-Type:application/json&quot; -H &quot;Authorization: bearer ${TOKEN}&quot; http://localhost:8090/auth/realms/master/clients-registrations/default\r\n```","title":"Create Client programmatically in Keycloak","body":"<h3>Using curl</h3>\n<pre><code>#get token\nRESULT=`curl --data &quot;username=&lt;your_admin_user&gt;&amp;password=&lt;your_passwod&gt;&amp;grant_type=password&amp;client_id=admin-cli&quot; http://localhost:8090/auth/realms/master/protocol/openid-connect/token`\nTOKEN=`echo $RESULT | sed 's/.*access_token&quot;:&quot;//g' | sed 's/&quot;.*//g'`\n#create user\ncurl -X POST -d '{ &quot;clientId&quot;: &quot;myclient&quot; }' -H &quot;Content-Type:application/json&quot; -H &quot;Authorization: bearer ${TOKEN}&quot; http://localhost:8090/auth/realms/master/clients-registrations/default\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8798584,"reputation":1,"user_id":6575652,"display_name":"Nishen Peiris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689600174,"creation_date":1689600174,"answer_id":76704912,"question_id":49552011,"body_markdown":"You can accomplish this via the **client-credentials** grant type. For this, your client needs to be configured as follows:\r\n\r\n- Turn **ON** the **Service Accounts Enabled** option under the **Settings** tab of your client.\r\n\r\n- Assign necessary **realm-management** client roles to your client. For this, switch to **Service Admin Roles** tab, select **realm-management** from the dropdown, and assign **manage-clients** role under **Client Roles**.\r\n\r\nThen, you should be able to use this client to create another client in the same realm. Please refer to the below sample curls.\r\n\r\nRetrieve a token:\r\n\r\n    curl --location &#39;&lt;Keycloak URL&gt;/auth/realms/&lt;realm&gt;/protocol/openid-connect/token&#39; \\\r\n            --header &#39;Accept: application/json&#39; \\\r\n            --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n            --header &#39;Authorization: Basic &lt;Base64 encode(client ID:client secret)&gt;&#39; \\\r\n            --data &#39;grant_type=client_credentials&amp;scope=openid&#39;\r\n\r\nCreate the client:\r\n\r\n        curl --location &#39;&lt;Keycloak URL&gt;/auth/admin/realms/&lt;realm&gt;/clients&#39; \\\r\n    --header &#39;Authorization: Bearer &lt;token retrieved above&gt;&#39; \\\r\n    --header &#39;Accept: application/json&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{&lt;export of your existing client&gt;}&#39;","title":"Create Client programmatically in Keycloak","body":"<p>You can accomplish this via the <strong>client-credentials</strong> grant type. For this, your client needs to be configured as follows:</p>\n<ul>\n<li><p>Turn <strong>ON</strong> the <strong>Service Accounts Enabled</strong> option under the <strong>Settings</strong> tab of your client.</p>\n</li>\n<li><p>Assign necessary <strong>realm-management</strong> client roles to your client. For this, switch to <strong>Service Admin Roles</strong> tab, select <strong>realm-management</strong> from the dropdown, and assign <strong>manage-clients</strong> role under <strong>Client Roles</strong>.</p>\n</li>\n</ul>\n<p>Then, you should be able to use this client to create another client in the same realm. Please refer to the below sample curls.</p>\n<p>Retrieve a token:</p>\n<pre><code>curl --location '&lt;Keycloak URL&gt;/auth/realms/&lt;realm&gt;/protocol/openid-connect/token' \\\n        --header 'Accept: application/json' \\\n        --header 'Content-Type: application/x-www-form-urlencoded' \\\n        --header 'Authorization: Basic &lt;Base64 encode(client ID:client secret)&gt;' \\\n        --data 'grant_type=client_credentials&amp;scope=openid'\n</code></pre>\n<p>Create the client:</p>\n<pre><code>    curl --location '&lt;Keycloak URL&gt;/auth/admin/realms/&lt;realm&gt;/clients' \\\n--header 'Authorization: Bearer &lt;token retrieved above&gt;' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{&lt;export of your existing client&gt;}'\n</code></pre>\n"}],"owner":{"account_id":10212782,"reputation":667,"user_id":7539387,"accept_rate":40,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12199,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1689600174,"creation_date":1522314394,"question_id":49552011,"body_markdown":"How do I create clients programmatically in keycloak using java application?\r\n","title":"Create Client programmatically in Keycloak","body":"<p>How do I create clients programmatically in keycloak using java application?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689598874,"post_id":76704516,"comment_id":135231874,"body_markdown":"Show us the Gradle (or Maven) build script and Eclipse run task configuration","body":"Show us the Gradle (or Maven) build script and Eclipse run task configuration"},{"owner":{"account_id":7327271,"reputation":529,"user_id":5581317,"display_name":"takeoffjava"},"score":0,"creation_date":1689600415,"post_id":76704516,"comment_id":135232270,"body_markdown":"I have updated my question with the screenshot you asked pls verify","body":"I have updated my question with the screenshot you asked pls verify"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689605787,"post_id":76704516,"comment_id":135233574,"body_markdown":"Does the Eclipse run target have some way to specify the runtime project or classpath? I&#39;m not sure if an incorrect config would generate an error, it would in IntelliJ.","body":"Does the Eclipse run target have some way to specify the runtime project or classpath? I&#39;m not sure if an incorrect config would generate an error, it would in IntelliJ."},{"owner":{"account_id":7256091,"reputation":51,"user_id":5534685,"display_name":"Brian Schalme"},"score":0,"creation_date":1689618820,"post_id":76704516,"comment_id":135236284,"body_markdown":"Can you share the source code repo? Or at least a small subset of it that duplicates the problem you are running into?","body":"Can you share the source code repo? Or at least a small subset of it that duplicates the problem you are running into?"}],"owner":{"account_id":7327271,"reputation":529,"user_id":5581317,"display_name":"takeoffjava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689600082,"creation_date":1689597371,"question_id":76704516,"body_markdown":"When I run a spring boot java project in Eclipse, I am getting the below error. Error: `Could not find or load the main class` but the same jar is running when I run throw the command prompt with the command *&quot;java -jar springbootproject.jar*&quot;.\r\n\r\nFind the below run configuration.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nfind the error screenshot when I run in Eclipse and sts \r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe same jar is working in the command prompt as shown below\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PHIvP.png\r\n  [2]: https://i.stack.imgur.com/G4Xca.png\r\n  [3]: https://i.stack.imgur.com/er7nG.png","title":"Springboot Gradle project Could not find or load main class","body":"<p>When I run a spring boot java project in Eclipse, I am getting the below error. Error: <code>Could not find or load the main class</code> but the same jar is running when I run throw the command prompt with the command <em>&quot;java -jar springbootproject.jar</em>&quot;.</p>\n<p>Find the below run configuration.</p>\n<p><a href=\"https://i.stack.imgur.com/PHIvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHIvP.png\" alt=\"enter image description here\" /></a></p>\n<p>find the error screenshot when I run in Eclipse and sts</p>\n<p><a href=\"https://i.stack.imgur.com/G4Xca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4Xca.png\" alt=\"enter image description here\" /></a></p>\n<p>the same jar is working in the command prompt as shown below</p>\n<p><a href=\"https://i.stack.imgur.com/er7nG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/er7nG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1399997005,"post_id":23636083,"comment_id":36295348,"body_markdown":"Hibernate doesn&#39;t execute update statements because a transaction exists. It executes them because you modified an entity. If you don&#39;t want an update statement to be executed, don&#39;t modify any entity. Transactions are necessary, even for read-only use-cases.","body":"Hibernate doesn&#39;t execute update statements because a transaction exists. It executes them because you modified an entity. If you don&#39;t want an update statement to be executed, don&#39;t modify any entity. Transactions are necessary, even for read-only use-cases."},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":1,"creation_date":1400000800,"post_id":23636083,"comment_id":36297736,"body_markdown":"I haven&#39;t modified any entity. I am clicking on a link which just fetches the list from db. Besides that, it also updates the user table. I don&#39;t know why","body":"I haven&#39;t modified any entity. I am clicking on a link which just fetches the list from db. Besides that, it also updates the user table. I don&#39;t know why"}],"answers":[{"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399997666,"creation_date":1399997666,"answer_id":23636488,"question_id":23636083,"body_markdown":"Can you post your application-context.xml transaction management declarations part. Where the bean : `org.springframework.jdbc.datasource.DataSourceTransactionManager` is defined.\r\n\r\nIf the annotaion is not enabled you should activate it like this :\r\n\r\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n       &lt;property name=&quot;dataSource&quot; ref=&quot;yourDataSource&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; proxy-target-class=&quot;true&quot; /&gt;","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>Can you post your application-context.xml transaction management declarations part. Where the bean : <code>org.springframework.jdbc.datasource.DataSourceTransactionManager</code> is defined.</p>\n\n<p>If the annotaion is not enabled you should activate it like this :</p>\n\n<pre><code>&lt;bean id=\"txManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n   &lt;property name=\"dataSource\" ref=\"yourDataSource\" /&gt;\n&lt;/bean&gt;\n&lt;tx:annotation-driven transaction-manager=\"txManager\" proxy-target-class=\"true\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4265958,"reputation":3874,"user_id":3489074,"display_name":"Ordous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400000530,"creation_date":1400000530,"answer_id":23637428,"question_id":23636083,"body_markdown":"`@Transactional(propagation = Propagation.NOT_SUPPORTED)`\r\non your method will disable any Spring transactions on this proxy method call. Note that by disabling the transaction you also lose other benefits, like isolation. \r\n\r\nHowever, the fact that you have an update query fired is NOT because of a transaction. You are likely to encounter a different error if you simply remove the transaction (likely stale object exception when hibernate tries to update outside of a transaction, or a malfunction of some module). Hibernate does not fire spurious updates, you should look for updates to the object in question during your transaction.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p><code>@Transactional(propagation = Propagation.NOT_SUPPORTED)</code>\non your method will disable any Spring transactions on this proxy method call. Note that by disabling the transaction you also lose other benefits, like isolation. </p>\n\n<p>However, the fact that you have an update query fired is NOT because of a transaction. You are likely to encounter a different error if you simply remove the transaction (likely stale object exception when hibernate tries to update outside of a transaction, or a malfunction of some module). Hibernate does not fire spurious updates, you should look for updates to the object in question during your transaction.</p>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1400066764,"creation_date":1400064199,"answer_id":23652382,"question_id":23636083,"body_markdown":"I managed to suppress the update query by writing the following line in my DAO class (which was extending HibernateDAOSupport)\r\n\r\n`super.getSessionFactory().getCurrentSession().clear();`\r\n\r\nI just cleared the session as there was no update required while fetching the data and interceptor was updating the table.\r\n\r\nAlso, the original issue which I was facing is, the application was encountering `org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1` from this update statement when it got executed twice (God knows why!).\r\n\r\nHence, we figured out that the update was never required and wanted to suppress it.\r\n\r\nCan this fix have any consequences on the application? Is this the right way to do it? Will appreciate the inputs.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>I managed to suppress the update query by writing the following line in my DAO class (which was extending HibernateDAOSupport)</p>\n\n<p><code>super.getSessionFactory().getCurrentSession().clear();</code></p>\n\n<p>I just cleared the session as there was no update required while fetching the data and interceptor was updating the table.</p>\n\n<p>Also, the original issue which I was facing is, the application was encountering <code>org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1</code> from this update statement when it got executed twice (God knows why!).</p>\n\n<p>Hence, we figured out that the update was never required and wanted to suppress it.</p>\n\n<p>Can this fix have any consequences on the application? Is this the right way to do it? Will appreciate the inputs.</p>\n"},{"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400074945,"creation_date":1400073948,"answer_id":23656032,"question_id":23636083,"body_markdown":"So your `PlatformTransactionManager` instance is `HibernateTransactionManager`. `TransactionInterceptor` will delegate the transaction handling to `HibernateTransactionManager`. All that means : all calls that you make to your data access methods annotated with `@Transactional` will be path throw spring AOP Proxy (which is a Proxy Design pattern).\r\nIf you don&#39;t use annotation-based and you have declared an AOP Proxy (search for aop:config tag in your ApplicationContext.xml).\r\nSo in the AOP Proxy configuration you will find the politic that your application use for intercepting data access methods and handling transactions.\r\nFor finding if you are using annotation-based you should know what is &#39;transactionAttributeSource&#39; : AnnotationTransactionAttributeSource or AttributesTransactionAttributeSource ?\r\n","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>So your <code>PlatformTransactionManager</code> instance is <code>HibernateTransactionManager</code>. <code>TransactionInterceptor</code> will delegate the transaction handling to <code>HibernateTransactionManager</code>. All that means : all calls that you make to your data access methods annotated with <code>@Transactional</code> will be path throw spring AOP Proxy (which is a Proxy Design pattern).\nIf you don't use annotation-based and you have declared an AOP Proxy (search for aop:config tag in your ApplicationContext.xml).\nSo in the AOP Proxy configuration you will find the politic that your application use for intercepting data access methods and handling transactions.\nFor finding if you are using annotation-based you should know what is 'transactionAttributeSource' : AnnotationTransactionAttributeSource or AttributesTransactionAttributeSource ?</p>\n"},{"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401320315,"creation_date":1401320315,"answer_id":23923554,"question_id":23636083,"body_markdown":"Here you have the JavaDoc of the interface `org.hibernate.Session` method `clear()` : \r\n\r\n*Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of* `ScrollableResults`\r\n\r\nSo when you use clear you will clear whole the Session. That ok, you will ask me : have I only one session per transaction ? I will answer you it&#39;s depends on your application `HibernateTemplate` configuration, if the `HibernateTemplate.alwaysUseNewSession==true` but the default value is `false`. The solution is to not intercepte your dao method with the Transaction Manager because it will be executed by default in a non Transactional Session.\r\n\r\nDid you get a look to the [Spring Framework AOP Proxy configuration][1]. section `10.5 Declarative transaction management`\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>Here you have the JavaDoc of the interface <code>org.hibernate.Session</code> method <code>clear()</code> : </p>\n\n<p><em>Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of</em> <code>ScrollableResults</code></p>\n\n<p>So when you use clear you will clear whole the Session. That ok, you will ask me : have I only one session per transaction ? I will answer you it's depends on your application <code>HibernateTemplate</code> configuration, if the <code>HibernateTemplate.alwaysUseNewSession==true</code> but the default value is <code>false</code>. The solution is to not intercepte your dao method with the Transaction Manager because it will be executed by default in a non Transactional Session.</p>\n\n<p>Did you get a look to the <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html\" rel=\"nofollow\">Spring Framework AOP Proxy configuration</a>. section <code>10.5 Declarative transaction management</code></p>\n"},{"tags":[],"owner":{"account_id":28904959,"reputation":16,"user_id":22139139,"display_name":"Aidar Khusainov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689599820,"creation_date":1689599820,"answer_id":76704873,"question_id":23636083,"body_markdown":"If you have only select queries in a method you can use readOnly attribute in @Transactional annotation (@Transactional(readOnly = true)). It will be used by Spring to optimize the underlying data access layer operations (such as hibernate&#39;s &quot;dirty&quot; checking) and improve a perfomance. If your entity is never changes @org.hibernate.annotations.Immutable is another solution. But update statement doesn&#39;t appear without changes in entity state, so you should check your code for persistent entity changes. \r\nI am agreed that disable transaction interceptor is not a good solution.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>If you have only select queries in a method you can use readOnly attribute in @Transactional annotation (@Transactional(readOnly = true)). It will be used by Spring to optimize the underlying data access layer operations (such as hibernate's &quot;dirty&quot; checking) and improve a perfomance. If your entity is never changes @org.hibernate.annotations.Immutable is another solution. But update statement doesn't appear without changes in entity state, so you should check your code for persistent entity changes.\nI am agreed that disable transaction interceptor is not a good solution.</p>\n"}],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23652382,"answer_count":6,"score":2,"last_activity_date":1689599820,"creation_date":1399996671,"question_id":23636083,"body_markdown":"I am working on an application consisting of Spring and Hibernate frameworks. In one particular module, the application fetches the data from database (select queries). Along with the select queries, application also issues an update statement. After further debugging, I found that the update query is fired from some TransactionInterceptor.\r\nI think, transaction interceptor is not required here as all are select queries. Can anyone please suggest me a way to disable/suppress this interceptor at runtime?\r\n\r\nThis problem might sound too abstract at first. However, I am new to this application and don&#39;t have much knowledge about it&#39;s architecture. If you need any configuration details, please let me know.\r\n\r\nThanks in advance.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>I am working on an application consisting of Spring and Hibernate frameworks. In one particular module, the application fetches the data from database (select queries). Along with the select queries, application also issues an update statement. After further debugging, I found that the update query is fired from some TransactionInterceptor.\nI think, transaction interceptor is not required here as all are select queries. Can anyone please suggest me a way to disable/suppress this interceptor at runtime?</p>\n\n<p>This problem might sound too abstract at first. However, I am new to this application and don't have much knowledge about it's architecture. If you need any configuration details, please let me know.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":20230659,"reputation":1,"user_id":14837289,"display_name":"sulaymon yahyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689599738,"creation_date":1689599738,"answer_id":76704858,"question_id":72840749,"body_markdown":"Let`s try that one,\r\nI found that code from [github][1]\r\n\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import io.swagger.v3.oas.models.servers.Server;\r\n    import io.swagger.v3.oas.models.servers.ServerVariable;\r\n    import io.swagger.v3.oas.models.servers.ServerVariables;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class OpenApiGeneratorConfig {\r\n    \r\n        @Bean\r\n        public OpenAPI defineOpenApi() {\r\n            return new OpenAPI()\r\n                    .info(defineInfo())\r\n                    .components(defineComponents())\r\n                    .addServersItem(defineServers());\r\n        }\r\n    \r\n    ...\r\n    \r\n        private Server defineServers() {\r\n            return new Server().url(&quot;http://{IP_Address}:8080/my-app&quot;)\r\n                               .description(&quot;My APP REST API Server&quot;)\r\n                               .variables(\r\n                                       new ServerVariables().addServerVariable(&quot;IP_Address&quot;, new ServerVariable()\r\n                                               //._default(&quot;www.example.com&quot;)\r\n                                               ._default(&quot;localhost&quot;)\r\n                                               .description(&quot;IP address of My APP REST API Server&quot;)\r\n                                       )\r\n                               );\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues/124#issuecomment-546034557","title":"Configuring swagger-ui with server variable using configuration bean","body":"<p>Let`s try that one,\nI found that code from <a href=\"https://github.com/springdoc/springdoc-openapi/issues/124#issuecomment-546034557\" rel=\"nofollow noreferrer\">github</a></p>\n<pre><code>import io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.servers.Server;\nimport io.swagger.v3.oas.models.servers.ServerVariable;\nimport io.swagger.v3.oas.models.servers.ServerVariables;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApiGeneratorConfig {\n\n    @Bean\n    public OpenAPI defineOpenApi() {\n        return new OpenAPI()\n                .info(defineInfo())\n                .components(defineComponents())\n                .addServersItem(defineServers());\n    }\n\n...\n\n    private Server defineServers() {\n        return new Server().url(&quot;http://{IP_Address}:8080/my-app&quot;)\n                           .description(&quot;My APP REST API Server&quot;)\n                           .variables(\n                                   new ServerVariables().addServerVariable(&quot;IP_Address&quot;, new ServerVariable()\n                                           //._default(&quot;www.example.com&quot;)\n                                           ._default(&quot;localhost&quot;)\n                                           .description(&quot;IP address of My APP REST API Server&quot;)\n                                   )\n                           );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14301688,"reputation":71,"user_id":10330859,"display_name":"Matjag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689599738,"creation_date":1656779833,"question_id":72840749,"body_markdown":"In my spring boot project, I have an openapi3 yaml definition of API used by swagger UI. **I need to be able to dynamically change a part of server URL** while using the UI and I was able to configure it in yaml\r\n\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: Foo Service\r\n  version: v1.0\r\nservers:\r\n  - url: https://{foo}.com\r\n    variables:\r\n      foo:\r\n        default: bar\r\n```\r\nwhich makes the UI look like that\r\n[![swagger UI with server variable][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZOIX.png\r\n\r\nNow, I&#39;d like to stop using yamls to define my API and use annotations and configuration beans instead. I feel like the way to go would be to set `servers` field in `io.swagger.v3.oas.models.OpenAPI` bean, however I have no idea what to do considering I want the URL to be dynamically changed by the swagger UI.\r\n\r\nAny guidance will be much appreciated","title":"Configuring swagger-ui with server variable using configuration bean","body":"<p>In my spring boot project, I have an openapi3 yaml definition of API used by swagger UI. <strong>I need to be able to dynamically change a part of server URL</strong> while using the UI and I was able to configure it in yaml</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Foo Service\n  version: v1.0\nservers:\n  - url: https://{foo}.com\n    variables:\n      foo:\n        default: bar\n</code></pre>\n<p>which makes the UI look like that\n<a href=\"https://i.stack.imgur.com/RZOIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZOIX.png\" alt=\"swagger UI with server variable\" /></a></p>\n<p>Now, I'd like to stop using yamls to define my API and use annotations and configuration beans instead. I feel like the way to go would be to set <code>servers</code> field in <code>io.swagger.v3.oas.models.OpenAPI</code> bean, however I have no idea what to do considering I want the URL to be dynamically changed by the swagger UI.</p>\n<p>Any guidance will be much appreciated</p>\n"},{"tags":["java","android"],"owner":{"account_id":29032458,"reputation":1,"user_id":22239040,"display_name":"kejij"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689599579,"creation_date":1689583132,"question_id":76702744,"body_markdown":"Don&#39;t judge too harshly, I&#39;m working on a project that needs a gray border to stretch down in width and height to the bottom of the screen with 13dp padding,but nothing changed when I started the program. I thought about using **LayoutParams** and &quot;fitXY&quot;, but something went wrong, \r\n\r\n\r\n\r\nI thought about using **LayoutParams** and &quot;fitXY&quot;, but something went wrong.\r\ncml code of imageView:\r\n\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/ScrollCorners&quot;\r\n        android:layout_width=&quot;341dp&quot;\r\n        android:layout_height=&quot;250dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;18dp&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\r\n        app:srcCompat=&quot;@drawable/scroll_view_rectangle&quot; /&gt;\r\n```\r\nand java code\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    public int scaleheight(){\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        int height = displayMetrics.heightPixels;\r\n        return height;\r\n    }\r\n    public int scalewidth() {\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        int width = displayMetrics.widthPixels;\r\n        return width;\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        int height = scaleheight();\r\n        int width = scalewidth();\r\n        //Переменная рамки\r\n        ImageView ramka = (ImageView) (findViewById(R.id.ScrollCorners));\r\n        //Изменение высоты и ширины\r\n        int final_width, final_height;\r\n        final_height= height - 268;\r\n        final_width= width - 26;\r\n        android.view.ViewGroup.LayoutParams layoutParams = ramka.getLayoutParams();\r\n        layoutParams.width = final_width;\r\n        layoutParams.height = final_height;\r\n        ramka.setLayoutParams(layoutParams);\r\n```\r\nI apologize in advance for not knowing the basics of the engine, it&#39;s just that the project will have to be completed in a very limited time, there is no time for training.\r\n","title":"I don&#39;t know how to resize an image after starting the program","body":"<p>Don't judge too harshly, I'm working on a project that needs a gray border to stretch down in width and height to the bottom of the screen with 13dp padding,but nothing changed when I started the program. I thought about using <strong>LayoutParams</strong> and &quot;fitXY&quot;, but something went wrong,</p>\n<p>I thought about using <strong>LayoutParams</strong> and &quot;fitXY&quot;, but something went wrong.\ncml code of imageView:</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/ScrollCorners&quot;\n        android:layout_width=&quot;341dp&quot;\n        android:layout_height=&quot;250dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;18dp&quot;\n        android:scaleType=&quot;fitXY&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\n        app:srcCompat=&quot;@drawable/scroll_view_rectangle&quot; /&gt;\n</code></pre>\n<p>and java code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public int scaleheight(){\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n        int height = displayMetrics.heightPixels;\n        return height;\n    }\n    public int scalewidth() {\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n        int width = displayMetrics.widthPixels;\n        return width;\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        int height = scaleheight();\n        int width = scalewidth();\n        //Переменная рамки\n        ImageView ramka = (ImageView) (findViewById(R.id.ScrollCorners));\n        //Изменение высоты и ширины\n        int final_width, final_height;\n        final_height= height - 268;\n        final_width= width - 26;\n        android.view.ViewGroup.LayoutParams layoutParams = ramka.getLayoutParams();\n        layoutParams.width = final_width;\n        layoutParams.height = final_height;\n        ramka.setLayoutParams(layoutParams);\n</code></pre>\n<p>I apologize in advance for not knowing the basics of the engine, it's just that the project will have to be completed in a very limited time, there is no time for training.</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","drop-down-menu","webdriverwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1689453664,"post_id":76695277,"comment_id":135216683,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1689595077,"post_id":76695277,"comment_id":135230984,"body_markdown":"Thanks, added HTML","body":"Thanks, added HTML"}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689597428,"creation_date":1689503370,"answer_id":76697784,"question_id":76695277,"body_markdown":"I&#39;m not sure you should check for selection or visibility in this case.\r\nElement in DOM is placed backward when search bar is brought to front, so method can return false negative result.\r\n\r\nBut your point is to select value, right? \r\nThis code works for me (I select Automotive value)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    driver.get(&quot;https://amazon.com&quot;);\r\n    WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n    By locator = new By.ById(&quot;searchDropdownBox&quot;);\r\n    WebElement dropdown = wdwait.until(ExpectedConditions.presenceOfElementLocated(locator));\r\n    Select elementDropdown = new Select(dropdown);\r\n    elementDropdown.selectByValue(&quot;search-alias=automotive-intl-ship&quot;); //option value attribute\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor in your kind of implementation\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @FindBy(id=&quot;searchDropdownBox&quot;)\r\n        WebElement searchBoxDropdown;\r\n        \r\n     \r\n    public void selectDropdownElement(String value) {\r\n      Select elementDropdown = new Select(searchBoxDropdown);\r\n      elementDropdown.selectByValue(value);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Selenium Java: Expected condition failed: waiting for element to be clickable (Chrome browser)","body":"<p>I'm not sure you should check for selection or visibility in this case.\nElement in DOM is placed backward when search bar is brought to front, so method can return false negative result.</p>\n<p>But your point is to select value, right?\nThis code works for me (I select Automotive value)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>driver.get(\"https://amazon.com\");\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\nBy locator = new By.ById(\"searchDropdownBox\");\nWebElement dropdown = wdwait.until(ExpectedConditions.presenceOfElementLocated(locator));\nSelect elementDropdown = new Select(dropdown);\nelementDropdown.selectByValue(\"search-alias=automotive-intl-ship\"); //option value attribute</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>or in your kind of implementation</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@FindBy(id=\"searchDropdownBox\")\n    WebElement searchBoxDropdown;\n    \n \npublic void selectDropdownElement(String value) {\n  Select elementDropdown = new Select(searchBoxDropdown);\n  elementDropdown.selectByValue(value);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697784,"answer_count":1,"score":0,"last_activity_date":1689599496,"creation_date":1689446648,"question_id":76695277,"body_markdown":"I am trying to write a test in Selenium, but for some reason my wdwait line of code in below method is failing with error message in title. When I comment the wdwait line, test passes normally. What am I missing? \r\n\r\nOne thing worth mentioning... in the same test, I have almost identical method for quantity dropbox and here wdwait works just fine. Both of the dropboxes are of the same &quot;Select&quot; type.\r\n\r\nsearchBoxDropdown is dropdown on amazon.com homepage next to the search bar\r\n\r\n```\r\n@FindBy(id=&quot;searchDropdownBox&quot;)\r\n    WebElement searchBoxDropdown;\r\n```\r\n\r\n\r\n```\r\npublic void selectDropdownElement(String elementx) {\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(searchBoxDropdown));\r\n        Select elementDropdown = new Select(searchBoxDropdown);\r\n        elementDropdown.selectByVisibleText(elementx);\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Test\r\n    public void amazonTest() {\r\n        amazonAddToCart.selectDropdownElement(&quot;Books&quot;);\r\n        amazonAddToCart.inputSearchBox(&quot;Six of Crows Boxed Set&quot;);\r\n        amazonAddToCart.clickBookLink();\r\n        amazonAddToCart.selectHardcover();\r\n        amazonAddToCart.selectQuantity(20);\r\n        amazonAddToCart.clickGiftCheckbox();\r\n        amazonAddToCart.clickAddToCart();\r\n    }\r\n```\r\n```\r\n&lt;select aria-describedby=&quot;searchDropdownDescription&quot; class=&quot;nav-search-dropdown searchSelect nav-progressive-attrubute nav-progressive-search-dropdown&quot; data-nav-digest=&quot;k+fyIAyB82R9jVEmroQ0OWwSW3A=&quot; data-nav-selected=&quot;0&quot; id=&quot;searchDropdownBox&quot; name=&quot;url&quot; style=&quot;display: block; top: 2.5px;&quot; tabindex=&quot;0&quot; title=&quot;Search in&quot;&gt;\r\n```\r\n\r\nI tried changing the method &quot;elementToBeClickable&quot; to &quot;visibilityOfElements&quot; but result was the same. Is there any similar method that allows WebElement to be selected that I could use maybe?\r\n\r\nThis solution is working the way I imagined:\r\n```\r\npublic void selectDropdownElement(String elementx) {\r\n        wdwait.until(ExpectedConditions.textToBePresentInElement(searchBoxDropdown, &quot;All&quot;));\r\n        Select elementDropdown = new Select(searchBoxDropdown);\r\n        elementDropdown.selectByVisibleText(elementx);\r\n    }\r\n```","title":"Selenium Java: Expected condition failed: waiting for element to be clickable (Chrome browser)","body":"<p>I am trying to write a test in Selenium, but for some reason my wdwait line of code in below method is failing with error message in title. When I comment the wdwait line, test passes normally. What am I missing?</p>\n<p>One thing worth mentioning... in the same test, I have almost identical method for quantity dropbox and here wdwait works just fine. Both of the dropboxes are of the same &quot;Select&quot; type.</p>\n<p>searchBoxDropdown is dropdown on amazon.com homepage next to the search bar</p>\n<pre><code>@FindBy(id=&quot;searchDropdownBox&quot;)\n    WebElement searchBoxDropdown;\n</code></pre>\n<pre><code>public void selectDropdownElement(String elementx) {\n        wdwait.until(ExpectedConditions.elementToBeClickable(searchBoxDropdown));\n        Select elementDropdown = new Select(searchBoxDropdown);\n        elementDropdown.selectByVisibleText(elementx);\n    }\n</code></pre>\n<pre><code>@Test\n    public void amazonTest() {\n        amazonAddToCart.selectDropdownElement(&quot;Books&quot;);\n        amazonAddToCart.inputSearchBox(&quot;Six of Crows Boxed Set&quot;);\n        amazonAddToCart.clickBookLink();\n        amazonAddToCart.selectHardcover();\n        amazonAddToCart.selectQuantity(20);\n        amazonAddToCart.clickGiftCheckbox();\n        amazonAddToCart.clickAddToCart();\n    }\n</code></pre>\n<pre><code>&lt;select aria-describedby=&quot;searchDropdownDescription&quot; class=&quot;nav-search-dropdown searchSelect nav-progressive-attrubute nav-progressive-search-dropdown&quot; data-nav-digest=&quot;k+fyIAyB82R9jVEmroQ0OWwSW3A=&quot; data-nav-selected=&quot;0&quot; id=&quot;searchDropdownBox&quot; name=&quot;url&quot; style=&quot;display: block; top: 2.5px;&quot; tabindex=&quot;0&quot; title=&quot;Search in&quot;&gt;\n</code></pre>\n<p>I tried changing the method &quot;elementToBeClickable&quot; to &quot;visibilityOfElements&quot; but result was the same. Is there any similar method that allows WebElement to be selected that I could use maybe?</p>\n<p>This solution is working the way I imagined:</p>\n<pre><code>public void selectDropdownElement(String elementx) {\n        wdwait.until(ExpectedConditions.textToBePresentInElement(searchBoxDropdown, &quot;All&quot;));\n        Select elementDropdown = new Select(searchBoxDropdown);\n        elementDropdown.selectByVisibleText(elementx);\n    }\n</code></pre>\n"},{"tags":["java","networking","packet"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689670846,"post_id":76704792,"comment_id":135243109,"body_markdown":"Can you provide a simple code example how you do it currently?  \nIn Java you can call the function of the parent class with `super`, i.e.  \n\nvoid process(Data data) {  \n  super.process(data);  \n  //do your own stuff  \n}","body":"Can you provide a simple code example how you do it currently?   In Java you can call the function of the parent class with <code>super</code>, i.e.    void process(Data data) {     super.process(data);     //do your own stuff   }"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689599186,"creation_date":1689599186,"question_id":76704792,"body_markdown":"I&#39;m working on a Java 2d multiplayer game project. I have an abstract Entity class. The LivingEntity and Bullet classes extend Entity. Player extends LivingEntity and so on. I have a class hierarchy.\r\n\r\nFor communication with clients, I use packets as simple entity data objects. The EntityAddPacket object contains basic information generally for each entity: uuid, position x, y. LivingEntityAddPacket extends EntityAddPacket with new information such as health and maximum health. These are just examples of selected.\r\nSome packets are sent to clients frequently (20 times per second for an entity, such as a location update) and multiple times. I decided to store objects of such packets in the fields of the Entity class and modify their data in case of changes in the data of the entity itself. Then the data is sent to clients. This improves performance compared to creating a new packet each time.\r\n\r\nHowever, there was a problem. I don&#39;t know how to manage these packets in a good way inside the entity hierarchy. The Entity class contains general packets, but the extension classes require more specific data to be sent, as in the case of entities requiring health specified above. Entity should still update its data managed in this class, while extending classes should add their data to the information from Entity.\r\n\r\nSuppose Entity has a field of type EntityAddPacket. I can easily modify this data from Entity, but the problem comes when another class should update their information. I am thinking about possible solutions. Entity should update data common to everyone and other classes data specific to them only. I was thinking about using generics, but I don&#39;t have idea for this. Is this a good approach? If not, how else can it be done?","title":"Hierarchical management of data packets in Java","body":"<p>I'm working on a Java 2d multiplayer game project. I have an abstract Entity class. The LivingEntity and Bullet classes extend Entity. Player extends LivingEntity and so on. I have a class hierarchy.</p>\n<p>For communication with clients, I use packets as simple entity data objects. The EntityAddPacket object contains basic information generally for each entity: uuid, position x, y. LivingEntityAddPacket extends EntityAddPacket with new information such as health and maximum health. These are just examples of selected.\nSome packets are sent to clients frequently (20 times per second for an entity, such as a location update) and multiple times. I decided to store objects of such packets in the fields of the Entity class and modify their data in case of changes in the data of the entity itself. Then the data is sent to clients. This improves performance compared to creating a new packet each time.</p>\n<p>However, there was a problem. I don't know how to manage these packets in a good way inside the entity hierarchy. The Entity class contains general packets, but the extension classes require more specific data to be sent, as in the case of entities requiring health specified above. Entity should still update its data managed in this class, while extending classes should add their data to the information from Entity.</p>\n<p>Suppose Entity has a field of type EntityAddPacket. I can easily modify this data from Entity, but the problem comes when another class should update their information. I am thinking about possible solutions. Entity should update data common to everyone and other classes data specific to them only. I was thinking about using generics, but I don't have idea for this. Is this a good approach? If not, how else can it be done?</p>\n"},{"tags":["java","rest","http","spring-mvc","post"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1488427457,"post_id":42546141,"comment_id":72228710,"body_markdown":"You can use `ControllerLinkBuilder` from Spring Data REST, but it has its shortcomings.","body":"You can use <code>ControllerLinkBuilder</code> from Spring Data REST, but it has its shortcomings."}],"answers":[{"tags":[],"owner":{"account_id":1600681,"reputation":2246,"user_id":1481758,"display_name":"Trevor Gowing"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1605095971,"creation_date":1535273515,"answer_id":52024684,"question_id":42546141,"body_markdown":"This exact scenario is demonstrated in the [Building REST Services with Spring Guide][1].\r\n\r\nOnce you have persisted your new entity, in your controller you can use the below:\r\n\r\n    URI location = ServletUriComponentsBuilder\r\n\t\t\t\t\t\t.fromCurrentRequest()\r\n\t\t\t\t\t\t.path(&quot;/{id}&quot;)\r\n\t\t\t\t\t\t.buildAndExpand(newEntity.getId())\r\n\t\t\t\t\t\t.toUri();\r\n\r\nYou can then add this to your response using [ResponseEntity][2] as below:\r\n\r\n    ResponseEntity.created(location).build()\r\nor\r\n\r\n    ResponseEntity.status(CREATED).header(HttpHeaders.LOCATION, location).build()\r\n\r\nThe latter expects a string so you can use `toUriString()` on the uri builder instead of `toUri()`. \r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>This exact scenario is demonstrated in the <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"noreferrer\">Building REST Services with Spring Guide</a>.</p>\n<p>Once you have persisted your new entity, in your controller you can use the below:</p>\n<pre><code>URI location = ServletUriComponentsBuilder\n                    .fromCurrentRequest()\n                    .path(&quot;/{id}&quot;)\n                    .buildAndExpand(newEntity.getId())\n                    .toUri();\n</code></pre>\n<p>You can then add this to your response using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\">ResponseEntity</a> as below:</p>\n<pre><code>ResponseEntity.created(location).build()\n</code></pre>\n<p>or</p>\n<pre><code>ResponseEntity.status(CREATED).header(HttpHeaders.LOCATION, location).build()\n</code></pre>\n<p>The latter expects a string so you can use <code>toUriString()</code> on the uri builder instead of <code>toUri()</code>.</p>\n"},{"tags":[],"owner":{"account_id":400260,"reputation":2570,"user_id":766150,"accept_rate":50,"display_name":"Valdemar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568374149,"creation_date":1568374149,"answer_id":57922827,"question_id":42546141,"body_markdown":"Another way is to use `UriComponentsBuilder`. You can inject it right into a controller method:\r\n\r\n    @PostMapping(consumes = { MediaType.APPLICATION_JSON_UTF8_VALUE })\r\n    public ResponseEntity&lt;Void&gt; addCustomer(\r\n              UriComponentsBuilder uriComponentsBuilder, \r\n              @RequestBody CustomerRequest customerRequest ){\r\n    \r\n            final long customerId = customerService.addCustomer(customerRequest)\r\n    \r\n            UriComponents uriComponents =\r\n                    uriComponentsBuilder.path(&quot;/{id}&quot;).buildAndExpand(customerId);\r\n    \r\n            return ResponseEntity.created(uriComponents.toUri()).build();\r\n    }\r\n\r\nTake note that the following will not compute the current request path. You will need to add it manually (or I might be missing something).\r\n\r\nex:\r\n\r\n    UriComponents uriComponents =\r\n           uriComponentsBuilder.path(&quot;CURRENT_REQUEST_PATH/{id}&quot;)\r\n           .buildAndExpand(customerId);\r\n\r\n \r\n\r\n","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>Another way is to use <code>UriComponentsBuilder</code>. You can inject it right into a controller method:</p>\n\n<pre><code>@PostMapping(consumes = { MediaType.APPLICATION_JSON_UTF8_VALUE })\npublic ResponseEntity&lt;Void&gt; addCustomer(\n          UriComponentsBuilder uriComponentsBuilder, \n          @RequestBody CustomerRequest customerRequest ){\n\n        final long customerId = customerService.addCustomer(customerRequest)\n\n        UriComponents uriComponents =\n                uriComponentsBuilder.path(\"/{id}\").buildAndExpand(customerId);\n\n        return ResponseEntity.created(uriComponents.toUri()).build();\n}\n</code></pre>\n\n<p>Take note that the following will not compute the current request path. You will need to add it manually (or I might be missing something).</p>\n\n<p>ex:</p>\n\n<pre><code>UriComponents uriComponents =\n       uriComponentsBuilder.path(\"CURRENT_REQUEST_PATH/{id}\")\n       .buildAndExpand(customerId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650546636,"creation_date":1650472566,"answer_id":71943259,"question_id":42546141,"body_markdown":"This [answer][1] pointed me in the right direction, but my create entity endpoint path was slightly different from the path where the saved entity was stored.\r\n\r\nI was able to use `fromCurrentRequest()` and `replacePath(&quot;new path here&quot;)` like so:\r\n\r\n    URI uri = ServletUriComponentsBuilder.fromCurrentRequest()\r\n            .replacePath(&quot;/customer/{id}/fat&quot;)\r\n            .buildAndExpand(savedCustomer.getCustomerId())\r\n            .toUri();\r\n\r\n    return ResponseEntity.created(uri).build();\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52024684/6950859","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>This <a href=\"https://stackoverflow.com/a/52024684/6950859\">answer</a> pointed me in the right direction, but my create entity endpoint path was slightly different from the path where the saved entity was stored.</p>\n<p>I was able to use <code>fromCurrentRequest()</code> and <code>replacePath(&quot;new path here&quot;)</code> like so:</p>\n<pre><code>URI uri = ServletUriComponentsBuilder.fromCurrentRequest()\n        .replacePath(&quot;/customer/{id}/fat&quot;)\n        .buildAndExpand(savedCustomer.getCustomerId())\n        .toUri();\n\nreturn ResponseEntity.created(uri).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652356540,"creation_date":1652356540,"answer_id":72215119,"question_id":42546141,"body_markdown":"     @Autowired \r\n     private UserService service;\r\n\r\n     @PostMapping(&quot;/users&quot;)\r\n     public ResponseEntity&lt;Object&gt; createUser(@RequestBody User user)\r\n      {\r\n        User myUser = service.save(user);\r\n        URI location = ServletUriComponentsBuilder\r\n                    .fromCurrentRequest()\r\n                    .path(&quot;/{id}&quot;)\r\n                    .buildAndExpand(myUser.getId())\r\n                    .toUri();\r\n\r\n        ResponseEntity.created(location).build()\r\n      }","title":"add location header to Spring MVC&#39;s POST response?","body":"<pre><code> @Autowired \n private UserService service;\n\n @PostMapping(&quot;/users&quot;)\n public ResponseEntity&lt;Object&gt; createUser(@RequestBody User user)\n  {\n    User myUser = service.save(user);\n    URI location = ServletUriComponentsBuilder\n                .fromCurrentRequest()\n                .path(&quot;/{id}&quot;)\n                .buildAndExpand(myUser.getId())\n                .toUri();\n\n    ResponseEntity.created(location).build()\n  }\n</code></pre>\n"}],"owner":{"account_id":1215944,"reputation":2026,"user_id":1183542,"accept_rate":4,"display_name":"gigi2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23099,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1689598901,"creation_date":1488424316,"question_id":42546141,"body_markdown":"My `Spring Boot` 1.4 application has this `POST` HTTP Method to create a resource. As a requirement, it should spit a location header specifying the URL of the newly created resource: [RFC 9110 HTTP Semantics - Method Definitions](https://www.rfc-editor.org/rfc/rfc9110.html#name-method-definitions). I am just wondering if there is any good way to do it than manually constructing the URL and adding it to the response.\r\n\r\nAny helps/clues are deeply appreciated","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>My <code>Spring Boot</code> 1.4 application has this <code>POST</code> HTTP Method to create a resource. As a requirement, it should spit a location header specifying the URL of the newly created resource: <a href=\"https://www.rfc-editor.org/rfc/rfc9110.html#name-method-definitions\" rel=\"nofollow noreferrer\">RFC 9110 HTTP Semantics - Method Definitions</a>. I am just wondering if there is any good way to do it than manually constructing the URL and adding it to the response.</p>\n<p>Any helps/clues are deeply appreciated</p>\n"},{"tags":["java","connection-timeout","r2dbc"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689597186,"post_id":76704438,"comment_id":135231473,"body_markdown":"Have you considered consulting the documentation?","body":"Have you considered consulting the documentation?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689597512,"post_id":76704438,"comment_id":135231558,"body_markdown":"@user207421 -  actually reading the doc seems a bit radical.","body":"@user207421 -  actually reading the doc seems a bit radical."},{"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"score":0,"creation_date":1689597917,"post_id":76704438,"comment_id":135231656,"body_markdown":"@user207421 thanks for the advice, but i didn&#39;t find it in the documentation","body":"@user207421 thanks for the advice, but i didn&#39;t find it in the documentation"},{"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"score":0,"creation_date":1689598790,"post_id":76704438,"comment_id":135231855,"body_markdown":"If my answer does not solve your question, please improve your question by stating clearly what you want to know.","body":"If my answer does not solve your question, please improve your question by stating clearly what you want to know."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689599783,"post_id":76704438,"comment_id":135232097,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689599996,"post_id":76704438,"comment_id":135232160,"body_markdown":"Is this what you&#39;re looking for? https://github.com/pgjdbc/r2dbc-postgresql - search &quot;timeout&quot; in that page.","body":"Is this what you&#39;re looking for? <a href=\"https://github.com/pgjdbc/r2dbc-postgresql\" rel=\"nofollow noreferrer\">github.com/pgjdbc/r2dbc-postgresql</a> - search &quot;timeout&quot; in that page."}],"answers":[{"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689598765,"creation_date":1689598765,"answer_id":76704736,"question_id":76704438,"body_markdown":"To be honest, I agree to the commenters that tell you to read documentation.\r\n\r\nAfter googling &quot;postgresql timeout connection string&quot; you can click [first hit][1]. Then you find the description: &quot;The time to wait (in seconds) while trying to establish a connection before terminating the attempt and generating an error.&quot; The default is 15.\r\n\r\nThis means that it waits for 15 seconds to try and establish a connection. If your device cannot do it, it gives up. \r\nHowever, if a connection is established, it will live for as long as you don&#39;t kill it. At least I think that is what you were expecting?\r\n\r\n  [1]: https://www.npgsql.org/doc/connection-string-parameters.html","title":"Adding statement timeout in connection string doesn&#39;t work","body":"<p>To be honest, I agree to the commenters that tell you to read documentation.</p>\n<p>After googling &quot;postgresql timeout connection string&quot; you can click <a href=\"https://www.npgsql.org/doc/connection-string-parameters.html\" rel=\"nofollow noreferrer\">first hit</a>. Then you find the description: &quot;The time to wait (in seconds) while trying to establish a connection before terminating the attempt and generating an error.&quot; The default is 15.</p>\n<p>This means that it waits for 15 seconds to try and establish a connection. If your device cannot do it, it gives up.\nHowever, if a connection is established, it will live for as long as you don't kill it. At least I think that is what you were expecting?</p>\n"}],"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689598765,"creation_date":1689596737,"question_id":76704438,"body_markdown":"I want add statement timeout in connection string.\r\n\r\nI had tried different options by adding statement_timeout parameter:\r\n\r\n`r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1`\r\n`r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1`\r\n`r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1s`\r\n`r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1s`\r\n\r\nand tried test this by adding in sql file:\r\n`pg_sleep(9999)`\r\n\r\nbut timeout doesn&#39;t work","title":"Adding statement timeout in connection string doesn&#39;t work","body":"<p>I want add statement timeout in connection string.</p>\n<p>I had tried different options by adding statement_timeout parameter:</p>\n<p><code>r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1s</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1s</code></p>\n<p>and tried test this by adding in sql file:\n<code>pg_sleep(9999)</code></p>\n<p>but timeout doesn't work</p>\n"},{"tags":["java","spring-boot","apache-camel","jms"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689595543,"post_id":76703913,"comment_id":135231075,"body_markdown":"You are using Spring Boot 3, which is for JakartaEE, whilst you are still use IBM MQ libraries that are JavaEE. So either find a JakartaEE version of the IBM MQ libraries or downgrade to Spring Boot 2.7.","body":"You are using Spring Boot 3, which is for JakartaEE, whilst you are still use IBM MQ libraries that are JavaEE. So either find a JakartaEE version of the IBM MQ libraries or downgrade to Spring Boot 2.7."},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":0,"creation_date":1689596141,"post_id":76703913,"comment_id":135231228,"body_markdown":"@M.Deinum Thanks for your answer. Your explanation is clear! Only wondering how did you notice that? So that I can also see it in future cases. I&#39;ve also added my pom dependencies in the question above","body":"@M.Deinum Thanks for your answer. Your explanation is clear! Only wondering how did you notice that? So that I can also see it in future cases. I&#39;ve also added my pom dependencies in the question above"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689596243,"post_id":76703913,"comment_id":135231252,"body_markdown":"`javax.jms` is from JavaEE, your stacktrace shows Spring version 6.0.10 which is used by Spring Boot 3+ and is JakartaEE. Also if tha tis your pom you are doing it wrong, never mix jars from different versions of a framework (here `spring-jms`) as that will inevitably lead to weird to debug situations!","body":"<code>javax.jms</code> is from JavaEE, your stacktrace shows Spring version 6.0.10 which is used by Spring Boot 3+ and is JakartaEE. Also if tha tis your pom you are doing it wrong, never mix jars from different versions of a framework (here <code>spring-jms</code>) as that will inevitably lead to weird to debug situations!"},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":0,"creation_date":1689598468,"post_id":76703913,"comment_id":135231776,"body_markdown":"@M.Deinum thanks for clearing that up. What confuses me is that the documentation says that the libraries that I am using are for JakartaEE. To make it more clear I&#39;ve added the libraries that I&#39;m currently using - \nhttps://www.ibm.com/docs/en/ibm-mq/9.3?topic=messaging-mq-classes-jakarta-overview","body":"@M.Deinum thanks for clearing that up. What confuses me is that the documentation says that the libraries that I am using are for JakartaEE. To make it more clear I&#39;ve added the libraries that I&#39;m currently using -  <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=messaging-mq-classes-jakarta-overview\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689600631,"post_id":76703913,"comment_id":135232319,"body_markdown":"Upon second look the problem is your old camel version which isn&#39;t JakartaEE. It is also some old milestone which I hope you didn&#39;t really use on your live system. You should upgrade that to a newer JakartaEE version as well (and remove the spring-jms dependency as that is incompatible as well, never mix modules from different versions of a framework!)&gt;","body":"Upon second look the problem is your old camel version which isn&#39;t JakartaEE. It is also some old milestone which I hope you didn&#39;t really use on your live system. You should upgrade that to a newer JakartaEE version as well (and remove the spring-jms dependency as that is incompatible as well, never mix modules from different versions of a framework!)&gt;"},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":1,"creation_date":1689753906,"post_id":76703913,"comment_id":135256267,"body_markdown":"@M.Deinum thanks for your help. It was resolved by removing the spring-jms dependency. So I guess this was a hard lesson on why to never mix them. Thanks!","body":"@M.Deinum thanks for your help. It was resolved by removing the spring-jms dependency. So I guess this was a hard lesson on why to never mix them. Thanks!"}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689598396,"creation_date":1689592604,"question_id":76703913,"body_markdown":"I have a Java application built with Springboot and Apache camel. When trying to run the application it gives an exception that confuses me. In the examples that I&#39;m using I don&#39;t see anything related to this exceptionListener, but maybe someone here could help and explain what is going wrong?\r\n\r\nThis is my code:\r\n\r\n    import com.ibm.mq.MQEnvironment;\r\n    import org.apache.camel.component.jms.JmsComponent;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import com.ibm.msg.client.jakarta.wmq.*;\r\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.security.KeyStore;\r\n            @Bean\r\n            public JmsComponent mq() {\r\n                JmsComponent jmsComponent = new JmsComponent();\r\n                jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\r\n                return jmsComponent;\r\n            }\r\n        \r\n            @Bean\r\n            public MQQueueConnectionFactory mqQueueConnectionFactory() {\r\n                MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n                mqQueueConnectionFactory.setHostName(host);\r\n                try {\r\n                    \r\n                    String keystoreKey = &quot;${keyStorePassword}&quot;;\r\n                    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n                    keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\r\n                            keystoreKey.toCharArray());\r\n        \r\n                    // Create key manager\r\n                    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                    keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\r\n                    KeyManager[] km = keyManagerFactory.getKeyManagers();\r\n        \r\n                    // Create trust manager\r\n                    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                    trustManagerFactory.init(keyStore);\r\n                    TrustManager[] tm = trustManagerFactory.getTrustManagers();\r\n        \r\n                    // Initialize SSLContext\r\n                    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\r\n                    sslContext.init(km, tm, null);\r\n                    SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n        \r\n                    mqQueueConnectionFactory.setPort(port);\r\n                    mqQueueConnectionFactory.setChannel(channel);\r\n                    mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n                    mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\r\n                    mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n                    mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n                    mqQueueConnectionFactory.setTransportType(CommonConstants.WMQ_CM_BINDINGS);\r\n                    mqQueueConnectionFactory.setQueueManager(queueManager);\r\n        \r\n                    MQEnvironment.sslSocketFactory = sslSocketFactory;\r\n        \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return  mqQueueConnectionFactory;\r\n            }\r\n        }\r\n\r\nThis is the stacktrace:\r\n\r\n    &gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mq&#39; defined in class path resource [nl/rabobank/mqputter/JmsConfiguration.class]: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method &#39;mq&#39; threw exception with message: javax/jms/ExceptionListener\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat nl.rabobank.mqputter.MqPutterApplication.main(MqPutterApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method &#39;mq&#39; threw exception with message: javax/jms/ExceptionListener\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \t... 26 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/jms/ExceptionListener\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.apache.camel.component.jms.JmsComponent.createConfiguration(JmsComponent.java:1260) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\r\n    \tat org.apache.camel.component.jms.JmsComponent.&lt;init&gt;(JmsComponent.java:76) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration.mq(JmsConfiguration.java:47) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.CGLIB$mq$0(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.mq(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.jms.ExceptionListener\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 62 common frames omitted\r\n\r\n\r\nEdit:\r\n\r\nHere are the dependencies:\r\n\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;com.ibm.mq.jakarta.client&lt;/artifactId&gt;\r\n            &lt;version&gt;9.3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Exception while trying to connect to IBM MQ using Spring Boot","body":"<p>I have a Java application built with Springboot and Apache camel. When trying to run the application it gives an exception that confuses me. In the examples that I'm using I don't see anything related to this exceptionListener, but maybe someone here could help and explain what is going wrong?</p>\n<p>This is my code:</p>\n<pre><code>import com.ibm.mq.MQEnvironment;\nimport org.apache.camel.component.jms.JmsComponent;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\nimport org.springframework.jms.annotation.EnableJms;\nimport com.ibm.msg.client.jakarta.wmq.*;\nimport com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\n\nimport javax.net.ssl.*;\nimport java.security.KeyStore;\n        @Bean\n        public JmsComponent mq() {\n            JmsComponent jmsComponent = new JmsComponent();\n            jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\n            return jmsComponent;\n        }\n    \n        @Bean\n        public MQQueueConnectionFactory mqQueueConnectionFactory() {\n            MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n            mqQueueConnectionFactory.setHostName(host);\n            try {\n                \n                String keystoreKey = &quot;${keyStorePassword}&quot;;\n                KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n                keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\n                        keystoreKey.toCharArray());\n    \n                // Create key manager\n                KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n                keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\n                KeyManager[] km = keyManagerFactory.getKeyManagers();\n    \n                // Create trust manager\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n                trustManagerFactory.init(keyStore);\n                TrustManager[] tm = trustManagerFactory.getTrustManagers();\n    \n                // Initialize SSLContext\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\n                sslContext.init(km, tm, null);\n                SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n    \n                mqQueueConnectionFactory.setPort(port);\n                mqQueueConnectionFactory.setChannel(channel);\n                mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\n                mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\n                mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n                mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n                mqQueueConnectionFactory.setTransportType(CommonConstants.WMQ_CM_BINDINGS);\n                mqQueueConnectionFactory.setQueueManager(queueManager);\n    \n                MQEnvironment.sslSocketFactory = sslSocketFactory;\n    \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return  mqQueueConnectionFactory;\n        }\n    }\n</code></pre>\n<p>This is the stacktrace:</p>\n<pre><code>&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mq' defined in class path resource [nl/rabobank/mqputter/JmsConfiguration.class]: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method 'mq' threw exception with message: javax/jms/ExceptionListener\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at nl.rabobank.mqputter.MqPutterApplication.main(MqPutterApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method 'mq' threw exception with message: javax/jms/ExceptionListener\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    ... 26 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/jms/ExceptionListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.apache.camel.component.jms.JmsComponent.createConfiguration(JmsComponent.java:1260) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\n    at org.apache.camel.component.jms.JmsComponent.&lt;init&gt;(JmsComponent.java:76) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\n    at nl.rabobank.mqputter.JmsConfiguration.mq(JmsConfiguration.java:47) ~[classes!/:0.0.1-SNAPSHOT]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.CGLIB$mq$0(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.mq(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.jms.ExceptionListener\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 62 common frames omitted\n</code></pre>\n<p>Edit:</p>\n<p>Here are the dependencies:</p>\n<pre><code>&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0-M3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n        &lt;artifactId&gt;com.ibm.mq.jakarta.client&lt;/artifactId&gt;\n        &lt;version&gt;9.3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","string","selenium-webdriver"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1689308776,"post_id":76684656,"comment_id":135197951,"body_markdown":"Store it somewhere, usually in memory, but why not in a file?","body":"Store it somewhere, usually in memory, but why not in a file?"},{"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"score":0,"creation_date":1689308935,"post_id":76684656,"comment_id":135197969,"body_markdown":"how do you mean?","body":"how do you mean?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689311393,"post_id":76684656,"comment_id":135198200,"body_markdown":"what do you mean &quot;how do you mean?&quot;  If you were to write the value in a file or properties file or DB, then you could read it later right?  That is assuming that each of your scripts will not be able to read a common static variable or something.","body":"what do you mean &quot;how do you mean?&quot;  If you were to write the value in a file or properties file or DB, then you could read it later right?  That is assuming that each of your scripts will not be able to read a common static variable or something."}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689598260,"creation_date":1689598260,"answer_id":76704655,"question_id":76684656,"body_markdown":"To avoid repeating the registration process and store the secretKeyReg for multiple login scenarios, you can modify your code to separate the registration step and the OTP generation step. You can create separate class **TwoFactorAuthentication** and pass the wedriver instance.\r\n\r\n**Test Class example:**\r\n\r\n\r\n\r\n    public class Test_Login {\r\n        @Test\r\n        public void loginUsing2FASuccessfulEmpPortal() {\r\n            WebDriver driver = new ChromeDriver();\r\n            TwoFactorAuthentication tfa = new TwoFactorAuthentication(driver);\r\n    \r\n            // Load employee portal URL\r\n            driver.get(empPortalURL);\r\n    \r\n            // Login to employee portal\r\n            driver.findElement(By.xpath(&quot;username&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\r\n            driver.findElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\r\n            driver.findElement(By.xpath(&quot;signin&quot;)).click();\r\n    \r\n            // Register for 2FA (if not already registered) and get the secret key\r\n            String secretKey = tfa.registerFor2FA();\r\n    \r\n            // Enter OTP and sign in\r\n            tfa.enterGeneratedOTP();\r\n            driver.findElement(By.xpath(&quot;login&quot;)).click();\r\n    \r\n            // Assertion to check whether the user logged in successfully\r\n        }\r\n    }\r\n\r\nyou can create an instance of TwoFactorAuthentication by passing the WebDriver instance through the constructor, as shown below:\r\n\r\n\r\n**TwoFactorAuthentication class:**\r\n\r\n\r\n    package com.tests;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    public class TwoFactorAuthentication {\r\n        private String secretKeyReg;\r\n        private WebDriver driver;\r\n    \r\n        public TwoFactorAuthentication(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public String registerFor2FA() {\r\n            // Register user to use 2FA\r\n            // Login to website\r\n            // Read secret key\r\n            WebElement secretKey = driver.findElement(By.xpath(&quot;xpath&quot;));\r\n            secretKeyReg = secretKey.getText();\r\n    \r\n            // Enter 2FA code to register\r\n            String code = generateOTP();\r\n            driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\r\n            driver.findElement(By.xpath(&quot;done-button&quot;)).click();\r\n    \r\n            return secretKeyReg;\r\n        }\r\n    \r\n        public void enterGeneratedOTP() {\r\n            String code = generateOTP();\r\n            driver.findElement(By.xpath(&quot;authentication-code&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(code);\r\n        }\r\n    \r\n    \r\n        public String generateOTP() {\r\n            try {\r\n                // Generate OTP using the stored secret key (secretKeyReg)\r\n                secretKeyReg = registerFor2FA();\r\n                String secretKey = secretKeyReg;\r\n                byte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\r\n                TOTP.Builder builder = new TOTP.Builder(secret);\r\n                builder.withPasswordLength(6)\r\n                        .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\r\n                        .withPeriod(Duration.ofSeconds(30));\r\n    \r\n                TOTP totp = builder.build();\r\n                String code = totp.now(); // generate code\r\n                return code;\r\n            } catch (UnsupportedEncodingException e) {\r\n                System.err.println(&quot;The character encoding is not supported.&quot;);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\nNow, the TwoFactorAuthentication class will utilize the provided WebDriver instance throughout its methods.\r\n","title":"Re-use a generated String in Selenium scripts","body":"<p>To avoid repeating the registration process and store the secretKeyReg for multiple login scenarios, you can modify your code to separate the registration step and the OTP generation step. You can create separate class <strong>TwoFactorAuthentication</strong> and pass the wedriver instance.</p>\n<p><strong>Test Class example:</strong></p>\n<pre><code>public class Test_Login {\n    @Test\n    public void loginUsing2FASuccessfulEmpPortal() {\n        WebDriver driver = new ChromeDriver();\n        TwoFactorAuthentication tfa = new TwoFactorAuthentication(driver);\n\n        // Load employee portal URL\n        driver.get(empPortalURL);\n\n        // Login to employee portal\n        driver.findElement(By.xpath(&quot;username&quot;)).click();\n        driver.findElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\n        driver.findElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\n        driver.findElement(By.xpath(&quot;signin&quot;)).click();\n\n        // Register for 2FA (if not already registered) and get the secret key\n        String secretKey = tfa.registerFor2FA();\n\n        // Enter OTP and sign in\n        tfa.enterGeneratedOTP();\n        driver.findElement(By.xpath(&quot;login&quot;)).click();\n\n        // Assertion to check whether the user logged in successfully\n    }\n}\n</code></pre>\n<p>you can create an instance of TwoFactorAuthentication by passing the WebDriver instance through the constructor, as shown below:</p>\n<p><strong>TwoFactorAuthentication class:</strong></p>\n<pre><code>package com.tests;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.WebDriver;\n\nimport java.io.UnsupportedEncodingException;\n\npublic class TwoFactorAuthentication {\n    private String secretKeyReg;\n    private WebDriver driver;\n\n    public TwoFactorAuthentication(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public String registerFor2FA() {\n        // Register user to use 2FA\n        // Login to website\n        // Read secret key\n        WebElement secretKey = driver.findElement(By.xpath(&quot;xpath&quot;));\n        secretKeyReg = secretKey.getText();\n\n        // Enter 2FA code to register\n        String code = generateOTP();\n        driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\n        driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\n        driver.findElement(By.xpath(&quot;done-button&quot;)).click();\n\n        return secretKeyReg;\n    }\n\n    public void enterGeneratedOTP() {\n        String code = generateOTP();\n        driver.findElement(By.xpath(&quot;authentication-code&quot;)).click();\n        driver.findElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(code);\n    }\n\n\n    public String generateOTP() {\n        try {\n            // Generate OTP using the stored secret key (secretKeyReg)\n            secretKeyReg = registerFor2FA();\n            String secretKey = secretKeyReg;\n            byte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\n            TOTP.Builder builder = new TOTP.Builder(secret);\n            builder.withPasswordLength(6)\n                    .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\n                    .withPeriod(Duration.ofSeconds(30));\n\n            TOTP totp = builder.build();\n            String code = totp.now(); // generate code\n            return code;\n        } catch (UnsupportedEncodingException e) {\n            System.err.println(&quot;The character encoding is not supported.&quot;);\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Now, the TwoFactorAuthentication class will utilize the provided WebDriver instance throughout its methods.</p>\n"}],"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689598260,"creation_date":1689307533,"question_id":76684656,"body_markdown":"I have a scenario where I register a user to use 2FA in a website and then use the generated code to generate OTPs in mutiple set of tests.\r\n\r\nIn my first method, I register to 2fa and use the manual entry to read the code,\r\n My registration page is similar to tis,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lSD9g.png\r\n\r\nCode,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic String registerFor2FA() {\r\n    \t\t// Register user to use 2FA\r\n    \t\t\r\n    \t\t// Login to website\r\n    \t\r\n    \t\t// Read secret key\r\n    \t\tWebElement secretKey = view.getElement(By.xpath(&quot;xpath&quot;));\r\n    \t\tString secretKeyReg = secretKey.getText();\r\n    \t\t// Enter 2fa code to register\r\n    \t\t\tString code = totp.now(); // generate code\r\n          view.getElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\r\n          view.getElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\r\n          view.getElement(By.xpath(&quot;done-button&quot;)).click();\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen I create OTPs using following method,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic void enterGeneratedOTP() {\r\n    \t\ttry {\r\n    \t\t\tsecretKeyReg = registerFor2FA();\r\n    \t\t\tString secretKey = secretKeyReg;\r\n    \t\t\tbyte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tTOTP.Builder builder = new TOTP.Builder(secret);\r\n\r\n    \t\t\tbuilder\r\n    \t\t\t\t\t.withPasswordLength(6)\r\n    \t\t\t\t\t.withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\r\n    \t\t\t\t\t.withPeriod(Duration.ofSeconds(30));\r\n\r\n    \t\t\tTOTP totp = builder.build();\r\n    \t\t\tString code = totp.now(); // generate code\r\n          view.getElement(By.xpath(&quot;authentication-code&quot;)).click;\r\n          view.getElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(Code);\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\tSystem.err.println(&quot;The character encoding is not supported.&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd then I use the following testcases to test the login scenarios,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic void loginUsing2FASuccessfulEmpPortal() {\r\n    \t\t// Load employee portal URL\r\n    \t\tchangeURL(webDriver, empPortalURL);\r\n    \t\t// Login to employee portal\r\n        view.getElement(By.xpath(&quot;username&quot;)).click;\r\n        view.getElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\r\n        view.SendKeys(Keys.TAB);\r\n        view.getElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\r\n        view.getElement(By.xpath(&quot;signin&quot;)).click;\r\n    \t\t// Enter OTP and sign in\r\n    \t\tenterGeneratedOTP();\r\n    \t\tview.getElement(By.xpath(&quot;login&quot;)).click;\r\n    \t\tsleep(5);\r\n    \t\t// Assertion to check whether the user logged in successfully\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI don&#39;t have a problem 2fa runing like this if I only have one script to run. Bu, I have multiple login scenarios which I have to use the same secretKeyReg multiple times. And if I call`enterGeneratedOTP();` in every method, the registration process has to go through 10 times for my 10 scenarios. How do I run the registration process only once and store the `secretKeyReg` to use it to test every login scenario.\r\n\r\nThanks in advance.","title":"Re-use a generated String in Selenium scripts","body":"<p>I have a scenario where I register a user to use 2FA in a website and then use the generated code to generate OTPs in mutiple set of tests.</p>\n<p>In my first method, I register to 2fa and use the manual entry to read the code,\nMy registration page is similar to tis,\n<a href=\"https://i.stack.imgur.com/lSD9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lSD9g.png\" alt=\"enter image description here\" /></a></p>\n<p>Code,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public String registerFor2FA() {\n        // Register user to use 2FA\n        \n        // Login to website\n    \n        // Read secret key\n        WebElement secretKey = view.getElement(By.xpath(\"xpath\"));\n        String secretKeyReg = secretKey.getText();\n        // Enter 2fa code to register\n            String code = totp.now(); // generate code\n      view.getElement(By.xpath(\"2-step-setup-code\")).click();\n      view.getElement(By.xpath(\"2-step-setup-code\")).sendKeys(code);\n      view.getElement(By.xpath(\"done-button\")).click();\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then I create OTPs using following method,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public void enterGeneratedOTP() {\n        try {\n            secretKeyReg = registerFor2FA();\n            String secretKey = secretKeyReg;\n            byte[] secret = secretKey.getBytes(\"UTF-8\");\n            TOTP.Builder builder = new TOTP.Builder(secret);\n\n            builder\n                    .withPasswordLength(6)\n                    .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\n                    .withPeriod(Duration.ofSeconds(30));\n\n            TOTP totp = builder.build();\n            String code = totp.now(); // generate code\n      view.getElement(By.xpath(\"authentication-code\")).click;\n      view.getElement(By.xpath(\"authentication-code\")).sendKeys(Code);\n        } catch (UnsupportedEncodingException e) {\n            System.err.println(\"The character encoding is not supported.\");\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And then I use the following testcases to test the login scenarios,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public void loginUsing2FASuccessfulEmpPortal() {\n        // Load employee portal URL\n        changeURL(webDriver, empPortalURL);\n        // Login to employee portal\n    view.getElement(By.xpath(\"username\")).click;\n    view.getElement(By.xpath(\"username\")).sendKeys(\"test\");\n    view.SendKeys(Keys.TAB);\n    view.getElement(By.xpath(\"password\")).sendKeys(\"test\");\n    view.getElement(By.xpath(\"signin\")).click;\n        // Enter OTP and sign in\n        enterGeneratedOTP();\n        view.getElement(By.xpath(\"login\")).click;\n        sleep(5);\n        // Assertion to check whether the user logged in successfully\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I don't have a problem 2fa runing like this if I only have one script to run. Bu, I have multiple login scenarios which I have to use the same secretKeyReg multiple times. And if I call<code>enterGeneratedOTP();</code> in every method, the registration process has to go through 10 times for my 10 scenarios. How do I run the registration process only once and store the <code>secretKeyReg</code> to use it to test every login scenario.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","kubernetes","hazelcast"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1689600118,"post_id":76704638,"comment_id":135232195,"body_markdown":"Do you have a stateful set ? `podManagementPolicy` unset or `OrderedReady` ?","body":"Do you have a stateful set ? <code>podManagementPolicy</code> unset or <code>OrderedReady</code> ?"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1689600135,"post_id":76704638,"comment_id":135232199,"body_markdown":"Also, worth trying a newer version of Hazelcast","body":"Also, worth trying a newer version of Hazelcast"},{"owner":{"account_id":4592578,"reputation":725,"user_id":3725508,"display_name":"Tony Yip"},"score":0,"creation_date":1689610262,"post_id":76704638,"comment_id":135234552,"body_markdown":"What config are you using?","body":"What config are you using?"},{"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"score":0,"creation_date":1689673901,"post_id":76704638,"comment_id":135243760,"body_markdown":"Hi thank you for the suggestions! After leaving it overnight I saw that it just needed some time. both pods discovered themselves but then merged to 1 cluster","body":"Hi thank you for the suggestions! After leaving it overnight I saw that it just needed some time. both pods discovered themselves but then merged to 1 cluster"}],"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689598179,"creation_date":1689598179,"question_id":76704638,"body_markdown":"I&#39;m trying to configure Hazelcast caching cluster with Spring boot using Kubernetes API discovery strategy and having an issue when application starts:\r\nThe pods are booting up just fine but only discovering themselves. The logs show:\r\n```\r\n[XXX.XXX.XXX.61]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [XXX.XXX.XXX.61]:5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956 this\r\n]\r\n```\r\nand\r\n```\r\n[XXX.XXX.XXX.2]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [XXX.XXX.XXX.2]:5701 - a9239765-a249-4c9a-92e6-4a9b34995b1d this\r\n]\r\n```\r\n\r\nWhen killing one pod it works just fine and see:\r\n```\r\n[XXX.XXX.XXX.185]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:2, ver:2} [\r\n\tMember [XXX.XXX.XXX.185]:5701 - 49b5660c-5484-4567-8d5b-8ff2adba5853 this\r\n\tMember [XXX.XXX.XXX.61]:5701 - 5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956\r\n]\r\n```\r\n\r\nIt seems like there&#39;s some kind of race condition.\r\n\r\nIs there anyway to solve it this?","title":"Hazelcast Kubernetes discovery - pods not discovering each other when application starts","body":"<p>I'm trying to configure Hazelcast caching cluster with Spring boot using Kubernetes API discovery strategy and having an issue when application starts:\nThe pods are booting up just fine but only discovering themselves. The logs show:</p>\n<pre><code>[XXX.XXX.XXX.61]:5701 [dev] [4.2.8] \n\nMembers {size:1, ver:1} [\n    Member [XXX.XXX.XXX.61]:5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956 this\n]\n</code></pre>\n<p>and</p>\n<pre><code>[XXX.XXX.XXX.2]:5701 [dev] [4.2.8] \n\nMembers {size:1, ver:1} [\n    Member [XXX.XXX.XXX.2]:5701 - a9239765-a249-4c9a-92e6-4a9b34995b1d this\n]\n</code></pre>\n<p>When killing one pod it works just fine and see:</p>\n<pre><code>[XXX.XXX.XXX.185]:5701 [dev] [4.2.8] \n\nMembers {size:2, ver:2} [\n    Member [XXX.XXX.XXX.185]:5701 - 49b5660c-5484-4567-8d5b-8ff2adba5853 this\n    Member [XXX.XXX.XXX.61]:5701 - 5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956\n]\n</code></pre>\n<p>It seems like there's some kind of race condition.</p>\n<p>Is there anyway to solve it this?</p>\n"},{"tags":["java","android","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662502274,"creation_date":1662502274,"answer_id":73628244,"question_id":73627564,"body_markdown":"I solved this by calling the status via a handler in the player&#39;s event listener. Starting a `runnable` from the listener which runs only when `player.isPlaying() == true`.\r\n\r\n         player.addListener(new Player.Listener() {\r\n            @Override\r\n            public void onEvents(Player player, Player.Events events) {\r\n                Player.Listener.super.onEvents(player, events);\r\n\r\n                if (events.contains(Player.EVENT_IS_PLAYING_CHANGED)) {\r\n                    if (player.isPlaying()) {\r\n                        positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\r\n\r\n                    } else {\r\n                        positionHandler.removeCallbacks(getCurrentPositionTask);\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        public Runnable getCurrentPositionTask = new Runnable() {\r\n\r\n        @Override\r\n        public void run() {\r\n            if (exoPlayer != null) {\r\n                currentPostion = exoPlayer.getCurrentPosition();\r\n                positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\r\n            }            \r\n        }\r\n    };\r\n\r\nThe UI calls the current position the same way in a runnable.\r\n\r\nI can&#39;t say whether this is the best way. but it&#39;s going well. \r\n\r\nGGK\r\n\r\n","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>I solved this by calling the status via a handler in the player's event listener. Starting a <code>runnable</code> from the listener which runs only when <code>player.isPlaying() == true</code>.</p>\n<pre><code>     player.addListener(new Player.Listener() {\n        @Override\n        public void onEvents(Player player, Player.Events events) {\n            Player.Listener.super.onEvents(player, events);\n\n            if (events.contains(Player.EVENT_IS_PLAYING_CHANGED)) {\n                if (player.isPlaying()) {\n                    positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\n\n                } else {\n                    positionHandler.removeCallbacks(getCurrentPositionTask);\n\n                }\n            }\n        }\n    });\n\n    public Runnable getCurrentPositionTask = new Runnable() {\n\n    @Override\n    public void run() {\n        if (exoPlayer != null) {\n            currentPostion = exoPlayer.getCurrentPosition();\n            positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\n        }            \n    }\n};\n</code></pre>\n<p>The UI calls the current position the same way in a runnable.</p>\n<p>I can't say whether this is the best way. but it's going well.</p>\n<p>GGK</p>\n"},{"tags":[],"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597931,"creation_date":1689597931,"answer_id":76704591,"question_id":73627564,"body_markdown":"This issue is from the Exoplayer Library if you are using version `com.google.android.exoplayer:exoplayer:2.18.6` and has been fixed. Furthermore, You can check below threads\r\nhttps://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028\r\nhttps://github.com/google/ExoPlayer/issues/11149","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>This issue is from the Exoplayer Library if you are using version <code>com.google.android.exoplayer:exoplayer:2.18.6</code> and has been fixed. Furthermore, You can check below threads\n<a href=\"https://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028</a>\n<a href=\"https://github.com/google/ExoPlayer/issues/11149\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/issues/11149</a></p>\n"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73628244,"answer_count":2,"score":0,"last_activity_date":1689597931,"creation_date":1662496903,"question_id":73627564,"body_markdown":"when I use `exoplayer` I get a `player is accessed on the wrong thread error`. How can I solve this?\r\n\r\n    Non-fatal Exception: java.lang.IllegalStateException: Player is accessed on the wrong \r\n    thread.\r\n    Current thread: &#39;main&#39;\r\n    Expected thread: &#39;ConnectivityThread&#39;\r\n    See https://exoplayer.dev/issues/player-accessed-on-wrong-thread\r\n\r\nThe player is started as a service via my BackgroundAudioService.class.\r\n\r\n    exoPlayer = new ExoPlayer.Builder(getApplicationContext()\r\n                .build();\r\n\r\nIn the main thread my looper is running, the \r\nwhich updates the UI via `exoplayer.getCurrentPosition()`.\r\n\r\n    public final Runnable updatePosition = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n\t\t\tposition  = BackgroundAudioService.getCurrentPostion();\r\n\t\t}\r\n    }\r\n\r\n    myHandler.postDelayed(updatePosition, myHandlerSleep);\r\n\r\nI don&#39;t know how to solve this problem (which occurs just sometimes), please help.\r\n\r\nThanks\r\nAlejandro\r\n\r\n","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>when I use <code>exoplayer</code> I get a <code>player is accessed on the wrong thread error</code>. How can I solve this?</p>\n<pre><code>Non-fatal Exception: java.lang.IllegalStateException: Player is accessed on the wrong \nthread.\nCurrent thread: 'main'\nExpected thread: 'ConnectivityThread'\nSee https://exoplayer.dev/issues/player-accessed-on-wrong-thread\n</code></pre>\n<p>The player is started as a service via my BackgroundAudioService.class.</p>\n<pre><code>exoPlayer = new ExoPlayer.Builder(getApplicationContext()\n            .build();\n</code></pre>\n<p>In the main thread my looper is running, the\nwhich updates the UI via <code>exoplayer.getCurrentPosition()</code>.</p>\n<pre><code>public final Runnable updatePosition = new Runnable() {\n    @Override\n    public void run() {\n        position  = BackgroundAudioService.getCurrentPostion();\n    }\n}\n\nmyHandler.postDelayed(updatePosition, myHandlerSleep);\n</code></pre>\n<p>I don't know how to solve this problem (which occurs just sometimes), please help.</p>\n<p>Thanks\nAlejandro</p>\n"},{"tags":["java","spring","yaml","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597517,"creation_date":1689597517,"answer_id":76704534,"question_id":76671337,"body_markdown":"open API wont generate any header in controller but there are ways to get header using 2 methods\r\n\r\n1.Using autowired HttpServletRequest variable ,this is managed by spring boot and is threadsafe, so any class which needs header information inject HttpServletRequest httpServletRequest.\r\n\r\n2.The other way is https://stackoverflow.com/questions/61345599/how-to-retrieve-unspecd-headers-with-openapi-generator-spring\r\n\r\nHope it helps any one who need it\r\n","title":"Pass HttpHeaders in Open API Generator","body":"<p>open API wont generate any header in controller but there are ways to get header using 2 methods</p>\n<p>1.Using autowired HttpServletRequest variable ,this is managed by spring boot and is threadsafe, so any class which needs header information inject HttpServletRequest httpServletRequest.</p>\n<p>2.The other way is <a href=\"https://stackoverflow.com/questions/61345599/how-to-retrieve-unspecd-headers-with-openapi-generator-spring\">How to retrieve unspec&#39;d headers with openapi-generator (spring)</a></p>\n<p>Hope it helps any one who need it</p>\n"}],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597517,"creation_date":1689169922,"question_id":76671337,"body_markdown":"I have a requirement in which I need to pass entire HTTP header as argument in spring boot controller can this be done via open-api generator\r\nMy Controller is like\r\n```\r\n @PostMapping(value = &quot;/dummyUrl&quot;,\r\n      produces = {APPLICATION_JSON_VALUE},\r\n      consumes = {APPLICATION_JSON_VALUE})\r\n  public ResponseEntity&lt;DummyResponse&gt;  processRequest(@RequestHeader HttpHeaders headers,@RequestBody UserDefineObject userDefineObject)\r\n```\r\nI Know how to process individual parameters in HttpHeaders by using \r\n\r\n```parameters: -in:header``` \r\n\r\n inside my yaml file but how to obtain entire httpheader","title":"Pass HttpHeaders in Open API Generator","body":"<p>I have a requirement in which I need to pass entire HTTP header as argument in spring boot controller can this be done via open-api generator\nMy Controller is like</p>\n<pre><code> @PostMapping(value = &quot;/dummyUrl&quot;,\n      produces = {APPLICATION_JSON_VALUE},\n      consumes = {APPLICATION_JSON_VALUE})\n  public ResponseEntity&lt;DummyResponse&gt;  processRequest(@RequestHeader HttpHeaders headers,@RequestBody UserDefineObject userDefineObject)\n</code></pre>\n<p>I Know how to process individual parameters in HttpHeaders by using</p>\n<p><code>parameters: -in:header</code></p>\n<p>inside my yaml file but how to obtain entire httpheader</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","godaddy-api"],"comments":[{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689338672,"post_id":76687155,"comment_id":135203099,"body_markdown":"Which browser version do you have? I have no problem with connecting to https://outlook.office365.com, using latest chromedriver.\nAlso, maybe it worth to try to get email via email connector and don&#39;t reach UI?","body":"Which browser version do you have? I have no problem with connecting to <a href=\"https://outlook.office365.com\" rel=\"nofollow noreferrer\">outlook.office365.com</a>, using latest chromedriver. Also, maybe it worth to try to get email via email connector and don&#39;t reach UI?"},{"owner":{"account_id":29014627,"reputation":1,"user_id":22225323,"display_name":"Sanchitha Jayasuriya"},"score":0,"creation_date":1689572179,"post_id":76687155,"comment_id":135226741,"body_markdown":"The Chrome Browser version is Version 114.0.5735.199. Is this what you meant by email connector?\nhttps://stackoverflow.com/questions/64584393/connecting-to-outlook365-from-selenium-java","body":"The Chrome Browser version is Version 114.0.5735.199. Is this what you meant by email connector? <a href=\"https://stackoverflow.com/questions/64584393/connecting-to-outlook365-from-selenium-java\" title=\"connecting to outlook365 from selenium java\">stackoverflow.com/questions/64584393/&hellip;</a>"},{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689584036,"post_id":76687155,"comment_id":135228727,"body_markdown":"I mean, not to connect to email via frontend, but via background email connector that connects to your mailbox, not using UI.","body":"I mean, not to connect to email via frontend, but via background email connector that connects to your mailbox, not using UI."}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597359,"creation_date":1689597359,"answer_id":76704513,"question_id":76687155,"body_markdown":"**Using UI to automate email service is not recommended, instead you can use Java mailer API&#39;s.**\r\n\r\n**To solve the above issue you can use the below hacks:**\r\n\r\n 1. Add custom user-agent to bypass detection.\r\n\r\n**Code:**\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        // Disable the automation message\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\r\n        // Hide the automation status bar\r\n        options.addArguments(&quot;--disable-infobars&quot;);\r\n        // Set the user agent\r\n        options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;);\r\n        WebDriver driver = new ChromeDriver(options);","title":"Finding a way to bypass the notification shown by GoDaddy in a chromedriver window in an automation script","body":"<p><strong>Using UI to automate email service is not recommended, instead you can use Java mailer API's.</strong></p>\n<p><strong>To solve the above issue you can use the below hacks:</strong></p>\n<ol>\n<li>Add custom user-agent to bypass detection.</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    // Disable the automation message\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\n    // Hide the automation status bar\n    options.addArguments(&quot;--disable-infobars&quot;);\n    // Set the user agent\n    options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;);\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":29014627,"reputation":1,"user_id":22225323,"display_name":"Sanchitha Jayasuriya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597359,"creation_date":1689333340,"question_id":76687155,"body_markdown":"I am currently writing an automation script using selenium with java. There, I am trying to get an OTP from the email which the OTP is being sent and I am planning to open a tab in the chromedriver and open the email in that tab. The email account is an office 365 account hosted by GoDaddy and during the attempt of sign in, this [notification](https://i.stack.imgur.com/EsNuq.png) pops up and I am not allowed to continue thereafter.\r\n\r\nI want to know a possible way to bypass this notification in the chromedriver.\r\n\r\nI tried searching all over the internet and nothing came up.\r\n\r\nThe following code segment is what I tried to do.\r\n\r\n```\r\npublic class EmailLoginSteps{\r\n   public static void main(String[] args)\r\n{\r\n      WebDriver driver = new ChromeDriver();\r\n      ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\r\n      tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n      driver.switchTo().window(tabs.get(1));\r\n      driver.get(&quot;https://outlook.office365.com&quot;);\r\n\r\n      driver.findElement(By.id(&quot;i0116&quot;)).sendKeys(email+&quot;\\n&quot;);//replace email with an godaddy hosted office 365 mail address\r\n      Thread.sleep(4000);\r\n      driver.findElement(By.id(&quot;password&quot;)).sendKeys(password+&quot;\\n&quot;);//replace password with the relevant password\r\n}\r\n```","title":"Finding a way to bypass the notification shown by GoDaddy in a chromedriver window in an automation script","body":"<p>I am currently writing an automation script using selenium with java. There, I am trying to get an OTP from the email which the OTP is being sent and I am planning to open a tab in the chromedriver and open the email in that tab. The email account is an office 365 account hosted by GoDaddy and during the attempt of sign in, this <a href=\"https://i.stack.imgur.com/EsNuq.png\" rel=\"nofollow noreferrer\">notification</a> pops up and I am not allowed to continue thereafter.</p>\n<p>I want to know a possible way to bypass this notification in the chromedriver.</p>\n<p>I tried searching all over the internet and nothing came up.</p>\n<p>The following code segment is what I tried to do.</p>\n<pre><code>public class EmailLoginSteps{\n   public static void main(String[] args)\n{\n      WebDriver driver = new ChromeDriver();\n      ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\n      tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n      driver.switchTo().window(tabs.get(1));\n      driver.get(&quot;https://outlook.office365.com&quot;);\n\n      driver.findElement(By.id(&quot;i0116&quot;)).sendKeys(email+&quot;\\n&quot;);//replace email with an godaddy hosted office 365 mail address\n      Thread.sleep(4000);\n      driver.findElement(By.id(&quot;password&quot;)).sendKeys(password+&quot;\\n&quot;);//replace password with the relevant password\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689597244,"creation_date":1689597244,"answer_id":76704498,"question_id":76704414,"body_markdown":"You don&#39;t document Lambda functions with Swagger, you document an API. That API  may be backed by AWS Lambda functions, but that technical detail is really irrelevant to the API documentation. You should be looking at how to document your AWS API Gateway, not your Lambda functions. \r\n\r\nAlso, Swagger is the old name for what is now called OpenAPI. \r\n\r\nAWS API Gateway supports exporting OpenAPI documentation for both [REST][1] and [HTTP][2] APIs.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api.html\r\n  [2]: https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html","title":"How to document AWS Lambda with Swagger?","body":"<p>You don't document Lambda functions with Swagger, you document an API. That API  may be backed by AWS Lambda functions, but that technical detail is really irrelevant to the API documentation. You should be looking at how to document your AWS API Gateway, not your Lambda functions.</p>\n<p>Also, Swagger is the old name for what is now called OpenAPI.</p>\n<p>AWS API Gateway supports exporting OpenAPI documentation for both <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api.html\" rel=\"nofollow noreferrer\">REST</a> and <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html\" rel=\"nofollow noreferrer\">HTTP</a> APIs.</p>\n"}],"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597244,"creation_date":1689596533,"question_id":76704414,"body_markdown":"I am a Junior Java Developer and was asked to implement OpenAPI (Swagger) documentation on the AWS Lambdas we have here. I&#39;ve been searching online for some material about this but didn&#39;t find anything really substantial.\r\n\r\nAny kind of guidance would be helpful.","title":"How to document AWS Lambda with Swagger?","body":"<p>I am a Junior Java Developer and was asked to implement OpenAPI (Swagger) documentation on the AWS Lambdas we have here. I've been searching online for some material about this but didn't find anything really substantial.</p>\n<p>Any kind of guidance would be helpful.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","atomikos"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689596658,"post_id":76704411,"comment_id":135231353,"body_markdown":"It doesn&#39;t get committed it gets flushed because you are issuing a query and it needs to have the full state for the transaction. Flushing != commiting.","body":"It doesn&#39;t get committed it gets flushed because you are issuing a query and it needs to have the full state for the transaction. Flushing != commiting."},{"owner":{"account_id":9031204,"reputation":23,"user_id":6728731,"display_name":"SUBHASHC37"},"score":0,"creation_date":1689599115,"post_id":76704411,"comment_id":135231931,"body_markdown":"@M.Deinum it gets persisted in the database, is that expected?","body":"@M.Deinum it gets persisted in the database, is that expected?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689600693,"post_id":76704411,"comment_id":135232331,"body_markdown":"How do you know it gets persisted? It should only flush and execute the query, the fact tha tyou see a query doesn&#39; t mean it is committed. If it is there is something wrong in your setup, but there is too little information to make an informed guess. Looking at the code what you are doing wouldn&#39;t even work/compile here, so please show some actual code instead of some non working dummy code.","body":"How do you know it gets persisted? It should only flush and execute the query, the fact tha tyou see a query doesn&#39; t mean it is committed. If it is there is something wrong in your setup, but there is too little information to make an informed guess. Looking at the code what you are doing wouldn&#39;t even work/compile here, so please show some actual code instead of some non working dummy code."}],"owner":{"account_id":9031204,"reputation":23,"user_id":6728731,"display_name":"SUBHASHC37"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689596509,"creation_date":1689596509,"question_id":76704411,"body_markdown":"I have below code,\r\n\r\n```\r\n@Service\r\npublic class MyHandlerService {\r\n\r\n    @Inject\r\n    private MyRepoService myRepoService;\r\n\r\n    @Transactional(value = &quot;manager1&quot;, propagation = Propagation.REQUIRES_NEW)\r\n    public void handle(final String message) {\r\n        myRepoService.save(message);\r\n    }\r\n\r\n}\r\n\r\n\r\n@Service\r\n@Transactional(&quot;manager1&quot;)\r\npublic class MyRepoService {\r\n    Inject\r\n    private final VehicleService vehicleService;\r\n\r\n    private void save(String message) {\r\n        MYVEHICLELIST.getEntries(message).forEach(vehicle -&gt; {\r\n            Vehicle vehicle = vehicleService.findById(vehicle.getId());\r\n            if (table1ObjectEntity == null)\r\n               vehicleService.save(vehicle);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class VehicleService {\r\n    @Inject\r\n    private final VehicleRepository repo;\r\n\r\n    @Transactional(value = &quot;manager1&quot;, readOnly = true)\r\n    public Vehicle findById(final String id) {\r\n        return repo.findById(id);\r\n    }\r\n\r\n    public void save(Vehicle obj) {\r\n        repo.save(obj);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have two entries in MYVEHICLELIST,\r\n\r\n 1. The first one gets looped and it is saved in the proxy (not committed)\r\n 2. when the second one is looped, then upon hitting `vehicleService.findById(vehicle.getId())` the first vehicle data in proxy gets committed and flushed to the database\r\n\r\nI expect both vehicles to get persisted only when MyHandlerService.handle() method is returned.\r\n\r\nTransactionManager used is com.atomikos.icatch.jta.UserTransactionManager","title":"transaction getting commited before existing the method","body":"<p>I have below code,</p>\n<pre><code>@Service\npublic class MyHandlerService {\n\n    @Inject\n    private MyRepoService myRepoService;\n\n    @Transactional(value = &quot;manager1&quot;, propagation = Propagation.REQUIRES_NEW)\n    public void handle(final String message) {\n        myRepoService.save(message);\n    }\n\n}\n\n\n@Service\n@Transactional(&quot;manager1&quot;)\npublic class MyRepoService {\n    Inject\n    private final VehicleService vehicleService;\n\n    private void save(String message) {\n        MYVEHICLELIST.getEntries(message).forEach(vehicle -&gt; {\n            Vehicle vehicle = vehicleService.findById(vehicle.getId());\n            if (table1ObjectEntity == null)\n               vehicleService.save(vehicle);\n            }\n        });\n    }\n\n}\n\n@Service\npublic class VehicleService {\n    @Inject\n    private final VehicleRepository repo;\n\n    @Transactional(value = &quot;manager1&quot;, readOnly = true)\n    public Vehicle findById(final String id) {\n        return repo.findById(id);\n    }\n\n    public void save(Vehicle obj) {\n        repo.save(obj);\n    }\n}\n\n</code></pre>\n<p>I have two entries in MYVEHICLELIST,</p>\n<ol>\n<li>The first one gets looped and it is saved in the proxy (not committed)</li>\n<li>when the second one is looped, then upon hitting <code>vehicleService.findById(vehicle.getId())</code> the first vehicle data in proxy gets committed and flushed to the database</li>\n</ol>\n<p>I expect both vehicles to get persisted only when MyHandlerService.handle() method is returned.</p>\n<p>TransactionManager used is com.atomikos.icatch.jta.UserTransactionManager</p>\n"},{"tags":["java","spring-boot","rate-limiting","whitelist","resilience4j"],"owner":{"account_id":20578793,"reputation":11,"user_id":15105395,"display_name":"Pranav Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689596344,"creation_date":1689595845,"question_id":76704332,"body_markdown":"Till now I have setup these, but it result in ratelimiting without any conditions \r\n\r\n```yaml\r\nresilience4j.ratelimiter:\r\n  instances:\r\n    basic:\r\n      limitForPeriod: ${RATE_LIMIT_PERMISIBLE_HITS:1000}\r\n      limitRefreshPeriod: ${RATE_LIMIT_REFRESH_RATE:1h}\r\n      timeoutDuration: ${RATE_LIMIT_TIMEOUT:20s}\r\n      registerHealthIndicator: ${RATE_LIMIT_HEALTH_INDICATOR:true}\r\n      eventConsumerBufferSize: ${RATE_LIMIT_EVENT_BUFFER:100}\r\n```\r\n```java\r\n@PostMapping\r\n@RateLimiter(name = &quot;basic&quot;, fallbackMethod = &quot;rateLimiterFallback&quot;)\r\nsuspend fun getTradeEngineResponse(@Valid @RequestBody tradeEngineRequest: TradeEngineRequest): ResponseMessage {\r\n    return Response&lt;ResponseMessage&gt;().ok(\r\n            ResponseMessage(id = tradeEngineService.getTradeEngineResponse(tradeEngineRequest), message = SaasConstants.SUCCESS_MESSAGE)\r\n    )\r\n}\r\n```\r\n\r\nExpecting to have a flag before `@RateLimiter` annotation based on that apply ratelimiter","title":"I need to setup ratelimiting in controller level for an API&#39;s but with certain condition check wheather have to apply ratelimiting or not","body":"<p>Till now I have setup these, but it result in ratelimiting without any conditions</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resilience4j.ratelimiter:\n  instances:\n    basic:\n      limitForPeriod: ${RATE_LIMIT_PERMISIBLE_HITS:1000}\n      limitRefreshPeriod: ${RATE_LIMIT_REFRESH_RATE:1h}\n      timeoutDuration: ${RATE_LIMIT_TIMEOUT:20s}\n      registerHealthIndicator: ${RATE_LIMIT_HEALTH_INDICATOR:true}\n      eventConsumerBufferSize: ${RATE_LIMIT_EVENT_BUFFER:100}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@RateLimiter(name = &quot;basic&quot;, fallbackMethod = &quot;rateLimiterFallback&quot;)\nsuspend fun getTradeEngineResponse(@Valid @RequestBody tradeEngineRequest: TradeEngineRequest): ResponseMessage {\n    return Response&lt;ResponseMessage&gt;().ok(\n            ResponseMessage(id = tradeEngineService.getTradeEngineResponse(tradeEngineRequest), message = SaasConstants.SUCCESS_MESSAGE)\n    )\n}\n</code></pre>\n<p>Expecting to have a flag before <code>@RateLimiter</code> annotation based on that apply ratelimiter</p>\n"},{"tags":["java","spring","spring-boot","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672227997,"creation_date":1672227997,"answer_id":74939863,"question_id":74939699,"body_markdown":"According to [Interface PagingAndSortingRepository][1], there is no save method in this interface. Hence your code is failing. \r\n\r\nBut [Interface CrudRepository][2] has a save method.\r\n\r\nAlso, this hierarchy might help to clear the picture even more:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\r\n  [3]: https://i.stack.imgur.com/os3nS.png","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">Interface PagingAndSortingRepository</a>, there is no save method in this interface. Hence your code is failing.</p>\n<p>But <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">Interface CrudRepository</a> has a save method.</p>\n<p>Also, this hierarchy might help to clear the picture even more:</p>\n<p><a href=\"https://i.stack.imgur.com/os3nS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/os3nS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15864751,"reputation":21,"user_id":11447053,"display_name":"Ajit1789"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689596281,"creation_date":1689596281,"answer_id":76704389,"question_id":74939699,"body_markdown":"[PagingAndSortingRepository][1] repository has mainly been created for fetching records and not modify it. \r\n\r\nIn this case your repository interface can extend both [PagingAndSortingRepository][1] &amp; [CrudRepository][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a> repository has mainly been created for fetching records and not modify it.</p>\n<p>In this case your repository interface can extend both <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a> &amp; <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">CrudRepository</a></p>\n"}],"owner":{"account_id":27372570,"reputation":21,"user_id":20878397,"display_name":"udacity training"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689596281,"creation_date":1672227015,"question_id":74939699,"body_markdown":"When i change from crudrepository to pagingandsortingrepository there is no save method and the application begins to fail\r\n\r\n\r\n\r\n```\r\n      error: cannot find symbol\r\n                courses.save(course);\r\n                       ^\r\n      symbol:   method save(Course)\r\n      location: variable courses of type CourseRepository\r\n```\r\n\r\n\r\n\r\nI have tried extending both","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p>When i change from crudrepository to pagingandsortingrepository there is no save method and the application begins to fail</p>\n<pre><code>      error: cannot find symbol\n                courses.save(course);\n                       ^\n      symbol:   method save(Course)\n      location: variable courses of type CourseRepository\n</code></pre>\n<p>I have tried extending both</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689579123,"post_id":76702138,"comment_id":135227746,"body_markdown":"can you print *names* before sorting and see if it&#39;s fine there?","body":"can you print <i>names</i> before sorting and see if it&#39;s fine there?"}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689595684,"creation_date":1689595684,"answer_id":76704298,"question_id":76702138,"body_markdown":"It seems that the issue is with the way you&#39;re trying to sort the list. In your code, I can see you are using Collections.reverse(names) to sort the list in reverse order. However, this method only reverses the existing order of the elements in the list, without actually sorting them in reverse alphabetical order.\r\n\r\nTo sort the list of names in reverse alphabetical order, you can use the `Collections.sort(names, Collections.reverseOrder());` method with a ***custom Comparator*** that sorts the elements in reverse order. \r\n\r\n**Updated Code:**\r\n\r\n     Collections.sort(names, Collections.reverseOrder());\r\n\r\n**Output:**\r\n**[![Output:][2]][2]**\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/1SCVi.png","title":"What is the method to retrieve the contents of a column in reverse order using Selenium","body":"<p>It seems that the issue is with the way you're trying to sort the list. In your code, I can see you are using Collections.reverse(names) to sort the list in reverse order. However, this method only reverses the existing order of the elements in the list, without actually sorting them in reverse alphabetical order.</p>\n<p>To sort the list of names in reverse alphabetical order, you can use the <code>Collections.sort(names, Collections.reverseOrder());</code> method with a <em><strong>custom Comparator</strong></em> that sorts the elements in reverse order.</p>\n<p><strong>Updated Code:</strong></p>\n<pre><code> Collections.sort(names, Collections.reverseOrder());\n</code></pre>\n<p><strong>Output:</strong>\n<strong><a href=\"https://i.stack.imgur.com/1SCVi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1SCVi.png\" alt=\"Output:\" /></a></strong></p>\n"}],"owner":{"account_id":29031899,"reputation":1,"user_id":22238595,"display_name":"Theodore Bagwell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689595684,"creation_date":1689577410,"question_id":76702138,"body_markdown":"As a beginner in Selenium and Java, I have encountered difficulties sorting a dataTable. Specifically, I am attempting to click on the Name column in order to sort it in reverse order, as the default sorting is in alphabetical order. However, even after storing the data in a List and printing its contents, I still see them in alphabetical order [Prestige Park Grove](https://www.prestigesparkgrove.in/). I have been working on this issue for the past week.\r\n\r\n```\r\npublic void sortPrincipalNameColumn() {\r\n    loginPage.getSampleURL();\r\n    loginPage.loginAction(&quot;hello&quot;, &quot;password&quot;);\r\n\r\n    // Click on the Name column to sort it in reverse alphabetical order\r\n    WebElement nameColumn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div/div/div[1]/ul/li[4]/a&quot;));\r\n    nameColumn.click();\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\r\n    WebElement nameHeader = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;principals-table\\&quot;]/thead/tr/th[2]&quot;)));\r\n    nameHeader.click();\r\n\r\n    List&lt;WebElement&gt; nameElements = driver.findElements(By.xpath(&quot;//tr/td[2]&quot;));\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\r\n    for (WebElement element : nameElements) {\r\n        names.add(element.getText());\r\n    }\r\n\r\n    // Sort the list in reverse order\r\n    Collections.reverse(names);\r\n\r\n    System.out.println(names);\r\n}\r\n```\r\n\r\nThe provided code did not produce the expected output of reverse alphabetical order. Despite the attempt to sort the list in reverse order, the printed output remains in alphabetical order","title":"What is the method to retrieve the contents of a column in reverse order using Selenium","body":"<p>As a beginner in Selenium and Java, I have encountered difficulties sorting a dataTable. Specifically, I am attempting to click on the Name column in order to sort it in reverse order, as the default sorting is in alphabetical order. However, even after storing the data in a List and printing its contents, I still see them in alphabetical order <a href=\"https://www.prestigesparkgrove.in/\" rel=\"nofollow noreferrer\">Prestige Park Grove</a>. I have been working on this issue for the past week.</p>\n<pre><code>public void sortPrincipalNameColumn() {\n    loginPage.getSampleURL();\n    loginPage.loginAction(&quot;hello&quot;, &quot;password&quot;);\n\n    // Click on the Name column to sort it in reverse alphabetical order\n    WebElement nameColumn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div/div/div[1]/ul/li[4]/a&quot;));\n    nameColumn.click();\n\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\n    WebElement nameHeader = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;principals-table\\&quot;]/thead/tr/th[2]&quot;)));\n    nameHeader.click();\n\n    List&lt;WebElement&gt; nameElements = driver.findElements(By.xpath(&quot;//tr/td[2]&quot;));\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n\n    for (WebElement element : nameElements) {\n        names.add(element.getText());\n    }\n\n    // Sort the list in reverse order\n    Collections.reverse(names);\n\n    System.out.println(names);\n}\n</code></pre>\n<p>The provided code did not produce the expected output of reverse alphabetical order. Despite the attempt to sort the list in reverse order, the printed output remains in alphabetical order</p>\n"},{"tags":["java","c#","web-services","serialization","sap-erp"],"comments":[{"owner":{"account_id":308462,"reputation":5916,"user_id":620355,"accept_rate":60,"display_name":"Jethro"},"score":1,"creation_date":1310973349,"post_id":6729580,"comment_id":7972511,"body_markdown":"can you show us what the bb object looks like when you serialize it locally to xml.","body":"can you show us what the bb object looks like when you serialize it locally to xml."},{"owner":{"account_id":12578778,"reputation":12325,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1689595356,"post_id":6729580,"comment_id":135231041,"body_markdown":"Difficult to say, if you don&#39;t provide the XML date format you send and the expected XML date format. Usually, SAP ERP (ECC, S/4HANA) standard webservices expect dates in format `YYYY-MM-DD` format (interpreted according to the time zone defined in the SAP system, unfortunately...), but I&#39;m not sure which SAP software and which Webservice you are talking about.","body":"Difficult to say, if you don&#39;t provide the XML date format you send and the expected XML date format. Usually, SAP ERP (ECC, S/4HANA) standard webservices expect dates in format <code>YYYY-MM-DD</code> format (interpreted according to the time zone defined in the SAP system, unfortunately...), but I&#39;m not sure which SAP software and which Webservice you are talking about."}],"answers":[{"tags":[],"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310992749,"creation_date":1310992749,"answer_id":6732985,"question_id":6729580,"body_markdown":"I had some troubles doing that some time ago, and I decided to work with long properties, because it&#39;s the closest generic interop way to achieve it, since c#&#39;s DateTime and java&#39;s Date objects are different things from different languages.","title":"Serialize c# DateTime to Java Time and Java Date for SAP webservice","body":"<p>I had some troubles doing that some time ago, and I decided to work with long properties, because it's the closest generic interop way to achieve it, since c#'s DateTime and java's Date objects are different things from different languages.</p>\n"}],"owner":{"account_id":299123,"reputation":1551,"user_id":605537,"accept_rate":50,"display_name":"Adrian Hedley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6732985,"answer_count":1,"score":1,"last_activity_date":1689595483,"creation_date":1310972630,"question_id":6729580,"body_markdown":"I need to upload data to SAP via a webservice, using WCF in c# 4.0 (VS2010). I have been able to connect and post data to the using the webservice successfully, however I ran into a problem with date and time.\r\n\r\nI have an class called `MtrRdngDocERPRsltCrteReqRslt` having 2 fields called `ActualMeterReadingDate` and `ActualMeterReadingTime`. When Visual Studio generated the proxy class, it converted these objects as datetime objects, however I know they are Date and Time on the other end of the webservice (which is implemented in JAVA).\r\n\r\nThe problem is that when I pass datetime values to these fields, they are not getting serialized and are not being received on the other end.\r\n\r\nAlso note that when I serialize dates that are defined as `DateTime` by the webservice, these work perfectly.\r\n\r\nI have also used the following code to serialize the whole object and save it locally as xml on and I have the same problem.\r\n\r\n----------\r\n\r\n    public void SerializeToXML(MeterReadingUploadWS2.MtrRdngDocERPRsltBulkCrteReqMsg bb, string path)\r\n    {\r\n     System.Xml.Serialization.XmlSerializer x = new System.Xml.Serialization.XmlSerializer(bb.GetType());\r\n                \r\n                var serializer = new System.Xml.Serialization.XmlSerializer(bb.GetType());\r\n                \r\n                using (var writer = System.Xml.XmlWriter.Create(path))\r\n                {                        \r\n                    serializer.Serialize(writer, bb);\r\n                }\r\n            }\r\n","title":"Serialize c# DateTime to Java Time and Java Date for SAP webservice","body":"<p>I need to upload data to SAP via a webservice, using WCF in c# 4.0 (VS2010). I have been able to connect and post data to the using the webservice successfully, however I ran into a problem with date and time.</p>\n<p>I have an class called <code>MtrRdngDocERPRsltCrteReqRslt</code> having 2 fields called <code>ActualMeterReadingDate</code> and <code>ActualMeterReadingTime</code>. When Visual Studio generated the proxy class, it converted these objects as datetime objects, however I know they are Date and Time on the other end of the webservice (which is implemented in JAVA).</p>\n<p>The problem is that when I pass datetime values to these fields, they are not getting serialized and are not being received on the other end.</p>\n<p>Also note that when I serialize dates that are defined as <code>DateTime</code> by the webservice, these work perfectly.</p>\n<p>I have also used the following code to serialize the whole object and save it locally as xml on and I have the same problem.</p>\n<hr />\n<pre><code>public void SerializeToXML(MeterReadingUploadWS2.MtrRdngDocERPRsltBulkCrteReqMsg bb, string path)\n{\n System.Xml.Serialization.XmlSerializer x = new System.Xml.Serialization.XmlSerializer(bb.GetType());\n            \n            var serializer = new System.Xml.Serialization.XmlSerializer(bb.GetType());\n            \n            using (var writer = System.Xml.XmlWriter.Create(path))\n            {                        \n                serializer.Serialize(writer, bb);\n            }\n        }\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651941527,"creation_date":1651929922,"answer_id":72152967,"question_id":72152905,"body_markdown":"There just happened to be a discussion about this in the OpenJDK mailing list. You can find an archive here: https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html. That discussion mentions the new [*JEP draft: Sequenced Collections*](https://openjdk.java.net/jeps/8280836) launched this year, 2022-01. \r\n\r\nUntil that is resolved, I&#39;m afraid you&#39;ll have to resort to documenting that the collections need to be ordered, and trusting that callers adhere to your precondition.","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p>There just happened to be a discussion about this in the OpenJDK mailing list. You can find an archive here: <a href=\"https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html\" rel=\"noreferrer\">https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html</a>. That discussion mentions the new <a href=\"https://openjdk.java.net/jeps/8280836\" rel=\"noreferrer\"><em>JEP draft: Sequenced Collections</em></a> launched this year, 2022-01.</p>\n<p>Until that is resolved, I'm afraid you'll have to resort to documenting that the collections need to be ordered, and trusting that callers adhere to your precondition.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689594986,"creation_date":1689594986,"answer_id":76704218,"question_id":72152905,"body_markdown":"[Sequenced Collections][1] API has already been integrated into JDK codebase and will be released along with JDK 21 on [September 19][2], 2023.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://openjdk.org/projects/jdk/21/","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p><a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Sequenced Collections</a> API has already been integrated into JDK codebase and will be released along with JDK 21 on <a href=\"https://openjdk.org/projects/jdk/21/\" rel=\"nofollow noreferrer\">September 19</a>, 2023.</p>\n"}],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72152967,"answer_count":2,"score":5,"last_activity_date":1689594986,"creation_date":1651929475,"question_id":72152905,"body_markdown":"I need to expose an API - `consume(sequence)` below - which mandates that its argument `sequence` collection be ordered as in the below excerpt:\r\n```java\r\ninterface Consumer&lt;T&gt; {\r\n\t/**\r\n\t * @param sequence: an *ordered* collection of Ts to be processed in order\r\n\t */\r\n\tpublic void consume(Collection&lt;T&gt; sequence);\r\n}\r\n\r\ninterface Producer&lt;T&gt; {\r\n\tCollection&lt;T&gt; getSequence();\r\n}\r\n\r\nclass Producer1&lt;T&gt; implements Producer&lt;T&gt; {\r\n\tpublic List&lt;T&gt; getSequence() {\r\n\t\treturn new ArrayList&lt;&gt;();\r\n\t}\r\n}\r\nclass Producer2&lt;T&gt; implements Producer&lt;T&gt; {\r\n\tpublic Deque&lt;T&gt; getSequence() {\r\n\t\treturn new LinkedList&lt;&gt;();\r\n\t}\r\n}\r\n\r\nclass Test {\r\n\tvoid testMethod(Consumer&lt;Long&gt; consumer) {\r\n\t\tconsumer.consume(new Producer1&lt;Long&gt;().getSequence());\r\n\t\tconsumer.consume(new Producer2&lt;Long&gt;().getSequence());\r\n\t}\r\n}\r\n```\r\n\r\nTypically one would specify `consume()` as accepting a `List`; however, some producers also expose a `Deque`, so as to facilitate things like efficient reverse-iteration using `descendingIterator()`.  However `Deque` doesn&#39;t extend `List` and there are [likely good reasons][1] for this (O(n) cost of accessing an indexed element in a `LinkedList`).\r\n\r\nSo it seems the only way to &quot;keep the compiler happy&quot; is to specify `sequence` as a `Collection`; however, according to the [Javadoc][2] (and as we all know), a &quot;some are ordered and others unordered&quot;, so the `consume()` API looses in semantics.\r\n\r\nAnother workaround would be to have `Producer2` expose a `LinkedList` rather than a `Deque` (and revert `consume()` to accept a `List`) but we know it&#39;s not ideal to expose implementations rather than interfaces.\r\n\r\nIt seems the ideal solution would be for Java to provide a `Sequence` super-interface to `List` and `Deque` (extending `Iterable`).  I can imagine one reason this wasn&#39;t done is complexity but I think this example demonstrates the need.\r\n\r\nAm I missing a better strategy here or do I just need to wait for a revision of the API?  For the record, this is Java 17.\r\n\r\n  [1]: https://stackoverflow.com/q/44059003/645016\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p>I need to expose an API - <code>consume(sequence)</code> below - which mandates that its argument <code>sequence</code> collection be ordered as in the below excerpt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Consumer&lt;T&gt; {\n    /**\n     * @param sequence: an *ordered* collection of Ts to be processed in order\n     */\n    public void consume(Collection&lt;T&gt; sequence);\n}\n\ninterface Producer&lt;T&gt; {\n    Collection&lt;T&gt; getSequence();\n}\n\nclass Producer1&lt;T&gt; implements Producer&lt;T&gt; {\n    public List&lt;T&gt; getSequence() {\n        return new ArrayList&lt;&gt;();\n    }\n}\nclass Producer2&lt;T&gt; implements Producer&lt;T&gt; {\n    public Deque&lt;T&gt; getSequence() {\n        return new LinkedList&lt;&gt;();\n    }\n}\n\nclass Test {\n    void testMethod(Consumer&lt;Long&gt; consumer) {\n        consumer.consume(new Producer1&lt;Long&gt;().getSequence());\n        consumer.consume(new Producer2&lt;Long&gt;().getSequence());\n    }\n}\n</code></pre>\n<p>Typically one would specify <code>consume()</code> as accepting a <code>List</code>; however, some producers also expose a <code>Deque</code>, so as to facilitate things like efficient reverse-iteration using <code>descendingIterator()</code>.  However <code>Deque</code> doesn't extend <code>List</code> and there are <a href=\"https://stackoverflow.com/q/44059003/645016\">likely good reasons</a> for this (O(n) cost of accessing an indexed element in a <code>LinkedList</code>).</p>\n<p>So it seems the only way to &quot;keep the compiler happy&quot; is to specify <code>sequence</code> as a <code>Collection</code>; however, according to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Javadoc</a> (and as we all know), a &quot;some are ordered and others unordered&quot;, so the <code>consume()</code> API looses in semantics.</p>\n<p>Another workaround would be to have <code>Producer2</code> expose a <code>LinkedList</code> rather than a <code>Deque</code> (and revert <code>consume()</code> to accept a <code>List</code>) but we know it's not ideal to expose implementations rather than interfaces.</p>\n<p>It seems the ideal solution would be for Java to provide a <code>Sequence</code> super-interface to <code>List</code> and <code>Deque</code> (extending <code>Iterable</code>).  I can imagine one reason this wasn't done is complexity but I think this example demonstrates the need.</p>\n<p>Am I missing a better strategy here or do I just need to wait for a revision of the API?  For the record, this is Java 17.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","performance","aws-lambda"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1685027709,"post_id":76333670,"comment_id":134606833,"body_markdown":"You only get millisecond response times if your lambda is warm AND you write good code. Apparently your lambda was not warm (360ms restore time) and your code was slow as well (200ms).","body":"You only get millisecond response times if your lambda is warm AND you write good code. Apparently your lambda was not warm (360ms restore time) and your code was slow as well (200ms)."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1685034042,"post_id":76333670,"comment_id":134608300,"body_markdown":"Are you wrapping a controller in an AWS Lambda function?","body":"Are you wrapping a controller in an AWS Lambda function?"},{"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"score":0,"creation_date":1685041876,"post_id":76333670,"comment_id":134609768,"body_markdown":"I use SpringBootLambdaContainerHandler. Code is in github link above.","body":"I use SpringBootLambdaContainerHandler. Code is in github link above."}],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689594982,"creation_date":1685026666,"question_id":76333670,"body_markdown":"I have created a helloworld proyect to run springboot in a lambda with java 11. Project don&#180;t have integrations, no bbdd or anything else. When I invoke the endpoint, the first time take about 5 seconds. \r\n\r\nLater I began to use SnapStart, so the first invoke takes 1,7 seconds now. Still a lot of time.\r\n\r\nLatency to my region is only 70ms.\r\n\r\nThe proyect is in github: https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot\r\n\r\nCloudwatch is:\r\n\r\n    RESTORE_START Runtime Version: java:11.v19\tRuntime Version ARN: arn:aws:lambda:eu-central-1::runtime:XXXXXXXX\r\n    RESTORE_REPORT Restore Duration: 361.18 ms\r\n    START RequestId: XXXXXXXXX Version: 1\r\n    2023-05-25 14:34:19.456  INFO 8 --- [           main] c.n.h.controller.HolaController          : recuperando saludo...\r\n    2023-05-25 14:34:19.486  INFO 8 --- [           main] c.a.s.p.internal.LambdaContainerHandler  : x.xxx.xxx.xxx null- null [25/05/2023:14:34:18Z] &quot;GET /saludo HTTP/1.1&quot; 200 73 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; combined\r\n    END RequestId: XXXXXXX\r\n    REPORT RequestId: XXXXXXX\tDuration: 205.50 ms\tBilled Duration: 430 ms\tMemory Size: 2048 MB\tMax Memory Used: 127 MB\tRestore Duration: 361.18 ms\tBilled Restore Duration: 224 ms\t\r\n\r\nIs it possible to reduce time less than 1 second? I see in some youtube videos lower times.\r\n\r\ntemplate.yaml\r\n\r\n    AWSTemplateFormatVersion: &#39;2010-09-09&#39;\r\n    Transform: &#39;AWS::Serverless-2016-10-31&#39;\r\n    \r\n    Resources:\r\n      HelloWorldFunction:\r\n        Type: &#39;AWS::Serverless::Function&#39;\r\n        Properties:\r\n          CodeUri: .\r\n          Handler: com.nebur.holamundosamawsspringboot.StreamLambdaHandler::handleRequest\r\n          Runtime: java11\r\n          AutoPublishAlias: production\r\n          SnapStart:\r\n            ApplyOn: PublishedVersions\r\n          Architectures:\r\n            - x86_64\r\n          MemorySize: 512      \r\n          Environment: # More info about Env Vars: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#environment-object\r\n            Variables:\r\n              JAVA_TOOL_OPTIONS: -XX:+TieredCompilation -XX:TieredStopAtLevel=1 # More info about tiered compilation https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/      \r\n          Events:\r\n            HelloWorld:\r\n              Type: Api\r\n              Properties:\r\n                Path: /{proxy+}\r\n                Method: ANY","title":"Java aws lambda with SnapStart and springboot still take 1744ms","body":"<p>I have created a helloworld proyect to run springboot in a lambda with java 11. Project don´t have integrations, no bbdd or anything else. When I invoke the endpoint, the first time take about 5 seconds.</p>\n<p>Later I began to use SnapStart, so the first invoke takes 1,7 seconds now. Still a lot of time.</p>\n<p>Latency to my region is only 70ms.</p>\n<p>The proyect is in github: <a href=\"https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot\" rel=\"nofollow noreferrer\">https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot</a></p>\n<p>Cloudwatch is:</p>\n<pre><code>RESTORE_START Runtime Version: java:11.v19  Runtime Version ARN: arn:aws:lambda:eu-central-1::runtime:XXXXXXXX\nRESTORE_REPORT Restore Duration: 361.18 ms\nSTART RequestId: XXXXXXXXX Version: 1\n2023-05-25 14:34:19.456  INFO 8 --- [           main] c.n.h.controller.HolaController          : recuperando saludo...\n2023-05-25 14:34:19.486  INFO 8 --- [           main] c.a.s.p.internal.LambdaContainerHandler  : x.xxx.xxx.xxx null- null [25/05/2023:14:34:18Z] &quot;GET /saludo HTTP/1.1&quot; 200 73 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; combined\nEND RequestId: XXXXXXX\nREPORT RequestId: XXXXXXX   Duration: 205.50 ms Billed Duration: 430 ms Memory Size: 2048 MB    Max Memory Used: 127 MB Restore Duration: 361.18 ms Billed Restore Duration: 224 ms \n</code></pre>\n<p>Is it possible to reduce time less than 1 second? I see in some youtube videos lower times.</p>\n<p>template.yaml</p>\n<pre><code>AWSTemplateFormatVersion: '2010-09-09'\nTransform: 'AWS::Serverless-2016-10-31'\n\nResources:\n  HelloWorldFunction:\n    Type: 'AWS::Serverless::Function'\n    Properties:\n      CodeUri: .\n      Handler: com.nebur.holamundosamawsspringboot.StreamLambdaHandler::handleRequest\n      Runtime: java11\n      AutoPublishAlias: production\n      SnapStart:\n        ApplyOn: PublishedVersions\n      Architectures:\n        - x86_64\n      MemorySize: 512      \n      Environment: # More info about Env Vars: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#environment-object\n        Variables:\n          JAVA_TOOL_OPTIONS: -XX:+TieredCompilation -XX:TieredStopAtLevel=1 # More info about tiered compilation https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/      \n      Events:\n        HelloWorld:\n          Type: Api\n          Properties:\n            Path: /{proxy+}\n            Method: ANY\n</code></pre>\n"},{"tags":["java","authentication","jwt","quarkus"],"comments":[{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1689521917,"post_id":76698369,"comment_id":135222224,"body_markdown":"I&#39;d doublecheck your jwt looks alright with https://jwt.io/ just to make sure.\n\nAlso, there should be some log output explaining what exactly went wrong with the request. Mind finding and posting it?","body":"I&#39;d doublecheck your jwt looks alright with <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> just to make sure.  Also, there should be some log output explaining what exactly went wrong with the request. Mind finding and posting it?"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689526588,"post_id":76698369,"comment_id":135222719,"body_markdown":"{\n  &quot;iss&quot;: &quot;module-y-jwt&quot;,\n  &quot;sub&quot;: &quot;module-y-jwt&quot;,\n  &quot;groups&quot;: [\n    &quot;admin, writer&quot;\n  ],\n  &quot;exp&quot;: 1689526448392,\n  &quot;iat&quot;: 1689526444,\n  &quot;jti&quot;: &quot;d7d4bac8-fda3-450b-a196-d7b353b27cca&quot;\n}","body":"{   &quot;iss&quot;: &quot;module-y-jwt&quot;,   &quot;sub&quot;: &quot;module-y-jwt&quot;,   &quot;groups&quot;: [     &quot;admin, writer&quot;   ],   &quot;exp&quot;: 1689526448392,   &quot;iat&quot;: 1689526444,   &quot;jti&quot;: &quot;d7d4bac8-fda3-450b-a196-d7b353b27cca&quot; }"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689526820,"post_id":76698369,"comment_id":135222759,"body_markdown":"@Snappawapa you can find the payload (from jwt.io) of the jwt above. Nothing special if you ask me... Also I do not see any loggings the terminal. Should I add some properties to see those?","body":"@Snappawapa you can find the payload (from jwt.io) of the jwt above. Nothing special if you ask me... Also I do not see any loggings the terminal. Should I add some properties to see those?"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689527570,"post_id":76698369,"comment_id":135222844,"body_markdown":"This is the code if you want to have a look at it: https://github.com/Tom-De-Backer/immo-accent/tree/authentication_youtube1","body":"This is the code if you want to have a look at it: <a href=\"https://github.com/Tom-De-Backer/immo-accent/tree/authentication_youtube1\" rel=\"nofollow noreferrer\">github.com/Tom-De-Backer/immo-accent/tree/&hellip;</a>"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689531827,"post_id":76698369,"comment_id":135223328,"body_markdown":"It all looks correct. Can you confirm JWT token is actually passed as a bearer access token with GET ? I can have a look if you can create a simple reproducer and share a link","body":"It all looks correct. Can you confirm JWT token is actually passed as a bearer access token with GET ? I can have a look if you can create a simple reproducer and share a link"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689533359,"post_id":76698369,"comment_id":135223509,"body_markdown":"@SergeyBeryozkin Yes, this is the curl request:\ncurl -X &#39;GET&#39; \\\n  &#39;http://localhost:8081/price-request/all&#39; \\\n  -H &#39;accept: */*&#39; \\\n  -H &#39;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJS...5QoKjBwVjpIYcw&#39;","body":"@SergeyBeryozkin Yes, this is the curl request: curl -X &#39;GET&#39; \\   &#39;<a href=\"http://localhost:8081/price-request/all\" rel=\"nofollow noreferrer\">localhost:8081/price-request/all</a>&#39; \\   -H &#39;accept: <i>/</i>&#39; \\   -H &#39;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJS...5QoKjBwVjpIYcw&#39;"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689583624,"post_id":76698369,"comment_id":135228634,"body_markdown":"@JanD.M., Thanks, I see what the problem is now, you have `.groups(roles)` - it creates a `groups` claim but on the receiving end you are customizing with `smallrye.jwt.path.groups=roles` thus `smallrye-jwt` expects to find a `roles` claim. `groups` is checked by default in the MP-JWT space, so dropping `smallrye.jwt.path.groups=roles` should fix the problem, please check","body":"@JanD.M., Thanks, I see what the problem is now, you have <code>.groups(roles)</code> - it creates a <code>groups</code> claim but on the receiving end you are customizing with <code>smallrye.jwt.path.groups=roles</code> thus <code>smallrye-jwt</code> expects to find a <code>roles</code> claim. <code>groups</code> is checked by default in the MP-JWT space, so dropping <code>smallrye.jwt.path.groups=roles</code> should fix the problem, please check"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689586014,"post_id":76698369,"comment_id":135229118,"body_markdown":"Just tried it, but removing the `smallrye.jwt.path.groups=roles` does not resolve the problem...","body":"Just tried it, but removing the <code>smallrye.jwt.path.groups=roles</code> does not resolve the problem..."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689586831,"post_id":76698369,"comment_id":135229290,"body_markdown":"@JanD.M. OK, thanks, can you create a test token and paste somewhere please for me to check against this config ?","body":"@JanD.M. OK, thanks, can you create a test token and paste somewhere please for me to check against this config ?"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1689586871,"post_id":76698369,"comment_id":135229301,"body_markdown":"Never mind, I can do it myself, will do soon today","body":"Never mind, I can do it myself, will do soon today"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1689591685,"post_id":76698369,"comment_id":135230273,"body_markdown":"@JanD.M. I&#39;ve opened a draft PR: https://github.com/quarkusio/quarkus/pull/34786, these tests pass. I&#39;ve created the keys as described above (though `-ii` parameter in `genRsa` was not used). I feel like some details are missing. After checking your comments above I may have spotted the problem, `&quot;groups&quot;: [ &quot;admin, writer&quot; ]` - this is not an array of 2 strings but a single string array. Use either `&quot;groups&quot;: [ &quot;admin&quot;, &quot;writer&quot;]` (preferred) or `&quot;groups&quot;: &quot;admin,writer&quot;` - but in the latter case you&#39;d need to set `smallrye.jwt.groups-separator=,` as ` ` is default in the latter case","body":"@JanD.M. I&#39;ve opened a draft PR: <a href=\"https://github.com/quarkusio/quarkus/pull/34786\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/34786</a>, these tests pass. I&#39;ve created the keys as described above (though <code>-ii</code> parameter in <code>genRsa</code> was not used). I feel like some details are missing. After checking your comments above I may have spotted the problem, <code>&quot;groups&quot;: [ &quot;admin, writer&quot; ]</code> - this is not an array of 2 strings but a single string array. Use either <code>&quot;groups&quot;: [ &quot;admin&quot;, &quot;writer&quot;]</code> (preferred) or <code>&quot;groups&quot;: &quot;admin,writer&quot;</code> - but in the latter case you&#39;d need to set <code>smallrye.jwt.groups-separator=,</code> as ` ` is default in the latter case"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689593695,"post_id":76698369,"comment_id":135230679,"body_markdown":"Oh that was indeed the problem. I added the code snippet to the question so you could add the answer :) Thanks!","body":"Oh that was indeed the problem. I added the code snippet to the question so you could add the answer :) Thanks!"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689594172,"post_id":76698369,"comment_id":135230785,"body_markdown":"Great, sounds good","body":"Great, sounds good"}],"answers":[{"tags":[],"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689594687,"creation_date":1689594687,"answer_id":76704173,"question_id":76698369,"body_markdown":"Please set roles like this:\r\n```\r\nSet&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n            List.of(&quot;admin&quot;, &quot;writer&quot;)\r\n    );\r\n```\r\notherwise a single string array is created with this string having 2 comma separated roles. In this case, when `smallrye-jwt` detects that a `groups` (or other claim configured with `smallrye.jwt.groups.path`) claim is an array of strings, it treats each array string as an individual value.\r\n\r\nSometimes a claim representing roles is indeed a single non-array string - in such cases `smallrye-jwt` will split this string by space, but the separator can be configured with `smallrye.jwt.groups-separator`.\r\nHTH","title":"RolesAllowed in Quarkus with JWT Authentication always returns 403 Forbidden","body":"<p>Please set roles like this:</p>\n<pre><code>Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin&quot;, &quot;writer&quot;)\n    );\n</code></pre>\n<p>otherwise a single string array is created with this string having 2 comma separated roles. In this case, when <code>smallrye-jwt</code> detects that a <code>groups</code> (or other claim configured with <code>smallrye.jwt.groups.path</code>) claim is an array of strings, it treats each array string as an individual value.</p>\n<p>Sometimes a claim representing roles is indeed a single non-array string - in such cases <code>smallrye-jwt</code> will split this string by space, but the separator can be configured with <code>smallrye.jwt.groups-separator</code>.\nHTH</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76704173,"answer_count":1,"score":1,"last_activity_date":1689594687,"creation_date":1689512089,"question_id":76698369,"body_markdown":"I have a method in my controller of `Module X` which should be secured by a `@RolesAllowed` annotation:\r\n\r\n    @GET\r\n    @RolesAllowed(&quot;admin&quot;)\r\n    public Response findAllPriceRequests() {\r\n        return Response.ok(serviceX.findAllPrices()).build();\r\n    }\r\n\r\nI have another `Module Y-jwt` which contains an api call to retrieve a Jwt like this:\r\n\r\n    public String generateJwt() {\r\n        Set&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n                List.of(&quot;admin&quot;)\r\n        );\r\n        long duration = System.currentTimeMillis() + 3600;\r\n        return Jwt.issuer(&quot;y-jwt&quot;)\r\n                .subject(&quot;y-jwt&quot;)\r\n                .groups(roles)\r\n                .expiresAt(duration)\r\n                .sign();\r\n    }\r\n\r\nThe application.properties file of `Module Y-jwt` contains the following:\r\n\r\n    quarkus.http.port=8082\r\n    \r\n    smallrye.jwt.sign.key.location=../jwt/privateKey.pem\r\n    smallrye.jwt.path.groups=roles\r\n\r\nThe one from `Module x` contains:\r\n\r\n    quarkus.swagger-ui.always-include=true\r\n    mp.jwt.verify.issuer=immo-jwt\r\n    mp.jwt.verify.publickey.location=../jwt/publicKey.pem\r\n    smallrye.jwt.path.groups=roles\r\n\r\nThe keys are created in the following way:\r\n\r\n    mkdir jwt\r\n    openssl genrsa -out jwt/rsaPrivateKey.pem 2048 -ii\r\n    openssl rsa -pubout -in jwt/rsaPrivateKey.pem -out jwt/publicKey.pem\r\n    openssl pkcs8 -topk8 -nocrypt -inform pem -in jwt/rsaPrivateKey.pem -outform pem -out jwt/privateKey.pem\r\n\r\n\r\nIn `Module X` this dependency is added:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn `Module Y-jwt` this one is added: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow, when I try to execute the GET call of Module X with the JWT of Module Y-jwt, then I get back a 403 Forbidden code. So there must be something wrong, because I think it can authenticate me, but not authorise me to execute the actual method that I want.\r\n\r\nWhat did I do wrong?\r\n\r\nUPDATE:\r\nThe code to generate my JWT:\r\n\r\n    public String generateJwt() {\r\n        Set&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n                List.of(&quot;admin, writer&quot;)\r\n        );\r\n        long duration = System.currentTimeMillis() + 3600;\r\n        return Jwt.issuer(&quot;y-jwt&quot;)\r\n                .subject(&quot;y-jwt&quot;)\r\n                .groups(roles)\r\n                .expiresAt(duration)\r\n                .sign();\r\n    }\r\n","title":"RolesAllowed in Quarkus with JWT Authentication always returns 403 Forbidden","body":"<p>I have a method in my controller of <code>Module X</code> which should be secured by a <code>@RolesAllowed</code> annotation:</p>\n<pre><code>@GET\n@RolesAllowed(&quot;admin&quot;)\npublic Response findAllPriceRequests() {\n    return Response.ok(serviceX.findAllPrices()).build();\n}\n</code></pre>\n<p>I have another <code>Module Y-jwt</code> which contains an api call to retrieve a Jwt like this:</p>\n<pre><code>public String generateJwt() {\n    Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin&quot;)\n    );\n    long duration = System.currentTimeMillis() + 3600;\n    return Jwt.issuer(&quot;y-jwt&quot;)\n            .subject(&quot;y-jwt&quot;)\n            .groups(roles)\n            .expiresAt(duration)\n            .sign();\n}\n</code></pre>\n<p>The application.properties file of <code>Module Y-jwt</code> contains the following:</p>\n<pre><code>quarkus.http.port=8082\n\nsmallrye.jwt.sign.key.location=../jwt/privateKey.pem\nsmallrye.jwt.path.groups=roles\n</code></pre>\n<p>The one from <code>Module x</code> contains:</p>\n<pre><code>quarkus.swagger-ui.always-include=true\nmp.jwt.verify.issuer=immo-jwt\nmp.jwt.verify.publickey.location=../jwt/publicKey.pem\nsmallrye.jwt.path.groups=roles\n</code></pre>\n<p>The keys are created in the following way:</p>\n<pre><code>mkdir jwt\nopenssl genrsa -out jwt/rsaPrivateKey.pem 2048 -ii\nopenssl rsa -pubout -in jwt/rsaPrivateKey.pem -out jwt/publicKey.pem\nopenssl pkcs8 -topk8 -nocrypt -inform pem -in jwt/rsaPrivateKey.pem -outform pem -out jwt/privateKey.pem\n</code></pre>\n<p>In <code>Module X</code> this dependency is added:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In <code>Module Y-jwt</code> this one is added:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, when I try to execute the GET call of Module X with the JWT of Module Y-jwt, then I get back a 403 Forbidden code. So there must be something wrong, because I think it can authenticate me, but not authorise me to execute the actual method that I want.</p>\n<p>What did I do wrong?</p>\n<p>UPDATE:\nThe code to generate my JWT:</p>\n<pre><code>public String generateJwt() {\n    Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin, writer&quot;)\n    );\n    long duration = System.currentTimeMillis() + 3600;\n    return Jwt.issuer(&quot;y-jwt&quot;)\n            .subject(&quot;y-jwt&quot;)\n            .groups(roles)\n            .expiresAt(duration)\n            .sign();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1636333593,"post_id":69876619,"comment_id":123521162,"body_markdown":"Small side note: You don&#39;t have to use `th:method=&quot;POST&quot;`, since this is a literal value (`POST`) and not a Thymeleaf expression. You can just use `method=&quot;POST&quot;`. Having said that, I assume using `th:method=&quot;POST&quot;` will still work as expected, in this specific case, because `POST` is a Thymeleaf [literal token](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#literal-tokens), here.","body":"Small side note: You don&#39;t have to use <code>th:method=&quot;POST&quot;</code>, since this is a literal value (<code>POST</code>) and not a Thymeleaf expression. You can just use <code>method=&quot;POST&quot;</code>. Having said that, I assume using <code>th:method=&quot;POST&quot;</code> will still work as expected, in this specific case, because <code>POST</code> is a Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#literal-tokens\" rel=\"nofollow noreferrer\">literal token</a>, here."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636360719,"post_id":69876619,"comment_id":123526033,"body_markdown":"Use `th:field` ditch `th:value`, `name` and `id` those actually break proper binding when used with `th:field`.","body":"Use <code>th:field</code> ditch <code>th:value</code>, <code>name</code> and <code>id</code> those actually break proper binding when used with <code>th:field</code>."}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636332254,"creation_date":1636332254,"answer_id":69877652,"question_id":69876619,"body_markdown":"Try using the following:\r\n```\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ClientID}&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ProcedureID}&quot;&gt;\r\n```\r\nNotice the use of * instead of $. Also, values in the `th:field` attributes are properties of the object specified by the `th:object` attribute. `th:field` will render the id and name attributes for you.","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<p>Try using the following:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:field=&quot;*{ClientID}&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ProcedureID}&quot;&gt;\n</code></pre>\n<p>Notice the use of * instead of $. Also, values in the <code>th:field</code> attributes are properties of the object specified by the <code>th:object</code> attribute. <code>th:field</code> will render the id and name attributes for you.</p>\n"},{"tags":[],"owner":{"account_id":25472021,"reputation":1,"user_id":19270043,"display_name":"Dawid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689594354,"creation_date":1689594354,"answer_id":76704129,"question_id":69876619,"body_markdown":"    &lt;input type=&quot;text&quot; hidden th:field=&quot;*{ClientID}&quot; th:value=&quot;${treatment.ClientID}&quot;&gt;\r\n\r\nSomething like this should work.","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<pre><code>&lt;input type=&quot;text&quot; hidden th:field=&quot;*{ClientID}&quot; th:value=&quot;${treatment.ClientID}&quot;&gt;\n</code></pre>\n<p>Something like this should work.</p>\n"}],"owner":{"account_id":23266660,"reputation":1,"user_id":17352097,"display_name":"rimbuda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689594354,"creation_date":1636320109,"question_id":69876619,"body_markdown":"I am trying to get values stored in the hidden inputs by creating submit button. But the program won&#39;t bind values to the object.\r\n\r\n**HTML file**\r\n```\r\n&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ClientID}&quot; name=&quot;1&quot; id=&quot;1&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ProcedureID}&quot; name=&quot;128&quot; id=&quot;128&quot;&gt;\r\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n**Controllers**\r\n```\r\n@GetMapping(&quot;/{id}/allprocedures/add&quot;)\r\n    public String addProcedure(Model model){\r\n        model.addAttribute(&quot;treatment&quot;, new Treatment());\r\n        return &quot;addProcedure&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/{id}/allprocedures&quot;)\r\n    public String saveProcedure(@ModelAttribute(&quot;treatment&quot;) Treatment treatment,\r\n                               @PathVariable(&quot;id&quot;) int id,\r\n                               BindingResult bindingResult){\r\n        if(bindingResult.hasErrors())\r\n            return &quot;procedurelist&quot;;\r\n        return &quot;redirect:/client/&quot;+ id +&quot;/allprocedures&quot;;\r\n    }\r\n```\r\n\r\n**Treatment model**\r\n```\r\npublic class Treatment {\r\n    private int ClientID, ProcedureID;\r\n}\r\n// constructor, getters and setters\r\n```\r\n\r\nController works fine. When i input data manually by using text input, the program works as should:\r\n```\r\n&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\r\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ClientID}&quot;&gt;\r\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ProcedureID}&quot;&gt;\r\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\r\n&lt;/form&gt;\r\n```\r\nAt the same time, when i use `th:field` and `name=&quot;&quot; id=&quot;&quot;`, it won&#39;t work too.\r\nI also tried using `th:value=&quot;name=&quot;&quot;`, but it doesn&#39;t work:\r\n```\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ClientID}&quot; th:attr=&quot;name=1&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ProcedureID}&quot; th:attr=&quot;name=128&quot;&gt;\r\n```\r\n\r\nCan somebody help or advise? Thanks in advance!","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<p>I am trying to get values stored in the hidden inputs by creating submit button. But the program won't bind values to the object.</p>\n<p><strong>HTML file</strong></p>\n<pre><code>&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ClientID}&quot; name=&quot;1&quot; id=&quot;1&quot;&gt;\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ProcedureID}&quot; name=&quot;128&quot; id=&quot;128&quot;&gt;\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<p><strong>Controllers</strong></p>\n<pre><code>@GetMapping(&quot;/{id}/allprocedures/add&quot;)\n    public String addProcedure(Model model){\n        model.addAttribute(&quot;treatment&quot;, new Treatment());\n        return &quot;addProcedure&quot;;\n    }\n\n    @PostMapping(&quot;/{id}/allprocedures&quot;)\n    public String saveProcedure(@ModelAttribute(&quot;treatment&quot;) Treatment treatment,\n                               @PathVariable(&quot;id&quot;) int id,\n                               BindingResult bindingResult){\n        if(bindingResult.hasErrors())\n            return &quot;procedurelist&quot;;\n        return &quot;redirect:/client/&quot;+ id +&quot;/allprocedures&quot;;\n    }\n</code></pre>\n<p><strong>Treatment model</strong></p>\n<pre><code>public class Treatment {\n    private int ClientID, ProcedureID;\n}\n// constructor, getters and setters\n</code></pre>\n<p>Controller works fine. When i input data manually by using text input, the program works as should:</p>\n<pre><code>&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ClientID}&quot;&gt;\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ProcedureID}&quot;&gt;\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<p>At the same time, when i use <code>th:field</code> and <code>name=&quot;&quot; id=&quot;&quot;</code>, it won't work too.\nI also tried using <code>th:value=&quot;name=&quot;&quot;</code>, but it doesn't work:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ClientID}&quot; th:attr=&quot;name=1&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ProcedureID}&quot; th:attr=&quot;name=128&quot;&gt;\n</code></pre>\n<p>Can somebody help or advise? Thanks in advance!</p>\n"},{"tags":["python","java","discord","bots","drop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689599917,"post_id":76704091,"comment_id":135232134,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29033666,"reputation":1,"user_id":22240045,"display_name":"kth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689594035,"creation_date":1689594035,"question_id":76704091,"body_markdown":"I want to make a new bot to collect cards in discord (e.g. ningning bot) but I can&#39;t find what the code is to drop a letter, could someone help me? Thank you in advance! I&#39;m new to this, sorry.\r\n\r\nI confess that I haven&#39;t tried any code because I can&#39;t think of which one I could use \r\n\r\nBut I&#39;ll try all the codes/methods","title":"Drop images from a database","body":"<p>I want to make a new bot to collect cards in discord (e.g. ningning bot) but I can't find what the code is to drop a letter, could someone help me? Thank you in advance! I'm new to this, sorry.</p>\n<p>I confess that I haven't tried any code because I can't think of which one I could use</p>\n<p>But I'll try all the codes/methods</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1688801818,"post_id":76637938,"comment_id":135125160,"body_markdown":"Can you please share a couple of sample data?","body":"Can you please share a couple of sample data?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1688807748,"post_id":76637938,"comment_id":135125731,"body_markdown":"I can do, once I get to my computer. It is really weird that the code works perfectly. Then I created a unit test to cover edge cases and it behaves differently. I have no idea why it doesn&#39;t initialize these object array properties in the test score.","body":"I can do, once I get to my computer. It is really weird that the code works perfectly. Then I created a unit test to cover edge cases and it behaves differently. I have no idea why it doesn&#39;t initialize these object array properties in the test score."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":1,"creation_date":1688976470,"post_id":76637938,"comment_id":135142046,"body_markdown":"My fault. I need to generate the aggregation dynamically because I use a different collection name in the test. I will keep the question because the code may be helpful to other people in future. It took me some time to construct such aggregation.","body":"My fault. I need to generate the aggregation dynamically because I use a different collection name in the test. I will keep the question because the code may be helpful to other people in future. It took me some time to construct such aggregation."},{"owner":{"account_id":6392314,"reputation":1429,"user_id":4957976,"display_name":"Mihail Feraru"},"score":2,"creation_date":1689420698,"post_id":76637938,"comment_id":135212955,"body_markdown":"@LeosLiterak if you found the solution yourself, I think you can answer your own question and close it. It may help others in the future.","body":"@LeosLiterak if you found the solution yourself, I think you can answer your own question and close it. It may help others in the future."}],"answers":[{"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689594019,"creation_date":1689594019,"answer_id":76704088,"question_id":76637938,"body_markdown":"Ok, the problem is that the colletions must be dynamically computed too:\r\n\r\n    final var resolvedStage = Aggregation.lookup(mongoProperties.getSomethingCollectionName()(),\r\n                &quot;something.id&quot;, &quot;id&quot;, &quot;items&quot;);\r\n","title":"Null after mongo array projection in aggregation in spring","body":"<p>Ok, the problem is that the colletions must be dynamically computed too:</p>\n<pre><code>final var resolvedStage = Aggregation.lookup(mongoProperties.getSomethingCollectionName()(),\n            &quot;something.id&quot;, &quot;id&quot;, &quot;items&quot;);\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689594019,"creation_date":1688740902,"question_id":76637938,"body_markdown":"This is my last stage in Mongo:\r\n\r\n    {\r\n      name: 1,\r\n      items: &quot;$activeItems&quot;,\r\n      tables: {\r\n        &quot;$map&quot;: {\r\n          &quot;input&quot;: &quot;$activeTables&quot;,\r\n          &quot;as&quot;: &quot;table&quot;,\r\n          &quot;in&quot;: {\r\n            &quot;tableName&quot;: &quot;$$table.tableName&quot;,\r\n            &quot;tableId&quot;: &quot;$$table.tableId&quot;\r\n\r\nI have written it this way in Spring data:\r\n\r\n    final var projectStage = Aggregation.project()\r\n            .andInclude(&quot;name&quot;)\r\n            .andExpression(&quot;$activeItems&quot;).as(&quot;items&quot;)\r\n            .and(VariableOperators.Map.itemsOf(&quot;$activeTables&quot;).as(&quot;table&quot;)\r\n                    .andApply(doc -&gt; {\r\n                        Document document = new Document();\r\n                        document.append(&quot;tableName&quot;, &quot;$$table.tableName&quot;);\r\n                        document.append(&quot;tableId&quot;, &quot;$$table.tableId&quot;);\r\n                        return document;\r\n                    }))\r\n            .as(&quot;tables&quot;);\r\n\r\n        final var result = mongoTemplate.aggregate(aggregation, Something.class, SomethingDto.class);\r\n\r\nSomething entity is defined as \r\n\r\n    @Document(collection = &quot;#{@mongoProperties.getSomethingCollectionName()}&quot;)\r\n    @TypeAlias(&quot;something&quot;)\r\n    public class Something{ \r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        private List&lt;SomethingElseIdDto&gt; somethingElse;\r\n        private List&lt;Long&gt; tables;\r\n    }\r\n\r\nDTOs are plain POJO:\r\n\r\n    public class SomethingDto {\r\n        String name;\r\n        List&lt;ItemDto&gt; items;\r\n        List&lt;TableDto&gt; tables;\r\n    }\r\n\r\n    @Data\r\n    @Builder(toBuilder = true)\r\n    @AllArgsConstructor\r\n    public class ItemDto {\r\n        Long itemId;\r\n        String itemName;\r\n\r\nWhen running a spring boot app, I get complete data from the REST endpoint including `items` and `tables` arrays. But an integration test sees both arrays `tables` and `items` as empty. I verified in Compass that they are computed in Mongo even in the test collection. \r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles({&quot;test&quot;, &quot;integration-test&quot;})\r\n    class DbServiceTest {\r\n\r\nSample data:\r\n\r\n    {\r\n    \t&quot;name&quot;: &quot;XYZ&quot;,\r\n    \t&quot;items&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;itemId&quot;: 123,\r\n    \t\t\t&quot;itemName&quot;: &quot;A&quot;,\r\n    \t\t},\r\n    \t&quot;tables&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;tableId&quot;: 456,\r\n    \t\t\t&quot;tableName&quot;: &quot;Q&quot;,\r\n    \t\t},\r\n\r\nThis is weird. Same code has different results depending on spring profile.\r\n","title":"Null after mongo array projection in aggregation in spring","body":"<p>This is my last stage in Mongo:</p>\n<pre><code>{\n  name: 1,\n  items: &quot;$activeItems&quot;,\n  tables: {\n    &quot;$map&quot;: {\n      &quot;input&quot;: &quot;$activeTables&quot;,\n      &quot;as&quot;: &quot;table&quot;,\n      &quot;in&quot;: {\n        &quot;tableName&quot;: &quot;$$table.tableName&quot;,\n        &quot;tableId&quot;: &quot;$$table.tableId&quot;\n</code></pre>\n<p>I have written it this way in Spring data:</p>\n<pre><code>final var projectStage = Aggregation.project()\n        .andInclude(&quot;name&quot;)\n        .andExpression(&quot;$activeItems&quot;).as(&quot;items&quot;)\n        .and(VariableOperators.Map.itemsOf(&quot;$activeTables&quot;).as(&quot;table&quot;)\n                .andApply(doc -&gt; {\n                    Document document = new Document();\n                    document.append(&quot;tableName&quot;, &quot;$$table.tableName&quot;);\n                    document.append(&quot;tableId&quot;, &quot;$$table.tableId&quot;);\n                    return document;\n                }))\n        .as(&quot;tables&quot;);\n\n    final var result = mongoTemplate.aggregate(aggregation, Something.class, SomethingDto.class);\n</code></pre>\n<p>Something entity is defined as</p>\n<pre><code>@Document(collection = &quot;#{@mongoProperties.getSomethingCollectionName()}&quot;)\n@TypeAlias(&quot;something&quot;)\npublic class Something{ \n    @Id\n    private String id;\n    private String name;\n    private List&lt;SomethingElseIdDto&gt; somethingElse;\n    private List&lt;Long&gt; tables;\n}\n</code></pre>\n<p>DTOs are plain POJO:</p>\n<pre><code>public class SomethingDto {\n    String name;\n    List&lt;ItemDto&gt; items;\n    List&lt;TableDto&gt; tables;\n}\n\n@Data\n@Builder(toBuilder = true)\n@AllArgsConstructor\npublic class ItemDto {\n    Long itemId;\n    String itemName;\n</code></pre>\n<p>When running a spring boot app, I get complete data from the REST endpoint including <code>items</code> and <code>tables</code> arrays. But an integration test sees both arrays <code>tables</code> and <code>items</code> as empty. I verified in Compass that they are computed in Mongo even in the test collection.</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles({&quot;test&quot;, &quot;integration-test&quot;})\nclass DbServiceTest {\n</code></pre>\n<p>Sample data:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;XYZ&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;itemId&quot;: 123,\n            &quot;itemName&quot;: &quot;A&quot;,\n        },\n    &quot;tables&quot;: [\n        {\n            &quot;tableId&quot;: 456,\n            &quot;tableName&quot;: &quot;Q&quot;,\n        },\n</code></pre>\n<p>This is weird. Same code has different results depending on spring profile.</p>\n"},{"tags":["java","selenium-webdriver","keypress"],"answers":[{"tags":[],"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394719601,"creation_date":1394719601,"answer_id":22381131,"question_id":22379967,"body_markdown":"From selenium javadoc:&lt;br /&gt;\r\n&lt;code&gt;public Actions sendKeys(java.lang.CharSequence... keysToSend)\r\nSends keys to the active element. &lt;/code&gt;&lt;br /&gt;\r\nMaybe you should use &lt;code&gt;keyDown(Keys theKey)&lt;/code&gt; and &lt;code&gt;keyUp(Keys theKey)&lt;/code&gt;","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>From selenium javadoc:<br />\n<code>public Actions sendKeys(java.lang.CharSequence... keysToSend)\nSends keys to the active element. </code><br />\nMaybe you should use <code>keyDown(Keys theKey)</code> and <code>keyUp(Keys theKey)</code></p>\n"},{"tags":[],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488891584,"creation_date":1394815129,"answer_id":22410898,"question_id":22379967,"body_markdown":"Rather hit Escape on body of the page using the following code:\r\n\r\n    WebElement body = driver.findElement(By.tagName(&quot;body&quot;));\r\n    body.sendKeys(Keys.ESCAPE);\r\n\r\nOR, You can use the following code to do the same thing:\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.ESCAPE);\r\n\r\nNow, you will see image disappeared.","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>Rather hit Escape on body of the page using the following code:</p>\n\n<pre><code>WebElement body = driver.findElement(By.tagName(\"body\"));\nbody.sendKeys(Keys.ESCAPE);\n</code></pre>\n\n<p>OR, You can use the following code to do the same thing:</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.ESCAPE);\n</code></pre>\n\n<p>Now, you will see image disappeared.</p>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689593437,"creation_date":1395122005,"answer_id":22471404,"question_id":22379967,"body_markdown":"The following 2 ways could work:\r\n\r\n1. Getting the element locator of enlarged book image -&gt; Send Escape to the element.\r\n\r\n    WebElement bookImg = driver.findElement(By.id(&quot;hoverNav&quot;));\r\n    bookImg.sendKeys(Keys.ESCAPE);\r\n\r\n\r\n2. You can press Escape key by Java Robot class as below:\r\n\r\n    import java.awt.Robot;&lt;br&gt;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    Robot r = new Robot();&lt;br&gt;\r\n    r.keyPress(KeyEvent.VK_ESCAPE);&lt;br&gt;\r\n    r.keyRelease(KeyEvent.VK_ESCAPE);\r\n","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>The following 2 ways could work:</p>\n<ol>\n<li><p>Getting the element locator of enlarged book image -&gt; Send Escape to the element.</p>\n<p>WebElement bookImg = driver.findElement(By.id(&quot;hoverNav&quot;));\nbookImg.sendKeys(Keys.ESCAPE);</p>\n</li>\n<li><p>You can press Escape key by Java Robot class as below:</p>\n<p>import java.awt.Robot;<br>\nimport java.awt.event.KeyEvent;</p>\n<p>Robot r = new Robot();<br>\nr.keyPress(KeyEvent.VK_ESCAPE);<br>\nr.keyRelease(KeyEvent.VK_ESCAPE);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689593437,"creation_date":1394716863,"question_id":22379967,"body_markdown":"My target is to escape/remove the enlarged book screen from the page by pressing &quot;Escape&quot; key. The following are my code:\r\n\r\n    driver.get(&quot;http://www.packtpub.com/selenium-webdriver-practical-guide/book&quot;);\r\n    WebElement cookieClose = driver.findElement(By.id(&quot;cookie-close&quot;));\r\n    if(cookieClose.isDisplayed()){\r\n    cookieClose.click();\r\n    }\r\n    driver.findElement(By.cssSelector(&quot;img.bookimage&quot;)).click();\r\n    Actions action = new Actions(driver);\r\n    action.sendKeys(Keys.ESCAPE).build().perform();\r\n\r\nBut the book image is not disappeared after pressing &quot;Escape&quot; key with WebDriver. (It is disappeared by pressing Escape key manually)\r\n","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>My target is to escape/remove the enlarged book screen from the page by pressing \"Escape\" key. The following are my code:</p>\n\n<pre><code>driver.get(\"http://www.packtpub.com/selenium-webdriver-practical-guide/book\");\nWebElement cookieClose = driver.findElement(By.id(\"cookie-close\"));\nif(cookieClose.isDisplayed()){\ncookieClose.click();\n}\ndriver.findElement(By.cssSelector(\"img.bookimage\")).click();\nActions action = new Actions(driver);\naction.sendKeys(Keys.ESCAPE).build().perform();\n</code></pre>\n\n<p>But the book image is not disappeared after pressing \"Escape\" key with WebDriver. (It is disappeared by pressing Escape key manually)</p>\n"},{"tags":["javascript","java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689593359,"creation_date":1689593359,"answer_id":76704014,"question_id":76700447,"body_markdown":"element handle&#39;s evaluate should work for you.\r\n\r\n```\r\nprivate void insertStyleBeforeElement(ElementHandle element, String cssContent) {\r\n    String js = &quot;(element, cssContent) =&gt; {&quot; +\r\n                &quot;    if (!element) {&quot; +\r\n                &quot;        console.log(&#39;Element is null or undefined&#39;);&quot; +\r\n                &quot;        return;&quot; +\r\n                &quot;    }&quot; +\r\n                &quot;    console.log(&#39;Element:&#39;, element);&quot; +\r\n                &quot;    let styleElem = document.createElement(&#39;style&#39;);&quot; +\r\n                &quot;    styleElem.type = &#39;text/css&#39;;&quot; +\r\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\r\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\r\n                &quot;}&quot;;\r\n    element.evaluate(js, cssContent);\r\n}\r\n```","title":"Insert an element (tag) on a Page with Playwright","body":"<p>element handle's evaluate should work for you.</p>\n<pre><code>private void insertStyleBeforeElement(ElementHandle element, String cssContent) {\n    String js = &quot;(element, cssContent) =&gt; {&quot; +\n                &quot;    if (!element) {&quot; +\n                &quot;        console.log('Element is null or undefined');&quot; +\n                &quot;        return;&quot; +\n                &quot;    }&quot; +\n                &quot;    console.log('Element:', element);&quot; +\n                &quot;    let styleElem = document.createElement('style');&quot; +\n                &quot;    styleElem.type = 'text/css';&quot; +\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\n                &quot;}&quot;;\n    element.evaluate(js, cssContent);\n}\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76704014,"answer_count":1,"score":1,"last_activity_date":1689593359,"creation_date":1689542201,"question_id":76700447,"body_markdown":"What is the correct way to insert a `&lt;style&gt;` tag into a `Page` using Playwright:\r\n\r\n```\r\nprivate void insertStyleBeforeElement(Page page, ElementHandle element, String cssContent) {\r\n        String js = &quot;(element, cssContent) =&gt; {&quot; +\r\n                &quot;    if (!element) {&quot; +\r\n                &quot;        console.log(&#39;Element is null or undefined&#39;);&quot; +\r\n                &quot;        return;&quot; +\r\n                &quot;    }&quot; +\r\n                &quot;    console.log(&#39;Element:&#39;, element);&quot; +\r\n                &quot;    let styleElem = document.createElement(&#39;style&#39;);&quot; +\r\n                &quot;    styleElem.type = &#39;text/css&#39;;&quot; +\r\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\r\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\r\n                &quot;}&quot;;\r\n        page.evaluate(js, Arrays.asList(element, cssContent));\r\n    }\r\n```\r\n\r\nThis method throws:\r\n\r\n```\r\ncom.microsoft.playwright.PlaywrightException: Error {\r\n  message=&#39;element.parentNode is undefined\r\n@debugger eval code line 191 &gt; eval:1:280\r\nevaluate@debugger eval code:198:19\r\n@debugger eval code:1:44\r\n\r\n  name=&#39;Error\r\n  stack=&#39;Error: element.parentNode is undefined\r\n@debugger eval code line 191 &gt; eval:1:280\r\n```\r\n\r\nThough, when I check the debugger there is a *parent* node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IeR8d.png","title":"Insert an element (tag) on a Page with Playwright","body":"<p>What is the correct way to insert a <code>&lt;style&gt;</code> tag into a <code>Page</code> using Playwright:</p>\n<pre><code>private void insertStyleBeforeElement(Page page, ElementHandle element, String cssContent) {\n        String js = &quot;(element, cssContent) =&gt; {&quot; +\n                &quot;    if (!element) {&quot; +\n                &quot;        console.log('Element is null or undefined');&quot; +\n                &quot;        return;&quot; +\n                &quot;    }&quot; +\n                &quot;    console.log('Element:', element);&quot; +\n                &quot;    let styleElem = document.createElement('style');&quot; +\n                &quot;    styleElem.type = 'text/css';&quot; +\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\n                &quot;}&quot;;\n        page.evaluate(js, Arrays.asList(element, cssContent));\n    }\n</code></pre>\n<p>This method throws:</p>\n<pre><code>com.microsoft.playwright.PlaywrightException: Error {\n  message='element.parentNode is undefined\n@debugger eval code line 191 &gt; eval:1:280\nevaluate@debugger eval code:198:19\n@debugger eval code:1:44\n\n  name='Error\n  stack='Error: element.parentNode is undefined\n@debugger eval code line 191 &gt; eval:1:280\n</code></pre>\n<p>Though, when I check the debugger there is a <em>parent</em> node.</p>\n<p><a href=\"https://i.stack.imgur.com/IeR8d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IeR8d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689582689,"post_id":76702593,"comment_id":135228428,"body_markdown":"This means that the `EmployeeRepository` could not be created. Is there anything else on the stacktrace or on logs that could help troubleshoot why the `repository` could not be instantiated?","body":"This means that the <code>EmployeeRepository</code> could not be created. Is there anything else on the stacktrace or on logs that could help troubleshoot why the <code>repository</code> could not be instantiated?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689582911,"post_id":76702593,"comment_id":135228472,"body_markdown":"@spyrospal Following link provides the full output log: https://pastebin.com/QaKccLr0","body":"@spyrospal Following link provides the full output log: <a href=\"https://pastebin.com/QaKccLr0\" rel=\"nofollow noreferrer\">pastebin.com/QaKccLr0</a>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689583288,"post_id":76702593,"comment_id":135228558,"body_markdown":"@Alexander &quot;This page is no longer available&quot;. Please include the relevant part of the log in the question.","body":"@Alexander &quot;This page is no longer available&quot;. Please include the relevant part of the log in the question."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689583397,"post_id":76702593,"comment_id":135228578,"body_markdown":"@Jorn apoligies, I included it in my question to make sure it&#39;s there.","body":"@Jorn apoligies, I included it in my question to make sure it&#39;s there."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689583624,"post_id":76702593,"comment_id":135228633,"body_markdown":"`javax.persistence-2.2.1.jar` is your problem. You included JavaEE dependencies while using Spring Boot 3.1 which is JakartaEE. If you are using EclipseLink (instead of hibernate) upgrade to a version of EclipseLink that is JakartaEE compatible and make sure your entities are using `jakarta.persistence` instead of `javax.persistence` imports (which they probably are now).","body":"<code>javax.persistence-2.2.1.jar</code> is your problem. You included JavaEE dependencies while using Spring Boot 3.1 which is JakartaEE. If you are using EclipseLink (instead of hibernate) upgrade to a version of EclipseLink that is JakartaEE compatible and make sure your entities are using <code>jakarta.persistence</code> instead of <code>javax.persistence</code> imports (which they probably are now)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1689583644,"post_id":76702593,"comment_id":135228640,"body_markdown":"Your `EmployeeRepository` is an interface. Is this supposed to work? Don&#39;t you need a class that can be instantiated? Or shouldn&#39;t EmployeeRepository be annotated as a Bean?","body":"Your <code>EmployeeRepository</code> is an interface. Is this supposed to work? Don&#39;t you need a class that can be instantiated? Or shouldn&#39;t EmployeeRepository be annotated as a Bean?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689583856,"post_id":76702593,"comment_id":135228689,"body_markdown":"@f1sh the problem is the parameter `repository` right? It says do it like this in the tutorial but it&#39;s literally non-existent as far as I can see. But I don&#39;t know how the `initDatabase` gets called or where it gets called so I&#39;m a bit clueless","body":"@f1sh the problem is the parameter <code>repository</code> right? It says do it like this in the tutorial but it&#39;s literally non-existent as far as I can see. But I don&#39;t know how the <code>initDatabase</code> gets called or where it gets called so I&#39;m a bit clueless"},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689584835,"post_id":76702593,"comment_id":135228877,"body_markdown":"Where is your main class (which includes the line `public static void main(String[] args)` in the file)?","body":"Where is your main class (which includes the line <code>public static void main(String[] args)</code> in the file)?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689585006,"post_id":76702593,"comment_id":135228905,"body_markdown":"@Jesse I added `DemoApplication.java` to the question, thanks for helping","body":"@Jesse I added <code>DemoApplication.java</code> to the question, thanks for helping"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1689586303,"post_id":76702593,"comment_id":135229170,"body_markdown":"Repeating the problem is `javax.persistence-2.2.1.jar` as you are following a tutorial but decided to use newer versions of the framework. The guide is for Spring Boot 2.7 not 3.x. SO either downgrade your Spring Boot version and follow the tutorial or upgrade and remove the `javax.persistence-2.2.1.jar` dependency and fix the imports to `jakarta.persistence`.","body":"Repeating the problem is <code>javax.persistence-2.2.1.jar</code> as you are following a tutorial but decided to use newer versions of the framework. The guide is for Spring Boot 2.7 not 3.x. SO either downgrade your Spring Boot version and follow the tutorial or upgrade and remove the <code>javax.persistence-2.2.1.jar</code> dependency and fix the imports to <code>jakarta.persistence</code>."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689587979,"post_id":76702593,"comment_id":135229546,"body_markdown":"@M.Deinum I&#39;m getting the same error still and am also getting something in the class where I had to update the import `Class &#39;Employee&#39; should have [public, protected] no-arg constructor`","body":"@M.Deinum I&#39;m getting the same error still and am also getting something in the class where I had to update the import <code>Class &#39;Employee&#39; should have [public, protected] no-arg constructor</code>"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689588136,"post_id":76702593,"comment_id":135229578,"body_markdown":"@M.Deinum I managed to update that package successfully, but I&#39;m still getting the error from the question above.","body":"@M.Deinum I managed to update that package successfully, but I&#39;m still getting the error from the question above."},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689588385,"post_id":76702593,"comment_id":135229617,"body_markdown":"I tested it in Spring Boot 2.6.1 and it works. @M.Deinum may be right - you can downgrade your Spring Boot version to 2.7 or below. I haven&#39;t tested it with 3.1.1, so I can&#39;t reproduce your problem myself.","body":"I tested it in Spring Boot 2.6.1 and it works. @M.Deinum may be right - you can downgrade your Spring Boot version to 2.7 or below. I haven&#39;t tested it with 3.1.1, so I can&#39;t reproduce your problem myself."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689588515,"post_id":76702593,"comment_id":135229649,"body_markdown":"I&#39;ll downgrade and keep you posted, thanks for helpign out","body":"I&#39;ll downgrade and keep you posted, thanks for helpign out"},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":1,"creation_date":1689588743,"post_id":76702593,"comment_id":135229691,"body_markdown":"If you are still not successful, you can post your`pom.xml` and `Employee.java` files to display more details.","body":"If you are still not successful, you can post your<code>pom.xml</code> and <code>Employee.java</code> files to display more details."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689589840,"post_id":76702593,"comment_id":135229911,"body_markdown":"Now I&#39;m getting: `/Users/alexanderclaes/Downloads/demo/src/main/java/com/example/demo/EmployeeRepository.java:5`\njava: cannot access org.springframework.data.repository.ListCrudRepository\n  class file for org.springframework.data.repository.ListCrudRepository not found","body":"Now I&#39;m getting: <code>&#47;Users&#47;alexanderclaes&#47;Downloads&#47;demo&#47;src&#47;main&#47;java&#47;com&#47;examp&zwnj;&#8203;le&#47;demo&#47;EmployeeRepo&zwnj;&#8203;sitory.java:5</code> java: cannot access org.springframework.data.repository.ListCrudRepository   class file for org.springframework.data.repository.ListCrudRepository not found"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689591417,"post_id":76702593,"comment_id":135230218,"body_markdown":"Remove `javax.persistence`, remove `spring-dat-jpa`. Add `spring-boot-starter-data-jpa` instead. You are using an incompatible Spring Data version (which is for Spring Boot 3 and ideally you should be using the starter so you get the appropriate compatible versions). You are trying to outsmart the dependency management that is already being handled for you.","body":"Remove <code>javax.persistence</code>, remove <code>spring-dat-jpa</code>. Add <code>spring-boot-starter-data-jpa</code> instead. You are using an incompatible Spring Data version (which is for Spring Boot 3 and ideally you should be using the starter so you get the appropriate compatible versions). You are trying to outsmart the dependency management that is already being handled for you."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689591525,"post_id":76702593,"comment_id":135230244,"body_markdown":"If you want to upgrade the Spring Boot 3 the only thing you need to change is the imports in your entity from `javax.persistence` to `jakarta.persistence` (after changing the Spring Boot version).","body":"If you want to upgrade the Spring Boot 3 the only thing you need to change is the imports in your entity from <code>javax.persistence</code> to <code>jakarta.persistence</code> (after changing the Spring Boot version)."}],"answers":[{"tags":[],"owner":{"account_id":29032727,"reputation":1,"user_id":22239264,"display_name":"husong1128"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1689586094,"creation_date":1689586094,"answer_id":76703096,"question_id":76702593,"body_markdown":"\r\n    @Repository\r\npublic interface EmployeeRepository {\r\n}\r\n？ok","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<pre><code>@Repository\n</code></pre>\n<p>public interface EmployeeRepository {\n}\n？ok</p>\n"},{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689593242,"creation_date":1689592886,"answer_id":76703944,"question_id":76702593,"body_markdown":"Below is the `pom.xml` file that I tested successfully before:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nIf you want to test it on Spring Boot version 2.7.1 you can copy&amp;paste it after backup your original `pom.xml`.","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<p>Below is the <code>pom.xml</code> file that I tested successfully before:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>If you want to test it on Spring Boot version 2.7.1 you can copy&amp;paste it after backup your original <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689593242,"creation_date":1689581632,"question_id":76702593,"body_markdown":"I&#39;m following the REST tutorial [here][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n\r\nWith the following code I get this error `Parameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type &#39;com.example.demo.EmployeeRepository&#39; that could not be found.`\r\n\r\n\r\nLoadDatabase.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nEmployeeRepository.java:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nDemoApplication.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEmployee.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n    private @Id @GeneratedValue Long id;\r\n    private String name;\r\n    private String role;\r\n\r\n    Employee() {}\r\n\r\n    Employee(String name, String role) {\r\n\r\n        this.name = name;\r\n        this.role = role;\r\n    }\r\n\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public String getRole() {\r\n        return this.role;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Employee))\r\n            return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\r\n                &amp;&amp; Objects.equals(this.role, employee.role);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.name, this.role);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;\\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nDoes this mean it doesn&#39;t find `repository`? What am I doing wrong? I&#39;m clueless because I&#39;m following the tutorial and it doesn&#39;t mention it.\r\n\r\nFull OUTPUT LOG:\r\n```\r\n/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55473:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/alexanderclaes/Downloads/demo/target/classes:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.1/spring-boot-starter-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot/3.1.1/spring-boot-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.1/spring-boot-autoconfigure-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.1/spring-boot-starter-logging-3.1.1.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-classic/1.4.8/logback-classic-1.4.8.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-core/1.4.8/logback-core-1.4.8.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/jul-to-slf4j/2.0.7/jul-to-slf4j-2.0.7.jar:/Users/alexanderclaes/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-core/6.0.10/spring-core-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jcl/6.0.10/spring-jcl-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-jpa/3.1.2/spring-data-jpa-3.1.2.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-commons/3.1.1/spring-data-commons-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-orm/6.0.10/spring-orm-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jdbc/6.0.10/spring-jdbc-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-context/6.0.10/spring-context-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-expression/6.0.10/spring-expression-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-aop/6.0.10/spring-aop-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-tx/6.0.10/spring-tx-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-beans/6.0.10/spring-beans-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/Users/alexanderclaes/.m2/repository/org/eclipse/persistence/javax.persistence/2.2.1/javax.persistence-2.2.1.jar com.example.demo.DemoApplication\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.1)\r\n\r\n2023-07-17T10:06:05.878+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 91212 (/Users/alexanderclaes/Downloads/demo/target/classes started by alexanderclaes in /Users/alexanderclaes/Downloads/demo)\r\n2023-07-17T10:06:05.880+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-17T10:06:06.057+02:00  WARN 91212 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;initDatabase&#39; defined in class path resource [com/example/demo/LoadDatabase.class]: Unsatisfied dependency expressed through method &#39;initDatabase&#39; parameter 0: No qualifying bean of type &#39;com.example.demo.EmployeeRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-07-17T10:06:06.060+02:00  INFO 91212 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-07-17T10:06:06.072+02:00 ERROR 91212 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type &#39;com.example.demo.EmployeeRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.demo.EmployeeRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<p>I'm following the REST tutorial <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>With the following code I get this error <code>Parameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type 'com.example.demo.EmployeeRepository' that could not be found.</code></p>\n<p>LoadDatabase.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>EmployeeRepository.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>DemoApplication.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Employee.java:</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n    private @Id @GeneratedValue Long id;\n    private String name;\n    private String role;\n\n    Employee() {}\n\n    Employee(String name, String role) {\n\n        this.name = name;\n        this.role = role;\n    }\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getRole() {\n        return this.role;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Employee))\n            return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\n                &amp;&amp; Objects.equals(this.role, employee.role);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.name, this.role);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name='&quot; + this.name + '\\'' + &quot;, role='&quot; + this.role + '\\'' + '}';\n    }\n}\n</code></pre>\n<p>Does this mean it doesn't find <code>repository</code>? What am I doing wrong? I'm clueless because I'm following the tutorial and it doesn't mention it.</p>\n<p>Full OUTPUT LOG:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55473:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/alexanderclaes/Downloads/demo/target/classes:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.1/spring-boot-starter-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot/3.1.1/spring-boot-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.1/spring-boot-autoconfigure-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.1/spring-boot-starter-logging-3.1.1.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-classic/1.4.8/logback-classic-1.4.8.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-core/1.4.8/logback-core-1.4.8.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/jul-to-slf4j/2.0.7/jul-to-slf4j-2.0.7.jar:/Users/alexanderclaes/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-core/6.0.10/spring-core-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jcl/6.0.10/spring-jcl-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-jpa/3.1.2/spring-data-jpa-3.1.2.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-commons/3.1.1/spring-data-commons-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-orm/6.0.10/spring-orm-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jdbc/6.0.10/spring-jdbc-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-context/6.0.10/spring-context-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-expression/6.0.10/spring-expression-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-aop/6.0.10/spring-aop-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-tx/6.0.10/spring-tx-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-beans/6.0.10/spring-beans-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/Users/alexanderclaes/.m2/repository/org/eclipse/persistence/javax.persistence/2.2.1/javax.persistence-2.2.1.jar com.example.demo.DemoApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.1)\n\n2023-07-17T10:06:05.878+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 91212 (/Users/alexanderclaes/Downloads/demo/target/classes started by alexanderclaes in /Users/alexanderclaes/Downloads/demo)\n2023-07-17T10:06:05.880+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-17T10:06:06.057+02:00  WARN 91212 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initDatabase' defined in class path resource [com/example/demo/LoadDatabase.class]: Unsatisfied dependency expressed through method 'initDatabase' parameter 0: No qualifying bean of type 'com.example.demo.EmployeeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-07-17T10:06:06.060+02:00  INFO 91212 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-17T10:06:06.072+02:00 ERROR 91212 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type 'com.example.demo.EmployeeRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.EmployeeRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","visualvm","jvisualvm"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689596897,"post_id":76703967,"comment_id":135231416,"body_markdown":"Unlikely, because there is nothing in the JDBC API that allows you to capture what the driver implementation sends to the server.","body":"Unlikely, because there is nothing in the JDBC API that allows you to capture what the driver implementation sends to the server."}],"owner":{"account_id":109585,"reputation":8067,"user_id":290284,"accept_rate":95,"display_name":"Cui Pengfei 崔鹏飞"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689593060,"creation_date":1689593060,"question_id":76703967,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am using JVisualVm&#39;s jdbc profiler to monitor my local java program.\r\n\r\nIt would capture something like this: \r\n\r\n```select * from reservation v where v.name like &#39;%&#39;%&#39;```\r\n\r\nIf you try to run this in pgadmin, it would throw error:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucTeA.png\r\n  [2]: https://i.stack.imgur.com/Oybyv.png\r\n\r\nFor PgAdmin to run it, we have to escape the single quote in the string:\r\n\r\n```select * from reservation where name like &#39;%&#39;&#39;%&#39;```\r\n\r\nBasically we need to change &#39; to &#39;&#39; so that the string the sql does not get cut off into 2 pieces.\r\n\r\nMy question is: is visual vm&#39;s jdbc profiler able to capture the final sql statement that gets executed by the DB?","title":"java visualvm jdbc profiler: does it capture the final sql statements that are actually executed by the DB?","body":"<p><a href=\"https://i.stack.imgur.com/ucTeA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucTeA.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using JVisualVm's jdbc profiler to monitor my local java program.</p>\n<p>It would capture something like this:</p>\n<p><code>select * from reservation v where v.name like '%'%'</code></p>\n<p>If you try to run this in pgadmin, it would throw error:</p>\n<p><a href=\"https://i.stack.imgur.com/Oybyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oybyv.png\" alt=\"enter image description here\" /></a></p>\n<p>For PgAdmin to run it, we have to escape the single quote in the string:</p>\n<p><code>select * from reservation where name like '%''%'</code></p>\n<p>Basically we need to change ' to '' so that the string the sql does not get cut off into 2 pieces.</p>\n<p>My question is: is visual vm's jdbc profiler able to capture the final sql statement that gets executed by the DB?</p>\n"},{"tags":["java","authentication","azure-active-directory","microsoft-graph-api","azure-identity"],"comments":[{"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1689343301,"post_id":76688266,"comment_id":135204202,"body_markdown":"Could you check and confirm whether [this option](https://i.imgur.com/xJX04JX.png) is enabled in your tenant?","body":"Could you check and confirm whether <a href=\"https://i.imgur.com/xJX04JX.png\" rel=\"nofollow noreferrer\">this option</a> is enabled in your tenant?"},{"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"score":0,"creation_date":1689344211,"post_id":76688266,"comment_id":135204451,"body_markdown":"Hi Sridevi, Thanks for replying, Yes, It is enabled;","body":"Hi Sridevi, Thanks for replying, Yes, It is enabled;"},{"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1689344254,"post_id":76688266,"comment_id":135204464,"body_markdown":"Could you include that screenshot by editing your question?","body":"Could you include that screenshot by editing your question?"},{"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"score":0,"creation_date":1689345639,"post_id":76688266,"comment_id":135204812,"body_markdown":"Hi Sridevi , question edited and added the screenshot.","body":"Hi Sridevi , question edited and added the screenshot."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689425170,"post_id":76688266,"comment_id":135213472,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":24067318,"reputation":13425,"user_id":18043665,"display_name":"Sridevi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689592993,"creation_date":1689592993,"answer_id":76703956,"question_id":76688266,"body_markdown":"\r\nI registered one multi-tenant Azure AD application and granted same **`API permissions`** as below:\r\n\r\n![enter image description here](https://i.imgur.com/gW2249y.png)\r\n\r\nWhen I tried to sign in with user of another directory, I got below **`Approval required`** screen for justification like this:\r\n\r\n![enter image description here](https://i.imgur.com/0r6g5nI.png)\r\n\r\nAfter sending the justification, I got **same screen** as you saying `Request pending` like below:\r\n\r\n![enter image description here](https://i.imgur.com/xAFMv1Y.png)\r\n\r\nTo accept the above request, sign in with **Global administrator** account in above user&#39;s directory and check Admin consent requests tab  of Enterprise applications like below:\r\n\r\n![enter image description here](https://i.imgur.com/iKr3own.png)\r\n\r\nAfter clicking `Review permissions and consent` button, new window will be opened where Global Administrator can consent like below:\r\n\r\n![enter image description here](https://i.imgur.com/JXgC8WE.png)\r\n\r\nWhen I tried to sign in with user of another directory again now, new application registered with **same permissions** in that tenant like below:\r\n\r\n![enter image description here](https://i.imgur.com/nqULzOR.png)\r\n\r\nIn your case, you need to either **approve** Admin consent request or **disable** below option in other user&#39;s directory like this:\r\n\r\n![enter image description here](https://i.imgur.com/WGFMmIy.png)","title":"MS Login API asking for Admin consent for registering with MS azure App","body":"<p>I registered one multi-tenant Azure AD application and granted same <strong><code>API permissions</code></strong> as below:</p>\n<p><img src=\"https://i.imgur.com/gW2249y.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to sign in with user of another directory, I got below <strong><code>Approval required</code></strong> screen for justification like this:</p>\n<p><img src=\"https://i.imgur.com/0r6g5nI.png\" alt=\"enter image description here\" /></p>\n<p>After sending the justification, I got <strong>same screen</strong> as you saying <code>Request pending</code> like below:</p>\n<p><img src=\"https://i.imgur.com/xAFMv1Y.png\" alt=\"enter image description here\" /></p>\n<p>To accept the above request, sign in with <strong>Global administrator</strong> account in above user's directory and check Admin consent requests tab  of Enterprise applications like below:</p>\n<p><img src=\"https://i.imgur.com/iKr3own.png\" alt=\"enter image description here\" /></p>\n<p>After clicking <code>Review permissions and consent</code> button, new window will be opened where Global Administrator can consent like below:</p>\n<p><img src=\"https://i.imgur.com/JXgC8WE.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to sign in with user of another directory again now, new application registered with <strong>same permissions</strong> in that tenant like below:</p>\n<p><img src=\"https://i.imgur.com/nqULzOR.png\" alt=\"enter image description here\" /></p>\n<p>In your case, you need to either <strong>approve</strong> Admin consent request or <strong>disable</strong> below option in other user's directory like this:</p>\n<p><img src=\"https://i.imgur.com/WGFMmIy.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76703956,"answer_count":1,"score":0,"last_activity_date":1689592993,"creation_date":1689342251,"question_id":76688266,"body_markdown":"I have made one app for MS team integration for work accounts. In Azure AD I have consented to all permissions required for chats and channels. But still the app is asking for admin consent when people from other work account trying to login as below; \r\n\r\n\r\n[![\\[Admin consent\\](https://i.stack.imgur.com/LijwI.png)][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBelow screenshot is of API permissions;\r\n[![API permissions][2]][2]\r\n\r\nAnd I have below user setting for enterprise app as well;\r\n\r\n[![\\[User consent settings\\](https://i.stack.imgur.com/Nbprv.png)][3]][3]\r\n\r\n[Admin consent settings][4]\r\n\r\nkindly help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GOaRi.png\r\n  [2]: https://i.stack.imgur.com/6wdgX.png\r\n  [3]: https://i.stack.imgur.com/zKDLu.png\r\n  [4]: https://i.stack.imgur.com/o24tS.png","title":"MS Login API asking for Admin consent for registering with MS azure App","body":"<p>I have made one app for MS team integration for work accounts. In Azure AD I have consented to all permissions required for chats and channels. But still the app is asking for admin consent when people from other work account trying to login as below;</p>\n<p><a href=\"https://i.stack.imgur.com/GOaRi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOaRi.png\" alt=\"[Admin consent](https://i.stack.imgur.com/LijwI.png)\" /></a></p>\n<p>Below screenshot is of API permissions;\n<a href=\"https://i.stack.imgur.com/6wdgX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6wdgX.png\" alt=\"API permissions\" /></a></p>\n<p>And I have below user setting for enterprise app as well;</p>\n<p><a href=\"https://i.stack.imgur.com/zKDLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zKDLu.png\" alt=\"[User consent settings](https://i.stack.imgur.com/Nbprv.png)\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/o24tS.png\" rel=\"nofollow noreferrer\">Admin consent settings</a></p>\n<p>kindly help.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689592977,"creation_date":1689591456,"question_id":76703775,"body_markdown":"There is problem with deletion entity with related objects.\r\n\r\nError looks like it: \r\n\r\n    org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot; Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.\r\n\r\nThere are table defitions: first table contains common information about notification itself, second is just marking &quot;who read the notification&quot;.\r\n\r\nFirst table:\r\n\r\n    @Data\r\n    @Entity\r\n    @FieldNameConstants\r\n    @Table(name = &quot;notification&quot;)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Notification {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n    ...\r\n    @OneToMany(mappedBy = &quot;notification&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;NotificationReadBy&gt; readNotifications = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n\r\nSecond table:\r\n\r\n    @Data\r\n    @Entity\r\n    @FieldNameConstants\r\n    @Table(name = &quot;notification_read_by&quot;)\r\n    public class NotificationReadBy {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;notification_id&quot;, nullable = false)\r\n    private Notification notification;\r\n\r\n    ...\r\n    }\r\n\r\nMethod looks:\r\n\r\n    @Transactional\r\n    @Override\r\n    public void delete(String notificationId) {\r\n        notificationRepository.deleteById(notificationId);\r\n    }\r\n\r\nIf I use `List&lt;NotificationReadBy&gt;` instead of `Set&lt;NotificationReadBy&gt;` it works fine.\r\n\r\nThe same behavior with enabling batching in hibernate settings. But with additional log:\r\n\r\n    HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 delete from notification_schema.notification where id=&#39;ce6e112c-bc73-4076-8491-93c453094253&#39; was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\r\n    Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.], SQL: delete from notification_schema.notification where id=?\r\n    Batch entry 0 delete from notification_schema.notification where id=&#39;ce6e112c-bc73-4076-8491-93c453094253&#39; was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\r\n    Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.","title":"JPA cascade problem: unable to delete items which are present in Set","body":"<p>There is problem with deletion entity with related objects.</p>\n<p>Error looks like it:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot; Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.\n</code></pre>\n<p>There are table defitions: first table contains common information about notification itself, second is just marking &quot;who read the notification&quot;.</p>\n<p>First table:</p>\n<pre><code>@Data\n@Entity\n@FieldNameConstants\n@Table(name = &quot;notification&quot;)\n@EqualsAndHashCode(callSuper = true)\npublic class Notification {\n\n@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n...\n@OneToMany(mappedBy = &quot;notification&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;NotificationReadBy&gt; readNotifications = new HashSet&lt;&gt;();\n...\n}\n</code></pre>\n<p>Second table:</p>\n<pre><code>@Data\n@Entity\n@FieldNameConstants\n@Table(name = &quot;notification_read_by&quot;)\npublic class NotificationReadBy {\n\n@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;notification_id&quot;, nullable = false)\nprivate Notification notification;\n\n...\n}\n</code></pre>\n<p>Method looks:</p>\n<pre><code>@Transactional\n@Override\npublic void delete(String notificationId) {\n    notificationRepository.deleteById(notificationId);\n}\n</code></pre>\n<p>If I use <code>List&lt;NotificationReadBy&gt;</code> instead of <code>Set&lt;NotificationReadBy&gt;</code> it works fine.</p>\n<p>The same behavior with enabling batching in hibernate settings. But with additional log:</p>\n<pre><code>HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 delete from notification_schema.notification where id='ce6e112c-bc73-4076-8491-93c453094253' was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\nDetail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.], SQL: delete from notification_schema.notification where id=?\nBatch entry 0 delete from notification_schema.notification where id='ce6e112c-bc73-4076-8491-93c453094253' was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\nDetail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.\n</code></pre>\n"},{"tags":["java","lambda","switch-expression"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":2,"creation_date":1689571720,"post_id":76701657,"comment_id":135226690,"body_markdown":"Because return always ends the whole method at any point. It would be confusing if it didn&#39;t for this special case.","body":"Because return always ends the whole method at any point. It would be confusing if it didn&#39;t for this special case."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689572141,"creation_date":1689571744,"answer_id":76701691,"question_id":76701657,"body_markdown":"Personally, I find it intuitive to use the yield keyword in switch expressions. It helps to distinguish between returning a value from a **method** and returning a value from a **switch expression**.\r\n\r\nSo, it seems to be a matter of readability and the architect&#39;s choice, rather than any functional difference.","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<p>Personally, I find it intuitive to use the yield keyword in switch expressions. It helps to distinguish between returning a value from a <strong>method</strong> and returning a value from a <strong>switch expression</strong>.</p>\n<p>So, it seems to be a matter of readability and the architect's choice, rather than any functional difference.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689573320,"creation_date":1689573320,"answer_id":76701802,"question_id":76701657,"body_markdown":"Originally, when switch expressions were introduced in [JEP 325][1], it was proposed that `break` should be used to yield a value.\r\n\r\n&gt;     int j = switch (day) {\r\n&gt;         case MONDAY  -&gt; 0;\r\n&gt;         case TUESDAY -&gt; 1;\r\n&gt;         default      -&gt; {\r\n&gt;             int k = day.toString().length();\r\n&gt;             int result = f(k);\r\n&gt;             break result;\r\n&gt;         }\r\n&gt;     };\r\n\r\nIt was changed to `yield` in [JEP 354][2]. It was mentioned that:\r\n\r\n&gt; The two statements, `break` (with or without a label) and `yield`, facilitate easy disambiguation between switch statements and switch expressions: a switch statement but not a switch expression can be the target of a `break` statement; and a switch expression but not a switch statement can be the target of a `yield` statement.\r\n\r\nWhich could be seen as a reason for the change. Using `return` for this certainly would not &quot;facilitate easy disambiguation between switch statements and switch expressions&quot;, since you can also `return` in switch statements.\r\n\r\nThen, in [JEP 361][3], it was further explained that overloading `break` was &quot;confusing&quot;.\r\n\r\n&gt; One aspect of JEP 325 was the overloading of the `break` statement to return a result value from a switch expression. Feedback on JDK 12 suggested that this use of `break` was confusing. In response to the feedback, JEP 354 was created as an evolution of JEP 325.\r\n\r\nI would imagine overloading `return` would also be &quot;confusing&quot;. \r\n\r\nBeing able to return from a lambda expression isn&#39;t exactly &quot;overloading&quot; `return` in the same sense. The bodies of lambda expressions represent function bodies. It would make sense for `return` to return from functions. The body of a switch expression, isn&#39;t a function.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/325\r\n  [2]: https://openjdk.org/jeps/354\r\n  [3]: https://openjdk.org/jeps/361","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<p>Originally, when switch expressions were introduced in <a href=\"https://openjdk.org/jeps/325\" rel=\"nofollow noreferrer\">JEP 325</a>, it was proposed that <code>break</code> should be used to yield a value.</p>\n<blockquote>\n<pre><code>int j = switch (day) {\n    case MONDAY  -&gt; 0;\n    case TUESDAY -&gt; 1;\n    default      -&gt; {\n        int k = day.toString().length();\n        int result = f(k);\n        break result;\n    }\n};\n</code></pre>\n</blockquote>\n<p>It was changed to <code>yield</code> in <a href=\"https://openjdk.org/jeps/354\" rel=\"nofollow noreferrer\">JEP 354</a>. It was mentioned that:</p>\n<blockquote>\n<p>The two statements, <code>break</code> (with or without a label) and <code>yield</code>, facilitate easy disambiguation between switch statements and switch expressions: a switch statement but not a switch expression can be the target of a <code>break</code> statement; and a switch expression but not a switch statement can be the target of a <code>yield</code> statement.</p>\n</blockquote>\n<p>Which could be seen as a reason for the change. Using <code>return</code> for this certainly would not &quot;facilitate easy disambiguation between switch statements and switch expressions&quot;, since you can also <code>return</code> in switch statements.</p>\n<p>Then, in <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a>, it was further explained that overloading <code>break</code> was &quot;confusing&quot;.</p>\n<blockquote>\n<p>One aspect of JEP 325 was the overloading of the <code>break</code> statement to return a result value from a switch expression. Feedback on JDK 12 suggested that this use of <code>break</code> was confusing. In response to the feedback, JEP 354 was created as an evolution of JEP 325.</p>\n</blockquote>\n<p>I would imagine overloading <code>return</code> would also be &quot;confusing&quot;.</p>\n<p>Being able to return from a lambda expression isn't exactly &quot;overloading&quot; <code>return</code> in the same sense. The bodies of lambda expressions represent function bodies. It would make sense for <code>return</code> to return from functions. The body of a switch expression, isn't a function.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689592924,"creation_date":1689592924,"answer_id":76703947,"question_id":76701657,"body_markdown":"&gt; _&quot;When a return statement occurs within a **lambda expression**, it simply causes a return from the lambda. **It does not cause an enclosing method to return.** ...&quot;_\r\n\r\nA _lambda expression_ is a _[closure](https://en.wikipedia.org/wiki/Closure_(computer_programming))_, so it&#39;s actually returning from a method, within that scope.\r\n\r\n&gt; _&quot;... So, for **switch expressions** why the keyword `yield` had introduced while `return` keyword could have been used instead? ...&quot;_\r\n\r\nUsing the _return_ keyword here would have overlapped its meaning.\r\n\r\nIt&#39;s important to disseminate when you want to simply return from the _switch_ and when you want to return from the enclosing method.\r\n\r\nA lot of things in _Java_ are written out more than logically required, purposely.  \r\nAn underlying quality of _Java_ is that you can read the code as if it were a sentence&amp;mdash;similar to _[Objective-C](https://en.wikipedia.org/wiki/Objective-C)_.","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<blockquote>\n<p><em>&quot;When a return statement occurs within a <strong>lambda expression</strong>, it simply causes a return from the lambda. <strong>It does not cause an enclosing method to return.</strong> ...&quot;</em></p>\n</blockquote>\n<p>A <em>lambda expression</em> is a <em><a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closure</a></em>, so it's actually returning from a method, within that scope.</p>\n<blockquote>\n<p><em>&quot;... So, for <strong>switch expressions</strong> why the keyword <code>yield</code> had introduced while <code>return</code> keyword could have been used instead? ...&quot;</em></p>\n</blockquote>\n<p>Using the <em>return</em> keyword here would have overlapped its meaning.</p>\n<p>It's important to disseminate when you want to simply return from the <em>switch</em> and when you want to return from the enclosing method.</p>\n<p>A lot of things in <em>Java</em> are written out more than logically required, purposely.<br />\nAn underlying quality of <em>Java</em> is that you can read the code as if it were a sentence—similar to <em><a href=\"https://en.wikipedia.org/wiki/Objective-C\" rel=\"nofollow noreferrer\">Objective-C</a></em>.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76701802,"answer_count":3,"score":2,"last_activity_date":1689592924,"creation_date":1689571173,"question_id":76701657,"body_markdown":"&gt; When a return statement occurs within a **lambda expression**, it simply\r\n&gt; causes a return from the lambda. **It does not cause an enclosing method**\r\n&gt; **to return.**\r\n\r\nSo, for **switch expressions** why the keyword `yield` had introduced while `return` keyword could have been used instead? The first return for returning from method and the inside one for return from switch statement.\r\n\r\n    class TestClass {\r\n        public int testMethod() {\r\n            // ...\r\n            int a = switch (allOptions) {\r\n                case &quot;case1&quot; -&gt; {\r\n                    System.out.println(&quot;case 1&quot;);\r\n                    return 1;\r\n                }\r\n                default -&gt; {\r\n                    System.out.println(&quot;default&quot;);\r\n                    return -1;\r\n                }\r\n            };\r\n    \r\n            return a;\r\n        }\r\n    }\r\n\r\nConsider this example for lambda expressions:\r\n\r\n    class TestClass {\r\n        interface FunctionalInterface {\r\n            int test(int n);\r\n        }\r\n        \r\n        public int testMethod() {\r\n    \r\n            FunctionalInterface f = (n) -&gt; {\r\n                return n * 2;\r\n            };\r\n    \r\n            return f.test(10);\r\n        }\r\n    }\r\n\r\n**Is there any special reason for that?**\r\n-----------------------------------------\r\n\r\nWhy return keyword is confusing in first example and not confusing in the second one?","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<blockquote>\n<p>When a return statement occurs within a <strong>lambda expression</strong>, it simply\ncauses a return from the lambda. <strong>It does not cause an enclosing method</strong>\n<strong>to return.</strong></p>\n</blockquote>\n<p>So, for <strong>switch expressions</strong> why the keyword <code>yield</code> had introduced while <code>return</code> keyword could have been used instead? The first return for returning from method and the inside one for return from switch statement.</p>\n<pre><code>class TestClass {\n    public int testMethod() {\n        // ...\n        int a = switch (allOptions) {\n            case &quot;case1&quot; -&gt; {\n                System.out.println(&quot;case 1&quot;);\n                return 1;\n            }\n            default -&gt; {\n                System.out.println(&quot;default&quot;);\n                return -1;\n            }\n        };\n\n        return a;\n    }\n}\n</code></pre>\n<p>Consider this example for lambda expressions:</p>\n<pre><code>class TestClass {\n    interface FunctionalInterface {\n        int test(int n);\n    }\n    \n    public int testMethod() {\n\n        FunctionalInterface f = (n) -&gt; {\n            return n * 2;\n        };\n\n        return f.test(10);\n    }\n}\n</code></pre>\n<h2><strong>Is there any special reason for that?</strong></h2>\n<p>Why return keyword is confusing in first example and not confusing in the second one?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-entitymanager"],"comments":[{"owner":{"account_id":6798581,"reputation":25,"user_id":5232831,"accept_rate":40,"display_name":"ashley"},"score":0,"creation_date":1457659781,"post_id":4148231,"comment_id":71437605,"body_markdown":"See also `((EntityManagerImpl)em).getSession();`","body":"See also <code>((EntityManagerImpl)em).getSession();</code>"}],"answers":[{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1689592340,"creation_date":1289417440,"answer_id":4148294,"question_id":4148231,"body_markdown":"See the section &quot;***5.1. Accessing Hibernate APIs from JPA***&quot; in the [Hibernate ORM User Guide][1]:\r\n\r\n    import org.hibernate.Session;\r\n    ...\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-unwrap","title":"How can I get the session object if I have the entity-manager?","body":"<p>See the section &quot;<em><strong>5.1. Accessing Hibernate APIs from JPA</strong></em>&quot; in the <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-unwrap\" rel=\"nofollow noreferrer\">Hibernate ORM User Guide</a>:</p>\n<pre><code>import org.hibernate.Session;\n...\n\nSession session = entityManager.unwrap(Session.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":205,"is_accepted":true,"score":205,"last_activity_date":1689592388,"creation_date":1289456090,"answer_id":4151834,"question_id":4148231,"body_markdown":"To be totally exhaustive, things are different if you&#39;re using a JPA 1.0 or a JPA 2.0 implementation.\r\n\r\n### JPA 1.0\r\n\r\nWith JPA 1.0, you&#39;d have to use [`EntityManager#getDelegate()`][1]. But keep in mind that  ***the result of this method is implementation specific*** i.e. non portable from application server using Hibernate to the other. For example [with JBoss][2] you would do:\r\n\r\n    org.hibernate.Session session = (Session) manager.getDelegate();\r\n\r\nBut [with GlassFish][3], you&#39;d have to do:\r\n\r\n    org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession(); \r\n\r\nI agree, that&#39;s horrible, and the spec is to blame here (not clear enough).\r\n\r\n### JPA 2.0\r\n\r\nWith JPA 2.0, there is a new (and much better) [`EntityManager#unwrap(Class&lt;T&gt;)`][4] method that is to be preferred over [`EntityManager#getDelegate()`][5] for new applications.\r\n\r\nSo with Hibernate as JPA 2.0 implementation (see [3.15. Native Hibernate API][6]), you would do:\r\n\r\n    import org.hibernate.Session;\r\n    ...\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\r\n  [2]: http://bill.burkecentral.com/2007/07/06/co-existence-with-hibernate-jpa-and-ejb3/\r\n  [3]: http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate\r\n  [4]: http://download.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#unwrap%28java.lang.Class%29\r\n  [5]: http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\r\n  [6]: http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/objectstate.html#d0e1799","title":"How can I get the session object if I have the entity-manager?","body":"<p>To be totally exhaustive, things are different if you're using a JPA 1.0 or a JPA 2.0 implementation.</p>\n<h3>JPA 1.0</h3>\n<p>With JPA 1.0, you'd have to use <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\" rel=\"nofollow noreferrer\"><code>EntityManager#getDelegate()</code></a>. But keep in mind that  <em><strong>the result of this method is implementation specific</strong></em> i.e. non portable from application server using Hibernate to the other. For example <a href=\"http://bill.burkecentral.com/2007/07/06/co-existence-with-hibernate-jpa-and-ejb3/\" rel=\"nofollow noreferrer\">with JBoss</a> you would do:</p>\n<pre><code>org.hibernate.Session session = (Session) manager.getDelegate();\n</code></pre>\n<p>But <a href=\"http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate\" rel=\"nofollow noreferrer\">with GlassFish</a>, you'd have to do:</p>\n<pre><code>org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession(); \n</code></pre>\n<p>I agree, that's horrible, and the spec is to blame here (not clear enough).</p>\n<h3>JPA 2.0</h3>\n<p>With JPA 2.0, there is a new (and much better) <a href=\"http://download.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#unwrap%28java.lang.Class%29\" rel=\"nofollow noreferrer\"><code>EntityManager#unwrap(Class&lt;T&gt;)</code></a> method that is to be preferred over <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\" rel=\"nofollow noreferrer\"><code>EntityManager#getDelegate()</code></a> for new applications.</p>\n<p>So with Hibernate as JPA 2.0 implementation (see <a href=\"http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/objectstate.html#d0e1799\" rel=\"nofollow noreferrer\">3.15. Native Hibernate API</a>), you would do:</p>\n<pre><code>import org.hibernate.Session;\n...\n\nSession session = entityManager.unwrap(Session.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8011679,"reputation":71,"user_id":6043169,"display_name":"Enio Dantas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1458777562,"creation_date":1458776505,"answer_id":36190794,"question_id":4148231,"body_markdown":"This will explain better.\r\n    \r\n    EntityManager em = new JPAUtil().getEntityManager();\r\n    Session session = em.unwrap(Session.class);\r\n    Criteria c = session.createCriteria(Name.class);","title":"How can I get the session object if I have the entity-manager?","body":"<p>This will explain better.</p>\n\n<pre><code>EntityManager em = new JPAUtil().getEntityManager();\nSession session = em.unwrap(Session.class);\nCriteria c = session.createCriteria(Name.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16395978,"reputation":1,"user_id":11843500,"display_name":"carlos veintemilla"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564182947,"creation_date":1564178267,"answer_id":57227420,"question_id":4148231,"body_markdown":"I was working in Wildfly but I was using \r\n\r\n    org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession();\r\n\r\nand the correct was \r\n\r\n    org.hibernate.Session session = (Session) manager.getDelegate();","title":"How can I get the session object if I have the entity-manager?","body":"<p>I was working in Wildfly but I was using </p>\n\n<pre><code>org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession();\n</code></pre>\n\n<p>and the correct was </p>\n\n<pre><code>org.hibernate.Session session = (Session) manager.getDelegate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584291469,"creation_date":1584291469,"answer_id":60695400,"question_id":4148231,"body_markdown":"&#39;entityManager.unwrap(Session.class)&#39; is used to get session from EntityManager.\r\n\r\n    @Repository\r\n    @Transactional\r\n    public class EmployeeRepository {\r\n    \r\n      @PersistenceContext\r\n      private EntityManager entityManager;\r\n    \r\n      public Session getSession() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        return session;\r\n      }\r\n    \r\n      ......\r\n      ......\r\n    \r\n    }\r\n\r\nDemo Application [link][1].\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2020/03/spring-jpa-get-hibernate-session-object.html","title":"How can I get the session object if I have the entity-manager?","body":"<p>'entityManager.unwrap(Session.class)' is used to get session from EntityManager.</p>\n\n<pre><code>@Repository\n@Transactional\npublic class EmployeeRepository {\n\n  @PersistenceContext\n  private EntityManager entityManager;\n\n  public Session getSession() {\n    Session session = entityManager.unwrap(Session.class);\n    return session;\n  }\n\n  ......\n  ......\n\n}\n</code></pre>\n\n<p>Demo Application <a href=\"https://self-learning-java-tutorial.blogspot.com/2020/03/spring-jpa-get-hibernate-session-object.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670193256,"creation_date":1670193256,"answer_id":74681554,"question_id":4148231,"body_markdown":"If you&#39;re using Hibernate 5, simply using `EntityManager.unwrap()` may not work, due to a combination of Spring&#39;s proxy behavior and recent changes in Hibernate (see [this Spring issue][1], which is fixed but not really, for details).\r\n\r\nTo make it work I had to do a double unwrap first using `null`:\r\n```java\r\n/**\r\n * Get the Hibernate {@link Session} behind the given {@link EntityManager}.\r\n *  \r\n * @see &lt;a href=&quot;https://github.com/spring-projects/spring-framework/issues/19577&quot;&gt;Spring Issue #19577&lt;/a&gt;\r\n */         \r\npublic static Session getHibernateSession(EntityManager entityManager) {\r\n    Preconditions.checkArgument(entityManager != null, &quot;null entityManager&quot;);\r\n    return ((EntityManager)entityManager.unwrap(null)).unwrap(Session.class);\r\n}\r\n```\r\nI believe this is due to the handling of the proxied `unwrap()` method in Spring&#39;s `ExtendedEntityManagerCreator`:\r\n```java\r\n...\r\nelse if (method.getName().equals(&quot;unwrap&quot;)) {\r\n    // Handle JPA 2.0 unwrap method - could be a proxy match.\r\n    Class&lt;?&gt; targetClass = (Class&lt;?&gt;) args[0];\r\n    if (targetClass == null) {\r\n        return this.target;\r\n    }\r\n    else if (targetClass.isInstance(proxy)) {\r\n        return proxy;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/19577","title":"How can I get the session object if I have the entity-manager?","body":"<p>If you're using Hibernate 5, simply using <code>EntityManager.unwrap()</code> may not work, due to a combination of Spring's proxy behavior and recent changes in Hibernate (see <a href=\"https://github.com/spring-projects/spring-framework/issues/19577\" rel=\"nofollow noreferrer\">this Spring issue</a>, which is fixed but not really, for details).</p>\n<p>To make it work I had to do a double unwrap first using <code>null</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Get the Hibernate {@link Session} behind the given {@link EntityManager}.\n *  \n * @see &lt;a href=&quot;https://github.com/spring-projects/spring-framework/issues/19577&quot;&gt;Spring Issue #19577&lt;/a&gt;\n */         \npublic static Session getHibernateSession(EntityManager entityManager) {\n    Preconditions.checkArgument(entityManager != null, &quot;null entityManager&quot;);\n    return ((EntityManager)entityManager.unwrap(null)).unwrap(Session.class);\n}\n</code></pre>\n<p>I believe this is due to the handling of the proxied <code>unwrap()</code> method in Spring's <code>ExtendedEntityManagerCreator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nelse if (method.getName().equals(&quot;unwrap&quot;)) {\n    // Handle JPA 2.0 unwrap method - could be a proxy match.\n    Class&lt;?&gt; targetClass = (Class&lt;?&gt;) args[0];\n    if (targetClass == null) {\n        return this.target;\n    }\n    else if (targetClass.isInstance(proxy)) {\n        return proxy;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157975,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"accepted_answer_id":4151834,"answer_count":6,"score":124,"last_activity_date":1689592388,"creation_date":1289417042,"question_id":4148231,"body_markdown":"I have \r\n\r\n    private EntityManager em;\r\n\r\n\tpublic List getAll(DetachedCriteria detachedCriteria)\t{\r\n\r\n\t\treturn detachedCriteria.getExecutableCriteria(&quot;....&quot;).list();\r\n\t}\r\n\t\r\nHow can I retrieve the session if am using entitymanager, or how can I get the result from my detached criteria?\r\n","title":"How can I get the session object if I have the entity-manager?","body":"<p>I have</p>\n<pre><code>private EntityManager em;\n\npublic List getAll(DetachedCriteria detachedCriteria)   {\n\n    return detachedCriteria.getExecutableCriteria(&quot;....&quot;).list();\n}\n</code></pre>\n<p>How can I retrieve the session if am using entitymanager, or how can I get the result from my detached criteria?</p>\n"},{"tags":["java","maven","gitlab","gitlab-ci","maven-2"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1689139901,"post_id":76667266,"comment_id":135169031,"body_markdown":"Please don&#39;t post things in comments. Use the [edit] link in the question","body":"Please don&#39;t post things in comments. Use the <a href=\"https://stackoverflow.com/posts/76667266/edit\">edit</a> link in the question"}],"answers":[{"tags":[],"owner":{"account_id":873080,"reputation":323,"user_id":923499,"accept_rate":50,"display_name":"user923499"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689592173,"creation_date":1689592173,"answer_id":76703857,"question_id":76667266,"body_markdown":"Use gitlab Job-token to publish artifacts in CI pipeline while running on laptop or any machine need to use gitlab Private-Token to pull artifacts from gitlab package registry","title":"Unable to push maven artifact to gitlab","body":"<p>Use gitlab Job-token to publish artifacts in CI pipeline while running on laptop or any machine need to use gitlab Private-Token to pull artifacts from gitlab package registry</p>\n"}],"owner":{"account_id":873080,"reputation":323,"user_id":923499,"accept_rate":50,"display_name":"user923499"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689592173,"creation_date":1689138098,"question_id":76667266,"body_markdown":"I am trying to push an artifact from laptop to gitlab artifactory and not able to push  because of the following error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nError details in terminal:\r\n\r\n&gt; --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tech-root ---\r\n&gt;\r\n&gt; [INFO] Uploading to gitlab-maven: https:// https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven/com/org/tech/root/tech-root/1.3.0/tech-root-1.3.0\r\n\r\nPom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                             http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.7.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.org.tech.root&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tech-root&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;TECH ROOT&lt;/name&gt;\r\n\r\n    &lt;scm&gt;\r\n        &lt;connection&gt;\r\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\r\n        &lt;/connection&gt;\r\n        &lt;developerConnection&gt;\r\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\r\n        &lt;/developerConnection&gt;\r\n        &lt;url&gt;\r\n            https://gitlab.com/\r\n            &lt;project_path&gt;\r\n        &lt;/url&gt;\r\n        &lt;tag&gt;HEAD&lt;/tag&gt;\r\n    &lt;/scm&gt;\r\n    &lt;!--  &lt;issueManagement&gt;--&gt;\r\n    &lt;!--    &lt;system&gt;JIRA&lt;/system&gt;--&gt;\r\n    &lt;!--    &lt;url&gt;https://adlm.&lt;org&gt;.com/jira/projects/&lt;/url&gt;--&gt;\r\n    &lt;!--  &lt;/issueManagement&gt;--&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n        &lt;/snapshotRepository&gt;\r\n        &lt;!--    &lt;site&gt;--&gt;\r\n        &lt;!--      &lt;id&gt;${maven.distribution-management.site.id}&lt;/id&gt;--&gt;\r\n        &lt;!--      &lt;name&gt;${maven.distribution-management.site.name}&lt;/name&gt;--&gt;\r\n        &lt;!--      &lt;url&gt;${maven.distribution-management.site.url}&lt;/url&gt;--&gt;\r\n        &lt;!--    &lt;/site&gt;--&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;url&gt;file://${user.home}/.m2/repository/&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module-bom&lt;/module&gt;\r\n        &lt;module&gt;libs&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSettings.xml\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Job-Token&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            &lt;!--gitlab_token--&gt;\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Private-Token&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            &lt;!--gitlab_token--&gt;\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;maven-https&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\r\n                    &lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\r\n                    &lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n\r\n            &lt;/pluginRepositories&gt;\r\n\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nI added gitlab authentication using access token in servers section of settings.xml and get error. \r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project tech-root: Failed to deploy artifacts\r\n: Could not transfer artifact com.org:tech-root:pom:1.3.0 from/to gitlab-maven : authentication failed for https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven/com/org/tech-root/1.3.0/tech-root-1.3.0.pom, status: 401 Unauthorized -&gt; [Help 1]\r\n\r\n        &lt;server&gt; &lt;id&gt;registry.gitlab.com&lt;/id&gt; &lt;username&gt;&lt;gitlab_user_id&gt;&lt;/username&gt; &lt;password&gt;&lt;access_token&gt;&lt;/password&gt; &lt;/server&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kumdf.png\r\n\r\n\r\n\r\n","title":"Unable to push maven artifact to gitlab","body":"<p>I am trying to push an artifact from laptop to gitlab artifactory and not able to push  because of the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/kumdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kumdf.png\" alt=\"enter image description here\" /></a></p>\n<p>Error details in terminal:</p>\n<blockquote>\n<p>--- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tech-root ---</p>\n<p>[INFO] Uploading to gitlab-maven: https:// <a href=\"https://gitlab.com/api/v4/projects/\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/</a>&lt;project_id&gt;/packages/maven/com/org/tech/root/tech-root/1.3.0/tech-root-1.3.0</p>\n</blockquote>\n<p>Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                             http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.org.tech.root&lt;/groupId&gt;\n    &lt;artifactId&gt;tech-root&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;TECH ROOT&lt;/name&gt;\n\n    &lt;scm&gt;\n        &lt;connection&gt;\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\n        &lt;/connection&gt;\n        &lt;developerConnection&gt;\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\n        &lt;/developerConnection&gt;\n        &lt;url&gt;\n            https://gitlab.com/\n            &lt;project_path&gt;\n        &lt;/url&gt;\n        &lt;tag&gt;HEAD&lt;/tag&gt;\n    &lt;/scm&gt;\n    &lt;!--  &lt;issueManagement&gt;--&gt;\n    &lt;!--    &lt;system&gt;JIRA&lt;/system&gt;--&gt;\n    &lt;!--    &lt;url&gt;https://adlm.&lt;org&gt;.com/jira/projects/&lt;/url&gt;--&gt;\n    &lt;!--  &lt;/issueManagement&gt;--&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;!--    &lt;site&gt;--&gt;\n        &lt;!--      &lt;id&gt;${maven.distribution-management.site.id}&lt;/id&gt;--&gt;\n        &lt;!--      &lt;name&gt;${maven.distribution-management.site.name}&lt;/name&gt;--&gt;\n        &lt;!--      &lt;url&gt;${maven.distribution-management.site.url}&lt;/url&gt;--&gt;\n        &lt;!--    &lt;/site&gt;--&gt;\n    &lt;/distributionManagement&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;url&gt;file://${user.home}/.m2/repository/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;module-bom&lt;/module&gt;\n        &lt;module&gt;libs&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Settings.xml</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;httpHeaders&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;Job-Token&lt;/name&gt;\n                        &lt;value&gt;\n                            &lt;!--gitlab_token--&gt;\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/httpHeaders&gt;\n            &lt;/configuration&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;httpHeaders&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;Private-Token&lt;/name&gt;\n                        &lt;value&gt;\n                            &lt;!--gitlab_token--&gt;\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/httpHeaders&gt;\n            &lt;/configuration&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;maven-https&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\n                    &lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n\n                &lt;repository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\n                    &lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt;\n\n            &lt;/pluginRepositories&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>I added gitlab authentication using access token in servers section of settings.xml and get error.</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project tech-root: Failed to deploy artifacts\n: Could not transfer artifact com.org:tech-root:pom:1.3.0 from/to gitlab-maven : authentication failed for <a href=\"https://gitlab.com/api/v4/projects/\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/</a>&lt;project_id&gt;/packages/maven/com/org/tech-root/1.3.0/tech-root-1.3.0.pom, status: 401 Unauthorized -&gt; [Help 1]</p>\n</blockquote>\n<pre><code>    &lt;server&gt; &lt;id&gt;registry.gitlab.com&lt;/id&gt; &lt;username&gt;&lt;gitlab_user_id&gt;&lt;/username&gt; &lt;password&gt;&lt;access_token&gt;&lt;/password&gt; &lt;/server&gt;\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","log4j"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1525094360,"post_id":50100857,"comment_id":87219460,"body_markdown":"why don&#39;t you use **private static final Logger LOGGER = LogManager.getLogger(MyClass.class);** ?","body":"why don&#39;t you use <b>private static final Logger LOGGER = LogManager.getLogger(MyClass.class);</b> ?"},{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":1,"creation_date":1525094688,"post_id":50100857,"comment_id":87219655,"body_markdown":"You can use project Lombok&#39;s annotation @Log to automatically inject logger if it&#39;s needed.\nHere is an example: https://projectlombok.org/features/log","body":"You can use project Lombok&#39;s annotation @Log to automatically inject logger if it&#39;s needed. Here is an example: <a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">projectlombok.org/features/log</a>"},{"owner":{"account_id":3407726,"reputation":4258,"user_id":2858407,"accept_rate":85,"display_name":"stop-cran"},"score":0,"creation_date":1525095005,"post_id":50100857,"comment_id":87219841,"body_markdown":"@DirkDeyne i&#39;d like to inject a logger, e.g. to mock it in unit-tests and verify an error is logged.","body":"@DirkDeyne i&#39;d like to inject a logger, e.g. to mock it in unit-tests and verify an error is logged."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1525095596,"post_id":50100857,"comment_id":87220205,"body_markdown":"there are better ways to test if logging happens.\n[how-to-do-a-junit-assert-on-a-message-in-a-logger](https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger)","body":"there are better ways to test if logging happens. <a href=\"https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger\">how-to-do-a-junit-assert-on-a-message-in-a-logger</a>"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689591963,"creation_date":1525097278,"answer_id":50102241,"question_id":50100857,"body_markdown":"Passing the logger as a constructor parameter is somewhat terrible.\r\nAlso, your arguments against using a `private ...blah... Logger` are specious.\r\n\r\n1. &quot;copy-paste is error prone.&quot;\r\nTrue copy-paste techniques are error prone,\r\nbut when you want each logger to have a unique name (so as to identify the source of the log message),\r\nyou need to declare a logger in each class.\r\n2. &quot;I want to mock my loggers during unit tests.&quot;\r\nWhile it is not reasonable to replace a final member variable with a mock,\r\nit is ridiculously easy to to replace a not-final member variable with a mock.\r\nTo this end,\r\nyou should always declare class level loggers a follows: `private static Logger ...blah`.\r\nSpecifically,\r\ndon&#39;t use final loggers.\r\nOnce the loggers are not final,\r\nuse reflection to replace them with mocks.\r\n3. [New in 2023; hurry for learnin&#39;] Use protected loggers.\r\nDeclare your logger as `static Logger ...blah` then assign it to a mockLogger in the `@BeforeEach` or `@BeforeAll` method in your Junit\r\n(jupiter) unit test.\r\n\r\n","title":"Spring - injecting Log4j logger without explicit specification","body":"<p>Passing the logger as a constructor parameter is somewhat terrible.\nAlso, your arguments against using a <code>private ...blah... Logger</code> are specious.</p>\n<ol>\n<li>&quot;copy-paste is error prone.&quot;\nTrue copy-paste techniques are error prone,\nbut when you want each logger to have a unique name (so as to identify the source of the log message),\nyou need to declare a logger in each class.</li>\n<li>&quot;I want to mock my loggers during unit tests.&quot;\nWhile it is not reasonable to replace a final member variable with a mock,\nit is ridiculously easy to to replace a not-final member variable with a mock.\nTo this end,\nyou should always declare class level loggers a follows: <code>private static Logger ...blah</code>.\nSpecifically,\ndon't use final loggers.\nOnce the loggers are not final,\nuse reflection to replace them with mocks.</li>\n<li>[New in 2023; hurry for learnin'] Use protected loggers.\nDeclare your logger as <code>static Logger ...blah</code> then assign it to a mockLogger in the <code>@BeforeEach</code> or <code>@BeforeAll</code> method in your Junit\n(jupiter) unit test.</li>\n</ol>\n"}],"owner":{"account_id":3407726,"reputation":4258,"user_id":2858407,"accept_rate":85,"display_name":"stop-cran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689591963,"creation_date":1525092341,"question_id":50100857,"body_markdown":"I&#39;m using Spring XML-based DI to create my classes.\r\n\r\nAlso I&#39;m using log4j and I&#39;m injecting `org.apache.log4j.Logger` as a constructor argument in each class which needs it.\r\n\r\nSo I have a lot of entries in Spring config like following:\r\n\r\n    &lt;bean id=&quot;myClass&quot; class=&quot;com.myProject.MyClass&quot;&gt;\r\n        ...\r\n        &lt;constructor-arg type=&quot;org.apache.log4j.Logger&quot;&gt;\r\n        \t&lt;bean class=&quot;org.apache.log4j.Logger&quot; factory-method=&quot;getLogger&quot;&gt;\r\n                &lt;constructor-arg value=&quot;com.myProject.MyClass&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\nClass code:\r\n\r\n    package com.myProject;\r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class MyClass {\r\n    \tprivate final Logger logger;\r\n    \t\r\n    \tpublic MyClass (\r\n    \t\t\t...\r\n    \t\t\tLogger logger) {\r\n    \t\t...\r\n    \t\tthis.logger = logger;\r\n    \t}\r\n    \t\r\n    \t...\r\n    }\r\n\r\nAlthough it works perfectly, I wonder if there is any possibility to default `constructor-arg` of the logger to the class name, whose constructor the created logger should be passed to?\r\n\r\nE.g. like this [solution][1] for Unity DI and log4net which are somewhat analogs in .Net.\r\n\r\n---\r\n**Update:**\r\n\r\nI see two reasons of injecting `Logger` rather than initializing it inside the class.\r\n\r\nFirst of all, statements like `private final Logger logger = LogManager.getLogger(MyClass.class);` are usually copy-pasted, so they are prone to mistake in the logger name.\r\n\r\nMoverover, I&#39;d like to cover error logging with unit tests, e.g. pass a mock of `Logger` into the constructor and than verify that after some erroneous action `logger.Error` has been called.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35262698/2858407","title":"Spring - injecting Log4j logger without explicit specification","body":"<p>I'm using Spring XML-based DI to create my classes.</p>\n\n<p>Also I'm using log4j and I'm injecting <code>org.apache.log4j.Logger</code> as a constructor argument in each class which needs it.</p>\n\n<p>So I have a lot of entries in Spring config like following:</p>\n\n<pre><code>&lt;bean id=\"myClass\" class=\"com.myProject.MyClass\"&gt;\n    ...\n    &lt;constructor-arg type=\"org.apache.log4j.Logger\"&gt;\n        &lt;bean class=\"org.apache.log4j.Logger\" factory-method=\"getLogger\"&gt;\n            &lt;constructor-arg value=\"com.myProject.MyClass\"/&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Class code:</p>\n\n<pre><code>package com.myProject;\n\nimport org.apache.log4j.Logger;\n\npublic class MyClass {\n    private final Logger logger;\n\n    public MyClass (\n            ...\n            Logger logger) {\n        ...\n        this.logger = logger;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Although it works perfectly, I wonder if there is any possibility to default <code>constructor-arg</code> of the logger to the class name, whose constructor the created logger should be passed to?</p>\n\n<p>E.g. like this <a href=\"https://stackoverflow.com/a/35262698/2858407\">solution</a> for Unity DI and log4net which are somewhat analogs in .Net.</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>I see two reasons of injecting <code>Logger</code> rather than initializing it inside the class.</p>\n\n<p>First of all, statements like <code>private final Logger logger = LogManager.getLogger(MyClass.class);</code> are usually copy-pasted, so they are prone to mistake in the logger name.</p>\n\n<p>Moverover, I'd like to cover error logging with unit tests, e.g. pass a mock of <code>Logger</code> into the constructor and than verify that after some erroneous action <code>logger.Error</code> has been called.</p>\n"},{"tags":["java","kotlin","osgi","apache-felix"],"comments":[{"owner":{"account_id":36386,"reputation":512,"user_id":103777,"display_name":"RefuX"},"score":0,"creation_date":1696344749,"post_id":76703714,"comment_id":136139117,"body_markdown":"I&#39;m considering using OSGi in a Kotlin project. Did you end up having any luck?","body":"I&#39;m considering using OSGi in a Kotlin project. Did you end up having any luck?"}],"owner":{"account_id":16944639,"reputation":86,"user_id":12255643,"display_name":"NirYudo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689591117,"creation_date":1689590908,"question_id":76703714,"body_markdown":" am working on a server project in Kotlin where I need to dynamically load and unload modules during runtime. To achieve this, I decided to use the OSGi framework and Apache Felix as the OSGi library.\r\n\r\nI have created a simple project where I export a service using OSGi. However, when I try to run the program, I encounter an error. Here are the relevant code snippets:\r\n\r\nThe activator:\r\n```\r\nimport bundles.service.MathOperationsService\r\nimport bundles.service.MathOperationsAddImpl\r\nimport org.osgi.framework.BundleActivator\r\nimport org.osgi.framework.BundleContext\r\n\r\nclass MathOperationsActivator: BundleActivator {\r\n    override fun start(context: BundleContext?) {\r\n        context?.registerService(MathOperationsService::class.java.name, MathOperationsAddImpl(), null)\r\n\r\n    }\r\n\r\n    override fun stop(context: BundleContext?) {\r\n       // NOTE: The service is automatically unregistered.\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe service interface:\r\n\r\n```\r\ninterface MathOperationsService {\r\n    fun calculate(a: Int, b: Int): Int\r\n}\r\n```\r\n\r\nThe service implementation:\r\n\r\n```\r\nclass MathOperationsAddImpl: MathOperationsService {\r\n    override fun calculate(a: Int, b: Int): Int {\r\n        return a + b\r\n    }\r\n}\r\n```\r\n\r\nThe mathOperationProgram:\r\n\r\n```\r\nclass MathOperationProgram {\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val frameworkFactory = FrameworkFactory()\r\n            val framework = frameworkFactory.newFramework(null)\r\n            framework.init()\r\n            try {\r\n                framework.start()\r\n                val bundleContext = framework.bundleContext\r\n\r\n                val mathBundle: Bundle =\r\n                    bundleContext.installBundle(&quot;file:/path/to/mathBundle.jar&quot;)\r\n                mathBundle.start()\r\n\r\n                val mathOperationsService = mathBundle.bundleContext.getService(\r\n                    mathBundle.bundleContext.getServiceReference(MathOperationsService::class.java)\r\n                )\r\n\r\n                if (mathOperationsService != null) {\r\n                    val result = mathOperationsService.calculate(3, 4)\r\n                    println(&quot;Result: $result&quot;)\r\n                } else {\r\n                    println(&quot;Failed to retrieve MathOperationsService&quot;)\r\n                }\r\n            } catch (e: Exception) {\r\n                println(&quot;Error: ${e.message}&quot;)\r\n                e.printStackTrace()\r\n            } finally {\r\n                framework.stop()\r\n                framework.waitForStop(0)\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd the gradle task I used to create the bundle:\r\n\r\n```\r\ntasks.register(&quot;mathBundleJar&quot;, Jar::class) {\r\n    archiveFileName.set(&quot;mathBundle.jar&quot;)\r\n    manifest {\r\n        attributes(\r\n            &quot;Bundle-Name&quot; to &quot;Math Operations Bundle&quot;,\r\n            &quot;Bundle-Description&quot; to &quot;Bundle for Math Operations&quot;,\r\n            &quot;Bundle-SymbolicName&quot; to &quot;math-bundle&quot;,\r\n            &quot;Bundle-Vendor&quot; to &quot;Apache Felix&quot;,\r\n            &quot;Bundle-Version&quot; to &quot;1.0.0&quot;,\r\n            &quot;Bundle-Activator&quot; to &quot;bundles.MathOperationsActivator&quot;,\r\n            &quot;Export-Package&quot; to &quot;bundles.service&quot;,\r\n            &quot;Import-Package&quot; to &quot;org.osgi.framework, bundles.service&quot;,\r\n        )\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    from(sourceSets.main.get().output)\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n```\r\n\r\nWhen trying to run the MathOperationProgram I&#39;m getting the following error:\r\n\r\n```\r\nError: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\r\njava.lang.ClassCastException: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\r\n\tat MathOperationProgram$Companion.main(MathOperationProgram.kt:23)\r\n\tat MathOperationProgram.main(MathOperationProgram.kt)\r\n```\r\n\r\nI would appreciate any guidance on resolving this error and successfully utilizing Apache Felix and OSGi for dynamic module loading in my Kotlin project.\r\nIn addition, if anyone is familiar with some sample code or a tutorial available that demonstrates a similar setup with Kotlin/java and OSGi integration I would apriciate it.\r\n\r\nThanks\r\n\r\n","title":"Error when using Apache Felix and OSGi for dynamic module loading in Kotlin","body":"<p>am working on a server project in Kotlin where I need to dynamically load and unload modules during runtime. To achieve this, I decided to use the OSGi framework and Apache Felix as the OSGi library.</p>\n<p>I have created a simple project where I export a service using OSGi. However, when I try to run the program, I encounter an error. Here are the relevant code snippets:</p>\n<p>The activator:</p>\n<pre><code>import bundles.service.MathOperationsService\nimport bundles.service.MathOperationsAddImpl\nimport org.osgi.framework.BundleActivator\nimport org.osgi.framework.BundleContext\n\nclass MathOperationsActivator: BundleActivator {\n    override fun start(context: BundleContext?) {\n        context?.registerService(MathOperationsService::class.java.name, MathOperationsAddImpl(), null)\n\n    }\n\n    override fun stop(context: BundleContext?) {\n       // NOTE: The service is automatically unregistered.\n\n    }\n}\n</code></pre>\n<p>The service interface:</p>\n<pre><code>interface MathOperationsService {\n    fun calculate(a: Int, b: Int): Int\n}\n</code></pre>\n<p>The service implementation:</p>\n<pre><code>class MathOperationsAddImpl: MathOperationsService {\n    override fun calculate(a: Int, b: Int): Int {\n        return a + b\n    }\n}\n</code></pre>\n<p>The mathOperationProgram:</p>\n<pre><code>class MathOperationProgram {\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val frameworkFactory = FrameworkFactory()\n            val framework = frameworkFactory.newFramework(null)\n            framework.init()\n            try {\n                framework.start()\n                val bundleContext = framework.bundleContext\n\n                val mathBundle: Bundle =\n                    bundleContext.installBundle(&quot;file:/path/to/mathBundle.jar&quot;)\n                mathBundle.start()\n\n                val mathOperationsService = mathBundle.bundleContext.getService(\n                    mathBundle.bundleContext.getServiceReference(MathOperationsService::class.java)\n                )\n\n                if (mathOperationsService != null) {\n                    val result = mathOperationsService.calculate(3, 4)\n                    println(&quot;Result: $result&quot;)\n                } else {\n                    println(&quot;Failed to retrieve MathOperationsService&quot;)\n                }\n            } catch (e: Exception) {\n                println(&quot;Error: ${e.message}&quot;)\n                e.printStackTrace()\n            } finally {\n                framework.stop()\n                framework.waitForStop(0)\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>And the gradle task I used to create the bundle:</p>\n<pre><code>tasks.register(&quot;mathBundleJar&quot;, Jar::class) {\n    archiveFileName.set(&quot;mathBundle.jar&quot;)\n    manifest {\n        attributes(\n            &quot;Bundle-Name&quot; to &quot;Math Operations Bundle&quot;,\n            &quot;Bundle-Description&quot; to &quot;Bundle for Math Operations&quot;,\n            &quot;Bundle-SymbolicName&quot; to &quot;math-bundle&quot;,\n            &quot;Bundle-Vendor&quot; to &quot;Apache Felix&quot;,\n            &quot;Bundle-Version&quot; to &quot;1.0.0&quot;,\n            &quot;Bundle-Activator&quot; to &quot;bundles.MathOperationsActivator&quot;,\n            &quot;Export-Package&quot; to &quot;bundles.service&quot;,\n            &quot;Import-Package&quot; to &quot;org.osgi.framework, bundles.service&quot;,\n        )\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from(sourceSets.main.get().output)\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n</code></pre>\n<p>When trying to run the MathOperationProgram I'm getting the following error:</p>\n<pre><code>Error: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\njava.lang.ClassCastException: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\n    at MathOperationProgram$Companion.main(MathOperationProgram.kt:23)\n    at MathOperationProgram.main(MathOperationProgram.kt)\n</code></pre>\n<p>I would appreciate any guidance on resolving this error and successfully utilizing Apache Felix and OSGi for dynamic module loading in my Kotlin project.\nIn addition, if anyone is familiar with some sample code or a tutorial available that demonstrates a similar setup with Kotlin/java and OSGi integration I would apriciate it.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","web-services","rest","tomcat"],"comments":[{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1415121066,"post_id":26713743,"comment_id":42067854,"body_markdown":"possible duplicate of [No resource classes found on a cxf Servlet](http://stackoverflow.com/questions/5244112/no-resource-classes-found-on-a-cxf-servlet)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5244112/no-resource-classes-found-on-a-cxf-servlet\">No resource classes found on a cxf Servlet</a>"},{"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"score":0,"creation_date":1445498584,"post_id":26713743,"comment_id":54351368,"body_markdown":"In may case I enabled the trace log and I saw the following [error](http://stackoverflow.com/questions/33023730/jax-rs-method-has-no-path-or-http-method-annotations)","body":"In may case I enabled the trace log and I saw the following <a href=\"http://stackoverflow.com/questions/33023730/jax-rs-method-has-no-path-or-http-method-annotations\">error</a>"}],"answers":[{"tags":[],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462732462,"creation_date":1462732462,"answer_id":37103409,"question_id":26713743,"body_markdown":"I experienced a similar problem that disappeared when I corrected the @WebService annotation, which needs to be on the interface and not the service class.","title":"No resource found for class in CXF rest services","body":"<p>I experienced a similar problem that disappeared when I corrected the @WebService annotation, which needs to be on the interface and not the service class.</p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481728497,"creation_date":1481728497,"answer_id":41145998,"question_id":26713743,"body_markdown":"Another common cause of this problem is having the method annotated with @Path `protected` rather than `public`. ","title":"No resource found for class in CXF rest services","body":"<p>Another common cause of this problem is having the method annotated with @Path <code>protected</code> rather than <code>public</code>. </p>\n"},{"tags":[],"owner":{"account_id":2997797,"reputation":9357,"user_id":2543968,"display_name":"Galigator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689591088,"creation_date":1689591088,"answer_id":76703736,"question_id":26713743,"body_markdown":"I get the same problem after upgrading dependency. I had to replace every javax with jakarta.","title":"No resource found for class in CXF rest services","body":"<p>I get the same problem after upgrading dependency. I had to replace every javax with jakarta.</p>\n"}],"owner":{"account_id":3977944,"reputation":379,"user_id":3280674,"accept_rate":38,"display_name":"kavuru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16601,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689591088,"creation_date":1415015569,"question_id":26713743,"body_markdown":"I am trying to implement restfull webservice using apache cxf.\r\n\r\nwhile deploying the war file in tomcat I am getting the error as Error creating bean with name &#39;Analysis&#39;: Invocation of init method failed; nested exception is org.apache.cxf.service.factory.ServiceConstructionException\r\n\r\n    INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/cxf.xml]\r\n    03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons\r\n    INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\r\n    03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.utils.ResourceUtils checkMethodDispatcher\r\n    WARNING: No resource methods have been found for resource class com.bt.ws.pointsystem.pojo.AnalysisResponse\r\n    03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean checkResources\r\n    SEVERE: No resource classes found\r\n    03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultSingletonBeanRegistry destroySingletons\r\n    INFO: Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\r\n    03-Nov-2014 17:03:40 org.springframework.web.context.ContextLoader initWebApplicationContext\r\n    SEVERE: Context initialization failed\r\n\r\n\r\nBelow is  cxf.xml:\r\n\r\n    &lt;beans default-autowire=&quot;byName&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:jaxrs=&quot;http://cxf.apache.org/jaxrs&quot; \r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot; \r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    http://cxf.apache.org/jaxrs\r\n    http://cxf.apache.org/schemas/jaxrs.xsd&quot;&gt;\r\n     \r\n      &lt;context:component-scan base-package=&quot;com.bt.ws.pointsystem,com.bt.ws.pointsystem.pojo&quot; /&gt;\r\n      \r\n      \r\n      &lt;jaxrs:server address=&quot;/&quot; id=&quot;Analysis&quot;&gt;\r\n       &lt;jaxrs:serviceBeans&gt;\r\n                  &lt;ref bean=&quot;AnalysisResponse&quot; /&gt;\r\n       \t\t\t  \r\n       &lt;/jaxrs:serviceBeans&gt;\r\n       &lt;jaxrs:extensionMappings&gt;\r\n       \t&lt;entry key=&quot;xml&quot; value=&quot;application/xml&quot;&gt;\r\n       \t&lt;/entry&gt;\r\n       &lt;/jaxrs:extensionMappings&gt;\r\n      &lt;/jaxrs:server&gt;\r\n     \t&lt;bean class=&quot;com.bt.ws.pointsystem.pojo.AnalysisResponse&quot; id=&quot;AnalysisResponse&quot;&gt;\r\n     \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n     \r\n     &lt;web-app&gt;\r\n      &lt;display-name&gt;PointSystemService&lt;/display-name&gt;\r\n     \r\n      &lt;context-param&gt;\r\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n       &lt;param-value&gt;WEB-INF/cxf.xml&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;listener&gt;\r\n     \r\n       &lt;listener-class&gt;\r\n        org.springframework.web.context.ContextLoaderListener\r\n       &lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;servlet&gt;\r\n       &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n     \r\n       &lt;servlet-class&gt;\r\n        org.apache.cxf.transport.servlet.CXFServlet\r\n       &lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n     \r\n       &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n     &lt;/web-app&gt;\r\n\r\n\r\nClass Definition:\r\n\r\n    package com.bt.ws.pointsystem.pojo;\r\n    \r\n    public class AnalysisResponse {\r\n    \tprivate String UserId;\r\n    \tprivate String AnalysisType;\r\n    \tpublic String getUserId() {\r\n    \t\treturn UserId;\r\n    \t}\r\n    \tpublic void setUserId(String userId) {\r\n    \t\tUserId = userId;\r\n    \t}\r\n    \tpublic String getAnalysisType() {\r\n    \t\treturn AnalysisType;\r\n    \t}\r\n    \tpublic void setAnalysisType(String analysisType) {\r\n    \t\tAnalysisType = analysisType;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n\r\nwhat else I am missing here?\r\n\r\nTIA","title":"No resource found for class in CXF rest services","body":"<p>I am trying to implement restfull webservice using apache cxf.</p>\n\n<p>while deploying the war file in tomcat I am getting the error as Error creating bean with name 'Analysis': Invocation of init method failed; nested exception is org.apache.cxf.service.factory.ServiceConstructionException</p>\n\n<pre><code>INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/cxf.xml]\n03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons\nINFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\n03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.utils.ResourceUtils checkMethodDispatcher\nWARNING: No resource methods have been found for resource class com.bt.ws.pointsystem.pojo.AnalysisResponse\n03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean checkResources\nSEVERE: No resource classes found\n03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultSingletonBeanRegistry destroySingletons\nINFO: Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\n03-Nov-2014 17:03:40 org.springframework.web.context.ContextLoader initWebApplicationContext\nSEVERE: Context initialization failed\n</code></pre>\n\n<p>Below is  cxf.xml:</p>\n\n<pre><code>&lt;beans default-autowire=\"byName\" xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:jaxrs=\"http://cxf.apache.org/jaxrs\" \nxmlns:context=\"http://www.springframework.org/schema/context\" \nxmlns:tx=\"http://www.springframework.org/schema/tx\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\nhttp://cxf.apache.org/jaxrs\nhttp://cxf.apache.org/schemas/jaxrs.xsd\"&gt;\n\n  &lt;context:component-scan base-package=\"com.bt.ws.pointsystem,com.bt.ws.pointsystem.pojo\" /&gt;\n\n\n  &lt;jaxrs:server address=\"/\" id=\"Analysis\"&gt;\n   &lt;jaxrs:serviceBeans&gt;\n              &lt;ref bean=\"AnalysisResponse\" /&gt;\n\n   &lt;/jaxrs:serviceBeans&gt;\n   &lt;jaxrs:extensionMappings&gt;\n    &lt;entry key=\"xml\" value=\"application/xml\"&gt;\n    &lt;/entry&gt;\n   &lt;/jaxrs:extensionMappings&gt;\n  &lt;/jaxrs:server&gt;\n    &lt;bean class=\"com.bt.ws.pointsystem.pojo.AnalysisResponse\" id=\"AnalysisResponse\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n\"http://java.sun.com/dtd/web-app_2_3.dtd\"&gt;\n\n &lt;web-app&gt;\n  &lt;display-name&gt;PointSystemService&lt;/display-name&gt;\n\n  &lt;context-param&gt;\n   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;WEB-INF/cxf.xml&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;listener&gt;\n\n   &lt;listener-class&gt;\n    org.springframework.web.context.ContextLoaderListener\n   &lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;servlet&gt;\n   &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n\n   &lt;servlet-class&gt;\n    org.apache.cxf.transport.servlet.CXFServlet\n   &lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n\n   &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n &lt;/web-app&gt;\n</code></pre>\n\n<p>Class Definition:</p>\n\n<pre><code>package com.bt.ws.pointsystem.pojo;\n\npublic class AnalysisResponse {\n    private String UserId;\n    private String AnalysisType;\n    public String getUserId() {\n        return UserId;\n    }\n    public void setUserId(String userId) {\n        UserId = userId;\n    }\n    public String getAnalysisType() {\n        return AnalysisType;\n    }\n    public void setAnalysisType(String analysisType) {\n        AnalysisType = analysisType;\n    }\n\n\n\n\n\n}\n</code></pre>\n\n<p>what else I am missing here?</p>\n\n<p>TIA</p>\n"},{"tags":["java","java-7"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1316175128,"post_id":7444420,"comment_id":9002461,"body_markdown":"Reading the API you linked to suggests to me that the `get()` method is the the best place for clues. I don&#39;t understand why the `get()` method is given a `Class` object, however.","body":"Reading the API you linked to suggests to me that the <code>get()</code> method is the the best place for clues. I don&#39;t understand why the <code>get()</code> method is given a <code>Class</code> object, however."},{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":0,"creation_date":1367483567,"post_id":7444420,"comment_id":23393486,"body_markdown":"There is currently a discussion on the core-libs mailing list (http://mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.html) regarding usage of ClassValue in groovy and its interactions with class unloading.","body":"There is currently a discussion on the core-libs mailing list (<a href=\"http://mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.&zwnj;&#8203;html</a>) regarding usage of ClassValue in groovy and its interactions with class unloading."}],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1689590937,"creation_date":1316175622,"answer_id":7444558,"question_id":7444420,"body_markdown":"Its purpose it to allow adding runtime information to arbitrary target classes ([reference][1]).\r\n\r\nI think its targeted more towards dynamic language programmers. I am not sure how it will be useful for general application developers though.\r\n\r\nInitially the class was there in the package `java.dyn`. [This bug][2] shows it moving to java.lang.\r\n\r\n\r\n  [1]: http://www.wiki.jvmlangsummit.com/Why_Interface_Injection\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7012648","title":"ClassValue in Java 7","body":"<p>Its purpose it to allow adding runtime information to arbitrary target classes (<a href=\"http://www.wiki.jvmlangsummit.com/Why_Interface_Injection\" rel=\"nofollow noreferrer\">reference</a>).</p>\n<p>I think its targeted more towards dynamic language programmers. I am not sure how it will be useful for general application developers though.</p>\n<p>Initially the class was there in the package <code>java.dyn</code>. <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7012648\" rel=\"nofollow noreferrer\">This bug</a> shows it moving to java.lang.</p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1316176012,"creation_date":1316175662,"answer_id":7444573,"question_id":7444420,"body_markdown":"Well, it is an abstract class. I&#39;ve found a [copy][1]. Have a look at it.\r\n\r\n\r\n  [1]: http://basic-jdk.jsr308-langtools.googlecode.com/hg/src/share/classes/java/lang/ClassValue.java","title":"ClassValue in Java 7","body":"<p>Well, it is an abstract class. I've found a <a href=\"http://basic-jdk.jsr308-langtools.googlecode.com/hg/src/share/classes/java/lang/ClassValue.java\" rel=\"nofollow\">copy</a>. Have a look at it.</p>\n"},{"tags":[],"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1423833792,"creation_date":1370026264,"answer_id":16863927,"question_id":7444420,"body_markdown":"The best explanation of the purpose of this class is that it solves [Java Bug 6389107](https://bugs.openjdk.java.net/browse/JDK-6389107) \r\n\r\nThere are many use cases where one wants to essentially have a `Map&lt;Class&lt;?&gt;, T&gt;` for some reason, but this causes all sorts of trouble since `Class` objects will then not be GC-able until the Map is.  `WeakHashMap&lt;Class&lt;?&gt;, T&gt;` doesn&#39;t solve the problem because very frequently, `T` references the class.\r\n\r\nThe bug above goes into a much more detailed explanation and contains example projects/code that face this problem.\r\n\r\nClassValue is the answer to this problem.  A thread-safe, classloader loading/unloading safe way to associate data with a Class.","title":"ClassValue in Java 7","body":"<p>The best explanation of the purpose of this class is that it solves <a href=\"https://bugs.openjdk.java.net/browse/JDK-6389107\" rel=\"noreferrer\">Java Bug 6389107</a> </p>\n\n<p>There are many use cases where one wants to essentially have a <code>Map&lt;Class&lt;?&gt;, T&gt;</code> for some reason, but this causes all sorts of trouble since <code>Class</code> objects will then not be GC-able until the Map is.  <code>WeakHashMap&lt;Class&lt;?&gt;, T&gt;</code> doesn't solve the problem because very frequently, <code>T</code> references the class.</p>\n\n<p>The bug above goes into a much more detailed explanation and contains example projects/code that face this problem.</p>\n\n<p>ClassValue is the answer to this problem.  A thread-safe, classloader loading/unloading safe way to associate data with a Class.</p>\n"},{"tags":[],"owner":{"account_id":7399241,"reputation":21,"user_id":5630205,"display_name":"user5630205"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597176119,"creation_date":1449059238,"answer_id":34042750,"question_id":7444420,"body_markdown":"`ClassValue` cache something about the class.\r\n\r\nHere is a part of code (at Lucene 5.0  `AttributeSource.java`):\r\n\r\n```\r\n/** a cache that stores all interfaces for known implementation classes for performance (slow reflection) */\r\nprivate static final ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt; implInterfaces = new ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt;() {\r\n    @Override\r\n    protected Class&lt;? extends Attribute&gt;[] computeValue(Class&lt;?&gt; clazz) {\r\n      final Set&lt;Class&lt;? extends Attribute&gt;&gt; intfSet = new LinkedHashSet&lt;&gt;();\r\n      // find all interfaces that this attribute instance implements\r\n      // and that extend the Attribute interface\r\n      do {\r\n        for (Class&lt;?&gt; curInterface : clazz.getInterfaces()) {\r\n          if (curInterface != Attribute.class &amp;&amp; Attribute.class.isAssignableFrom(curInterface)) {\r\n            intfSet.add(curInterface.asSubclass(Attribute.class));\r\n          }\r\n        }\r\n        clazz = clazz.getSuperclass();\r\n      } while (clazz != null);\r\n      @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;}) final Class&lt;? extends Attribute&gt;[] a =\r\n          intfSet.toArray(new Class[intfSet.size()]);\r\n      return a;\r\n    }\r\n};\r\n```","title":"ClassValue in Java 7","body":"<p><code>ClassValue</code> cache something about the class.</p>\n<p>Here is a part of code (at Lucene 5.0  <code>AttributeSource.java</code>):</p>\n<pre><code>/** a cache that stores all interfaces for known implementation classes for performance (slow reflection) */\nprivate static final ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt; implInterfaces = new ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt;() {\n    @Override\n    protected Class&lt;? extends Attribute&gt;[] computeValue(Class&lt;?&gt; clazz) {\n      final Set&lt;Class&lt;? extends Attribute&gt;&gt; intfSet = new LinkedHashSet&lt;&gt;();\n      // find all interfaces that this attribute instance implements\n      // and that extend the Attribute interface\n      do {\n        for (Class&lt;?&gt; curInterface : clazz.getInterfaces()) {\n          if (curInterface != Attribute.class &amp;&amp; Attribute.class.isAssignableFrom(curInterface)) {\n            intfSet.add(curInterface.asSubclass(Attribute.class));\n          }\n        }\n        clazz = clazz.getSuperclass();\n      } while (clazz != null);\n      @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;}) final Class&lt;? extends Attribute&gt;[] a =\n          intfSet.toArray(new Class[intfSet.size()]);\n      return a;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4893,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":16863927,"answer_count":4,"score":48,"last_activity_date":1689590937,"creation_date":1316174834,"question_id":7444420,"body_markdown":"While browsing the Java 7 API documentation I stumbled upon the new class [java.lang.ClassValue][1] with the following rather minimal documentation:\r\n\r\n&gt;Lazily associate a computed value with (potentially) every type. For example, if a dynamic language needs to construct a message dispatch table for each class encountered at a message send call site, it can use a `ClassValue` to cache information needed to perform the message send quickly, for each class encountered.\r\n\r\nCan anyone give a better explanation of what problem this class solves and perhaps some sample code or open source project that already uses this class?\r\n\r\n**Update:** I&#39;m still interested in some actual source code or examples using this new class.\r\n\r\nI also found [this mail on the mlvm-dev mailing list][2] concerning some implementation improvements. It was apparently changed from using a WeakHashMap to a new private field on java.lang.Class to make it more scalable.\r\n\r\n [1]: http://download.oracle.com/javase/7/docs/api/java/lang/ClassValue.html\r\n [2]: http://mail.openjdk.java.net/pipermail/mlvm-dev/2011-September/003930.html","title":"ClassValue in Java 7","body":"<p>While browsing the Java 7 API documentation I stumbled upon the new class <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/ClassValue.html\">java.lang.ClassValue</a> with the following rather minimal documentation:</p>\n\n<blockquote>\n  <p>Lazily associate a computed value with (potentially) every type. For example, if a dynamic language needs to construct a message dispatch table for each class encountered at a message send call site, it can use a <code>ClassValue</code> to cache information needed to perform the message send quickly, for each class encountered.</p>\n</blockquote>\n\n<p>Can anyone give a better explanation of what problem this class solves and perhaps some sample code or open source project that already uses this class?</p>\n\n<p><strong>Update:</strong> I'm still interested in some actual source code or examples using this new class.</p>\n\n<p>I also found <a href=\"http://mail.openjdk.java.net/pipermail/mlvm-dev/2011-September/003930.html\">this mail on the mlvm-dev mailing list</a> concerning some implementation improvements. It was apparently changed from using a WeakHashMap to a new private field on java.lang.Class to make it more scalable.</p>\n"},{"tags":["java","android","google-cloud-platform","google-api","speech-to-text"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689458883,"creation_date":1689028222,"answer_id":76657713,"question_id":76630026,"body_markdown":"Please, consider review [this related SO question](https://stackoverflow.com/a/65106296/13942448), it is defined for `TextToSpeechSettings` but I think that the solution provided could be of application here as well.\r\n\r\nAs suggested, basically you need to create a valid `GoogleCredentials` object from the content of your service account json file:\r\n\r\n```java\r\n// R.raw.credential points to the downloaded credential.json file\r\nInputStream stream = getResources().openRawResource(R.raw.credential); \r\nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n```\r\n\r\nAnd then, use the obtained credentials to initialize your `SpeechClient`.\r\n\r\nFor instance, adapting the code from my original answer:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.google.api.gax.core.CredentialsProvider;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.speech.v1.RecognitionAudio;\r\nimport com.google.cloud.speech.v1.RecognitionConfig;\r\nimport com.google.cloud.speech.v1.RecognizeRequest;\r\nimport com.google.cloud.speech.v1.RecognizeResponse;\r\nimport com.google.cloud.speech.v1.SpeechClient;\r\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\r\nimport com.google.cloud.speech.v1.SpeechSettings;\r\nimport com.google.protobuf.ByteString;\r\n\r\npublic class RecognitionActivity extends Activity {\r\n\r\n  // Your activity definition\r\n\r\n  private void performRecognition(ByteString fileByteString) throws IOException {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    // I tested my code locally in a laptop using\r\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\r\n    InputStream stream = getResources().openRawResource(R.raw.credential);\r\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n    // You can use ServiceAccountCredentials as well instead of the line above:\r\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\r\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\r\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\r\n        .setCredentialsProvider(credentialsProvider)\r\n        .build();\r\n\r\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\r\n\r\n    // The rest of your code\r\n\r\n    RecognizeRequest req = RecognizeRequest.newBuilder()\r\n        .setConfig(RecognitionConfig.newBuilder()\r\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n            .setLanguageCode(&quot;en-US&quot;)\r\n            .setSampleRateHertz(16000)\r\n            .build())\r\n        .setAudio(RecognitionAudio.newBuilder()\r\n            .setContent(fileByteString))\r\n        .build();\r\n\r\n    RecognizeResponse response = speechClient.recognize(req);\r\n\r\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\r\n\r\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\r\n    \r\n    // Handle results\r\n  }\r\n}\r\n```\r\n\r\nIn kotlin (please, forgive me for any inaccuracy) it would look like this:\r\n\r\n```kotlin\r\nprivate fun performRecognition(fileByteString: ByteString) {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\r\n    val credentials = GoogleCredentials.fromStream(stream);\r\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\r\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\r\n    val speechSettings = SpeechSettings.newBuilder()\r\n            .setCredentialsProvider(credentialsProvider)\r\n            .build()\r\n\r\n    val speechClient = SpeechClient.create(speechSettings)\r\n\r\n    // The rest of your code\r\n    val req = RecognizeRequest.newBuilder()\r\n            .setConfig(RecognitionConfig.newBuilder()\r\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                    .setLanguageCode(&quot;en-US&quot;)\r\n                    .setSampleRateHertz(16000)\r\n                    .build())\r\n            .setAudio(RecognitionAudio.newBuilder()\r\n                    .setContent(fileByteString))\r\n            .build()\r\n\r\n    val response = speechClient.recognize(req)\r\n\r\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n    val results = response.resultsList\r\n\r\n    // Handle results\r\n}\r\n```\r\n\r\nPlease, be sure that you followed the [necessary steps](https://cloud.google.com/speech-to-text/docs/before-you-begin) for setting up the Speech API, especially those related to [configuring the service account](https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account).\r\n\r\nThe service account must be able to interact with the Speech API, assigning a convenient role to it such as `Cloud Speech Client`:\r\n\r\n[![Cloud Speech Client role][1]][1]\r\n  \r\nAs described in the aforementioned documentation you can do it from the GCP Console or using [the command line](https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api).\r\n\r\n  [1]: https://i.stack.imgur.com/qXXrs.png","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>Please, consider review <a href=\"https://stackoverflow.com/a/65106296/13942448\">this related SO question</a>, it is defined for <code>TextToSpeechSettings</code> but I think that the solution provided could be of application here as well.</p>\n<p>As suggested, basically you need to create a valid <code>GoogleCredentials</code> object from the content of your service account json file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// R.raw.credential points to the downloaded credential.json file\nInputStream stream = getResources().openRawResource(R.raw.credential); \nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n</code></pre>\n<p>And then, use the obtained credentials to initialize your <code>SpeechClient</code>.</p>\n<p>For instance, adapting the code from my original answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.speech.v1.RecognitionAudio;\nimport com.google.cloud.speech.v1.RecognitionConfig;\nimport com.google.cloud.speech.v1.RecognizeRequest;\nimport com.google.cloud.speech.v1.RecognizeResponse;\nimport com.google.cloud.speech.v1.SpeechClient;\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\nimport com.google.cloud.speech.v1.SpeechSettings;\nimport com.google.protobuf.ByteString;\n\npublic class RecognitionActivity extends Activity {\n\n  // Your activity definition\n\n  private void performRecognition(ByteString fileByteString) throws IOException {\n    // R.raw.credential points to the downloaded credential.json file\n    // I tested my code locally in a laptop using\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\n    InputStream stream = getResources().openRawResource(R.raw.credential);\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n    // You can use ServiceAccountCredentials as well instead of the line above:\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\n        .setCredentialsProvider(credentialsProvider)\n        .build();\n\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\n\n    // The rest of your code\n\n    RecognizeRequest req = RecognizeRequest.newBuilder()\n        .setConfig(RecognitionConfig.newBuilder()\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n            .setLanguageCode(&quot;en-US&quot;)\n            .setSampleRateHertz(16000)\n            .build())\n        .setAudio(RecognitionAudio.newBuilder()\n            .setContent(fileByteString))\n        .build();\n\n    RecognizeResponse response = speechClient.recognize(req);\n\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\n\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\n    \n    // Handle results\n  }\n}\n</code></pre>\n<p>In kotlin (please, forgive me for any inaccuracy) it would look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun performRecognition(fileByteString: ByteString) {\n    // R.raw.credential points to the downloaded credential.json file\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\n    val credentials = GoogleCredentials.fromStream(stream);\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\n    val speechSettings = SpeechSettings.newBuilder()\n            .setCredentialsProvider(credentialsProvider)\n            .build()\n\n    val speechClient = SpeechClient.create(speechSettings)\n\n    // The rest of your code\n    val req = RecognizeRequest.newBuilder()\n            .setConfig(RecognitionConfig.newBuilder()\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                    .setLanguageCode(&quot;en-US&quot;)\n                    .setSampleRateHertz(16000)\n                    .build())\n            .setAudio(RecognitionAudio.newBuilder()\n                    .setContent(fileByteString))\n            .build()\n\n    val response = speechClient.recognize(req)\n\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n    val results = response.resultsList\n\n    // Handle results\n}\n</code></pre>\n<p>Please, be sure that you followed the <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin\" rel=\"nofollow noreferrer\">necessary steps</a> for setting up the Speech API, especially those related to <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account\" rel=\"nofollow noreferrer\">configuring the service account</a>.</p>\n<p>The service account must be able to interact with the Speech API, assigning a convenient role to it such as <code>Cloud Speech Client</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/qXXrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qXXrs.png\" alt=\"Cloud Speech Client role\" /></a></p>\n<p>As described in the aforementioned documentation you can do it from the GCP Console or using <a href=\"https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api\">the command line</a>.</p>\n"}],"owner":{"account_id":3083149,"reputation":2082,"user_id":2610933,"accept_rate":91,"display_name":"android enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689590739,"creation_date":1688654661,"question_id":76630026,"body_markdown":"I&#39;m trying to use the [google cloud speech to text API](https://cloud.google.com/speech-to-text) in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -\\&gt; &quot;Service account&quot; (added details) -\\&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;service_account&quot;,\r\n  &quot;project_id&quot;: &quot;&quot;,\r\n  &quot;private_key_id&quot;: &quot;&quot;,\r\n  &quot;private_key&quot;: &quot;&quot;,\r\n  &quot;client_email&quot;: &quot;&quot;,\r\n  &quot;client_id&quot;: &quot;&quot;,\r\n  &quot;auth_uri&quot;: &quot;&quot;,\r\n  &quot;token_uri&quot;: &quot;&quot;,\r\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;universe_domain&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nI have added this JSON file in the `raw`  dir in my android project (this is just a POC so not to worried about security at this point)\r\n\r\nNext is the android code:\r\n\r\n```\r\nval req = RecognizeRequest.newBuilder()\r\n               .setConfig(RecognitionConfig.newBuilder()\r\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                        .setLanguageCode(&quot;en-US&quot;)\r\n                        .setSampleRateHertz(16000)\r\n                        .build())\r\n                    .setAudio(RecognitionAudio.newBuilder()\r\n                        .setContent(fileByteString))\r\n                        .build()\r\n\r\n\r\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\r\n\r\n\r\n            val response = speechClient.recognize(req)\r\n\r\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n            val results = response.resultsList\r\n```\r\n\r\nWhen the `speechClient.recognize(req)`  fun is called, the API sends back this error message:\r\n\r\n```\r\ncom.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\r\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\r\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\r\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\r\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\r\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\r\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\r\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\r\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\r\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\r\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\r\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\r\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\r\n```\r\n\r\nDoes anyone know how to  auth correctly when calling this API please?\r\n\r\nI have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don&#39;t contain field \\`type\\`&quot;","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>I'm trying to use the <a href=\"https://cloud.google.com/speech-to-text\" rel=\"nofollow noreferrer\">google cloud speech to text API</a> in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -&gt; &quot;Service account&quot; (added details) -&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;&quot;,\n  &quot;private_key_id&quot;: &quot;&quot;,\n  &quot;private_key&quot;: &quot;&quot;,\n  &quot;client_email&quot;: &quot;&quot;,\n  &quot;client_id&quot;: &quot;&quot;,\n  &quot;auth_uri&quot;: &quot;&quot;,\n  &quot;token_uri&quot;: &quot;&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\n  &quot;universe_domain&quot;: &quot;&quot;\n}\n</code></pre>\n<p>I have added this JSON file in the <code>raw</code>  dir in my android project (this is just a POC so not to worried about security at this point)</p>\n<p>Next is the android code:</p>\n<pre><code>val req = RecognizeRequest.newBuilder()\n               .setConfig(RecognitionConfig.newBuilder()\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                        .setLanguageCode(&quot;en-US&quot;)\n                        .setSampleRateHertz(16000)\n                        .build())\n                    .setAudio(RecognitionAudio.newBuilder()\n                        .setContent(fileByteString))\n                        .build()\n\n\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\n\n\n            val response = speechClient.recognize(req)\n\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n            val results = response.resultsList\n</code></pre>\n<p>When the <code>speechClient.recognize(req)</code>  fun is called, the API sends back this error message:</p>\n<pre><code>com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\n</code></pre>\n<p>Does anyone know how to  auth correctly when calling this API please?</p>\n<p>I have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don't contain field `type`&quot;</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9688,"page":304,"page_size":100}
