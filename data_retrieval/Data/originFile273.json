{"items":[{"tags":["java","firebase","firebase-realtime-database","firebase-admin","minecraft-forge"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1691042933,"post_id":76820773,"comment_id":135437806,"body_markdown":"Have you tried to check if there is an error when you&#39;re using setValue?","body":"Have you tried to check if there is an error when you&#39;re using setValue?"},{"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"score":0,"creation_date":1691118154,"post_id":76820773,"comment_id":135451627,"body_markdown":"@AlexMamo there&#39;s no errors being printed to the console, no","body":"@AlexMamo there&#39;s no errors being printed to the console, no"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1691126786,"post_id":76820773,"comment_id":135452295,"body_markdown":"Can show us how did you do that?","body":"Can show us how did you do that?"},{"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"score":0,"creation_date":1691147347,"post_id":76820773,"comment_id":135455742,"body_markdown":"@AlexMamo see the main mod file code; it&#39;s not printing any errors. As a side note, I ended up trying MongoDB Atlas, and I got it working without issue. I&#39;ll probably just stick with it, even though I&#39;m much more familiar with Firebase.","body":"@AlexMamo see the main mod file code; it&#39;s not printing any errors. As a side note, I ended up trying MongoDB Atlas, and I got it working without issue. I&#39;ll probably just stick with it, even though I&#39;m much more familiar with Firebase."}],"owner":{"account_id":11376739,"reputation":139,"user_id":8340815,"display_name":"simplexshotz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690989903,"creation_date":1690985593,"question_id":76820773,"body_markdown":"I&#39;m trying to make a mod for Minecraft 1.8.9 (using Forge), and I need to use Firebase as a part of the project. I&#39;ve gotten Forge setup and Firebase is working as a dependency. The mod builds, and I&#39;m able to use the mod in-game. For those curious, here&#39;s my `build.gradle` file:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {\r\n            name &quot;forge&quot;\r\n            url &quot;https://files.minecraftforge.net/maven&quot;\r\n        }\r\n        maven {\r\n            name &quot;google&quot;\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT&#39;\r\n    }\r\n}\r\napply plugin: &#39;net.minecraftforge.gradle.forge&#39;\r\n\r\nallprojects {\r\n  repositories {\r\n    // Make sure that you have the following two repositories\r\n    google()  // Google&#39;s Maven repository\r\n    mavenCentral()  // Maven Central repository\r\n  }\r\n}\r\n\r\nversion = &quot;1.0a&quot;\r\ngroup= &quot;com.oshotz.testmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\r\narchivesBaseName = &quot;testmod&quot;\r\n\r\nminecraft {\r\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\r\n    runDir = &quot;run&quot;\r\n    \r\n    mappings = &quot;stable_20&quot;\r\n}\r\n\r\nconfigurations {\r\n    shade\r\n    implementation.extendsFrom shade\r\n}\r\n\r\ndependencies {\r\n    shade &#39;com.google.firebase:firebase-admin:9.2.0&#39;\r\n    shade &#39;com.google.firebase:firebase-database:9.2.0&#39;\r\n}\r\n\r\njar {\r\n    configurations.shade.each { dep -&gt;\r\n        from(project.zipTree(dep)){\r\n            exclude &#39;META-INF&#39;, &#39;META-INF/**&#39;\r\n        }\r\n    }\r\n}\r\n\r\nprocessResources\r\n{\r\n    // this will ensure that this task is redone when the versions change.\r\n    inputs.property &quot;version&quot;, project.version\r\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\r\n\r\n    // replace stuff in mcmod.info, nothing else\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        include &#39;mcmod.info&#39;\r\n                \r\n        // replace version and mcversion\r\n        expand &#39;version&#39;:project.version, &#39;mcversion&#39;:project.minecraft.version\r\n    }\r\n        \r\n    // copy everything else, thats not the mcmod.info\r\n    from(sourceSets.main.resources.srcDirs) {\r\n        exclude &#39;mcmod.info&#39;\r\n    }\r\n}\r\n```\r\nAgain, as I mentioned, this works. Here&#39;s my main mod file:\r\n```java\r\npackage com.oshotz.testmod;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport com.google.api.core.ApiFuture;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\n// import com.google.firebase.FirebaseApp;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.FirebaseOptions;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.storage.v2.Object;\r\n\r\nimport net.minecraftforge.common.MinecraftForge;\r\n// import net.minecraft.client.Minecraft;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.Mod.EventHandler;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\r\nimport scala.collection.parallel.Tasks;\r\n\r\n// import com.google.firebase.FirebaseApp;\r\n\r\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\r\npublic class TestMod {\r\n  \r\n  // private Minecraft mc = Minecraft.getMinecraft();\r\n  private FirebaseDatabase firebaseDatabase;\r\n\r\n  @EventHandler\r\n  public void preInit(FMLPreInitializationEvent event) {\r\n    \r\n  }\r\n\r\n  @EventHandler\r\n  public void init(FMLInitializationEvent event) throws IOException, InterruptedException, ExecutionException, TimeoutException {\r\n\r\n    System.out.println(&quot;Test Mod is running!&quot;);\r\n\r\n    FileInputStream serviceAccount = new FileInputStream(&quot;C:\\\\Users\\\\Brandon\\\\credentials.json&quot;);\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n      .setDatabaseUrl(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;)\r\n      .build();\r\n\r\n    FirebaseApp defaultApp = FirebaseApp.initializeApp(options);\r\n    firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;);\r\n\r\n    System.out.println(defaultApp.getName());\r\n\r\n    DatabaseReference ref = firebaseDatabase.getReference(&quot;message&quot;);\r\n    ref.setValue(&quot;Hello, World!&quot;, null);\r\n\r\n    ref.setValue(&quot;testing!!&quot;, new DatabaseReference.CompletionListener() {\r\n      @Override\r\n      public void onComplete(DatabaseError de, DatabaseReference dr) {\r\n        System.out.println(&quot;finish&quot;);\r\n      }\r\n    });\r\n\r\n    ChatEventHandler chatEventHandler = new ChatEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(chatEventHandler);\r\n\r\n    ClientTickEventHandler clientTickEventHandler = new ClientTickEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(clientTickEventHandler);\r\n\r\n    ChestEventHandler chestEventHandler = new ChestEventHandler();\r\n    MinecraftForge.EVENT_BUS.register(chestEventHandler);\r\n\r\n    // update(&quot;hello world&quot;);\r\n    \r\n  }\r\n\r\n  @EventHandler\r\n  public void postInit(FMLPostInitializationEvent event) {\r\n    \r\n  }\r\n\r\n  public void update(String value) {\r\n    update(value, &quot;message&quot;);\r\n  }\r\n\r\n  public void update(String value, String key) {\r\n      try {\r\n          DatabaseReference ref = firebaseDatabase.getReference(key);\r\n          final CountDownLatch latch = new CountDownLatch(1);\r\n          ref.setValue(value, new DatabaseReference.CompletionListener() {\r\n              @Override\r\n              public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\r\n                  if (databaseError != null) {\r\n                      System.out.println(&quot;Data could not be saved &quot; + databaseError.getMessage());\r\n                      latch.countDown();\r\n                  } else {\r\n                      System.out.println(&quot;Data saved successfully.&quot;);\r\n                      latch.countDown();\r\n                  }\r\n              }\r\n          });\r\n          latch.await();\r\n      } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n      }\r\n}\r\n  \r\n}\r\n```\r\n...note that I&#39;ve commented out the call to the `update` function, which I&#39;ll explain in a moment.\r\n\r\nThe code, as is above, builds and runs. I can use the mod in game. However, even though `&quot;Test Mod is running!&quot;` and `[DEFAULT]` (printed by the `System.out.println(defaultApp.getName());` line) are both printed to the console (meaning the mod was properly loaded, and the Firebase dependency is working), neither of the two calls to `setValue` do ***anything***. Nothing else is printed, and the data in the Realtime Database is not changed or updated.\r\n\r\nIf I uncomment the `update(&quot;hello world&quot;);` line, then it calls the `update` function, which implements a `CountDownLatch`, as suggested by many of the other answers I&#39;ve found on this issue. However, when running the game, it hangs indefinitely on the `update(&quot;hello world&quot;);` line, until I force quit the game. Again, the data stored in Firebase is not changed or updated (for reference, I&#39;ve created the `&quot;message&quot;` ref manually in Firebase, so the database is not completely empty).\r\n\r\nNo errors are thrown anywhere. Looking at the database rule monitoring, it seems as though the database never actually receives the requests at all (the database has no allows, denies, or errors reported).\r\n\r\nI have no idea why this is, and any help would be appreciated. If I need to include any other files, let me know!\r\n\r\nAlso: I&#39;m using the Java 1.8 JDK (Java 8) for Windows x64, and am using Gradle 4.0 (as Forge for 1.8.9 doesn&#39;t play nicely with newer versions).","title":"Java Firebase Admin SDK setValue Never Completes","body":"<p>I'm trying to make a mod for Minecraft 1.8.9 (using Forge), and I need to use Firebase as a part of the project. I've gotten Forge setup and Firebase is working as a dependency. The mod builds, and I'm able to use the mod in-game. For those curious, here's my <code>build.gradle</code> file:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            name &quot;forge&quot;\n            url &quot;https://files.minecraftforge.net/maven&quot;\n        }\n        maven {\n            name &quot;google&quot;\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n    dependencies {\n        classpath 'net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT'\n    }\n}\napply plugin: 'net.minecraftforge.gradle.forge'\n\nallprojects {\n  repositories {\n    // Make sure that you have the following two repositories\n    google()  // Google's Maven repository\n    mavenCentral()  // Maven Central repository\n  }\n}\n\nversion = &quot;1.0a&quot;\ngroup= &quot;com.oshotz.testmod&quot; // http://maven.apache.org/guides/mini/guide-naming-conventions.html\narchivesBaseName = &quot;testmod&quot;\n\nminecraft {\n    version = &quot;1.8.9-11.15.1.2318-1.8.9&quot;\n    runDir = &quot;run&quot;\n    \n    mappings = &quot;stable_20&quot;\n}\n\nconfigurations {\n    shade\n    implementation.extendsFrom shade\n}\n\ndependencies {\n    shade 'com.google.firebase:firebase-admin:9.2.0'\n    shade 'com.google.firebase:firebase-database:9.2.0'\n}\n\njar {\n    configurations.shade.each { dep -&gt;\n        from(project.zipTree(dep)){\n            exclude 'META-INF', 'META-INF/**'\n        }\n    }\n}\n\nprocessResources\n{\n    // this will ensure that this task is redone when the versions change.\n    inputs.property &quot;version&quot;, project.version\n    inputs.property &quot;mcversion&quot;, project.minecraft.version\n\n    // replace stuff in mcmod.info, nothing else\n    from(sourceSets.main.resources.srcDirs) {\n        include 'mcmod.info'\n                \n        // replace version and mcversion\n        expand 'version':project.version, 'mcversion':project.minecraft.version\n    }\n        \n    // copy everything else, thats not the mcmod.info\n    from(sourceSets.main.resources.srcDirs) {\n        exclude 'mcmod.info'\n    }\n}\n</code></pre>\n<p>Again, as I mentioned, this works. Here's my main mod file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.oshotz.testmod;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\nimport com.google.api.core.ApiFuture;\nimport com.google.auth.oauth2.GoogleCredentials;\n\n// import com.google.firebase.FirebaseApp;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.google.storage.v2.Object;\n\nimport net.minecraftforge.common.MinecraftForge;\n// import net.minecraft.client.Minecraft;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.Mod.EventHandler;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPostInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLPreInitializationEvent;\nimport scala.collection.parallel.Tasks;\n\n// import com.google.firebase.FirebaseApp;\n\n@Mod(modid = Reference.MOD_ID, name = Reference.MOD_NAME, version = Reference.VERSION)\npublic class TestMod {\n  \n  // private Minecraft mc = Minecraft.getMinecraft();\n  private FirebaseDatabase firebaseDatabase;\n\n  @EventHandler\n  public void preInit(FMLPreInitializationEvent event) {\n    \n  }\n\n  @EventHandler\n  public void init(FMLInitializationEvent event) throws IOException, InterruptedException, ExecutionException, TimeoutException {\n\n    System.out.println(&quot;Test Mod is running!&quot;);\n\n    FileInputStream serviceAccount = new FileInputStream(&quot;C:\\\\Users\\\\Brandon\\\\credentials.json&quot;);\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n      .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n      .setDatabaseUrl(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;)\n      .build();\n\n    FirebaseApp defaultApp = FirebaseApp.initializeApp(options);\n    firebaseDatabase = FirebaseDatabase.getInstance(&quot;https://&lt;redacted&gt;.firebaseio.com&quot;);\n\n    System.out.println(defaultApp.getName());\n\n    DatabaseReference ref = firebaseDatabase.getReference(&quot;message&quot;);\n    ref.setValue(&quot;Hello, World!&quot;, null);\n\n    ref.setValue(&quot;testing!!&quot;, new DatabaseReference.CompletionListener() {\n      @Override\n      public void onComplete(DatabaseError de, DatabaseReference dr) {\n        System.out.println(&quot;finish&quot;);\n      }\n    });\n\n    ChatEventHandler chatEventHandler = new ChatEventHandler();\n    MinecraftForge.EVENT_BUS.register(chatEventHandler);\n\n    ClientTickEventHandler clientTickEventHandler = new ClientTickEventHandler();\n    MinecraftForge.EVENT_BUS.register(clientTickEventHandler);\n\n    ChestEventHandler chestEventHandler = new ChestEventHandler();\n    MinecraftForge.EVENT_BUS.register(chestEventHandler);\n\n    // update(&quot;hello world&quot;);\n    \n  }\n\n  @EventHandler\n  public void postInit(FMLPostInitializationEvent event) {\n    \n  }\n\n  public void update(String value) {\n    update(value, &quot;message&quot;);\n  }\n\n  public void update(String value, String key) {\n      try {\n          DatabaseReference ref = firebaseDatabase.getReference(key);\n          final CountDownLatch latch = new CountDownLatch(1);\n          ref.setValue(value, new DatabaseReference.CompletionListener() {\n              @Override\n              public void onComplete(DatabaseError databaseError, DatabaseReference databaseReference) {\n                  if (databaseError != null) {\n                      System.out.println(&quot;Data could not be saved &quot; + databaseError.getMessage());\n                      latch.countDown();\n                  } else {\n                      System.out.println(&quot;Data saved successfully.&quot;);\n                      latch.countDown();\n                  }\n              }\n          });\n          latch.await();\n      } catch (InterruptedException e) {\n          e.printStackTrace();\n      }\n}\n  \n}\n</code></pre>\n<p>...note that I've commented out the call to the <code>update</code> function, which I'll explain in a moment.</p>\n<p>The code, as is above, builds and runs. I can use the mod in game. However, even though <code>&quot;Test Mod is running!&quot;</code> and <code>[DEFAULT]</code> (printed by the <code>System.out.println(defaultApp.getName());</code> line) are both printed to the console (meaning the mod was properly loaded, and the Firebase dependency is working), neither of the two calls to <code>setValue</code> do <em><strong>anything</strong></em>. Nothing else is printed, and the data in the Realtime Database is not changed or updated.</p>\n<p>If I uncomment the <code>update(&quot;hello world&quot;);</code> line, then it calls the <code>update</code> function, which implements a <code>CountDownLatch</code>, as suggested by many of the other answers I've found on this issue. However, when running the game, it hangs indefinitely on the <code>update(&quot;hello world&quot;);</code> line, until I force quit the game. Again, the data stored in Firebase is not changed or updated (for reference, I've created the <code>&quot;message&quot;</code> ref manually in Firebase, so the database is not completely empty).</p>\n<p>No errors are thrown anywhere. Looking at the database rule monitoring, it seems as though the database never actually receives the requests at all (the database has no allows, denies, or errors reported).</p>\n<p>I have no idea why this is, and any help would be appreciated. If I need to include any other files, let me know!</p>\n<p>Also: I'm using the Java 1.8 JDK (Java 8) for Windows x64, and am using Gradle 4.0 (as Forge for 1.8.9 doesn't play nicely with newer versions).</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","quarkus-panache"],"answers":[{"comments":[{"owner":{"account_id":1580764,"reputation":593,"user_id":1466201,"accept_rate":0,"display_name":"Fortran"},"score":0,"creation_date":1689706318,"post_id":76713474,"comment_id":135250830,"body_markdown":"Unfortunately, I cannot set the increment size to 1 because all my entities extend the `BaseEntity` that has \n`public class BaseDbEntity extends PanacheEntityBase {`\n `@Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n @Column(name = &quot;id&quot;)\n  private Long id;`","body":"Unfortunately, I cannot set the increment size to 1 because all my entities extend the <code>BaseEntity</code> that has  <code>public class BaseDbEntity extends PanacheEntityBase {</code>  <code>@Id   @GeneratedValue(strategy = GenerationType.IDENTITY)  @Column(name = &quot;id&quot;)   private Long id;</code>"}],"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689688133,"creation_date":1689688133,"answer_id":76713474,"question_id":76706594,"body_markdown":"I&#39;d highly recommend checking out this migration guide https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration\r\n\r\nThe issue you are encountering most likely comes from [this particular change][1], where the default increment size changed from 1 to 50.\r\n\r\nYou could try explicitly setting the increment size back to 1 and see if that helps.\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>I'd highly recommend checking out this migration guide <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration</a></p>\n<p>The issue you are encountering most likely comes from <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size\" rel=\"nofollow noreferrer\">this particular change</a>, where the default increment size changed from 1 to 50.</p>\n<p>You could try explicitly setting the increment size back to 1 and see if that helps.</p>\n"},{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690989731,"creation_date":1690989731,"answer_id":76821363,"question_id":76706594,"body_markdown":"You should set the increment size of your sequence to 50.\r\n\r\nSee https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size :\r\n\r\n&gt; Use DDL (SQL such as `alter sequence […​]`) to set the increment size of your sequences to the right value, i.e. to the allocation size of your identifier generators, which defaults to 50 since Hibernate ORM 6.","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>You should set the increment size of your sequence to 50.</p>\n<p>See <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#sequence-increment-size</a> :</p>\n<blockquote>\n<p>Use DDL (SQL such as <code>alter sequence […​]</code>) to set the increment size of your sequences to the right value, i.e. to the allocation size of your identifier generators, which defaults to 50 since Hibernate ORM 6.</p>\n</blockquote>\n"}],"owner":{"account_id":1580764,"reputation":593,"user_id":1466201,"accept_rate":0,"display_name":"Fortran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690989731,"creation_date":1689612735,"question_id":76706594,"body_markdown":"Recently, I migrated a service from Quarkus 2.7 to the latest version, 3.2.0.Final. The migration process went smoothly, and the project builds successfully. However, I encountered a problem when attempting to write data to a PostgreSQL database.\r\nnitially, I faced the error:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.revinfo_seq&quot; does not exist\r\n      Position: 16\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\r\n                    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\r\n                    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\r\n                    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\r\n                    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166)\r\n                    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118)\r\n                    at io.agroal.pool.wrapper.PreparedStatementWrapper.executeQuery(PreparedStatementWrapper.java:78)\r\n                    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:\r\n\r\n\r\nTo resolve this, I renamed the current sequence from `info_rev_seq` to `revinfo_seq`  since Hibernate 6 introduced a change in sequence naming strategy https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/\r\n\r\nAfter fixing the sequence name, the above problem was resolved. However, I discovered another issue that emerged after some time.\r\n\r\nI encountered the following error:\r\n\r\n    org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\r\n    Detail: Key (rev)=(60) already exists.] [insert into public.REVINFO (REVTSTMP,REV) values (?,?)]\r\n      at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)\r\n      at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n      at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n      at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)\r\n      at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)\r\n      at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)\r\n      at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:53)\r\n      at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\r\n      at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\r\n      at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2761)\r\n      at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:102)\r\n      at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:606)\r\n      at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n      at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:358)\r\n      at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n      at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n      ...\r\n      Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\r\n      Detail: Key (rev)=(60) already exists.\r\n\r\n\r\nThe structure of the `revinfo` table is as follows:\r\n  \r\n\r\n    create table revinfo\r\n    (\r\n        rev      bigserial,\r\n        revtstmp bigint\r\n    );\r\n    \r\n    alter table revinfo\r\n        add constraint pk_revinfo\r\n            primary key (rev);\r\n\r\n\r\nUpon investigation, it became apparent that the sequence was becoming out of sync. For example, the `revinfo` table contained **54 rows**, but the `sequence` had a value of **23**. I manually fixed the sequence to align with the correct value, but it eventually became out of sync again.\r\n\r\nThe issue seems to be related to sequence synchronization. Although the specific cause is yet to be determined, factors such as transaction rollbacks, concurrent operations, or improper sequence management might be contributing to the problem.\r\n\r\nI suspect that the migration to `Quarkus 3.2.0.Final` might have influenced the behavior, as the sequence synchronization was working correctly before the migration.\r\n\r\nI am also using Hibernate Envers for auditing my tables, including the `revinfo` table. However, since the issue arises even without any reference to the `revinfo` table in my primary tables, it seems that the problem lies in the sequence synchronization rather than the auditing itself.\r\n\r\nHas anyone encountered a similar problem and could provide advice on solving the issue and identifying its root cause? \r\nYour insights and suggestions would be greatly appreciated in resolving the sequence synchronization problem mentioned above. \r\n\r\nPlease feel free to share any experiences or recommendations that could help in troubleshooting and resolving the issue effectively. \r\nThank you in advance for your assistance\r\n\r\nP.S. The database being used is PostgreSQL","title":"Issues with Sequence Synchronization and Duplicate Key Violation after migration to v3.2.0.Final","body":"<p>Recently, I migrated a service from Quarkus 2.7 to the latest version, 3.2.0.Final. The migration process went smoothly, and the project builds successfully. However, I encountered a problem when attempting to write data to a PostgreSQL database.\nnitially, I faced the error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;public.revinfo_seq&quot; does not exist\n  Position: 16\n                at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\n                at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\n                at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\n                at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\n                at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\n                at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:166)\n                at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:118)\n                at io.agroal.pool.wrapper.PreparedStatementWrapper.executeQuery(PreparedStatementWrapper.java:78)\n                at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:\n</code></pre>\n<p>To resolve this, I renamed the current sequence from <code>info_rev_seq</code> to <code>revinfo_seq</code>  since Hibernate 6 introduced a change in sequence naming strategy <a href=\"https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/\" rel=\"nofollow noreferrer\">https://jpa-buddy.com/blog/hibernate6-whats-new-and-why-its-important/</a></p>\n<p>After fixing the sequence name, the above problem was resolved. However, I discovered another issue that emerged after some time.</p>\n<p>I encountered the following error:</p>\n<pre><code>org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\nDetail: Key (rev)=(60) already exists.] [insert into public.REVINFO (REVTSTMP,REV) values (?,?)]\n  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:95)\n  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:278)\n  at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)\n  at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)\n  at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:53)\n  at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:170)\n  at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:112)\n  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2761)\n  at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:102)\n  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:606)\n  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n  at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:358)\n  at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n  at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\n  ...\n  Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;pk_revinfo&quot;\n  Detail: Key (rev)=(60) already exists.\n</code></pre>\n<p>The structure of the <code>revinfo</code> table is as follows:</p>\n<pre><code>create table revinfo\n(\n    rev      bigserial,\n    revtstmp bigint\n);\n\nalter table revinfo\n    add constraint pk_revinfo\n        primary key (rev);\n</code></pre>\n<p>Upon investigation, it became apparent that the sequence was becoming out of sync. For example, the <code>revinfo</code> table contained <strong>54 rows</strong>, but the <code>sequence</code> had a value of <strong>23</strong>. I manually fixed the sequence to align with the correct value, but it eventually became out of sync again.</p>\n<p>The issue seems to be related to sequence synchronization. Although the specific cause is yet to be determined, factors such as transaction rollbacks, concurrent operations, or improper sequence management might be contributing to the problem.</p>\n<p>I suspect that the migration to <code>Quarkus 3.2.0.Final</code> might have influenced the behavior, as the sequence synchronization was working correctly before the migration.</p>\n<p>I am also using Hibernate Envers for auditing my tables, including the <code>revinfo</code> table. However, since the issue arises even without any reference to the <code>revinfo</code> table in my primary tables, it seems that the problem lies in the sequence synchronization rather than the auditing itself.</p>\n<p>Has anyone encountered a similar problem and could provide advice on solving the issue and identifying its root cause?\nYour insights and suggestions would be greatly appreciated in resolving the sequence synchronization problem mentioned above.</p>\n<p>Please feel free to share any experiences or recommendations that could help in troubleshooting and resolving the issue effectively.\nThank you in advance for your assistance</p>\n<p>P.S. The database being used is PostgreSQL</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1690448200,"post_id":76778068,"comment_id":135356191,"body_markdown":"Why did you escape character class `[` and `]` chars?","body":"Why did you escape character class <code>[</code> and <code>]</code> chars?"}],"answers":[{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1690710651,"post_id":76778125,"comment_id":135388929,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76778125/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"score":0,"creation_date":1690809952,"post_id":76778125,"comment_id":135400616,"body_markdown":"This is @Paul Pazderski&#39;s answer. Please upvote when you have enough reputation to do so, rather than reposting as new answer.","body":"This is @Paul Pazderski&#39;s answer. Please upvote when you have enough reputation to do so, rather than reposting as new answer."},{"owner":{"account_id":19095065,"reputation":13840,"user_id":13944524,"display_name":"S.B"},"score":0,"creation_date":1690988796,"post_id":76778125,"comment_id":135430341,"body_markdown":"@kenny_k looks like they both answered at the same time. user22293349 was a bit sooner in particular. It doesn&#39;t have any explanation though.","body":"@kenny_k looks like they both answered at the same time. user22293349 was a bit sooner in particular. It doesn&#39;t have any explanation though."},{"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"score":1,"creation_date":1691061282,"post_id":76778125,"comment_id":135442062,"body_markdown":"@S.B fair enough, didn&#39;t notice the timestamps. I didn&#39;t downvote, but it was flagged as low-quality - not sure how that voting went in the end.","body":"@S.B fair enough, didn&#39;t notice the timestamps. I didn&#39;t downvote, but it was flagged as low-quality - not sure how that voting went in the end."}],"tags":[],"owner":{"account_id":29101650,"reputation":1,"user_id":22293349,"display_name":"user22293349"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690988848,"creation_date":1690448412,"answer_id":76778125,"question_id":76778068,"body_markdown":"This worked:\r\n\r\n```regex\r\n&#39;^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF\\@\\/\\-\\s]+$&#39;\r\n```","title":"Regex to allow specific and special characters","body":"<p>This worked:</p>\n<pre><code>'^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF\\@\\/\\-\\s]+$'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11122988,"reputation":473,"user_id":8165349,"display_name":"Paul Pazderski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690448512,"creation_date":1690448512,"answer_id":76778135,"question_id":76778068,"body_markdown":"    ^[-@/ a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$&#39;\r\n\r\nA `-` is best added first in a character class to ensure it is not interpreted as range. For the other missing characters simply add them.\r\n\r\nAlso note that your ranges `\\u00C0-\\u024F` and `\\u1E00-\\u1EFF` add a lot more than just &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220;Ÿ (and ranges can be a bit unreliable with different locals; might be best to explicit add all wanted characters)\r\n\r\nAnd to match &quot;between words&quot; you probably want `\\b[...]\\b` instead of `^[...]$` which matches the entire input.","title":"Regex to allow specific and special characters","body":"<pre><code>^[-@/ a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$'\n</code></pre>\n<p>A <code>-</code> is best added first in a character class to ensure it is not interpreted as range. For the other missing characters simply add them.</p>\n<p>Also note that your ranges <code>\\u00C0-\\u024F</code> and <code>\\u1E00-\\u1EFF</code> add a lot more than just àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸ (and ranges can be a bit unreliable with different locals; might be best to explicit add all wanted characters)</p>\n<p>And to match &quot;between words&quot; you probably want <code>\\b[...]\\b</code> instead of <code>^[...]$</code> which matches the entire input.</p>\n"}],"owner":{"account_id":29101650,"reputation":1,"user_id":22293349,"display_name":"user22293349"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1690988848,"creation_date":1690447922,"question_id":76778068,"body_markdown":"I need to create a regex in java that allows the following:\r\n\r\nCharacters a-z, A-Z and &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220;Ÿ\r\nNumbers 0-9\r\nSpecial characters: @ - /\r\nSpaces between words\r\n\r\nCurrently I have this: &#39;^\\[a-zA-Z0-9\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\nwhich allows: a-z, A-Z, 0-9 and &#224;&#232;&#236;&#242;&#249;&#192;&#200;&#204;&#210;&#217;&#225;&#233;&#237;&#243;&#250;&#253;&#193;&#201;&#205;&#211;&#218;&#221;&#226;&#234;&#238;&#244;&#251;&#194;&#202;&#206;&#212;&#219;&#227;&#241;&#245;&#195;&#209;&#213;&#228;&#235;&#239;&#246;&#252;&#255;&#196;&#203;&#207;&#214;&#220;Ÿ - but does not allow spaces or the characters @ - /\r\nI cannot figure out a regex that includes all of this, please help\r\n\r\nI tried the following other regex variations:\r\n\r\n    &#39;^\\[a-zA-Z0-9!/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\n    &#39;^\\[a-zA-Z0-9\\\\w+\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;\r\n    &#39;^\\[a-zA-Z0-9\\\\w+@/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$&#39;","title":"Regex to allow specific and special characters","body":"<p>I need to create a regex in java that allows the following:</p>\n<p>Characters a-z, A-Z and àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸ\nNumbers 0-9\nSpecial characters: @ - /\nSpaces between words</p>\n<p>Currently I have this: '^[a-zA-Z0-9\\u00C0-\\u024F\\u1E00-\\u1EFF]+$'\nwhich allows: a-z, A-Z, 0-9 and àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸ - but does not allow spaces or the characters @ - /\nI cannot figure out a regex that includes all of this, please help</p>\n<p>I tried the following other regex variations:</p>\n<pre><code>'^\\[a-zA-Z0-9!/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n'^\\[a-zA-Z0-9\\\\w+\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n'^\\[a-zA-Z0-9\\\\w+@/-\\\\u00C0-\\\\u024F\\\\u1E00-\\\\u1EFF\\]+$'\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":2,"creation_date":1510928994,"post_id":47352902,"comment_id":81657978,"body_markdown":"If you do it with setters, then they can&#39;t be final.","body":"If you do it with setters, then they can&#39;t be final."},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1510930223,"post_id":47352902,"comment_id":81658797,"body_markdown":"Good point - I tried that and forgot that that wasnt an option ;)","body":"Good point - I tried that and forgot that that wasnt an option ;)"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1510930269,"post_id":47352902,"comment_id":81658834,"body_markdown":"Use Lombok to generate the constructor for you?","body":"Use Lombok to generate the constructor for you?"},{"owner":{"account_id":2647922,"reputation":1409,"user_id":2290251,"accept_rate":89,"display_name":"Javier Alvarez"},"score":0,"creation_date":1510930291,"post_id":47352902,"comment_id":81658850,"body_markdown":"I don&#39;t understand the problem. You want to change to constructor injection but without constructor? If the problem is only about code appealing, you can use Lombok @RequiredArgsConstructor annotation  https://projectlombok.org/features/constructor","body":"I don&#39;t understand the problem. You want to change to constructor injection but without constructor? If the problem is only about code appealing, you can use Lombok @RequiredArgsConstructor annotation  <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">projectlombok.org/features/constructor</a>"},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1510930385,"post_id":47352902,"comment_id":81658927,"body_markdown":"@WinterN no I want to use a constructor - but having so many args is a little unwieldy.","body":"@WinterN no I want to use a constructor - but having so many args is a little unwieldy."},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1511100945,"post_id":47352902,"comment_id":81707687,"body_markdown":"@chrylis Thanks for the tip about constructor injections with lombok. I found a useful guide here: http://www.baeldung.com/spring-injection-lombok. If you post an answer, I&#39;ll accept it.","body":"@chrylis Thanks for the tip about constructor injections with lombok. I found a useful guide here: <a href=\"http://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">baeldung.com/spring-injection-lombok</a>. If you post an answer, I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1510930506,"creation_date":1510929131,"answer_id":47353026,"question_id":47352902,"body_markdown":"Firstly, there is no alternative.   \r\nSecondly, if a contructor has 8 parameters, it is not designed  properly. I think you should rethink about the class structure and responsibility. Consider splitting the class into two or three separate beans and inject those.  \r\n\r\nIf a constructor has 8 arguments, in most cases it will be vioalating SRP(Single Responsibility principle)","title":"Spring constructor injection with lots of fields","body":"<p>Firstly, there is no alternative.<br>\nSecondly, if a contructor has 8 parameters, it is not designed  properly. I think you should rethink about the class structure and responsibility. Consider splitting the class into two or three separate beans and inject those.  </p>\n\n<p>If a constructor has 8 arguments, in most cases it will be vioalating SRP(Single Responsibility principle)</p>\n"},{"tags":[],"owner":{"account_id":8046768,"reputation":545,"user_id":6066756,"display_name":"Amr Alaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510934326,"creation_date":1510934326,"answer_id":47354608,"question_id":47352902,"body_markdown":"First of all you can set the initial values of these parameters in an .properties file and then read this property file as a pojo configuration class and it is very easy in spring to convert .properties file into pojo.\r\n\r\nso the constructor will be something like this\r\n\r\n@Autowired\r\npublic Temp(ConfigPojoClass config) {\r\n.....\r\n}","title":"Spring constructor injection with lots of fields","body":"<p>First of all you can set the initial values of these parameters in an .properties file and then read this property file as a pojo configuration class and it is very easy in spring to convert .properties file into pojo.</p>\n\n<p>so the constructor will be something like this</p>\n\n<p>@Autowired\npublic Temp(ConfigPojoClass config) {\n.....\n}</p>\n"},{"tags":[],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690988788,"creation_date":1690988788,"answer_id":76821233,"question_id":47352902,"body_markdown":"There is an option if you are happy to introduce Project Lombok. Given the following class:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ThankingService {\r\n\r\n        private final Translator translator;\r\n\r\n        public String produce() {\r\n            return translator.translate(&quot;thank you&quot;);\r\n        }\r\n   }\r\n\r\nThe Lombok annotation @RequiredArgsConstructor will cause Lombok to generate a constructor, this happens if there is 1 data variable or 10, etc.\r\n\r\n    @Component\r\n    public class ThankingService {\r\n\r\n        private final Translator translator;\r\n\r\n        public String thank() {\r\n            return translator.translate(&quot;thank you&quot;);\r\n        }\r\n\r\n        /* Generated by Lombok */\r\n        public ThankingService(Translator translator) {\r\n            this.translator = translator;\r\n        }\r\n    }\r\n\r\nMore info: https://www.baeldung.com/spring-injection-lombok","title":"Spring constructor injection with lots of fields","body":"<p>There is an option if you are happy to introduce Project Lombok. Given the following class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ThankingService {\n\n    private final Translator translator;\n\n    public String produce() {\n        return translator.translate(&quot;thank you&quot;);\n    }\n</code></pre>\n<p>}</p>\n<p>The Lombok annotation @RequiredArgsConstructor will cause Lombok to generate a constructor, this happens if there is 1 data variable or 10, etc.</p>\n<pre><code>@Component\npublic class ThankingService {\n\n    private final Translator translator;\n\n    public String thank() {\n        return translator.translate(&quot;thank you&quot;);\n    }\n\n    /* Generated by Lombok */\n    public ThankingService(Translator translator) {\n        this.translator = translator;\n    }\n}\n</code></pre>\n<p>More info: <a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-injection-lombok</a></p>\n"}],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2710,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47353026,"answer_count":3,"score":4,"last_activity_date":1690988788,"creation_date":1510928779,"question_id":47352902,"body_markdown":"I have a Spring component that has 8 members.\r\n\r\nI am currently autowiring these 8 members with field injection.\r\n\r\nI now want make these members private final, and do constructor injection to set them. \r\n\r\nThis is easy enough to do, but now I have a component constructor with 8 parameters. \r\n\r\nI know I can use setter injection and set these values in an XML file, but this I don&#39;t want to do. \r\n\r\nAre there any other alternatives?\r\n\r\nEDIT: \r\n\r\nThis component just does a single thing. But that involves calling several other services. Hence the 8 injections","title":"Spring constructor injection with lots of fields","body":"<p>I have a Spring component that has 8 members.</p>\n\n<p>I am currently autowiring these 8 members with field injection.</p>\n\n<p>I now want make these members private final, and do constructor injection to set them. </p>\n\n<p>This is easy enough to do, but now I have a component constructor with 8 parameters. </p>\n\n<p>I know I can use setter injection and set these values in an XML file, but this I don't want to do. </p>\n\n<p>Are there any other alternatives?</p>\n\n<p>EDIT: </p>\n\n<p>This component just does a single thing. But that involves calling several other services. Hence the 8 injections</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690989426,"post_id":76821227,"comment_id":135430502,"body_markdown":"If project A depends on project B as a dependency and Project B depends itself on A, what would be the correct build order? If you want to build A it requires you to have build B first, and building B would require you to build A first. In very layman terms it is the old &quot;Chicken-egg-problem&quot;","body":"If project A depends on project B as a dependency and Project B depends itself on A, what would be the correct build order? If you want to build A it requires you to have build B first, and building B would require you to build A first. In very layman terms it is the old &quot;Chicken-egg-problem&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1690990032,"post_id":76821227,"comment_id":135430648,"body_markdown":"Circular dependencies form a serious technical debt, see [Baeldung](https://www.baeldung.com/circular-dependencies-in-spring). Indirections, uncoupling, facades, APIs and other solutions can be found. You will need to dive into some solutions inside your team.","body":"Circular dependencies form a serious technical debt, see <a href=\"https://www.baeldung.com/circular-dependencies-in-spring\" rel=\"nofollow noreferrer\">Baeldung</a>. Indirections, uncoupling, facades, APIs and other solutions can be found. You will need to dive into some solutions inside your team."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690990679,"post_id":76821227,"comment_id":135430801,"body_markdown":"@OHGODSPIDERS In the case of Spring it is bean A depending on bean B depending on bean A. The way to solve that is with proxies or setter injection, but both have their downsides.","body":"@OHGODSPIDERS In the case of Spring it is bean A depending on bean B depending on bean A. The way to solve that is with proxies or setter injection, but both have their downsides."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690991015,"post_id":76821227,"comment_id":135430875,"body_markdown":"It is not so much a &quot;risk&quot;, but that some normal cases of creating beans will not work, and the &quot;work arounds&quot; (setter injection or lazy initialization), make some forms of initialization harder (e.g. not only in the constructor, but also in the setter), or introduce overhead (e.g. the proxy used for lazy initialization), and/or makes it harder (or impossible) to create immutable beans (e.g. because of the setter).","body":"It is not so much a &quot;risk&quot;, but that some normal cases of creating beans will not work, and the &quot;work arounds&quot; (setter injection or lazy initialization), make some forms of initialization harder (e.g. not only in the constructor, but also in the setter), or introduce overhead (e.g. the proxy used for lazy initialization), and/or makes it harder (or impossible) to create immutable beans (e.g. because of the setter)."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1690993252,"post_id":76821227,"comment_id":135431356,"body_markdown":"circular dependencies are unavoidable in large projects, especially in configuration classes. Internally spring(-boot) resolves that via `*Aware` beans and `ObjectProvider`, which, IMO, is even poorer than allowing circular dependencies, `spring-security` has another square wheel (`ObjectPostProcessor` and `HttpSecurityBuilder`), which neither looks robust. That is kind of situation when treatment is worse than disease.","body":"circular dependencies are unavoidable in large projects, especially in configuration classes. Internally spring(-boot) resolves that via <code>*Aware</code> beans and <code>ObjectProvider</code>, which, IMO, is even poorer than allowing circular dependencies, <code>spring-security</code> has another square wheel (<code>ObjectPostProcessor</code> and <code>HttpSecurityBuilder</code>), which neither looks robust. That is kind of situation when treatment is worse than disease."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690988743,"creation_date":1690988743,"question_id":76821227,"body_markdown":"I certainly know that allowing a Spring context to have circular dependencies is discouraged.  I remove them if I discover them in my own code, and we tell developers we work with to do that.  However, they still have the workaround of setting `spring.main.allow-circular-references=true`.\r\n\r\nIt doesn&#39;t do any good to tell developers it is &quot;discouraged&quot;, when they can clearly see that they simply have to set that property to fix the problem.\r\n\r\nWhat are the actual risks or problems with forcing Spring to allow circular dependencies?","title":"What are the actual risks from forcing Spring to allow circular dependencies?","body":"<p>I certainly know that allowing a Spring context to have circular dependencies is discouraged.  I remove them if I discover them in my own code, and we tell developers we work with to do that.  However, they still have the workaround of setting <code>spring.main.allow-circular-references=true</code>.</p>\n<p>It doesn't do any good to tell developers it is &quot;discouraged&quot;, when they can clearly see that they simply have to set that property to fix the problem.</p>\n<p>What are the actual risks or problems with forcing Spring to allow circular dependencies?</p>\n"},{"tags":["java","spring-boot","caffeine-cache"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1690976581,"post_id":76817520,"comment_id":135427212,"body_markdown":"What are the values? How big is each value? What is `CompressingCaffeineManager` (this class doesn&#39;t seem to exist in the official sources)? Why do you think that compressing the values will improve performance, 30k are not that many elements?","body":"What are the values? How big is each value? What is <code>CompressingCaffeineManager</code> (this class doesn&#39;t seem to exist in the official sources)? Why do you think that compressing the values will improve performance, 30k are not that many elements?"},{"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"score":0,"creation_date":1690988839,"post_id":76817520,"comment_id":135430358,"body_markdown":"I have corrected my code. the value is a custom object. it has around 10 fields. Just thought to compress it so that it won&#39;t cause any memory issues later.","body":"I have corrected my code. the value is a custom object. it has around 10 fields. Just thought to compress it so that it won&#39;t cause any memory issues later."}],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690988667,"creation_date":1690961261,"question_id":76817520,"body_markdown":"I have implemented a caffeine cache in spring boot. This cache holds up to 30k elements. This affects the performance. Hence I want to implement compression on the values it stores. Please advise.\r\n\r\nhere is my config class:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CachingConfig {\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager();\r\n        cacheManager.setCaffeine(Caffeine.newBuilder().expireAfterWrite(10, TimeUnit.MINUTES) // Set the expiration time\r\n                .maximumSize(30000).recordStats());\r\n        cacheManager.setCacheNames(Collections.singletonList(&quot;my_cache&quot;));\r\n\r\n        return cacheManager;\r\n    }\r\n    }\r\n\r\n","title":"Implement compression in caffeineCache springboot","body":"<p>I have implemented a caffeine cache in spring boot. This cache holds up to 30k elements. This affects the performance. Hence I want to implement compression on the values it stores. Please advise.</p>\n<p>here is my config class:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CachingConfig {\n@Bean\npublic CacheManager cacheManager() {\n    CaffeineCacheManager cacheManager = new CaffeineCacheManager();\n    cacheManager.setCaffeine(Caffeine.newBuilder().expireAfterWrite(10, TimeUnit.MINUTES) // Set the expiration time\n            .maximumSize(30000).recordStats());\n    cacheManager.setCacheNames(Collections.singletonList(&quot;my_cache&quot;));\n\n    return cacheManager;\n}\n}\n</code></pre>\n"},{"tags":["java","cryptography"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":2,"creation_date":1336662596,"post_id":10536930,"comment_id":13631379,"body_markdown":"Please explain what you&#39;ve tried.","body":"Please explain what you&#39;ve tried."},{"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"score":1,"creation_date":1336662701,"post_id":10536930,"comment_id":13631430,"body_markdown":"Haven&#39;t tried, rather read, Generating a key and then converting to bytes. But I can&#39;t find any clear instructions on how I would go about doing even this, the examples are always doing way more than I need.","body":"Haven&#39;t tried, rather read, Generating a key and then converting to bytes. But I can&#39;t find any clear instructions on how I would go about doing even this, the examples are always doing way more than I need."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1336663063,"post_id":10536930,"comment_id":13631618,"body_markdown":"Does [`Key.getEncoded()`](http://docs.oracle.com/javase/7/docs/api/java/security/Key.html#getEncoded%28%29) not do what you want?","body":"Does <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/Key.html#getEncoded%28%29\" rel=\"nofollow noreferrer\"><code>Key.getEncoded()</code></a> not do what you want?"},{"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"score":1,"creation_date":1336663520,"post_id":10536930,"comment_id":13631861,"body_markdown":"I don&#39;t really understand How i&#39;m meant to use that method, and i can&#39;t find any decent examples.","body":"I don&#39;t really understand How i&#39;m meant to use that method, and i can&#39;t find any decent examples."}],"answers":[{"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1336665347,"post_id":10537499,"comment_id":13632730,"body_markdown":"Not sure it&#39;s a good idea to dump a key into a file just like that, without any password protection.","body":"Not sure it&#39;s a good idea to dump a key into a file just like that, without any password protection."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":2,"creation_date":1336667420,"post_id":10537499,"comment_id":13633655,"body_markdown":"@Bruno, you have to trust something.  If you&#39;re going to have a headless process that uses keys, then you either have to give whatever bootstraps it access to keys, or give it access to a key to a key store.  Keystore are great things, but for headless processes they don&#39;t solve the key protection problem, just push it back one layer.","body":"@Bruno, you have to trust something.  If you&#39;re going to have a headless process that uses keys, then you either have to give whatever bootstraps it access to keys, or give it access to a key to a key store.  Keystore are great things, but for headless processes they don&#39;t solve the key protection problem, just push it back one layer."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1337285443,"post_id":10537499,"comment_id":13798324,"body_markdown":"Although you are right that you&#39;re &quot;just pushing it back one layer&quot;, I&#39;m with @Bruno on this because in some cases doing this is useful.  You can embed the password to your keystore in","body":"Although you are right that you&#39;re &quot;just pushing it back one layer&quot;, I&#39;m with @Bruno on this because in some cases doing this is useful.  You can embed the password to your keystore in"},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1337285833,"post_id":10537499,"comment_id":13798452,"body_markdown":"your application. This way A) in case of accidental unauthorized access or copying there is less likelihood that the keys will be compromised because there are two pieces of information required to get at the keys.  B) if the server is compromised, although it wouldn&#39;t be impossible to get at the keys, as you pointed out, it will no longer be trivial, especially if the keystore is in a different system than the application.","body":"your application. This way A) in case of accidental unauthorized access or copying there is less likelihood that the keys will be compromised because there are two pieces of information required to get at the keys.  B) if the server is compromised, although it wouldn&#39;t be impossible to get at the keys, as you pointed out, it will no longer be trivial, especially if the keystore is in a different system than the application."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1337286265,"post_id":10537499,"comment_id":13798622,"body_markdown":"However, it&#39;s a valid point that at some junction you must supply the password to get to the keys.","body":"However, it&#39;s a valid point that at some junction you must supply the password to get to the keys."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1337289419,"post_id":10537499,"comment_id":13799691,"body_markdown":"@Sanjeev, if you embed keystore passwords in the application, then anything with read access to the application binary, or memory access to the running application has access to the password and thereby the key.  When the keys are in a key file, you still have the file system problem, but the memory problem is limited to processes that can access the file-cache.  The latter category is smaller.  There are many excellent reasons to use key stores, but default suspicion of the file-system is not a sufficient reason unless you have a way to avoid storing passwords in the file-system.","body":"@Sanjeev, if you embed keystore passwords in the application, then anything with read access to the application binary, or memory access to the running application has access to the password and thereby the key.  When the keys are in a key file, you still have the file system problem, but the memory problem is limited to processes that can access the file-cache.  The latter category is smaller.  There are many excellent reasons to use key stores, but default suspicion of the file-system is not a sufficient reason unless you have a way to avoid storing passwords in the file-system."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1337355830,"post_id":10537499,"comment_id":13819071,"body_markdown":"The way I&#39;ve done it in the past is that the password is supplied to an ant script at command line.  As far as access to the application binaries, I guess the point I&#39;m trying to make is that it&#39;s less trivial to gain access to the file system which has the keystore and have access to the file system with the binaries (in memory or on disk) and also have to extract the password from the binaries than to just gain access to a single text file with keys in plain text.  It all depends on your applications requirements and your systems configuration.","body":"The way I&#39;ve done it in the past is that the password is supplied to an ant script at command line.  As far as access to the application binaries, I guess the point I&#39;m trying to make is that it&#39;s less trivial to gain access to the file system which has the keystore and have access to the file system with the binaries (in memory or on disk) and also have to extract the password from the binaries than to just gain access to a single text file with keys in plain text.  It all depends on your applications requirements and your systems configuration."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1337356446,"post_id":10537499,"comment_id":13819324,"body_markdown":"Also, as far as &quot;excellent reasons to use key stores&quot;, indeed there are many excellent reasons and one of them is to password protects your private keys.  That&#39;s one of oracle/sun&#39;s explicit reasons for providing key store functionality.","body":"Also, as far as &quot;excellent reasons to use key stores&quot;, indeed there are many excellent reasons and one of them is to password protects your private keys.  That&#39;s one of oracle/sun&#39;s explicit reasons for providing key store functionality."},{"owner":{"account_id":2382029,"reputation":462,"user_id":2083854,"accept_rate":57,"display_name":"Daryl Bennett"},"score":0,"creation_date":1445891819,"post_id":10537499,"comment_id":54506058,"body_markdown":"I think that this is most direct answer for the original question. I wanted this for a trivial CS assignment, where password storage isn&#39;t important.","body":"I think that this is most direct answer for the original question. I wanted this for a trivial CS assignment, where password storage isn&#39;t important."},{"owner":{"account_id":5391172,"reputation":300,"user_id":4293638,"display_name":"Kyle Zimmer"},"score":0,"creation_date":1675115338,"post_id":10537499,"comment_id":132855774,"body_markdown":"I agree, the OP pretty specifically asked for exactly this simple answer, and not the usual &quot;recommended&quot; one that most other answers gave, which as we all know is to use key stores.","body":"I agree, the OP pretty specifically asked for exactly this simple answer, and not the usual &quot;recommended&quot; one that most other answers gave, which as we all know is to use key stores."}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":10,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1336665041,"creation_date":1336664238,"answer_id":10537499,"question_id":10536930,"body_markdown":"`javax.crypto.SecretKey extends java.security.Key`\r\n\r\n`java.security.Key extends java.io.Serializable`\r\n\r\nSo if you trust the file-system to which you&#39;re storing keys, you can write out a key using `java.io.ObjectOutputStream` and read it in using `java.io.ObjectInputStream`.\r\n\r\n    ObjectOutputStream oout = new ObjectOutputStream(outputStream);\r\n    try {\r\n      oout.writeObject(myKey);\r\n    } finally {\r\n      oout.close();\r\n    }\r\n\r\nand the input looks similar\r\n\r\n    Key key;\r\n    ObjectInputStream oin = new ObjectInputStream(inputStream);\r\n    try {\r\n      key = (Key) oin.readObject();\r\n    } finally {\r\n      oin.close();\r\n    }\r\n\r\nTo generate a key, you need a `KeyFactory` or [`SecretKeyFactory`](http://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKeyFactory.html) \r\n\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(algorithm);\r\n\r\nand then to generate a secret\r\n\r\n    factory.generateSecret(keySpec);\r\n\r\ngiven a key spec that is appropriate to the algorithm.  See the [`KeySpec` javadoc](http://docs.oracle.com/javase/7/docs/api/java/security/spec/KeySpec.html) for pointers to algorithm specific `KeySpec` implementations.\r\n\r\nFor DES, see [`DESKeySpec`](http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/DESKeySpec.html) though you might want something [more modern](http://en.wikipedia.org/wiki/Cryptography_standards#Encryption_standards).\r\n","title":"Reading and Writing a SecretKey to a file","body":"<p><code>javax.crypto.SecretKey extends java.security.Key</code></p>\n\n<p><code>java.security.Key extends java.io.Serializable</code></p>\n\n<p>So if you trust the file-system to which you're storing keys, you can write out a key using <code>java.io.ObjectOutputStream</code> and read it in using <code>java.io.ObjectInputStream</code>.</p>\n\n<pre><code>ObjectOutputStream oout = new ObjectOutputStream(outputStream);\ntry {\n  oout.writeObject(myKey);\n} finally {\n  oout.close();\n}\n</code></pre>\n\n<p>and the input looks similar</p>\n\n<pre><code>Key key;\nObjectInputStream oin = new ObjectInputStream(inputStream);\ntry {\n  key = (Key) oin.readObject();\n} finally {\n  oin.close();\n}\n</code></pre>\n\n<p>To generate a key, you need a <code>KeyFactory</code> or <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/SecretKeyFactory.html\" rel=\"noreferrer\"><code>SecretKeyFactory</code></a> </p>\n\n<pre><code>SecretKeyFactory factory = SecretKeyFactory.getInstance(algorithm);\n</code></pre>\n\n<p>and then to generate a secret</p>\n\n<pre><code>factory.generateSecret(keySpec);\n</code></pre>\n\n<p>given a key spec that is appropriate to the algorithm.  See the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/spec/KeySpec.html\" rel=\"noreferrer\"><code>KeySpec</code> javadoc</a> for pointers to algorithm specific <code>KeySpec</code> implementations.</p>\n\n<p>For DES, see <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/spec/DESKeySpec.html\" rel=\"noreferrer\"><code>DESKeySpec</code></a> though you might want something <a href=\"http://en.wikipedia.org/wiki/Cryptography_standards#Encryption_standards\" rel=\"noreferrer\">more modern</a>.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1336664954,"creation_date":1336664954,"answer_id":10537705,"question_id":10536930,"body_markdown":"The most &quot;natural&quot; way to save a `SecretKey` into a file in Java is to use [a `KeyStore`][1]: that&#39;s exactly what it&#39;s for (although you can save certificates too, of course).\r\n\r\nThe [example in the documentation][2] shows how to save a private key and a secret key. It will also encrypt it with a protection parameter (password here).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html","title":"Reading and Writing a SecretKey to a file","body":"<p>The most \"natural\" way to save a <code>SecretKey</code> into a file in Java is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">a <code>KeyStore</code></a>: that's exactly what it's for (although you can save certificates too, of course).</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"noreferrer\">example in the documentation</a> shows how to save a private key and a secret key. It will also encrypt it with a protection parameter (password here).</p>\n"},{"comments":[{"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"score":1,"creation_date":1336725190,"post_id":10537739,"comment_id":13648954,"body_markdown":"You see, whats the process of putting the key in a file as clear text? I can generate the key with KeyGenerator. But then I can&#39;t for the life of me figure out how to get the key into a plain text format to save in a text file.\nThe project is meerly to prove an idea so I&#39;m not to worried about the security and integrity of the key.\nWill be trying the example below though, KeyStore looks like it could fix my issue.","body":"You see, whats the process of putting the key in a file as clear text? I can generate the key with KeyGenerator. But then I can&#39;t for the life of me figure out how to get the key into a plain text format to save in a text file. The project is meerly to prove an idea so I&#39;m not to worried about the security and integrity of the key. Will be trying the example below though, KeyStore looks like it could fix my issue."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1336775461,"post_id":10537739,"comment_id":13667584,"body_markdown":"KeyGenerator.generateKey() returns an object of type SecretKey.  SecretKey.getEncoded() returns the key as a char[].  You can convert this to a string and save to in a text file.  Hope this helps.","body":"KeyGenerator.generateKey() returns an object of type SecretKey.  SecretKey.getEncoded() returns the key as a char[].  You can convert this to a string and save to in a text file.  Hope this helps."},{"owner":{"account_id":314305,"reputation":1223,"user_id":629404,"accept_rate":58,"display_name":"araisbec"},"score":0,"creation_date":1352574033,"post_id":10537739,"comment_id":18178494,"body_markdown":"Thank you for the link to the KeyStore java doc; I was having issues with this as well (my first attempt at any form of encryption) and this set me in the right direction.","body":"Thank you for the link to the KeyStore java doc; I was having issues with this as well (my first attempt at any form of encryption) and this set me in the right direction."}],"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690988129,"creation_date":1336665064,"answer_id":10537739,"question_id":10536930,"body_markdown":"Not clear on a couple of things: how you&#39;re generating the key, and what format you have the key in.  If you don&#39;t have the key you can use keytool (a utility which comes with jdk) to generate it and put it into a file called a keystore.  You can also use the KeyGenerator class and the KeyStore class to programmatically do the same thing (both are documented pretty well and the [KeyStore javadoc][1] has an example which does exactly what you seem to want.)\r\n\r\nA much less secure but easy way you can generate the key and put it into a text file as clear text.  Then you can just access it using a BufferedReader.  This is less secure because anyone with access to this file will know your key, but it&#39;s a little easier.  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/security/KeyStore.html","title":"Reading and Writing a SecretKey to a file","body":"<p>Not clear on a couple of things: how you're generating the key, and what format you have the key in.  If you don't have the key you can use keytool (a utility which comes with jdk) to generate it and put it into a file called a keystore.  You can also use the KeyGenerator class and the KeyStore class to programmatically do the same thing (both are documented pretty well and the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore javadoc</a> has an example which does exactly what you seem to want.)</p>\n<p>A much less secure but easy way you can generate the key and put it into a text file as clear text.  Then you can just access it using a BufferedReader.  This is less secure because anyone with access to this file will know your key, but it's a little easier.</p>\n"}],"owner":{"account_id":943268,"reputation":221,"user_id":970986,"accept_rate":50,"display_name":"RyanSoper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18938,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10537739,"answer_count":3,"score":8,"last_activity_date":1690988129,"creation_date":1336662427,"question_id":10536930,"body_markdown":"I&#39;m looking to be able to save a DES SecretKey to a file, so you can import and use it later on.\r\nI&#39;ve looked at a few routes, but they all seem a bit long winded, is there no conscise simple way of doing this?","title":"Reading and Writing a SecretKey to a file","body":"<p>I'm looking to be able to save a DES SecretKey to a file, so you can import and use it later on.\nI've looked at a few routes, but they all seem a bit long winded, is there no conscise simple way of doing this?</p>\n"},{"tags":["java","spring","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":129956,"reputation":3578,"user_id":328883,"accept_rate":100,"display_name":"olan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1585835890,"creation_date":1585835890,"answer_id":60993313,"question_id":55921619,"body_markdown":"This likely wasn&#39;t the case when the question was answered, but since Spring 5.2, `ClientResponse` has a `createException()` method that will build and return a `Mono&lt;WebClientResponseException&gt;`.\r\n\r\n```\r\nclientResponse.createException()\r\n\t\t\t  .flatMap(e -&gt; handleException(e))\r\n    \r\n```\r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--\r\n\r\nhttps://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>This likely wasn't the case when the question was answered, but since Spring 5.2, <code>ClientResponse</code> has a <code>createException()</code> method that will build and return a <code>Mono&lt;WebClientResponseException&gt;</code>.</p>\n\n<pre><code>clientResponse.createException()\n              .flatMap(e -&gt; handleException(e))\n\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException--</a></p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/b4207823afa0f48e06d6bbfe9ae8821e389e380f</a></p>\n"},{"tags":[],"owner":{"account_id":20280572,"reputation":51,"user_id":14874450,"display_name":"Arthur Met"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690988101,"creation_date":1690988101,"answer_id":76821137,"question_id":55921619,"body_markdown":"I faced a considerable struggle with this one as well.  \r\n\r\nMy solution draws inspiration from the approach by @olan, but my aim was to employ identical error handling to that of the retrieve() method. Unfortunately, the guidance provided in the [Spring Docs][1] do not work. I had to resort to using flatmap(Mono::error) as elaborated [here][2].\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    return webClient\r\n      .get()\r\n      .uri(\r\n        // do stuff\r\n      )\r\n      .headers(\r\n        // do stuff \r\n      )\r\n      .exchangeToMono(\r\n        response - &gt; {\r\n          if (response.statusCode().equals(HttpStatus.OK)) {\r\n            return response.toEntity(JsonNode.class);\r\n          } else {\r\n            return response.createException().flatMap(Mono::error);\r\n          }\r\n        })\r\n      .doOnNext(\r\n        res - &gt;\r\n        // do stuff\r\n        .block();\r\n      }\r\n    catch (WebClientResponseException e) {\r\n      throw new CustomError(e);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI&#39;m utilizing Spring 5.3.3.  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.3/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html#exchangeToMono-java.util.function.Function-\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27637#issuecomment-982839471","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>I faced a considerable struggle with this one as well.</p>\n<p>My solution draws inspiration from the approach by @olan, but my aim was to employ identical error handling to that of the retrieve() method. Unfortunately, the guidance provided in the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.3/javadoc-api/org/springframework/web/reactive/function/client/WebClient.RequestHeadersSpec.html#exchangeToMono-java.util.function.Function-\" rel=\"nofollow noreferrer\">Spring Docs</a> do not work. I had to resort to using flatmap(Mono::error) as elaborated <a href=\"https://github.com/spring-projects/spring-framework/issues/27637#issuecomment-982839471\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>return webClient\n  .get()\n  .uri(\n    // do stuff\n  )\n  .headers(\n    // do stuff \n  )\n  .exchangeToMono(\n    response - &gt; {\n      if (response.statusCode().equals(HttpStatus.OK)) {\n        return response.toEntity(JsonNode.class);\n      } else {\n        return response.createException().flatMap(Mono::error);\n      }\n    })\n  .doOnNext(\n    res - &gt;\n    // do stuff\n    .block();\n  }\ncatch (WebClientResponseException e) {\n  throw new CustomError(e);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm utilizing Spring 5.3.3.</p>\n"}],"owner":{"account_id":10601776,"reputation":381,"user_id":7808515,"display_name":"Fable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13545,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60993313,"answer_count":2,"score":5,"last_activity_date":1690988101,"creation_date":1556629679,"question_id":55921619,"body_markdown":"When using the retrieve() method of Spring WebClient in conjunction with bodyToMono default error handling is applied (if the response has status code 4xx or 5xx, the Mono will contain a WebClientException). In error cases the resulting WebClientException is very helpful because it contains the request AND the response, which is very convenient e.g. for logging. Furthermore, I can react to errors very nicely in place.\r\n```java\r\n/*\r\n * Easy to use retrieve() with default error handling:\r\n * By default, if the response has status code 4xx or 5xx, the Mono will contain a WebClientException - AWESOME!\r\n */\r\npublic Optional&lt;MyType&gt; getMyType() {\r\n    try {\r\n        MyType result = client\r\n                .get()\r\n                .uri(&quot;/myType&quot;)\r\n                .retrieve().bodyToMono(MyType.class).block();\r\n\r\n        return Optional.ofNullable(result);\r\n    } catch (NotFound e) {\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\nHowever, sometimes I need to know the exact status code of the response to react to it when further processing this response. The only method to also get the status code is to call the exchange() Method instead of the retrieve() Method. Unfortunately, in that case the default error handling is not applied. The reason for that seems to be that calling bodyToMono() on ClientResponse has a different semantics than calling it on ResponseSpec.\r\n\r\nI cannot call the already implemented Methods from Spring to &quot;trigger&quot; the error handling because all the nice methods are buried as private in the WebClient.\r\n\r\nEven if I would try to &quot;manually&quot; create a WebClientResponseException I cannot \r\naccess the request to feed to the exception.\r\n\r\n```java\r\npublic String updateMyType() {\r\n    ClientResponse response = client\r\n            .put()\r\n            .uri(&quot;/myType&quot;)\r\n            .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n            .body(fromObject(new MyType()))\r\n            .exchange()\r\n            .block();\r\n\r\n    if (response.statusCode().equals(HttpStatus.CREATED)) {\r\n        return &quot;OK&quot;;\r\n    } else if (response.statusCode().equals(HttpStatus.NO_CONTENT)) {\r\n        return &quot;updated&quot;;\r\n    } else {\r\n        byte[] bodyBytes = null; // already implemented by Sping but not accessible\r\n        Charset charset = null; // already implemented by Sping but not accessible\r\n        HttpRequest request = null; // where should I get this from?\r\n        throw WebClientResponseException.create(response.statusCode().value(),\r\n                response.statusCode().getReasonPhrase(),\r\n                response.headers().asHttpHeaders(),\r\n                bodyBytes,\r\n                charset,\r\n                request);\r\n    }\r\n}\r\n```\r\n\r\nWhat is the best way to “mimic” the same behavior as for the retrieve() Method?","title":"How to throw WebClientResponseException when using exchange() with Spring WebClient","body":"<p>When using the retrieve() method of Spring WebClient in conjunction with bodyToMono default error handling is applied (if the response has status code 4xx or 5xx, the Mono will contain a WebClientException). In error cases the resulting WebClientException is very helpful because it contains the request AND the response, which is very convenient e.g. for logging. Furthermore, I can react to errors very nicely in place.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Easy to use retrieve() with default error handling:\n * By default, if the response has status code 4xx or 5xx, the Mono will contain a WebClientException - AWESOME!\n */\npublic Optional&lt;MyType&gt; getMyType() {\n    try {\n        MyType result = client\n                .get()\n                .uri(\"/myType\")\n                .retrieve().bodyToMono(MyType.class).block();\n\n        return Optional.ofNullable(result);\n    } catch (NotFound e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>However, sometimes I need to know the exact status code of the response to react to it when further processing this response. The only method to also get the status code is to call the exchange() Method instead of the retrieve() Method. Unfortunately, in that case the default error handling is not applied. The reason for that seems to be that calling bodyToMono() on ClientResponse has a different semantics than calling it on ResponseSpec.</p>\n\n<p>I cannot call the already implemented Methods from Spring to \"trigger\" the error handling because all the nice methods are buried as private in the WebClient.</p>\n\n<p>Even if I would try to \"manually\" create a WebClientResponseException I cannot \naccess the request to feed to the exception.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public String updateMyType() {\n    ClientResponse response = client\n            .put()\n            .uri(\"/myType\")\n            .header(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n            .body(fromObject(new MyType()))\n            .exchange()\n            .block();\n\n    if (response.statusCode().equals(HttpStatus.CREATED)) {\n        return \"OK\";\n    } else if (response.statusCode().equals(HttpStatus.NO_CONTENT)) {\n        return \"updated\";\n    } else {\n        byte[] bodyBytes = null; // already implemented by Sping but not accessible\n        Charset charset = null; // already implemented by Sping but not accessible\n        HttpRequest request = null; // where should I get this from?\n        throw WebClientResponseException.create(response.statusCode().value(),\n                response.statusCode().getReasonPhrase(),\n                response.headers().asHttpHeaders(),\n                bodyBytes,\n                charset,\n                request);\n    }\n}\n</code></pre>\n\n<p>What is the best way to “mimic” the same behavior as for the retrieve() Method?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690996139,"post_id":76821132,"comment_id":135431928,"body_markdown":"if you need to sign, then register with a commercial TSA service or use a free service, e.g. https://freetsa.org/index_en.php","body":"if you need to sign, then register with a commercial TSA service or use a free service, e.g. <a href=\"https://freetsa.org/index_en.php\" rel=\"nofollow noreferrer\">freetsa.org/index_en.php</a>"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690988066,"creation_date":1690988066,"question_id":76821132,"body_markdown":"I need to sign a pdf with timestamping authority, and I use [this][1] library. I need to get a TSA URL from the Certificates, but I have not found any examples of how to get it with ```PdfBox``` utils. In the ```itext``` library I have found the following code:\r\n```\r\nString tsaUrl = CertificateUtil.getTSAURL(cert);\r\n```\r\n\r\nMaybe the ```PdfBox``` library has the same utils method?\r\n\r\n  [1]: https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Digital+Signature+Service+-++DSS","title":"How to get TSA URL from a certificate","body":"<p>I need to sign a pdf with timestamping authority, and I use <a href=\"https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Digital+Signature+Service+-++DSS\" rel=\"nofollow noreferrer\">this</a> library. I need to get a TSA URL from the Certificates, but I have not found any examples of how to get it with <code>PdfBox</code> utils. In the <code>itext</code> library I have found the following code:</p>\n<pre><code>String tsaUrl = CertificateUtil.getTSAURL(cert);\n</code></pre>\n<p>Maybe the <code>PdfBox</code> library has the same utils method?</p>\n"},{"tags":["java","jakarta-ee","jersey"],"answers":[{"tags":[],"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"comment_count":0,"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1459881882,"creation_date":1264458658,"answer_id":2136175,"question_id":2136119,"body_markdown":"Not done this yet myself, but a quick bit of Google-Fu reveals a [tech tip on blogs.oracle.com][1] with examples of exactly what you ask for.\r\n\r\nExample taken from the blog post:\r\n\r\n    MultivaluedMap formData = new MultivaluedMapImpl();\r\n    formData.add(&quot;name1&quot;, &quot;val1&quot;);\r\n    formData.add(&quot;name2&quot;, &quot;val2&quot;);\r\n    ClientResponse response = webResource\r\n        .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\r\n        .post(ClientResponse.class, formData);\r\n\r\nThat any help?\r\n\r\n\r\n  [1]: http://blogs.oracle.com/enterprisetechtips/entry/consuming_restful_web_services_with","title":"Using the Jersey client to do a POST operation","body":"<p>Not done this yet myself, but a quick bit of Google-Fu reveals a <a href=\"http://blogs.oracle.com/enterprisetechtips/entry/consuming_restful_web_services_with\" rel=\"noreferrer\">tech tip on blogs.oracle.com</a> with examples of exactly what you ask for.</p>\n\n<p>Example taken from the blog post:</p>\n\n<pre><code>MultivaluedMap formData = new MultivaluedMapImpl();\nformData.add(\"name1\", \"val1\");\nformData.add(\"name2\", \"val2\");\nClientResponse response = webResource\n    .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\n    .post(ClientResponse.class, formData);\n</code></pre>\n\n<p>That any help?</p>\n"},{"tags":[],"owner":{"account_id":2462612,"reputation":29,"user_id":2146438,"display_name":"RVelarde"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1429129312,"creation_date":1362697671,"answer_id":15283612,"question_id":2136119,"body_markdown":"Also you can try this:\r\n\r\n    MultivaluedMap formData = new MultivaluedMapImpl();\r\n    formData.add(&quot;name1&quot;, &quot;val1&quot;);\r\n    formData.add(&quot;name2&quot;, &quot;val2&quot;);\r\n    webResource.path(&quot;yourJerseysPathPost&quot;).queryParams(formData).post();\r\n\r\n","title":"Using the Jersey client to do a POST operation","body":"<p>Also you can try this:</p>\n\n<pre><code>MultivaluedMap formData = new MultivaluedMapImpl();\nformData.add(\"name1\", \"val1\");\nformData.add(\"name2\", \"val2\");\nwebResource.path(\"yourJerseysPathPost\").queryParams(formData).post();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":0,"creation_date":1644009717,"post_id":24053177,"comment_id":125500641,"body_markdown":"If you&#39;re not posting a text file, you probably want to use `MediaType.APPLICATION_OCTET_STREAM_TYPE` for the stream...","body":"If you&#39;re not posting a text file, you probably want to use <code>MediaType.APPLICATION_OCTET_STREAM_TYPE</code> for the stream..."}],"tags":[],"owner":{"account_id":1197629,"reputation":875,"user_id":1169009,"display_name":"dimuthu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401950080,"creation_date":1401950080,"answer_id":24053177,"question_id":2136119,"body_markdown":"If you need to do a file upload, you&#39;ll need to use MediaType.MULTIPART_FORM_DATA_TYPE.\r\nLooks like MultivaluedMap cannot be used with that so here&#39;s a solution with FormDataMultiPart.\r\n\r\n    InputStream stream = getClass().getClassLoader().getResourceAsStream(fileNameToUpload);\r\n\r\n    FormDataMultiPart part = new FormDataMultiPart();\r\n    part.field(&quot;String_key&quot;, &quot;String_value&quot;);\r\n    part.field(&quot;fileToUpload&quot;, stream, MediaType.TEXT_PLAIN_TYPE);\r\n    String response = WebResource.type(MediaType.MULTIPART_FORM_DATA_TYPE).post(String.class, part);","title":"Using the Jersey client to do a POST operation","body":"<p>If you need to do a file upload, you'll need to use MediaType.MULTIPART_FORM_DATA_TYPE.\nLooks like MultivaluedMap cannot be used with that so here's a solution with FormDataMultiPart.</p>\n\n<pre><code>InputStream stream = getClass().getClassLoader().getResourceAsStream(fileNameToUpload);\n\nFormDataMultiPart part = new FormDataMultiPart();\npart.field(\"String_key\", \"String_value\");\npart.field(\"fileToUpload\", stream, MediaType.TEXT_PLAIN_TYPE);\nString response = WebResource.type(MediaType.MULTIPART_FORM_DATA_TYPE).post(String.class, part);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"score":0,"creation_date":1620657206,"post_id":25172970,"comment_id":119258210,"body_markdown":"Do I still need to `URLEncoder.encode(value1, &quot;UTF-8&quot;)` the value or will `form()` take care of the correct encoding internally?","body":"Do I still need to <code>URLEncoder.encode(value1, &quot;UTF-8&quot;)</code> the value or will <code>form()</code> take care of the correct encoding internally?"}],"tags":[],"owner":{"account_id":1813967,"reputation":11831,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1407375828,"creation_date":1407375828,"answer_id":25172970,"question_id":2136119,"body_markdown":"Starting from Jersey 2.x, the `MultivaluedMapImpl` class is replaced by [`MultivaluedHashMap`][1]. You can use it to add form data and send it to the server:\r\n\r\n\t\tWebTarget webTarget = client.target(&quot;http://www.example.com/some/resource&quot;);\r\n\t\tMultivaluedMap&lt;String, String&gt; formData = new MultivaluedHashMap&lt;String, String&gt;();\r\n\t\tformData.add(&quot;key1&quot;, &quot;value1&quot;);\r\n\t\tformData.add(&quot;key2&quot;, &quot;value2&quot;);\r\n\t\tResponse response = webTarget.request().post(Entity.form(formData));\r\n\r\nNote that the form entity is sent in the format of `&quot;application/x-www-form-urlencoded&quot;`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/MultivaluedHashMap.html","title":"Using the Jersey client to do a POST operation","body":"<p>Starting from Jersey 2.x, the <code>MultivaluedMapImpl</code> class is replaced by <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/MultivaluedHashMap.html\"><code>MultivaluedHashMap</code></a>. You can use it to add form data and send it to the server:</p>\n\n<pre><code>    WebTarget webTarget = client.target(\"http://www.example.com/some/resource\");\n    MultivaluedMap&lt;String, String&gt; formData = new MultivaluedHashMap&lt;String, String&gt;();\n    formData.add(\"key1\", \"value1\");\n    formData.add(\"key2\", \"value2\");\n    Response response = webTarget.request().post(Entity.form(formData));\n</code></pre>\n\n<p>Note that the form entity is sent in the format of <code>\"application/x-www-form-urlencoded\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":72797,"reputation":15932,"user_id":210006,"accept_rate":73,"display_name":"supercobra"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415918793,"creation_date":1412294229,"answer_id":26171429,"question_id":2136119,"body_markdown":"Simplest:\r\n\r\n    Form form = new Form();\r\n    form.add(&quot;id&quot;, &quot;1&quot;);\t\r\n    form.add(&quot;name&quot;, &quot;supercobra&quot;);\r\n    ClientResponse response = webResource\r\n      .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\r\n      .post(ClientResponse.class, form);","title":"Using the Jersey client to do a POST operation","body":"<p>Simplest:</p>\n\n<pre><code>Form form = new Form();\nform.add(\"id\", \"1\");    \nform.add(\"name\", \"supercobra\");\nClientResponse response = webResource\n  .type(MediaType.APPLICATION_FORM_URLENCODED_TYPE)\n  .post(ClientResponse.class, form);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":445632,"reputation":2194,"user_id":838204,"accept_rate":62,"display_name":"macemers"},"score":0,"creation_date":1435633086,"post_id":29115914,"comment_id":50269529,"body_markdown":"Does Jersey client automatically convert the return type into `MyJAXBBean.class` ? How to achieve this?","body":"Does Jersey client automatically convert the return type into <code>MyJAXBBean.class</code> ? How to achieve this?"},{"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"score":1,"creation_date":1435678241,"post_id":29115914,"comment_id":50295542,"body_markdown":"The last parameter of the call chain is a class telling Jersey to map the response content to a MyJAXBBean object. You can also map it to a string and deserialize it with a tool of your own chosing.","body":"The last parameter of the call chain is a class telling Jersey to map the response content to a MyJAXBBean object. You can also map it to a string and deserialize it with a tool of your own chosing."},{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":1,"creation_date":1569325172,"post_id":29115914,"comment_id":102553302,"body_markdown":"This is the link if someone&#39;s still looking - https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost","body":"This is the link if someone&#39;s still looking - <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/jersey.github.io/documentation/latest&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1569401067,"creation_date":1426662069,"answer_id":29115914,"question_id":2136119,"body_markdown":"It is now the first example in the [Jersey Client documentation][1]\r\n\r\n**Example 5.1. POST request with form parameters**\r\n\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget target = client.target(&quot;http://localhost:9998&quot;).path(&quot;resource&quot;);\r\n     \r\n    Form form = new Form();\r\n    form.param(&quot;x&quot;, &quot;foo&quot;);\r\n    form.param(&quot;y&quot;, &quot;bar&quot;);\r\n     \r\n    MyJAXBBean bean =\r\n    target.request(MediaType.APPLICATION_JSON_TYPE)\r\n        .post(Entity.entity(form,MediaType.APPLICATION_FORM_URLENCODED_TYPE),\r\n            MyJAXBBean.class);\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost","title":"Using the Jersey client to do a POST operation","body":"<p>It is now the first example in the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#client.ex.formpost\" rel=\"noreferrer\">Jersey Client documentation</a></p>\n\n<p><strong>Example 5.1. POST request with form parameters</strong></p>\n\n<pre><code>Client client = ClientBuilder.newClient();\nWebTarget target = client.target(\"http://localhost:9998\").path(\"resource\");\n\nForm form = new Form();\nform.param(\"x\", \"foo\");\nform.param(\"y\", \"bar\");\n\nMyJAXBBean bean =\ntarget.request(MediaType.APPLICATION_JSON_TYPE)\n    .post(Entity.entity(form,MediaType.APPLICATION_FORM_URLENCODED_TYPE),\n        MyJAXBBean.class);\n</code></pre>\n"}],"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116146,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":2136175,"answer_count":6,"score":59,"last_activity_date":1690987654,"creation_date":1264458157,"question_id":2136119,"body_markdown":"In a Java method, I&#39;d like to use a Jersey client object to do a POST operation on a RESTful web service (also written using Jersey) but am not sure how to use the client to send the values that will be used as FormParam&#39;s on the server.  I&#39;m able to send query params just fine.\r\n\r\n","title":"Using the Jersey client to do a POST operation","body":"<p>In a Java method, I'd like to use a Jersey client object to do a POST operation on a RESTful web service (also written using Jersey) but am not sure how to use the client to send the values that will be used as FormParam's on the server.  I'm able to send query params just fine.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":4,"creation_date":1467031646,"post_id":38051789,"comment_id":63547211,"body_markdown":"This behavior would be expected if you actually created the &quot;empty folder&quot; in the console, because that action actually creates an empty object with the key `path/to/my/folder/` so the console has a placeholder.  Did you do that, while testing?","body":"This behavior would be expected if you actually created the &quot;empty folder&quot; in the console, because that action actually creates an empty object with the key <code>path&#47;to&#47;my&#47;folder&#47;</code> so the console has a placeholder.  Did you do that, while testing?"},{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1467031858,"post_id":38051789,"comment_id":63547368,"body_markdown":"@Michael-sqlbot I didn&#39;t create any empty folder. Infact all files are uploaded by the application using the folder structure I reported as prefix for the file key.","body":"@Michael-sqlbot I didn&#39;t create any empty folder. Infact all files are uploaded by the application using the folder structure I reported as prefix for the file key."},{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1467032567,"post_id":38051789,"comment_id":63547891,"body_markdown":"You might want to try a `GET` on the apparent object with trailing slash, then, because if you didn&#39;t create a folder and you did use the `/` delimiter `withDelimiter(&quot;/&quot;)` when listing the objects, this should mean that you do in fact have an object named with a trailing slash, possibly due to a bug in your code that created one that way.  Such an object would likely be invisible in the console.","body":"You might want to try a <code>GET</code> on the apparent object with trailing slash, then, because if you didn&#39;t create a folder and you did use the <code>&#47;</code> delimiter <code>withDelimiter(&quot;&#47;&quot;)</code> when listing the objects, this should mean that you do in fact have an object named with a trailing slash, possibly due to a bug in your code that created one that way.  Such an object would likely be invisible in the console."},{"owner":{"account_id":7097390,"reputation":65,"user_id":5461753,"display_name":"John Detroit"},"score":3,"creation_date":1523434749,"post_id":38051789,"comment_id":86554806,"body_markdown":"Here is the code: http://codeflex.co/get-list-of-objects-from-s3-directory/","body":"Here is the code: <a href=\"http://codeflex.co/get-list-of-objects-from-s3-directory/\" rel=\"nofollow noreferrer\">codeflex.co/get-list-of-objects-from-s3-directory</a>"},{"owner":{"account_id":80160,"reputation":6410,"user_id":226844,"display_name":"Sarsaparilla"},"score":0,"creation_date":1579730414,"post_id":38051789,"comment_id":105868586,"body_markdown":"Indeed Michael is right, there is an object with that key in your bucket.  Run this command to remove it `aws s3api delete-object --bucket X --key path/to/my/folder/`.  And make sure your code doesn&#39;t create that object again.","body":"Indeed Michael is right, there is an object with that key in your bucket.  Run this command to remove it <code>aws s3api delete-object --bucket X --key path&#47;to&#47;my&#47;folder&#47;</code>.  And make sure your code doesn&#39;t create that object again."},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1627963701,"post_id":38051789,"comment_id":121288673,"body_markdown":"One can check this if they are not able to list objects/files in specific folder https://stackoverflow.com/a/68481553/8874958","body":"One can check this if they are not able to list objects/files in specific folder <a href=\"https://stackoverflow.com/a/68481553/8874958\">stackoverflow.com/a/68481553/8874958</a>"}],"answers":[{"comments":[{"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"score":0,"creation_date":1467025044,"post_id":38051989,"comment_id":63543010,"body_markdown":"I can&#39;t see any `users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/` file in my management console. but, if it exists, how can I exclude this?","body":"I can&#39;t see any <code>users&#47;&lt;user-id&gt;&#47;contacts&#47;&lt;contact-id&gt;&#47;</code> file in my management console. but, if it exists, how can I exclude this?"}],"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467024427,"creation_date":1467024427,"answer_id":38051989,"question_id":38051789,"body_markdown":"S3 does not have directories, while you can list files in a pseudo directory manner like you demonstrated, there is no directory &quot;file&quot; per-se.  \r\nYou may of inadvertently created a data file called `users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/`.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>S3 does not have directories, while you can list files in a pseudo directory manner like you demonstrated, there is no directory \"file\" per-se.<br>\nYou may of inadvertently created a data file called <code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code>.</p>\n"},{"comments":[{"owner":{"account_id":1494705,"reputation":3719,"user_id":1400943,"accept_rate":48,"display_name":"efirat"},"score":0,"creation_date":1522164900,"post_id":38055287,"comment_id":86039355,"body_markdown":"May I get same list with http Post Request?","body":"May I get same list with http Post Request?"}],"tags":[],"owner":{"account_id":1032327,"reputation":34533,"user_id":1574489,"accept_rate":56,"display_name":"Matt Houser"},"comment_count":1,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1544085641,"creation_date":1467034181,"answer_id":38055287,"question_id":38051789,"body_markdown":"Everything in S3 is an object. To you, it may be files and folders. But to S3, they&#39;re just objects.\r\n\r\nObjects that end with the delimiter (`/` in most cases) are usually perceived as a folder, but it&#39;s not always the case. It depends on the application. Again, in your case, you&#39;re interpretting it as a folder. S3 is not. It&#39;s just another object.\r\n\r\nIn your case above, the object `users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/` exists in S3 as a distinct object, but the object `users/&lt;user-id&gt;/` does not. That&#39;s the difference in your responses. Why they&#39;re like that, we cannot tell you, but someone made the object in one case, and didn&#39;t in the other. You don&#39;t see it in the AWS Management Console because the console is interpreting it as a folder and hiding it from you.\r\n\r\nSince S3 just sees these things as objects, it won&#39;t &quot;exclude&quot; certain things for you. It&#39;s up to the client to deal with the objects as they should be dealt with.\r\n\r\n**Your Solution**\r\n\r\nSince you&#39;re the one that doesn&#39;t want the folder objects, you can exclude it yourself by checking the last character for a `/`. If it is, then ignore the object from the response.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Everything in S3 is an object. To you, it may be files and folders. But to S3, they're just objects.</p>\n\n<p>Objects that end with the delimiter (<code>/</code> in most cases) are usually perceived as a folder, but it's not always the case. It depends on the application. Again, in your case, you're interpretting it as a folder. S3 is not. It's just another object.</p>\n\n<p>In your case above, the object <code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code> exists in S3 as a distinct object, but the object <code>users/&lt;user-id&gt;/</code> does not. That's the difference in your responses. Why they're like that, we cannot tell you, but someone made the object in one case, and didn't in the other. You don't see it in the AWS Management Console because the console is interpreting it as a folder and hiding it from you.</p>\n\n<p>Since S3 just sees these things as objects, it won't \"exclude\" certain things for you. It's up to the client to deal with the objects as they should be dealt with.</p>\n\n<p><strong>Your Solution</strong></p>\n\n<p>Since you're the one that doesn't want the folder objects, you can exclude it yourself by checking the last character for a <code>/</code>. If it is, then ignore the object from the response.</p>\n"},{"comments":[{"owner":{"account_id":5598166,"reputation":2293,"user_id":4435214,"accept_rate":78,"display_name":"Omkar"},"score":0,"creation_date":1519848028,"post_id":39520124,"comment_id":85080232,"body_markdown":"ListObjectsV2 is still not used prominently. .getCommonPrefixes() is really the way to go here..","body":"ListObjectsV2 is still not used prominently. .getCommonPrefixes() is really the way to go here.."},{"owner":{"account_id":7149330,"reputation":232,"user_id":5495300,"display_name":"JavaGoPro"},"score":2,"creation_date":1520154727,"post_id":39520124,"comment_id":85192664,"body_markdown":"Check this article here, seems like it&#39;s exactly what are you looking: http://codeflex.co/get-list-of-objects-from-s3-directory/","body":"Check this article here, seems like it&#39;s exactly what are you looking: <a href=\"http://codeflex.co/get-list-of-objects-from-s3-directory/\" rel=\"nofollow noreferrer\">codeflex.co/get-list-of-objects-from-s3-directory</a>"},{"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"score":1,"creation_date":1619169307,"post_id":39520124,"comment_id":118828877,"body_markdown":"This shoud be the best answer","body":"This shoud be the best answer"}],"tags":[],"owner":{"account_id":3466574,"reputation":1687,"user_id":5071635,"display_name":"Victor Kim"},"comment_count":3,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1611636995,"creation_date":1473972528,"answer_id":39520124,"question_id":38051789,"body_markdown":"While everybody say that there are no directories and files in s3, but only objects (and buckets), which is absolutely true, I would suggest to take advantage of CommonPrefixes, described in [this][1] answer.\r\nSo, you can do following to get list of &quot;folders&quot; (commonPrefixes) and &quot;files&quot; (objectSummaries):\r\n\r\n    ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucket.getName()).withPrefix(prefix).withDelimiter(DELIMITER);\r\n    ListObjectsV2Result listing = s3Client.listObjectsV2(req);\r\n    for (String commonPrefix : listing.getCommonPrefixes()) {\r\n            System.out.println(commonPrefix);\r\n    }\r\n    for (S3ObjectSummary summary: listing.getObjectSummaries()) {\r\n        System.out.println(summary.getKey());\r\n    }\r\n\r\n\r\nIn your case, for objectSummaries (files) it should return (in case of correct prefix): &lt;br/&gt;\r\n    _users/user-id/contacts/contact-id/file1.txt_&lt;br/&gt;\r\n    _users/user-id/contacts/contact-id/file2.txt_&lt;br/&gt;&lt;br/&gt;\r\nfor commonPrefixes:&lt;br/&gt;\r\n_users/user-id/contacts/contact-id/_\r\n\r\nReference: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\r\n\r\n  [1]: https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>While everybody say that there are no directories and files in s3, but only objects (and buckets), which is absolutely true, I would suggest to take advantage of CommonPrefixes, described in <a href=\"https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories\">this</a> answer.\nSo, you can do following to get list of &quot;folders&quot; (commonPrefixes) and &quot;files&quot; (objectSummaries):</p>\n<pre><code>ListObjectsV2Request req = new ListObjectsV2Request().withBucketName(bucket.getName()).withPrefix(prefix).withDelimiter(DELIMITER);\nListObjectsV2Result listing = s3Client.listObjectsV2(req);\nfor (String commonPrefix : listing.getCommonPrefixes()) {\n        System.out.println(commonPrefix);\n}\nfor (S3ObjectSummary summary: listing.getObjectSummaries()) {\n    System.out.println(summary.getKey());\n}\n</code></pre>\n<p>In your case, for objectSummaries (files) it should return (in case of correct prefix): <br/>\n<em>users/user-id/contacts/contact-id/file1.txt</em><br/>\n<em>users/user-id/contacts/contact-id/file2.txt</em><br/><br/>\nfor commonPrefixes:<br/>\n<em>users/user-id/contacts/contact-id/</em></p>\n<p>Reference: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html</a></p>\n"},{"tags":[],"owner":{"account_id":11188077,"reputation":419,"user_id":8209605,"display_name":"Yaroslav Malyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527348454,"creation_date":1527348130,"answer_id":50544246,"question_id":38051789,"body_markdown":"you can check the type. s3 has a special *application/x-directory*\r\n\r\n    bucket.objects({:delimiter=&gt;&quot;/&quot;, :prefix=&gt;&quot;f1/&quot;}).each { |obj| p obj.object.content_type }","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>you can check the type. s3 has a special <em>application/x-directory</em></p>\n\n<pre><code>bucket.objects({:delimiter=&gt;\"/\", :prefix=&gt;\"f1/\"}).each { |obj| p obj.object.content_type }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344421,"reputation":1245,"user_id":676731,"accept_rate":80,"display_name":"BartoszMiller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548945933,"creation_date":1548945933,"answer_id":54463070,"question_id":38051789,"body_markdown":"As other have already said, everything in S3 is an object. To you, it may be files and folders. But to S3, they&#39;re just objects.\r\n\r\nIf you don&#39;t need objects which end with a &#39;/&#39; you can safely delete them e.g. via REST api or AWS Java SDK (I assume you have write access). You will not lose &quot;nested files&quot; (there no files, so you will not lose objects whose names are prefixed with the key you delete)\r\n\r\n    AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withCredentials(new ProfileCredentialsProvider()).withRegion(&quot;region&quot;).build();\r\n    amazonS3.deleteObject(new DeleteObjectRequest(&quot;my-bucket&quot;, &quot;users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/&quot;));\r\n\r\nPlease note that I&#39;m using `ProfileCredentialsProvider` so that my requests are not anonymous. Otherwise, you will not be able to delete an object. I have my AWS keep key stored in ~/.aws/credentials file.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>As other have already said, everything in S3 is an object. To you, it may be files and folders. But to S3, they're just objects.</p>\n\n<p>If you don't need objects which end with a '/' you can safely delete them e.g. via REST api or AWS Java SDK (I assume you have write access). You will not lose \"nested files\" (there no files, so you will not lose objects whose names are prefixed with the key you delete)</p>\n\n<pre><code>AmazonS3 amazonS3 = AmazonS3ClientBuilder.standard().withCredentials(new ProfileCredentialsProvider()).withRegion(\"region\").build();\namazonS3.deleteObject(new DeleteObjectRequest(\"my-bucket\", \"users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\"));\n</code></pre>\n\n<p>Please note that I'm using <code>ProfileCredentialsProvider</code> so that my requests are not anonymous. Otherwise, you will not be able to delete an object. I have my AWS keep key stored in ~/.aws/credentials file.</p>\n"},{"tags":[],"owner":{"account_id":5361726,"reputation":471,"user_id":4272770,"display_name":"TuanDPH"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1589162016,"creation_date":1589162016,"answer_id":61721116,"question_id":38051789,"body_markdown":"Based on @davioooh answer.\r\nThis code is worked for me.\r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;your-bucket&quot;)\r\n                .withPrefix(&quot;your/folder/path/&quot;).withDelimiter(&quot;/&quot;);","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Based on @davioooh answer.\nThis code is worked for me.</p>\n\n<pre><code>ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(\"your-bucket\")\n            .withPrefix(\"your/folder/path/\").withDelimiter(\"/\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1717044,"reputation":1649,"user_id":1997581,"display_name":"Oly Dungey"},"score":4,"creation_date":1646996599,"post_id":64665848,"comment_id":126267183,"body_markdown":"A reasonable answer although the purist in me says a file is a file even if it is zero bytes. File names can&#39;t end with a &#39;/&#39; and file names cannot be zero length - I think they are better decision makers than size","body":"A reasonable answer although the purist in me says a file is a file even if it is zero bytes. File names can&#39;t end with a &#39;/&#39; and file names cannot be zero length - I think they are better decision makers than size"}],"tags":[],"owner":{"account_id":9039016,"reputation":91,"user_id":12119734,"display_name":"Nahuelgrc"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604602526,"creation_date":1604417527,"answer_id":64665848,"question_id":38051789,"body_markdown":"If your goal is only to take the files and not the folder, the approach I made was to use the file `size` as a filter. This property is the current size of the file hosted by AWS. All the folders return 0 in that property.\r\nThe following is a C# code using linq but it shouldn&#39;t be hard to translate to Java.\r\n\r\n```C#\r\nvar amazonClient = new AmazonS3Client(key, secretKey, region);\r\nvar listObjectsRequest= new ListObjectsRequest\r\n            {\r\n                BucketName = &#39;someBucketName&#39;,\r\n                Delimiter = &#39;someDelimiter&#39;,\r\n                Prefix = &#39;somePrefix&#39;\r\n            };\r\nvar objects = amazonClient.ListObjects(listObjectsRequest);\r\nvar objectsInFolder = objects.S3Objects.Where(file =&gt; file.Size &gt; 0).ToList();\r\n```\r\n\r\n\r\n","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>If your goal is only to take the files and not the folder, the approach I made was to use the file <code>size</code> as a filter. This property is the current size of the file hosted by AWS. All the folders return 0 in that property.\nThe following is a C# code using linq but it shouldn't be hard to translate to Java.</p>\n<pre><code>var amazonClient = new AmazonS3Client(key, secretKey, region);\nvar listObjectsRequest= new ListObjectsRequest\n            {\n                BucketName = 'someBucketName',\n                Delimiter = 'someDelimiter',\n                Prefix = 'somePrefix'\n            };\nvar objects = amazonClient.ListObjects(listObjectsRequest);\nvar objectsInFolder = objects.S3Objects.Where(file =&gt; file.Size &gt; 0).ToList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"score":0,"creation_date":1691648934,"post_id":76749906,"comment_id":135520400,"body_markdown":"Voting down without giving feedback about what exactly u didn&#39;t like. Is that fair?","body":"Voting down without giving feedback about what exactly u didn&#39;t like. Is that fair?"}],"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690139160,"creation_date":1690139160,"answer_id":76749906,"question_id":38051789,"body_markdown":"Maybe helpful for Rust `aws-sdk-s3` users:\r\n\r\n      let mut output = s3_client.list_objects_v2()\r\n        .bucket(&quot;bucketname&quot;)\r\n        //limit listing to bucketname/The/Parent/Object/Name\r\n        .prefix(&quot;The/Parent/Object/Name/&quot;) \r\n        .send().await?;\r\n      \r\n      loop{\r\n        if let Some(objects) = output.contents() {\r\n          for object in objects {\r\n            println!(&quot;Object: {:}&quot;, object.key().unwrap())\r\n          }\r\n        }\r\n      \r\n        if output.is_truncated() {\r\n          output = s3_client.list_objects_v2()\r\n                   .bucket(&quot;bucketname&quot;)\r\n                   //limit listing to bucketname/The/Parent/Object/Name\r\n                   .prefix(&quot;The/Parent/Object/Name/&quot;) \r\n                   .continuation_token(output.next_continuation_token().unwrap())\r\n                   .send().await?\r\n        } else {\r\n          break;\r\n        }\r\n      }","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>Maybe helpful for Rust <code>aws-sdk-s3</code> users:</p>\n<pre><code>  let mut output = s3_client.list_objects_v2()\n    .bucket(&quot;bucketname&quot;)\n    //limit listing to bucketname/The/Parent/Object/Name\n    .prefix(&quot;The/Parent/Object/Name/&quot;) \n    .send().await?;\n  \n  loop{\n    if let Some(objects) = output.contents() {\n      for object in objects {\n        println!(&quot;Object: {:}&quot;, object.key().unwrap())\n      }\n    }\n  \n    if output.is_truncated() {\n      output = s3_client.list_objects_v2()\n               .bucket(&quot;bucketname&quot;)\n               //limit listing to bucketname/The/Parent/Object/Name\n               .prefix(&quot;The/Parent/Object/Name/&quot;) \n               .continuation_token(output.next_continuation_token().unwrap())\n               .send().await?\n    } else {\n      break;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7506415,"reputation":200,"user_id":6796260,"display_name":"Jamalianpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987620,"creation_date":1690987620,"answer_id":76821071,"question_id":38051789,"body_markdown":"In AWS SDK for Java 2.x You can use this code:\r\n```java\r\nListObjectsV2Request req = ListObjectsV2Request.builder()\r\n        .bucket(&quot;bucketName&quot;)\r\n        .prefix(prefix)\r\n        .delimiter(&quot;/&quot;)\r\n        .build();\r\n\r\nListObjectsV2Response listing = s3Client.listObjectsV2(req);\r\n\r\nfor (S3Object object: listing.contents()) {\r\n    System.out.println(object.key());\r\n}\r\n```\r\n\r\nAnd if your prefix is some things like this `Images/602cef3dd96bda7c2e97b8ad/` output will be:\r\n```\r\nImages/602cef3dd96bda7c2e97b8ad/\r\nImages/602cef3dd96bda7c2e97b8ad/06136e02_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/0638da47_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/142e98f1_20220501.jpg\r\nImages/602cef3dd96bda7c2e97b8ad/160ca9f1_20220501.jpg\r\n```","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>In AWS SDK for Java 2.x You can use this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsV2Request req = ListObjectsV2Request.builder()\n        .bucket(&quot;bucketName&quot;)\n        .prefix(prefix)\n        .delimiter(&quot;/&quot;)\n        .build();\n\nListObjectsV2Response listing = s3Client.listObjectsV2(req);\n\nfor (S3Object object: listing.contents()) {\n    System.out.println(object.key());\n}\n</code></pre>\n<p>And if your prefix is some things like this <code>Images/602cef3dd96bda7c2e97b8ad/</code> output will be:</p>\n<pre><code>Images/602cef3dd96bda7c2e97b8ad/\nImages/602cef3dd96bda7c2e97b8ad/06136e02_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/0638da47_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/142e98f1_20220501.jpg\nImages/602cef3dd96bda7c2e97b8ad/160ca9f1_20220501.jpg\n</code></pre>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201956,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":38055287,"answer_count":9,"score":105,"last_activity_date":1690987620,"creation_date":1467023884,"question_id":38051789,"body_markdown":"I need to list all files contained in a certain folder contained in my S3 bucket.\r\n\r\nThe folder structure is the following\r\n\r\n    /my-bucket/users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;\r\n\r\nI have files related to users and files related to a certain user&#39;s contact.\r\nI need to list both.\r\n\r\nTo list files I&#39;m using this code:\r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(&quot;my-bucket&quot;)\r\n    \t\t\t\t.withPrefix(&quot;some-prefix&quot;).withDelimiter(&quot;/&quot;);\r\n    ObjectListing objects = transferManager.getAmazonS3Client().listObjects(listObjectsRequest);\r\n\r\nTo list a certain user&#39;s files I&#39;m using this prefix: \r\n\r\n`users/&lt;user-id&gt;/` \r\n\r\nand I&#39;m correctly getting all files in the directory excluding `contacts` subdirectory, for example:\r\n\r\n    users/&lt;user-id&gt;/file1.txt\r\n    users/&lt;user-id&gt;/file2.txt\r\n    users/&lt;user-id&gt;/file3.txt\r\n\r\nTo list a certain user contact&#39;s files instead I&#39;m using this prefix: \r\n\r\n`users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/`\r\n\r\nbut in this case I&#39;m getting also the \r\ndirectory itself as a returned object:\r\n\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file1.txt\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file2.txt\r\n    users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\r\n\r\nWhy am I getting this behaviour? What&#39;s different beetween the two listing requests? I need to list only files in the directory, excluding sub-directories.","title":"Listing files in a specific &quot;folder&quot; of a AWS S3 bucket","body":"<p>I need to list all files contained in a certain folder contained in my S3 bucket.</p>\n\n<p>The folder structure is the following</p>\n\n<pre><code>/my-bucket/users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;\n</code></pre>\n\n<p>I have files related to users and files related to a certain user's contact.\nI need to list both.</p>\n\n<p>To list files I'm using this code:</p>\n\n<pre><code>ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(\"my-bucket\")\n                .withPrefix(\"some-prefix\").withDelimiter(\"/\");\nObjectListing objects = transferManager.getAmazonS3Client().listObjects(listObjectsRequest);\n</code></pre>\n\n<p>To list a certain user's files I'm using this prefix: </p>\n\n<p><code>users/&lt;user-id&gt;/</code> </p>\n\n<p>and I'm correctly getting all files in the directory excluding <code>contacts</code> subdirectory, for example:</p>\n\n<pre><code>users/&lt;user-id&gt;/file1.txt\nusers/&lt;user-id&gt;/file2.txt\nusers/&lt;user-id&gt;/file3.txt\n</code></pre>\n\n<p>To list a certain user contact's files instead I'm using this prefix: </p>\n\n<p><code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/</code></p>\n\n<p>but in this case I'm getting also the \ndirectory itself as a returned object:</p>\n\n<pre><code>users/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file1.txt\nusers/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/file2.txt\nusers/&lt;user-id&gt;/contacts/&lt;contact-id&gt;/\n</code></pre>\n\n<p>Why am I getting this behaviour? What's different beetween the two listing requests? I need to list only files in the directory, excluding sub-directories.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":2,"creation_date":1511713634,"post_id":47487609,"comment_id":81951883,"body_markdown":"What happens if you annotate `RelationalPlayerRepositoryTests` with `@ContextConfiguration(classes = GrandJourneyMonolithApplication.class)`?","body":"What happens if you annotate <code>RelationalPlayerRepositoryTests</code> with <code>@ContextConfiguration(classes = GrandJourneyMonolithApplication.class)</code>?"},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1511718913,"post_id":47487609,"comment_id":81953710,"body_markdown":"@SamBrannen it shows error that it `failed to replace DataSource with embedded`","body":"@SamBrannen it shows error that it <code>failed to replace DataSource with embedded</code>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1666183426,"post_id":47487609,"comment_id":130874759,"body_markdown":"worked for me after adding empty @SpringBootApplication","body":"worked for me after adding empty @SpringBootApplication"}],"answers":[{"comments":[{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":1,"creation_date":1511634167,"post_id":47487712,"comment_id":81933371,"body_markdown":"but shouldn&#39;t it possible to specify the configuration class in the test?","body":"but shouldn&#39;t it possible to specify the configuration class in the test?"},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1511639745,"post_id":47487712,"comment_id":81935064,"body_markdown":"also I moved `configuration` class and it didn&#39;t help","body":"also I moved <code>configuration</code> class and it didn&#39;t help"},{"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"score":2,"creation_date":1512070932,"post_id":47487712,"comment_id":82120163,"body_markdown":"The answer above should be correct. Structure your application as [suggested in the documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-structuring-your-code) and the test should be able to search up to find the configuration. You might be having additional problems due to annotations that are disabling auto-configuration. Try also removing `@EnableJpaRepositories`, `@EntityScan` and `@ComponentScan`.","body":"The answer above should be correct. Structure your application as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-structuring-your-code\" rel=\"nofollow noreferrer\">suggested in the documentation</a> and the test should be able to search up to find the configuration. You might be having additional problems due to annotations that are disabling auto-configuration. Try also removing <code>@EnableJpaRepositories</code>, <code>@EntityScan</code> and <code>@ComponentScan</code>."}],"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1690987380,"creation_date":1511624619,"answer_id":47487712,"question_id":47487609,"body_markdown":"When Spring Boot starts, it scans the classpath from top to bottom of the project to find the config file. Your config is under another files and that is a reason of the problem. Move you config higher up to the _monolith_ package and everything will be fine.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>When Spring Boot starts, it scans the classpath from top to bottom of the project to find the config file. Your config is under another files and that is a reason of the problem. Move you config higher up to the <em>monolith</em> package and everything will be fine.</p>\n"},{"comments":[{"owner":{"account_id":14965942,"reputation":457,"user_id":10804175,"display_name":"VC2019"},"score":2,"creation_date":1619465364,"post_id":52887524,"comment_id":118909418,"body_markdown":"I am using Spring Boot with a simple REST controller. Not using any JPA and was getting same error as specified in the title here for my controller test. Also I am using a custom configuration for my Spring boot app. This answer (Oct 19 &#39;18 at 7:20 Saurabh Parmar) helped. The root cause for me too was the package name. The package for my test under the src/test/java was not matching the one under the src/main/java. Once I fixed that it worked.","body":"I am using Spring Boot with a simple REST controller. Not using any JPA and was getting same error as specified in the title here for my controller test. Also I am using a custom configuration for my Spring boot app. This answer (Oct 19 &#39;18 at 7:20 Saurabh Parmar) helped. The root cause for me too was the package name. The package for my test under the src/test/java was not matching the one under the src/main/java. Once I fixed that it worked."},{"owner":{"account_id":259375,"reputation":131,"user_id":542205,"display_name":"Heiner"},"score":0,"creation_date":1620055632,"post_id":52887524,"comment_id":119081981,"body_markdown":"I had a typo in my test package name","body":"I had a typo in my test package name"},{"owner":{"account_id":32837,"reputation":16613,"user_id":91403,"accept_rate":72,"display_name":"Renato Gama"},"score":3,"creation_date":1624888796,"post_id":52887524,"comment_id":120473160,"body_markdown":"I completely forgot to add the package name. That did the trick","body":"I completely forgot to add the package name. That did the trick"},{"owner":{"account_id":170337,"reputation":1872,"user_id":1792216,"accept_rate":82,"display_name":"Emiliano Schiano"},"score":0,"creation_date":1635701177,"post_id":52887524,"comment_id":123359903,"body_markdown":"To avoid the need of matching the test classes packages with production code ones, just specify in the SpringBootTest annotation the class to be used to load the app context like this @SpringBootTest(classes = Application.class)","body":"To avoid the need of matching the test classes packages with production code ones, just specify in the SpringBootTest annotation the class to be used to load the app context like this @SpringBootTest(classes = Application.class)"},{"owner":{"account_id":16289936,"reputation":349,"user_id":11763655,"display_name":"antonrud"},"score":1,"creation_date":1658870700,"post_id":52887524,"comment_id":129158640,"body_markdown":"Yes that was exactly my problem. However you can overcome this issue like this:\n\n@SpringBootTest( classes = MyTest.MyTestConfiguration.class )\npublic class MyTest {\n\n// your tests here\n\n\n    @Configuration\n    @ComponentScan( basePackages = { &quot;com.comp.example&quot;, &quot;com.sample.example&quot; } )\n    static class MyTestConfiguration {}\n}","body":"Yes that was exactly my problem. However you can overcome this issue like this:  @SpringBootTest( classes = MyTest.MyTestConfiguration.class ) public class MyTest {  // your tests here       @Configuration     @ComponentScan( basePackages = { &quot;com.comp.example&quot;, &quot;com.sample.example&quot; } )     static class MyTestConfiguration {} }"},{"owner":{"account_id":10248731,"reputation":60,"user_id":7563713,"display_name":"Eddy Francisco"},"score":0,"creation_date":1659383787,"post_id":52887524,"comment_id":129277382,"body_markdown":"This solution solved for me! Thanks Saurabh Parmar!","body":"This solution solved for me! Thanks Saurabh Parmar!"},{"owner":{"account_id":14995303,"reputation":113,"user_id":10824878,"display_name":"ZhengguanLi"},"score":0,"creation_date":1691111807,"post_id":52887524,"comment_id":135451131,"body_markdown":"My main class is in package `com.xx.app`, but my test class is in `com.xx.sample`, so it will not find the main class if it scans from bottom to top: 1. `com.xx.sample` 2. `com.xx` 3. `com`. It won&#39;t reach `com.xx.app`","body":"My main class is in package <code>com.xx.app</code>, but my test class is in <code>com.xx.sample</code>, so it will not find the main class if it scans from bottom to top: 1. <code>com.xx.sample</code> 2. <code>com.xx</code> 3. <code>com</code>. It won&#39;t reach <code>com.xx.app</code>"}],"tags":[],"owner":{"account_id":13038584,"reputation":2631,"user_id":9422633,"display_name":"Saurabh Parmar"},"comment_count":7,"down_vote_count":0,"up_vote_count":263,"is_accepted":false,"score":263,"last_activity_date":1612768649,"creation_date":1539933619,"answer_id":52887524,"question_id":47487609,"body_markdown":"`src/test/java` packages and `src/main/java` packages should match.\r\nI had same issue where \r\n\r\n - my `src/main/java` packages were starting with **com.comp.example** but  \r\n - `src/test/java` packages were starting with **com.sample.example**\r\n\r\nBecause of this spring boot application was not able to pickup the configuration of the application, which it picks up from `@SpringBootApplication` class.\r\nSo test case should fall under the same packages where `@SpringBootApplication` in `src/main/java` is written.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p><code>src/test/java</code> packages and <code>src/main/java</code> packages should match.\nI had same issue where</p>\n<ul>\n<li>my <code>src/main/java</code> packages were starting with <strong>com.comp.example</strong> but</li>\n<li><code>src/test/java</code> packages were starting with <strong>com.sample.example</strong></li>\n</ul>\n<p>Because of this spring boot application was not able to pickup the configuration of the application, which it picks up from <code>@SpringBootApplication</code> class.\nSo test case should fall under the same packages where <code>@SpringBootApplication</code> in <code>src/main/java</code> is written.</p>\n"},{"comments":[{"owner":{"account_id":2871578,"reputation":1037,"user_id":2464815,"display_name":"Sasha Bond"},"score":1,"creation_date":1614109655,"post_id":62561246,"comment_id":117283609,"body_markdown":"this worked for me: `@SpringBootTest(classes = App.class, webEnvironment = WebEnvironment.DEFINED_PORT)` - see https://stackoverflow.com/questions/43468754/valuelocal-server-port-not-working-in-spring-boot-1-5","body":"this worked for me: <code>@SpringBootTest(classes = App.class, webEnvironment = WebEnvironment.DEFINED_PORT)</code> - see <a href=\"https://stackoverflow.com/questions/43468754/valuelocal-server-port-not-working-in-spring-boot-1-5\" title=\"valuelocal server port not working in spring boot 1 5\">stackoverflow.com/questions/43468754/&hellip;</a>"}],"tags":[],"owner":{"account_id":1833521,"reputation":1246,"user_id":4387162,"display_name":"downeyt"},"comment_count":1,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1604570935,"creation_date":1593021476,"answer_id":62561246,"question_id":47487609,"body_markdown":"`@SpringBootTest` has a parameter named `classes`. It accepts an array of classes for configuration. Add the class for the config file to it, for example:\r\n\r\n```\r\n@SpringBootTest(classes={com.lapots.game.monolith.web.GrandJourneyMonolithApplication.class})\r\n```","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p><code>@SpringBootTest</code> has a parameter named <code>classes</code>. It accepts an array of classes for configuration. Add the class for the config file to it, for example:</p>\n<pre><code>@SpringBootTest(classes={com.lapots.game.monolith.web.GrandJourneyMonolithApplication.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062835,"reputation":1529,"user_id":1064101,"accept_rate":12,"display_name":"Nava Polak Onik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657631815,"creation_date":1615126096,"answer_id":66517395,"question_id":47487609,"body_markdown":"I was able to resolve this problem only after including in the `@SpringBootTest` classes both the context configuration class and the application class.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>I was able to resolve this problem only after including in the <code>@SpringBootTest</code> classes both the context configuration class and the application class.</p>\n"},{"tags":[],"owner":{"account_id":8524530,"reputation":456,"user_id":6390368,"display_name":"Joel Mata"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651303220,"creation_date":1615207050,"answer_id":66530021,"question_id":47487609,"body_markdown":"In my case this was due to some [move|copy/paste] of classes. For some, the `package` clause was either [not updated correctly|not present] and the changes were not picked up but the IDE.\r\n\r\nAnyways, review your project packaging.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>In my case this was due to some [move|copy/paste] of classes. For some, the <code>package</code> clause was either [not updated correctly|not present] and the changes were not picked up but the IDE.</p>\n<p>Anyways, review your project packaging.</p>\n"},{"tags":[],"owner":{"account_id":6185837,"reputation":473,"user_id":4819978,"display_name":"pwipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645156101,"creation_date":1643990614,"answer_id":70989357,"question_id":47487609,"body_markdown":"Delete the file `module-info.java`. This worked for me.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>Delete the file <code>module-info.java</code>. This worked for me.</p>\n"},{"comments":[{"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"score":0,"creation_date":1690037663,"post_id":71501001,"comment_id":135298559,"body_markdown":"uppercase package names do not adhere to the java coding conventions.","body":"uppercase package names do not adhere to the java coding conventions."}],"tags":[],"owner":{"account_id":11054958,"reputation":397,"user_id":8118030,"display_name":"pankaj pundir"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1647448846,"creation_date":1647448846,"answer_id":71501001,"question_id":47487609,"body_markdown":"The Test `src/test/java` files should also follow the same directory structure as in `src/main/java`.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qTGB8.png","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>The Test <code>src/test/java</code> files should also follow the same directory structure as in <code>src/main/java</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/qTGB8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qTGB8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663098407,"creation_date":1663098407,"answer_id":73708514,"question_id":47487609,"body_markdown":"if your project has no testable code in it and you have the default test block in the spring boot default test class\r\n\r\n    @SpringBootTest\r\n    \r\n    class DemoApplicationTests {\r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t}\r\n    }\r\n\r\ndelete the test annotation and the the contextLoads() method. to this\r\n\r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    }","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>if your project has no testable code in it and you have the default test block in the spring boot default test class</p>\n<pre><code>@SpringBootTest\n\nclass DemoApplicationTests {\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>delete the test annotation and the the contextLoads() method. to this</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28321645,"reputation":21,"user_id":21657339,"display_name":"Dhurba Ghimire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681928026,"creation_date":1681659015,"answer_id":76028657,"question_id":47487609,"body_markdown":"For me it worked by adding the path to the main class as below\r\n```java\r\n@SpringBootTest(classes = {com.ghimire.bookApi.SpringBookApiPracticeApplication.class})\r\n```","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>For me it worked by adding the path to the main class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {com.ghimire.bookApi.SpringBookApiPracticeApplication.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682985604,"creation_date":1682985604,"answer_id":76150902,"question_id":47487609,"body_markdown":"Although not a direct answer to the OP Question, I was able to solve my own experience of the same error message (as the Title of this Question) in `IntelliJ IDEA`:\r\n\r\nSome part of the &quot;Maven Dance&quot;™️ {`mvn clean compile`, [IntelliJ] `Reload All Maven Projects`} solved it for me.","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>Although not a direct answer to the OP Question, I was able to solve my own experience of the same error message (as the Title of this Question) in <code>IntelliJ IDEA</code>:</p>\n<p>Some part of the &quot;Maven Dance&quot;™️ {<code>mvn clean compile</code>, [IntelliJ] <code>Reload All Maven Projects</code>} solved it for me.</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166809,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":47487712,"answer_count":10,"score":120,"last_activity_date":1690987380,"creation_date":1511623924,"question_id":47487609,"body_markdown":"I am using `Spring Data JPA` and `Spring Boot`. The layout of the application is this\r\n\r\n    main\r\n        +-- java\r\n            +-- com/lapots/game/monolith\r\n                +-- repository/relational\r\n                    +--RelationalPlayerRepository.java\r\n                +-- web\r\n                    +--GrandJourneyMonolithApplication.java\r\n                    +-- config\r\n                        +-- RelationalDBConfiguration.java\r\n    test\r\n        +-- java\r\n            +-- com/lapots/game/monolith\r\n                +-- repository/relational\r\n                    +-- RelationalPlayerRepositoryTests.java\r\n                +-- web\r\n                    +-- GrandJourneyMonolithApplicationTests.java\r\n\r\n\r\nThe repository for my object looks like this\r\n\r\n    public interface RelationalPlayerRepository extends JpaRepository&lt;Player, Long&gt; {\r\n    }\r\n\r\nAdditionally for the repositories I provided a configuration\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.lapots.game.monolith.repository.relational&quot;)\r\n    @EntityScan(&quot;com.lapots.game.monolith.domain&quot;)\r\n    public class RelationalDBConfiguration {\r\n    }\r\n\r\nMy main application looks like this\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.lapots.game.monolith&quot;)\r\n    public class GrandJourneyMonolithApplication {\r\n\r\n        @Autowired\r\n        private RelationalPlayerRepository relationalPlayerRepository;\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GrandJourneyMonolithApplication.class, args);\r\n        }\r\n\r\n        @Bean\r\n        public CommandLineRunner initPlayers() {\r\n            return (args) -&gt; {\r\n                Player p = new Player();\r\n                p.setLevel(10);\r\n                p.setName(&quot;Master1909&quot;);\r\n                p.setClazz(&quot;warrior&quot;);\r\n\r\n                relationalPlayerRepository.save(p);\r\n            };\r\n        }\r\n    }\r\n    \r\nTest for application looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class GrandJourneyMonolithApplicationTests {\r\n\r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n\r\n    }\r\n    \r\nThe test for repository looks like this\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class RelationalPlayerRepositoryTests {\r\n\r\n        @Autowired\r\n        private TestEntityManager entityManager;\r\n\r\n        @Autowired\r\n        private RelationalPlayerRepository repository;\r\n\r\n        @Test\r\n        public void testBasic() {\r\n            Player expected = createPlayer(&quot;Master12&quot;, &quot;warrior&quot;, 10);\r\n            this.entityManager.persist(expected);\r\n            List&lt;Player&gt; players = repository.findAll();\r\n            assertThat(repository.findAll()).isNotEmpty();\r\n            assertEquals(expected, players.get(0));\r\n        }\r\n\r\n        private Player createPlayer(String name, String clazz, int level) {\r\n            Player p = new Player();\r\n            p.setId(1L);\r\n            p.setName(name);\r\n            p.setClazz(clazz);\r\n            p.setLevel(level);\r\n            return p;\r\n        }\r\n    }\r\n\r\nBut when I try to run the tests I get the error\r\n\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.041 sec &lt;&lt;&lt; FAILURE! - in com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests\r\n    initializationError(com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests)  Time elapsed: 0.006 sec  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\n    at org.springframework.util.Assert.state(Assert.java:70)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:202)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:137)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:409)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:323)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:277)\r\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:112)\r\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:82)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:120)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:105)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:152)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:143)\r\n    at org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n\r\nWhat is the problem?\r\nDomain `Player` loooks like this\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(schema = &quot;app&quot;, name = &quot;players&quot;)\r\n    public class Player {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        @Transient\r\n        Set&lt;Player&gt; comrades;\r\n\r\n        @Column(unique = true)\r\n        private String name;\r\n\r\n        private int level;\r\n\r\n        @Column(name = &quot;class&quot;)\r\n        private String clazz;\r\n    }","title":"Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","body":"<p>I am using <code>Spring Data JPA</code> and <code>Spring Boot</code>. The layout of the application is this</p>\n\n<pre><code>main\n    +-- java\n        +-- com/lapots/game/monolith\n            +-- repository/relational\n                +--RelationalPlayerRepository.java\n            +-- web\n                +--GrandJourneyMonolithApplication.java\n                +-- config\n                    +-- RelationalDBConfiguration.java\ntest\n    +-- java\n        +-- com/lapots/game/monolith\n            +-- repository/relational\n                +-- RelationalPlayerRepositoryTests.java\n            +-- web\n                +-- GrandJourneyMonolithApplicationTests.java\n</code></pre>\n\n<p>The repository for my object looks like this</p>\n\n<pre><code>public interface RelationalPlayerRepository extends JpaRepository&lt;Player, Long&gt; {\n}\n</code></pre>\n\n<p>Additionally for the repositories I provided a configuration</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = \"com.lapots.game.monolith.repository.relational\")\n@EntityScan(\"com.lapots.game.monolith.domain\")\npublic class RelationalDBConfiguration {\n}\n</code></pre>\n\n<p>My main application looks like this</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.lapots.game.monolith\")\npublic class GrandJourneyMonolithApplication {\n\n    @Autowired\n    private RelationalPlayerRepository relationalPlayerRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(GrandJourneyMonolithApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner initPlayers() {\n        return (args) -&gt; {\n            Player p = new Player();\n            p.setLevel(10);\n            p.setName(\"Master1909\");\n            p.setClazz(\"warrior\");\n\n            relationalPlayerRepository.save(p);\n        };\n    }\n}\n</code></pre>\n\n<p>Test for application looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class GrandJourneyMonolithApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>The test for repository looks like this</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class RelationalPlayerRepositoryTests {\n\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Autowired\n    private RelationalPlayerRepository repository;\n\n    @Test\n    public void testBasic() {\n        Player expected = createPlayer(\"Master12\", \"warrior\", 10);\n        this.entityManager.persist(expected);\n        List&lt;Player&gt; players = repository.findAll();\n        assertThat(repository.findAll()).isNotEmpty();\n        assertEquals(expected, players.get(0));\n    }\n\n    private Player createPlayer(String name, String clazz, int level) {\n        Player p = new Player();\n        p.setId(1L);\n        p.setName(name);\n        p.setClazz(clazz);\n        p.setLevel(level);\n        return p;\n    }\n}\n</code></pre>\n\n<p>But when I try to run the tests I get the error</p>\n\n<pre><code>Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.041 sec &lt;&lt;&lt; FAILURE! - in com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests\ninitializationError(com.lapots.game.monolith.repository.relational.RelationalPlayerRepositoryTests)  Time elapsed: 0.006 sec  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\nat org.springframework.util.Assert.state(Assert.java:70)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses(SpringBootTestContextBootstrapper.java:202)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.processMergedContextConfiguration(SpringBootTestContextBootstrapper.java:137)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:409)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:323)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:277)\nat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:112)\nat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:82)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:120)\nat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:105)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:152)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:143)\nat org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\nat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n</code></pre>\n\n<p>What is the problem?\nDomain <code>Player</code> loooks like this</p>\n\n<pre><code>@Data\n@Entity\n@Table(schema = \"app\", name = \"players\")\npublic class Player {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Transient\n    Set&lt;Player&gt; comrades;\n\n    @Column(unique = true)\n    private String name;\n\n    private int level;\n\n    @Column(name = \"class\")\n    private String clazz;\n}\n</code></pre>\n"},{"tags":["java","certificate","ssl-certificate","keystore","keytool"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1343065746,"post_id":11617210,"comment_id":15382953,"body_markdown":"I wouldn&#39;t necessarily rely on that code. Things like `Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider())` are completely unnecessary in the first part. The second doesn&#39;t do any cert verification. Try with a plain `URLConnection` to start with. Are you sure you&#39;ve modified `cacerts` in `lib/security` of your JRE installation? Have you tried the [`trustmanager` debugging option](http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug)?","body":"I wouldn&#39;t necessarily rely on that code. Things like <code>Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider())</code> are completely unnecessary in the first part. The second doesn&#39;t do any cert verification. Try with a plain <code>URLConnection</code> to start with. Are you sure you&#39;ve modified <code>cacerts</code> in <code>lib&#47;security</code> of your JRE installation? Have you tried the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\"><code>trustmanager</code> debugging option</a>?"}],"answers":[{"comments":[{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":5,"creation_date":1343065558,"post_id":11617655,"comment_id":15382867,"body_markdown":"The main idea from this is not portecle but importing certificates into the right keystore.","body":"The main idea from this is not portecle but importing certificates into the right keystore."},{"owner":{"account_id":2580976,"reputation":400,"user_id":2237685,"display_name":"Codezilla"},"score":1,"creation_date":1413389260,"post_id":11617655,"comment_id":41428041,"body_markdown":"This worked, but my java was in a different location.  My keystore was located at /usr/lib/jvm/java-openjdk/jre/lib/security/cacerts which I found by running `ps -ef | grep java` which told me my java was running from openjdk located at /usr/lib/jvm/java-openjdk/bin/java.  Also, if this if for a webapp remember to restart.  Thanks for the help!!","body":"This worked, but my java was in a different location.  My keystore was located at /usr/lib/jvm/java-openjdk/jre/lib/security/cacerts which I found by running <code>ps -ef | grep java</code> which told me my java was running from openjdk located at /usr/lib/jvm/java-openjdk/bin/java.  Also, if this if for a webapp remember to restart.  Thanks for the help!!"},{"owner":{"account_id":1585935,"reputation":3321,"user_id":1470293,"display_name":"Xantix"},"score":11,"creation_date":1438968642,"post_id":11617655,"comment_id":51684454,"body_markdown":"I haven&#39;t used portecle, but I found that [Keystore Explorer](http://keystore-explorer.sourceforge.net/) works pretty well for Windows, Linux, (and it should work on OSX as well)","body":"I haven&#39;t used portecle, but I found that <a href=\"http://keystore-explorer.sourceforge.net/\" rel=\"nofollow noreferrer\">Keystore Explorer</a> works pretty well for Windows, Linux, (and it should work on OSX as well)"},{"owner":{"account_id":3781742,"reputation":1246,"user_id":3140995,"display_name":"sdm"},"score":0,"creation_date":1493722879,"post_id":11617655,"comment_id":74515294,"body_markdown":"Very helpful indeed. 2 very important things highlighted here. One is about importing in the right keystore. And another one is to make sure to restart in case of a webserver.","body":"Very helpful indeed. 2 very important things highlighted here. One is about importing in the right keystore. And another one is to make sure to restart in case of a webserver."},{"owner":{"account_id":2686270,"reputation":915,"user_id":2320630,"display_name":"fabioresner"},"score":0,"creation_date":1500745331,"post_id":11617655,"comment_id":77478343,"body_markdown":"Just to complete, use `$ sudo keytool -list -keystore cacerts | grep mycert` to check if the import was successfull. Add -v parameter to list the certificates with more verbose.","body":"Just to complete, use <code>$ sudo keytool -list -keystore cacerts | grep mycert</code> to check if the import was successfull. Add -v parameter to list the certificates with more verbose."},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":8,"creation_date":1552496225,"post_id":11617655,"comment_id":97035161,"body_markdown":"In 2019, we can even get SSL certificates for free using services like Lets encrypt","body":"In 2019, we can even get SSL certificates for free using services like Lets encrypt"},{"owner":{"account_id":114587,"reputation":986,"user_id":301230,"display_name":"traneHead"},"score":2,"creation_date":1552921007,"post_id":11617655,"comment_id":97183236,"body_markdown":"Just a FYI, works just as well on MacOS following the steps for Linux","body":"Just a FYI, works just as well on MacOS following the steps for Linux"},{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1671409898,"post_id":11617655,"comment_id":132087357,"body_markdown":"Add `-showcerts` param to `openssl` to list all chain certs and choose the highest certificate in the chain hierarchy.","body":"Add <code>-showcerts</code> param to <code>openssl</code> to list all chain certs and choose the highest certificate in the chain hierarchy."},{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1680449484,"post_id":11617655,"comment_id":133896805,"body_markdown":"java11+ keytool allows to use `-cacerts` param instead of `-keystore filename`","body":"java11+ keytool allows to use <code>-cacerts</code> param instead of <code>-keystore filename</code>"}],"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"comment_count":9,"down_vote_count":3,"up_vote_count":280,"is_accepted":false,"score":277,"last_activity_date":1583142543,"creation_date":1343065389,"answer_id":11617655,"question_id":11617210,"body_markdown":"**On Windows** the easiest way is to use the program [portecle][1].\r\n\r\n1. Download and install portecle.\r\n1. First make 100% sure you know which JRE or JDK is being used to run your program. On a 64 bit Windows 7 there could be quite a few JREs. Process Explorer can help you with this or you can use: `System.out.println(System.getProperty(&quot;java.home&quot;));`\r\n1. Copy the file JAVA_HOME\\lib\\security\\cacerts to another folder.\r\n1. In Portecle click File &gt; Open Keystore File\r\n1. Select the cacerts file\r\n1. Enter this password: changeit\r\n1. Click Tools &gt; Import Trusted Certificate\r\n1. Browse for the file mycertificate.pem\r\n1. Click Import\r\n1. Click OK for the warning about the trust path.\r\n1. Click OK when it displays the details about the certificate.\r\n1. Click Yes to accept the certificate as trusted.\r\n1. When it asks for an alias click OK and click OK again when it says it has imported the certificate.\r\n1. Click save. Don’t forget this or the change is discarded.\r\n1. Copy the file cacerts back where you found it.\r\n\r\n**On Linux:**\r\n\r\nYou can download the SSL certificate from a web server that is already using it like this:\r\n\r\n    $ echo -n | openssl s_client -connect www.example.com:443 | \\\r\n       sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; /tmp/examplecert.crt\r\n\r\nOptionally verify the certificate information:\r\n\r\n    $ openssl x509 -in /tmp/examplecert.crt -text\r\n\r\nImport the certificate into the Java cacerts keystore:\r\n\r\n    $ keytool -import -trustcacerts -keystore /opt/java/jre/lib/security/cacerts \\\r\n       -storepass changeit -noprompt -alias mycert -file /tmp/examplecert.crt\r\n\r\n  [1]: http://portecle.sourceforge.net/","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p><strong>On Windows</strong> the easiest way is to use the program <a href=\"http://portecle.sourceforge.net/\" rel=\"noreferrer\">portecle</a>.</p>\n\n<ol>\n<li>Download and install portecle.</li>\n<li>First make 100% sure you know which JRE or JDK is being used to run your program. On a 64 bit Windows 7 there could be quite a few JREs. Process Explorer can help you with this or you can use: <code>System.out.println(System.getProperty(\"java.home\"));</code></li>\n<li>Copy the file JAVA_HOME\\lib\\security\\cacerts to another folder.</li>\n<li>In Portecle click File > Open Keystore File</li>\n<li>Select the cacerts file</li>\n<li>Enter this password: changeit</li>\n<li>Click Tools > Import Trusted Certificate</li>\n<li>Browse for the file mycertificate.pem</li>\n<li>Click Import</li>\n<li>Click OK for the warning about the trust path.</li>\n<li>Click OK when it displays the details about the certificate.</li>\n<li>Click Yes to accept the certificate as trusted.</li>\n<li>When it asks for an alias click OK and click OK again when it says it has imported the certificate.</li>\n<li>Click save. Don’t forget this or the change is discarded.</li>\n<li>Copy the file cacerts back where you found it.</li>\n</ol>\n\n<p><strong>On Linux:</strong></p>\n\n<p>You can download the SSL certificate from a web server that is already using it like this:</p>\n\n<pre><code>$ echo -n | openssl s_client -connect www.example.com:443 | \\\n   sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; /tmp/examplecert.crt\n</code></pre>\n\n<p>Optionally verify the certificate information:</p>\n\n<pre><code>$ openssl x509 -in /tmp/examplecert.crt -text\n</code></pre>\n\n<p>Import the certificate into the Java cacerts keystore:</p>\n\n<pre><code>$ keytool -import -trustcacerts -keystore /opt/java/jre/lib/security/cacerts \\\n   -storepass changeit -noprompt -alias mycert -file /tmp/examplecert.crt\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":6,"creation_date":1595941355,"post_id":28324237,"comment_id":111642793,"body_markdown":"&quot;sudo keytool&quot; NOPE","body":"&quot;sudo keytool&quot; NOPE"},{"owner":{"account_id":4196270,"reputation":2969,"user_id":3437608,"accept_rate":75,"display_name":"Cullub"},"score":0,"creation_date":1652287379,"post_id":28324237,"comment_id":127572158,"body_markdown":"`/Applications/Xcode.app/Contents/Applications/Application Loader.app` no longer exists -- is there a different place Xcode keeps its Java version?","body":"<code>&#47;Applications&#47;Xcode.app&#47;Contents&#47;Applications&#47;Application Loader.app</code> no longer exists -- is there a different place Xcode keeps its Java version?"},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1675729196,"post_id":28324237,"comment_id":132987866,"body_markdown":"@Cullub See [this answer](https://stackoverflow.com/a/15826712/4850949) for how to find where your active Java installation is on macOS.","body":"@Cullub See <a href=\"https://stackoverflow.com/a/15826712/4850949\">this answer</a> for how to find where your active Java installation is on macOS."}],"tags":[],"owner":{"account_id":35261,"reputation":163470,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1423061292,"creation_date":1423061292,"answer_id":28324237,"question_id":11617210,"body_markdown":"I ended up writing a small script that adds the certificates to the keystores, so it is much easier to use.\r\n\r\nYou can get the latest version from https://github.com/ssbarnea/keytool-trust\r\n    \r\n    #!/bin/bash\r\n    # version 1.0\r\n    # https://github.com/ssbarnea/keytool-trust\r\n    REMHOST=$1\r\n    REMPORT=${2:-443}\r\n    \r\n    KEYSTORE_PASS=changeit\r\n    KEYTOOL=&quot;sudo keytool&quot;\r\n    \r\n    # /etc/java-6-sun/security/cacerts\r\n    \r\n    for CACERTS in \t/usr/lib/jvm/java-8-oracle/jre/lib/security/cacerts \\\r\n    \t/usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts \\\r\n    \t&quot;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security/cacerts&quot; \\\r\n    \t&quot;/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/java/lib/security/cacerts&quot;\r\n    do\r\n    \r\n    if [ -e &quot;$CACERTS&quot; ]\r\n    then\r\n        echo --- Adding certs to $CACERTS\r\n    \r\n    # FYI: the default keystore is located in ~/.keystore\r\n    \r\n    if [ -z &quot;$REMHOST&quot; ]\r\n        then\r\n        echo &quot;ERROR: Please specify the server name to import the certificatin from, eventually followed by the port number, if other than 443.&quot;\r\n        exit 1\r\n        fi\r\n    \r\n    set -e\r\n    \r\n    rm -f $REMHOST:$REMPORT.pem\r\n    \r\n    if openssl s_client -connect $REMHOST:$REMPORT 1&gt;/tmp/keytool_stdout 2&gt;/tmp/output &lt;/dev/null\r\n            then\r\n            :\r\n            else\r\n            cat /tmp/keytool_stdout\r\n            cat /tmp/output\r\n            exit 1\r\n            fi\r\n    \r\n    if sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &lt;/tmp/keytool_stdout &gt; /tmp/$REMHOST:$REMPORT.pem\r\n            then\r\n            :\r\n            else\r\n            echo &quot;ERROR: Unable to extract the certificate from $REMHOST:$REMPORT ($?)&quot;\r\n            cat /tmp/output\r\n            fi\r\n    \r\n    if $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT &gt;/dev/null\r\n        then\r\n        echo &quot;Key of $REMHOST already found, skipping it.&quot;\r\n        else\r\n        $KEYTOOL -import -trustcacerts -noprompt -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\r\n        fi\r\n    \r\n    if $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -keystore &quot;$CACERTS&quot; &gt;/dev/null\r\n        then\r\n        echo &quot;Key of $REMHOST already found in cacerts, skipping it.&quot;\r\n        else\r\n        $KEYTOOL -import -trustcacerts -noprompt -keystore &quot;$CACERTS&quot; -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\r\n        fi\r\n    \r\n    fi\r\n    \r\n    done\r\n\r\n```","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I ended up writing a small script that adds the certificates to the keystores, so it is much easier to use.</p>\n\n<p>You can get the latest version from <a href=\"https://github.com/ssbarnea/keytool-trust\" rel=\"noreferrer\">https://github.com/ssbarnea/keytool-trust</a></p>\n\n<pre><code>#!/bin/bash\n# version 1.0\n# https://github.com/ssbarnea/keytool-trust\nREMHOST=$1\nREMPORT=${2:-443}\n\nKEYSTORE_PASS=changeit\nKEYTOOL=\"sudo keytool\"\n\n# /etc/java-6-sun/security/cacerts\n\nfor CACERTS in  /usr/lib/jvm/java-8-oracle/jre/lib/security/cacerts \\\n    /usr/lib/jvm/java-7-oracle/jre/lib/security/cacerts \\\n    \"/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/lib/security/cacerts\" \\\n    \"/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/MacOS/itms/java/lib/security/cacerts\"\ndo\n\nif [ -e \"$CACERTS\" ]\nthen\n    echo --- Adding certs to $CACERTS\n\n# FYI: the default keystore is located in ~/.keystore\n\nif [ -z \"$REMHOST\" ]\n    then\n    echo \"ERROR: Please specify the server name to import the certificatin from, eventually followed by the port number, if other than 443.\"\n    exit 1\n    fi\n\nset -e\n\nrm -f $REMHOST:$REMPORT.pem\n\nif openssl s_client -connect $REMHOST:$REMPORT 1&gt;/tmp/keytool_stdout 2&gt;/tmp/output &lt;/dev/null\n        then\n        :\n        else\n        cat /tmp/keytool_stdout\n        cat /tmp/output\n        exit 1\n        fi\n\nif sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &lt;/tmp/keytool_stdout &gt; /tmp/$REMHOST:$REMPORT.pem\n        then\n        :\n        else\n        echo \"ERROR: Unable to extract the certificate from $REMHOST:$REMPORT ($?)\"\n        cat /tmp/output\n        fi\n\nif $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT &gt;/dev/null\n    then\n    echo \"Key of $REMHOST already found, skipping it.\"\n    else\n    $KEYTOOL -import -trustcacerts -noprompt -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\n    fi\n\nif $KEYTOOL -list -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -keystore \"$CACERTS\" &gt;/dev/null\n    then\n    echo \"Key of $REMHOST already found in cacerts, skipping it.\"\n    else\n    $KEYTOOL -import -trustcacerts -noprompt -keystore \"$CACERTS\" -storepass ${KEYSTORE_PASS} -alias $REMHOST:$REMPORT -file /tmp/$REMHOST:$REMPORT.pem\n    fi\n\nfi\n\ndone\n</code></pre>\n\n<p>```</p>\n"},{"comments":[{"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"score":25,"creation_date":1524672093,"post_id":29135496,"comment_id":87069625,"body_markdown":"You will be prompted for the keystore password, the default is &quot;changeit&quot;","body":"You will be prompted for the keystore password, the default is &quot;changeit&quot;"},{"owner":{"account_id":3699604,"reputation":347,"user_id":3079815,"accept_rate":100,"display_name":"Tschenser"},"score":8,"creation_date":1616076772,"post_id":29135496,"comment_id":117894507,"body_markdown":"At least in java 11 (sapmachine jre) the syntax changed slightly according to the manfile: `keytool.exe -importcert -file &lt;path to cer file&gt; -cacerts -alias &quot;&lt;your alias&gt;&quot;`","body":"At least in java 11 (sapmachine jre) the syntax changed slightly according to the manfile: <code>keytool.exe -importcert -file &lt;path to cer file&gt; -cacerts -alias &quot;&lt;your alias&gt;&quot;</code>"}],"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"comment_count":2,"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1672220168,"creation_date":1426727086,"answer_id":29135496,"question_id":11617210,"body_markdown":"    D:\\Java\\jdk1.5.0_10\\bin\\keytool -import -file &quot;D:\\Certificates\\SDS services\\Dev\\dev-sdsservices-was8.infavig.com.cer&quot; -keystore &quot;D:\\Java\\jdk1.5.0_10\\jre\\lib\\security\\cacerts&quot; -alias &quot;sds certificate&quot;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<pre><code>D:\\Java\\jdk1.5.0_10\\bin\\keytool -import -file &quot;D:\\Certificates\\SDS services\\Dev\\dev-sdsservices-was8.infavig.com.cer&quot; -keystore &quot;D:\\Java\\jdk1.5.0_10\\jre\\lib\\security\\cacerts&quot; -alias &quot;sds certificate&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1864818,"reputation":325,"user_id":1688640,"display_name":"Bharat Darakh"},"score":1,"creation_date":1431083940,"post_id":30122034,"comment_id":48354577,"body_markdown":"Use this command :-&gt; keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;","body":"Use this command :-&gt; keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;"}],"tags":[],"owner":{"account_id":1864818,"reputation":325,"user_id":1688640,"display_name":"Bharat Darakh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621362784,"creation_date":1431082381,"answer_id":30122034,"question_id":11617210,"body_markdown":"If you are using a certificate signed by a Certificate Authority that is not included in the Java cacerts file by default, you need to complete the following configuration for HTTPS connections.\r\nTo import certificates into cacerts:\r\n\r\n1. Open Windows Explorer and navigate to the cacerts file, which is located in the jre\\lib\\security subfolder where AX Core Client is installed. The default location is C:\\Program Files\\ACL Software\\AX Core Client\\jre\\lib\\security\r\n2. Create a backup copy of the file before making any changes.\r\n3. Depending on the certificates you receive from the Certificate Authority you are using, you may need to import an intermediate certificate and/or root certificate into the cacerts file. Use the following syntax to import certificates:\r\n\r\n    `keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;`\r\n\r\n4. If you are importing both certificates the alias specified for each certificate should be unique.\r\n5. Type the password for the keystore at the “Password” prompt and press Enter. The default Java password for the cacerts file is “changeit”.\r\n\tType ‘y’ at the “Trust this certificate?” prompt and press Enter.","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>If you are using a certificate signed by a Certificate Authority that is not included in the Java cacerts file by default, you need to complete the following configuration for HTTPS connections.\nTo import certificates into cacerts:</p>\n<ol>\n<li><p>Open Windows Explorer and navigate to the cacerts file, which is located in the jre\\lib\\security subfolder where AX Core Client is installed. The default location is C:\\Program Files\\ACL Software\\AX Core Client\\jre\\lib\\security</p>\n</li>\n<li><p>Create a backup copy of the file before making any changes.</p>\n</li>\n<li><p>Depending on the certificates you receive from the Certificate Authority you are using, you may need to import an intermediate certificate and/or root certificate into the cacerts file. Use the following syntax to import certificates:</p>\n<p><code>keytool -import -alias &lt;alias&gt; -keystore &lt;cacerts_file&gt; -trustcacerts -file &lt;certificate_filename&gt;</code></p>\n</li>\n<li><p>If you are importing both certificates the alias specified for each certificate should be unique.</p>\n</li>\n<li><p>Type the password for the keystore at the “Password” prompt and press Enter. The default Java password for the cacerts file is “changeit”.\nType ‘y’ at the “Trust this certificate?” prompt and press Enter.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4260201,"reputation":134,"user_id":3484756,"display_name":"Gradient"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481726561,"creation_date":1481726561,"answer_id":41145344,"question_id":11617210,"body_markdown":"Might want to try\r\n\r\n    keytool -import -trustcacerts -noprompt -keystore &lt;full path to cacerts&gt; -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n\r\ni honestly have no idea where it puts your certificate if you just write `cacerts` just give it a full path","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Might want to try</p>\n\n<pre><code>keytool -import -trustcacerts -noprompt -keystore &lt;full path to cacerts&gt; -storepass changeit -alias $REMHOST -file $REMHOST.pem\n</code></pre>\n\n<p>i honestly have no idea where it puts your certificate if you just write <code>cacerts</code> just give it a full path</p>\n"},{"comments":[{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":4,"creation_date":1625043830,"post_id":42969473,"comment_id":120519726,"body_markdown":"Note that you can use the `-cacerts` option instead of providing the path using `-keystore`. This is useful because the exact path varies depending on if you have installed a jdk or jre.","body":"Note that you can use the <code>-cacerts</code> option instead of providing the path using <code>-keystore</code>. This is useful because the exact path varies depending on if you have installed a jdk or jre."},{"owner":{"account_id":10075506,"reputation":798,"user_id":7447765,"accept_rate":80,"display_name":"Muizz Mahdy"},"score":0,"creation_date":1638523415,"post_id":42969473,"comment_id":124116320,"body_markdown":"@not2savvy Also note that the -cacerts option is only for Java 9 and above","body":"@not2savvy Also note that the -cacerts option is only for Java 9 and above"},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":1,"creation_date":1638537586,"post_id":42969473,"comment_id":124121567,"body_markdown":"@MuizzMahdy That&#39;s right, see also [my detailed answer here](https://stackoverflow.com/a/68214137/4850949).","body":"@MuizzMahdy That&#39;s right, see also <a href=\"https://stackoverflow.com/a/68214137/4850949\">my detailed answer here</a>."}],"tags":[],"owner":{"account_id":7152159,"reputation":1531,"user_id":5465790,"display_name":"Walk"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1490255812,"creation_date":1490253275,"answer_id":42969473,"question_id":11617210,"body_markdown":"This worked for me. :) \r\n\r\n&lt;pre&gt;\r\nsudo keytool -importcert -file filename.cer -alias randomaliasname -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit \r\n&lt;/pre&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>This worked for me. :) </p>\n\n<pre>\nsudo keytool -importcert -file filename.cer -alias randomaliasname -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit \n</pre>\n"},{"tags":[],"owner":{"account_id":182171,"reputation":370,"user_id":416688,"display_name":"Jordan Gee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501868206,"creation_date":1501868206,"answer_id":45512588,"question_id":11617210,"body_markdown":"The simple command &#39;keytool&#39; also works on Windows and/or with Cygwin. \r\n\r\n**IF you&#39;re using Cygwin** here is the modified command that I used from the bottom of &quot;S.Botha&#39;s&quot; answer :\r\n\r\n 1. make sure you identify the JRE inside the JDK that you will be using\r\n 2. Start your prompt/cygwin as admin\r\n 3. go inside the bin directory of that JDK e.g.   cd /cygdrive/c/Program\\ Files/Java/jdk1.8.0_121/jre/bin\r\n 4. Execute the keytool command from inside it, where you provide the path to your new Cert at the end, like so:\r\n\r\n        ./keytool.exe -import -trustcacerts -keystore ../lib/security/cacerts  -storepass changeit -noprompt -alias myownaliasformysystem -file &quot;D:\\Stuff\\saved-certs\\ca.cert&quot;\r\n\r\n\r\nNotice, because if this is under Cygwin you&#39;re giving a path to a non-Cygwin program, so the path is DOS-like and in quotes. \r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>The simple command 'keytool' also works on Windows and/or with Cygwin. </p>\n\n<p><strong>IF you're using Cygwin</strong> here is the modified command that I used from the bottom of \"S.Botha's\" answer :</p>\n\n<ol>\n<li>make sure you identify the JRE inside the JDK that you will be using</li>\n<li>Start your prompt/cygwin as admin</li>\n<li>go inside the bin directory of that JDK e.g.   cd /cygdrive/c/Program\\ Files/Java/jdk1.8.0_121/jre/bin</li>\n<li><p>Execute the keytool command from inside it, where you provide the path to your new Cert at the end, like so:</p>\n\n<pre><code>./keytool.exe -import -trustcacerts -keystore ../lib/security/cacerts  -storepass changeit -noprompt -alias myownaliasformysystem -file \"D:\\Stuff\\saved-certs\\ca.cert\"\n</code></pre></li>\n</ol>\n\n<p>Notice, because if this is under Cygwin you're giving a path to a non-Cygwin program, so the path is DOS-like and in quotes. </p>\n"},{"tags":[],"owner":{"account_id":5512007,"reputation":399,"user_id":4378009,"display_name":"Apuri Srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552494101,"creation_date":1552494101,"answer_id":55146668,"question_id":11617210,"body_markdown":"**install certificate in java linux**\r\n\r\n/opt/jdk(version)/bin/keytool -import -alias aliasname -file certificate.cer -keystore cacerts -storepass password\r\n\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p><strong>install certificate in java linux</strong></p>\n\n<p>/opt/jdk(version)/bin/keytool -import -alias aliasname -file certificate.cer -keystore cacerts -storepass password</p>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640115491,"creation_date":1595301904,"answer_id":63006868,"question_id":11617210,"body_markdown":"Fist get the certificate from the provider.  Create a file ends with .cer and paste the certificate.\r\n    \r\nCopy the text file or paste it somewhere you can access it then use the cmd prompt as an admin and cd to the bin of the jdk; the command that will be used is the:  `keytool`\r\n\r\nChange the password of the keystore with:\r\n    \r\n    keytool -storepasswd -keystore &quot;path of the key store from c\\ and down&quot;\r\n    \r\nThe password is : `changeit`\r\n\r\nThen you will be asked to enter the new password twice.  Then type the following:\r\n    \r\n    keytool -importcert -file &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\certificateFile.cer&quot; -alias chooseAname -keystore  &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\cacerts&quot;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Fist get the certificate from the provider.  Create a file ends with .cer and paste the certificate.</p>\n<p>Copy the text file or paste it somewhere you can access it then use the cmd prompt as an admin and cd to the bin of the jdk; the command that will be used is the:  <code>keytool</code></p>\n<p>Change the password of the keystore with:</p>\n<pre><code>keytool -storepasswd -keystore &quot;path of the key store from c\\ and down&quot;\n</code></pre>\n<p>The password is : <code>changeit</code></p>\n<p>Then you will be asked to enter the new password twice.  Then type the following:</p>\n<pre><code>keytool -importcert -file &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\certificateFile.cer&quot; -alias chooseAname -keystore  &quot;C:\\Program Files\\Java\\jdk-13.0.2\\lib\\security\\cacerts&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1642438904,"creation_date":1625158391,"answer_id":68214137,"question_id":11617210,"body_markdown":"You can use `keytool` with your Java installation which should be in `$JAVA_HOME/bin`. The Java keystore is located in `$JAVA_HOME/lib/security/cacerts` or `$JAVA_HOME/jre/lib/security/cacerts` which depends on if you have the JDK or JRE installed.\r\n\r\nIf using Java 9 or later, you don&#39;t need to know the exact location. You can use the `-cacerts` option as a shortcut. \r\n\r\nJava 9+\r\n-------\r\n\r\nSo with Java 9 (aka Java 1.9) or later, simply use \r\n\r\n    keytool -importcert -trustcacerts -cacerts -file myCert.pem -alias myCert\r\n\r\nEarlier Java versions\r\n---------------------\r\n\r\nWith Java 8 (aka 1.8) or older, you must specify the keystore location like so\r\n\r\n    keytool -importcert -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\r\n\r\nWith Java 5 (aka 1.5) or older, the `-importcert` option did not exist. It was called `-import`, but otherwise it&#39;s identical. So use\r\n\r\n    keytool -import -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\r\n\r\nAdditional options\r\n------------------\r\n\r\n - You will be asked for the truststore password, The default password is *changeit*.\r\n - If you need to run the import unattended, you can add `-storepass changeit -noprompt`\r\n\r\nFormats\r\n-------\r\n\r\n`keytool` can import X.509 v1, v2, and v3 certificates, and PKCS#7 formatted certificate chains consisting of certificates of that type (P7B). The data to be imported must be provided \r\n\r\n - either in binary encoding format (DER)\r\n - or in printable encoding format (aka base64 encoded), enclosed in `-----BEGIN` and `-----END` lines (PEM)\r\n\r\n*Note: I&#39;m not sure if certificate chains in PEM format really work.*\r\n\r\n\r\nBonus script\r\n------------\r\n\r\nI&#39;m afraid, it&#39;s bash, so no solution for Windows users.\r\n\r\nThis simple script, created thanks to several useful questions and smart answers here on stackoverflow, checks the Java version and - if necessary - determines the correct keystore location, and it can import multiple certificates in one command. Note that you must pass the file pattern argument in single quotes (see usage).\r\n\r\naddcerts.sh\r\n````\r\n#!/bin/bash\r\n\r\n# Add custom root certificates to Java trust store\r\n\r\nif [ &quot;$#&quot; -ne 1 ]; then\r\n    SCRIPT=`basename &quot;$0&quot;`\r\n    echo &quot;Usage: $SCRIPT &#39;path/to/certs/*&#39;&quot;\r\n    exit 1\r\nfi\r\n\r\nCERTFILES=$1\t\r\n\r\nJAVA_VERSION=`java -version 2&gt;&amp;1 | head -1 | cut -d&#39;&quot;&#39; -f2 | sed &#39;/^1\\./s///&#39; | cut -d&#39;.&#39; -f1`\r\n\r\nif (( $JAVA_VERSION &gt;= 9 )); then\r\n\tCACERTS=&quot;-cacerts&quot;\r\nelse\t\r\n\t# Check where cacerts are located\r\n\t# differs depending or jdk or jre installed\r\n\tif [ -d &quot;$JAVA_HOME/jre&quot; ]; then\r\n\t\tCACERTS=&quot;$JAVA_HOME/jre&quot;\r\n\telse\r\n\t\tCACERTS=&quot;$JAVA_HOME&quot;\r\n\tfi\r\n\tCACERTS=&quot;-keystore $CACERTS/lib/security/cacerts&quot;\t\r\nfi\t\t\r\n\r\n# Now add certificates \r\nfor CERTFILE in $CERTFILES; do\r\n\t# Remove path, then suffix to derive alias from filename\r\n    ALIAS=${CERTFILE##*/}  \r\n\tALIAS=${ALIAS%.*}\r\n\t$JAVA_HOME/bin/keytool -importcert -file &quot;$CERTFILE&quot; -alias &quot;$ALIAS&quot; $CACERTS -trustcacerts -storepass changeit -noprompt\r\n\tif [ $? -ne 0 ]; then\r\n\t\techo &quot;Failed to add $CERTFILE as $ALIAS to $CACERTS&quot;\r\n\t\texit 1\r\n\tfi\t\r\ndone\r\n````\r\n\r\n \r\n\r\n\r\n\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>You can use <code>keytool</code> with your Java installation which should be in <code>$JAVA_HOME/bin</code>. The Java keystore is located in <code>$JAVA_HOME/lib/security/cacerts</code> or <code>$JAVA_HOME/jre/lib/security/cacerts</code> which depends on if you have the JDK or JRE installed.</p>\n<p>If using Java 9 or later, you don't need to know the exact location. You can use the <code>-cacerts</code> option as a shortcut.</p>\n<h2>Java 9+</h2>\n<p>So with Java 9 (aka Java 1.9) or later, simply use</p>\n<pre><code>keytool -importcert -trustcacerts -cacerts -file myCert.pem -alias myCert\n</code></pre>\n<h2>Earlier Java versions</h2>\n<p>With Java 8 (aka 1.8) or older, you must specify the keystore location like so</p>\n<pre><code>keytool -importcert -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\n</code></pre>\n<p>With Java 5 (aka 1.5) or older, the <code>-importcert</code> option did not exist. It was called <code>-import</code>, but otherwise it's identical. So use</p>\n<pre><code>keytool -import -trustcacerts -keystore $JAVA_HOME/lib/security/cacerts -file myCert.pem -alias myCert\n</code></pre>\n<h2>Additional options</h2>\n<ul>\n<li>You will be asked for the truststore password, The default password is <em>changeit</em>.</li>\n<li>If you need to run the import unattended, you can add <code>-storepass changeit -noprompt</code></li>\n</ul>\n<h2>Formats</h2>\n<p><code>keytool</code> can import X.509 v1, v2, and v3 certificates, and PKCS#7 formatted certificate chains consisting of certificates of that type (P7B). The data to be imported must be provided</p>\n<ul>\n<li>either in binary encoding format (DER)</li>\n<li>or in printable encoding format (aka base64 encoded), enclosed in <code>-----BEGIN</code> and <code>-----END</code> lines (PEM)</li>\n</ul>\n<p><em>Note: I'm not sure if certificate chains in PEM format really work.</em></p>\n<h2>Bonus script</h2>\n<p>I'm afraid, it's bash, so no solution for Windows users.</p>\n<p>This simple script, created thanks to several useful questions and smart answers here on stackoverflow, checks the Java version and - if necessary - determines the correct keystore location, and it can import multiple certificates in one command. Note that you must pass the file pattern argument in single quotes (see usage).</p>\n<p>addcerts.sh</p>\n<pre><code>#!/bin/bash\n\n# Add custom root certificates to Java trust store\n\nif [ &quot;$#&quot; -ne 1 ]; then\n    SCRIPT=`basename &quot;$0&quot;`\n    echo &quot;Usage: $SCRIPT 'path/to/certs/*'&quot;\n    exit 1\nfi\n\nCERTFILES=$1    \n\nJAVA_VERSION=`java -version 2&gt;&amp;1 | head -1 | cut -d'&quot;' -f2 | sed '/^1\\./s///' | cut -d'.' -f1`\n\nif (( $JAVA_VERSION &gt;= 9 )); then\n    CACERTS=&quot;-cacerts&quot;\nelse    \n    # Check where cacerts are located\n    # differs depending or jdk or jre installed\n    if [ -d &quot;$JAVA_HOME/jre&quot; ]; then\n        CACERTS=&quot;$JAVA_HOME/jre&quot;\n    else\n        CACERTS=&quot;$JAVA_HOME&quot;\n    fi\n    CACERTS=&quot;-keystore $CACERTS/lib/security/cacerts&quot;   \nfi      \n\n# Now add certificates \nfor CERTFILE in $CERTFILES; do\n    # Remove path, then suffix to derive alias from filename\n    ALIAS=${CERTFILE##*/}  \n    ALIAS=${ALIAS%.*}\n    $JAVA_HOME/bin/keytool -importcert -file &quot;$CERTFILE&quot; -alias &quot;$ALIAS&quot; $CACERTS -trustcacerts -storepass changeit -noprompt\n    if [ $? -ne 0 ]; then\n        echo &quot;Failed to add $CERTFILE as $ALIAS to $CACERTS&quot;\n        exit 1\n    fi  \ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637002666,"creation_date":1637002666,"answer_id":69979508,"question_id":11617210,"body_markdown":"In Windows these commands work on the command line:\r\n\r\n    cd C:\\Program Files\\Java\\jre1.8.0_301\\lib\\security\\\r\n    keytool -import -trustcacerts -alias cert_ssl -file C:\\opt\\esb-config\\keystores\\cert.cer -noprompt -storepass changeit -keystore cacerts\r\n\r\n`changeit` is the default password for the trust store.","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>In Windows these commands work on the command line:</p>\n<pre><code>cd C:\\Program Files\\Java\\jre1.8.0_301\\lib\\security\\\nkeytool -import -trustcacerts -alias cert_ssl -file C:\\opt\\esb-config\\keystores\\cert.cer -noprompt -storepass changeit -keystore cacerts\n</code></pre>\n<p><code>changeit</code> is the default password for the trust store.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689361707,"creation_date":1689361707,"answer_id":76690532,"question_id":11617210,"body_markdown":"I used below command to import keystore into existing keystore\r\n\r\nkeytool -importkeystore -srckeystore &lt;source&gt;-destkeystore &lt;destination&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I used below command to import keystore into existing keystore</p>\n<p>keytool -importkeystore -srckeystore -destkeystore </p>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987264,"creation_date":1690987264,"answer_id":76821020,"question_id":11617210,"body_markdown":"Keytool to import certs : \r\n    \r\nkeytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias nexcert -file &lt;certFileLocation&gt;","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>Keytool to import certs :</p>\n<p>keytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias nexcert -file </p>\n"}],"owner":{"account_id":35261,"reputation":163470,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552281,"favorite_count":0,"down_vote_count":0,"up_vote_count":192,"answer_count":13,"score":192,"last_activity_date":1690987264,"creation_date":1343063459,"question_id":11617210,"body_markdown":"I do want to import a self signed certificate into Java so any Java application that will try to establish a SSL connection will trust this certificate.\r\n\r\nSo far, I managed to import it in\r\n    \r\n    keytool -import -trustcacerts -noprompt -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n    keytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias $REMHOST -file $REMHOST.pem\r\n\r\nStill, when I try to run [`HTTPSClient.class`](http://adywicaksono.wordpress.com/2007/07/15/ssl-connection-with-java/) I still get:\r\n\r\n&lt;pre&gt;javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&lt;/pre&gt;\r\n","title":"How to properly import a selfsigned certificate into Java keystore that is available to all Java applications by default?","body":"<p>I do want to import a self signed certificate into Java so any Java application that will try to establish a SSL connection will trust this certificate.</p>\n\n<p>So far, I managed to import it in</p>\n\n<pre><code>keytool -import -trustcacerts -noprompt -storepass changeit -alias $REMHOST -file $REMHOST.pem\nkeytool -import -trustcacerts -noprompt -keystore cacerts -storepass changeit -alias $REMHOST -file $REMHOST.pem\n</code></pre>\n\n<p>Still, when I try to run <a href=\"http://adywicaksono.wordpress.com/2007/07/15/ssl-connection-with-java/\"><code>HTTPSClient.class</code></a> I still get:</p>\n\n<pre>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</pre>\n"},{"tags":["java","android","android-room"],"answers":[{"comments":[{"owner":{"account_id":13238927,"reputation":831,"user_id":9560126,"display_name":"TheCoderGuy"},"score":0,"creation_date":1558213373,"post_id":52739995,"comment_id":99028187,"body_markdown":"I am using the room db, where should I add this at the pojo class or at repository or at Dao ?","body":"I am using the room db, where should I add this at the pojo class or at repository or at Dao ?"},{"owner":{"account_id":11986058,"reputation":794,"user_id":8770539,"display_name":"Santhosh Joseph"},"score":0,"creation_date":1558332455,"post_id":52739995,"comment_id":99050969,"body_markdown":"@Spritzig, You may add this in [DAO](https://developer.android.com/training/data-storage/room/accessing-data#convenience-insert) class.","body":"@Spritzig, You may add this in <a href=\"https://developer.android.com/training/data-storage/room/accessing-data#convenience-insert\" rel=\"nofollow noreferrer\">DAO</a> class."},{"owner":{"account_id":13238927,"reputation":831,"user_id":9560126,"display_name":"TheCoderGuy"},"score":0,"creation_date":1558346391,"post_id":52739995,"comment_id":99057566,"body_markdown":"I have added this but it is possible to check if a string exists or not in `room database` ?","body":"I have added this but it is possible to check if a string exists or not in <code>room database</code> ?"},{"owner":{"account_id":11986058,"reputation":794,"user_id":8770539,"display_name":"Santhosh Joseph"},"score":0,"creation_date":1558417936,"post_id":52739995,"comment_id":99082987,"body_markdown":"@Spritzig Post your quires as a new question so that you can explain and we can understand it in detail :)","body":"@Spritzig Post your quires as a new question so that you can explain and we can understand it in detail :)"}],"tags":[],"owner":{"account_id":11986058,"reputation":794,"user_id":8770539,"display_name":"Santhosh Joseph"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539173550,"creation_date":1539173550,"answer_id":52739995,"question_id":52739840,"body_markdown":"Update your query with this annotation :\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>Update your query with this annotation :</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14224377,"reputation":53,"user_id":10275540,"display_name":"Mila Gurova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539173952,"creation_date":1539173952,"answer_id":52740114,"question_id":52739840,"body_markdown":"You have a constraint violation, you&#39;re trying to add entity with the same id. Depends on your logic do you want to update with the new entity or if it is not empty leave it that way.","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>You have a constraint violation, you're trying to add entity with the same id. Depends on your logic do you want to update with the new entity or if it is not empty leave it that way.</p>\n"},{"tags":[],"owner":{"account_id":13774187,"reputation":418,"user_id":9940904,"display_name":"mehdi musavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539174268,"creation_date":1539174268,"answer_id":52740222,"question_id":52739840,"body_markdown":"you have two way:\r\n1- When you want to  data into database You don&#39;t need to enter an ID ,you can also enter duplicate data with this method\r\n\r\n2-\r\n   \r\n\r\n     @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n     void addNews(offlineDatum);\r\n\r\nI hope use it\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>you have two way:\n1- When you want to  data into database You don't need to enter an ID ,you can also enter duplicate data with this method</p>\n\n<p>2-</p>\n\n<pre><code> @Insert(onConflict = OnConflictStrategy.REPLACE)\n void addNews(offlineDatum);\n</code></pre>\n\n<p>I hope use it</p>\n"},{"tags":[],"owner":{"account_id":12291783,"reputation":212,"user_id":8968815,"display_name":"Mehul Boghra"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594806262,"creation_date":1594806262,"answer_id":62912048,"question_id":52739840,"body_markdown":"Here is working solution for check data exist or not in your table.\r\n\r\n - Room Database never returns a **boolean** for whether it exists or not on your database table\r\n \r\nFor check data exists or not you can get **int** value. \r\n\r\n    0 = data is not exist in your table\r\n\r\nfor do this you have to try below code\r\n\r\n    @Query(&quot;SELECT * FROM TableName WHERE userName = :userName&quot;)\r\n    int isDataExist(String userName);\r\n\r\ncall this query using below code.\r\n\r\n    if (AppDatabase.getInstance(this).employeeDao().isDataExist(tvUserName.getText().toString()) == 0) {\r\n     // data not exist.\r\n     } else {\r\n     // data already exist.\r\n     }\r\n\r\n\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>Here is working solution for check data exist or not in your table.</p>\n<ul>\n<li>Room Database never returns a <strong>boolean</strong> for whether it exists or not on your database table</li>\n</ul>\n<p>For check data exists or not you can get <strong>int</strong> value.</p>\n<pre><code>0 = data is not exist in your table\n</code></pre>\n<p>for do this you have to try below code</p>\n<pre><code>@Query(&quot;SELECT * FROM TableName WHERE userName = :userName&quot;)\nint isDataExist(String userName);\n</code></pre>\n<p>call this query using below code.</p>\n<pre><code>if (AppDatabase.getInstance(this).employeeDao().isDataExist(tvUserName.getText().toString()) == 0) {\n // data not exist.\n } else {\n // data already exist.\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10170593,"reputation":441,"user_id":7511020,"display_name":"Zeeshan Akhtar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612263510,"creation_date":1612263510,"answer_id":66008334,"question_id":52739840,"body_markdown":"use this query if you want to simply check whether the record exists or not.\r\n```\r\n    @Query(&quot;SELECT EXISTS(SELECT * FROM TableName WHERE userId = :userId)&quot;)\r\n    boolean isRecordExistsUserId(String userId);\r\n ```\r\n\r\nthis will simply return true or false. and based on boolean you can execute your rest of the flow.","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>use this query if you want to simply check whether the record exists or not.</p>\n<pre><code>    @Query(&quot;SELECT EXISTS(SELECT * FROM TableName WHERE userId = :userId)&quot;)\n    boolean isRecordExistsUserId(String userId);\n</code></pre>\n<p>this will simply return true or false. and based on boolean you can execute your rest of the flow.</p>\n"},{"tags":[],"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690987231,"creation_date":1690987231,"answer_id":76821015,"question_id":52739840,"body_markdown":"      @Query(&quot;SELECT EXISTS(SELECT 1 FROM table_name)&quot;)\r\n      fun hasTable(): Boolean\r\n\r\nIn your Dao add above code. Then use following code in your logic\r\n\r\n              if(mDao.hasTable()) {\r\n                    //Already have data\r\n                } else {\r\n                    // Add data\r\n                }\r\n\r\n \r\n\r\n","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<pre><code>  @Query(&quot;SELECT EXISTS(SELECT 1 FROM table_name)&quot;)\n  fun hasTable(): Boolean\n</code></pre>\n<p>In your Dao add above code. Then use following code in your logic</p>\n<pre><code>          if(mDao.hasTable()) {\n                //Already have data\n            } else {\n                // Add data\n            }\n</code></pre>\n"}],"owner":{"account_id":14182895,"reputation":247,"user_id":10245856,"display_name":"Jungle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8651,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52739995,"answer_count":6,"score":4,"last_activity_date":1690987231,"creation_date":1539173015,"question_id":52739840,"body_markdown":"In my application I want to use **Room Database** to show offline data. &lt;br&gt;\r\nI wrote below code, but when clicked on button to add in data, if this data exist in the **Room database** it shows **ForceClose** error!&lt;br&gt;\r\nHow can I check for this data in the database, before adding to the database?\r\n\r\n**My NewsOfflineDatum class :**\r\n\r\n    @Entity(tableName = &quot;newsList&quot;)\r\n    public class NewsOfflineDatum {\r\n        @PrimaryKey\r\n        private int id;\r\n    \r\n        @ColumnInfo(name = &quot;newsTitle&quot;)\r\n        private String title;\r\n    \r\n        @ColumnInfo(name = &quot;newsImage&quot;)\r\n        private String image;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n    }\r\n\r\n**My adapter class :**\r\n\r\n    public class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.MyViewHolder&gt; {\r\n    \r\n        private List&lt;Today&gt; model;\r\n        private Context context;\r\n    \r\n        public NewsAdapter(List&lt;Today&gt; model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_news, parent, false);\r\n            context = parent.getContext();\r\n    \r\n            return new MyViewHolder(itemView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n            final Today todayModel = model.get(position);\r\n    \r\n            Glide.with(context)\r\n                    .load(AppConstant.IMAGE_URL + todayModel.getImage())\r\n                    .diskCacheStrategy(DiskCacheStrategy.SOURCE)\r\n                    .into(holder.rowNews_img);\r\n            holder.rowNews_txt.setText(todayModel.getTitle());\r\n            holder.rowNews_dl.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    NewsOfflineDatum offlineDatum = new NewsOfflineDatum();\r\n                    offlineDatum.setId(todayModel.getId());\r\n                    offlineDatum.setTitle(todayModel.getTitle());\r\n                    offlineDatum.setImage(todayModel.getImage());\r\n    \r\n                    MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);\r\n    \r\n                    Toast.makeText(context, &quot;Saved :)&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return model.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            @BindView(R.id.rowNews_img)\r\n            ImageView rowNews_img;\r\n            @BindView(R.id.rowNews_txt)\r\n            TextView rowNews_txt;\r\n            @BindView(R.id.rowNews_dl)\r\n            ImageView rowNews_dl;\r\n    \r\n            public MyViewHolder(View view) {\r\n                super(view);\r\n                ButterKnife.bind(this, view);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**LogCat error :** \r\n\r\n    Process: com.example.mac8.mvplearnclicksite, PID: 7697\r\n    android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: newsList.id (code 1555)\r\n    #################################################################\r\n    Error Code : 1555 (SQLITE_CONSTRAINT_PRIMARYKEY)\r\n    Caused By : Abort due to constraint violation.\r\n    \t(UNIQUE constraint failed: newsList.id (code 1555))\r\n    #################################################################\r\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:865)\r\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n        at android.arch.persistence.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:50)\r\n        at android.arch.persistence.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\r\n        at com.example.mac8.mvplearnclicksite.Data.DataBase.MyDao_Impl.addNews(MyDao_Impl.java:49)\r\n        at com.example.mac8.mvplearnclicksite.Home.NewsAdapter$1.onClick(NewsAdapter.java:59)\r\n        at android.view.View.performClick(View.java:6261)\r\n        at android.view.View$PerformClick.run(View.java:23752)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1518)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\r\n\r\n\r\nShows me error for this **line** : `MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);`\r\n\r\n\r\n\r\nHow can I fix this?","title":"How can I check whether data exist in Room database before inserting into database on Android?","body":"<p>In my application I want to use <strong>Room Database</strong> to show offline data. <br>\nI wrote below code, but when clicked on button to add in data, if this data exist in the <strong>Room database</strong> it shows <strong>ForceClose</strong> error!<br>\nHow can I check for this data in the database, before adding to the database?</p>\n\n<p><strong>My NewsOfflineDatum class :</strong></p>\n\n<pre><code>@Entity(tableName = \"newsList\")\npublic class NewsOfflineDatum {\n    @PrimaryKey\n    private int id;\n\n    @ColumnInfo(name = \"newsTitle\")\n    private String title;\n\n    @ColumnInfo(name = \"newsImage\")\n    private String image;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n</code></pre>\n\n<p><strong>My adapter class :</strong></p>\n\n<pre><code>public class NewsAdapter extends RecyclerView.Adapter&lt;NewsAdapter.MyViewHolder&gt; {\n\n    private List&lt;Today&gt; model;\n    private Context context;\n\n    public NewsAdapter(List&lt;Today&gt; model) {\n        this.model = model;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.row_news, parent, false);\n        context = parent.getContext();\n\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        final Today todayModel = model.get(position);\n\n        Glide.with(context)\n                .load(AppConstant.IMAGE_URL + todayModel.getImage())\n                .diskCacheStrategy(DiskCacheStrategy.SOURCE)\n                .into(holder.rowNews_img);\n        holder.rowNews_txt.setText(todayModel.getTitle());\n        holder.rowNews_dl.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                NewsOfflineDatum offlineDatum = new NewsOfflineDatum();\n                offlineDatum.setId(todayModel.getId());\n                offlineDatum.setTitle(todayModel.getTitle());\n                offlineDatum.setImage(todayModel.getImage());\n\n                MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);\n\n                Toast.makeText(context, \"Saved :)\", Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return model.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.rowNews_img)\n        ImageView rowNews_img;\n        @BindView(R.id.rowNews_txt)\n        TextView rowNews_txt;\n        @BindView(R.id.rowNews_dl)\n        ImageView rowNews_dl;\n\n        public MyViewHolder(View view) {\n            super(view);\n            ButterKnife.bind(this, view);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>LogCat error :</strong> </p>\n\n<pre><code>Process: com.example.mac8.mvplearnclicksite, PID: 7697\nandroid.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: newsList.id (code 1555)\n#################################################################\nError Code : 1555 (SQLITE_CONSTRAINT_PRIMARYKEY)\nCaused By : Abort due to constraint violation.\n    (UNIQUE constraint failed: newsList.id (code 1555))\n#################################################################\n    at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n    at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:865)\n    at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n    at android.arch.persistence.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:50)\n    at android.arch.persistence.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\n    at com.example.mac8.mvplearnclicksite.Data.DataBase.MyDao_Impl.addNews(MyDao_Impl.java:49)\n    at com.example.mac8.mvplearnclicksite.Home.NewsAdapter$1.onClick(NewsAdapter.java:59)\n    at android.view.View.performClick(View.java:6261)\n    at android.view.View$PerformClick.run(View.java:23752)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6776)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1518)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\n</code></pre>\n\n<p>Shows me error for this <strong>line</strong> : <code>MainActivity.myAppDatabase.getMyDao().addNews(offlineDatum);</code></p>\n\n<p>How can I fix this?</p>\n"},{"tags":["java","spring","multipartform-data","attachment","http-status-code-400"],"owner":{"account_id":20494934,"reputation":11,"user_id":15040135,"display_name":"cabbott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690987080,"creation_date":1690938483,"question_id":76816049,"body_markdown":"I am having issues handing for submission with an attachment. For example, I get the error: HTTP Status 400 – Bad Request\r\n\r\nType Status Report\r\n\r\nDescription The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing). Whenever I have the attachment path in my form submission, however, once I take it off the form submits perfectly. I know the issue is that I am not handling the form correctly, I just can&#39;t wrap my head around it. \r\n\r\n```\r\n&lt;form:form method=&quot;POST&quot; action=&quot;create&quot; modelAttribute=&quot;ticket&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n&lt;form:label path=&quot;customerName&quot;&gt;Customer Name:&lt;/form:label&gt;\r\n&lt;form:input path=&quot;customerName&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;subject&quot;&gt;Subject:&lt;/form:label&gt;\r\n&lt;form:input path=&quot;subject&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;body&quot;&gt;Body:&lt;/form:label&gt;\r\n&lt;form:textarea path=&quot;body&quot;/&gt;&lt;br&gt;\r\n&lt;form:label path=&quot;attachment&quot;&gt;Attachment:&lt;/form:label&gt;\r\n&lt;form:input type=&quot;file&quot; path=&quot;attachment&quot;/&gt;&lt;br&gt;\r\n&lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;&lt;/form:form&gt;\r\n```\r\n\r\nhere is my TicketController: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/tickets&quot;)\r\npublic class TicketController {\r\n\r\n    private Map&lt;Integer, Ticket&gt; ticketMap = new HashMap&lt;&gt;();\r\n    private AtomicInteger ticketIdGenerator = new AtomicInteger(1);\r\n\r\n    @GetMapping(&quot;/list&quot;)\r\n    public ModelAndView listTickets() {\r\n        Map&lt;Integer, Ticket&gt; tickets = ticketMap;\r\n        Map&lt;Integer, Boolean&gt; hasAttachmentsMap = new LinkedHashMap&lt;&gt;();\r\n\r\n        for (Ticket ticket : tickets.values()) {\r\n            boolean hasAttachments = !ticket.getAllAttachments().isEmpty();\r\n            hasAttachmentsMap.put(ticket.getId(), hasAttachments);\r\n        }\r\n\r\n        ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\r\n        modelAndView.addObject(&quot;tickets&quot;, tickets.values());\r\n        modelAndView.addObject(&quot;hasAttachmentsMap&quot;, hasAttachmentsMap);\r\n        return modelAndView;\r\n    }\r\n    @GetMapping(&quot;/view/{id}&quot;)\r\n    public String viewTicket(@PathVariable int id, Model model) {\r\n        Ticket ticket = ticketMap.get(id);\r\n        if (ticket != null) {\r\n            model.addAttribute(&quot;ticket&quot;, ticket);\r\n            return &quot;ticketview&quot;;\r\n        } else {\r\n            throw new TicketNotFoundException();\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/form&quot;)\r\n    public String showTicketForm(Model model) {\r\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\r\n        return &quot;ticketform&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public String createTicket(@ModelAttribute(&quot;ticket&quot;) Ticket ticket) throws IOException {\r\n        if (ticket.getCustomerName() != null &amp;&amp; ticket.getSubject() != null &amp;&amp; ticket.getBody() != null) {\r\n            ticket.setId(ticketIdGenerator.getAndIncrement());\r\n\r\n            MultipartFile file = ticket.getAttachment();\r\n            if (file != null &amp;&amp; !file.isEmpty()) {\r\n                Attachment attachment = new Attachment(file.getOriginalFilename(), file.getBytes());\r\n                ticket.addAttachment(attachment);\r\n            }\r\n\r\n            ticketMap.put(ticket.getId(), ticket);\r\n            return &quot;redirect:list&quot;;\r\n        } else {\r\n            throw new InvalidTicketException();\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/download/{id}/{attachmentIndex}&quot;)\r\n    public String downloadAttachment(@PathVariable int id, @PathVariable int attachmentIndex, Model model) {\r\n        Ticket ticket = ticketMap.get(id);\r\n        if (ticket != null) {\r\n            Map&lt;Integer, Attachment&gt; attachments = ticket.getAllAttachments();\r\n            Attachment attachment = attachments.get(attachmentIndex);\r\n            if (attachment != null) {\r\n                model.addAttribute(&quot;attachment&quot;, attachment);\r\n                return &quot;attachment&quot;;\r\n            } else {\r\n                throw new AttachmentNotFoundException();\r\n            }\r\n        } else {\r\n            throw new TicketNotFoundException();\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public static class TicketNotFoundException extends RuntimeException {\r\n        public TicketNotFoundException() {\r\n            super(&quot;Ticket not found&quot;);\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public static class AttachmentNotFoundException extends RuntimeException {\r\n        public AttachmentNotFoundException() {\r\n            super(&quot;Attachment not found&quot;);\r\n        }\r\n    }\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public static class InvalidTicketException extends RuntimeException {\r\n        public InvalidTicketException() {\r\n            super(&quot;Invalid ticket information&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHere is my Ticket class to store information on the ticket: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Ticket {\r\n    private int id;\r\n    private String customerName;\r\n    private String subject;\r\n    private String body;\r\n    private MultipartFile attachment;\r\n    private Map&lt;Integer, Attachment&gt; attachments;\r\n    private byte[] attachmentContent;\r\n\r\n    // Add a no-argument constructor\r\n    public Ticket() {\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public byte[] getAttachmentContent() {\r\n        return attachmentContent;\r\n    }\r\n\r\n    public void setAttachmentContent(byte[] attachmentContent) {\r\n        this.attachmentContent = attachmentContent;\r\n    }\r\n\r\n    public Ticket(int id, String customerName, String subject, String body) {\r\n        this.id = id;\r\n        this.customerName = customerName;\r\n        this.subject = subject;\r\n        this.body = body;\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public Ticket(String customerName, String subject, String body) {\r\n        this.customerName = customerName;\r\n        this.subject = subject;\r\n        this.body = body;\r\n        this.attachments = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void addAttachment(Attachment attachment) {\r\n        attachments.put(attachments.size() + 1, attachment);\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getSubject() {\r\n        return subject;\r\n    }\r\n\r\n    public void setSubject(String subject) {\r\n        this.subject = subject;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n    public void addAttachment(int index, Attachment attachment) {\r\n        attachments.put(index, attachment);\r\n    }\r\n\r\n    public int getNumberOfAttachments() {\r\n        return attachments.size();\r\n    }\r\n\r\n    public Attachment getAttachment(int index) {\r\n        return attachments.get(index);\r\n    }\r\n\r\n    public Map&lt;Integer, Attachment&gt; getAllAttachments() {\r\n        return attachments;\r\n    }\r\n\r\n    // Add the getter and setter for the attachment field\r\n    public MultipartFile getAttachment() {\r\n        return attachment;\r\n    }\r\n\r\n    public void setAttachment(MultipartFile attachment) {\r\n        this.attachment = attachment;\r\n    }\r\n\r\n    // Add toString() method for debugging and logging purposes\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Ticket{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, customerName=&#39;&quot; + customerName + &#39;\\&#39;&#39; +\r\n                &quot;, subject=&#39;&quot; + subject + &#39;\\&#39;&#39; +\r\n                &quot;, body=&#39;&quot; + body + &#39;\\&#39;&#39; +\r\n                &quot;, attachments=&quot; + attachments +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my Attachment class to handle attachments: \r\n\r\n```\r\npackage com.example.calebabbottcustomersupport;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Attachment {\r\n    private String name;\r\n    private byte[] contents;\r\n\r\n    public Attachment(String name, byte[] contents) {\r\n        this.name = name;\r\n        this.contents = contents;\r\n    }\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public byte[] getContents() {\r\n        return contents;\r\n    }\r\n\r\n    public void setContents(byte[] contents) {\r\n        this.contents = contents;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Attachment{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, contents=&quot; + Arrays.toString(contents) +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nWhat am I missing? Let me know if you need anything else.","title":"Issues handling form submission with attachment using Spring","body":"<p>I am having issues handing for submission with an attachment. For example, I get the error: HTTP Status 400 – Bad Request</p>\n<p>Type Status Report</p>\n<p>Description The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing). Whenever I have the attachment path in my form submission, however, once I take it off the form submits perfectly. I know the issue is that I am not handling the form correctly, I just can't wrap my head around it.</p>\n<pre><code>&lt;form:form method=&quot;POST&quot; action=&quot;create&quot; modelAttribute=&quot;ticket&quot; enctype=&quot;multipart/form-data&quot;&gt;\n&lt;form:label path=&quot;customerName&quot;&gt;Customer Name:&lt;/form:label&gt;\n&lt;form:input path=&quot;customerName&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;subject&quot;&gt;Subject:&lt;/form:label&gt;\n&lt;form:input path=&quot;subject&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;body&quot;&gt;Body:&lt;/form:label&gt;\n&lt;form:textarea path=&quot;body&quot;/&gt;&lt;br&gt;\n&lt;form:label path=&quot;attachment&quot;&gt;Attachment:&lt;/form:label&gt;\n&lt;form:input type=&quot;file&quot; path=&quot;attachment&quot;/&gt;&lt;br&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;&lt;/form:form&gt;\n</code></pre>\n<p>here is my TicketController:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@Controller\n@RequestMapping(&quot;/tickets&quot;)\npublic class TicketController {\n\n    private Map&lt;Integer, Ticket&gt; ticketMap = new HashMap&lt;&gt;();\n    private AtomicInteger ticketIdGenerator = new AtomicInteger(1);\n\n    @GetMapping(&quot;/list&quot;)\n    public ModelAndView listTickets() {\n        Map&lt;Integer, Ticket&gt; tickets = ticketMap;\n        Map&lt;Integer, Boolean&gt; hasAttachmentsMap = new LinkedHashMap&lt;&gt;();\n\n        for (Ticket ticket : tickets.values()) {\n            boolean hasAttachments = !ticket.getAllAttachments().isEmpty();\n            hasAttachmentsMap.put(ticket.getId(), hasAttachments);\n        }\n\n        ModelAndView modelAndView = new ModelAndView(&quot;home&quot;);\n        modelAndView.addObject(&quot;tickets&quot;, tickets.values());\n        modelAndView.addObject(&quot;hasAttachmentsMap&quot;, hasAttachmentsMap);\n        return modelAndView;\n    }\n    @GetMapping(&quot;/view/{id}&quot;)\n    public String viewTicket(@PathVariable int id, Model model) {\n        Ticket ticket = ticketMap.get(id);\n        if (ticket != null) {\n            model.addAttribute(&quot;ticket&quot;, ticket);\n            return &quot;ticketview&quot;;\n        } else {\n            throw new TicketNotFoundException();\n        }\n    }\n\n    @GetMapping(&quot;/form&quot;)\n    public String showTicketForm(Model model) {\n        model.addAttribute(&quot;ticket&quot;, new Ticket());\n        return &quot;ticketform&quot;;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public String createTicket(@ModelAttribute(&quot;ticket&quot;) Ticket ticket) throws IOException {\n        if (ticket.getCustomerName() != null &amp;&amp; ticket.getSubject() != null &amp;&amp; ticket.getBody() != null) {\n            ticket.setId(ticketIdGenerator.getAndIncrement());\n\n            MultipartFile file = ticket.getAttachment();\n            if (file != null &amp;&amp; !file.isEmpty()) {\n                Attachment attachment = new Attachment(file.getOriginalFilename(), file.getBytes());\n                ticket.addAttachment(attachment);\n            }\n\n            ticketMap.put(ticket.getId(), ticket);\n            return &quot;redirect:list&quot;;\n        } else {\n            throw new InvalidTicketException();\n        }\n    }\n\n    @GetMapping(&quot;/download/{id}/{attachmentIndex}&quot;)\n    public String downloadAttachment(@PathVariable int id, @PathVariable int attachmentIndex, Model model) {\n        Ticket ticket = ticketMap.get(id);\n        if (ticket != null) {\n            Map&lt;Integer, Attachment&gt; attachments = ticket.getAllAttachments();\n            Attachment attachment = attachments.get(attachmentIndex);\n            if (attachment != null) {\n                model.addAttribute(&quot;attachment&quot;, attachment);\n                return &quot;attachment&quot;;\n            } else {\n                throw new AttachmentNotFoundException();\n            }\n        } else {\n            throw new TicketNotFoundException();\n        }\n    }\n\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public static class TicketNotFoundException extends RuntimeException {\n        public TicketNotFoundException() {\n            super(&quot;Ticket not found&quot;);\n        }\n    }\n\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public static class AttachmentNotFoundException extends RuntimeException {\n        public AttachmentNotFoundException() {\n            super(&quot;Attachment not found&quot;);\n        }\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public static class InvalidTicketException extends RuntimeException {\n        public InvalidTicketException() {\n            super(&quot;Invalid ticket information&quot;);\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>Here is my Ticket class to store information on the ticket:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport org.springframework.web.multipart.MultipartFile;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Ticket {\n    private int id;\n    private String customerName;\n    private String subject;\n    private String body;\n    private MultipartFile attachment;\n    private Map&lt;Integer, Attachment&gt; attachments;\n    private byte[] attachmentContent;\n\n    // Add a no-argument constructor\n    public Ticket() {\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public byte[] getAttachmentContent() {\n        return attachmentContent;\n    }\n\n    public void setAttachmentContent(byte[] attachmentContent) {\n        this.attachmentContent = attachmentContent;\n    }\n\n    public Ticket(int id, String customerName, String subject, String body) {\n        this.id = id;\n        this.customerName = customerName;\n        this.subject = subject;\n        this.body = body;\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public Ticket(String customerName, String subject, String body) {\n        this.customerName = customerName;\n        this.subject = subject;\n        this.body = body;\n        this.attachments = new HashMap&lt;&gt;();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void addAttachment(Attachment attachment) {\n        attachments.put(attachments.size() + 1, attachment);\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getSubject() {\n        return subject;\n    }\n\n    public void setSubject(String subject) {\n        this.subject = subject;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public void addAttachment(int index, Attachment attachment) {\n        attachments.put(index, attachment);\n    }\n\n    public int getNumberOfAttachments() {\n        return attachments.size();\n    }\n\n    public Attachment getAttachment(int index) {\n        return attachments.get(index);\n    }\n\n    public Map&lt;Integer, Attachment&gt; getAllAttachments() {\n        return attachments;\n    }\n\n    // Add the getter and setter for the attachment field\n    public MultipartFile getAttachment() {\n        return attachment;\n    }\n\n    public void setAttachment(MultipartFile attachment) {\n        this.attachment = attachment;\n    }\n\n    // Add toString() method for debugging and logging purposes\n    @Override\n    public String toString() {\n        return &quot;Ticket{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, customerName='&quot; + customerName + '\\'' +\n                &quot;, subject='&quot; + subject + '\\'' +\n                &quot;, body='&quot; + body + '\\'' +\n                &quot;, attachments=&quot; + attachments +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Here is my Attachment class to handle attachments:</p>\n<pre><code>package com.example.calebabbottcustomersupport;\n\nimport java.util.Arrays;\n\npublic class Attachment {\n    private String name;\n    private byte[] contents;\n\n    public Attachment(String name, byte[] contents) {\n        this.name = name;\n        this.contents = contents;\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public byte[] getContents() {\n        return contents;\n    }\n\n    public void setContents(byte[] contents) {\n        this.contents = contents;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Attachment{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, contents=&quot; + Arrays.toString(contents) +\n                '}';\n    }\n}\n</code></pre>\n<p>What am I missing? Let me know if you need anything else.</p>\n"},{"tags":["java","android","xml","kotlin","lottie"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690962580,"post_id":76816736,"comment_id":135424281,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"score":0,"creation_date":1691076563,"post_id":76820963,"comment_id":135445611,"body_markdown":"I needs to Show both progress bar and Lottie animation,  the Lottie animation should overlay the progress bar","body":"I needs to Show both progress bar and Lottie animation,  the Lottie animation should overlay the progress bar"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1691131762,"post_id":76820963,"comment_id":135452913,"body_markdown":"Can you provide some code ?","body":"Can you provide some code ?"}],"tags":[],"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986901,"creation_date":1690986901,"answer_id":76820963,"question_id":76816736,"body_markdown":"Why not trying to set their visibility ?\r\nEvery `View` has a `.visibility`, you can hide the progress bar when it reaches 100% and show your Lottie animation right after, without going for overlays or other things.\r\n\r\n    val progressbar = findViewById&lt;...&gt;(R.id.progress_bar)\r\n    val lottieAnimation = findViewById&lt;...&gt;(R.id.lottie_animation)\r\n    ...\r\n\r\n    // When the progressbar reaches 100%\r\n    progressbar.visibility = View.GONE\r\n    lottieAnimation.visibility = View.VISIBLE\r\n    \r\n    // Start the animation\r\n\r\nRemember to set correctly the `ProgressBar` and the `Lottie` views `visibility` respectively to `visible` and `gone` in the xml file.\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot; &lt;--- This\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;Lottie\r\n        android:id=&quot;@+id/lottie_animation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;gone&quot; &lt;--- This\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\nIf this doesn&#39;t solve your problem please let me know and provide the code that&#39;s not working, happy coding!","title":"How to overlay a Lottie Animation in Constraint layout in Android?","body":"<p>Why not trying to set their visibility ?\nEvery <code>View</code> has a <code>.visibility</code>, you can hide the progress bar when it reaches 100% and show your Lottie animation right after, without going for overlays or other things.</p>\n<pre><code>val progressbar = findViewById&lt;...&gt;(R.id.progress_bar)\nval lottieAnimation = findViewById&lt;...&gt;(R.id.lottie_animation)\n...\n\n// When the progressbar reaches 100%\nprogressbar.visibility = View.GONE\nlottieAnimation.visibility = View.VISIBLE\n\n// Start the animation\n</code></pre>\n<p>Remember to set correctly the <code>ProgressBar</code> and the <code>Lottie</code> views <code>visibility</code> respectively to <code>visible</code> and <code>gone</code> in the xml file.</p>\n<pre><code>&lt;ProgressBar\n    android:id=&quot;@+id/progress_bar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;visible&quot; &lt;--- This\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n&lt;Lottie\n    android:id=&quot;@+id/lottie_animation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;gone&quot; &lt;--- This\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n</code></pre>\n<p>If this doesn't solve your problem please let me know and provide the code that's not working, happy coding!</p>\n"}],"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690986901,"creation_date":1690952209,"question_id":76816736,"body_markdown":"I have a constraint layout, it has a progress bar in center, once the progress bar reached 100,I need to use Lottie animation to show animation, that animation should overlay the existing Progress bar.\r\n\r\nI tried to add the Lottie animation inside a View, and have the view in same constraint layout as progress bar, but it doesn&#39;t work. Is there any way to do it so?","title":"How to overlay a Lottie Animation in Constraint layout in Android?","body":"<p>I have a constraint layout, it has a progress bar in center, once the progress bar reached 100,I need to use Lottie animation to show animation, that animation should overlay the existing Progress bar.</p>\n<p>I tried to add the Lottie animation inside a View, and have the view in same constraint layout as progress bar, but it doesn't work. Is there any way to do it so?</p>\n"},{"tags":["java","sql","amazon-athena","presto","trino"],"answers":[{"tags":[],"owner":{"account_id":21226704,"reputation":168,"user_id":15612265,"display_name":"strojan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966505,"creation_date":1690966505,"answer_id":76818176,"question_id":76809319,"body_markdown":"The problem is that you&#39;re trying to subtract time from a string, not a timestamp object. You could use `date_sub` function to get the date.\r\n\r\n```java\r\nprivate static final String SIMPLE_ATHENA_QUERY_TIME = &quot;\r\n    SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket\r\n        WHERE &#39;date&#39; &gt; &#39;2023-06-18&#39; \r\n        AND &#39;Timestamp&#39; &gt; date_sub(&#39;2023-06-18&#39;, 1, &#39;hour&#39;);&quot;; \r\n```\r\n\r\nSomething like this should solve your problem.","title":"athena query date and time stamp logic for 1 hour","body":"<p>The problem is that you're trying to subtract time from a string, not a timestamp object. You could use <code>date_sub</code> function to get the date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String SIMPLE_ATHENA_QUERY_TIME = &quot;\n    SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket\n        WHERE 'date' &gt; '2023-06-18' \n        AND 'Timestamp' &gt; date_sub('2023-06-18', 1, 'hour');&quot;; \n</code></pre>\n<p>Something like this should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2918545,"reputation":111845,"user_id":2501279,"display_name":"Guru Stron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986834,"creation_date":1690986834,"answer_id":76820947,"question_id":76809319,"body_markdown":"You should not compare dates/timestamps as strings, especially when some parts are encoded with variable length (i.e. month which is one or two digits). Parse the timestamp and then compare. Sample SQL will look like:\r\n\r\n```sql\r\n-- sample data\r\nwith dataset(date, timestamp) as (\r\n    values (&#39;6/18/2023&#39;, &#39;20:30:24&#39;)\r\n)\r\n\r\n-- sample query \r\nSELECT *\r\nFROM dataset\r\nwhere date_parse(date || &#39; &#39; || timestamp, &#39;%c/%e/%Y %T&#39;) &gt; timestamp &#39;2023-06-18&#39; - interval &#39;1&#39; hour;\r\n```\r\n\r\nRead more:\r\n\r\n- [MySQL Date Functions][1]\r\n\r\n\r\n  [1]: https://prestodb.io/docs/current/functions/datetime.html#mysql-date-functions","title":"athena query date and time stamp logic for 1 hour","body":"<p>You should not compare dates/timestamps as strings, especially when some parts are encoded with variable length (i.e. month which is one or two digits). Parse the timestamp and then compare. Sample SQL will look like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- sample data\nwith dataset(date, timestamp) as (\n    values ('6/18/2023', '20:30:24')\n)\n\n-- sample query \nSELECT *\nFROM dataset\nwhere date_parse(date || ' ' || timestamp, '%c/%e/%Y %T') &gt; timestamp '2023-06-18' - interval '1' hour;\n</code></pre>\n<p>Read more:</p>\n<ul>\n<li><a href=\"https://prestodb.io/docs/current/functions/datetime.html#mysql-date-functions\" rel=\"nofollow noreferrer\">MySQL Date Functions</a></li>\n</ul>\n"}],"owner":{"account_id":29134264,"reputation":21,"user_id":22318795,"display_name":"Srinivas B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690986841,"creation_date":1690874413,"question_id":76809319,"body_markdown":"i am trying to get the data from s3 bucket with CSV file based on the 1 hour time interval but date and time stamp is two different column so can you please let me know how to write the athena query \r\n\r\ndate and Timestamp  are string \r\n\r\ndate : 6/18/2023\r\n\r\nTimestamp : 20:30:24\r\n\r\n\tprivate static final String SIMPLE_ATHENA_QUERY_TIME = &quot;SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket where date &gt; &#39;6/18/2023&#39; and Timestamp &gt; &#39;6/18/2023&#39; - interval &#39;1&#39; hour;&quot;;\r\n\r\n\r\n\r\n\r\n&gt; java.lang.RuntimeException: Query Failed to run with Error Message:\r\n&gt; TYPE_MISMATCH: line 1:119: Cannot apply operator: varchar(9) -\r\n&gt; interval day to second \tat\r\n&gt; com.dmat.kpi.controller.DMATKpiController.waitForQueryToComplete(DMATKpiController.java:103)\r\n&gt; ~[classes/:na] \tat\r\n&gt; com.dmat.kpi.controller.DMATKpiController.AthenaQuery(DMATKpiController.java:65)\r\n&gt; ~[classes/:","title":"athena query date and time stamp logic for 1 hour","body":"<p>i am trying to get the data from s3 bucket with CSV file based on the 1 hour time interval but date and time stamp is two different column so can you please let me know how to write the athena query</p>\n<p>date and Timestamp  are string</p>\n<p>date : 6/18/2023</p>\n<p>Timestamp : 20:30:24</p>\n<pre><code>private static final String SIMPLE_ATHENA_QUERY_TIME = &quot;SELECT * FROM dmat_db.dmat_kpi_tbldmat_csv_file_processed_bucket where date &gt; '6/18/2023' and Timestamp &gt; '6/18/2023' - interval '1' hour;&quot;;\n</code></pre>\n<blockquote>\n<p>java.lang.RuntimeException: Query Failed to run with Error Message:\nTYPE_MISMATCH: line 1:119: Cannot apply operator: varchar(9) -\ninterval day to second    at\ncom.dmat.kpi.controller.DMATKpiController.waitForQueryToComplete(DMATKpiController.java:103)\n~[classes/:na]    at\ncom.dmat.kpi.controller.DMATKpiController.AthenaQuery(DMATKpiController.java:65)\n~[classes/:</p>\n</blockquote>\n"},{"tags":["java","arrays","json","http","mule-studio"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1585078356,"post_id":60837635,"comment_id":107638269,"body_markdown":"503 sounds like proxy report - and probably missconfigured","body":"503 sounds like proxy report - and probably missconfigured"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1585079899,"post_id":60837635,"comment_id":107638916,"body_markdown":"You need to provide more details of the issue. Is it in the same server? Are you using API Manager? Your application implements the listener or the requester? What does an HTTP wire logging shows?","body":"You need to provide more details of the issue. Is it in the same server? Are you using API Manager? Your application implements the listener or the requester? What does an HTTP wire logging shows?"},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585085364,"post_id":60837635,"comment_id":107641040,"body_markdown":"Same application with 2 days or earlier created workspace working and receiving call from listener but just yesterday and today when I checkout code from bitbucket and import into new or old workspace then not receiving calls to Http listener.","body":"Same application with 2 days or earlier created workspace working and receiving call from listener but just yesterday and today when I checkout code from bitbucket and import into new or old workspace then not receiving calls to Http listener."},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585085632,"post_id":60837635,"comment_id":107641138,"body_markdown":"for my colleague it is working when he checkout code from bitbucket and import into new old workspace.... he is receiving call through http listener...  listener configuration for both are same as both are using same bitbucket branch/version.  I am using Anypoint studio for testing. And no logging in console as at least call is not coming inside of the flow through listener when i test from postman and soap ui","body":"for my colleague it is working when he checkout code from bitbucket and import into new old workspace.... he is receiving call through http listener...  listener configuration for both are same as both are using same bitbucket branch/version.  I am using Anypoint studio for testing. And no logging in console as at least call is not coming inside of the flow through listener when i test from postman and soap ui"},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585086113,"post_id":60837635,"comment_id":107641328,"body_markdown":"If I create now just sample mule app just to see httplistener by placing httplistener and logger and deployed then i am receiving call from listener.","body":"If I create now just sample mule app just to see httplistener by placing httplistener and logger and deployed then i am receiving call from listener."},{"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"score":0,"creation_date":1585091527,"post_id":60837635,"comment_id":107642992,"body_markdown":"I have to resolve why existing mule project not able to receive calls from http listener.  Please help to guide on this.","body":"I have to resolve why existing mule project not able to receive calls from http listener.  Please help to guide on this."}],"answers":[{"tags":[],"owner":{"account_id":21057643,"reputation":61,"user_id":15476634,"display_name":"user15476634"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627425854,"creation_date":1616678832,"answer_id":66800483,"question_id":60837635,"body_markdown":"I faced the same problem.\r\nEverything was working, and suddenly (don&#39;t know why) I received the same 503 response.\r\n\r\nI tried a lot to figure out what was going on.\r\nAdded new listeners and tested existing flows, which all went well.\r\nOnly my particular listener with the APIKit was never getting reached anymore.\r\n\r\nI also disabled &#39;the gatekeeper&#39; as suggested in the following article :\r\n[API-returns-503-Service-Unavailable-error-to-clients][1]\r\n[Run -&gt; Run configurations -&gt; tab Arguments][2]\r\n\r\nI exported the project to a deployable archive file, with the checkbox &#39;only export project sources&#39; selected. Tested this application on different PC&#39;s which went well.\r\nCreated a new workspace on my PC, imported the file , and the application failed again.\r\n\r\nAfter a few other try &amp; errors, I enabled the &#39;clear application data&#39; -&gt; &#39;prompt&#39; selection box, and I disabled the &#39;APIKit settings&#39; -&gt; &#39;Show APIKit consol&#39;.\r\nI&#39;m not sure if that consol had something to do with it, but after restarting the application and select YES on **Clear application data** , it worked well again.\r\n[Run configurations][3]\r\n\r\nI re-enabled the &#39;show APIKit consol&#39; again, and it still worked fine.\r\n\r\nThis should solve your problem as well.\r\n\r\n  [1]: https://help.mulesoft.com/s/article/API-returns-503-Service-Unavailable-error-to-clients\r\n  [2]: https://i.stack.imgur.com/Y6mgl.png\r\n  [3]: https://i.stack.imgur.com/DnOmH.png","title":"503 Service Unavailable in Mule","body":"<p>I faced the same problem.\nEverything was working, and suddenly (don't know why) I received the same 503 response.</p>\n<p>I tried a lot to figure out what was going on.\nAdded new listeners and tested existing flows, which all went well.\nOnly my particular listener with the APIKit was never getting reached anymore.</p>\n<p>I also disabled 'the gatekeeper' as suggested in the following article :\n<a href=\"https://help.mulesoft.com/s/article/API-returns-503-Service-Unavailable-error-to-clients\" rel=\"nofollow noreferrer\">API-returns-503-Service-Unavailable-error-to-clients</a>\n<a href=\"https://i.stack.imgur.com/Y6mgl.png\" rel=\"nofollow noreferrer\">Run -&gt; Run configurations -&gt; tab Arguments</a></p>\n<p>I exported the project to a deployable archive file, with the checkbox 'only export project sources' selected. Tested this application on different PC's which went well.\nCreated a new workspace on my PC, imported the file , and the application failed again.</p>\n<p>After a few other try &amp; errors, I enabled the 'clear application data' -&gt; 'prompt' selection box, and I disabled the 'APIKit settings' -&gt; 'Show APIKit consol'.\nI'm not sure if that consol had something to do with it, but after restarting the application and select YES on <strong>Clear application data</strong> , it worked well again.\n<a href=\"https://i.stack.imgur.com/DnOmH.png\" rel=\"nofollow noreferrer\">Run configurations</a></p>\n<p>I re-enabled the 'show APIKit consol' again, and it still worked fine.</p>\n<p>This should solve your problem as well.</p>\n"},{"tags":[],"owner":{"account_id":12962662,"reputation":93,"user_id":9371403,"display_name":"DanilVanDovgal"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625040273,"creation_date":1625040273,"answer_id":68190758,"question_id":60837635,"body_markdown":"I had the same problem when I added an autodiscovery configuration for my application. Adding this to VM arguments folved my issue.\r\n\r\n    -Danypoint.platform.gatekeeper=disabled","title":"503 Service Unavailable in Mule","body":"<p>I had the same problem when I added an autodiscovery configuration for my application. Adding this to VM arguments folved my issue.</p>\n<pre><code>-Danypoint.platform.gatekeeper=disabled\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15823311,"reputation":73,"user_id":11417027,"display_name":"netiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627425757,"creation_date":1627411081,"answer_id":68550198,"question_id":60837635,"body_markdown":"This is basically the same answer as the [answer][1] provided by [user15476634][2], but with a visual description, and reasons why this error may occur.\r\n\r\nFor those who are wondering where to find Clear Application Data, please see below screenshot. \r\n[![enter image description here][3]][3]\r\n\r\nMost usual suspects in these type of issues is corrupted Application data due to following issues:  \r\n * Trying to open multiple test consoles at a time\r\n * Working on huge payload and not enough memory allocated\r\n * Accidentally selecting the multiple run configurations and/or debug configurations at once\r\n * when you try to re-run the same app while an instance is already\r\n   running by disregarding the prompt/warning window (Do you want to stop the running application and start ...?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66800483/11417027\r\n  [2]: https://stackoverflow.com/users/15476634/user15476634\r\n  [3]: https://i.stack.imgur.com/We9ps.png\r\n","title":"503 Service Unavailable in Mule","body":"<p>This is basically the same answer as the <a href=\"https://stackoverflow.com/a/66800483/11417027\">answer</a> provided by <a href=\"https://stackoverflow.com/users/15476634/user15476634\">user15476634</a>, but with a visual description, and reasons why this error may occur.</p>\n<p>For those who are wondering where to find Clear Application Data, please see below screenshot.\n<a href=\"https://i.stack.imgur.com/We9ps.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/We9ps.png\" alt=\"enter image description here\" /></a></p>\n<p>Most usual suspects in these type of issues is corrupted Application data due to following issues:</p>\n<ul>\n<li>Trying to open multiple test consoles at a time</li>\n<li>Working on huge payload and not enough memory allocated</li>\n<li>Accidentally selecting the multiple run configurations and/or debug configurations at once</li>\n<li>when you try to re-run the same app while an instance is already\nrunning by disregarding the prompt/warning window (Do you want to stop the running application and start ...?)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2340051,"reputation":2950,"user_id":2051552,"display_name":"user2051552"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662135936,"creation_date":1662135936,"answer_id":73585538,"question_id":60837635,"body_markdown":"For me, I had the same experience, the 503s appeared out of nowhere.  Clearing application data did not work for me, setting \r\n\r\n    -Danypoint.platform.gatekeeper=disabled\r\n\r\n\r\n did not work for me.  I had to remove this xml tag from my global config \r\n\r\n    &lt;api-gateway:autodiscovery ... /&gt;","title":"503 Service Unavailable in Mule","body":"<p>For me, I had the same experience, the 503s appeared out of nowhere.  Clearing application data did not work for me, setting</p>\n<pre><code>-Danypoint.platform.gatekeeper=disabled\n</code></pre>\n<p>did not work for me.  I had to remove this xml tag from my global config</p>\n<pre><code>&lt;api-gateway:autodiscovery ... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2651641,"reputation":4549,"user_id":2293146,"display_name":"Bishoy Hanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672316588,"creation_date":1672316588,"answer_id":74951068,"question_id":60837635,"body_markdown":"It happened to me after turning on autodiscovery in order to deploy, so i had to remove these lines (autodiscovery) temporary then test then return these lines back in order to deploy ","title":"503 Service Unavailable in Mule","body":"<p>It happened to me after turning on autodiscovery in order to deploy, so i had to remove these lines (autodiscovery) temporary then test then return these lines back in order to deploy</p>\n"},{"tags":[],"owner":{"account_id":395016,"reputation":125,"user_id":5070182,"display_name":"Justin Nimmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986743,"creation_date":1690986743,"answer_id":76820936,"question_id":60837635,"body_markdown":"I was able to add the -Danypoint.platform.gatekeeper=disabled line just fine in Anypoint 7.11.1.  When I moved to 7.13.0, nothing worked including clearing application data.  The thing that fixed it for me was simply removing the other run configurations and creating a new one with gatekeeper=disabled line.  Then everything ran as it should.  Hindsight, removing the other configurations probably wasn&#39;t needed.  I was being overly cautious at that point.","title":"503 Service Unavailable in Mule","body":"<p>I was able to add the -Danypoint.platform.gatekeeper=disabled line just fine in Anypoint 7.11.1.  When I moved to 7.13.0, nothing worked including clearing application data.  The thing that fixed it for me was simply removing the other run configurations and creating a new one with gatekeeper=disabled line.  Then everything ran as it should.  Hindsight, removing the other configurations probably wasn't needed.  I was being overly cautious at that point.</p>\n"}],"owner":{"account_id":15320891,"reputation":21,"user_id":11053410,"display_name":"Ravi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1690986743,"creation_date":1585076599,"question_id":60837635,"body_markdown":"I am getting 503 Service Unavailable when call in Mule application...  Call is not reaching to HTTP Listener I think and beside of HTTP Listener there is Set Variable... to Set Variable also not reaching call...  Till day before yesterday it was working in all work spaces but suddenly it is not reaching to listener when I was trying after putting debug mode.  But for other developer is not having any issue and he is able to receive call to Listener and other components.  Current configurations everything is good. Can you please suggest what needs to check. ","title":"503 Service Unavailable in Mule","body":"<p>I am getting 503 Service Unavailable when call in Mule application...  Call is not reaching to HTTP Listener I think and beside of HTTP Listener there is Set Variable... to Set Variable also not reaching call...  Till day before yesterday it was working in all work spaces but suddenly it is not reaching to listener when I was trying after putting debug mode.  But for other developer is not having any issue and he is able to receive call to Listener and other components.  Current configurations everything is good. Can you please suggest what needs to check. </p>\n"},{"tags":["java","configuration","log4j","log4j2","lookup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690543359,"post_id":76787264,"comment_id":135372089,"body_markdown":"`$${env:log.filePath:-env:java.io.tmpdir} ` might work per their docs","body":"<code>$${env:log.filePath:-env:java.io.tmpdir} </code> might work per their docs"},{"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"score":0,"creation_date":1690549085,"post_id":76787264,"comment_id":135373171,"body_markdown":"no luck with this.","body":"no luck with this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690551326,"post_id":76787264,"comment_id":135373652,"body_markdown":"So what *exactly* was the `&lt;PatternLayout&gt;` node in your attempt?","body":"So what <i>exactly</i> was the <code>&lt;PatternLayout&gt;</code> node in your attempt?"},{"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"score":0,"creation_date":1690779119,"post_id":76787264,"comment_id":135395201,"body_markdown":"I am using log4j2.properties file not .xml file. Following are the configuration options for fileName and layout\n\nappender.file.fileName=${sys:log.filePath}\n\nappender.file.layout.type=PatternLayout\n\nappender.file.layout.pattern=%d{yyyy/MM/dd HH:mm:ss.SSS} [%5p] %t (%c) - %m%n","body":"I am using log4j2.properties file not .xml file. Following are the configuration options for fileName and layout  appender.file.fileName=${sys:log.filePath}  appender.file.layout.type=PatternLayout  appender.file.layout.pattern=%d{yyyy/MM/dd HH:mm:ss.SSS} [%5p] %t (%c) - %m%n"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690794540,"post_id":76787264,"comment_id":135397506,"body_markdown":"You&#39;re going to have to use the XML form most probably. In any case,  it&#39;s preferable to using a properties file","body":"You&#39;re going to have to use the XML form most probably. In any case,  it&#39;s preferable to using a properties file"}],"answers":[{"comments":[{"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"score":0,"creation_date":1690985254,"post_id":76815010,"comment_id":135429416,"body_markdown":"My syntax usage attempt was incorrect. Thanks, I tried option1 and it works.","body":"My syntax usage attempt was incorrect. Thanks, I tried option1 and it works."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690922106,"creation_date":1690922106,"answer_id":76815010,"question_id":76787264,"body_markdown":"The fallback value after `:-` is treated as a literal, but accepts nested lookups. So you have two choices:\r\n\r\n - use `${sys:logPath:-${sys:java.io.tmpdir}}`,\r\n - or define a configuration property named `logPath` (the default fallback for `${sys:logPath}` is `${logPath}`):\r\n   ```xml\r\n   &lt;Properties&gt;\r\n     &lt;Property name=&quot;logPath&quot; value=&quot;${sys:java.io.tmpdir}&quot;/&gt;\r\n   &lt;/Properties&gt;\r\n   &lt;Appenders&gt;\r\n     &lt;File fileName=&quot;${sys:logPath}/app.log&quot; .../&gt;\r\n   &lt;/Appenders&gt;\r\n   ```","title":"Nested lookup and substitute System properties in log4j2 properties file","body":"<p>The fallback value after <code>:-</code> is treated as a literal, but accepts nested lookups. So you have two choices:</p>\n<ul>\n<li>use <code>${sys:logPath:-${sys:java.io.tmpdir}}</code>,</li>\n<li>or define a configuration property named <code>logPath</code> (the default fallback for <code>${sys:logPath}</code> is <code>${logPath}</code>):\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Properties&gt;\n  &lt;Property name=&quot;logPath&quot; value=&quot;${sys:java.io.tmpdir}&quot;/&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n  &lt;File fileName=&quot;${sys:logPath}/app.log&quot; .../&gt;\n&lt;/Appenders&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76815010,"answer_count":1,"score":0,"last_activity_date":1690986460,"creation_date":1690542664,"question_id":76787264,"body_markdown":"In log4j2.properties file we have following definition to accept dynamic file path via System property log.filePath\r\n\r\n    appender.file.fileName=${sys:log.filePath}\r\n\r\nIn JAVA layer before creation of Logger instance we are replacing log.filePath System property with actual value\r\n\r\n    System.setProperty(&quot;log.filePath&quot; + logfilePath);\r\n\r\nWe would like to ensure if System property log.filePath is not available/replaced, then want to create the log file in java.io.tmpdir directory with name app.log. \r\n\r\nAs per Log4j2 System Properties Lookup doc &lt;https://logging.apache.org/log4j/2.x/manual/lookups.html&gt; following syntax exists `fileName=&quot;${sys:logPath:-/var/logs}/app.log&quot;` to create default log in /var/logs/app.log\r\n\r\nConsidering both Unix and Windows environment we would like to use java.io.tmpdir System property instead of /var/logs directory\r\n\r\nI have tried multiple combination of following syntaxes but not works\r\n\r\n    fileName=&quot;${sys:logPath:-sys:java.io.tmpdir}/app.log&quot;\r\n\r\nCan someone please suggest if using a System property for lookup default value is supported?","title":"Nested lookup and substitute System properties in log4j2 properties file","body":"<p>In log4j2.properties file we have following definition to accept dynamic file path via System property log.filePath</p>\n<pre><code>appender.file.fileName=${sys:log.filePath}\n</code></pre>\n<p>In JAVA layer before creation of Logger instance we are replacing log.filePath System property with actual value</p>\n<pre><code>System.setProperty(&quot;log.filePath&quot; + logfilePath);\n</code></pre>\n<p>We would like to ensure if System property log.filePath is not available/replaced, then want to create the log file in java.io.tmpdir directory with name app.log.</p>\n<p>As per Log4j2 System Properties Lookup doc <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/lookups.html</a> following syntax exists <code>fileName=&quot;${sys:logPath:-/var/logs}/app.log&quot;</code> to create default log in /var/logs/app.log</p>\n<p>Considering both Unix and Windows environment we would like to use java.io.tmpdir System property instead of /var/logs directory</p>\n<p>I have tried multiple combination of following syntaxes but not works</p>\n<pre><code>fileName=&quot;${sys:logPath:-sys:java.io.tmpdir}/app.log&quot;\n</code></pre>\n<p>Can someone please suggest if using a System property for lookup default value is supported?</p>\n"},{"tags":["java","entitymanager"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690984128,"post_id":76820288,"comment_id":135429095,"body_markdown":"Because that is what you ask for with `FROM Quota q, QuotaLine ql, Deal d`. Your query returns 3 objects per row. What you probably wanted was JOIN instead o including them in the FROM. Or add `SELECT q FROM Quota q...`.","body":"Because that is what you ask for with <code>FROM Quota q, QuotaLine ql, Deal d</code>. Your query returns 3 objects per row. What you probably wanted was JOIN instead o including them in the FROM. Or add <code>SELECT q FROM Quota q...</code>."},{"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"score":0,"creation_date":1690985041,"post_id":76820288,"comment_id":135429354,"body_markdown":"Yes that&#39;s true, I saw in another stack overflow post how a guy explained that JOIN should be used like that with entity manager. Now I know It&#39;s possible to write it like:\n\n&quot;&quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;","body":"Yes that&#39;s true, I saw in another stack overflow post how a guy explained that JOIN should be used like that with entity manager. Now I know It&#39;s possible to write it like:  &quot;&quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690986217,"creation_date":1690986217,"answer_id":76820863,"question_id":76820288,"body_markdown":"It was a query problem. As [M. Deinum][1] said, I was asking for 3 objects.\r\n\r\nString baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\r\n\r\nTo solve it -&gt; &quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"Using Entity Manager to return a List, but instead It returns a list inside a list. why?","body":"<p>It was a query problem. As <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> said, I was asking for 3 objects.</p>\n<p>String baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;</p>\n<p>To solve it -&gt; &quot;FROM Quota q INNER JOIN QuotaLine ql on (q.id = ql.quota.id)&quot;</p>\n"}],"owner":{"account_id":25487387,"reputation":11,"user_id":19282772,"display_name":"Pablo Olivera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690986217,"creation_date":1690982263,"question_id":76820288,"body_markdown":"This is my method:\r\n\r\n\r\n```java\r\n@Override\r\npublic List&lt;Quota&gt; getAllQuota(Pageable pageable, QuotaRequestFiltered qreq) {\r\n\tString baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\r\n\r\n\tString queryState = &quot;&quot;;\r\n\r\n\tif (qreq.getState() != 0) {\r\n\t\tqueryState = &quot; and q.state.id = &quot; + qreq.getState();\r\n\t}\r\n\r\n\tString queryClient = &quot;&quot;;\r\n\r\n\tif (qreq.getClient() != 0) {\r\n\t\tqueryClient = &quot; and ql.client.id = &quot; + qreq.getClient();\r\n\t}\r\n\r\n\tString queryDealNumber = &quot;&quot;;\r\n\r\n\tif (qreq.getDeal_number() != null) {\r\n\t\tqueryDealNumber = &quot; and d.dealNumber = &#39;&quot; + qreq.getDeal_number() + &quot;&#39;&quot;;\r\n\t}\r\n\r\n\tString queryDateRequest = &quot;&quot;;\r\n\r\n\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n\tif (qreq.getDate_request_from() != null &amp;&amp; qreq.getDate_request_to() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_request_from());\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_request_to());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest between to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)and to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_request_from() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_request_from());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest &gt;= to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_request_to() != null) {\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_request_to());\r\n\t\tqueryDateRequest = &quot; and q.dateRequest &lt;= to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t}\r\n\r\n\tString queryDateWithdraw = &quot;&quot;;\r\n\r\n\tif (qreq.getDate_withdraw_from() != null &amp;&amp; qreq.getDate_withdraw_to() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_withdraw_to());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw between to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)and to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_withdraw_from() != null) {\r\n\t\tString dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw &gt;= to_timestamp(&#39;&quot; + dateFrom + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t} else if (qreq.getDate_withdraw_to() != null) {\r\n\t\tString dateTo = dateFormat.format(qreq.getDate_withdraw_to());\r\n\t\tqueryDateWithdraw = &quot; and q.dateWithdraw &lt;= to_timestamp(&#39;&quot; + dateTo + &quot;&#39;,&#39;DD-MM-YYYYHH24MISS&#39;&quot; + &quot;)&quot;;\r\n\t}\r\n\r\n\tString finalQuery = baseQuery + queryState + queryClient + queryDealNumber + queryDateRequest + queryDateWithdraw;\r\n\r\n\tQuery query = em.createQuery(finalQuery); /// em -&gt; @PersistanceContext\r\n\t\t\t\t\t\t\t\t\t\t\t\t/// private EntityManager em;\r\n\tList&lt;Quota&gt; quotas = query.getResultList();\r\n\r\n\treturn quotas;\r\n\r\n}\r\n```\r\n\r\nQuota: \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;quotas&quot;)\r\npublic class Quota extends FullBaseEntity{\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;quota_seq&quot;, \r\n                       name = &quot;quota_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate State state;\r\n\t\t\t\t\t\r\n\t@NotNull\r\n\t@Column(name=&quot;date_request&quot;)\r\n\tprivate LocalDateTime dateRequest;\r\n\r\n\t@Column(name=&quot;date_withdraw&quot;)\r\n\tprivate LocalDateTime dateWithdraw;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;cargo_depot_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate CargoDepot cargoDepot;\r\n\t\r\n\t@Column(name=&quot;name_carrier&quot;, length=255)\r\n\tprivate String nameCarrier;\r\n\r\n\t@Column(name=&quot;phone_carrier&quot;, length=100)\r\n\tprivate String phoneCarrier;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;transport_id&quot;, referencedColumnName =&quot;id&quot;)\r\n\tprivate Transport transport;\r\n\t\r\n\t@NotNull\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;doc_type_carrier_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate DocType docTypeCarrier;\r\n\t\r\n\t@Column(name=&quot;document_carrier&quot;, length=100)\r\n\tprivate String documentCarrier;\r\n\r\n\t@Column(name=&quot;patent_chassis&quot;, length=100)\r\n\tprivate String patentChassis;\r\n\t\r\n\t@Column(name=&quot;coupled_patent&quot;, length=100)\r\n\tprivate String coupledPatent;\r\n\t\r\n\t@Column(name=&quot;comment&quot;, length=100)\r\n\tprivate String comment;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;rejectionReason&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate RejectReason rejectionReason;\r\n\t\r\n\t\r\n//\t@Cascade({ CascadeType.,CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n//\t@OneToMany(mappedBy = &quot;quota&quot;,cascade = { CascadeType.REMOVE, CascadeType.PERSIST })\r\n//\t@OneToMany(mappedBy = &quot;quota&quot;, cascade = CascadeType.ALL)\r\n//\tprivate List&lt;QuotaLine&gt; lines  = new ArrayList&lt;&gt;();\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;quota&quot;)\r\n//\t@JoinColumn(name = &quot;quota_id&quot;)\r\n\tprivate List&lt;QuotaLine&gt; lines = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nQuotaLine:\r\n```java\r\n@Entity\r\n@Table(name = &quot;quota_lines&quot;)\r\npublic class QuotaLine extends FullBaseEntity{\r\n\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_lines_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;quota_lines_seq&quot;, \r\n                       name = &quot;quota_lines_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;quota_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Quota quota;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Client client;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Product product;\r\n\t\r\n//\t@OneToOne\r\n//    @JoinColumn(name = &quot;weight_unit_id&quot;, referencedColumnName = &quot;id&quot;)\r\n//\tprivate WeightUnit weightUnit;\r\n\t\r\n\t@Column(name=&quot;ammount&quot;)\r\n\tprivate int ammount;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;province_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Province province;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate City city;\r\n\t\r\n\t@Column(name=&quot;postal_code&quot;)\r\n\tprivate String postalCode;\r\n\t\r\n\t@Column(name=&quot;address&quot;)\r\n\tprivate String address;\r\n\t\r\n\t@OneToOne\r\n    @JoinColumn(name = &quot;deal_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Deal deal;\r\n\t\r\n```\r\n\r\nDeal:\r\n```java\r\n@Entity\r\n@Table(name = &quot;deals&quot;)\r\n@SuppressWarnings({&quot;serial&quot;})\r\npublic class Deal extends FullBaseEntity {\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;deals_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;deals_seq&quot;, \r\n                       name = &quot;deals_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    private Long id;\r\n\t\r\n\t@Column(name = &quot;deal_number&quot;)\r\n\tprivate String dealNumber;\r\n\t\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @NotNull\r\n    private Client client;\r\n    \r\n    @Column(name = &quot;closed&quot;)\r\n    private Boolean closed;\r\n\r\n```\r\nAs the title says, &quot;quotas&quot; show an array inside an array when I test it on postman, why? \r\n\r\nresponse example from postman:\r\n\r\n\r\n```json\r\n[\r\n    [\r\n        {\r\n            &quot;createdAt&quot;: null,\r\n            &quot;updatedAt&quot;: null,\r\n            &quot;createdBy&quot;: null,\r\n            &quot;updatedBy&quot;: null,\r\n            &quot;id&quot;: 27,\r\n            &quot;state&quot;: {\r\n             ........\r\n        }\r\n   ]\r\n]\r\n```\r\n\r\n\r\nThis method getAllQuota is invoked by a controller which exposes an endpoint, so I think it&#39;s not relevant to show. \r\n\r\n\r\n\r\n\r\nI tried getting the first result, but It returns an Int so I discarded that option. \r\nI think It&#39;s a model problem, but I can&#39;t see where It is. ","title":"Using Entity Manager to return a List, but instead It returns a list inside a list. why?","body":"<p>This is my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;Quota&gt; getAllQuota(Pageable pageable, QuotaRequestFiltered qreq) {\n    String baseQuery = &quot;FROM Quota q, QuotaLine ql, Deal d &quot; + &quot;where ql.quota = q &quot; + &quot;and ql.deal = d &quot;;\n\n    String queryState = &quot;&quot;;\n\n    if (qreq.getState() != 0) {\n        queryState = &quot; and q.state.id = &quot; + qreq.getState();\n    }\n\n    String queryClient = &quot;&quot;;\n\n    if (qreq.getClient() != 0) {\n        queryClient = &quot; and ql.client.id = &quot; + qreq.getClient();\n    }\n\n    String queryDealNumber = &quot;&quot;;\n\n    if (qreq.getDeal_number() != null) {\n        queryDealNumber = &quot; and d.dealNumber = '&quot; + qreq.getDeal_number() + &quot;'&quot;;\n    }\n\n    String queryDateRequest = &quot;&quot;;\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n    if (qreq.getDate_request_from() != null &amp;&amp; qreq.getDate_request_to() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_request_from());\n        String dateTo = dateFormat.format(qreq.getDate_request_to());\n        queryDateRequest = &quot; and q.dateRequest between to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)and to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_request_from() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_request_from());\n        queryDateRequest = &quot; and q.dateRequest &gt;= to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_request_to() != null) {\n        String dateTo = dateFormat.format(qreq.getDate_request_to());\n        queryDateRequest = &quot; and q.dateRequest &lt;= to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    }\n\n    String queryDateWithdraw = &quot;&quot;;\n\n    if (qreq.getDate_withdraw_from() != null &amp;&amp; qreq.getDate_withdraw_to() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\n        String dateTo = dateFormat.format(qreq.getDate_withdraw_to());\n        queryDateWithdraw = &quot; and q.dateWithdraw between to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)and to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_withdraw_from() != null) {\n        String dateFrom = dateFormat.format(qreq.getDate_withdraw_from());\n        queryDateWithdraw = &quot; and q.dateWithdraw &gt;= to_timestamp('&quot; + dateFrom + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    } else if (qreq.getDate_withdraw_to() != null) {\n        String dateTo = dateFormat.format(qreq.getDate_withdraw_to());\n        queryDateWithdraw = &quot; and q.dateWithdraw &lt;= to_timestamp('&quot; + dateTo + &quot;','DD-MM-YYYYHH24MISS'&quot; + &quot;)&quot;;\n    }\n\n    String finalQuery = baseQuery + queryState + queryClient + queryDealNumber + queryDateRequest + queryDateWithdraw;\n\n    Query query = em.createQuery(finalQuery); /// em -&gt; @PersistanceContext\n                                                /// private EntityManager em;\n    List&lt;Quota&gt; quotas = query.getResultList();\n\n    return quotas;\n\n}\n</code></pre>\n<p>Quota:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;quotas&quot;)\npublic class Quota extends FullBaseEntity{\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;quota_seq&quot;, \n                       name = &quot;quota_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;state_id&quot;, referencedColumnName = &quot;id&quot;)\n    private State state;\n                    \n    @NotNull\n    @Column(name=&quot;date_request&quot;)\n    private LocalDateTime dateRequest;\n\n    @Column(name=&quot;date_withdraw&quot;)\n    private LocalDateTime dateWithdraw;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;cargo_depot_id&quot;, referencedColumnName = &quot;id&quot;)\n    private CargoDepot cargoDepot;\n    \n    @Column(name=&quot;name_carrier&quot;, length=255)\n    private String nameCarrier;\n\n    @Column(name=&quot;phone_carrier&quot;, length=100)\n    private String phoneCarrier;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;transport_id&quot;, referencedColumnName =&quot;id&quot;)\n    private Transport transport;\n    \n    @NotNull\n    @OneToOne\n    @JoinColumn(name = &quot;doc_type_carrier_id&quot;, referencedColumnName = &quot;id&quot;)\n    private DocType docTypeCarrier;\n    \n    @Column(name=&quot;document_carrier&quot;, length=100)\n    private String documentCarrier;\n\n    @Column(name=&quot;patent_chassis&quot;, length=100)\n    private String patentChassis;\n    \n    @Column(name=&quot;coupled_patent&quot;, length=100)\n    private String coupledPatent;\n    \n    @Column(name=&quot;comment&quot;, length=100)\n    private String comment;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;rejectionReason&quot;, referencedColumnName = &quot;id&quot;)\n    private RejectReason rejectionReason;\n    \n    \n//  @Cascade({ CascadeType.,CascadeType.ALL, CascadeType.DELETE_ORPHAN })\n//  @OneToMany(mappedBy = &quot;quota&quot;,cascade = { CascadeType.REMOVE, CascadeType.PERSIST })\n//  @OneToMany(mappedBy = &quot;quota&quot;, cascade = CascadeType.ALL)\n//  private List&lt;QuotaLine&gt; lines  = new ArrayList&lt;&gt;();\n    \n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;quota&quot;)\n//  @JoinColumn(name = &quot;quota_id&quot;)\n    private List&lt;QuotaLine&gt; lines = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>QuotaLine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;quota_lines&quot;)\npublic class QuotaLine extends FullBaseEntity{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;quota_lines_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;quota_lines_seq&quot;, \n                       name = &quot;quota_lines_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;quota_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Quota quota;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Client client;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Product product;\n    \n//  @OneToOne\n//    @JoinColumn(name = &quot;weight_unit_id&quot;, referencedColumnName = &quot;id&quot;)\n//  private WeightUnit weightUnit;\n    \n    @Column(name=&quot;ammount&quot;)\n    private int ammount;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;province_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Province province;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;)\n    private City city;\n    \n    @Column(name=&quot;postal_code&quot;)\n    private String postalCode;\n    \n    @Column(name=&quot;address&quot;)\n    private String address;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;deal_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Deal deal;\n    \n</code></pre>\n<p>Deal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;deals&quot;)\n@SuppressWarnings({&quot;serial&quot;})\npublic class Deal extends FullBaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;deals_seq&quot;)\n    @SequenceGenerator(sequenceName = &quot;deals_seq&quot;, \n                       name = &quot;deals_seq&quot;, allocationSize = 1, initialValue = 1)\n    private Long id;\n    \n    @Column(name = &quot;deal_number&quot;)\n    private String dealNumber;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;client_id&quot;, referencedColumnName = &quot;id&quot;)\n    @NotNull\n    private Client client;\n    \n    @Column(name = &quot;closed&quot;)\n    private Boolean closed;\n\n</code></pre>\n<p>As the title says, &quot;quotas&quot; show an array inside an array when I test it on postman, why?</p>\n<p>response example from postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    [\n        {\n            &quot;createdAt&quot;: null,\n            &quot;updatedAt&quot;: null,\n            &quot;createdBy&quot;: null,\n            &quot;updatedBy&quot;: null,\n            &quot;id&quot;: 27,\n            &quot;state&quot;: {\n             ........\n        }\n   ]\n]\n</code></pre>\n<p>This method getAllQuota is invoked by a controller which exposes an endpoint, so I think it's not relevant to show.</p>\n<p>I tried getting the first result, but It returns an Int so I discarded that option.\nI think It's a model problem, but I can't see where It is.</p>\n"},{"tags":["java","otel"],"owner":{"account_id":4693413,"reputation":335,"user_id":5519012,"accept_rate":75,"display_name":"Meir Tolpin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690986163,"creation_date":1690986163,"question_id":76820857,"body_markdown":"I have an Otel `InstrumentationModule` that requires `com.google.gson` library, from what I understand from [Otel Documentation][1] in order to inject `com.google.json` I need to override `getAdditionalHelperClassNames` function with - \r\n```\r\n  @Override\r\n  public List&lt;String&gt; getAdditionalHelperClassNames() {\r\n    return Arrays.asList(\r\n        &quot;com.google.gson.Gson&quot;,\r\n  }\r\n```\r\n\r\nMy issue is that `com.google.gson` is not a single class, there are a lot of classes inside this library, and I don&#39;t want to specify all the classes in the correct order to make that work.\r\n\r\nIs there an option the inject a full library instead of separate classes ? \r\n\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md","title":"Opentelemetry Java InstrumentationModule - How to use &quot;com.google.gson&quot; as Helper class?","body":"<p>I have an Otel <code>InstrumentationModule</code> that requires <code>com.google.gson</code> library, from what I understand from <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md\" rel=\"nofollow noreferrer\">Otel Documentation</a> in order to inject <code>com.google.json</code> I need to override <code>getAdditionalHelperClassNames</code> function with -</p>\n<pre><code>  @Override\n  public List&lt;String&gt; getAdditionalHelperClassNames() {\n    return Arrays.asList(\n        &quot;com.google.gson.Gson&quot;,\n  }\n</code></pre>\n<p>My issue is that <code>com.google.gson</code> is not a single class, there are a lot of classes inside this library, and I don't want to specify all the classes in the correct order to make that work.</p>\n<p>Is there an option the inject a full library instead of separate classes ?</p>\n"},{"tags":["java","python","csv","automation"],"comments":[{"owner":{"account_id":4874231,"reputation":13953,"user_id":3929826,"display_name":"Klaus D."},"score":0,"creation_date":1610782762,"post_id":65747178,"comment_id":116245294,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"comments":[{"owner":{"account_id":20412667,"reputation":356,"user_id":14975651,"display_name":"Naveen"},"score":0,"creation_date":1610780716,"post_id":65747224,"comment_id":116244936,"body_markdown":"Thanks Shag , But i want to automate the process , i tried with MPXJ library - Is there any other solution","body":"Thanks Shag , But i want to automate the process , i tried with MPXJ library - Is there any other solution"},{"owner":{"account_id":20306748,"reputation":430,"user_id":14894794,"display_name":"Shag"},"score":0,"creation_date":1610781402,"post_id":65747224,"comment_id":116245044,"body_markdown":"So it didn&#39;t workout with MPXJ library? because there is whole script for references [MPJX](http://www.mpxj.org/howto-convert.html)","body":"So it didn&#39;t workout with MPXJ library? because there is whole script for references <a href=\"http://www.mpxj.org/howto-convert.html\" rel=\"nofollow noreferrer\">MPJX</a>"}],"tags":[],"owner":{"account_id":20306748,"reputation":430,"user_id":14894794,"display_name":"Shag"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610780458,"creation_date":1610780458,"answer_id":65747224,"question_id":65747178,"body_markdown":"There are many online converters to convert mpp to csv. One of them are [MPP to CSV][1]\r\n\r\n\r\nAlso you can visit [Automate MPP to CSV][2] for references.\r\n\r\n\r\n  [1]: https://products.groupdocs.app/conversion/mpp-to-csv\r\n  [2]: https://stackoverflow.com/questions/9671475/any-way-to-automate-the-process-of-opening-a-mpp-file-and-saving-it-as-a-csv","title":"How Can i convert MPP file into CSV using Script","body":"<p>There are many online converters to convert mpp to csv. One of them are <a href=\"https://products.groupdocs.app/conversion/mpp-to-csv\" rel=\"nofollow noreferrer\">MPP to CSV</a></p>\n<p>Also you can visit <a href=\"https://stackoverflow.com/questions/9671475/any-way-to-automate-the-process-of-opening-a-mpp-file-and-saving-it-as-a-csv\">Automate MPP to CSV</a> for references.</p>\n"}],"owner":{"account_id":20412667,"reputation":356,"user_id":14975651,"display_name":"Naveen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":65747224,"answer_count":1,"score":-3,"last_activity_date":1690985848,"creation_date":1610779860,"question_id":65747178,"body_markdown":"I was trying to fetch data from MPP file , Since it is hard i was thinking about converting the MPP file into something more readable and have some library support, Is there any way to convert MPP file into CSV by script","title":"How Can i convert MPP file into CSV using Script","body":"<p>I was trying to fetch data from MPP file , Since it is hard i was thinking about converting the MPP file into something more readable and have some library support, Is there any way to convert MPP file into CSV by script</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":1,"creation_date":1690883303,"post_id":76807256,"comment_id":135411920,"body_markdown":"uesrname/password management should not be done with properties, but with server-entries in the settings.xml. So to correct you a bit, this is not just for repositories. However, the specific maven-plugin must be capable to use this. Here&#39;s an example with a database: https://www.mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey","body":"uesrname/password management should not be done with properties, but with server-entries in the settings.xml. So to correct you a bit, this is not just for repositories. However, the specific maven-plugin must be capable to use this. Here&#39;s an example with a database: <a href=\"https://www.mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey\" rel=\"nofollow noreferrer\">mojohaus.org/sql-maven-plugin/execute-mojo.html#settingsKey</a>"},{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":1,"creation_date":1690897821,"post_id":76807256,"comment_id":135415103,"body_markdown":"Unfortunately, the plugin I am using only supports plain maven properties. The plugin author says &quot;don&#39;t use a production database&quot;, which we don&#39;t, but I still don&#39;t want the password to our development database floating around.","body":"Unfortunately, the plugin I am using only supports plain maven properties. The plugin author says &quot;don&#39;t use a production database&quot;, which we don&#39;t, but I still don&#39;t want the password to our development database floating around."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691007194,"post_id":76807256,"comment_id":135433968,"body_markdown":"Update to 3.8.8+","body":"Update to 3.8.8+"},{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":0,"creation_date":1691158147,"post_id":76807256,"comment_id":135458113,"body_markdown":"@Michael-O As stated in the question, the issue is the same on 3.9.x","body":"@Michael-O As stated in the question, the issue is the same on 3.9.x"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691181387,"post_id":76807256,"comment_id":135462529,"body_markdown":"Then you should file a JIRA issue if this seems to be regression along with a reproducer.","body":"Then you should file a JIRA issue if this seems to be regression along with a reproducer."}],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690985841,"creation_date":1690839147,"question_id":76807256,"body_markdown":"I have a maven project sub-module that requires a database password for a code generation build phase. I do not wish to place this password in any file that is committed to version control. This is not a production instance password, but I wish to keep the password as secure as possible in any case.\r\n\r\nDevelopers working on this module must place the password in a profile in settings.xml. Additionally, it is preferred that this profile is not active by default and is only active when building this specific project. So the profile is activated by the presence of the &#39;my-sub-module/pom.xml&#39; file. \r\n\r\nsettings.xml:\r\n\r\n```\r\n&lt;settings&gt;\r\n  ...\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;db-password&lt;/id&gt;\r\n      &lt;properties&gt;\r\n        &lt;my.db.password&gt;secret-password&lt;/my.db.password&gt;\r\n      &lt;/properties&gt;\r\n      &lt;activation&gt;\r\n        &lt;file&gt;\r\n          &lt;exists&gt;my-sub-module/pom.xml&lt;/exists&gt;\r\n        &lt;/file&gt;\r\n      &lt;/activation&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nThis worked great, right through Maven version 3.8.4. But it does not work for any newer Maven 3.8.x versions or Maven 3.9.x. Note that it relies on the `my-sub-module` directory path in the `&lt;exists&gt;` element to make it somewhat specific to this project.\r\n\r\nFor older Maven, the following commands output the password as expected in both cases:\r\n\r\n```\r\nmvn help:evaluate -Dexpression=my.db.password -q -DforceStdout\r\nmvn help:evaluate -pl my-sub-module -Dexpression=my.db.password -q -DforceStdout\r\n```\r\n\r\nWith newer Maven the first command above, outputs the password as expected, but the second command does not. It says &quot;null object or  invalid expression&quot;. \r\n\r\nSo clearly something changed in Maven regarding the &quot;relative-ness&quot;, if you will, of the path specified in `&lt;exists&gt;`. So when running a full Maven build on the parent module with 3.8.5 or greater, the context for &lt;exists&gt; seems to be different when it builds the sub-module.\r\n\r\nI tried removing the `&lt;activation&gt;` block from settings.xml and adding profile activation directly in my-sub-module/pom.xml or the parent pom.xml, thus not requiring any &lt;exists&gt; criteria\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;db-password&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nBut Maven does not merge the property defined in the settings.xml profile into the environment at runtime. It seems like it should but the docs were not definitive on that point.\r\n\r\nI have come up with a workaround, but I think it will only work if I and all other developers edit settings.xml AND update Maven to 3.8.5 or newer. By referencing an arbitrary file (with a more unique name than pom.xml) that exists in the root directory of the submodule (such as activate-my-db-password.txt) in the `&lt;exists&gt;` element without any path, then a full build of the parent project will work as it did before. \r\n\r\nI am not terribly pleased with that workaround.\r\n\r\nSo, is there a totally different approach to this in Maven that I am missing? I know that one can encrypt a password in settings-security.xml, but that seems to be for Maven repositories only. Or is there some way to decrypt such a password for use in an arbitrary maven plugin configuration?\r\n\r\nIs the failure to get the profile property from settings.xml when activation is enabled in the pom.xml a Maven bug?\r\n\r\nClearly, Maven functionality changed on a patch-release, so consider me annoyed with that, no matter if my approach to managing this password is sane or not.\r\n\r\n","title":"Maven 3.8.5 and newer file-path sensitivity in Profile activation based on file exists","body":"<p>I have a maven project sub-module that requires a database password for a code generation build phase. I do not wish to place this password in any file that is committed to version control. This is not a production instance password, but I wish to keep the password as secure as possible in any case.</p>\n<p>Developers working on this module must place the password in a profile in settings.xml. Additionally, it is preferred that this profile is not active by default and is only active when building this specific project. So the profile is activated by the presence of the 'my-sub-module/pom.xml' file.</p>\n<p>settings.xml:</p>\n<pre><code>&lt;settings&gt;\n  ...\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;db-password&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;my.db.password&gt;secret-password&lt;/my.db.password&gt;\n      &lt;/properties&gt;\n      &lt;activation&gt;\n        &lt;file&gt;\n          &lt;exists&gt;my-sub-module/pom.xml&lt;/exists&gt;\n        &lt;/file&gt;\n      &lt;/activation&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>This worked great, right through Maven version 3.8.4. But it does not work for any newer Maven 3.8.x versions or Maven 3.9.x. Note that it relies on the <code>my-sub-module</code> directory path in the <code>&lt;exists&gt;</code> element to make it somewhat specific to this project.</p>\n<p>For older Maven, the following commands output the password as expected in both cases:</p>\n<pre><code>mvn help:evaluate -Dexpression=my.db.password -q -DforceStdout\nmvn help:evaluate -pl my-sub-module -Dexpression=my.db.password -q -DforceStdout\n</code></pre>\n<p>With newer Maven the first command above, outputs the password as expected, but the second command does not. It says &quot;null object or  invalid expression&quot;.</p>\n<p>So clearly something changed in Maven regarding the &quot;relative-ness&quot;, if you will, of the path specified in <code>&lt;exists&gt;</code>. So when running a full Maven build on the parent module with 3.8.5 or greater, the context for  seems to be different when it builds the sub-module.</p>\n<p>I tried removing the <code>&lt;activation&gt;</code> block from settings.xml and adding profile activation directly in my-sub-module/pom.xml or the parent pom.xml, thus not requiring any  criteria</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;db-password&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>But Maven does not merge the property defined in the settings.xml profile into the environment at runtime. It seems like it should but the docs were not definitive on that point.</p>\n<p>I have come up with a workaround, but I think it will only work if I and all other developers edit settings.xml AND update Maven to 3.8.5 or newer. By referencing an arbitrary file (with a more unique name than pom.xml) that exists in the root directory of the submodule (such as activate-my-db-password.txt) in the <code>&lt;exists&gt;</code> element without any path, then a full build of the parent project will work as it did before.</p>\n<p>I am not terribly pleased with that workaround.</p>\n<p>So, is there a totally different approach to this in Maven that I am missing? I know that one can encrypt a password in settings-security.xml, but that seems to be for Maven repositories only. Or is there some way to decrypt such a password for use in an arbitrary maven plugin configuration?</p>\n<p>Is the failure to get the profile property from settings.xml when activation is enabled in the pom.xml a Maven bug?</p>\n<p>Clearly, Maven functionality changed on a patch-release, so consider me annoyed with that, no matter if my approach to managing this password is sane or not.</p>\n"},{"tags":["java","testing","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690999375,"post_id":76820812,"comment_id":135432534,"body_markdown":"It&#39;s not possible to do that. What are you trying to do with the information you&#39;re trying to access?","body":"It&#39;s not possible to do that. What are you trying to do with the information you&#39;re trying to access?"},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1691002506,"post_id":76820812,"comment_id":135433096,"body_markdown":"report it to another service. To log what failed and what passed","body":"report it to another service. To log what failed and what passed"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1691061551,"post_id":76820812,"comment_id":135442106,"body_markdown":"Have a look at Cucumbers plugin system. It&#39;s not very well documented at all, but if you look at the existing ones in the source code you should be able to write one. This may also be useful: https://blog.jdriven.com/2019/01/cucumber-jvm-plugin/","body":"Have a look at Cucumbers plugin system. It&#39;s not very well documented at all, but if you look at the existing ones in the source code you should be able to write one. This may also be useful: <a href=\"https://blog.jdriven.com/2019/01/cucumber-jvm-plugin/\" rel=\"nofollow noreferrer\">blog.jdriven.com/2019/01/cucumber-jvm-plugin</a>"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985811,"creation_date":1690985811,"question_id":76820812,"body_markdown":"I am using `AbstractTestNGSpringContextTests` from spring to run cucumber test and `cucumber-testng:7.3.4`\r\n\r\nAs example:\r\n\r\nScenario file:\r\n\r\n    # Feature definition in Grehkin syntax\r\n    Feature: Is it Friday yet?\r\n      Everybody wants to know when it&#39;s Friday\r\n    \r\n      Scenario Outline: Jira-0000: Checking whether it is Friday\r\n        Given today is &quot;&lt;day&gt;&quot;\r\n        When I ask whether it&#39;s Friday yet\r\n        Then I should be told &quot;&lt;resp&gt;&quot;\r\n        Examples:\r\n          | day    | resp |\r\n          | Sunday | Nope |\r\n          | Monday | Nope |\r\n          | Friday | Yes  |\r\n\r\nCode:\r\n\r\n    @CucumberOptions(\r\n            features = &quot;src/test/java/cucumber/features/Cucumber.feature&quot;, //link to features\r\n            glue = {&quot;cucumber/stepdefs&quot;} // link to action code\r\n    )\r\n    public class CucumberTest extends AbstractTestNGSpringContextTests {\r\n    \r\n        @Test(dataProvider = &quot;scenarios&quot;) // runs all scenarios at once\r\n        public void testSampleCucumberAll(PickleWrapper pi, FeatureWrapper wr) throws Throwable {\r\n            this.testNGCucumberRunner.runScenario(pi.getPickle());\r\n        }\r\n    }\r\n\r\nAt some point in test, i need to retrieve either:\r\n\r\n1) Arguments, so for this scenario file for first run it would be &quot;Sunday,Nope&quot;, second run &quot;Monday, Nope&quot; and last run &quot;Friday,Yes&quot;\r\n2) whole step definition e.g &quot;Given today is Sunday&quot;, &quot;When i ask whether it&#39;s Friday yet&quot;,&quot;Then i should be told Nope&quot;\r\n\r\nI can retreive step definitions using:\r\n\r\n`pi.getPickle().getPickle().getSteps()`. however the second `getPickle()` method is package private so i cannot access it. \r\n\r\nIs there any other way i can access the data  i need?\r\n\r\nThanks for help","title":"Accessing cucumber steps or parameters","body":"<p>I am using <code>AbstractTestNGSpringContextTests</code> from spring to run cucumber test and <code>cucumber-testng:7.3.4</code></p>\n<p>As example:</p>\n<p>Scenario file:</p>\n<pre><code># Feature definition in Grehkin syntax\nFeature: Is it Friday yet?\n  Everybody wants to know when it's Friday\n\n  Scenario Outline: Jira-0000: Checking whether it is Friday\n    Given today is &quot;&lt;day&gt;&quot;\n    When I ask whether it's Friday yet\n    Then I should be told &quot;&lt;resp&gt;&quot;\n    Examples:\n      | day    | resp |\n      | Sunday | Nope |\n      | Monday | Nope |\n      | Friday | Yes  |\n</code></pre>\n<p>Code:</p>\n<pre><code>@CucumberOptions(\n        features = &quot;src/test/java/cucumber/features/Cucumber.feature&quot;, //link to features\n        glue = {&quot;cucumber/stepdefs&quot;} // link to action code\n)\npublic class CucumberTest extends AbstractTestNGSpringContextTests {\n\n    @Test(dataProvider = &quot;scenarios&quot;) // runs all scenarios at once\n    public void testSampleCucumberAll(PickleWrapper pi, FeatureWrapper wr) throws Throwable {\n        this.testNGCucumberRunner.runScenario(pi.getPickle());\n    }\n}\n</code></pre>\n<p>At some point in test, i need to retrieve either:</p>\n<ol>\n<li>Arguments, so for this scenario file for first run it would be &quot;Sunday,Nope&quot;, second run &quot;Monday, Nope&quot; and last run &quot;Friday,Yes&quot;</li>\n<li>whole step definition e.g &quot;Given today is Sunday&quot;, &quot;When i ask whether it's Friday yet&quot;,&quot;Then i should be told Nope&quot;</li>\n</ol>\n<p>I can retreive step definitions using:</p>\n<p><code>pi.getPickle().getPickle().getSteps()</code>. however the second <code>getPickle()</code> method is package private so i cannot access it.</p>\n<p>Is there any other way i can access the data  i need?</p>\n<p>Thanks for help</p>\n"},{"tags":["java","spring-boot","google-cloud-vision","google-developers-console"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1681633191,"post_id":76026210,"comment_id":134085370,"body_markdown":"Does this [link1](https://cloud.google.com/vision/docs/adding-spring), [link2](https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.0.M2/reference/html/spring-cloud-gcp.html#_google_cloud_vision) and [link3](https://www.knowledgefactory.net/2023/03/spring-boot-google-cloud-vision-integration-example.html) help you in resolving the issue?","body":"Does this <a href=\"https://cloud.google.com/vision/docs/adding-spring\" rel=\"nofollow noreferrer\">link1</a>, <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.0.M2/reference/html/spring-cloud-gcp.html#_google_cloud_vision\" rel=\"nofollow noreferrer\">link2</a> and <a href=\"https://www.knowledgefactory.net/2023/03/spring-boot-google-cloud-vision-integration-example.html\" rel=\"nofollow noreferrer\">link3</a> help you in resolving the issue?"}],"answers":[{"tags":[],"owner":{"account_id":9330948,"reputation":2709,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690985694,"creation_date":1690985137,"answer_id":76820700,"question_id":76026210,"body_markdown":"You are using CloudVisionTemplate from the wrong package.\r\n&lt;br&gt;\r\nUse \r\n\r\n&gt; `import com.google.cloud.spring.vision.CloudVisionTemplate;`\r\n\r\n instead of \r\n\r\n&gt; `import org.springframework.cloud.gcp.vision.CloudVisionTemplate;`\r\n\r\nHere is example of maven POM with correct dependencies:\r\n\r\n  \r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    \t\r\n     &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud-gcp.version&gt;4.1.2&lt;/spring-cloud-gcp.version&gt;\r\n            &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;","title":"Unable to create bean for org.springframework.cloud.gcp.vision.CloudVisionTemplate","body":"<p>You are using CloudVisionTemplate from the wrong package.\n<br>\nUse</p>\n<blockquote>\n<p><code>import com.google.cloud.spring.vision.CloudVisionTemplate;</code></p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p><code>import org.springframework.cloud.gcp.vision.CloudVisionTemplate;</code></p>\n</blockquote>\n<p>Here is example of maven POM with correct dependencies:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n    \n &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;4.1.2&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-vision&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":9086638,"reputation":41,"user_id":6764355,"display_name":"neeraj sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690985694,"creation_date":1681626363,"question_id":76026210,"body_markdown":"required a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; that could not be found\r\n\r\n**VisionController.java**&lt;br/&gt;\r\n&lt;code&gt;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.gcp.vision.CloudVisionTemplate;\r\n    \r\n    @RestController\r\n    public class VisionController {\r\n        \r\n        @Autowired\r\n    \tprivate ResourceLoader resourceLoader;\r\n    \r\n    \t@Autowired\r\n    \tprivate CloudVisionTemplate cloudVisionTemplate;\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\n**build.gradle** \r\n&lt;code&gt;\r\n\r\n    dependencies {\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-dependencies&#39;, version: &#39;1.2.8.RELEASE&#39;, ext: &#39;pom&#39;\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-vision&#39;, version: &#39;1.2.8.RELEASE&#39;\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\n**application.properties**&lt;br/&gt;\r\n&lt;code&gt;\r\n\r\n    spring.cloud.gcp.credentials.location=file:src/main/resources/key.json\r\n    spring.cloud.gcp.project.id=MyProjectKey\r\n\r\n&lt;/code&gt;\r\n\r\n***Exception*** \r\n&lt;br/&gt;\r\nField cloudVisionTemplate in com.vision.lens.VisionController required a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.cloud.gcp.vision.CloudVisionTemplate&#39; in your configuration.","title":"Unable to create bean for org.springframework.cloud.gcp.vision.CloudVisionTemplate","body":"<p>required a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' that could not be found</p>\n<p><strong>VisionController.java</strong><br/>\n<code></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.gcp.vision.CloudVisionTemplate;\n\n@RestController\npublic class VisionController {\n    \n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Autowired\n    private CloudVisionTemplate cloudVisionTemplate;\n}\n</code></pre>\n</code>\n<p><strong>build.gradle</strong>\n<code></p>\n<pre><code>dependencies {\nimplementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-dependencies', version: '1.2.8.RELEASE', ext: 'pom'\nimplementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-vision', version: '1.2.8.RELEASE'\n}\n</code></pre>\n</code>\n<p><strong>application.properties</strong><br/>\n<code></p>\n<pre><code>spring.cloud.gcp.credentials.location=file:src/main/resources/key.json\nspring.cloud.gcp.project.id=MyProjectKey\n</code></pre>\n</code>\n<p><em><strong>Exception</strong></em>\n<br/>\nField cloudVisionTemplate in com.vision.lens.VisionController required a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.springframework.cloud.gcp.vision.CloudVisionTemplate' in your configuration.</p>\n"},{"tags":["java","junit","assertions"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1413147942,"post_id":26329883,"comment_id":41323837,"body_markdown":"You could for example test if the file with the name `filename` was created successfully if your method did his work.","body":"You could for example test if the file with the name <code>filename</code> was created successfully if your method did his work."},{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":1,"creation_date":1413148350,"post_id":26329883,"comment_id":41323955,"body_markdown":"Call the method with a http or file URL, and check the contents of the file.","body":"Call the method with a http or file URL, and check the contents of the file."}],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690985575,"creation_date":1413148561,"answer_id":26330063,"question_id":26329883,"body_markdown":"Try to decompose your method into simpler ones:\r\n\r\n* `List&lt;URL&gt; readHyperlinksFromUrl(URL url);`\r\n* `void writeUrlsToFile(List&lt;URL&gt; urls, String fileName);`\r\n\r\nYou could already test your first method by saving a sample document as a resource and running it against that resource, comparing the result with the known list of URLs.\r\n\r\nYou can also test the second method by re-reading that file.\r\n\r\nBut you can decompose things further on:\r\n\r\n* `void writeUrlsToWriter(List&lt;URL&gt; urls, Writer writer);`\r\n* `Writer createFileWriter(String fileName);`\r\n\r\nNow you can test your first method by writing to a `StringWriter` and checking, what was written there by asserting the equality of `writer.toString()` with the sample value. Not that methods are becoming simpler and simpler.\r\n\r\nIt would be actually a very good exercise to write the whole thing test-first or even play [ping-pong][1] with yourself.\r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?PairProgrammingPingPongPattern","title":"How can I use an assertion to test this java code?","body":"<p>Try to decompose your method into simpler ones:</p>\n<ul>\n<li><code>List&lt;URL&gt; readHyperlinksFromUrl(URL url);</code></li>\n<li><code>void writeUrlsToFile(List&lt;URL&gt; urls, String fileName);</code></li>\n</ul>\n<p>You could already test your first method by saving a sample document as a resource and running it against that resource, comparing the result with the known list of URLs.</p>\n<p>You can also test the second method by re-reading that file.</p>\n<p>But you can decompose things further on:</p>\n<ul>\n<li><code>void writeUrlsToWriter(List&lt;URL&gt; urls, Writer writer);</code></li>\n<li><code>Writer createFileWriter(String fileName);</code></li>\n</ul>\n<p>Now you can test your first method by writing to a <code>StringWriter</code> and checking, what was written there by asserting the equality of <code>writer.toString()</code> with the sample value. Not that methods are becoming simpler and simpler.</p>\n<p>It would be actually a very good exercise to write the whole thing test-first or even play <a href=\"http://c2.com/cgi/wiki?PairProgrammingPingPongPattern\" rel=\"nofollow noreferrer\">ping-pong</a> with yourself.</p>\n"}],"owner":{"account_id":4164115,"reputation":91,"user_id":3413471,"accept_rate":56,"display_name":"Lacju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690985575,"creation_date":1413147320,"question_id":26329883,"body_markdown":"My homework assignment is to read a URL and print all hyperlinks at that URL to a file. I also need to submit a junit test case with at least one assertion. I have looked at the different forms of Assert but I just can&#39;t come up with any use of them that applies to my code. Any help steering me in the right direction would be great.\r\n\r\n(I&#39;m not looking for anyone to write the test case for me, just a little guidance on what direction I should be looking in)\r\n\r\n   \r\n\r\n    public void saveHyperLinkToFile(String url, String fileName)\r\n    throws IOException\r\n    {\r\n    \r\n        URL pageLocation = new URL(url);\r\n        Scanner in = new Scanner(pageLocation.openStream());\r\n        PrintWriter out = new PrintWriter(fileName);\r\n    \r\n        while (in.hasNext())\r\n        {\r\n            String line = in.next();\r\n            if (line.contains(&quot;href=\\&quot;http://&quot;))\r\n            {\r\n                int from = line.indexOf(&quot;\\&quot;&quot;);\r\n                int to = line.lastIndexOf(&quot;\\&quot;&quot;);\r\n                out.println(line.substring(from + 1, to));\r\n            \r\n            }\r\n        \r\n                \r\n        }\r\n        in.close();\r\n        out.close();\r\n\r\n    }\r\n    \r\n}","title":"How can I use an assertion to test this java code?","body":"<p>My homework assignment is to read a URL and print all hyperlinks at that URL to a file. I also need to submit a junit test case with at least one assertion. I have looked at the different forms of Assert but I just can't come up with any use of them that applies to my code. Any help steering me in the right direction would be great.</p>\n\n<p>(I'm not looking for anyone to write the test case for me, just a little guidance on what direction I should be looking in)</p>\n\n<pre><code>public void saveHyperLinkToFile(String url, String fileName)\nthrows IOException\n{\n\n    URL pageLocation = new URL(url);\n    Scanner in = new Scanner(pageLocation.openStream());\n    PrintWriter out = new PrintWriter(fileName);\n\n    while (in.hasNext())\n    {\n        String line = in.next();\n        if (line.contains(\"href=\\\"http://\"))\n        {\n            int from = line.indexOf(\"\\\"\");\n            int to = line.lastIndexOf(\"\\\"\");\n            out.println(line.substring(from + 1, to));\n\n        }\n\n\n    }\n    in.close();\n    out.close();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","plugins","minecraft"],"owner":{"account_id":29144940,"reputation":1,"user_id":22327079,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985117,"creation_date":1690984807,"question_id":76820662,"body_markdown":"i tried to create a plugin that can share one chest with all player on server in MC.\r\nBut when i create this, don&#39;t put any item in the chest. \r\n\r\n```\r\nif (player.isSneaking() &amp;&amp; isEmptyInventory(chest.getInventory()) &amp;&amp; !Objects.equals(chest.getCustomName(), &quot;ShareChest&quot;))\r\n            {\r\n                chest.setCustomName(&quot;ShareChest&quot;);\r\n                \r\n                Inventory inv = getInv();\r\n\r\n                if (inv != null)\r\n                    chest.getInventory().setStorageContents(inv.getStorageContents());\r\n                    player.sendMessage(inv.toString());\r\n\r\n                player.sendMessage(ChatColor.GOLD + &quot;[LorenzoPluginMC] ShareChest impostata&quot;);\r\n\r\n\r\n                chest.update();\r\n\r\n            }\r\n```\r\n\r\nFor take object i create the getInv() function, that take all item in chest and put them in config.yml. So i can take all and put them in when i want.\r\n\r\nThis is the getInv function:\r\n\r\n```\r\nprivate Inventory getInv ()\r\n    {\r\n        Inventory new_inv = plugin.getServer().createInventory(null, 27, &quot;ShareChest&quot;);\r\n\r\n        FileConfiguration config = plugin.getConfig();\r\n\r\n        // Controlla se la sezione &quot;settings.shareChest.inv&quot; esiste nella configurazione\r\n        if (config.isConfigurationSection(&quot;settings.shareChest.inv&quot;)) {\r\n            // Ottieni la sezione &quot;settings.shareChest.inv&quot;\r\n            ConfigurationSection invSection = config.getConfigurationSection(&quot;settings.shareChest.inv&quot;);\r\n\r\n            // Leggi i valori dalla sezione &quot;settings.shareChest.inv&quot;\r\n            if (invSection != null) {\r\n\r\n                Map&lt;String, Object&gt; valuesMap = invSection.getValues(false); // false indica che non vogliamo i valori da sottosezioni\r\n                for (String key : valuesMap.keySet()) {\r\n                    // Usa i valori come necessario, puoi effettuare il cast a tipi specifici se necessario\r\n                    Object value = valuesMap.get(key);\r\n                    new_inv.addItem(new ItemStack(Objects.requireNonNull(Material.matchMaterial(key)), (int) value));\r\n                }\r\n            }\r\n        }\r\n\r\n        return new_inv;\r\n    }\r\n```\r\n\r\nI tried many solutions but nothing work.\r\n\r\nchest.getInventory().setStorageContents(inv.getStorageContents());\r\nThi in particular dont work. I tried also with setContents(), but nothing.","title":"Don&#39;t work the chest.getInventory.addItem() of JavaPlugin","body":"<p>i tried to create a plugin that can share one chest with all player on server in MC.\nBut when i create this, don't put any item in the chest.</p>\n<pre><code>if (player.isSneaking() &amp;&amp; isEmptyInventory(chest.getInventory()) &amp;&amp; !Objects.equals(chest.getCustomName(), &quot;ShareChest&quot;))\n            {\n                chest.setCustomName(&quot;ShareChest&quot;);\n                \n                Inventory inv = getInv();\n\n                if (inv != null)\n                    chest.getInventory().setStorageContents(inv.getStorageContents());\n                    player.sendMessage(inv.toString());\n\n                player.sendMessage(ChatColor.GOLD + &quot;[LorenzoPluginMC] ShareChest impostata&quot;);\n\n\n                chest.update();\n\n            }\n</code></pre>\n<p>For take object i create the getInv() function, that take all item in chest and put them in config.yml. So i can take all and put them in when i want.</p>\n<p>This is the getInv function:</p>\n<pre><code>private Inventory getInv ()\n    {\n        Inventory new_inv = plugin.getServer().createInventory(null, 27, &quot;ShareChest&quot;);\n\n        FileConfiguration config = plugin.getConfig();\n\n        // Controlla se la sezione &quot;settings.shareChest.inv&quot; esiste nella configurazione\n        if (config.isConfigurationSection(&quot;settings.shareChest.inv&quot;)) {\n            // Ottieni la sezione &quot;settings.shareChest.inv&quot;\n            ConfigurationSection invSection = config.getConfigurationSection(&quot;settings.shareChest.inv&quot;);\n\n            // Leggi i valori dalla sezione &quot;settings.shareChest.inv&quot;\n            if (invSection != null) {\n\n                Map&lt;String, Object&gt; valuesMap = invSection.getValues(false); // false indica che non vogliamo i valori da sottosezioni\n                for (String key : valuesMap.keySet()) {\n                    // Usa i valori come necessario, puoi effettuare il cast a tipi specifici se necessario\n                    Object value = valuesMap.get(key);\n                    new_inv.addItem(new ItemStack(Objects.requireNonNull(Material.matchMaterial(key)), (int) value));\n                }\n            }\n        }\n\n        return new_inv;\n    }\n</code></pre>\n<p>I tried many solutions but nothing work.</p>\n<p>chest.getInventory().setStorageContents(inv.getStorageContents());\nThi in particular dont work. I tried also with setContents(), but nothing.</p>\n"},{"tags":["java","android","screenshot","screen-recording","android-mediaprojection"],"owner":{"account_id":22821260,"reputation":1,"user_id":16971087,"display_name":"Hijam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690985114,"creation_date":1690985114,"question_id":76820698,"body_markdown":" I&#39;m working with the MediaProjection API in Android to record the screen. I&#39;ve noticed that some built-in screen recorder apps manage to overlay icons on the screen during recording, but these icons are not included in the recorded video. How can I achieve this behavior using the MediaProjection API? Are there any specific techniques or options I should be aware of to exclude certain elements like overlays from the recorded content?\r\n\r\nI expected that by implementing these approaches, I would be able to record the screen while excluding overlay icons or elements from the recorded video. The overlay icons should be visible during the recording but should not appear in the final recorded content.","title":"How to exclude overlay/floating icons or contents from Android screen recording using MediaProjection API or when taking screenshot","body":"<p>I'm working with the MediaProjection API in Android to record the screen. I've noticed that some built-in screen recorder apps manage to overlay icons on the screen during recording, but these icons are not included in the recorded video. How can I achieve this behavior using the MediaProjection API? Are there any specific techniques or options I should be aware of to exclude certain elements like overlays from the recorded content?</p>\n<p>I expected that by implementing these approaches, I would be able to record the screen while excluding overlay icons or elements from the recorded video. The overlay icons should be visible during the recording but should not appear in the final recorded content.</p>\n"},{"tags":["java","android","cordova"],"answers":[{"tags":[],"owner":{"account_id":5960289,"reputation":2277,"user_id":4685664,"display_name":"Norman Breau"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1667495826,"creation_date":1607479961,"answer_id":65209662,"question_id":65044161,"body_markdown":"`Build.VERSION_CODES.R` only exists in [API 30](https://developer.android.com/reference/android/os/Build.VERSION_CODES#R), but you&#39;re compiling with API 29.\r\n\r\nThe compileSdkVersion should be set to 30 if you want to use `Build.VERSION_CODES.R`.\r\n\r\n##### Update for cordova-android@10\r\n\r\nAs of cordova-android@10, `compileSdkVersion` has been removed `android-targetSdkVersion` is unified to set both the target &amp; compile SDK versions, so that they always remain consistent.\r\n\r\n##### Update for cordova-android@11\r\n\r\nAs of cordova-android@11, the ability to independently set the compile SDK and target SDK separately has returned.\r\n\r\nJust like before, use `android-targetSdkVersion` preference to set the Target SDK. Use `android-compileSdkVersion` preference to set the Compile SDK.\r\n\r\nLike before, the target SDK will default to a particular version that cordova-android has been tested with. Cordova-android@11 uses API 32 by default. The compile SDK will default to the configured Target SDK.\r\n\r\nGenerally speaking, the target and compile should match, but with cordova-android@11 (and 9), you can set the compile SDK higher while keeping the target SDK lower, which can be useful for things that requires the API codes for compatibility checks.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><code>Build.VERSION_CODES.R</code> only exists in <a href=\"https://developer.android.com/reference/android/os/Build.VERSION_CODES#R\" rel=\"noreferrer\">API 30</a>, but you're compiling with API 29.</p>\n<p>The compileSdkVersion should be set to 30 if you want to use <code>Build.VERSION_CODES.R</code>.</p>\n<h5>Update for cordova-android@10</h5>\n<p>As of cordova-android@10, <code>compileSdkVersion</code> has been removed <code>android-targetSdkVersion</code> is unified to set both the target &amp; compile SDK versions, so that they always remain consistent.</p>\n<h5>Update for cordova-android@11</h5>\n<p>As of cordova-android@11, the ability to independently set the compile SDK and target SDK separately has returned.</p>\n<p>Just like before, use <code>android-targetSdkVersion</code> preference to set the Target SDK. Use <code>android-compileSdkVersion</code> preference to set the Compile SDK.</p>\n<p>Like before, the target SDK will default to a particular version that cordova-android has been tested with. Cordova-android@11 uses API 32 by default. The compile SDK will default to the configured Target SDK.</p>\n<p>Generally speaking, the target and compile should match, but with cordova-android@11 (and 9), you can set the compile SDK higher while keeping the target SDK lower, which can be useful for things that requires the API codes for compatibility checks.</p>\n"},{"comments":[{"owner":{"account_id":13675471,"reputation":103,"user_id":9867070,"display_name":"Enes &#199;alışkan"},"score":2,"creation_date":1634056186,"post_id":69525529,"comment_id":122921809,"body_markdown":"You sir , you are a lifesaver! I spent hours to get geolocater to work and finally i fixed it thanks to you! Thank you so much!","body":"You sir , you are a lifesaver! I spent hours to get geolocater to work and finally i fixed it thanks to you! Thank you so much!"},{"owner":{"account_id":18680498,"reputation":640,"user_id":13617136,"display_name":"iqfareez"},"score":3,"creation_date":1634176639,"post_id":69525529,"comment_id":122957638,"body_markdown":"The correct way is to pin the geolocator&#39;s version number. Refer [here](https://github.com/Baseflow/flutter-geolocator/issues/867#issuecomment-942430988)","body":"The correct way is to pin the geolocator&#39;s version number. Refer <a href=\"https://github.com/Baseflow/flutter-geolocator/issues/867#issuecomment-942430988\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":11586699,"reputation":2375,"user_id":8593424,"display_name":"Shailendra Rajput"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1636541036,"creation_date":1633952007,"answer_id":69525529,"question_id":65044161,"body_markdown":"Updated-: make sure you set `compileSdkVersion` in your android/app/build.gradle file to `31`\r\n\r\nOld-: I encounter this error while using the Geolocator plugin in the flutter app. to Solve this error you have to open LocationMapper.java (you can find this path in your Debug console). and remove this part\r\n \r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n\r\nand also make sure your android compile version is 30 (For GeoLocator Build.gradle)\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n          position.put(&quot;is_mocked&quot;, location.isMock());\r\n       } ","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Updated-: make sure you set <code>compileSdkVersion</code> in your android/app/build.gradle file to <code>31</code></p>\n<p>Old-: I encounter this error while using the Geolocator plugin in the flutter app. to Solve this error you have to open LocationMapper.java (you can find this path in your Debug console). and remove this part</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n</code></pre>\n<p>and also make sure your android compile version is 30 (For GeoLocator Build.gradle)</p>\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n      position.put(&quot;is_mocked&quot;, location.isMock());\n   } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":20152727,"reputation":849,"user_id":14779676,"display_name":"sherkhan"},"score":3,"creation_date":1663761303,"post_id":69561511,"comment_id":130314445,"body_markdown":"i have upgraded but not working","body":"i have upgraded but not working"},{"owner":{"account_id":20735427,"reputation":51,"user_id":15226394,"display_name":"Smart Samuel"},"score":1,"creation_date":1687044191,"post_id":69561511,"comment_id":134882459,"body_markdown":"Update your sdk version to 33. Some plugin you added uses android 13(api 33) check, but couldn&#39;t find in your code \nsee support [link](https://stackoverflow.com/questions/75158364/error-cannot-find-symbol-if-build-version-sdk-int-build-version-codes-tirami)","body":"Update your sdk version to 33. Some plugin you added uses android 13(api 33) check, but couldn&#39;t find in your code  see support <a href=\"https://stackoverflow.com/questions/75158364/error-cannot-find-symbol-if-build-version-sdk-int-build-version-codes-tirami\">link</a>"}],"tags":[],"owner":{"account_id":23024994,"reputation":511,"user_id":17145397,"display_name":"Andrew Amin"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1634159783,"creation_date":1634154412,"answer_id":69561511,"question_id":65044161,"body_markdown":"Simply upgrade the compileSdkVersion and targetSdkVersion to 31 in your android/app/build.gradle file.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Simply upgrade the compileSdkVersion and targetSdkVersion to 31 in your android/app/build.gradle file.</p>\n"},{"tags":[],"owner":{"account_id":18255291,"reputation":357,"user_id":13289378,"display_name":"Walied Abdulaziem"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1641736361,"creation_date":1641736361,"answer_id":70641947,"question_id":65044161,"body_markdown":"**Check which SDK version you downloaded and make all same that:-\r\ncompileSdkVersion XX\r\nminSdkVersion XX\r\ntargetSdkVersion XX**","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><strong>Check which SDK version you downloaded and make all same that:-\ncompileSdkVersion XX\nminSdkVersion XX\ntargetSdkVersion XX</strong></p>\n"},{"tags":[],"owner":{"account_id":11815791,"reputation":1503,"user_id":8646021,"display_name":"Hai Dinh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641978848,"creation_date":1641978539,"answer_id":70678869,"question_id":65044161,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vBVbG.png\r\n\r\nFind and change this line form 30 to 31.","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><a href=\"https://i.stack.imgur.com/vBVbG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vBVbG.png\" alt=\"enter image description here\" /></a></p>\n<p>Find and change this line form 30 to 31.</p>\n"},{"tags":[],"owner":{"account_id":10715585,"reputation":953,"user_id":7886372,"display_name":"MUHINDO"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642933753,"creation_date":1642933753,"answer_id":70821128,"question_id":65044161,"body_markdown":"I just changed from compileSdkVersion 30 to compileSdkVersion 31 in build.gradel and everything became okay","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>I just changed from compileSdkVersion 30 to compileSdkVersion 31 in build.gradel and everything became okay</p>\n"},{"comments":[{"owner":{"account_id":1423549,"reputation":1292,"user_id":1347644,"accept_rate":40,"display_name":"Luis"},"score":2,"creation_date":1672950735,"post_id":73924428,"comment_id":132394727,"body_markdown":"updating to 33 solve the problem for me ! , 31 didn&#39;t work","body":"updating to 33 solve the problem for me ! , 31 didn&#39;t work"}],"tags":[],"owner":{"account_id":9218808,"reputation":131,"user_id":6849012,"display_name":"Anand Ramachandran"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1664699688,"creation_date":1664699688,"answer_id":73924428,"question_id":65044161,"body_markdown":"    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;30.0.3&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 33 // increase one by one \r\n            }\r\n        }\r\n\r\nIn our case, it was 31 when the error was occurring, we increase it to compileSdkVersion 33, and the error is solved. You can increase it by 1 each time until your error is not solved.\r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 33 // increase one by one \n        }\n    }\n</code></pre>\n<p>In our case, it was 31 when the error was occurring, we increase it to compileSdkVersion 33, and the error is solved. You can increase it by 1 each time until your error is not solved.</p>\n"},{"tags":[],"owner":{"account_id":13632970,"reputation":91,"user_id":9834660,"display_name":"Shay Elbaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671543723,"creation_date":1671543723,"answer_id":74863989,"question_id":65044161,"body_markdown":"If you like me, use notifee, look at this:\r\n\r\n&gt; https://notifee.app/react-native/docs/release-notes\r\n&gt; \r\n&gt; 6.0.0 [Android] BREAKING CHANGE: Added support for requesting permission on Android 13 via requestPermission, the minimum\r\n&gt; compileSdkVersion required has increased to 33. And, to support this\r\n&gt; feature, the targetSdkVersion must also be increased to 33.\r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>If you like me, use notifee, look at this:</p>\n<blockquote>\n<p><a href=\"https://notifee.app/react-native/docs/release-notes\" rel=\"nofollow noreferrer\">https://notifee.app/react-native/docs/release-notes</a></p>\n<p>6.0.0 [Android] BREAKING CHANGE: Added support for requesting permission on Android 13 via requestPermission, the minimum\ncompileSdkVersion required has increased to 33. And, to support this\nfeature, the targetSdkVersion must also be increased to 33.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24706227,"reputation":191,"user_id":18597013,"display_name":"ND verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673865580,"creation_date":1673865580,"answer_id":75133048,"question_id":65044161,"body_markdown":"  ****work for me****\r\n\r\n***in android/build.gradle***\r\n\r\n\r\n  compileSdkVersion = 32  // &lt;---- increase one by one \r\n\r\n","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p><strong><strong>work for me</strong></strong></p>\n<p><em><strong>in android/build.gradle</strong></em></p>\n<p>compileSdkVersion = 32  // &lt;---- increase one by one</p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678174254,"creation_date":1678174254,"answer_id":75659083,"question_id":65044161,"body_markdown":"I’m using **npm i react-native-background-actions** then I got this error \r\n\r\nand my react native version is `&quot;react-native&quot;: &quot;0.62.2&quot;,`\r\nso is just to update the(android/build.gradle) `compileSdkVersion 30 to 31`\r\n\r\n    subprojects {\r\n    afterEvaluate {project -&gt;\r\n        if (project.hasProperty(&quot;android&quot;)) {\r\n            android {\r\n                compileSdkVersion 31    \r\n                buildToolsVersion &quot;28.0.3&quot;\r\n            }\r\n        }\r\n    }\r\n}","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>I’m using <strong>npm i react-native-background-actions</strong> then I got this error</p>\n<p>and my react native version is <code>&quot;react-native&quot;: &quot;0.62.2&quot;,</code>\nso is just to update the(android/build.gradle) <code>compileSdkVersion 30 to 31</code></p>\n<pre><code>subprojects {\nafterEvaluate {project -&gt;\n    if (project.hasProperty(&quot;android&quot;)) {\n        android {\n            compileSdkVersion 31    \n            buildToolsVersion &quot;28.0.3&quot;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8630890,"reputation":116,"user_id":6462519,"display_name":"Praveen Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690984693,"creation_date":1690984693,"answer_id":76820647,"question_id":65044161,"body_markdown":"Just update your sdk version to 33. Because some plugin you added uses android 13 (api 33) check, but couldn&#39;t find in your code.\r\n\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;30.0.3&quot;\r\n            minSdkVersion = 23\r\n            compileSdkVersion = 33 // Just increase your sdk version\r\n            }\r\n        }","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>Just update your sdk version to 33. Because some plugin you added uses android 13 (api 33) check, but couldn't find in your code.</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 23\n        compileSdkVersion = 33 // Just increase your sdk version\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8943355,"reputation":491,"user_id":6671636,"accept_rate":0,"display_name":"fagbemi ayodele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54235,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":11,"score":29,"last_activity_date":1690984693,"creation_date":1606513523,"question_id":65044161,"body_markdown":"I tried building my ionic app after development; but in the process the following errors surfaced:\r\n\r\n\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\r\n&gt; error: cannot find symbol if (Build.VERSION.SDK_INT &gt;=\r\n&gt; Build.VERSION_CODES.R) { ^ &gt; Task :app:compileDebugJavaWithJavac\r\n&gt; symbol:   variable R location: class VERSION_CODES\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error: cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   variable Type location: class WindowInsets\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   method getInsetsController() location: class Window Note:\r\n&gt; Some input files use or override a deprecated API. Note: Recompile\r\n&gt; with -Xlint:deprecation for details. Note: Some input files use\r\n&gt; unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\r\n&gt; for details. 3 errors\r\n&gt; \r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; &gt; Task :app:compileDebugJavaWithJavac FAILED 24 actionable tasks: 1 executed, 23 up-to-date\r\n&gt; * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Compilation failed; see the compiler error output for details.\r\n&gt; \r\n&gt; * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Get more help at https://help.gradle.org\r\n&gt; \r\n&gt; BUILD FAILED in 2m 5s c:\\incidentApp\\platforms\\android\\gradlew:\r\n&gt; Command failed with exit code 1 Error output:\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\r\n&gt; error:  cannot find symbol if (Build.VERSION.SDK_INT &gt;=\r\n&gt; Build.VERSION_CODES.R) { ^ symbol:   variable R location: class\r\n&gt; VERSION_CODES\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   variable Type location: class WindowInsets\r\n&gt; C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\r\n&gt; error:  cannot find symbol\r\n&gt; dialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\r\n&gt; ^ symbol:   method getInsetsController() location: class Window Note:\r\n&gt; Some input files use or override a deprecated API. Note: Recompile\r\n&gt; with -Xlint:deprecation for details. Note: Some input files use\r\n&gt; unchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\r\n&gt; for details. 3 errors\r\n&gt; \r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Compilation failed; see the compiler error output for details.\r\n\r\nI&#39;d tried everything(removing of android package and re-installing) I could lay my hands on but still not working.\r\n\r\nBelow is my **build.gradle**\r\n\r\n  \r\n\r\n     project.ext {\r\n          defaultBuildToolsVersion=&quot;29.0.3&quot; //String\r\n          defaultMinSdkVersion=22 //Integer - Minimum requirement is Android 5.1\r\n          defaultTargetSdkVersion=28 //Integer - We ALWAYS target the latest by default\r\n          defaultCompileSdkVersion=29 //Integer - We ALWAYS compile with the latest by default\r\n        }","title":"Build failed error: cannot find symbol if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R)","body":"<p>I tried building my ionic app after development; but in the process the following errors surfaced:</p>\n<blockquote>\n<p>C:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\nerror: cannot find symbol if (Build.VERSION.SDK_INT &gt;=\nBuild.VERSION_CODES.R) { ^ &gt; Task :app:compileDebugJavaWithJavac\nsymbol:   variable R location: class VERSION_CODES\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror: cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   variable Type location: class WindowInsets\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   method getInsetsController() location: class Window Note:\nSome input files use or override a deprecated API. Note: Recompile\nwith -Xlint:deprecation for details. Note: Some input files use\nunchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\nfor details. 3 errors</p>\n<p>FAILURE: Build failed with an exception.</p>\n<blockquote>\n<p>Task :app:compileDebugJavaWithJavac FAILED 24 actionable tasks: 1 executed, 23 up-to-date</p>\n</blockquote>\n<ul>\n<li>What went wrong: Execution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n<ul>\n<li><p>Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 2m 5s c:\\incidentApp\\platforms\\android\\gradlew:\nCommand failed with exit code 1 Error output:\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:123:\nerror:  cannot find symbol if (Build.VERSION.SDK_INT &gt;=\nBuild.VERSION_CODES.R) { ^ symbol:   variable R location: class\nVERSION_CODES\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   variable Type location: class WindowInsets\nC:\\incidentApp\\platforms\\android\\app\\src\\main\\java\\com\\moust\\cordova\\videoplayer\\VideoPlayer.java:124:\nerror:  cannot find symbol\ndialog.getWindow().getInsetsController().hide(WindowInsets.Type.statusBars());\n^ symbol:   method getInsetsController() location: class Window Note:\nSome input files use or override a deprecated API. Note: Recompile\nwith -Xlint:deprecation for details. Note: Some input files use\nunchecked or unsafe operations. Note: Recompile with -Xlint:unchecked\nfor details. 3 errors</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong: Execution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n</blockquote>\n<p>I'd tried everything(removing of android package and re-installing) I could lay my hands on but still not working.</p>\n<p>Below is my <strong>build.gradle</strong></p>\n<pre><code> project.ext {\n      defaultBuildToolsVersion=&quot;29.0.3&quot; //String\n      defaultMinSdkVersion=22 //Integer - Minimum requirement is Android 5.1\n      defaultTargetSdkVersion=28 //Integer - We ALWAYS target the latest by default\n      defaultCompileSdkVersion=29 //Integer - We ALWAYS compile with the latest by default\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","foreground-service"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690958100,"post_id":76813038,"comment_id":135423400,"body_markdown":"Can you please explain how is this question r elated to Firebase?","body":"Can you please explain how is this question r elated to Firebase?"},{"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"score":0,"creation_date":1690984372,"post_id":76813038,"comment_id":135429161,"body_markdown":"@AlexMamo that was a mistake, but could you please tell me the answer?","body":"@AlexMamo that was a mistake, but could you please tell me the answer?"}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690984318,"creation_date":1690902861,"question_id":76813038,"body_markdown":"I am trying to build an app locker. I can display an overlay Screen, but I want that locked app to be paused until the user opens it. The problem here is Sometimes When the activity of another app launches in the background my app is terminated(maybe by Android OS). How to deal with this?","title":"How to Intercept another app so that it pause it&#39;s process unit I remove the overlay screen in android Kotlin?","body":"<p>I am trying to build an app locker. I can display an overlay Screen, but I want that locked app to be paused until the user opens it. The problem here is Sometimes When the activity of another app launches in the background my app is terminated(maybe by Android OS). How to deal with this?</p>\n"},{"tags":["java","android","react-native","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":14197482,"reputation":101,"user_id":10256352,"display_name":"Greynairod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690984122,"creation_date":1536496477,"answer_id":52244586,"question_id":52209545,"body_markdown":"The configuration of `logback.xml` was wrong. Here is my solution:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;!-- Create a file appender for a log in the application&#39;s data directory --&gt;\r\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;/data/data/com.eeg_project/files/log/eegdata.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!-- Write INFO (and higher-level) messages to the log file --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Using Logback in bridged java method for React Native","body":"<p>The configuration of <code>logback.xml</code> was wrong. Here is my solution:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;!-- Create a file appender for a log in the application's data directory --&gt;\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n        &lt;file&gt;/data/data/com.eeg_project/files/log/eegdata.log&lt;/file&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- Write INFO (and higher-level) messages to the log file --&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":14197482,"reputation":101,"user_id":10256352,"display_name":"Greynairod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690984122,"creation_date":1536255639,"question_id":52209545,"body_markdown":"I&#39;m trying to modify working app. I installed logback for android from this repository -&gt; https://github.com/tony19/logback-android And after that I created bridged method for in java file, which was originally bridged and contains other @reactmethod methods.\r\n\r\nHere is my java code (not full code, just logback things):\r\n\r\n    package com.eeg_project.components.classifier;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class ClassifierModule extends ReactContextBaseJavaModule implements BufferListener {\r\n    \r\n        // Logback\r\n        private static Logger logger = LoggerFactory.getLogger(ClassifierModule.class);\r\n    \r\n        @ReactMethod\r\n        public void startSaveCSV() {\r\n    \r\n            //test ints\r\n            int a = 2;\r\n            int b = 2;\r\n    \r\n            String csvLine = a + &quot;,&quot; + b;\r\n            logger.info(csvLine);\r\n        }\r\n    }\r\n    \r\nMy logback.xml is configured like this:\r\n    \r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %d{dd-MM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger - %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;FILE-APPENDER&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;/storage/emulated/0/Download/Data.csv&lt;/file&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;\r\n                    %msg%n\r\n                &lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;com.eeg_project.components.classifier.ClassifierModule&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE-APPENDER&quot; /&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt; \r\n\r\nAnd here is the code for recat native to call bridged method from java (sandboxbutton is original app button, I just changed it&#39;s function):\r\n\r\n    import Classifier from &quot;../native/Classifier&quot;;\r\n    \r\n      }\r\n    \r\n       &lt;SandboxButton onPress={() =&gt; Classifier.startSaveCSV()}&gt;CSV&lt;/SandboxButton&gt;\r\n\r\nApp compiles cuccesfully, but the problem occurs when I tap my button. Nothing happens :( App doesn&#39;t even create my Data.csv file..\r\n\r\nAny sloution?.\r\n","title":"Using Logback in bridged java method for React Native","body":"<p>I'm trying to modify working app. I installed logback for android from this repository -> <a href=\"https://github.com/tony19/logback-android\" rel=\"nofollow noreferrer\">https://github.com/tony19/logback-android</a> And after that I created bridged method for in java file, which was originally bridged and contains other @reactmethod methods.</p>\n\n<p>Here is my java code (not full code, just logback things):</p>\n\n<pre><code>package com.eeg_project.components.classifier;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ClassifierModule extends ReactContextBaseJavaModule implements BufferListener {\n\n    // Logback\n    private static Logger logger = LoggerFactory.getLogger(ClassifierModule.class);\n\n    @ReactMethod\n    public void startSaveCSV() {\n\n        //test ints\n        int a = 2;\n        int b = 2;\n\n        String csvLine = a + \",\" + b;\n        logger.info(csvLine);\n    }\n}\n</code></pre>\n\n<p>My logback.xml is configured like this:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;layout class=\"ch.qos.logback.classic.PatternLayout\"&gt;\n            &lt;Pattern&gt;\n                %d{dd-MM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"FILE-APPENDER\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n        &lt;file&gt;/storage/emulated/0/Download/Data.csv&lt;/file&gt;\n        &lt;encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;Pattern&gt;\n                %msg%n\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"com.eeg_project.components.classifier.ClassifierModule\" level=\"info\" additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"FILE-APPENDER\" /&gt;\n    &lt;/logger&gt;\n    &lt;root level=\"info\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt; \n</code></pre>\n\n<p>And here is the code for recat native to call bridged method from java (sandboxbutton is original app button, I just changed it's function):</p>\n\n<pre><code>import Classifier from \"../native/Classifier\";\n\n  }\n\n   &lt;SandboxButton onPress={() =&gt; Classifier.startSaveCSV()}&gt;CSV&lt;/SandboxButton&gt;\n</code></pre>\n\n<p>App compiles cuccesfully, but the problem occurs when I tap my button. Nothing happens :( App doesn't even create my Data.csv file..</p>\n\n<p>Any sloution?.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1690983989,"post_id":76820506,"comment_id":135429049,"body_markdown":"You very probably want a `JComboBox&lt;TestAccount&gt;`, not `&lt;TestAccount[]&gt;`. It gets confused because there is a constructor allowing to pass in an array of the element type.","body":"You very probably want a <code>JComboBox&lt;TestAccount&gt;</code>, not <code>&lt;TestAccount[]&gt;</code>. It gets confused because there is a constructor allowing to pass in an array of the element type."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690984037,"post_id":76820506,"comment_id":135429067,"body_markdown":"`JComboBox&lt;TestAccount&gt;` - You want the generic type `&lt;E&gt;` to be `TestAccount` and use the  public `JComboBox(E[] items)` constructor with an `TestAccount[]` not a `TestAccount[][]` - edit: This is analog to how you would create a `List&lt;String&gt;` and not `List&lt;String[]&gt;`. Even if the data Structure in the end can hold more than one of your generic type the generic type itself does not need to be an array.","body":"<code>JComboBox&lt;TestAccount&gt;</code> - You want the generic type <code>&lt;E&gt;</code> to be <code>TestAccount</code> and use the  public <code>JComboBox(E[] items)</code> constructor with an <code>TestAccount[]</code> not a <code>TestAccount[][]</code> - edit: This is analog to how you would create a <code>List&lt;String&gt;</code> and not <code>List&lt;String[]&gt;</code>. Even if the data Structure in the end can hold more than one of your generic type the generic type itself does not need to be an array."}],"owner":{"account_id":1153695,"reputation":1,"user_id":1134875,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983752,"creation_date":1690983752,"question_id":76820506,"body_markdown":"I&#39;m doing the following:\r\n`private TestAccount[] accounts;`\r\n`private JComboBox&lt;TestAccount[]&gt; accountComboBox;`\r\n\r\n`JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox (accounts);`\r\n\r\nBut get warnings:\r\nThe constructor JComboBox(Object[]) belongs to the raw type JComboBox. References to generic type JComboBox(&lt;E&gt;) should be parameterized. \r\nThe expression of type JComboBox neeads unchecked conversion to conform to JComboBox(TestAccount[]). \r\n\r\nHow to resolve?\r\n\r\n\r\nI&#39;ve tried:\r\n`JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox &lt;TestAccount[]&gt;();`\r\nthen adding accounts to a default model, but get the same warnings.\r\n","title":"How to parameterize an array passed to a JComoBox?","body":"<p>I'm doing the following:\n<code>private TestAccount[] accounts;</code>\n<code>private JComboBox&lt;TestAccount[]&gt; accountComboBox;</code></p>\n<p><code>JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox (accounts);</code></p>\n<p>But get warnings:\nThe constructor JComboBox(Object[]) belongs to the raw type JComboBox. References to generic type JComboBox() should be parameterized.\nThe expression of type JComboBox neeads unchecked conversion to conform to JComboBox(TestAccount[]).</p>\n<p>How to resolve?</p>\n<p>I've tried:\n<code>JComboBox&lt;TestAccount[]&gt;  comboBox = new JComboBox &lt;TestAccount[]&gt;();</code>\nthen adding accounts to a default model, but get the same warnings.</p>\n"},{"tags":["java","apache-flink","google-cloud-pubsub"],"comments":[{"owner":{"account_id":2128,"reputation":3307,"user_id":2935,"accept_rate":88,"display_name":"Vetle"},"score":0,"creation_date":1694983737,"post_id":76820477,"comment_id":135959965,"body_markdown":"Came here searching for a solution, looks like we need to submit a patch :)","body":"Came here searching for a solution, looks like we need to submit a patch :)"}],"owner":{"account_id":26305661,"reputation":1,"user_id":19970283,"display_name":"Muaaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983510,"creation_date":1690983510,"question_id":76820477,"body_markdown":"Here I need to set some attributes to the Pubsub Messages before publishing them to the Google PubSub.\r\nFor example:\r\n\r\n```\r\n{\r\n  &quot;data&quot;: &quot;Pubsub message data...&quot;,\r\n  &quot;attributes&quot;: {\r\n    &quot;attribute1&quot;: &quot;value 1&quot;,\r\n    &quot;attribute2&quot;: &quot;value 2&quot;,\r\n  }\r\n}\r\n```\r\n\r\nHowever, I did not find a way to achieve this with Apache Flink Google Cloud PubSub connector for Java([here](https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/pubsub/#google-cloud-pubsub)). The message publishing part of the library looks like below, where it only sets the data to the Pubsub message while not setting the attributes.\r\n\r\n```\r\n @Override\r\n    public void invoke(IN message, SinkFunction.Context context) {\r\n        PubsubMessage pubsubMessage =\r\n                PubsubMessage.newBuilder()\r\n                        .setData(ByteString.copyFrom(serializationSchema.serialize(message)))\r\n                        .build();\r\n\r\n        ApiFuture&lt;String&gt; future = publisher.publish(pubsubMessage);\r\n        numPendingFutures.incrementAndGet();\r\n        ApiFutures.addCallback(future, failureHandler, directExecutor());\r\n    }\r\n```\r\n\r\nI am new to Apache Flink. Much appreciate any help on this to find out a way to set the attributes to the Pubsub messages.\r\n\r\nThanks in advance!","title":"Apache Flink: Google Cloud PubSub Connector: Unable to set attributes to the Pubsub Messages","body":"<p>Here I need to set some attributes to the Pubsub Messages before publishing them to the Google PubSub.\nFor example:</p>\n<pre><code>{\n  &quot;data&quot;: &quot;Pubsub message data...&quot;,\n  &quot;attributes&quot;: {\n    &quot;attribute1&quot;: &quot;value 1&quot;,\n    &quot;attribute2&quot;: &quot;value 2&quot;,\n  }\n}\n</code></pre>\n<p>However, I did not find a way to achieve this with Apache Flink Google Cloud PubSub connector for Java(<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/datastream/pubsub/#google-cloud-pubsub\" rel=\"nofollow noreferrer\">here</a>). The message publishing part of the library looks like below, where it only sets the data to the Pubsub message while not setting the attributes.</p>\n<pre><code> @Override\n    public void invoke(IN message, SinkFunction.Context context) {\n        PubsubMessage pubsubMessage =\n                PubsubMessage.newBuilder()\n                        .setData(ByteString.copyFrom(serializationSchema.serialize(message)))\n                        .build();\n\n        ApiFuture&lt;String&gt; future = publisher.publish(pubsubMessage);\n        numPendingFutures.incrementAndGet();\n        ApiFutures.addCallback(future, failureHandler, directExecutor());\n    }\n</code></pre>\n<p>I am new to Apache Flink. Much appreciate any help on this to find out a way to set the attributes to the Pubsub messages.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","excel","csv","opencsv"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983559,"post_id":76820430,"comment_id":135428938,"body_markdown":"IIRC, Excel uses the ANSI code page of the default locale of your machine, so if your locale isn&#39;t set to some Arabian locale, it likely uses something like windows-1252 (i.e. Western European/US locales) to open it, which will mean the wrong characters will be derived.","body":"IIRC, Excel uses the ANSI code page of the default locale of your machine, so if your locale isn&#39;t set to some Arabian locale, it likely uses something like windows-1252 (i.e. Western European/US locales) to open it, which will mean the wrong characters will be derived."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690983596,"post_id":76820430,"comment_id":135428951,"body_markdown":"Do you have an Arabic-capable font in Excel?","body":"Do you have an Arabic-capable font in Excel?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983608,"post_id":76820430,"comment_id":135428954,"body_markdown":"In any case, see also https://superuser.com/questions/280603/how-to-set-character-encoding-when-opening-a-csv-file-in-excel how to select a different character set","body":"In any case, see also <a href=\"https://superuser.com/questions/280603/how-to-set-character-encoding-when-opening-a-csv-file-in-excel\" title=\"how to set character encoding when opening a csv file in excel\">superuser.com/questions/280603/&hellip;</a> how to select a different character set"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690984207,"post_id":76820430,"comment_id":135429124,"body_markdown":"It seems Excel has [a problem](https://stackoverflow.com/a/6488070/636009) with UTF-8 [CSV files](https://stackoverflow.com/a/155176/636009). You can prepend the &#39;byte order mark&#39; (BOM), `&quot;\\ufeff&quot;`, to the beginning of the file (either in the first field or before you pass the output stream into the CSV writer), or I think the UTF-16 encoding would automatically add a BOM. But for UTF-8, you&#39;ll have to add the BOM yourself.","body":"It seems Excel has <a href=\"https://stackoverflow.com/a/6488070/636009\">a problem</a> with UTF-8 <a href=\"https://stackoverflow.com/a/155176/636009\">CSV files</a>. You can prepend the &#39;byte order mark&#39; (BOM), <code>&quot;\\ufeff&quot;</code>, to the beginning of the file (either in the first field or before you pass the output stream into the CSV writer), or I think the UTF-16 encoding would automatically add a BOM. But for UTF-8, you&#39;ll have to add the BOM yourself."},{"owner":{"account_id":3427552,"reputation":55439,"user_id":2872922,"accept_rate":54,"display_name":"Ron Rosenfeld"},"score":3,"creation_date":1690989280,"post_id":76820430,"comment_id":135430465,"body_markdown":"Do the same as has been recommended so many times in this forum. Do not **OPEN** the file, rather **IMPORT** the file using either Power Query or the legacy import wizard. At that point, you will have the opportunity to select the correct code page.","body":"Do the same as has been recommended so many times in this forum. Do not <b>OPEN</b> the file, rather <b>IMPORT</b> the file using either Power Query or the legacy import wizard. At that point, you will have the opportunity to select the correct code page."}],"owner":{"account_id":4400414,"reputation":331,"user_id":3586286,"display_name":"user3586286"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983493,"creation_date":1690983166,"question_id":76820430,"body_markdown":"I have the below code but when open the generated CSV using Excel, the Arabic word show as symbols. If I open the file using Notepad++, it displays the value correctly.\r\n\r\n```java\r\nCSVWriter writer234 = new CSVWriter(new OutputStreamWriter(new FileOutputStream(&quot;C:\\\\Users\\\\Desktop\\\\file456789.csv&quot;), StandardCharsets.UTF_8));\r\n\r\nString[] header = { &quot;Field1&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\r\nwriter234.writeNext(header);\r\n\r\nString[] data = { &quot;مرحبا&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\r\nwriter234.writeNext(data);\r\n\r\nwriter234.close();\r\n```\r\n\r\n","title":"CSV encoding is not correct when opened from Excel","body":"<p>I have the below code but when open the generated CSV using Excel, the Arabic word show as symbols. If I open the file using Notepad++, it displays the value correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CSVWriter writer234 = new CSVWriter(new OutputStreamWriter(new FileOutputStream(&quot;C:\\\\Users\\\\Desktop\\\\file456789.csv&quot;), StandardCharsets.UTF_8));\n\nString[] header = { &quot;Field1&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\nwriter234.writeNext(header);\n\nString[] data = { &quot;مرحبا&quot;, &quot;Field2&quot;, &quot;Field3&quot;, &quot;Field4&quot;, &quot;Field5&quot;, &quot;Field6&quot;, &quot;Field7&quot;, &quot;Field8&quot; };\nwriter234.writeNext(data);\n\nwriter234.close();\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1690982236,"post_id":76819954,"comment_id":135428582,"body_markdown":"Its because the listener operation may take a while and in that period if the user exits the Fragment, it may not be attached to an activity, hence the call to `requireActivity()` is causing an issue. You could check if the fragment is attached via `isAdded` flag on Fragment before using `requireActivity()`. You could also move this Firestore logic to a Activity ViewModel and share that data to fragment via `activityViewModels()`.","body":"Its because the listener operation may take a while and in that period if the user exits the Fragment, it may not be attached to an activity, hence the call to <code>requireActivity()</code> is causing an issue. You could check if the fragment is attached via <code>isAdded</code> flag on Fragment before using <code>requireActivity()</code>. You could also move this Firestore logic to a Activity ViewModel and share that data to fragment via <code>activityViewModels()</code>."}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690983391,"creation_date":1690982441,"answer_id":76820310,"question_id":76819954,"body_markdown":"The crash happens because the listener code gets run later, whenever the firebase operation is complete, and if the user navigates away before that happens the fragment has been detached from the activity and the call to `requireActivity()` throws.\r\n\r\nIf you just want it to fail gracefully in that case instead of crashing, change your code from using [`requireActivity()`](https://developer.android.com/reference/androidx/fragment/app/Fragment.html#requireActivity()) (which throws if the activity is not attached) to using [`getActivity()`](https://developer.android.com/reference/androidx/fragment/app/Fragment.html#getActivity()) instead (which can return null in those cases) and check that it is not null before using it. For example:\r\n\r\n\r\n```java\r\nFragmentActivity a = getActivity();\r\nif( a != null ) {\r\n   a.getSupportFragmentManager().popBackStack();\r\n}\r\n```\r\n\r\nIf you don&#39;t want any of the listener code to run in the case where the user navigated away already, you could use this to do an early exit from the listener\r\n\r\n```java\r\nFragmentActivity a = getActivity();\r\nif( a == null ) return;\r\n\r\n// the rest of the listener code\r\n```","title":"Firebase onComplete causes crashes on quick exit","body":"<p>The crash happens because the listener code gets run later, whenever the firebase operation is complete, and if the user navigates away before that happens the fragment has been detached from the activity and the call to <code>requireActivity()</code> throws.</p>\n<p>If you just want it to fail gracefully in that case instead of crashing, change your code from using <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment.html#requireActivity()\" rel=\"nofollow noreferrer\"><code>requireActivity()</code></a> (which throws if the activity is not attached) to using <a href=\"https://developer.android.com/reference/androidx/fragment/app/Fragment.html#getActivity()\" rel=\"nofollow noreferrer\"><code>getActivity()</code></a> instead (which can return null in those cases) and check that it is not null before using it. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FragmentActivity a = getActivity();\nif( a != null ) {\n   a.getSupportFragmentManager().popBackStack();\n}\n</code></pre>\n<p>If you don't want any of the listener code to run in the case where the user navigated away already, you could use this to do an early exit from the listener</p>\n<pre class=\"lang-java prettyprint-override\"><code>FragmentActivity a = getActivity();\nif( a == null ) return;\n\n// the rest of the listener code\n</code></pre>\n"}],"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690983391,"creation_date":1690979829,"question_id":76819954,"body_markdown":"I am very new to android development. I am developing an app an on backend I am using firebase firestore as the databse.\r\n**I have attached on complete listner like this,**\r\n\r\n```\r\ndb = FirebaseFirestore.getInstance();\r\ndb.collection(&quot;Students&quot;)\r\n        .document(userID)\r\n        .collection(&quot;Classes&quot;)\r\n        .get(sourceL)\r\n        .addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()){\r\n\r\n                for (QueryDocumentSnapshot document : task.getResult()){\r\n                    classList.add(document.getString(&quot;TeacherName&quot;));\r\n                    double val = document.getDouble(&quot;TeacherID&quot;);\r\n                    int intVal = (int) val;\r\n                    tIDList.add(intVal);\r\n                }\r\n                editor.putBoolean(&quot;TutionBase&quot;, false).apply();\r\n                triggrtListView();\r\n\r\n            } else {\r\n\r\n                msgTXT.setText(&quot;Connection Issue&quot;);\r\n                btnTXT.setText(&quot;Dismiss&quot;);\r\n                retry.setOnClickListener(v -&gt; {\r\n                    dialogretry.dismiss();\r\n                    requireActivity().getSupportFragmentManager().popBackStack();\r\n                });\r\n                dialogretry.setOnCancelListener(dialog -&gt; {\r\n                    dialogretry.dismiss();\r\n                    requireActivity().getSupportFragmentManager().popBackStack();\r\n                });\r\n                dialogretry.show();\r\n            }\r\n        });\r\n```\r\n\r\nit&#39;s using on a fragment.\r\nsource is using to define SERVER OR CACHE.\r\n\r\n**code Works without errors on normal scenarios. If user pop to backstack fragment quickly while this method is running, app crashes giving follow log errors,**\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n\r\nProcess: com.example.mcqpanthiya, PID: 6199\r\njava.lang.IllegalStateException: Fragment FragmentTutionBase{c5193a6} (a82d5330-61ff-415e-95eb-c6c3b0b9254d) not attached to an activity.\r\n\tat androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\r\n\tat com.example.mcqpanthiya.FragmentTutionBase.lambda$triggrtListView$14$com-example-mcqpanthiya-FragmentTutionBase(FragmentTutionBase.java:363)\r\n\tat com.example.mcqpanthiya.FragmentTutionBase$$ExternalSyntheticLambda5.run(Unknown Source:2)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8751)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n```\r\n\r\nIf I flag user inputs and remove it after completion there is no issue.\r\n\r\n**But I want to know how to avoid this app crash. I want to know what causes this crash in more detail.**\r\n\r\nIf the user waits for 2 or 3 seconds and then exits, there are also no crashes.\r\n","title":"Firebase onComplete causes crashes on quick exit","body":"<p>I am very new to android development. I am developing an app an on backend I am using firebase firestore as the databse.\n<strong>I have attached on complete listner like this,</strong></p>\n<pre><code>db = FirebaseFirestore.getInstance();\ndb.collection(&quot;Students&quot;)\n        .document(userID)\n        .collection(&quot;Classes&quot;)\n        .get(sourceL)\n        .addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()){\n\n                for (QueryDocumentSnapshot document : task.getResult()){\n                    classList.add(document.getString(&quot;TeacherName&quot;));\n                    double val = document.getDouble(&quot;TeacherID&quot;);\n                    int intVal = (int) val;\n                    tIDList.add(intVal);\n                }\n                editor.putBoolean(&quot;TutionBase&quot;, false).apply();\n                triggrtListView();\n\n            } else {\n\n                msgTXT.setText(&quot;Connection Issue&quot;);\n                btnTXT.setText(&quot;Dismiss&quot;);\n                retry.setOnClickListener(v -&gt; {\n                    dialogretry.dismiss();\n                    requireActivity().getSupportFragmentManager().popBackStack();\n                });\n                dialogretry.setOnCancelListener(dialog -&gt; {\n                    dialogretry.dismiss();\n                    requireActivity().getSupportFragmentManager().popBackStack();\n                });\n                dialogretry.show();\n            }\n        });\n</code></pre>\n<p>it's using on a fragment.\nsource is using to define SERVER OR CACHE.</p>\n<p><strong>code Works without errors on normal scenarios. If user pop to backstack fragment quickly while this method is running, app crashes giving follow log errors,</strong></p>\n<pre><code>FATAL EXCEPTION: main\n\nProcess: com.example.mcqpanthiya, PID: 6199\njava.lang.IllegalStateException: Fragment FragmentTutionBase{c5193a6} (a82d5330-61ff-415e-95eb-c6c3b0b9254d) not attached to an activity.\n    at androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\n    at com.example.mcqpanthiya.FragmentTutionBase.lambda$triggrtListView$14$com-example-mcqpanthiya-FragmentTutionBase(FragmentTutionBase.java:363)\n    at com.example.mcqpanthiya.FragmentTutionBase$$ExternalSyntheticLambda5.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8751)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n\n</code></pre>\n<p>If I flag user inputs and remove it after completion there is no issue.</p>\n<p><strong>But I want to know how to avoid this app crash. I want to know what causes this crash in more detail.</strong></p>\n<p>If the user waits for 2 or 3 seconds and then exits, there are also no crashes.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":2,"creation_date":1627429467,"post_id":68552789,"comment_id":121152991,"body_markdown":"Try reopening IDE and use `mvn install &amp;&amp; spring-boot:run`. Please let me know if that will resolve your issue","body":"Try reopening IDE and use <code>mvn install &amp;&amp; spring-boot:run</code>. Please let me know if that will resolve your issue"},{"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"score":1,"creation_date":1627429735,"post_id":68552789,"comment_id":121153026,"body_markdown":"I did invalidate cache from intellij and those red marks don&#39;t exist any more in pom.xml.","body":"I did invalidate cache from intellij and those red marks don&#39;t exist any more in pom.xml."},{"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"score":0,"creation_date":1627429775,"post_id":68552789,"comment_id":121153032,"body_markdown":"@Reborn  i have another question as how compilation works because even with those red marks in pom.xml ,compilation happened .","body":"@Reborn  i have another question as how compilation works because even with those red marks in pom.xml ,compilation happened ."},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":0,"creation_date":1627430068,"post_id":68552789,"comment_id":121153086,"body_markdown":"If you see red marks in the pom.xml even after installing dependencies, then there might be another issue. Double check on how you import the project ( it should be imported as Maven). Afterwards, make sure you right click on the project and select &#39;Sync the project;","body":"If you see red marks in the pom.xml even after installing dependencies, then there might be another issue. Double check on how you import the project ( it should be imported as Maven). Afterwards, make sure you right click on the project and select &#39;Sync the project;"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1627432238,"post_id":68552789,"comment_id":121153355,"body_markdown":"_This error_ you forgot to actually include the error.","body":"<i>This error</i> you forgot to actually include the error."}],"answers":[{"comments":[{"owner":{"account_id":7155615,"reputation":597,"user_id":5468199,"accept_rate":100,"display_name":"Revnic Robert-Nick"},"score":2,"creation_date":1628711367,"post_id":68564288,"comment_id":121497564,"body_markdown":"If this does not work, then try File -&gt; Invalidate Caches -&gt; Select all options.","body":"If this does not work, then try File -&gt; Invalidate Caches -&gt; Select all options."}],"tags":[],"owner":{"account_id":18579182,"reputation":61,"user_id":16547959,"display_name":"shubham kumar Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627490392,"creation_date":1627490392,"answer_id":68564288,"question_id":68552789,"body_markdown":"Reloading the project might help. \r\nSteps\r\n\r\n 1. Right click on the project \r\n 2. Go to the &quot;maven&quot; option \r\n 3. Click on &quot;Reload Project&quot;","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.3&#39; not found","body":"<p>Reloading the project might help.\nSteps</p>\n<ol>\n<li>Right click on the project</li>\n<li>Go to the &quot;maven&quot; option</li>\n<li>Click on &quot;Reload Project&quot;</li>\n</ol>\n"}],"owner":{"account_id":12565045,"reputation":887,"user_id":9141338,"accept_rate":14,"display_name":"jammy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4063,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690983385,"creation_date":1627428844,"question_id":68552789,"body_markdown":"I am new to spring boot and just started exploring it .I came across this issue where intellij ide shows this error in pom.xml .I fail to understand as to why this is happening.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Spring-boot-tutorial&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Spring-boot-tutorial&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nIt will be really helpful if someone can enlighten as to how these dependencies issues happen in spring boot and how they can be traced.\r\nNote i had a similar issue with spring-boot-maven-plugin so i just added the version code below it to make it work .The same addition of the version didn&#39;t work for spring-boot-starter-data-jpa.","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.3&#39; not found","body":"<p>I am new to spring boot and just started exploring it .I came across this issue where intellij ide shows this error in pom.xml .I fail to understand as to why this is happening.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Spring-boot-tutorial&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring-boot-tutorial&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.5.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>It will be really helpful if someone can enlighten as to how these dependencies issues happen in spring boot and how they can be traced.\nNote i had a similar issue with spring-boot-maven-plugin so i just added the version code below it to make it work .The same addition of the version didn't work for spring-boot-starter-data-jpa.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690969989,"post_id":76818629,"comment_id":135425959,"body_markdown":"Have a look at `Collections.retainAll` and `Collections.removeAll` Incidentally, your code would be sounder using `java.time.DayOfWeek`","body":"Have a look at <code>Collections.retainAll</code> and <code>Collections.removeAll</code> Incidentally, your code would be sounder using <code>java.time.DayOfWeek</code>"}],"answers":[{"comments":[{"owner":{"account_id":18219875,"reputation":1,"user_id":13260854,"display_name":"tamilanban"},"score":0,"creation_date":1690974938,"post_id":76818762,"comment_id":135426907,"body_markdown":"how to find common in list1list2list3","body":"how to find common in list1list2list3"},{"owner":{"account_id":18219875,"reputation":1,"user_id":13260854,"display_name":"tamilanban"},"score":0,"creation_date":1690981923,"post_id":76818762,"comment_id":135428484,"body_markdown":"how to find common in list1list2list3","body":"how to find common in list1list2list3"}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690970429,"creation_date":1690970429,"answer_id":76818762,"question_id":76818629,"body_markdown":"If i understand your question so you can try like this for Example:\r\n\r\n    ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\n    list1.add(&quot;MON&quot;);\r\n    list1.add(&quot;WED&quot;);\r\n    list1.add(&quot;THU&quot;);\r\n    list1.add(&quot;SAT&quot;);\r\n    list1.add(&quot;SUN&quot;);\r\n    \r\n    ArrayList&lt;String&gt; list2 = DBmanager.getList2();\r\n    // Assuming list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; }\r\n    \r\n    ArrayList&lt;String&gt; list3 = DBmanager.getList3();\r\n    // Assuming list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; }\r\n\r\nthen you can search in the Lists like them:\r\n\r\n    ArrayList&lt;String&gt; missingInList1VsList2List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; missingInList2VsList1List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; missingInList3VsList1List2 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList1VsList2List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList2VsList1List3 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; newInList3VsList1List2 = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; commonInList2List3 = new ArrayList&lt;&gt;();\r\n    \r\n    //Comparing list1 with list2 and list3\r\n    for (String day : list2) {\r\n        if (!list1.contains(day)) {\r\n            missingInList1VsList2List3.add(day);\r\n        } else {\r\n            commonInList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list1.contains(day)) {\r\n            missingInList1VsList2List3.add(day);\r\n        } else {\r\n            commonInList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    //Comparing list2 with list1 and list3\r\n    for (String day : list1) {\r\n        if (!list2.contains(day)) {\r\n            missingInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list2.contains(day)) {\r\n            missingInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    // Comparing list3 with list1 and list2\r\n    for (String day : list1) {\r\n        if (!list3.contains(day)) {\r\n            missingInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list2) {\r\n        if (!list3.contains(day)) {\r\n            missingInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n    \r\n    // Find new days in list1, list2, and list3\r\n    for (String day : list1) {\r\n        if (!list2.contains(day) &amp;&amp; !list3.contains(day)) {\r\n            newInList1VsList2List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list2) {\r\n        if (!list1.contains(day) &amp;&amp; !list3.contains(day)) {\r\n            newInList2VsList1List3.add(day);\r\n        }\r\n    }\r\n    \r\n    for (String day : list3) {\r\n        if (!list1.contains(day) &amp;&amp; !list2.contains(day)) {\r\n            newInList3VsList1List2.add(day);\r\n        }\r\n    }\r\n\r\nif you want to output them:\r\n\r\n    System.out.println(&quot;Missing in list1 vs list2 and list3: &quot; + missingInList1VsList2List3);\r\n    System.out.println(&quot;Missing in list2 vs list1 and list3: &quot; + missingInList2VsList1List3);\r\n    System.out.println(&quot;Missing in list3 vs list1 and list2: &quot; + missingInList3VsList1List2);\r\n    System.out.println(&quot;New in list1 vs list2 and list3: &quot; + newInList1VsList2List3);\r\n    System.out.println(&quot;New in list2 vs list1 and list3: &quot; + newInList2VsList1List3);\r\n    System.out.println(&quot;New in list3 vs list1 and list2: &quot; + newInList3VsList1List2);\r\n    System.out.println(&quot;Common in list2 and list3: &quot; + commonInList2List3);","title":"How to compare three different Lists and get the differences, common?","body":"<p>If i understand your question so you can try like this for Example:</p>\n<pre><code>ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(&quot;MON&quot;);\nlist1.add(&quot;WED&quot;);\nlist1.add(&quot;THU&quot;);\nlist1.add(&quot;SAT&quot;);\nlist1.add(&quot;SUN&quot;);\n\nArrayList&lt;String&gt; list2 = DBmanager.getList2();\n// Assuming list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; }\n\nArrayList&lt;String&gt; list3 = DBmanager.getList3();\n// Assuming list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; }\n</code></pre>\n<p>then you can search in the Lists like them:</p>\n<pre><code>ArrayList&lt;String&gt; missingInList1VsList2List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; missingInList2VsList1List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; missingInList3VsList1List2 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList1VsList2List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList2VsList1List3 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; newInList3VsList1List2 = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; commonInList2List3 = new ArrayList&lt;&gt;();\n\n//Comparing list1 with list2 and list3\nfor (String day : list2) {\n    if (!list1.contains(day)) {\n        missingInList1VsList2List3.add(day);\n    } else {\n        commonInList2List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list1.contains(day)) {\n        missingInList1VsList2List3.add(day);\n    } else {\n        commonInList2List3.add(day);\n    }\n}\n\n//Comparing list2 with list1 and list3\nfor (String day : list1) {\n    if (!list2.contains(day)) {\n        missingInList2VsList1List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list2.contains(day)) {\n        missingInList2VsList1List3.add(day);\n    }\n}\n\n// Comparing list3 with list1 and list2\nfor (String day : list1) {\n    if (!list3.contains(day)) {\n        missingInList3VsList1List2.add(day);\n    }\n}\n\nfor (String day : list2) {\n    if (!list3.contains(day)) {\n        missingInList3VsList1List2.add(day);\n    }\n}\n\n// Find new days in list1, list2, and list3\nfor (String day : list1) {\n    if (!list2.contains(day) &amp;&amp; !list3.contains(day)) {\n        newInList1VsList2List3.add(day);\n    }\n}\n\nfor (String day : list2) {\n    if (!list1.contains(day) &amp;&amp; !list3.contains(day)) {\n        newInList2VsList1List3.add(day);\n    }\n}\n\nfor (String day : list3) {\n    if (!list1.contains(day) &amp;&amp; !list2.contains(day)) {\n        newInList3VsList1List2.add(day);\n    }\n}\n</code></pre>\n<p>if you want to output them:</p>\n<pre><code>System.out.println(&quot;Missing in list1 vs list2 and list3: &quot; + missingInList1VsList2List3);\nSystem.out.println(&quot;Missing in list2 vs list1 and list3: &quot; + missingInList2VsList1List3);\nSystem.out.println(&quot;Missing in list3 vs list1 and list2: &quot; + missingInList3VsList1List2);\nSystem.out.println(&quot;New in list1 vs list2 and list3: &quot; + newInList1VsList2List3);\nSystem.out.println(&quot;New in list2 vs list1 and list3: &quot; + newInList2VsList1List3);\nSystem.out.println(&quot;New in list3 vs list1 and list2: &quot; + newInList3VsList1List2);\nSystem.out.println(&quot;Common in list2 and list3: &quot; + commonInList2List3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690983274,"creation_date":1690983274,"answer_id":76820449,"question_id":76818629,"body_markdown":"You can use `removeAll()` and `retainAll()` methods of `Collection`.\r\n\r\n```java\r\n    public static void main(String... args) {\r\n        List&lt;String&gt; one = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;SAT&quot;, &quot;SUN&quot;);\r\n        List&lt;String&gt; two = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot;);\r\n        List&lt;String&gt; three = List.of(&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot;);\r\n\r\n        String oneName = &quot;list1&quot;;\r\n        String twoName = &quot;list2&quot;;\r\n        String threeName = &quot;list3&quot;;\r\n\r\n        System.out.println(oneName + &quot;: &quot; + one);\r\n        System.out.println(twoName + &quot;: &quot; + two);\r\n        System.out.println(threeName + &quot;: &quot; + three);\r\n\r\n        System.out.println();\r\n\r\n        print(one, oneName, two, twoName, three, threeName);\r\n    }\r\n\r\n    public static void print(List&lt;String&gt; one, String oneName,\r\n                             List&lt;String&gt; two, String twoName,\r\n                             List&lt;String&gt; three, String threeName) {\r\n        printMissing(one, oneName, two, twoName, three, threeName);\r\n        printMissing(two, twoName, one, oneName, three, threeName);\r\n        printMissing(three, threeName, one, oneName, two, twoName);\r\n\r\n        printNew(one, oneName, two, twoName, three, threeName);\r\n        printNew(two, twoName, one, oneName, three, threeName);\r\n        printNew(three, threeName, one, oneName, two, twoName);\r\n\r\n        printCommon(three, threeName, one, oneName, two, twoName);\r\n    }\r\n\r\n    private static void printMissing(List&lt;String&gt; one, String oneName,\r\n                                     List&lt;String&gt; two, String twoName,\r\n                                     List&lt;String&gt; three, String threeName) {\r\n        print(&quot;Missing&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(two);\r\n            res.addAll(three);\r\n            res.removeAll(one);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void printNew(List&lt;String&gt; one, String oneName,\r\n                                 List&lt;String&gt; two, String twoName,\r\n                                 List&lt;String&gt; three, String threeName) {\r\n        print(&quot;New&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\r\n            res.removeAll(two);\r\n            res.removeAll(three);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void printCommon(List&lt;String&gt; one, String oneName,\r\n                                    List&lt;String&gt; two, String twoName,\r\n                                    List&lt;String&gt; three, String threeName) {\r\n        print(&quot;Common&quot;, oneName, twoName, threeName, () -&gt; {\r\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\r\n            res.retainAll(two);\r\n            res.retainAll(three);\r\n            return res;\r\n        });\r\n    }\r\n\r\n    private static void print(String action,\r\n                              String oneName,\r\n                              String twoName,\r\n                              String threeName,\r\n                              Supplier&lt;List&lt;String&gt;&gt; result) {\r\n        List&lt;String&gt; res = result.get();\r\n\r\n        if (!res.isEmpty()) {\r\n            System.out.format(&quot;%s in %s vs %s and %s: %s\\n&quot;,\r\n                              action, oneName, twoName, threeName, res);\r\n        }\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\nlist1: [MON, WED, THU, SAT, SUN]\r\nlist2: [MON, WED, THU, FRI, SAT]\r\nlist3: [MON, TUE, THU, SAT]\r\n\r\nMissing in list1 vs list2 and list3: [FRI, TUE]\r\nMissing in list2 vs list1 and list3: [SUN, TUE]\r\nMissing in list3 vs list1 and list2: [WED, SUN, WED, FRI]\r\nNew in list1 vs list2 and list3: [SUN]\r\nNew in list2 vs list1 and list3: [FRI]\r\nNew in list3 vs list1 and list2: [TUE]\r\nCommon in list3 vs list1 and list2: [MON, THU, SAT]\r\n```\r\n","title":"How to compare three different Lists and get the differences, common?","body":"<p>You can use <code>removeAll()</code> and <code>retainAll()</code> methods of <code>Collection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String... args) {\n        List&lt;String&gt; one = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;SAT&quot;, &quot;SUN&quot;);\n        List&lt;String&gt; two = List.of(&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot;);\n        List&lt;String&gt; three = List.of(&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot;);\n\n        String oneName = &quot;list1&quot;;\n        String twoName = &quot;list2&quot;;\n        String threeName = &quot;list3&quot;;\n\n        System.out.println(oneName + &quot;: &quot; + one);\n        System.out.println(twoName + &quot;: &quot; + two);\n        System.out.println(threeName + &quot;: &quot; + three);\n\n        System.out.println();\n\n        print(one, oneName, two, twoName, three, threeName);\n    }\n\n    public static void print(List&lt;String&gt; one, String oneName,\n                             List&lt;String&gt; two, String twoName,\n                             List&lt;String&gt; three, String threeName) {\n        printMissing(one, oneName, two, twoName, three, threeName);\n        printMissing(two, twoName, one, oneName, three, threeName);\n        printMissing(three, threeName, one, oneName, two, twoName);\n\n        printNew(one, oneName, two, twoName, three, threeName);\n        printNew(two, twoName, one, oneName, three, threeName);\n        printNew(three, threeName, one, oneName, two, twoName);\n\n        printCommon(three, threeName, one, oneName, two, twoName);\n    }\n\n    private static void printMissing(List&lt;String&gt; one, String oneName,\n                                     List&lt;String&gt; two, String twoName,\n                                     List&lt;String&gt; three, String threeName) {\n        print(&quot;Missing&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(two);\n            res.addAll(three);\n            res.removeAll(one);\n            return res;\n        });\n    }\n\n    private static void printNew(List&lt;String&gt; one, String oneName,\n                                 List&lt;String&gt; two, String twoName,\n                                 List&lt;String&gt; three, String threeName) {\n        print(&quot;New&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\n            res.removeAll(two);\n            res.removeAll(three);\n            return res;\n        });\n    }\n\n    private static void printCommon(List&lt;String&gt; one, String oneName,\n                                    List&lt;String&gt; two, String twoName,\n                                    List&lt;String&gt; three, String threeName) {\n        print(&quot;Common&quot;, oneName, twoName, threeName, () -&gt; {\n            List&lt;String&gt; res = new ArrayList&lt;&gt;(one);\n            res.retainAll(two);\n            res.retainAll(three);\n            return res;\n        });\n    }\n\n    private static void print(String action,\n                              String oneName,\n                              String twoName,\n                              String threeName,\n                              Supplier&lt;List&lt;String&gt;&gt; result) {\n        List&lt;String&gt; res = result.get();\n\n        if (!res.isEmpty()) {\n            System.out.format(&quot;%s in %s vs %s and %s: %s\\n&quot;,\n                              action, oneName, twoName, threeName, res);\n        }\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>list1: [MON, WED, THU, SAT, SUN]\nlist2: [MON, WED, THU, FRI, SAT]\nlist3: [MON, TUE, THU, SAT]\n\nMissing in list1 vs list2 and list3: [FRI, TUE]\nMissing in list2 vs list1 and list3: [SUN, TUE]\nMissing in list3 vs list1 and list2: [WED, SUN, WED, FRI]\nNew in list1 vs list2 and list3: [SUN]\nNew in list2 vs list1 and list3: [FRI]\nNew in list3 vs list1 and list2: [TUE]\nCommon in list3 vs list1 and list2: [MON, THU, SAT]\n</code></pre>\n"}],"owner":{"account_id":18219875,"reputation":1,"user_id":13260854,"display_name":"tamilanban"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691001589,"answer_count":2,"score":-1,"last_activity_date":1690983274,"creation_date":1690969466,"question_id":76818629,"body_markdown":"I have 3 ArrayLists. the first list is constant and always has 7 values (Days of a week).\r\n   \r\n   ```java\r\n   ArrayList&lt;String&gt; list1= new ArrayList&lt;String&gt;();\r\n   \r\n   list1.add(&quot;MON&quot;);\r\n   list1.add(&quot;WED&quot;);\r\n   list1.add(&quot;THU&quot;);\r\n   list1.add(&quot;SAT&quot;);\r\n   list1.add(&quot;SUN&quot;); The second ArrayList is a collection of Days\r\n   \r\n   ArrayList&lt;String&gt; list2 = DBmanager.getList2();\r\n   \r\n   // list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; } \r\n```\r\n\r\nThe 3rd ArryList is also a collection of Days\r\n   \r\n   ```java\r\n   ArrayList&lt;String&gt; list3 = DBmanager.getList3();\r\n   \r\n   // list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; } \r\n```\r\n\r\nNow, I have to compare all 3. Now I need to record the comparison result in  ArrayLists like\r\n   \r\n   ```none\r\n   MissinginList1VsList2List3  for example ans should be \r\n   [FRI:list2,TUE:list3] because list1 does not have fri and tue\r\n   MissinginList2VsList1List3 MissinginList3VsList1List2\r\n   NewinList1VsList2List3 NewinList2VsList1List3 NewinList3VsList1List2\r\n   commoninList1List2List3\r\n```\r\n   \r\nHow can I achieve this?","title":"How to compare three different Lists and get the differences, common?","body":"<p>I have 3 ArrayLists. the first list is constant and always has 7 values (Days of a week).</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; list1= new ArrayList&lt;String&gt;();\n\nlist1.add(&quot;MON&quot;);\nlist1.add(&quot;WED&quot;);\nlist1.add(&quot;THU&quot;);\nlist1.add(&quot;SAT&quot;);\nlist1.add(&quot;SUN&quot;); The second ArrayList is a collection of Days\n\nArrayList&lt;String&gt; list2 = DBmanager.getList2();\n\n// list2 = {&quot;MON&quot;, &quot;WED&quot;, &quot;THU&quot;, &quot;FRI&quot;, &quot;SAT&quot; } \n</code></pre>\n<p>The 3rd ArryList is also a collection of Days</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; list3 = DBmanager.getList3();\n\n// list3 = {&quot;MON&quot;, &quot;TUE&quot;, &quot;THU&quot;, &quot;SAT&quot; } \n</code></pre>\n<p>Now, I have to compare all 3. Now I need to record the comparison result in  ArrayLists like</p>\n<pre class=\"lang-none prettyprint-override\"><code>MissinginList1VsList2List3  for example ans should be \n[FRI:list2,TUE:list3] because list1 does not have fri and tue\nMissinginList2VsList1List3 MissinginList3VsList1List2\nNewinList1VsList2List3 NewinList2VsList1List3 NewinList3VsList1List2\ncommoninList1List2List3\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1690982976,"post_id":76820380,"comment_id":135428786,"body_markdown":"Please add the relevant parts of your code.","body":"Please add the relevant parts of your code."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983188,"post_id":76820380,"comment_id":135428847,"body_markdown":"Why would it show a table name? The data in the column created by `GROUP_CONCAT` does not have an underlying table. As the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)) says _&quot;Returns: table name or &quot;&quot; if not applicable&quot;_. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you *really* need it.","body":"Why would it show a table name? The data in the column created by <code>GROUP_CONCAT</code> does not have an underlying table. As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)\" rel=\"nofollow noreferrer\">documentation</a> says <i>&quot;Returns: table name or &quot;&quot; if not applicable&quot;</i>. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you <i>really</i> need it."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983270,"post_id":76820380,"comment_id":135428859,"body_markdown":"And `GROUP_CONCAT` returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row.","body":"And <code>GROUP_CONCAT</code> returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757281,"post_id":76820380,"comment_id":135538527,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24009502,"reputation":1,"user_id":17993268,"display_name":"Mario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983109,"creation_date":1690982834,"question_id":76820380,"body_markdown":"Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, it&#180;s returning less rows then without group_concat.\r\n\r\nI tried removing group_concat and editing it differently with group by and nothing happened.\r\n","title":"ResultSetMetadata returning blank table names when using Group Concat?","body":"<p>Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, it´s returning less rows then without group_concat.</p>\n<p>I tried removing group_concat and editing it differently with group by and nothing happened.</p>\n"},{"tags":["java","spring","email","transactions"],"answers":[{"comments":[{"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"score":1,"creation_date":1292942708,"post_id":4333285,"comment_id":4924990,"body_markdown":"Seems like a logical thing to do.","body":"Seems like a logical thing to do."},{"owner":{"account_id":1454317,"reputation":1697,"user_id":1370376,"accept_rate":58,"display_name":"Aron Lorincz"},"score":0,"creation_date":1437122657,"post_id":4333285,"comment_id":50908858,"body_markdown":"It&#39;s good for performance too: your controller doesn&#39;t have to wait for the e-mail to actually be sent, but it can return to the user immediately.","body":"It&#39;s good for performance too: your controller doesn&#39;t have to wait for the e-mail to actually be sent, but it can return to the user immediately."}],"tags":[],"owner":{"account_id":7061,"reputation":2451,"user_id":12067,"accept_rate":93,"display_name":"guigui42"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291280869,"creation_date":1291280869,"answer_id":4333285,"question_id":4331388,"body_markdown":"To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\r\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.\r\n\r\nIts the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.","title":"Transaction and sending an email","body":"<p>To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.</p>\n\n<p>Its the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.</p>\n"},{"comments":[{"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"score":0,"creation_date":1292942823,"post_id":4367875,"comment_id":4925019,"body_markdown":"This seems like a logical thing to do also. I&#39;m not familiar with JMS, so I&#39;m wondering: how can sending the JMS message and updating the database be enrolled in the same transaction?  Do we need to setup XA transactions to achieve this, since the JMS persistent store won&#39;t necessarily be the application database?","body":"This seems like a logical thing to do also. I&#39;m not familiar with JMS, so I&#39;m wondering: how can sending the JMS message and updating the database be enrolled in the same transaction?  Do we need to setup XA transactions to achieve this, since the JMS persistent store won&#39;t necessarily be the application database?"}],"tags":[],"owner":{"account_id":253594,"reputation":1,"user_id":532427,"display_name":"user532427"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291648917,"creation_date":1291648917,"answer_id":4367875,"question_id":4331388,"body_markdown":"I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have\r\n\r\n1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you&#39;re still in a good state (both commit or both rollback and you present an error to the user)\r\n\r\n2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you&#39;ll have a better solution for managing transient problems with your email system. ","title":"Transaction and sending an email","body":"<p>I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have</p>\n\n<p>1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you're still in a good state (both commit or both rollback and you present an error to the user)</p>\n\n<p>2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you'll have a better solution for managing transient problems with your email system. </p>\n"},{"comments":[{"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"score":0,"creation_date":1292942562,"post_id":4407607,"comment_id":4924956,"body_markdown":"Interesting, I didn&#39;t know about that part of the API. Unfortunately we&#39;re not using JTA in our environment (only resource local transactions) so this approach isn&#39;t a viable option.","body":"Interesting, I didn&#39;t know about that part of the API. Unfortunately we&#39;re not using JTA in our environment (only resource local transactions) so this approach isn&#39;t a viable option."},{"owner":{"account_id":682239,"reputation":61,"user_id":537677,"display_name":"qtxo"},"score":8,"creation_date":1296646995,"post_id":4407607,"comment_id":5418889,"body_markdown":"I am using local tx too with Spring managed tx which lets me register Synch objects: \n`public void sendMailAfterCommit(final MailManager mail) {\n\tTransactionSynchronizationManager.registerSynchronization(\n\t\t\tnew TransactionSynchronizationAdapter() {\n\t\t@Override\n\t\tpublic void afterCommit() {\n\t\t\tmailService.sendMail(mail);\n\t\t}\n\t});\n}`","body":"I am using local tx too with Spring managed tx which lets me register Synch objects:  <code>public void sendMailAfterCommit(final MailManager mail) { \tTransactionSynchronizationManager.registerSynchronization( \t\t\tnew TransactionSynchronizationAdapter() { \t\t@Override \t\tpublic void afterCommit() { \t\t\tmailService.sendMail(mail); \t\t} \t}); }</code>"}],"tags":[],"owner":{"account_id":682239,"reputation":61,"user_id":537677,"display_name":"qtxo"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291975101,"creation_date":1291975101,"answer_id":4407607,"question_id":4331388,"body_markdown":"Another option I am currently using to solve this problem:\r\n\r\nhttp://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\r\n ","title":"Transaction and sending an email","body":"<p>Another option I am currently using to solve this problem:</p>\n\n<p><a href=\"http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\" rel=\"noreferrer\">http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html</a></p>\n"},{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361319417,"creation_date":1361319417,"answer_id":14970105,"question_id":4331388,"body_markdown":"Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. \r\n\r\nIt&#39;s also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.\r\n\r\nIt may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.","title":"Transaction and sending an email","body":"<p>Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. </p>\n\n<p>It's also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.</p>\n\n<p>It may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.</p>\n"},{"tags":[],"owner":{"account_id":29144744,"reputation":1,"user_id":22326932,"display_name":"zymarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982964,"creation_date":1690982964,"answer_id":76820395,"question_id":4331388,"body_markdown":"You can use event-based approach.\r\n1. Publish event via spring event published from transaction\r\n2. Create @TransactionalEventListener to handle this event and send email here\r\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\r\nIn this case you could be sure that email will be sent only if transaction is commited","title":"Transaction and sending an email","body":"<p>You can use event-based approach.</p>\n<ol>\n<li>Publish event via spring event published from transaction</li>\n<li>Create @TransactionalEventListener to handle this event and send email here\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\nIn this case you could be sure that email will be sent only if transaction is commited</li>\n</ol>\n"}],"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6836,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690982964,"creation_date":1291260621,"question_id":4331388,"body_markdown":"Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user&#39;s address.  From what I&#39;ve seen, this is typically implemented in one of 3 ways:\r\n\r\n1. The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.\r\n2. The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.\r\n3. The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.\r\n\r\nThe 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn&#39;t need to know.\r\n\r\nIsn&#39;t there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?\r\n\r\nWe&#39;re using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.\r\n\r\nCheers!\r\n","title":"Transaction and sending an email","body":"<p>Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user's address.  From what I've seen, this is typically implemented in one of 3 ways:</p>\n\n<ol>\n<li>The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.</li>\n<li>The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.</li>\n<li>The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.</li>\n</ol>\n\n<p>The 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn't need to know.</p>\n\n<p>Isn't there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?</p>\n\n<p>We're using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.</p>\n\n<p>Cheers!</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690969281,"creation_date":1690969281,"answer_id":76818608,"question_id":76814435,"body_markdown":"This error means you are passing a `null` `filePath` here:\r\n\r\n```\r\nreader.setResource(new FileSystemResource(filePath));\r\n```\r\n\r\nMake sure the job parameter is correctly passed to the job.","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>This error means you are passing a <code>null</code> <code>filePath</code> here:</p>\n<pre><code>reader.setResource(new FileSystemResource(filePath));\n</code></pre>\n<p>Make sure the job parameter is correctly passed to the job.</p>\n"}],"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818608,"answer_count":1,"score":0,"last_activity_date":1690982863,"creation_date":1690915612,"question_id":76814435,"body_markdown":"I have a spring boot with spring batch application that is giving me below error:\r\n\r\n    8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.reader&#39; defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method &#39;reader&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\r\n\r\n\r\n**BatchConfiguration.java**\r\n       \r\n        @Bean\r\n        @StepScope\r\n        public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath) {    \t    \t\r\n        \t\r\n        \tBeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();    \t\r\n        \treader.setUseSpringExceptions(true);\r\n    \t\treader.setResource(new FileSystemResource(filePath));    \t\t\r\n    \t\treader.setStreamName(inputContactStreamName);\r\n    \t\treader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    \t\treader.setStreamFactory(StreamFactory.newInstance());\r\n    \t\treader.getLineNumber();\r\n        \t\r\n        \treturn reader;    \t\r\n        }\r\n\r\n\r\nAny idea on why that error is coming and how to solve it?","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>I have a spring boot with spring batch application that is giving me below error:</p>\n<pre><code>8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.reader' defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method 'reader' threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\n</code></pre>\n<p><strong>BatchConfiguration.java</strong></p>\n<pre><code>    @Bean\n    @StepScope\n    public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath) {               \n        \n        BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();        \n        reader.setUseSpringExceptions(true);\n        reader.setResource(new FileSystemResource(filePath));           \n        reader.setStreamName(inputContactStreamName);\n        reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n        reader.setStreamFactory(StreamFactory.newInstance());\n        reader.getLineNumber();\n        \n        return reader;      \n    }\n</code></pre>\n<p>Any idea on why that error is coming and how to solve it?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1690813073,"post_id":76800297,"comment_id":135401396,"body_markdown":"Welcome on StackOverflow ! Can you make a [mre] instead of giving your full plugin with paste. With this, you could focus on only part of code and include in your post","body":"Welcome on StackOverflow ! Can you make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead of giving your full plugin with paste. With this, you could focus on only part of code and include in your post"},{"owner":{"account_id":29125167,"reputation":1,"user_id":22311649,"display_name":"Slackingslack"},"score":0,"creation_date":1690848522,"post_id":76800297,"comment_id":135407241,"body_markdown":"Here I added the methods that are giving me trouble. Also I&#39;m not getting an error so I can not do the minimal reproducible example. The code is simply not doing what it is supposed to which is unloading the world. I have verified that world name and spawn variable are both correct worlds. @Elikill58","body":"Here I added the methods that are giving me trouble. Also I&#39;m not getting an error so I can not do the minimal reproducible example. The code is simply not doing what it is supposed to which is unloading the world. I have verified that world name and spawn variable are both correct worlds. @Elikill58"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690986278,"post_id":76800297,"comment_id":135429683,"body_markdown":"You may receive better help on the [SpigotMC forums](https://www.spigotmc.org/forums/spigot-plugin-development.52/), as the issues you describe are a bit inherent to the underlying system for what you&#39;re doing (there are several hurdles to dynamic world handling, one of which can be memory leaking, another is misconceptions of what the methods do). One idea in the short term to make the issue rear its head: set the world folders to read-only (e.g. `chmod -R 600 world1/`). Anything trying to write to them then will fail and throw a stack trace.","body":"You may receive better help on the <a href=\"https://www.spigotmc.org/forums/spigot-plugin-development.52/\" rel=\"nofollow noreferrer\">SpigotMC forums</a>, as the issues you describe are a bit inherent to the underlying system for what you&#39;re doing (there are several hurdles to dynamic world handling, one of which can be memory leaking, another is misconceptions of what the methods do). One idea in the short term to make the issue rear its head: set the world folders to read-only (e.g. <code>chmod -R 600 world1&#47;</code>). Anything trying to write to them then will fail and throw a stack trace."},{"owner":{"account_id":14211980,"reputation":53,"user_id":10266931,"display_name":"Nathanna"},"score":0,"creation_date":1692858090,"post_id":76800297,"comment_id":135681430,"body_markdown":"[SpigotMC](https://spigotmc.org) is def the place to go for anything Minecraft Java Edition related! For [my network](https://sandbattle.com) I always post there first before coming to the [StackOverflow](https://stackoverflow.com). It helps because people are use to Plugin development **almost entirely**.","body":"<a href=\"https://spigotmc.org\" rel=\"nofollow noreferrer\">SpigotMC</a> is def the place to go for anything Minecraft Java Edition related! For <a href=\"https://sandbattle.com\" rel=\"nofollow noreferrer\">my network</a> I always post there first before coming to the <a href=\"https://stackoverflow.com\">StackOverflow</a>. It helps because people are use to Plugin development <b>almost entirely</b>."}],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982750,"creation_date":1690982750,"answer_id":76820364,"question_id":76800297,"body_markdown":"Setting `setAutoSave` to `false` doesn&#39;t guarantee that the world won&#39;t be saved; it only prevents the auto-save feature from executing. Other triggers cause a world save, such as chunks unloading or players leaving (player data is stored as part of the world data).\r\n\r\nThe normal way to achieve what you&#39;re after is to keep a clean copy of your arena world on disk. Then, when you want to reset the arena, you delete the current world and copy over the clean version to the server.\r\n\r\nFor example:\r\n```java\r\nprivate World arenaWorld;\r\nprivate Arena arena;\r\n...\r\nprivate void resetArena() {\r\n    // Call logic to remove players from the world\r\n    this.arena.teleportPlayersToHoldingWorld();\r\n    // Unload the world, and don&#39;t save it\r\n    Bukkit.unloadWorld(this.arenaWorld, false);\r\n    // Delete the old world\r\n    FileUtility.delete(this.arenaWorld.getWorldFolder());\r\n    // Copy over the clean arena\r\n    FileUtility.copyFolder(this.arena.getArenaFiles(), Bukkit.getWorldContainer());\r\n    // Load the world using `WorldCreator`, with a void terrain generator\r\n    this.arena.createArena(this.arenaWorld.getName(), TerrainGenerator.VOID);\r\n}\r\n``` \r\nThis is pseudo-code; you would need to create `FileUtility` and `Arena` classes yourself, but plenty of resources are out there to get you started.","title":"SPIGOT API Minigame Map Rollback Using World Unload Method","body":"<p>Setting <code>setAutoSave</code> to <code>false</code> doesn't guarantee that the world won't be saved; it only prevents the auto-save feature from executing. Other triggers cause a world save, such as chunks unloading or players leaving (player data is stored as part of the world data).</p>\n<p>The normal way to achieve what you're after is to keep a clean copy of your arena world on disk. Then, when you want to reset the arena, you delete the current world and copy over the clean version to the server.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private World arenaWorld;\nprivate Arena arena;\n...\nprivate void resetArena() {\n    // Call logic to remove players from the world\n    this.arena.teleportPlayersToHoldingWorld();\n    // Unload the world, and don't save it\n    Bukkit.unloadWorld(this.arenaWorld, false);\n    // Delete the old world\n    FileUtility.delete(this.arenaWorld.getWorldFolder());\n    // Copy over the clean arena\n    FileUtility.copyFolder(this.arena.getArenaFiles(), Bukkit.getWorldContainer());\n    // Load the world using `WorldCreator`, with a void terrain generator\n    this.arena.createArena(this.arenaWorld.getName(), TerrainGenerator.VOID);\n}\n</code></pre>\n<p>This is pseudo-code; you would need to create <code>FileUtility</code> and <code>Arena</code> classes yourself, but plenty of resources are out there to get you started.</p>\n"}],"owner":{"account_id":29125167,"reputation":1,"user_id":22311649,"display_name":"Slackingslack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690982750,"creation_date":1690768985,"question_id":76800297,"body_markdown":"So I&#39;ve been trying to create a simple minigame engine. Within my Arena Manager class I create the arena&#39;s based on the config file information. I then make it so these worlds have autosave set to false. That way when I unload and reload the world in the reset() method of my Arena class the map/arena should be as good as new. However, that is not the case. If someone could please tell me what I am doing wrong or some good alternate methods that would be greatly appreciated! Game class is where reset() is called\r\nRelevant Classes\r\n[Arena Class](https://paste.md-5.net/obuvalipil.cs)`Arena Class`\r\n[Arena Manager Class](https://paste.md-5.net/sivujixapu.cs)`Arena Manager`\r\n[Game Class](https://paste.md-5.net/omoxibojen.cs)`Game Class`\r\nConfig\r\n[text](https://paste.md-5.net/imofofipen.makefile%5Btext%5D)\r\nTried setting autosave in the bukkit.yml to be -1 to see if that was overriding my plugin settings. Expected it to ensure unloading the world didn&#39;t have any changes left. Instead didn&#39;t work.\r\nFor more clarification the world isn&#39;t being unloaded so changes made to the arena map carry over into the next game.\r\n\r\nCode For Creating Minigame Arena\r\n\r\n    for (String str: config.getConfigurationSection(&quot;arenas.&quot;).getKeys(false)){\r\n            // Returns a set of strings\r\n            World world = Bukkit.createWorld(new WorldCreator(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)));\r\n            world.save();\r\n            world.setAutoSave(false); // Setting World 1&#39;s Autosave to false\r\n\r\n            arenas.add(new Arena(minigame,Integer.parseInt(str),new Location(\r\n                    Bukkit.getWorld(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.x&quot;),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.y&quot;),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.z&quot;),\r\n                    (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.yaw&quot;),\r\n                    (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.pitch&quot;))));\r\n        }\r\nCode For Resetting Arena:\r\n\r\n    public void reset(){\r\n        System.out.println(&quot;Method fired!&quot;);\r\n        if (state == GameState.LIVE) {\r\n            this.canJoin = false;\r\n            // Adding check to see if GameState is Live which indicates we need to reset a map and kick players,\r\n            // However, in other cases we don&#39;t need to bother with kicking players\r\n            Location lobbySpawn = ConfigManager.getLobbySpawn();\r\n            for (UUID uuid : playersinArena) {\r\n                Bukkit.getPlayer(uuid).teleport(lobbySpawn);\r\n            }\r\n            playersinArena.clear();\r\n\r\n            String worldname = spawn.getWorld().getName();\r\n            System.out.println(&quot;World Name:&quot;+worldname);\r\n            Bukkit.unloadWorld(spawn.getWorld(), false);\r\n            World world = Bukkit.createWorld(new WorldCreator(worldname));\r\n            world.setAutoSave(false); // Setting World 1&#39;s Auto-save to false\r\n        }","title":"SPIGOT API Minigame Map Rollback Using World Unload Method","body":"<p>So I've been trying to create a simple minigame engine. Within my Arena Manager class I create the arena's based on the config file information. I then make it so these worlds have autosave set to false. That way when I unload and reload the world in the reset() method of my Arena class the map/arena should be as good as new. However, that is not the case. If someone could please tell me what I am doing wrong or some good alternate methods that would be greatly appreciated! Game class is where reset() is called\nRelevant Classes\n<a href=\"https://paste.md-5.net/obuvalipil.cs\" rel=\"nofollow noreferrer\">Arena Class</a><code>Arena Class</code>\n<a href=\"https://paste.md-5.net/sivujixapu.cs\" rel=\"nofollow noreferrer\">Arena Manager Class</a><code>Arena Manager</code>\n<a href=\"https://paste.md-5.net/omoxibojen.cs\" rel=\"nofollow noreferrer\">Game Class</a><code>Game Class</code>\nConfig\n<a href=\"https://paste.md-5.net/imofofipen.makefile%5Btext%5D\" rel=\"nofollow noreferrer\">text</a>\nTried setting autosave in the bukkit.yml to be -1 to see if that was overriding my plugin settings. Expected it to ensure unloading the world didn't have any changes left. Instead didn't work.\nFor more clarification the world isn't being unloaded so changes made to the arena map carry over into the next game.</p>\n<p>Code For Creating Minigame Arena</p>\n<pre><code>for (String str: config.getConfigurationSection(&quot;arenas.&quot;).getKeys(false)){\n        // Returns a set of strings\n        World world = Bukkit.createWorld(new WorldCreator(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)));\n        world.save();\n        world.setAutoSave(false); // Setting World 1's Autosave to false\n\n        arenas.add(new Arena(minigame,Integer.parseInt(str),new Location(\n                Bukkit.getWorld(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.x&quot;),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.y&quot;),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.z&quot;),\n                (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.yaw&quot;),\n                (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.pitch&quot;))));\n    }\n</code></pre>\n<p>Code For Resetting Arena:</p>\n<pre><code>public void reset(){\n    System.out.println(&quot;Method fired!&quot;);\n    if (state == GameState.LIVE) {\n        this.canJoin = false;\n        // Adding check to see if GameState is Live which indicates we need to reset a map and kick players,\n        // However, in other cases we don't need to bother with kicking players\n        Location lobbySpawn = ConfigManager.getLobbySpawn();\n        for (UUID uuid : playersinArena) {\n            Bukkit.getPlayer(uuid).teleport(lobbySpawn);\n        }\n        playersinArena.clear();\n\n        String worldname = spawn.getWorld().getName();\n        System.out.println(&quot;World Name:&quot;+worldname);\n        Bukkit.unloadWorld(spawn.getWorld(), false);\n        World world = Bukkit.createWorld(new WorldCreator(worldname));\n        world.setAutoSave(false); // Setting World 1's Auto-save to false\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","google-chrome","spring-security","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982745,"creation_date":1690982745,"answer_id":76820363,"question_id":76788746,"body_markdown":"The above code snippet in the question logged me out from the Spring app, but did not log me out from the Microsoft session.\r\nThe end result of it was that after the successful logout, I was forwarded to the login page again, and the Azure login page logged me in again automatically into the Spring app due to my valid Azure AD session.\r\n\r\nTo implement a proper logout, you need to add `logoutSuccessHandler` to the SecurityFilterChain, as below:\r\n\r\n            http.logout(logout -&gt; logout\r\n                                  .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                                  .logoutSuccessUrl(&quot;/&quot;)\r\n                                  .logoutSuccessHandler(new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository))\r\n                                  .deleteCookies(&quot;JSESSIONID&quot;)\r\n        );\r\n\r\nI used the `org.springframework.security.oauth2.client.oidc.web.logout.OidcClientInitiatedLogoutSuccessHandler` class as a logoutSuccessHandler.\r\nThe type of it&#39;s constructor parameter is `ClientRegistrationRepository`, which can be injected by Spring without any problems.","title":"Google Chrome does not le me sign out from AAD based Spring Boot application using session cookies","body":"<p>The above code snippet in the question logged me out from the Spring app, but did not log me out from the Microsoft session.\nThe end result of it was that after the successful logout, I was forwarded to the login page again, and the Azure login page logged me in again automatically into the Spring app due to my valid Azure AD session.</p>\n<p>To implement a proper logout, you need to add <code>logoutSuccessHandler</code> to the SecurityFilterChain, as below:</p>\n<pre><code>        http.logout(logout -&gt; logout\n                              .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n                              .logoutSuccessUrl(&quot;/&quot;)\n                              .logoutSuccessHandler(new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository))\n                              .deleteCookies(&quot;JSESSIONID&quot;)\n    );\n</code></pre>\n<p>I used the <code>org.springframework.security.oauth2.client.oidc.web.logout.OidcClientInitiatedLogoutSuccessHandler</code> class as a logoutSuccessHandler.\nThe type of it's constructor parameter is <code>ClientRegistrationRepository</code>, which can be injected by Spring without any problems.</p>\n"}],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690982745,"creation_date":1690554689,"question_id":76788746,"body_markdown":"I have a Spring boot based web app. Spring boot ver: 6.x Spring Security version 3.x.\r\n\r\nI have implemented the SecurityFilterChain customization as follows:\r\n\r\n    ...\r\n            http.logout().deleteCookies(&quot;JSESSIONID&quot;).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;);\r\n    ...\r\n\r\nThe app lets me log out successfully in Firefox, but not in Google Chrome. When I invoke the /logout [GET] endpoint, then Chrome navigates to the login.microsoftonline.com and logs me in again automatically, even without asking me, in which user&#39;s name I would like to log in.\r\n\r\nI&#39;ve cleared the browser cache, and I made sure I did not allow the &quot;remember me&quot; function of AAD, or anything similar, but the app keeps letting me in after I log in once. I will burn my laptop soon. Please, advise something.","title":"Google Chrome does not le me sign out from AAD based Spring Boot application using session cookies","body":"<p>I have a Spring boot based web app. Spring boot ver: 6.x Spring Security version 3.x.</p>\n<p>I have implemented the SecurityFilterChain customization as follows:</p>\n<pre><code>...\n        http.logout().deleteCookies(&quot;JSESSIONID&quot;).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;);\n...\n</code></pre>\n<p>The app lets me log out successfully in Firefox, but not in Google Chrome. When I invoke the /logout [GET] endpoint, then Chrome navigates to the login.microsoftonline.com and logs me in again automatically, even without asking me, in which user's name I would like to log in.</p>\n<p>I've cleared the browser cache, and I made sure I did not allow the &quot;remember me&quot; function of AAD, or anything similar, but the app keeps letting me in after I log in once. I will burn my laptop soon. Please, advise something.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690610614,"post_id":76792257,"comment_id":135380474,"body_markdown":"Please don&#39;t post images of code. Edit your question and add your code as properly formatted text.","body":"Please don&#39;t post images of code. Edit your question and add your code as properly formatted text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690611052,"post_id":76792257,"comment_id":135380501,"body_markdown":"You also need to explain exactly what &quot;trouble&quot; you&#39;re having.","body":"You also need to explain exactly what &quot;trouble&quot; you&#39;re having."},{"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"score":0,"creation_date":1690611297,"post_id":76792257,"comment_id":135380516,"body_markdown":"Sorry I had it filled out then I couldn&#39;t figure out how to indent the code correctly so I had to redo it.","body":"Sorry I had it filled out then I couldn&#39;t figure out how to indent the code correctly so I had to redo it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690611779,"post_id":76792257,"comment_id":135380552,"body_markdown":"Should `ResultSet data = (ResultSet) dataList.get(2);` be `get(k)`?","body":"Should <code>ResultSet data = (ResultSet) dataList.get(2);</code> be <code>get(k)</code>?"},{"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"score":0,"creation_date":1690611895,"post_id":76792257,"comment_id":135380560,"body_markdown":"yes it should. I was just testing out what showed up when I tried 2.","body":"yes it should. I was just testing out what showed up when I tried 2."}],"answers":[{"tags":[],"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982467,"creation_date":1690614487,"answer_id":76792451,"question_id":76792257,"body_markdown":"I moved my `CachedRowSet` and factory declaration inside my while loop and changed my `arraylist` from rowset to `cachedrowset`. This fixed my issues. Thanks and hopefully it helps someone else in the future.","title":"Trouble passing multiple database tables to JTables","body":"<p>I moved my <code>CachedRowSet</code> and factory declaration inside my while loop and changed my <code>arraylist</code> from rowset to <code>cachedrowset</code>. This fixed my issues. Thanks and hopefully it helps someone else in the future.</p>\n"}],"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690982467,"creation_date":1690610572,"question_id":76792257,"body_markdown":"   \r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\r\n */\r\npackage databaseschema;\r\n\r\nimport java.awt.Container;\r\nimport java.awt.GridLayout;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetFactory;\r\nimport javax.sql.rowset.RowSetProvider;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTabbedPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\n\r\n/**\r\n *\r\n * @author mrich\r\n */\r\npublic class DatabaseSchema2 {  \r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     * @throws java.sql.SQLException\r\n     */\r\n\r\n    public static void main(String[] args) throws SQLException { \r\n        //Sets up gui\r\n        JFrame frame =new JFrame();\r\n        frame.setSize(700, 700);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Container container = frame.getContentPane();\r\n        container.setLayout(new GridLayout());\r\n        \r\n        \r\n\r\n        frame.add(addPane());\r\n        frame.setVisible(true);\r\n        }\r\n    \r\n    \r\n    public static JTabbedPane addPane() throws SQLException{\r\n        String user = loginButton.Instance.username;\r\n        String pass= loginButton.Instance.password;\r\n        String url= loginButton.Instance.server;\r\n        String database= loginButton.Instance.database;\r\n        JTabbedPane pane = new JTabbedPane(JTabbedPane.TOP);\r\n        ArrayList dataList = getData(url,database,user,pass);\r\n        for(int k = 0;k&lt;dataList.size();k++){\r\n        JTable table = new JTable();        JScrollPane scroll = new JScrollPane(table);\r\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n       \r\n        \r\n        CachedRowSet data=(CachedRowSet) dataList.get(k);\r\n        \r\n        ResultSetMetaData mD = data.getMetaData();\r\n            int columns = mD.getColumnCount();\r\n            String[] colName = new String[columns];\r\n                for(int j =0;j&lt;columns;j++)\r\n               \r\n                {colName[j]=mD.getColumnName(j+1);\r\n                model.setColumnIdentifiers(colName);\r\n                }\r\n        \r\n            \r\n           while(data.next()){\r\n                ArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();\r\n                for(int i = 0;i&lt;columns;i++){\r\n                    \r\n                    String row = data.getString(i+1);\r\n                    rows.add(row); \r\n                }\r\n                model.addRow(rows.toArray());\r\n            }\r\n            table.setModel(model);\r\n            pane.addTab(mD.getTableName(k+1), scroll);}\r\n            return pane;\r\n        }\r\n        \r\n    \r\n    public static ArrayList getData( String url, String database, String user, String pass){\r\n        //Passes data for all accessible databases using sql statements populated with user entered data\r\n        PreparedStatement stat,stat2;\r\n        ResultSet data,dbName;\r\n        String dbURLString =&quot;jdbc:mysql://&quot;+url+&quot;/&quot;+database;\r\n        String dbSql=&quot;Show tables from &quot;+database;\r\n        String sqlState;\r\n        \r\n        ArrayList&lt;ResultSet&gt; dataList;\r\n        dataList = new ArrayList&lt;ResultSet&gt;();\r\n\r\n                \r\n        try {\r\n            \r\n            \r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            try (Connection conn = DriverManager.getConnection(dbURLString,user,pass)) { \r\n                stat = conn.prepareStatement(dbSql);\r\n                dbName=stat.executeQuery();\r\n               while(dbName.next()){\r\n                RowSetFactory fact = RowSetProvider.newFactory();\r\n                CachedRowSet crs = fact.createCachedRowSet();\r\n                \r\n               sqlState=&quot;Select * from &quot;+dbName.getString(&quot;Tables_in_&quot;+database)+&quot;;&quot;;\r\n                stat2 = conn.prepareStatement(sqlState);\r\n                data = stat2.executeQuery();\r\n                crs.populate(data);\r\n                dataList.add(crs);\r\n                }\r\n              \r\n                conn.close();\r\n                loginButton.Instance.dispose();\r\n                return dataList;\r\n            }\r\n\r\n            \r\n        } catch (SQLException | ClassNotFoundException ex) {\r\n            Logger.getLogger(DatabaseSchema2.class.getName()).log(Level.SEVERE, &quot;Failed to get data&quot;, ex);\r\n            loginButton.Instance.errLabel.setVisible(true);\r\n        }\r\n        \r\n        return (null);\r\n        \r\n   }\r\n   \r\n    \r\n}\r\n\r\n```\r\n\r\nSo I have been working on this for a couple weeks now. I am new to Java coding with SQL. I have gotten this far and I am just lost. I need assistance getting everything sorted out. I am able to get a single table to show up or a jumbled mess of of all three tables. It will have all three ids at the top of the scroll pane. If you can point me in the right direction it would be appreciated.","title":"Trouble passing multiple database tables to JTables","body":"<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\n */\npackage databaseschema;\n\nimport java.awt.Container;\nimport java.awt.GridLayout;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetFactory;\nimport javax.sql.rowset.RowSetProvider;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTabbedPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\n\n\n/**\n *\n * @author mrich\n */\npublic class DatabaseSchema2 {  \n    \n    /**\n     * @param args the command line arguments\n     * @throws java.sql.SQLException\n     */\n\n    public static void main(String[] args) throws SQLException { \n        //Sets up gui\n        JFrame frame =new JFrame();\n        frame.setSize(700, 700);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Container container = frame.getContentPane();\n        container.setLayout(new GridLayout());\n        \n        \n\n        frame.add(addPane());\n        frame.setVisible(true);\n        }\n    \n    \n    public static JTabbedPane addPane() throws SQLException{\n        String user = loginButton.Instance.username;\n        String pass= loginButton.Instance.password;\n        String url= loginButton.Instance.server;\n        String database= loginButton.Instance.database;\n        JTabbedPane pane = new JTabbedPane(JTabbedPane.TOP);\n        ArrayList dataList = getData(url,database,user,pass);\n        for(int k = 0;k&lt;dataList.size();k++){\n        JTable table = new JTable();        JScrollPane scroll = new JScrollPane(table);\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\n       \n        \n        CachedRowSet data=(CachedRowSet) dataList.get(k);\n        \n        ResultSetMetaData mD = data.getMetaData();\n            int columns = mD.getColumnCount();\n            String[] colName = new String[columns];\n                for(int j =0;j&lt;columns;j++)\n               \n                {colName[j]=mD.getColumnName(j+1);\n                model.setColumnIdentifiers(colName);\n                }\n        \n            \n           while(data.next()){\n                ArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();\n                for(int i = 0;i&lt;columns;i++){\n                    \n                    String row = data.getString(i+1);\n                    rows.add(row); \n                }\n                model.addRow(rows.toArray());\n            }\n            table.setModel(model);\n            pane.addTab(mD.getTableName(k+1), scroll);}\n            return pane;\n        }\n        \n    \n    public static ArrayList getData( String url, String database, String user, String pass){\n        //Passes data for all accessible databases using sql statements populated with user entered data\n        PreparedStatement stat,stat2;\n        ResultSet data,dbName;\n        String dbURLString =&quot;jdbc:mysql://&quot;+url+&quot;/&quot;+database;\n        String dbSql=&quot;Show tables from &quot;+database;\n        String sqlState;\n        \n        ArrayList&lt;ResultSet&gt; dataList;\n        dataList = new ArrayList&lt;ResultSet&gt;();\n\n                \n        try {\n            \n            \n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            try (Connection conn = DriverManager.getConnection(dbURLString,user,pass)) { \n                stat = conn.prepareStatement(dbSql);\n                dbName=stat.executeQuery();\n               while(dbName.next()){\n                RowSetFactory fact = RowSetProvider.newFactory();\n                CachedRowSet crs = fact.createCachedRowSet();\n                \n               sqlState=&quot;Select * from &quot;+dbName.getString(&quot;Tables_in_&quot;+database)+&quot;;&quot;;\n                stat2 = conn.prepareStatement(sqlState);\n                data = stat2.executeQuery();\n                crs.populate(data);\n                dataList.add(crs);\n                }\n              \n                conn.close();\n                loginButton.Instance.dispose();\n                return dataList;\n            }\n\n            \n        } catch (SQLException | ClassNotFoundException ex) {\n            Logger.getLogger(DatabaseSchema2.class.getName()).log(Level.SEVERE, &quot;Failed to get data&quot;, ex);\n            loginButton.Instance.errLabel.setVisible(true);\n        }\n        \n        return (null);\n        \n   }\n   \n    \n}\n\n</code></pre>\n<p>So I have been working on this for a couple weeks now. I am new to Java coding with SQL. I have gotten this far and I am just lost. I need assistance getting everything sorted out. I am able to get a single table to show up or a jumbled mess of of all three tables. It will have all three ids at the top of the scroll pane. If you can point me in the right direction it would be appreciated.</p>\n"},{"tags":["java","xml","swiftmessages"],"answers":[{"tags":[],"owner":{"account_id":29144463,"reputation":11,"user_id":22326716,"display_name":"Pablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690981852,"creation_date":1690980458,"answer_id":76820038,"question_id":75699514,"body_markdown":"It looks like you&#39;re trying to parse an unknown SWIFT MX type message. In this case, you might want to look at the provided examples in the official Prowide ISO20022 Github repository, which can be found [here](https://github.com/prowide/prowide-iso20022-examples). You&#39;ll also find community support there.\r\n\r\nAn example of parsing an unknown message type might look something like this:\r\n\r\n```java\r\npublic class MxParseUnknownMessageType {\r\n    public static void main(String[] args) {\r\n        String xml = &quot;YOUR_XML_MESSAGE_HERE&quot;;\r\n        // parse into generic structure\r\n        AbstractMX mx = AbstractMX.parse(xml);\r\n        System.out.println(&quot;Parsed message type: &quot; + mx.getMxId().id());\r\n        // check the parsed type and cast to specific model\r\n        if (&quot;camt.048.001.03&quot;.equals(mx.getMxId().id())) {\r\n            MxCamt04800103 camt = (MxCamt04800103) mx;\r\n            System.out.println(&quot;Message id: &quot; + camt.getModfyRsvatn().getMsgHdr().getMsgId());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJust replace `&quot;YOUR_XML_MESSAGE_HERE&quot;` with your XML string.\r\n\r\nThis code will parse the XML into a generic SWIFT MX structure. It then checks the type of the message and, if it matches the given type (&quot;camt.048.001.03&quot;), it casts it to the specific model class and extracts the required fields.\r\n\r\nFor fields that could appear in different locations, you&#39;d have to check the parsed message for different potential paths. Each SWIFT MX type message has its own model class, and the field locations are defined according to the SWIFT MX Message Standard.\r\n\r\nIn regard to retrieving the UETR:\r\n\r\nThe primary capabilities of the iso-20022 project include offering a Java model for ISO 20022 MX (for instance, the MxPacs00800109 class), facilitating parsing from XML to Java model and building from Java to XML. Additionally, it also enables conversion to JSON.\r\n\r\nGiven this, you have the option to employ a standard XML parser and adapt the XML message at any stage of your process. Similarly, you can transform the message into JSON and perform equivalent operations. However, if you choose to utilize the Java model, each message will be unique, necessitating thorough knowledge of the structure to access that value.\r\n\r\n```\r\nnew MxPacs01000103().getFIDrctDbt().getCdtInstr().getDrctDbtTxInf().getPmtId().getUETR()\r\n\r\nnew MxPacs00800108().getFIToFICstmrCdtTrf().getCdtTrfTxInf().get(0).getPmtId().getUETR();\r\n```\r\n\r\nHope this helps!","title":"Extracting UETR from SwiftMX Using Prowide Java Library","body":"<p>It looks like you're trying to parse an unknown SWIFT MX type message. In this case, you might want to look at the provided examples in the official Prowide ISO20022 Github repository, which can be found <a href=\"https://github.com/prowide/prowide-iso20022-examples\" rel=\"nofollow noreferrer\">here</a>. You'll also find community support there.</p>\n<p>An example of parsing an unknown message type might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MxParseUnknownMessageType {\n    public static void main(String[] args) {\n        String xml = &quot;YOUR_XML_MESSAGE_HERE&quot;;\n        // parse into generic structure\n        AbstractMX mx = AbstractMX.parse(xml);\n        System.out.println(&quot;Parsed message type: &quot; + mx.getMxId().id());\n        // check the parsed type and cast to specific model\n        if (&quot;camt.048.001.03&quot;.equals(mx.getMxId().id())) {\n            MxCamt04800103 camt = (MxCamt04800103) mx;\n            System.out.println(&quot;Message id: &quot; + camt.getModfyRsvatn().getMsgHdr().getMsgId());\n        }\n    }\n}\n</code></pre>\n<p>Just replace <code>&quot;YOUR_XML_MESSAGE_HERE&quot;</code> with your XML string.</p>\n<p>This code will parse the XML into a generic SWIFT MX structure. It then checks the type of the message and, if it matches the given type (&quot;camt.048.001.03&quot;), it casts it to the specific model class and extracts the required fields.</p>\n<p>For fields that could appear in different locations, you'd have to check the parsed message for different potential paths. Each SWIFT MX type message has its own model class, and the field locations are defined according to the SWIFT MX Message Standard.</p>\n<p>In regard to retrieving the UETR:</p>\n<p>The primary capabilities of the iso-20022 project include offering a Java model for ISO 20022 MX (for instance, the MxPacs00800109 class), facilitating parsing from XML to Java model and building from Java to XML. Additionally, it also enables conversion to JSON.</p>\n<p>Given this, you have the option to employ a standard XML parser and adapt the XML message at any stage of your process. Similarly, you can transform the message into JSON and perform equivalent operations. However, if you choose to utilize the Java model, each message will be unique, necessitating thorough knowledge of the structure to access that value.</p>\n<pre><code>new MxPacs01000103().getFIDrctDbt().getCdtInstr().getDrctDbtTxInf().getPmtId().getUETR()\n\nnew MxPacs00800108().getFIToFICstmrCdtTrf().getCdtTrfTxInf().get(0).getPmtId().getUETR();\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":19217396,"reputation":1,"user_id":14041894,"display_name":"SYED SAQIB S A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690981852,"creation_date":1678470877,"question_id":75699514,"body_markdown":"I am pretty new to processing swift messages in java, I am trying with prowide-iso20022 software java library to parse the SwiftMX messages (https://github.com/prowide/prowide-iso20022)\r\n\r\nI want to extract UETR (**OrgnlUETR**) of a message and other similar required information from the message, these field I think can be in different locations/hierarchy in xml for different type of message (i.e no common hierarchy). Need help in how to extract the required fields, since there are lot type of messages in SwiftMX \r\n\r\n\r\nBelow is the sample/dummy SwiftMX message for reference.\r\n\r\n```\r\n&lt;SwiftMx&gt;\r\n    &lt;Header&gt;\r\n        &lt;DestinationID&gt;ABC&lt;/DestinationID&gt;\r\n        &lt;SenderID&gt;PQR&lt;/SenderID&gt;\r\n        &lt;OperationOrganizationID/&gt;\r\n        &lt;MessageType&gt;ISO22IN&lt;/MessageType&gt;\r\n        &lt;DateSent&gt;20200321&lt;/DateSent&gt;\r\n        &lt;TimeSent&gt;0829&lt;/TimeSent&gt;\r\n        &lt;MessageID&gt;3190eee&lt;/MessageID&gt;\r\n    &lt;/Header&gt;\r\n    &lt;SubHeader&gt;\r\n        &lt;ReceiverAddress&gt;ZYDFUS562WW&lt;/ReceiverAddress&gt;\r\n        &lt;SenderAddress&gt;NCBACATEEE&lt;/SenderAddress&gt;\r\n    &lt;/SubHeader&gt;\r\n    &lt;Body&gt;\r\n        &lt;ISOMessage&gt;\r\n            &lt;AppHdr&gt;\r\n                &lt;Fr&gt;\r\n                    &lt;FIId&gt;\r\n                        &lt;FinInstnId&gt;\r\n                            &lt;BICFI&gt;NCBACATEEE&lt;/BICFI&gt;\r\n                        &lt;/FinInstnId&gt;\r\n                    &lt;/FIId&gt;\r\n                &lt;/Fr&gt;\r\n                &lt;To&gt;\r\n                    &lt;FIId&gt;\r\n                        &lt;FinInstnId&gt;\r\n                            &lt;BICFI&gt;ZYDFUS562WW&lt;/BICFI&gt;\r\n                        &lt;/FinInstnId&gt;\r\n                    &lt;/FIId&gt;\r\n                &lt;/To&gt;\r\n                &lt;BizMsgIdr&gt;IMDLC6928&lt;/BizMsgIdr&gt;\r\n                &lt;MsgDefIdr&gt;camt.029.001.09&lt;/MsgDefIdr&gt; \r\n                &lt;BizSvc&gt;swift.cbprplus.02&lt;/BizSvc&gt;\r\n                &lt;CreDt&gt;2010-09-31T04:49:45+03:00&lt;/CreDt&gt;\r\n            &lt;/AppHdr&gt;\r\n            &lt;Document&gt;\r\n                &lt;RsltnOfInvstgtn&gt;\r\n                    &lt;Assgnmt&gt;\r\n                        &lt;Id&gt;IMDLC69S01&lt;/Id&gt;\r\n                        &lt;Assgnr&gt;\r\n                            &lt;Agt&gt;\r\n                                &lt;FinInstnId&gt;\r\n                                    &lt;BICFI&gt;SNDRCAXX&lt;/BICFI&gt;\r\n                                &lt;/FinInstnId&gt;\r\n                            &lt;/Agt&gt;\r\n                        &lt;/Assgnr&gt;\r\n                        &lt;Assgne&gt;\r\n                            &lt;Agt&gt;\r\n                                &lt;FinInstnId&gt;\r\n                                    &lt;BICFI&gt;SNDXX&lt;/BICFI&gt;\r\n                                &lt;/FinInstnId&gt;\r\n                            &lt;/Agt&gt;\r\n                        &lt;/Assgne&gt;\r\n                        &lt;CreDtTm&gt;2010-09-29T04:49:45+03:00&lt;/CreDtTm&gt;\r\n                    &lt;/Assgnmt&gt;\r\n                    &lt;Sts&gt;\r\n                        &lt;Conf&gt;RJCR&lt;/Conf&gt;\r\n                    &lt;/Sts&gt;\r\n                    &lt;CxlDtls&gt;\r\n                        &lt;TxInfAndSts&gt;\r\n                            &lt;CxlStsId&gt;TESTID&lt;/CxlStsId&gt;\r\n                            &lt;RslvdCase&gt;\r\n                                &lt;Id&gt;123&lt;/Id&gt;\r\n                                &lt;Cretr&gt;\r\n                                    &lt;Pty&gt;\r\n                                        &lt;Nm&gt;XYZ LTD&lt;/Nm&gt;\r\n                                        &lt;Id&gt;\r\n                                            &lt;OrgId&gt;\r\n                                                &lt;AnyBIC&gt;SNDRCAXXX&lt;/AnyBIC&gt;\r\n                                            &lt;/OrgId&gt;\r\n                                        &lt;/Id&gt;\r\n                                        &lt;CtryOfRes&gt;IN&lt;/CtryOfRes&gt;\r\n                                    &lt;/Pty&gt;\r\n                                &lt;/Cretr&gt;\r\n                            &lt;/RslvdCase&gt;\r\n                            &lt;OrgnlGrpInf&gt;\r\n                                &lt;OrgnlMsgId&gt;YT123&lt;/OrgnlMsgId&gt;\r\n                                &lt;OrgnlMsgNmId&gt;IEUW79&lt;/OrgnlMsgNmId&gt;\r\n                            &lt;/OrgnlGrpInf&gt;\r\n                            &lt;OrgnlUETR&gt;9de-aed0-16487c27b42d&lt;/OrgnlUETR&gt;\r\n                        &lt;/TxInfAndSts&gt;\r\n                    &lt;/CxlDtls&gt;\r\n                &lt;/RsltnOfInvstgtn&gt;\r\n            &lt;/Document&gt;\r\n        &lt;/ISOMessage&gt;\r\n    &lt;/Body&gt;\r\n    &lt;Timestamp&gt;\r\n        &lt;Date&gt;20200327&lt;/Date&gt;\r\n        &lt;Time&gt;123424&lt;/Time&gt;\r\n    &lt;/Timestamp&gt;\r\n&lt;/SwiftMx&gt;\r\n```\r\n\r\n\r\n\r\n1) Not able to parse using below abstract class, getting null returned from parse method \r\n    `parse into generic structure\r\n     AbstractMX mx = AbstractMX.parse(xml);`\r\n\r\n2) I want to know the type of message which I was able to extract using below code.\r\n   `        MxSwiftMessage mxSwiftMessage = MxSwiftMessage.parse(xml);\r\n        String msgDefIdr = ((BusinessAppHdrV01) mxSwiftMessage.getAppHdr()).getMsgDefIdr();  `\\\r\n   But this is working only for AppHdr, not sure how to parse when we have differently structured messages.","title":"Extracting UETR from SwiftMX Using Prowide Java Library","body":"<p>I am pretty new to processing swift messages in java, I am trying with prowide-iso20022 software java library to parse the SwiftMX messages (<a href=\"https://github.com/prowide/prowide-iso20022\" rel=\"nofollow noreferrer\">https://github.com/prowide/prowide-iso20022</a>)</p>\n<p>I want to extract UETR (<strong>OrgnlUETR</strong>) of a message and other similar required information from the message, these field I think can be in different locations/hierarchy in xml for different type of message (i.e no common hierarchy). Need help in how to extract the required fields, since there are lot type of messages in SwiftMX</p>\n<p>Below is the sample/dummy SwiftMX message for reference.</p>\n<pre><code>&lt;SwiftMx&gt;\n    &lt;Header&gt;\n        &lt;DestinationID&gt;ABC&lt;/DestinationID&gt;\n        &lt;SenderID&gt;PQR&lt;/SenderID&gt;\n        &lt;OperationOrganizationID/&gt;\n        &lt;MessageType&gt;ISO22IN&lt;/MessageType&gt;\n        &lt;DateSent&gt;20200321&lt;/DateSent&gt;\n        &lt;TimeSent&gt;0829&lt;/TimeSent&gt;\n        &lt;MessageID&gt;3190eee&lt;/MessageID&gt;\n    &lt;/Header&gt;\n    &lt;SubHeader&gt;\n        &lt;ReceiverAddress&gt;ZYDFUS562WW&lt;/ReceiverAddress&gt;\n        &lt;SenderAddress&gt;NCBACATEEE&lt;/SenderAddress&gt;\n    &lt;/SubHeader&gt;\n    &lt;Body&gt;\n        &lt;ISOMessage&gt;\n            &lt;AppHdr&gt;\n                &lt;Fr&gt;\n                    &lt;FIId&gt;\n                        &lt;FinInstnId&gt;\n                            &lt;BICFI&gt;NCBACATEEE&lt;/BICFI&gt;\n                        &lt;/FinInstnId&gt;\n                    &lt;/FIId&gt;\n                &lt;/Fr&gt;\n                &lt;To&gt;\n                    &lt;FIId&gt;\n                        &lt;FinInstnId&gt;\n                            &lt;BICFI&gt;ZYDFUS562WW&lt;/BICFI&gt;\n                        &lt;/FinInstnId&gt;\n                    &lt;/FIId&gt;\n                &lt;/To&gt;\n                &lt;BizMsgIdr&gt;IMDLC6928&lt;/BizMsgIdr&gt;\n                &lt;MsgDefIdr&gt;camt.029.001.09&lt;/MsgDefIdr&gt; \n                &lt;BizSvc&gt;swift.cbprplus.02&lt;/BizSvc&gt;\n                &lt;CreDt&gt;2010-09-31T04:49:45+03:00&lt;/CreDt&gt;\n            &lt;/AppHdr&gt;\n            &lt;Document&gt;\n                &lt;RsltnOfInvstgtn&gt;\n                    &lt;Assgnmt&gt;\n                        &lt;Id&gt;IMDLC69S01&lt;/Id&gt;\n                        &lt;Assgnr&gt;\n                            &lt;Agt&gt;\n                                &lt;FinInstnId&gt;\n                                    &lt;BICFI&gt;SNDRCAXX&lt;/BICFI&gt;\n                                &lt;/FinInstnId&gt;\n                            &lt;/Agt&gt;\n                        &lt;/Assgnr&gt;\n                        &lt;Assgne&gt;\n                            &lt;Agt&gt;\n                                &lt;FinInstnId&gt;\n                                    &lt;BICFI&gt;SNDXX&lt;/BICFI&gt;\n                                &lt;/FinInstnId&gt;\n                            &lt;/Agt&gt;\n                        &lt;/Assgne&gt;\n                        &lt;CreDtTm&gt;2010-09-29T04:49:45+03:00&lt;/CreDtTm&gt;\n                    &lt;/Assgnmt&gt;\n                    &lt;Sts&gt;\n                        &lt;Conf&gt;RJCR&lt;/Conf&gt;\n                    &lt;/Sts&gt;\n                    &lt;CxlDtls&gt;\n                        &lt;TxInfAndSts&gt;\n                            &lt;CxlStsId&gt;TESTID&lt;/CxlStsId&gt;\n                            &lt;RslvdCase&gt;\n                                &lt;Id&gt;123&lt;/Id&gt;\n                                &lt;Cretr&gt;\n                                    &lt;Pty&gt;\n                                        &lt;Nm&gt;XYZ LTD&lt;/Nm&gt;\n                                        &lt;Id&gt;\n                                            &lt;OrgId&gt;\n                                                &lt;AnyBIC&gt;SNDRCAXXX&lt;/AnyBIC&gt;\n                                            &lt;/OrgId&gt;\n                                        &lt;/Id&gt;\n                                        &lt;CtryOfRes&gt;IN&lt;/CtryOfRes&gt;\n                                    &lt;/Pty&gt;\n                                &lt;/Cretr&gt;\n                            &lt;/RslvdCase&gt;\n                            &lt;OrgnlGrpInf&gt;\n                                &lt;OrgnlMsgId&gt;YT123&lt;/OrgnlMsgId&gt;\n                                &lt;OrgnlMsgNmId&gt;IEUW79&lt;/OrgnlMsgNmId&gt;\n                            &lt;/OrgnlGrpInf&gt;\n                            &lt;OrgnlUETR&gt;9de-aed0-16487c27b42d&lt;/OrgnlUETR&gt;\n                        &lt;/TxInfAndSts&gt;\n                    &lt;/CxlDtls&gt;\n                &lt;/RsltnOfInvstgtn&gt;\n            &lt;/Document&gt;\n        &lt;/ISOMessage&gt;\n    &lt;/Body&gt;\n    &lt;Timestamp&gt;\n        &lt;Date&gt;20200327&lt;/Date&gt;\n        &lt;Time&gt;123424&lt;/Time&gt;\n    &lt;/Timestamp&gt;\n&lt;/SwiftMx&gt;\n</code></pre>\n<ol>\n<li><p>Not able to parse using below abstract class, getting null returned from parse method\n<code>parse into generic structure AbstractMX mx = AbstractMX.parse(xml);</code></p>\n</li>\n<li><p>I want to know the type of message which I was able to extract using below code.\n<code>       MxSwiftMessage mxSwiftMessage = MxSwiftMessage.parse(xml); String msgDefIdr = ((BusinessAppHdrV01) mxSwiftMessage.getAppHdr()).getMsgDefIdr(); </code><br />\nBut this is working only for AppHdr, not sure how to parse when we have differently structured messages.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690980945,"creation_date":1690980945,"question_id":76820116,"body_markdown":"Suppose my schema is (please ignore the syntax here, the syntax is correctly written in code) :\r\n\r\n```\r\npaymentAction:\r\n  $ref: &#39;component/credit-card&#39;\r\n  $ref: &#39;component/google-pay&#39;\r\ndiscriminator:\r\n  propertyName: paymentType\r\n  mapping:\r\n    cc: &#39;component/credit-card&#39;\r\n    gpay: &#39;component/google-pay&#39;\r\n```\r\n\r\nThe schema for them is as follows:\r\n\r\n```\r\ncredit-card: \r\n properties\r\n  paymenytType:\r\n   type: string\r\n  paymentId:\r\n   type: string\r\ngoogle-pay: \r\n properties\r\n  paymenytType:\r\n   type: string\r\n  paymentId:\r\n   type: string\r\n```\r\nI want to exclude the paymentType from response sent to any request.\r\n\r\nI&#39;ve tried things like `x-field-extra-annotation: &quot;package-path.JsonIgnore&quot;`, keyword `writeOnly: true` and `x-class-extra-annotation: &quot;package-path.JsonIgnoreProperties(value=&quot;paymentType&quot;)&quot;`\r\n\r\nBut the paymentType is always sent in response even in get calls.\r\nUsing `openApi 3.0.3`, commands used `gradlew clean openApiGenerate`\r\n\r\n`paymentAction` is generated as interface which is implemented by `credit-card` and `google-pay`\r\n\r\nPlease help!","title":"Ignore the writeOnly and sensitive fields in response OpenAPI bug","body":"<p>Suppose my schema is (please ignore the syntax here, the syntax is correctly written in code) :</p>\n<pre><code>paymentAction:\n  $ref: 'component/credit-card'\n  $ref: 'component/google-pay'\ndiscriminator:\n  propertyName: paymentType\n  mapping:\n    cc: 'component/credit-card'\n    gpay: 'component/google-pay'\n</code></pre>\n<p>The schema for them is as follows:</p>\n<pre><code>credit-card: \n properties\n  paymenytType:\n   type: string\n  paymentId:\n   type: string\ngoogle-pay: \n properties\n  paymenytType:\n   type: string\n  paymentId:\n   type: string\n</code></pre>\n<p>I want to exclude the paymentType from response sent to any request.</p>\n<p>I've tried things like <code>x-field-extra-annotation: &quot;package-path.JsonIgnore&quot;</code>, keyword <code>writeOnly: true</code> and <code>x-class-extra-annotation: &quot;package-path.JsonIgnoreProperties(value=&quot;paymentType&quot;)&quot;</code></p>\n<p>But the paymentType is always sent in response even in get calls.\nUsing <code>openApi 3.0.3</code>, commands used <code>gradlew clean openApiGenerate</code></p>\n<p><code>paymentAction</code> is generated as interface which is implemented by <code>credit-card</code> and <code>google-pay</code></p>\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-security","active-directory","spring-ldap"],"comments":[{"owner":{"account_id":6733681,"reputation":827,"user_id":5189158,"display_name":"raiyan"},"score":0,"creation_date":1527508870,"post_id":50565491,"comment_id":88141958,"body_markdown":"Is it the same for all users?","body":"Is it the same for all users?"},{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1527509106,"post_id":50565491,"comment_id":88142117,"body_markdown":"Yes, exactly, and it doesn&#39;t match to any user I added (I didn&#39;t search the whole directory by this SID).","body":"Yes, exactly, and it doesn&#39;t match to any user I added (I didn&#39;t search the whole directory by this SID)."},{"owner":{"account_id":6733681,"reputation":827,"user_id":5189158,"display_name":"raiyan"},"score":0,"creation_date":1527509575,"post_id":50565491,"comment_id":88142388,"body_markdown":"The last block of characters should be different for different users. If not compare the byte stream of sid of two users and see if it matches. Sid will be unique.","body":"The last block of characters should be different for different users. If not compare the byte stream of sid of two users and see if it matches. Sid will be unique."},{"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1527510024,"post_id":50565491,"comment_id":88142655,"body_markdown":"`ctx.getDn()` is the DN of the user account you want the SID from?","body":"<code>ctx.getDn()</code> is the DN of the user account you want the SID from?"},{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1527510180,"post_id":50565491,"comment_id":88142738,"body_markdown":"@GabrielLuci yes :)","body":"@GabrielLuci yes :)"}],"answers":[{"comments":[{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1527576612,"post_id":50566573,"comment_id":88165055,"body_markdown":"Could you help me how to add this to my `ActiveDirectoryLdapAuthenticationProvider`?","body":"Could you help me how to add this to my <code>ActiveDirectoryLdapAuthenticationProvider</code>?"},{"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1527595853,"post_id":50566573,"comment_id":88177232,"body_markdown":"If you update your bean config file, you shouldn&#39;t need to. If that&#39;s not an option, then I&#39;m not really sure. I know AD, but I&#39;m not a Java developer, so I&#39;m a little lost in this myself. That code block doesn&#39;t really say where the `ldapTemplate` variable came from. I guess that&#39;s the missing piece.","body":"If you update your bean config file, you shouldn&#39;t need to. If that&#39;s not an option, then I&#39;m not really sure. I know AD, but I&#39;m not a Java developer, so I&#39;m a little lost in this myself. That code block doesn&#39;t really say where the <code>ldapTemplate</code> variable came from. I guess that&#39;s the missing piece."}],"tags":[],"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527510777,"creation_date":1527510777,"answer_id":50566573,"question_id":50565491,"body_markdown":"I think the answer is here: http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate\r\n\r\nIn the second last post, he describes the same issue you&#39;re having. In the last post, he describes a fix, which is to add this to the Bean config file:\r\n\r\n    &lt;bean id=&quot;contextSource&quot; class=&quot;org.springframework.ldap.core.support.LdapContextSource&quot;&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;ldap://ldapserver.domain.com:389&quot; /&gt;\r\n        &lt;property name=&quot;base&quot; value=&quot;dc=domain,dc=com&quot; /&gt;\r\n        &lt;property name=&quot;userDn&quot; value=&quot;cn=binduser,cn=Users,dc=domain,dc=com&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;bindpwd&quot;/&gt;\r\n        &lt;property name=&quot;baseEnvironmentProperties&quot;&gt;\r\n            &lt;map&gt;\r\n            &lt;entry key=&quot;java.naming.ldap.attributes.binary&quot;&gt;\r\n                &lt;value&gt;objectSid&lt;/value&gt;\r\n            &lt;/entry&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou&#39;ll have to modify the values for your domain, but I think the important part is the `baseEnvironmentProperties`.\r\n\r\n[This thread][1] also describes a programmatic way to set that (although, for `objectGuid`, but you can just swap the attribute).\r\n\r\n    AbstractContextSource contextSource = (AbstractContextSource) ldapTemplate.getContextSource();\r\n    Map&lt;String,String&gt; baseEnvironmentProperties = new HashMap&lt;String, String&gt;();\r\n    baseEnvironmentProperties.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;);\r\n    contextSource.setBaseEnvironmentProperties(baseEnvironmentProperties);\r\n    contextSource.afterPropertiesSet();\r\n\r\n\r\n  [1]: http://forum.spring.io/forum/spring-projects/data/ldap/47556-binary-attributes-objectguid-programmatically-set-the-environment","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>I think the answer is here: <a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate\" rel=\"nofollow noreferrer\">http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate</a></p>\n\n<p>In the second last post, he describes the same issue you're having. In the last post, he describes a fix, which is to add this to the Bean config file:</p>\n\n<pre><code>&lt;bean id=\"contextSource\" class=\"org.springframework.ldap.core.support.LdapContextSource\"&gt;\n    &lt;property name=\"url\" value=\"ldap://ldapserver.domain.com:389\" /&gt;\n    &lt;property name=\"base\" value=\"dc=domain,dc=com\" /&gt;\n    &lt;property name=\"userDn\" value=\"cn=binduser,cn=Users,dc=domain,dc=com\" /&gt;\n    &lt;property name=\"password\" value=\"bindpwd\"/&gt;\n    &lt;property name=\"baseEnvironmentProperties\"&gt;\n        &lt;map&gt;\n        &lt;entry key=\"java.naming.ldap.attributes.binary\"&gt;\n            &lt;value&gt;objectSid&lt;/value&gt;\n        &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You'll have to modify the values for your domain, but I think the important part is the <code>baseEnvironmentProperties</code>.</p>\n\n<p><a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/47556-binary-attributes-objectguid-programmatically-set-the-environment\" rel=\"nofollow noreferrer\">This thread</a> also describes a programmatic way to set that (although, for <code>objectGuid</code>, but you can just swap the attribute).</p>\n\n<pre><code>AbstractContextSource contextSource = (AbstractContextSource) ldapTemplate.getContextSource();\nMap&lt;String,String&gt; baseEnvironmentProperties = new HashMap&lt;String, String&gt;();\nbaseEnvironmentProperties.put(\"java.naming.ldap.attributes.binary\", \"objectSid\");\ncontextSource.setBaseEnvironmentProperties(baseEnvironmentProperties);\ncontextSource.afterPropertiesSet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150389,"reputation":280,"user_id":1132241,"accept_rate":100,"display_name":"dahook"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558394187,"creation_date":1558394187,"answer_id":56229287,"question_id":50565491,"body_markdown":"I got this to work by adding the environment properties in the configure method:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\r\n    }\r\n\r\n    private ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n        ActiveDirectoryLdapAuthenticationProvider provider =\r\n                new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\r\n\r\n    // ************** NEW ENVIRONMENT PROPERTIES **********************************\r\n        Map&lt;String, Object&gt; environmentProperties = new HashMap&lt;&gt;();\r\n        environmentProperties.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectsid&quot;);\r\n        provider.setContextEnvironmentProperties(environmentProperties);\r\n    // ************** END OF NEW ENVIRONMENT PROPERTIES ***************************\r\n\r\n        provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\r\n        return provider;\r\n        }\r\n    }\r\n\r\nAnd then reading it like this in the UserDetailContextMapper:\r\n\r\n    public class CustomUserDetailsContextMapper implements UserDetailsContextMapper {\r\n\r\n    private final static Logger logger = LoggerFactory.getLogger(CustomUserDetailsContextMapper.class);\r\n\r\n    @Override\r\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        logger.info(ctx.getDn().toString());\r\n        byte[] byteSid = null;\r\n        try {\r\n            byteSid = (byte[]) ctx.getAttributes().get(&quot;objectsid&quot;).get();\r\n        } catch (NamingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String sid = LdapUtils.convertBinarySidToString(byteSid);\r\n        logger.info(&quot;SID: {}&quot;, sid);\r\n\r\n        return new User(username, &quot;notUsed&quot;, true, true, true, true,\r\n                AuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));    \r\n    }\r\n\r\nI hope this is helpful!","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>I got this to work by adding the environment properties in the configure method:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .authorizeRequests()\n            .antMatchers(\"/\", \"/home\").permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .loginPage(\"/login\")\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n            .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\n}\n\nprivate ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n    ActiveDirectoryLdapAuthenticationProvider provider =\n            new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\n\n// ************** NEW ENVIRONMENT PROPERTIES **********************************\n    Map&lt;String, Object&gt; environmentProperties = new HashMap&lt;&gt;();\n    environmentProperties.put(\"java.naming.ldap.attributes.binary\", \"objectsid\");\n    provider.setContextEnvironmentProperties(environmentProperties);\n// ************** END OF NEW ENVIRONMENT PROPERTIES ***************************\n\n    provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\n    return provider;\n    }\n}\n</code></pre>\n\n<p>And then reading it like this in the UserDetailContextMapper:</p>\n\n<pre><code>public class CustomUserDetailsContextMapper implements UserDetailsContextMapper {\n\nprivate final static Logger logger = LoggerFactory.getLogger(CustomUserDetailsContextMapper.class);\n\n@Override\npublic UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n    logger.info(ctx.getDn().toString());\n    byte[] byteSid = null;\n    try {\n        byteSid = (byte[]) ctx.getAttributes().get(\"objectsid\").get();\n    } catch (NamingException e) {\n        e.printStackTrace();\n    }\n    String sid = LdapUtils.convertBinarySidToString(byteSid);\n    logger.info(\"SID: {}\", sid);\n\n    return new User(username, \"notUsed\", true, true, true, true,\n            AuthorityUtils.createAuthorityList(\"ROLE_USER\"));    \n}\n</code></pre>\n\n<p>I hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":26355819,"reputation":21,"user_id":20012811,"display_name":"Viktor Engelmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690980857,"creation_date":1690980857,"answer_id":76820099,"question_id":50565491,"body_markdown":"This isn&#39;t about Spring, but vanilla Java LDAP Access (in case someone finds this page looking for that - as I did). When you build your DirContext, you need to tell it to keep objectSid in binary form. Otherwise it will try to decode the bytes into a String, which replaces invalid characters with the unicode REPLACEMENT CHARACTER U+FFFD (�) - making it impossible to get the correct Sid.\r\n\r\n    DirContext ldapConnect() throws NamingException {\r\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, ldapServer);\r\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, ldapUser);\r\n        env.put(Context.SECURITY_CREDENTIALS, ldapPassword);\r\n    \r\n        env.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;); // !!!!!!!!!!!!!!!!!!\r\n        return new InitialDirContext(env);\r\n    }\r\n\r\nThis is basically Gabriel Lucis answer, just for vanilla Java instead of Spring.","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>This isn't about Spring, but vanilla Java LDAP Access (in case someone finds this page looking for that - as I did). When you build your DirContext, you need to tell it to keep objectSid in binary form. Otherwise it will try to decode the bytes into a String, which replaces invalid characters with the unicode REPLACEMENT CHARACTER U+FFFD (�) - making it impossible to get the correct Sid.</p>\n<pre><code>DirContext ldapConnect() throws NamingException {\n    Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    env.put(Context.PROVIDER_URL, ldapServer);\n    env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n    env.put(Context.SECURITY_PRINCIPAL, ldapUser);\n    env.put(Context.SECURITY_CREDENTIALS, ldapPassword);\n\n    env.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;); // !!!!!!!!!!!!!!!!!!\n    return new InitialDirContext(env);\n}\n</code></pre>\n<p>This is basically Gabriel Lucis answer, just for vanilla Java instead of Spring.</p>\n"}],"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2206,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1690980857,"creation_date":1527507300,"question_id":50565491,"body_markdown":"In my Spring web application I am unable to retrive the correct `objectId` from currently logged in user with the Active Directory account. All of attributes seems to have the right value, but the `objectId` value is always set to `S-1-5-21-1723711471-3183472479-4012130053-3220159935` and I don&#39;t know where it comes from.\r\n\r\n**WebSecurityConfig**\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\tpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.logout()\r\n\t\t\t\t\t.permitAll();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t\t\t.authenticationProvider(activeDirectoryLdapAuthenticationProvider());\r\n\t\t}\r\n\r\n\t\tprivate ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n\t\t\tActiveDirectoryLdapAuthenticationProvider provider =\r\n\t\t\t\t\tnew ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\r\n\t\t\tprovider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\r\n\t\t\treturn provider;\r\n\t\t}\r\n\t}\r\n\r\n**LdapUserDetailsContextMapper**\r\n\r\n\t@Slf4j\r\n\tpublic class LdapUserDetailsContextMapper implements UserDetailsContextMapper {\r\n\t\t@Override\r\n\t\tpublic UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; collection) {\r\n\t\t\tlog.info(&quot;username: &quot; + username); //username is correct\r\n\t\t\tlog.info(&quot;DN from ctx: &quot; + ctx.getDn()); // returns correct DN\r\n\t\t\tbyte[] byteSid = ctx.getStringAttribute(&quot;objectSid&quot;).getBytes();\r\n\t\t\tString sid = LdapUtils.convertBinarySidToString(byteSid);\r\n\t\t\tlog.info(&quot;SID: &quot; + sid); // S-1-5-21-1723711471-3183472479-4012130053-3220159935 everytime\r\n\r\n\t\t\treturn new User(username, &quot;notUsed&quot;, true, true, true, true,\r\n\t\t\t\t\tAuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mapUserToContext(UserDetails userDetails, DirContextAdapter dirContextAdapter) {\r\n\r\n\t\t}\r\n\t}\r\n\r\nHow to get the correct SID from Active Directory?","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>In my Spring web application I am unable to retrive the correct <code>objectId</code> from currently logged in user with the Active Directory account. All of attributes seems to have the right value, but the <code>objectId</code> value is always set to <code>S-1-5-21-1723711471-3183472479-4012130053-3220159935</code> and I don't know where it comes from.</p>\n\n<p><strong>WebSecurityConfig</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/home\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\n    }\n\n    private ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n        ActiveDirectoryLdapAuthenticationProvider provider =\n                new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\n        provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\n        return provider;\n    }\n}\n</code></pre>\n\n<p><strong>LdapUserDetailsContextMapper</strong></p>\n\n<pre><code>@Slf4j\npublic class LdapUserDetailsContextMapper implements UserDetailsContextMapper {\n    @Override\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; collection) {\n        log.info(\"username: \" + username); //username is correct\n        log.info(\"DN from ctx: \" + ctx.getDn()); // returns correct DN\n        byte[] byteSid = ctx.getStringAttribute(\"objectSid\").getBytes();\n        String sid = LdapUtils.convertBinarySidToString(byteSid);\n        log.info(\"SID: \" + sid); // S-1-5-21-1723711471-3183472479-4012130053-3220159935 everytime\n\n        return new User(username, \"notUsed\", true, true, true, true,\n                AuthorityUtils.createAuthorityList(\"ROLE_USER\"));\n    }\n\n    @Override\n    public void mapUserToContext(UserDetails userDetails, DirContextAdapter dirContextAdapter) {\n\n    }\n}\n</code></pre>\n\n<p>How to get the correct SID from Active Directory?</p>\n"},{"tags":["java","unit-testing","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"comment_count":0,"down_vote_count":1,"up_vote_count":89,"is_accepted":true,"score":88,"last_activity_date":1532350892,"creation_date":1532350892,"answer_id":51479493,"question_id":51412498,"body_markdown":"Simply use `verifyComplete()`. If the `Mono` emits any data, it will fail the stepverifier as it doesn&#39;t expect an `onNext` signal at this point.","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>Simply use <code>verifyComplete()</code>. If the <code>Mono</code> emits any data, it will fail the stepverifier as it doesn't expect an <code>onNext</code> signal at this point.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":9,"creation_date":1607382338,"post_id":65184867,"comment_id":115250643,"body_markdown":"Please explain the difference to the other, older, upvoted answer. It seems that you recommend the same thing, just without any explanation","body":"Please explain the difference to the other, older, upvoted answer. It seems that you recommend the same thing, just without any explanation"}],"tags":[],"owner":{"account_id":1558046,"reputation":634,"user_id":1448578,"accept_rate":64,"display_name":"samibel"},"comment_count":1,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1608733996,"creation_date":1607356105,"answer_id":65184867,"question_id":51412498,"body_markdown":"\r\nhere it is checked that onNext is not called\r\n   \r\n\r\n     StepVerifier.create(result).expectNextCount(0).verifyComplete()","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>here it is checked that onNext is not called</p>\n<pre><code> StepVerifier.create(result).expectNextCount(0).verifyComplete()\n</code></pre>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40472,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":51479493,"answer_count":2,"score":61,"last_activity_date":1690980793,"creation_date":1531958333,"question_id":51412498,"body_markdown":"I am using `StepVerifier` to test values:\r\n\r\n    @Test\r\n    public void testStuff() {\r\n        Thing thing = new Thing();\r\n        Mono&lt;Thing&gt; result = Mono.just(thing);\r\n        StepVerifier.create(result).consumeNextWith(r -&gt; {\r\n            assertEquals(thing, r);\r\n        }).verifyComplete();\r\n    }\r\n\r\nWhat I&#39;d like to do now is test for the absence of an item in the Mono.  Like this:\r\n\r\n    @Test\r\n    public void testNoStuff() {\r\n        Mono&lt;Thing&gt; result = Mono.empty();\r\n        StepVerifier.create(result)... // what goes here?\r\n    }\r\n\r\nI want to test that the Mono is in fact empty.  How do I do that?","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>I am using <code>StepVerifier</code> to test values:</p>\n\n<pre><code>@Test\npublic void testStuff() {\n    Thing thing = new Thing();\n    Mono&lt;Thing&gt; result = Mono.just(thing);\n    StepVerifier.create(result).consumeNextWith(r -&gt; {\n        assertEquals(thing, r);\n    }).verifyComplete();\n}\n</code></pre>\n\n<p>What I'd like to do now is test for the absence of an item in the Mono.  Like this:</p>\n\n<pre><code>@Test\npublic void testNoStuff() {\n    Mono&lt;Thing&gt; result = Mono.empty();\n    StepVerifier.create(result)... // what goes here?\n}\n</code></pre>\n\n<p>I want to test that the Mono is in fact empty.  How do I do that?</p>\n"},{"tags":["java","maven","wildfly","resteasy","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690915265,"creation_date":1690915265,"answer_id":76814403,"question_id":76811128,"body_markdown":"The issue is you&#39;ve got `&lt;context-root&gt;false&lt;/context-root&gt;` which will not use the default `ROOT.war`. What this will do is use the runtime name of the file. In your case it would be `integration-layer.war`. You&#39;d need to use `integration-layer` as your context rather than `/`. Or you could simply change the `&lt;context-root&gt;true&lt;/context-root&gt;`. You can also leave it off as `true` is the default.","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>The issue is you've got <code>&lt;context-root&gt;false&lt;/context-root&gt;</code> which will not use the default <code>ROOT.war</code>. What this will do is use the runtime name of the file. In your case it would be <code>integration-layer.war</code>. You'd need to use <code>integration-layer</code> as your context rather than <code>/</code>. Or you could simply change the <code>&lt;context-root&gt;true&lt;/context-root&gt;</code>. You can also leave it off as <code>true</code> is the default.</p>\n"},{"tags":[],"owner":{"account_id":15970664,"reputation":107,"user_id":11524900,"display_name":"Jason Collier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690979560,"creation_date":1690979560,"answer_id":76819926,"question_id":76811128,"body_markdown":"The fix was to add the following exclusions to Keycloak:\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;13.0.1&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>The fix was to add the following exclusions to Keycloak:</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;13.0.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15970664,"reputation":107,"user_id":11524900,"display_name":"Jason Collier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690979560,"creation_date":1690888894,"question_id":76811128,"body_markdown":"I am trying to configure RESTful endpoints on an existing Wildfly Java project that to this point has been running as a Kafka consumer / producer.\r\n\r\nMy experience has previous been using Thorntail, but either way, I&#39;ve always used RESTEasy&#39;s JAX-RS jars for endpoint annotations.\r\n\r\nI&#39;ve set up the code as follows:\r\n\r\n**ApiDeclaration**\r\n\r\n    ApplicationPath(&quot;/api&quot;)\r\n    public class ApiDeclaration extends Application {\r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    //        set.add(CorsFilter.class);\r\n            set.add(ClaimApiImpl.class);\r\n            return set;\r\n        }\r\n    }\r\n\r\n**ClaimApi**\r\n\r\n    @Path(&quot;/claim&quot;)\r\n    public interface ClaimApi {\r\n        @POST\r\n        @Path(&quot;/process&quot;)\r\n        @Produces({MediaType.APPLICATION_XML})\r\n        @Consumes({MediaType.APPLICATION_XML})\r\n        Response processClaim(ClaimRequest claimRequest);\r\n    \r\n        @POST\r\n        @Path(&quot;/reverse&quot;)\r\n        @Produces({MediaType.APPLICATION_XML})\r\n        @Consumes({MediaType.APPLICATION_XML})\r\n        Response reverseClaim(ClaimReversal claimReversalRequest);\r\n    }\r\n\r\n**ClaimApiImpl**\r\n\r\n    @ApplicationScoped\r\n    public class ClaimApiImpl implements ClaimApi {\r\n    \r\n        @Override\r\n        public Response processClaim(ClaimRequest claimRequest) {\r\n    \r\n            try {\r\n                return Response\r\n                        .status(Response.Status.OK)\r\n                        .entity(&quot;Working!&quot;)\r\n                        .build();\r\n            } catch (Exception ex) {\r\n                return Response\r\n                        .status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                        .entity((&quot;Error!&quot;))\r\n                        .build();\r\n            }\r\n        }\r\n    }\r\n\r\nThe POM.xml is set up as follows (it&#39;s a bit of a mess at the moment):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.greydom.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;integration-layer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;!-- This needs to stay at 8 until wildfly/jakarta upgraded again --&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;!-- PLATFORM --&gt;\r\n            &lt;version.jakarta.jakartaee-api&gt;8.0.0&lt;/version.jakarta.jakartaee-api&gt;\r\n            &lt;version.wildfly&gt;26.1.2.Final&lt;/version.wildfly&gt;\r\n            &lt;version.opentracing-api&gt;0.31.0&lt;/version.opentracing-api&gt;\r\n            &lt;version.wildfly-jar-maven-plugin&gt;8.0.0.Final&lt;/version.wildfly-jar-maven-plugin&gt;\r\n            &lt;version.wildfly-datasources-galleon-pack&gt;2.2.2.Final&lt;/version.wildfly-datasources-galleon-pack&gt;\r\n            &lt;version.keycloak-adapter-galleon-pack&gt;13.0.1&lt;/version.keycloak-adapter-galleon-pack&gt;\r\n    \r\n            &lt;version.maven-war-plugin&gt;3.3.2&lt;/version.maven-war-plugin&gt;\r\n            &lt;version.maven-assembly-plugin&gt;3.2.0&lt;/version.maven-assembly-plugin&gt;\r\n            &lt;version.maven-deploy-plugin&gt;2.8.2&lt;/version.maven-deploy-plugin&gt;\r\n            &lt;!-- CAMEL --&gt;\r\n            &lt;version.camel&gt;3.19.0&lt;/version.camel&gt;\r\n            &lt;!-- JWT --&gt;\r\n            &lt;version.jwt&gt;0.7.0&lt;/version.jwt&gt;\r\n            &lt;version.java-jwt&gt;3.4.0&lt;/version.java-jwt&gt;\r\n            &lt;!-- ECLIPSELINK --&gt;\r\n            &lt;version.eclipselink&gt;2.7.1&lt;/version.eclipselink&gt;\r\n    \r\n            &lt;!-- POSTGRESQL CLIENT --&gt;\r\n            &lt;version.postgresql&gt;42.2.1&lt;/version.postgresql&gt;\r\n            &lt;version.ironjacamar-jdbc&gt;1.4.38.Final&lt;/version.ironjacamar-jdbc&gt;\r\n            &lt;!-- PRIMEFACES - maybe ?? --&gt;\r\n            &lt;!-- LOGGING --&gt;\r\n            &lt;version.log4j-core&gt;2.11.0&lt;/version.log4j-core&gt;\r\n            &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\r\n            &lt;!-- COMMONS LIBS --&gt;\r\n            &lt;version.commons-lang&gt;2.6&lt;/version.commons-lang&gt;\r\n            &lt;version.commons-io&gt;1.4&lt;/version.commons-io&gt;\r\n            &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\r\n            &lt;version.commons-codec&gt;1.9&lt;/version.commons-codec&gt;\r\n            &lt;version.beanutils&gt;1.9.2&lt;/version.beanutils&gt;\r\n            &lt;version.commons-lang3&gt;3.12.0&lt;/version.commons-lang3&gt;\r\n            &lt;version.commons-collections4&gt;4.1&lt;/version.commons-collections4&gt;\r\n            &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\r\n            &lt;version.lombok&gt;1.18.12&lt;/version.lombok&gt;\r\n    \r\n            &lt;version.java-uuid-generator&gt;4.0.1&lt;/version.java-uuid-generator&gt;\r\n            &lt;version.jaxb-impl&gt;2.3.4&lt;/version.jaxb-impl&gt;\r\n    \r\n            &lt;version.git-commit-id-plugin&gt;2.2.4&lt;/version.git-commit-id-plugin&gt;\r\n            &lt;version.maven-compiler-plugin&gt;3.10.1&lt;/version.maven-compiler-plugin&gt;\r\n            &lt;version.maven-failsafe-plugin&gt;2.22.2&lt;/version.maven-failsafe-plugin&gt;\r\n    \r\n            &lt;!-- TESTING --&gt;\r\n            &lt;version.org.wildfly.arquillian&gt;3.0.0.Final&lt;/version.org.wildfly.arquillian&gt;\r\n            &lt;version.org.jboss.arquillian.junit&gt;1.6.0.Final&lt;/version.org.jboss.arquillian.junit&gt;\r\n            &lt;version.junit&gt;4.13.1&lt;/version.junit&gt;\r\n            &lt;version.org.jboss.shrinkwrap.shrinkwrap&gt;1.2.6&lt;/version.org.jboss.shrinkwrap.shrinkwrap&gt;\r\n            &lt;version.org.jboss.shrinkwrap.resolver&gt;3.1.4&lt;/version.org.jboss.shrinkwrap.resolver&gt;\r\n    \r\n            &lt;!-- LOMBOK --&gt;\r\n            &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\r\n    \r\n            &lt;!-- GSON --&gt;\r\n            &lt;gson.version&gt;2.12.2&lt;/gson.version&gt;\r\n    \r\n            &lt;!-- INFINISPAN --&gt;\r\n            &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\r\n    \r\n            &lt;resteasy.version&gt;3.0.14.Final&lt;/resteasy.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-microprofile&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.camel}&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- PLATFORM START --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.ironjacamar&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ironjacamar-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.ironjacamar-jdbc}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.jakarta.jakartaee-api}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.health&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-health-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.metrics&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-metrics-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.fault-tolerance&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-fault-tolerance-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.opentracing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-opentracing-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.opentracing-api}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- CAMEL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-xj&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-xpath&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-mapstruct&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-cdi&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--        &lt;dependency&gt;--&gt;\r\n            &lt;!--            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;--&gt;\r\n            &lt;!--            &lt;artifactId&gt;camel-file&lt;/artifactId&gt;--&gt;\r\n            &lt;!--        &lt;/dependency&gt;--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-log&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-master&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-zookeeper-master&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.jaxb-impl}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;31.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.beanutils}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- LOGGING --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.commons-csv}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- KEYCLOAK ADMIN CLIENT --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;13.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- POSTGRESQL CLIENT --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.postgresql}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- ECLIPSELINK --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.eclipselink}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- INFINISPAN CACHE --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-query&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- TESTING --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fake-sftp-server-lambda&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;5.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.shrinkwrap.descriptors&lt;/groupId&gt;\r\n                &lt;artifactId&gt;shrinkwrap-descriptors-depchain&lt;/artifactId&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arquillian-weld-se-embedded-1.1&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.15.Final&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- LOMBOK --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- GSON --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n                &lt;version&gt;${gson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly-jar-maven-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;cli-sessions&gt;\r\n                            &lt;cli-session&gt;\r\n                                &lt;script-files&gt;\r\n                                    &lt;script&gt;build_scripts/cli/integration-layer_config.cli&lt;/script&gt;\r\n                                &lt;/script-files&gt;\r\n                                &lt;properties-file&gt;build_scripts/integration-layer_config.properties&lt;/properties-file&gt;\r\n                            &lt;/cli-session&gt;\r\n                        &lt;/cli-sessions&gt;\r\n                        &lt;extra-server-content-dirs&gt;\r\n                            &lt;extra-content&gt;build_scripts/extra_content&lt;/extra-content&gt;\r\n                        &lt;/extra-server-content-dirs&gt;\r\n                        &lt;feature-packs&gt;\r\n                            &lt;feature-pack&gt;\r\n                                &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#${version.wildfly}&lt;/location&gt;\r\n                            &lt;/feature-pack&gt;\r\n                            &lt;feature-pack&gt;\r\n                                &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n                                &lt;version&gt;${version.wildfly-datasources-galleon-pack}&lt;/version&gt;\r\n                            &lt;/feature-pack&gt;            \r\n                        &lt;/feature-packs&gt;\r\n                        &lt;layers&gt;\r\n                            &lt;layer&gt;microprofile-platform&lt;/layer&gt;\r\n                            &lt;layer&gt;jaxrs&lt;/layer&gt;\r\n                            &lt;layer&gt;postgresql-driver&lt;/layer&gt;\r\n                            &lt;layer&gt;jpa&lt;/layer&gt;\r\n                            &lt;layer&gt;cdi&lt;/layer&gt;\r\n                            &lt;layer&gt;logging&lt;/layer&gt;\r\n                        &lt;/layers&gt;\r\n                        &lt;excluded-layers&gt;\r\n                            &lt;layer&gt;deployment-scanner&lt;/layer&gt;\r\n                        &lt;/excluded-layers&gt;\r\n                        &lt;plugin-options&gt;\r\n                            &lt;jboss-fork-embedded&gt;${plugin.fork.embedded}&lt;/jboss-fork-embedded&gt;\r\n                        &lt;/plugin-options&gt;\r\n                        &lt;context-root&gt;false&lt;/context-root&gt;\r\n                        &lt;hollow-jar&gt;true&lt;/hollow-jar&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;package&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-war-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-compiler-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- Original answer --&gt;\r\n                        &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\r\n                        &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\r\n                        &lt;!--                    &lt;parameters&gt;true&lt;/parameters&gt;--&gt;\r\n                        &lt;!--                    &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;--&gt;\r\n                        &lt;!--                    &lt;source&gt;${java.version}&lt;/source&gt;--&gt;\r\n                        &lt;!--                    &lt;target&gt;${java.version}&lt;/target&gt;--&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-failsafe-plugin}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jaxrs.surefire&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;failIfNoTests&gt;false&lt;/failIfNoTests&gt;\r\n                                &lt;systemPropertyVariables&gt;\r\n                                    &lt;bootable.jar&gt;${project.build.directory}/api-bootable.jar&lt;/bootable.jar&gt;\r\n                                    &lt;arquillian.xml&gt;arquillian.xml&lt;/arquillian.xml&gt;\r\n                                &lt;/systemPropertyVariables&gt;\r\n                                &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIs there anything extra that specifically needs to be added to get endpoints exposed?\r\n\r\n - I’ve tried adding &lt;layer&gt;jaxrs&lt;/layer&gt; to pom -&gt; plugins -&gt; plugin -&gt; wildfly-jar-maven-plugin -&gt; layers, but that didn’t help.\r\n - I’ve seen mention of jboss-deployment-structure.xml, but I tried adding that with no luck.\r\n - I’ve seen mention of the need for a web.xml, but that shouldn’t be required if the ApiDeclaration already has a @ApplicationPath(&quot;/api&quot;).\r\n\r\nI’ve set the port to listen on 8089, and I can see this is working from the following startup log:\r\n - WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8089\r\n\r\nThe above code should expose an endpoint on http://localhost:8089/api/claim/process, but I get a 404 not found.\r\n\r\nI am concerned there are issues in teh POM.xml file, but I am no longer sure what to try, hence the question.\r\n\r\nFYI, I have refrred to these questions too:\r\n - [https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found][1]\r\n - [https://stackoverflow.com/questions/33984388/wildfly-returns-not-found][2]\r\n - [https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found\r\n  [2]: https://stackoverflow.com/questions/33984388/wildfly-returns-not-found\r\n  [3]: https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>I am trying to configure RESTful endpoints on an existing Wildfly Java project that to this point has been running as a Kafka consumer / producer.</p>\n<p>My experience has previous been using Thorntail, but either way, I've always used RESTEasy's JAX-RS jars for endpoint annotations.</p>\n<p>I've set up the code as follows:</p>\n<p><strong>ApiDeclaration</strong></p>\n<pre><code>ApplicationPath(&quot;/api&quot;)\npublic class ApiDeclaration extends Application {\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n//        set.add(CorsFilter.class);\n        set.add(ClaimApiImpl.class);\n        return set;\n    }\n}\n</code></pre>\n<p><strong>ClaimApi</strong></p>\n<pre><code>@Path(&quot;/claim&quot;)\npublic interface ClaimApi {\n    @POST\n    @Path(&quot;/process&quot;)\n    @Produces({MediaType.APPLICATION_XML})\n    @Consumes({MediaType.APPLICATION_XML})\n    Response processClaim(ClaimRequest claimRequest);\n\n    @POST\n    @Path(&quot;/reverse&quot;)\n    @Produces({MediaType.APPLICATION_XML})\n    @Consumes({MediaType.APPLICATION_XML})\n    Response reverseClaim(ClaimReversal claimReversalRequest);\n}\n</code></pre>\n<p><strong>ClaimApiImpl</strong></p>\n<pre><code>@ApplicationScoped\npublic class ClaimApiImpl implements ClaimApi {\n\n    @Override\n    public Response processClaim(ClaimRequest claimRequest) {\n\n        try {\n            return Response\n                    .status(Response.Status.OK)\n                    .entity(&quot;Working!&quot;)\n                    .build();\n        } catch (Exception ex) {\n            return Response\n                    .status(Response.Status.INTERNAL_SERVER_ERROR)\n                    .entity((&quot;Error!&quot;))\n                    .build();\n        }\n    }\n}\n</code></pre>\n<p>The POM.xml is set up as follows (it's a bit of a mess at the moment):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.greydom.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;integration-layer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;!-- This needs to stay at 8 until wildfly/jakarta upgraded again --&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;!-- PLATFORM --&gt;\n        &lt;version.jakarta.jakartaee-api&gt;8.0.0&lt;/version.jakarta.jakartaee-api&gt;\n        &lt;version.wildfly&gt;26.1.2.Final&lt;/version.wildfly&gt;\n        &lt;version.opentracing-api&gt;0.31.0&lt;/version.opentracing-api&gt;\n        &lt;version.wildfly-jar-maven-plugin&gt;8.0.0.Final&lt;/version.wildfly-jar-maven-plugin&gt;\n        &lt;version.wildfly-datasources-galleon-pack&gt;2.2.2.Final&lt;/version.wildfly-datasources-galleon-pack&gt;\n        &lt;version.keycloak-adapter-galleon-pack&gt;13.0.1&lt;/version.keycloak-adapter-galleon-pack&gt;\n\n        &lt;version.maven-war-plugin&gt;3.3.2&lt;/version.maven-war-plugin&gt;\n        &lt;version.maven-assembly-plugin&gt;3.2.0&lt;/version.maven-assembly-plugin&gt;\n        &lt;version.maven-deploy-plugin&gt;2.8.2&lt;/version.maven-deploy-plugin&gt;\n        &lt;!-- CAMEL --&gt;\n        &lt;version.camel&gt;3.19.0&lt;/version.camel&gt;\n        &lt;!-- JWT --&gt;\n        &lt;version.jwt&gt;0.7.0&lt;/version.jwt&gt;\n        &lt;version.java-jwt&gt;3.4.0&lt;/version.java-jwt&gt;\n        &lt;!-- ECLIPSELINK --&gt;\n        &lt;version.eclipselink&gt;2.7.1&lt;/version.eclipselink&gt;\n\n        &lt;!-- POSTGRESQL CLIENT --&gt;\n        &lt;version.postgresql&gt;42.2.1&lt;/version.postgresql&gt;\n        &lt;version.ironjacamar-jdbc&gt;1.4.38.Final&lt;/version.ironjacamar-jdbc&gt;\n        &lt;!-- PRIMEFACES - maybe ?? --&gt;\n        &lt;!-- LOGGING --&gt;\n        &lt;version.log4j-core&gt;2.11.0&lt;/version.log4j-core&gt;\n        &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\n        &lt;!-- COMMONS LIBS --&gt;\n        &lt;version.commons-lang&gt;2.6&lt;/version.commons-lang&gt;\n        &lt;version.commons-io&gt;1.4&lt;/version.commons-io&gt;\n        &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\n        &lt;version.commons-codec&gt;1.9&lt;/version.commons-codec&gt;\n        &lt;version.beanutils&gt;1.9.2&lt;/version.beanutils&gt;\n        &lt;version.commons-lang3&gt;3.12.0&lt;/version.commons-lang3&gt;\n        &lt;version.commons-collections4&gt;4.1&lt;/version.commons-collections4&gt;\n        &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\n        &lt;version.lombok&gt;1.18.12&lt;/version.lombok&gt;\n\n        &lt;version.java-uuid-generator&gt;4.0.1&lt;/version.java-uuid-generator&gt;\n        &lt;version.jaxb-impl&gt;2.3.4&lt;/version.jaxb-impl&gt;\n\n        &lt;version.git-commit-id-plugin&gt;2.2.4&lt;/version.git-commit-id-plugin&gt;\n        &lt;version.maven-compiler-plugin&gt;3.10.1&lt;/version.maven-compiler-plugin&gt;\n        &lt;version.maven-failsafe-plugin&gt;2.22.2&lt;/version.maven-failsafe-plugin&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;version.org.wildfly.arquillian&gt;3.0.0.Final&lt;/version.org.wildfly.arquillian&gt;\n        &lt;version.org.jboss.arquillian.junit&gt;1.6.0.Final&lt;/version.org.jboss.arquillian.junit&gt;\n        &lt;version.junit&gt;4.13.1&lt;/version.junit&gt;\n        &lt;version.org.jboss.shrinkwrap.shrinkwrap&gt;1.2.6&lt;/version.org.jboss.shrinkwrap.shrinkwrap&gt;\n        &lt;version.org.jboss.shrinkwrap.resolver&gt;3.1.4&lt;/version.org.jboss.shrinkwrap.resolver&gt;\n\n        &lt;!-- LOMBOK --&gt;\n        &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\n\n        &lt;!-- GSON --&gt;\n        &lt;gson.version&gt;2.12.2&lt;/gson.version&gt;\n\n        &lt;!-- INFINISPAN --&gt;\n        &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\n\n        &lt;resteasy.version&gt;3.0.14.Final&lt;/resteasy.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-microprofile&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\n                &lt;version&gt;${version.camel}&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- PLATFORM START --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.ironjacamar&lt;/groupId&gt;\n            &lt;artifactId&gt;ironjacamar-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${version.ironjacamar-jdbc}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${version.jakarta.jakartaee-api}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.health&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-health-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-metrics-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.fault-tolerance&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-fault-tolerance-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-opentracing-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\n            &lt;version&gt;${version.opentracing-api}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- CAMEL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xj&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xpath&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-mapstruct&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-cdi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--        &lt;dependency&gt;--&gt;\n        &lt;!--            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;--&gt;\n        &lt;!--            &lt;artifactId&gt;camel-file&lt;/artifactId&gt;--&gt;\n        &lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-log&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-master&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-zookeeper-master&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;${version.jaxb-impl}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;${version.beanutils}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOGGING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;${version.commons-csv}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- KEYCLOAK ADMIN CLIENT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;13.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- POSTGRESQL CLIENT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${version.postgresql}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ECLIPSELINK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;${version.eclipselink}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- INFINISPAN CACHE --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-commons&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-query&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n                    &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\n            &lt;artifactId&gt;fake-sftp-server-lambda&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n            &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;5.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.shrinkwrap.descriptors&lt;/groupId&gt;\n            &lt;artifactId&gt;shrinkwrap-descriptors-depchain&lt;/artifactId&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-weld-se-embedded-1.1&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.15.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOMBOK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- GSON --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;${gson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly-jar-maven-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;cli-sessions&gt;\n                        &lt;cli-session&gt;\n                            &lt;script-files&gt;\n                                &lt;script&gt;build_scripts/cli/integration-layer_config.cli&lt;/script&gt;\n                            &lt;/script-files&gt;\n                            &lt;properties-file&gt;build_scripts/integration-layer_config.properties&lt;/properties-file&gt;\n                        &lt;/cli-session&gt;\n                    &lt;/cli-sessions&gt;\n                    &lt;extra-server-content-dirs&gt;\n                        &lt;extra-content&gt;build_scripts/extra_content&lt;/extra-content&gt;\n                    &lt;/extra-server-content-dirs&gt;\n                    &lt;feature-packs&gt;\n                        &lt;feature-pack&gt;\n                            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#${version.wildfly}&lt;/location&gt;\n                        &lt;/feature-pack&gt;\n                        &lt;feature-pack&gt;\n                            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n                            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n                            &lt;version&gt;${version.wildfly-datasources-galleon-pack}&lt;/version&gt;\n                        &lt;/feature-pack&gt;            \n                    &lt;/feature-packs&gt;\n                    &lt;layers&gt;\n                        &lt;layer&gt;microprofile-platform&lt;/layer&gt;\n                        &lt;layer&gt;jaxrs&lt;/layer&gt;\n                        &lt;layer&gt;postgresql-driver&lt;/layer&gt;\n                        &lt;layer&gt;jpa&lt;/layer&gt;\n                        &lt;layer&gt;cdi&lt;/layer&gt;\n                        &lt;layer&gt;logging&lt;/layer&gt;\n                    &lt;/layers&gt;\n                    &lt;excluded-layers&gt;\n                        &lt;layer&gt;deployment-scanner&lt;/layer&gt;\n                    &lt;/excluded-layers&gt;\n                    &lt;plugin-options&gt;\n                        &lt;jboss-fork-embedded&gt;${plugin.fork.embedded}&lt;/jboss-fork-embedded&gt;\n                    &lt;/plugin-options&gt;\n                    &lt;context-root&gt;false&lt;/context-root&gt;\n                    &lt;hollow-jar&gt;true&lt;/hollow-jar&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;package&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-war-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-compiler-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Original answer --&gt;\n                    &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\n                    &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\n                    &lt;!--                    &lt;parameters&gt;true&lt;/parameters&gt;--&gt;\n                    &lt;!--                    &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;--&gt;\n                    &lt;!--                    &lt;source&gt;${java.version}&lt;/source&gt;--&gt;\n                    &lt;!--                    &lt;target&gt;${java.version}&lt;/target&gt;--&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-failsafe-plugin}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jaxrs.surefire&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;failIfNoTests&gt;false&lt;/failIfNoTests&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;bootable.jar&gt;${project.build.directory}/api-bootable.jar&lt;/bootable.jar&gt;\n                                &lt;arquillian.xml&gt;arquillian.xml&lt;/arquillian.xml&gt;\n                            &lt;/systemPropertyVariables&gt;\n                            &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there anything extra that specifically needs to be added to get endpoints exposed?</p>\n<ul>\n<li>I’ve tried adding jaxrs to pom -&gt; plugins -&gt; plugin -&gt; wildfly-jar-maven-plugin -&gt; layers, but that didn’t help.</li>\n<li>I’ve seen mention of jboss-deployment-structure.xml, but I tried adding that with no luck.</li>\n<li>I’ve seen mention of the need for a web.xml, but that shouldn’t be required if the ApiDeclaration already has a @ApplicationPath(&quot;/api&quot;).</li>\n</ul>\n<p>I’ve set the port to listen on 8089, and I can see this is working from the following startup log:</p>\n<ul>\n<li>WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8089</li>\n</ul>\n<p>The above code should expose an endpoint on http://localhost:8089/api/claim/process, but I get a 404 not found.</p>\n<p>I am concerned there are issues in teh POM.xml file, but I am no longer sure what to try, hence the question.</p>\n<p>FYI, I have refrred to these questions too:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found\">Wildfly 11 with resteasy throwing 404 and no endpoints found</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33984388/wildfly-returns-not-found\">WildFly returns &quot;Not found&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found\">Wildfly service deployed but resource not found</a></li>\n</ul>\n"},{"tags":["java","encoding","utf-8","ascii"],"comments":[{"owner":{"account_id":61665,"reputation":381,"user_id":183677,"accept_rate":20,"display_name":"jar"},"score":0,"creation_date":1473456483,"post_id":464874,"comment_id":66164990,"body_markdown":"be interested in actually knowing what bytes make up that copyright character, i.e. `hexdump AppDBCore.java` I somehow doubt its `\\u00a9` and instead is something that works partially for you because of your system setup. The question mark above is _used to replace an incoming character whose value is unknown or unrepresentable in Unicode_ http://hexutf8.com/?q=c2a9efbfbd20323030332d32303038204d7920436f6d70616e792e20416c6c207269676874732072657365727665642e","body":"be interested in actually knowing what bytes make up that copyright character, i.e. <code>hexdump AppDBCore.java</code> I somehow doubt its <code>\\u00a9</code> and instead is something that works partially for you because of your system setup. The question mark above is <i>used to replace an incoming character whose value is unknown or unrepresentable in Unicode</i> <a href=\"http://hexutf8.com/?q=c2a9efbfbd20323030332d32303038204d7920436f6d70616e792e20416c6c207269676874732072657365727665642e\" rel=\"nofollow noreferrer\">hexutf8.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":13,"creation_date":1232537140,"post_id":464886,"comment_id":283301,"body_markdown":"Be careful with \\uNNNN characters... they are parsed before doing lexical analysis. For example, if you put this comment /* c:\\unit */ to your code, it will not compile anymore, because &quot;nit&quot; isn&#39;t correct hex number.","body":"Be careful with \\uNNNN characters... they are parsed before doing lexical analysis. For example, if you put this comment /* c:\\unit */ to your code, it will not compile anymore, because &quot;nit&quot; isn&#39;t correct hex number."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1232537911,"post_id":464886,"comment_id":283323,"body_markdown":"Absolutely. (This is better handled in C#, where unicode escaping is only applied in certain contexts - but then there&#39;s the dangerous \\x escape sequence as well, which is awful.)","body":"Absolutely. (This is better handled in C#, where unicode escaping is only applied in certain contexts - but then there&#39;s the dangerous \\x escape sequence as well, which is awful.)"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":5,"creation_date":1233019900,"post_id":464886,"comment_id":298796,"body_markdown":"This sounds more like a band-aid than a cure.  The real problem appears to be that you&#39;re telling javac to expect source files in UTF-8 when they&#39;re really in a single-byte encoding like ISO-8859-1 or windows-1252.","body":"This sounds more like a band-aid than a cure.  The real problem appears to be that you&#39;re telling javac to expect source files in UTF-8 when they&#39;re really in a single-byte encoding like ISO-8859-1 or windows-1252."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1233038305,"post_id":464886,"comment_id":299221,"body_markdown":"@Alan M: In my experience, it&#39;s a lot easier to make sure you won&#39;t have a problem by keeping source files in ASCII than it is to make sure you use the right encoding *everywhere* your source might be compiled (Ant, Eclipse, IDEA etc).","body":"@Alan M: In my experience, it&#39;s a lot easier to make sure you won&#39;t have a problem by keeping source files in ASCII than it is to make sure you use the right encoding <i>everywhere</i> your source might be compiled (Ant, Eclipse, IDEA etc)."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1233126499,"post_id":464886,"comment_id":303121,"body_markdown":"The old Seven-bit Solution, sure.  But character-encoding problems crop up in many other contexts, too.  Every developer has to have a pretty good grasp of the issues involved.","body":"The old Seven-bit Solution, sure.  But character-encoding problems crop up in many other contexts, too.  Every developer has to have a pretty good grasp of the issues involved."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1233129271,"post_id":464886,"comment_id":303184,"body_markdown":"@Alan: Yes, every developer should know about encodings etc. That doesn&#39;t mean it&#39;s a good idea to cause problems where you don&#39;t have to. I prefer portable code where you don&#39;t *have* to choose the encoding (as almost everything is ASCII-friendly).","body":"@Alan: Yes, every developer should know about encodings etc. That doesn&#39;t mean it&#39;s a good idea to cause problems where you don&#39;t have to. I prefer portable code where you don&#39;t <i>have</i> to choose the encoding (as almost everything is ASCII-friendly)."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":6,"creation_date":1289819045,"post_id":464886,"comment_id":4520389,"body_markdown":"@Jon, that’s a fundamental flaw in Java; the fact that the Java source unit is encoded in UTF-8, ISO 8859-1, CP1252, MacRoman, or whatever, is treated at metadata external to the source unit that needs it. This forces you to remember to fix your ant file or Eclipse config, etc. As you rightly point out, this is absolutely the worst way to do it, because the info is fragile and easily lost. Languages that keep the metadata (encoding metadata) and the data (read: source code) together in one place are much more robust at this. It’s the only sane approach.","body":"@Jon, that’s a fundamental flaw in Java; the fact that the Java source unit is encoded in UTF-8, ISO 8859-1, CP1252, MacRoman, or whatever, is treated at metadata external to the source unit that needs it. This forces you to remember to fix your ant file or Eclipse config, etc. As you rightly point out, this is absolutely the worst way to do it, because the info is fragile and easily lost. Languages that keep the metadata (encoding metadata) and the data (read: source code) together in one place are much more robust at this. It’s the only sane approach."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1232536851,"creation_date":1232536851,"answer_id":464886,"question_id":464874,"body_markdown":"Use the &quot;\\uxxxx&quot; escape format.\r\n\r\nAccording to [Wikipedia][1], the copyright symbol is unicode U+00A9 so your line should read:\r\n\r\n    String copyright = &quot;\\u00a9 2003-2008 My Company. All rights reserved.&quot;;\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Copyright_symbol","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Use the \"\\uxxxx\" escape format.</p>\n\n<p>According to <a href=\"http://en.wikipedia.org/wiki/Copyright_symbol\" rel=\"noreferrer\">Wikipedia</a>, the copyright symbol is unicode U+00A9 so your line should read:</p>\n\n<pre><code>String copyright = \"\\u00a9 2003-2008 My Company. All rights reserved.\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"score":1,"creation_date":1278116035,"post_id":1619098,"comment_id":3261078,"body_markdown":"I like this solution.  I added &quot;-encoding UTF-8&quot; as a compilerarg in my ant build.xml and I still get &quot;warning: unmappable character for encoding ASCII&quot;.  If I modify it to &quot;-encoding jjjj&quot; it won&#39;t compile, complaining &quot;error: unsupported encoding: jjjj&quot;, so I know it is recognizing UTF-8, but it still seems to be treated .java files as ascii.  Sigh.","body":"I like this solution.  I added &quot;-encoding UTF-8&quot; as a compilerarg in my ant build.xml and I still get &quot;warning: unmappable character for encoding ASCII&quot;.  If I modify it to &quot;-encoding jjjj&quot; it won&#39;t compile, complaining &quot;error: unsupported encoding: jjjj&quot;, so I know it is recognizing UTF-8, but it still seems to be treated .java files as ascii.  Sigh."},{"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"score":1,"creation_date":1278126290,"post_id":1619098,"comment_id":3261485,"body_markdown":"I tried the &quot;encoding&quot; parameter of the ant javac task, same problem.  It recognizes the parameter, but then ignores it somehow.","body":"I tried the &quot;encoding&quot; parameter of the ant javac task, same problem.  It recognizes the parameter, but then ignores it somehow."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":24,"creation_date":1289819234,"post_id":1619098,"comment_id":4520409,"body_markdown":"@dfrankow: you have to add `&lt;compilerarg line=&quot;-encoding utf-8&quot;/&gt;` under the applicable `&lt;javac&gt;` call in your `Build.xml` file. This is a bad way to do it, but you have no choice. See my long comment at the top.","body":"@dfrankow: you have to add <code>&lt;compilerarg line=&quot;-encoding utf-8&quot;&#47;&gt;</code> under the applicable <code>&lt;javac&gt;</code> call in your <code>Build.xml</code> file. This is a bad way to do it, but you have no choice. See my long comment at the top."},{"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"score":0,"creation_date":1336635997,"post_id":1619098,"comment_id":13619900,"body_markdown":"I had the same problem when I added the compilearg in the ant script it worked ok, I was buildin this from a windows comandline, the strange thig is that I was buildin from eclipse it warked eaven withowt the compilearg, looks like that eclipse thakes care of the encoding right.","body":"I had the same problem when I added the compilearg in the ant script it worked ok, I was buildin this from a windows comandline, the strange thig is that I was buildin from eclipse it warked eaven withowt the compilearg, looks like that eclipse thakes care of the encoding right."},{"owner":{"account_id":201517,"reputation":4011,"user_id":448005,"accept_rate":73,"display_name":"Arun Abraham"},"score":0,"creation_date":1352622632,"post_id":1619098,"comment_id":18186376,"body_markdown":"This helped me :) for MAC OSX","body":"This helped me :) for MAC OSX"},{"owner":{"account_id":2230094,"reputation":1752,"user_id":1967928,"accept_rate":50,"display_name":"jp093121"},"score":0,"creation_date":1375201555,"post_id":1619098,"comment_id":26236371,"body_markdown":"This helped me a lot!! This website [ http://docs.oracle.com/cd/B19306_01/server.102/b14225/ch2charset.htm ]  also shows the differences between the character encoding sets, ASCII has columns 0-7, ISO-8859-1 has columns 0-7 and A-F","body":"This helped me a lot!! This website [ <a href=\"http://docs.oracle.com/cd/B19306_01/server.102/b14225/ch2charset.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B19306_01/server.102/b14225/ch2charset.ht&zwnj;&#8203;m</a> ]  also shows the differences between the character encoding sets, ASCII has columns 0-7, ISO-8859-1 has columns 0-7 and A-F"}],"tags":[],"owner":{"account_id":799651,"reputation":1051,"user_id":195992,"display_name":"Fernando Nah"},"comment_count":6,"down_vote_count":0,"up_vote_count":105,"is_accepted":false,"score":105,"last_activity_date":1256417998,"creation_date":1256417998,"answer_id":1619098,"question_id":464874,"body_markdown":"Try with:\r\njavac -encoding ISO-8859-1 file_name.java ","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Try with:\njavac -encoding ISO-8859-1 file_name.java </p>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1289819685,"post_id":1858497,"comment_id":4520470,"body_markdown":"Your description of “You will see normal [a] utf8 character when you  [are] programming but [the] background will be utf8 code” makes no sense. Also, see my long comment in response to the question above.","body":"Your description of “You will see normal [a] utf8 character when you  [are] programming but [the] background will be utf8 code” makes no sense. Also, see my long comment in response to the question above."},{"owner":{"account_id":410264,"reputation":3756,"user_id":782011,"accept_rate":47,"display_name":"pacoverflow"},"score":0,"creation_date":1489171183,"post_id":1858497,"comment_id":72570664,"body_markdown":"I changed it to ISO-8859-1, but still got a compile error about &quot;unmappable character for encoding UTF8&quot;.","body":"I changed it to ISO-8859-1, but still got a compile error about &quot;unmappable character for encoding UTF8&quot;."}],"tags":[],"owner":{"account_id":22755,"reputation":3459,"user_id":56470,"display_name":"bora.oren"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1260172576,"creation_date":1260172576,"answer_id":1858497,"question_id":464874,"body_markdown":"If you use eclipse (Eclipse can put utf8 code for you even you write utf8 character. You will see normal utf8 character when you programming but background will be utf8 code) ;\r\n\r\n 1. Select **Project**\r\n 2. Right click and select **Properties**\r\n 3. Select **Resource** on **Resource Panel**(Top of right menu which opened after 2.)\r\n 4. You can see in **Resource Panel**, **Text File Encoding**, select other which you want\r\n\r\n**P.S :** this will ok if you static value in code. For Example String test = &quot;İİİİİıııııı&#231;&#231;&#231;&#231;&#231;&quot;;\r\n\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If you use eclipse (Eclipse can put utf8 code for you even you write utf8 character. You will see normal utf8 character when you programming but background will be utf8 code) ;</p>\n\n<ol>\n<li>Select <strong>Project</strong></li>\n<li>Right click and select <strong>Properties</strong></li>\n<li>Select <strong>Resource</strong> on <strong>Resource Panel</strong>(Top of right menu which opened after 2.)</li>\n<li>You can see in <strong>Resource Panel</strong>, <strong>Text File Encoding</strong>, select other which you want</li>\n</ol>\n\n<p><strong>P.S :</strong> this will ok if you static value in code. For Example String test = \"İİİİİııııııççççç\";</p>\n"},{"tags":[],"owner":{"account_id":624747,"reputation":11,"user_id":373144,"display_name":"Kelvin Goodson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277208853,"creation_date":1277208853,"answer_id":3092933,"question_id":464874,"body_markdown":"I had the same problem, where the character index reported in the java error message was incorrect. I narrowed it down to the double quote characters just prior to the reported position being hex 094 (cancel instead of quote, but represented as a quote) instead of hex 022.  As soon as I swapped for the hex 022 variant all was fine.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>I had the same problem, where the character index reported in the java error message was incorrect. I narrowed it down to the double quote characters just prior to the reported position being hex 094 (cancel instead of quote, but represented as a quote) instead of hex 022.  As soon as I swapped for the hex 022 variant all was fine.</p>\n"},{"comments":[{"owner":{"account_id":207732,"reputation":1691,"user_id":457776,"accept_rate":60,"display_name":"Shamik"},"score":0,"creation_date":1342632720,"post_id":10786268,"comment_id":15269563,"body_markdown":"This is the right approach if people are using maven to build their project, thanks for sharing.","body":"This is the right approach if people are using maven to build their project, thanks for sharing."},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":3,"creation_date":1389684852,"post_id":10786268,"comment_id":31756720,"body_markdown":"The javadoc plugin will also complain about the unmappable character. It&#39;s preferable to set the `project.build.sourceEncoding` property.","body":"The javadoc plugin will also complain about the unmappable character. It&#39;s preferable to set the <code>project.build.sourceEncoding</code> property."},{"owner":{"account_id":1995212,"reputation":801,"user_id":1788318,"accept_rate":86,"display_name":"Federico Bonelli"},"score":0,"creation_date":1413204830,"post_id":10786268,"comment_id":41343084,"body_markdown":"i was using already the project.build.sourceEncoding property, but somehow it didn&#39;t map properly into the compiler encoding property. Setting it explicitly did the trick","body":"i was using already the project.build.sourceEncoding property, but somehow it didn&#39;t map properly into the compiler encoding property. Setting it explicitly did the trick"}],"tags":[],"owner":{"account_id":21068,"reputation":7108,"user_id":50926,"accept_rate":75,"display_name":"Thomas Leonard"},"comment_count":3,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1338215255,"creation_date":1338215255,"answer_id":10786268,"question_id":464874,"body_markdown":"If you&#39;re using Maven, set the `&lt;encoding&gt;` explicitly in the compiler plugin&#39;s configuration, e.g.\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If you're using Maven, set the <code>&lt;encoding&gt;</code> explicitly in the compiler plugin's configuration, e.g.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3037469,"reputation":787,"user_id":2575201,"accept_rate":75,"display_name":"cowboi-peng"},"score":0,"creation_date":1517391465,"post_id":21755671,"comment_id":84072687,"body_markdown":"wow it works \nI just add this to my .bashrc , and it fixed my problem .","body":"wow it works  I just add this to my .bashrc , and it fixed my problem ."},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1580784334,"post_id":21755671,"comment_id":106202727,"body_markdown":"Worked great, from command line I entered to build: `javac MyJavaFile.java -encoding utf-8 -cp .;lib\\*` Then when running it, I didn&#39;t need to add that extra encoding part.","body":"Worked great, from command line I entered to build: <code>javac MyJavaFile.java -encoding utf-8 -cp .;lib\\*</code> Then when running it, I didn&#39;t need to add that extra encoding part."}],"tags":[],"owner":{"account_id":2155508,"reputation":7775,"user_id":1910855,"accept_rate":89,"display_name":"nightlyop"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1392298129,"creation_date":1392298129,"answer_id":21755671,"question_id":464874,"body_markdown":"This helped for me: \r\n\r\n&gt; All you need to do, is to specify a envirnoment variable called\r\n&gt; JAVA_TOOL_OPTIONS. If you set this variable to -Dfile.encoding=UTF8,\r\n&gt; everytime a JVM is started, it will pick up this information.\r\n\r\nSource: [http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/][1]\r\n\r\n\r\n  [1]: http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>This helped for me: </p>\n\n<blockquote>\n  <p>All you need to do, is to specify a envirnoment variable called\n  JAVA_TOOL_OPTIONS. If you set this variable to -Dfile.encoding=UTF8,\n  everytime a JVM is started, it will pick up this information.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/\" rel=\"noreferrer\">http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/</a></p>\n"},{"tags":[],"owner":{"account_id":4456589,"reputation":9870,"user_id":3626659,"accept_rate":83,"display_name":"Alupotha"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1428214655,"creation_date":1428214655,"answer_id":29454703,"question_id":464874,"body_markdown":"Most of the time this compile error comes when unicode(UTF-8 encoded) file compiling \r\n\r\n    javac -encoding UTF-8 HelloWorld.java\r\n\r\nand also You can add this compile option to your IDE \r\nex:  Intellij idea  \r\n(File&gt;settings&gt;Java Compiler) add as additional command line parameter\r\n\r\n![enter image description here][1]\r\n\r\n&gt;**-encoding :** encoding\r\nSet the source file encoding name, such as EUC-JP and UTF-8.. If -encoding is not specified, the platform default converter is used. ([DOC][2])\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/eqbY6.png\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Most of the time this compile error comes when unicode(UTF-8 encoded) file compiling </p>\n\n<pre><code>javac -encoding UTF-8 HelloWorld.java\n</code></pre>\n\n<p>and also You can add this compile option to your IDE \nex:  Intellij idea<br>\n(File>settings>Java Compiler) add as additional command line parameter</p>\n\n<p><img src=\"https://i.stack.imgur.com/eqbY6.png\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p><strong>-encoding :</strong> encoding\n  Set the source file encoding name, such as EUC-JP and UTF-8.. If -encoding is not specified, the platform default converter is used. (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html\" rel=\"noreferrer\">DOC</a>)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435158375,"creation_date":1435158375,"answer_id":31030192,"question_id":464874,"body_markdown":"If one is using Maven Build from the command prompt one can use the following command as well:\r\n             \r\n                        mvn -Dproject.build.sourceEncoding=UTF-8","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If one is using Maven Build from the command prompt one can use the following command as well:</p>\n\n<pre><code>                    mvn -Dproject.build.sourceEncoding=UTF-8\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"score":2,"creation_date":1571910619,"post_id":32555356,"comment_id":103399431,"body_markdown":"You might want to set the encoding for `compileTestJava` and for `javadoc` as well","body":"You might want to set the encoding for <code>compileTestJava</code> and for <code>javadoc</code> as well"}],"tags":[],"owner":{"account_id":2515260,"reputation":463,"user_id":2186850,"display_name":"Alobes5"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1442185402,"creation_date":1442185402,"answer_id":32555356,"question_id":464874,"body_markdown":"  put this line in yor file .gradle  above the Java conf.\r\n\r\n    apply plugin: &#39;java&#39;\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}   \r\n\r\n  ","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>put this line in yor file .gradle  above the Java conf.</p>\n\n<pre><code>apply plugin: 'java'\ncompileJava {options.encoding = \"UTF-8\"}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":216297,"reputation":51,"user_id":7605386,"display_name":"Dxx0"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629272992,"creation_date":1493517232,"answer_id":43702160,"question_id":464874,"body_markdown":"This worked for me:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;project name=&quot;test&quot; default=&quot;compile&quot;&gt;\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;classes&quot; encoding=&quot;iso-8859-1&quot; debug=&quot;true&quot; /&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>This worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;project name=&quot;test&quot; default=&quot;compile&quot;&gt;\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;classes&quot; encoding=&quot;iso-8859-1&quot; debug=&quot;true&quot; /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82472,"reputation":4033,"user_id":231860,"accept_rate":40,"display_name":"Luke Machowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1540118564,"creation_date":1540118564,"answer_id":52914447,"question_id":464874,"body_markdown":"###Gradle Steps###\r\nIf you are using Gradle then you can find the line that applies the java plugin:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\nThen set the encoding for the compile task to be UTF-8:\r\n\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}   \r\n\r\nIf you have unit tests, then you probably want to compile those with UTF-8 too:\r\n\r\n    compileTestJava {options.encoding = &quot;UTF-8&quot;}\r\n\r\n###Overall Gradle Example###\r\nThis means that the overall gradle code would look something like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}\r\n    compileTestJava {options.encoding = &quot;UTF-8&quot;}\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<h3>Gradle Steps</h3>\n\n<p>If you are using Gradle then you can find the line that applies the java plugin:</p>\n\n<pre><code>apply plugin: 'java'\n</code></pre>\n\n<p>Then set the encoding for the compile task to be UTF-8:</p>\n\n<pre><code>compileJava {options.encoding = \"UTF-8\"}   \n</code></pre>\n\n<p>If you have unit tests, then you probably want to compile those with UTF-8 too:</p>\n\n<pre><code>compileTestJava {options.encoding = \"UTF-8\"}\n</code></pre>\n\n<h3>Overall Gradle Example</h3>\n\n<p>This means that the overall gradle code would look something like this:</p>\n\n<pre><code>apply plugin: 'java'\ncompileJava {options.encoding = \"UTF-8\"}\ncompileTestJava {options.encoding = \"UTF-8\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124959,"reputation":1051,"user_id":320418,"display_name":"jakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586891250,"creation_date":1586891250,"answer_id":61215319,"question_id":464874,"body_markdown":"For those wondering why this happens on some systems and not on others (with the same source, build parameters, and so on), **check your `LANG` environment variable**. I get the warning/error when `LANG=C.UTF-8`, but not when `LANG=en_US.UTF-8`.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>For those wondering why this happens on some systems and not on others (with the same source, build parameters, and so on), <strong>check your <code>LANG</code> environment variable</strong>. I get the warning/error when <code>LANG=C.UTF-8</code>, but not when <code>LANG=en_US.UTF-8</code>.</p>\n"},{"tags":[],"owner":{"account_id":153385,"reputation":426,"user_id":368613,"display_name":"imy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690979044,"creation_date":1690979044,"answer_id":76819859,"question_id":464874,"body_markdown":"In our case adding `-Dfile.encoding=UTF-8` to the `./gradlew test ...` command line fixed the problem.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>In our case adding <code>-Dfile.encoding=UTF-8</code> to the <code>./gradlew test ...</code> command line fixed the problem.</p>\n"}],"owner":{"account_id":18858,"reputation":17426,"user_id":43662,"accept_rate":92,"display_name":"seanhodges"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262477,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":464886,"answer_count":13,"score":137,"last_activity_date":1690979044,"creation_date":1232536657,"question_id":464874,"body_markdown":"I&#39;m currently working on a Java project that is emitting the following warning when I compile:\r\n\r\n    /src/com/myco/apps/AppDBCore.java:439: warning: unmappable character for encoding UTF8\r\n        [javac] \t\tString copyright = &quot;� 2003-2008 My Company. All rights reserved.&quot;;\r\n\r\nI&#39;m not sure how SO will render the character before the date, but it should be a copyright symbol, and is displayed in the warning as a question mark in a diamond.\r\n\r\nIt&#39;s worth noting that the character appears in the output artifact correctly, but the warnings are a nuisance and the file containing this class may one day be touched by a text editor that saves the encoding incorrectly...\r\n\r\nHow can I inject this character into the &quot;copyright&quot; string so that the compiler is happy, and the symbol is preserved in the file without potential re-encoding issues?","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>I'm currently working on a Java project that is emitting the following warning when I compile:</p>\n\n<pre><code>/src/com/myco/apps/AppDBCore.java:439: warning: unmappable character for encoding UTF8\n    [javac]         String copyright = \"� 2003-2008 My Company. All rights reserved.\";\n</code></pre>\n\n<p>I'm not sure how SO will render the character before the date, but it should be a copyright symbol, and is displayed in the warning as a question mark in a diamond.</p>\n\n<p>It's worth noting that the character appears in the output artifact correctly, but the warnings are a nuisance and the file containing this class may one day be touched by a text editor that saves the encoding incorrectly...</p>\n\n<p>How can I inject this character into the \"copyright\" string so that the compiler is happy, and the symbol is preserved in the file without potential re-encoding issues?</p>\n"},{"tags":["python","java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":18615265,"reputation":319,"user_id":13566716,"display_name":"3awny"},"score":0,"creation_date":1632825306,"post_id":69357757,"comment_id":122592272,"body_markdown":"Thank you for confirming, much appreciated!","body":"Thank you for confirming, much appreciated!"},{"owner":{"account_id":18615265,"reputation":319,"user_id":13566716,"display_name":"3awny"},"score":0,"creation_date":1632825984,"post_id":69357757,"comment_id":122592606,"body_markdown":"Quick question, is it just a matter of adding the jars to this location or do I need to add them in the flink environment in code like this `stream_execution_environment.add_jars(&quot;file:///my/jar/path/connector1.jar&quot;, &quot;file:///my/jar/path/connector2.jar&quot;)`","body":"Quick question, is it just a matter of adding the jars to this location or do I need to add them in the flink environment in code like this <code>stream_execution_environment.add_jars(&quot;file:&#47;&#47;&#47;my&#47;jar&#47;path&#47;c&zwnj;&#8203;onnector1.jar&quot;, &quot;file:&#47;&#47;&#47;my&#47;jar&#47;path&#47;connector2.jar&quot;)</code>"},{"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"score":1,"creation_date":1632831065,"post_id":69357757,"comment_id":122594810,"body_markdown":"Great, this works too","body":"Great, this works too"},{"owner":{"account_id":1484404,"reputation":61,"user_id":1392952,"display_name":"LearningPython"},"score":0,"creation_date":1641493895,"post_id":69357757,"comment_id":124824391,"body_markdown":"I am also facing face problem. Where do I get &quot;connector1.jar&quot; and &quot;connector2.jar&quot; ?","body":"I am also facing face problem. Where do I get &quot;connector1.jar&quot; and &quot;connector2.jar&quot; ?"},{"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"score":0,"creation_date":1677706439,"post_id":69357757,"comment_id":133393421,"body_markdown":"@ChangLi  does any of you have a github repo to share on this? Would really appreciate it. Thanks in advance!","body":"@ChangLi  does any of you have a github repo to share on this? Would really appreciate it. Thanks in advance!"},{"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"score":0,"creation_date":1677706445,"post_id":69357757,"comment_id":133393423,"body_markdown":"@AcK does any of you have a github repo to share on this? Would really appreciate it. Thanks in advance!","body":"@AcK does any of you have a github repo to share on this? Would really appreciate it. Thanks in advance!"}],"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632815535,"creation_date":1632815535,"answer_id":69357757,"question_id":69335471,"body_markdown":"Since Flink is a Java/Scala-based project, for both connectors and formats, implementations are available as jars\r\n\r\nFlinkKafkaConsumer in pyflink relies on Java&#39;s FlinkKafkaConsumer implementation\r\n\r\nYou need to download the kafka connector jar package to the lib directory of pyflink. Generally, the path of the lib directory is: /usr/local/lib/python3.8.2/site-packages/pyflink/lib\r\n\r\n    class FlinkKafkaConsumer(FlinkKafkaConsumerBase):\r\n        &quot;&quot;&quot;\r\n        The Flink Kafka Consumer is a streaming data source that pulls a parallel data stream from\r\n        Apache Kafka. The consumer can run in multiple parallel instances, each of which will\r\n        pull data from one or more Kafka partitions.\r\n    \r\n        The Flink Kafka Consumer participates in checkpointing and guarantees that no data is lost\r\n        during a failure, and that the computation processes elements &#39;exactly once. (These guarantees\r\n        naturally assume that Kafka itself does not lose any data.)\r\n    \r\n        Please note that Flink snapshots the offsets internally as part of its distributed checkpoints.\r\n        The offsets committed to Kafka / Zookeeper are only to bring the outside view of progress in\r\n        sync with Flink&#39;s view of the progress. That way, monitoring and other jobs can get a view of\r\n        how far the Flink Kafka consumer has consumed a topic.\r\n    \r\n        Please refer to Kafka&#39;s documentation for the available configuration properties:\r\n        http://kafka.apache.org/documentation.html#newconsumerconfigs\r\n        &quot;&quot;&quot;\r\n    \r\n        def __init__(self, topics: Union[str, List[str]], deserialization_schema: DeserializationSchema,\r\n                     properties: Dict):\r\n            &quot;&quot;&quot;\r\n            Creates a new Kafka streaming source consumer for Kafka 0.10.x.\r\n    \r\n            This constructor allows passing multiple topics to the consumer.\r\n    \r\n            :param topics: The Kafka topics to read from.\r\n            :param deserialization_schema: The de-/serializer used to convert between Kafka&#39;s byte\r\n                                           messages and Flink&#39;s objects.\r\n            :param properties: The properties that are used to configure both the fetcher and the offset\r\n                               handler.\r\n            &quot;&quot;&quot;\r\n    \r\n            JFlinkKafkaConsumer = get_gateway().jvm\r\n                .org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\r\n            j_flink_kafka_consumer = _get_kafka_consumer(topics, properties, deserialization_schema,\r\n                                                         JFlinkKafkaConsumer)\r\n            super(FlinkKafkaConsumer, self).__init__(j_flink_kafka_consumer=j_flink_kafka_consumer)\r\n\r\n\r\n\r\n","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>Since Flink is a Java/Scala-based project, for both connectors and formats, implementations are available as jars</p>\n<p>FlinkKafkaConsumer in pyflink relies on Java's FlinkKafkaConsumer implementation</p>\n<p>You need to download the kafka connector jar package to the lib directory of pyflink. Generally, the path of the lib directory is: /usr/local/lib/python3.8.2/site-packages/pyflink/lib</p>\n<pre><code>class FlinkKafkaConsumer(FlinkKafkaConsumerBase):\n    &quot;&quot;&quot;\n    The Flink Kafka Consumer is a streaming data source that pulls a parallel data stream from\n    Apache Kafka. The consumer can run in multiple parallel instances, each of which will\n    pull data from one or more Kafka partitions.\n\n    The Flink Kafka Consumer participates in checkpointing and guarantees that no data is lost\n    during a failure, and that the computation processes elements 'exactly once. (These guarantees\n    naturally assume that Kafka itself does not lose any data.)\n\n    Please note that Flink snapshots the offsets internally as part of its distributed checkpoints.\n    The offsets committed to Kafka / Zookeeper are only to bring the outside view of progress in\n    sync with Flink's view of the progress. That way, monitoring and other jobs can get a view of\n    how far the Flink Kafka consumer has consumed a topic.\n\n    Please refer to Kafka's documentation for the available configuration properties:\n    http://kafka.apache.org/documentation.html#newconsumerconfigs\n    &quot;&quot;&quot;\n\n    def __init__(self, topics: Union[str, List[str]], deserialization_schema: DeserializationSchema,\n                 properties: Dict):\n        &quot;&quot;&quot;\n        Creates a new Kafka streaming source consumer for Kafka 0.10.x.\n\n        This constructor allows passing multiple topics to the consumer.\n\n        :param topics: The Kafka topics to read from.\n        :param deserialization_schema: The de-/serializer used to convert between Kafka's byte\n                                       messages and Flink's objects.\n        :param properties: The properties that are used to configure both the fetcher and the offset\n                           handler.\n        &quot;&quot;&quot;\n\n        JFlinkKafkaConsumer = get_gateway().jvm\n            .org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\n        j_flink_kafka_consumer = _get_kafka_consumer(topics, properties, deserialization_schema,\n                                                     JFlinkKafkaConsumer)\n        super(FlinkKafkaConsumer, self).__init__(j_flink_kafka_consumer=j_flink_kafka_consumer)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1690419696,"post_id":76754970,"comment_id":135352686,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76754970/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21446073,"reputation":1,"user_id":15799618,"display_name":"Drice"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690978793,"creation_date":1690205219,"answer_id":76754970,"question_id":69335471,"body_markdown":"It seems the Kafka connectors were discontinued as from Flink 1.12. Check out on the [documentation][1]. You can now use universal kafka connectors. Read more on [cloudera][2].\r\n\r\n    In Flink 1.12 we removed the Kafka 0.10.x and 0.11.x connectors. Please use the universal Kafka connector which works with any Kafka cluster version after 0.10.2.x.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.12/#connectors-and-formats\r\n  [2]: https://community.cloudera.com/t5/Support-Questions/Flink-Kafka-Connector-java-lang-NoSuchMethodError/td-p/336720","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>It seems the Kafka connectors were discontinued as from Flink 1.12. Check out on the <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.12/#connectors-and-formats\" rel=\"nofollow noreferrer\">documentation</a>. You can now use universal kafka connectors. Read more on <a href=\"https://community.cloudera.com/t5/Support-Questions/Flink-Kafka-Connector-java-lang-NoSuchMethodError/td-p/336720\" rel=\"nofollow noreferrer\">cloudera</a>.</p>\n<pre><code>In Flink 1.12 we removed the Kafka 0.10.x and 0.11.x connectors. Please use the universal Kafka connector which works with any Kafka cluster version after 0.10.2.x.\n</code></pre>\n"}],"owner":{"account_id":18615265,"reputation":319,"user_id":13566716,"display_name":"3awny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69357757,"answer_count":2,"score":2,"last_activity_date":1690978793,"creation_date":1632663450,"question_id":69335471,"body_markdown":"I am using PyFlink. I thought all the Java dependencies are installed along with `pip install apache-flink`\r\n\r\nThe above error occurs on this line:\r\n\r\n    kafka_consumer = FlinkKafkaConsumer(\r\n        topics=&#39;mytopic&#39;,\r\n        deserialization_schema=deserialization_schema,\r\n        properties={\r\n            &#39;bootstrap.servers&#39;: KAFKA_BOOTSTRAP_SERVERS})\r\n\r\nAs per the error do I need to specify the kafka consumer dependency manually in the pyflink environment by downloading and adding the jar?\r\n\r\nAny guidance would be appreciated.\r\n\r\n    Python Version: 3.8.2\r\n    Java Version: java 11.0.11","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>I am using PyFlink. I thought all the Java dependencies are installed along with <code>pip install apache-flink</code></p>\n<p>The above error occurs on this line:</p>\n<pre><code>kafka_consumer = FlinkKafkaConsumer(\n    topics='mytopic',\n    deserialization_schema=deserialization_schema,\n    properties={\n        'bootstrap.servers': KAFKA_BOOTSTRAP_SERVERS})\n</code></pre>\n<p>As per the error do I need to specify the kafka consumer dependency manually in the pyflink environment by downloading and adding the jar?</p>\n<p>Any guidance would be appreciated.</p>\n<pre><code>Python Version: 3.8.2\nJava Version: java 11.0.11\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-python"],"answers":[{"comments":[{"owner":{"account_id":9720301,"reputation":101,"user_id":7209248,"display_name":"Marek Białkowski"},"score":0,"creation_date":1541878194,"post_id":33599529,"comment_id":93370712,"body_markdown":"@MatthiasJ.Sax could you elaborate ? https://medium.com/@jaykreps/exactly-once-support-in-apache-kafka-55e1fdd0a35f says you can get exactly-once by writing offset and derived state to DB, or storing both idempotently. So what is in the kafka commit that is lacking comparing to these 2 solutions ?","body":"@MatthiasJ.Sax could you elaborate ? <a href=\"https://medium.com/@jaykreps/exactly-once-support-in-apache-kafka-55e1fdd0a35f\" rel=\"nofollow noreferrer\">medium.com/@jaykreps/&hellip;</a> says you can get exactly-once by writing offset and derived state to DB, or storing both idempotently. So what is in the kafka commit that is lacking comparing to these 2 solutions ?"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1541913545,"post_id":33599529,"comment_id":93377122,"body_markdown":"The blog say `Store the offsets in the same DB as the derived state and update both in a transaction.` -- committing offsets to Kafka is not part of any transaction using the consumer (you can make it part of a transaction using the new Kafka transactions as of v0.11 -- for this case, the producer commits offsets and thus makes them part of the transaction). -- For idempotence: if all state changes are idempotent, that committing offsets to Kafka is sufficient. Note, that you don&#39;t need to commit offset after each fetch to get this property though.","body":"The blog say <code>Store the offsets in the same DB as the derived state and update both in a transaction.</code> -- committing offsets to Kafka is not part of any transaction using the consumer (you can make it part of a transaction using the new Kafka transactions as of v0.11 -- for this case, the producer commits offsets and thus makes them part of the transaction). -- For idempotence: if all state changes are idempotent, that committing offsets to Kafka is sufficient. Note, that you don&#39;t need to commit offset after each fetch to get this property though."},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1541913702,"post_id":33599529,"comment_id":93377143,"body_markdown":"My point is, that the commit frequency has nothing to do with any processing guarantees. The answer indicates something else: namely, that &quot;you get exactly-once if you commit after each fetch&quot; -- not even sure, if the answer suggest to commit before or after processing the data. It&#39;s very imprecise. Also &quot;Like you&#39;re wrapping message processing and offset commit into a transaction&quot; is not possible with the consumer.","body":"My point is, that the commit frequency has nothing to do with any processing guarantees. The answer indicates something else: namely, that &quot;you get exactly-once if you commit after each fetch&quot; -- not even sure, if the answer suggest to commit before or after processing the data. It&#39;s very imprecise. Also &quot;Like you&#39;re wrapping message processing and offset commit into a transaction&quot; is not possible with the consumer."},{"owner":{"account_id":212714,"reputation":5632,"user_id":465710,"accept_rate":100,"display_name":"Marko Bonaci"},"score":0,"creation_date":1542220984,"post_id":33599529,"comment_id":93494330,"body_markdown":"@MatthiasJ.Sax why wouldn&#39;t it be possible to have a critical section in your consumer code that simply doesn&#39;t commit offset if your downstream processing fails?","body":"@MatthiasJ.Sax why wouldn&#39;t it be possible to have a critical section in your consumer code that simply doesn&#39;t commit offset if your downstream processing fails?"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1542235838,"post_id":33599529,"comment_id":93500639,"body_markdown":"You can do this, but it doesn&#39;t give you exactly-once: if you don&#39;t commit and wait for some successful downstream processing, and the processing finished successful and you then fail before committing, you would process the data again -- this is at-least-once guarantee.","body":"You can do this, but it doesn&#39;t give you exactly-once: if you don&#39;t commit and wait for some successful downstream processing, and the processing finished successful and you then fail before committing, you would process the data again -- this is at-least-once guarantee."},{"owner":{"account_id":212714,"reputation":5632,"user_id":465710,"accept_rate":100,"display_name":"Marko Bonaci"},"score":0,"creation_date":1690978478,"post_id":33599529,"comment_id":135427659,"body_markdown":"I stumbled upon this after all these years. Good point. Edited the answer.","body":"I stumbled upon this after all these years. Good point. Edited the answer."}],"tags":[],"owner":{"account_id":212714,"reputation":5632,"user_id":465710,"accept_rate":100,"display_name":"Marko Bonaci"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690978576,"creation_date":1447020136,"answer_id":33599529,"question_id":33152204,"body_markdown":"The purpose of committing an offset after every fetch is to achieve at-least-once (see Matthias J Sax&#39;s comment below) processing.  \r\nYou need to make sure that you commit offset once you processed the message (where &quot;process&quot; means whatever you do with a message after you pull it out from Kafka). Like you&#39;re wrapping message processing and offset commit into a transaction, where either both succeed or fail.  \r\nThis way, if your client crashes you&#39;ll be able to start from the correct offset after you restart.","title":"Using Kafka low-level API, should I commit the offset when finished fetching data?","body":"<p>The purpose of committing an offset after every fetch is to achieve at-least-once (see Matthias J Sax's comment below) processing.<br />\nYou need to make sure that you commit offset once you processed the message (where &quot;process&quot; means whatever you do with a message after you pull it out from Kafka). Like you're wrapping message processing and offset commit into a transaction, where either both succeed or fail.<br />\nThis way, if your client crashes you'll be able to start from the correct offset after you restart.</p>\n"}],"owner":{"account_id":7127793,"reputation":1,"user_id":5450149,"display_name":"Sinme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690978576,"creation_date":1444921905,"question_id":33152204,"body_markdown":"\r\n    public void run() {\r\n        // find the meta data about the topic and partition we are interested in\r\n        PartitionMetadata metadata = findLeader(a_seedBrokers, a_port, a_topic, a_partition);\r\n        if (metadata == null) {\r\n            System.out.println(&quot;Can&#39;t find metadata for Topic and Partition. Exiting&quot;);\r\n            return;\r\n        }\r\n        if (metadata.leader() == null) {\r\n            System.out.println(&quot;Can&#39;t find Leader for Topic and Partition. Exiting&quot;);\r\n            return;\r\n        }\r\n        String leadBroker = metadata.leader().host();\r\n        String clientName = &quot;Client_&quot; + a_topic + &quot;_&quot; + a_partition;\r\n        SimpleConsumer consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\r\n        long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.EarliestTime(), clientName);\r\n        //long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\r\n        int numErrors = 0;\r\n        while (a_maxReads &gt; 0) {\r\n            if (consumer == null) {\r\n                consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\r\n            }\r\n            FetchRequest req = new FetchRequestBuilder()\r\n                    .clientId(clientName)\r\n                    .addFetch(a_topic, a_partition, readOffset, 100000) // Note: this fetchSize of 100000 might need to be increased if large batches are written to Kafka\r\n                    .build();\r\n            FetchResponse fetchResponse = consumer.fetch(req);\r\n            if (fetchResponse.hasError()) {\r\n                numErrors++;\r\n                // Something went wrong!\r\n                short code = fetchResponse.errorCode(a_topic, a_partition);\r\n                System.out.println(&quot;Error fetching data from the Broker:&quot; + leadBroker + &quot; Reason: &quot; + code);\r\n                if (numErrors &gt; 5) break;\r\n                if (code == ErrorMapping.OffsetOutOfRangeCode())  {\r\n                    // We asked for an invalid offset. For simple case ask for the last element to reset\r\n                    readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\r\n                    continue;\r\n                }\r\n                consumer.close();\r\n                consumer = null;\r\n                try {\r\n                    leadBroker = findNewLeader(leadBroker, a_topic, a_partition, a_port);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                continue;\r\n            }\r\n            numErrors = 0;\r\n            long numRead = 0;\r\n            for (MessageAndOffset messageAndOffset : fetchResponse.messageSet(a_topic, a_partition)) {\r\n                long currentOffset = messageAndOffset.offset();\r\n                if (currentOffset &lt; readOffset) {\r\n                    System.out.println(&quot;Found an old offset: &quot; + currentOffset + &quot; Expecting: &quot; + readOffset);\r\n                    continue;\r\n                }\r\n                readOffset = messageAndOffset.nextOffset();\r\n                ByteBuffer payload = messageAndOffset.message().payload();\r\n\r\n                byte[] bytes = new byte[payload.limit()];\r\n                payload.get(bytes);\r\n                try {\r\n                    dataPoints.add(simpleAPIConsumer.parse(simpleAPIConsumer.deserializing(bytes)));//add data to List\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                numRead++;\r\n                a_maxReads--;\r\n            }\r\n            if (numRead == 0) {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ie) {\r\n                }\r\n            }\r\n        }\r\n        simpleAPIConsumer.dataHandle(dataPoints);//Handel Data\r\n        if (consumer != null) consumer.close();\r\n    }\r\n\r\nI found this method in Kafka source. Should I use it?\r\n\r\n    /**\r\n     * Commit offsets for a topic to Zookeeper\r\n     * @param request a [[kafka.javaapi.OffsetCommitRequest]] object.\r\n     * @return a [[kafka.javaapi.OffsetCommitResponse]] object.\r\n     */\r\n     def commitOffsets(request: kafka.javaapi.OffsetCommitRequest):kafka.javaapi.OffsetCommitResponse = {\r\n       import kafka.javaapi.Implicits._\r\n       underlying.commitOffsets(request.underlying)\r\n     }","title":"Using Kafka low-level API, should I commit the offset when finished fetching data?","body":"<pre><code>public void run() {\n    // find the meta data about the topic and partition we are interested in\n    PartitionMetadata metadata = findLeader(a_seedBrokers, a_port, a_topic, a_partition);\n    if (metadata == null) {\n        System.out.println(\"Can't find metadata for Topic and Partition. Exiting\");\n        return;\n    }\n    if (metadata.leader() == null) {\n        System.out.println(\"Can't find Leader for Topic and Partition. Exiting\");\n        return;\n    }\n    String leadBroker = metadata.leader().host();\n    String clientName = \"Client_\" + a_topic + \"_\" + a_partition;\n    SimpleConsumer consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\n    long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.EarliestTime(), clientName);\n    //long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\n    int numErrors = 0;\n    while (a_maxReads &gt; 0) {\n        if (consumer == null) {\n            consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\n        }\n        FetchRequest req = new FetchRequestBuilder()\n                .clientId(clientName)\n                .addFetch(a_topic, a_partition, readOffset, 100000) // Note: this fetchSize of 100000 might need to be increased if large batches are written to Kafka\n                .build();\n        FetchResponse fetchResponse = consumer.fetch(req);\n        if (fetchResponse.hasError()) {\n            numErrors++;\n            // Something went wrong!\n            short code = fetchResponse.errorCode(a_topic, a_partition);\n            System.out.println(\"Error fetching data from the Broker:\" + leadBroker + \" Reason: \" + code);\n            if (numErrors &gt; 5) break;\n            if (code == ErrorMapping.OffsetOutOfRangeCode())  {\n                // We asked for an invalid offset. For simple case ask for the last element to reset\n                readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\n                continue;\n            }\n            consumer.close();\n            consumer = null;\n            try {\n                leadBroker = findNewLeader(leadBroker, a_topic, a_partition, a_port);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            continue;\n        }\n        numErrors = 0;\n        long numRead = 0;\n        for (MessageAndOffset messageAndOffset : fetchResponse.messageSet(a_topic, a_partition)) {\n            long currentOffset = messageAndOffset.offset();\n            if (currentOffset &lt; readOffset) {\n                System.out.println(\"Found an old offset: \" + currentOffset + \" Expecting: \" + readOffset);\n                continue;\n            }\n            readOffset = messageAndOffset.nextOffset();\n            ByteBuffer payload = messageAndOffset.message().payload();\n\n            byte[] bytes = new byte[payload.limit()];\n            payload.get(bytes);\n            try {\n                dataPoints.add(simpleAPIConsumer.parse(simpleAPIConsumer.deserializing(bytes)));//add data to List\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            numRead++;\n            a_maxReads--;\n        }\n        if (numRead == 0) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException ie) {\n            }\n        }\n    }\n    simpleAPIConsumer.dataHandle(dataPoints);//Handel Data\n    if (consumer != null) consumer.close();\n}\n</code></pre>\n\n<p>I found this method in Kafka source. Should I use it?</p>\n\n<pre><code>/**\n * Commit offsets for a topic to Zookeeper\n * @param request a [[kafka.javaapi.OffsetCommitRequest]] object.\n * @return a [[kafka.javaapi.OffsetCommitResponse]] object.\n */\n def commitOffsets(request: kafka.javaapi.OffsetCommitRequest):kafka.javaapi.OffsetCommitResponse = {\n   import kafka.javaapi.Implicits._\n   underlying.commitOffsets(request.underlying)\n }\n</code></pre>\n"},{"tags":["java","intellij-idea","environment-variables"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690972152,"post_id":76818851,"comment_id":135426372,"body_markdown":"I don&#39;t use the IDE but [this](https://www.jetbrains.com/help/idea/specifying-compilation-settings.html) comes up when searching that file not found path. Maybe you should regenerate your compiler settings?","body":"I don&#39;t use the IDE but <a href=\"https://www.jetbrains.com/help/idea/specifying-compilation-settings.html\" rel=\"nofollow noreferrer\">this</a> comes up when searching that file not found path. Maybe you should regenerate your compiler settings?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690972499,"post_id":76818851,"comment_id":135426424,"body_markdown":"Please see if https://stackoverflow.com/a/59023270/12844632 helps","body":"Please see if <a href=\"https://stackoverflow.com/a/59023270/12844632\">stackoverflow.com/a/59023270/12844632</a> helps"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690972805,"post_id":76818851,"comment_id":135426482,"body_markdown":"@EgorKlepikov Thanks for this, that was another article I looked at but trying what was suggested did not work for me","body":"@EgorKlepikov Thanks for this, that was another article I looked at but trying what was suggested did not work for me"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1690973216,"post_id":76818851,"comment_id":135426559,"body_markdown":"It really seems like you have removed a version of java 1.8 and then are trying to use it. In your project settings you have 171 but everywhere else you have 272. Is this a maven project?","body":"It really seems like you have removed a version of java 1.8 and then are trying to use it. In your project settings you have 171 but everywhere else you have 272. Is this a maven project?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690973507,"post_id":76818851,"comment_id":135426613,"body_markdown":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk","body":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690973517,"post_id":76818851,"comment_id":135426616,"body_markdown":"@g00se My compiler settings are setup the same as another machine which works. I do not see a way to regenerate these. I do have it clearing the output directory and rebuilding on dependency change, not sure what else in here if anything would help.","body":"@g00se My compiler settings are setup the same as another machine which works. I do not see a way to regenerate these. I do have it clearing the output directory and rebuilding on dependency change, not sure what else in here if anything would help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690974158,"post_id":76818851,"comment_id":135426755,"body_markdown":"I&#39;ve just given you a &#39;no-lose&#39; suggestion. You could even remove *all* SDKs and re-add ones for existing JDKs only","body":"I&#39;ve just given you a &#39;no-lose&#39; suggestion. You could even remove <i>all</i> SDKs and re-add ones for existing JDKs only"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690974421,"post_id":76818851,"comment_id":135426806,"body_markdown":"@g00se, Removing the unused sdk&#39;s seems to have got the older project back up and running, but broke the newer one. So just trying to fix that one now","body":"@g00se, Removing the unused sdk&#39;s seems to have got the older project back up and running, but broke the newer one. So just trying to fix that one now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690974667,"post_id":76818851,"comment_id":135426861,"body_markdown":"Well, by the looks (it&#39;s confusing), you don&#39;t currently even have a JDK installed that&#39;s modern enough to handle a module-based project, if that&#39;s what you&#39;ve got...","body":"Well, by the looks (it&#39;s confusing), you don&#39;t currently even have a JDK installed that&#39;s modern enough to handle a module-based project, if that&#39;s what you&#39;ve got..."},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690976336,"post_id":76818851,"comment_id":135427164,"body_markdown":"@g00se It&#39;s been that way since the project started, so I just work with it.  But both projects are up and running now, so there was definitely some conflicts surrounding the sdk&#39;s","body":"@g00se It&#39;s been that way since the project started, so I just work with it.  But both projects are up and running now, so there was definitely some conflicts surrounding the sdk&#39;s"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690976596,"post_id":76818851,"comment_id":135427215,"body_markdown":"@g00se The screenshot lists 3 Java 17 versions (Coretto, IntelliJ&#39;s built-in Java 17 and one other), not all Java installers from all Java vendors write those registry entries.","body":"@g00se The screenshot lists 3 Java 17 versions (Coretto, IntelliJ&#39;s built-in Java 17 and one other), not all Java installers from all Java vendors write those registry entries."},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690976685,"post_id":76818851,"comment_id":135427231,"body_markdown":"@g00se, Can you make your comment about removing the SDK as an answer.\nFor other that commented on this appreciate your time looking at this and providing a response","body":"@g00se, Can you make your comment about removing the SDK as an answer. For other that commented on this appreciate your time looking at this and providing a response"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690978490,"post_id":76818851,"comment_id":135427661,"body_markdown":"Will do. @MarkRotteveel , what about the &quot;Java Runtime Environment&quot; control applet? It shows three old JREs","body":"Will do. @MarkRotteveel , what about the &quot;Java Runtime Environment&quot; control applet? It shows three old JREs"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690978577,"post_id":76818851,"comment_id":135427682,"body_markdown":"@g00se As far as I&#39;m aware, that is no longer supported since Java 9, and again, might only lists Oracle&#39;s JVMs, and not from other vendors.","body":"@g00se As far as I&#39;m aware, that is no longer supported since Java 9, and again, might only lists Oracle&#39;s JVMs, and not from other vendors."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690978573,"creation_date":1690978573,"answer_id":76819803,"question_id":76818851,"body_markdown":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk. You really need to synch what you have installed with what your IDE says it can deliver","title":"IntelliJ - Cannot run program java.exe. CreateProcess error=2. The system cannot find the file specified","body":"<p>I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk. You really need to synch what you have installed with what your IDE says it can deliver</p>\n"}],"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76819803,"answer_count":1,"score":-2,"last_activity_date":1690978573,"creation_date":1690971030,"question_id":76818851,"body_markdown":"I&#39;m reaching out for a bit of help in trying to figure out why my IntelliJ does not run for a project.\r\n\r\nI am using IntelliJ 2023.1.5 Community Edition Build #IC-231.9392.1, built on July 25, 2023\r\n\r\nI have multiple projects all but one running jdk 1.8.0 in C:\\Program Files (x86)\\Java, all were working fine until I started a new project using corretto 17.0.7, which was initially placed here C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe, but is now in the Java folder with the previously mentioned jdk\r\n\r\nThe new project was working as it should, then I needed to swap back to one of the other projects. At this point when I try to run the older project I get the following error:\r\n\r\n*Cannot run program &quot;C:\\Users\\Me\\\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot; (in directory &quot;C:\\Users\\Me\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\compile-server&quot;): CreateProcess error=2, The system cannot find the file specified.*\r\n\r\nThis error occurred both before and after the directory change of corretto 17.0.7, it never occurred prior to the creation of the new project\r\n\r\nI have went through my older project and there is nothing referencing 17.0.7 that I can see, in the places where I know a jdk can be set\r\n\r\n*Project Settings - Project*\r\n[![Project Settings - Project](https://i.stack.imgur.com/VmjJ9.png)](https://i.stack.imgur.com/VmjJ9.png)\r\n\r\n*Project Settings - Modules*\r\n[![Project Settings - Modules](https://i.stack.imgur.com/AnkTO.png)](https://i.stack.imgur.com/AnkTO.png)\r\n\r\n*Project Settings - SDKs*\r\n[![Project Settings - SDKs](https://i.stack.imgur.com/623sR.png)](https://i.stack.imgur.com/623sR.png)\r\n\r\n*Run/Debug Config*\r\n[![Run/Debug Config](https://i.stack.imgur.com/D3aLV.png)](https://i.stack.imgur.com/D3aLV.png)\r\n\r\nThe below 2 do show a different JDK to the one I&#39;m using, I&#39;m not entirely sure it matters as I haven&#39;t changed them and the older project used to work fine prior to the new one being started.\r\n\r\n*Java Runtime Environment*\r\n[![Java Runtime Environment](https://i.stack.imgur.com/PkaCW.png)](https://i.stack.imgur.com/PkaCW.png)\r\n\r\n*Java Registry*\r\n[![Java Registry](https://i.stack.imgur.com/7anYt.png)](https://i.stack.imgur.com/7anYt.png)\r\n\r\nOther things I have tried\r\nInvalidate the cache of IntelliJ, reboot the machine\r\n\r\nTrying to find the cause/solution led to to also try\r\nAdding the -Didea.dynamic.classpath=true in Help | Edit Custom VM Options and restart the IDE - Did not work (Part of this question [https://youtrack.jetbrains.com/issue/IDEA-285090](https://youtrack.jetbrains.com))\r\n\r\n\r\nAs per this question [https://stackoverflow.com/questions/31238144/in-intellij-idea-14-1-4-cannot-run-program-c-program-files-x86-java-jdk1-8](https://stackoverflow.com) the answer asks\r\nIf your path JAVA_HOME is OK:\r\n\r\nFile → Settings → Build, Execution, Deployment → Build Tools → Maven → Runner\r\nSet to &quot;use JAVA_HOME (...Path...)&quot;\r\n[![Maven Runner](https://i.stack.imgur.com/gje2v.png)](https://i.stack.imgur.com/gje2v.png)\r\nThis is set to the jdk path albeit not JAVA_HOME, I did try adding a JAVA_HOME Environment Variable here but no change so deleted it out.\r\n\r\nFor Part 2 of the answer, I do not have a File → Other Settings → Default Project Structure to check\r\n\r\nThe older project works on other machines fine, a second user also configured their machine to use my new project and they can swap between the new and old project with no issues.\r\n\r\nSo I guess my question would be based on the error message I get when trying to run the older program - What could have been changed to it now be causing it to look here for the java.exe (&quot;C:\\Users\\Me\\\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot;), when I didn&#39;t do anything to the older programs setup ?\r\n\r\nI cannot for the life of me figure out what the solution is, hence why I am coming here to see if anyone else can provide assistance.\r\n\r\n\r\n\r\n\r\n","title":"IntelliJ - Cannot run program java.exe. CreateProcess error=2. The system cannot find the file specified","body":"<p>I'm reaching out for a bit of help in trying to figure out why my IntelliJ does not run for a project.</p>\n<p>I am using IntelliJ 2023.1.5 Community Edition Build #IC-231.9392.1, built on July 25, 2023</p>\n<p>I have multiple projects all but one running jdk 1.8.0 in C:\\Program Files (x86)\\Java, all were working fine until I started a new project using corretto 17.0.7, which was initially placed here C:\\Users\\Me.jdks\\jbr-17.0.7\\bin\\java.exe, but is now in the Java folder with the previously mentioned jdk</p>\n<p>The new project was working as it should, then I needed to swap back to one of the other projects. At this point when I try to run the older project I get the following error:</p>\n<p><em>Cannot run program &quot;C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot; (in directory &quot;C:\\Users\\Me\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\compile-server&quot;): CreateProcess error=2, The system cannot find the file specified.</em></p>\n<p>This error occurred both before and after the directory change of corretto 17.0.7, it never occurred prior to the creation of the new project</p>\n<p>I have went through my older project and there is nothing referencing 17.0.7 that I can see, in the places where I know a jdk can be set</p>\n<p><em>Project Settings - Project</em>\n<a href=\"https://i.stack.imgur.com/VmjJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmjJ9.png\" alt=\"Project Settings - Project\" /></a></p>\n<p><em>Project Settings - Modules</em>\n<a href=\"https://i.stack.imgur.com/AnkTO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnkTO.png\" alt=\"Project Settings - Modules\" /></a></p>\n<p><em>Project Settings - SDKs</em>\n<a href=\"https://i.stack.imgur.com/623sR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/623sR.png\" alt=\"Project Settings - SDKs\" /></a></p>\n<p><em>Run/Debug Config</em>\n<a href=\"https://i.stack.imgur.com/D3aLV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3aLV.png\" alt=\"Run/Debug Config\" /></a></p>\n<p>The below 2 do show a different JDK to the one I'm using, I'm not entirely sure it matters as I haven't changed them and the older project used to work fine prior to the new one being started.</p>\n<p><em>Java Runtime Environment</em>\n<a href=\"https://i.stack.imgur.com/PkaCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkaCW.png\" alt=\"Java Runtime Environment\" /></a></p>\n<p><em>Java Registry</em>\n<a href=\"https://i.stack.imgur.com/7anYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7anYt.png\" alt=\"Java Registry\" /></a></p>\n<p>Other things I have tried\nInvalidate the cache of IntelliJ, reboot the machine</p>\n<p>Trying to find the cause/solution led to to also try\nAdding the -Didea.dynamic.classpath=true in Help | Edit Custom VM Options and restart the IDE - Did not work (Part of this question <a href=\"https://youtrack.jetbrains.com\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-285090</a>)</p>\n<p>As per this question <a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/31238144/in-intellij-idea-14-1-4-cannot-run-program-c-program-files-x86-java-jdk1-8</a> the answer asks\nIf your path JAVA_HOME is OK:</p>\n<p>File → Settings → Build, Execution, Deployment → Build Tools → Maven → Runner\nSet to &quot;use JAVA_HOME (...Path...)&quot;\n<a href=\"https://i.stack.imgur.com/gje2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gje2v.png\" alt=\"Maven Runner\" /></a>\nThis is set to the jdk path albeit not JAVA_HOME, I did try adding a JAVA_HOME Environment Variable here but no change so deleted it out.</p>\n<p>For Part 2 of the answer, I do not have a File → Other Settings → Default Project Structure to check</p>\n<p>The older project works on other machines fine, a second user also configured their machine to use my new project and they can swap between the new and old project with no issues.</p>\n<p>So I guess my question would be based on the error message I get when trying to run the older program - What could have been changed to it now be causing it to look here for the java.exe (&quot;C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot;), when I didn't do anything to the older programs setup ?</p>\n<p>I cannot for the life of me figure out what the solution is, hence why I am coming here to see if anyone else can provide assistance.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1554952244,"post_id":55624006,"comment_id":97940795,"body_markdown":"Your code doesn&#39;t do anything. There&#39;s no terminal operation.","body":"Your code doesn&#39;t do anything. There&#39;s no terminal operation."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554952888,"post_id":55624006,"comment_id":97940903,"body_markdown":"A simple rule, don&#39;t use streams while mutating objects. If a for loop with a `break` would be slow enough to find the first element of your preference, I doubt you should change the data structure you&#39;re using.","body":"A simple rule, don&#39;t use streams while mutating objects. If a for loop with a <code>break</code> would be slow enough to find the first element of your preference, I doubt you should change the data structure you&#39;re using."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1677011647,"post_id":55624006,"comment_id":133252300,"body_markdown":"Unless you omitted important details in your question, the answer is: Use a `for` loop with `break`. There is nothing that can be any faster for a list with no order.\nIf your data structure is large and finding an element an important use-case, use a different data structure that can find things faster, such as a tree or hash set.","body":"Unless you omitted important details in your question, the answer is: Use a <code>for</code> loop with <code>break</code>. There is nothing that can be any faster for a list with no order. If your data structure is large and finding an element an important use-case, use a different data structure that can find things faster, such as a tree or hash set."}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554953159,"post_id":55624080,"comment_id":97940951,"body_markdown":"Comparatively a better suggestion if performance is the impact.","body":"Comparatively a better suggestion if performance is the impact."}],"tags":[],"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554953177,"creation_date":1554951916,"answer_id":55624080,"question_id":55624006,"body_markdown":"You can use a Map instead of a list and save the id as a key.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n\r\nThen you can extract it with `O(1)`.\r\n\r\n","title":"Update a single object from a list using stream","body":"<p>You can use a Map instead of a list and save the id as a key.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html</a></p>\n\n<p>Then you can extract it with <code>O(1)</code>.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1554952219,"post_id":55624097,"comment_id":97940792,"body_markdown":"`map()` expects a return value. Use `peek()`, or better yet, `findFirst().ifPresent(o -&gt; o.setName(&quot;Yahoo&quot;))`.","body":"<code>map()</code> expects a return value. Use <code>peek()</code>, or better yet, <code>findFirst().ifPresent(o -&gt; o.setName(&quot;Yahoo&quot;))</code>."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554952853,"post_id":55624097,"comment_id":97940898,"body_markdown":"Given the input is a `List`, there can be multiple entries that might be getting updated in OP&#39;s code. While here it&#39;s just a single element.","body":"Given the input is a <code>List</code>, there can be multiple entries that might be getting updated in OP&#39;s code. While here it&#39;s just a single element."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1554952971,"post_id":55624097,"comment_id":97940915,"body_markdown":"My understanding on this statement is `I need to update a single object from the list that match my filter` to update the first matching object in the list and break it @Naman","body":"My understanding on this statement is <code>I need to update a single object from the list that match my filter</code> to update the first matching object in the list and break it @Naman"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554953077,"post_id":55624097,"comment_id":97940934,"body_markdown":"Well ya, I got it with a mix of what the title of the question meant. But another point would be *I can do a for loop then break, but that one I think also will be slow.*. Do you think `findFirst` would be efficient either? (@shmosel opinion on that?)","body":"Well ya, I got it with a mix of what the title of the question meant. But another point would be <i>I can do a for loop then break, but that one I think also will be slow.</i>. Do you think <code>findFirst</code> would be efficient either? (@shmosel opinion on that?)"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1554953224,"post_id":55624097,"comment_id":97940965,"body_markdown":"i&#39;m not that good to figure which one gives better performance, but i just showed the way to do it by using streams @Naman","body":"i&#39;m not that good to figure which one gives better performance, but i just showed the way to do it by using streams @Naman"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1554953269,"post_id":55624097,"comment_id":97940982,"body_markdown":"I wouldn&#39;t expect a stream to be faster than a simple for loop, unless you made it parallel.","body":"I wouldn&#39;t expect a stream to be faster than a simple for loop, unless you made it parallel."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1554953326,"post_id":55624097,"comment_id":97940991,"body_markdown":"does the streams internally use `for loop` ? @shmosel","body":"does the streams internally use <code>for loop</code> ? @shmosel"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1554953670,"post_id":55624097,"comment_id":97941065,"body_markdown":"Definitely some kind of loop.","body":"Definitely some kind of loop."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1554991788,"post_id":55624097,"comment_id":97960280,"body_markdown":"`findFirst()` is a *short-circuiting* operation, which means, it fulfills the requirement to stop traversal once an element has been found. Still, it’s preferable to use `findAny()` when there should be only one occurrence, to document that there is no ordering constraint (which may improve the performance of parallel streams).","body":"<code>findFirst()</code> is a <i>short-circuiting</i> operation, which means, it fulfills the requirement to stop traversal once an element has been found. Still, it’s preferable to use <code>findAny()</code> when there should be only one occurrence, to document that there is no ordering constraint (which may improve the performance of parallel streams)."}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":9,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1554954127,"creation_date":1554952081,"answer_id":55624097,"question_id":55624006,"body_markdown":"Use `findFirst` so after finding the first matching element in the list remaining elements will not be processed\r\n\r\n    Optional&lt;MyObject&gt; result = list.stream()\r\n                                    .filter(obj-&gt;obj.getId()==1)\r\n                                    .peek(o-&gt;o.setName(&quot;Yahoo&quot;))\r\n                                    .findFirst();\r\n\r\nOr\r\n      \r\n      //will not return anything but will update the first matching object name\r\n\r\n                                  list.stream()\r\n                                  .filter(obj-&gt;obj.getId()==1)\r\n                                  .findFirst()\r\n                                  .ifPresent(o-&gt;o.setName(&quot;Yahoo&quot;));","title":"Update a single object from a list using stream","body":"<p>Use <code>findFirst</code> so after finding the first matching element in the list remaining elements will not be processed</p>\n\n<pre><code>Optional&lt;MyObject&gt; result = list.stream()\n                                .filter(obj-&gt;obj.getId()==1)\n                                .peek(o-&gt;o.setName(\"Yahoo\"))\n                                .findFirst();\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>  //will not return anything but will update the first matching object name\n\n                              list.stream()\n                              .filter(obj-&gt;obj.getId()==1)\n                              .findFirst()\n                              .ifPresent(o-&gt;o.setName(\"Yahoo\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554959293,"creation_date":1554959293,"answer_id":55625110,"question_id":55624006,"body_markdown":"It depends on how often you need to perform this logic on your input data.\r\n\r\nIf it happens to be several times, consider using a `Map` as suggested by **Raz**.\r\nYou can also transform your `List` into a `Map` using a `Stream`:\r\n\r\n```java\r\nMap&lt;Integer, MyObject&gt; map = list.stream()\r\n                                 .collect(Collectors.toMap(\r\n                                     MyObject::getId\r\n                                     Function.identity()\r\n                                 ));\r\n```\r\nThe first argument of `toMap` maps a stream item to the corresponding key in the map (here the ID of `MyObject`), and the second argument maps an item to the map value (here the `MyObject` item itself).\r\n\r\nConstructing the map will cost you some time and memory, but once you have it, searching an item by ID is extremely fast.\r\nThe more often you search an item, the more constructing the map first pays off.\r\n\r\nHowever, if you only ever need to update a single item and then forget about the whole list, just search for the right element, update it and you&#39;re done.\r\n\r\nIf your data is already sorted by ID, you can use binary search to find your item faster.\r\n\r\nOtherwise, you need to iterate through your list until you find your item. In terms of performance, nothing will beat a simple loop here. But using `Stream` and `Optional` as shown in **Deadpool**&#39;s answer is fine as well, and might result in clearer code, which is more important in most cases.","title":"Update a single object from a list using stream","body":"<p>It depends on how often you need to perform this logic on your input data.</p>\n\n<p>If it happens to be several times, consider using a <code>Map</code> as suggested by <strong>Raz</strong>.\nYou can also transform your <code>List</code> into a <code>Map</code> using a <code>Stream</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, MyObject&gt; map = list.stream()\n                                 .collect(Collectors.toMap(\n                                     MyObject::getId\n                                     Function.identity()\n                                 ));\n</code></pre>\n\n<p>The first argument of <code>toMap</code> maps a stream item to the corresponding key in the map (here the ID of <code>MyObject</code>), and the second argument maps an item to the map value (here the <code>MyObject</code> item itself).</p>\n\n<p>Constructing the map will cost you some time and memory, but once you have it, searching an item by ID is extremely fast.\nThe more often you search an item, the more constructing the map first pays off.</p>\n\n<p>However, if you only ever need to update a single item and then forget about the whole list, just search for the right element, update it and you're done.</p>\n\n<p>If your data is already sorted by ID, you can use binary search to find your item faster.</p>\n\n<p>Otherwise, you need to iterate through your list until you find your item. In terms of performance, nothing will beat a simple loop here. But using <code>Stream</code> and <code>Optional</code> as shown in <strong>Deadpool</strong>'s answer is fine as well, and might result in clearer code, which is more important in most cases.</p>\n"},{"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690978568,"creation_date":1665397908,"answer_id":74013506,"question_id":55624006,"body_markdown":"    .stream().peek(t-&gt;t.setTag(t.getTag().replace(&quot;/&quot;,&quot;&quot;)));\r\n\r\nDo anything you want with the `peek()` method. Just keep in mind and be aware that according to the documentation the `peek()` method was intended to be used mainly for debugging and not in production, it is a lazy method. If, for example, you are not careful and put `findFirst()` before `peek()` then `peek()` it will not be called. ","title":"Update a single object from a list using stream","body":"<pre><code>.stream().peek(t-&gt;t.setTag(t.getTag().replace(&quot;/&quot;,&quot;&quot;)));\n</code></pre>\n<p>Do anything you want with the <code>peek()</code> method. Just keep in mind and be aware that according to the documentation the <code>peek()</code> method was intended to be used mainly for debugging and not in production, it is a lazy method. If, for example, you are not careful and put <code>findFirst()</code> before <code>peek()</code> then <code>peek()</code> it will not be called.</p>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11860,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1690978568,"creation_date":1554951323,"question_id":55624006,"body_markdown":"I have a list of objects.  I need to update a single object from the list that match my filter.  I can do something like below:\r\n\r\n    List&lt;MyObject&gt; list = list.stream().map(d -&gt; {\r\n        if (d.id == 1) {\r\n            d.name = &quot;Yahoo&quot;;\r\n            return d;\r\n        }\r\n        return d;\r\n    });\r\n\r\nBut my worry is i am like iterating through the whole list which may be up to 20k records.  I can do a `for loop` then `break`, but that one I think also will be slow.\r\n\r\nIs there any efficient way to do this?","title":"Update a single object from a list using stream","body":"<p>I have a list of objects.  I need to update a single object from the list that match my filter.  I can do something like below:</p>\n\n<pre><code>List&lt;MyObject&gt; list = list.stream().map(d -&gt; {\n    if (d.id == 1) {\n        d.name = \"Yahoo\";\n        return d;\n    }\n    return d;\n});\n</code></pre>\n\n<p>But my worry is i am like iterating through the whole list which may be up to 20k records.  I can do a <code>for loop</code> then <code>break</code>, but that one I think also will be slow.</p>\n\n<p>Is there any efficient way to do this?</p>\n"},{"tags":["java","json","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690884325,"post_id":76810528,"comment_id":135412118,"body_markdown":"Try to convert `byteResponse` to a string before map it to an object","body":"Try to convert <code>byteResponse</code> to a string before map it to an object"},{"owner":{"account_id":11466482,"reputation":794,"user_id":8404545,"display_name":"Max"},"score":0,"creation_date":1690885106,"post_id":76810528,"comment_id":135412262,"body_markdown":"My guess will be that `ACCEPT_EMPTY_STRING_AS_NULL_OBJECT` is converting the empty string to an empty object but `Msg` is a `String` not an object, try remove it","body":"My guess will be that <code>ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code> is converting the empty string to an empty object but <code>Msg</code> is a <code>String</code> not an object, try remove it"}],"answers":[{"comments":[{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690888112,"post_id":76810644,"comment_id":135412907,"body_markdown":"didn&#39;t work, same error","body":"didn&#39;t work, same error"}],"tags":[],"owner":{"account_id":6871126,"reputation":930,"user_id":6070546,"display_name":"Yusuf Ganiyu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690884991,"creation_date":1690884991,"answer_id":76810644,"question_id":76810528,"body_markdown":"You can try:\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\r\nString jsonString = new String(byteResponse); // parse byte array to String\r\nJsonNode rootNode = mapper.readTree(jsonString); // parse String to JsonNode\r\nMatchingResponse response = mapper.treeToValue(rootNode, MatchingResponse.class); // parse JsonNode to your object\r\n```\r\n\r\nThe mapper.readTree(jsonString) parses the string into a JsonNode, which is Jackson&#39;s tree model for `JSON.mapper.treeToValue(rootNode, MatchingResponse.class)` then converts this tree into your object.\r\n\r\nAlso, you don&#39;t need to enable `DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT`. Jackson automatically converts empty strings in the JSON to empty strings in the object, not null.","title":"JSON to Java object deserialization exception","body":"<p>You can try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\nString jsonString = new String(byteResponse); // parse byte array to String\nJsonNode rootNode = mapper.readTree(jsonString); // parse String to JsonNode\nMatchingResponse response = mapper.treeToValue(rootNode, MatchingResponse.class); // parse JsonNode to your object\n</code></pre>\n<p>The mapper.readTree(jsonString) parses the string into a JsonNode, which is Jackson's tree model for <code>JSON.mapper.treeToValue(rootNode, MatchingResponse.class)</code> then converts this tree into your object.</p>\n<p>Also, you don't need to enable <code>DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code>. Jackson automatically converts empty strings in the JSON to empty strings in the object, not null.</p>\n"},{"comments":[{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690958970,"post_id":76812192,"comment_id":135423545,"body_markdown":"Before I used jsonString, but still get same exception","body":"Before I used jsonString, but still get same exception"}],"tags":[],"owner":{"account_id":29135505,"reputation":1,"user_id":22319781,"display_name":"Sundram Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690896943,"creation_date":1690896943,"answer_id":76812192,"question_id":76810528,"body_markdown":"Why don&#39;t you try using json as jsonString and use \r\n\r\n    MatchingResponse matchingResponse = objectMapper.readValue(jsonString, MatchingResponse.class);\r\n\r\ninstead of byte[]","title":"JSON to Java object deserialization exception","body":"<p>Why don't you try using json as jsonString and use</p>\n<pre><code>MatchingResponse matchingResponse = objectMapper.readValue(jsonString, MatchingResponse.class);\n</code></pre>\n<p>instead of byte[]</p>\n"},{"comments":[{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690965571,"post_id":76812680,"comment_id":135424942,"body_markdown":"Removed @AllArgsConstructor and created manually getters and setter but it did not worked","body":"Removed @AllArgsConstructor and created manually getters and setter but it did not worked"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690965712,"post_id":76812680,"comment_id":135424967,"body_markdown":"try removing `mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);` as well","body":"try removing <code>mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_&zwnj;&#8203;NULL_OBJECT);</code> as well"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690966063,"post_id":76812680,"comment_id":135425040,"body_markdown":"Removed it too, still same","body":"Removed it too, still same"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690966606,"post_id":76812680,"comment_id":135425143,"body_markdown":"did you remove the custom deserializer first?","body":"did you remove the custom deserializer first?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690966828,"post_id":76812680,"comment_id":135425198,"body_markdown":"and still same error message?","body":"and still same error message?"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690967388,"post_id":76812680,"comment_id":135425321,"body_markdown":"yes, i did this all and still same error message","body":"yes, i did this all and still same error message"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690967506,"post_id":76812680,"comment_id":135425355,"body_markdown":"try logging the repsonse body, perhaps the json is broken. Or test your code by loading the json from file as I did in my test case.","body":"try logging the repsonse body, perhaps the json is broken. Or test your code by loading the json from file as I did in my test case."},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690968583,"post_id":76812680,"comment_id":135425605,"body_markdown":"&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20163,\\&quot;Date\\&quot;:\\&quot;2023-08-02T15:09:36.8303984+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;888888888888\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;Name\\&quot;}&quot; getting json like this","body":"&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20163,\\&quot;Date\\&quot;:\\&quot;2023&zwnj;&#8203;-08-02T15:09:36.8303&zwnj;&#8203;984+06:00\\&quot;,\\&quot;Client&zwnj;&#8203;Iin\\&quot;:\\&quot;888888888888&zwnj;&#8203;\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;&zwnj;&#8203;0.0738383234\\&quot;,\\&quot;Ven&zwnj;&#8203;dorName\\&quot;:\\&quot;Name\\&quot;}&quot; getting json like this"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690968703,"post_id":76812680,"comment_id":135425640,"body_markdown":"is it surrounded by &quot;&quot;? then it&#39;s a string body, not json... check your backend impl","body":"is it surrounded by &quot;&quot;? then it&#39;s a string body, not json... check your backend impl"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690968850,"post_id":76812680,"comment_id":135425691,"body_markdown":"What I need to do? Convert String to JsonNode object?","body":"What I need to do? Convert String to JsonNode object?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690969281,"post_id":76812680,"comment_id":135425805,"body_markdown":"how did you get the log output? You&#39;ll need the plain response to check... try using a http client like curl and store the body in a file. Then check again if there are surrounding &quot;&quot; signs.","body":"how did you get the log output? You&#39;ll need the plain response to check... try using a http client like curl and store the body in a file. Then check again if there are surrounding &quot;&quot; signs."},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690969301,"post_id":76812680,"comment_id":135425811,"body_markdown":"I tried to conver jsonString to MatchingResponse, but I added variable to Msg and it converted successfully. Like this: `String strResponse = &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;1\\&quot;,\\&quot;Id\\&quot;:20119,\\&quot;Date\\&quot;:\\&quot;2023-08-01T12:28:14.2199073+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;888888\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;Name\\&quot;}&quot;;`","body":"I tried to conver jsonString to MatchingResponse, but I added variable to Msg and it converted successfully. Like this: <code>String strResponse = &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;1\\&quot;,\\&quot;Id\\&quot;:20119,\\&quot;Date\\&quot;:\\&quot;202&zwnj;&#8203;3-08-01T12:28:14.219&zwnj;&#8203;9073+06:00\\&quot;,\\&quot;Clien&zwnj;&#8203;tIin\\&quot;:\\&quot;888888\\&quot;,\\&quot;&zwnj;&#8203;Similarity\\&quot;:\\&quot;0.073&zwnj;&#8203;8383234\\&quot;,\\&quot;VendorNa&zwnj;&#8203;me\\&quot;:\\&quot;Name\\&quot;}&quot;;</code>"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690969398,"post_id":76812680,"comment_id":135425826,"body_markdown":"and you get the same error with &quot;&quot; as Msg value?","body":"and you get the same error with &quot;&quot; as Msg value?"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690969920,"post_id":76812680,"comment_id":135425941,"body_markdown":"No, if Msg is not empty I don`t get this error","body":"No, if Msg is not empty I don`t get this error"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690970231,"post_id":76812680,"comment_id":135426007,"body_markdown":"strange, no problem here with empty string in Msg... `@Test\n    void deserialize() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n\n        String json = &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20163,\\&quot;Date\\&quot;:\\&quot;2023-08-02T15:09:36.8303984+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;888888888888\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;Name\\&quot;}&quot;;\n\n        MatchingResponse matchingResponse = mapper.readValue(json, MatchingResponse.class);\n\n        assertNotNull(matchingResponse);\n    }`","body":"strange, no problem here with empty string in Msg... <code>@Test     void deserialize() throws IOException {         ObjectMapper mapper = new ObjectMapper();          String json = &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20163,\\&quot;Date\\&quot;:\\&quot;2023&zwnj;&#8203;-08-02T15:09:36.8303&zwnj;&#8203;984+06:00\\&quot;,\\&quot;Client&zwnj;&#8203;Iin\\&quot;:\\&quot;888888888888&zwnj;&#8203;\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;&zwnj;&#8203;0.0738383234\\&quot;,\\&quot;Ven&zwnj;&#8203;dorName\\&quot;:\\&quot;Name\\&quot;}&quot;&zwnj;&#8203;;          MatchingResponse matchingResponse = mapper.readValue(json, MatchingResponse.class);          assertNotNull(matchingResponse);     }</code>"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690972115,"post_id":76812680,"comment_id":135426365,"body_markdown":"I wroted response to file. Response is: `&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20168,\\&quot;Date\\&quot;:\\&quot;2023-08-02T16:23:59.5574581+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;88\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;name\\&quot;}&quot;`","body":"I wroted response to file. Response is: <code>&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20168,\\&quot;Date\\&quot;:\\&quot;2023&zwnj;&#8203;-08-02T16:23:59.5574&zwnj;&#8203;581+06:00\\&quot;,\\&quot;Client&zwnj;&#8203;Iin\\&quot;:\\&quot;88\\&quot;,\\&quot;Simil&zwnj;&#8203;arity\\&quot;:\\&quot;0.07383832&zwnj;&#8203;34\\&quot;,\\&quot;VendorName\\&quot;:&zwnj;&#8203;\\&quot;name\\&quot;}&quot;</code>"},{"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"score":0,"creation_date":1690974129,"post_id":76812680,"comment_id":135426747,"body_markdown":"I tried to convert json to LinkedHashMap&lt;String,Object&gt; but get same error. So problem in jsonString?","body":"I tried to convert json to LinkedHashMap&lt;String,Object&gt; but get same error. So problem in jsonString?"},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1690975062,"post_id":76812680,"comment_id":135426928,"body_markdown":"try adding a test class with my test method and check there","body":"try adding a test class with my test method and check there"}],"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":18,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690900235,"creation_date":1690900235,"answer_id":76812680,"question_id":76810528,"body_markdown":"try removing `@AllArgsConstructor`, a small test without Lombok works fine...\r\n\r\nI guess there&#39;s some issue with missing `@JsonCreator` annotation on the constructor generated by Lombok.\r\n\r\n    package com.example.demo;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class MatchingResponse {\r\n        @JsonProperty(value = &quot;Code&quot;)\r\n        private String code;\r\n        @JsonProperty(value = &quot;Msg&quot;)\r\n        private String message;\r\n        @JsonProperty(value = &quot;Id&quot;)\r\n        private int id;\r\n        @JsonProperty(value = &quot;Date&quot;)\r\n        private String date;\r\n        @JsonProperty(value = &quot;ClientIin&quot;)\r\n        private String clientIin;\r\n        @JsonProperty(value = &quot;Similarity&quot;)\r\n        private String similarity;\r\n        @JsonProperty(value = &quot;VendorName&quot;)\r\n        private String vendorName;\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public void setClientIin(String clientIin) {\r\n            this.clientIin = clientIin;\r\n        }\r\n    \r\n        public void setSimilarity(String similarity) {\r\n            this.similarity = similarity;\r\n        }\r\n    \r\n        public void setVendorName(String vendorName) {\r\n            this.vendorName = vendorName;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public String getClientIin() {\r\n            return clientIin;\r\n        }\r\n    \r\n        public String getSimilarity() {\r\n            return similarity;\r\n        }\r\n    \r\n        public String getVendorName() {\r\n            return vendorName;\r\n        }\r\n    }\r\n\r\n \r\n\r\n    @Test\r\n    void deserialize() throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MatchingResponse matchingResponse = mapper.readValue(getClass().getResourceAsStream(&quot;/msg.json&quot;), MatchingResponse.class);\r\n    \r\n        assertNotNull(matchingResponse);\r\n    }\r\n\r\n ","title":"JSON to Java object deserialization exception","body":"<p>try removing <code>@AllArgsConstructor</code>, a small test without Lombok works fine...</p>\n<p>I guess there's some issue with missing <code>@JsonCreator</code> annotation on the constructor generated by Lombok.</p>\n<pre><code>package com.example.demo;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class MatchingResponse {\n    @JsonProperty(value = &quot;Code&quot;)\n    private String code;\n    @JsonProperty(value = &quot;Msg&quot;)\n    private String message;\n    @JsonProperty(value = &quot;Id&quot;)\n    private int id;\n    @JsonProperty(value = &quot;Date&quot;)\n    private String date;\n    @JsonProperty(value = &quot;ClientIin&quot;)\n    private String clientIin;\n    @JsonProperty(value = &quot;Similarity&quot;)\n    private String similarity;\n    @JsonProperty(value = &quot;VendorName&quot;)\n    private String vendorName;\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public void setClientIin(String clientIin) {\n        this.clientIin = clientIin;\n    }\n\n    public void setSimilarity(String similarity) {\n        this.similarity = similarity;\n    }\n\n    public void setVendorName(String vendorName) {\n        this.vendorName = vendorName;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getClientIin() {\n        return clientIin;\n    }\n\n    public String getSimilarity() {\n        return similarity;\n    }\n\n    public String getVendorName() {\n        return vendorName;\n    }\n}\n\n\n\n@Test\nvoid deserialize() throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    MatchingResponse matchingResponse = mapper.readValue(getClass().getResourceAsStream(&quot;/msg.json&quot;), MatchingResponse.class);\n\n    assertNotNull(matchingResponse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690977643,"creation_date":1690977643,"answer_id":76819665,"question_id":76810528,"body_markdown":"The problem was in the JSON I was getting. If you output it in the console, it looked like this:\r\n\r\n    &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20181,\\&quot;Date\\&quot;:\\&quot;2023-08-02T17:41:22.0568448+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;8\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;name\\&quot;}&quot;\r\n\r\nAnd the JSON I needed looked like this:\r\n\r\n    {&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20119,&quot;Date&quot;:&quot;2023-08-01T12:28:14.2199073+06:00&quot;,&quot;ClientIin&quot;:&quot;8&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;name&quot;}\r\n\r\nIt turns out I needed to remove the extra backslash and quotes at the beginning and end of the JSON. So I used this code to remove it:\r\n\r\n        private static String removeExtraBackslashes(String input) {\r\n        // Replace \\&quot; with &quot;\r\n        return input.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\r\n    }\r\n\r\n    private static String removeFirstAndLastQuotes(String input) {\r\n        return input.substring(1, input.length() - 1);\r\n    }\r\n\r\nAnd everything worked!","title":"JSON to Java object deserialization exception","body":"<p>The problem was in the JSON I was getting. If you output it in the console, it looked like this:</p>\n<pre><code>&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20181,\\&quot;Date\\&quot;:\\&quot;2023-08-02T17:41:22.0568448+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;8\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;name\\&quot;}&quot;\n</code></pre>\n<p>And the JSON I needed looked like this:</p>\n<pre><code>{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20119,&quot;Date&quot;:&quot;2023-08-01T12:28:14.2199073+06:00&quot;,&quot;ClientIin&quot;:&quot;8&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;name&quot;}\n</code></pre>\n<p>It turns out I needed to remove the extra backslash and quotes at the beginning and end of the JSON. So I used this code to remove it:</p>\n<pre><code>    private static String removeExtraBackslashes(String input) {\n    // Replace \\&quot; with &quot;\n    return input.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\n}\n\nprivate static String removeFirstAndLastQuotes(String input) {\n    return input.substring(1, input.length() - 1);\n}\n</code></pre>\n<p>And everything worked!</p>\n"}],"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1690977643,"creation_date":1690884157,"question_id":76810528,"body_markdown":"```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MatchingResponse {\r\n    @JsonProperty(value = &quot;Code&quot;)\r\n    private String code;\r\n    @JsonProperty(value = &quot;Msg&quot;)\r\n    private String message;\r\n    @JsonProperty(value = &quot;Id&quot;)\r\n    private int id;\r\n    @JsonProperty(value = &quot;Date&quot;)\r\n    private String date;\r\n    @JsonProperty(value = &quot;ClientIin&quot;)\r\n    private String clientIin;\r\n    @JsonProperty(value = &quot;Similarity&quot;)\r\n    private String similarity;\r\n    @JsonProperty(value = &quot;VendorName&quot;)\r\n    private String vendorName;\r\n}\r\n```\r\nThis is my class. I`m trying to deserialize this JSON:\r\n\r\n```\r\n{\r\n    &quot;Code&quot;: &quot;200&quot;,\r\n    &quot;Msg&quot;: &quot;&quot;,\r\n    &quot;Id&quot;: 20148,\r\n    &quot;Date&quot;: &quot;2023-08-01T15:21:13.9704572+06:00&quot;,\r\n    &quot;ClientIin&quot;: &quot;888888888888&quot;,\r\n    &quot;Similarity&quot;: &quot;0.007720462&quot;,\r\n    &quot;VendorName&quot;: &quot;SomeName&quot;\r\n}\r\n```\r\nto my custom class with this code: \r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\r\nMatchingResponse response = mapper.readValue(byteResponse, MatchingResponse.class);\r\n```\r\nbut because of JSON has empty variable &quot;Msg&quot;, I`m getting exception:\r\n\r\n```\r\nCannot construct instance of `MatchingResponse` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20148,&quot;Date&quot;:&quot;2023-08-01T15:18:03.883337+06:00&quot;,&quot;ClientIin&quot;:&quot;888888888888&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;SomeName&quot;}&#39;)\r\n at [Source: (byte[])&quot;&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20147,\\&quot;Date\\&quot;:\\&quot;2023-08-01T15:18:03.883337+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;830921301593\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;VisionLabs\\&quot;}&quot;&quot;; line: 1, column: 1]\r\n```\r\nI tried creating JsonSetter:\r\n\r\n```\r\n@JsonSetter\r\n    public void setMessage(String message) {\r\n        if (message != null &amp;&amp; message.isEmpty()) {\r\n            this.message = null;\r\n        } else {\r\n            this.message = message;\r\n        }\r\n    }\r\n```\r\nlike this or tried creating deserializers:\r\n\r\n```\r\npublic class MatchingResponseDeserializer extends StdDeserializer&lt;MatchingResponse&gt; {\r\n    public MatchingResponseDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public MatchingResponseDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public MatchingResponse deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n        String code = getOptionalString(node, &quot;Code&quot;);\r\n        String message = getOptionalString(node, &quot;Msg&quot;);\r\n        int id = getOptionalInt(node, &quot;Id&quot;);\r\n        String date = getOptionalString(node, &quot;Date&quot;);\r\n        String clientIin = getOptionalString(node, &quot;ClientIin&quot;);\r\n        String similarity = getOptionalString(node, &quot;Similarity&quot;);\r\n        String vendorName = getOptionalString(node, &quot;VendorName&quot;);\r\n\r\n        return new MatchingResponse(code, message, id, date, clientIin, similarity, vendorName);\r\n    }\r\n\r\n    private String getOptionalString(JsonNode node, String fieldName) {\r\n        JsonNode valueNode = node.get(fieldName);\r\n        return (valueNode != null) ? valueNode.asText() : null;\r\n    }\r\n\r\n    private int getOptionalInt(JsonNode node, String fieldName) {\r\n        JsonNode valueNode = node.get(fieldName);\r\n        return (valueNode != null) ? valueNode.asInt() : 0; // Provide a default value if needed\r\n    }\r\n}\r\n```\r\nSet this deserializer to the class:\r\n\r\n```\r\n@JsonDeserialize(using = MatchingResponseDeserializer.class)\r\npublic class MatchingResponse {\r\n```\r\nThis deserializer:\r\n\r\n```\r\npublic class EmptyStringDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    public EmptyStringDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public EmptyStringDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        JsonNode node = jsonParser.readValueAsTree();\r\n        if (node.asText().isEmpty()) {\r\n            return null;\r\n        }\r\n        return node.toString();\r\n    }\r\n}\r\n```\r\nI set to variable:\r\n\r\n```\r\n@JsonProperty(value = &quot;Msg&quot;)\r\n@JsonDeserialize(using = EmptyStringDeserializer.class)\r\nprivate String message;\r\n```\r\nbut none of it worked.\r\n\r\nI tried use Gson, but get exception: \r\n\r\n```\r\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $\r\n```\r\n\r\nSo my question is, how can I fix this error? How to work with empty JSON variables?","title":"JSON to Java object deserialization exception","body":"<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MatchingResponse {\n    @JsonProperty(value = &quot;Code&quot;)\n    private String code;\n    @JsonProperty(value = &quot;Msg&quot;)\n    private String message;\n    @JsonProperty(value = &quot;Id&quot;)\n    private int id;\n    @JsonProperty(value = &quot;Date&quot;)\n    private String date;\n    @JsonProperty(value = &quot;ClientIin&quot;)\n    private String clientIin;\n    @JsonProperty(value = &quot;Similarity&quot;)\n    private String similarity;\n    @JsonProperty(value = &quot;VendorName&quot;)\n    private String vendorName;\n}\n</code></pre>\n<p>This is my class. I`m trying to deserialize this JSON:</p>\n<pre><code>{\n    &quot;Code&quot;: &quot;200&quot;,\n    &quot;Msg&quot;: &quot;&quot;,\n    &quot;Id&quot;: 20148,\n    &quot;Date&quot;: &quot;2023-08-01T15:21:13.9704572+06:00&quot;,\n    &quot;ClientIin&quot;: &quot;888888888888&quot;,\n    &quot;Similarity&quot;: &quot;0.007720462&quot;,\n    &quot;VendorName&quot;: &quot;SomeName&quot;\n}\n</code></pre>\n<p>to my custom class with this code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\nMatchingResponse response = mapper.readValue(byteResponse, MatchingResponse.class);\n</code></pre>\n<p>but because of JSON has empty variable &quot;Msg&quot;, I`m getting exception:</p>\n<pre><code>Cannot construct instance of `MatchingResponse` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20148,&quot;Date&quot;:&quot;2023-08-01T15:18:03.883337+06:00&quot;,&quot;ClientIin&quot;:&quot;888888888888&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;SomeName&quot;}')\n at [Source: (byte[])&quot;&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20147,\\&quot;Date\\&quot;:\\&quot;2023-08-01T15:18:03.883337+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;830921301593\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;VisionLabs\\&quot;}&quot;&quot;; line: 1, column: 1]\n</code></pre>\n<p>I tried creating JsonSetter:</p>\n<pre><code>@JsonSetter\n    public void setMessage(String message) {\n        if (message != null &amp;&amp; message.isEmpty()) {\n            this.message = null;\n        } else {\n            this.message = message;\n        }\n    }\n</code></pre>\n<p>like this or tried creating deserializers:</p>\n<pre><code>public class MatchingResponseDeserializer extends StdDeserializer&lt;MatchingResponse&gt; {\n    public MatchingResponseDeserializer() {\n        this(null);\n    }\n\n    public MatchingResponseDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public MatchingResponse deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        String code = getOptionalString(node, &quot;Code&quot;);\n        String message = getOptionalString(node, &quot;Msg&quot;);\n        int id = getOptionalInt(node, &quot;Id&quot;);\n        String date = getOptionalString(node, &quot;Date&quot;);\n        String clientIin = getOptionalString(node, &quot;ClientIin&quot;);\n        String similarity = getOptionalString(node, &quot;Similarity&quot;);\n        String vendorName = getOptionalString(node, &quot;VendorName&quot;);\n\n        return new MatchingResponse(code, message, id, date, clientIin, similarity, vendorName);\n    }\n\n    private String getOptionalString(JsonNode node, String fieldName) {\n        JsonNode valueNode = node.get(fieldName);\n        return (valueNode != null) ? valueNode.asText() : null;\n    }\n\n    private int getOptionalInt(JsonNode node, String fieldName) {\n        JsonNode valueNode = node.get(fieldName);\n        return (valueNode != null) ? valueNode.asInt() : 0; // Provide a default value if needed\n    }\n}\n</code></pre>\n<p>Set this deserializer to the class:</p>\n<pre><code>@JsonDeserialize(using = MatchingResponseDeserializer.class)\npublic class MatchingResponse {\n</code></pre>\n<p>This deserializer:</p>\n<pre><code>public class EmptyStringDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    public EmptyStringDeserializer() {\n        this(null);\n    }\n\n    public EmptyStringDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.readValueAsTree();\n        if (node.asText().isEmpty()) {\n            return null;\n        }\n        return node.toString();\n    }\n}\n</code></pre>\n<p>I set to variable:</p>\n<pre><code>@JsonProperty(value = &quot;Msg&quot;)\n@JsonDeserialize(using = EmptyStringDeserializer.class)\nprivate String message;\n</code></pre>\n<p>but none of it worked.</p>\n<p>I tried use Gson, but get exception:</p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $\n</code></pre>\n<p>So my question is, how can I fix this error? How to work with empty JSON variables?</p>\n"},{"tags":["java","wsdl","jax-ws","xjc","jaxws-maven-plugin"],"owner":{"account_id":29144051,"reputation":11,"user_id":22326389,"display_name":"Danyel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977550,"creation_date":1690977550,"question_id":76819648,"body_markdown":"We have a bunch of .wsdl files and have defined an execution goal for each one of them, each with their own bindings file. That makes 71 execution goals and 71 bindings files with mostly the same content. However the reason why a lot of bindings files are needed is because they use `&lt;jaxws:bindings node=&quot;xyz&quot;&gt;` where `xyz` is not necessarily present in the other .wsdl files and then xjc throws an error that `XPath evaluation results in empty target node`.\r\n\r\nI&#39;ve tried with `&lt;jaxws:bindings node=&quot;xyz&quot; required=&quot;false&quot;&gt;` but apparently that only works for `jxb:bindings` and not for jaxws:bindings.\r\n\r\nI&#39;m trying to reduce the 71 bindings file to hopefully 1 with a lot of optional statements.\r\n\r\nI&#39;ve tried with different maven plugins: Apache&#39;s wsdl2java, jaxws-mvn-plugin and I think one more, but I doubt that makes a difference since in the back they all use xjc.\r\n\r\nAny ideas how to tackle this?\r\n\r\nI tried `required=&quot;false&quot;`, and was expecting it to work for jaxws:bindings the same way it does for jaxb:bindings, which it doesn&#39;t.","title":"using jaxws binding with required=false","body":"<p>We have a bunch of .wsdl files and have defined an execution goal for each one of them, each with their own bindings file. That makes 71 execution goals and 71 bindings files with mostly the same content. However the reason why a lot of bindings files are needed is because they use <code>&lt;jaxws:bindings node=&quot;xyz&quot;&gt;</code> where <code>xyz</code> is not necessarily present in the other .wsdl files and then xjc throws an error that <code>XPath evaluation results in empty target node</code>.</p>\n<p>I've tried with <code>&lt;jaxws:bindings node=&quot;xyz&quot; required=&quot;false&quot;&gt;</code> but apparently that only works for <code>jxb:bindings</code> and not for jaxws:bindings.</p>\n<p>I'm trying to reduce the 71 bindings file to hopefully 1 with a lot of optional statements.</p>\n<p>I've tried with different maven plugins: Apache's wsdl2java, jaxws-mvn-plugin and I think one more, but I doubt that makes a difference since in the back they all use xjc.</p>\n<p>Any ideas how to tackle this?</p>\n<p>I tried <code>required=&quot;false&quot;</code>, and was expecting it to work for jaxws:bindings the same way it does for jaxb:bindings, which it doesn't.</p>\n"},{"tags":["java","open-liberty"],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977331,"creation_date":1690977331,"question_id":76819608,"body_markdown":"I&#39;m using OpenLiberty 22 and my Java 17 EE application is secured with `mpJwt-1.2` feature. My mpJwt configuration in `server.xml` looks like following:\r\n\r\n    &lt;mpJwt audiences=&quot;ALL_AUDIENCES&quot;\r\n           authFilterRef=&quot;api-key-filter&quot;\r\n           groupNameAttribute=&quot;groupIds&quot;\r\n           id=&quot;myJwt&quot;\r\n           issuer=&quot;***&quot;\r\n           jwksUri=&quot;***&quot;\r\n           userNameAttribute=&quot;sub&quot; &gt;\r\n    &lt;/mpJwt&gt;\r\n    \r\n    &lt;authFilter id=&quot;api-key-filter&quot;&gt;\r\n    \t&lt;requestHeader matchType=&quot;notContain&quot; name=&quot;X-API-Key&quot;/&gt;\r\n    &lt;/authFilter&gt;\r\n\r\nWith the `authFilter` I tell the server to not validate incoming requests where header &#39;X-API-Key&#39; Authentication header is set. All other calls should be validated with mpJwt as usual. Now I would like to check whether value of `X-API-Key` is valid or not and in case of invalid, return 401. My problem is, that with my `web.xml` config entries all calls with api key header are rejected with 401 directly due to this security constraint.\r\n\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Web Application&lt;/web-resource-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;AllAuthenticated&lt;/role-name&gt;\t\t\t\r\n\t\t&lt;/auth-constraint&gt;\t\t\r\n\t&lt;/security-constraint&gt;\r\n\r\nThis security constraint is needed to enable mpJwt validation in OpenLiberty.\r\n\r\n# My Question\r\nIs it possible to write a custom OpenLiberty Feature to check `HttpRequestHeader` in combination with an `authFilter` as it is in mpJwt (`authFilterRef`)? Or is it possible to configure server to get this behaviour?\r\n\r\nThe only way I found is to unsecure these routes explicitly in `server.xml` but this is very unflexible, because I always have to added this routes explicitly and mpJwt validation is disabled for each call to this routes. \r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;Public&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/customApiKeyRoute1/*&lt;/url-pattern&gt;\r\n            &lt;url-pattern&gt;/customApiKeyRoute2/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n    &lt;/security-constraint&gt;","title":"Custom OpenLiberty HttpRequestFilter to use API-Keys","body":"<p>I'm using OpenLiberty 22 and my Java 17 EE application is secured with <code>mpJwt-1.2</code> feature. My mpJwt configuration in <code>server.xml</code> looks like following:</p>\n<pre><code>&lt;mpJwt audiences=&quot;ALL_AUDIENCES&quot;\n       authFilterRef=&quot;api-key-filter&quot;\n       groupNameAttribute=&quot;groupIds&quot;\n       id=&quot;myJwt&quot;\n       issuer=&quot;***&quot;\n       jwksUri=&quot;***&quot;\n       userNameAttribute=&quot;sub&quot; &gt;\n&lt;/mpJwt&gt;\n\n&lt;authFilter id=&quot;api-key-filter&quot;&gt;\n    &lt;requestHeader matchType=&quot;notContain&quot; name=&quot;X-API-Key&quot;/&gt;\n&lt;/authFilter&gt;\n</code></pre>\n<p>With the <code>authFilter</code> I tell the server to not validate incoming requests where header 'X-API-Key' Authentication header is set. All other calls should be validated with mpJwt as usual. Now I would like to check whether value of <code>X-API-Key</code> is valid or not and in case of invalid, return 401. My problem is, that with my <code>web.xml</code> config entries all calls with api key header are rejected with 401 directly due to this security constraint.</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Web Application&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;AllAuthenticated&lt;/role-name&gt;         \n    &lt;/auth-constraint&gt;      \n&lt;/security-constraint&gt;\n</code></pre>\n<p>This security constraint is needed to enable mpJwt validation in OpenLiberty.</p>\n<h1>My Question</h1>\n<p>Is it possible to write a custom OpenLiberty Feature to check <code>HttpRequestHeader</code> in combination with an <code>authFilter</code> as it is in mpJwt (<code>authFilterRef</code>)? Or is it possible to configure server to get this behaviour?</p>\n<p>The only way I found is to unsecure these routes explicitly in <code>server.xml</code> but this is very unflexible, because I always have to added this routes explicitly and mpJwt validation is disabled for each call to this routes.</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Public&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/customApiKeyRoute1/*&lt;/url-pattern&gt;\n        &lt;url-pattern&gt;/customApiKeyRoute2/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","eclipse-plugin","eclipse-rcp","eclipse-emf"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1690817787,"post_id":76804216,"comment_id":135402471,"body_markdown":"You have the wrong import: it&#39;s `org.eclipse.swt.widgets.Label`, not `org.eclipse.swt.widgets.label`. You&#39;re not the first one who tried this with IntelliJ. The problem is that IntelliJ does not support Eclipse RCP at all. With IntelliJ you will face strange issues that you would never ever get with Eclipse. That&#39;s why all tutorials, [like this one](https://www.vogella.com/tutorials/eclipse.html), use Eclipse for Eclipse RCP. Become a pro by [eating your own dog food](https://en.wikipedia.org/wiki/Eating_your_own_dog_food).","body":"You have the wrong import: it&#39;s <code>org.eclipse.swt.widgets.Label</code>, not <code>org.eclipse.swt.widgets.label</code>. You&#39;re not the first one who tried this with IntelliJ. The problem is that IntelliJ does not support Eclipse RCP at all. With IntelliJ you will face strange issues that you would never ever get with Eclipse. That&#39;s why all tutorials, <a href=\"https://www.vogella.com/tutorials/eclipse.html\" rel=\"nofollow noreferrer\">like this one</a>, use Eclipse for Eclipse RCP. Become a pro by <a href=\"https://en.wikipedia.org/wiki/Eating_your_own_dog_food\" rel=\"nofollow noreferrer\">eating your own dog food</a>."}],"owner":{"account_id":29129183,"reputation":1,"user_id":22314879,"display_name":"CodingWithDani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977119,"creation_date":1690810841,"question_id":76804216,"body_markdown":"I am currently working at a company which is using EclipseRCP for its projects. Since I am very used to IntelliJ (from my experience at the university), I would like and tried to use IntelliJ.\r\n\r\nThe problem is that all of the classes are not accessible with the point operator.\r\n\r\n```java\r\nimport org.eclipse.e4.core.dir.annotations.Optional;\r\nimport org.eclipse.e4.core.dir.annotations.Preference;\r\n...\r\nimport org.eclipse.swt.widgets.label;\r\n\r\npublic class DirControl {\r\n   Label dirLabel;\r\n\r\n   @PostConstruct\r\n   public void postConstruct(Composite parent){\r\n     dirLabel = new Label(parent, SWT.NONE);\r\n     dirLabel.setText(&quot;test&quot;);\r\n   }\r\n}\r\n```\r\n\r\nIn this example I&#39;m not able to get the suggestions that the label has methods (setText, setToolTipText ...). \r\n\r\nMaybe the problem is related to the plugin dependencies which are unique to Eclispe (and EclipseRCP)? But I am not quite sure about that.\r\n\r\nI&#39;ve tried out the OSGI Plugin from the IntelliJ Appstore and the option &quot;Open Module Settings&quot; with changing the dependency storage format to Eclipse.\r\n\r\nMy colleagues and I would be extremely happy if anyone knows what the problem is and how to solve it.\r\n\r\n\r\n\r\n","title":"Editing a EclipseRCP Project with IntelliJ (instead of Eclipse)","body":"<p>I am currently working at a company which is using EclipseRCP for its projects. Since I am very used to IntelliJ (from my experience at the university), I would like and tried to use IntelliJ.</p>\n<p>The problem is that all of the classes are not accessible with the point operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.e4.core.dir.annotations.Optional;\nimport org.eclipse.e4.core.dir.annotations.Preference;\n...\nimport org.eclipse.swt.widgets.label;\n\npublic class DirControl {\n   Label dirLabel;\n\n   @PostConstruct\n   public void postConstruct(Composite parent){\n     dirLabel = new Label(parent, SWT.NONE);\n     dirLabel.setText(&quot;test&quot;);\n   }\n}\n</code></pre>\n<p>In this example I'm not able to get the suggestions that the label has methods (setText, setToolTipText ...).</p>\n<p>Maybe the problem is related to the plugin dependencies which are unique to Eclispe (and EclipseRCP)? But I am not quite sure about that.</p>\n<p>I've tried out the OSGI Plugin from the IntelliJ Appstore and the option &quot;Open Module Settings&quot; with changing the dependency storage format to Eclipse.</p>\n<p>My colleagues and I would be extremely happy if anyone knows what the problem is and how to solve it.</p>\n"},{"tags":["java","spring-boot","openapi","openapi-generator-maven-plugin"],"owner":{"account_id":22604723,"reputation":1,"user_id":21455008,"display_name":"Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690976329,"creation_date":1690971637,"question_id":76818924,"body_markdown":"I am trying to do this to implement problemDetail in my spring boot application and in my API docs I want to use org.springframework.http.ProblemDetail to return for statuses 400,401,403,404,500 and doing below in config of open-api-maven-ganerator plugin with 6.6.0 version is not helping\r\n\r\n    &lt;schemaMappings&gt;\r\n                &lt;schemaMapping&gt;ProblemDetail=org.springframework.http.ProblemDetail&lt;/schemaMapping&gt;\r\n              &lt;/schemaMappings&gt;\r\n\r\n    ProblemDetailWrapper:\r\n      description: defines the standard error response for failure\r\n      type: object\r\n      properties:\r\n        problemDetail:\r\n          $ref: &#39;#ProblemDetail&#39;\r\n\r\n&gt; #ProblemDetail is not defined \r\nFailed to get the schema name: #ProblemDetail \r\nError obtaining the datatype from ref: #ProblemDetail. Default to &#39;object&#39;\r\n\r\nAnd the generated class gives Object type and not **org.springframework.http.ProblemDetail** type\r\n\r\n    public class ProblemDetailWrapper {\r\n    \r\n      private Object problemDetail = null;\r\n    \r\n      public ProblemDetailWrapper problemDetail(Object problemDetail) {\r\n        this.problemDetail = problemDetail;\r\n        return this;\r\n      }}\r\n\r\n\r\n\r\nhttps://stackoverflow.com/questions/74552600/can-you-reference-existing-java-classes-pojos-in-a-dependent-jar-within-an-ope\r\n\r\nI have tried this suggestion but it does not work","title":"Can you reference existing Java classes from spring framework or any library within an OpenAPI schema definition?","body":"<p>I am trying to do this to implement problemDetail in my spring boot application and in my API docs I want to use org.springframework.http.ProblemDetail to return for statuses 400,401,403,404,500 and doing below in config of open-api-maven-ganerator plugin with 6.6.0 version is not helping</p>\n<pre><code>&lt;schemaMappings&gt;\n            &lt;schemaMapping&gt;ProblemDetail=org.springframework.http.ProblemDetail&lt;/schemaMapping&gt;\n          &lt;/schemaMappings&gt;\n\nProblemDetailWrapper:\n  description: defines the standard error response for failure\n  type: object\n  properties:\n    problemDetail:\n      $ref: '#ProblemDetail'\n</code></pre>\n<blockquote>\n<p>#ProblemDetail is not defined\nFailed to get the schema name: #ProblemDetail\nError obtaining the datatype from ref: #ProblemDetail. Default to 'object'</p>\n</blockquote>\n<p>And the generated class gives Object type and not <strong>org.springframework.http.ProblemDetail</strong> type</p>\n<pre><code>public class ProblemDetailWrapper {\n\n  private Object problemDetail = null;\n\n  public ProblemDetailWrapper problemDetail(Object problemDetail) {\n    this.problemDetail = problemDetail;\n    return this;\n  }}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/74552600/can-you-reference-existing-java-classes-pojos-in-a-dependent-jar-within-an-ope\">Can you reference existing Java classes (POJOs) in a dependent JAR within an OpenAPI schema definition?</a></p>\n<p>I have tried this suggestion but it does not work</p>\n"},{"tags":["java","kotlin","architecture","sealed"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690966929,"post_id":76818150,"comment_id":135425217,"body_markdown":"Please show some code.","body":"Please show some code."},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690967437,"post_id":76818150,"comment_id":135425335,"body_markdown":"Edited the answer and added example code","body":"Edited the answer and added example code"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690967687,"post_id":76818150,"comment_id":135425398,"body_markdown":"How about making `SearchFilter`, `CombinedSearch` and `AnimalSearch` sealed interfaces? `Each filter could implement the interfaces that they &quot;belong&quot; to.","body":"How about making <code>SearchFilter</code>, <code>CombinedSearch</code> and <code>AnimalSearch</code> sealed interfaces? `Each filter could implement the interfaces that they &quot;belong&quot; to."},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690968623,"post_id":76818150,"comment_id":135425617,"body_markdown":"Maybe I don&#39;t get it, but what would I gain from it, I would still need to duplicate all values or?","body":"Maybe I don&#39;t get it, but what would I gain from it, I would still need to duplicate all values or?"}],"answers":[{"comments":[{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690974596,"post_id":76818603,"comment_id":135426846,"body_markdown":"About the first approach, I tried this also, but if done like this you lose all the code completion benefits. In order to know which filters exist, in worst case, you would need to jump between multiple files, and this was too big of a drawback so I dismissed it. About the second, as you said, it is not so nice on the caller side and I can&#39;t enforce that on a caller (I am building a library) just to make my code nicer","body":"About the first approach, I tried this also, but if done like this you lose all the code completion benefits. In order to know which filters exist, in worst case, you would need to jump between multiple files, and this was too big of a drawback so I dismissed it. About the second, as you said, it is not so nice on the caller side and I can&#39;t enforce that on a caller (I am building a library) just to make my code nicer"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690975691,"post_id":76818603,"comment_id":135427041,"body_markdown":"@rimes Code completion? That&#39;s a high bar. I can think of a more code-completion-friendly approach, but that would sacrifice the `sealed` nature of the interfaces. i.e. someone else can make a new `SearchFilter` or `AnimalFilter`.","body":"@rimes Code completion? That&#39;s a high bar. I can think of a more code-completion-friendly approach, but that would sacrifice the <code>sealed</code> nature of the interfaces. i.e. someone else can make a new <code>SearchFilter</code> or <code>AnimalFilter</code>."},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690977953,"post_id":76818603,"comment_id":135427528,"body_markdown":"Shoot, I am open to any new approach :)","body":"Shoot, I am open to any new approach :)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690978959,"post_id":76818603,"comment_id":135427766,"body_markdown":"@rimes (I edited the answer if you haven&#39;t noticed already)","body":"@rimes (I edited the answer if you haven&#39;t noticed already)"},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1691038852,"post_id":76818603,"comment_id":135437279,"body_markdown":"Sorry I missed your update. Thank you for the effort, but I would still have to take a  compromises  for any solution so far. For example for the caller I would not like to split the filters into &quot;animal&quot; and &quot;search&quot; but to have a flat list of items (just like a posted with the flat enum). It seems that what I want is currently not really achievable (at least not with kotlin)","body":"Sorry I missed your update. Thank you for the effort, but I would still have to take a  compromises  for any solution so far. For example for the caller I would not like to split the filters into &quot;animal&quot; and &quot;search&quot; but to have a flat list of items (just like a posted with the flat enum). It seems that what I want is currently not really achievable (at least not with kotlin)"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690976080,"creation_date":1690969236,"answer_id":76818603,"question_id":76818150,"body_markdown":"You can make `SearchFilter`, `CombinedSearch` and `AnimalSearch` sealed interfaces. Each filter (the enum values) would then implement one or more of those interfaces. You can make `SearchFilter` and `AnimalSearch` inherit from `CombinedSearch` as well.\r\n\r\n```\r\nsealed interface SearchFilter: CombinedFilter\r\nsealed interface AnimalFilter: CombinedFilter\r\nsealed interface CombinedFilter\r\n\r\nobject Person: SearchFilter\r\nobject Car: SearchFilter\r\nobject Building: SearchFilter\r\nobject Animal: AnimalFilter\r\n```\r\n\r\nor put the individual filters in other objects if you want code completion:\r\n\r\n```\r\nsealed interface CombinedFilter\r\n\r\nsealed interface SearchFilter: CombinedFilter {\r\n    object Person: SearchFilter\r\n    object Car: SearchFilter\r\n    object Building: SearchFilter\r\n}\r\nsealed interface AnimalFilter: CombinedFilter {\r\n    object Animal: AnimalFilter\r\n}\r\n```\r\n\r\nBecause of this type hierarchy, `CombinedSearch.search` would be able to take all 4 of `Person`, `Car`, `Building` and `Animal`.\r\n\r\nThe downside of this is that if you happen to have another combination of APIs, you would need to modify the declarations of all the involved filter types. For example, if there were a third API with a `FooFilter` type:\r\n\r\n```\r\nsealed interface FooFilter\r\nobject Foo1: FooFilter\r\nobject Foo2: FooFilter\r\n```\r\n\r\nAnd you want a `CombinedFilter2` that combines `FooFilter`s and `SearchFilter`s, you&#39;d need to add:\r\n\r\n```\r\nsealed CombinedFilter2\r\n\r\nsealed interface SearchFilter: CombinedFilter, CombinedFilter2\r\n                                             ^^^^^^^^^^^^^^^^^\r\nsealed interface FooFilter: CombinedFilter2\r\n                            ^^^^^^^^^^^^^^^\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\nIf you want code-completion on `CombinedFilter`, then I can&#39;t think of any way unless you get rid of `sealed`.\r\n\r\nRepresent each filter as anonymous object properties, and wrap `object`s around them. The combined filters will have two properties, each initialised to the `object` containing the constituent filters.\r\n\r\n```\r\n// this can still be sealed\r\nsealed interface CombinedFilter\r\n\r\ninterface SearchFilter: CombinedFilter\r\nobject SearchFilters {\r\n    val person = object: SearchFilter {}\r\n    val car = object: SearchFilter {}\r\n    val building = object: SearchFilter {}\r\n}\r\n\r\ninterface AnimalFilter: CombinedFilter\r\n\r\nobject AnimalFilters {\r\n    val animal = object: AnimalFilter {}\r\n}\r\n\r\nobject CombinedFilters {\r\n    val search = SearchFilters\r\n    val animal = AnimalFilters\r\n}\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\nAnother option is to keep using enums, but `CombinedSearch` would take a `Either&lt;AnimalFilter, SearchFilter&gt;`.\r\n\r\n```\r\nenum AnimalFilter { ANIMAL }\r\n\r\nsealed interface Either&lt;out L, out R&gt; {\r\n    data class Left&lt;L&gt;(val value: L): Either&lt;L, Nothing&gt;\r\n    data class Right&lt;R&gt;(val value: R): Either&lt;Nothing, R&gt;\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```\r\ncombinedSearch.search(Either.Right(AnimalFilter.ANIMAL))\r\ncombinedSearch.search(Either.Left(SearchFilter.CAR))\r\n```\r\n\r\nThe downside of this is that it&#39;s more inconvenient on users&#39; side - there is whole lot more &quot;ceremony&quot;.","title":"Extend set of fixed values (enum, sealed interface, sealed class...) without repeating them","body":"<p>You can make <code>SearchFilter</code>, <code>CombinedSearch</code> and <code>AnimalSearch</code> sealed interfaces. Each filter (the enum values) would then implement one or more of those interfaces. You can make <code>SearchFilter</code> and <code>AnimalSearch</code> inherit from <code>CombinedSearch</code> as well.</p>\n<pre><code>sealed interface SearchFilter: CombinedFilter\nsealed interface AnimalFilter: CombinedFilter\nsealed interface CombinedFilter\n\nobject Person: SearchFilter\nobject Car: SearchFilter\nobject Building: SearchFilter\nobject Animal: AnimalFilter\n</code></pre>\n<p>or put the individual filters in other objects if you want code completion:</p>\n<pre><code>sealed interface CombinedFilter\n\nsealed interface SearchFilter: CombinedFilter {\n    object Person: SearchFilter\n    object Car: SearchFilter\n    object Building: SearchFilter\n}\nsealed interface AnimalFilter: CombinedFilter {\n    object Animal: AnimalFilter\n}\n</code></pre>\n<p>Because of this type hierarchy, <code>CombinedSearch.search</code> would be able to take all 4 of <code>Person</code>, <code>Car</code>, <code>Building</code> and <code>Animal</code>.</p>\n<p>The downside of this is that if you happen to have another combination of APIs, you would need to modify the declarations of all the involved filter types. For example, if there were a third API with a <code>FooFilter</code> type:</p>\n<pre><code>sealed interface FooFilter\nobject Foo1: FooFilter\nobject Foo2: FooFilter\n</code></pre>\n<p>And you want a <code>CombinedFilter2</code> that combines <code>FooFilter</code>s and <code>SearchFilter</code>s, you'd need to add:</p>\n<pre><code>sealed CombinedFilter2\n\nsealed interface SearchFilter: CombinedFilter, CombinedFilter2\n                                             ^^^^^^^^^^^^^^^^^\nsealed interface FooFilter: CombinedFilter2\n                            ^^^^^^^^^^^^^^^\n</code></pre>\n<hr>\n<p>If you want code-completion on <code>CombinedFilter</code>, then I can't think of any way unless you get rid of <code>sealed</code>.</p>\n<p>Represent each filter as anonymous object properties, and wrap <code>object</code>s around them. The combined filters will have two properties, each initialised to the <code>object</code> containing the constituent filters.</p>\n<pre><code>// this can still be sealed\nsealed interface CombinedFilter\n\ninterface SearchFilter: CombinedFilter\nobject SearchFilters {\n    val person = object: SearchFilter {}\n    val car = object: SearchFilter {}\n    val building = object: SearchFilter {}\n}\n\ninterface AnimalFilter: CombinedFilter\n\nobject AnimalFilters {\n    val animal = object: AnimalFilter {}\n}\n\nobject CombinedFilters {\n    val search = SearchFilters\n    val animal = AnimalFilters\n}\n</code></pre>\n<hr>\n<p>Another option is to keep using enums, but <code>CombinedSearch</code> would take a <code>Either&lt;AnimalFilter, SearchFilter&gt;</code>.</p>\n<pre><code>enum AnimalFilter { ANIMAL }\n\nsealed interface Either&lt;out L, out R&gt; {\n    data class Left&lt;L&gt;(val value: L): Either&lt;L, Nothing&gt;\n    data class Right&lt;R&gt;(val value: R): Either&lt;Nothing, R&gt;\n}\n</code></pre>\n<p>Example usage:</p>\n<pre><code>combinedSearch.search(Either.Right(AnimalFilter.ANIMAL))\ncombinedSearch.search(Either.Left(SearchFilter.CAR))\n</code></pre>\n<p>The downside of this is that it's more inconvenient on users' side - there is whole lot more &quot;ceremony&quot;.</p>\n"}],"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690976080,"creation_date":1690966323,"question_id":76818150,"body_markdown":"I have a class that has a fixed set of filters  and is responsible for fetching data from an search API (lets say &quot;PERSON;CAR;BUILDING&quot;).\r\nNow I want to wrap this search class inside an &quot;Extended&quot; search (by using something like an adapter pattern), and add an additional endpoint which fetches also ANIMALS (another endpoint).\r\nFor the Extended class I have the Combined filter &quot;PERSON;CAR;BUILDING;ANIMALS&quot; where the first three still work for the one API and the last one (ANIMALS) works for the second API. \r\n\r\nMy question is, is there a nice approach to make these filters somehow compatible/dependant on each other. The best solution would be to extend the first filter with the items for &quot;Combined&quot; filter. I have been playing around with sealed interfaces/classes but so far I could not find a nice way to do that. My solution for now is to use enums (copy the values from all filters) and make a mapper from the combined filter to the real search filter. The issues with this approach are  that I am duplicating all filter values and in case the search filter gets extended it could easily be forgotten to also extend the combined filter. \r\n\r\nEdit: added code\r\n\r\n    enum class SearchFilter { PERSON, CAR, BUILDING }\r\n\r\n    class GeneralSearch {\r\n      fun search (filter: SearchFilter)\r\n    }\r\n\r\n    class AnimalSearch {\r\n      fun search ()\r\n    }\r\n\r\nCombine both api-s:\r\n\r\n    enum class CombinedSearchFilter { PERSON, CAR, BUILDING, ANIMALS }\r\n\r\n    class CombinedSearch (\r\n          generalSearch: GeneralSearch, \r\n          animalSearch: AnimalSearch\r\n    ) {\r\n      fun search (filter: CombinedSearchFilter)\r\n    }\r\n\r\nThe issue is that the `CombinedSearchFilter` is duplicating the values from `SearchFilter` without any constraint.","title":"Extend set of fixed values (enum, sealed interface, sealed class...) without repeating them","body":"<p>I have a class that has a fixed set of filters  and is responsible for fetching data from an search API (lets say &quot;PERSON;CAR;BUILDING&quot;).\nNow I want to wrap this search class inside an &quot;Extended&quot; search (by using something like an adapter pattern), and add an additional endpoint which fetches also ANIMALS (another endpoint).\nFor the Extended class I have the Combined filter &quot;PERSON;CAR;BUILDING;ANIMALS&quot; where the first three still work for the one API and the last one (ANIMALS) works for the second API.</p>\n<p>My question is, is there a nice approach to make these filters somehow compatible/dependant on each other. The best solution would be to extend the first filter with the items for &quot;Combined&quot; filter. I have been playing around with sealed interfaces/classes but so far I could not find a nice way to do that. My solution for now is to use enums (copy the values from all filters) and make a mapper from the combined filter to the real search filter. The issues with this approach are  that I am duplicating all filter values and in case the search filter gets extended it could easily be forgotten to also extend the combined filter.</p>\n<p>Edit: added code</p>\n<pre><code>enum class SearchFilter { PERSON, CAR, BUILDING }\n\nclass GeneralSearch {\n  fun search (filter: SearchFilter)\n}\n\nclass AnimalSearch {\n  fun search ()\n}\n</code></pre>\n<p>Combine both api-s:</p>\n<pre><code>enum class CombinedSearchFilter { PERSON, CAR, BUILDING, ANIMALS }\n\nclass CombinedSearch (\n      generalSearch: GeneralSearch, \n      animalSearch: AnimalSearch\n) {\n  fun search (filter: CombinedSearchFilter)\n}\n</code></pre>\n<p>The issue is that the <code>CombinedSearchFilter</code> is duplicating the values from <code>SearchFilter</code> without any constraint.</p>\n"},{"tags":["java","netbeans","java-11"],"answers":[{"comments":[{"owner":{"account_id":20095457,"reputation":41,"user_id":14735090,"display_name":"Santhoshi Mirra"},"score":0,"creation_date":1644914058,"post_id":70946270,"comment_id":125724451,"body_markdown":"Unfortunately, this does not seem to do the job! Is there another solution?","body":"Unfortunately, this does not seem to do the job! Is there another solution?"}],"tags":[],"owner":{"display_name":"user17890629"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643743040,"creation_date":1643743040,"answer_id":70946270,"question_id":70309275,"body_markdown":"I had a similar problem in **macOs Monterey** and the following steps got  tmcbeans up and running for me:\r\n\r\n 1. Open Terminal and type `/usr/libexec/java_home-v&#39;1.7*&#39;` (copy/save the result)\r\n 2. Open Finder and go to `Applications -&gt; tmcbeans.app`\r\n 3. Right click on tmcbeans.app and select `Show package contents`\r\n 4. Go to `Contents/Resources/tmcbeans/etc/` and open `tmcbeans.conf` in your preferred text editor\r\n 5. Scroll to the bottom and you will find `#jdkhome=&quot;some path here...&quot;`\r\n 6. Copy the result from `Step 1` and paste it between the double quotes in `Step 5`\r\n 7. Remove the hash symbol at the begining to make it `jdkhome=&quot;your path here ...&quot;`\r\n 8. `Save`, `Quit` and `Restart` tmcbeans.app","title":"TMCbeans does not open after installation","body":"<p>I had a similar problem in <strong>macOs Monterey</strong> and the following steps got  tmcbeans up and running for me:</p>\n<ol>\n<li>Open Terminal and type <code>/usr/libexec/java_home-v'1.7*'</code> (copy/save the result)</li>\n<li>Open Finder and go to <code>Applications -&gt; tmcbeans.app</code></li>\n<li>Right click on tmcbeans.app and select <code>Show package contents</code></li>\n<li>Go to <code>Contents/Resources/tmcbeans/etc/</code> and open <code>tmcbeans.conf</code> in your preferred text editor</li>\n<li>Scroll to the bottom and you will find <code>#jdkhome=&quot;some path here...&quot;</code></li>\n<li>Copy the result from <code>Step 1</code> and paste it between the double quotes in <code>Step 5</code></li>\n<li>Remove the hash symbol at the begining to make it <code>jdkhome=&quot;your path here ...&quot;</code></li>\n<li><code>Save</code>, <code>Quit</code> and <code>Restart</code> tmcbeans.app</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24470461,"reputation":11,"user_id":18390280,"display_name":"Noelia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646579843,"creation_date":1646579843,"answer_id":71371532,"question_id":70309275,"body_markdown":"I signed up for MOOC too, and what worked for me was to follow the steps to locate the JVM path of [this video][1] \r\n\r\nMy java ended up being under /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home\r\n\r\nI then updated and uncommented the line jdkhome= of tmcbeans.conf (as described in the comment above), saved and relaunched tmcbeans. It worked perfectly after that. \r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=p_0uFioeQug","title":"TMCbeans does not open after installation","body":"<p>I signed up for MOOC too, and what worked for me was to follow the steps to locate the JVM path of <a href=\"https://www.youtube.com/watch?v=p_0uFioeQug\" rel=\"nofollow noreferrer\">this video</a></p>\n<p>My java ended up being under /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home</p>\n<p>I then updated and uncommented the line jdkhome= of tmcbeans.conf (as described in the comment above), saved and relaunched tmcbeans. It worked perfectly after that.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":8175799,"reputation":2058,"user_id":6154579,"display_name":"Sushant Rajbanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653919529,"creation_date":1653919529,"answer_id":72435658,"question_id":70309275,"body_markdown":"I was facing the same issue on Windows 10. I found out that TMCBeans is currently not compatible with OpenJDK Versions &gt; 11. Thus, I did the following things for TMCBeans to function correctly.\r\n\r\n 1. Download *exactly* AdoptOpenJDK11 for your OS, open development environment for Java 11, from [the archives][1]. \r\n 2. Try launching TMCBeans again.\r\n 3. If you&#39;re still facing issues, try following the instructions of this [Reddit post&#39;s first comment][2].\r\n\r\n\r\n  [1]: https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\r\n  [2]: https://www.reddit.com/r/learnjava/comments/oufbxi/tmcbeans_crashes_on_startup/","title":"TMCbeans does not open after installation","body":"<p>I was facing the same issue on Windows 10. I found out that TMCBeans is currently not compatible with OpenJDK Versions &gt; 11. Thus, I did the following things for TMCBeans to function correctly.</p>\n<ol>\n<li>Download <em>exactly</em> AdoptOpenJDK11 for your OS, open development environment for Java 11, from <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">the archives</a>.</li>\n<li>Try launching TMCBeans again.</li>\n<li>If you're still facing issues, try following the instructions of this <a href=\"https://www.reddit.com/r/learnjava/comments/oufbxi/tmcbeans_crashes_on_startup/\" rel=\"nofollow noreferrer\">Reddit post's first comment</a>.</li>\n</ol>\n"}],"owner":{"account_id":20095457,"reputation":41,"user_id":14735090,"display_name":"Santhoshi Mirra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9610,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690975722,"creation_date":1639163009,"question_id":70309275,"body_markdown":"I&#39;m currently planning to learn Java through the MOOC course but I&#39;m unable to open the tmcbeans app after installation. I have tried reinstalling it but it does not seem to do anything. Any help would be much appreciated.\r\n\r\n\r\nThank you.","title":"TMCbeans does not open after installation","body":"<p>I'm currently planning to learn Java through the MOOC course but I'm unable to open the tmcbeans app after installation. I have tried reinstalling it but it does not seem to do anything. Any help would be much appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688833317,"post_id":76643790,"comment_id":135128416,"body_markdown":"What command are you using to run the application on k8s? Should be like `docker run -p 8080:8080 your-app`","body":"What command are you using to run the application on k8s? Should be like <code>docker run -p 8080:8080 your-app</code>"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688835594,"post_id":76643790,"comment_id":135128673,"body_markdown":"@Mar-Z - given that for this I have executed into the pod to test I&#39;m not sure I understand how the docker port mappings would come into play - as it is a local request on the running container?","body":"@Mar-Z - given that for this I have executed into the pod to test I&#39;m not sure I understand how the docker port mappings would come into play - as it is a local request on the running container?"},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1688847183,"post_id":76643790,"comment_id":135129900,"body_markdown":"Show your kubernetes manifests","body":"Show your kubernetes manifests"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688906665,"post_id":76643790,"comment_id":135134414,"body_markdown":"Hi @Thomas - I&#39;ve added a sanitised pod manifest. Note I&#39;ve cut out other containers that make up the statefulset and left just the one in question.","body":"Hi @Thomas - I&#39;ve added a sanitised pod manifest. Note I&#39;ve cut out other containers that make up the statefulset and left just the one in question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688914359,"post_id":76643790,"comment_id":135135300,"body_markdown":"Your pod config contains port 80 not 8080.","body":"Your pod config contains port 80 not 8080."},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688914838,"post_id":76643790,"comment_id":135135349,"body_markdown":"Hi @M.Deinum - I must be misunderstanding something. tomcat is listening on port 8080; and the request is curl http://localhost:8080/actuator and this command is run on the container itself. I may not even want to expose 8080 from outside the pod.","body":"Hi @M.Deinum - I must be misunderstanding something. tomcat is listening on port 8080; and the request is curl <a href=\"http://localhost:8080/actuator\" rel=\"nofollow noreferrer\">localhost:8080/actuator</a> and this command is run on the container itself. I may not even want to expose 8080 from outside the pod."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688915019,"post_id":76643790,"comment_id":135135380,"body_markdown":"Does it actually bind to `localhost` and not the external IP address?","body":"Does it actually bind to <code>localhost</code> and not the external IP address?"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688920667,"post_id":76643790,"comment_id":135136148,"body_markdown":"Same result with 127.0.0.1:8080/actuator if that helps clarify things.","body":"Same result with 127.0.0.1:8080/actuator if that helps clarify things."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1688931008,"post_id":76643790,"comment_id":135137363,"body_markdown":"Show your `my-app-configure-n-start.sh` script","body":"Show your <code>my-app-configure-n-start.sh</code> script"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1689239476,"post_id":76643790,"comment_id":135186205,"body_markdown":"Hi @Thomas - I&#39;ve added the script that starts on the background. Note it starts the app on the background - and the container command is to start the app; and then tail the outputted log file.","body":"Hi @Thomas - I&#39;ve added the script that starts on the background. Note it starts the app on the background - and the container command is to start the app; and then tail the outputted log file."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1689244738,"post_id":76643790,"comment_id":135187322,"body_markdown":"Show the dockerfile to build the image","body":"Show the dockerfile to build the image"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1689249953,"post_id":76643790,"comment_id":135188458,"body_markdown":"@M.Deinum - btw in terms of your question about if tomcat binds to localhost and not to an external ip address. I see this output in the logs `Register host [localhost] at domain [null] for service [StandardService[Tomcat]]` from logger `org.apache.catalina.mapper.MapperListener` - does this answer your question?","body":"@M.Deinum - btw in terms of your question about if tomcat binds to localhost and not to an external ip address. I see this output in the logs <code>Register host [localhost] at domain [null] for service [StandardService[Tomcat]]</code> from logger <code>org.apache.catalina.mapper.MapperListener</code> - does this answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690974875,"creation_date":1690974875,"answer_id":76819313,"question_id":76643790,"body_markdown":"The root cause of this issue was that locally I was running *without* the otel agent where-as in the k8 deploy $APP_OTEL_AGENT_JAVA_COMMAND added the following to the java command:\r\n\r\n`-javaagent:/opt/lib/opentelemetry-javaagent.jar`\r\n\r\nThe version of otel used was 1.7.0 from 2021; and it interfered with tomcat/spring boot.\r\n\r\nUpgrading to latest otel 1.28.0 resolved the issue.","title":"A spring-boot embedded tomcat web app with actuator enabled gets 404 response from tomcat when deployed to kubernetes","body":"<p>The root cause of this issue was that locally I was running <em>without</em> the otel agent where-as in the k8 deploy $APP_OTEL_AGENT_JAVA_COMMAND added the following to the java command:</p>\n<p><code>-javaagent:/opt/lib/opentelemetry-javaagent.jar</code></p>\n<p>The version of otel used was 1.7.0 from 2021; and it interfered with tomcat/spring boot.</p>\n<p>Upgrading to latest otel 1.28.0 resolved the issue.</p>\n"}],"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690974875,"creation_date":1688831763,"question_id":76643790,"body_markdown":"I have an issue with a spring boot web application running in k8 that is not reproducible on my local dev running with exactly the same configuration - I get a 404 hitting http://localhost:8080/actuator only when running in k8.\r\n\r\nSummary of configuration:\r\n\r\n - spring-boot-starter version 2.7.10.\r\n - The only endpoints provided by the tomcat web server is the set of actuator endpoints.\r\n - On k8 java version is 1.8.0_345; local dev machine 1.8.0_151\r\n\r\n*application.yaml*\r\n```\r\nserver:\r\n  port: 8080\r\n  error:\r\n    whitelabel:\r\n      enabled: true\r\n    include-exception: true\r\n    include-message: always\r\n    include-binding-errors: always\r\n    include-stacktrace: always\r\n  servlet:\r\n    context-path: &#39;/&#39;\r\n\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      apache:\r\n        tomcat: DEBUG\r\n        catalina: DEBUG\r\n      springframework:\r\n        web:\r\n          filter:\r\n            CommonsRequestLoggingFilter: DEBUG\r\n\r\n# actuator\r\nmanagement:\r\n  endpoints:\r\n    enabled-by-default: true\r\n    web.exposure.include: &quot;*&quot;\r\n  endpoint:\r\n    shutdown.enabled: false\r\n    info.enabled: true\r\n\r\n\r\n\r\nhikariCP:\r\n  dataSourceClassName: com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\r\nspring:\r\n  # Preferred JSON mapper to use for HTTP message conversion.\r\n  mvc.converters.preferred-json-mapper: gson\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n  datasource:\r\n    bet:\r\n      url: someserver\r\n      username: MSSQL_USER\r\n      password: MSSQL_PASS\r\n      hikari:\r\n        poolName: betHikariCP\r\n        maximum-pool-size: 5\r\n        connectionTimeout: 30000\r\n        idleTimeout: 600000\r\n        maxLifetime: 1800000\r\n```\r\n\r\nObserved behaviour:\r\n\r\n - running locally I can hit the actuator at localhost:8080/actuator but running the same configuration on kubernetes I get a  404 error message when I exec into the pod and run ```curl localhost:8080/actuator``` - *note this response is coming from Apache Tomcat/9.0.73*\r\n\r\n404 Response\r\n```\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\r\n            &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\r\n            &lt;hr class=&quot;line&quot;/&gt;\r\n            &lt;p&gt;\r\n                &lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;\r\n            &lt;p&gt;\r\n                &lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;\r\n            &lt;hr class=&quot;line&quot;/&gt;\r\n            &lt;h3&gt;Apache Tomcat/9.0.73&lt;/h3&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n```\r\n - log output both locally and on kubernetes suggests\r\n     - tomcat starts and binds to port 8080 without error: ```Tomcat started on port(s): 8080 (http) with context path &#39;&#39;```\r\n     - the actuator endpoints are stood up. Logger ```org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver``` outputs ```Exposing 13 endpoint(s) beneath base path &#39;/actuator&#39;```\r\n     - I have configured ```CommonsRequestLoggingFilter``` that will log all requests; and locally this outputs a statement when I hit /actuator locally but it outputs nothing on kubernetes.\r\n\r\nOutput (local only - on k8 I get nothing):\r\n```\r\n2023-07-14 10:25:23.610 DEBUG PRE-REQUEST: GET /actuator]\r\n2023-07-14 10:25:23.656 DEBUG POST-REQUEST: GET /actuator]\r\n```\r\nNote also that I can put in a bad route locally e.g. actuatorxxx and I still get the PRE and POST log output and the 404 response I get locally is json not html:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;Jul 14, 2023 10:31:03 AM&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/actuatorxxx&quot;\r\n}\r\n```\r\n\r\n\r\n\r\nCommonsRequestLoggingFilter configuration\r\n```\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setBeforeMessagePrefix(&quot;PRE-REQUEST: &quot;);\r\n        filter.setAfterMessagePrefix(&quot;POST-REQUEST: &quot;);\r\n        return filter;\r\n    }\r\n```\r\n\r\n 1. tomcat/catalina debug logging, request logging, and configuring the server /error page to return stack trace etc is not giving any detail of why the route /actuator is not being resolved\r\n 2. neither is there any exception in the logs\r\n\r\nNote also as I exec into the pod and use curl I am fairly certain this isn&#39;t related ngnix/ingress config in k8.\r\n\r\nsanitised pod manifest extract\r\n```\r\nkind: Pod\r\napiVersion: v1\r\nmetadata:\r\n  name: my-app-sit-0\r\n  generateName: my-app-sit-\r\n  namespace: tdt-sit\r\n  uid: d7f346e1-cbd7-4543-b4df-6da61defedae\r\n  resourceVersion: &#39;1263848088&#39;\r\n  creationTimestamp: &#39;2023-07-08T14:18:33Z&#39;\r\n  labels:\r\n    app: my-app-sit\r\n    controller-revision-hash: my-app-sit-7d457f7dcb\r\n    release: my-app-sit\r\n    statefulset.kubernetes.io/pod-name: my-app-sit-0\r\n  annotations:\r\n    kubernetes.io/psp: eks.privileged\r\n    my-app.com/gitlab-project-id: &#39;6778&#39;\r\n    my-app.com/gitlab-project-url: https://gitlab.my-app.com./my-app-deploy\r\nspec:\r\n  volumes:\r\n    - name: aws-iam-token\r\n      projected:\r\n        sources:\r\n          - serviceAccountToken:\r\n              audience: sts.amazonaws.com\r\n              expirationSeconds: 86400\r\n              path: token\r\n        defaultMode: 420\r\n    - name: my-app-sit-mount\r\n      persistentVolumeClaim:\r\n        claimName: my-app-sit-mount-my-app-sit-0\r\n    - name: secret-my-app-bqsakeys\r\n      secret:\r\n        secretName: my-app-bqsakeys\r\n        defaultMode: 420\r\n    - name: kube-api-access-7gvf6\r\n      projected:\r\n        sources:\r\n          - serviceAccountToken:\r\n              expirationSeconds: 3607\r\n              path: token\r\n          - configMap:\r\n              name: kube-root-ca.crt\r\n              items:\r\n                - key: ca.crt\r\n                  path: ca.crt\r\n          - downwardAPI:\r\n              items:\r\n                - path: namespace\r\n                  fieldRef:\r\n                    apiVersion: v1\r\n                    fieldPath: metadata.namespace\r\n        defaultMode: 420\r\n  containers:\r\n    - name: my-app-container\r\n      image: &gt;-\r\n        someimage\r\n      command:\r\n        - /bin/bash\r\n        - &#39;-c&#39;\r\n      args:\r\n        - &gt;-\r\n          /opt/my-app-configure-n-start.sh &amp;&amp; tail -F\r\n          /opt/logs/my-app.log\r\n      ports:\r\n        - containerPort: 80\r\n          protocol: TCP\r\n      envFrom:\r\n        - secretRef:\r\n            name: my-app-credentials\r\n      resources:\r\n        limits:\r\n          memory: 4Gi\r\n        requests:\r\n          cpu: 500m\r\n          memory: 4Gi\r\n      volumeMounts:\r\n        - name: my-app-sit-mount\r\n          mountPath: /mnt\r\n        - name: kube-api-access-7gvf6\r\n          readOnly: true\r\n          mountPath: /var/run/secrets/kubernetes.io/serviceaccount\r\n        - name: aws-iam-token\r\n          readOnly: true\r\n          mountPath: /var/run/secrets/eks.amazonaws.com/serviceaccount\r\n      livenessProbe:\r\n        exec:\r\n          command:\r\n            - /bin/sh\r\n            - /opt/aux-scripts/my-app-liveness-check.sh\r\n            - &#39;8558&#39;\r\n        initialDelaySeconds: 180\r\n        timeoutSeconds: 5\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        failureThreshold: 3\r\n      terminationMessagePath: /dev/termination-log\r\n      terminationMessagePolicy: File\r\n      imagePullPolicy: IfNotPresent\r\n      securityContext:\r\n        capabilities:\r\n          add:\r\n            - SYS_ADMIN\r\n            - DAC_READ_SEARCH\r\n  restartPolicy: Always\r\n  terminationGracePeriodSeconds: 30\r\n  dnsPolicy: ClusterFirst\r\n  serviceAccountName: my-app-sit\r\n  serviceAccount: my-app-sit\r\n  nodeName: ip-xxx-xxx-xxx-xxx.my-app-node\r\n  securityContext: {}\r\n  imagePullSecrets:\r\n    - name: regsecret\r\n  hostname: my-app-sit-0\r\n  subdomain: my-app-sit-svc\r\n```\r\n\r\napp-configure-n-start.sh script:\r\n```\r\n$APP_HOME/scripts/backgrounded-start &gt; /dev/null 2&gt; $APP_HOME/stderr.out &amp;\r\n```\r\nNote above runs the start script on background\r\n\r\nstart script:\r\n```\r\nJAVA_OPTS=&quot;$APP_OTEL_AGENT_JAVA_COMMAND \\\r\n                                  $APP_JVM_HEAP_MIN $APP_JVM_HEAP_MAX -Xloggc:$APP_HOME/logs/gc.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps\\\r\n                                  -XX:-PrintTenuringDistribution -XX:+PrintGCCause -XX:+PrintGCApplicationStoppedTime -XX:+UseGCLogFileRotation\\\r\n                                  -XX:NumberOfGCLogFiles=15 -XX:GCLogFileSize=2M -XX:+UseConcMarkSweepGC -XX:+HeapDumpOnOutOfMemoryError\\\r\n                                  -XX:HeapDumpPath=$APP_HOME/logs/ -XX:+DisableExplicitGC&quot;\r\n\r\nAKKA_CLASSPATH=&quot;$APP_HOME/lib/*:$APP_HOME/bin/*:$APP_HOME/config:$APP_HOME/lib/sigar/*:$APP_HOME/../*&quot;\r\n\r\njava $JAVA_OPTS -cp &quot;$AKKA_CLASSPATH&quot; -Dspring.profiles.active=&lt;active-profile&gt; au.com.my.app.akka.SpringApplication --spring.main.banner-mode=off\r\n```\r\n\r\nCan anyone suggest additional logging that I can add to illuminate what is going on? Or a possible cause?\r\n\r\n\r\n\r\n\r\n","title":"A spring-boot embedded tomcat web app with actuator enabled gets 404 response from tomcat when deployed to kubernetes","body":"<p>I have an issue with a spring boot web application running in k8 that is not reproducible on my local dev running with exactly the same configuration - I get a 404 hitting http://localhost:8080/actuator only when running in k8.</p>\n<p>Summary of configuration:</p>\n<ul>\n<li>spring-boot-starter version 2.7.10.</li>\n<li>The only endpoints provided by the tomcat web server is the set of actuator endpoints.</li>\n<li>On k8 java version is 1.8.0_345; local dev machine 1.8.0_151</li>\n</ul>\n<p><em>application.yaml</em></p>\n<pre><code>server:\n  port: 8080\n  error:\n    whitelabel:\n      enabled: true\n    include-exception: true\n    include-message: always\n    include-binding-errors: always\n    include-stacktrace: always\n  servlet:\n    context-path: '/'\n\n\nlogging:\n  level:\n    org:\n      apache:\n        tomcat: DEBUG\n        catalina: DEBUG\n      springframework:\n        web:\n          filter:\n            CommonsRequestLoggingFilter: DEBUG\n\n# actuator\nmanagement:\n  endpoints:\n    enabled-by-default: true\n    web.exposure.include: &quot;*&quot;\n  endpoint:\n    shutdown.enabled: false\n    info.enabled: true\n\n\n\nhikariCP:\n  dataSourceClassName: com.microsoft.sqlserver.jdbc.SQLServerDataSource\n\nspring:\n  # Preferred JSON mapper to use for HTTP message conversion.\n  mvc.converters.preferred-json-mapper: gson\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n  datasource:\n    bet:\n      url: someserver\n      username: MSSQL_USER\n      password: MSSQL_PASS\n      hikari:\n        poolName: betHikariCP\n        maximum-pool-size: 5\n        connectionTimeout: 30000\n        idleTimeout: 600000\n        maxLifetime: 1800000\n</code></pre>\n<p>Observed behaviour:</p>\n<ul>\n<li>running locally I can hit the actuator at localhost:8080/actuator but running the same configuration on kubernetes I get a  404 error message when I exec into the pod and run <code>curl localhost:8080/actuator</code> - <em>note this response is coming from Apache Tomcat/9.0.73</em></li>\n</ul>\n<p>404 Response</p>\n<pre><code>    &lt;html lang=&quot;en&quot;&gt;\n        &lt;head&gt;\n            &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\n            &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\n            &lt;hr class=&quot;line&quot;/&gt;\n            &lt;p&gt;\n                &lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;\n            &lt;p&gt;\n                &lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;\n            &lt;hr class=&quot;line&quot;/&gt;\n            &lt;h3&gt;Apache Tomcat/9.0.73&lt;/h3&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n<ul>\n<li>log output both locally and on kubernetes suggests\n<ul>\n<li>tomcat starts and binds to port 8080 without error: <code>Tomcat started on port(s): 8080 (http) with context path ''</code></li>\n<li>the actuator endpoints are stood up. Logger <code>org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver</code> outputs <code>Exposing 13 endpoint(s) beneath base path '/actuator'</code></li>\n<li>I have configured <code>CommonsRequestLoggingFilter</code> that will log all requests; and locally this outputs a statement when I hit /actuator locally but it outputs nothing on kubernetes.</li>\n</ul>\n</li>\n</ul>\n<p>Output (local only - on k8 I get nothing):</p>\n<pre><code>2023-07-14 10:25:23.610 DEBUG PRE-REQUEST: GET /actuator]\n2023-07-14 10:25:23.656 DEBUG POST-REQUEST: GET /actuator]\n</code></pre>\n<p>Note also that I can put in a bad route locally e.g. actuatorxxx and I still get the PRE and POST log output and the 404 response I get locally is json not html:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;Jul 14, 2023 10:31:03 AM&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/actuatorxxx&quot;\n}\n</code></pre>\n<p>CommonsRequestLoggingFilter configuration</p>\n<pre><code>    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludeHeaders(false);\n        filter.setBeforeMessagePrefix(&quot;PRE-REQUEST: &quot;);\n        filter.setAfterMessagePrefix(&quot;POST-REQUEST: &quot;);\n        return filter;\n    }\n</code></pre>\n<ol>\n<li>tomcat/catalina debug logging, request logging, and configuring the server /error page to return stack trace etc is not giving any detail of why the route /actuator is not being resolved</li>\n<li>neither is there any exception in the logs</li>\n</ol>\n<p>Note also as I exec into the pod and use curl I am fairly certain this isn't related ngnix/ingress config in k8.</p>\n<p>sanitised pod manifest extract</p>\n<pre><code>kind: Pod\napiVersion: v1\nmetadata:\n  name: my-app-sit-0\n  generateName: my-app-sit-\n  namespace: tdt-sit\n  uid: d7f346e1-cbd7-4543-b4df-6da61defedae\n  resourceVersion: '1263848088'\n  creationTimestamp: '2023-07-08T14:18:33Z'\n  labels:\n    app: my-app-sit\n    controller-revision-hash: my-app-sit-7d457f7dcb\n    release: my-app-sit\n    statefulset.kubernetes.io/pod-name: my-app-sit-0\n  annotations:\n    kubernetes.io/psp: eks.privileged\n    my-app.com/gitlab-project-id: '6778'\n    my-app.com/gitlab-project-url: https://gitlab.my-app.com./my-app-deploy\nspec:\n  volumes:\n    - name: aws-iam-token\n      projected:\n        sources:\n          - serviceAccountToken:\n              audience: sts.amazonaws.com\n              expirationSeconds: 86400\n              path: token\n        defaultMode: 420\n    - name: my-app-sit-mount\n      persistentVolumeClaim:\n        claimName: my-app-sit-mount-my-app-sit-0\n    - name: secret-my-app-bqsakeys\n      secret:\n        secretName: my-app-bqsakeys\n        defaultMode: 420\n    - name: kube-api-access-7gvf6\n      projected:\n        sources:\n          - serviceAccountToken:\n              expirationSeconds: 3607\n              path: token\n          - configMap:\n              name: kube-root-ca.crt\n              items:\n                - key: ca.crt\n                  path: ca.crt\n          - downwardAPI:\n              items:\n                - path: namespace\n                  fieldRef:\n                    apiVersion: v1\n                    fieldPath: metadata.namespace\n        defaultMode: 420\n  containers:\n    - name: my-app-container\n      image: &gt;-\n        someimage\n      command:\n        - /bin/bash\n        - '-c'\n      args:\n        - &gt;-\n          /opt/my-app-configure-n-start.sh &amp;&amp; tail -F\n          /opt/logs/my-app.log\n      ports:\n        - containerPort: 80\n          protocol: TCP\n      envFrom:\n        - secretRef:\n            name: my-app-credentials\n      resources:\n        limits:\n          memory: 4Gi\n        requests:\n          cpu: 500m\n          memory: 4Gi\n      volumeMounts:\n        - name: my-app-sit-mount\n          mountPath: /mnt\n        - name: kube-api-access-7gvf6\n          readOnly: true\n          mountPath: /var/run/secrets/kubernetes.io/serviceaccount\n        - name: aws-iam-token\n          readOnly: true\n          mountPath: /var/run/secrets/eks.amazonaws.com/serviceaccount\n      livenessProbe:\n        exec:\n          command:\n            - /bin/sh\n            - /opt/aux-scripts/my-app-liveness-check.sh\n            - '8558'\n        initialDelaySeconds: 180\n        timeoutSeconds: 5\n        periodSeconds: 10\n        successThreshold: 1\n        failureThreshold: 3\n      terminationMessagePath: /dev/termination-log\n      terminationMessagePolicy: File\n      imagePullPolicy: IfNotPresent\n      securityContext:\n        capabilities:\n          add:\n            - SYS_ADMIN\n            - DAC_READ_SEARCH\n  restartPolicy: Always\n  terminationGracePeriodSeconds: 30\n  dnsPolicy: ClusterFirst\n  serviceAccountName: my-app-sit\n  serviceAccount: my-app-sit\n  nodeName: ip-xxx-xxx-xxx-xxx.my-app-node\n  securityContext: {}\n  imagePullSecrets:\n    - name: regsecret\n  hostname: my-app-sit-0\n  subdomain: my-app-sit-svc\n</code></pre>\n<p>app-configure-n-start.sh script:</p>\n<pre><code>$APP_HOME/scripts/backgrounded-start &gt; /dev/null 2&gt; $APP_HOME/stderr.out &amp;\n</code></pre>\n<p>Note above runs the start script on background</p>\n<p>start script:</p>\n<pre><code>JAVA_OPTS=&quot;$APP_OTEL_AGENT_JAVA_COMMAND \\\n                                  $APP_JVM_HEAP_MIN $APP_JVM_HEAP_MAX -Xloggc:$APP_HOME/logs/gc.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps\\\n                                  -XX:-PrintTenuringDistribution -XX:+PrintGCCause -XX:+PrintGCApplicationStoppedTime -XX:+UseGCLogFileRotation\\\n                                  -XX:NumberOfGCLogFiles=15 -XX:GCLogFileSize=2M -XX:+UseConcMarkSweepGC -XX:+HeapDumpOnOutOfMemoryError\\\n                                  -XX:HeapDumpPath=$APP_HOME/logs/ -XX:+DisableExplicitGC&quot;\n\nAKKA_CLASSPATH=&quot;$APP_HOME/lib/*:$APP_HOME/bin/*:$APP_HOME/config:$APP_HOME/lib/sigar/*:$APP_HOME/../*&quot;\n\njava $JAVA_OPTS -cp &quot;$AKKA_CLASSPATH&quot; -Dspring.profiles.active=&lt;active-profile&gt; au.com.my.app.akka.SpringApplication --spring.main.banner-mode=off\n</code></pre>\n<p>Can anyone suggest additional logging that I can add to illuminate what is going on? Or a possible cause?</p>\n"},{"tags":["java","json","spring","rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690967259,"post_id":76818265,"comment_id":135425291,"body_markdown":"Remove `@Validated` from the controller, if it still persists, make sure you have the proper dependencies with the proper scope. Please add your pom.xml/build.gradle so we can see the dependencies.","body":"Remove <code>@Validated</code> from the controller, if it still persists, make sure you have the proper dependencies with the proper scope. Please add your pom.xml/build.gradle so we can see the dependencies."},{"owner":{"account_id":2058897,"reputation":95,"user_id":1835978,"accept_rate":75,"display_name":"Ricco E"},"score":0,"creation_date":1690973503,"post_id":76818265,"comment_id":135426612,"body_markdown":"Removing @Validated didn&#39;t change behavior, i have added the javax dependency. If you could be more specific i can add others as well, but i&#39;m not at liberty to show the whole file.","body":"Removing @Validated didn&#39;t change behavior, i have added the javax dependency. If you could be more specific i can add others as well, but i&#39;m not at liberty to show the whole file."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690974346,"post_id":76818265,"comment_id":135426790,"body_markdown":"THat is depedencyManagement not the dependencies section.","body":"THat is depedencyManagement not the dependencies section."}],"owner":{"account_id":2058897,"reputation":95,"user_id":1835978,"accept_rate":75,"display_name":"Ricco E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690974833,"creation_date":1690967100,"question_id":76818265,"body_markdown":"For a given rest endpoint that takes a json containing a list of documents as the request body we are trying to limit the amount of documents allowed per request. For this we have tried using the javax annotation @Size as follows:\r\n\r\nSpring version 5.3.27\r\nJava version 11.0.19\r\n\r\nThe header for the rest endpoint:\r\n```\r\n@Validated\r\n@Controller\r\npublic class DocumentListController {\r\n    @RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList) { ... }\r\n}\r\n```\r\n\r\nThe RestDocumentList class looks like the following:\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class RestDocumentList implements RestInterface {\r\n    private long id;\r\n\r\n    @Size(max = 25, message = &quot;A maximum of 25 documents are allowed per request.&quot;)\r\n    private List&lt;RestDocumentWrapper&gt; restDocumentWrappers = new ArrayList&lt;&gt;();\r\n\r\n    //getter and setters omitted\r\n}\r\n```\r\n\r\nThe json looks like this:\r\n```\r\n{\r\n\t&quot;id&quot;: 446606713,\r\n\t&quot;restDocumentWrappers&quot;: [\r\n\t\t{\r\n\t\t\t&quot;restDocument&quot;: {\r\n\t\t\t\t&quot;documentId&quot;: 1234,\r\n\t\t\t\t&quot;title&quot;: &quot;Document.pdf&quot;,\r\n\t\t\t\t&quot;contentSize&quot;: 1\r\n\t\t\t\t&quot;contentType&quot;: &quot;application/pdf&quot;\r\n\t\t\t},\r\n\t\t\t&quot;restDocumentContent&quot;: {\r\n\t\t\t\t&quot;content&quot;: &quot;...&quot;,\r\n\t\t\t\t&quot;contentType&quot;: &quot;application/pdf&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t...\r\n\t]\r\n}\r\n```\r\n\r\nIf i run a unittest on the RestDocumentList class as follows it produces the expected result:\r\n```\r\n@RunWith(JUnit4.class)\r\npublic class TestValidation {\r\n    private Validator validator;\r\n\r\n    @Before\r\n    public void init() {\r\n        try (ValidatorFactory validatorFactory = Validation.byDefaultProvider().configure().messageInterpolator(new ParameterMessageInterpolator()).buildValidatorFactory()) {\r\n            this.validator = validatorFactory.getValidator();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testInvalidRestDocumentList() {\r\n        RestDocumentList restDocumentList = getInvalidDocumentList(); //Produces 30 documents\r\n        Set&lt;ConstraintViolation&lt;RestDocumentList&gt;&gt; violations = validator.validate(restDocumentList);\r\n        Assert.assertFalse(violations.isEmpty());\r\n        Assert.assertEquals(&quot;A maximum of 25 documents are allowed per request.&quot;, violations.stream().findFirst().get().getMessage());\r\n    }\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nWhen i hit the rest endpoint with Postman or a curl with a json containing more than 25 documents it will create all the documents in the system as if there were no limit.\r\n\r\nIf i add BindingResult to the rest endpoint no errors are reported:\r\n```\r\n@RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\r\n@ResponseStatus(HttpStatus.OK)\r\npublic @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList, BindingResult bindingResult) { \r\n    if (bindingResult.hasErrors()) {\r\n        throw new BadRequestException();\r\n    } \r\n}\r\n```\r\n\r\nSo my question would be, what am i missing? What do i need to add for the @Size constraint to result in a rejected request when exceeding the limit?","title":"Javax @Size constraint not applied on json request body","body":"<p>For a given rest endpoint that takes a json containing a list of documents as the request body we are trying to limit the amount of documents allowed per request. For this we have tried using the javax annotation @Size as follows:</p>\n<p>Spring version 5.3.27\nJava version 11.0.19</p>\n<p>The header for the rest endpoint:</p>\n<pre><code>@Validated\n@Controller\npublic class DocumentListController {\n    @RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList) { ... }\n}\n</code></pre>\n<p>The RestDocumentList class looks like the following:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class RestDocumentList implements RestInterface {\n    private long id;\n\n    @Size(max = 25, message = &quot;A maximum of 25 documents are allowed per request.&quot;)\n    private List&lt;RestDocumentWrapper&gt; restDocumentWrappers = new ArrayList&lt;&gt;();\n\n    //getter and setters omitted\n}\n</code></pre>\n<p>The json looks like this:</p>\n<pre><code>{\n    &quot;id&quot;: 446606713,\n    &quot;restDocumentWrappers&quot;: [\n        {\n            &quot;restDocument&quot;: {\n                &quot;documentId&quot;: 1234,\n                &quot;title&quot;: &quot;Document.pdf&quot;,\n                &quot;contentSize&quot;: 1\n                &quot;contentType&quot;: &quot;application/pdf&quot;\n            },\n            &quot;restDocumentContent&quot;: {\n                &quot;content&quot;: &quot;...&quot;,\n                &quot;contentType&quot;: &quot;application/pdf&quot;\n            }\n        },\n        ...\n    ]\n}\n</code></pre>\n<p>If i run a unittest on the RestDocumentList class as follows it produces the expected result:</p>\n<pre><code>@RunWith(JUnit4.class)\npublic class TestValidation {\n    private Validator validator;\n\n    @Before\n    public void init() {\n        try (ValidatorFactory validatorFactory = Validation.byDefaultProvider().configure().messageInterpolator(new ParameterMessageInterpolator()).buildValidatorFactory()) {\n            this.validator = validatorFactory.getValidator();\n        }\n    }\n\n    @Test\n    public void testInvalidRestDocumentList() {\n        RestDocumentList restDocumentList = getInvalidDocumentList(); //Produces 30 documents\n        Set&lt;ConstraintViolation&lt;RestDocumentList&gt;&gt; violations = validator.validate(restDocumentList);\n        Assert.assertFalse(violations.isEmpty());\n        Assert.assertEquals(&quot;A maximum of 25 documents are allowed per request.&quot;, violations.stream().findFirst().get().getMessage());\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>When i hit the rest endpoint with Postman or a curl with a json containing more than 25 documents it will create all the documents in the system as if there were no limit.</p>\n<p>If i add BindingResult to the rest endpoint no errors are reported:</p>\n<pre><code>@RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList, BindingResult bindingResult) { \n    if (bindingResult.hasErrors()) {\n        throw new BadRequestException();\n    } \n}\n</code></pre>\n<p>So my question would be, what am i missing? What do i need to add for the @Size constraint to result in a rejected request when exceeding the limit?</p>\n"},{"tags":["java","weblogic","aspectj"],"comments":[{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":0,"creation_date":1690998588,"post_id":76818973,"comment_id":135432420,"body_markdown":"Can you paste the whole exception?","body":"Can you paste the whole exception?"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690972094,"creation_date":1690972094,"question_id":76818973,"body_markdown":"I have a legacy application that used to work on WebLogic Server 10, Java 6. Now, our customer requires us to migrate this enterprise application to WLS14. We don&#39;t have source code for the application, only the jars and plenties of customer libraries. We are allowed to inspect/decompile source as we like.\r\n\r\nWe have to perform this migration by moving the exploded EAR and its libraries to WLS14, and possibily update incompatible libraries.\r\n\r\nSo far, we have upgraded spring-core from 3.2.5 to 4.0.9, and added querydsl 2.0.9. Spring 3 didn&#39;t like Java 8 classes (package asm threw error...) and querydsl, to which application is compiled against, was not included in the runtime of WLS14.\r\nWe haven&#39;t upgraded any other library in order to minimize impact and risk of regressions.\r\n\r\nWe have then identified another dead point when starting WLS14. The application fails to deploy because of an AOP-related `IllegalArgumentException`, specifically\r\n\r\n```\r\njava.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut event\r\n        at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\r\n```\r\n\r\nIt took us hours to investigate, and we are here after no conclusion.\r\n\r\nThere is a customer-private Java module (`acme-aspect.jar`) that contains a class `MarshallAspect`, that doens&#39;t extend any particular superclass, with methods\r\n\r\n```\r\n@Before(&quot;event(notice) &amp;&amp; !execution(* Object.*(..))&quot;)\r\npublic void enrich(JoinPoint jp, Notice notice) {\r\n...\r\n}\r\n\r\n@Pointcut(&quot;execution(* com.acme.notificator.dispatcher.business.NotificatorDispatcherServiceBusiness.marshall(com.acme.notificator.model.notice1.Notice)) &amp;&amp; !within(MarshallAspect) &amp;&amp; args(notice)&quot;)\r\npublic void event(Notice notice) {\r\n    //empty\r\n}\r\n\r\n```\r\n\r\nWe are struggling to understand, without access to source code (but we can decompile anything!!) or original **knowledge**, why did the application work seamlessly on WLS10 and now on WLS14 complains for an invalid AspectJ expression.\r\n\r\nWhat are we missing here?","title":"Legacy EAR application fails on WLS14 because of AspectJ &quot;event&quot; pointcut","body":"<p>I have a legacy application that used to work on WebLogic Server 10, Java 6. Now, our customer requires us to migrate this enterprise application to WLS14. We don't have source code for the application, only the jars and plenties of customer libraries. We are allowed to inspect/decompile source as we like.</p>\n<p>We have to perform this migration by moving the exploded EAR and its libraries to WLS14, and possibily update incompatible libraries.</p>\n<p>So far, we have upgraded spring-core from 3.2.5 to 4.0.9, and added querydsl 2.0.9. Spring 3 didn't like Java 8 classes (package asm threw error...) and querydsl, to which application is compiled against, was not included in the runtime of WLS14.\nWe haven't upgraded any other library in order to minimize impact and risk of regressions.</p>\n<p>We have then identified another dead point when starting WLS14. The application fails to deploy because of an AOP-related <code>IllegalArgumentException</code>, specifically</p>\n<pre><code>java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut event\n        at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\n</code></pre>\n<p>It took us hours to investigate, and we are here after no conclusion.</p>\n<p>There is a customer-private Java module (<code>acme-aspect.jar</code>) that contains a class <code>MarshallAspect</code>, that doens't extend any particular superclass, with methods</p>\n<pre><code>@Before(&quot;event(notice) &amp;&amp; !execution(* Object.*(..))&quot;)\npublic void enrich(JoinPoint jp, Notice notice) {\n...\n}\n\n@Pointcut(&quot;execution(* com.acme.notificator.dispatcher.business.NotificatorDispatcherServiceBusiness.marshall(com.acme.notificator.model.notice1.Notice)) &amp;&amp; !within(MarshallAspect) &amp;&amp; args(notice)&quot;)\npublic void event(Notice notice) {\n    //empty\n}\n\n</code></pre>\n<p>We are struggling to understand, without access to source code (but we can decompile anything!!) or original <strong>knowledge</strong>, why did the application work seamlessly on WLS10 and now on WLS14 complains for an invalid AspectJ expression.</p>\n<p>What are we missing here?</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690551018,"post_id":76788274,"comment_id":135373581,"body_markdown":"Because Spring has determined there is no valid mapping before it even gets to your controller code, and thus to your `sleep` call.","body":"Because Spring has determined there is no valid mapping before it even gets to your controller code, and thus to your <code>sleep</code> call."},{"owner":{"account_id":3145385,"reputation":881,"user_id":2659962,"display_name":"Akhilesh Pandey"},"score":0,"creation_date":1690553624,"post_id":76788274,"comment_id":135374213,"body_markdown":"Error code `405` means `&quot;Method Not Allowed&quot;`. This means that the HTTP method you are using (GET) is not supported by the server for the `URL `you&#39;re requesting. It&#39;s not related to the delay you have introduced using `Thread.sleep(5000)`.it&#39;s likely there&#39;s something else going wrong.Provide more details .","body":"Error code <code>405</code> means <code>&quot;Method Not Allowed&quot;</code>. This means that the HTTP method you are using (GET) is not supported by the server for the <code>URL </code>you&#39;re requesting. It&#39;s not related to the delay you have introduced using <code>Thread.sleep(5000)</code>.it&#39;s likely there&#39;s something else going wrong.Provide more details ."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690553936,"post_id":76788274,"comment_id":135374302,"body_markdown":"Are you sure, you send GET from Postman?","body":"Are you sure, you send GET from Postman?"},{"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"score":0,"creation_date":1690645463,"post_id":76788274,"comment_id":135383969,"body_markdown":"Hi @WladimirDiskowski, yes","body":"Hi @WladimirDiskowski, yes"},{"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"score":0,"creation_date":1690780518,"post_id":76788274,"comment_id":135395322,"body_markdown":"Hi @Developer, have added some updates under postman screen shot, Issue happens when it is accessed via gateway","body":"Hi @Developer, have added some updates under postman screen shot, Issue happens when it is accessed via gateway"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1690781009,"post_id":76788274,"comment_id":135395355,"body_markdown":"Check if your code is falling into the catch() block.  That might be the cause of your HTTP 405.  If so, consider either eliminating the try/catch block, or &quot;eating&quot; the exception by making the catch a no-op.","body":"Check if your code is falling into the catch() block.  That might be the cause of your HTTP 405.  If so, consider either eliminating the try/catch block, or &quot;eating&quot; the exception by making the catch a no-op."}],"answers":[{"tags":[],"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690971753,"creation_date":1690971753,"answer_id":76818935,"question_id":76788274,"body_markdown":"Resolved this issue. It was because of the absence of time out configuration for Spring cloud gateway. Added below code.\r\n\r\n    @Bean\r\n    public ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory(\r\n    \t\t\tCircuitBreakerRegistry circuitBreakerRegistry) {\r\n    \t\tReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory =\r\n    \t\t\t\tnew ReactiveResilience4JCircuitBreakerFactory();\r\n    \t\treactiveResilience4JCircuitBreakerFactory.configureCircuitBreakerRegistry(circuitBreakerRegistry);\r\n    \r\n    \t\tTimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\r\n    \t\t\t\t.timeoutDuration(Duration.ofSeconds(10)).cancelRunningFuture(true)\r\n    \t\t\t\t.build();\r\n    \t\treactiveResilience4JCircuitBreakerFactory.configure(builder -&gt; builder.timeLimiterConfig(timeLimiterConfig)\r\n    \t\t\t\t.build(),&quot;userServiceCircuitBreaker&quot;,&quot;departmentServiceCircuitBreaker&quot;);\r\n    \t\treturn reactiveResilience4JCircuitBreakerFactory;\r\n    \t}","title":"Springboot - 405 error when there is 5 seconds sleep in RestController","body":"<p>Resolved this issue. It was because of the absence of time out configuration for Spring cloud gateway. Added below code.</p>\n<pre><code>@Bean\npublic ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory(\n            CircuitBreakerRegistry circuitBreakerRegistry) {\n        ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory =\n                new ReactiveResilience4JCircuitBreakerFactory();\n        reactiveResilience4JCircuitBreakerFactory.configureCircuitBreakerRegistry(circuitBreakerRegistry);\n\n        TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\n                .timeoutDuration(Duration.ofSeconds(10)).cancelRunningFuture(true)\n                .build();\n        reactiveResilience4JCircuitBreakerFactory.configure(builder -&gt; builder.timeLimiterConfig(timeLimiterConfig)\n                .build(),&quot;userServiceCircuitBreaker&quot;,&quot;departmentServiceCircuitBreaker&quot;);\n        return reactiveResilience4JCircuitBreakerFactory;\n    }\n</code></pre>\n"}],"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76818935,"answer_count":1,"score":0,"last_activity_date":1690971753,"creation_date":1690550910,"question_id":76788274,"body_markdown":"I am using a RestController in Springboot application.\r\nin controller method I am putting Thread.sleep for 5 seconds. But when I try from PostMan, it shows 405 error right away, but after 5 seconds it is coming to conroller breakpoint. Same thing happens from client app also, not postman related. Anybody faced this situation ? I am stuck at this point. If sleep is removed, it works perfectly fine. Why it is not waiting for 5 second and throwing 405 right away.. Please help..\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n        \r\n    \r\n        @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.GET)\r\n        public List&lt;User&gt; getAllUsers() {\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;In getAllUsers&quot;);\r\n            return userService.findAllUsers();\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7EoPB.png\r\n\r\n\r\nI am accessing the service through an API gate way and 9191 is the port. Please find the yaml for api gateway. This problem does not exist if I access the user service directly. Also not sure why it is showing 405, when sleep in user service and works perfectly without 405 in the absence of sleep.\r\n\r\n    eureka:\r\n      instance:\r\n        client:\r\n          serviceUrl:\r\n            defaultZone: http://localhost:8761/eureka/\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &#39;*&#39;\r\n    server:\r\n      port: 9191\r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n      cloud:\r\n        gateway:\r\n          httpclient:\r\n            connect-timeout: 10000\r\n            response-timeout: 7s\r\n          routes:\r\n            -   filters:\r\n                  -   args:\r\n                        fallbackUri: forward:/fallback/userServiceFallback\r\n                        name: userServiceCircuitBreaker\r\n                      name: CircuitBreaker\r\n                id: USER-SERVICE\r\n                predicates:\r\n                  - Path=/user/*\r\n                uri: lb://USER-SERVICE\r\n      main:\r\n        web-application-type: reactive\r\n\r\n","title":"Springboot - 405 error when there is 5 seconds sleep in RestController","body":"<p>I am using a RestController in Springboot application.\nin controller method I am putting Thread.sleep for 5 seconds. But when I try from PostMan, it shows 405 error right away, but after 5 seconds it is coming to conroller breakpoint. Same thing happens from client app also, not postman related. Anybody faced this situation ? I am stuck at this point. If sleep is removed, it works perfectly fine. Why it is not waiting for 5 second and throwing 405 right away.. Please help..</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n    \n\n    @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.GET)\n    public List&lt;User&gt; getAllUsers() {\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;In getAllUsers&quot;);\n        return userService.findAllUsers();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7EoPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EoPB.png\" alt=\"enter image description here\" /></a></p>\n<p>I am accessing the service through an API gate way and 9191 is the port. Please find the yaml for api gateway. This problem does not exist if I access the user service directly. Also not sure why it is showing 405, when sleep in user service and works perfectly without 405 in the absence of sleep.</p>\n<pre><code>eureka:\n  instance:\n    client:\n      serviceUrl:\n        defaultZone: http://localhost:8761/eureka/\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: '*'\nserver:\n  port: 9191\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      httpclient:\n        connect-timeout: 10000\n        response-timeout: 7s\n      routes:\n        -   filters:\n              -   args:\n                    fallbackUri: forward:/fallback/userServiceFallback\n                    name: userServiceCircuitBreaker\n                  name: CircuitBreaker\n            id: USER-SERVICE\n            predicates:\n              - Path=/user/*\n            uri: lb://USER-SERVICE\n  main:\n    web-application-type: reactive\n</code></pre>\n"},{"tags":["java","mockito","log4j2"],"answers":[{"comments":[{"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"score":0,"creation_date":1690915484,"post_id":76798833,"comment_id":135418704,"body_markdown":"The above answer from me points to the code where level is being set from ERROR to OFF. The asker of question has already upvoted this answer. I will appreciate if two unrelated persons who have downvoted this answer remove their downvote.","body":"The above answer from me points to the code where level is being set from ERROR to OFF. The asker of question has already upvoted this answer. I will appreciate if two unrelated persons who have downvoted this answer remove their downvote."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1690966415,"post_id":76798833,"comment_id":135425107,"body_markdown":"The OP didn&#39;t upvote your answer. Your answer lacks details, but it points in the right direction. Log4j 2.x usually uses [`ReusableMessage`](https://s.apache.org/1t5yy)s, which are cleared after they have been used (i.e. `Appender#append` was called). Please modify your answer to allow people to modify their votes.","body":"The OP didn&#39;t upvote your answer. Your answer lacks details, but it points in the right direction. Log4j 2.x usually uses <a href=\"https://s.apache.org/1t5yy\" rel=\"nofollow noreferrer\"><code>ReusableMessage</code></a>s, which are cleared after they have been used (i.e. <code>Appender#append</code> was called). Please modify your answer to allow people to modify their votes."}],"tags":[],"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690736727,"creation_date":1690736727,"answer_id":76798833,"question_id":76798607,"body_markdown":"    @Override\r\n    public Level getLevel() {\r\n        if (level == null) {\r\n            level = Level.OFF; // LOG4J2-462, LOG4J2-465\r\n        }\r\n        return level;\r\n    }\r\nThe above code is found in org.apache.logging.log4j.core.impl.MutableLogEvent it is to workaround bugs LOG4J2-462 and LOG4J2-465 ","title":"Changed Logging Event Level in Appender","body":"<pre><code>@Override\npublic Level getLevel() {\n    if (level == null) {\n        level = Level.OFF; // LOG4J2-462, LOG4J2-465\n    }\n    return level;\n}\n</code></pre>\n<p>The above code is found in org.apache.logging.log4j.core.impl.MutableLogEvent it is to workaround bugs LOG4J2-462 and LOG4J2-465</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971507,"creation_date":1690971507,"answer_id":76818910,"question_id":76798607,"body_markdown":"As hinted by Jasvant, the problem with your code is that Log4j 2.x by default uses mutable objects (cf. [`ReusableMessage`](https://s.apache.org/1t5yy) and [`MutableLogEvent`](https://s.apache.org/bxfl8)). These objects are reset after usage, so `logEvent.level` in your code contains the value `null`.\r\n\r\nYou can solve this problem in two ways:\r\n - either you use [`ListAppender`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core-test/src/main/java/org/apache/logging/log4j/core/test/appender/ListAppender.java) from `log4j-core-test`, which stores **immutable** logging events in a list,\r\n - or you set the `log4j2.enableThreadlocals` to `false`, in which case all events will be immutable (cf. [system properties](https://logging.apache.org/log4j/2.x/manual/configuration.html#system-properties)).","title":"Changed Logging Event Level in Appender","body":"<p>As hinted by Jasvant, the problem with your code is that Log4j 2.x by default uses mutable objects (cf. <a href=\"https://s.apache.org/1t5yy\" rel=\"nofollow noreferrer\"><code>ReusableMessage</code></a> and <a href=\"https://s.apache.org/bxfl8\" rel=\"nofollow noreferrer\"><code>MutableLogEvent</code></a>). These objects are reset after usage, so <code>logEvent.level</code> in your code contains the value <code>null</code>.</p>\n<p>You can solve this problem in two ways:</p>\n<ul>\n<li>either you use <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core-test/src/main/java/org/apache/logging/log4j/core/test/appender/ListAppender.java\" rel=\"nofollow noreferrer\"><code>ListAppender</code></a> from <code>log4j-core-test</code>, which stores <strong>immutable</strong> logging events in a list,</li>\n<li>or you set the <code>log4j2.enableThreadlocals</code> to <code>false</code>, in which case all events will be immutable (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#system-properties\" rel=\"nofollow noreferrer\">system properties</a>).</li>\n</ul>\n"}],"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690971507,"creation_date":1690733464,"question_id":76798607,"body_markdown":"Unit under test:\r\n\r\n    package sample;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class App {\r\n       private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n       public void doSomething() {\r\n          logger.error(&quot;Cannot do something&quot;);\r\n       }\r\n    }\r\n\r\n\r\nI understand asserting on logger statements on unit under test is not good practice.\r\nWould like to understand why the following code which does just that\r\n\r\n    package sample;\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.Appender;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.ArgumentCaptor;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    public class TestApp {\r\n    \r\n      @Test\r\n      public void testDoSomething() {\r\n        App app = new App();\r\n    \r\n        Appender mockedAppender = mock(Appender.class);\r\n        when(mockedAppender.getName()).thenReturn(&quot;MockAppender&quot;);\r\n        when(mockedAppender.isStarted()).thenReturn(true);\r\n        when(mockedAppender.isStopped()).thenReturn(false);\r\n        ArgumentCaptor&lt;LogEvent&gt;  logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\r\n        Logger appLogger = (Logger)LogManager.getLogger(App.class);\r\n        appLogger.addAppender(mockedAppender);\r\n        app.doSomething();\r\n    \r\n        verify(mockedAppender).append(logEventCaptor.capture());\r\n        LogEvent logEvent = logEventCaptor.getValue();\r\n        assertEquals(logEvent.getLevel(), Level.ERROR);\r\n    \r\n        appLogger.removeAppender(mockedAppender);\r\n      }\r\n    }\r\n\r\nhas logged event changed from ERROR to OFF on the\r\n\r\n    expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\r\n    Expected :OFF\r\n    Actual   :ERROR\r\n    &lt;Click to see difference&gt;\r\n    \r\n    org.opentest4j.AssertionFailedError: expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\r\n    \tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n    \tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\r\nadded appender.","title":"Changed Logging Event Level in Appender","body":"<p>Unit under test:</p>\n<pre><code>package sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App {\n   private static Logger logger = LoggerFactory.getLogger(App.class);\n\n   public void doSomething() {\n      logger.error(&quot;Cannot do something&quot;);\n   }\n}\n</code></pre>\n<p>I understand asserting on logger statements on unit under test is not good practice.\nWould like to understand why the following code which does just that</p>\n<pre><code>package sample;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.Logger;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.*;\n\npublic class TestApp {\n\n  @Test\n  public void testDoSomething() {\n    App app = new App();\n\n    Appender mockedAppender = mock(Appender.class);\n    when(mockedAppender.getName()).thenReturn(&quot;MockAppender&quot;);\n    when(mockedAppender.isStarted()).thenReturn(true);\n    when(mockedAppender.isStopped()).thenReturn(false);\n    ArgumentCaptor&lt;LogEvent&gt;  logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\n    Logger appLogger = (Logger)LogManager.getLogger(App.class);\n    appLogger.addAppender(mockedAppender);\n    app.doSomething();\n\n    verify(mockedAppender).append(logEventCaptor.capture());\n    LogEvent logEvent = logEventCaptor.getValue();\n    assertEquals(logEvent.getLevel(), Level.ERROR);\n\n    appLogger.removeAppender(mockedAppender);\n  }\n}\n</code></pre>\n<p>has logged event changed from ERROR to OFF on the</p>\n<pre><code>expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\nExpected :OFF\nActual   :ERROR\n&lt;Click to see difference&gt;\n\norg.opentest4j.AssertionFailedError: expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n</code></pre>\n<p>added appender.</p>\n"},{"tags":["java","solr"],"answers":[{"tags":[],"owner":{"account_id":8890450,"reputation":491,"user_id":6637228,"accept_rate":100,"display_name":"Marek Bern&#225;d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971393,"creation_date":1690971393,"answer_id":76818894,"question_id":76818409,"body_markdown":"It seems I found an answer, the issue is consulted several months ago here:\r\n\r\nhttps://issues.apache.org/jira/browse/SOLR-16668?jql=text%20~%20%22Http2SolrClient%20HttpFields%22\r\n\r\nSo `&quot;forcing all the jetty dependencies to a specific version&quot;` is working for this case:\r\n\r\n    dependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation group: &#39;org.apache.solr&#39;, name: &#39;solr-solrj&#39;, version: &#39;9+&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-common&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-hpack&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-http-client-transport&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-util&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-io&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-http&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-alpn-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-alpn-java-client&#39;, version: &#39;10.0.13&#39;\r\n\t}\r\n\r\n`&quot; the problem I have with SolrJ 9.2.0 is caused somehow by Spring Boot, because they override the version of Jetty.&quot;`","title":"How to fix NoClassDefFoundError while using Http2SolrClient builder with solr 9+?","body":"<p>It seems I found an answer, the issue is consulted several months ago here:</p>\n<p><a href=\"https://issues.apache.org/jira/browse/SOLR-16668?jql=text%20%7E%20%22Http2SolrClient%20HttpFields%22\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SOLR-16668?jql=text%20~%20%22Http2SolrClient%20HttpFields%22</a></p>\n<p>So <code>&quot;forcing all the jetty dependencies to a specific version&quot;</code> is working for this case:</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\nimplementation group: 'org.apache.solr', name: 'solr-solrj', version: '9+'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-common', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-hpack', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-http-client-transport', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-util', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-io', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-http', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-alpn-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-alpn-java-client', version: '10.0.13'\n}\n</code></pre>\n<p><code>&quot; the problem I have with SolrJ 9.2.0 is caused somehow by Spring Boot, because they override the version of Jetty.&quot;</code></p>\n"}],"owner":{"account_id":8890450,"reputation":491,"user_id":6637228,"accept_rate":100,"display_name":"Marek Bern&#225;d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690971393,"creation_date":1690967909,"question_id":76818409,"body_markdown":"I am using `maven` with my project and this dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n      &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n      &lt;version&gt;9.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJava version: `17`\r\n\r\nSpringBootVersion: `2.7.13`\r\n\r\nUsage in code:\r\n\r\n    @Bean\r\n    public SolrClient solrClient() {\r\n      return new Http2SolrClient.Builder(host).build();\r\n    }\r\n\r\nI have the correct host working with `HttpSolrClient`(deprecated) but not with `Http2SolrClient`.\r\n\r\nBuild OK - Error on App run:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\r\n\tat org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.&lt;init&gt; \r\n    (Http2SolrClient.java:992)\r\n\r\nI tried to add any version of `org.eclipse.jetty` - not helped.\r\n\r\nIn docs - version 9.2.0 should support Http2SolrClient: \r\nhttps://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html\r\n\r\nHow to correctly create a working Http2SolrClient?","title":"How to fix NoClassDefFoundError while using Http2SolrClient builder with solr 9+?","body":"<p>I am using <code>maven</code> with my project and this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n  &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n  &lt;version&gt;9.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java version: <code>17</code></p>\n<p>SpringBootVersion: <code>2.7.13</code></p>\n<p>Usage in code:</p>\n<pre><code>@Bean\npublic SolrClient solrClient() {\n  return new Http2SolrClient.Builder(host).build();\n}\n</code></pre>\n<p>I have the correct host working with <code>HttpSolrClient</code>(deprecated) but not with <code>Http2SolrClient</code>.</p>\n<p>Build OK - Error on App run:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\nat org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.&lt;init&gt; \n(Http2SolrClient.java:992)\n</code></pre>\n<p>I tried to add any version of <code>org.eclipse.jetty</code> - not helped.</p>\n<p>In docs - version 9.2.0 should support Http2SolrClient:\n<a href=\"https://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html</a></p>\n<p>How to correctly create a working Http2SolrClient?</p>\n"},{"tags":["java","maven","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690420023,"post_id":76753079,"comment_id":135352725,"body_markdown":"This looks like a bug. Feel free to file an issue at https://issues.redhat.com/browse/WFMP. If not, I will tomorrow and have a look.","body":"This looks like a bug. Feel free to file an issue at <a href=\"https://issues.redhat.com/browse/WFMP\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFMP</a>. If not, I will tomorrow and have a look."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690919735,"post_id":76753079,"comment_id":135419415,"body_markdown":"Sorry for the delay on this. I filed an issue for this https://issues.redhat.com/browse/WFMP-215. It&#39;s definitely a bug.","body":"Sorry for the delay on this. I filed an issue for this <a href=\"https://issues.redhat.com/browse/WFMP-215\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFMP-215</a>. It&#39;s definitely a bug."},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1691335238,"post_id":76753079,"comment_id":135474771,"body_markdown":"I tried the feature pack and that worked, so I think a bit of documentation update would be enough instead of a bug?","body":"I tried the feature pack and that worked, so I think a bit of documentation update would be enough instead of a bug?"}],"answers":[{"tags":[],"owner":{"account_id":29143158,"reputation":36,"user_id":22325695,"display_name":"Bartosz Spyrko-Smietanko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690969784,"creation_date":1690969784,"answer_id":76818673,"question_id":76753079,"body_markdown":"I believe the configuration to provision a specific version of Wildfly would be:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;server-provisioning&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;provision&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\r\n                &lt;feature-packs&gt;\r\n                    &lt;feature-pack&gt;                        \r\n                       &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe):current/#27.0.0.Final&lt;/location&gt;\r\n                    &lt;/feature-pack&gt; \r\n                &lt;/feature-packs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\nOr using the feature pack Maven coordinates:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;server-provisioning&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;provision&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\r\n                &lt;feature-packs&gt;\r\n                    &lt;feature-pack&gt;\r\n                        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;wildfly-galleon-pack&lt;/artifactId&gt;\r\n                        &lt;version&gt;29.0.0.Final&lt;/version&gt;\r\n                    &lt;/feature-pack&gt;\r\n                &lt;/feature-packs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n","title":"how to configure channel for wildfly-maven-plugin provision","body":"<p>I believe the configuration to provision a specific version of Wildfly would be:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.2.0.Final&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;server-provisioning&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;provision&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\n            &lt;feature-packs&gt;\n                &lt;feature-pack&gt;                        \n                   &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe):current/#27.0.0.Final&lt;/location&gt;\n                &lt;/feature-pack&gt; \n            &lt;/feature-packs&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Or using the feature pack Maven coordinates:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.2.0.Final&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;server-provisioning&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;provision&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\n            &lt;feature-packs&gt;\n                &lt;feature-pack&gt;\n                    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n                    &lt;artifactId&gt;wildfly-galleon-pack&lt;/artifactId&gt;\n                    &lt;version&gt;29.0.0.Final&lt;/version&gt;\n                &lt;/feature-pack&gt;\n            &lt;/feature-packs&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818673,"answer_count":1,"score":0,"last_activity_date":1690969784,"creation_date":1690190787,"question_id":76753079,"body_markdown":"Going by the documentation here https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html and correlating it with Galleon blog over here https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/ I was trying to provision a specific version for Wildfly using the `Wildfly-maven-plugin` like so \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;provision&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;provision&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;channels&gt;\r\n                        &lt;channel&gt;22.0/final&lt;/channel&gt;\r\n                    &lt;/channels&gt;\r\n                    &lt;provisioningDir&gt;${project.basedir}/local&lt;/provisioningDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI get the error \r\n\r\n``` Cannot find default setter in class org.wildfly.plugin.provision.ChannelConfiguration ```\r\n\r\nwhen I run the build. The documentation doesn&#39;t mention examples of how to use `channels` attribute nor examples of provisioning a specific version. How to get a spefici version when using this plugin?","title":"how to configure channel for wildfly-maven-plugin provision","body":"<p>Going by the documentation here <a href=\"https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html</a> and correlating it with Galleon blog over here <a href=\"https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/\" rel=\"nofollow noreferrer\">https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/</a> I was trying to provision a specific version for Wildfly using the <code>Wildfly-maven-plugin</code> like so</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;provision&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;provision&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;channels&gt;\n                    &lt;channel&gt;22.0/final&lt;/channel&gt;\n                &lt;/channels&gt;\n                &lt;provisioningDir&gt;${project.basedir}/local&lt;/provisioningDir&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I get the error</p>\n<p><code>Cannot find default setter in class org.wildfly.plugin.provision.ChannelConfiguration</code></p>\n<p>when I run the build. The documentation doesn't mention examples of how to use <code>channels</code> attribute nor examples of provisioning a specific version. How to get a spefici version when using this plugin?</p>\n"},{"tags":["java","android","cordova","cordova-plugins"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690969278,"post_id":76817729,"comment_id":135425802,"body_markdown":"`which should get this path from the first function (e.g. /storage/BA4862GJI), ` Please. You should have started with that function.","body":"<code>which should get this path from the first function (e.g. &#47;storage&#47;BA4862GJI), </code> Please. You should have started with that function."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690969354,"post_id":76817729,"comment_id":135425819,"body_markdown":"`/storage/BA4862GJI)` No. A UUID will never look like that.","body":"<code>&#47;storage&#47;BA4862GJI)</code> No. A UUID will never look like that."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1690969667,"post_id":76817729,"comment_id":135425888,"body_markdown":"This function is working. Given path is just an example, don&#180;t know the precise uuid of the USB storage, I was able to locate it in Android Studio file tree, tested it with File rootFolder = new File(rootFolderPath); rootFolder.exists();, ... but rootFolder.canRead() returns false and when I tried to list files, I got AccessDeniedException.","body":"This function is working. Given path is just an example, don&#180;t know the precise uuid of the USB storage, I was able to locate it in Android Studio file tree, tested it with File rootFolder = new File(rootFolderPath); rootFolder.exists();, ... but rootFolder.canRead() returns false and when I tried to list files, I got AccessDeniedException."}],"answers":[{"comments":[{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691061726,"post_id":76818632,"comment_id":135442150,"body_markdown":"getExternalFilesDirs() returns paths to external files of my own package:\n- /storage/emulated/0/Android/data/com.package.example/files\n- /storage/42C0A57FC0A579B5/Android/data/com.package.example/files\nWhat I was asking for was the root of the USB storage and there list of the files. As you can see, the url was correct (in this case /storage/42C0A57FC0A579B5), but needed access to this folder to read the list.","body":"getExternalFilesDirs() returns paths to external files of my own package: - /storage/emulated/0/Android/data/com.package.example/files - /storage/42C0A57FC0A579B5/Android/data/com.package.example/f&zwnj;&#8203;iles What I was asking for was the root of the USB storage and there list of the files. As you can see, the url was correct (in this case /storage/42C0A57FC0A579B5), but needed access to this folder to read the list."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691061830,"post_id":76818632,"comment_id":135442178,"body_markdown":"It wil return two paths if a micro-sd card is inserted. And three if also a usb drive attached. If it does not return the usb drive then.. well read my answer.","body":"It wil return two paths if a micro-sd card is inserted. And three if also a usb drive attached. If it does not return the usb drive then.. well read my answer."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691061918,"post_id":76818632,"comment_id":135442191,"body_markdown":"I eddited the the comment above (did not expect the reply this fast :) ) The path is there, but not that I wanted.","body":"I eddited the the comment above (did not expect the reply this fast :) ) The path is there, but not that I wanted."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691061944,"post_id":76818632,"comment_id":135442194,"body_markdown":"If there is no micro-sd inserted and you get two paths then the second one is of the usb drive. And why dont you tell if there is a micro-sd inserted?","body":"If there is no micro-sd inserted and you get two paths then the second one is of the usb drive. And why dont you tell if there is a micro-sd inserted?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062053,"post_id":76818632,"comment_id":135442219,"body_markdown":"Tell if the second one if from a micro-sd card or from the usb drive.","body":"Tell if the second one if from a micro-sd card or from the usb drive."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062132,"post_id":76818632,"comment_id":135442243,"body_markdown":"Yes, the second one is from usb drive.","body":"Yes, the second one is from usb drive."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062160,"post_id":76818632,"comment_id":135442249,"body_markdown":"There is no micro-sd card. But I believe we don&#180;t understand each other. My original request was to gain access and eventuely copy the file I need from the root of the USB, I already have the path to, but I need to find the file in the root first. So I need to implement a search function first. But as I have written, in the root of the USB storage.","body":"There is no micro-sd card. But I believe we don&#180;t understand each other. My original request was to gain access and eventuely copy the file I need from the root of the USB, I already have the path to, but I need to find the file in the root first. So I need to implement a search function first. But as I have written, in the root of the USB storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062172,"post_id":76818632,"comment_id":135442252,"body_markdown":"Well then you are lucky. Now you know the root of the drive.","body":"Well then you are lucky. Now you know the root of the drive."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062304,"post_id":76818632,"comment_id":135442287,"body_markdown":"Yes, I already now that from the USB attach detection. The root is /storage/42C0A57FC0A579B5, but I cannot list the files there.","body":"Yes, I already now that from the USB attach detection. The root is /storage/42C0A57FC0A579B5, but I cannot list the files there."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062442,"post_id":76818632,"comment_id":135442312,"body_markdown":"Then what exactly is the problem. Tell what goes wrong. Dont let us guess. Did you implement READ_EXTERNAL_STORAGE permission?","body":"Then what exactly is the problem. Tell what goes wrong. Dont let us guess. Did you implement READ_EXTERNAL_STORAGE permission?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062521,"post_id":76818632,"comment_id":135442332,"body_markdown":"42C0A57FC0A579B5 is pretty strange. Never saw such an uuid. It always looks like 42C0-AB54 here.","body":"42C0A57FC0A579B5 is pretty strange. Never saw such an uuid. It always looks like 42C0-AB54 here."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062625,"post_id":76818632,"comment_id":135442365,"body_markdown":"Have you used File.exists() and File.canRead() on it?","body":"Have you used File.exists() and File.canRead() on it?"},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062711,"post_id":76818632,"comment_id":135442383,"body_markdown":"Yes I did, problem is, as I have mentioned earlier, that from Android 11 I believe, READ_EXTERNAL_STORAGE permission is not working. I even implemented Intent for Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, but still no luck. I still get AccessDeniedException.","body":"Yes I did, problem is, as I have mentioned earlier, that from Android 11 I believe, READ_EXTERNAL_STORAGE permission is not working. I even implemented Intent for Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION, but still no luck. I still get AccessDeniedException."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1691062771,"post_id":76818632,"comment_id":135442400,"body_markdown":"That permission is needed for 10, 11,12. Not for 13.","body":"That permission is needed for 10, 11,12. Not for 13."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062779,"post_id":76818632,"comment_id":135442401,"body_markdown":"Yes, I have tried ... File.exists() was true, but File.canRead() was false.","body":"Yes, I have tried ... File.exists() was true, but File.canRead() was false."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691062964,"post_id":76818632,"comment_id":135442440,"body_markdown":"I am working on android 11 right now.","body":"I am working on android 11 right now."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1691391024,"post_id":76818632,"comment_id":135479586,"body_markdown":"Just to let you know, I have managed to make it work. Problem was somewhere in the devices firmware. As it is custom hardware from the company we have collaboration with, they send me new firmware and everything works as it should.","body":"Just to let you know, I have managed to make it work. Problem was somewhere in the devices firmware. As it is custom hardware from the company we have collaboration with, they send me new firmware and everything works as it should."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":17,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690969489,"creation_date":1690969489,"answer_id":76818632,"question_id":76817729,"body_markdown":"You should get the path from `getExternalFilesDirs()`.\r\n\r\nAnd if that function does not deliver path to usb drive then you have to use SAF with `ACTION_OPEN_DOCUMENT_TREE` and let the user choose the drive.","title":"Cordova - Android - Find newest file on USB storage","body":"<p>You should get the path from <code>getExternalFilesDirs()</code>.</p>\n<p>And if that function does not deliver path to usb drive then you have to use SAF with <code>ACTION_OPEN_DOCUMENT_TREE</code> and let the user choose the drive.</p>\n"}],"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690969489,"creation_date":1690962976,"question_id":76817729,"body_markdown":"I am writing a plugin for Android in Java. One function is to detect USB storage attach and return path to this USB storage. This code is working properly, but I have a problem with second function which should get this path from the first function (e.g. /storage/BA4862GJI), list all files in the root of this USB and return newest file with given extension (e.g. .txt). \r\nFrom Android 11 permission `MANAGE_EXTERNAL_STORAGE` is not enough anymore. Can you please guide me how to get proper permissions and get list of the files? The function to get all files with given extension goes like this:\r\n```\r\nprivate List&lt;File&gt; getFilesWithExtension(File directory, final String extension) {\r\n    try {\r\n        List&lt;File&gt; found =  Files.walk(directory.toPath(), 1)\r\n                .filter(p -&gt; {\r\n                    try {\r\n                        return Files.isRegularFile(p) &amp;&amp; Files.isReadable(p);\r\n                    } catch (Exception e) {\r\n                        return false;\r\n                    }\r\n                })\r\n                .filter(file -&gt; file.getFileName().toString().endsWith(extension))\r\n                .map(Path::toFile)\r\n                .collect(Collectors.toList());\r\n        return found;\r\n    } catch (IOException e) {\r\n        Log.e(&quot;USBManager&quot;, &quot;Failed to retrieve files with extension: &quot; + e.getMessage());\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\nThanks.","title":"Cordova - Android - Find newest file on USB storage","body":"<p>I am writing a plugin for Android in Java. One function is to detect USB storage attach and return path to this USB storage. This code is working properly, but I have a problem with second function which should get this path from the first function (e.g. /storage/BA4862GJI), list all files in the root of this USB and return newest file with given extension (e.g. .txt).\nFrom Android 11 permission <code>MANAGE_EXTERNAL_STORAGE</code> is not enough anymore. Can you please guide me how to get proper permissions and get list of the files? The function to get all files with given extension goes like this:</p>\n<pre><code>private List&lt;File&gt; getFilesWithExtension(File directory, final String extension) {\n    try {\n        List&lt;File&gt; found =  Files.walk(directory.toPath(), 1)\n                .filter(p -&gt; {\n                    try {\n                        return Files.isRegularFile(p) &amp;&amp; Files.isReadable(p);\n                    } catch (Exception e) {\n                        return false;\n                    }\n                })\n                .filter(file -&gt; file.getFileName().toString().endsWith(extension))\n                .map(Path::toFile)\n                .collect(Collectors.toList());\n        return found;\n    } catch (IOException e) {\n        Log.e(&quot;USBManager&quot;, &quot;Failed to retrieve files with extension: &quot; + e.getMessage());\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","maven","ubuntu","java-8","dependencies"],"comments":[{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":1,"creation_date":1513169540,"post_id":47793265,"comment_id":82547837,"body_markdown":"are you test this dependency `&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;\n    &lt;artifactId&gt;istack-commons-tools&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;` ?","body":"are you test this dependency <code>&lt;dependency&gt;     &lt;groupId&gt;com.sun.istack&lt;&#47;groupId&gt;     &lt;artifactId&gt;istack-commons-tools&lt;&#47;artifactId&gt;     &lt;version&gt;3.0.5&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code> ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1513184168,"post_id":47793265,"comment_id":82557747,"body_markdown":"“but they still not supply necessary one”… and they never will. Guess why the package name `com.sun.istack.internal` ends with *internal*.","body":"“but they still not supply necessary one”… and they never will. Guess why the package name <code>com.sun.istack.internal</code> ends with <i>internal</i>."}],"answers":[{"comments":[{"owner":{"account_id":205807,"reputation":143,"user_id":454743,"display_name":"Clod&#233;ric"},"score":2,"creation_date":1539187478,"post_id":50427240,"comment_id":92413381,"body_markdown":"Had the same issue with `@NotNull`, `import org.jetbrains.annotations.NotNull` did the trick","body":"Had the same issue with <code>@NotNull</code>, <code>import org.jetbrains.annotations.NotNull</code> did the trick"},{"owner":{"account_id":8052037,"reputation":862,"user_id":6070255,"display_name":"Aunmag"},"score":0,"creation_date":1579940612,"post_id":50427240,"comment_id":105941016,"body_markdown":"That one was for internal use","body":"That one was for internal use"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1625059200,"post_id":50427240,"comment_id":120526368,"body_markdown":"@Aunmag I have been using it in my test case, but I did a few changes and only after that, it started throwing errors. I think this &quot;That one was for internal use&quot; is not the case","body":"@Aunmag I have been using it in my test case, but I did a few changes and only after that, it started throwing errors. I think this &quot;That one was for internal use&quot; is not the case"}],"tags":[],"owner":{"account_id":8052037,"reputation":862,"user_id":6070255,"display_name":"Aunmag"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1526746742,"creation_date":1526746742,"answer_id":50427240,"question_id":47793265,"body_markdown":"Try import `import org.jetbrains.annotations.Nullable` instead. It has the same you need for `@Nullable` annotation.\r\n\r\nThen add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>Try import <code>import org.jetbrains.annotations.Nullable</code> instead. It has the same you need for <code>@Nullable</code> annotation.</p>\n\n<p>Then add this dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981144,"reputation":170,"user_id":4700162,"accept_rate":50,"display_name":"faienz93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690968214,"creation_date":1690968214,"answer_id":76818457,"question_id":47793265,"body_markdown":"In my case, I had the problem because I have updated the Spring started parent to 3.X.X version and Java version 17. In this case, I resolved using `jakarta.validation.constraints.NotNull`","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>In my case, I had the problem because I have updated the Spring started parent to 3.X.X version and Java version 17. In this case, I resolved using <code>jakarta.validation.constraints.NotNull</code></p>\n"}],"owner":{"account_id":6289243,"reputation":1529,"user_id":4887464,"accept_rate":100,"display_name":"Olga Pshenichnikova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17595,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50427240,"answer_count":2,"score":6,"last_activity_date":1690968214,"creation_date":1513168753,"question_id":47793265,"body_markdown":"I have little maven project that uses com.sun.istack.internal.Nullable.  \r\nI tried both JDK 9 and 1.8, and still get error about package does not exists.\r\nI search for the package and find some: https://mvnrepository.com/search?q=+com.sun.istack but they still not supply necessary one.\r\n\r\nThe JAVA_HOME:\r\n\r\n    apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ echo $JAVA_HOME\r\n    /usr/local/java/jdk1.8.0_121/\r\n\r\nAnd JDK:\r\n\r\n    apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ sudo update-alternatives --config java\r\n    There are 4 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                     Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-9-oracle/bin/java       1091      auto mode\r\n      1            /usr/lib/jvm/java-8-oracle/jre/bin/java   1081      manual mode\r\n      2            /usr/lib/jvm/java-9-oracle/bin/java       1091      manual mode\r\n    * 3            /usr/local/java/jdk1.8.0_121/             1         manual mode\r\n      4            /usr/local/java/jdk1.8.0_121/bin/java     1         manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: \r\n\r\nAnd the POM.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;newlps&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;newlps&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t${project.build.directory}/libs\r\n    \t\t\t\t\t\t\t&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\t\t\r\n    \t\t&lt;/plugins&gt;\t\t\r\n    \t&lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nI injected:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nInside the POM.xml\r\n\r\nAnd I still have compilation exception\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.286 s\r\n    [INFO] Finished at: 2017-12-13T15:28:45+03:00\r\n    [INFO] Final Memory: 20M/261M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project newlps: Compilation failure: Compilation failure:\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[3,31] package com.sun.istack.internal does not exist\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[3,31] package com.sun.istack.internal does not exist\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[36,74] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.ParamUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[46,68] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.ParamUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[19,36] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.StringUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[45,6] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.StringUtils\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>I have little maven project that uses com.sun.istack.internal.Nullable.<br>\nI tried both JDK 9 and 1.8, and still get error about package does not exists.\nI search for the package and find some: <a href=\"https://mvnrepository.com/search?q=+com.sun.istack\" rel=\"noreferrer\">https://mvnrepository.com/search?q=+com.sun.istack</a> but they still not supply necessary one.</p>\n\n<p>The JAVA_HOME:</p>\n\n<pre><code>apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ echo $JAVA_HOME\n/usr/local/java/jdk1.8.0_121/\n</code></pre>\n\n<p>And JDK:</p>\n\n<pre><code>apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ sudo update-alternatives --config java\nThere are 4 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                     Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-9-oracle/bin/java       1091      auto mode\n  1            /usr/lib/jvm/java-8-oracle/jre/bin/java   1081      manual mode\n  2            /usr/lib/jvm/java-9-oracle/bin/java       1091      manual mode\n* 3            /usr/local/java/jdk1.8.0_121/             1         manual mode\n  4            /usr/local/java/jdk1.8.0_121/bin/java     1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: \n</code></pre>\n\n<p>And the POM.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\n    &lt;artifactId&gt;newlps&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;newlps&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\n            &lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\n            &lt;version&gt;0.1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/libs\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;           \n        &lt;/plugins&gt;      \n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I injected:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Inside the POM.xml</p>\n\n<p>And I still have compilation exception</p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.286 s\n[INFO] Finished at: 2017-12-13T15:28:45+03:00\n[INFO] Final Memory: 20M/261M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project newlps: Compilation failure: Compilation failure:\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[3,31] package com.sun.istack.internal does not exist\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[3,31] package com.sun.istack.internal does not exist\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[36,74] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.ParamUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[46,68] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.ParamUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[19,36] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.StringUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[45,6] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.StringUtils\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","deb","jpackage"],"answers":[{"comments":[{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1690990171,"post_id":76818413,"comment_id":135430678,"body_markdown":"I think my lack of knowledge is coming into play here.  The app-image I assumed was the file in the release folder which launches my application, how is that different from the runtime-image?  I tried your suggestions, and got various errors, which probably come down to my lack of knowledge.  The first error I got was:Bundler DEB Bundle skipped because of a configuration problem: java.lang.module.FindException: Two versions of module my.module found in . (my.module.jmod and my.jar).  I then tweaked like mad but got various errors.  I was frustrated because the command in the book didn&#39;t work.","body":"I think my lack of knowledge is coming into play here.  The app-image I assumed was the file in the release folder which launches my application, how is that different from the runtime-image?  I tried your suggestions, and got various errors, which probably come down to my lack of knowledge.  The first error I got was:Bundler DEB Bundle skipped because of a configuration problem: java.lang.module.FindException: Two versions of module my.module found in . (my.module.jmod and my.jar).  I then tweaked like mad but got various errors.  I was frustrated because the command in the book didn&#39;t work."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690991200,"post_id":76818413,"comment_id":135430910,"body_markdown":"The app-image afaik refers to the whole folder which is essentially produced by the `jlink` procedure. Which &quot;book&quot; are we talking about - is it viewable online?","body":"The app-image afaik refers to the whole folder which is essentially produced by the <code>jlink</code> procedure. Which &quot;book&quot; are we talking about - is it viewable online?"},{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1690992836,"post_id":76818413,"comment_id":135431268,"body_markdown":"I&#39;m afraid it isn&#39;t, it&#39;s a French language book.  His final command, executed in a build folder one level up from the release folder (created by jlink) is:  jpackage --name moninstaller --app-image ./release/ (which is as you say the folder produced by jlink.","body":"I&#39;m afraid it isn&#39;t, it&#39;s a French language book.  His final command, executed in a build folder one level up from the release folder (created by jlink) is:  jpackage --name moninstaller --app-image ./release/ (which is as you say the folder produced by jlink."},{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1691005828,"post_id":76818413,"comment_id":135433721,"body_markdown":"These are the commands that took me thus far: jar cf build/my.jar * , jmod create --class-path build/my.jar --main-class pac.com.Starter build/my.module.jmod , jdeps --list-deps --ignore-missing-deps build/my.jar pac/com/postgresql-42.5.4.jar , and finally jlink --output build/release --add-modules java.base,java.desktop,java.logging,java.management,java.naming,java.security.jgss,java.security.sasl,java.sql,java.transaction.xa,java.xml,my.module --module-path build/my.module.jmod --launcher MyApp=my.module/pac.com.Starter  He does wind up by saying jpackage can do everything jlink does.","body":"These are the commands that took me thus far: jar cf build/my.jar * , jmod create --class-path build/my.jar --main-class pac.com.Starter build/my.module.jmod , jdeps --list-deps --ignore-missing-deps build/my.jar pac/com/postgresql-42.5.4.jar , and finally jlink --output build/release --add-modules java.base,java.desktop,java.logging,java.management,java.nam&zwnj;&#8203;ing,java.security.jg&zwnj;&#8203;ss,java.security.sas&zwnj;&#8203;l,java.sql,java.tran&zwnj;&#8203;saction.xa,java.xml,&zwnj;&#8203;my.module --module-path build/my.module.jmod --launcher MyApp=my.module/pac.com.Starter  He does wind up by saying jpackage can do everything jlink does."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691006459,"post_id":76818413,"comment_id":135433825,"body_markdown":"What attracts you to this particularly - is it that you happen to want that particular application?","body":"What attracts you to this particularly - is it that you happen to want that particular application?"},{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1691012807,"post_id":76818413,"comment_id":135434962,"body_markdown":"I didn&#39;t touch Java for quite a long time, and felt quite intimidated by the modularity that had been introduced.  I tried writing a database app, just for the experience , got the book to brush up and learn modules. Then was surprised at getting as far as an app that could run on another machine without full jre. Was frustrated that the final step of deb packaging didn&#39;t work.  Actually today I realised all I needed to do was right click the release folder and I can immediately have zip folder which I successfully ran on another VM.  Hope you don&#39;t feel I wasted your time","body":"I didn&#39;t touch Java for quite a long time, and felt quite intimidated by the modularity that had been introduced.  I tried writing a database app, just for the experience , got the book to brush up and learn modules. Then was surprised at getting as far as an app that could run on another machine without full jre. Was frustrated that the final step of deb packaging didn&#39;t work.  Actually today I realised all I needed to do was right click the release folder and I can immediately have zip folder which I successfully ran on another VM.  Hope you don&#39;t feel I wasted your time"},{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1691013493,"post_id":76818413,"comment_id":135435043,"body_markdown":"Didn&#39;t have enough characters to say thanks, I appreciate the help!  It would be nice if I could get it to work, it&#39;s obvious I don&#39;t understand as much as I thought I did!  But creating a zip or tar seems a workaround.","body":"Didn&#39;t have enough characters to say thanks, I appreciate the help!  It would be nice if I could get it to work, it&#39;s obvious I don&#39;t understand as much as I thought I did!  But creating a zip or tar seems a workaround."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691014160,"post_id":76818413,"comment_id":135435120,"body_markdown":"If you put up a link to the tar.gz (just the source) I can take a look. The objective presumably is to get the .deb file so you can use it to install?","body":"If you put up a link to the tar.gz (just the source) I can take a look. The objective presumably is to get the .deb file so you can use it to install?"},{"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"score":0,"creation_date":1691062797,"post_id":76818413,"comment_id":135442407,"body_markdown":"I actually chose a zip file, which, as I say, worked fine.  It&#39;s very good of you to offer, but really my code is embarrassingly amateurish, I have a lot of tidying up to do.  The need for an installer is very much in the future and hypothetical!","body":"I actually chose a zip file, which, as I say, worked fine.  It&#39;s very good of you to offer, but really my code is embarrassingly amateurish, I have a lot of tidying up to do.  The need for an installer is very much in the future and hypothetical!"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690967951,"creation_date":1690967951,"answer_id":76818413,"question_id":76815249,"body_markdown":"Essentially the problem is that there&#39;s not nearly enough info to complete the task. Here&#39;s an (already pretty minimal) example that works for me:\r\n\r\n```\r\njpackage \\\r\n--dest /tmp/xcode/jpackage \\\r\n--type app-image \\\r\n--app-version &#39;1.0&#39; \\\r\n--copyright &#39;Copyright&#39; \\\r\n--description &#39;Description&#39; \\\r\n--name &#39;appname&#39; \\\r\n--vendor &#39;Vendor&#39; \\\r\n--runtime-image /tmp/xcode/jlink/runtime-image \\\r\n--module-path target/classes \\\r\n--module com.technojeeves.xcode/com.technojeeves.xcode.XCode \\\r\n--arguments &#39;--opt&#39; \\\r\n--java-options &#39;-Dfile.encoding=UTF-8 -Xms256m -Xmx512m&#39; \\\r\n--type deb\r\n```\r\nProbably best saved as a shell script that you can tweak","title":"jpackage - missing .jpackage.xml file","body":"<p>Essentially the problem is that there's not nearly enough info to complete the task. Here's an (already pretty minimal) example that works for me:</p>\n<pre><code>jpackage \\\n--dest /tmp/xcode/jpackage \\\n--type app-image \\\n--app-version '1.0' \\\n--copyright 'Copyright' \\\n--description 'Description' \\\n--name 'appname' \\\n--vendor 'Vendor' \\\n--runtime-image /tmp/xcode/jlink/runtime-image \\\n--module-path target/classes \\\n--module com.technojeeves.xcode/com.technojeeves.xcode.XCode \\\n--arguments '--opt' \\\n--java-options '-Dfile.encoding=UTF-8 -Xms256m -Xmx512m' \\\n--type deb\n</code></pre>\n<p>Probably best saved as a shell script that you can tweak</p>\n"}],"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818413,"answer_count":1,"score":0,"last_activity_date":1690967951,"creation_date":1690924873,"question_id":76815249,"body_markdown":"I am an amateur so may not have the terminology correct!  I have followed instructions from a textbook to produce a modular, stripped down jre from a database application which uses a postgresql remote datbase and jdbc postgresql driver.  I followed the steps using jar, jmod, jdeps and jlink, and now have a release folder which contains a bin folder which contains a &#39;script shell&#39; from which I can launch the application.\r\nMy textbook details the final step (to produce .deb package) as (from the folder directly above the release folder):  \r\n```\r\njpackage --name MyInstaller --app-image ./release/\r\n```\r\nI get the following error: \r\n\r\n```\r\nError: Missing .jpackage.xml file in app-image dir &quot;./release&quot;\r\n\r\n```\r\nI have googled but have come up with nothing that solves it, although I did find a self-answered post on this site wherein the user did track down such an .xml file (but I can&#39;t find such a file anywhere).\r\n\r\nI am running an Ubuntu 20.04 Virtualbox VM and openjdk 20.0.2 (according to java -version).","title":"jpackage - missing .jpackage.xml file","body":"<p>I am an amateur so may not have the terminology correct!  I have followed instructions from a textbook to produce a modular, stripped down jre from a database application which uses a postgresql remote datbase and jdbc postgresql driver.  I followed the steps using jar, jmod, jdeps and jlink, and now have a release folder which contains a bin folder which contains a 'script shell' from which I can launch the application.\nMy textbook details the final step (to produce .deb package) as (from the folder directly above the release folder):</p>\n<pre><code>jpackage --name MyInstaller --app-image ./release/\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Error: Missing .jpackage.xml file in app-image dir &quot;./release&quot;\n\n</code></pre>\n<p>I have googled but have come up with nothing that solves it, although I did find a self-answered post on this site wherein the user did track down such an .xml file (but I can't find such a file anywhere).</p>\n<p>I am running an Ubuntu 20.04 Virtualbox VM and openjdk 20.0.2 (according to java -version).</p>\n"},{"tags":["java","regex","cucumber"],"answers":[{"comments":[{"owner":{"account_id":312671,"reputation":287,"user_id":626877,"accept_rate":60,"display_name":"Lev"},"score":0,"creation_date":1690970367,"post_id":76818377,"comment_id":135426033,"body_markdown":"Thank you for taking time to answer.\nIf you look at my sample code, you will see that `@ParameterType` is defined exactly as the step.\n`(?&#39;tester&#39;abc|def|hgi)` is a Regex notation for **named** capturing group (name is not the part of a matching pattern), which I tried after simple capturing group `(abc|def|hgi)` did not work.","body":"Thank you for taking time to answer. If you look at my sample code, you will see that <code>@ParameterType</code> is defined exactly as the step. <code>(?&#39;tester&#39;abc|def|hgi)</code> is a Regex notation for <b>named</b> capturing group (name is not the part of a matching pattern), which I tried after simple capturing group <code>(abc|def|hgi)</code> did not work."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690980808,"post_id":76818377,"comment_id":135428217,"body_markdown":"The regex `(abc|def|hgi)` and `(?&#39;tester&#39;abc|def|hgi)` may match the same inputs, they&#39;re not the same regex. Also a named regex uses `&lt;` and `&gt;` to delimit the name, rather than `&#39;` https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html.","body":"The regex <code>(abc|def|hgi)</code> and <code>(?&#39;tester&#39;abc|def|hgi)</code> may match the same inputs, they&#39;re not the same regex. Also a named regex uses <code>&lt;</code> and <code>&gt;</code> to delimit the name, rather than <code>&#39;</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690967727,"creation_date":1690967727,"answer_id":76818377,"question_id":76817907,"body_markdown":"To match a regex with a parameter type, the regex must match that of the parameter type. For example:\r\n\r\n\r\n```java\r\n@When(&quot;^The (abc|def|hgi) does whatever$&quot;)\r\npublic void testWhatever(Tester t) {\r\n    ...\r\n}\r\n\r\n@ParameterType(&quot;abc|def|hgi&quot;)\r\npublic Tester tester(String testerName) {\r\n    return Tester.valueOf(testerName);\r\n}\r\n```","title":"Cucumber+Java: A step Regex definition breaks association with @ParameterType","body":"<p>To match a regex with a parameter type, the regex must match that of the parameter type. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@When(&quot;^The (abc|def|hgi) does whatever$&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n\n@ParameterType(&quot;abc|def|hgi&quot;)\npublic Tester tester(String testerName) {\n    return Tester.valueOf(testerName);\n}\n</code></pre>\n"}],"owner":{"account_id":312671,"reputation":287,"user_id":626877,"accept_rate":60,"display_name":"Lev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690967727,"creation_date":1690964388,"question_id":76817907,"body_markdown":"I use *Cucumber* to test the code in my *Java* project, all is developed and ran in *IntelliJ IDEA 2022.1.4 (Ultimate Edition)*.\r\n&lt;br/&gt;&lt;br/&gt;\r\nOriginaly, my test was defined using *Cucumber expressions* and worked fine with `@ParameterType`:\r\n\r\n    @When(&quot;The {tester} does whatever&quot;)\r\n    public void testWhatever(Tester t) {\r\n        ...\r\n    }\r\n\r\n    @ParameterType(&quot;abc|def|hgi&quot;)\r\n    public Tester tester(String testerName) {\r\n        return Tester.valueOf(testerName);\r\n    }\r\n\r\nThe test in this form works perfectly.\r\n\r\nThen further developing the test I had to switch the test definition to *Regex*, and the test definition took the following form:\r\n\r\n    @When(&quot;^The (?&#39;tester&#39;abc|def|hgi) does whatever$&quot;)\r\n    public void testWhatever(Tester t) {\r\n        ...\r\n    }\r\n\r\nNow the test does not work failing in runtime to convert the captured string to the required type.\r\n&lt;br/&gt;\r\nThe relevant nested exceptions in this case are:\r\n&lt;br/&gt;\r\n`Caused by: io.cucumber.cucumberexpressions.CucumberExpressionException: ParameterType {anonymous} failed to transform [abc] to interface com.acme.Tester`\r\n&lt;br/&gt;\r\n`Caused by: java.lang.IllegalArgumentException: Can&#39;t transform &#39;abc&#39; to interface com.acme.Tester\r\nBuiltInParameterTransformer only support a limited number of class types\r\nConsider using a different object mapper or register a parameter type for interface com.acme.Tester`\r\n\r\nIt seems that the association of my custom `ParameterType` with the data, which worked in *Cucumber expression* via `{tester}`, is broken in *Regex*.\r\n&lt;br/&gt;&lt;br/&gt;\r\nI have no more ideas what to try in order to make it work.\r\n&lt;br/&gt;\r\nI shall deeply appreciate any assistance from you guys.","title":"Cucumber+Java: A step Regex definition breaks association with @ParameterType","body":"<p>I use <em>Cucumber</em> to test the code in my <em>Java</em> project, all is developed and ran in <em>IntelliJ IDEA 2022.1.4 (Ultimate Edition)</em>.\n<br/><br/>\nOriginaly, my test was defined using <em>Cucumber expressions</em> and worked fine with <code>@ParameterType</code>:</p>\n<pre><code>@When(&quot;The {tester} does whatever&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n\n@ParameterType(&quot;abc|def|hgi&quot;)\npublic Tester tester(String testerName) {\n    return Tester.valueOf(testerName);\n}\n</code></pre>\n<p>The test in this form works perfectly.</p>\n<p>Then further developing the test I had to switch the test definition to <em>Regex</em>, and the test definition took the following form:</p>\n<pre><code>@When(&quot;^The (?'tester'abc|def|hgi) does whatever$&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n</code></pre>\n<p>Now the test does not work failing in runtime to convert the captured string to the required type.\n<br/>\nThe relevant nested exceptions in this case are:\n<br/>\n<code>Caused by: io.cucumber.cucumberexpressions.CucumberExpressionException: ParameterType {anonymous} failed to transform [abc] to interface com.acme.Tester</code>\n<br/>\n<code>Caused by: java.lang.IllegalArgumentException: Can't transform 'abc' to interface com.acme.Tester BuiltInParameterTransformer only support a limited number of class types Consider using a different object mapper or register a parameter type for interface com.acme.Tester</code></p>\n<p>It seems that the association of my custom <code>ParameterType</code> with the data, which worked in <em>Cucumber expression</em> via <code>{tester}</code>, is broken in <em>Regex</em>.\n<br/><br/>\nI have no more ideas what to try in order to make it work.\n<br/>\nI shall deeply appreciate any assistance from you guys.</p>\n"},{"tags":["java","spring-boot","apache-kafka","message-queue","apache-kafka-connect"],"owner":{"account_id":29032870,"reputation":1,"user_id":22239379,"display_name":"HIKARIZT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690967718,"creation_date":1690967633,"question_id":76818367,"body_markdown":"I used Kafka 2.5.1 before and the program ran well. Rencently, the version of Kafka has been changed to 3.4.0, and the Kafka server online is 2.8.1. Then, when I start the program, some exception info appears. \r\nAt the beginning, it shows that.\r\n\r\n```java\r\n2023-08-02 16:14:24.892  INFO 48784 --- [est,test1,test2] o.a.kafka.clients.FetchSessionHandler    : [Consumer clientId=consumer-sos2-1, groupId=sos2] Error sending fetch request (sessionId=INVALID, epoch=INITIAL) to node 101578:\r\norg.apache.kafka.common.errors.DisconnectException: null\r\n\r\nThen, about nine minutes passed, it shows that.\r\n2023-08-02 16:23:01.824  INFO 48784 --- [ad | producer-3] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-3] Node -1 disconnected.\r\n2023-08-02 16:23:06.216  INFO 48784 --- [est,test1,test2] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-sos2-1, groupId=sos2] Node -1 disconnected.\r\n2023-08-02 16:23:10.299  INFO 48784 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-08-02 16:23:10.844  INFO 48784 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Node -1 disconnected.\r\n```\r\nHowever, when I see the Kafka Server, the connection still works. The message can be received and sended by my program correctly. It just show some exception info but didnt affect the function of my program. I am afraid that some problems may happen in the future. Why does these info appear at the beginning.\r\n\r\nWhen I change the Kafka version to 2.5.1, these info disapper, but the version must be 3.4.0 due to some reasons. I guess these info appear due to the version difference. I hope someone can give some help!","title":"Kafka: org.apache.kafka.common.errors.DisconnectException: null &amp; Node -1 disconnected","body":"<p>I used Kafka 2.5.1 before and the program ran well. Rencently, the version of Kafka has been changed to 3.4.0, and the Kafka server online is 2.8.1. Then, when I start the program, some exception info appears.\nAt the beginning, it shows that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-08-02 16:14:24.892  INFO 48784 --- [est,test1,test2] o.a.kafka.clients.FetchSessionHandler    : [Consumer clientId=consumer-sos2-1, groupId=sos2] Error sending fetch request (sessionId=INVALID, epoch=INITIAL) to node 101578:\norg.apache.kafka.common.errors.DisconnectException: null\n\nThen, about nine minutes passed, it shows that.\n2023-08-02 16:23:01.824  INFO 48784 --- [ad | producer-3] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-3] Node -1 disconnected.\n2023-08-02 16:23:06.216  INFO 48784 --- [est,test1,test2] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-sos2-1, groupId=sos2] Node -1 disconnected.\n2023-08-02 16:23:10.299  INFO 48784 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-08-02 16:23:10.844  INFO 48784 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Node -1 disconnected.\n</code></pre>\n<p>However, when I see the Kafka Server, the connection still works. The message can be received and sended by my program correctly. It just show some exception info but didnt affect the function of my program. I am afraid that some problems may happen in the future. Why does these info appear at the beginning.</p>\n<p>When I change the Kafka version to 2.5.1, these info disapper, but the version must be 3.4.0 due to some reasons. I guess these info appear due to the version difference. I hope someone can give some help!</p>\n"},{"tags":["java","redirect","spark-java"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690975144,"post_id":76818329,"comment_id":135426942,"body_markdown":"https://www.codingninjas.com/studio/library/page-redirection-in-jsp","body":"<a href=\"https://www.codingninjas.com/studio/library/page-redirection-in-jsp\" rel=\"nofollow noreferrer\">codingninjas.com/studio/library/page-redirection-in-jsp</a>"}],"owner":{"account_id":17304712,"reputation":11,"user_id":12533692,"display_name":"casetal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690967375,"creation_date":1690967375,"question_id":76818329,"body_markdown":"Can I make redirect from current page to google.com (for example)?\r\n\r\nI tried to use method *redirect* and *header* with **Location**. \r\n\r\nIs it possible to somehow implement a redirect to another website, or only path (/page1 -&gt; /page2)?","title":"Redirects to another site","body":"<p>Can I make redirect from current page to google.com (for example)?</p>\n<p>I tried to use method <em>redirect</em> and <em>header</em> with <strong>Location</strong>.</p>\n<p>Is it possible to somehow implement a redirect to another website, or only path (/page1 -&gt; /page2)?</p>\n"},{"tags":["java","hibernate","criteria"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1393425070,"post_id":22044364,"comment_id":33422368,"body_markdown":"Answer you provided is related to Criteria API, not HQL. Switch to Criteria api. Start with `session.createCriteria(Unit.class)`","body":"Answer you provided is related to Criteria API, not HQL. Switch to Criteria api. Start with <code>session.createCriteria(Unit.class)</code>"}],"answers":[{"tags":[],"owner":{"account_id":3979383,"reputation":944,"user_id":3281728,"accept_rate":60,"display_name":"mydoglixu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393426035,"creation_date":1393426035,"answer_id":22044843,"question_id":22044364,"body_markdown":"I don&#39;t know that IN would be the most appropriate in this case. Try an inner join to link up the tables:\r\n\r\n    SELECT * FROM Unit INNER JOIN Rate ON Rate.unit_id = Unit.id \r\n        WHERE Rate.user_id = 55\r\n\r\n","title":"Criteria (NOT IN)","body":"<p>I don't know that IN would be the most appropriate in this case. Try an inner join to link up the tables:</p>\n\n<pre><code>SELECT * FROM Unit INNER JOIN Rate ON Rate.unit_id = Unit.id \n    WHERE Rate.user_id = 55\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690967196,"creation_date":1393426256,"answer_id":22044931,"question_id":22044364,"body_markdown":"Looking at your tag, I think you need the Criteria view of your SQL query; so assuming `Unit` and `Rate` classes:\r\n\r\n    // This is the subquery\r\n    DetachedCriteria subquery = DetachedCriteria.forClass(Rate.class)\r\n        .add(Restrictions.eq(&quot;user_id&quot;, 55))\r\n        .setProjection(Projections.id())\r\n    \r\n    // This corresponds to (SELECT * FROM Unit WHERE id not in (subquery))\r\n    Criteria criteria = session\r\n        .createCriteria(Unit.class)\r\n        .add(Subqueries.notIn(&quot;id&quot;, subquery));","title":"Criteria (NOT IN)","body":"<p>Looking at your tag, I think you need the Criteria view of your SQL query; so assuming <code>Unit</code> and <code>Rate</code> classes:</p>\n<pre><code>// This is the subquery\nDetachedCriteria subquery = DetachedCriteria.forClass(Rate.class)\n    .add(Restrictions.eq(&quot;user_id&quot;, 55))\n    .setProjection(Projections.id())\n\n// This corresponds to (SELECT * FROM Unit WHERE id not in (subquery))\nCriteria criteria = session\n    .createCriteria(Unit.class)\n    .add(Subqueries.notIn(&quot;id&quot;, subquery));\n</code></pre>\n"}],"owner":{"account_id":3372171,"reputation":1718,"user_id":2831157,"accept_rate":87,"display_name":"Yura Buyaroff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22044931,"answer_count":2,"score":0,"last_activity_date":1690967196,"creation_date":1393424871,"question_id":22044364,"body_markdown":"please, help me:\r\n\r\nI have next tables:\r\n\r\n**Unit**\r\n\r\n - id \r\n - name\r\n\r\n\r\n\r\n**User**\r\n\r\n - id \r\n - name\r\n\r\n\r\n\r\n**Rate**\r\n\r\n - unit_id\r\n - user_id\r\n\r\nI do not understand how to create correct structure of criteria from SQL:\r\n\r\nCode:\r\n\r\n    SELECT * FROM Unit WHERE id not in (SELECT unit_id FROM Rate WHERE user_id = 55);\r\n\r\nI saw [this][1] answer. But I do not understand how to make Condition linked to another Table (Entity).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12635404/hibernate-criteria-with-property-not-in-subquery","title":"Criteria (NOT IN)","body":"<p>please, help me:</p>\n\n<p>I have next tables:</p>\n\n<p><strong>Unit</strong></p>\n\n<ul>\n<li>id </li>\n<li>name</li>\n</ul>\n\n<p><strong>User</strong></p>\n\n<ul>\n<li>id </li>\n<li>name</li>\n</ul>\n\n<p><strong>Rate</strong></p>\n\n<ul>\n<li>unit_id</li>\n<li>user_id</li>\n</ul>\n\n<p>I do not understand how to create correct structure of criteria from SQL:</p>\n\n<p>Code:</p>\n\n<pre><code>SELECT * FROM Unit WHERE id not in (SELECT unit_id FROM Rate WHERE user_id = 55);\n</code></pre>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/12635404/hibernate-criteria-with-property-not-in-subquery\">this</a> answer. But I do not understand how to make Condition linked to another Table (Entity).</p>\n"},{"tags":["java","android","firebase","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":6192064,"reputation":174,"user_id":4824516,"display_name":"Ferenziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690967085,"creation_date":1690967085,"answer_id":76818262,"question_id":72644633,"body_markdown":"Might be late to the party here but I had the same issue and there seems to be some conflicting references to the ListenableFuture class. Solved this by adding a &quot;direct&quot; reference to Kotlinx Coroutines Guava in gradle (app):\r\n\r\n    implementation (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.2&quot;)\r\n\r\nThis seems to solve the conflict by saying &quot;use ListenableFuture from this dependency&quot; ish. Hopefully this works for you as well!\r\n","title":"How to resolve error Cannot resolve &#39;ListenableFuture&#39; after adding com.google.gms:google-services:4.3.10","body":"<p>Might be late to the party here but I had the same issue and there seems to be some conflicting references to the ListenableFuture class. Solved this by adding a &quot;direct&quot; reference to Kotlinx Coroutines Guava in gradle (app):</p>\n<pre><code>implementation (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.2&quot;)\n</code></pre>\n<p>This seems to solve the conflict by saying &quot;use ListenableFuture from this dependency&quot; ish. Hopefully this works for you as well!</p>\n"}],"owner":{"account_id":1486568,"reputation":3481,"user_id":1394710,"accept_rate":60,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690967085,"creation_date":1655376655,"question_id":72644633,"body_markdown":"After adding com.google.gms:google-services below, I am getting an error that ListenableFuture cannot be found.\r\n\r\nI&#39;m using a method in a class in androidx.camera.lifecycle, which returns a ListenableFuture, so I&#39;m guessing &#39;com.google.gms:google-services:4.3.10&#39; and &quot;androidx.camera:camera-view:${camerax_version}&quot; are using conflicting versions of ListenableFuture.\r\n\r\nHow do I best resolve this?\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;com.google.mlkit:barcode-scanning:17.0.2&#39;\r\n    \r\n        def camerax_version = &quot;1.2.0-alpha02&quot;\r\n    \r\n        implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\r\n    \r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.4.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.4.2&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }","title":"How to resolve error Cannot resolve &#39;ListenableFuture&#39; after adding com.google.gms:google-services:4.3.10","body":"<p>After adding com.google.gms:google-services below, I am getting an error that ListenableFuture cannot be found.</p>\n<p>I'm using a method in a class in androidx.camera.lifecycle, which returns a ListenableFuture, so I'm guessing 'com.google.gms:google-services:4.3.10' and &quot;androidx.camera:camera-view:${camerax_version}&quot; are using conflicting versions of ListenableFuture.</p>\n<p>How do I best resolve this?</p>\n<pre><code>dependencies {\n\n    implementation 'com.google.gms:google-services:4.3.10'\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'com.google.mlkit:barcode-scanning:17.0.2'\n\n    def camerax_version = &quot;1.2.0-alpha02&quot;\n\n    implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\n\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.4.2'\n    implementation 'androidx.navigation:navigation-ui:2.4.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","workflow","jbpm","activiti"],"answers":[{"tags":[],"owner":{"account_id":1042115,"reputation":1249,"user_id":1047937,"accept_rate":71,"display_name":"dgmora"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1358944587,"creation_date":1358944587,"answer_id":14479916,"question_id":14474294,"body_markdown":"This really depends on your requirements. First, see if you really need a workflow engine ([this][1] or other sources). Unless you really need it, probably you should avoid it.\r\n\r\nIf you really need what provides a workflow engine, I would pick one that is already built. People who works with jbpm or activiti have much more experience than you in building workflow engines, so it is probably already tunned to improve performance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2353564/what-problems-have-you-solved-using-a-workflow-engine","title":"Lightweight workflow engine for Java","body":"<p>This really depends on your requirements. First, see if you really need a workflow engine (<a href=\"https://stackoverflow.com/questions/2353564/what-problems-have-you-solved-using-a-workflow-engine\">this</a> or other sources). Unless you really need it, probably you should avoid it.</p>\n\n<p>If you really need what provides a workflow engine, I would pick one that is already built. People who works with jbpm or activiti have much more experience than you in building workflow engines, so it is probably already tunned to improve performance.</p>\n"},{"comments":[{"owner":{"account_id":153624,"reputation":4457,"user_id":368999,"accept_rate":88,"display_name":"jaks"},"score":0,"creation_date":1359962886,"post_id":14525641,"comment_id":20526696,"body_markdown":"@sallaboy Yes. That is the confusion. What will be the performance overhead when using jBPM5 compared to own GOP framework which you explained in jBPM 3.2 Developer guide? Is jBPM twice slow? I dont need much functionalities provided by BPM engines. My need is simple statemachine based task execution.","body":"@sallaboy Yes. That is the confusion. What will be the performance overhead when using jBPM5 compared to own GOP framework which you explained in jBPM 3.2 Developer guide? Is jBPM twice slow? I dont need much functionalities provided by BPM engines. My need is simple statemachine based task execution."},{"owner":{"account_id":385948,"reputation":4123,"user_id":743419,"display_name":"salaboy"},"score":0,"creation_date":1360230808,"post_id":14525641,"comment_id":20638920,"body_markdown":"If you are not planning to have long persistent business (high level processes) you can use simple frameworks. the GOP example was just a demonstration about how the internals of JBPM 3.x were created, but frameworks are usually more robust. If you are not using persistence and you don&#39;t need real time responses (less than 10ms) you are ok with jBPM5","body":"If you are not planning to have long persistent business (high level processes) you can use simple frameworks. the GOP example was just a demonstration about how the internals of JBPM 3.x were created, but frameworks are usually more robust. If you are not using persistence and you don&#39;t need real time responses (less than 10ms) you are ok with jBPM5"}],"tags":[],"owner":{"account_id":385948,"reputation":4123,"user_id":743419,"display_name":"salaboy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359130101,"creation_date":1359130101,"answer_id":14525641,"question_id":14474294,"body_markdown":"Yes, in my perspective there is no reason why you should write your own. Most of the Open Source BPM/Workflow frameworks are extremely flexible, you just need to learn the basics. \r\nIf you choose jBPM you will get much more than a simple workflow engine, so it depends what are you trying to build.\r\n\r\nCheers","title":"Lightweight workflow engine for Java","body":"<p>Yes, in my perspective there is no reason why you should write your own. Most of the Open Source BPM/Workflow frameworks are extremely flexible, you just need to learn the basics. \nIf you choose jBPM you will get much more than a simple workflow engine, so it depends what are you trying to build.</p>\n\n<p>Cheers</p>\n"},{"comments":[{"owner":{"account_id":4986362,"reputation":1301,"user_id":4009861,"display_name":"Alec McGail"},"score":1,"creation_date":1453140587,"post_id":14829534,"comment_id":57461876,"body_markdown":"the last link is broken","body":"the last link is broken"}],"tags":[],"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1453374217,"creation_date":1360662174,"answer_id":14829534,"question_id":14474294,"body_markdown":"I agree with the guys that already posted responses here, or part of their responses anyway :P, but as here in the company where I am currently working we had a similar challenge I took the liberty of adding my opinion, based on our experience.\r\n\r\nWe needed to migrate an application that was using the jBPM workflow engine in a production related applications and as there were quite a few challenges in maintaining the application we decided to see if there are better options on the market. We came to the list already mentioned:\r\n\r\n - [Activiti][1] (planned to try it through a prototype)\r\n - [Bonita][2] (planned to try it through a prototype)  \r\n - [jBPM][3] (disqualified due to past experience)\r\n\r\nWe decided not to use jBPM anymore as our initial experience with it was not the best, besides this the backwards compatibility was broken with every new version that was released.\r\n\r\nFinally the solution that we used, was to develop a lightweight workflow engine, based on annotations having activities and processes as abstractions. It was more or less a state machine that did it&#39;s job.\r\n\r\nAnother point that is worth mentioning when discussing about workflow engine is the fact they are dependent on the backing DB - it was the case with the two workflow engines I have experience with ([SAG webMethods][4] and [jPBM][5]) - and from my experience that was a little bit of an overhead especially during migrations between versions.\r\n\r\nSo, I would say that using an workflow engine is entitled only for applications that would really benefit from it and where most of the workflow of the applications is spinning around the workflow itself otherwise there are better tools for the job:\r\n\r\n - wizards ([Spring Web Flow][6])\r\n - self built [state machines][7]\r\n\r\nRegarding state machines, I came across [this][8] response that contains a rather complete collection of state machine java frameworks.\r\n\r\n\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: http://www.activiti.org\r\n  [2]: http://www.bonitasoft.com\r\n  [3]: http://www.jboss.org/jbpm/\r\n  [4]: http://www.softwareag.com/corporate/products/wm/default.asp\r\n  [5]: http://www.jboss.org/jbpm/\r\n  [6]: http://projects.spring.io/spring-webflow/\r\n  [7]: http://en.wikipedia.org/wiki/Finite-state_machine\r\n  [8]: https://stackoverflow.com/questions/25581176/java-enum-based-state-machine-fsm-passing-in-events","title":"Lightweight workflow engine for Java","body":"<p>I agree with the guys that already posted responses here, or part of their responses anyway :P, but as here in the company where I am currently working we had a similar challenge I took the liberty of adding my opinion, based on our experience.</p>\n\n<p>We needed to migrate an application that was using the jBPM workflow engine in a production related applications and as there were quite a few challenges in maintaining the application we decided to see if there are better options on the market. We came to the list already mentioned:</p>\n\n<ul>\n<li><a href=\"http://www.activiti.org\" rel=\"noreferrer\">Activiti</a> (planned to try it through a prototype)</li>\n<li><a href=\"http://www.bonitasoft.com\" rel=\"noreferrer\">Bonita</a> (planned to try it through a prototype)  </li>\n<li><a href=\"http://www.jboss.org/jbpm/\" rel=\"noreferrer\">jBPM</a> (disqualified due to past experience)</li>\n</ul>\n\n<p>We decided not to use jBPM anymore as our initial experience with it was not the best, besides this the backwards compatibility was broken with every new version that was released.</p>\n\n<p>Finally the solution that we used, was to develop a lightweight workflow engine, based on annotations having activities and processes as abstractions. It was more or less a state machine that did it's job.</p>\n\n<p>Another point that is worth mentioning when discussing about workflow engine is the fact they are dependent on the backing DB - it was the case with the two workflow engines I have experience with (<a href=\"http://www.softwareag.com/corporate/products/wm/default.asp\" rel=\"noreferrer\">SAG webMethods</a> and <a href=\"http://www.jboss.org/jbpm/\" rel=\"noreferrer\">jPBM</a>) - and from my experience that was a little bit of an overhead especially during migrations between versions.</p>\n\n<p>So, I would say that using an workflow engine is entitled only for applications that would really benefit from it and where most of the workflow of the applications is spinning around the workflow itself otherwise there are better tools for the job:</p>\n\n<ul>\n<li>wizards (<a href=\"http://projects.spring.io/spring-webflow/\" rel=\"noreferrer\">Spring Web Flow</a>)</li>\n<li>self built <a href=\"http://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"noreferrer\">state machines</a></li>\n</ul>\n\n<p>Regarding state machines, I came across <a href=\"https://stackoverflow.com/questions/25581176/java-enum-based-state-machine-fsm-passing-in-events\">this</a> response that contains a rather complete collection of state machine java frameworks.</p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":0,"creation_date":1403850859,"post_id":23809642,"comment_id":37826358,"body_markdown":"how would you build a state machine on top of ant?","body":"how would you build a state machine on top of ant?"},{"owner":{"account_id":276319,"reputation":874,"user_id":569691,"accept_rate":20,"display_name":"Rohitdev"},"score":0,"creation_date":1403853729,"post_id":23809642,"comment_id":37827695,"body_markdown":"Ant is a pure task execution engine with conditional workflows &amp; dynamic decision making capabilities.So when i say task that&#39;s the state of a system.","body":"Ant is a pure task execution engine with conditional workflows &amp; dynamic decision making capabilities.So when i say task that&#39;s the state of a system."}],"tags":[],"owner":{"account_id":276319,"reputation":874,"user_id":569691,"accept_rate":20,"display_name":"Rohitdev"},"comment_count":2,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1688843105,"creation_date":1400768739,"answer_id":23809642,"question_id":14474294,"body_markdown":"You can look @ Apache Ant to build a workflow engine.Its much more robust and is a pure state-machine with most of the requirements needed already built in.\r\n\r\nApart from that you can also embed different dynamic code/scripts in Java/Groovy/JS language and hence that makes it very powerful. Also it allows tasks extension.\r\n\r\nThere is some fair amount of tooling around it or you can build on top of it if a IDE is needed.\r\n\r\nUpdate : Spring state machine is also available which is relatively light weight and not bloated : https://projects.spring.io/spring-statemachine/","title":"Lightweight workflow engine for Java","body":"<p>You can look @ Apache Ant to build a workflow engine.Its much more robust and is a pure state-machine with most of the requirements needed already built in.</p>\n<p>Apart from that you can also embed different dynamic code/scripts in Java/Groovy/JS language and hence that makes it very powerful. Also it allows tasks extension.</p>\n<p>There is some fair amount of tooling around it or you can build on top of it if a IDE is needed.</p>\n<p>Update : Spring state machine is also available which is relatively light weight and not bloated : <a href=\"https://projects.spring.io/spring-statemachine/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-statemachine/</a></p>\n"},{"comments":[{"owner":{"account_id":254817,"reputation":28628,"user_id":534471,"accept_rate":92,"display_name":"Emanuel Moecklin"},"score":2,"creation_date":1457153941,"post_id":32567493,"comment_id":59289391,"body_markdown":"Bonita is licensed under the GPL V2 while Activiti is licensed under Apache 2.0 so if you write commercial software you can use Activiti but not Bonita.","body":"Bonita is licensed under the GPL V2 while Activiti is licensed under Apache 2.0 so if you write commercial software you can use Activiti but not Bonita."}],"tags":[],"owner":{"account_id":2769779,"reputation":1589,"user_id":2384597,"accept_rate":88,"display_name":"Ben"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1471391950,"creation_date":1442241247,"answer_id":32567493,"question_id":14474294,"body_markdown":"Java based workflow engines like Activiti, Bonita or jBPM support a wide range of the BPMN 2.0 specification. Therefore, you can model processes in a graphical way. In addition, some of those engines have simulation capabilities like Activiti (with Activiti Crystalball). If you code the processes on your own, you aren&#180;t as flexible when you need to change the process. Therefore, I would also advice to use a java based BPM engine. \r\n\r\nI did a research concerning BPMN 2.0 based Open Source Engines. Here are the key-points which were relevant for our concrete use case:\r\n\r\n**1. Bonita:**\r\n\r\nBonita has a zero-coding approach which means that they provide an easy to use IDE to build your processes without the need for coding. To achieve that, Bonita has the concept of connectors. For example, if you want to consume a web service, they provide you with a graphical wizzard. The downside is that you have to write the plain XML SOAP-envelope manually and copy it in a graphical textbox. The problem with this approach is that you only can realize use cases which are intended by Bonita. If you want to integrate a system which Bonita did not developed a connector for, you have to code such a connector on your own which is very painful. For example, Bonita offers a SOAP connector for consuming SOAP web services. This connector only works with SOAP 1.2, but not for SOAP 1.1 (http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector). If you have a legacy application with SOAP 1.1, you cannot integrate this system easily in your process. The same is true for databases. There are only a few database connectors for dedicated database versions. If you have a version not matching to a connector, you have to code this on your own.\r\n\r\nIn addition, Bonita has no support for LDAP or Active Directory Sync in the free community edition which is quite a showstopper for a production environment. Another thing to consider is that Bonita is licensed under the GPL / LGPL license which could cause problems when you want to integrate Bonita in another enterprise application. In addition, the community support is very weak. There are several posts which are more than 2 years old and those posts are still not answered.\r\n\r\nAnother important thing is Business-IT-Alignment. Modelling processes is a collaborative discipline in which IT AND the business analysts are involed. That is why you need adequate tools for both user groups (e.g. an Eclipse Plugin for the developers and an easy to use web modeler for the business people). Bonita only offers Bonita Studio, which needs to be installed on your machine. This IDE is quite technical and not suitable for business users. Therefore, it is very hard to realize Business-IT-Alignment with Bonita.\r\n\r\nBonita is a BPM tool for very trivial and easy processes. Because of the zero-coding approach, the lerning curve is very low and you can start modelling very fast. You need less programming skills and you are able to realize your processes without the need of coding. But as soon as your processes become very complex, Bonita might not be the best solution because of the lack of flexibility. You only can realize use cases which are intended by Bonita.\r\n\r\n**2. jBPM:**\r\n\r\njBPM is a very powerful Open Source BPM Engine which has a lot of features. The web modeler even supports prefabricated models of some van der Aalst workflow patterns (workflowpatterns.com). Business-IT-Alignment is realizable because jBPM offers an Eclipse integration as well as a web-based modeler. A bit tricky is that you only can define forms in the web modeler, but not in the Eclipse Plugin, as far as I know. To sum up, jBPM is a good candidate for using in a company. Our showstopper was the scalability. jBPM is based on the Rules-Engine Drools. This leads to the fact that whole process instances are persisted as BLOBS in the database. This is a critial showstopper when you consider searching and scalability.\r\n\r\nIn addition, the learning curve is very high because of the complexity. jBPM does not offer a Service Task like the BPMN-Standard suggests In contrast, you have to define your own Java Service tasks and you have to register them manually in the engine, which results in quite low level programming.\r\n\r\n**3. Activiti:**\r\n\r\nIn the end, we went with Activiti because this is a very easy to use framework-based engine. It offers an Eclipse Plugin as well as a modern AngularJS Web-Modeler. In this way, you can realize Business-IT-Alignment. The REST-API is secured by Spring Security which means that you can extend the Engine very easily with Single Sign-on features. Because of the Apache License 2.0, there is no copyleft which means you are completely free in terms of usage and extensibility which is very important in a productive environment.\r\n\r\nIn addition, the BPMN-coverage is very good. Not all BPMN-elements are realized, but I do not know any engine which does that.\r\n\r\nThe Activiti Explorer is a demo frontend which demonstrates the usage of the Activiti APIs. Since this frontend is based on VAADIN, it can be extended very easily. The community is very active which means that you can get help very fast if you have any problems.\r\n\r\nActiviti offers good integration points for external form-technologies which is very important for a productive usage. The form-technologies of all candidates are very restrictive. Therefore, it makes sense to use a standard form-technology like XForms in combination with the Engine. Even such more complex things are realizable via the formKey-Attribute.\r\n\r\nActiviti does not follow the zero-coding approach which means that you will need a bit of coding if you want to orchestrate services. But even the communication with SOAP services can be achieved by using a Java Service Task and Apache CXF. The coding effort is low.\r\n\r\nI hope that my key points can help by taking a decision. To be clear, this is no advertisment for Activiti. The right product choice depends on the concrete use cases. I only want to point out the most important points in our project","title":"Lightweight workflow engine for Java","body":"<p>Java based workflow engines like Activiti, Bonita or jBPM support a wide range of the BPMN 2.0 specification. Therefore, you can model processes in a graphical way. In addition, some of those engines have simulation capabilities like Activiti (with Activiti Crystalball). If you code the processes on your own, you aren´t as flexible when you need to change the process. Therefore, I would also advice to use a java based BPM engine. </p>\n\n<p>I did a research concerning BPMN 2.0 based Open Source Engines. Here are the key-points which were relevant for our concrete use case:</p>\n\n<p><strong>1. Bonita:</strong></p>\n\n<p>Bonita has a zero-coding approach which means that they provide an easy to use IDE to build your processes without the need for coding. To achieve that, Bonita has the concept of connectors. For example, if you want to consume a web service, they provide you with a graphical wizzard. The downside is that you have to write the plain XML SOAP-envelope manually and copy it in a graphical textbox. The problem with this approach is that you only can realize use cases which are intended by Bonita. If you want to integrate a system which Bonita did not developed a connector for, you have to code such a connector on your own which is very painful. For example, Bonita offers a SOAP connector for consuming SOAP web services. This connector only works with SOAP 1.2, but not for SOAP 1.1 (<a href=\"http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector\" rel=\"noreferrer\">http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector</a>). If you have a legacy application with SOAP 1.1, you cannot integrate this system easily in your process. The same is true for databases. There are only a few database connectors for dedicated database versions. If you have a version not matching to a connector, you have to code this on your own.</p>\n\n<p>In addition, Bonita has no support for LDAP or Active Directory Sync in the free community edition which is quite a showstopper for a production environment. Another thing to consider is that Bonita is licensed under the GPL / LGPL license which could cause problems when you want to integrate Bonita in another enterprise application. In addition, the community support is very weak. There are several posts which are more than 2 years old and those posts are still not answered.</p>\n\n<p>Another important thing is Business-IT-Alignment. Modelling processes is a collaborative discipline in which IT AND the business analysts are involed. That is why you need adequate tools for both user groups (e.g. an Eclipse Plugin for the developers and an easy to use web modeler for the business people). Bonita only offers Bonita Studio, which needs to be installed on your machine. This IDE is quite technical and not suitable for business users. Therefore, it is very hard to realize Business-IT-Alignment with Bonita.</p>\n\n<p>Bonita is a BPM tool for very trivial and easy processes. Because of the zero-coding approach, the lerning curve is very low and you can start modelling very fast. You need less programming skills and you are able to realize your processes without the need of coding. But as soon as your processes become very complex, Bonita might not be the best solution because of the lack of flexibility. You only can realize use cases which are intended by Bonita.</p>\n\n<p><strong>2. jBPM:</strong></p>\n\n<p>jBPM is a very powerful Open Source BPM Engine which has a lot of features. The web modeler even supports prefabricated models of some van der Aalst workflow patterns (workflowpatterns.com). Business-IT-Alignment is realizable because jBPM offers an Eclipse integration as well as a web-based modeler. A bit tricky is that you only can define forms in the web modeler, but not in the Eclipse Plugin, as far as I know. To sum up, jBPM is a good candidate for using in a company. Our showstopper was the scalability. jBPM is based on the Rules-Engine Drools. This leads to the fact that whole process instances are persisted as BLOBS in the database. This is a critial showstopper when you consider searching and scalability.</p>\n\n<p>In addition, the learning curve is very high because of the complexity. jBPM does not offer a Service Task like the BPMN-Standard suggests In contrast, you have to define your own Java Service tasks and you have to register them manually in the engine, which results in quite low level programming.</p>\n\n<p><strong>3. Activiti:</strong></p>\n\n<p>In the end, we went with Activiti because this is a very easy to use framework-based engine. It offers an Eclipse Plugin as well as a modern AngularJS Web-Modeler. In this way, you can realize Business-IT-Alignment. The REST-API is secured by Spring Security which means that you can extend the Engine very easily with Single Sign-on features. Because of the Apache License 2.0, there is no copyleft which means you are completely free in terms of usage and extensibility which is very important in a productive environment.</p>\n\n<p>In addition, the BPMN-coverage is very good. Not all BPMN-elements are realized, but I do not know any engine which does that.</p>\n\n<p>The Activiti Explorer is a demo frontend which demonstrates the usage of the Activiti APIs. Since this frontend is based on VAADIN, it can be extended very easily. The community is very active which means that you can get help very fast if you have any problems.</p>\n\n<p>Activiti offers good integration points for external form-technologies which is very important for a productive usage. The form-technologies of all candidates are very restrictive. Therefore, it makes sense to use a standard form-technology like XForms in combination with the Engine. Even such more complex things are realizable via the formKey-Attribute.</p>\n\n<p>Activiti does not follow the zero-coding approach which means that you will need a bit of coding if you want to orchestrate services. But even the communication with SOAP services can be achieved by using a Java Service Task and Apache CXF. The coding effort is low.</p>\n\n<p>I hope that my key points can help by taking a decision. To be clear, this is no advertisment for Activiti. The right product choice depends on the concrete use cases. I only want to point out the most important points in our project</p>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472508309,"creation_date":1472508309,"answer_id":39215903,"question_id":14474294,"body_markdown":"The question is what you really want to achieve when you asking for a workflow engine.\r\n\r\nThe general goal which you would like to achieve by using a workflow engine, is to become more flexible in changing your business logic during runtime. The modelling part is surely one of the most important here. BPMN 2.0 is a de-facto standard in this area and all of the discussed engines support this standard.\r\n\r\nThe second goal is to control the business process in the way of describing the *&#39;what should happen when...&#39;* questions. And this part has a lot to do with the business requirements you are confronted within your project.\r\n\r\nSome of the workflow engines ([Activity][1], [JBPM][2]) can help you to answer this requirement by &#39;coding&#39; your processes. This means that you model the *&#39;what should happen when..&#39;* paradigm in a way, where you decide which part of your code (e.g a task or an event) should be executed by the workflow engine in various situations. A lot of discussion is going about this concept. And developers naturally ask whether this may not even be implemented by themselves. (It is in fact not so easy as it seems at the first glance)\r\n\r\nSome other workflow engines ([Imixs-Workflow][3], [Bonita][4]) can help you to answer the *&#39;what should happen when...&#39;* requirement in a more user-centric way. This is the area of Human-centric business process management, which supports human skills and activities by a task orientated workflow-engine. The focus is more on the distribution of tasks and processes inside an organisation. The workflow engine helps you to distribute a task to a certain user or user group and to secure, log and monitor a long running business process. Maybe these are the things you do not really want to implement by yourself.\r\n\r\nSo my advice is, not to mix things that need to be considered separately, because workflow covers a very wide area.\r\n\r\n\r\n  [1]: http://www.activiti.org/\r\n  [2]: http://www.jbpm.org/\r\n  [3]: http://www.imixs.org\r\n  [4]: http://www.bonitasoft.com/","title":"Lightweight workflow engine for Java","body":"<p>The question is what you really want to achieve when you asking for a workflow engine.</p>\n\n<p>The general goal which you would like to achieve by using a workflow engine, is to become more flexible in changing your business logic during runtime. The modelling part is surely one of the most important here. BPMN 2.0 is a de-facto standard in this area and all of the discussed engines support this standard.</p>\n\n<p>The second goal is to control the business process in the way of describing the <em>'what should happen when...'</em> questions. And this part has a lot to do with the business requirements you are confronted within your project.</p>\n\n<p>Some of the workflow engines (<a href=\"http://www.activiti.org/\" rel=\"nofollow\">Activity</a>, <a href=\"http://www.jbpm.org/\" rel=\"nofollow\">JBPM</a>) can help you to answer this requirement by 'coding' your processes. This means that you model the <em>'what should happen when..'</em> paradigm in a way, where you decide which part of your code (e.g a task or an event) should be executed by the workflow engine in various situations. A lot of discussion is going about this concept. And developers naturally ask whether this may not even be implemented by themselves. (It is in fact not so easy as it seems at the first glance)</p>\n\n<p>Some other workflow engines (<a href=\"http://www.imixs.org\" rel=\"nofollow\">Imixs-Workflow</a>, <a href=\"http://www.bonitasoft.com/\" rel=\"nofollow\">Bonita</a>) can help you to answer the <em>'what should happen when...'</em> requirement in a more user-centric way. This is the area of Human-centric business process management, which supports human skills and activities by a task orientated workflow-engine. The focus is more on the distribution of tasks and processes inside an organisation. The workflow engine helps you to distribute a task to a certain user or user group and to secure, log and monitor a long running business process. Maybe these are the things you do not really want to implement by yourself.</p>\n\n<p>So my advice is, not to mix things that need to be considered separately, because workflow covers a very wide area.</p>\n"},{"tags":[],"owner":{"account_id":3213987,"reputation":315,"user_id":2713269,"accept_rate":78,"display_name":"Jan Guardian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493317755,"creation_date":1493317755,"answer_id":43665438,"question_id":14474294,"body_markdown":"I&#39;d recommend you yo use an out-of-the-box solution. Given that the development of a workflow engine requires a vast amount of resources and time, a ready-made engine is a better option. Have a look at [Workflow Engine][1]. It&#39;s a lightweight component that enables you to add custom executable workflows of any complexity to any Java solutions.\r\n\r\n\r\n  [1]: https://workflowengine.io/","title":"Lightweight workflow engine for Java","body":"<p>I'd recommend you yo use an out-of-the-box solution. Given that the development of a workflow engine requires a vast amount of resources and time, a ready-made engine is a better option. Have a look at <a href=\"https://workflowengine.io/\" rel=\"nofollow noreferrer\">Workflow Engine</a>. It's a lightweight component that enables you to add custom executable workflows of any complexity to any Java solutions.</p>\n"},{"comments":[{"owner":{"account_id":251574,"reputation":2671,"user_id":529065,"accept_rate":62,"display_name":"giannisapi"},"score":1,"creation_date":1631562163,"post_id":44935925,"comment_id":122250723,"body_markdown":"I had a look at it and it looks very promising, I will give it a try. Thank you","body":"I had a look at it and it looks very promising, I will give it a try. Thank you"}],"tags":[],"owner":{"account_id":2424487,"reputation":3103,"user_id":2116739,"accept_rate":25,"display_name":"okrunner"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499288525,"creation_date":1499288525,"answer_id":44935925,"question_id":14474294,"body_markdown":"I recently open sourced Piper (https://github.com/creactiviti/piper) a distributed and very light weight, Spring-based, workflow engine. ","title":"Lightweight workflow engine for Java","body":"<p>I recently open sourced Piper (<a href=\"https://github.com/creactiviti/piper\" rel=\"noreferrer\">https://github.com/creactiviti/piper</a>) a distributed and very light weight, Spring-based, workflow engine. </p>\n"},{"tags":[],"owner":{"account_id":2892394,"reputation":879,"user_id":2480869,"accept_rate":24,"display_name":"nomadus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511405919,"creation_date":1511405919,"answer_id":47446846,"question_id":14474294,"body_markdown":"I would like to add my comments. When you choose a ready engine, such as jBPM, Activity and others (there are plenty of them), then you have to spend some time learning the system itself, this may not be an easy task. Especially, when you need only to automate small piece of code.\r\n\r\nThen, when an issue occurs you have to deal with the vendor&#39;s support, which is not as speedy as you would imagine. Even pay for some consultancy. \r\n\r\nAnd, last, a most important reason, you have to develop in the ecosystem of the engine. Although, the vendors tend to say that their system are flexible to be incorporated into any systems, this may not be case. Eventually you end up re-writing your application to match with the BPM ecosystem.","title":"Lightweight workflow engine for Java","body":"<p>I would like to add my comments. When you choose a ready engine, such as jBPM, Activity and others (there are plenty of them), then you have to spend some time learning the system itself, this may not be an easy task. Especially, when you need only to automate small piece of code.</p>\n\n<p>Then, when an issue occurs you have to deal with the vendor's support, which is not as speedy as you would imagine. Even pay for some consultancy. </p>\n\n<p>And, last, a most important reason, you have to develop in the ecosystem of the engine. Although, the vendors tend to say that their system are flexible to be incorporated into any systems, this may not be case. Eventually you end up re-writing your application to match with the BPM ecosystem.</p>\n"},{"tags":[],"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586104475,"creation_date":1586104475,"answer_id":61045856,"question_id":14474294,"body_markdown":"CamundaBPM is one option.\r\nYou can check here:\r\nhttps://camunda.com/","title":"Lightweight workflow engine for Java","body":"<p>CamundaBPM is one option.\nYou can check here:\n<a href=\"https://camunda.com/\" rel=\"nofollow noreferrer\">https://camunda.com/</a></p>\n"},{"tags":[],"owner":{"account_id":13471718,"reputation":563,"user_id":9719998,"display_name":"Rajshree Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616659017,"creation_date":1616659017,"answer_id":66795277,"question_id":14474294,"body_markdown":"I also had to do the same in my work. I shortlisted Activiti, Camunda and jBPM as they&#39;re among the most powerful open source workflow engines in the industry and can handle complex enterprise processes. They&#39;re all under the terms of Apache License. \r\n\r\nActiviti was forked off jBPM while Camunda was forked off Activiti. \r\n\r\nIn terms of modeler, Activiti and jBPM have web based modelers and Camunda has a desktop modeler. Activiti and jBPM also provide Eclipse plugins while Camunda does not. Activiti and Camunda&#39;s modelers use the BPMN.IO toolkit. If you have a requirement to embed the workflow models in your webapp, you can checkout the following links \r\n - https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686\r\n - https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/\r\n - https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged\r\n\r\nIf you want spring support, your best bet is Camunda as Activiti mention in their docs that their Spring support is experimental and jBPM does not provide native spring support\r\n\r\n\r\nIn terms of developer friendliness, Activiti and Camunda have good documentation and active community to help you get started. I found Camunda&#39;s documentation really helpful. But, I&#39;ve heard jBPM&#39;s documentation is not helpful and that it is difficult to integrate.\r\n\r\nIn terms of performance, Camunda outruns Activiti and jBPM.\r\nThere is scientific evidence that the Camunda BPMN engine performs better than the Activiti engine. Camunda BPM 7 performs 10x better than JBoss jBPM 6. Hence, Camunda is the best choice from a performance view point.\r\n\r\nCamunda provides a higher BPMN coverage (almost full BPMN coverage) than Activiti. Contrary to Activiti and jBPM, Camunda has a robust persistence layer and provides advanced deadlock prevention. Whereas when using Activiti, intra process instance transactions still deadlock under high concurrency. \r\n\r\nCamunda BPM 7 strategically aims for “Developer-Friendliness”, whilst JBoss jBPM 6 strives for the “Zero-Code-BPM”-ideal. Camunda BPM 7 offers innovative, powerful features that are missing from JBoss jBPM 6 such as CMMN, cockpit and container-support. \r\n\r\nAs Camunda performs better than the two alternatives and has high usability, I recommend Camunda. \r\n\r\nI go the information through these sites, you can visit them\r\n\r\n- http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/\r\n- https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/\r\n- https://www.javatpoint.com/jbpm-vs-activiti\r\n- https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf\r\n- https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391\r\n","title":"Lightweight workflow engine for Java","body":"<p>I also had to do the same in my work. I shortlisted Activiti, Camunda and jBPM as they're among the most powerful open source workflow engines in the industry and can handle complex enterprise processes. They're all under the terms of Apache License.</p>\n<p>Activiti was forked off jBPM while Camunda was forked off Activiti.</p>\n<p>In terms of modeler, Activiti and jBPM have web based modelers and Camunda has a desktop modeler. Activiti and jBPM also provide Eclipse plugins while Camunda does not. Activiti and Camunda's modelers use the BPMN.IO toolkit. If you have a requirement to embed the workflow models in your webapp, you can checkout the following links</p>\n<ul>\n<li><a href=\"https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686\" rel=\"nofollow noreferrer\">https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686</a></li>\n<li><a href=\"https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/</a></li>\n<li><a href=\"https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged\" rel=\"nofollow noreferrer\">https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged</a></li>\n</ul>\n<p>If you want spring support, your best bet is Camunda as Activiti mention in their docs that their Spring support is experimental and jBPM does not provide native spring support</p>\n<p>In terms of developer friendliness, Activiti and Camunda have good documentation and active community to help you get started. I found Camunda's documentation really helpful. But, I've heard jBPM's documentation is not helpful and that it is difficult to integrate.</p>\n<p>In terms of performance, Camunda outruns Activiti and jBPM.\nThere is scientific evidence that the Camunda BPMN engine performs better than the Activiti engine. Camunda BPM 7 performs 10x better than JBoss jBPM 6. Hence, Camunda is the best choice from a performance view point.</p>\n<p>Camunda provides a higher BPMN coverage (almost full BPMN coverage) than Activiti. Contrary to Activiti and jBPM, Camunda has a robust persistence layer and provides advanced deadlock prevention. Whereas when using Activiti, intra process instance transactions still deadlock under high concurrency.</p>\n<p>Camunda BPM 7 strategically aims for “Developer-Friendliness”, whilst JBoss jBPM 6 strives for the “Zero-Code-BPM”-ideal. Camunda BPM 7 offers innovative, powerful features that are missing from JBoss jBPM 6 such as CMMN, cockpit and container-support.</p>\n<p>As Camunda performs better than the two alternatives and has high usability, I recommend Camunda.</p>\n<p>I go the information through these sites, you can visit them</p>\n<ul>\n<li><a href=\"http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/\" rel=\"nofollow noreferrer\">http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/</a></li>\n<li><a href=\"https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/\" rel=\"nofollow noreferrer\">https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/</a></li>\n<li><a href=\"https://www.javatpoint.com/jbpm-vs-activiti\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jbpm-vs-activiti</a></li>\n<li><a href=\"https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf\" rel=\"nofollow noreferrer\">https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf</a></li>\n<li><a href=\"https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391\" rel=\"nofollow noreferrer\">https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683239990,"creation_date":1683232207,"answer_id":76177176,"question_id":14474294,"body_markdown":"I found one interesting to check using branching and conditions between nodes/states. I tried it and works perfectly, and is very lightweight. The only problem is that I cannot find it on maven central repo. https://github.com/francudina/Generic-Workflow-Architecture","title":"Lightweight workflow engine for Java","body":"<p>I found one interesting to check using branching and conditions between nodes/states. I tried it and works perfectly, and is very lightweight. The only problem is that I cannot find it on maven central repo. <a href=\"https://github.com/francudina/Generic-Workflow-Architecture\" rel=\"nofollow noreferrer\">https://github.com/francudina/Generic-Workflow-Architecture</a></p>\n"},{"tags":[],"owner":{"account_id":11737303,"reputation":320,"user_id":8590653,"display_name":"Julien Laurenceau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966959,"creation_date":1690966959,"answer_id":76818245,"question_id":14474294,"body_markdown":"EasyFlows seems very good, but the project seems idle since 3 years.\r\nIt&#39;s simple and does the job.\r\nNo DB needed as it is not a distributed framework\r\n\r\nhttps://github.com/j-easy/easy-flows","title":"Lightweight workflow engine for Java","body":"<p>EasyFlows seems very good, but the project seems idle since 3 years.\nIt's simple and does the job.\nNo DB needed as it is not a distributed framework</p>\n<p><a href=\"https://github.com/j-easy/easy-flows\" rel=\"nofollow noreferrer\">https://github.com/j-easy/easy-flows</a></p>\n"}],"owner":{"account_id":153624,"reputation":4457,"user_id":368999,"accept_rate":88,"display_name":"jaks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125447,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":14479916,"answer_count":13,"score":48,"last_activity_date":1690966959,"creation_date":1358925209,"question_id":14474294,"body_markdown":"Is it better to write a new workflow engine or to use an existing BPM engine: jBPM 5, Activiti 5?\r\n\r\nMy application is a web based application and performance is important. My doubt is whether using jBPM/Activiti will be a performance overhead compared to writing a simple workflow engine.\r\n\r\nIf I go with self implementation, I will miss visualization of workflow. For performance it can be traded.\r\n","title":"Lightweight workflow engine for Java","body":"<p>Is it better to write a new workflow engine or to use an existing BPM engine: jBPM 5, Activiti 5?</p>\n\n<p>My application is a web based application and performance is important. My doubt is whether using jBPM/Activiti will be a performance overhead compared to writing a simple workflow engine.</p>\n\n<p>If I go with self implementation, I will miss visualization of workflow. For performance it can be traded.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1690965211,"post_id":76817247,"comment_id":135424877,"body_markdown":"This model class is incomplete, I guess. Somwhere a static volatile field was defined. Please edit question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others.","body":"This model class is incomplete, I guess. Somwhere a static volatile field was defined. Please edit question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":0,"creation_date":1690966989,"post_id":76817247,"comment_id":135425235,"body_markdown":"It is not incomplete. The only thing that changes from my real class is that I override toString method (I edited the  sample code to add it) and that getSomethingNotInDB() has another name and another return content. But I tried to run the Application without both methods and without the constructor with arguments, and the same exception is thrown.","body":"It is not incomplete. The only thing that changes from my real class is that I override toString method (I edited the  sample code to add it) and that getSomethingNotInDB() has another name and another return content. But I tried to run the Application without both methods and without the constructor with arguments, and the same exception is thrown."},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":0,"creation_date":1690967489,"post_id":76817247,"comment_id":135425351,"body_markdown":"What&#39;s more, I tried a simplifier class with only id field (no constructor declared, no other fields and methods) and the same exception is thrown","body":"What&#39;s more, I tried a simplifier class with only id field (no constructor declared, no other fields and methods) and the same exception is thrown"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966860,"creation_date":1690958843,"question_id":76817247,"body_markdown":"I am using Hibernate 6.2.7 and I&#39;m getting and Exception with this class mapping:\r\n```\r\n@Entity\r\n@Table(name=&quot;Departamento&quot;)\r\npublic class Departamento implements Modelo&lt;Departamento&gt;{\r\n\tprivate IntegerProperty id = new SimpleIntegerProperty();\r\n\tprivate StringProperty nombre = new SimpleStringProperty(&quot;&quot;);\r\n    public Departamento() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Departamento(Departamento departamento) {\r\n\t\tif(departamento != null) {\r\n\t\t\tsetId(departamento.getId());\r\n\t\t\tsetNombre(departamento.getNombre());\r\n\t\t}\r\n\t}\r\n\t@Id\r\n\t@GeneratedValue(generator=&quot;increment&quot;)\r\n\t@GenericGenerator(name = &quot;increment&quot;, type = IncrementGenerator.class)\r\n\tpublic int getId() {\r\n\t\treturn id.get();\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id.set(id);\r\n\t}\r\n\tpublic IntegerProperty idProperty() {\r\n\t\treturn id;\r\n\t}\r\n\t@Column(name=&quot;nombre&quot;)\r\n\tpublic String getNombre() {\r\n\t\treturn nombre.get();\r\n\t}\r\n\tpublic void setNombre(String nombre) {\r\n\t\tthis.nombre.set(nombre);\r\n\t}\r\n\tpublic StringProperty nombreProperty() {\r\n\t\treturn nombre;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn getNombre();\r\n\t}\t\r\n\t@Transient\r\n\tpublic String getSomethingNotInDB() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n}\r\n```\r\nWhen running the application this Exception is thrown:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:103)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:247)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:185)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:205)\r\n\tat com.bachiller.calendario/com.bachiller.calendario.modules.CalendarioModule.&lt;init&gt;(CalendarioModule.java:74)\r\n\tat com.bachiller.calendario/com.bachiller.calendario.App.start(App.java:29)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static volatile java.util.concurrent.Callable com.bachiller.calendario.model.Departamento$HibernateAccessOptimizer$aSJtlre5.invocationTarget$eaok5k0 accessible: module com.bachiller.calendario does not &quot;exports com.bachiller.calendario.model&quot; to unnamed module @14a2f921\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:49)\r\n\tat net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:28)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.doPrivileged(LoadedTypeInitializer.java)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:168)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:146)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.getReflectionOptimizer(BytecodeProviderImpl.java:242)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.resolveReflectionOptimizer(EntityRepresentationStrategyPojoStandard.java:293)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.&lt;init&gt;(EntityRepresentationStrategyPojoStandard.java:161)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.ManagedTypeRepresentationResolverStandard.resolveStrategy(ManagedTypeRepresentationResolverStandard.java:62)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:509)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:140)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\r\n\t... 18 more\r\nException running application com.bachiller.calendario.App\r\n```\r\n\r\nI tried to remove @Transient annotation, and the constructor with arguments but it seems they are not the problem.\r\nAny idea on why is this happening and how to solve it?\r\nThank you","title":"Hibernate Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister","body":"<p>I am using Hibernate 6.2.7 and I'm getting and Exception with this class mapping:</p>\n<pre><code>@Entity\n@Table(name=&quot;Departamento&quot;)\npublic class Departamento implements Modelo&lt;Departamento&gt;{\n    private IntegerProperty id = new SimpleIntegerProperty();\n    private StringProperty nombre = new SimpleStringProperty(&quot;&quot;);\n    public Departamento() {\n        \n    }\n    \n    public Departamento(Departamento departamento) {\n        if(departamento != null) {\n            setId(departamento.getId());\n            setNombre(departamento.getNombre());\n        }\n    }\n    @Id\n    @GeneratedValue(generator=&quot;increment&quot;)\n    @GenericGenerator(name = &quot;increment&quot;, type = IncrementGenerator.class)\n    public int getId() {\n        return id.get();\n    }\n    public void setId(int id) {\n        this.id.set(id);\n    }\n    public IntegerProperty idProperty() {\n        return id;\n    }\n    @Column(name=&quot;nombre&quot;)\n    public String getNombre() {\n        return nombre.get();\n    }\n    public void setNombre(String nombre) {\n        this.nombre.set(nombre);\n    }\n    public StringProperty nombreProperty() {\n        return nombre;\n    }\n    @Override\n    public String toString() {\n        return getNombre();\n    }   \n    @Transient\n    public String getSomethingNotInDB() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>When running the application this Exception is thrown:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:103)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:247)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:185)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:205)\n    at com.bachiller.calendario/com.bachiller.calendario.modules.CalendarioModule.&lt;init&gt;(CalendarioModule.java:74)\n    at com.bachiller.calendario/com.bachiller.calendario.App.start(App.java:29)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static volatile java.util.concurrent.Callable com.bachiller.calendario.model.Departamento$HibernateAccessOptimizer$aSJtlre5.invocationTarget$eaok5k0 accessible: module com.bachiller.calendario does not &quot;exports com.bachiller.calendario.model&quot; to unnamed module @14a2f921\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:49)\n    at net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:28)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.doPrivileged(LoadedTypeInitializer.java)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:168)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:146)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.getReflectionOptimizer(BytecodeProviderImpl.java:242)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.resolveReflectionOptimizer(EntityRepresentationStrategyPojoStandard.java:293)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.&lt;init&gt;(EntityRepresentationStrategyPojoStandard.java:161)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.ManagedTypeRepresentationResolverStandard.resolveStrategy(ManagedTypeRepresentationResolverStandard.java:62)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:509)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:140)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\n    ... 18 more\nException running application com.bachiller.calendario.App\n</code></pre>\n<p>I tried to remove @Transient annotation, and the constructor with arguments but it seems they are not the problem.\nAny idea on why is this happening and how to solve it?\nThank you</p>\n"},{"tags":["java","hibernate","jpa-2.1","optimistic-locking"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1691528992,"post_id":76818205,"comment_id":135503407,"body_markdown":"can you share https://stackoverflow.com/help/minimal-reproducible-example","body":"can you share <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966674,"creation_date":1690966674,"question_id":76818205,"body_markdown":"I&#39;ve got an issue with optimistic locking (Hibernate over JPA 2) with two entities relationship : \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;produit&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Produit extends AbstractData implements IdNomCode, VersionableEntity {\r\n    \r\n    @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;produit&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;ProduitOrdreGroupementGaranties&gt; produitOrdreGroupementGaranties = new HashSet&lt;&gt;();\r\n    \r\n     @Version\r\n        private int version;\r\n    \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;produit_ordre_groupement_garanties&quot;,\r\n            uniqueConstraints = {@UniqueConstraint(name = &quot;uk_id_produit_id_groupement_garanties&quot;, columnNames = {&quot;id_produit&quot;, &quot;id_groupement_garanties&quot;}),\r\n                    @UniqueConstraint(name = &quot;uk_id_produit_ordre&quot;, columnNames = {&quot;id_produit&quot;, &quot;ordre&quot;})})\r\n    public class ProduitOrdreGroupementGaranties extends AbstractData implements VersionableEntity {\r\n    \r\n     @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n     @ManyToOne\r\n        @JoinColumn(name = &quot;id_produit&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name = &quot;fk_produit_ordre_groupement_garanties_produit&quot;), insertable = false, updatable = false)\r\n        private Produit produit;\r\n    \r\n     @Version\r\n        private int version;\r\n    \r\n    }\r\n\r\nIf I do a instruction like : \r\n\r\n    myProduct.getProduitOrdreGroupementGaranties().remove(0);\r\n    productDAO.merge(myProduct);\r\n\r\nWhat it does, is that a silent SQL delete is done by Hibernate like this : \r\n\r\n    DELETE from produit_ordre_groupement_garanties where id = ? and version = ?\r\n\r\nWhat is OK, but the problem is that it doesn&#39;t care the version of the entity to delete, because it is always 0. I was expecting a code like this should work  :\r\n\r\n    ProduitOrdreGroupementGaranties toDelete = myProduct.getProduitOrdreGroupementGaranties().get(0);\r\n    toDelete.setVersion(Integer_MIN_VALUE) // a wrong version explicitly to cause CONFLICT!\r\n    myProduct.getProduitOrdreGroupementGaranties().remove(0);\r\n    productDAO.merge(myProduct); // The silent SQL delete, should set in the query version = Integer_MIN_VALUE instead of 0.\r\n\r\nBut It doesn&#39;t work more, version is always 0. JPA bug ?\r\n\r\nThx.","title":"JPA : Optimistic locking AND orphanRemoval = true , compatible?","body":"<p>I've got an issue with optimistic locking (Hibernate over JPA 2) with two entities relationship :</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;produit&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Produit extends AbstractData implements IdNomCode, VersionableEntity {\n\n@Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n@OneToMany(mappedBy = &quot;produit&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProduitOrdreGroupementGaranties&gt; produitOrdreGroupementGaranties = new HashSet&lt;&gt;();\n\n @Version\n    private int version;\n\n}\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;produit_ordre_groupement_garanties&quot;,\n        uniqueConstraints = {@UniqueConstraint(name = &quot;uk_id_produit_id_groupement_garanties&quot;, columnNames = {&quot;id_produit&quot;, &quot;id_groupement_garanties&quot;}),\n                @UniqueConstraint(name = &quot;uk_id_produit_ordre&quot;, columnNames = {&quot;id_produit&quot;, &quot;ordre&quot;})})\npublic class ProduitOrdreGroupementGaranties extends AbstractData implements VersionableEntity {\n\n @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n @ManyToOne\n    @JoinColumn(name = &quot;id_produit&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name = &quot;fk_produit_ordre_groupement_garanties_produit&quot;), insertable = false, updatable = false)\n    private Produit produit;\n\n @Version\n    private int version;\n\n}\n</code></pre>\n<p>If I do a instruction like :</p>\n<pre><code>myProduct.getProduitOrdreGroupementGaranties().remove(0);\nproductDAO.merge(myProduct);\n</code></pre>\n<p>What it does, is that a silent SQL delete is done by Hibernate like this :</p>\n<pre><code>DELETE from produit_ordre_groupement_garanties where id = ? and version = ?\n</code></pre>\n<p>What is OK, but the problem is that it doesn't care the version of the entity to delete, because it is always 0. I was expecting a code like this should work  :</p>\n<pre><code>ProduitOrdreGroupementGaranties toDelete = myProduct.getProduitOrdreGroupementGaranties().get(0);\ntoDelete.setVersion(Integer_MIN_VALUE) // a wrong version explicitly to cause CONFLICT!\nmyProduct.getProduitOrdreGroupementGaranties().remove(0);\nproductDAO.merge(myProduct); // The silent SQL delete, should set in the query version = Integer_MIN_VALUE instead of 0.\n</code></pre>\n<p>But It doesn't work more, version is always 0. JPA bug ?</p>\n<p>Thx.</p>\n"},{"tags":["java","spring-boot","multithreading","thread-safety","google-cloud-pubsub"],"comments":[{"owner":{"account_id":317471,"reputation":157,"user_id":2892102,"display_name":"binboavetonik"},"score":0,"creation_date":1690981816,"post_id":76818196,"comment_id":135428462,"body_markdown":"who is setting this threadLocal variable","body":"who is setting this threadLocal variable"}],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966615,"creation_date":1690966615,"question_id":76818196,"body_markdown":"I had java scheduler based implementation to read gcp pubsub msg but then I changed the same to use gcp pubsub MessageReceiver to listen and read msg asynchronously.\r\n\r\n    \r\n// Class that implemented MessageReceiver contains code\r\n\r\n     @Override\r\n        public void receiveMessage( PubsubMessage message, AckReplyConsumer ackReplyConsumer ) {\r\n    \t\t//some code\r\n            processMsg( message, blobs, profiler, ackConsumer );\r\n        }\r\n    \t\t\r\n    \tprivate void processMsg( PubsubMessage message, Page&lt;Blob&gt; blobs, Profiler profiler, AckReplyConsumer ackConsumer ) {\r\n    \t\tsetContext(&quot;id&quot;);\r\n    \t}\r\n    \t\r\n    \t private void setContext( String id ) {\r\n    \t\tUserContext userContext = UserContext.getContext();\r\n    \t\t// when I change implementation to- use MessageReceiver instead of scheduler, I am getting userContext=null here;\r\n    \t }\r\n    \t \r\n\t \r\n//class\tUserContext{\r\n\t \r\n\t private static final ThreadLocal&lt;UserContext&gt; threadLocal = new ThreadLocal&lt;UserContext&gt;();\r\n\t \r\n\t public static UserContext getContext() {\r\n        try {\r\n            final UserContext userContext = threadLocal.get();\r\n            if ( null != userContext ) {\r\n                return (UserContext)userContext.clone();\r\n            }\r\n        } catch( CloneNotSupportedException e ) {\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nHow to get userContext=notNull when we call UserContext.getContext(). I am new to thread so not sure how to resolve this null pointer. ","title":"How to resolve null pointer exception while using pubsub MessageReceiver","body":"<p>I had java scheduler based implementation to read gcp pubsub msg but then I changed the same to use gcp pubsub MessageReceiver to listen and read msg asynchronously.</p>\n<p>// Class that implemented MessageReceiver contains code</p>\n<pre><code> @Override\n    public void receiveMessage( PubsubMessage message, AckReplyConsumer ackReplyConsumer ) {\n        //some code\n        processMsg( message, blobs, profiler, ackConsumer );\n    }\n        \n    private void processMsg( PubsubMessage message, Page&lt;Blob&gt; blobs, Profiler profiler, AckReplyConsumer ackConsumer ) {\n        setContext(&quot;id&quot;);\n    }\n    \n     private void setContext( String id ) {\n        UserContext userContext = UserContext.getContext();\n        // when I change implementation to- use MessageReceiver instead of scheduler, I am getting userContext=null here;\n     }\n     \n \n</code></pre>\n<p>//class UserContext{</p>\n<pre><code> private static final ThreadLocal&lt;UserContext&gt; threadLocal = new ThreadLocal&lt;UserContext&gt;();\n \n public static UserContext getContext() {\n    try {\n        final UserContext userContext = threadLocal.get();\n        if ( null != userContext ) {\n            return (UserContext)userContext.clone();\n        }\n    } catch( CloneNotSupportedException e ) {\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>How to get userContext=notNull when we call UserContext.getContext(). I am new to thread so not sure how to resolve this null pointer.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1690963899,"post_id":76817195,"comment_id":135424565,"body_markdown":"You’re assuming the so-called YAML file is `application.yml`","body":"You’re assuming the so-called YAML file is <code>application.yml</code>"}],"tags":[],"owner":{"account_id":29135505,"reputation":1,"user_id":22319781,"display_name":"Sundram Jaiswal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690958442,"creation_date":1690958442,"answer_id":76817195,"question_id":76817102,"body_markdown":"Create a YamL configuration file\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;default&quot;)\r\n    public class YamlConfig {\r\n        private String title;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nthen modify ur myobj as\r\n\r\n    private static String defaultTitle;\r\n    \r\n    private String title;\r\n    \r\n        @Autowired\r\n        public MyObj(YamlConfig yamlConfig) {\r\n            this.title = yamlConfig.getTitle();\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title != null ? title : defaultTitle;\r\n        }\r\n\r\n","title":"How to set default value of an attribute from yml file","body":"<p>Create a YamL configuration file</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;default&quot;)\npublic class YamlConfig {\n    private String title;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>then modify ur myobj as</p>\n<pre><code>private static String defaultTitle;\n\nprivate String title;\n\n    @Autowired\n    public MyObj(YamlConfig yamlConfig) {\n        this.title = yamlConfig.getTitle();\n    }\n\n    public String getTitle() {\n        return title != null ? title : defaultTitle;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1690963887,"post_id":76817828,"comment_id":135424562,"body_markdown":"1) using `Value` is discouraged in favor of `ConfigurationProperties`. 2) You’re assuming the so-called YAML file is `application.yml`","body":"1) using <code>Value</code> is discouraged in favor of <code>ConfigurationProperties</code>. 2) You’re assuming the so-called YAML file is <code>application.yml</code>"}],"tags":[],"owner":{"account_id":11107201,"reputation":178,"user_id":8154052,"display_name":"Frank"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690966588,"creation_date":1690963655,"answer_id":76817828,"question_id":76817102,"body_markdown":"In order to inject values from property files, environment variables, system properties and etc [@Value annotation][1] is used. Besides it should be used \r\nwithin [type of component stereotype][2] so that values can be injected from external sources when Spring creates beans in its context.\r\nIf you declare it as a Component as following:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Component\r\n    public class myObj{\r\n    \r\n       @Value(&quot;${default.title}&quot;)\r\n       private String title;\r\n        \r\n    }\r\nthen you can use myObj by autowiring. If you just invoke getTitle() it returns default value from property file. To change the title one needs to set the value by calling setTitle(&quot;another title&quot;)\r\n\r\n    @SpringBootTest\r\n    public class InheritTest {\r\n    \r\n        @Autowired myObj obj;\r\n    \r\n        \r\n        @Test\r\n        void testDto(){\r\n    \r\n        assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\r\n        testDto.setTitle(&quot;another title&quot;);\r\n        assertEquals(testDto.getTitle(),&quot;another title&quot;);\r\n            \r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nSuppose you&#39;re trying to read them not from application.yml but let&#39;s say test.yml then you can create a class which implements PropertySourceFactory: \r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n        @Override\r\n        public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) {\r\n            YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n            factory.setResources(encodedResource.getResource());\r\n    \r\n            Properties properties = factory.getObject();\r\n    \r\n            return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\r\n        }\r\n    }\r\n\r\nand use it in your configuration:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;default&quot;)\r\n    @PropertySource(value = &quot;classpath:test.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    @Data\r\n    public class YamlTestProperties {\r\n        private String title;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    @SpringBootTest\r\n    public class InheritTest {\r\n    \r\n       \r\n        @Autowired myObj obj;\r\n    \r\n        @Autowired\r\n        private YamlTestProperties yamlTestProperties;\r\n    \r\n\r\n    \r\n        \r\n        @Test\r\n        void testRetrieveTitleFromApplicationYaml(){\r\n    \r\n        assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\r\n        testDto.setTitle(&quot;another title&quot;);\r\n        assertEquals(testDto.getTitle(),&quot;another title&quot;);\r\n            \r\n        }\r\n    \r\n        @Test\r\n        void testRetrieveTitleFromCustomYaml(){\r\n            assertEquals(yamlTestProperties.getTitle(),&quot;newBook&quot;);\r\n        }\r\n    }\r\n    \r\n\r\n   \r\n\r\n\r\n  [1]: https://gustavopeiretti.com/spring-boot-value-annotation/#:~:text=Introduction%20to%20%40Value%20in%20Spring,value%20without%20recompiling%20the%20code.\r\n  [2]: https://gustavopeiretti.com/spring-boot-components-stereotypes/","title":"How to set default value of an attribute from yml file","body":"<p>In order to inject values from property files, environment variables, system properties and etc <a href=\"https://gustavopeiretti.com/spring-boot-value-annotation/#:%7E:text=Introduction%20to%20%40Value%20in%20Spring,value%20without%20recompiling%20the%20code.\" rel=\"nofollow noreferrer\">@Value annotation</a> is used. Besides it should be used\nwithin <a href=\"https://gustavopeiretti.com/spring-boot-components-stereotypes/\" rel=\"nofollow noreferrer\">type of component stereotype</a> so that values can be injected from external sources when Spring creates beans in its context.\nIf you declare it as a Component as following:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Component\npublic class myObj{\n\n   @Value(&quot;${default.title}&quot;)\n   private String title;\n    \n}\n</code></pre>\n<p>then you can use myObj by autowiring. If you just invoke getTitle() it returns default value from property file. To change the title one needs to set the value by calling setTitle(&quot;another title&quot;)</p>\n<pre><code>@SpringBootTest\npublic class InheritTest {\n\n    @Autowired myObj obj;\n\n    \n    @Test\n    void testDto(){\n\n    assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\n    testDto.setTitle(&quot;another title&quot;);\n    assertEquals(testDto.getTitle(),&quot;another title&quot;);\n        \n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Suppose you're trying to read them not from application.yml but let's say test.yml then you can create a class which implements PropertySourceFactory:</p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(encodedResource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\n    }\n}\n</code></pre>\n<p>and use it in your configuration:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;default&quot;)\n@PropertySource(value = &quot;classpath:test.yml&quot;, factory = YamlPropertySourceFactory.class)\n@Data\npublic class YamlTestProperties {\n    private String title;\n}\n</code></pre>\n<hr />\n<pre><code>@SpringBootTest\npublic class InheritTest {\n\n   \n    @Autowired myObj obj;\n\n    @Autowired\n    private YamlTestProperties yamlTestProperties;\n\n\n\n    \n    @Test\n    void testRetrieveTitleFromApplicationYaml(){\n\n    assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\n    testDto.setTitle(&quot;another title&quot;);\n    assertEquals(testDto.getTitle(),&quot;another title&quot;);\n        \n    }\n\n    @Test\n    void testRetrieveTitleFromCustomYaml(){\n        assertEquals(yamlTestProperties.getTitle(),&quot;newBook&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25922432,"reputation":1,"user_id":19644791,"display_name":"loid forger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690965150,"answer_count":2,"score":-2,"last_activity_date":1690966588,"creation_date":1690957359,"question_id":76817102,"body_markdown":"in my yml file\r\n\r\n    default:\r\n     title:newBook\r\n\r\non my object class \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class myObj{\r\n\r\n    //how to set default value of          this from my yml file\r\n    private String title;\r\n\r\n\r\n    }\r\n\r\nGet the value from yml file and set it as default value for my book title attribute\r\nMake title not null ","title":"How to set default value of an attribute from yml file","body":"<p>in my yml file</p>\n<pre><code>default:\n title:newBook\n</code></pre>\n<p>on my object class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class myObj{\n\n//how to set default value of          this from my yml file\nprivate String title;\n\n\n}\n</code></pre>\n<p>Get the value from yml file and set it as default value for my book title attribute\nMake title not null</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690965960,"post_id":76818069,"comment_id":135425021,"body_markdown":"Your method does not return anything but just prints output. You try to assign the returned value to a `String`. :boom:","body":"Your method does not return anything but just prints output. You try to assign the returned value to a <code>String</code>. :boom:"}],"answers":[{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966044,"creation_date":1690966044,"answer_id":76818103,"question_id":76818069,"body_markdown":"You only have to change void to String and instead of printing inside your function you have to return the String\r\n\r\nSystem.out.println(&quot;Hello&quot;); --&gt; return &quot;Hello&quot;\r\n\r\nExplanation: void stands for no return from Function. If you want to give something back from the function you need to set there the type of return. Like you want to get a String than you have to return one. But be carefule, sometimes there are problems in java like if you return an integer number and expect an String than you have to convert the number to String. But there are already given Methods for that","title":"Basics of Java - Cannot convert from void to String","body":"<p>You only have to change void to String and instead of printing inside your function you have to return the String</p>\n<p>System.out.println(&quot;Hello&quot;); --&gt; return &quot;Hello&quot;</p>\n<p>Explanation: void stands for no return from Function. If you want to give something back from the function you need to set there the type of return. Like you want to get a String than you have to return one. But be carefule, sometimes there are problems in java like if you return an integer number and expect an String than you have to convert the number to String. But there are already given Methods for that</p>\n"},{"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966576,"creation_date":1690966576,"answer_id":76818189,"question_id":76818069,"body_markdown":"Change the logic as given below\r\n\r\n    public static String algoritmofigo() {\r\n\r\n        double y = 4.5454;\r\n        int g = 45;\r\n        int  po = 567;\r\n        int num = 54;\r\n        char lett = &#39;f&#39;;\r\n\r\n        if (y == 4) {\r\n            return &quot;Hello&quot;;\r\n\r\n        } else if ( g == 400) {\r\n            return Integer.toString(num);\r\n\r\n        } else {\r\n            return Integer.toString(g + po);\r\n        }\r\n    } \r\n\r\nAnd call is like that as its a static method\r\n\r\n    String rrr = Algoritmo.algoritmofigo();\r\n    System.out.println(dog);","title":"Basics of Java - Cannot convert from void to String","body":"<p>Change the logic as given below</p>\n<pre><code>public static String algoritmofigo() {\n\n    double y = 4.5454;\n    int g = 45;\n    int  po = 567;\n    int num = 54;\n    char lett = 'f';\n\n    if (y == 4) {\n        return &quot;Hello&quot;;\n\n    } else if ( g == 400) {\n        return Integer.toString(num);\n\n    } else {\n        return Integer.toString(g + po);\n    }\n} \n</code></pre>\n<p>And call is like that as its a static method</p>\n<pre><code>String rrr = Algoritmo.algoritmofigo();\nSystem.out.println(dog);\n</code></pre>\n"}],"owner":{"account_id":29117736,"reputation":21,"user_id":22306087,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690966576,"creation_date":1690965799,"question_id":76818069,"body_markdown":"Hello Guys i&#39;m tring to undestand how Java works and i don&#39;t know what to do in order to solve this problem.  I have this class:\r\n\r\n```java\r\npublic class Algoritmo {\r\n\r\n    public static void algoritmofigo() {\r\n\r\n        double y = 4.5454;\r\n        int g = 45;\r\n        int  po = 567;\r\n        int num = 54;\r\n        char lett = &#39;f&#39;;\r\n\r\n        if (y == 4) {\r\n            System.out.println(&quot;Hello&quot;);\r\n        } else if (g == 400) {\r\n            System.out.println(num);\r\n        } else {\r\n            System.out.println(g + po);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m tring to use it in a way like this: \r\n\r\n```java\r\nAlgoritmo algo = new Algoritmo();\r\nString rrr = algo.algoritmofigo();\r\nSystem.out.println(dog);\r\n```\r\n\r\nThat&#39;s my first day of Java and i can&#39;t figure out how to move.\r\n\r\nThe Error says: Type mismatch: cannot convert from void to String. \r\n\r\n\r\n\r\n\r\nI Just would like to know what&#39;s the mistake is and how to fix it. Thanks you! ","title":"Basics of Java - Cannot convert from void to String","body":"<p>Hello Guys i'm tring to undestand how Java works and i don't know what to do in order to solve this problem.  I have this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Algoritmo {\n\n    public static void algoritmofigo() {\n\n        double y = 4.5454;\n        int g = 45;\n        int  po = 567;\n        int num = 54;\n        char lett = 'f';\n\n        if (y == 4) {\n            System.out.println(&quot;Hello&quot;);\n        } else if (g == 400) {\n            System.out.println(num);\n        } else {\n            System.out.println(g + po);\n        }\n    }\n}\n</code></pre>\n<p>I'm tring to use it in a way like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Algoritmo algo = new Algoritmo();\nString rrr = algo.algoritmofigo();\nSystem.out.println(dog);\n</code></pre>\n<p>That's my first day of Java and i can't figure out how to move.</p>\n<p>The Error says: Type mismatch: cannot convert from void to String.</p>\n<p>I Just would like to know what's the mistake is and how to fix it. Thanks you!</p>\n"},{"tags":["java","logging","microservices","quarkus","open-telemetry"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1690923830,"post_id":76814333,"comment_id":135420059,"body_markdown":"can you clarify, do you mean diagnostic logs from the OpenTelemetry SDK itself? or application logs being exported by OpenTelemetry?","body":"can you clarify, do you mean diagnostic logs from the OpenTelemetry SDK itself? or application logs being exported by OpenTelemetry?"}],"answers":[{"comments":[{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1691273070,"post_id":76818066,"comment_id":135470264,"body_markdown":"Thanks . I am trying to follow the Quarkus link for enabling open telemetry. One of the properties i found useful to control how much gets traced is quarkus.opentelemetry.tracer.sampler=ratio and quarkus.opentelemetry.tracer.sampler.ratio=0. This works fine when i specify in the application.properties but not from application.yaml: . Tried using the below with no luck. quarkus:\n  opentelemetry:\n    tracer:\n      sampler:\n        ~: ratio\n        ratio: 1 - Using this ~ sign based on the link: https://quarkus.io/guides/config-yaml#configuration-key-conflicts","body":"Thanks . I am trying to follow the Quarkus link for enabling open telemetry. One of the properties i found useful to control how much gets traced is quarkus.opentelemetry.tracer.sampler=ratio and quarkus.opentelemetry.tracer.sampler.ratio=0. This works fine when i specify in the application.properties but not from application.yaml: . Tried using the below with no luck. quarkus:   opentelemetry:     tracer:       sampler:         ~: ratio         ratio: 1 - Using this ~ sign based on the link: <a href=\"https://quarkus.io/guides/config-yaml#configuration-key-conflicts\" rel=\"nofollow noreferrer\">quarkus.io/guides/config-yaml#configuration-key-conflicts</a>"},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1691401906,"post_id":76818066,"comment_id":135481583,"body_markdown":"Is your question about logs or traces sampling? If it is about sampling, please update your question.","body":"Is your question about logs or traces sampling? If it is about sampling, please update your question."}],"tags":[],"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965758,"creation_date":1690965758,"answer_id":76818066,"question_id":76814333,"body_markdown":"If you are referring to logs as a signal being exported by OpenTelemetry (like Traces and Metrics), you can set the following environment variable:\r\n\r\n```\r\nOTEL_LOGS_EXPORTER=none\r\n```\r\nhttps://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter\r\n\r\n\r\nIf you meant diagnostic logs from the OpenTelemetry SDK itself, you can use the following environment variable:\r\n\r\n```\r\nOTEL_JAVAAGENT_LOGGING=none\r\n```\r\nhttps://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output\r\n\r\nYou may need to use none with quotes: `&quot;none&quot;`.","title":"quarkus telemetry logging disable at runtime","body":"<p>If you are referring to logs as a signal being exported by OpenTelemetry (like Traces and Metrics), you can set the following environment variable:</p>\n<pre><code>OTEL_LOGS_EXPORTER=none\n</code></pre>\n<p><a href=\"https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter</a></p>\n<p>If you meant diagnostic logs from the OpenTelemetry SDK itself, you can use the following environment variable:</p>\n<pre><code>OTEL_JAVAAGENT_LOGGING=none\n</code></pre>\n<p><a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output</a></p>\n<p>You may need to use none with quotes: <code>&quot;none&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966443,"creation_date":1690966443,"answer_id":76818168,"question_id":76814333,"body_markdown":"Quarkus does not yet support OpenTelemetry logging. The support is planned. \r\nNo need for any config to disable it.","title":"quarkus telemetry logging disable at runtime","body":"<p>Quarkus does not yet support OpenTelemetry logging. The support is planned.\nNo need for any config to disable it.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690966443,"creation_date":1690914525,"question_id":76814333,"body_markdown":"Is it possible to turn off open telemetry logging while opentelementry is enabled in Quarkus 2.x?\r\n\r\nLooking for something similar to io.opentelemetry.level = OFF\r\n\r\nBasically, i want to provide the ability to turn off telemetry logging for one of the services in the chain while continuing to propagate trace id/span ids. Any idea how to do this and how this can be configurable at runtime?\r\n\r\nThanks\r\nSG","title":"quarkus telemetry logging disable at runtime","body":"<p>Is it possible to turn off open telemetry logging while opentelementry is enabled in Quarkus 2.x?</p>\n<p>Looking for something similar to io.opentelemetry.level = OFF</p>\n<p>Basically, i want to provide the ability to turn off telemetry logging for one of the services in the chain while continuing to propagate trace id/span ids. Any idea how to do this and how this can be configurable at runtime?</p>\n<p>Thanks\nSG</p>\n"},{"tags":["java","logging","cxf","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":5741643,"reputation":986,"user_id":4534183,"accept_rate":78,"display_name":"Jdv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579274807,"creation_date":1579274807,"answer_id":59790308,"question_id":59684144,"body_markdown":"Well, if anyone stumbles upon such an error: The interceptor chain was interrupted in my application before it reached the LoggingInterceptor, therefore the incoming request was not logged. ","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>Well, if anyone stumbles upon such an error: The interceptor chain was interrupted in my application before it reached the LoggingInterceptor, therefore the incoming request was not logged. </p>\n"},{"tags":[],"owner":{"account_id":18238544,"reputation":11,"user_id":13275996,"display_name":"Никита Полковников"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690965994,"creation_date":1690965812,"answer_id":76818071,"question_id":59684144,"body_markdown":"For history.\r\nI have the same problem.\r\nYou need to change the logging level, because by default this feature logging only if the logging level is &quot;INFO&#39;.\r\n\r\nI did the next and it works for me:\r\n\r\n    &lt;bean id=&quot;eventSender&quot; class=&quot;org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender&quot;&gt;\r\n\t\t&lt;property name=&quot;loggingLevel&quot; value=&quot;WARN&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI found it here https://stackoverflow.com/questions/55906371/log-soap-request-and-response-using-apache-cxf\r\n","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>For history.\nI have the same problem.\nYou need to change the logging level, because by default this feature logging only if the logging level is &quot;INFO'.</p>\n<p>I did the next and it works for me:</p>\n<pre><code>&lt;bean id=&quot;eventSender&quot; class=&quot;org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender&quot;&gt;\n    &lt;property name=&quot;loggingLevel&quot; value=&quot;WARN&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I found it here <a href=\"https://stackoverflow.com/questions/55906371/log-soap-request-and-response-using-apache-cxf\">Log soap request and response using apache-cxf</a></p>\n"}],"owner":{"account_id":5741643,"reputation":986,"user_id":4534183,"accept_rate":78,"display_name":"Jdv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690965994,"creation_date":1578668362,"question_id":59684144,"body_markdown":"I&#39;ve upgraded the cxf version in my application from 2.x to 3.3.2 and therefore want to replace the now deprecated `LoggingInInterceptor` and `LoggingOutInterceptor` I&#39;ve used before with the `LoggingFeature`. For that I&#39;ve removed the interceptor beans from the cxf bus and added the `LoggingFeature` instead, like this:\r\n\r\n    &lt;cxf:bus&gt;\r\n\t\t&lt;cxf:features&gt;\r\n        \t&lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;&gt;\r\n        \t\t &lt;property name=&quot;prettyLogging&quot; value=&quot;true&quot;/&gt;\r\n        \t&lt;/bean&gt;\r\n    \t&lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt; \r\n\r\nI&#39;ve already had the other steps to use the cxf `LoggingFeature` with my slf4j setup [as described in this SO question](https://stackoverflow.com/questions/9424058/cxf-inbound-and-outbound-message-logging-to-the-separate-log-file) added beforehand to use with the interceptors: The `META-INF/cxf/org.apache.cxf.Logger` file and the `org.apache.cxf` log4j2 logger. \r\n\r\nNow the result is that incoming requests (should be the cxf logging type `REQ_IN` imo) are not logged, but the responses (`RESP_OUT`) are.\r\n\r\nWhat could cause such an behaviour?\r\n","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>I've upgraded the cxf version in my application from 2.x to 3.3.2 and therefore want to replace the now deprecated <code>LoggingInInterceptor</code> and <code>LoggingOutInterceptor</code> I've used before with the <code>LoggingFeature</code>. For that I've removed the interceptor beans from the cxf bus and added the <code>LoggingFeature</code> instead, like this:</p>\n\n<pre><code>&lt;cxf:bus&gt;\n    &lt;cxf:features&gt;\n        &lt;bean class=\"org.apache.cxf.ext.logging.LoggingFeature\"&gt;\n             &lt;property name=\"prettyLogging\" value=\"true\"/&gt;\n        &lt;/bean&gt;\n    &lt;/cxf:features&gt;\n&lt;/cxf:bus&gt; \n</code></pre>\n\n<p>I've already had the other steps to use the cxf <code>LoggingFeature</code> with my slf4j setup <a href=\"https://stackoverflow.com/questions/9424058/cxf-inbound-and-outbound-message-logging-to-the-separate-log-file\">as described in this SO question</a> added beforehand to use with the interceptors: The <code>META-INF/cxf/org.apache.cxf.Logger</code> file and the <code>org.apache.cxf</code> log4j2 logger. </p>\n\n<p>Now the result is that incoming requests (should be the cxf logging type <code>REQ_IN</code> imo) are not logged, but the responses (<code>RESP_OUT</code>) are.</p>\n\n<p>What could cause such an behaviour?</p>\n"},{"tags":["java","spring","service","dto"],"answers":[{"tags":[],"owner":{"account_id":9552667,"reputation":39,"user_id":21373629,"display_name":"kret11"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690875567,"creation_date":1690875567,"answer_id":76809457,"question_id":76809263,"body_markdown":"IMO options #1 and #3 are the best ones. I personally use #1. #3 is available only for services in the same package. But it&#39;s still nice and clean.","title":"Relation between services when using DTOs in Spring","body":"<p>IMO options #1 and #3 are the best ones. I personally use #1. #3 is available only for services in the same package. But it's still nice and clean.</p>\n"},{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965754,"creation_date":1690916437,"answer_id":76814505,"question_id":76809263,"body_markdown":"I don&#39;t see a direct question, but I understand that you would like some input on how to set your architecture.\r\n\r\nOne way that I find useful is to start with a **classic three tierd architecture** (where the API act as the client) and then simplify if it becomes over engineered.\r\n\r\nThe client tier, where I have the API, is typically some sort of HTTP API, often REST based returning JSON objects.\r\n\r\nJust like your example, **the DB layer returns DB objects**. Any ORM turns the result of a DB query to an object that maps about 1:1 with the DB layout. You normally annotate this with `@repository` in spring. \r\n\r\nFurthermore, **each service returns domain objects** describing the entity managed by that service. In your example, the book service layer would make use of the Book DB layer and the Author DB layer, concatenate the results into a book object. This its the layer with your business logic. (**Here comes the first simplification**, if books and authors are in the same DB, you often do the join in the DB layer already.) This is annotated `@service` in spring. \r\n\r\nFinally, **the API layer creates the DTOs.** Here, the methods annotated `@controller` in spring, uses the response from one or several service(s) to create DTOs according to the API spec and returning that on the API. This tier owns the DTO classes and the transformation from domain objects to DTO objects. An example DTO would be your BookDTO that is serialized to a JSON object for a HTTP/REST API, but it could also be a protobuf for gRPC, XML for a SOAP API, combinations there of, etc. The point is that the DTO for the API should beneficially be disconnected from the service.\r\n\r\n**This separates different concerns within a product**. Changing DB layout for performance,  or changing business logic as your product evolves, or changing API as you get new type of clients, all these changes should be separate tasks touching separate layers in your application. \r\n\r\nHaving that said, **another simplification** is (for me) often to lett the service return the DTO directly. Especially if you are not using Kotlin or libraries like Lombok or Immutables to help out with the dull boilerplate code for managing POJOs.","title":"Relation between services when using DTOs in Spring","body":"<p>I don't see a direct question, but I understand that you would like some input on how to set your architecture.</p>\n<p>One way that I find useful is to start with a <strong>classic three tierd architecture</strong> (where the API act as the client) and then simplify if it becomes over engineered.</p>\n<p>The client tier, where I have the API, is typically some sort of HTTP API, often REST based returning JSON objects.</p>\n<p>Just like your example, <strong>the DB layer returns DB objects</strong>. Any ORM turns the result of a DB query to an object that maps about 1:1 with the DB layout. You normally annotate this with <code>@repository</code> in spring.</p>\n<p>Furthermore, <strong>each service returns domain objects</strong> describing the entity managed by that service. In your example, the book service layer would make use of the Book DB layer and the Author DB layer, concatenate the results into a book object. This its the layer with your business logic. (<strong>Here comes the first simplification</strong>, if books and authors are in the same DB, you often do the join in the DB layer already.) This is annotated <code>@service</code> in spring.</p>\n<p>Finally, <strong>the API layer creates the DTOs.</strong> Here, the methods annotated <code>@controller</code> in spring, uses the response from one or several service(s) to create DTOs according to the API spec and returning that on the API. This tier owns the DTO classes and the transformation from domain objects to DTO objects. An example DTO would be your BookDTO that is serialized to a JSON object for a HTTP/REST API, but it could also be a protobuf for gRPC, XML for a SOAP API, combinations there of, etc. The point is that the DTO for the API should beneficially be disconnected from the service.</p>\n<p><strong>This separates different concerns within a product</strong>. Changing DB layout for performance,  or changing business logic as your product evolves, or changing API as you get new type of clients, all these changes should be separate tasks touching separate layers in your application.</p>\n<p>Having that said, <strong>another simplification</strong> is (for me) often to lett the service return the DTO directly. Especially if you are not using Kotlin or libraries like Lombok or Immutables to help out with the dull boilerplate code for managing POJOs.</p>\n"}],"owner":{"account_id":10762257,"reputation":21,"user_id":7918331,"display_name":"Amaury S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690965754,"creation_date":1690873982,"question_id":76809263,"body_markdown":"I&#39;m quite new to the Spring Framework and one aspect I&#39;m having trouble conceptualizing is the synergy between services when using DTOs.\r\n\r\nI&#39;ll try to give a simple example. Might not be the most pertinent and certainly not well designed but it illustrates my problem:\r\n```java\r\n@Entity\r\npublic class Author {\r\n    private int id;\r\n    private String name;\r\n}\r\n\r\npublic class AuthorDto {\r\n    private int id;\r\n    private String name;\r\n}\r\n\r\n@Entity\r\npublic class Book {\r\n    private int id;\r\n    private String title;\r\n    private Author author;\r\n}\r\n\r\npublic class BookDto {\r\n    private int id;\r\n    private String title;\r\n    private String authorName;\r\n}\r\n\r\n// AuthorRepository extends CrudRepository\r\n// BookRepository extends CrudRepository\r\n\r\n@Service\r\npublic class AuthorService {\r\n\r\n    public AuthorDto getByName(String name) {\r\n        Assert.nonNull(name, &quot;name is null&quot;);\r\n\r\n        Author author = this.authorRepository.getByName(name).orElseThrow(() -&gt; new AuthorNotFoundException(name));\r\n        return AuthorMapper.toDto(author);\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class BookService {\r\n\r\n    public BookDto register(BookDto book) {\r\n        // Check book validity.\r\n        Book bookEntity = BookMapper.toEntity(book);\r\n\r\n        // How do I get the Author information for entity persistence ?\r\n        Author author = ???\r\n        bookEntity.setAuthor(author);\r\n\r\n        bookEntity = this.bookRepository.save(bookEntity);\r\n        return BookMapper.toDto(bookEntity);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n① One solution would be to directly use the AuthorRepository:\r\n```java\r\npublic BookDto register(BookDto book) {\r\n    //…\r\n    Author author = this.AuthorRepsitory.getByName(book.getAuthor())\r\n        .orElseThrow(() -&gt; new AuthorNotFoundException(book.getAuthor()));\r\n    //…\r\n}\r\n```\r\nBut then I duplicate code from the AuthorService.\r\nI imagine that&#39;s fine for simple case like this but for more complicated things, like managing the creation of a child object, this could lead to bugs and missed steps.\r\n\r\n---\r\n\r\n② An other solution would be to use the AuthorService:\r\n```java\r\npublic BookDto register(BookDto book) {\r\n    //…\r\n    Author author = AuthorMapper.toEntity(this.AuthorService.getByName(book.getAuthor()));\r\n    //…\r\n}\r\n```\r\nBut this would add unecessary steps (entity to DTO to entity) and would detached the author from the underlined entity manager, possibly adding more steps under the hood to fix that.\r\n\r\n---\r\n\r\n③ My thought would be to take advantage of the `protected` scope to ease service communication:\r\n```java\r\n@Service\r\npublic class AuthorServiceImpl implements AuthorService {\r\n\r\n    protected Author _getByName(String name) {\r\n        Assert.nonNull(name, &quot;name is null&quot;);\r\n\r\n        return this.authorRepository.getByName(name)\r\n            .orElseThrow(() -&gt; new AuthorNotFoundException(name));\r\n    }\r\n\r\n    public AuthorDto getByName(String name) {\r\n        return AuthorMapper.toDto(this._getByName(name));\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class BookServiceImpl implements BookService {\r\n\r\n    public BookDto register(BookDto book) {\r\n        // Do check for book validity.\r\n        Book bookEntity = BookMapper.toEntity(book);\r\n\r\n        Author author = this.authorServiceImpl._getByName(book.getAuthor());\r\n        bookEntity.setAuthor(author);\r\n\r\n        bookEntity = this.bookRepository.save(bookEntity);\r\n        return BookMapper.toDto(bookEntity);\r\n    }\r\n\r\n}\r\n```\r\nSo that each service manages its own entities but I don&#39;t know if it is a good practice.\r\n\r\nI tried to find answers to my question but, as of now, most I&#39;ve seen would be ① and all concret examples I found, are simple case with only one service or with entities independent from one another.","title":"Relation between services when using DTOs in Spring","body":"<p>I'm quite new to the Spring Framework and one aspect I'm having trouble conceptualizing is the synergy between services when using DTOs.</p>\n<p>I'll try to give a simple example. Might not be the most pertinent and certainly not well designed but it illustrates my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Author {\n    private int id;\n    private String name;\n}\n\npublic class AuthorDto {\n    private int id;\n    private String name;\n}\n\n@Entity\npublic class Book {\n    private int id;\n    private String title;\n    private Author author;\n}\n\npublic class BookDto {\n    private int id;\n    private String title;\n    private String authorName;\n}\n\n// AuthorRepository extends CrudRepository\n// BookRepository extends CrudRepository\n\n@Service\npublic class AuthorService {\n\n    public AuthorDto getByName(String name) {\n        Assert.nonNull(name, &quot;name is null&quot;);\n\n        Author author = this.authorRepository.getByName(name).orElseThrow(() -&gt; new AuthorNotFoundException(name));\n        return AuthorMapper.toDto(author);\n    }\n\n}\n\n@Service\npublic class BookService {\n\n    public BookDto register(BookDto book) {\n        // Check book validity.\n        Book bookEntity = BookMapper.toEntity(book);\n\n        // How do I get the Author information for entity persistence ?\n        Author author = ???\n        bookEntity.setAuthor(author);\n\n        bookEntity = this.bookRepository.save(bookEntity);\n        return BookMapper.toDto(bookEntity);\n    }\n\n}\n</code></pre>\n<p>① One solution would be to directly use the AuthorRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BookDto register(BookDto book) {\n    //…\n    Author author = this.AuthorRepsitory.getByName(book.getAuthor())\n        .orElseThrow(() -&gt; new AuthorNotFoundException(book.getAuthor()));\n    //…\n}\n</code></pre>\n<p>But then I duplicate code from the AuthorService.\nI imagine that's fine for simple case like this but for more complicated things, like managing the creation of a child object, this could lead to bugs and missed steps.</p>\n<hr />\n<p>② An other solution would be to use the AuthorService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BookDto register(BookDto book) {\n    //…\n    Author author = AuthorMapper.toEntity(this.AuthorService.getByName(book.getAuthor()));\n    //…\n}\n</code></pre>\n<p>But this would add unecessary steps (entity to DTO to entity) and would detached the author from the underlined entity manager, possibly adding more steps under the hood to fix that.</p>\n<hr />\n<p>③ My thought would be to take advantage of the <code>protected</code> scope to ease service communication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AuthorServiceImpl implements AuthorService {\n\n    protected Author _getByName(String name) {\n        Assert.nonNull(name, &quot;name is null&quot;);\n\n        return this.authorRepository.getByName(name)\n            .orElseThrow(() -&gt; new AuthorNotFoundException(name));\n    }\n\n    public AuthorDto getByName(String name) {\n        return AuthorMapper.toDto(this._getByName(name));\n    }\n\n}\n\n@Service\npublic class BookServiceImpl implements BookService {\n\n    public BookDto register(BookDto book) {\n        // Do check for book validity.\n        Book bookEntity = BookMapper.toEntity(book);\n\n        Author author = this.authorServiceImpl._getByName(book.getAuthor());\n        bookEntity.setAuthor(author);\n\n        bookEntity = this.bookRepository.save(bookEntity);\n        return BookMapper.toDto(bookEntity);\n    }\n\n}\n</code></pre>\n<p>So that each service manages its own entities but I don't know if it is a good practice.</p>\n<p>I tried to find answers to my question but, as of now, most I've seen would be ① and all concret examples I found, are simple case with only one service or with entities independent from one another.</p>\n"},{"tags":["java","android","android-gradle-plugin"],"comments":[{"owner":{"account_id":7201903,"reputation":2058,"user_id":5498855,"display_name":"Ivan Milisavljevic"},"score":0,"creation_date":1557122842,"post_id":55999534,"comment_id":98645764,"body_markdown":"I guess you tried to do a full clean/rebuild of a project?","body":"I guess you tried to do a full clean/rebuild of a project?"},{"owner":{"account_id":14983197,"reputation":23,"user_id":10816613,"display_name":"aditya nurhadi"},"score":0,"creation_date":1557123354,"post_id":55999534,"comment_id":98645918,"body_markdown":"already rebuild and try to invalidate cache and restart but still same","body":"already rebuild and try to invalidate cache and restart but still same"},{"owner":{"account_id":1951638,"reputation":326,"user_id":1755595,"display_name":"Keng Onn"},"score":0,"creation_date":1558166363,"post_id":55999534,"comment_id":99017767,"body_markdown":"I am facing a similar problem :(. No issues when using gradle plugin 3.3.2 and gradle version and gradle 4.10.1. But after upgrading gradle plugin to 3.4.1 and gradle to 5.1, I got the same error :(. darn... let me know if you find a resolution to this issue? Googled and googled but this error still persists... sigh... maybe maven would be better than gradle in the long run?","body":"I am facing a similar problem :(. No issues when using gradle plugin 3.3.2 and gradle version and gradle 4.10.1. But after upgrading gradle plugin to 3.4.1 and gradle to 5.1, I got the same error :(. darn... let me know if you find a resolution to this issue? Googled and googled but this error still persists... sigh... maybe maven would be better than gradle in the long run?"}],"answers":[{"comments":[{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1557130441,"post_id":55999749,"comment_id":98648797,"body_markdown":"@adityanurhadi try to add exclude module, at my side project build with your dependencies","body":"@adityanurhadi try to add exclude module, at my side project build with your dependencies"},{"owner":{"account_id":14983197,"reputation":23,"user_id":10816613,"display_name":"aditya nurhadi"},"score":0,"creation_date":1557137217,"post_id":55999749,"comment_id":98651862,"body_markdown":"thank you for your response, but still same error. its possible from gradle version ? cause before update no error","body":"thank you for your response, but still same error. its possible from gradle version ? cause before update no error"},{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1557139221,"post_id":55999749,"comment_id":98652772,"body_markdown":"@adityanurhadi Did you have google dependency at the project level in gradle in the repository field.","body":"@adityanurhadi Did you have google dependency at the project level in gradle in the repository field."}],"tags":[],"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557130395,"creation_date":1557123701,"answer_id":55999749,"question_id":55999534,"body_markdown":"You should try this way\r\n\r\n   \r\n\r\n        implementation(&#39;com.android.support:support-vector-drawable:28.0.0&#39;) {\r\n                exclude group: &#39;android.support.graphics.drawable&#39;\r\n                exclude module: &#39;support-vector-drawable&#39;\r\n            }","title":"How Fix Package name &#39;android.support.graphics.drawable&#39; used in: com.android.support:animated-vector-drawable:28.0.0","body":"<p>You should try this way</p>\n\n<pre><code>    implementation('com.android.support:support-vector-drawable:28.0.0') {\n            exclude group: 'android.support.graphics.drawable'\n            exclude module: 'support-vector-drawable'\n        }\n</code></pre>\n"}],"owner":{"account_id":14983197,"reputation":23,"user_id":10816613,"display_name":"aditya nurhadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690965631,"creation_date":1557122431,"question_id":55999534,"body_markdown":"&gt; AndroidManifest.xml Error: \tPackage name\r\n&gt; &#39;android.support.graphics.drawable&#39; used in:\r\n&gt; com.android.support:animated-vector-drawable:28.0.0,\r\n&gt; com.android.support:support-vector-drawable:28.0.0\r\n\r\n\r\n[1]: https://i.stack.imgur.com/d1ASl.jpg\r\nhttps://i.stack.imgur.com/d1ASl.jpg\r\n\r\n[2]: https://i.stack.imgur.com/CBf1S.jpg\r\nhttps://i.stack.imgur.com/CBf1S.jpg\r\n\r\nAn error happened after upgrade Android Studio 3.4\r\nAlready try change compileSdk to `27 / 27.1.1` but still same \r\nand already try to disable &quot;vector-drawable&quot; lib but still same\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n        maven { url &#39;https://maven.fabric.io/public&#39;}\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.26.1&#39;\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.2.0&#39;\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;io.fabric&#39;\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n    defaultConfig {\r\n        applicationId &quot;xxx.packacge.name&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 28\r\n        versionCode 4\r\n        versionName &quot;Dev&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n    }\r\n\r\n    applicationVariants.all { variant -&gt;\r\n        //variant.getAssembleProvider()\r\n        variant.outputs.all {\r\n            outputFileName = &quot;${variant.name}-${variant.versionName}.apk&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            debuggable false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            debuggable true\r\n        }\r\n    }\r\n    buildToolsVersion = &#39;28.0.3&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n    maven { url &#39;https://maven.google.com&#39; }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    configurations.all {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-v13&#39;\r\n    }\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.android.support:support-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support:animated-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.0-alpha5&#39;\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:support-fragment:28.0.0&#39;\r\n\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\n.. \r\n```\r\nbuildscript {\r\n\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.4.0&#39;\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.2.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n..","title":"How Fix Package name &#39;android.support.graphics.drawable&#39; used in: com.android.support:animated-vector-drawable:28.0.0","body":"<blockquote>\n  <p>AndroidManifest.xml Error:    Package name\n  'android.support.graphics.drawable' used in:\n  com.android.support:animated-vector-drawable:28.0.0,\n  com.android.support:support-vector-drawable:28.0.0</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/d1ASl.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/d1ASl.jpg</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CBf1S.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CBf1S.jpg</a></p>\n\n<p>An error happened after upgrade Android Studio 3.4\nAlready try change compileSdk to <code>27 / 27.1.1</code> but still same \nand already try to disable \"vector-drawable\" lib but still same\n.\n.\n.\n.\n.\n.\n.\n.</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.fabric.io/public'}\n        maven { url 'https://maven.google.com' }\n    }\n    dependencies {\n        classpath 'com.google.gms:google-services:4.2.0'\n        classpath 'io.fabric.tools:gradle:1.26.1'\n        classpath 'com.google.firebase:firebase-plugins:1.2.0'\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'com.google.firebase.firebase-perf'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"xxx.packacge.name\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 4\n        versionName \"Dev\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n\n    applicationVariants.all { variant -&gt;\n        //variant.getAssembleProvider()\n        variant.outputs.all {\n            outputFileName = \"${variant.name}-${variant.versionName}.apk\"\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n        }\n    }\n    buildToolsVersion = '28.0.3'\n}\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url 'https://maven.google.com' }\n\n}\n\ndependencies {\n\n    configurations.all {\n        exclude group: 'com.android.support', module: 'support-v13'\n    }\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support:animated-vector-drawable:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha5'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:support-fragment:28.0.0'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>.. </p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://maven.google.com/'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.0'\n        classpath 'com.google.gms:google-services:4.2.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.firebase:firebase-plugins:1.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n        mavenCentral()\n        maven {\n            url 'https://maven.google.com/'\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>..</p>\n"},{"tags":["java","apache-karaf"],"comments":[{"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"score":0,"creation_date":1685466442,"post_id":76367024,"comment_id":134662912,"body_markdown":"Are you launching Karaf from a terminal? Tell us more about your work environent","body":"Are you launching Karaf from a terminal? Tell us more about your work environent"},{"owner":{"account_id":11441771,"reputation":43,"user_id":8482151,"display_name":"CamelUser"},"score":0,"creation_date":1685469081,"post_id":76367024,"comment_id":134663432,"body_markdown":"@codigocaballer karaf is installed as a windows service and run via client.bat","body":"@codigocaballer karaf is installed as a windows service and run via client.bat"}],"answers":[{"tags":[],"owner":{"account_id":29112503,"reputation":16,"user_id":22301988,"display_name":"Jgarnica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690965494,"creation_date":1690561490,"answer_id":76789545,"question_id":76367024,"body_markdown":"You mentioned you are are running `karaf` as `Windows service`, so I guess you are using [Wrapper][1]&lt;br&gt;\r\nIn the Wrapper configuration file change the default JRE/JDK path and restart your `karaf` application. \r\n\r\n    #********************************************************************\r\n    # Wrapper Properties\r\n    #********************************************************************\r\n    set.default.JAVA_HOME=C:\\Program Files\\Zulu\\zulu-8\\\r\n\r\n\r\n  [1]: https://wrapper.tanukisoftware.com/doc/english/home.html","title":"Karaf and java_home","body":"<p>You mentioned you are are running <code>karaf</code> as <code>Windows service</code>, so I guess you are using <a href=\"https://wrapper.tanukisoftware.com/doc/english/home.html\" rel=\"nofollow noreferrer\">Wrapper</a><br>\nIn the Wrapper configuration file change the default JRE/JDK path and restart your <code>karaf</code> application.</p>\n<pre><code>#********************************************************************\n# Wrapper Properties\n#********************************************************************\nset.default.JAVA_HOME=C:\\Program Files\\Zulu\\zulu-8\\\n</code></pre>\n"}],"owner":{"account_id":11441771,"reputation":43,"user_id":8482151,"display_name":"CamelUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789545,"answer_count":1,"score":0,"last_activity_date":1690965494,"creation_date":1685465663,"question_id":76367024,"body_markdown":"Is there a way to set the default java path for karaf without using the JAVA_HOME environment variable? \r\n\r\nE.g. one of the settings files?\r\n\r\nI have another application that requires the JAVA_HOME variable set to a diffrent version of jre and can&#39;t repoint the path for this.\r\n\r\nKaraf is currently being run as a Windows service and the console is accessed via client.bat","title":"Karaf and java_home","body":"<p>Is there a way to set the default java path for karaf without using the JAVA_HOME environment variable?</p>\n<p>E.g. one of the settings files?</p>\n<p>I have another application that requires the JAVA_HOME variable set to a diffrent version of jre and can't repoint the path for this.</p>\n<p>Karaf is currently being run as a Windows service and the console is accessed via client.bat</p>\n"},{"tags":["java","jdbc","locale"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1331646096,"creation_date":1331646096,"answer_id":9685163,"question_id":9685052,"body_markdown":"&gt;     Caused by: java.sql.SQLException: Locale not recognized\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n\r\n\r\nYour operating system platform default locale is apparently not supported by the Oracle JDBC driver. Change your operating system platform default locale to something more common. You can also do it on a per JVM runtime basis by adding the following VM arguments:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -Duser.language=en -Duser.country=US\r\n\r\nThis sets the JVM default locale to `en_US` (English / United States).\r\n\r\nYou can check as follows which default locale exactly is currently been used by your operating system platform:\r\n\r\n    System.out.println(Locale.getDefault());","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<blockquote>\n<pre><code>Caused by: java.sql.SQLException: Locale not recognized\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n</code></pre>\n</blockquote>\n\n<p>Your operating system platform default locale is apparently not supported by the Oracle JDBC driver. Change your operating system platform default locale to something more common. You can also do it on a per JVM runtime basis by adding the following VM arguments:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Duser.language=en -Duser.country=US\n</code></pre>\n\n<p>This sets the JVM default locale to <code>en_US</code> (English / United States).</p>\n\n<p>You can check as follows which default locale exactly is currently been used by your operating system platform:</p>\n\n<pre><code>System.out.println(Locale.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":891335,"reputation":3416,"user_id":929529,"accept_rate":88,"display_name":"pushistic"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1331646205,"creation_date":1331646205,"answer_id":9685185,"question_id":9685052,"body_markdown":"Most probably, you have locale not supported by Oracle JDBC. ","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>Most probably, you have locale not supported by Oracle JDBC. </p>\n"},{"tags":[],"owner":{"account_id":290252,"reputation":3161,"user_id":958866,"accept_rate":20,"display_name":"Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1336026828,"creation_date":1336026521,"answer_id":10426235,"question_id":9685052,"body_markdown":"As just suggested you will see this problem if\r\n\r\n\r\n 1. You pass different locale to your application\r\n 2. In the code, jdbc tries to establish connection with this locale\r\n 3. But the locale is not supported by the DBMS\r\n\r\nSo, you can do the following\r\n    \r\n\r\n 1. Take backup of current locale\r\n\r\n       `Locale backup = Locale.getDefault();`\r\n 2. Set locale before acquiring connection\r\n\r\n       `Locale.setDefault(Locale.US);`\r\n 3. Acquire connection\r\n 4. Set the backup locale\r\n\r\nHope this helps.\r\n\r\n-Kiran","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>As just suggested you will see this problem if</p>\n\n<ol>\n<li>You pass different locale to your application</li>\n<li>In the code, jdbc tries to establish connection with this locale</li>\n<li>But the locale is not supported by the DBMS</li>\n</ol>\n\n<p>So, you can do the following</p>\n\n<ol>\n<li><p>Take backup of current locale</p>\n\n<p><code>Locale backup = Locale.getDefault();</code></p></li>\n<li><p>Set locale before acquiring connection</p>\n\n<p><code>Locale.setDefault(Locale.US);</code></p></li>\n<li>Acquire connection</li>\n<li>Set the backup locale</li>\n</ol>\n\n<p>Hope this helps.</p>\n\n<p>-Kiran</p>\n"},{"comments":[{"owner":{"account_id":3989899,"reputation":912,"user_id":3289200,"accept_rate":25,"display_name":"mehdi"},"score":3,"creation_date":1489413345,"post_id":38245490,"comment_id":72645905,"body_markdown":"they banned us from downloading open source project  despite the philosophy of open world","body":"they banned us from downloading open source project  despite the philosophy of open world"},{"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"score":0,"creation_date":1614083806,"post_id":38245490,"comment_id":117271143,"body_markdown":"You saved my day! I wonder why all other solutions don&#39;t work for me on mac and surprisingly the answer was on the system preferences!","body":"You saved my day! I wonder why all other solutions don&#39;t work for me on mac and surprisingly the answer was on the system preferences!"}],"tags":[],"owner":{"account_id":8775248,"reputation":51,"user_id":6560730,"display_name":"Javad Nouri"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467894485,"creation_date":1467894485,"answer_id":38245490,"question_id":9685052,"body_markdown":"I solved this problem by just changing my location and country in control panel.\r\ni changed it to United State and English.\r\nAs an iranian we are in sanction of software too. this is US honesty!","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>I solved this problem by just changing my location and country in control panel.\ni changed it to United State and English.\nAs an iranian we are in sanction of software too. this is US honesty!</p>\n"},{"tags":[],"owner":{"account_id":7338942,"reputation":362,"user_id":5589292,"display_name":"周左左"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491486570,"creation_date":1491486570,"answer_id":43257181,"question_id":9685052,"body_markdown":"This problem must be solved if you are using products of jetBrains company.\r\n\r\nYou will get a error like &quot;Connection to @[your oracle database host] failed. [99999][17176] locale not recognized!&quot;(Chinese: &quot;无法识别区域设置&quot;)\r\nwhen trying to connect your oracle database by DataGrip.\r\n\r\nThe solution is to solve the locale problem of JDBC. If you use Unix, try to add this code into your bash profile.\r\n\r\n    export JAVA_TOOL_OPTIONS=&quot;-Dfile.encoding=UTF8 -Duser.language=zh -Duser.region=zh_CN -Duser.country=zh_CN&quot;\r\n\r\n**Of course, replace above keywords which are about locale by yours.**","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>This problem must be solved if you are using products of jetBrains company.</p>\n\n<p>You will get a error like \"Connection to @[your oracle database host] failed. [99999][17176] locale not recognized!\"(Chinese: \"无法识别区域设置\")\nwhen trying to connect your oracle database by DataGrip.</p>\n\n<p>The solution is to solve the locale problem of JDBC. If you use Unix, try to add this code into your bash profile.</p>\n\n<pre><code>export JAVA_TOOL_OPTIONS=\"-Dfile.encoding=UTF8 -Duser.language=zh -Duser.region=zh_CN -Duser.country=zh_CN\"\n</code></pre>\n\n<p><strong>Of course, replace above keywords which are about locale by yours.</strong></p>\n"},{"tags":[],"owner":{"account_id":391248,"reputation":12147,"user_id":751796,"accept_rate":89,"display_name":"Mikayil Abdullayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965399,"creation_date":1690965399,"answer_id":76818024,"question_id":9685052,"body_markdown":"The problem could also be caused by a framework/jdbc version mismatch. I solved the same problem by upgrading the jdbc driver. My set up was:\r\n\r\n    Spring Boot  2.7.3\r\n    \r\n    MyBatis 2.3.0\r\n    \r\n    OJDBC6 11.2.0.4\r\n\r\nUpgraded to OJDBC8 and it worked. ","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>The problem could also be caused by a framework/jdbc version mismatch. I solved the same problem by upgrading the jdbc driver. My set up was:</p>\n<pre><code>Spring Boot  2.7.3\n\nMyBatis 2.3.0\n\nOJDBC6 11.2.0.4\n</code></pre>\n<p>Upgraded to OJDBC8 and it worked.</p>\n"}],"owner":{"account_id":1320680,"reputation":101,"user_id":1266579,"display_name":"pitzdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24946,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1690965399,"creation_date":1331645767,"question_id":9685052,"body_markdown":"Help me to solve this error for project am developing   \r\n\r\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        WARN [main] SettingsFactory.buildSettings(147) | Could not obtain connection to query metadata\r\n        org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1549)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n        \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n        \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:114)\r\n        \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2833)\r\n        \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2829)\r\n        \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1840)\r\n        \tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:860)\r\n        \tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:779)\r\n        \tat org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\r\n        \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n        \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n        \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n        \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n        \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n        \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n        Caused by: java.sql.SQLException: Locale not recognized\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\r\n        \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\r\n        \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\r\n        \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n        \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n        \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n        \tat org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n        \tat org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\r\n        \t... 77 more\r\n        DEBUG [main] StartupListener.contextInitialized(43) | Initializing context...\r\n        DEBUG [main] StartupListener.contextInitialized(88) | Remember Me Enabled? true\r\n        DEBUG [main] StartupListener.contextInitialized(90) | Password Encoder: ShaPasswordEncoder\r\n        DEBUG [main] StartupListener.contextInitialized(92) | Populating drop-downs...\r\n        WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        2012-03-13 16:24:16.609:WARN::Failed startup of context org.mortbay.jetty.plugin.Jetty6PluginWebAppContext@d210ab{/,E:\\Private\\Projects\\recon\\recon\\target\\recon-1.0-SNAPSHOT.war}\r\n        org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection\r\n        \tat org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:596)\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat $Proxy105.getAllRoles(Unknown Source)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n        2012-03-13 16:24:16.611:WARN::Nested in org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection:\r\n        java.sql.SQLException: Locale not recognized\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\r\n        \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\r\n        \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\r\n        \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n        \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n        \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n        \tat org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n        \tat org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n        \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n        \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\r\n        \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\r\n        \tat org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\r\n        \tat org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\r\n        \tat org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\r\n        \tat org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:555)\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat $Proxy105.getAllRoles(Unknown Source)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>Help me to solve this error for project am developing   </p>\n\n<pre><code>WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    WARN [main] SettingsFactory.buildSettings(147) | Could not obtain connection to query metadata\n    org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Locale not recognized)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1549)\n        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n        at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n        at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:114)\n        at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2833)\n        at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2829)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1840)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:860)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:779)\n        at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\n        at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n        at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n        at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n    Caused by: java.sql.SQLException: Locale not recognized\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n        at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n        at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\n        ... 77 more\n    DEBUG [main] StartupListener.contextInitialized(43) | Initializing context...\n    DEBUG [main] StartupListener.contextInitialized(88) | Remember Me Enabled? true\n    DEBUG [main] StartupListener.contextInitialized(90) | Password Encoder: ShaPasswordEncoder\n    DEBUG [main] StartupListener.contextInitialized(92) | Populating drop-downs...\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    2012-03-13 16:24:16.609:WARN::Failed startup of context org.mortbay.jetty.plugin.Jetty6PluginWebAppContext@d210ab{/,E:\\Private\\Projects\\recon\\recon\\target\\recon-1.0-SNAPSHOT.war}\n    org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:596)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy105.getAllRoles(Unknown Source)\n        at com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\n        at com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n    2012-03-13 16:24:16.611:WARN::Nested in org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection:\n    java.sql.SQLException: Locale not recognized\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n        at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n        at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\n        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n        at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:555)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy105.getAllRoles(Unknown Source)\n        at com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\n        at com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n</code></pre>\n"},{"tags":["java","reactjs","keycloak","next-auth"],"owner":{"account_id":208926,"reputation":2979,"user_id":459706,"accept_rate":92,"display_name":"Łukasz Gruner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690965308,"creation_date":1690893635,"question_id":76811729,"body_markdown":"I am making an &quot;alternative&quot; login option to a react site using nextauth.js. Site uses keycloak for authentication.\r\nI&#39;ve managed to get token from keycloak using token_endpoint api by performing direct naked imersonation (I am provided with a login with no password and have to log in that user. I know it&#39;s not a very good idea to do that.).\r\n\r\nI am setting a secure httponly cookie named `__Secure-next-auth.session-token` with `access-token` from token.\r\n\r\nUnfortunately it doesn&#39;t work, I am getting errors about decrypting JWT. Ok, so I try to look it up.\r\n\r\nI found that nextauthjs uses sha256 for signing, but java 17 doesn&#39;t support sha256. What libraries support this?\r\n\r\nHow do I manually craft a cookie so that I&#39;ll be logged in properly?","title":"how to manually set nextauth.js session cookie","body":"<p>I am making an &quot;alternative&quot; login option to a react site using nextauth.js. Site uses keycloak for authentication.\nI've managed to get token from keycloak using token_endpoint api by performing direct naked imersonation (I am provided with a login with no password and have to log in that user. I know it's not a very good idea to do that.).</p>\n<p>I am setting a secure httponly cookie named <code>__Secure-next-auth.session-token</code> with <code>access-token</code> from token.</p>\n<p>Unfortunately it doesn't work, I am getting errors about decrypting JWT. Ok, so I try to look it up.</p>\n<p>I found that nextauthjs uses sha256 for signing, but java 17 doesn't support sha256. What libraries support this?</p>\n<p>How do I manually craft a cookie so that I'll be logged in properly?</p>\n"},{"tags":["java","maven","jboss"],"answers":[{"tags":[],"owner":{"account_id":19467234,"reputation":71,"user_id":14240293,"display_name":"Ben Koch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965008,"creation_date":1690965008,"answer_id":76817978,"question_id":76817903,"body_markdown":"One way you could automate the generation of the jboss-deployment-structure.xml is by using the Maven resource filtering feature, which allows you to replace placeholders in your resource files with their respective values from the Maven properties during the build process.\r\n\r\nYou would first need to include placeholders for the versions of your libraries in the jboss-deployment-structure.xml, like so:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;!-- Make sub deployments isolated by default, so they cannot see each others \r\n            classes without a Class-Path entry --&gt;\r\n        &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\r\n        &lt;deployment&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource-root path=&quot;lib/apache/commons-lang3-${commons.lang.version}.jar&quot; /&gt;\r\n                &lt;resource-root path=&quot;lib/joda/joda-time-${joda.time.version}.jar&quot; /&gt;\r\n            &lt;/resources&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\n\r\nNext, you would define these placeholders in your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;commons.lang.version&gt;3.3.2&lt;/commons.lang.version&gt;\r\n        &lt;joda.time.version&gt;2.0&lt;/joda.time.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nFinally, you would need to configure your project to use Maven resource filtering. You can do this by adding a resources element to your build configuration in your pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/application/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nThis setup will replace the placeholders in your jboss-deployment-structure.xml with the respective values from the Maven properties when you build your project.\r\n\r\nRemember to update the version numbers in the properties section of your pom.xml file whenever you change the version of a library, and the jboss-deployment-structure.xml will be updated automatically during the build process.\r\n\r\n","title":"Generating jboss-deployment.structure.xml using Maven","body":"<p>One way you could automate the generation of the jboss-deployment-structure.xml is by using the Maven resource filtering feature, which allows you to replace placeholders in your resource files with their respective values from the Maven properties during the build process.</p>\n<p>You would first need to include placeholders for the versions of your libraries in the jboss-deployment-structure.xml, like so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;!-- Make sub deployments isolated by default, so they cannot see each others \n        classes without a Class-Path entry --&gt;\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\n    &lt;deployment&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;lib/apache/commons-lang3-${commons.lang.version}.jar&quot; /&gt;\n            &lt;resource-root path=&quot;lib/joda/joda-time-${joda.time.version}.jar&quot; /&gt;\n        &lt;/resources&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>Next, you would define these placeholders in your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;commons.lang.version&gt;3.3.2&lt;/commons.lang.version&gt;\n    &lt;joda.time.version&gt;2.0&lt;/joda.time.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Finally, you would need to configure your project to use Maven resource filtering. You can do this by adding a resources element to your build configuration in your pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/application/META-INF&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>This setup will replace the placeholders in your jboss-deployment-structure.xml with the respective values from the Maven properties when you build your project.</p>\n<p>Remember to update the version numbers in the properties section of your pom.xml file whenever you change the version of a library, and the jboss-deployment-structure.xml will be updated automatically during the build process.</p>\n"}],"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690965008,"creation_date":1690964369,"question_id":76817903,"body_markdown":"I&#39;m currently migrating some Java project to Maven structure and I ran into a problem. Old EAR project contains `jboss-deployment-structure.xml`, so I&#39;ve moved it to a Maven project under `&lt;EAR-ROOT&gt;/src/main/application/META-INF`. When I build a project, descriptor is placed correctly in EAR file, but since it&#39;s Maven project, I&#39;m thinking about generating `jboss-deployment-structure.xml` using Maven, since it contains many references to jar libraries. Now when I e.g. change some Java library version in `pom.xml`, I also have to manually change it in `jboss-deployment-structure.xml`.\r\n\r\nPart of my `jboss-deployment-structure.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n    \t&lt;!-- Make sub deployments isolated by default, so they cannot see each others \r\n    \t\tclasses without a Class-Path entry --&gt;\r\n    \t&lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\r\n    \t&lt;deployment&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource-root path=&quot;lib/apache/commons-lang3-3.3.2.jar&quot; /&gt;\r\n    \t\t\t&lt;resource-root path=&quot;lib/joda/joda-time-2.0.jar&quot; /&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nSo my question - Is it possible to generate `jboss-deployment-structure.xml` using Maven? I&#39;ve already searched for some appropriate plugin, but I couldn&#39;t find any. Can descriptor be generated in any other way?\r\n\r\nThanks in advance.","title":"Generating jboss-deployment.structure.xml using Maven","body":"<p>I'm currently migrating some Java project to Maven structure and I ran into a problem. Old EAR project contains <code>jboss-deployment-structure.xml</code>, so I've moved it to a Maven project under <code>&lt;EAR-ROOT&gt;/src/main/application/META-INF</code>. When I build a project, descriptor is placed correctly in EAR file, but since it's Maven project, I'm thinking about generating <code>jboss-deployment-structure.xml</code> using Maven, since it contains many references to jar libraries. Now when I e.g. change some Java library version in <code>pom.xml</code>, I also have to manually change it in <code>jboss-deployment-structure.xml</code>.</p>\n<p>Part of my <code>jboss-deployment-structure.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;!-- Make sub deployments isolated by default, so they cannot see each others \n        classes without a Class-Path entry --&gt;\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\n    &lt;deployment&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;lib/apache/commons-lang3-3.3.2.jar&quot; /&gt;\n            &lt;resource-root path=&quot;lib/joda/joda-time-2.0.jar&quot; /&gt;\n        &lt;/resources&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>So my question - Is it possible to generate <code>jboss-deployment-structure.xml</code> using Maven? I've already searched for some appropriate plugin, but I couldn't find any. Can descriptor be generated in any other way?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","kotlin","jar","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690966859,"post_id":76817972,"comment_id":135425206,"body_markdown":"I don&#39;t really use Gradle, but debug the value of the classpath. Not really a good idea to use the default package for your main class btw","body":"I don&#39;t really use Gradle, but debug the value of the classpath. Not really a good idea to use the default package for your main class btw"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690964948,"creation_date":1690964948,"question_id":76817972,"body_markdown":"I create a Kotlin project contains some dependencies in Intelij IDEA. I want to build fat Jar file, so I can run the jar directly using the following command:\r\n\r\n`java -jar jira-api-1.0-SNAPSHOT.jar`\r\n\r\nHowever, when I generate the jar i got the error:\r\n\r\n```\r\nError: Could not find or load main class AppKt\r\nCaused by: java.lang.ClassNotFoundException: AppKt\r\n```\r\n\r\nI believe my AppKt.class is in the jar package.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vfqco.png\r\n\r\nBelow is my Gradle kts to build the jar file.\r\n\r\n```kts\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Class-Path&quot;] = configurations.compileClasspath.get().joinToString(&quot; &quot;) { it.name }\r\n        attributes[&quot;Main-Class&quot;] = &quot;AppKt&quot;\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    configurations.compileClasspath.get().forEach {\r\n        from(if (it.isDirectory) it else zipTree(it))\r\n    }\r\n}\r\n```\r\n\r\nAre there any additional configurations?\r\n\r\nThank you","title":"Error: Could not find or load main class when build Jar file","body":"<p>I create a Kotlin project contains some dependencies in Intelij IDEA. I want to build fat Jar file, so I can run the jar directly using the following command:</p>\n<p><code>java -jar jira-api-1.0-SNAPSHOT.jar</code></p>\n<p>However, when I generate the jar i got the error:</p>\n<pre><code>Error: Could not find or load main class AppKt\nCaused by: java.lang.ClassNotFoundException: AppKt\n</code></pre>\n<p>I believe my AppKt.class is in the jar package.</p>\n<p><a href=\"https://i.stack.imgur.com/vfqco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfqco.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my Gradle kts to build the jar file.</p>\n<pre><code>tasks.jar {\n    manifest {\n        attributes[&quot;Class-Path&quot;] = configurations.compileClasspath.get().joinToString(&quot; &quot;) { it.name }\n        attributes[&quot;Main-Class&quot;] = &quot;AppKt&quot;\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    configurations.compileClasspath.get().forEach {\n        from(if (it.isDirectory) it else zipTree(it))\n    }\n}\n</code></pre>\n<p>Are there any additional configurations?</p>\n<p>Thank you</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"score":1,"creation_date":1329803688,"post_id":9372843,"comment_id":11837312,"body_markdown":"same problem..it throws the same error....i even added &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /","body":"same problem..it throws the same error....i even added &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /"}],"tags":[],"owner":{"account_id":935527,"reputation":2393,"user_id":964506,"accept_rate":67,"display_name":"KK_07k11A0585"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329803480,"creation_date":1329803480,"answer_id":9372843,"question_id":9372805,"body_markdown":" Use **mediaDir.mkdirs();** instead of   **mediaDir.mkdir();** also you must require **WRITE_EXTERNAL_STORAGE** permission","title":"java.io.IOException: Read-only file system","body":"<p>Use <strong>mediaDir.mkdirs();</strong> instead of   <strong>mediaDir.mkdir();</strong> also you must require <strong>WRITE_EXTERNAL_STORAGE</strong> permission</p>\n"},{"comments":[{"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"score":0,"creation_date":1329804566,"post_id":9372983,"comment_id":11837462,"body_markdown":"i added  &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt; in the AndroidManifest.xml","body":"i added  &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt; in the AndroidManifest.xml"},{"owner":{"account_id":900048,"reputation":7584,"user_id":936414,"display_name":"user936414"},"score":1,"creation_date":1329805294,"post_id":9372983,"comment_id":11837636,"body_markdown":"If it is not rooted, /data will not have write permission. Refer http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app","body":"If it is not rooted, /data will not have write permission. Refer <a href=\"http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app\" rel=\"nofollow noreferrer\">developer.android.com/resources/samples/ApiDemos/src/com/&hellip;</a>"}],"tags":[],"owner":{"account_id":900048,"reputation":7584,"user_id":936414,"display_name":"user936414"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1329804425,"creation_date":1329804425,"answer_id":9372983,"question_id":9372805,"body_markdown":"Guess /data/data is not external storage. You need to have root permission in order to write to the /data directory. Refer https://stackoverflow.com/questions/1998400/data-directory-have-no-read-write-permission-in-android","title":"java.io.IOException: Read-only file system","body":"<p>Guess /data/data is not external storage. You need to have root permission in order to write to the /data directory. Refer <a href=\"https://stackoverflow.com/questions/1998400/data-directory-have-no-read-write-permission-in-android\">Data directory has no read/write permission in Android</a></p>\n"},{"comments":[{"owner":{"account_id":1054183,"reputation":3254,"user_id":1057261,"accept_rate":74,"display_name":"AndroDev"},"score":3,"creation_date":1329813333,"post_id":9373442,"comment_id":11839397,"body_markdown":"Though you have accepted answer, I don&#39;t think that is what you were looking for. /data/data is directory where all the application packages get installed. Your application package also will be maintained in this directory (/data/data/) only. So lets say your package name is **com.test.image**, in that case your media directory would be created whose path would be /data/data/com.test.image/app_media. So if you use getDir method of activity/context, you can directly access this /data/data folder and write file too. No need to write permissions in manifest.","body":"Though you have accepted answer, I don&#39;t think that is what you were looking for. /data/data is directory where all the application packages get installed. Your application package also will be maintained in this directory (/data/data/) only. So lets say your package name is <b>com.test.image</b>, in that case your media directory would be created whose path would be /data/data/com.test.image/app_media. So if you use getDir method of activity/context, you can directly access this /data/data folder and write file too. No need to write permissions in manifest."}],"tags":[],"owner":{"account_id":1054183,"reputation":3254,"user_id":1057261,"accept_rate":74,"display_name":"AndroDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329807481,"creation_date":1329807481,"answer_id":9373442,"question_id":9372805,"body_markdown":"You are creating file in Android system&#39;s root directory for which no application is allowed to.\r\n\r\n To create directory specific to your application, use [getDir(String dirName, int mode)][1] instead of `new File(&quot;media&quot;)`. By calling only, you can create media directory and use it.\r\n\r\n No need to do so many stuffs what you are doing in your above code. Also no need to give any permission in manifest too.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29","title":"java.io.IOException: Read-only file system","body":"<p>You are creating file in Android system's root directory for which no application is allowed to.</p>\n\n<p>To create directory specific to your application, use <a href=\"http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29\" rel=\"nofollow\">getDir(String dirName, int mode)</a> instead of <code>new File(\"media\")</code>. By calling only, you can create media directory and use it.</p>\n\n<p>No need to do so many stuffs what you are doing in your above code. Also no need to give any permission in manifest too.</p>\n"},{"tags":[],"owner":{"account_id":5580966,"reputation":11048,"user_id":4422856,"display_name":"shakram02"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564903563,"creation_date":1564903563,"answer_id":57344683,"question_id":9372805,"body_markdown":"You can try something like the following to make a folder in an `Activity`\r\n\r\n```Java\r\nthis.getDir(&quot;folder_name&quot;, Context.MODE_PRIVATE);\r\n```\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?class=android.content.Context&amp;method=getDir","title":"java.io.IOException: Read-only file system","body":"<p>You can try something like the following to make a folder in an <code>Activity</code></p>\n\n<pre><code>this.getDir(\"folder_name\", Context.MODE_PRIVATE);\n</code></pre>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/?class=android.content.Context&amp;method=getDir\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1690965008,"post_id":76817947,"comment_id":135424831,"body_markdown":"spring? the question is about android (and more than 10 years old, already answered more than 10 years ago too)","body":"spring? the question is about android (and more than 10 years old, already answered more than 10 years ago too)"}],"tags":[],"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690964760,"creation_date":1690964760,"answer_id":76817947,"question_id":9372805,"body_markdown":"In my case just i changed in property file\r\n\r\n       ## File upload custom properties\r\n        file.upload.location=/upload-directory\r\nto \r\n \r\n       file.upload.location=upload-directory\r\n\r\nOnly removal of slash(/) helps me in simple spring boot file upload poc.","title":"java.io.IOException: Read-only file system","body":"<p>In my case just i changed in property file</p>\n<pre><code>   ## File upload custom properties\n    file.upload.location=/upload-directory\n</code></pre>\n<p>to</p>\n<pre><code>   file.upload.location=upload-directory\n</code></pre>\n<p>Only removal of slash(/) helps me in simple spring boot file upload poc.</p>\n"}],"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51944,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9372983,"answer_count":5,"score":9,"last_activity_date":1690964760,"creation_date":1329803226,"question_id":9372805,"body_markdown":"    File mediaDir = new File(&quot;media&quot;);\r\n    if (!mediaDir.exists()){\r\n        mediaDir.createNewFile();\r\n        mediaDir.mkdir();\r\n    \r\n    }\r\n\r\n    File f = new File(&quot;/data/data/com.test.image/files/media/Voucher.jpg&quot;);\r\n    f.createNewFile();\r\n    FileOutputStream fos = new FileOutputStream(f);\r\n    fos.write(b);\r\n    fos.close();\r\n\r\nTry to write a file in phone internal memory but it throw an error: **java.io.IOException: Read-only file system**","title":"java.io.IOException: Read-only file system","body":"<pre><code>File mediaDir = new File(\"media\");\nif (!mediaDir.exists()){\n    mediaDir.createNewFile();\n    mediaDir.mkdir();\n\n}\n\nFile f = new File(\"/data/data/com.test.image/files/media/Voucher.jpg\");\nf.createNewFile();\nFileOutputStream fos = new FileOutputStream(f);\nfos.write(b);\nfos.close();\n</code></pre>\n\n<p>Try to write a file in phone internal memory but it throw an error: <strong>java.io.IOException: Read-only file system</strong></p>\n"},{"tags":["java","digital-signature","signature","dss"],"answers":[{"tags":[],"owner":{"account_id":25819156,"reputation":98,"user_id":19558604,"display_name":"bsanchezb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690964500,"creation_date":1657915373,"answer_id":72999088,"question_id":72646883,"body_markdown":"You may try to use [AppleSignatureToken](https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/AppleSignatureToken.java) available in DSS 5.10.\r\n\r\nAlso [Pkcs11SignatureToken](https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/Pkcs11SignatureToken.java) should work for MacOS as well, but you need a corresponding software, reading the smartcard/USB token.\r\n\r\nYou may also try a cross-platform [mocca](https://github.com/esig/dss-demonstrations/tree/master/sscd-mocca-adapter), or create a signature with ready-to-use [Nexu](https://github.com/nowina-solutions/nexu) bundle.\r\n\r\nBest regards,\r\nAleksandr.","title":"Sign PDF on macOs using USB TOKEN support","body":"<p>You may try to use <a href=\"https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/AppleSignatureToken.java\" rel=\"nofollow noreferrer\">AppleSignatureToken</a> available in DSS 5.10.</p>\n<p>Also <a href=\"https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/Pkcs11SignatureToken.java\" rel=\"nofollow noreferrer\">Pkcs11SignatureToken</a> should work for MacOS as well, but you need a corresponding software, reading the smartcard/USB token.</p>\n<p>You may also try a cross-platform <a href=\"https://github.com/esig/dss-demonstrations/tree/master/sscd-mocca-adapter\" rel=\"nofollow noreferrer\">mocca</a>, or create a signature with ready-to-use <a href=\"https://github.com/nowina-solutions/nexu\" rel=\"nofollow noreferrer\">Nexu</a> bundle.</p>\n<p>Best regards,\nAleksandr.</p>\n"}],"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690964500,"creation_date":1655386950,"question_id":72646883,"body_markdown":"I am developing software that allows signing PDF documents using cryptographic support.\r\n\r\nNow I can do this on windows using DSS signature, except DSS doesn&#39;t allow signing on macOS using a USB token.\r\n\r\nIs there a solution other than DSS that I can use on macOS to resolve this blockage ?","title":"Sign PDF on macOs using USB TOKEN support","body":"<p>I am developing software that allows signing PDF documents using cryptographic support.</p>\n<p>Now I can do this on windows using DSS signature, except DSS doesn't allow signing on macOS using a USB token.</p>\n<p>Is there a solution other than DSS that I can use on macOS to resolve this blockage ?</p>\n"},{"tags":["java","spring","resttemplate","apigee"],"answers":[{"tags":[],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690964413,"creation_date":1690964413,"answer_id":76817913,"question_id":76809840,"body_markdown":"Alright I found the issue and the culprit was inside the headers that were sent during the external API call. For some reason this WS is forwarding the exact same headers received when it&#39;s called during the external API call, and one of them was  **host**. \r\n\r\nAs described in [this Stackoverflow post][1] or in this [blog post][2], this header allows the recipient to know where does the request comes from. And in our case, my application is hosted in the cloud somewhere, and Apigee is in GCP somewhere else. Forwarding the host header results in Apigee receiving a request with an invalid host that can&#39;t be validated. Setting the proper headers I need to trasnmit to my external API resolved the problem. \r\n\r\nAs quoted:\r\n\r\n&gt; Depending on your configuration type, there are different ways you can prevent host header injections. Of course, the most straightforward approach is to distrust the host header at all times and not use it in server-side code. This simple change can essentially eliminate the possibility of a host header attack being launched against you.\r\n\r\n  [1]: https://stackoverflow.com/questions/43156023/what-is-http-host-header\r\n  [2]: https://crashtest-security.com/invalid-host-header/","title":"Issue reaching my Apigee proxy via Spring RestTemplate PUT method","body":"<p>Alright I found the issue and the culprit was inside the headers that were sent during the external API call. For some reason this WS is forwarding the exact same headers received when it's called during the external API call, and one of them was  <strong>host</strong>.</p>\n<p>As described in <a href=\"https://stackoverflow.com/questions/43156023/what-is-http-host-header\">this Stackoverflow post</a> or in this <a href=\"https://crashtest-security.com/invalid-host-header/\" rel=\"nofollow noreferrer\">blog post</a>, this header allows the recipient to know where does the request comes from. And in our case, my application is hosted in the cloud somewhere, and Apigee is in GCP somewhere else. Forwarding the host header results in Apigee receiving a request with an invalid host that can't be validated. Setting the proper headers I need to trasnmit to my external API resolved the problem.</p>\n<p>As quoted:</p>\n<blockquote>\n<p>Depending on your configuration type, there are different ways you can prevent host header injections. Of course, the most straightforward approach is to distrust the host header at all times and not use it in server-side code. This simple change can essentially eliminate the possibility of a host header attack being launched against you.</p>\n</blockquote>\n"}],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817913,"answer_count":1,"score":0,"last_activity_date":1690964413,"creation_date":1690878864,"question_id":76809840,"body_markdown":"I&#39;m having a wierd issue while migrating API calls from an old webapp from our previous API management to Apigee (GCP API management tool). I&#39;m not even sure that the fact I&#39;m trying to call Apigee is an issue itself but still I&#39;m mentioning it for the sake of completeness.\r\n\r\nHere is how the RestTemplate is configured\r\n\r\n    @Bean\r\n    public RestTemplatemyRestTemplate(\r\n            RestTemplateBuilder restTemplateBuilder,\r\n            @Value(&quot;${application.my.url}&quot;) String myUrl,\r\n            Supplier&lt;ClientHttpRequestFactory&gt; bufferingClientHttpRequestFactorySupplier,\r\n            OAuth2TokenService oAuth2TokenService\r\n    ) {\r\n        return restTemplateBuilder\r\n                .rootUri(myUrl)\r\n                .requestFactory(bufferingClientHttpRequestFactorySupplier)\r\n                .interceptors(new AuthorizationHeaderInterceptor(oAuth2TokenService)) // Oauth2 mechanism that is working well\r\n                .build();\r\n    }\r\n\r\nNow this is where the API call is done \r\n\r\n    public void createOrUpdateCustomerSource(Customer myCustomer, final HttpHeaders headers) throws TechnicalException {\r\n        final HttpEntity&lt;Customer&gt; httpEntity = new HttpEntity&lt;&gt;(myCustomer, headers);\r\n\r\n        final String myId = &quot;dummyId&quot;;\r\n\r\n        final String uri = UriComponentsBuilder\r\n                .newInstance()\r\n                .pathSegment(&quot;some-path&quot;, myId))\r\n                .build().toString();\r\n\r\n        try {\r\n            log.info(&quot;Sending PUT request for customer Id: {} at {}&quot;, myId, uri);\r\n\r\n            myRestTemplate.exchange(uri, HttpMethod.PUT, httpEntity, Void.class);\r\n\r\n        } catch (RestClientException e) {\r\n            // exception handling\r\n        }\r\n    }\r\n\r\nThis is quite basic I would say but for some reason I&#39;m getting this output from the resttemplate :\r\n\r\n*org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]*\r\n\r\nNothing reaches Apigee except the call to retrieve the authorization token. Obvisouly I&#39;ve tried to copy paste the exact same URL used by the RestTemplate on Postman and it works well since I can monitor that with Apigee. \r\n\r\nOne last thing I need to add is that if I call my API like that (without any body nor header) : \r\n*myRestTemplate.exchange(uri, HttpMethod.PUT, **null**, Void.class);* it DOES reach Apigee, which leads me to think that my way to do a PUT is wrong and I don&#39;t know why.","title":"Issue reaching my Apigee proxy via Spring RestTemplate PUT method","body":"<p>I'm having a wierd issue while migrating API calls from an old webapp from our previous API management to Apigee (GCP API management tool). I'm not even sure that the fact I'm trying to call Apigee is an issue itself but still I'm mentioning it for the sake of completeness.</p>\n<p>Here is how the RestTemplate is configured</p>\n<pre><code>@Bean\npublic RestTemplatemyRestTemplate(\n        RestTemplateBuilder restTemplateBuilder,\n        @Value(&quot;${application.my.url}&quot;) String myUrl,\n        Supplier&lt;ClientHttpRequestFactory&gt; bufferingClientHttpRequestFactorySupplier,\n        OAuth2TokenService oAuth2TokenService\n) {\n    return restTemplateBuilder\n            .rootUri(myUrl)\n            .requestFactory(bufferingClientHttpRequestFactorySupplier)\n            .interceptors(new AuthorizationHeaderInterceptor(oAuth2TokenService)) // Oauth2 mechanism that is working well\n            .build();\n}\n</code></pre>\n<p>Now this is where the API call is done</p>\n<pre><code>public void createOrUpdateCustomerSource(Customer myCustomer, final HttpHeaders headers) throws TechnicalException {\n    final HttpEntity&lt;Customer&gt; httpEntity = new HttpEntity&lt;&gt;(myCustomer, headers);\n\n    final String myId = &quot;dummyId&quot;;\n\n    final String uri = UriComponentsBuilder\n            .newInstance()\n            .pathSegment(&quot;some-path&quot;, myId))\n            .build().toString();\n\n    try {\n        log.info(&quot;Sending PUT request for customer Id: {} at {}&quot;, myId, uri);\n\n        myRestTemplate.exchange(uri, HttpMethod.PUT, httpEntity, Void.class);\n\n    } catch (RestClientException e) {\n        // exception handling\n    }\n}\n</code></pre>\n<p>This is quite basic I would say but for some reason I'm getting this output from the resttemplate :</p>\n<p><em>org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]</em></p>\n<p>Nothing reaches Apigee except the call to retrieve the authorization token. Obvisouly I've tried to copy paste the exact same URL used by the RestTemplate on Postman and it works well since I can monitor that with Apigee.</p>\n<p>One last thing I need to add is that if I call my API like that (without any body nor header) :\n<em>myRestTemplate.exchange(uri, HttpMethod.PUT, <strong>null</strong>, Void.class);</em> it DOES reach Apigee, which leads me to think that my way to do a PUT is wrong and I don't know why.</p>\n"},{"tags":["java","junit5","spring-boot-test","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690964244,"creation_date":1690964244,"answer_id":76817892,"question_id":76695555,"body_markdown":"That is not a test failure.\r\n\r\nRather, it is a `DEBUG` log message pointing out that `MicrometerObservationRegistryTestExecutionListener` could not be loaded due to missing _optional_ dependencies.\r\n\r\nYou can safely ignore that if you are not actively using Micrometer&#39;s `ObservationRegistry` support in your tests or your test&#39;s `ApplicationContext`.\r\n\r\nFurthermore, the support for `MicrometerObservationRegistryTestExecutionListener` has been improved in Spring Framework 6.0.11. See the following issues for details.\r\n\r\n- https://github.com/spring-projects/spring-framework/issues/30726\r\n- https://github.com/spring-projects/spring-framework/issues/30747\r\n\r\n\r\n\r\n\r\n","title":"SpringBootTests failed due to ClassNotFoundException ObservationThreadLocalAccessor","body":"<p>That is not a test failure.</p>\n<p>Rather, it is a <code>DEBUG</code> log message pointing out that <code>MicrometerObservationRegistryTestExecutionListener</code> could not be loaded due to missing <em>optional</em> dependencies.</p>\n<p>You can safely ignore that if you are not actively using Micrometer's <code>ObservationRegistry</code> support in your tests or your test's <code>ApplicationContext</code>.</p>\n<p>Furthermore, the support for <code>MicrometerObservationRegistryTestExecutionListener</code> has been improved in Spring Framework 6.0.11. See the following issues for details.</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/issues/30726\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30726</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/issues/30747\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30747</a></li>\n</ul>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690964244,"creation_date":1689450886,"question_id":76695555,"body_markdown":"I&#39;m not sure what is the root cause, but I suspect some incompatibility might take a place here.\r\n\r\nHere is my gradle.kts:\r\n\r\n    import Build_gradle.Constants.junit5Version\r\n    import Build_gradle.Constants.logbackVersion\r\n    import Build_gradle.Constants.lombokVersion\r\n    import Build_gradle.Constants.restAssuredVersion\r\n    import Build_gradle.Constants.slf4jVersion\r\n    \r\n    object Constants {\r\n        const val lombokVersion = &quot;1.18.28&quot;\r\n        const val restAssuredVersion = &quot;5.3.1&quot;\r\n        const val slf4jVersion = &quot;2.0.7&quot;\r\n        const val logbackVersion = &quot;1.4.8&quot;\r\n        const val junit5Version = &quot;5.9.3&quot;\r\n    }\r\n    \r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        kotlin(&quot;plugin.lombok&quot;) version &quot;1.8.10&quot;\r\n        id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\r\n        id (&quot;io.spring.dependency-management&quot;) version &quot;1.1.1&quot;\r\n    }\r\n    \r\n    group = &quot;org.home&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    \r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junit5Version}&quot;)\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:${junit5Version}&quot;) {\r\n            exclude(&quot;org.junit.jupiter&quot;, &quot;junit-jupiter-api&quot;)\r\n        }\r\n    \r\n    \r\n        implementation(&quot;org.slf4j:slf4j-api:${slf4jVersion}&quot;)\r\n        implementation(&quot;ch.qos.logback:logback-core:${logbackVersion}&quot;)\r\n        implementation(&quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;)\r\n    \r\n        implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.2&quot;)\r\n    \r\n        annotationProcessor(&quot;org.projectlombok:${lombokVersion}&quot;)\r\n        implementation(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n    \r\n        testImplementation(&quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot;) {\r\n            exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\r\n            exclude(&quot;io.rest-assured&quot;, &quot;rest-assured-common&quot;)\r\n            exclude(&quot;commons-logging&quot;, &quot;commons-logging&quot;)\r\n        }\r\n    \r\n        testImplementation(&quot;io.rest-assured:rest-assured-all:${restAssuredVersion}&quot;) {\r\n            exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\r\n            exclude(&quot;org.apache.groovy&quot;, &quot;groovy-xml&quot;)\r\n        }\r\n    \r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n            exclude(&quot;org.junit.jupiter&quot;,&quot;junit-jupiter&quot;)\r\n            exclude(&quot;org.mockito&quot;,&quot;mockito-junit-jupiter&quot;)\r\n            exclude(&quot;org.skyscreamer&quot;, &quot;jsonassert&quot;)\r\n            exclude(&quot;org.hamcrest&quot;, &quot;hamcrest&quot;)\r\n            exclude(&quot;org.mockito&quot;, &quot;mockito-core&quot;)\r\n        }\r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform() {}\r\n    }\r\n\r\nStack trace: \r\n\r\n        &quot;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&quot; -Dspring.profiles.active=test -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\lib\\idea_rt.jar=56118:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\bin&quot;...\r\n    21:42:49.029 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [org.home.tests.api.functional.NodeCreateTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    21:42:49.049 [main] DEBUG o.s.b.t.c.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [NodeCreateTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\r\n    21:42:49.143 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: [jakarta/servlet/ServletContext]\r\n    21:42:49.147 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Could not load TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener]. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes available.\r\n    java.lang.ExceptionInInitializerError: null\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:382)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:178)\r\n    \tat org.springframework.test.context.util.TestContextSpringFactoriesUtils.loadFactoryImplementations(TestContextSpringFactoriesUtils.java:71)\r\n    \tat org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListeners(AbstractTestContextBootstrapper.java:198)\r\n    \tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getDefaultTestExecutionListeners(SpringBootTestContextBootstrapper.java:128)\r\n    \tat org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:128)\r\n    \tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:131)\r\n    \tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:113)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.computeValue(ExtensionValuesStore.java:223)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:211)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:191)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:89)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:93)\r\n    \tat org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:294)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: java.lang.IllegalStateException: MicrometerObservationRegistryTestExecutionListener requires micrometer-observation 1.10.8 or higher\r\n    \tat org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:80)\r\n    \t... 85 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: io.micrometer.observation.contextpropagation.ObservationThreadLocalAccessor\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:467)\r\n    \tat org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:76)\r\n    \t... 85 common frames omitted\r\n\r\n\r\n\r\n------------------------------------ **RESOLVED** ------------------------------------\r\n\r\ndowngrading spring boot version resolved the issue    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot; \r\n","title":"SpringBootTests failed due to ClassNotFoundException ObservationThreadLocalAccessor","body":"<p>I'm not sure what is the root cause, but I suspect some incompatibility might take a place here.</p>\n<p>Here is my gradle.kts:</p>\n<pre><code>import Build_gradle.Constants.junit5Version\nimport Build_gradle.Constants.logbackVersion\nimport Build_gradle.Constants.lombokVersion\nimport Build_gradle.Constants.restAssuredVersion\nimport Build_gradle.Constants.slf4jVersion\n\nobject Constants {\n    const val lombokVersion = &quot;1.18.28&quot;\n    const val restAssuredVersion = &quot;5.3.1&quot;\n    const val slf4jVersion = &quot;2.0.7&quot;\n    const val logbackVersion = &quot;1.4.8&quot;\n    const val junit5Version = &quot;5.9.3&quot;\n}\n\nplugins {\n    id(&quot;java&quot;)\n    kotlin(&quot;plugin.lombok&quot;) version &quot;1.8.10&quot;\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\n    id (&quot;io.spring.dependency-management&quot;) version &quot;1.1.1&quot;\n}\n\ngroup = &quot;org.home&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junit5Version}&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:${junit5Version}&quot;) {\n        exclude(&quot;org.junit.jupiter&quot;, &quot;junit-jupiter-api&quot;)\n    }\n\n\n    implementation(&quot;org.slf4j:slf4j-api:${slf4jVersion}&quot;)\n    implementation(&quot;ch.qos.logback:logback-core:${logbackVersion}&quot;)\n    implementation(&quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;)\n\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.2&quot;)\n\n    annotationProcessor(&quot;org.projectlombok:${lombokVersion}&quot;)\n    implementation(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\n\n    testImplementation(&quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot;) {\n        exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\n        exclude(&quot;io.rest-assured&quot;, &quot;rest-assured-common&quot;)\n        exclude(&quot;commons-logging&quot;, &quot;commons-logging&quot;)\n    }\n\n    testImplementation(&quot;io.rest-assured:rest-assured-all:${restAssuredVersion}&quot;) {\n        exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\n        exclude(&quot;org.apache.groovy&quot;, &quot;groovy-xml&quot;)\n    }\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude(&quot;org.junit.jupiter&quot;,&quot;junit-jupiter&quot;)\n        exclude(&quot;org.mockito&quot;,&quot;mockito-junit-jupiter&quot;)\n        exclude(&quot;org.skyscreamer&quot;, &quot;jsonassert&quot;)\n        exclude(&quot;org.hamcrest&quot;, &quot;hamcrest&quot;)\n        exclude(&quot;org.mockito&quot;, &quot;mockito-core&quot;)\n    }\n}\n\ntasks.test {\n    useJUnitPlatform() {}\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>    &quot;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&quot; -Dspring.profiles.active=test -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\lib\\idea_rt.jar=56118:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\bin&quot;...\n21:42:49.029 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [org.home.tests.api.functional.NodeCreateTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n21:42:49.049 [main] DEBUG o.s.b.t.c.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [NodeCreateTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\n21:42:49.143 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: [jakarta/servlet/ServletContext]\n21:42:49.147 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Could not load TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener]. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes available.\njava.lang.ExceptionInInitializerError: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:382)\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:178)\n    at org.springframework.test.context.util.TestContextSpringFactoriesUtils.loadFactoryImplementations(TestContextSpringFactoriesUtils.java:71)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListeners(AbstractTestContextBootstrapper.java:198)\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getDefaultTestExecutionListeners(SpringBootTestContextBootstrapper.java:128)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:128)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:131)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:113)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.computeValue(ExtensionValuesStore.java:223)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:211)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:191)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:89)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:93)\n    at org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:294)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.IllegalStateException: MicrometerObservationRegistryTestExecutionListener requires micrometer-observation 1.10.8 or higher\n    at org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:80)\n    ... 85 common frames omitted\nCaused by: java.lang.ClassNotFoundException: io.micrometer.observation.contextpropagation.ObservationThreadLocalAccessor\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:76)\n    ... 85 common frames omitted\n</code></pre>\n<p>------------------------------------ <strong>RESOLVED</strong> ------------------------------------</p>\n<p>downgrading spring boot version resolved the issue    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1690963818,"post_id":4387549,"comment_id":135424544,"body_markdown":"Links in answer are all dead.","body":"Links in answer are all dead."}],"answers":[{"comments":[{"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"score":0,"creation_date":1291813038,"post_id":4387594,"comment_id":4780439,"body_markdown":"But what I need is not the duration, but a specific interval. For example: from 1/1/2011 to 10/1/2012. I&#39;ll edit the question to clarify","body":"But what I need is not the duration, but a specific interval. For example: from 1/1/2011 to 10/1/2012. I&#39;ll edit the question to clarify"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1291813074,"post_id":4387594,"comment_id":4780446,"body_markdown":"Doh, sorry, I&#39;m with you now.","body":"Doh, sorry, I&#39;m with you now."},{"owner":{"account_id":252157,"reputation":1337,"user_id":529996,"display_name":"Olivier Heidemann"},"score":0,"creation_date":1291817137,"post_id":4387594,"comment_id":4781336,"body_markdown":"you shouldn&#39;t remove it. at least the java version of the interval class is often used","body":"you shouldn&#39;t remove it. at least the java version of the interval class is often used"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1291821820,"post_id":4387594,"comment_id":4782429,"body_markdown":"@Olivier: Really? I personally haven&#39;t used it, nor can I see it being terribly useful... I guess it depends on your use case though.","body":"@Olivier: Really? I personally haven&#39;t used it, nor can I see it being terribly useful... I guess it depends on your use case though."},{"owner":{"account_id":252157,"reputation":1337,"user_id":529996,"display_name":"Olivier Heidemann"},"score":0,"creation_date":1291825327,"post_id":4387594,"comment_id":4783263,"body_markdown":"@Jon for example in case of an time fixed task with an immutable duration. I often use an interval. This would be backed by start and end instant fields in the db. Or alternatively an date and two &quot;minutes after midnight&quot; fields","body":"@Jon for example in case of an time fixed task with an immutable duration. I often use an interval. This would be backed by start and end instant fields in the db. Or alternatively an date and two &quot;minutes after midnight&quot; fields"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291814902,"creation_date":1291812561,"answer_id":4387594,"question_id":4387549,"body_markdown":"EDIT: Oops, misread that before.\r\n\r\nNo, there&#39;s nothing equivalent in Joda Time that I&#39;m aware of.\r\n\r\nPersonally I would just create my own class which included the start and end date: `LocalDateInterval` or something like that. I *wouldn&#39;t* reuse `Interval` for this, as it would be confusing the concepts: a pair of `LocalDate` values *doesn&#39;t* represent two instants, as a local date isn&#39;t really an instant.\r\n\r\nPersonally I don&#39;t find `Interval` particularly useful in Joda Time... I&#39;d been considering removing it from Noda Time. Now it sounds like I shouldn&#39;t ;)","title":"LocalDate interval in Joda-time","body":"<p>EDIT: Oops, misread that before.</p>\n\n<p>No, there's nothing equivalent in Joda Time that I'm aware of.</p>\n\n<p>Personally I would just create my own class which included the start and end date: <code>LocalDateInterval</code> or something like that. I <em>wouldn't</em> reuse <code>Interval</code> for this, as it would be confusing the concepts: a pair of <code>LocalDate</code> values <em>doesn't</em> represent two instants, as a local date isn't really an instant.</p>\n\n<p>Personally I don't find <code>Interval</code> particularly useful in Joda Time... I'd been considering removing it from Noda Time. Now it sounds like I shouldn't ;)</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1399362025,"post_id":4388338,"comment_id":36017474,"body_markdown":"The midnight-related classes and methods were replaced in Joda-Time 2.3 by the method `withTimeAtStartOfDay`.","body":"The midnight-related classes and methods were replaced in Joda-Time 2.3 by the method <code>withTimeAtStartOfDay</code>."}],"tags":[],"owner":{"account_id":252157,"reputation":1337,"user_id":529996,"display_name":"Olivier Heidemann"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1291910258,"creation_date":1291817058,"answer_id":4388338,"question_id":4387549,"body_markdown":"The [Interval][1] class represents an interval of time from one millisecond instant to another instant (complete with timezone). [DateMidnight][2] is such an instant. So your proposed implementation of an interval for DateMidnights is allready there.\r\n\r\n    Interval i = new Interval(\r\n        new DateMidnight(2010, 3, 2), new DateMidnight(2010, 3, 5));\r\n    \t\t\r\n    i.contains(new DateTime(2010, 3, 1, 23, 59, 59, 999)); // == false\r\n    i.contains(new DateTime(2010, 3, 2, 0, 0, 0, 0)); // == true\r\n    i.contains(new DateTime(2010, 3, 4, 23, 59, 59, 999)); // == true\r\n    i.contains(new DateTime(2010, 3, 5, 0, 0, 0, 0)); // == false\r\n\r\nHowever the concept of your searched interval for [LocalDates][3] aka a Partial (without timezones) is not yet existent. If you&#39;re going to implement it for yourself, don&#39;t implement any interval interfaces at all. It would interfere with your wishes, because it is, as stated before, based on instants.\r\n\r\n[1]: http://joda-time.sourceforge.net/api-release/org/joda/time/Interval.html\r\n[2]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateMidnight.html\r\n[3]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html","title":"LocalDate interval in Joda-time","body":"<p>The <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a> class represents an interval of time from one millisecond instant to another instant (complete with timezone). <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateMidnight.html\" rel=\"noreferrer\">DateMidnight</a> is such an instant. So your proposed implementation of an interval for DateMidnights is allready there.</p>\n\n<pre><code>Interval i = new Interval(\n    new DateMidnight(2010, 3, 2), new DateMidnight(2010, 3, 5));\n\ni.contains(new DateTime(2010, 3, 1, 23, 59, 59, 999)); // == false\ni.contains(new DateTime(2010, 3, 2, 0, 0, 0, 0)); // == true\ni.contains(new DateTime(2010, 3, 4, 23, 59, 59, 999)); // == true\ni.contains(new DateTime(2010, 3, 5, 0, 0, 0, 0)); // == false\n</code></pre>\n\n<p>However the concept of your searched interval for <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDates</a> aka a Partial (without timezones) is not yet existent. If you're going to implement it for yourself, don't implement any interval interfaces at all. It would interfere with your wishes, because it is, as stated before, based on instants.</p>\n"},{"comments":[{"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"score":0,"creation_date":1358124347,"post_id":13132397,"comment_id":19881662,"body_markdown":"Can you give a concrete example of where it would fail?","body":"Can you give a concrete example of where it would fail?"}],"tags":[],"owner":{"account_id":1990212,"reputation":41,"user_id":1784395,"display_name":"Michael Nascimento Santos"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351570950,"creation_date":1351569199,"answer_id":13132397,"question_id":4387549,"body_markdown":"Note that using `DateMidnight` will fail at the DST switch. It is better to convert using `date.toDateTimeAtStartOfDay()`.","title":"LocalDate interval in Joda-time","body":"<p>Note that using <code>DateMidnight</code> will fail at the DST switch. It is better to convert using <code>date.toDateTimeAtStartOfDay()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1450282,"reputation":468,"user_id":1367432,"display_name":"Dmitry Serdiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690964013,"creation_date":1361439205,"answer_id":14998753,"question_id":4387549,"body_markdown":"I needed intervals of LocalDate objects too but it&#39;s not supported by JodaTime.\r\nSo I had to create my own implementation. Later I&#39;ve decided to polish it a bit and make it open source.\r\n\r\nYou can check it out: https://github.com/serddmitry/joda-interval (available on Maven Central).","title":"LocalDate interval in Joda-time","body":"<p>I needed intervals of LocalDate objects too but it's not supported by JodaTime.\nSo I had to create my own implementation. Later I've decided to polish it a bit and make it open source.</p>\n<p>You can check it out: <a href=\"https://github.com/serddmitry/joda-interval\" rel=\"nofollow noreferrer\">https://github.com/serddmitry/joda-interval</a> (available on Maven Central).</p>\n"},{"tags":[],"owner":{"account_id":4428862,"reputation":356,"user_id":3606492,"display_name":"olivr"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1494446881,"creation_date":1399347285,"answer_id":23485533,"question_id":4387549,"body_markdown":"I personnaly use the [Range][1] class from Guava.\r\n\r\nIt supports open ended ranges. It is also possible to specify included or excluded bounds. Among other numerous possibilities, those allow to easily represent &quot;before a date&quot; or &quot;after a date&quot;.\r\n\r\nExample for open-ended intervals.\r\n\r\n    Range&lt;LocalDate&gt; before2010 = Range.atMost(new LocalDate(&quot;2009-12-31&quot;));\r\n    Range&lt;LocalDate&gt; alsoBefore2010 = Range.lessThan(new LocalDate(&quot;2010-01-01&quot;));\r\n\r\nIt also offerts easy testing predicates, like contains and containsAll, and an intersection operation. All this tested and maintained.\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html","title":"LocalDate interval in Joda-time","body":"<p>I personnaly use the <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html\" rel=\"noreferrer\">Range</a> class from Guava.</p>\n\n<p>It supports open ended ranges. It is also possible to specify included or excluded bounds. Among other numerous possibilities, those allow to easily represent \"before a date\" or \"after a date\".</p>\n\n<p>Example for open-ended intervals.</p>\n\n<pre><code>Range&lt;LocalDate&gt; before2010 = Range.atMost(new LocalDate(\"2009-12-31\"));\nRange&lt;LocalDate&gt; alsoBefore2010 = Range.lessThan(new LocalDate(\"2010-01-01\"));\n</code></pre>\n\n<p>It also offerts easy testing predicates, like contains and containsAll, and an intersection operation. All this tested and maintained.</p>\n"},{"tags":[],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497423660,"creation_date":1497423660,"answer_id":44537683,"question_id":4387549,"body_markdown":"    public class LocalDateInterval {\r\n   \r\n       private LocalDate begin;\r\n       private LocalDate end;\r\n   \r\n       public LocalDateInterval(LocalDate begin, LocalDate end) {\r\n         this.begin = begin;\r\n         this.end = end;\r\n       }\r\n   \r\n   \r\n\r\n    }\r\n\r\nThis works for me. ","title":"LocalDate interval in Joda-time","body":"<pre><code>public class LocalDateInterval {\n\n   private LocalDate begin;\n   private LocalDate end;\n\n   public LocalDateInterval(LocalDate begin, LocalDate end) {\n     this.begin = begin;\n     this.end = end;\n   }\n\n\n\n}\n</code></pre>\n\n<p>This works for me. </p>\n"}],"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22539,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":23485533,"answer_count":6,"score":33,"last_activity_date":1690964013,"creation_date":1291812233,"question_id":4387549,"body_markdown":"Joda-time has an [Interval][1] class, which is a range between [DateTime][2]s. What can be used for a range of [LocalDate][3]s?\r\n\r\nI want an object that represents, for example &quot;from 1/1/2011 to 10/1/2011&quot;, without the time (or timezones) ever coming into the picture.\r\n\r\nAs far as I see, joda-time doesn&#39;t have anything built in for that.\r\nIf there doesn&#39;t exist anything for it, and we&#39;d create it, what should it look like? Most importantly, which interfaces from joda-time could it implement to best integrate into the other types, staying consistent with the joda-time design?\r\nWould it make sense for it to implement `ReadableInterval`, where `getStart` and `getEnd` return `DateMidnight`?\r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/Interval.html\r\n  [2]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/DateTime.html\r\n  [3]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/LocalDate.html","title":"LocalDate interval in Joda-time","body":"<p>Joda-time has an <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a> class, which is a range between <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a>s. What can be used for a range of <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDate</a>s?</p>\n\n<p>I want an object that represents, for example \"from 1/1/2011 to 10/1/2011\", without the time (or timezones) ever coming into the picture.</p>\n\n<p>As far as I see, joda-time doesn't have anything built in for that.\nIf there doesn't exist anything for it, and we'd create it, what should it look like? Most importantly, which interfaces from joda-time could it implement to best integrate into the other types, staying consistent with the joda-time design?\nWould it make sense for it to implement <code>ReadableInterval</code>, where <code>getStart</code> and <code>getEnd</code> return <code>DateMidnight</code>?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690963931,"creation_date":1690963931,"question_id":76817858,"body_markdown":"Anyone can explain to me how can found a document by DBRef ?     \r\nI have this models : \r\n```\r\npublic class Person {\r\n    @BsonId\r\n    private ObjectId id;\r\n    private String name;\r\n    private DBRef book ;\r\n    // Getter &amp; Setter\r\n} \r\n\r\npublic class Book {\r\n    @BsonId\r\n    private ObjectId id ;\r\n    private String name ;\r\n    // Getter and Setter \r\n} \r\n``` \r\n\r\nand this Simple Main Class :  \r\n```\r\nimport com.mongodb.*;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport com.mongodb.client.gridfs.codecs.GridFSFileCodecProvider;\r\nimport com.mongodb.client.model.Filters;\r\nimport com.mongodb.client.model.geojson.codecs.GeoJsonCodecProvider;\r\nimport com.mongodb.connection.ClusterSettings;\r\nimport org.bson.codecs.BsonValueCodecProvider;\r\nimport org.bson.codecs.DocumentCodecProvider;\r\nimport org.bson.codecs.ValueCodecProvider;\r\nimport org.bson.codecs.configuration.CodecProvider;\r\nimport org.bson.codecs.configuration.CodecRegistries;\r\nimport org.bson.codecs.pojo.PojoCodecProvider;\r\nimport org.bson.types.ObjectId;\r\n\r\nimport java.util.List;\r\n\r\nimport static com.mongodb.MongoClientSettings.getDefaultCodecRegistry;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\n\r\npublic class MainClass {\r\n    private static final String HOST = &quot;127.0.0.1&quot;;\r\n    private static final int PORT = 27017;\r\n    private static final String USERNAME = &quot;admin&quot;;\r\n    private static final String PASSWORD = &quot;adminpass&quot;;\r\n    private static final String DATABASE = &quot;tutorial&quot;;\r\n\r\n    private static final List&lt;CodecProvider&gt; codecProviderList = List.of(\r\n            new ValueCodecProvider(),\r\n            new BsonValueCodecProvider(),\r\n            new DocumentCodecProvider(),\r\n            new DBRefCodecProvider(),\r\n            new DBObjectCodecProvider(),\r\n            new BsonValueCodecProvider(),\r\n            new GeoJsonCodecProvider(),\r\n            getDefaultCodecRegistry(),\r\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()),\r\n            new GridFSFileCodecProvider());\r\n    private static final MongoDatabase mongoDatabase;\r\n\r\n    private static void getHosts(ClusterSettings.Builder builder) {\r\n        builder.hosts(List.of(new ServerAddress(HOST, PORT)));\r\n    }\r\n\r\n    private static MongoClient createMongoClient() {\r\n        MongoCredential credential = MongoCredential.createCredential(USERNAME, DATABASE, PASSWORD.toCharArray());\r\n        MongoClientSettings settings = MongoClientSettings.builder()\r\n                .applyToClusterSettings(MainClass::getHosts)\r\n                .credential(credential)\r\n                .build();\r\n        return MongoClients.create(settings);\r\n    }\r\n\r\n    public static MongoDatabase getDatabase(MongoClient mongoClient) {\r\n        return mongoClient.getDatabase(DATABASE)\r\n                .withCodecRegistry(CodecRegistries.fromProviders(codecProviderList));\r\n    }\r\n\r\n    static {\r\n        MongoClient mongoClient = createMongoClient();\r\n        mongoDatabase = getDatabase(mongoClient);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MongoCollection&lt;Person&gt; personCollection = mongoDatabase.getCollection(&quot;person&quot;, Person.class);\r\n        MongoCollection&lt;Book&gt; bookCollection = mongoDatabase.getCollection(&quot;book&quot;, Book.class);\r\n\r\n        /* Insert to database */\r\n/*\r\n        Book book = new Book();\r\n        book.setName(&quot;Test Book&quot;);\r\n        bookCollection.insertOne(book);\r\n\r\n\r\n        Person person = new Person();\r\n        person.setName(&quot;Mohammad&quot;);\r\n        person.setBook(new DBRef(&quot;book&quot;,book.getId()));\r\n        personCollection.insertOne(person);\r\n*/\r\n\r\n        Person person = personCollection.find(Filters.eq(&quot;name&quot;, &quot;Mohammad&quot;)).first();\r\n        ObjectId personObjectId = person.getId();\r\n\r\n        Book book = bookCollection.find(Filters.eq(&quot;book&quot;, new DBRef(&quot;person&quot;, personObjectId))).first();\r\n        System.out.println(book.getName());\r\n    }\r\n}\r\n``` \r\n\r\nWhy I always receive this error ?   \r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\r\n``` \r\n","title":"Java &amp; MongoDB find document by DBRef","body":"<p>Anyone can explain to me how can found a document by DBRef ?<br />\nI have this models :</p>\n<pre><code>public class Person {\n    @BsonId\n    private ObjectId id;\n    private String name;\n    private DBRef book ;\n    // Getter &amp; Setter\n} \n\npublic class Book {\n    @BsonId\n    private ObjectId id ;\n    private String name ;\n    // Getter and Setter \n} \n</code></pre>\n<p>and this Simple Main Class :</p>\n<pre><code>import com.mongodb.*;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.gridfs.codecs.GridFSFileCodecProvider;\nimport com.mongodb.client.model.Filters;\nimport com.mongodb.client.model.geojson.codecs.GeoJsonCodecProvider;\nimport com.mongodb.connection.ClusterSettings;\nimport org.bson.codecs.BsonValueCodecProvider;\nimport org.bson.codecs.DocumentCodecProvider;\nimport org.bson.codecs.ValueCodecProvider;\nimport org.bson.codecs.configuration.CodecProvider;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.pojo.PojoCodecProvider;\nimport org.bson.types.ObjectId;\n\nimport java.util.List;\n\nimport static com.mongodb.MongoClientSettings.getDefaultCodecRegistry;\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\n\npublic class MainClass {\n    private static final String HOST = &quot;127.0.0.1&quot;;\n    private static final int PORT = 27017;\n    private static final String USERNAME = &quot;admin&quot;;\n    private static final String PASSWORD = &quot;adminpass&quot;;\n    private static final String DATABASE = &quot;tutorial&quot;;\n\n    private static final List&lt;CodecProvider&gt; codecProviderList = List.of(\n            new ValueCodecProvider(),\n            new BsonValueCodecProvider(),\n            new DocumentCodecProvider(),\n            new DBRefCodecProvider(),\n            new DBObjectCodecProvider(),\n            new BsonValueCodecProvider(),\n            new GeoJsonCodecProvider(),\n            getDefaultCodecRegistry(),\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()),\n            new GridFSFileCodecProvider());\n    private static final MongoDatabase mongoDatabase;\n\n    private static void getHosts(ClusterSettings.Builder builder) {\n        builder.hosts(List.of(new ServerAddress(HOST, PORT)));\n    }\n\n    private static MongoClient createMongoClient() {\n        MongoCredential credential = MongoCredential.createCredential(USERNAME, DATABASE, PASSWORD.toCharArray());\n        MongoClientSettings settings = MongoClientSettings.builder()\n                .applyToClusterSettings(MainClass::getHosts)\n                .credential(credential)\n                .build();\n        return MongoClients.create(settings);\n    }\n\n    public static MongoDatabase getDatabase(MongoClient mongoClient) {\n        return mongoClient.getDatabase(DATABASE)\n                .withCodecRegistry(CodecRegistries.fromProviders(codecProviderList));\n    }\n\n    static {\n        MongoClient mongoClient = createMongoClient();\n        mongoDatabase = getDatabase(mongoClient);\n    }\n\n    public static void main(String[] args) {\n        MongoCollection&lt;Person&gt; personCollection = mongoDatabase.getCollection(&quot;person&quot;, Person.class);\n        MongoCollection&lt;Book&gt; bookCollection = mongoDatabase.getCollection(&quot;book&quot;, Book.class);\n\n        /* Insert to database */\n/*\n        Book book = new Book();\n        book.setName(&quot;Test Book&quot;);\n        bookCollection.insertOne(book);\n\n\n        Person person = new Person();\n        person.setName(&quot;Mohammad&quot;);\n        person.setBook(new DBRef(&quot;book&quot;,book.getId()));\n        personCollection.insertOne(person);\n*/\n\n        Person person = personCollection.find(Filters.eq(&quot;name&quot;, &quot;Mohammad&quot;)).first();\n        ObjectId personObjectId = person.getId();\n\n        Book book = bookCollection.find(Filters.eq(&quot;book&quot;, new DBRef(&quot;person&quot;, personObjectId))).first();\n        System.out.println(book.getName());\n    }\n}\n</code></pre>\n<p>Why I always receive this error ?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\n</code></pre>\n"},{"tags":["java","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":432566,"reputation":6917,"user_id":817399,"accept_rate":70,"display_name":"vainolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342178847,"creation_date":1342178847,"answer_id":11469603,"question_id":11469218,"body_markdown":"What he means is that if you don&#39;t know what a thread does and how it works, you should not interrupt it. Since all threads can be interrupted, it is logical to have an `interrupt()` method in class `Thread`.\r\n\r\nYou could ask the same thing for many other methods that can do &quot;harm&quot; when executed at the wrong place. The methods are the tools, and the programmer must use these tools wisely in order to create a program that works correctly.","title":"What or who should interrupt a Thread?","body":"<p>What he means is that if you don't know what a thread does and how it works, you should not interrupt it. Since all threads can be interrupted, it is logical to have an <code>interrupt()</code> method in class <code>Thread</code>.</p>\n\n<p>You could ask the same thing for many other methods that can do \"harm\" when executed at the wrong place. The methods are the tools, and the programmer must use these tools wisely in order to create a program that works correctly.</p>\n"},{"comments":[{"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"score":1,"creation_date":1342180332,"post_id":11469604,"comment_id":15143013,"body_markdown":"I do not get how it answers my question .you provided text on what the yield(),join() and sleep can do ...I think your answer and my question are disconnected or am I missing something here ?","body":"I do not get how it answers my question .you provided text on what the yield(),join() and sleep can do ...I think your answer and my question are disconnected or am I missing something here ?"},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1342180818,"post_id":11469604,"comment_id":15143203,"body_markdown":"If you don&#39;t understand what is mentioned there then you need to study more. I was just about to mention the same in my answer before I found that question.","body":"If you don&#39;t understand what is mentioned there then you need to study more. I was just about to mention the same in my answer before I found that question."},{"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"score":0,"creation_date":1342181470,"post_id":11469604,"comment_id":15143462,"body_markdown":"the link is okay but everything after the first paragraph in your answer is unnecessary and did not add any value to my question . Hence the -1.","body":"the link is okay but everything after the first paragraph in your answer is unnecessary and did not add any value to my question . Hence the -1."},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1342181655,"post_id":11469604,"comment_id":15143554,"body_markdown":"-1 doesn&#39;t matter me but I added it just for an additional thing. Hopefully thought that it might be useful to someone.","body":"-1 doesn&#39;t matter me but I added it just for an additional thing. Hopefully thought that it might be useful to someone."}],"tags":[],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1342178858,"creation_date":1342178858,"answer_id":11469604,"question_id":11469218,"body_markdown":"I first recommend you to read [Java Concurrency in Practice][1].\r\n\r\nI think, this [question][2] can answer what you mentioned.\r\n\r\nBy the way, let&#39;s see how we can prevent threads. We can prevent a thread from execution by using any of the 3 methods of Thread class:\r\n\r\n1. `yield()`\r\n2. `join()`\r\n3. `sleep()`\r\n\r\n&lt;!-- pointless thing to prevent markdown from screwing up --&gt;\r\n\r\n1. `yield()` method pauses the currently executing thread temporarily for giving a chance to the remaining waiting threads of the same priority to execute. If there is no waiting thread or all the waiting threads have a lower priority then the same thread will continue its execution. The yielded thread when it will get the chance for execution is decided by the thread scheduler whose behavior is vendor dependent.\r\n    \r\n2. `join()` If any executing thread t1 calls `join()` on t2 i.e; `t2.join()` immediately t1 will enter into waiting state until t2 completes its execution.\r\n    \r\n3. `sleep()` Based on our requirement we can make a thread to be in sleeping state for a specified period of time.\r\n\r\n\r\n  [1]: http://www.javaconcurrencyinpractice.com/\r\n  [2]: https://stackoverflow.com/questions/2020992/is-thread-interrupt-evil","title":"What or who should interrupt a Thread?","body":"<p>I first recommend you to read <a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>.</p>\n\n<p>I think, this <a href=\"https://stackoverflow.com/questions/2020992/is-thread-interrupt-evil\">question</a> can answer what you mentioned.</p>\n\n<p>By the way, let's see how we can prevent threads. We can prevent a thread from execution by using any of the 3 methods of Thread class:</p>\n\n<ol>\n<li><code>yield()</code></li>\n<li><code>join()</code></li>\n<li><code>sleep()</code></li>\n</ol>\n\n\n\n<ol>\n<li><p><code>yield()</code> method pauses the currently executing thread temporarily for giving a chance to the remaining waiting threads of the same priority to execute. If there is no waiting thread or all the waiting threads have a lower priority then the same thread will continue its execution. The yielded thread when it will get the chance for execution is decided by the thread scheduler whose behavior is vendor dependent.</p></li>\n<li><p><code>join()</code> If any executing thread t1 calls <code>join()</code> on t2 i.e; <code>t2.join()</code> immediately t1 will enter into waiting state until t2 completes its execution.</p></li>\n<li><p><code>sleep()</code> Based on our requirement we can make a thread to be in sleeping state for a specified period of time.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":292436,"reputation":2498,"user_id":595189,"accept_rate":92,"display_name":"TeaOverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342179928,"creation_date":1342179928,"answer_id":11469863,"question_id":11469218,"body_markdown":"Well, its not a flaw, by no means. (However, other methods like `Thread.stop()`  indeed are) \r\n\r\nWhat makes `Thread.interrupt()`better is that it only affects the thread if it  is blocked/waiting/sleeping. If it is running `interrupt()` only asks the thread to stop doing so by setting a status variable, which can be queried by `Thread.interrupted()` or `Thread.isInterrupted()`\r\n\r\nUsually, it is the best way to let threads return from their `run()` method instead of stopping them externally in any way. \r\n\r\n    void run() {\r\n        while(!isInterrupted())\r\n            //executed\r\n    \r\n    }\r\n\r\nBe careful  with `Thread.interrupted()` though, because it clears the interupt-status.\r\n","title":"What or who should interrupt a Thread?","body":"<p>Well, its not a flaw, by no means. (However, other methods like <code>Thread.stop()</code>  indeed are) </p>\n\n<p>What makes <code>Thread.interrupt()</code>better is that it only affects the thread if it  is blocked/waiting/sleeping. If it is running <code>interrupt()</code> only asks the thread to stop doing so by setting a status variable, which can be queried by <code>Thread.interrupted()</code> or <code>Thread.isInterrupted()</code></p>\n\n<p>Usually, it is the best way to let threads return from their <code>run()</code> method instead of stopping them externally in any way. </p>\n\n<pre><code>void run() {\n    while(!isInterrupted())\n        //executed\n\n}\n</code></pre>\n\n<p>Be careful  with <code>Thread.interrupted()</code> though, because it clears the interupt-status.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690963906,"creation_date":1690961908,"answer_id":76817607,"question_id":11469218,"body_markdown":"I don&#39;t think accepted answer exactly answers Goetzs statement.\r\nYou should call `interrupt()` only to restore interrupted flag after catching `InterruptedException` if you can&#39;t rethrow it.\r\nUnless it is your own thread (you call `start()` on it somewhere)\r\n","title":"What or who should interrupt a Thread?","body":"<p>I don't think accepted answer exactly answers Goetzs statement.\nYou should call <code>interrupt()</code> only to restore interrupted flag after catching <code>InterruptedException</code> if you can't rethrow it.\nUnless it is your own thread (you call <code>start()</code> on it somewhere)</p>\n"}],"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11469603,"answer_count":4,"score":6,"last_activity_date":1690963906,"creation_date":1342177426,"question_id":11469218,"body_markdown":"According to Goetz in his book JCIP :\r\n\r\n&gt; Because each thread has its own interruption policy , you should not interrupt a thread unless you know what interruption means to that thread .\r\n\r\nWhy did the Java language provide a `public interrupt ()` method then ?Is this a design flaw? Who or what is supposed to interrupt a thread then ?","title":"What or who should interrupt a Thread?","body":"<p>According to Goetz in his book JCIP :</p>\n\n<blockquote>\n  <p>Because each thread has its own interruption policy , you should not interrupt a thread unless you know what interruption means to that thread .</p>\n</blockquote>\n\n<p>Why did the Java language provide a <code>public interrupt ()</code> method then ?Is this a design flaw? Who or what is supposed to interrupt a thread then ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690962415,"post_id":76817574,"comment_id":135424238,"body_markdown":"When Spring creates an instance of `JwtApplication`, what values are you expecting it to use for `a` and `b`?","body":"When Spring creates an instance of <code>JwtApplication</code>, what values are you expecting it to use for <code>a</code> and <code>b</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690962756,"creation_date":1690962756,"answer_id":76817706,"question_id":76817574,"body_markdown":"This has nothing to do with primitive vs. wrapper types.\r\n\r\nWhen the line\r\n```java\r\nSpringApplication.run(JwtApplication.class, args);\r\n```\r\nis executed, Spring Boot will create an instance of JwtApplication for you, using it&#39;s dependency injection mechanism. Since the only constructor of JwtApplication has two int arguments, Spring Boot needs to know which numbers to use. And it has no way to know.\r\n\r\nSolution: Don&#39;t do anything fancy in your main class. Remove all the extra code (and put it somewhere else), so that only\r\n```java\r\n@SpringBootApplication\r\npublic class JwtApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JwtApplication.class, args);\r\n    }\r\n}\r\n```\r\nremains.","title":"Why SpringBoot does not uses primitive data types instead it suggests to use Wrapper Class .?","body":"<p>This has nothing to do with primitive vs. wrapper types.</p>\n<p>When the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpringApplication.run(JwtApplication.class, args);\n</code></pre>\n<p>is executed, Spring Boot will create an instance of JwtApplication for you, using it's dependency injection mechanism. Since the only constructor of JwtApplication has two int arguments, Spring Boot needs to know which numbers to use. And it has no way to know.</p>\n<p>Solution: Don't do anything fancy in your main class. Remove all the extra code (and put it somewhere else), so that only</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class JwtApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(JwtApplication.class, args);\n    }\n}\n</code></pre>\n<p>remains.</p>\n"}],"owner":{"account_id":28879742,"reputation":1,"user_id":22119456,"display_name":"Gokul Krishnan J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690962756,"creation_date":1690961665,"question_id":76817574,"body_markdown":"I am Working with Springboot and I declared int a; it suggested to create a bean with wrapper class.\r\n\r\n\r\nExplanation of why we creating bean with wrapper class.\r\n\r\nhere is my code and error \r\n```\r\npackage com.example.jwt;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class JwtApplication {\r\n\tint a;\r\n\tint b;\r\n\r\n\tpublic JwtApplication(int a,int b){\r\n\t\tthis.a = a;\r\n\t\tthis.b = b;\r\n\t}\r\n\tpublic int area(){\r\n\t\treturn a*b;\r\n\t}\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JwtApplication.class, args);\r\n\t\tJwtApplication ob = new JwtApplication(1,2);\r\n\t\tint area = ob.area();\r\n\t\tSystem.out.println(area);\r\n\t}\r\n\r\n}\r\n\r\n```Description:\r\n\r\nParameter 0 of constructor in com.example.jwt.JwtApplication required a bean of type &#39;int&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;int&#39; in your configuration.\r\n\r\n","title":"Why SpringBoot does not uses primitive data types instead it suggests to use Wrapper Class .?","body":"<p>I am Working with Springboot and I declared int a; it suggested to create a bean with wrapper class.</p>\n<p>Explanation of why we creating bean with wrapper class.</p>\n<p>here is my code and error</p>\n<pre><code>package com.example.jwt;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class JwtApplication {\n    int a;\n    int b;\n\n    public JwtApplication(int a,int b){\n        this.a = a;\n        this.b = b;\n    }\n    public int area(){\n        return a*b;\n    }\n\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(JwtApplication.class, args);\n        JwtApplication ob = new JwtApplication(1,2);\n        int area = ob.area();\n        System.out.println(area);\n    }\n\n}\n\n```Description:\n\nParameter 0 of constructor in com.example.jwt.JwtApplication required a bean of type 'int' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'int' in your configuration.\n\n</code></pre>\n"},{"tags":["java","nio","randomaccessfile","filechannel"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1417065237,"post_id":27163488,"comment_id":42819775,"body_markdown":"Why? Well, *Currently I am using `transferTO` method of `FileChannel `to read and copy* is one good reason.","body":"Why? Well, <i>Currently I am using <code>transferTO</code> method of <code>FileChannel </code>to read and copy</i> is one good reason."},{"owner":{"account_id":2117354,"reputation":2577,"user_id":1881309,"accept_rate":51,"display_name":"fscore"},"score":0,"creation_date":1417065348,"post_id":27163488,"comment_id":42819802,"body_markdown":"I mean I am not using it but eventually would like to but not sure how to identify if that is better than RAF","body":"I mean I am not using it but eventually would like to but not sure how to identify if that is better than RAF"}],"answers":[{"comments":[{"owner":{"account_id":2117354,"reputation":2577,"user_id":1881309,"accept_rate":51,"display_name":"fscore"},"score":1,"creation_date":1417065520,"post_id":27163537,"comment_id":42819833,"body_markdown":"But they mention about the filechannel&#39;s read and write itself instead of any other read or write methods","body":"But they mention about the filechannel&#39;s read and write itself instead of any other read or write methods"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417065399,"creation_date":1417065399,"answer_id":27163537,"question_id":27163488,"body_markdown":"FileChannel API says: A region of a file may be mapped directly into memory; for large files this is often much more efficient than invoking the usual read or write methods. ","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>FileChannel API says: A region of a file may be mapped directly into memory; for large files this is often much more efficient than invoking the usual read or write methods. </p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1417066237,"creation_date":1417066237,"answer_id":27163686,"question_id":27163488,"body_markdown":"RandomAccessFile is good in performance plus it allows to read and write most major types directly.","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>RandomAccessFile is good in performance plus it allows to read and write most major types directly.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690963998,"post_id":27164160,"comment_id":135424585,"body_markdown":"Doesn&#39;t answer the question that was asked.","body":"Doesn&#39;t answer the question that was asked."}],"tags":[],"owner":{"account_id":5398200,"reputation":109,"user_id":4298747,"display_name":"Shiva Krish"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1417068712,"creation_date":1417068712,"answer_id":27164160,"question_id":27163488,"body_markdown":"**FileChannel**s are safe for use by multiple concurrent threads.","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p><strong>FileChannel</strong>s are safe for use by multiple concurrent threads.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417750544,"creation_date":1417740768,"answer_id":27306995,"question_id":27163488,"body_markdown":"There is nothing to choose between them unless you use a `FileChannel` with direct buffers and never access the data yourself, e.g. you only copy it to a `SocketChannel.` This is faster because data never has to cross the JNI/JVM boundary.\r\n\r\nBut I am wondering why you don&#39;t pick `BufferedReader`. It will *certainly* be orders of magnitude faster than either of these for reading a file line by line. ","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>There is nothing to choose between them unless you use a <code>FileChannel</code> with direct buffers and never access the data yourself, e.g. you only copy it to a <code>SocketChannel.</code> This is faster because data never has to cross the JNI/JVM boundary.</p>\n\n<p>But I am wondering why you don't pick <code>BufferedReader</code>. It will <em>certainly</em> be orders of magnitude faster than either of these for reading a file line by line. </p>\n"},{"comments":[{"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"score":5,"creation_date":1456230973,"post_id":28374280,"comment_id":58841881,"body_markdown":"This is incorrect. FileChannel is not used internally within RandomAccessFile and is only initialised is getChannel is called. Native methods are used to open/read/write the underlying file.","body":"This is incorrect. FileChannel is not used internally within RandomAccessFile and is only initialised is getChannel is called. Native methods are used to open/read/write the underlying file."},{"owner":{"account_id":1599292,"reputation":1261,"user_id":1480684,"display_name":"Ronn Macc"},"score":2,"creation_date":1527748846,"post_id":28374280,"comment_id":88245974,"body_markdown":"It is provided as a public method for anyone to get reference to the FileChannel for the underlying file.","body":"It is provided as a public method for anyone to get reference to the FileChannel for the underlying file."}],"tags":[],"owner":{"account_id":192288,"reputation":18238,"user_id":433344,"accept_rate":63,"display_name":"Robert Christian"},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1423254703,"creation_date":1423254703,"answer_id":28374280,"question_id":27163488,"body_markdown":"**RandomAccessFile source:**\r\n\r\n*See that RandomAccessFile is actually using FileChannel under the hood...*\r\n\r\n    public final FileChannel getChannel() {\r\n             synchronized (this) {\r\n                 if (channel == null) {\r\n                     channel = FileChannelImpl.open(fd, true, rw, this);\r\n     \r\n                     /*\r\n                      * FileDescriptor could be shared by FileInputStream or\r\n                      * FileOutputStream.\r\n                      * Ensure that FD is GC&#39;ed only when all the streams/channels\r\n                      * are done using it.\r\n                      * Increment fd&#39;s use count. Invoking the channel&#39;s close()\r\n                      * method will result in decrementing the use count set for\r\n                      * the channel.\r\n                      */\r\n                     fd.incrementAndGetUseCount();\r\n                 }\r\n                 return channel;\r\n             }\r\n         }\r\n\r\nhttp://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p><strong>RandomAccessFile source:</strong></p>\n\n<p><em>See that RandomAccessFile is actually using FileChannel under the hood...</em></p>\n\n<pre><code>public final FileChannel getChannel() {\n         synchronized (this) {\n             if (channel == null) {\n                 channel = FileChannelImpl.open(fd, true, rw, this);\n\n                 /*\n                  * FileDescriptor could be shared by FileInputStream or\n                  * FileOutputStream.\n                  * Ensure that FD is GC'ed only when all the streams/channels\n                  * are done using it.\n                  * Increment fd's use count. Invoking the channel's close()\n                  * method will result in decrementing the use count set for\n                  * the channel.\n                  */\n                 fd.incrementAndGetUseCount();\n             }\n             return channel;\n         }\n     }\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java\" rel=\"nofollow\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java</a></p>\n"}],"owner":{"account_id":2117354,"reputation":2577,"user_id":1881309,"accept_rate":51,"display_name":"fscore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7626,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1690962493,"creation_date":1417065095,"question_id":27163488,"body_markdown":"I recently came across [FileChannel][1], I am a big fan of [RandomAccessFile][2]. But I am wondering why would I pick `FileChannel` over `RandomAccessFile` for reading from a file and writing that content to another.\r\n\r\nIs there any specific performance reason? I dont want to use locking of `FileChannel` for any purpose as I believe that could be one of the reasons why filechannel can be used. I don&#39;t want to use `BufferReader` or anything like that as suggested in [other][3] StackOverflow response. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\r\n  [3]: https://stackoverflow.com/questions/13190989/randomaccessfile-vs-java-nio-file-channel-with-buffers","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>I recently came across <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"nofollow noreferrer\">FileChannel</a>, I am a big fan of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">RandomAccessFile</a>. But I am wondering why would I pick <code>FileChannel</code> over <code>RandomAccessFile</code> for reading from a file and writing that content to another.</p>\n\n<p>Is there any specific performance reason? I dont want to use locking of <code>FileChannel</code> for any purpose as I believe that could be one of the reasons why filechannel can be used. I don't want to use <code>BufferReader</code> or anything like that as suggested in <a href=\"https://stackoverflow.com/questions/13190989/randomaccessfile-vs-java-nio-file-channel-with-buffers\">other</a> StackOverflow response. </p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"score":0,"creation_date":1659501148,"post_id":73216109,"comment_id":129306976,"body_markdown":"Thank you!! It work!! Provides some directions to learn more!  Thanks again!!","body":"Thank you!! It work!! Provides some directions to learn more!  Thanks again!!"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690962470,"creation_date":1659498699,"answer_id":73216109,"question_id":73215752,"body_markdown":"The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:\r\n\r\n    private UserRepository userRepository;\r\n\r\n\tpublic HelloJob() {\r\n\t\tthis.userRepository = SpringBeanUtils.getBean(UserRepository.class);\r\n\t}\r\n\r\nThe SpringBeanUtils :\r\n\r\n    @Component\r\n    public class SpringBeanUtils implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        public static Object getBean(String name) {\r\n            return getApplicationContext().getBean(name);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(name, clazz);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(clazz);\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            Assert.notNull(context, &quot;applicationContext must be not null&quot;);\r\n            return context;\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            SpringBeanUtils.context = applicationContext;\r\n        }\r\n    \r\n    }","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p>The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:</p>\n<pre><code>private UserRepository userRepository;\n\npublic HelloJob() {\n    this.userRepository = SpringBeanUtils.getBean(UserRepository.class);\n}\n</code></pre>\n<p>The SpringBeanUtils :</p>\n<pre><code>@Component\npublic class SpringBeanUtils implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    public static Object getBean(String name) {\n        return getApplicationContext().getBean(name);\n    }\n\n    public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(name, clazz);\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(clazz);\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        Assert.notNull(context, &quot;applicationContext must be not null&quot;);\n        return context;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        SpringBeanUtils.context = applicationContext;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659507679,"accepted_answer_id":73216109,"answer_count":1,"score":0,"last_activity_date":1690962470,"creation_date":1659494435,"question_id":73215752,"body_markdown":"`JobController.java ` (POST/testjob)-&gt; to start quartz Scheduler\r\n\r\n(POST/testjob **=&gt;** start Scheduler **=&gt;** `QuartzJob.java` **=&gt;** run execute **=&gt;** HelloJob do runJob())\r\n\r\nBUT When `userRepository.printData()`, I got error `NullPointerException` from \r\n```\r\n@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n```\r\n\r\n### JobController : ###\r\n\r\n```\r\n@RestController\r\npublic class JobController {\r\n\t\r\n\tpublic static SchedulerFactory sf;\r\n\tpublic static Scheduler sched;\r\n\tpublic static CronTrigger trigger;\r\n\tpublic static JobDetail jobDetail;\r\n\t\r\n\t@RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\r\n\tpublic String testjob() {\r\n\t\tClass c;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tc = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\r\n\t\t\tsf = new org.quartz.impl.StdSchedulerFactory();\r\n\t\t\tsched = sf.getScheduler();\r\n\r\n\t\t\tjobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\r\n\t\t\ttrigger = (CronTrigger) TriggerBuilder.newTrigger()\r\n\t\t\t\t\t.withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\r\n\t\t\t\t\t.withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tsched.scheduleJob(jobDetail, trigger);\r\n\t\t\tsched.start();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;testjob!&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n### QuartzJob.java ###\r\n```\r\n@DisallowConcurrentExecution\r\npublic abstract class QuartzJob implements Job {\r\n\t\r\n\tpublic abstract void runJob() throws Exception;\r\n\t\r\n\t@Override\r\n\tpublic void execute(JobExecutionContext context) throws JobExecutionException {\r\n\t\ttry {\r\n\t\t\trunJob();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### HelloJob.java: ###\r\n```\r\npublic class HelloJob extends QuartzJob {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic void runJob() throws Exception{\r\n\t\ttry {\r\n\t\t\tuserRepository.printData();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### UserImpl.java: ###\r\n```\r\n@Repository\r\npublic class UserImpl implements UserRepository {\r\n\t\r\n\t@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\t\r\n\t@Override\r\n\tpublic void printData() {\r\n\t\tList&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\r\n\t\t\t\tnew BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\r\n\t\tfor (User u : result) {\r\n\t\t\tSystem.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nDoes anybody have some experience with it? How to do it better? THANKS~\r\n\r\ngithub_demo:https://github.com/qxgnbryoo81014/demo","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p><code>JobController.java </code> (POST/testjob)-&gt; to start quartz Scheduler</p>\n<p>(POST/testjob <strong>=&gt;</strong> start Scheduler <strong>=&gt;</strong> <code>QuartzJob.java</code> <strong>=&gt;</strong> run execute <strong>=&gt;</strong> HelloJob do runJob())</p>\n<p>BUT When <code>userRepository.printData()</code>, I got error <code>NullPointerException</code> from</p>\n<pre><code>@Autowired\n    private JdbcTemplate jdbcTemplate;\n</code></pre>\n<h3>JobController :</h3>\n<pre><code>@RestController\npublic class JobController {\n    \n    public static SchedulerFactory sf;\n    public static Scheduler sched;\n    public static CronTrigger trigger;\n    public static JobDetail jobDetail;\n    \n    @RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\n    public String testjob() {\n        Class c;\n        \n        try {\n            c = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\n            sf = new org.quartz.impl.StdSchedulerFactory();\n            sched = sf.getScheduler();\n\n            jobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\n            trigger = (CronTrigger) TriggerBuilder.newTrigger()\n                    .withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\n                    .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\n                    .build();\n\n            sched.scheduleJob(jobDetail, trigger);\n            sched.start();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return &quot;testjob!&quot;;\n    }\n}\n</code></pre>\n<h3>QuartzJob.java</h3>\n<pre><code>@DisallowConcurrentExecution\npublic abstract class QuartzJob implements Job {\n    \n    public abstract void runJob() throws Exception;\n    \n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        try {\n            runJob();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>HelloJob.java:</h3>\n<pre><code>public class HelloJob extends QuartzJob {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public void runJob() throws Exception{\n        try {\n            userRepository.printData();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>UserImpl.java:</h3>\n<pre><code>@Repository\npublic class UserImpl implements UserRepository {\n    \n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    \n    @Override\n    public void printData() {\n        List&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\n                new BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\n        for (User u : result) {\n            System.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\n        }\n    }\n}\n</code></pre>\n<p>Does anybody have some experience with it? How to do it better? THANKS~</p>\n<p>github_demo:<a href=\"https://github.com/qxgnbryoo81014/demo\" rel=\"nofollow noreferrer\">https://github.com/qxgnbryoo81014/demo</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9861,"page":273,"page_size":100}
