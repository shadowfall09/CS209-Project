{"items":[{"tags":["java","kotlin","double","precision"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1690912712,"post_id":76814141,"comment_id":135418235,"body_markdown":"Why are 5s disappearing?","body":"Why are 5s disappearing?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1690913420,"post_id":76814141,"comment_id":135418373,"body_markdown":"What do you mean by &quot;int memory limit&quot;? Also this is not parsing, it is a type conversion but also the number is being transformed. 1.1 is not equal to 11. Explain the transformation expected.","body":"What do you mean by &quot;int memory limit&quot;? Also this is not parsing, it is a type conversion but also the number is being transformed. 1.1 is not equal to 11. Explain the transformation expected."},{"owner":{"display_name":"user2453382"},"score":0,"creation_date":1690913829,"post_id":76814141,"comment_id":135418450,"body_markdown":"Technically, you have no way to achieve this other than using converting input to `String` and using regular expression [See this answer for Java](https://stackoverflow.com/a/54111864/2453382). As @aled pointed out, you are not parsing, you are `extracting`, left hand side does not correlate to right hand side of your table mathematically.","body":"Technically, you have no way to achieve this other than using converting input to <code>String</code> and using regular expression <a href=\"https://stackoverflow.com/a/54111864/2453382\">See this answer for Java</a>. As @aled pointed out, you are not parsing, you are <code>extracting</code>, left hand side does not correlate to right hand side of your table mathematically."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1690913869,"post_id":76814141,"comment_id":135418458,"body_markdown":"Please note that there is no exact value of 1.1 in `double` type. More info [Is floating point math broken?](https://stackoverflow.com/q/588004), https://floating-point-gui.de/, https://floating-point-gui.de/basic/, https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","body":"Please note that there is no exact value of 1.1 in <code>double</code> type. More info <a href=\"https://stackoverflow.com/q/588004\">Is floating point math broken?</a>, <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>, <a href=\"https://floating-point-gui.de/basic/\" rel=\"nofollow noreferrer\">floating-point-gui.de/basic</a>, <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1690915127,"post_id":76814141,"comment_id":135418646,"body_markdown":"It is not reallyw clear, what conversion do you mean. Should we convert `1.1001` to `11001` or just `11`? Also, does that mean `1.1` and `1.11`, even if they are almost the same number, should be converted to much different `11` and `111`? Also, `11.1` and `1.11` should convert to exactly the same int?","body":"It is not reallyw clear, what conversion do you mean. Should we convert <code>1.1001</code> to <code>11001</code> or just <code>11</code>? Also, does that mean <code>1.1</code> and <code>1.11</code>, even if they are almost the same number, should be converted to much different <code>11</code> and <code>111</code>? Also, <code>11.1</code> and <code>1.11</code> should convert to exactly the same int?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1690916707,"post_id":76814141,"comment_id":135418928,"body_markdown":"interesting fact: `1.1` is actually not exactly representable by `double`, the nearest  double would be `1.100000000000000088817841970012523233890533447265625`","body":"interesting fact: <code>1.1</code> is actually not exactly representable by <code>double</code>, the nearest  double would be <code>1.100000000000000088817841970012523233890533447265625</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690916823,"post_id":76814141,"comment_id":135418948,"body_markdown":"@user16320675 that&#39;s why BigDecimal should be used. It can avoid representation errors and has conversion methods that also prevent them in the conversion itself. See my answer.","body":"@user16320675 that&#39;s why BigDecimal should be used. It can avoid representation errors and has conversion methods that also prevent them in the conversion itself. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690917017,"creation_date":1690914491,"answer_id":76814327,"question_id":76814141,"body_markdown":"Assuming that you want to keep all the significant digits you should use BigDecimal to do the conversion and transformation without missing information:\r\n``` lang-java\r\nimport java.math.BigDecimal;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      BigDecimal x=BigDecimal.valueOf(1.12345);\r\n      int y=x.unscaledValue().intValueExact();\r\n      System.out.println(&quot;y = &quot; + y);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\ny = 112345\r\n```\r\n`valueOf()` is needed to create a BigDecimal from a floating point type without representation errors. `intValueExact()` will throw an exception if the result is out of range for an `int`.\r\n\r\nNote that this solution keeps the 5 at the end of the number unlike your example.","title":"Double to Int with removing precision point dynamically","body":"<p>Assuming that you want to keep all the significant digits you should use BigDecimal to do the conversion and transformation without missing information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      BigDecimal x=BigDecimal.valueOf(1.12345);\n      int y=x.unscaledValue().intValueExact();\n      System.out.println(&quot;y = &quot; + y);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>y = 112345\n</code></pre>\n<p><code>valueOf()</code> is needed to create a BigDecimal from a floating point type without representation errors. <code>intValueExact()</code> will throw an exception if the result is out of range for an <code>int</code>.</p>\n<p>Note that this solution keeps the 5 at the end of the number unlike your example.</p>\n"},{"tags":[],"owner":{"account_id":23431785,"reputation":110,"user_id":17490497,"display_name":"Jean-Samuel Girard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690918515,"creation_date":1690918515,"answer_id":76814704,"question_id":76814141,"body_markdown":"If you know how many digits you want to keep after the decimal part you could just multiply by 10^n and store the result in an int.\r\n\r\nThe way a double is stored with a floating point is always an approximation of a number. Like others said, this means 1.1 can&#39;t be represented exactly and the real value is closer to 1.100000000000000088817841970012523233890533447265625\r\n\r\nIf we knew what you&#39;re trying to achieve with this kind of data transformation perhaps we could offer a different alternative? Because this is a very strange thing to do and I can&#39;t think of a reason why you would need to do this in any application.","title":"Double to Int with removing precision point dynamically","body":"<p>If you know how many digits you want to keep after the decimal part you could just multiply by 10^n and store the result in an int.</p>\n<p>The way a double is stored with a floating point is always an approximation of a number. Like others said, this means 1.1 can't be represented exactly and the real value is closer to 1.100000000000000088817841970012523233890533447265625</p>\n<p>If we knew what you're trying to achieve with this kind of data transformation perhaps we could offer a different alternative? Because this is a very strange thing to do and I can't think of a reason why you would need to do this in any application.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690946368,"creation_date":1690946368,"answer_id":76816409,"question_id":76814141,"body_markdown":"**BigDecimal** is definitely the way to go here but, if you want another alternative you could do something like this....\r\n\r\n- Convert the double type value to string;\r\n- Remove the decimal point (whatever type it is);\r\n- Convert the string to a long data type;\r\n- See if the long value is greater than or equal to Integer.MIN_VALUE \r\n  or, less than or equal to Integer.MAX_VALUE. If it is, convert the \r\n  **long** value to an **int**. If it isn&#39;t then remove a single trailing digit \r\n  from the long value and check again. Keep checking until the long \r\n  value falls within the Integer.MIN_VALUE and Integer.MAX_VALUE range. \r\n\r\nHere is a code example. ***Be sure to read the comments:***\r\n\r\n    /* Double type values to convert in double type array. \r\n       You could potentially supply signed values as well.\r\n       The decimal point identifier can be whatever suits \r\n       your specific system locale (. or ,):    */\r\n    double[] dblArray = {1.1234567896543217d, 1.123d, 1.1d, \r\n        1.1001, -1.10017887643456776d, 1.12345d, 0.12345d, \r\n        87.543276d, 4657.439802};\r\n\r\n    /* Display a table header in Console for the conversion results \r\n       from the double type array to int values. The String.format()\r\n       method is used:        */\r\n    System.out.println(&quot;Remove decimal point and convert to int:\\n&quot;);\r\n    System.out.println(String.format(&quot;%-25s %-12s&quot;, &quot;Double (double)&quot;, &quot;Integer (int)&quot;));\r\n    System.out.println(&quot;=======================================&quot;);\r\n\r\n    /* Convert each double type element within the dblArray[] array\r\n       to int ans display the results in a Table style format:   */\r\n    boolean greaterThanMinMaxInt;   // Flag\r\n    for (Double dbl : dblArray) {\r\n        greaterThanMinMaxInt = false; // Used only for display purposes.\r\n        /* First convert the double type data to an long type value\r\n           by converting the double type value to String then removing \r\n           the decimal point (be it &#39;.&#39; or &#39;,&#39;) then using the known \r\n           Long.parseLong() method to convert the new string value to \r\n           a long data type. This is done to ensure the the double \r\n           value conversion will fit and we can then check for Integer\r\n           MIN/MAX.             */\r\n        long lng = Long.parseLong(String.valueOf(dbl).replaceAll(&quot;[.,]&quot;, &quot;&quot;));\r\n\r\n        /* Is the long type value less than Integer.MIN_VALUE or greater \r\n           than Integer.MAX_VALUE. If it is then remove a digit from the \r\n           trailing end of the long type value. Keep doing this until the \r\n           long value falls within bounds:         */\r\n        while (lng &lt; Integer.MIN_VALUE || lng &gt; Integer.MAX_VALUE) {\r\n            lng = lng / 10; // Remove last digit in long value.\r\n            greaterThanMinMaxInt = true; // Flag set - Value needed reducing.\r\n        }\r\n\r\n        /* Now that the long type value is within Integer.MIN/MAX \r\n           values, convert the value to `int`:   */\r\n        int intValue = (int) lng;\r\n\r\n        /* Display the result within Console Table. Nested Ternary \r\n           Operators are used to display which values were actually \r\n           reduced in length to satisfy Integer.MIN_VALUE and \r\n           Integer.MAX_VALUE:  */\r\n        System.out.println(String.format(&quot;%-25s %-12s&quot;, String.valueOf(dbl), \r\n                String.valueOf(intValue) + (greaterThanMinMaxInt ? (intValue &gt; 0 \r\n                        ? &quot; (&#39;Had&#39; Integer.MAX_VALUE Overflow)&quot; : &quot; (&#39;Had&#39; Integer.MIN_VALUE Overflow)&quot;) \r\n                        : &quot;&quot;)));\r\n    }\r\n\r\nIf you run the code above, you should see the following within the Console Window:\r\n\r\n```\r\nRemove decimal point and convert to int:\r\n\r\nDouble (double)           Integer (int)\r\n=======================================\r\n1.1234567896543217        1123456789 (&#39;Had&#39; Integer.MAX_VALUE Overflow)\r\n1.123                     1123        \r\n1.1                       11          \r\n1.1001                    11001       \r\n-1.1001788764345677       -1100178876 (&#39;Had&#39; Integer.MIN_VALUE Overflow)\r\n1.12345                   112345      \r\n0.12345                   12345       \r\n87.543276                 87543276    \r\n4657.439802               465743980 (&#39;Had&#39; Integer.MAX_VALUE Overflow)\r\n```","title":"Double to Int with removing precision point dynamically","body":"<p><strong>BigDecimal</strong> is definitely the way to go here but, if you want another alternative you could do something like this....</p>\n<ul>\n<li>Convert the double type value to string;</li>\n<li>Remove the decimal point (whatever type it is);</li>\n<li>Convert the string to a long data type;</li>\n<li>See if the long value is greater than or equal to Integer.MIN_VALUE\nor, less than or equal to Integer.MAX_VALUE. If it is, convert the\n<strong>long</strong> value to an <strong>int</strong>. If it isn't then remove a single trailing digit\nfrom the long value and check again. Keep checking until the long\nvalue falls within the Integer.MIN_VALUE and Integer.MAX_VALUE range.</li>\n</ul>\n<p>Here is a code example. <em><strong>Be sure to read the comments:</strong></em></p>\n<pre><code>/* Double type values to convert in double type array. \n   You could potentially supply signed values as well.\n   The decimal point identifier can be whatever suits \n   your specific system locale (. or ,):    */\ndouble[] dblArray = {1.1234567896543217d, 1.123d, 1.1d, \n    1.1001, -1.10017887643456776d, 1.12345d, 0.12345d, \n    87.543276d, 4657.439802};\n\n/* Display a table header in Console for the conversion results \n   from the double type array to int values. The String.format()\n   method is used:        */\nSystem.out.println(&quot;Remove decimal point and convert to int:\\n&quot;);\nSystem.out.println(String.format(&quot;%-25s %-12s&quot;, &quot;Double (double)&quot;, &quot;Integer (int)&quot;));\nSystem.out.println(&quot;=======================================&quot;);\n\n/* Convert each double type element within the dblArray[] array\n   to int ans display the results in a Table style format:   */\nboolean greaterThanMinMaxInt;   // Flag\nfor (Double dbl : dblArray) {\n    greaterThanMinMaxInt = false; // Used only for display purposes.\n    /* First convert the double type data to an long type value\n       by converting the double type value to String then removing \n       the decimal point (be it '.' or ',') then using the known \n       Long.parseLong() method to convert the new string value to \n       a long data type. This is done to ensure the the double \n       value conversion will fit and we can then check for Integer\n       MIN/MAX.             */\n    long lng = Long.parseLong(String.valueOf(dbl).replaceAll(&quot;[.,]&quot;, &quot;&quot;));\n\n    /* Is the long type value less than Integer.MIN_VALUE or greater \n       than Integer.MAX_VALUE. If it is then remove a digit from the \n       trailing end of the long type value. Keep doing this until the \n       long value falls within bounds:         */\n    while (lng &lt; Integer.MIN_VALUE || lng &gt; Integer.MAX_VALUE) {\n        lng = lng / 10; // Remove last digit in long value.\n        greaterThanMinMaxInt = true; // Flag set - Value needed reducing.\n    }\n\n    /* Now that the long type value is within Integer.MIN/MAX \n       values, convert the value to `int`:   */\n    int intValue = (int) lng;\n\n    /* Display the result within Console Table. Nested Ternary \n       Operators are used to display which values were actually \n       reduced in length to satisfy Integer.MIN_VALUE and \n       Integer.MAX_VALUE:  */\n    System.out.println(String.format(&quot;%-25s %-12s&quot;, String.valueOf(dbl), \n            String.valueOf(intValue) + (greaterThanMinMaxInt ? (intValue &gt; 0 \n                    ? &quot; ('Had' Integer.MAX_VALUE Overflow)&quot; : &quot; ('Had' Integer.MIN_VALUE Overflow)&quot;) \n                    : &quot;&quot;)));\n}\n</code></pre>\n<p>If you run the code above, you should see the following within the Console Window:</p>\n<pre><code>Remove decimal point and convert to int:\n\nDouble (double)           Integer (int)\n=======================================\n1.1234567896543217        1123456789 ('Had' Integer.MAX_VALUE Overflow)\n1.123                     1123        \n1.1                       11          \n1.1001                    11001       \n-1.1001788764345677       -1100178876 ('Had' Integer.MIN_VALUE Overflow)\n1.12345                   112345      \n0.12345                   12345       \n87.543276                 87543276    \n4657.439802               465743980 ('Had' Integer.MAX_VALUE Overflow)\n</code></pre>\n"}],"owner":{"account_id":4926895,"reputation":11,"user_id":3967916,"accept_rate":0,"display_name":"ibrahiem Mohamed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1690947218,"accepted_answer_id":76814327,"answer_count":3,"score":-1,"last_activity_date":1690946368,"creation_date":1690912395,"question_id":76814141,"body_markdown":"Is there a way in Kotlin, or Java to parse Double to Int knowing that all the doubles will not exceed the Int memory limit?\r\nexamples: \r\n\r\n| Double   | Int     |\r\n| -------- | ------- |\r\n| 1,123    | 1123    |\r\n| 1,1      | 11      |\r\n| 1,12345  | 11234   |\r\n| 0,12345  | 1234    | \r\n\r\nI know we can parse it to string first and remove the &#39;.&#39; and then to Int but I want a more effective way.","title":"Double to Int with removing precision point dynamically","body":"<p>Is there a way in Kotlin, or Java to parse Double to Int knowing that all the doubles will not exceed the Int memory limit?\nexamples:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Double</th>\n<th>Int</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1,123</td>\n<td>1123</td>\n</tr>\n<tr>\n<td>1,1</td>\n<td>11</td>\n</tr>\n<tr>\n<td>1,12345</td>\n<td>11234</td>\n</tr>\n<tr>\n<td>0,12345</td>\n<td>1234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I know we can parse it to string first and remove the '.' and then to Int but I want a more effective way.</p>\n"},{"tags":["java","hash","hashmap","time-complexity","hashtable"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":2,"creation_date":1543429765,"post_id":53525851,"comment_id":93920592,"body_markdown":"*`For instance, why isn&#39;t it n*m?`* Why *would* it be this?","body":"<i><code>For instance, why isn&#39;t it n*m?</code></i> Why <i>would</i> it be this?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1543430008,"post_id":53525851,"comment_id":93920700,"body_markdown":"And why would it be n + m? How did you understand that?","body":"And why would it be n + m? How did you understand that?"},{"owner":{"account_id":14424445,"reputation":21,"user_id":10419654,"display_name":"lemonuzzi"},"score":0,"creation_date":1543434563,"post_id":53525851,"comment_id":93922913,"body_markdown":"I meant assuming each bucket had a linkedlist with &quot;x&quot; potential elements not &quot;n&quot; sorry! So it would be O(m*x) or O(n*x).","body":"I meant assuming each bucket had a linkedlist with &quot;x&quot; potential elements not &quot;n&quot; sorry! So it would be O(m<i>x) or O(n</i>x)."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1543501232,"post_id":53525851,"comment_id":93949060,"body_markdown":"@JBNizet I guess the OP has understood that by reading [the docs](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html): `Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).`","body":"@JBNizet I guess the OP has understood that by reading <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the docs</a>: <code>Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).</code>"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543512527,"creation_date":1543511827,"answer_id":53544360,"question_id":53525851,"body_markdown":"You are absolutely correct. Iterating a `HashMap` is an `O(n + m)` operation, with `n` being the number of elements contained in the `HashMap` and `m` being its capacity. Actually, this is clearly stated in [the docs][1]:\r\n\r\n&gt;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).\r\n\r\nIntuitively (and conceptually), this is because a `HashMap` consists of an array of *buckets*, with each element of the array pointing to either nothing (i.e. to `null`), or to a list of entries. \r\n\r\nSo if the array of buckets has size `m`, and if there are `n` entries in the map in total (I mean, `n` entries scattered throughout all the lists *hanging* from some bucket), then, iterating the `HashMap` is done by visiting each bucket, and, for buckets that have a list with entries, visiting each entry in the list. As there are `m` buckets and `n` elements in total, iteration is `O(m + n)`.\r\n\r\nNote that this is not the case for all hash table implementations. For example, `LinkedHashMap` is like a `HashMap`, except that it also has all its entries connected in a doubly-linked list fashion (to preserve either insertion or access order). If you are to iterate a `LinkedHashMap`, there&#39;s no need to visit each bucket. It would be enough to just visit the very first entry and then follow its link to the next entry, and then proceed to the next one, etc, and so on until the last entry. Thus, iterating a `LinkedHashMap` is just `O(n)`, with `n` being the total number of entries.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html","title":"Iteration through a HashMap (Complexity)","body":"<p>You are absolutely correct. Iterating a <code>HashMap</code> is an <code>O(n + m)</code> operation, with <code>n</code> being the number of elements contained in the <code>HashMap</code> and <code>m</code> being its capacity. Actually, this is clearly stated in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>Iteration over collection views requires time proportional to the \"capacity\" of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).</p>\n</blockquote>\n\n<p>Intuitively (and conceptually), this is because a <code>HashMap</code> consists of an array of <em>buckets</em>, with each element of the array pointing to either nothing (i.e. to <code>null</code>), or to a list of entries. </p>\n\n<p>So if the array of buckets has size <code>m</code>, and if there are <code>n</code> entries in the map in total (I mean, <code>n</code> entries scattered throughout all the lists <em>hanging</em> from some bucket), then, iterating the <code>HashMap</code> is done by visiting each bucket, and, for buckets that have a list with entries, visiting each entry in the list. As there are <code>m</code> buckets and <code>n</code> elements in total, iteration is <code>O(m + n)</code>.</p>\n\n<p>Note that this is not the case for all hash table implementations. For example, <code>LinkedHashMap</code> is like a <code>HashMap</code>, except that it also has all its entries connected in a doubly-linked list fashion (to preserve either insertion or access order). If you are to iterate a <code>LinkedHashMap</code>, there's no need to visit each bucket. It would be enough to just visit the very first entry and then follow its link to the next entry, and then proceed to the next one, etc, and so on until the last entry. Thus, iterating a <code>LinkedHashMap</code> is just <code>O(n)</code>, with <code>n</code> being the total number of entries.</p>\n"},{"tags":[],"owner":{"account_id":18928040,"reputation":1,"user_id":13810716,"display_name":"mandeep Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626004338,"creation_date":1625616205,"answer_id":68278586,"question_id":53525851,"body_markdown":"*Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings)* \r\nn = the number of buckets\r\nm = the number of key-value mappings\r\n\r\nThe complexity of a Hashmap is O(n+m) because the worst-case scenario is one array element contains the whole linked list, which could occur due to flawed implementation of hashcode function being used as a key. \r\n[Visialise the worst-case scenario][1]\r\nTo iterate this scenario, first java needs to iterate the complete array O(n) and then iterate the linked list O(m), combining these gives us O(n+m).\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8DcnL.png","title":"Iteration through a HashMap (Complexity)","body":"<p><em>Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings)</em>\nn = the number of buckets\nm = the number of key-value mappings</p>\n<p>The complexity of a Hashmap is O(n+m) because the worst-case scenario is one array element contains the whole linked list, which could occur due to flawed implementation of hashcode function being used as a key.\n<a href=\"https://i.stack.imgur.com/8DcnL.png\" rel=\"nofollow noreferrer\">Visialise the worst-case scenario</a>\nTo iterate this scenario, first java needs to iterate the complete array O(n) and then iterate the linked list O(m), combining these gives us O(n+m).</p>\n"},{"tags":[],"owner":{"account_id":2320885,"reputation":148,"user_id":2036639,"display_name":"Gaganpreet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690946315,"creation_date":1690946315,"answer_id":76816406,"question_id":53525851,"body_markdown":"It is correct that it should be O(m+n). It would be more practical though to also have an estimate of the number of buckets in terms of the number of elements in the HashMap. \r\n\r\nJava&#39;s implementation of HashMap allows you to construct the HashMap with a given load factor (LF). This makes sure that the number of buckets cannot grow too fast and makes sure that m = O(n). The way to see it would be to stop a specific capacity m_0 and observe that when n reaches n = LF*m_0, m will be doubled. From then on, till the next doubling happens, n &gt; (LF/2)*m.\r\n\r\nWhat this means is that the complexity O(m+n) is also O(n).","title":"Iteration through a HashMap (Complexity)","body":"<p>It is correct that it should be O(m+n). It would be more practical though to also have an estimate of the number of buckets in terms of the number of elements in the HashMap.</p>\n<p>Java's implementation of HashMap allows you to construct the HashMap with a given load factor (LF). This makes sure that the number of buckets cannot grow too fast and makes sure that m = O(n). The way to see it would be to stop a specific capacity m_0 and observe that when n reaches n = LF*m_0, m will be doubled. From then on, till the next doubling happens, n &gt; (LF/2)*m.</p>\n<p>What this means is that the complexity O(m+n) is also O(n).</p>\n"}],"owner":{"account_id":14424445,"reputation":21,"user_id":10419654,"display_name":"lemonuzzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690946315,"creation_date":1543429648,"question_id":53525851,"body_markdown":"From what I understand, the time complexity to iterate through a Hash table with capacity &quot;m&quot; and number of entries &quot;n&quot; is O(n+m). I was wondering, intuitively, why this is the case? For instance, why isn&#39;t it n*m? \r\n\r\nThanks in advance!","title":"Iteration through a HashMap (Complexity)","body":"<p>From what I understand, the time complexity to iterate through a Hash table with capacity \"m\" and number of entries \"n\" is O(n+m). I was wondering, intuitively, why this is the case? For instance, why isn't it n*m? </p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","windows","spring-boot","maven","graphql"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690911999,"creation_date":1690911999,"answer_id":76814094,"question_id":76813956,"body_markdown":"Spring annotations such as `@Value` only work inside Spring beans, that are managed by Spring in the application context.\r\n\r\nIn your `main` method you are creating an instance of class `FetchAPI` yourself, outside of Spring:\r\n\r\n    FetchAPI api=new FetchAPI();\r\n    api.SelectDataByWeaponId(&quot;&quot;);\r\n\r\nThe object that the variable `api` refers to is not a bean managed by Spring, because you are instantiating it yourself using `new`. Spring annotations such as `@Value` are not processed when you do that, so that the member variable `GraphQLurl` in your object is `null`.\r\n\r\nDon&#39;t instantiate classes that are intended to be Spring beans by using `new` directly. Instead, let Spring instantiate and manage them in the application context and use dependency injection (autowiring) when you need to use them.\r\n\r\nWhat you can do is this:\r\n\r\nFirst, remove the calls after `SpringApplication.run()` from your main application class. You can also remove the `@ComponentScan` annotation, because it does not make any difference in this case:\r\n\r\n    @SpringBootApplication\r\n    public class RandomWeaponGeneratorApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\r\n        }\r\n    }\r\n\r\nAdd a class that implements interface `CommandLineRunner` to your application, into which you autowire an instance of `FetchAPI` instead of creating it yourself with `new`:\r\n\r\n    @Component\r\n    public class RandomWeaponGeneratorRunner implements CommandLineRunner {\r\n\r\n        @Autowired\r\n        private FetchAPI api;\r\n\r\n        @Override\r\n        public void run(String... args) {\r\n            api.SelectDataByWeaponId(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nSpring Boot will automatically instantiate and call the `run` method when it finds this class.","title":"not able to read application.properties file in Spring boot Java","body":"<p>Spring annotations such as <code>@Value</code> only work inside Spring beans, that are managed by Spring in the application context.</p>\n<p>In your <code>main</code> method you are creating an instance of class <code>FetchAPI</code> yourself, outside of Spring:</p>\n<pre><code>FetchAPI api=new FetchAPI();\napi.SelectDataByWeaponId(&quot;&quot;);\n</code></pre>\n<p>The object that the variable <code>api</code> refers to is not a bean managed by Spring, because you are instantiating it yourself using <code>new</code>. Spring annotations such as <code>@Value</code> are not processed when you do that, so that the member variable <code>GraphQLurl</code> in your object is <code>null</code>.</p>\n<p>Don't instantiate classes that are intended to be Spring beans by using <code>new</code> directly. Instead, let Spring instantiate and manage them in the application context and use dependency injection (autowiring) when you need to use them.</p>\n<p>What you can do is this:</p>\n<p>First, remove the calls after <code>SpringApplication.run()</code> from your main application class. You can also remove the <code>@ComponentScan</code> annotation, because it does not make any difference in this case:</p>\n<pre><code>@SpringBootApplication\npublic class RandomWeaponGeneratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\n    }\n}\n</code></pre>\n<p>Add a class that implements interface <code>CommandLineRunner</code> to your application, into which you autowire an instance of <code>FetchAPI</code> instead of creating it yourself with <code>new</code>:</p>\n<pre><code>@Component\npublic class RandomWeaponGeneratorRunner implements CommandLineRunner {\n\n    @Autowired\n    private FetchAPI api;\n\n    @Override\n    public void run(String... args) {\n        api.SelectDataByWeaponId(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>Spring Boot will automatically instantiate and call the <code>run</code> method when it finds this class.</p>\n"},{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912433,"creation_date":1690912433,"answer_id":76814145,"question_id":76813956,"body_markdown":"The problem here is that you kinda combine Plain Java object creation with Spring(DI, IOC, etc). \r\n\r\n\r\nYou have to understand that processing of the **@Value** annotation is performed by a BeanPostProcessor which in your particular case means that you have to use DI to at least access the class where this value is initialised. \r\n\r\n\r\n----------\r\n\r\n\r\nIn another words, really simple. You can`t combine \r\n\r\n    new FetchAPI(); with @Value annotation\r\n( actually there are some ways but this is not the case). \r\n\r\n\r\n----------\r\nIf you want to follow spring way but do something like console runner - You can use this code\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootConsoleApplication\r\n        implements CommandLineRunner {\r\n    \r\n        private final FetchAPI fetchAPI; //Injection of your FetchAPI service bean using constructor\r\n    \r\n        @Autowired\r\n        public SpringBootConsoleApplication(FetchAPI fetchAPI) {\r\n            this.fetchAPI = fetchAPI;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootConsoleApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n            //call your singleton bean with already initiated @Value annotation inside\r\n            fetchAPI.SelectDataByWeaponId(&quot;your ID&quot;);\r\n        }\r\n    }\r\n\r\n","title":"not able to read application.properties file in Spring boot Java","body":"<p>The problem here is that you kinda combine Plain Java object creation with Spring(DI, IOC, etc).</p>\n<p>You have to understand that processing of the <strong>@Value</strong> annotation is performed by a BeanPostProcessor which in your particular case means that you have to use DI to at least access the class where this value is initialised.</p>\n<hr />\n<p>In another words, really simple. You can`t combine</p>\n<pre><code>new FetchAPI(); with @Value annotation\n</code></pre>\n<p>( actually there are some ways but this is not the case).</p>\n<hr />\n<p>If you want to follow spring way but do something like console runner - You can use this code</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootConsoleApplication\n    implements CommandLineRunner {\n\n    private final FetchAPI fetchAPI; //Injection of your FetchAPI service bean using constructor\n\n    @Autowired\n    public SpringBootConsoleApplication(FetchAPI fetchAPI) {\n        this.fetchAPI = fetchAPI;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsoleApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) {\n        //call your singleton bean with already initiated @Value annotation inside\n        fetchAPI.SelectDataByWeaponId(&quot;your ID&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29030916,"reputation":11,"user_id":22237860,"display_name":"ACS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76814094,"answer_count":2,"score":0,"last_activity_date":1690944329,"creation_date":1690910703,"question_id":76813956,"body_markdown":"I&#39;m trying to make a class to post GraphQL API using java and maven spring boot project with VSCode on Windows.\r\nI&#39;ve encountered an error that It doesn&#39;t find any url that i link using @Value.\r\n\r\n\r\nthis is the error log\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: Unable to parse url [] \r\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\r\n        Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:       \r\nError has been observed at the following site(s):\r\n        *__checkpoint ? Request to POST  [DefaultWebClient]\r\nOriginal Stack Trace:\r\n                at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\r\n                at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n                at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n                at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)   \r\n                at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\r\n                at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:71)        \r\n                at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1711)\r\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \r\n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1712)\r\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \r\n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalArgumentException: Unable to parse url []\r\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:68)\r\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:44)\r\n        at reactor.netty.http.client.HttpClientConnect$HttpClientHandler.&lt;init&gt;(HttpClientConnect.java:509)   \r\n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:208)\r\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1711)\r\n        at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)\r\n        at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\nIt tells that &quot;Unable to parse url []&quot; which means the url is empty.\r\n\r\n\r\nthis is my project tree.\r\n\r\n```\r\n├─.mvn\r\n│  └─wrapper\r\n├─src\r\n│  ├─main\r\n│  │  ├─java\r\n│  │  │  └─com\r\n│  │  │      └─tarkov\r\n│  │  │          └─randomweapongenerator\r\n│  │  │              ├─controller\r\n│  │  │              ├─entity\r\n│  │  │              ├─repository\r\n│  │  │              └─service\r\n│  │  └─resources\r\n│  │      └─templates\r\n│  └─test\r\n│      └─java\r\n│          └─com\r\n│              └─tarkov\r\n│                  └─randomweapongenerator\r\n└─target\r\n    ├─classes\r\n    │  ├─com\r\n    │  │  └─tarkov\r\n    │  │      └─randomweapongenerator\r\n    │  │          ├─controller\r\n    │  │          ├─entity\r\n    │  │          └─service\r\n    │  └─templates\r\n    ├─generated-sources\r\n    │  └─annotations\r\n    ├─generated-test-sources\r\n    │  └─test-annotations\r\n    ├─maven-archiver\r\n    ├─maven-status\r\n    │  └─maven-compiler-plugin\r\n    │      ├─compile\r\n    │      │  └─default-compile\r\n    │      └─testCompile\r\n    │          └─default-testCompile\r\n    ├─surefire-reports\r\n    └─test-classes\r\n        └─com\r\n            └─tarkov\r\n                └─randomweapongenerator\r\n```\r\n\r\n\r\n\r\n\r\nThis is a class i made to fetch API.\r\n\r\n```\r\n@Service\r\npublic class FetchAPI {\r\n\r\n    @Value(&quot;${graphql.endpoint}&quot;)\r\n    private String GraphQLurl;\r\n    private WebClient webClient=WebClient.create();\r\n\r\n\r\n\r\n    public void SelectDataByWeaponId(String id){\r\n        String query=&quot;{\\&quot;query\\&quot; :\\&quot;{ items { name }}\\&quot;}&quot;;\r\n        \r\n        String response=webClient.post()\r\n            .uri(GraphQLurl)\r\n            .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\r\n            .body(BodyInserters.fromValue(query))\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();\r\n        \r\n        System.out.println(response);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFirst time, I used `@Value(&quot;${graphql.endpoint}&quot;)` to link the API url in code.\r\nSo i searched a reason why and i found `@ComponentScan` that i have to use it to scan and add components into a container!\r\n\r\nThis is the code i added.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.tarkov.randomweapongenerator&quot;)\r\npublic class RandomWeaponGeneratorApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RandomWeaponGeneratorApplication.class, args);\r\n\t\tSystem.out.println(&quot;hello&quot;);\r\n\t\tFetchAPI api=new FetchAPI();\r\n\t\tapi.SelectDataByWeaponId(&quot;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn SelectDataByWeaponId, The argument doesn&#39;t need to fill. I don&#39;t use it in FetchAPI class for now.\r\n\r\nI also made sure that i wrote the application.properties file right.\r\nThis is the endpoint url i set in application.properties.\r\n\r\n`graphql.endpoint=https://api.tarkov.dev/graphql`\r\n\r\n\r\nThe file is also placed in right folder.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fTNJn.png)](https://i.stack.imgur.com/fTNJn.png)\r\n\r\n\r\nI build and excute the project with command &quot;mvn clean install&quot; and &quot;java -jar result_file.jar&quot;.\r\n\r\nPlease tell me how to resolve it.. thank you!","title":"not able to read application.properties file in Spring boot Java","body":"<p>I'm trying to make a class to post GraphQL API using java and maven spring boot project with VSCode on Windows.\nI've encountered an error that It doesn't find any url that i link using @Value.</p>\n<p>this is the error log</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: Unable to parse url [] \n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\n        Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:       \nError has been observed at the following site(s):\n        *__checkpoint ? Request to POST  [DefaultWebClient]\nOriginal Stack Trace:\n                at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\n                at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n                at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n                at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)   \n                at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\n                at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:71)        \n                at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n                at reactor.core.publisher.Mono.block(Mono.java:1711)\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103)\n                at reactor.core.publisher.Mono.block(Mono.java:1712)\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalArgumentException: Unable to parse url []\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:68)\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:44)\n        at reactor.netty.http.client.HttpClientConnect$HttpClientHandler.&lt;init&gt;(HttpClientConnect.java:509)   \n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:208)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n        at reactor.core.publisher.Mono.block(Mono.java:1711)\n        at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)\n        at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>It tells that &quot;Unable to parse url []&quot; which means the url is empty.</p>\n<p>this is my project tree.</p>\n<pre><code>├─.mvn\n│  └─wrapper\n├─src\n│  ├─main\n│  │  ├─java\n│  │  │  └─com\n│  │  │      └─tarkov\n│  │  │          └─randomweapongenerator\n│  │  │              ├─controller\n│  │  │              ├─entity\n│  │  │              ├─repository\n│  │  │              └─service\n│  │  └─resources\n│  │      └─templates\n│  └─test\n│      └─java\n│          └─com\n│              └─tarkov\n│                  └─randomweapongenerator\n└─target\n    ├─classes\n    │  ├─com\n    │  │  └─tarkov\n    │  │      └─randomweapongenerator\n    │  │          ├─controller\n    │  │          ├─entity\n    │  │          └─service\n    │  └─templates\n    ├─generated-sources\n    │  └─annotations\n    ├─generated-test-sources\n    │  └─test-annotations\n    ├─maven-archiver\n    ├─maven-status\n    │  └─maven-compiler-plugin\n    │      ├─compile\n    │      │  └─default-compile\n    │      └─testCompile\n    │          └─default-testCompile\n    ├─surefire-reports\n    └─test-classes\n        └─com\n            └─tarkov\n                └─randomweapongenerator\n</code></pre>\n<p>This is a class i made to fetch API.</p>\n<pre><code>@Service\npublic class FetchAPI {\n\n    @Value(&quot;${graphql.endpoint}&quot;)\n    private String GraphQLurl;\n    private WebClient webClient=WebClient.create();\n\n\n\n    public void SelectDataByWeaponId(String id){\n        String query=&quot;{\\&quot;query\\&quot; :\\&quot;{ items { name }}\\&quot;}&quot;;\n        \n        String response=webClient.post()\n            .uri(GraphQLurl)\n            .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\n            .body(BodyInserters.fromValue(query))\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();\n        \n        System.out.println(response);\n    }\n\n}\n</code></pre>\n<p>First time, I used <code>@Value(&quot;${graphql.endpoint}&quot;)</code> to link the API url in code.\nSo i searched a reason why and i found <code>@ComponentScan</code> that i have to use it to scan and add components into a container!</p>\n<p>This is the code i added.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.tarkov.randomweapongenerator&quot;)\npublic class RandomWeaponGeneratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\n        System.out.println(&quot;hello&quot;);\n        FetchAPI api=new FetchAPI();\n        api.SelectDataByWeaponId(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>In SelectDataByWeaponId, The argument doesn't need to fill. I don't use it in FetchAPI class for now.</p>\n<p>I also made sure that i wrote the application.properties file right.\nThis is the endpoint url i set in application.properties.</p>\n<p><code>graphql.endpoint=https://api.tarkov.dev/graphql</code></p>\n<p>The file is also placed in right folder.</p>\n<p><a href=\"https://i.stack.imgur.com/fTNJn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTNJn.png\" alt=\"enter image description here\" /></a></p>\n<p>I build and excute the project with command &quot;mvn clean install&quot; and &quot;java -jar result_file.jar&quot;.</p>\n<p>Please tell me how to resolve it.. thank you!</p>\n"},{"tags":["java","maven","microservices","ribbon","nacos"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690946101,"post_id":76816296,"comment_id":135422217,"body_markdown":"Do not use images for text information in Stackoverlow.","body":"Do not use images for text information in Stackoverlow."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691757536,"post_id":76816296,"comment_id":135538592,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">read this</a>, and then edit your question."}],"owner":{"account_id":22358223,"reputation":1,"user_id":16575108,"display_name":"185207048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690944071,"creation_date":1690944071,"question_id":76816296,"body_markdown":"[enter image description here](https://i.stack.imgur.com/XuPep.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/HJSFx.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/RSS2X.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/bxsDb.png)\r\n\r\nRegistering basic_module successfully in the NACOS service registry, and also added @ LoadBalanced load balancing annotation in RestTemplateConfiguration, but still unable to parse basic_module, I use\r\n\r\n```\r\nrestTemplate.getForObject（&quot;http://basic_module/user/getusername&quot;,String.class); \r\n```\r\nThe request result resttemplate was resolved to ``basic_module:80``,Ultimately, it leads to ``basic_module:nodename nor servname provided, or not known``。\r\nWhy is it that even if I add a load balancer and register successfully in the service registry, I cannot recognize basic_module","title":"@LoadBalanced load balancer does not resolve service name in nacos","body":"<p><a href=\"https://i.stack.imgur.com/XuPep.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/HJSFx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/RSS2X.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/bxsDb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Registering basic_module successfully in the NACOS service registry, and also added @ LoadBalanced load balancing annotation in RestTemplateConfiguration, but still unable to parse basic_module, I use</p>\n<pre><code>restTemplate.getForObject（&quot;http://basic_module/user/getusername&quot;,String.class); \n</code></pre>\n<p>The request result resttemplate was resolved to <code>basic_module:80</code>,Ultimately, it leads to <code>basic_module:nodename nor servname provided, or not known</code>。\nWhy is it that even if I add a load balancer and register successfully in the service registry, I cannot recognize basic_module</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690943979,"post_id":76816268,"comment_id":135422068,"body_markdown":"Life might be simpler if you just used the default local repository (~/.m2/repository) and `mvn install` instead of using a custom configuration.","body":"Life might be simpler if you just used the default local repository (~/.m2/repository) and <code>mvn install</code> instead of using a custom configuration."},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1690944324,"post_id":76816268,"comment_id":135422078,"body_markdown":"I put this on kubernetes in docker images so I opted for this configuration. Thanks for the feedback","body":"I put this on kubernetes in docker images so I opted for this configuration. Thanks for the feedback"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690944504,"post_id":76816268,"comment_id":135422095,"body_markdown":"What may be happening is that `purge-local-repository` is trying to re-resolve the dependency, and failing, which is expected as it was manually installed. You can try  setting that parameter to false https://maven.apache.org/plugins/maven-dependency-plugin/purge-local-repository-mojo.html#reResolve (also see https://stackoverflow.com/questions/40381906/what-does-purge-local-repository-actually-purge)","body":"What may be happening is that <code>purge-local-repository</code> is trying to re-resolve the dependency, and failing, which is expected as it was manually installed. You can try  setting that parameter to false <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/purge-local-repository-mojo.html#reResolve\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> (also see <a href=\"https://stackoverflow.com/questions/40381906/what-does-purge-local-repository-actually-purge\" title=\"what does purge local repository actually purge\">stackoverflow.com/questions/40381906/&hellip;</a>)"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1690944730,"post_id":76816268,"comment_id":135422115,"body_markdown":"Yes thanks. but why can&#39;t I import the classes from the local repository?","body":"Yes thanks. but why can&#39;t I import the classes from the local repository?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690945277,"post_id":76816268,"comment_id":135422158,"body_markdown":"What I think happens is that `purge-local-repository` deletes the dependencies of `cart-purchase-command` from `../maven-repositorio`, then tries to get `generateproto` from a remote repository, but can&#39;t because it didn&#39;t exist anywhere other than `../maven-repositorio`.","body":"What I think happens is that <code>purge-local-repository</code> deletes the dependencies of <code>cart-purchase-command</code> from <code>..&#47;maven-repositorio</code>, then tries to get <code>generateproto</code> from a remote repository, but can&#39;t because it didn&#39;t exist anywhere other than <code>..&#47;maven-repositorio</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690945566,"post_id":76816268,"comment_id":135422179,"body_markdown":"Why are you running `purge-local-repository`?","body":"Why are you running <code>purge-local-repository</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690961701,"post_id":76816268,"comment_id":135424083,"body_markdown":"Remove the `spring-boot-maven-plugin` from the &quot;local&quot; project. It is just a jar that you want to use as a dependency, not a spring boot application.","body":"Remove the <code>spring-boot-maven-plugin</code> from the &quot;local&quot; project. It is just a jar that you want to use as a dependency, not a spring boot application."},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1691005924,"post_id":76816268,"comment_id":135433738,"body_markdown":"Thanks a lot it works @M. Deinum","body":"Thanks a lot it works @M. Deinum"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690943551,"creation_date":1690943551,"question_id":76816268,"body_markdown":"how to create a local dependency with spring boot. I&#39;m trying to create an application with a local dependency. I create the local dependency then import it into another spring boot project but it fails to import the local dependency classes into the other project.\r\n\r\nThis is the pom.xml of my local dependency:\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;generateproto&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;generate-proto&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.23.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.55.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.53&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;repositorio.local&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Meu repositorio Local&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;file:../maven-repositorio&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;extensions&gt;\r\n    \t\t\t&lt;extension&gt;\r\n    \t\t\t\t&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t\t&lt;/extension&gt;\r\n    \t\t&lt;/extensions&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.6.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;protocArtifact&gt;\r\n    \t\t\t\t\t\tcom.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\r\n    \t\t\t\t\t&lt;/protocArtifact&gt;\r\n    \t\t\t\t\t&lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n    \t\t\t\t\t&lt;pluginArtifact&gt;\r\n    \t\t\t\t\t\tio.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\r\n    \t\t\t\t\t&lt;/pluginArtifact&gt;\r\n    \t\t\t\t\t&lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile-custom&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThe command to create my local directory:\r\n\r\n    mvn install:install-file -Dfile=target/generateproto-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=generateproto -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DlocalRepositoryPath=../maven-repositorio\r\n\r\nMy other pom.xml project:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;generateproto&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\r\nThe folder structure looks like this:\r\n\r\n- -- another project\r\n---local dependency\r\n---maven-repositorio\r\n\r\nBut this framework fails to import the classes when I run the command:\r\n\r\n&gt; mvn dependency:purge-local-repository\r\n\r\ngives me the following error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-dependency-plugin:3.5.0:purge-local-repository\r\n&gt; (default-cli) on project cart-purchase-command: Failed to refresh\r\n&gt; project dependencies for:\r\n&gt; com.example:cart-purchase-command:jar:0.0.1-SNAPSHOT: required\r\n&gt; artifacts missing: [ERROR]\r\n&gt; com.example:generateproto:jar:0.0.1-SNAPSHOT\r\n\r\n\r\nDoes anyone know where I&#39;m going wrong?\r\n\r\nThank you!","title":"how to create a local dependency with spring boot","body":"<p>how to create a local dependency with spring boot. I'm trying to create an application with a local dependency. I create the local dependency then import it into another spring boot project but it fails to import the local dependency classes into the other project.</p>\n<p>This is the pom.xml of my local dependency:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;generateproto&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;generate-proto&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.23.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.55.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repositorio.local&lt;/id&gt;\n            &lt;name&gt;Meu repositorio Local&lt;/name&gt;\n            &lt;url&gt;file:../maven-repositorio&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\n                    &lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\n                    &lt;/pluginArtifact&gt;\n                    &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\n                    &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The command to create my local directory:</p>\n<pre><code>mvn install:install-file -Dfile=target/generateproto-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=generateproto -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DlocalRepositoryPath=../maven-repositorio\n</code></pre>\n<p>My other pom.xml project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;generateproto&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The folder structure looks like this:</p>\n<ul>\n<li>-- another project\n---local dependency\n---maven-repositorio</li>\n</ul>\n<p>But this framework fails to import the classes when I run the command:</p>\n<blockquote>\n<p>mvn dependency:purge-local-repository</p>\n</blockquote>\n<p>gives me the following error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-dependency-plugin:3.5.0:purge-local-repository\n(default-cli) on project cart-purchase-command: Failed to refresh\nproject dependencies for:\ncom.example:cart-purchase-command:jar:0.0.1-SNAPSHOT: required\nartifacts missing: [ERROR]\ncom.example:generateproto:jar:0.0.1-SNAPSHOT</p>\n</blockquote>\n<p>Does anyone know where I'm going wrong?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","openapi"],"owner":{"account_id":15050108,"reputation":415,"user_id":10862042,"display_name":"Liam lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690943352,"creation_date":1690943352,"question_id":76816253,"body_markdown":"I created a project according to this [blog](https://www.baeldung.com/spring-rest-openapi-documentation) and [official document](https://springdoc.org/)\r\n\r\nmy POJO:\r\n```java\r\nimport javax.validation.constraints.Size;\r\n\r\npublic class Subscription {\r\n    @Size(min = 1, max = 20)\r\n    private String id;\r\n    @Size(min = 1, max = 20)\r\n    private String name;\r\n    @Size(min = 1, max = 20)\r\n    private String email;\r\n}\r\n```\r\nmy controller:\r\n```java\r\n@RestController\r\npublic class IndexController {\r\n\r\n    @PostMapping(&quot;/index&quot;)\r\n    public String index(@RequestBody Subscription subscription) {\r\n        return &quot;SUCCESS&quot;;\r\n    }\r\n```\r\npom.xml\r\n```xml\r\n        &lt;!-- openapi3 --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nspring version\r\n```xml\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\nAccording the above documents the generated swagger supposed to have `MinLength` and `MaxLength` limitation but it doesn&#39;t.\r\n```yaml\r\ncomponents:\r\n  schemas:\r\n    Subscription:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n        name:\r\n          type: string\r\n        email:\r\n          type: string\r\n```\r\nCan anyone help? is there anything I missed?","title":"OpenAPI 3.0 cannot recognize JSR 303 @Size annotation","body":"<p>I created a project according to this <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">blog</a> and <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">official document</a></p>\n<p>my POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.Size;\n\npublic class Subscription {\n    @Size(min = 1, max = 20)\n    private String id;\n    @Size(min = 1, max = 20)\n    private String name;\n    @Size(min = 1, max = 20)\n    private String email;\n}\n</code></pre>\n<p>my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class IndexController {\n\n    @PostMapping(&quot;/index&quot;)\n    public String index(@RequestBody Subscription subscription) {\n        return &quot;SUCCESS&quot;;\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- openapi3 --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>spring version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>According the above documents the generated swagger supposed to have <code>MinLength</code> and <code>MaxLength</code> limitation but it doesn't.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    Subscription:\n      type: object\n      properties:\n        id:\n          type: string\n        name:\n          type: string\n        email:\n          type: string\n</code></pre>\n<p>Can anyone help? is there anything I missed?</p>\n"},{"tags":["java","spring","vaadin","spotify"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1690956803,"post_id":76816142,"comment_id":135423197,"body_markdown":"What is your concrete problem? The answer to your question is &quot;yes&quot;. Turning your array into an collection and then use `setItems` on the grid.","body":"What is your concrete problem? The answer to your question is &quot;yes&quot;. Turning your array into an collection and then use <code>setItems</code> on the grid."}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690940645,"creation_date":1690940645,"question_id":76816142,"body_markdown":"I&#39;m working on a Vaadin Spring Boot web application and using the Spotify API in my app. I am creating a page that a user can use to access the Recommendations endpoint of the Spotify API. The page has a form that the user must fill with whatever genre they want to search through and then fill in the specific audio features they want results to match with. Once the form is complete, a button is clicked to call an API method that takes the form data and creates a TrackSimplified[] array with the search results.\r\n\r\nI wanted to know if it&#39;s possible to fill a grid (on the same page) with the search results whenever the user clicks the button.\r\n\r\nHere is my code with a blank grid along with the form and other parts of the page:\r\n\r\n```\r\npackage trackour.trackour.views.advancedsearch;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.button.ButtonVariant;\r\nimport com.vaadin.flow.component.combobox.ComboBox;\r\nimport com.vaadin.flow.component.dialog.Dialog;\r\nimport com.vaadin.flow.component.formlayout.FormLayout;\r\nimport com.vaadin.flow.component.formlayout.FormLayout.ResponsiveStep;\r\nimport com.vaadin.flow.component.grid.Grid;\r\nimport com.vaadin.flow.component.html.Div;\r\nimport com.vaadin.flow.component.html.H3;\r\nimport com.vaadin.flow.component.html.Paragraph;\r\nimport com.vaadin.flow.component.icon.Icon;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.router.PreserveOnRefresh;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.router.RouteAlias;\r\n\r\nimport jakarta.annotation.security.PermitAll;\r\nimport se.michaelthelin.spotify.model_objects.specification.TrackSimplified;\r\nimport trackour.trackour.model.CustomUserDetailsService;\r\nimport trackour.trackour.security.SecurityViewService;\r\nimport trackour.trackour.views.api.APIController;\r\nimport trackour.trackour.views.components.NavBar;\r\nimport trackour.trackour.views.components.responsive.MyBlockResponsiveLayout;\r\n\r\n@Route(&quot;search/advanced&quot;)\r\n@RouteAlias(&quot;search/advanced&quot;)\r\n@PreserveOnRefresh\r\n@PageTitle(&quot;Advanced Search | Trackour&quot;)\r\n// Admins are users but also have the &quot;admin&quot; special role so pages that can be\r\n// viewed by\r\n// both users and admins should have the admin role specified as well\r\n@PermitAll\r\npublic class AdvancedSearch extends MyBlockResponsiveLayout{\r\n    \r\n    @Autowired\r\n    SecurityViewService securityViewHandler;\r\n    \r\n    @Autowired\r\n    CustomUserDetailsService customUserDetailsService;\r\n    \r\n    public AdvancedSearch(SecurityViewService securityViewHandler,\r\n    CustomUserDetailsService customUserDetailsService) {\r\n\r\n        NavBar navbar = new NavBar(customUserDetailsService, securityViewHandler);\r\n\r\n        TextField genre = new TextField();\r\n        genre.setLabel(&quot;Genre&quot;);\r\n        genre.setHelperText(&quot;The genre you want to search in.&quot;);\r\n        genre.setRequired(true);\r\n        genre.setAllowedCharPattern(&quot;[a-z,]&quot;);\r\n\r\n        TextField acousticness = new TextField();\r\n        acousticness.setLabel(&quot;Acousticness&quot;);\r\n        acousticness.setHelperText(&quot;The acousticness of the track as a value between 0.0 and 1.0.&quot; +\r\n                                    &quot; The higher the value, the higher the chance the track is acoustic.&quot;);\r\n        acousticness.setRequired(true);\r\n        acousticness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n        \r\n        TextField danceability = new TextField();\r\n        danceability.setLabel(&quot;Danceability&quot;);\r\n        danceability.setHelperText(&quot;The danceability of the track as a value between 0.0 and 1.0.&quot; +\r\n                                    &quot; The danceability depends on factors like tempo and rhythm stability. Higher is better.&quot;);\r\n        danceability.setRequired(true);\r\n        danceability.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField energy = new TextField();\r\n        energy.setLabel(&quot;Energy&quot;);\r\n        energy.setHelperText(&quot;The energy of the track as a value between 0.0 and 1.0. &quot; +\r\n                            &quot; The energetic value of the track depends on factors like speed and loudness.&quot; +\r\n                            &quot; Fast and loud tracks feel more energetic than slow and quiet tracks.&quot;);\r\n        energy.setRequired(true);\r\n        energy.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField instrumentalness = new TextField();\r\n        instrumentalness.setLabel(&quot;Instrumentalness&quot;);\r\n        instrumentalness.setHelperText(&quot;Get the instrumentalness of the track as a value between 0.0 and 1.0&quot; +\r\n                                        &quot; The higher the value, the higher the chance the track contains vocals.&quot;);\r\n        instrumentalness.setRequired(true);\r\n        instrumentalness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        ComboBox&lt;String&gt; key = new ComboBox&lt;&gt;();\r\n        key.setLabel(&quot;Key&quot;);\r\n        key.setAllowCustomValue(false);\r\n        key.setItems(&quot;C&quot;, &quot;C♯/D♭&quot;, &quot;D&quot;, &quot;D♯/E♭&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F♯/G♭&quot;, &quot;G&quot;, &quot;G♯/A♭&quot;, &quot;A&quot;, &quot;A♯/B♭&quot;, &quot;B&quot;);\r\n        key.setHelperText(&quot;The key the track is in.&quot;);\r\n        key.setRequired(true);\r\n\r\n        TextField loudness = new TextField();\r\n        loudness.setLabel(&quot;Loudness&quot;);\r\n        loudness.setHelperText(&quot;The average loudness of the track.&quot; + \r\n                                &quot; These values have mostly a range between -60 and 0 decibels.&quot; +\r\n                                &quot; Input values as positive.&quot;);\r\n        loudness.setRequired(true);\r\n        loudness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        ComboBox&lt;String&gt; mode = new ComboBox&lt;&gt;();\r\n        mode.setLabel(&quot;Mode&quot;);\r\n        mode.setAllowCustomValue(false);\r\n        mode.setItems(&quot;Major&quot;, &quot;Minor&quot;);\r\n        mode.setHelperText(&quot;Mode indicates the modality of a track,&quot; + \r\n                            &quot; the type of scale from which its melodic content is derived.&quot;);\r\n        mode.setRequired(true);  \r\n\r\n        TextField tempo = new TextField();\r\n        tempo.setLabel(&quot;Tempo&quot;);\r\n        tempo.setHelperText(&quot;The estimated tempo of the track in beats per minute.&quot; +\r\n                            &quot; Tempo is the speed or pace of a given piece, derived from the average beats duration.&quot;);\r\n        tempo.setRequired(true);\r\n        tempo.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField timeSignature = new TextField();\r\n        timeSignature.setLabel(&quot;Time Signature&quot;);\r\n        timeSignature.setHelperText(&quot;The estimated overall time signature of the track.&quot; +\r\n                                    &quot; The time signature is the number of beats in a bar.&quot; +\r\n                                    &quot; A three quarters beat would be given as the value 3.&quot; +\r\n                                    &quot; Range Allowed: 3-7&quot;);\r\n        timeSignature.setAllowedCharPattern(&quot;[3-7]&quot;);\r\n        timeSignature.setRequired(true);\r\n\r\n        TextField valence = new TextField();\r\n        valence.setLabel(&quot;Valence&quot;);\r\n        valence.setHelperText(&quot;The valence of the track as a value between 0.0 and 1.0.&quot; +\r\n                                &quot; A track with high valence sounds more positive (happy, cheerful, euphoric)&quot; +\r\n                                &quot; than a track with a low valence value (sad, depressed, angry).&quot;);\r\n        valence.setRequired(true);\r\n        valence.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        Dialog errorMessage = new Dialog();\r\n        VerticalLayout dialogLayout = new VerticalLayout();\r\n        errorMessage.add(dialogLayout);\r\n        errorMessage.setHeaderTitle(&quot;ERROR&quot;);\r\n        \r\n        Paragraph errorParagraph = new Paragraph();\r\n        errorParagraph.setText(&quot;Input is invalid!&quot;);\r\n        dialogLayout.add(errorParagraph);\r\n\r\n        Button closeButton = new Button(new Icon(&quot;lumo&quot;, &quot;cross&quot;),\r\n            (e) -&gt; errorMessage.close());\r\n        closeButton.addThemeVariants(ButtonVariant.LUMO_TERTIARY);\r\n        errorMessage.getHeader().add(closeButton);\r\n\r\n        Button searchButton = new Button(&quot;Search&quot;);\r\n        searchButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\r\n        searchButton.addClickListener(event -&gt; {\r\n            \r\n            if (Float.parseFloat(acousticness.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                acousticness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(danceability.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                danceability.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(energy.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                energy.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(instrumentalness.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                instrumentalness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(loudness.getValue()) &gt; 60) {\r\n                errorMessage.open();\r\n                loudness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(tempo.getValue()) &gt; 200) {\r\n                errorMessage.open();\r\n                tempo.setInvalid(true);\r\n            }\r\n\r\n            if (Integer.parseInt(timeSignature.getValue()) &gt; 7) {\r\n                errorMessage.open();\r\n                timeSignature.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(valence.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                valence.setInvalid(true);\r\n            }\r\n\r\n            String genreValue = genre.getValue().toLowerCase();\r\n            float acousticnessValue = Float.parseFloat(acousticness.getValue());\r\n            float danceabilityValue = Float.parseFloat(danceability.getValue());\r\n            float energyValue = Float.parseFloat(energy.getValue());\r\n            float instrumentalnessValue = Float.parseFloat(instrumentalness.getValue());\r\n            int keyValue;\r\n            String keyLetter = key.getValue();\r\n            switch (keyLetter) {\r\n                case &quot;C&quot;: keyValue = 0;\r\n                    break;\r\n                case &quot;C♯/D♭&quot;: keyValue = 1;\r\n                    break;\r\n                case &quot;D&quot;: keyValue = 2;\r\n                    break;\r\n                case &quot;D♯/E♭&quot;: keyValue = 3;\r\n                    break;\r\n                case &quot;E&quot;: keyValue = 4;\r\n                    break;\r\n                case &quot;F&quot;: keyValue = 5;\r\n                    break;\r\n                case &quot;F♯/G♭&quot;: keyValue = 6;\r\n                    break;\r\n                case &quot;G&quot;: keyValue = 7;\r\n                    break;\r\n                case &quot;G♯/A♭&quot;: keyValue = 8;\r\n                    break;\r\n                case &quot;A&quot;: keyValue = 9;\r\n                    break;\r\n                case &quot;A♯/B♭&quot;: keyValue = 10;\r\n                    break;\r\n                case &quot;B&quot;: keyValue = 11;\r\n                    break;\r\n                default: keyValue = -1;\r\n                    break;\r\n            }\r\n\r\n            float loudnessValue = -Float.parseFloat(loudness.getValue());\r\n            int modeValue;\r\n            if (mode.getValue() == &quot;Major&quot;) {\r\n                modeValue = 1;\r\n            } else {\r\n                modeValue = 0;\r\n            }\r\n            float tempoValue = Float.parseFloat(tempo.getValue());\r\n            int timeSignatureValue = Integer.parseInt(timeSignature.getValue());\r\n            float valenceValue = Float.parseFloat(valence.getValue());\r\n\r\n            // APIController.getRecommendations() returns a TrackSimplified[] array\r\n            TrackSimplified[] tracks = APIController.getRecommendations(genreValue, acousticnessValue, danceabilityValue, energyValue, instrumentalnessValue, keyValue, loudnessValue, modeValue, tempoValue, timeSignatureValue, valenceValue);\r\n\r\n            // TESTING\r\n            System.out.println(tracks[0].getName());\r\n        });\r\n        \r\n        FormLayout formLayout = new FormLayout();\r\n        formLayout.add(genre, acousticness, danceability, energy, instrumentalness, key, \r\n                        loudness, mode, tempo, timeSignature, valence, searchButton);\r\n        formLayout.setResponsiveSteps(\r\n            new ResponsiveStep(&quot;0&quot;, 1),\r\n            new ResponsiveStep(&quot;300px&quot;, 3)\r\n        );\r\n        formLayout.setHeight(&quot;400px&quot;);\r\n        formLayout.setWidth(&quot;900px&quot;);\r\n\r\n        Grid&lt;TrackSimplified&gt; resultsGrid = new Grid&lt;&gt;();\r\n        resultsGrid.addColumn(TrackSimplified::getName).setHeader(&quot;Song&quot;);\r\n        resultsGrid.addColumn(TrackSimplified::getArtists).setHeader(&quot;Artist&quot;);\r\n        resultsGrid.setHeight(&quot;400px&quot;);\r\n        resultsGrid.setWidth(&quot;900px&quot;);\r\n\r\n        // main container contining cards area and button\r\n        VerticalLayout verticalLayout = new VerticalLayout();\r\n        Div placeHolderTextContainer = new Div();\r\n        placeHolderTextContainer.add(new H3(&quot;Advanced Search&quot;));\r\n\r\n        HorizontalLayout main = new HorizontalLayout();\r\n        main.add(formLayout, resultsGrid);\r\n\r\n        verticalLayout.add(placeHolderTextContainer, main);\r\n        verticalLayout.setAlignItems(Alignment.CENTER);\r\n        // Create a responsive navbar component\r\n        // Add some content below the navbar\r\n        navbar.setContent(verticalLayout);\r\n\r\n        setAlignItems(Alignment.CENTER);\r\n        // Add it to the view\r\n        add(navbar);\r\n    }\r\n}\r\n```","title":"Displaying Spotify API recommendation results in a Vaadin Grid","body":"<p>I'm working on a Vaadin Spring Boot web application and using the Spotify API in my app. I am creating a page that a user can use to access the Recommendations endpoint of the Spotify API. The page has a form that the user must fill with whatever genre they want to search through and then fill in the specific audio features they want results to match with. Once the form is complete, a button is clicked to call an API method that takes the form data and creates a TrackSimplified[] array with the search results.</p>\n<p>I wanted to know if it's possible to fill a grid (on the same page) with the search results whenever the user clicks the button.</p>\n<p>Here is my code with a blank grid along with the form and other parts of the page:</p>\n<pre><code>package trackour.trackour.views.advancedsearch;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.button.ButtonVariant;\nimport com.vaadin.flow.component.combobox.ComboBox;\nimport com.vaadin.flow.component.dialog.Dialog;\nimport com.vaadin.flow.component.formlayout.FormLayout;\nimport com.vaadin.flow.component.formlayout.FormLayout.ResponsiveStep;\nimport com.vaadin.flow.component.grid.Grid;\nimport com.vaadin.flow.component.html.Div;\nimport com.vaadin.flow.component.html.H3;\nimport com.vaadin.flow.component.html.Paragraph;\nimport com.vaadin.flow.component.icon.Icon;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.router.PreserveOnRefresh;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.router.RouteAlias;\n\nimport jakarta.annotation.security.PermitAll;\nimport se.michaelthelin.spotify.model_objects.specification.TrackSimplified;\nimport trackour.trackour.model.CustomUserDetailsService;\nimport trackour.trackour.security.SecurityViewService;\nimport trackour.trackour.views.api.APIController;\nimport trackour.trackour.views.components.NavBar;\nimport trackour.trackour.views.components.responsive.MyBlockResponsiveLayout;\n\n@Route(&quot;search/advanced&quot;)\n@RouteAlias(&quot;search/advanced&quot;)\n@PreserveOnRefresh\n@PageTitle(&quot;Advanced Search | Trackour&quot;)\n// Admins are users but also have the &quot;admin&quot; special role so pages that can be\n// viewed by\n// both users and admins should have the admin role specified as well\n@PermitAll\npublic class AdvancedSearch extends MyBlockResponsiveLayout{\n    \n    @Autowired\n    SecurityViewService securityViewHandler;\n    \n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n    \n    public AdvancedSearch(SecurityViewService securityViewHandler,\n    CustomUserDetailsService customUserDetailsService) {\n\n        NavBar navbar = new NavBar(customUserDetailsService, securityViewHandler);\n\n        TextField genre = new TextField();\n        genre.setLabel(&quot;Genre&quot;);\n        genre.setHelperText(&quot;The genre you want to search in.&quot;);\n        genre.setRequired(true);\n        genre.setAllowedCharPattern(&quot;[a-z,]&quot;);\n\n        TextField acousticness = new TextField();\n        acousticness.setLabel(&quot;Acousticness&quot;);\n        acousticness.setHelperText(&quot;The acousticness of the track as a value between 0.0 and 1.0.&quot; +\n                                    &quot; The higher the value, the higher the chance the track is acoustic.&quot;);\n        acousticness.setRequired(true);\n        acousticness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n        \n        TextField danceability = new TextField();\n        danceability.setLabel(&quot;Danceability&quot;);\n        danceability.setHelperText(&quot;The danceability of the track as a value between 0.0 and 1.0.&quot; +\n                                    &quot; The danceability depends on factors like tempo and rhythm stability. Higher is better.&quot;);\n        danceability.setRequired(true);\n        danceability.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField energy = new TextField();\n        energy.setLabel(&quot;Energy&quot;);\n        energy.setHelperText(&quot;The energy of the track as a value between 0.0 and 1.0. &quot; +\n                            &quot; The energetic value of the track depends on factors like speed and loudness.&quot; +\n                            &quot; Fast and loud tracks feel more energetic than slow and quiet tracks.&quot;);\n        energy.setRequired(true);\n        energy.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField instrumentalness = new TextField();\n        instrumentalness.setLabel(&quot;Instrumentalness&quot;);\n        instrumentalness.setHelperText(&quot;Get the instrumentalness of the track as a value between 0.0 and 1.0&quot; +\n                                        &quot; The higher the value, the higher the chance the track contains vocals.&quot;);\n        instrumentalness.setRequired(true);\n        instrumentalness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        ComboBox&lt;String&gt; key = new ComboBox&lt;&gt;();\n        key.setLabel(&quot;Key&quot;);\n        key.setAllowCustomValue(false);\n        key.setItems(&quot;C&quot;, &quot;C♯/D♭&quot;, &quot;D&quot;, &quot;D♯/E♭&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F♯/G♭&quot;, &quot;G&quot;, &quot;G♯/A♭&quot;, &quot;A&quot;, &quot;A♯/B♭&quot;, &quot;B&quot;);\n        key.setHelperText(&quot;The key the track is in.&quot;);\n        key.setRequired(true);\n\n        TextField loudness = new TextField();\n        loudness.setLabel(&quot;Loudness&quot;);\n        loudness.setHelperText(&quot;The average loudness of the track.&quot; + \n                                &quot; These values have mostly a range between -60 and 0 decibels.&quot; +\n                                &quot; Input values as positive.&quot;);\n        loudness.setRequired(true);\n        loudness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        ComboBox&lt;String&gt; mode = new ComboBox&lt;&gt;();\n        mode.setLabel(&quot;Mode&quot;);\n        mode.setAllowCustomValue(false);\n        mode.setItems(&quot;Major&quot;, &quot;Minor&quot;);\n        mode.setHelperText(&quot;Mode indicates the modality of a track,&quot; + \n                            &quot; the type of scale from which its melodic content is derived.&quot;);\n        mode.setRequired(true);  \n\n        TextField tempo = new TextField();\n        tempo.setLabel(&quot;Tempo&quot;);\n        tempo.setHelperText(&quot;The estimated tempo of the track in beats per minute.&quot; +\n                            &quot; Tempo is the speed or pace of a given piece, derived from the average beats duration.&quot;);\n        tempo.setRequired(true);\n        tempo.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField timeSignature = new TextField();\n        timeSignature.setLabel(&quot;Time Signature&quot;);\n        timeSignature.setHelperText(&quot;The estimated overall time signature of the track.&quot; +\n                                    &quot; The time signature is the number of beats in a bar.&quot; +\n                                    &quot; A three quarters beat would be given as the value 3.&quot; +\n                                    &quot; Range Allowed: 3-7&quot;);\n        timeSignature.setAllowedCharPattern(&quot;[3-7]&quot;);\n        timeSignature.setRequired(true);\n\n        TextField valence = new TextField();\n        valence.setLabel(&quot;Valence&quot;);\n        valence.setHelperText(&quot;The valence of the track as a value between 0.0 and 1.0.&quot; +\n                                &quot; A track with high valence sounds more positive (happy, cheerful, euphoric)&quot; +\n                                &quot; than a track with a low valence value (sad, depressed, angry).&quot;);\n        valence.setRequired(true);\n        valence.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        Dialog errorMessage = new Dialog();\n        VerticalLayout dialogLayout = new VerticalLayout();\n        errorMessage.add(dialogLayout);\n        errorMessage.setHeaderTitle(&quot;ERROR&quot;);\n        \n        Paragraph errorParagraph = new Paragraph();\n        errorParagraph.setText(&quot;Input is invalid!&quot;);\n        dialogLayout.add(errorParagraph);\n\n        Button closeButton = new Button(new Icon(&quot;lumo&quot;, &quot;cross&quot;),\n            (e) -&gt; errorMessage.close());\n        closeButton.addThemeVariants(ButtonVariant.LUMO_TERTIARY);\n        errorMessage.getHeader().add(closeButton);\n\n        Button searchButton = new Button(&quot;Search&quot;);\n        searchButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\n        searchButton.addClickListener(event -&gt; {\n            \n            if (Float.parseFloat(acousticness.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                acousticness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(danceability.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                danceability.setInvalid(true);\n            }\n\n            if (Float.parseFloat(energy.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                energy.setInvalid(true);\n            }\n\n            if (Float.parseFloat(instrumentalness.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                instrumentalness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(loudness.getValue()) &gt; 60) {\n                errorMessage.open();\n                loudness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(tempo.getValue()) &gt; 200) {\n                errorMessage.open();\n                tempo.setInvalid(true);\n            }\n\n            if (Integer.parseInt(timeSignature.getValue()) &gt; 7) {\n                errorMessage.open();\n                timeSignature.setInvalid(true);\n            }\n\n            if (Float.parseFloat(valence.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                valence.setInvalid(true);\n            }\n\n            String genreValue = genre.getValue().toLowerCase();\n            float acousticnessValue = Float.parseFloat(acousticness.getValue());\n            float danceabilityValue = Float.parseFloat(danceability.getValue());\n            float energyValue = Float.parseFloat(energy.getValue());\n            float instrumentalnessValue = Float.parseFloat(instrumentalness.getValue());\n            int keyValue;\n            String keyLetter = key.getValue();\n            switch (keyLetter) {\n                case &quot;C&quot;: keyValue = 0;\n                    break;\n                case &quot;C♯/D♭&quot;: keyValue = 1;\n                    break;\n                case &quot;D&quot;: keyValue = 2;\n                    break;\n                case &quot;D♯/E♭&quot;: keyValue = 3;\n                    break;\n                case &quot;E&quot;: keyValue = 4;\n                    break;\n                case &quot;F&quot;: keyValue = 5;\n                    break;\n                case &quot;F♯/G♭&quot;: keyValue = 6;\n                    break;\n                case &quot;G&quot;: keyValue = 7;\n                    break;\n                case &quot;G♯/A♭&quot;: keyValue = 8;\n                    break;\n                case &quot;A&quot;: keyValue = 9;\n                    break;\n                case &quot;A♯/B♭&quot;: keyValue = 10;\n                    break;\n                case &quot;B&quot;: keyValue = 11;\n                    break;\n                default: keyValue = -1;\n                    break;\n            }\n\n            float loudnessValue = -Float.parseFloat(loudness.getValue());\n            int modeValue;\n            if (mode.getValue() == &quot;Major&quot;) {\n                modeValue = 1;\n            } else {\n                modeValue = 0;\n            }\n            float tempoValue = Float.parseFloat(tempo.getValue());\n            int timeSignatureValue = Integer.parseInt(timeSignature.getValue());\n            float valenceValue = Float.parseFloat(valence.getValue());\n\n            // APIController.getRecommendations() returns a TrackSimplified[] array\n            TrackSimplified[] tracks = APIController.getRecommendations(genreValue, acousticnessValue, danceabilityValue, energyValue, instrumentalnessValue, keyValue, loudnessValue, modeValue, tempoValue, timeSignatureValue, valenceValue);\n\n            // TESTING\n            System.out.println(tracks[0].getName());\n        });\n        \n        FormLayout formLayout = new FormLayout();\n        formLayout.add(genre, acousticness, danceability, energy, instrumentalness, key, \n                        loudness, mode, tempo, timeSignature, valence, searchButton);\n        formLayout.setResponsiveSteps(\n            new ResponsiveStep(&quot;0&quot;, 1),\n            new ResponsiveStep(&quot;300px&quot;, 3)\n        );\n        formLayout.setHeight(&quot;400px&quot;);\n        formLayout.setWidth(&quot;900px&quot;);\n\n        Grid&lt;TrackSimplified&gt; resultsGrid = new Grid&lt;&gt;();\n        resultsGrid.addColumn(TrackSimplified::getName).setHeader(&quot;Song&quot;);\n        resultsGrid.addColumn(TrackSimplified::getArtists).setHeader(&quot;Artist&quot;);\n        resultsGrid.setHeight(&quot;400px&quot;);\n        resultsGrid.setWidth(&quot;900px&quot;);\n\n        // main container contining cards area and button\n        VerticalLayout verticalLayout = new VerticalLayout();\n        Div placeHolderTextContainer = new Div();\n        placeHolderTextContainer.add(new H3(&quot;Advanced Search&quot;));\n\n        HorizontalLayout main = new HorizontalLayout();\n        main.add(formLayout, resultsGrid);\n\n        verticalLayout.add(placeHolderTextContainer, main);\n        verticalLayout.setAlignItems(Alignment.CENTER);\n        // Create a responsive navbar component\n        // Add some content below the navbar\n        navbar.setContent(verticalLayout);\n\n        setAlignItems(Alignment.CENTER);\n        // Add it to the view\n        add(navbar);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","future"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1690937055,"post_id":76815951,"comment_id":135421556,"body_markdown":"You can call `Future.get()` inside the synchronized code to make sure it completes before exiting. But then what&#39;s the point of using futures altogether?","body":"You can call <code>Future.get()</code> inside the synchronized code to make sure it completes before exiting. But then what&#39;s the point of using futures altogether?"},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1690939584,"post_id":76815951,"comment_id":135421747,"body_markdown":"That&#39;s certainly a workable solution, but yeah, then why use futures at all.","body":"That&#39;s certainly a workable solution, but yeah, then why use futures at all."},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1694264857,"post_id":76815951,"comment_id":135870341,"body_markdown":"Behaviour is changing with multiple invocation so a state is introduced in `getOrCreateResult`.We might need to store the state as `future` may or may not get called.So ensuring that 1st thread created a future does not gurantee createResult will be called.There will always be a race condition if we have different `future` returned.Might have to use concurrentcollection to hold the state or re-design.","body":"Behaviour is changing with multiple invocation so a state is introduced in <code>getOrCreateResult</code>.We might need to store the state as <code>future</code> may or may not get called.So ensuring that 1st thread created a future does not gurantee createResult will be called.There will always be a race condition if we have different <code>future</code> returned.Might have to use concurrentcollection to hold the state or re-design."}],"answers":[{"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690940404,"creation_date":1690940404,"answer_id":76816127,"question_id":76815951,"body_markdown":"I think you can try the form of the singleton pattern ([Lazy initialization](https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization)).\r\n\r\nSuch as:\r\n```java\r\nprivate volatile ListenableFuture&lt;Result&gt; resultFuture;\r\n\r\npublic ListenableFuture&lt;Result&gt; getOrCreateResult() {\r\n    if (resultFuture == null) {\r\n        synchronized (this) {\r\n            if (resultFuture == null) {\r\n                resultFuture = createResult();\r\n            }\r\n        }\r\n    }\r\n    return resultFuture;\r\n}\r\n```\r\n\r\nHope to help you.","title":"How do I synchronize a method that returns a Future?","body":"<p>I think you can try the form of the singleton pattern (<a href=\"https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\" rel=\"nofollow noreferrer\">Lazy initialization</a>).</p>\n<p>Such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile ListenableFuture&lt;Result&gt; resultFuture;\n\npublic ListenableFuture&lt;Result&gt; getOrCreateResult() {\n    if (resultFuture == null) {\n        synchronized (this) {\n            if (resultFuture == null) {\n                resultFuture = createResult();\n            }\n        }\n    }\n    return resultFuture;\n}\n</code></pre>\n<p>Hope to help you.</p>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690940404,"creation_date":1690936228,"question_id":76815951,"body_markdown":"Here&#39;s a stripped down version of my code.\r\n\r\n    public synchronized ListenableFuture&lt;Result&gt; getOrCreateResult() {\r\n      Optional&lt;Result&gt; optionalResult = getResult();\r\n      \r\n      return optionalResult\r\n          .map(Futures::immediateFuture)\r\n          .orElseGet(this::createResult);\r\n    }\r\n\r\n    private ListenableFuture&lt;Result&gt; createResult() {\r\n      return FluentFutures.from(this::futureComputation1)\r\n          .transformAsync(this::futureComputation2, executor)\r\n          .transformAsync(this::futureComputation3, executor)\r\n          ...\r\n          .transform(someComputution -&gt; {\r\n            Result result = buildResult();\r\n            return result;\r\n          }, executor);\r\n    }\r\n\r\n\r\nWhen 2 threads call `getOrCreateResult()` , the `synchronized` block is preventing them from both entering `getOrCreateResult()` at the same time, but `buildResult()` is being called twice.\r\n\r\nMy understanding is that since `getOrCreateResult()` returns a future, as soon as the 1st thread returns the `ListenableFuture` that will eventually build the result, it gives up the lock before actually building the result. That now allows 2nd thread to enter `getOrCreateResult()`. If 1st thread has not executed the `buildResult()`, then the 2nd thread will get an empty `optionalResult` and will attempt to call `buildResult()` too.\r\n\r\nWhat do I need to do to ensure `buildResult()` is only called once?","title":"How do I synchronize a method that returns a Future?","body":"<p>Here's a stripped down version of my code.</p>\n<pre><code>public synchronized ListenableFuture&lt;Result&gt; getOrCreateResult() {\n  Optional&lt;Result&gt; optionalResult = getResult();\n  \n  return optionalResult\n      .map(Futures::immediateFuture)\n      .orElseGet(this::createResult);\n}\n\nprivate ListenableFuture&lt;Result&gt; createResult() {\n  return FluentFutures.from(this::futureComputation1)\n      .transformAsync(this::futureComputation2, executor)\n      .transformAsync(this::futureComputation3, executor)\n      ...\n      .transform(someComputution -&gt; {\n        Result result = buildResult();\n        return result;\n      }, executor);\n}\n</code></pre>\n<p>When 2 threads call <code>getOrCreateResult()</code> , the <code>synchronized</code> block is preventing them from both entering <code>getOrCreateResult()</code> at the same time, but <code>buildResult()</code> is being called twice.</p>\n<p>My understanding is that since <code>getOrCreateResult()</code> returns a future, as soon as the 1st thread returns the <code>ListenableFuture</code> that will eventually build the result, it gives up the lock before actually building the result. That now allows 2nd thread to enter <code>getOrCreateResult()</code>. If 1st thread has not executed the <code>buildResult()</code>, then the 2nd thread will get an empty <code>optionalResult</code> and will attempt to call <code>buildResult()</code> too.</p>\n<p>What do I need to do to ensure <code>buildResult()</code> is only called once?</p>\n"},{"tags":["java","spring-mvc","spring-el","spring-expression-language","spring-expression"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1690982949,"post_id":76816067,"comment_id":135428781,"body_markdown":"You need to look into caching a parsed `Expression` instance: no need to parse it on every single call.","body":"You need to look into caching a parsed <code>Expression</code> instance: no need to parse it on every single call."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1690983083,"post_id":76816067,"comment_id":135428815,"body_markdown":"I mean the result of `parseExpression()` should be cached. The `getValue()` indeed has to be called every time, but already on a parsed and cached expression.","body":"I mean the result of <code>parseExpression()</code> should be cached. The <code>getValue()</code> indeed has to be called every time, but already on a parsed and cached expression."},{"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"score":0,"creation_date":1691018772,"post_id":76816067,"comment_id":135435583,"body_markdown":"@ArtemBilan Can you please suggest a code for caching Parse Expressions","body":"@ArtemBilan Can you please suggest a code for caching Parse Expressions"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1691071634,"post_id":76816067,"comment_id":135444437,"body_markdown":"A `Map` based on your `PolicyEvaluationRule` as a key and a parsed `Expression` as the value. Then you use a `computeIfAbsent()` for cache feature.","body":"A <code>Map</code> based on your <code>PolicyEvaluationRule</code> as a key and a parsed <code>Expression</code> as the value. Then you use a <code>computeIfAbsent()</code> for cache feature."},{"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"score":0,"creation_date":1691087202,"post_id":76816067,"comment_id":135447804,"body_markdown":"Thanks, will give it a try","body":"Thanks, will give it a try"}],"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690938777,"creation_date":1690938777,"question_id":76816067,"body_markdown":"I am running below piece of code live and for very few traffic[.025%] ~(500 out of 2 million). The SpEL Parser is behaving wierd and returning response as false where it should return true.\r\n\r\nContext Class file\r\n\r\n```\r\n@Getter\r\n@Builder\r\n@ToString\r\npublic class EvaluationContext {\r\n    private String requestKey;\r\n    private String namespace;\r\n    private ContextAmount totalAmount;\r\n    private double threshold;\r\n    private String processingModel;\r\n    private String channel;\r\n}\r\n```\r\n\r\nRule file \r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PolicyEvaluationRule {\r\n    private String namespace;\r\n    private String ruleName = &quot;test1&quot;;\r\n    private String expression = &quot;&#39;SAMPLE&#39;.equals(Context?.ProcessingModel)&quot;;\r\n    private EvaluationContext context;\r\n}\r\n```\r\n\r\n\r\nEvaluating SPEL rule as below\r\n\r\n\r\n```\r\nExpressionParser parser = new SpelExpressionParser();\r\n        StandardEvaluationContext context = new StandardEvaluationContext(rule);\r\n        Boolean result = parser.parseExpression(rule.getExpression()).getValue(context, Boolean.class);\r\n```\r\n\r\nFor, all these failed instances assigned value in processingModel was &#39;SAMPLE&#39;. And parseExpression here never ran into exception or returned result as null. So, it becomes really difficult to identify how to separate out these cases from main flow.\r\n\r\n\r\n\r\n\r\nI added logs to identify that the result from the parser was `false` and there was no exception from the parser. If parser is having some error I believe it should throw exception or minimum the result should have been `null`","title":"SpEL Parser returning false when it&#39;s supposed to return true","body":"<p>I am running below piece of code live and for very few traffic[.025%] ~(500 out of 2 million). The SpEL Parser is behaving wierd and returning response as false where it should return true.</p>\n<p>Context Class file</p>\n<pre><code>@Getter\n@Builder\n@ToString\npublic class EvaluationContext {\n    private String requestKey;\n    private String namespace;\n    private ContextAmount totalAmount;\n    private double threshold;\n    private String processingModel;\n    private String channel;\n}\n</code></pre>\n<p>Rule file</p>\n<pre><code>@Getter\n@Setter\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyEvaluationRule {\n    private String namespace;\n    private String ruleName = &quot;test1&quot;;\n    private String expression = &quot;'SAMPLE'.equals(Context?.ProcessingModel)&quot;;\n    private EvaluationContext context;\n}\n</code></pre>\n<p>Evaluating SPEL rule as below</p>\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\n        StandardEvaluationContext context = new StandardEvaluationContext(rule);\n        Boolean result = parser.parseExpression(rule.getExpression()).getValue(context, Boolean.class);\n</code></pre>\n<p>For, all these failed instances assigned value in processingModel was 'SAMPLE'. And parseExpression here never ran into exception or returned result as null. So, it becomes really difficult to identify how to separate out these cases from main flow.</p>\n<p>I added logs to identify that the result from the parser was <code>false</code> and there was no exception from the parser. If parser is having some error I believe it should throw exception or minimum the result should have been <code>null</code></p>\n"},{"tags":["java","swing","javafx-2","tableview"],"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1370851268,"post_id":17017364,"comment_id":24596374,"body_markdown":"How is this any different from your [previous question](http://stackoverflow.com/q/16805845/1076463) ?","body":"How is this any different from your <a href=\"http://stackoverflow.com/q/16805845/1076463\">previous question</a> ?"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":0,"creation_date":1370855502,"post_id":17017364,"comment_id":24598280,"body_markdown":"sorting part is done   \n\nI now need to add filter which filters out data according to text change in text box,\n\nI have given link for swing application or oracle website which works pretty fast (add 100,000) data point but my javafx application doesnot work fast (see link given in question for filtering in javafx)","body":"sorting part is done     I now need to add filter which filters out data according to text change in text box,  I have given link for swing application or oracle website which works pretty fast (add 100,000) data point but my javafx application doesnot work fast (see link given in question for filtering in javafx)"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":0,"creation_date":1370925827,"post_id":17017364,"comment_id":24627163,"body_markdown":"For [suggestion](http://stackoverflow.com/questions/16805845/javafx-tableview-sort-is-really-slow-how-to-improve-sort-speed-as-in-java-swing) It is working with same speed as that of sorting but I want to know how swing implement it that it retrieve data too fast for filtering as compared to javafx","body":"For <a href=\"http://stackoverflow.com/questions/16805845/javafx-tableview-sort-is-really-slow-how-to-improve-sort-speed-as-in-java-swing\">suggestion</a> It is working with same speed as that of sorting but I want to know how swing implement it that it retrieve data too fast for filtering as compared to javafx"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1381930279,"post_id":17017364,"comment_id":28762674,"body_markdown":"@ b.pradeep - Did you get any solution for this question?","body":"@ b.pradeep - Did you get any solution for this question?"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":1,"creation_date":1381941339,"post_id":17017364,"comment_id":28769895,"body_markdown":"@IJP unfortunately no\nyou have to write custom filtering by traversing through your table but JavaFx 8 looks promising, but I haven&#39;t explored it yet.","body":"@IJP unfortunately no you have to write custom filtering by traversing through your table but JavaFx 8 looks promising, but I haven&#39;t explored it yet."}],"answers":[{"tags":[],"owner":{"account_id":4421988,"reputation":78,"user_id":3601629,"display_name":"Zaid Sultan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406983397,"creation_date":1406983397,"answer_id":25095167,"question_id":17017364,"body_markdown":"I use this snippet of code for filtering but really i didn&#39;t test in huge data case\r\n\r\n    textField.textProperty().addListener(new InvalidationListener() {\r\n\r\n            @Override\r\n            public void invalidated(Observable observable) {\r\n                if(textField.textProperty().get().isEmpty()) {\r\n                    tableView.setItems(dataList);\r\n                    return;\r\n                }\r\n                ObservableList&lt;ClassModel&gt; tableItems = FXCollections.observableArrayList();\r\n                ObservableList&lt;TableColumn&lt;ClassModel, ?&gt;&gt; cols = tableView.getColumns();\r\n                for(int i=0; i&lt;dataList.size(); i++) {\r\n                    \r\n                    for(int j=0; j&lt;cols.size(); j++) {\r\n                        TableColumn col = cols.get(j);\r\n                        String cellValue = col.getCellData(dataList.get(i)).toString();\r\n                        cellValue = cellValue.toLowerCase();\r\n                        if(cellValue.contains(textField.textProperty().get().toLowerCase())) {\r\n                            tableItems.add(data.get(i));\r\n                            break;\r\n                        }                        \r\n                    }\r\n                }\r\n                tableView.setItems(tableItems);\r\n            \r\n            }\r\n        });\r\n\r\nwhere ClassModel is your Model Class","title":"Fast filtering in javafx tableview","body":"<p>I use this snippet of code for filtering but really i didn't test in huge data case</p>\n\n<pre><code>textField.textProperty().addListener(new InvalidationListener() {\n\n        @Override\n        public void invalidated(Observable observable) {\n            if(textField.textProperty().get().isEmpty()) {\n                tableView.setItems(dataList);\n                return;\n            }\n            ObservableList&lt;ClassModel&gt; tableItems = FXCollections.observableArrayList();\n            ObservableList&lt;TableColumn&lt;ClassModel, ?&gt;&gt; cols = tableView.getColumns();\n            for(int i=0; i&lt;dataList.size(); i++) {\n\n                for(int j=0; j&lt;cols.size(); j++) {\n                    TableColumn col = cols.get(j);\n                    String cellValue = col.getCellData(dataList.get(i)).toString();\n                    cellValue = cellValue.toLowerCase();\n                    if(cellValue.contains(textField.textProperty().get().toLowerCase())) {\n                        tableItems.add(data.get(i));\n                        break;\n                    }                        \n                }\n            }\n            tableView.setItems(tableItems);\n\n        }\n    });\n</code></pre>\n\n<p>where ClassModel is your Model Class</p>\n"},{"tags":[],"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690938583,"creation_date":1441473323,"answer_id":32415725,"question_id":17017364,"body_markdown":"# `FilteredList`\r\n\r\nYou may use [`FilteredList`][1] in JavaFX 8+. \r\n    \r\n    ObservableList&lt;YourObjectClass&gt; actualList = ...;\r\n    FilteredList&lt;YourObjectClass&gt; filteredList = new FilteredList&lt;&gt;(actualList);\r\n\r\n    TableView table = ...;\r\n    table.setItems(filteredList);\r\n\r\n    // to filter\r\n    filteredList.setPredicate(\r\n        new Predicate&lt;YourObjectClass&gt;(){\r\n            public boolean test(YourObjectClass t){\r\n                return false; // or true\r\n            }\r\n        }\r\n    );\r\n\r\nas fast as swing, (maybe faster then swing... ). (I tested with 100000 rows)\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.base/javafx/collections/transformation/FilteredList.html","title":"Fast filtering in javafx tableview","body":"<h1><code>FilteredList</code></h1>\n<p>You may use <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/transformation/FilteredList.html\" rel=\"nofollow noreferrer\"><code>FilteredList</code></a> in JavaFX 8+.</p>\n<pre><code>ObservableList&lt;YourObjectClass&gt; actualList = ...;\nFilteredList&lt;YourObjectClass&gt; filteredList = new FilteredList&lt;&gt;(actualList);\n\nTableView table = ...;\ntable.setItems(filteredList);\n\n// to filter\nfilteredList.setPredicate(\n    new Predicate&lt;YourObjectClass&gt;(){\n        public boolean test(YourObjectClass t){\n            return false; // or true\n        }\n    }\n);\n</code></pre>\n<p>as fast as swing, (maybe faster then swing... ). (I tested with 100000 rows)</p>\n"},{"tags":[],"owner":{"account_id":5531724,"reputation":2045,"user_id":4391517,"accept_rate":49,"display_name":"Harshita Sethi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448359350,"creation_date":1448359350,"answer_id":33890591,"question_id":17017364,"body_markdown":"You can use the following code. It works fine for me..\r\n\r\n    ObservableList data =  table.getItems();\r\n    textfield.textProperty().addListener((ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) -&gt; {\r\n                if (oldValue != null &amp;&amp; (newValue.length() &lt; oldValue.length())) {\r\n                    table.setItems(data);\r\n                }\r\n                String value = newValue.toLowerCase();\r\n                ObservableList&lt;T&gt; subentries = FXCollections.observableArrayList();\r\n    \r\n                long count = table.getColumns().stream().count();\r\n                for (int i = 0; i &lt; table.getItems().size(); i++) {\r\n                    for (int j = 0; j &lt; count; j++) {\r\n                        String entry = &quot;&quot; + table.getColumns().get(j).getCellData(i);\r\n                        if (entry.toLowerCase().contains(value)) {\r\n                            subentries.add(table.getItems().get(i));\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                table.setItems(subentries);\r\n            });","title":"Fast filtering in javafx tableview","body":"<p>You can use the following code. It works fine for me..</p>\n\n<pre><code>ObservableList data =  table.getItems();\ntextfield.textProperty().addListener((ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) -&gt; {\n            if (oldValue != null &amp;&amp; (newValue.length() &lt; oldValue.length())) {\n                table.setItems(data);\n            }\n            String value = newValue.toLowerCase();\n            ObservableList&lt;T&gt; subentries = FXCollections.observableArrayList();\n\n            long count = table.getColumns().stream().count();\n            for (int i = 0; i &lt; table.getItems().size(); i++) {\n                for (int j = 0; j &lt; count; j++) {\n                    String entry = \"\" + table.getColumns().get(j).getCellData(i);\n                    if (entry.toLowerCase().contains(value)) {\n                        subentries.add(table.getItems().get(i));\n                        break;\n                    }\n                }\n            }\n            table.setItems(subentries);\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21620211,"reputation":11,"user_id":15945349,"display_name":"bakr msaadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621236162,"creation_date":1621206698,"answer_id":67562308,"question_id":17017364,"body_markdown":"    @Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1)\r\n\t{\r\n\t\tsearchField. textProperty().addListener((obs, oldText, newText) -&gt; { \r\n\t\tsearch();\r\n\t});\t\r\n     \r\n\r\n    @FXML private void search()\r\n    {    \r\n\t  String keyword = searchField.getText();\r\n      if (keyword.equals(&quot;&quot;)) {\r\n         table.setItems(data);\r\n     } else {\r\n         ObservableList&lt;Product&gt; filteredData = FXCollections.observableArrayList();\r\n         for (Product product : data) {\r\n             if(product.getName().contains(keyword))\r\n                 filteredData.add(product);\r\n         }\r\n       \r\n         table.setItems(filteredData);\r\n       }\r\n    }","title":"Fast filtering in javafx tableview","body":"<pre><code>@Override\npublic void initialize(URL arg0, ResourceBundle arg1)\n{\n    searchField. textProperty().addListener((obs, oldText, newText) -&gt; { \n    search();\n}); \n \n\n@FXML private void search()\n{    \n  String keyword = searchField.getText();\n  if (keyword.equals(&quot;&quot;)) {\n     table.setItems(data);\n } else {\n     ObservableList&lt;Product&gt; filteredData = FXCollections.observableArrayList();\n     for (Product product : data) {\n         if(product.getName().contains(keyword))\n             filteredData.add(product);\n     }\n   \n     table.setItems(filteredData);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24969,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1690938583,"creation_date":1370842127,"question_id":17017364,"body_markdown":"I need to implement a filter in javafx tableview with huge data (around 100,000 ),\r\n\r\nI have tried [this tutorial](http://code.makery.ch/blog/javafx-2-tableview-filter). It works but filtering is really slow as compared to swing [sorting and filtering](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting), [code](http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableFilterDemoProject/src/components/TableFilterDemo.java).\r\n\r\nCan anyone help me to increase speed.\r\n\r\nWhat is happening right now is as I type textproperty change fire up and filterdata but it is slow, I need something which shows filter result with typing quickly as happening in swing.\r\n\r\nthanks in advance.\r\n\r\np.s I have also looked at [this](https://stackoverflow.com/questions/16539274/multiple-filter-with-tableview-in-javafx).","title":"Fast filtering in javafx tableview","body":"<p>I need to implement a filter in javafx tableview with huge data (around 100,000 ),</p>\n\n<p>I have tried <a href=\"http://code.makery.ch/blog/javafx-2-tableview-filter\" rel=\"noreferrer\">this tutorial</a>. It works but filtering is really slow as compared to swing <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"noreferrer\">sorting and filtering</a>, <a href=\"http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableFilterDemoProject/src/components/TableFilterDemo.java\" rel=\"noreferrer\">code</a>.</p>\n\n<p>Can anyone help me to increase speed.</p>\n\n<p>What is happening right now is as I type textproperty change fire up and filterdata but it is slow, I need something which shows filter result with typing quickly as happening in swing.</p>\n\n<p>thanks in advance.</p>\n\n<p>p.s I have also looked at <a href=\"https://stackoverflow.com/questions/16539274/multiple-filter-with-tableview-in-javafx\">this</a>.</p>\n"},{"tags":["java","netbeans","overriding","jdialog","reusability"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690890079,"post_id":76811246,"comment_id":135413339,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690890993,"post_id":76811246,"comment_id":135413539,"body_markdown":"Maybe take a step back and create re-usable dialog which allows you to register an `ActionListener` which can be used to capture the save action","body":"Maybe take a step back and create re-usable dialog which allows you to register an <code>ActionListener</code> which can be used to capture the save action"}],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690890506,"creation_date":1690890506,"answer_id":76811326,"question_id":76811246,"body_markdown":"As a rule of clean code, it is not clean to copy your code, and based on your issue, the difference between insert and update is just having id or not. you can check id exists or not and then call update or insert.","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>As a rule of clean code, it is not clean to copy your code, and based on your issue, the difference between insert and update is just having id or not. you can check id exists or not and then call update or insert.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690892733,"creation_date":1690892733,"answer_id":76811602,"question_id":76811246,"body_markdown":"Decouple your concerns.\r\n\r\nConsider the fact that the editor should do one job, allow the user to input the data.  It&#39;s not it&#39;s responsibility to save it.\r\n\r\nInstead, create a &quot;editor&quot; which simply does the core functionality of managing the input (ie making sure the &quot;from year&quot; is always earlier to the &quot;to year&quot;).  Then provide some getters to get the values from the editor.\r\n\r\nYou should then make use of dependency injection to pass the values into the editor.\r\n\r\nA simple solution would then be to present the editor in a `JOptionPane`.  Then based on the response, either save the results ... or don&#39;t.\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSpinner;\r\n    import javax.swing.SpinnerNumberModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    YearEditorPane editorPane = new YearEditorPane(2023, 2024);\r\n                    int option = JOptionPane.showOptionDialog( \r\n                            null,\r\n                            editorPane,\r\n                            &quot;Add Shcool Year&quot;,\r\n                            JOptionPane.YES_NO_OPTION,\r\n                            JOptionPane.PLAIN_MESSAGE,\r\n                            null,\r\n                            new String[] {&quot;Save&quot;, &quot;Cancel&quot;},\r\n                            &quot;Save&quot;\r\n                    );\r\n                    if (option == 0) {\r\n                        int fromYear = editorPane.getFromYear();\r\n                        int toYear = editorPane.getToYear();\r\n                        System.out.println(&quot;Save the data - &quot; + fromYear + &quot; - &quot; + toYear);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class YearEditorPane extends JPanel {\r\n\r\n            private JSpinner fromYearSpinner;\r\n            private JSpinner toYearSpinner;\r\n\r\n            public YearEditorPane(int fromYear, int toYear) {\r\n                add(new JLabel(&quot;School Year:&quot;));\r\n\r\n                fromYearSpinner = new JSpinner(\r\n                        new SpinnerNumberModel(\r\n                                fromYear, \r\n                                fromYear, \r\n                                fromYear + 100, \r\n                                1\r\n                        ));\r\n                toYearSpinner = new JSpinner(\r\n                        new SpinnerNumberModel(\r\n                                toYear, \r\n                                toYear, \r\n                                toYear + 100, \r\n                                1\r\n                        ));\r\n\r\n                add(fromYearSpinner);\r\n                add(toYearSpinner);\r\n            }\r\n\r\n            public int getFromYear() {\r\n                return (int)fromYearSpinner.getValue();\r\n            }\r\n\r\n            public int getToYear() {\r\n                return (int)toYearSpinner.getValue();\r\n            }        \r\n        }\r\n    }\r\n","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>Decouple your concerns.</p>\n<p>Consider the fact that the editor should do one job, allow the user to input the data.  It's not it's responsibility to save it.</p>\n<p>Instead, create a &quot;editor&quot; which simply does the core functionality of managing the input (ie making sure the &quot;from year&quot; is always earlier to the &quot;to year&quot;).  Then provide some getters to get the values from the editor.</p>\n<p>You should then make use of dependency injection to pass the values into the editor.</p>\n<p>A simple solution would then be to present the editor in a <code>JOptionPane</code>.  Then based on the response, either save the results ... or don't.</p>\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport javax.swing.SpinnerNumberModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                YearEditorPane editorPane = new YearEditorPane(2023, 2024);\n                int option = JOptionPane.showOptionDialog( \n                        null,\n                        editorPane,\n                        &quot;Add Shcool Year&quot;,\n                        JOptionPane.YES_NO_OPTION,\n                        JOptionPane.PLAIN_MESSAGE,\n                        null,\n                        new String[] {&quot;Save&quot;, &quot;Cancel&quot;},\n                        &quot;Save&quot;\n                );\n                if (option == 0) {\n                    int fromYear = editorPane.getFromYear();\n                    int toYear = editorPane.getToYear();\n                    System.out.println(&quot;Save the data - &quot; + fromYear + &quot; - &quot; + toYear);\n                }\n            }\n        });\n    }\n\n    public class YearEditorPane extends JPanel {\n\n        private JSpinner fromYearSpinner;\n        private JSpinner toYearSpinner;\n\n        public YearEditorPane(int fromYear, int toYear) {\n            add(new JLabel(&quot;School Year:&quot;));\n\n            fromYearSpinner = new JSpinner(\n                    new SpinnerNumberModel(\n                            fromYear, \n                            fromYear, \n                            fromYear + 100, \n                            1\n                    ));\n            toYearSpinner = new JSpinner(\n                    new SpinnerNumberModel(\n                            toYear, \n                            toYear, \n                            toYear + 100, \n                            1\n                    ));\n\n            add(fromYearSpinner);\n            add(toYearSpinner);\n        }\n\n        public int getFromYear() {\n            return (int)fromYearSpinner.getValue();\n        }\n\n        public int getToYear() {\n            return (int)toYearSpinner.getValue();\n        }        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21452849,"reputation":19,"user_id":15804959,"display_name":"totski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690938179,"creation_date":1690889841,"question_id":76811246,"body_markdown":"I&#39;m using a NetBeans as my IDE for Java. I have class called **NewSchoolYearDialog** extended by **JDialog**:\r\n\r\n[![Add School Year][1]][1]\r\n\r\nThe purpose of that **Save** button in the image above is to insert a school year into a database. \r\n\r\nNow I want to reuse that design to create another **JDialog** to edit the school year by just creating an object of a class **NewSchoolYearDialog**, set the title to _&quot;Edit School Year&quot;_, and change the **Save** button implementation to update the school year.\r\n\r\nShould I create another class extended by **JDialog** and just copy the design, or there is another way to do it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oOERx.png","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>I'm using a NetBeans as my IDE for Java. I have class called <strong>NewSchoolYearDialog</strong> extended by <strong>JDialog</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/oOERx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOERx.png\" alt=\"Add School Year\" /></a></p>\n<p>The purpose of that <strong>Save</strong> button in the image above is to insert a school year into a database.</p>\n<p>Now I want to reuse that design to create another <strong>JDialog</strong> to edit the school year by just creating an object of a class <strong>NewSchoolYearDialog</strong>, set the title to <em>&quot;Edit School Year&quot;</em>, and change the <strong>Save</strong> button implementation to update the school year.</p>\n<p>Should I create another class extended by <strong>JDialog</strong> and just copy the design, or there is another way to do it?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633027191,"creation_date":1633026164,"answer_id":69397186,"question_id":69397061,"body_markdown":"`KAFKA_HEAP_OPTS` is a shared shell variable across all Kafka CLI scripts, so the answer you&#39;re referring to in the linked post is correct. \r\n\r\ne.g\r\n\r\n```\r\nKAFKA_HEAP_OPTS=&#39;-Xmx1G&#39; kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\r\n```\r\n\r\n&gt; my apis are running on localhost:8080/swagger-ui.html. and call Kafka producer event\r\n\r\nThen you want an HTTP client to POST an HTTP-request to `localhost:8080`. That, in turn, generates a Kafka message as you say, which is sent to **`localhost:9092`** (by default). You need to consume *from Kafka*, not an HTTP server","title":"Java Kafka console-consumer running out of heap space","body":"<p><code>KAFKA_HEAP_OPTS</code> is a shared shell variable across all Kafka CLI scripts, so the answer you're referring to in the linked post is correct.</p>\n<p>e.g</p>\n<pre><code>KAFKA_HEAP_OPTS='-Xmx1G' kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\n</code></pre>\n<blockquote>\n<p>my apis are running on localhost:8080/swagger-ui.html. and call Kafka producer event</p>\n</blockquote>\n<p>Then you want an HTTP client to POST an HTTP-request to <code>localhost:8080</code>. That, in turn, generates a Kafka message as you say, which is sent to <strong><code>localhost:9092</code></strong> (by default). You need to consume <em>from Kafka</em>, not an HTTP server</p>\n"},{"tags":[],"owner":{"account_id":6701473,"reputation":2469,"user_id":5167801,"accept_rate":46,"display_name":"Anum Sheraz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690935760,"creation_date":1690935760,"answer_id":76815926,"question_id":69397061,"body_markdown":"OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), it was due to permission access restriction. I had to mention client.properties file while running kafka-console-consumer.sh script. `--consumer.config /path/to/client.properties`. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s","title":"Java Kafka console-consumer running out of heap space","body":"<p>OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), it was due to permission access restriction. I had to mention client.properties file while running kafka-console-consumer.sh script. <code>--consumer.config /path/to/client.properties</code>. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69397186,"answer_count":2,"score":1,"last_activity_date":1690935760,"creation_date":1633025517,"question_id":69397061,"body_markdown":"\r\nI am running the following command in Console. `kafka-console-consumer`  and receiving \r\nout of memory error: `java.lang.OutOfMemoryError: Java heap space`. How can I resolve this? Trying to apply this resource, except I do not have a topics file.\r\n\r\nhttps://stackoverflow.com/questions/41964676/kafka-connect-running-out-of-heap-space\r\n\r\n\r\n**Console:**\r\n\r\n    kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\r\n\r\n**Application.Yml**\r\n\r\n    kafka:\r\n      topic: encounter\r\n      event: personEvent\r\n\r\n**Error Message below:**\r\n\r\n    ERROR Error processing message, terminating consumer process:  (kafka.tools.ConsoleConsumer$)\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:64)\r\n    \tat java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:363)\r\n    \tat org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n    \tat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\r\n    \tat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\r\n    \tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\r\n    \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\r\n    \tat kafka.tools.ConsoleConsumer$ConsumerWrapper.receive(ConsoleConsumer.scala:454)\r\n    \tat kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:101)\r\n    \tat kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\r\n    \tat kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\r\n    \tat kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\r\n\r\n","title":"Java Kafka console-consumer running out of heap space","body":"<p>I am running the following command in Console. <code>kafka-console-consumer</code>  and receiving\nout of memory error: <code>java.lang.OutOfMemoryError: Java heap space</code>. How can I resolve this? Trying to apply this resource, except I do not have a topics file.</p>\n<p><a href=\"https://stackoverflow.com/questions/41964676/kafka-connect-running-out-of-heap-space\">Kafka Connect running out of heap space</a></p>\n<p><strong>Console:</strong></p>\n<pre><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\n</code></pre>\n<p><strong>Application.Yml</strong></p>\n<pre><code>kafka:\n  topic: encounter\n  event: personEvent\n</code></pre>\n<p><strong>Error Message below:</strong></p>\n<pre><code>ERROR Error processing message, terminating consumer process:  (kafka.tools.ConsoleConsumer$)\njava.lang.OutOfMemoryError: Java heap space\n    at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:64)\n    at java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:363)\n    at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\n    at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\n    at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\n    at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\n    at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\n    at kafka.tools.ConsoleConsumer$ConsumerWrapper.receive(ConsoleConsumer.scala:454)\n    at kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:101)\n    at kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\n    at kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\n    at kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka","out-of-memory","sasl"],"comments":[{"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"score":0,"creation_date":1571051948,"post_id":58375592,"comment_id":103100260,"body_markdown":"this error message means the JVM where your application is deployed is running out of memory. You should try searching a bit.. https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error?r=SearchResults&amp;s=1|257.1170","body":"this error message means the JVM where your application is deployed is running out of memory. You should try searching a bit.. <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error?r=SearchResults&amp;s=1|257.1170\" title=\"how to deal with java lang outofmemoryerror java heap space error\">stackoverflow.com/questions/37335/&hellip;</a>"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571052227,"post_id":58375592,"comment_id":103100382,"body_markdown":"8 GB memory has given to the JVM, also it works with port 9092 as mentioned above","body":"8 GB memory has given to the JVM, also it works with port 9092 as mentioned above"},{"owner":{"account_id":2598370,"reputation":2025,"user_id":2251467,"accept_rate":39,"display_name":"UserASR"},"score":0,"creation_date":1571052460,"post_id":58375592,"comment_id":103100500,"body_markdown":"Did you increase `-Xmx` in `KAFKA_HEAP_OPTS`?","body":"Did you increase <code>-Xmx</code> in <code>KAFKA_HEAP_OPTS</code>?"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571053017,"post_id":58375592,"comment_id":103100773,"body_markdown":"@ASR any idea why it works in the Port 9092 ?","body":"@ASR any idea why it works in the Port 9092 ?"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571053947,"post_id":58375592,"comment_id":103101238,"body_markdown":"-Xmx gave as 8GB, also total memory of the server is 16 GB.","body":"-Xmx gave as 8GB, also total memory of the server is 16 GB."},{"owner":{"account_id":2598370,"reputation":2025,"user_id":2251467,"accept_rate":39,"display_name":"UserASR"},"score":0,"creation_date":1571054323,"post_id":58375592,"comment_id":103101443,"body_markdown":"It shouldn&#39;t be related to any specific port but i am thinking if the SASL configuration is referring some other configuration. grep the process and check if the new -Xmx is reflecting in the running kafka process.","body":"It shouldn&#39;t be related to any specific port but i am thinking if the SASL configuration is referring some other configuration. grep the process and check if the new -Xmx is reflecting in the running kafka process."},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571057721,"post_id":58375592,"comment_id":103103239,"body_markdown":"@ASR, yes the  &quot;  ps -ef | grep kafka &quot; : shows  -Xmx 8GB","body":"@ASR, yes the  &quot;  ps -ef | grep kafka &quot; : shows  -Xmx 8GB"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571058190,"post_id":58375592,"comment_id":103103500,"body_markdown":"i have updated the question with more details","body":"i have updated the question with more details"}],"answers":[{"tags":[],"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606174702,"creation_date":1571061887,"answer_id":58378487,"question_id":58375592,"body_markdown":"Most likely, OOM exception is just a red herring, see JIRA [KAFKA-4493][1]. And the real issue is a SASL-SSL connection, which your client is unable to establish properly. Enable SSL debug on the client side and proceed from there:\r\n\r\n```\r\n$ export KAFKA_OPTS=&quot;-Djavax.net.debug=handshake&quot;\r\n$ /usr/bin/kafka-delete-records ...\r\n```\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-4493","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>Most likely, OOM exception is just a red herring, see JIRA <a href=\"https://issues.apache.org/jira/browse/KAFKA-4493\" rel=\"nofollow noreferrer\">KAFKA-4493</a>. And the real issue is a SASL-SSL connection, which your client is unable to establish properly. Enable SSL debug on the client side and proceed from there:</p>\n<pre><code>$ export KAFKA_OPTS=&quot;-Djavax.net.debug=handshake&quot;\n$ /usr/bin/kafka-delete-records ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6701473,"reputation":2469,"user_id":5167801,"accept_rate":46,"display_name":"Anum Sheraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690935569,"creation_date":1690935569,"answer_id":76815915,"question_id":58375592,"body_markdown":"OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), this was happening due to missing client.properties file while running kafka-console-producer.sh script. --command-config &lt;path&gt;/&lt;to&gt;/client.properties. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), this was happening due to missing client.properties file while running kafka-console-producer.sh script. --command-config //client.properties. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s</p>\n"}],"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13136,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690935569,"creation_date":1571051615,"question_id":58375592,"body_markdown":"when I use the below &quot;/usr/bin/kafka-delete-records&quot; command in the Kafka broker with PLAIN_TEXT  port 9092, the command works fine, but when I use the SASL_SSL port 9094, the command throws the below error. Anyone know the solution to use the Kafka broker port 9094 with SASL_SSL?\r\n   \r\n```\r\n$ssh **** ****@&lt;IP address&gt; /usr/bin/kafka-delete-records --bootstrap-server localhost:9094 --offset-json-file /kafka/records.json`\r\n\r\n[2019-10-14 04:15:49,891] ERROR Uncaught exception in thread &#39;kafka-admin-client-thread | adminclient-1&#39;: (org.apache.kafka.common.utils.KafkaThread)\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:57)\r\n\tat java.nio.ByteBuffer.allocate(ByteBuffer.java:335)\r\n\tat org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n\tat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:112)\r\n\tat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:390)\r\n\tat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:351)\r\n\tat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:609)\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:541)\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:467)\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:535)\r\n\tat org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.run(KafkaAdminClient.java:1125)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nExecuting records delete operation\r\nRecords delete operation completed:\r\n\r\n```\r\nNOTE: -Xmx gave as 8GB, also total memory of the server is 16 GB\r\n\r\nplease check the current Heap value below:\r\n```\r\n$ ps -ef | grep kafka\r\ncp-kafka 11419     1  3 10:07 ?        00:05:27 java -Xms8g -Xmx8g  -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35  ........ io.confluent.support.metrics.SupportedKafka /etc/kafka/server.properties\r\n```","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>when I use the below \"/usr/bin/kafka-delete-records\" command in the Kafka broker with PLAIN_TEXT  port 9092, the command works fine, but when I use the SASL_SSL port 9094, the command throws the below error. Anyone know the solution to use the Kafka broker port 9094 with SASL_SSL?</p>\n\n<pre><code>$ssh **** ****@&lt;IP address&gt; /usr/bin/kafka-delete-records --bootstrap-server localhost:9094 --offset-json-file /kafka/records.json`\n\n[2019-10-14 04:15:49,891] ERROR Uncaught exception in thread 'kafka-admin-client-thread | adminclient-1': (org.apache.kafka.common.utils.KafkaThread)\n\njava.lang.OutOfMemoryError: Java heap space\n    at java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:57)\n    at java.nio.ByteBuffer.allocate(ByteBuffer.java:335)\n    at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\n    at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:112)\n    at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:390)\n    at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:351)\n    at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:609)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:541)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:467)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:535)\n    at org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.run(KafkaAdminClient.java:1125)\n    at java.lang.Thread.run(Thread.java:748)\nExecuting records delete operation\nRecords delete operation completed:\n\n</code></pre>\n\n<p>NOTE: -Xmx gave as 8GB, also total memory of the server is 16 GB</p>\n\n<p>please check the current Heap value below:</p>\n\n<pre><code>$ ps -ef | grep kafka\ncp-kafka 11419     1  3 10:07 ?        00:05:27 java -Xms8g -Xmx8g  -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35  ........ io.confluent.support.metrics.SupportedKafka /etc/kafka/server.properties\n</code></pre>\n"},{"tags":["java","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690935029,"creation_date":1598715416,"answer_id":63648783,"question_id":63648782,"body_markdown":"If you, in IntelliJ, do right-click -&gt; Refactor -&gt; Delombok -&gt; @Log (and friends), you&#39;ll see the generated fields initialization starts with: ` = org.slf4j...`:\r\n\r\n    private static final Logger log = org.slf4j.LoggerFactory.getLogger(MyClass.class);\r\n    //                                ^^^ - this is ambiguous\r\n\r\nand this produces the conflict with your `org` field:\r\n\r\n    String org;\r\n    //     ^^^\r\n\r\n---\r\nLombok team could work-around this by injecting `import org.slf4j.LoggerFactory`, but they might think the demand for the fix is not so high. This is an opinion of a Lombok contributor:\r\n\r\n&gt; *...This is a handicap in the java language that uses the same notation for two completely different concepts. Don&#39;t know what could be done in lombok to solve this issue without creating some other issue somewhere else. [[REF][1]]*\r\n---\r\n\r\n**SOLUTION**: So, in cases you have `org` field, just replace your:\r\n\r\n - `import lombok.extern.slf4j.Slf4j;` and\r\n - `@Slf4j` with:\r\n___\r\n\r\n    import static org.slf4j.LoggerFactory.getLogger;\r\n    \r\n\r\n    \r\n      private static final Logger log = getLogger(MyClass.class);\r\n      \r\n\r\n\r\n  [1]: https://github.com/rzwitserloot/lombok/issues/1400#issuecomment-321885079","title":"@Slf4j produces `non-static variable org cannot be referenced` if the class has `org` field","body":"<p>If you, in IntelliJ, do right-click -&gt; Refactor -&gt; Delombok -&gt; @Log (and friends), you'll see the generated fields initialization starts with: <code> = org.slf4j...</code>:</p>\n<pre><code>private static final Logger log = org.slf4j.LoggerFactory.getLogger(MyClass.class);\n//                                ^^^ - this is ambiguous\n</code></pre>\n<p>and this produces the conflict with your <code>org</code> field:</p>\n<pre><code>String org;\n//     ^^^\n</code></pre>\n<hr />\n<p>Lombok team could work-around this by injecting <code>import org.slf4j.LoggerFactory</code>, but they might think the demand for the fix is not so high. This is an opinion of a Lombok contributor:</p>\n<blockquote>\n<p><em>...This is a handicap in the java language that uses the same notation for two completely different concepts. Don't know what could be done in lombok to solve this issue without creating some other issue somewhere else. [<a href=\"https://github.com/rzwitserloot/lombok/issues/1400#issuecomment-321885079\" rel=\"nofollow noreferrer\">REF</a>]</em></p>\n</blockquote>\n<hr />\n<p><strong>SOLUTION</strong>: So, in cases you have <code>org</code> field, just replace your:</p>\n<ul>\n<li><code>import lombok.extern.slf4j.Slf4j;</code> and</li>\n<li><code>@Slf4j</code> with:</li>\n</ul>\n<hr />\n<pre><code>import static org.slf4j.LoggerFactory.getLogger;\n\n\n\n  private static final Logger log = getLogger(MyClass.class);\n  \n</code></pre>\n"}],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63648783,"answer_count":1,"score":0,"last_activity_date":1690935029,"creation_date":1598715416,"question_id":63648782,"body_markdown":"Why, if my class has an `org` field, I cannot use `@Slf4j` Lombok log annotation. The following code will produce a compilation error at line #3:\r\n\r\n&gt; ***MyClass.java:[3,1] non-static variable org cannot be referenced from a static context***\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n\r\n    @Slf4j\r\n    class MyClass {\r\n      String org;\r\n\r\n      void printDebug() { log.debug(&quot;Org: &quot; + org); }\r\n    }\r\n\r\nLombok documentation ([projectlombok.org/features/log][1]) claims it adds a single `log` field. Why it conflicts with `org`?\r\n\r\n\r\n  [1]: https://projectlombok.org/features/log","title":"@Slf4j produces `non-static variable org cannot be referenced` if the class has `org` field","body":"<p>Why, if my class has an <code>org</code> field, I cannot use <code>@Slf4j</code> Lombok log annotation. The following code will produce a compilation error at line #3:</p>\n<blockquote>\n<p><em><strong>MyClass.java:[3,1] non-static variable org cannot be referenced from a static context</strong></em></p>\n</blockquote>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\nclass MyClass {\n  String org;\n\n  void printDebug() { log.debug(&quot;Org: &quot; + org); }\n}\n</code></pre>\n<p>Lombok documentation (<a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">projectlombok.org/features/log</a>) claims it adds a single <code>log</code> field. Why it conflicts with <code>org</code>?</p>\n"},{"tags":["java","selenium-webdriver","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923478,"post_id":76814878,"comment_id":135419991,"body_markdown":"*`// -&gt; url: https://www.&#195;&#186;rl/example/with/especial-character/`* Forgive me, I don&#39;t do Selenium but I take it that&#39;s what you see? If so, where - in the console? If so, which console?","body":"<i><code>&#47;&#47; -&gt; url: https:&#47;&#47;www.&#195;&#186;rl&#47;example&#47;with&#47;especial-character&#47;</code></i> Forgive me, I don&#39;t do Selenium but I take it that&#39;s what you see? If so, where - in the console? If so, which console?"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690927885,"post_id":76814878,"comment_id":135420639,"body_markdown":"This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.","body":"This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690928350,"post_id":76814878,"comment_id":135420682,"body_markdown":"I believe the get() method has a built-in validator for the URL.  But a URL can only contain standard ASCII characters methinks, so the whole question seems to be based on a URL that can&#39;t exist.","body":"I believe the get() method has a built-in validator for the URL.  But a URL can only contain standard ASCII characters methinks, so the whole question seems to be based on a URL that can&#39;t exist."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690928549,"post_id":76814878,"comment_id":135420705,"body_markdown":"*This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.* That doesn&#39;t tell me *where* you see that incorrect output","body":"<i>This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.</i> That doesn&#39;t tell me <i>where</i> you see that incorrect output"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690928937,"post_id":76814878,"comment_id":135420746,"body_markdown":"@g00se When my program runs, the chrome browser opens and displays the content of the page, the url does not take the &quot;&#250;&quot; character that I mentioned in the example, and replaces it with &quot;&#195;&#186;&quot;.","body":"@g00se When my program runs, the chrome browser opens and displays the content of the page, the url does not take the &quot;&#250;&quot; character that I mentioned in the example, and replaces it with &quot;&#195;&#186;&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690929126,"post_id":76814878,"comment_id":135420764,"body_markdown":"@pcalkins: [https://фрезеровка.москва/](https://фрезеровка.москва/)","body":"@pcalkins: <a href=\"https://%D1%84%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%BE%D0%B2%D0%BA%D0%B0.%D0%BC%D0%BE%D1%81%D0%BA%D0%B2%D0%B0/\" rel=\"nofollow noreferrer\">https://фрезеровка.москва/</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690929225,"post_id":76814878,"comment_id":135420782,"body_markdown":"*When my program runs, the chrome browser opens and displays...* OK, so I understand, then, the answer to my question is &quot;the address bar&quot; (?)","body":"<i>When my program runs, the chrome browser opens and displays...</i> OK, so I understand, then, the answer to my question is &quot;the address bar&quot; (?)"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690929280,"post_id":76814878,"comment_id":135420790,"body_markdown":"@pcalkins I have run the code in debug mode, I put a breakpoint in my driver.get(url) line and before the wrong url is stored I have set the url that contains the character that is altered, continue the program and the site has been successfully loaded with the content, then I doubt that the URL&#39;S must have ASCII characters compulsorily.","body":"@pcalkins I have run the code in debug mode, I put a breakpoint in my driver.get(url) line and before the wrong url is stored I have set the url that contains the character that is altered, continue the program and the site has been successfully loaded with the content, then I doubt that the URL&#39;S must have ASCII characters compulsorily."},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690929414,"post_id":76814878,"comment_id":135420802,"body_markdown":"@g00se Exactly, the bar with the url...","body":"@g00se Exactly, the bar with the url..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690933698,"post_id":76814878,"comment_id":135421232,"body_markdown":"Sorry couldn&#39;t help. I thought it just *might* be in the console","body":"Sorry couldn&#39;t help. I thought it just <i>might</i> be in the console"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690940979,"post_id":76814878,"comment_id":135421842,"body_markdown":"My thoughts on that is not so much special character as &quot;illegal character&quot; ! in the url.  If the character belongs to a specific language script it may be possible to set locale on it and it&#39;s official iso charsets but that would be some work to collude the two together into a program coherently. However outside of a working national language script, url characters, and Latin 1 I would say it is illegal!","body":"My thoughts on that is not so much special character as &quot;illegal character&quot; ! in the url.  If the character belongs to a specific language script it may be possible to set locale on it and it&#39;s official iso charsets but that would be some work to collude the two together into a program coherently. However outside of a working national language script, url characters, and Latin 1 I would say it is illegal!"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690930370,"creation_date":1690930370,"answer_id":76815640,"question_id":76814878,"body_markdown":"[Selenium](https://stackoverflow.com/a/54482491/7429447) _**v3.141.59**_ is **old** and **ancient** now.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever using [tag:selenium4] and [WebDriver](https://stackoverflow.com/a/48080871/7429447) _**v4.10.0**_, I find the special characters similar just like accessing manually.\r\n\r\nURL\r\n\r\n\thttps://www.&#195;&#186;rl/example/with/especial-character/\r\n\t\r\nManual browser snapshot:\r\n\r\n![manual](https://i.stack.imgur.com/nDcku.png)\r\n\r\nCode block:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://www.&#195;&#186;rl/example/with/especial-character/&quot;);\r\n\t\r\nBrowser snapshot:\r\n\r\n![SeleniumDriven](https://i.stack.imgur.com/9SnyR.png)","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p><a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v3.141.59</strong></em> is <strong>old</strong> and <strong>ancient</strong> now.</p>\n<hr />\n<p>However using <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" aria-label=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium4-tooltip-container\">selenium4</a> and <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> <em><strong>v4.10.0</strong></em>, I find the special characters similar just like accessing manually.</p>\n<p>URL</p>\n<pre><code>https://www.Ãºrl/example/with/especial-character/\n</code></pre>\n<p>Manual browser snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/nDcku.png\" alt=\"manual\" /></p>\n<p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.Ãºrl/example/with/especial-character/&quot;);\n</code></pre>\n<p>Browser snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/9SnyR.png\" alt=\"SeleniumDriven\" /></p>\n"},{"tags":[],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690934546,"creation_date":1690934546,"answer_id":76815866,"question_id":76814878,"body_markdown":"I have managed to solve this problem, ChromeDriver is not changing my character encoding internally, the url I am using is exporting from an enum class and the IDE I am using (intellij IDEA) is not encoding my files in utf-8, so which when receiving the value in the class the characters of the string are replaced, it was as simple as doing:\r\n```java\r\n     byte[] asciiURL = url.getBytes();\r\n     String utf8URL = new String(asciiURL, StandardCharsets.UTF_8);\r\n````\r\nAnd with that it is enough.","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p>I have managed to solve this problem, ChromeDriver is not changing my character encoding internally, the url I am using is exporting from an enum class and the IDE I am using (intellij IDEA) is not encoding my files in utf-8, so which when receiving the value in the class the characters of the string are replaced, it was as simple as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     byte[] asciiURL = url.getBytes();\n     String utf8URL = new String(asciiURL, StandardCharsets.UTF_8);\n</code></pre>\n<p>And with that it is enough.</p>\n"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690934546,"creation_date":1690920587,"question_id":76814878,"body_markdown":"I use selenium version: &#39;3.141.59&#39; to access the content of a page with java, I am using the ChromeDriver to emulate the use of a web browser, my problem occurs when the query url contains special characters --charset=utf -8 since it decodes the character and the result of the web request is not as expected, this is a code example:\r\n\r\n```java\r\nSystem.setProperty(\r\n      &quot;webdriver.chrome.driver&quot;,\r\n      &quot;C:\\\\Program Files\\\\Controllers\\\\chromedriver-win64\\\\chromedriver.exe&quot;\r\n ); // -&gt; chromedriver version 115.0.5790.102 \r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--charset=UTF-8&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;&#250;rl/example/with/especial-character/&quot;); // -&gt; url: https://www.&#195;&#186;rl/example/with/especial-character/\r\n```\r\nI have tried encoding the url using: \r\n```java\r\nString encoderUrl = URLEncoder.encode(&quot;&#250;rl/example/with/especial-character/&quot;, &quot;UTF-8&quot;);\r\ndriver.get(encodeUrl)\r\n```\r\nBut this modifies the url which is already encoded, so I&#39;m out of ideas how to solve this, any useful method or library to solve this?\r\n\r\n```gradle\r\ndependencies {\r\n    testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;3.141.59&#39;\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-support&#39;, version: &#39;3.4.0&#39;\r\n}\r\n\r\n```","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p>I use selenium version: '3.141.59' to access the content of a page with java, I am using the ChromeDriver to emulate the use of a web browser, my problem occurs when the query url contains special characters --charset=utf -8 since it decodes the character and the result of the web request is not as expected, this is a code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(\n      &quot;webdriver.chrome.driver&quot;,\n      &quot;C:\\\\Program Files\\\\Controllers\\\\chromedriver-win64\\\\chromedriver.exe&quot;\n ); // -&gt; chromedriver version 115.0.5790.102 \nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--charset=UTF-8&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;úrl/example/with/especial-character/&quot;); // -&gt; url: https://www.Ãºrl/example/with/especial-character/\n</code></pre>\n<p>I have tried encoding the url using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String encoderUrl = URLEncoder.encode(&quot;úrl/example/with/especial-character/&quot;, &quot;UTF-8&quot;);\ndriver.get(encodeUrl)\n</code></pre>\n<p>But this modifies the url which is already encoded, so I'm out of ideas how to solve this, any useful method or library to solve this?</p>\n<pre><code>dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '3.141.59'\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-support', version: '3.4.0'\n}\n\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1690936059,"post_id":76815790,"comment_id":135421452,"body_markdown":"where is Order instance initialized？ Please make sure it is managed by spring container.","body":"where is Order instance initialized？ Please make sure it is managed by spring container."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690936948,"post_id":76815790,"comment_id":135421546,"body_markdown":"Trying to figure it out. But other methods used in this class are using struts.Is it possible or is there a possibility to use ApplicationContext to get the bean in Order class to fix my above issue?","body":"Trying to figure it out. But other methods used in this class are using struts.Is it possible or is there a possibility to use ApplicationContext to get the bean in Order class to fix my above issue?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690937855,"post_id":76815790,"comment_id":135421625,"body_markdown":"Can i figure out using eclipse debugger where this Order class is initialized?It&#39;s a very large code base and I can put a breakpoint int the method and figure out?","body":"Can i figure out using eclipse debugger where this Order class is initialized?It&#39;s a very large code base and I can put a breakpoint int the method and figure out?"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1690985434,"post_id":76815790,"comment_id":135429464,"body_markdown":"Maybe you could add one default constructor for Order class and put one breakpoint there, then check information such as the calling stack or classLoader to find some clue. I am wondering if order instance is really initialized.","body":"Maybe you could add one default constructor for Order class and put one breakpoint there, then check information such as the calling stack or classLoader to find some clue. I am wondering if order instance is really initialized."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690993615,"post_id":76815790,"comment_id":135431447,"body_markdown":"How about if I define a separate bean for Order class in applicationContex.xml like this: `&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\n    &lt;property name=&quot;target&quot;&gt;\n    &lt;bean class=&quot;com.pending.service.Order&quot;&gt;\n       &lt;property name=&quot;companyDAO&quot;&gt;\n          &lt;ref bean=&quot;companyDAO&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;`","body":"How about if I define a separate bean for Order class in applicationContex.xml like this: <code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;     &lt;property name=&quot;target&quot;&gt;     &lt;bean class=&quot;com.pending.service.Order&quot;&gt;        &lt;property name=&quot;companyDAO&quot;&gt;           &lt;ref bean=&quot;companyDAO&quot; &#47;&gt;         &lt;&#47;property&gt;     &lt;&#47;bean&gt;     &lt;&#47;property&gt; &lt;&#47;bean&gt;</code>"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690993691,"post_id":76815790,"comment_id":135431461,"body_markdown":"Is it okay to have bean with same `id`, `companyManager` inside `applicationContext.xml`? I already have one with same id as shown in my post.","body":"Is it okay to have bean with same <code>id</code>, <code>companyManager</code> inside <code>applicationContext.xml</code>? I already have one with same id as shown in my post."}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690933261,"creation_date":1690933261,"question_id":76815790,"body_markdown":"I&#39;m trying to use `CompanyManager` interface inside an `Order` class as follows:\r\n\r\n\r\n    public class Order extends OrderBase implements CompanySummary, CompanyItem, Serializable {\r\n    private CompanyManager compLocMgr;\r\n    \t\r\n    \tpublic void setCompanyManager(CompanyManager companyLocationManager) {\r\n    \t\tthis.compLocMgr = companyLocationManager;\r\n    \t}  \r\n    \t\r\n    \tpublic String getCompanyDisplay() {\r\n    \r\n    \t\tString result = &quot;&quot;;\r\n    \t\tif (companyHandler != null) {\r\n    \t\t\tresult = companyHandler.getAttribute(CompanyHandler.COMPANY_LOCATION);\r\n    \t\t\tSampleLocation captureList = compLocMgr.getCompany(Integer.parseInt(result));\r\n    \t\t\tSystem.out.println(captureList);\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t} \r\n    \r\n    }\r\n\r\nAnd I keep getting following error:\r\n\r\n    [INFO] [talledLocalContainer] ERROR - CompanyAdminController.renderErrorPage(88) | 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n    [INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n    [INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n     \r\n\r\nI have a bean defined in `applicationContext.xml` as folows:\r\n\r\n    &lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\r\n    \t&lt;property name=&quot;target&quot;&gt;\r\n    \t&lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\r\n    \t   &lt;property name=&quot;companyDAO&quot;&gt;\r\n    \t      &lt;ref bean=&quot;companyDAO&quot; /&gt;\r\n    \t    &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhenever I&#39;ve had to use the same thing in a Spring Controller class, I have always got it working by definining the following inside `companyadmin-servlet.xml` and defining the setter in the same manner as I did in `Order` class above.\r\n\r\nFor example:\r\n\r\n    &lt;bean id=&quot;companyCreateNewLocationController&quot;\r\n    class=&quot;com.pending.web.controller.CompanyCreateNewLocationController&quot;&gt;\r\n    \t&lt;property name=&quot;companyManager&quot;&gt;\r\n         \t&lt;ref bean=&quot;companyManager&quot; /&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nBut this is the first time I&#39;m trying to use it in a class without any controller (in the Order class) above and running into this problem. Any idea what I&#39;m missing?\r\n\r\n\r\n\r\nHere&#39;s my `Company` class inside `com.pending.model`:\r\n\r\n    public class Company{\r\n         \r\n             \r\n            private Integer id;\r\n            private String name;\r\n            private String comment;\r\n            public Integer getId() {\r\n                return id;\r\n            }\r\n            public void setId(Integer id) {\r\n                this.id = id;\r\n            }\r\n            public String getName() {\r\n                return name;\r\n            }\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n            public String getComment() {\r\n                return comment;\r\n            }\r\n            public void setComment(String comment) {\r\n                this.comment = comment;\r\n            }\r\n     \r\n             \r\n    }\r\n\r\n`CompanyManager` interface inside `com.pending.service` is as follows:\r\n\r\n    public interface CompanyManager {\r\n        public void setCompanyDAO(CompanyDAO dao);\r\n        public Company getCompany(Integer id);  \r\n        public void saveCompany(Company company);\r\n     \r\n    }\r\n\r\n`CompanyManagerImpl` in `com.pending.service.impl`\t\r\n\r\n    public class CompanyManagerImpl implements CompanyManager {\r\n        private CompanyDAO dao;\r\n     \r\n        public void setCompanyDAO(CompanyDAO dao) {\r\n            this.dao = dao;\r\n     \r\n        }\r\n     \r\n        public void saveCompany(Company company) {\r\n            dao.saveCompany(company);\r\n     \r\n        }\r\n     \r\n        public Company getCompany(Integer id) {\r\n     \r\n            return dao.getCompany(id);\r\n        }\r\n     \r\n    }\r\n\r\n`CompanyDAO` inside `com.pending.dao`\r\n\r\n\r\n    public interface CompanyDAO {\r\n     \r\n        public Company getCompany(Integer id);\r\n        public Company saveCompany(Company company);\r\n     \r\n    }\r\n\r\n`CompanyDaoHibernate` in `com.pending.dao.hibernate`\r\n\r\n    public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\r\n     \r\n        @Override\r\n        public Company saveCompany(Company company) {\r\n            getHibernateTemplate().saveOrUpdate(company);\r\n     \r\n            if (logger.isDebugEnabled()) {\r\n                logger.debug(&quot;Company id is: &quot; + company.getId());\r\n            }\r\n            return company;\r\n        }\r\n     \r\n        @Override\r\n        public Company getCompany(Integer id) {\r\n            Company company = (Company) getHibernateTemplate().get(Company.class, id);\r\n            if (company == null) {\r\n                throw new ObjectRetrievalFailureException(Company.class, id);\r\n            }\r\n            return company;\r\n        }\r\n    \t\r\n    \t\r\nAnd my `Company.hbm.xml` looks ike following:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n       &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n       &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n       &lt;hibernate-mapping&gt;\r\n       &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\r\n       &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\r\n       &lt;generator class=&quot;native&quot; /&gt;\r\n       &lt;/id&gt;\r\n       &lt;property name=&quot;name&quot; /&gt;\r\n       &lt;property name=&quot;comment&quot; /&gt;\r\n       &lt;/class&gt;\r\n       &lt;/hibernate-mapping&gt;    \t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trying to use hibernate bean outside controller (in a class) and running into invoking related issue","body":"<p>I'm trying to use <code>CompanyManager</code> interface inside an <code>Order</code> class as follows:</p>\n<pre><code>public class Order extends OrderBase implements CompanySummary, CompanyItem, Serializable {\nprivate CompanyManager compLocMgr;\n    \n    public void setCompanyManager(CompanyManager companyLocationManager) {\n        this.compLocMgr = companyLocationManager;\n    }  \n    \n    public String getCompanyDisplay() {\n\n        String result = &quot;&quot;;\n        if (companyHandler != null) {\n            result = companyHandler.getAttribute(CompanyHandler.COMPANY_LOCATION);\n            SampleLocation captureList = compLocMgr.getCompany(Integer.parseInt(result));\n            System.out.println(captureList);\n        }\n        return result;\n    } \n\n}\n</code></pre>\n<p>And I keep getting following error:</p>\n<pre><code>[INFO] [talledLocalContainer] ERROR - CompanyAdminController.renderErrorPage(88) | 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n[INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n[INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n \n</code></pre>\n<p>I have a bean defined in <code>applicationContext.xml</code> as folows:</p>\n<pre><code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\n    &lt;property name=&quot;target&quot;&gt;\n    &lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\n       &lt;property name=&quot;companyDAO&quot;&gt;\n          &lt;ref bean=&quot;companyDAO&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Whenever I've had to use the same thing in a Spring Controller class, I have always got it working by definining the following inside <code>companyadmin-servlet.xml</code> and defining the setter in the same manner as I did in <code>Order</code> class above.</p>\n<p>For example:</p>\n<pre><code>&lt;bean id=&quot;companyCreateNewLocationController&quot;\nclass=&quot;com.pending.web.controller.CompanyCreateNewLocationController&quot;&gt;\n    &lt;property name=&quot;companyManager&quot;&gt;\n        &lt;ref bean=&quot;companyManager&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But this is the first time I'm trying to use it in a class without any controller (in the Order class) above and running into this problem. Any idea what I'm missing?</p>\n<p>Here's my <code>Company</code> class inside <code>com.pending.model</code>:</p>\n<pre><code>public class Company{\n     \n         \n        private Integer id;\n        private String name;\n        private String comment;\n        public Integer getId() {\n            return id;\n        }\n        public void setId(Integer id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getComment() {\n            return comment;\n        }\n        public void setComment(String comment) {\n            this.comment = comment;\n        }\n \n         \n}\n</code></pre>\n<p><code>CompanyManager</code> interface inside <code>com.pending.service</code> is as follows:</p>\n<pre><code>public interface CompanyManager {\n    public void setCompanyDAO(CompanyDAO dao);\n    public Company getCompany(Integer id);  \n    public void saveCompany(Company company);\n \n}\n</code></pre>\n<p><code>CompanyManagerImpl</code> in <code>com.pending.service.impl</code></p>\n<pre><code>public class CompanyManagerImpl implements CompanyManager {\n    private CompanyDAO dao;\n \n    public void setCompanyDAO(CompanyDAO dao) {\n        this.dao = dao;\n \n    }\n \n    public void saveCompany(Company company) {\n        dao.saveCompany(company);\n \n    }\n \n    public Company getCompany(Integer id) {\n \n        return dao.getCompany(id);\n    }\n \n}\n</code></pre>\n<p><code>CompanyDAO</code> inside <code>com.pending.dao</code></p>\n<pre><code>public interface CompanyDAO {\n \n    public Company getCompany(Integer id);\n    public Company saveCompany(Company company);\n \n}\n</code></pre>\n<p><code>CompanyDaoHibernate</code> in <code>com.pending.dao.hibernate</code></p>\n<pre><code>public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\n \n    @Override\n    public Company saveCompany(Company company) {\n        getHibernateTemplate().saveOrUpdate(company);\n \n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;Company id is: &quot; + company.getId());\n        }\n        return company;\n    }\n \n    @Override\n    public Company getCompany(Integer id) {\n        Company company = (Company) getHibernateTemplate().get(Company.class, id);\n        if (company == null) {\n            throw new ObjectRetrievalFailureException(Company.class, id);\n        }\n        return company;\n    }\n    \n    \n</code></pre>\n<p>And my <code>Company.hbm.xml</code> looks ike following:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;!DOCTYPE hibernate-mapping PUBLIC\n   &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n   &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n   &lt;hibernate-mapping&gt;\n   &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\n   &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\n   &lt;generator class=&quot;native&quot; /&gt;\n   &lt;/id&gt;\n   &lt;property name=&quot;name&quot; /&gt;\n   &lt;property name=&quot;comment&quot; /&gt;\n   &lt;/class&gt;\n   &lt;/hibernate-mapping&gt;     \n</code></pre>\n"},{"tags":["java","if-statement","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690932317,"creation_date":1690931515,"answer_id":76815686,"question_id":76812627,"body_markdown":"Assuming you don&#39;t want to use compound logical expressions `(using &amp;&amp; or ||)` you need one more apparently redundant ternary operator to finish the expression. That would be the last one, checking for `nextValue != null` when you already know it isn&#39;t null. This permits returning a valid `sum` or `null if both are null`\r\n```\r\npublic Long process2(Long aggValue, Long nextValue) {\r\n    return (aggValue == null) ? nextValue\r\n            : nextValue == null ? aggValue\r\n                    : nextValue != null ? aggValue + nextValue : null;\r\n}\r\n```\r\nBut I would stick with the first method with minor changes. Since you are doing explicit returns just get rid of the `else if` and keep the return statements. The following seems rather straightforward to me.\r\n```\r\npublic Long process1(Long aggValue, Long nextValue) {\r\n    if (aggValue == null) {\r\n         return nextValue; // returns nextValue or null\r\n    }\r\n    if (nextValue == null) {\r\n         return aggValue; // returns aggValue or null\r\n    }\r\n    // At this point, neither value is null\r\n     return aggValue + nextValue; // return the sum.\r\n }","title":"Different conditional behaviour between standard and tenary operators when working with nulls","body":"<p>Assuming you don't want to use compound logical expressions <code>(using &amp;&amp; or ||)</code> you need one more apparently redundant ternary operator to finish the expression. That would be the last one, checking for <code>nextValue != null</code> when you already know it isn't null. This permits returning a valid <code>sum</code> or <code>null if both are null</code></p>\n<pre><code>public Long process2(Long aggValue, Long nextValue) {\n    return (aggValue == null) ? nextValue\n            : nextValue == null ? aggValue\n                    : nextValue != null ? aggValue + nextValue : null;\n}\n</code></pre>\n<p>But I would stick with the first method with minor changes. Since you are doing explicit returns just get rid of the <code>else if</code> and keep the return statements. The following seems rather straightforward to me.</p>\n<pre><code>public Long process1(Long aggValue, Long nextValue) {\n    if (aggValue == null) {\n         return nextValue; // returns nextValue or null\n    }\n    if (nextValue == null) {\n         return aggValue; // returns aggValue or null\n    }\n    // At this point, neither value is null\n     return aggValue + nextValue; // return the sum.\n }\n</code></pre>\n"}],"owner":{"account_id":29137288,"reputation":1,"user_id":22321168,"display_name":"rafaon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690932317,"creation_date":1690899826,"question_id":76812627,"body_markdown":"I have two almost identically looking conditionals, but they behave in different way and I can&#39;t explain why. Can any one tell me why is that happening?\r\n\r\n```java\r\n@Test\r\npublic void testMethod() {\r\n    Long aggValue = null;\r\n    Long nextValue = null;\r\n\r\n    System.out.println(process1(aggValue, nextValue));\r\n    System.out.println(process2(aggValue, nextValue));\r\n}\r\n\r\npublic Long process1(Long aggValue, Long nextValue) {\r\n    if (aggValue == null) {\r\n        return nextValue;\r\n    } else {\r\n        if (nextValue == null) {\r\n            return aggValue;\r\n        }\r\n    }\r\n    return aggValue + nextValue;\r\n}\r\n\r\npublic Long process2(Long aggValue, Long nextValue) {\r\n    return aggValue == null ? nextValue : nextValue == null ? aggValue : aggValue + nextValue;\r\n}\r\n```\r\n\r\nResult:\r\n```none\r\nnull\r\njava.lang.NullPointerException\r\n```\r\n\r\nI expected both methods to just return null, but the second one returns NPE. Debugger on process2 method is expecting this and already showing NPE near nextValue (true part of first conditional).\r\n","title":"Different conditional behaviour between standard and tenary operators when working with nulls","body":"<p>I have two almost identically looking conditionals, but they behave in different way and I can't explain why. Can any one tell me why is that happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testMethod() {\n    Long aggValue = null;\n    Long nextValue = null;\n\n    System.out.println(process1(aggValue, nextValue));\n    System.out.println(process2(aggValue, nextValue));\n}\n\npublic Long process1(Long aggValue, Long nextValue) {\n    if (aggValue == null) {\n        return nextValue;\n    } else {\n        if (nextValue == null) {\n            return aggValue;\n        }\n    }\n    return aggValue + nextValue;\n}\n\npublic Long process2(Long aggValue, Long nextValue) {\n    return aggValue == null ? nextValue : nextValue == null ? aggValue : aggValue + nextValue;\n}\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>null\njava.lang.NullPointerException\n</code></pre>\n<p>I expected both methods to just return null, but the second one returns NPE. Debugger on process2 method is expecting this and already showing NPE near nextValue (true part of first conditional).</p>\n"},{"tags":["java","android","file","file-io"],"comments":[{"owner":{"account_id":3798214,"reputation":3487,"user_id":3152527,"accept_rate":100,"display_name":"DnR"},"score":0,"creation_date":1402035784,"post_id":24075352,"comment_id":37127100,"body_markdown":"wow what phone that has a USB port??","body":"wow what phone that has a USB port??"},{"owner":{"display_name":"user818700"},"score":0,"creation_date":1402035836,"post_id":24075352,"comment_id":37127121,"body_markdown":"haha I&#39;ll update my question with a pic of the cable I&#39;m using.","body":"haha I&#39;ll update my question with a pic of the cable I&#39;m using."},{"owner":{"account_id":3798214,"reputation":3487,"user_id":3152527,"accept_rate":100,"display_name":"DnR"},"score":0,"creation_date":1402036530,"post_id":24075352,"comment_id":37127431,"body_markdown":"Ahh I see. I thought there is a _Female_ USB Port on the phone that can directly plugged without cable -_-","body":"Ahh I see. I thought there is a <i>Female</i> USB Port on the phone that can directly plugged without cable -_-"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":3,"creation_date":1402036530,"post_id":24075352,"comment_id":37127432,"body_markdown":"You have to use a file explorer app on your device to find out. Look in /mnt and /storage to find the exact path.","body":"You have to use a file explorer app on your device to find out. Look in /mnt and /storage to find the exact path."},{"owner":{"display_name":"user818700"},"score":0,"creation_date":1402036854,"post_id":24075352,"comment_id":37127554,"body_markdown":"Found that it&#39;s located at /storage/UsbDriveA/ . Still in the code what function do you use where you&#39;ll post this path as a param?","body":"Found that it&#39;s located at /storage/UsbDriveA/ . Still in the code what function do you use where you&#39;ll post this path as a param?"},{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":3,"creation_date":1402037098,"post_id":24075352,"comment_id":37127650,"body_markdown":"Android API guide for [USB Host](http://developer.android.com/guide/topics/connectivity/usb/host.html) should give you all the information that is needed.","body":"Android API guide for <a href=\"http://developer.android.com/guide/topics/connectivity/usb/host.html\" rel=\"nofollow noreferrer\">USB Host</a> should give you all the information that is needed."},{"owner":{"account_id":2783393,"reputation":167,"user_id":2395434,"accept_rate":0,"display_name":"ChrisVollo"},"score":0,"creation_date":1418255003,"post_id":24075352,"comment_id":43270173,"body_markdown":"@DeanGrobler, were you able to get this to work?","body":"@DeanGrobler, were you able to get this to work?"},{"owner":{"account_id":410924,"reputation":1624,"user_id":783051,"display_name":"Peter Tran"},"score":0,"creation_date":1466117903,"post_id":24075352,"comment_id":63198052,"body_markdown":"Possible duplicate of [Android detect usb storage for kitkat (4.4)](http://stackoverflow.com/questions/36208297/android-detect-usb-storage-for-kitkat-4-4).  There I posted solutions for pre-6.0 and 6.0/above.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/36208297/android-detect-usb-storage-for-kitkat-4-4\">Android detect usb storage for kitkat (4.4)</a>.  There I posted solutions for pre-6.0 and 6.0/above."}],"answers":[{"tags":[],"owner":{"account_id":4059136,"reputation":93,"user_id":3336142,"display_name":"ballesta25"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402158174,"creation_date":1402158174,"answer_id":24099213,"question_id":24075352,"body_markdown":"I can&#39;t test this, not having such a cable myself, but my assumption would be that you can pass your filepath directly into the constructor which would look like:\r\n\r\n    File directory  = new File(&quot;/storage/UsbDriveA/&quot;);\r\n\r\nHave you tried this?","title":"Get access to USB mass storage device in android","body":"<p>I can't test this, not having such a cable myself, but my assumption would be that you can pass your filepath directly into the constructor which would look like:</p>\n\n<pre><code>File directory  = new File(\"/storage/UsbDriveA/\");\n</code></pre>\n\n<p>Have you tried this?</p>\n"},{"tags":[],"owner":{"account_id":1905331,"reputation":2889,"user_id":1720332,"accept_rate":44,"display_name":"JBA"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1690932069,"creation_date":1424559743,"answer_id":28652419,"question_id":24075352,"body_markdown":"In this example I am using the FileUtils from Apache, but even without it you will see the logic used to read a USB Flash drive: \r\n\r\n    private UsbManager usbManager;\r\n\tprivate UsbDevice clef;\r\n    ArrayList&lt;File&gt; images;\r\n\r\n    usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    clef = null;\r\n\t\t\r\n\tif (usbManager != null)\r\n\t{\r\n\t\tHashMap&lt;String,UsbDevice&gt; deviceList = usbManager.getDeviceList();\r\n\t\tif (deviceList != null)\r\n\t\t{\r\n\t\t\tIterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n\t\t\twhile (deviceIterator.hasNext()) {\r\n\t\t\t\tclef = deviceIterator.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (clef != null)\r\n\t{\r\n\t\tFile directory  = new File(&quot;/storage/UsbDriveA/&quot;);\r\n\t\tif (directory != null) {\r\n\t\t\tif (directory.canRead()) {\r\n\t\t\t\t\t\r\n\t\t\t\timages = new ArrayList&lt;File&gt;();\r\n\t\t\t\tString[] imageExtensions = {&quot;jpg&quot;,&quot;jpeg&quot;,&quot;png&quot;,&quot;gif&quot;,&quot;JPG&quot;,&quot;JPEG&quot;,&quot;PNG&quot;,&quot;GIF&quot;};\r\n\t\t\t\tIterator&lt;File&gt; iterateImages = FileUtils.iterateFiles(directory, imageExtensions, true);\r\n\t\t\t\twhile (iterateImages.hasNext()) {\r\n\t\t\t\t\tFile theImage = iterateImages.next();\r\n\t\t\t\t\tif (!theImage.getName().startsWith(&quot;.&quot;, 0))\r\n\t\t\t\t\t\timages.add(theImage);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n                // custom process / methods... not very relevant here :\t\r\n\t\t\t\timageIndex = 0;\r\n\t\t\t\tscale = 1.0f;\r\n\t\t\t\tcountImgs = images.size();\r\n\t\t\t\tloadImage(imageIndex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIn my manifest I have those lines, although I&#39;m not sure they&#39;re all mandatory...\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;","title":"Get access to USB mass storage device in android","body":"<p>In this example I am using the FileUtils from Apache, but even without it you will see the logic used to read a USB Flash drive:</p>\n<pre><code>private UsbManager usbManager;\nprivate UsbDevice clef;\nArrayList&lt;File&gt; images;\n\nusbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\nclef = null;\n    \nif (usbManager != null)\n{\n    HashMap&lt;String,UsbDevice&gt; deviceList = usbManager.getDeviceList();\n    if (deviceList != null)\n    {\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while (deviceIterator.hasNext()) {\n            clef = deviceIterator.next();\n        }\n    }\n}\n\nif (clef != null)\n{\n    File directory  = new File(&quot;/storage/UsbDriveA/&quot;);\n    if (directory != null) {\n        if (directory.canRead()) {\n                \n            images = new ArrayList&lt;File&gt;();\n            String[] imageExtensions = {&quot;jpg&quot;,&quot;jpeg&quot;,&quot;png&quot;,&quot;gif&quot;,&quot;JPG&quot;,&quot;JPEG&quot;,&quot;PNG&quot;,&quot;GIF&quot;};\n            Iterator&lt;File&gt; iterateImages = FileUtils.iterateFiles(directory, imageExtensions, true);\n            while (iterateImages.hasNext()) {\n                File theImage = iterateImages.next();\n                if (!theImage.getName().startsWith(&quot;.&quot;, 0))\n                    images.add(theImage);\n            }\n            \n            // custom process / methods... not very relevant here : \n            imageIndex = 0;\n            scale = 1.0f;\n            countImgs = images.size();\n            loadImage(imageIndex);\n        }\n    }\n}\n</code></pre>\n<p>In my manifest I have those lines, although I'm not sure they're all mandatory...</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user818700"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16601,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":28652419,"answer_count":2,"score":27,"last_activity_date":1690932069,"creation_date":1402035128,"question_id":24075352,"body_markdown":"So I have this little cable that you plug into your phone that has a USB port on the other side where you can plug in a flash drive for example, as you can see here:\r\n\r\n![enter image description here][1]\r\n\r\nWhen I plug in a flash drive I get a notification that says: \r\n\r\n&gt; USB mass storage connected\r\n\r\nWhen I then launch a file explorer app I can see that the drive is then located at:\r\n\r\n&gt; /storage/UsbDriveA/\r\n\r\nAnd that&#39;s great, but I want to know how to gain access to the flash drive in my code. Getting access to the SD card is easy enough:\r\n\r\n    File sdCard = Environment.getExternalStorageDirectory();\r\n    File directory = new File (sdCard.getAbsolutePath() + &quot;/MyFiles&quot;)\r\n    directory.mkdirs();\r\n\r\nBut how would you do this in the case of the flash drive? Thanks in advance! :)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mwOGl.jpg","title":"Get access to USB mass storage device in android","body":"<p>So I have this little cable that you plug into your phone that has a USB port on the other side where you can plug in a flash drive for example, as you can see here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mwOGl.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I plug in a flash drive I get a notification that says: </p>\n\n<blockquote>\n  <p>USB mass storage connected</p>\n</blockquote>\n\n<p>When I then launch a file explorer app I can see that the drive is then located at:</p>\n\n<blockquote>\n  <p>/storage/UsbDriveA/</p>\n</blockquote>\n\n<p>And that's great, but I want to know how to gain access to the flash drive in my code. Getting access to the SD card is easy enough:</p>\n\n<pre><code>File sdCard = Environment.getExternalStorageDirectory();\nFile directory = new File (sdCard.getAbsolutePath() + \"/MyFiles\")\ndirectory.mkdirs();\n</code></pre>\n\n<p>But how would you do this in the case of the flash drive? Thanks in advance! :)</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1455539194,"post_id":35409346,"comment_id":58519496,"body_markdown":"where-ever you choose.","body":"where-ever you choose."},{"owner":{"account_id":7466919,"reputation":21,"user_id":5676118,"display_name":"robotsruin"},"score":0,"creation_date":1455539598,"post_id":35409346,"comment_id":58519748,"body_markdown":"Thanks @Stultuske. I placed the file in what I thought was the appropriate place and my program throws an exception.","body":"Thanks @Stultuske. I placed the file in what I thought was the appropriate place and my program throws an exception."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1455539669,"post_id":35409346,"comment_id":58519790,"body_markdown":"there is no &quot;appropriate&quot; place, there is the place you decide on. anyway, run: File f = new File(&quot;myText.txt&quot;); and print the path of that file out, it should tell you what you need","body":"there is no &quot;appropriate&quot; place, there is the place you decide on. anyway, run: File f = new File(&quot;myText.txt&quot;); and print the path of that file out, it should tell you what you need"}],"answers":[{"tags":[],"owner":{"account_id":3988330,"reputation":389,"user_id":3288182,"accept_rate":83,"display_name":"Scar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455539989,"creation_date":1455539989,"answer_id":35409645,"question_id":35409346,"body_markdown":"Just as @Stultuske said, you can place your text file anywhere. You can even dedicate a folder for future text files. You just have to know it&#39;s specific directory / location so that the &quot;program&quot; will know where to find those files needed. \r\n\r\nLook at this [answer][1] for file directories references\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3657157/how-do-i-get-a-files-directory-using-the-file-object","title":"Where should I place a text file for netbeans to read?","body":"<p>Just as @Stultuske said, you can place your text file anywhere. You can even dedicate a folder for future text files. You just have to know it's specific directory / location so that the \"program\" will know where to find those files needed. </p>\n\n<p>Look at this <a href=\"https://stackoverflow.com/questions/3657157/how-do-i-get-a-files-directory-using-the-file-object\">answer</a> for file directories references</p>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455541451,"creation_date":1455541451,"answer_id":35410106,"question_id":35409346,"body_markdown":"You need to move the file `icecream.txt` into the netbeans project. For e.g.\r\n\r\n    IceCreamSales (Project)\r\n      |\r\n      +--icecream.txt\r\n      |\r\n      +--src\r\n          |\r\n          +--icecreamsales\r\n                |\r\n                +--IceCreamSales.java","title":"Where should I place a text file for netbeans to read?","body":"<p>You need to move the file <code>icecream.txt</code> into the netbeans project. For e.g.</p>\n\n<pre><code>IceCreamSales (Project)\n  |\n  +--icecream.txt\n  |\n  +--src\n      |\n      +--icecreamsales\n            |\n            +--IceCreamSales.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29140013,"reputation":1,"user_id":22323234,"display_name":"Muhammed Guroglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690929469,"creation_date":1690929469,"answer_id":76815581,"question_id":35409346,"body_markdown":"How to use Text Files Appropriately\r\n===================================\r\nFirst make a text file INSIDE Windows Explorer, make sure it&#39;s not in the package (NOT inside NetBeans).\r\nThe IDE I used was NetBeans.\r\nThe &#39;class name&#39; and package must be named EXACTLY the same.\r\nIf the class name isn&#39;t the same with package name it&#39;ll NOT work.\r\nName package before using, and &#39;refactor&#39; after right-clicking on package.\r\n\r\nReadfile = where the input is being received and returned.\r\nWritefile = where the output is being returned and received.\r\n\r\n    package Project;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    public class Project {\r\n    \r\n        public static void main(String[] args) {\r\n            String newReader = &quot;read.txt&quot;;\r\n            String newWriter = &quot;write.txt&quot;;\r\n            try {             \r\n                FileReader reader = new FileReader(newReader);\r\n                BufferedReader in = new BufferedReader(reader);\r\n                FileWriter writer = new FileWriter(newWriter);\r\n                PrintWriter out = new PrintWriter(writer);\r\n                String line = null;\r\n                int numLines = 0;\r\n                while ((line = in.readLine()) != null) {\r\n                    out.println(line.toUpperCase());\r\n                    ++numLines;\r\n                }\r\n                in.close();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;ERROR!&quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject \r\n\r\nMake sure it&#39;s under the DadsProject (folder name), or under the folder of the name of the project you&#39;re working on.\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\read * &#39;read&#39; is the text file in this example\r\n\r\nThe file &quot;read&quot; is a text file make sure it has NO &quot;.txt&quot; attached as such when it&#39;s in &#39;WindowsExplorer&#39;. \r\nYou do NOT need the text file to be in &#39;NetBeans&#39; just in &#39;WindowsExplorer&#39; and that&#39;ll suffice. \r\nMake sure it&#39;s under &#39;DadsProject&#39; and above &#39;src&#39; (literally inside &#39;DadsProject&#39; like so).\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\src\r\n\r\nMake sure it&#39;s above &#39;src&#39; under &#39;DadsProject&#39;\r\n\r\nMake sure the file is .txt when it&#39;s in your code. \r\nFor example: \r\n\r\nString reader = &quot;read.txt&quot;; must have .txt or else it won&#39;t work\r\n\r\nFor example:\r\nYes, to this =&gt; read (this is a text file)\r\nNo, to this =&gt; read.txt (this is also a different text file)\r\nWARNING!!! \r\nread (text file) and read.txt (text file). \r\nThey&#39;re NOT the same type of &#39;text file&#39;.","title":"Where should I place a text file for netbeans to read?","body":"<h1>How to use Text Files Appropriately</h1>\n<p>First make a text file INSIDE Windows Explorer, make sure it's not in the package (NOT inside NetBeans).\nThe IDE I used was NetBeans.\nThe 'class name' and package must be named EXACTLY the same.\nIf the class name isn't the same with package name it'll NOT work.\nName package before using, and 'refactor' after right-clicking on package.</p>\n<p>Readfile = where the input is being received and returned.\nWritefile = where the output is being returned and received.</p>\n<pre><code>package Project;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class Project {\n\n    public static void main(String[] args) {\n        String newReader = &quot;read.txt&quot;;\n        String newWriter = &quot;write.txt&quot;;\n        try {             \n            FileReader reader = new FileReader(newReader);\n            BufferedReader in = new BufferedReader(reader);\n            FileWriter writer = new FileWriter(newWriter);\n            PrintWriter out = new PrintWriter(writer);\n            String line = null;\n            int numLines = 0;\n            while ((line = in.readLine()) != null) {\n                out.println(line.toUpperCase());\n                ++numLines;\n            }\n            in.close();\n            out.close();\n        } catch (IOException e) {\n            System.out.println(&quot;ERROR!&quot; + e);\n        }\n    }\n}\n</code></pre>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject</p>\n<p>Make sure it's under the DadsProject (folder name), or under the folder of the name of the project you're working on.</p>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\read * 'read' is the text file in this example</p>\n<p>The file &quot;read&quot; is a text file make sure it has NO &quot;.txt&quot; attached as such when it's in 'WindowsExplorer'.\nYou do NOT need the text file to be in 'NetBeans' just in 'WindowsExplorer' and that'll suffice.\nMake sure it's under 'DadsProject' and above 'src' (literally inside 'DadsProject' like so).</p>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\src</p>\n<p>Make sure it's above 'src' under 'DadsProject'</p>\n<p>Make sure the file is .txt when it's in your code.\nFor example:</p>\n<p>String reader = &quot;read.txt&quot;; must have .txt or else it won't work</p>\n<p>For example:\nYes, to this =&gt; read (this is a text file)\nNo, to this =&gt; read.txt (this is also a different text file)\nWARNING!!!\nread (text file) and read.txt (text file).\nThey're NOT the same type of 'text file'.</p>\n"}],"owner":{"account_id":7466919,"reputation":21,"user_id":5676118,"display_name":"robotsruin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35410106,"answer_count":3,"score":2,"last_activity_date":1690929469,"creation_date":1455539123,"question_id":35409346,"body_markdown":" I am new to java but I have looked for an answer but unfortunately haven&#39;t found one specific to my situation. I&#39;d like to know where to place my file &quot;icecream.txt&quot; so that netbeans can read it. My programs works if I code the absolute the path but I&#39;d prefer not to do that as it needs to run on the other student&#39;s computers without changes. I have attached an image of where I have placed my file. Any help would be appreciated.\r\n[neatbeans file folders][1]\r\n\r\nMy code is bellow if that helps\r\n\r\n\r\n    package icecreamsales;\r\n    /**\r\n     *\r\n     * @author anonymous\r\n     */\r\n    public class IceCreamSales {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n        public static void main(String[] args) {\r\n        \r\n            try {\r\n                 TextIO.readFile(&quot;icecream.txt&quot;);\r\n            }\r\n            catch (IllegalArgumentException e) {\r\n                System.out.println(&quot;Can&#39;t open file \\&quot;icecream.txt\\&quot; for reading!&quot;);\r\n                System.out.println(&quot;Please make sure the file is present before&quot;);\r\n                System.out.println(&quot;running the program.&quot;);\r\n                System.exit(1);  // Terminates the program.\r\n        }\r\n        \r\n            int totalIceCreamSales = 0;\r\n            int strawberryIceCreamSales = 0;\r\n            \r\n            while (!TextIO.eof()) {\r\n                String readLines = TextIO.getln();\r\n                totalIceCreamSales++;\r\n             \r\n                if (readLines.equals(&quot;Strawberry&quot;)) {\r\n                     strawberryIceCreamSales++;\r\n                }\r\n            }\r\n            System.out.println(&quot;Icecream cone sales totalled &quot; + totalIceCreamSales);\r\n            System.out.println(&quot;Strawberry icecream sales totalled &quot; + strawberryIceCreamSales);\r\n            System.out.println(&quot;Strawberry icecream is &quot; + ((double) strawberryIceCreamSales/totalIceCreamSales*100) + &quot;%%&quot; + &quot; of total sales&quot;);\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PsuT6.png","title":"Where should I place a text file for netbeans to read?","body":"<p>I am new to java but I have looked for an answer but unfortunately haven't found one specific to my situation. I'd like to know where to place my file \"icecream.txt\" so that netbeans can read it. My programs works if I code the absolute the path but I'd prefer not to do that as it needs to run on the other student's computers without changes. I have attached an image of where I have placed my file. Any help would be appreciated.\n<a href=\"https://i.stack.imgur.com/PsuT6.png\" rel=\"nofollow\">neatbeans file folders</a></p>\n\n<p>My code is bellow if that helps</p>\n\n<pre><code>package icecreamsales;\n/**\n *\n * @author anonymous\n */\npublic class IceCreamSales {\n\n/**\n * @param args the command line arguments\n */\n    public static void main(String[] args) {\n\n        try {\n             TextIO.readFile(\"icecream.txt\");\n        }\n        catch (IllegalArgumentException e) {\n            System.out.println(\"Can't open file \\\"icecream.txt\\\" for reading!\");\n            System.out.println(\"Please make sure the file is present before\");\n            System.out.println(\"running the program.\");\n            System.exit(1);  // Terminates the program.\n    }\n\n        int totalIceCreamSales = 0;\n        int strawberryIceCreamSales = 0;\n\n        while (!TextIO.eof()) {\n            String readLines = TextIO.getln();\n            totalIceCreamSales++;\n\n            if (readLines.equals(\"Strawberry\")) {\n                 strawberryIceCreamSales++;\n            }\n        }\n        System.out.println(\"Icecream cone sales totalled \" + totalIceCreamSales);\n        System.out.println(\"Strawberry icecream sales totalled \" + strawberryIceCreamSales);\n        System.out.println(\"Strawberry icecream is \" + ((double) strawberryIceCreamSales/totalIceCreamSales*100) + \"%%\" + \" of total sales\");\n   }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":1,"creation_date":1584544493,"post_id":60738508,"comment_id":107470211,"body_markdown":"Why would you do that?","body":"Why would you do that?"}],"answers":[{"tags":[],"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584533058,"creation_date":1584533058,"answer_id":60739194,"question_id":60738508,"body_markdown":"You can use java.util.Collections.singletonList.\r\n\r\nAnd your code can be so:\r\n\r\n    WebElement element = driver.findelement(By.cssSelector(&quot;div#name&quot;));\r\n    List&lt;WebElement&gt; elements = java.util.Collections.singletonList(element );","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>You can use java.util.Collections.singletonList.</p>\n\n<p>And your code can be so:</p>\n\n<pre><code>WebElement element = driver.findelement(By.cssSelector(\"div#name\"));\nList&lt;WebElement&gt; elements = java.util.Collections.singletonList(element );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584840687,"creation_date":1584536559,"answer_id":60740185,"question_id":60738508,"body_markdown":"Just change the line to below, where we are using `.findElements()` which will return a list of elements rather than `.findElement()`.\r\n\r\n\r\n    List&lt;WebElement&gt; elements = driver.findelements(By.cssSelector(&quot;div#name&quot;));","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>Just change the line to below, where we are using <code>.findElements()</code> which will return a list of elements rather than <code>.findElement()</code>.</p>\n\n<pre><code>List&lt;WebElement&gt; elements = driver.findelements(By.cssSelector(\"div#name\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584539326,"creation_date":1584539326,"answer_id":60740946,"question_id":60738508,"body_markdown":"Java is a [statically typed](https://www.activestate.com/blog/python-vs-java-duck-typing-parsing-whitespace-and-other-cool-differences/), so to before putting the [WebElement](https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139) into the list, you have to create the list first and then add the _WebElement_ within the list and you can use the following solution:\r\n\r\n\tList&lt;WebElement&gt; elements = new ArrayList&lt;&gt;();\r\n\telements.add(driver.findElement(By.cssSelector(&quot;div#name&quot;)));","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>Java is a <a href=\"https://www.activestate.com/blog/python-vs-java-duck-typing-parsing-whitespace-and-other-cool-differences/\" rel=\"nofollow noreferrer\">statically typed</a>, so to before putting the <a href=\"https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139\">WebElement</a> into the list, you have to create the list first and then add the <em>WebElement</em> within the list and you can use the following solution:</p>\n\n<pre><code>List&lt;WebElement&gt; elements = new ArrayList&lt;&gt;();\nelements.add(driver.findElement(By.cssSelector(\"div#name\")));\n</code></pre>\n"}],"owner":{"account_id":7827476,"reputation":49,"user_id":5918576,"accept_rate":0,"display_name":"Kriez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1690929416,"creation_date":1584530709,"question_id":60738508,"body_markdown":"I have webelement\r\n``` \r\nWebElement element = driver.findelement(By.cssSelector(&quot;div#name&quot;))\r\n```\r\nI want to convert WebElement element  into list&lt;Webelement&gt;\r\n\r\nHow can i convert it into list \r\n\r\nI dont want to declare findelements again to get list. I need to reuse the webelement(element)","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>I have webelement</p>\n\n<pre><code>WebElement element = driver.findelement(By.cssSelector(\"div#name\"))\n</code></pre>\n\n<p>I want to convert WebElement element  into list</p>\n\n<p>How can i convert it into list </p>\n\n<p>I dont want to declare findelements again to get list. I need to reuse the webelement(element)</p>\n"},{"tags":["java","jayway"],"answers":[{"tags":[],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690903754,"creation_date":1690903754,"answer_id":76813170,"question_id":76812902,"body_markdown":"Finally I figure out the root cause of this issue:\r\n\r\njayway jsonpath has a dependency on json-smart. \r\n\r\nIn previous version, it is on `compile` scope, but the latest version the scope is changed to `runtime`, which means package itself doesn&#39;t include this library and compiling fails.\r\n\r\n\r\nBut for unit test code, it has no package concept, so it can pass compiling.","title":"JSONParser cannot be resolved to a type when I upgrade Json-path to 2.8","body":"<p>Finally I figure out the root cause of this issue:</p>\n<p>jayway jsonpath has a dependency on json-smart.</p>\n<p>In previous version, it is on <code>compile</code> scope, but the latest version the scope is changed to <code>runtime</code>, which means package itself doesn't include this library and compiling fails.</p>\n<p>But for unit test code, it has no package concept, so it can pass compiling.</p>\n"}],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76813170,"answer_count":1,"score":0,"last_activity_date":1690928681,"creation_date":1690901777,"question_id":76812902,"body_markdown":"I have a project, which is using jayway jsonpath\r\n```\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;   \r\n```\r\nIt works well.\r\n\r\nI tried to update it to the latest version 2.8.\r\n\r\nThen I got some weird compiling errors: \r\n`JSONParser cannot be resolved to a type`\r\n`JSONObject cannot be resolved to a type` \r\nin one Java file. While it has no problem with exact the same code in another Java file which is in test scope.\r\n\r\nI tried it in command line and got the same issue. So, it is not IDE issue.\r\nI also checked the version conflict in maven dependency and found no conflict.\r\nThis is related code:\r\n\r\n```\r\nimport net.minidev.json.JSONObject;\r\nimport net.minidev.json.parser.JSONParser;\r\nimport net.minidev.json.parser.ParseException;\r\n\r\n\r\n    public static JSONObject convertJSONStr2Obj(String jsonStr) throws FileNotFoundException, URISyntaxException, ParseException {\r\n        JSONObject expectedJson = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(jsonStr);\r\n        return expectedJson;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"JSONParser cannot be resolved to a type when I upgrade Json-path to 2.8","body":"<p>I have a project, which is using jayway jsonpath</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;   \n</code></pre>\n<p>It works well.</p>\n<p>I tried to update it to the latest version 2.8.</p>\n<p>Then I got some weird compiling errors:\n<code>JSONParser cannot be resolved to a type</code>\n<code>JSONObject cannot be resolved to a type</code>\nin one Java file. While it has no problem with exact the same code in another Java file which is in test scope.</p>\n<p>I tried it in command line and got the same issue. So, it is not IDE issue.\nI also checked the version conflict in maven dependency and found no conflict.\nThis is related code:</p>\n<pre><code>import net.minidev.json.JSONObject;\nimport net.minidev.json.parser.JSONParser;\nimport net.minidev.json.parser.ParseException;\n\n\n    public static JSONObject convertJSONStr2Obj(String jsonStr) throws FileNotFoundException, URISyntaxException, ParseException {\n        JSONObject expectedJson = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(jsonStr);\n        return expectedJson;\n    }\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":11471197,"reputation":96,"user_id":8407972,"display_name":"Grela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629127213,"creation_date":1629127213,"answer_id":68805368,"question_id":68805218,"body_markdown":"Probably it&#39;s happening because you are using two libs that use the same dependencies, try to add transitive = true to Jackson, as far as it seems like you are using one called jakarta that using javax.activation.\r\n\r\nWhat does transtitive do? check this post.\r\n\r\nhttps://stackoverflow.com/questions/31731014/what-does-transitive-true-in-gradle-exactly-do-w-r-t-crashlytics","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>Probably it's happening because you are using two libs that use the same dependencies, try to add transitive = true to Jackson, as far as it seems like you are using one called jakarta that using javax.activation.</p>\n<p>What does transtitive do? check this post.</p>\n<p><a href=\"https://stackoverflow.com/questions/31731014/what-does-transitive-true-in-gradle-exactly-do-w-r-t-crashlytics\">What does transitive = true in Gradle exactly do (w.r.t. crashlytics)?</a></p>\n"},{"tags":[],"owner":{"account_id":22584092,"reputation":31,"user_id":16768354,"display_name":"ASIM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660985005,"creation_date":1660985005,"answer_id":73425273,"question_id":68805218,"body_markdown":"In my case it was happening because of Safe Nav Args Dependency. So, try removing dependencies and check which one is causing issue.","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>In my case it was happening because of Safe Nav Args Dependency. So, try removing dependencies and check which one is causing issue.</p>\n"},{"tags":[],"owner":{"account_id":17737221,"reputation":1,"user_id":12878379,"display_name":"Joaquim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690928187,"creation_date":1690928187,"answer_id":76815506,"question_id":68805218,"body_markdown":"I was able to find the problem by commenting out id (&quot;androidx.navigation.safeargs.kotlin&quot;)","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>I was able to find the problem by commenting out id (&quot;androidx.navigation.safeargs.kotlin&quot;)</p>\n"}],"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690928187,"creation_date":1629126604,"question_id":68805218,"body_markdown":"I&#39;m getting a failed build when running the project on my phone via USB after adding the following implementation on my build.gradle file : \r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.10.1&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1&#39;\r\n\r\nThe build is successful without running on device though.\r\nBelow are the duplicated files on the Build output : \r\n\r\n        Duplicate class javax.activation.ActivationDataFlavor found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandInfo found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandObject found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataContentHandlerFactory found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandler$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandlerDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataSourceDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.FileDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.FileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MailcapCommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeType found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeTypeParameterList found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeTypeParseException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimetypesFileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.ObjectDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$2 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$3 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$4 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$5 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.URLDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.UnsupportedDataTypeException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>I'm getting a failed build when running the project on my phone via USB after adding the following implementation on my build.gradle file :</p>\n<pre><code>implementation 'com.fasterxml.jackson.core:jackson-core:2.10.1'\nimplementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1'\n</code></pre>\n<p>The build is successful without running on device though.\nBelow are the duplicated files on the Build output :</p>\n<pre><code>    Duplicate class javax.activation.ActivationDataFlavor found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandInfo found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandObject found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataContentHandlerFactory found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandler$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandlerDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataSourceDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.FileDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.FileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MailcapCommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeType found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeTypeParameterList found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeTypeParseException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimetypesFileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.ObjectDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$2 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$3 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$4 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$5 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.URLDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.UnsupportedDataTypeException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\n</code></pre>\n"},{"tags":["java","xml","xsd","jaxb","xjc"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1690550133,"post_id":76787970,"comment_id":135373388,"body_markdown":"Give a try with type and attribute names **without** space (ex: TypeInQuestion).","body":"Give a try with type and attribute names <b>without</b> space (ex: TypeInQuestion)."},{"owner":{"account_id":16764296,"reputation":11,"user_id":12118309,"display_name":"Jonas Seidl"},"score":0,"creation_date":1690560233,"post_id":76787970,"comment_id":135375665,"body_markdown":"I just changed the names to make it anonymous and more clear - seems I have done the opposite. In reality they all have no spaces. I edite the question to make it more clear.","body":"I just changed the names to make it anonymous and more clear - seems I have done the opposite. In reality they all have no spaces. I edite the question to make it more clear."}],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690928148,"creation_date":1690928148,"answer_id":76815503,"question_id":76787970,"body_markdown":"The short answer is no, it is not possible to bind an **element** with &quot;no type&quot; (i.e. `xs:anyType`) to `java.lang.String` using `&lt;jxb:javaType .../&gt;`. *However*, it is possible to wrap the generated Java property in a *code injected* property that performs the desired conversion. Here&#39;s why and how...\r\n\r\n#### Attribute versus Element\r\n\r\nFor XJC, the default XML type for an **attribute** is `xs:anySimpleType` and that is mapped to the Java **String** type unless customized. And, the **attribute** can be customized in the binding file using `&lt;jxb:javaType .../&gt;`. For example the approach shown here, binds the `version` attribute to Java&#39;s `BigDecimal` type. It demonstrates how `&lt;jxb:javaType .../&gt;` is configured for and accepted by XJC:\r\n\r\n**[XSD_IN_QUESTION.xjb][35]**\r\n~~~\r\n&lt;jxb:bindings node=&quot;//xs:attribute[@name=&#39;Version&#39;]&quot;&gt;\r\n    &lt;jxb:property name=&quot;VersionAttribute&quot;&gt;\r\n        &lt;jxb:baseType&gt;\r\n            &lt;jxb:javaType name=&quot;java.math.BigDecimal&quot;\r\n                parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDecimal&quot;\r\n                printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDecimal&quot;\r\n            /&gt;\r\n        &lt;/jxb:baseType&gt;\r\n    &lt;/jxb:property&gt;\r\n&lt;/jxb:bindings&gt;\r\n~~~\r\n\r\n&gt; **Note:** ([JAXB v4.0, &#167;7.8.2.1][3]]) This customization converts the default base type’s value for a *simple type definition* to the Java class specified by `&lt;javaType&gt;` name.\r\n\r\nFor XJC, the default XML type for an **element** is `xs:anyType` and that is mapped to the Java **Object** type. The `version` **element** cannot be customized using `&lt;javaType ...&gt;` because it is not a *simple type definition*! Any attempt to use the customization will throw this exception:\r\n\r\n**Customization `anyType` with `javaType` will fail**\r\n~~~\r\ncom.sun.istack.SAXParseException2:\r\n    compiler was unable to honor this javaType customization.\r\n    It is attached to a wrong place, or its inconsistent with other bindings.\r\n~~~\r\n\r\n&gt; **Note:** It is inconsistent with `xs:anyType` used by an **element** when no XML type is defined because `xs:anyType` is a *complex type definition*.\r\n\r\n#### Demonstration\r\n\r\nThis [demo (zip)][20] can be downloaded, unpacked and run &quot;as-is&quot;. It is a stand-alone Maven project that uses the *HiSrc HigherJAXB Maven Plugin* to generate JAXB classes from an XML Schema when the schema contains elements without a specified XML type.\r\n\r\nYou can run the demo and/or test(s) using:\r\n\r\n~~~\r\nmvn -Pexec clean compile exec:java -Dexec.args=&quot;src/test/samples/ParentElement.xml&quot;\r\nmvn -Ptest clean test\r\n~~~\r\n\r\nThe [output][22] shows the test(s) result.\r\n\r\nThe demonstration project use the standard Maven layout plus optional `bash` scripts.\r\n\r\n**hisrc-higherjaxb-sample-notype**\r\n~~~\r\n├── build-cfg.sh\r\n├── build-inc.sh\r\n├── build.sh\r\n├── pom.xml\r\n├── README.md\r\n├── run.sh\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── org\r\n    │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160;         ├── model\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── Version.java\r\n    │&#160;&#160; │&#160;&#160;         └── notype\r\n    │&#160;&#160; │&#160;&#160;             └── Main.java\r\n    │&#160;&#160; └── resources\r\n    │&#160;&#160;     ├── org\r\n    │&#160;&#160;     │&#160;&#160; └── example\r\n    │&#160;&#160;     │&#160;&#160;     └── model\r\n    │&#160;&#160;     │&#160;&#160;         └── jaxb.index\r\n    │&#160;&#160;     ├── SOME_OTHER_XSD.xsd\r\n    │&#160;&#160;     ├── XSD_IN_QUESTION.xjb\r\n    │&#160;&#160;     └── XSD_IN_QUESTION.xsd\r\n    └── test\r\n        ├── java\r\n        │&#160;&#160; └── org\r\n        │&#160;&#160;     └── example\r\n        │&#160;&#160;         └── notype\r\n        │&#160;&#160;             └── NoTypeTest.java\r\n        ├── resources\r\n        │&#160;&#160; ├── jvmsystem.arguments\r\n        │&#160;&#160; ├── jvmsystem.properties\r\n        │&#160;&#160; └── simplelogger.properties\r\n        └── samples\r\n            ├── ParentElement.xml\r\n            └── SomeOtherElement.xml\r\n~~~\r\n\r\nThe [pom.xml][23] configures [hisrc-higherjaxb-maven-plugin][12] to use XJC extensions and an XJC [hisrc-hyperjaxb-annox-plugin][13] to customize the code generation. The customization includes:\r\n\r\n+ Adding `@XmlRootElement` to `ParentElement.java` and `SomeOtherElement.java`\r\n+ Injecting `getVersion / setVersion` methods to implement the `String` conversion.\r\n\r\n**pom.xml**\r\n~~~\r\n...\r\n&lt;!-- mvn hisrc-higherjaxb:help -Ddetail=true --&gt;\r\n&lt;!-- mvn hisrc-higherjaxb:generate --&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;extension&gt;true&lt;/extension&gt;\r\n                &lt;args&gt;\r\n                    &lt;arg&gt;-Xannotate&lt;/arg&gt;\r\n                    &lt;arg&gt;-Xinject-code&lt;/arg&gt;\r\n                &lt;/args&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${hisrc-hyperjaxb-annox-plugin.version}&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n...\r\n~~~\r\n\r\nThe JAXB binding file customized the [XSD_IN_QUESTION.xsd][33] schema by:\r\n\r\n+ Using [hisrc-hyperjaxb-annox-plugin][13] to add `@XmlRootElement`\r\n* Renaming the class per Java convention\r\n+ Renaming the property to `VersionElement` so it can be nicely wrapped\r\n+ Injecting code for the `Version` wrapper to get/set `java.lang.String`\r\n\r\n[XSD_IN_QUESTION.xjb][35]\r\n~~~\r\n...\r\n&lt;jxb:bindings schemaLocation=&quot;XSD_IN_QUESTION.xsd&quot;&gt;\r\n    &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;PARENT_ELEMENT&#39;]/xs:complexType&quot;&gt;\r\n        &lt;anx:annotate&gt;@jakarta.xml.bind.annotation.XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)&lt;/anx:annotate&gt;\r\n        &lt;jxb:class name=&quot;ParentElement&quot;/&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;Version&#39;]&quot;&gt;\r\n            &lt;jxb:property name=&quot;VersionElement&quot;/&gt;\r\n        &lt;/jxb:bindings&gt;\r\n        &lt;ci:code&gt;\r\npublic String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\r\npublic void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\r\n        &lt;/ci:code&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n...\r\n~~~\r\n\r\nFor testing, an XML instance of `PARENT_ELEMENT` provides a non-trivial representation of the `Version` element to emphasize that it is an `xs:anyType`. In fact, it can be an arbitrarily complex type, which provides some insight as to why the spec limits the `xs:javaType` binding to *simple type definition*, see [JAXB v4.0, &#167;7.8.2.1][3].\r\n\r\n[ParentElement.xml][53]\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PARENT_ELEMENT xmlns:ns1=&quot;http://example.org/notype&quot;&gt;\r\n    &lt;ns1:Version xsi:type=&quot;version&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;major&gt;10&lt;/major&gt;\r\n        &lt;minor&gt;2&lt;/minor&gt;\r\n    &lt;/ns1:Version&gt;\r\n&lt;/PARENT_ELEMENT&gt;\r\n~~~\r\n\r\nWhen JAXB unmarshals `PARENT_ELEMENT`, it uses a custom [Version.java][40] implemented by the project and provided to the JAXB context. This class has its own namespace and demonstrates the flexibility of `xs:anyType`.\r\n\r\n&gt; **Note:** A [jaxb.index][32] resource file lists the non-schema-derived classes, namely the java to schema binding, in a package to register with `JAXBContext`. \r\n\r\nThe custom class implements a constructor to parse a version using the standard format (i.e. &quot;10.2&quot;) into its major and minor parts. And a `toString()` method to return the major/minor parts as a version string.\r\n\r\n[Version.java][40]\r\n~~~\r\n...\r\npublic Version(String version)\r\n{\r\n    if ( version != null )\r\n    {\r\n        String[] parts = version.split(&quot;\\\\.&quot;);\r\n        setMajor(parts[0]);\r\n        if ( parts.length &gt; 1 )\r\n            setMinor(parts[1]);\r\n    }\r\n}\r\n...\r\npublic String toString()\r\n{\r\n    return format(&quot;%s.%s&quot;,\r\n        ((getMajor() != null) ? getMajor() : &quot;0&quot;),\r\n        ((getMinor() != null) ? getMinor() : &quot;0&quot;)\r\n    );\r\n}\r\n...\r\n~~~\r\n\r\nXJC reads the binding file [XSD_IN_QUESTION.xjb][35] and the XML schema [XSD_IN_QUESTION.xsd][33] to generate this class (and other classes):\r\n\r\n**ParentElement.java**\r\n~~~\r\npackage org.example.notype;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;versionElement&quot; })\r\n@XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)\r\npublic class ParentElement implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230701L;\r\n\r\n    @XmlElement(name = &quot;Version&quot;, namespace = &quot;http://example.org/notype&quot;, required = true)\r\n    protected Object versionElement;\r\n\r\n    public Object getVersionElement() { return versionElement; }\r\n    public void setVersionElement(Object value) { this.versionElement = value; }\r\n\r\n    public String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\r\n    public void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\r\n}\r\n~~~\r\n\r\nThe `ParentElement` class is bound to the root &quot;PARENT_ELEMENT&quot; and provides an `java.lang.Object` field to represent the &quot;Version&quot; sub-element. The sub-element is bound to the get/set `VersionElement` property which was custom named in the binding file. \r\n\r\nFinally, the `ParentElement` class provides an addition get/set `Version` property to wrap the JAXB bound property and perform the Object to String conversion.\r\n\r\nFor usage, see [`org.example.notype.Main`][42] and [`org.example.notype.NoTypeTest`][62].\r\n\r\n*Disclaimer:* I am the maintainer for the *Patrodyne HiSrc* projects.\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://stackoverflow.com/questions/76787970\r\n[2]: https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html\r\n[3]: https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\r\n[10]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[11]: https://github.com/patrodyne/hisrc-basicjaxb-annox#readme\r\n[12]: https://github.com/patrodyne/hisrc-higherjaxb#readme\r\n[13]: https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\r\n[20]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-notype-2.1.0-mvn-src.zip\r\n[21]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/README.md\r\n[22]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/OUTPUT.txt\r\n[23]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/project-pom.xml\r\n[24]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/bin\r\n[25]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/bin/run.sh\r\n[26]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src\r\n[27]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main\r\n[28]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources\r\n[29]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org\r\n[30]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example\r\n[31]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model\r\n[32]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model/jaxb.index\r\n[33]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\r\n[34]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/SOME_OTHER_XSD.xsd\r\n[35]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\r\n[36]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java\r\n[37]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org\r\n[38]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example\r\n[39]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model\r\n[40]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\r\n[41]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype\r\n[42]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype/Main.java\r\n[50]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test\r\n[51]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples\r\n[52]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/SomeOtherElement.xml\r\n[53]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/ParentElement.xml\r\n[54]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources\r\n[55]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/jvmsystem.arguments\r\n[56]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/jvmsystem.properties\r\n[57]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/simplelogger.properties\r\n[58]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java\r\n[59]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org\r\n[60]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example\r\n[61]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype\r\n[62]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype/NoTypeTest.java\r\n","title":"JAXB XJC use String as type if there is no type set in xsd","body":"<p>The short answer is no, it is not possible to bind an <strong>element</strong> with &quot;no type&quot; (i.e. <code>xs:anyType</code>) to <code>java.lang.String</code> using <code>&lt;jxb:javaType .../&gt;</code>. <em>However</em>, it is possible to wrap the generated Java property in a <em>code injected</em> property that performs the desired conversion. Here's why and how...</p>\n<h4>Attribute versus Element</h4>\n<p>For XJC, the default XML type for an <strong>attribute</strong> is <code>xs:anySimpleType</code> and that is mapped to the Java <strong>String</strong> type unless customized. And, the <strong>attribute</strong> can be customized in the binding file using <code>&lt;jxb:javaType .../&gt;</code>. For example the approach shown here, binds the <code>version</code> attribute to Java's <code>BigDecimal</code> type. It demonstrates how <code>&lt;jxb:javaType .../&gt;</code> is configured for and accepted by XJC:</p>\n<p><strong><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a></strong></p>\n<pre><code>&lt;jxb:bindings node=&quot;//xs:attribute[@name='Version']&quot;&gt;\n    &lt;jxb:property name=&quot;VersionAttribute&quot;&gt;\n        &lt;jxb:baseType&gt;\n            &lt;jxb:javaType name=&quot;java.math.BigDecimal&quot;\n                parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDecimal&quot;\n                printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDecimal&quot;\n            /&gt;\n        &lt;/jxb:baseType&gt;\n    &lt;/jxb:property&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> (<a href=\"https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\" rel=\"nofollow noreferrer\">JAXB v4.0, §7.8.2.1</a>]) This customization converts the default base type’s value for a <em>simple type definition</em> to the Java class specified by <code>&lt;javaType&gt;</code> name.</p>\n</blockquote>\n<p>For XJC, the default XML type for an <strong>element</strong> is <code>xs:anyType</code> and that is mapped to the Java <strong>Object</strong> type. The <code>version</code> <strong>element</strong> cannot be customized using <code>&lt;javaType ...&gt;</code> because it is not a <em>simple type definition</em>! Any attempt to use the customization will throw this exception:</p>\n<p><strong>Customization <code>anyType</code> with <code>javaType</code> will fail</strong></p>\n<pre><code>com.sun.istack.SAXParseException2:\n    compiler was unable to honor this javaType customization.\n    It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> It is inconsistent with <code>xs:anyType</code> used by an <strong>element</strong> when no XML type is defined because <code>xs:anyType</code> is a <em>complex type definition</em>.</p>\n</blockquote>\n<h4>Demonstration</h4>\n<p>This <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-notype-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">demo (zip)</a> can be downloaded, unpacked and run &quot;as-is&quot;. It is a stand-alone Maven project that uses the <em>HiSrc HigherJAXB Maven Plugin</em> to generate JAXB classes from an XML Schema when the schema contains elements without a specified XML type.</p>\n<p>You can run the demo and/or test(s) using:</p>\n<pre><code>mvn -Pexec clean compile exec:java -Dexec.args=&quot;src/test/samples/ParentElement.xml&quot;\nmvn -Ptest clean test\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/OUTPUT.txt\" rel=\"nofollow noreferrer\">output</a> shows the test(s) result.</p>\n<p>The demonstration project use the standard Maven layout plus optional <code>bash</code> scripts.</p>\n<p><strong>hisrc-higherjaxb-sample-notype</strong></p>\n<pre><code>├── build-cfg.sh\n├── build-inc.sh\n├── build.sh\n├── pom.xml\n├── README.md\n├── run.sh\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── org\n    │   │       └── example\n    │   │           ├── model\n    │   │           │   └── Version.java\n    │   │           └── notype\n    │   │               └── Main.java\n    │   └── resources\n    │       ├── org\n    │       │   └── example\n    │       │       └── model\n    │       │           └── jaxb.index\n    │       ├── SOME_OTHER_XSD.xsd\n    │       ├── XSD_IN_QUESTION.xjb\n    │       └── XSD_IN_QUESTION.xsd\n    └── test\n        ├── java\n        │   └── org\n        │       └── example\n        │           └── notype\n        │               └── NoTypeTest.java\n        ├── resources\n        │   ├── jvmsystem.arguments\n        │   ├── jvmsystem.properties\n        │   └── simplelogger.properties\n        └── samples\n            ├── ParentElement.xml\n            └── SomeOtherElement.xml\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> configures <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a> to use XJC extensions and an XJC <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">hisrc-hyperjaxb-annox-plugin</a> to customize the code generation. The customization includes:</p>\n<ul>\n<li>Adding <code>@XmlRootElement</code> to <code>ParentElement.java</code> and <code>SomeOtherElement.java</code></li>\n<li>Injecting <code>getVersion / setVersion</code> methods to implement the <code>String</code> conversion.</li>\n</ul>\n<p><strong>pom.xml</strong></p>\n<pre><code>...\n&lt;!-- mvn hisrc-higherjaxb:help -Ddetail=true --&gt;\n&lt;!-- mvn hisrc-higherjaxb:generate --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;extension&gt;true&lt;/extension&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xannotate&lt;/arg&gt;\n                    &lt;arg&gt;-Xinject-code&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n                        &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${hisrc-hyperjaxb-annox-plugin.version}&lt;/version&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n<p>The JAXB binding file customized the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xsd</a> schema by:</p>\n<ul>\n<li>Using <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">hisrc-hyperjaxb-annox-plugin</a> to add <code>@XmlRootElement</code></li>\n</ul>\n<ul>\n<li>Renaming the class per Java convention</li>\n</ul>\n<ul>\n<li>Renaming the property to <code>VersionElement</code> so it can be nicely wrapped</li>\n<li>Injecting code for the <code>Version</code> wrapper to get/set <code>java.lang.String</code></li>\n</ul>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a></p>\n<pre><code>...\n&lt;jxb:bindings schemaLocation=&quot;XSD_IN_QUESTION.xsd&quot;&gt;\n    &lt;jxb:bindings node=&quot;//xs:element[@name='PARENT_ELEMENT']/xs:complexType&quot;&gt;\n        &lt;anx:annotate&gt;@jakarta.xml.bind.annotation.XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)&lt;/anx:annotate&gt;\n        &lt;jxb:class name=&quot;ParentElement&quot;/&gt;\n        &lt;jxb:bindings node=&quot;//xs:element[@name='Version']&quot;&gt;\n            &lt;jxb:property name=&quot;VersionElement&quot;/&gt;\n        &lt;/jxb:bindings&gt;\n        &lt;ci:code&gt;\npublic String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\npublic void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\n        &lt;/ci:code&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n...\n</code></pre>\n<p>For testing, an XML instance of <code>PARENT_ELEMENT</code> provides a non-trivial representation of the <code>Version</code> element to emphasize that it is an <code>xs:anyType</code>. In fact, it can be an arbitrarily complex type, which provides some insight as to why the spec limits the <code>xs:javaType</code> binding to <em>simple type definition</em>, see <a href=\"https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\" rel=\"nofollow noreferrer\">JAXB v4.0, §7.8.2.1</a>.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/ParentElement.xml\" rel=\"nofollow noreferrer\">ParentElement.xml</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PARENT_ELEMENT xmlns:ns1=&quot;http://example.org/notype&quot;&gt;\n    &lt;ns1:Version xsi:type=&quot;version&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n        &lt;major&gt;10&lt;/major&gt;\n        &lt;minor&gt;2&lt;/minor&gt;\n    &lt;/ns1:Version&gt;\n&lt;/PARENT_ELEMENT&gt;\n</code></pre>\n<p>When JAXB unmarshals <code>PARENT_ELEMENT</code>, it uses a custom <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\" rel=\"nofollow noreferrer\">Version.java</a> implemented by the project and provided to the JAXB context. This class has its own namespace and demonstrates the flexibility of <code>xs:anyType</code>.</p>\n<blockquote>\n<p><strong>Note:</strong> A <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model/jaxb.index\" rel=\"nofollow noreferrer\">jaxb.index</a> resource file lists the non-schema-derived classes, namely the java to schema binding, in a package to register with <code>JAXBContext</code>.</p>\n</blockquote>\n<p>The custom class implements a constructor to parse a version using the standard format (i.e. &quot;10.2&quot;) into its major and minor parts. And a <code>toString()</code> method to return the major/minor parts as a version string.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\" rel=\"nofollow noreferrer\">Version.java</a></p>\n<pre><code>...\npublic Version(String version)\n{\n    if ( version != null )\n    {\n        String[] parts = version.split(&quot;\\\\.&quot;);\n        setMajor(parts[0]);\n        if ( parts.length &gt; 1 )\n            setMinor(parts[1]);\n    }\n}\n...\npublic String toString()\n{\n    return format(&quot;%s.%s&quot;,\n        ((getMajor() != null) ? getMajor() : &quot;0&quot;),\n        ((getMinor() != null) ? getMinor() : &quot;0&quot;)\n    );\n}\n...\n</code></pre>\n<p>XJC reads the binding file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a> and the XML schema <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xsd</a> to generate this class (and other classes):</p>\n<p><strong>ParentElement.java</strong></p>\n<pre><code>package org.example.notype;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;versionElement&quot; })\n@XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)\npublic class ParentElement implements Serializable\n{\n    private static final long serialVersionUID = 20230701L;\n\n    @XmlElement(name = &quot;Version&quot;, namespace = &quot;http://example.org/notype&quot;, required = true)\n    protected Object versionElement;\n\n    public Object getVersionElement() { return versionElement; }\n    public void setVersionElement(Object value) { this.versionElement = value; }\n\n    public String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\n    public void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\n}\n</code></pre>\n<p>The <code>ParentElement</code> class is bound to the root &quot;PARENT_ELEMENT&quot; and provides an <code>java.lang.Object</code> field to represent the &quot;Version&quot; sub-element. The sub-element is bound to the get/set <code>VersionElement</code> property which was custom named in the binding file.</p>\n<p>Finally, the <code>ParentElement</code> class provides an addition get/set <code>Version</code> property to wrap the JAXB bound property and perform the Object to String conversion.</p>\n<p>For usage, see <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype/Main.java\" rel=\"nofollow noreferrer\"><code>org.example.notype.Main</code></a> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype/NoTypeTest.java\" rel=\"nofollow noreferrer\"><code>org.example.notype.NoTypeTest</code></a>.</p>\n<p><em>Disclaimer:</em> I am the maintainer for the <em>Patrodyne HiSrc</em> projects.</p>\n\n"}],"owner":{"account_id":16764296,"reputation":11,"user_id":12118309,"display_name":"Jonas Seidl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690928148,"creation_date":1690548527,"question_id":76787970,"body_markdown":"I&#39;m trying to generate JAXB Classes with XJC and maven-jaxb2-plugin. It works, but if there is no type specified on the element in the .xsd it uses `Object` for the Java Type. I would like it to use `String` instead.\r\n\r\nThis is my binding file:\r\n```\r\n&lt;jxb:bindings\r\n        version=&quot;1.0&quot;\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n        xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\r\n\r\n    &lt;jxb:globalBindings typesafeEnumMaxMembers=&quot;1000&quot; collectionType=&quot;java.util.ArrayList&quot;&gt;\r\n        &lt;xjc:simple/&gt;\r\n    &lt;/jxb:globalBindings&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/SOME_OTHER_XSD.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name=&#39;SOME_OTHER_TYPE&#39;]&quot;&gt;\r\n            &lt;jxb:bindings node=&quot;.//xs:attribute[@name=&#39;Version&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;VersionAttribute&quot;/&gt;\r\n            &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/XSD_IN_QUESTION.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name=&#39;TYPE_IN_QUESTION&#39;]&quot;&gt;\r\n            &lt;jxb:bindings node=&quot;.//xs:element[@name=&#39;Version&#39;]&quot;&gt;\r\n                &lt;jxb:javaType name=&quot;java.lang.String&quot; parseMethod=&quot;javax.xml.bind.annotation.adapters.CollapsedStringAdapter&quot;/&gt;\r\n            &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\n\r\nThis is how my .xsd file is structured:\r\n```\r\n&lt;xs:schema\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:ns2=&quot;ns2&quot;\r\n        xmlns=&quot;ns&quot;\r\n        targetNamespace=&quot;ns&quot;\r\n        elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\r\n\r\n    &lt;xs:element name=&quot;PARENT_ELEMENT&quot; type=&quot;TYPE_IN_QUESTION&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;TYPE_IN_QUESTION&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Version&quot;/&gt; &lt;!-- No Type specified --&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nAnd this is the error I&#39;m getting:\r\n```\r\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/binding/binding.xjb{25,128}].\r\ncom.sun.istack.SAXParseException2: compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n...\r\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/xsd/XSD_IN_QUESTION.xsd{93,41}].\r\ncom.sun.istack.SAXParseException2: (the above customization is attached to the following location in the schema)\r\n```\r\n\r\nThe location in the second error is the version element in the xsd, so it at least finds the version, so the XPath should be right. I have no idea how to do this. Any help is much appreciated.\r\n\r\nI tried to put it in the `globalBindings` with a type as well but it didn&#39;t work there, so now I&#39;m trying to do it on one Element (before doing it everywhere else where needed, but would rather have a global solution if possible). I can change the .xsd but I would really rather not do that.","title":"JAXB XJC use String as type if there is no type set in xsd","body":"<p>I'm trying to generate JAXB Classes with XJC and maven-jaxb2-plugin. It works, but if there is no type specified on the element in the .xsd it uses <code>Object</code> for the Java Type. I would like it to use <code>String</code> instead.</p>\n<p>This is my binding file:</p>\n<pre><code>&lt;jxb:bindings\n        version=&quot;1.0&quot;\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n        xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\n\n    &lt;jxb:globalBindings typesafeEnumMaxMembers=&quot;1000&quot; collectionType=&quot;java.util.ArrayList&quot;&gt;\n        &lt;xjc:simple/&gt;\n    &lt;/jxb:globalBindings&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/SOME_OTHER_XSD.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name='SOME_OTHER_TYPE']&quot;&gt;\n            &lt;jxb:bindings node=&quot;.//xs:attribute[@name='Version']&quot;&gt;\n                &lt;jxb:property name=&quot;VersionAttribute&quot;/&gt;\n            &lt;/jxb:bindings&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/XSD_IN_QUESTION.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name='TYPE_IN_QUESTION']&quot;&gt;\n            &lt;jxb:bindings node=&quot;.//xs:element[@name='Version']&quot;&gt;\n                &lt;jxb:javaType name=&quot;java.lang.String&quot; parseMethod=&quot;javax.xml.bind.annotation.adapters.CollapsedStringAdapter&quot;/&gt;\n            &lt;/jxb:bindings&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>This is how my .xsd file is structured:</p>\n<pre><code>&lt;xs:schema\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:ns2=&quot;ns2&quot;\n        xmlns=&quot;ns&quot;\n        targetNamespace=&quot;ns&quot;\n        elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\n\n    &lt;xs:element name=&quot;PARENT_ELEMENT&quot; type=&quot;TYPE_IN_QUESTION&quot;/&gt;\n    &lt;xs:complexType name=&quot;TYPE_IN_QUESTION&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;Version&quot;/&gt; &lt;!-- No Type specified --&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>And this is the error I'm getting:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/binding/binding.xjb{25,128}].\ncom.sun.istack.SAXParseException2: compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\n...\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/xsd/XSD_IN_QUESTION.xsd{93,41}].\ncom.sun.istack.SAXParseException2: (the above customization is attached to the following location in the schema)\n</code></pre>\n<p>The location in the second error is the version element in the xsd, so it at least finds the version, so the XPath should be right. I have no idea how to do this. Any help is much appreciated.</p>\n<p>I tried to put it in the <code>globalBindings</code> with a type as well but it didn't work there, so now I'm trying to do it on one Element (before doing it everywhere else where needed, but would rather have a global solution if possible). I can change the .xsd but I would really rather not do that.</p>\n"},{"tags":["java","floating-point","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":13639,"reputation":13793,"user_id":27536,"display_name":"Jordan S. Jones"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1243590889,"creation_date":1243590889,"answer_id":925248,"question_id":925232,"body_markdown":"It&#39;s the implicit `.toString()` conversion that is happening when you pass the result into `System.out.println()`.","title":"Why does Java BigDecimal return 1E+1?","body":"<p>It's the implicit <code>.toString()</code> conversion that is happening when you pass the result into <code>System.out.println()</code>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1243591260,"creation_date":1243590905,"answer_id":925249,"question_id":925232,"body_markdown":"use [bigDecimal.toPlainString()][1]:\r\n\r\n     BigDecimal bigDecimal = BigDecimal.valueOf(100000.0)\r\n                         .multiply(BigDecimal.valueOf(100d))\r\n                         .stripTrailingZeros();\r\n     System.out.println(&quot;plain      : &quot; + bigDecimal.toPlainString());\r\n     System.out.println(&quot;scientific : &quot; + bigDecimal.toEngineeringString());\r\n\r\noutputs:\r\n\r\n&lt;pre&gt;\r\nplain      : 10000000\r\nscientific : 10E+6\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#toPlainString()","title":"Why does Java BigDecimal return 1E+1?","body":"<p>use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#toPlainString()\" rel=\"noreferrer\">bigDecimal.toPlainString()</a>:</p>\n\n<pre><code> BigDecimal bigDecimal = BigDecimal.valueOf(100000.0)\n                     .multiply(BigDecimal.valueOf(100d))\n                     .stripTrailingZeros();\n System.out.println(\"plain      : \" + bigDecimal.toPlainString());\n System.out.println(\"scientific : \" + bigDecimal.toEngineeringString());\n</code></pre>\n\n<p>outputs:</p>\n\n<pre>\nplain      : 10000000\nscientific : 10E+6\n</pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1243591265,"creation_date":1243591265,"answer_id":925271,"question_id":925232,"body_markdown":"The exact rationale for the behaviour of `BigDecimal.toString()` is explained in the [API doc][1] in great (and near incomprehensible) detail.\r\n\r\nTo get a consistent (and locale-sensitive) textual representation, you should use [DecimalFormat][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html#toString()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html","title":"Why does Java BigDecimal return 1E+1?","body":"<p>The exact rationale for the behaviour of <code>BigDecimal.toString()</code> is explained in the <a href=\"http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html#toString()\" rel=\"nofollow noreferrer\">API doc</a> in great (and near incomprehensible) detail.</p>\n\n<p>To get a consistent (and locale-sensitive) textual representation, you should use <a href=\"http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1243594112,"creation_date":1243594112,"answer_id":925413,"question_id":925232,"body_markdown":"It&#39;s basically because you don&#39;t have enough significant digits. If you multiply something that only has 1 significant digit with 100, then you get something with only 1 significant digit. If it shows &quot;10&quot; then that basically says that it has 2 significant digits. The way to show it only has 1 significant digit is to show &quot;1 x 10^1&quot;.\r\n\r\nThe following two decimals have the same value (10), but different &quot;scales&quot; (where they start counting significant digits; the top has 2 sig figs, the bottom has 1):\r\n\r\n    System.out.println(new BigDecimal(BigInteger.TEN, 0));  // prints 10\r\n    System.out.println(new BigDecimal(BigInteger.ONE, -1)); // prints 1E+1\r\n","title":"Why does Java BigDecimal return 1E+1?","body":"<p>It's basically because you don't have enough significant digits. If you multiply something that only has 1 significant digit with 100, then you get something with only 1 significant digit. If it shows \"10\" then that basically says that it has 2 significant digits. The way to show it only has 1 significant digit is to show \"1 x 10^1\".</p>\n\n<p>The following two decimals have the same value (10), but different \"scales\" (where they start counting significant digits; the top has 2 sig figs, the bottom has 1):</p>\n\n<pre><code>System.out.println(new BigDecimal(BigInteger.TEN, 0));  // prints 10\nSystem.out.println(new BigDecimal(BigInteger.ONE, -1)); // prints 1E+1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514046,"reputation":749,"user_id":3669400,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690927693,"creation_date":1690927693,"answer_id":76815478,"question_id":925232,"body_markdown":"if you have a BigDecimal where the scale may not match your intended output, but you want to print the canonical value:\r\n\r\n    BigDecimal value = new BigDecimal(&quot;10.00&quot;);\r\n    \r\n    System.out.println(value.toPlainString());  //prints &quot;10.00&quot;\r\n\r\n\r\nand want it to print just &quot;10&quot;. You get &quot;10.00&quot; because the scale is set to 2.\r\n\r\nIf you just use **value.stripTrailingZeros()**, then it prints &quot;1E+1&quot;.\r\n\r\n    System.out.println(value.stripTrailingZeros());  // prints &quot;1E+1&quot;\r\n\r\nSo combine the strip zeros and the plain string to the strip zeros fixes the scale and the plain part prints the normal way:\r\n\r\n    System.out.println(value.stripTrailingZeros().toPlainString());  //prints &quot;10&quot;\r\n\r\nWill print &quot;10&quot;.\r\n\r\nThis could happen when the value is in a relational database and mapped in or perhaps by some other manipulation or operation.\r\n","title":"Why does Java BigDecimal return 1E+1?","body":"<p>if you have a BigDecimal where the scale may not match your intended output, but you want to print the canonical value:</p>\n<pre><code>BigDecimal value = new BigDecimal(&quot;10.00&quot;);\n\nSystem.out.println(value.toPlainString());  //prints &quot;10.00&quot;\n</code></pre>\n<p>and want it to print just &quot;10&quot;. You get &quot;10.00&quot; because the scale is set to 2.</p>\n<p>If you just use <strong>value.stripTrailingZeros()</strong>, then it prints &quot;1E+1&quot;.</p>\n<pre><code>System.out.println(value.stripTrailingZeros());  // prints &quot;1E+1&quot;\n</code></pre>\n<p>So combine the strip zeros and the plain string to the strip zeros fixes the scale and the plain part prints the normal way:</p>\n<pre><code>System.out.println(value.stripTrailingZeros().toPlainString());  //prints &quot;10&quot;\n</code></pre>\n<p>Will print &quot;10&quot;.</p>\n<p>This could happen when the value is in a relational database and mapped in or perhaps by some other manipulation or operation.</p>\n"}],"owner":{"account_id":21771,"reputation":3198,"user_id":53191,"accept_rate":94,"display_name":"parkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22509,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":925249,"answer_count":5,"score":29,"last_activity_date":1690927693,"creation_date":1243590663,"question_id":925232,"body_markdown":"Why does this code sometimes return 1E+1 whilst for other inputs (e.g. 17) the output is not printed in scientific notation?\r\n\r\n    BigDecimal bigDecimal = BigDecimal.valueOf(doubleValue).multiply(BigDecimal.valueOf(100d)).stripTrailingZeros();\r\n    System.out.println(&quot;value: &quot; + bigDecimal);","title":"Why does Java BigDecimal return 1E+1?","body":"<p>Why does this code sometimes return 1E+1 whilst for other inputs (e.g. 17) the output is not printed in scientific notation?</p>\n\n<pre><code>BigDecimal bigDecimal = BigDecimal.valueOf(doubleValue).multiply(BigDecimal.valueOf(100d)).stripTrailingZeros();\nSystem.out.println(\"value: \" + bigDecimal);\n</code></pre>\n"},{"tags":["java","android","libgdx","truetype","android-fonts"],"comments":[{"owner":{"account_id":6677355,"reputation":3705,"user_id":5151575,"accept_rate":83,"display_name":"Enigo"},"score":0,"creation_date":1502695658,"post_id":45308860,"comment_id":78296034,"body_markdown":"what font do you use?","body":"what font do you use?"},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1690839836,"post_id":45308860,"comment_id":135406373,"body_markdown":"I don&#39;t see artifacts in your image, could you be more explicit?","body":"I don&#39;t see artifacts in your image, could you be more explicit?"}],"answers":[{"tags":[],"owner":{"account_id":17291538,"reputation":24,"user_id":12523010,"display_name":"KoLivanas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690927045,"creation_date":1690927045,"answer_id":76815433,"question_id":45308860,"body_markdown":"\r\n    FreeTypeFontGenerator generator = new        \r\n    FreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\r\n    FreeTypeFontGenerator.FreeTypeFontParameter parameter = new    \r\n    FreeTypeFontGenerator.FreeTypeFontParameter();\r\n    parameter.size = 300;\r\n    parameter.color = Color.WHITE;\r\n    parameter.characters = &quot;0123456789&quot;;\r\n    parameter.kerning = true;\r\n\r\ntry these settings\r\n\r\n    parameter.padTop = 5;\r\n    parameter.padLeft = 5;\r\n    parameter.padBottom = 5;\r\n    parameter.padRight = 5;\r\n\r\n    parameter.magFilter = Texture.TextureFilter.Linear;\r\n    parameter.minFilter = Texture.TextureFilter.Linear;\r\n    parameter.genMipMaps = false;\r\n\r\n    font = generator.generateFont(parameter);","title":"libGDX freetypefont artifacts","body":"<pre><code>FreeTypeFontGenerator generator = new        \nFreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\nFreeTypeFontGenerator.FreeTypeFontParameter parameter = new    \nFreeTypeFontGenerator.FreeTypeFontParameter();\nparameter.size = 300;\nparameter.color = Color.WHITE;\nparameter.characters = &quot;0123456789&quot;;\nparameter.kerning = true;\n</code></pre>\n<p>try these settings</p>\n<pre><code>parameter.padTop = 5;\nparameter.padLeft = 5;\nparameter.padBottom = 5;\nparameter.padRight = 5;\n\nparameter.magFilter = Texture.TextureFilter.Linear;\nparameter.minFilter = Texture.TextureFilter.Linear;\nparameter.genMipMaps = false;\n\nfont = generator.generateFont(parameter);\n</code></pre>\n"}],"owner":{"account_id":11089037,"reputation":85,"user_id":8141642,"display_name":"Seppo Kulli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690927045,"creation_date":1500999997,"question_id":45308860,"body_markdown":"When creating a `BitmapFont` in libGDX from a .ttf file with `FreeTypeFontGenerator` the resulting font has serious artifacts around it:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K6x9r.png\r\n\r\nThose artifacts only appear when using mipmapping, so does it have something to do with transparent pixels? I have tried adding padding to the resulting font, but it does not work. I also tried using linear filtering but the resulting font looks pixelated.\r\n\r\nCode I am using to generate the fonts:\r\n\r\n    FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\r\n\t\tFreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\r\n\t\tparameter.size = 300;\r\n\t\tparameter.color = Color.WHITE;\r\n\t\tparameter.characters = &quot;0123456789&quot;;\r\n\t\tparameter.kerning = true;\r\n\t\tparameter.magFilter = Texture.TextureFilter.MipMapLinearLinear;\r\n\t\tparameter.minFilter = Texture.TextureFilter.MipMapLinearLinear;\r\n\t\tparameter.genMipMaps = true;\r\n\r\n    font = generator.generateFont(parameter);\r\n\r\n","title":"libGDX freetypefont artifacts","body":"<p>When creating a <code>BitmapFont</code> in libGDX from a .ttf file with <code>FreeTypeFontGenerator</code> the resulting font has serious artifacts around it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/K6x9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6x9r.png\" alt=\"enter image description here\"></a></p>\n\n<p>Those artifacts only appear when using mipmapping, so does it have something to do with transparent pixels? I have tried adding padding to the resulting font, but it does not work. I also tried using linear filtering but the resulting font looks pixelated.</p>\n\n<p>Code I am using to generate the fonts:</p>\n\n<pre><code>FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(\"font.ttf\"));\n    FreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n    parameter.size = 300;\n    parameter.color = Color.WHITE;\n    parameter.characters = \"0123456789\";\n    parameter.kerning = true;\n    parameter.magFilter = Texture.TextureFilter.MipMapLinearLinear;\n    parameter.minFilter = Texture.TextureFilter.MipMapLinearLinear;\n    parameter.genMipMaps = true;\n\nfont = generator.generateFont(parameter);\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690395644,"post_id":76774006,"comment_id":135349202,"body_markdown":"What does a `refresh()` entail?","body":"What does a <code>refresh()</code> entail?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1690395829,"post_id":76774006,"comment_id":135349243,"body_markdown":"The architecture overall has some downsides. The class provided is not really a singleton, but a utility-class, only providing `static` methods. The fact that the static fields are not `final` indicate that `vara`, `varb` and `varc` are not singletons either.","body":"The architecture overall has some downsides. The class provided is not really a singleton, but a utility-class, only providing <code>static</code> methods. The fact that the static fields are not <code>final</code> indicate that <code>vara</code>, <code>varb</code> and <code>varc</code> are not singletons either."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1690400170,"post_id":76774006,"comment_id":135349994,"body_markdown":"The direct approach without architecture changes: add a `ReadWriteLock`/`StampedLock` for these. With design changes, you could maintain a container for these references, and swap the _entire_ container in one operation with the new values. Remember that `static` is typically a tool for memory/optimization, not for interface management / simplicity of access.","body":"The direct approach without architecture changes: add a <code>ReadWriteLock</code>/<code>StampedLock</code> for these. With design changes, you could maintain a container for these references, and swap the <i>entire</i> container in one operation with the new values. Remember that <code>static</code> is typically a tool for memory/optimization, not for interface management / simplicity of access."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690424364,"post_id":76774006,"comment_id":135353081,"body_markdown":"If it only has static variables why is it a singleton at all? You don&#39;t need to instantiate it.","body":"If it only has static variables why is it a singleton at all? You don&#39;t need to instantiate it."},{"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"score":0,"creation_date":1690635864,"post_id":76774006,"comment_id":135382900,"body_markdown":"@Turing85 In refresh I am constructing Container Object through a Builder and assigning the created object to Container reference variable.","body":"@Turing85 In refresh I am constructing Container Object through a Builder and assigning the created object to Container reference variable."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690411897,"creation_date":1690411897,"answer_id":76775515,"question_id":76774006,"body_markdown":"Protecting `static` variables is no different from protecting any other variables. Use `synchronized` blocks when accessing them.  Normally you would `synchronize` on a `final` lock object that is declared in the same scope, and with the same extent as the variables that you are trying to protect. E.g.;\r\n\r\n``` lang-java\r\nstatic FooType foo;\r\nstatic BarType bar;\r\nstatic BazType baz;\r\n\r\n// Only access foo, bar, and baz from within synchronized(lock) {...}.\r\nfinal static Object lock = new Object();\r\n```\r\n\r\nIf you&#39;re doing some kind of sophisticated trickery\\* where `synchronized` doesn&#39;t work for you, then you may need to up the ante, and use a [`ReentrantLock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html).\r\n\r\n----------------\r\n\r\n\\*But of course, if you were planning anything so sophisticated, then you probably would not be asking your question here.","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<p>Protecting <code>static</code> variables is no different from protecting any other variables. Use <code>synchronized</code> blocks when accessing them.  Normally you would <code>synchronize</code> on a <code>final</code> lock object that is declared in the same scope, and with the same extent as the variables that you are trying to protect. E.g.;</p>\n<pre class=\"lang-java prettyprint-override\"><code>static FooType foo;\nstatic BarType bar;\nstatic BazType baz;\n\n// Only access foo, bar, and baz from within synchronized(lock) {...}.\nfinal static Object lock = new Object();\n</code></pre>\n<p>If you're doing some kind of sophisticated trickery* where <code>synchronized</code> doesn't work for you, then you may need to up the ante, and use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\"><code>ReentrantLock</code></a>.</p>\n<hr />\n<p>*But of course, if you were planning anything so sophisticated, then you probably would not be asking your question here.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690926635,"creation_date":1690898257,"answer_id":76812407,"question_id":76774006,"body_markdown":"&gt; Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\r\n\r\nGood idea to put the fields into a single wrapper immutable object.  Then each thread with see a fully constructed wrapper object.  The race condition however is that they may see the previous wrapper object or the newly refreshed wrapper.  If each thread _must_ see the most updated version then you should use `AtomicReference` or just make the `static Wrapper` field be `volatile` so that any updates are published immediately and any access to the wrapper sees the most recently refreshed version.  Typically the cost of the `volatile` memory barrier is low enough that it won&#39;t be detectable.  Be careful of premature optimization.\r\n\r\nHowever, you can also allow lazy refreshing to happen if that is appropriate to your application.  If your threads cross other memory barriers or if they have cache update hardware then they will get the new wrapper object at some point just no guarantees about how fast.  This may be required if this wrapper object is referenced often by the threads.\r\n\r\nSo if it is critical logic then pay for the `AtomicReference` but if it is informational or something that is accessed super often then a lazy update may be appropriate.\r\n","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<blockquote>\n<p>Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?</p>\n</blockquote>\n<p>Good idea to put the fields into a single wrapper immutable object.  Then each thread with see a fully constructed wrapper object.  The race condition however is that they may see the previous wrapper object or the newly refreshed wrapper.  If each thread <em>must</em> see the most updated version then you should use <code>AtomicReference</code> or just make the <code>static Wrapper</code> field be <code>volatile</code> so that any updates are published immediately and any access to the wrapper sees the most recently refreshed version.  Typically the cost of the <code>volatile</code> memory barrier is low enough that it won't be detectable.  Be careful of premature optimization.</p>\n<p>However, you can also allow lazy refreshing to happen if that is appropriate to your application.  If your threads cross other memory barriers or if they have cache update hardware then they will get the new wrapper object at some point just no guarantees about how fast.  This may be required if this wrapper object is referenced often by the threads.</p>\n<p>So if it is critical logic then pay for the <code>AtomicReference</code> but if it is informational or something that is accessed super often then a lazy update may be appropriate.</p>\n"}],"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76812407,"answer_count":2,"score":0,"last_activity_date":1690926635,"creation_date":1690395093,"question_id":76774006,"body_markdown":"I have a singleton class with multiple static variables and a refresh method to change their values. eg.\r\n```\r\nClass Singleton {\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable vara;\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable varb;\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable varc;\r\n\r\npublic void refresh() {\r\n//refreshes the values of vara, varb, varc;\r\n}\r\n```\r\nThis singleton class is accessed in a service class where the variables are accessed.\r\nHow can I make the process of refresh thread safe so that refresh doesn&#39;t happen between two accesses? eg.\r\n---&gt;access vara ---&gt; refresh ---&gt; access varb.&lt;br/&gt;\r\nMy app is deployed on tomcat.\r\n\r\nUPDATE: As recommended in the comments, I have modified the class to contain all the three reference variables in a single container class and made them immutable. Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\r\nNew class:\r\n```\r\nClass Singleton {\r\nprivate Container container;//contains immutable invariants\r\n\r\npublic Container getContainer() {\r\n    return this.container;\r\n}\r\nvoid init() {\r\n// sets initial values for the container object\r\n}\r\npublic void refresh() {\r\n// updates the container reference\r\n}","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<p>I have a singleton class with multiple static variables and a refresh method to change their values. eg.</p>\n<pre><code>Class Singleton {\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable vara;\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable varb;\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable varc;\n\npublic void refresh() {\n//refreshes the values of vara, varb, varc;\n}\n</code></pre>\n<p>This singleton class is accessed in a service class where the variables are accessed.\nHow can I make the process of refresh thread safe so that refresh doesn't happen between two accesses? eg.\n---&gt;access vara ---&gt; refresh ---&gt; access varb.<br/>\nMy app is deployed on tomcat.</p>\n<p>UPDATE: As recommended in the comments, I have modified the class to contain all the three reference variables in a single container class and made them immutable. Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\nNew class:</p>\n<pre><code>Class Singleton {\nprivate Container container;//contains immutable invariants\n\npublic Container getContainer() {\n    return this.container;\n}\nvoid init() {\n// sets initial values for the container object\n}\npublic void refresh() {\n// updates the container reference\n}\n</code></pre>\n"},{"tags":["java","authentication","authorization"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1690944358,"post_id":76815396,"comment_id":135422082,"body_markdown":"why don&#39;t you use java to do the login?","body":"why don&#39;t you use java to do the login?"},{"owner":{"account_id":5788522,"reputation":135,"user_id":4566875,"accept_rate":29,"display_name":"Fullstack"},"score":0,"creation_date":1690985046,"post_id":76815396,"comment_id":135429355,"body_markdown":"Because I want to avoid typing of login/password again and again in different places and &quot;I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site&quot;","body":"Because I want to avoid typing of login/password again and again in different places and &quot;I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site&quot;"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1691023743,"post_id":76815396,"comment_id":135435998,"body_markdown":"I think you are missing the point.  Using Java API https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html you can get the same information that the browser does (After all, the browser is just an application).  Otherwise you could try to use something like selenium.","body":"I think you are missing the point.  Using Java API <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.net.http/jav&zwnj;&#8203;a/&hellip;</a> you can get the same information that the browser does (After all, the browser is just an application).  Otherwise you could try to use something like selenium."}],"owner":{"account_id":5788522,"reputation":135,"user_id":4566875,"accept_rate":29,"display_name":"Fullstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690926593,"creation_date":1690926593,"question_id":76815396,"body_markdown":"I need to add to my Java app [Login via MySite.com] button (like for example in Figma).\r\n\r\n1. Browser is opening\r\n2. User signed in on my site to his profile\r\n3. Then my site return him back to app (and tells user&#39;s session id on my site to app)\r\n\r\nI want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site.\r\n\r\nHow to do that? I searched Google a lot, but found nothing about this authorization kind.","title":"How to add &quot;Login via MySite.com&quot; button to Java app? Browser is opening, user signed in and then site return him back to app (with session id)","body":"<p>I need to add to my Java app [Login via MySite.com] button (like for example in Figma).</p>\n<ol>\n<li>Browser is opening</li>\n<li>User signed in on my site to his profile</li>\n<li>Then my site return him back to app (and tells user's session id on my site to app)</li>\n</ol>\n<p>I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site.</p>\n<p>How to do that? I searched Google a lot, but found nothing about this authorization kind.</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":61526,"reputation":1921,"user_id":183328,"display_name":"Luke Hutteman"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1288899156,"creation_date":1288899156,"answer_id":4100507,"question_id":4100486,"body_markdown":"You need to create a new HashMap for every entry, instead of reusing the existing one. This would work:\r\n\r\n    HashMap mMap = new HashMap();\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;text&quot;,&quot;yes&quot;);\r\n    list.add(mMap); \r\n    mMap = new HashMap(); // create a new one!\r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n    list.add(mMap); \r\n\r\nalso, you can remove the `list.add(new HashMap());` as that adds an empty map to your list that is never populated.\r\n","title":"Java: create a list of HashMaps","body":"<p>You need to create a new HashMap for every entry, instead of reusing the existing one. This would work:</p>\n\n<pre><code>HashMap mMap = new HashMap();\nmMap.put(\"start\",1);\nmMap.put(\"text\",\"yes\");\nlist.add(mMap); \nmMap = new HashMap(); // create a new one!\nmMap.put(\"start\",2);\nmMap.put(\"text\",\"no\");\nlist.add(mMap); \n</code></pre>\n\n<p>also, you can remove the <code>list.add(new HashMap());</code> as that adds an empty map to your list that is never populated.</p>\n"},{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1288899196,"creation_date":1288899196,"answer_id":4100516,"question_id":4100486,"body_markdown":"You are never saving a reference to this Map:\r\n\r\n    list.add(new HashMap());","title":"Java: create a list of HashMaps","body":"<p>You are never saving a reference to this Map:</p>\n\n<pre><code>list.add(new HashMap());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288899223,"creation_date":1288899223,"answer_id":4100520,"question_id":4100486,"body_markdown":"have three adds to the list.  the first add is to a new map instance; you never set any values. The second add you pass in a reference to nMap, which has 1, yes.  The third add you pass the same reference.  So the Map now has 3 references, the first to a map you never added any values to, the next 2 to the same map.  which is why you get the same output.","title":"Java: create a list of HashMaps","body":"<p>have three adds to the list.  the first add is to a new map instance; you never set any values. The second add you pass in a reference to nMap, which has 1, yes.  The third add you pass the same reference.  So the Map now has 3 references, the first to a map you never added any values to, the next 2 to the same map.  which is why you get the same output.</p>\n"},{"tags":[],"owner":{"account_id":153802,"reputation":8942,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288899403,"creation_date":1288899403,"answer_id":4100542,"question_id":4100486,"body_markdown":"Yes, hash map from this piece of code \r\n\r\n    list.add(new HashMap());\r\nis never referenced. So eventually you get a list of 3 items, 2 of which are identical however.","title":"Java: create a list of HashMaps","body":"<p>Yes, hash map from this piece of code </p>\n\n<pre><code>list.add(new HashMap());\n</code></pre>\n\n<p>is never referenced. So eventually you get a list of 3 items, 2 of which are identical however.</p>\n"},{"tags":[],"owner":{"account_id":89111,"reputation":12252,"user_id":246041,"accept_rate":89,"display_name":"Prine"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1288899830,"creation_date":1288899830,"answer_id":4100611,"question_id":4100486,"body_markdown":"Something which is maybe also worth mention it, is that you should define the type of the elements you use in the *List*, for the HashMap its not possible because you are mixing *Integers* and *Strings*.\r\n\r\nAnd another thing is that you should use the *List* interface as type, so you are able to change the implementation (*ArrayList* or whatever) in the future.\r\n\r\nHere the corrected code:\r\n\r\n    Map mMap = new HashMap();\r\n    List&lt;Map&gt; list = new ArrayList();\r\n\r\n","title":"Java: create a list of HashMaps","body":"<p>Something which is maybe also worth mention it, is that you should define the type of the elements you use in the <em>List</em>, for the HashMap its not possible because you are mixing <em>Integers</em> and <em>Strings</em>.</p>\n\n<p>And another thing is that you should use the <em>List</em> interface as type, so you are able to change the implementation (<em>ArrayList</em> or whatever) in the future.</p>\n\n<p>Here the corrected code:</p>\n\n<pre><code>Map mMap = new HashMap();\nList&lt;Map&gt; list = new ArrayList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3395798,"reputation":3700,"user_id":2849458,"accept_rate":52,"display_name":"M.ArslanKhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566374036,"creation_date":1566374036,"answer_id":57586908,"question_id":4100486,"body_markdown":"When you put the same key name in the map then values will be overridden to same key.\r\nsuppose we have \r\n\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;start&quot;,3);\r\n    mMap.put(&quot;start&quot;,4);\r\n\r\nit will not make map of length 4, as the key(&quot;start&quot;) is same so it will override the values on the same key. so you will get the get only one value (4) against &quot;start&quot; key.\r\nTo avoid this you will have to change the name of keys in a hashmap but in your scenaro, you need an other instance of hashmap to save the key and values as you are maintaining the arralist.\r\n","title":"Java: create a list of HashMaps","body":"<p>When you put the same key name in the map then values will be overridden to same key.\nsuppose we have </p>\n\n<pre><code>mMap.put(\"start\",1);\nmMap.put(\"start\",2);\nmMap.put(\"start\",3);\nmMap.put(\"start\",4);\n</code></pre>\n\n<p>it will not make map of length 4, as the key(\"start\") is same so it will override the values on the same key. so you will get the get only one value (4) against \"start\" key.\nTo avoid this you will have to change the name of keys in a hashmap but in your scenaro, you need an other instance of hashmap to save the key and values as you are maintaining the arralist.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690926333,"creation_date":1690926333,"answer_id":76815377,"question_id":4100486,"body_markdown":"You need to address a couple of things:\r\n\r\n- _`list.add(new HashMap());`_: Adds a new `HashMap()` to the list which is never populated.\r\n- These lines:\r\n\r\n\t  mMap.put(&quot;start&quot;,2);\r\n\t  mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n\t  \r\n  Overrides the _`key`_, _`value`_ pairs of the `mMap` object.\r\n  \r\n- _`list.add(mMap);`_ adds a duplicate entry of the first entry.\r\n\r\nHence you see two similar entries as:\r\n\r\n    [{start=2,text=no}, {start=2,text=no}]\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo create a _list_ of _HashMaps_ you have to create the _HashMaps_ seperately and add to the list as follows:\r\n\r\n\tHashMap mMap1 = new HashMap();\r\n\tmMap1.put(&quot;start&quot;, 1);\r\n\tmMap1.put(&quot;text&quot;, &quot;yes&quot;);\r\n\tHashMap mMap2 = new HashMap();\r\n\tmMap2.put(&quot;start&quot;, 2);\r\n\tmMap2.put(&quot;text&quot;, &quot;no&quot;);\r\n\tArrayList list = new ArrayList();\r\n\tlist.add(mMap1);\r\n\tlist.add(mMap2);\r\n\tSystem.out.println(list); //output: [{start=1, text=yes}, {start=2, text=no}]","title":"Java: create a list of HashMaps","body":"<p>You need to address a couple of things:</p>\n<ul>\n<li><p><em><code>list.add(new HashMap());</code></em>: Adds a new <code>HashMap()</code> to the list which is never populated.</p>\n</li>\n<li><p>These lines:</p>\n<pre><code>mMap.put(&quot;start&quot;,2);\nmMap.put(&quot;text&quot;,&quot;no&quot;);\n</code></pre>\n<p>Overrides the <em><code>key</code></em>, <em><code>value</code></em> pairs of the <code>mMap</code> object.</p>\n</li>\n<li><p><em><code>list.add(mMap);</code></em> adds a duplicate entry of the first entry.</p>\n</li>\n</ul>\n<p>Hence you see two similar entries as:</p>\n<pre><code>[{start=2,text=no}, {start=2,text=no}]\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>To create a <em>list</em> of <em>HashMaps</em> you have to create the <em>HashMaps</em> seperately and add to the list as follows:</p>\n<pre><code>HashMap mMap1 = new HashMap();\nmMap1.put(&quot;start&quot;, 1);\nmMap1.put(&quot;text&quot;, &quot;yes&quot;);\nHashMap mMap2 = new HashMap();\nmMap2.put(&quot;start&quot;, 2);\nmMap2.put(&quot;text&quot;, &quot;no&quot;);\nArrayList list = new ArrayList();\nlist.add(mMap1);\nlist.add(mMap2);\nSystem.out.println(list); //output: [{start=1, text=yes}, {start=2, text=no}]\n</code></pre>\n"}],"owner":{"account_id":119857,"reputation":2592,"user_id":311884,"accept_rate":94,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121245,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4100507,"answer_count":7,"score":16,"last_activity_date":1690926333,"creation_date":1288898994,"question_id":4100486,"body_markdown":"I tried to create a list of maps.  In the following code, I&#39;m expecting to get \r\n\r\n    [{start=1,text=ye}, {start=2,text=no}]\r\n\r\nhowever, I only got\r\n\r\n    [{start=2,text=no}, {start=2,text=no}]\r\n\r\n\r\nHow to avoid overriding the first map?  Here is my code: \r\n\r\n    HashMap mMap = new HashMap();\r\n    ArrayList list = new ArrayList();\r\n    list.add(new HashMap());\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;text&quot;,&quot;yes&quot;);\r\n    list.add(mMap); \r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n    list.add(mMap); \r\n    System.out.println(&quot;Final result: &quot; + list );\r\n\r\nthanks!\r\n\r\n==========================\r\n\r\nAs a learner of Java who came from a procedure language background (SAS), I spent quite a few hours learning and experimenting ArrayList, LinkedList, Map, LinkedMap, etc--- I coldn&#39;t get it to work. And I don&#39;t understand why with my limited knowledge. Now, these following answers are all excellent!  They explained very important data structure in Java, at least for me.\r\n\r\nTHANK YOU ALL!!!!","title":"Java: create a list of HashMaps","body":"<p>I tried to create a list of maps.  In the following code, I'm expecting to get </p>\n\n<pre><code>[{start=1,text=ye}, {start=2,text=no}]\n</code></pre>\n\n<p>however, I only got</p>\n\n<pre><code>[{start=2,text=no}, {start=2,text=no}]\n</code></pre>\n\n<p>How to avoid overriding the first map?  Here is my code: </p>\n\n<pre><code>HashMap mMap = new HashMap();\nArrayList list = new ArrayList();\nlist.add(new HashMap());\nmMap.put(\"start\",1);\nmMap.put(\"text\",\"yes\");\nlist.add(mMap); \nmMap.put(\"start\",2);\nmMap.put(\"text\",\"no\");\nlist.add(mMap); \nSystem.out.println(\"Final result: \" + list );\n</code></pre>\n\n<p>thanks!</p>\n\n<p>==========================</p>\n\n<p>As a learner of Java who came from a procedure language background (SAS), I spent quite a few hours learning and experimenting ArrayList, LinkedList, Map, LinkedMap, etc--- I coldn't get it to work. And I don't understand why with my limited knowledge. Now, these following answers are all excellent!  They explained very important data structure in Java, at least for me.</p>\n\n<p>THANK YOU ALL!!!!</p>\n"},{"tags":["java","spring","spring-boot","jackson","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":13031484,"reputation":105,"user_id":9417714,"display_name":"piyush tyagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564745789,"creation_date":1564745789,"answer_id":57325743,"question_id":57325466,"body_markdown":"No validation will work the way you are using it, you need to put @valid on the object inside your request object, but since you dont have control on that class the other way around is extend Request object and  override getData method and apply @valid on that method, it should work that way.","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>No validation will work the way you are using it, you need to put @valid on the object inside your request object, but since you dont have control on that class the other way around is extend Request object and  override getData method and apply @valid on that method, it should work that way.</p>\n"},{"tags":[],"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564746377,"creation_date":1564745904,"answer_id":57325771,"question_id":57325466,"body_markdown":"First use `@NotEmpty`, `@Notblank` for Strings. Then ensure you import `javax.validation.constraints` not that of hibernate. If you are using a custom validator, you will need `(final BindingResult bindingResult)` as part of your controller method variable. ","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>First use <code>@NotEmpty</code>, <code>@Notblank</code> for Strings. Then ensure you import <code>javax.validation.constraints</code> not that of hibernate. If you are using a custom validator, you will need <code>(final BindingResult bindingResult)</code> as part of your controller method variable. </p>\n"},{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1564750101,"creation_date":1564746738,"answer_id":57325978,"question_id":57325466,"body_markdown":"Validation would&#39;ve worked if the `Request` class was like;\r\n\r\n    public class Request {\r\n        \r\n        @Valid\r\n        StudentSignUpRequest data;\r\n\r\n        // other stuff\r\n    }\r\n\r\nThe fact that you have no class type for `data` makes it impossible for validation to be applied on it, ignoring the fact that there isn&#39;t even a [`@Valid`](https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html) annotation on the field. The `@Valid` annotation is used to propagate the validation cascade.\r\n\r\nBut since you cannot modify `Request` object, let&#39;s continue with another way to handle validation without doing it manually.\r\n\r\n----------\r\n\r\nAnother way is to trigger validation after you get the `StudentSignUpRequest` from `request` object;\r\n\r\n    StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\r\n    loginRegistrationService.signUpStudent(signUpRequest) // validation will trigger with this call\r\n\r\nWhat you can do is as follows;\r\n\r\n    @Service\r\n    @Validated\r\n    public class LoginRegistrationService {\r\n    \r\n        public void signUpStudent(@Valid StudentSignUpRequest signUpRequest) {\r\n            // some logic\r\n        }\r\n    }\r\n\r\nwith [`@Validated`][1] annotation, you will activate the validation check for any `@Valid` annotated args in `public` methods within that class. \r\n\r\n&gt; Can be used with method level validation, indicating that a\r\n&gt; specific class is supposed to be validated at the method level (acting\r\n&gt; as a pointcut for the corresponding validation interceptor)\r\n\r\nThis can be costly since you&#39;d want to get any constraint violation as soon as possible without doing any costly jobs for an already doomed request.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>Validation would've worked if the <code>Request</code> class was like;</p>\n\n<pre><code>public class Request {\n\n    @Valid\n    StudentSignUpRequest data;\n\n    // other stuff\n}\n</code></pre>\n\n<p>The fact that you have no class type for <code>data</code> makes it impossible for validation to be applied on it, ignoring the fact that there isn't even a <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"noreferrer\"><code>@Valid</code></a> annotation on the field. The <code>@Valid</code> annotation is used to propagate the validation cascade.</p>\n\n<p>But since you cannot modify <code>Request</code> object, let's continue with another way to handle validation without doing it manually.</p>\n\n<hr>\n\n<p>Another way is to trigger validation after you get the <code>StudentSignUpRequest</code> from <code>request</code> object;</p>\n\n<pre><code>StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\nloginRegistrationService.signUpStudent(signUpRequest) // validation will trigger with this call\n</code></pre>\n\n<p>What you can do is as follows;</p>\n\n<pre><code>@Service\n@Validated\npublic class LoginRegistrationService {\n\n    public void signUpStudent(@Valid StudentSignUpRequest signUpRequest) {\n        // some logic\n    }\n}\n</code></pre>\n\n<p>with <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\"><code>@Validated</code></a> annotation, you will activate the validation check for any <code>@Valid</code> annotated args in <code>public</code> methods within that class. </p>\n\n<blockquote>\n  <p>Can be used with method level validation, indicating that a\n  specific class is supposed to be validated at the method level (acting\n  as a pointcut for the corresponding validation interceptor)</p>\n</blockquote>\n\n<p>This can be costly since you'd want to get any constraint violation as soon as possible without doing any costly jobs for an already doomed request.</p>\n"},{"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566433716,"creation_date":1564748193,"answer_id":57326352,"question_id":57325466,"body_markdown":"A couple of things here:\r\nThe type `Object` for `data` in `Request` class makes it impossible for the validator to know that it is of type `StudentSignUpRequest`. So change the data type.\r\n\r\n    public class Request {\r\n        StudentSignUpRequest data;\r\n        Map&lt;String, Object&gt; meta;\r\n    }\r\n\r\nSecondly, though you have added `@Valid` in the controller method, in order to validate fields in `StudentSignUpRequest` you have to add @Valid here as well. Now, data will be validated if passed in the API request. In case it is absent validation won&#39;t take place. If you want to make data to be mandatorily passed add @NotNull as well.\r\n\r\n    public class Request {\r\n\r\n        @Valid\r\n        @NotNull\r\n        StudentSignUpRequest data;\r\n        Map&lt;String, Object&gt; meta;\r\n    }","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>A couple of things here:\nThe type <code>Object</code> for <code>data</code> in <code>Request</code> class makes it impossible for the validator to know that it is of type <code>StudentSignUpRequest</code>. So change the data type.</p>\n\n<pre><code>public class Request {\n    StudentSignUpRequest data;\n    Map&lt;String, Object&gt; meta;\n}\n</code></pre>\n\n<p>Secondly, though you have added <code>@Valid</code> in the controller method, in order to validate fields in <code>StudentSignUpRequest</code> you have to add @Valid here as well. Now, data will be validated if passed in the API request. In case it is absent validation won't take place. If you want to make data to be mandatorily passed add @NotNull as well.</p>\n\n<pre><code>public class Request {\n\n    @Valid\n    @NotNull\n    StudentSignUpRequest data;\n    Map&lt;String, Object&gt; meta;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8262338,"reputation":322,"user_id":6213262,"display_name":"Gagan Chouhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566433651,"creation_date":1564748357,"answer_id":57326383,"question_id":57325466,"body_markdown":"So you can use below code for validating the same.\r\n\r\n    public &lt;T&gt; T getData() throws ClassCastException, SomeCustomValidationException {\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        validator = factory.getValidator();\r\n        Set s = validator.validate(this.data);\r\n        //throw SomeCustomValidationException if set is not empty else return this.data\r\n    }","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>So you can use below code for validating the same.</p>\n\n<pre><code>public &lt;T&gt; T getData() throws ClassCastException, SomeCustomValidationException {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    validator = factory.getValidator();\n    Set s = validator.validate(this.data);\n    //throw SomeCustomValidationException if set is not empty else return this.data\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675068370,"creation_date":1675068370,"answer_id":75281981,"question_id":57325466,"body_markdown":"did you add following dependency?\r\n\r\n    spring-boot-starter-validation\r\n\r\nalso check https://www.baeldung.com/spring-boot-bean-validation","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>did you add following dependency?</p>\n<pre><code>spring-boot-starter-validation\n</code></pre>\n<p>also check <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a></p>\n"},{"tags":[],"owner":{"account_id":26099752,"reputation":31,"user_id":19795369,"display_name":"tarek oussabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690926053,"creation_date":1690926053,"answer_id":76815352,"question_id":57325466,"body_markdown":"to enable validation support in a Spring Boot application.You need this dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWithout this dependency, Spring Boot won&#39;t automatically process and apply validation rules on your request data, which is why you were not getting the expected validation behavior.So now you do not need to use @Validated annotation just @Valid one beside the @RequestBody","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>to enable validation support in a Spring Boot application.You need this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Without this dependency, Spring Boot won't automatically process and apply validation rules on your request data, which is why you were not getting the expected validation behavior.So now you do not need to use @Validated annotation just @Valid one beside the @RequestBody</p>\n"}],"owner":{"account_id":3814978,"reputation":147,"user_id":3164538,"display_name":"asp008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30214,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":57325978,"answer_count":7,"score":9,"last_activity_date":1690926053,"creation_date":1564744770,"question_id":57325466,"body_markdown":"I want to validate my request body with `@Valid` annotation, but it&#39;s not working in Spring Boot\r\n\r\nI have a Request class within JAR file which I can&#39;t modify with two fields. One field is of type Object. My controller class accept this class object as a request body. When I pass my below JSON to the controller, validation is not working. Below are code samples.\r\n\r\n\r\nRequest Class:\r\n\r\n    public class Request {\r\n\r\n        Object data;\r\n        Map&lt;String, Object&gt; meta;\r\n    \r\n        public &lt;T&gt; T getData() throws ClassCastException {\r\n            return (T) this.data;\r\n        }\r\n    }\r\n\r\nAnother Class:\r\n\r\n    public class StudentSignUpRequest {\r\n    \r\n         @NotNull(message = &quot;First Name should not be empty&quot;)\r\n         @Size(max = 64, message = &quot;FirstName should not exceed 64 characters&quot;)\r\n         private String firstName;\r\n    \r\n         @NotNull(message = &quot;Last Name should not be empty&quot;)\r\n         @Size(max = 64, message = &quot;LastName should not exceed 64 characters&quot;)\r\n         private String lastName;\r\n    \r\n         @NotNull(message = &quot;Email cannot be empty&quot;)\r\n         @Size(max = 50, message = &quot;Email cannot exceed 50 characters&quot;)\r\n         @Pattern(regexp = EMAIL_REGEX_PATTERN, message = &quot;Email should contain a valid email address.&quot;)\r\n         private String email;\r\n    \r\n         // other fields\r\n    }\r\n\r\nController Class:\r\n\r\n    @PostMapping(value = Constants.STUDENT_SIGN_UP)\r\n    public Response signUpStudent(@Valid @RequestBody Request request, HttpServletRequest servletRequest) {\r\n    \r\n        // retrieving the actual resource from request payload\r\n        StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\r\n        // call service to sign-up student\r\n        return loginRegistrationService.signUpStudent(signUpRequest);\r\n    }\r\n\r\nCalling code sets request as below:\r\n\r\n    StudentSignUpRequest studentSignUpRequest = new StudentSignUpRequest();\r\n    //setter methods\r\n    \r\n    Request payload = new Request();\r\n    payload.setData(studentSignUpRequest);\r\n\r\nThis is the request I am sending:\r\n\r\nFor more than 64 chars for firstName:\r\n\r\nSample JSON:\r\n\r\n    {\r\n    \t&quot;data&quot;: {\r\n    \t\t&quot;firstName&quot;: &quot;student111111111111111111111111111111111111111111111111111111111111&quot;,\r\n    \t\t&quot;lastName&quot;: &quot;somesurname&quot;,\r\n    \t\t&quot;email&quot;: &quot;developer@gmail.com&quot;\r\n    \t}\r\n    }\r\n\r\nWhere first name not included:\r\n\r\n    {\r\n    \t&quot;data&quot;: {\r\n    \t\t&quot;lastName&quot;: &quot;somesurname&quot;,\r\n    \t\t&quot;email&quot;: &quot;developer@gmail.com&quot;\r\n    \t}\r\n    }\r\n\r\nHere both `@Size` as well as `@NotNull` annotation not working.\r\n\r\nAny solution?","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>I want to validate my request body with <code>@Valid</code> annotation, but it's not working in Spring Boot</p>\n\n<p>I have a Request class within JAR file which I can't modify with two fields. One field is of type Object. My controller class accept this class object as a request body. When I pass my below JSON to the controller, validation is not working. Below are code samples.</p>\n\n<p>Request Class:</p>\n\n<pre><code>public class Request {\n\n    Object data;\n    Map&lt;String, Object&gt; meta;\n\n    public &lt;T&gt; T getData() throws ClassCastException {\n        return (T) this.data;\n    }\n}\n</code></pre>\n\n<p>Another Class:</p>\n\n<pre><code>public class StudentSignUpRequest {\n\n     @NotNull(message = \"First Name should not be empty\")\n     @Size(max = 64, message = \"FirstName should not exceed 64 characters\")\n     private String firstName;\n\n     @NotNull(message = \"Last Name should not be empty\")\n     @Size(max = 64, message = \"LastName should not exceed 64 characters\")\n     private String lastName;\n\n     @NotNull(message = \"Email cannot be empty\")\n     @Size(max = 50, message = \"Email cannot exceed 50 characters\")\n     @Pattern(regexp = EMAIL_REGEX_PATTERN, message = \"Email should contain a valid email address.\")\n     private String email;\n\n     // other fields\n}\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre><code>@PostMapping(value = Constants.STUDENT_SIGN_UP)\npublic Response signUpStudent(@Valid @RequestBody Request request, HttpServletRequest servletRequest) {\n\n    // retrieving the actual resource from request payload\n    StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\n    // call service to sign-up student\n    return loginRegistrationService.signUpStudent(signUpRequest);\n}\n</code></pre>\n\n<p>Calling code sets request as below:</p>\n\n<pre><code>StudentSignUpRequest studentSignUpRequest = new StudentSignUpRequest();\n//setter methods\n\nRequest payload = new Request();\npayload.setData(studentSignUpRequest);\n</code></pre>\n\n<p>This is the request I am sending:</p>\n\n<p>For more than 64 chars for firstName:</p>\n\n<p>Sample JSON:</p>\n\n<pre><code>{\n    \"data\": {\n        \"firstName\": \"student111111111111111111111111111111111111111111111111111111111111\",\n        \"lastName\": \"somesurname\",\n        \"email\": \"developer@gmail.com\"\n    }\n}\n</code></pre>\n\n<p>Where first name not included:</p>\n\n<pre><code>{\n    \"data\": {\n        \"lastName\": \"somesurname\",\n        \"email\": \"developer@gmail.com\"\n    }\n}\n</code></pre>\n\n<p>Here both <code>@Size</code> as well as <code>@NotNull</code> annotation not working.</p>\n\n<p>Any solution?</p>\n"},{"tags":["java","gradle","jar","dependencies","classpath"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690917636,"post_id":76814482,"comment_id":135419090,"body_markdown":"Is library A going to be used by another library or application? It is probably a bad idea to use fat jars. The sub dependencies versions may conflict. Fat jars are usually used for application jars to include all their dependencies.","body":"Is library A going to be used by another library or application? It is probably a bad idea to use fat jars. The sub dependencies versions may conflict. Fat jars are usually used for application jars to include all their dependencies."},{"owner":{"account_id":19430143,"reputation":65,"user_id":14210786,"display_name":"Stefan Ss"},"score":0,"creation_date":1690917843,"post_id":76814482,"comment_id":135419130,"body_markdown":"Ok understood, but that&#39;s not answering my questions. Could you also tell me if what i wrote above is right or not?","body":"Ok understood, but that&#39;s not answering my questions. Could you also tell me if what i wrote above is right or not?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690917019,"creation_date":1690917019,"answer_id":76814566,"question_id":76814482,"body_markdown":"Yes, your understanding **is correct**.\r\n\r\nIn summary, regular **`JARs` require you to manage the dependencies manually**, while **`FAT JARs` (or `UBER JARs`) bundle all the dependencies together**, making it more convenient for distribution and deployment as it reduces the need to manage separate `JAR` files for each dependency. \r\n\r\nHowever, it&#39;s worth noting that using `FAT JARs` can lead to larger `JAR` sizes, which **might be a concern in certain scenarios**.\r\n\r\nCheck this out:\r\n - https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file\r\n - [JAR File Overview][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html","title":"Fat jar vs normal jar dependencies resolution","body":"<p>Yes, your understanding <strong>is correct</strong>.</p>\n<p>In summary, regular <strong><code>JARs</code> require you to manage the dependencies manually</strong>, while <strong><code>FAT JARs</code> (or <code>UBER JARs</code>) bundle all the dependencies together</strong>, making it more convenient for distribution and deployment as it reduces the need to manage separate <code>JAR</code> files for each dependency.</p>\n<p>However, it's worth noting that using <code>FAT JARs</code> can lead to larger <code>JAR</code> sizes, which <strong>might be a concern in certain scenarios</strong>.</p>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file\">What is an uber JAR file?</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html\" rel=\"nofollow noreferrer\">JAR File Overview</a></li>\n</ul>\n"}],"owner":{"account_id":19430143,"reputation":65,"user_id":14210786,"display_name":"Stefan Ss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690924860,"creation_date":1690916216,"question_id":76814482,"body_markdown":"Let&#39;s take the following exemple: build a library ***A*** that has 3 dependencies ***X, Y, Z*** and we create 2 JARs: ***regular*** and ***FAT***.\r\n\r\nWe have a service ***B*** in which we first import the normal JAR and then the FAT jar.\r\n\r\n 1. In the first case (regular JAR) will we need to manually import all the dependencies (X, Y, Z) in B so that A works (importing the JAR of A will not automatically import all its transitive(direct) dependencies - X, Y, Z) ? ***/ OR /*** the library will work (calling it&#39;s methods) but trying to call methods from X, Y, Z will fail and we will need to manually import them ?\r\n 2. In the second scenario because the Fat JAR has all the dependencies imbedded we won&#39;t need to add any dependencies right ? We can both use A and also methods and classes from X, Y and Z.\r\n\r\nIs what I said at 1) and 2) right ? Is this how it works ?\r\n\r\n\r\n**Runtime Classpath vs Compile Classpath for normal vs FAT JAR**\r\n\r\n 1. Including the normal JAR of A as a dependency to B:\r\n   - compile classpath will only have A dependency ?\r\n   - runtime classpath will have A, X, Y and Z dependencies ?\r\n 2. Including the FAT JAR of A as a dependency to B:\r\n   - compile classpath will have A, X, Y and Z dependencies ?\r\n   - runtime classpath will have A, X, Y and Z dependencies ?\r\n\r\nIs this how the compile classpath and runtime classpath will look like in these scenarios ?\r\n\r\n","title":"Fat jar vs normal jar dependencies resolution","body":"<p>Let's take the following exemple: build a library <em><strong>A</strong></em> that has 3 dependencies <em><strong>X, Y, Z</strong></em> and we create 2 JARs: <em><strong>regular</strong></em> and <em><strong>FAT</strong></em>.</p>\n<p>We have a service <em><strong>B</strong></em> in which we first import the normal JAR and then the FAT jar.</p>\n<ol>\n<li>In the first case (regular JAR) will we need to manually import all the dependencies (X, Y, Z) in B so that A works (importing the JAR of A will not automatically import all its transitive(direct) dependencies - X, Y, Z) ? <em><strong>/ OR /</strong></em> the library will work (calling it's methods) but trying to call methods from X, Y, Z will fail and we will need to manually import them ?</li>\n<li>In the second scenario because the Fat JAR has all the dependencies imbedded we won't need to add any dependencies right ? We can both use A and also methods and classes from X, Y and Z.</li>\n</ol>\n<p>Is what I said at 1) and 2) right ? Is this how it works ?</p>\n<p><strong>Runtime Classpath vs Compile Classpath for normal vs FAT JAR</strong></p>\n<ol>\n<li>Including the normal JAR of A as a dependency to B:</li>\n</ol>\n<ul>\n<li>compile classpath will only have A dependency ?</li>\n<li>runtime classpath will have A, X, Y and Z dependencies ?</li>\n</ul>\n<ol start=\"2\">\n<li>Including the FAT JAR of A as a dependency to B:</li>\n</ol>\n<ul>\n<li>compile classpath will have A, X, Y and Z dependencies ?</li>\n<li>runtime classpath will have A, X, Y and Z dependencies ?</li>\n</ul>\n<p>Is this how the compile classpath and runtime classpath will look like in these scenarios ?</p>\n"},{"tags":["java","android","mongodb","android-studio","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1690917031,"post_id":76814517,"comment_id":135418992,"body_markdown":"Those docs are current and accurate. Did you note this - *The Java SDK does not yet support the Gradle Plugin syntax*?","body":"Those docs are current and accurate. Did you note this - <i>The Java SDK does not yet support the Gradle Plugin syntax</i>?"},{"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"score":0,"creation_date":1690921384,"post_id":76814517,"comment_id":135419665,"body_markdown":"@Jay so what i can do","body":"@Jay so what i can do"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1690922439,"post_id":76814517,"comment_id":135419816,"body_markdown":"You can go to the [Gradle Configuration Docs](https://www.mongodb.com/docs/realm/sdk/java/install/#project-gradle-configuration) and follow the steps outlined there starting with this step **Add a buildscript block** ensuring you add the required plugins, repositories and dependencies.","body":"You can go to the <a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#project-gradle-configuration\" rel=\"nofollow noreferrer\">Gradle Configuration Docs</a> and follow the steps outlined there starting with this step <b>Add a buildscript block</b> ensuring you add the required plugins, repositories and dependencies."},{"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"score":0,"creation_date":1690923261,"post_id":76814517,"comment_id":135419955,"body_markdown":"@Jay I added the buildscript block and added it at the top so it didn&#39;t cause any problems. Now Android Studio recognizes all the codes. thanks","body":"@Jay I added the buildscript block and added it at the top so it didn&#39;t cause any problems. Now Android Studio recognizes all the codes. thanks"}],"answers":[{"tags":[],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690923623,"creation_date":1690923623,"answer_id":76815152,"question_id":76814517,"body_markdown":"I updated my `build.gradle (Module :app)` file as follows and now the codes are recognized by Android Studio.\r\n\r\n    // START[for MongoDB Realm.io]\r\n    buildscript {\r\n        dependencies {\r\n            classpath &quot;io.realm:realm-gradle-plugin:10.11.1&quot;\r\n        }\r\n    }\r\n    // FINISH[for MongoDB Realm.io]\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    // START[for MongoDB Realm.io]\r\n    apply plugin: &quot;realm-android&quot;\r\n    \r\n    realm {\r\n        syncEnabled = true\r\n    }\r\n    // FINISH[for MongoDB Realm.io]\r\n    \r\n    android {\r\n        namespace &#39;com.example.ig&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.ig&quot;\r\n            minSdk 28\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\n*I added the buildscript block as Jay said*","title":"While installing mongodb realm, I can&#39;t make gradle file. I think the docs are old","body":"<p>I updated my <code>build.gradle (Module :app)</code> file as follows and now the codes are recognized by Android Studio.</p>\n<pre><code>// START[for MongoDB Realm.io]\nbuildscript {\n    dependencies {\n        classpath &quot;io.realm:realm-gradle-plugin:10.11.1&quot;\n    }\n}\n// FINISH[for MongoDB Realm.io]\n\nplugins {\n    id 'com.android.application'\n}\n\n// START[for MongoDB Realm.io]\napply plugin: &quot;realm-android&quot;\n\nrealm {\n    syncEnabled = true\n}\n// FINISH[for MongoDB Realm.io]\n\nandroid {\n    namespace 'com.example.ig'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.ig&quot;\n        minSdk 28\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p><em>I added the buildscript block as Jay said</em></p>\n"}],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76815152,"answer_count":1,"score":0,"last_activity_date":1690923623,"creation_date":1690916535,"question_id":76814517,"body_markdown":"I want to use realm.io for android application but I have problems during installation\r\n\r\n[I used these steps. I think the codes are outdated because it doesn&#39;t match my Gradle file but somehow I made it.][1]\r\n\r\nhere is my `build.gradle (Module :app)` file\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.ig&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.ig&quot;\r\n            minSdk 28\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    \r\n    //    for MongoDB\r\n        implementation &quot;io.realm:realm-gradle-plugin:10.16.1&quot;\r\n    }\r\nI couldn&#39;t add these codes here\r\n[this][2]\r\n\r\n    apply plugin: &#39;realm-android&#39;\r\n\r\n [and this][3]\r\n\r\n    realm {\r\n        syncEnabled = true\r\n    }\r\n\r\nafter this stage [I wrote this code][4] [and this code][5]\r\n\r\n    Realm.init(this); // context, usually an Activity or Application\r\n\r\n    app = new App(new AppConfiguration.Builder(appID)\r\n        .build());\r\n\r\n**and now getting an error message:**\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n***How can I resolve this error message?***\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/realm/sdk/java/install/#std-label-java-install\r\n  [2]: https://www.mongodb.com/docs/realm/sdk/java/install/#application-module-gradle-configuration\r\n  [3]: https://www.mongodb.com/docs/realm/sdk/java/install/#enable-atlas-device-sync\r\n  [4]: https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-realm\r\n  [5]: https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-the-app\r\n  [6]: https://i.stack.imgur.com/67acU.png\r\n  [7]: https://i.stack.imgur.com/W4v3f.png","title":"While installing mongodb realm, I can&#39;t make gradle file. I think the docs are old","body":"<p>I want to use realm.io for android application but I have problems during installation</p>\n<p><a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#std-label-java-install\" rel=\"nofollow noreferrer\">I used these steps. I think the codes are outdated because it doesn't match my Gradle file but somehow I made it.</a></p>\n<p>here is my <code>build.gradle (Module :app)</code> file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.ig'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.ig&quot;\n        minSdk 28\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n//    for MongoDB\n    implementation &quot;io.realm:realm-gradle-plugin:10.16.1&quot;\n}\n</code></pre>\n<p>I couldn't add these codes here\n<a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#application-module-gradle-configuration\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>apply plugin: 'realm-android'\n</code></pre>\n<p><a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#enable-atlas-device-sync\" rel=\"nofollow noreferrer\">and this</a></p>\n<pre><code>realm {\n    syncEnabled = true\n}\n</code></pre>\n<p>after this stage <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-realm\" rel=\"nofollow noreferrer\">I wrote this code</a> <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-the-app\" rel=\"nofollow noreferrer\">and this code</a></p>\n<pre><code>Realm.init(this); // context, usually an Activity or Application\n\napp = new App(new AppConfiguration.Builder(appID)\n    .build());\n</code></pre>\n<p><strong>and now getting an error message:</strong>\n<a href=\"https://i.stack.imgur.com/67acU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67acU.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/W4v3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W4v3f.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>How can I resolve this error message?</strong></em></p>\n"},{"tags":["java","reflection","record"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1674486237,"post_id":75211297,"comment_id":132718427,"body_markdown":"You create a new record with the changes you want. You CAN NOT change an already existing instance.","body":"You create a new record with the changes you want. You CAN NOT change an already existing instance."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1674486242,"post_id":75211297,"comment_id":132718430,"body_markdown":"What you want is impossible. `record` objects are immutable. At best, you can make __a new__ instance of `Account` with the changes applied. If the `Account` object is stored somewhere, you can then overwrite the field (if it isn&#39;t `final`) of whatever is storing the Account with this new account instance.","body":"What you want is impossible. <code>record</code> objects are immutable. At best, you can make <b>a new</b> instance of <code>Account</code> with the changes applied. If the <code>Account</code> object is stored somewhere, you can then overwrite the field (if it isn&#39;t <code>final</code>) of whatever is storing the Account with this new account instance."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1674486381,"post_id":75211297,"comment_id":132718467,"body_markdown":"Hotspot trusts the final fields in a record - this is why you can&#39;t change them. See the specification for [`Field.set`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#set%28java.lang.Object,java.lang.Object%29) - &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met: ... the field&#39;s declaring class is not a record class.&quot;","body":"Hotspot trusts the final fields in a record - this is why you can&#39;t change them. See the specification for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#set%28java.lang.Object,java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>Field.set</code></a> - &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met: ... the field&#39;s declaring class is not a record class.&quot;"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1674486692,"post_id":75211297,"comment_id":132718572,"body_markdown":"What about...initializing the fields in the constructor?","body":"What about...initializing the fields in the constructor?"},{"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"score":0,"creation_date":1674489016,"post_id":75211297,"comment_id":132719444,"body_markdown":"@dan1st I was hoping to implement my own ORM (for practice) and create records with data from the database. But record will have links to other records and a list of records, and then I&#39;ll have to turn record creation inside out. It&#39;s harder, I was hoping to avoid it.","body":"@dan1st I was hoping to implement my own ORM (for practice) and create records with data from the database. But record will have links to other records and a list of records, and then I&#39;ll have to turn record creation inside out. It&#39;s harder, I was hoping to avoid it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1674496436,"post_id":75211297,"comment_id":132721782,"body_markdown":"See the [definition of record](https://openjdk.org/jeps/395).","body":"See the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">definition of record</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1675083147,"post_id":75211297,"comment_id":132845418,"body_markdown":"No, for creating a `record` from a database row, you don’t have to turn the creation inside out. You have to stop turning it inside out. Being widespread doesn’t turn a bad practice into a good one.","body":"No, for creating a <code>record</code> from a database row, you don’t have to turn the creation inside out. You have to stop turning it inside out. Being widespread doesn’t turn a bad practice into a good one."}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1674758443,"creation_date":1674753888,"answer_id":75249638,"question_id":75211297,"body_markdown":"In general the commenters saying that this &quot;can&#39;t be done&quot; or is &quot;impossible&quot; aren&#39;t wrong... unless you are willing to slightly bend the rules of the JVM :)  For example, by using unsafe reflection to change the relevant value directly at the memory location in the record like this:\r\n\r\n    public static void setFieldValue(Object instance, String fieldName, Object value) {\r\n        try {\r\n            Field f = instance.getClass().getDeclaredField(fieldName);\r\n\r\n            Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            unsafeField.setAccessible(true);\r\n            Unsafe unsafe = (Unsafe) unsafeField.get(null);\r\n\r\n            Field theInternalUnsafeField = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\r\n            theInternalUnsafeField.setAccessible(true);\r\n            Object theInternalUnsafe = theInternalUnsafeField.get(null);\r\n\r\n            Method offset = Class.forName(&quot;jdk.internal.misc.Unsafe&quot;).getMethod(&quot;objectFieldOffset&quot;, Field.class);\r\n            unsafe.putBoolean(offset, 12, true);\r\n\r\n            unsafe.putObject(instance, (long) offset.invoke(theInternalUnsafe, f), value);\r\n        } catch (IllegalAccessException | NoSuchFieldException | ClassNotFoundException | NoSuchMethodException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Change field in Record","body":"<p>In general the commenters saying that this &quot;can't be done&quot; or is &quot;impossible&quot; aren't wrong... unless you are willing to slightly bend the rules of the JVM :)  For example, by using unsafe reflection to change the relevant value directly at the memory location in the record like this:</p>\n<pre><code>public static void setFieldValue(Object instance, String fieldName, Object value) {\n    try {\n        Field f = instance.getClass().getDeclaredField(fieldName);\n\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        unsafeField.setAccessible(true);\n        Unsafe unsafe = (Unsafe) unsafeField.get(null);\n\n        Field theInternalUnsafeField = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\n        theInternalUnsafeField.setAccessible(true);\n        Object theInternalUnsafe = theInternalUnsafeField.get(null);\n\n        Method offset = Class.forName(&quot;jdk.internal.misc.Unsafe&quot;).getMethod(&quot;objectFieldOffset&quot;, Field.class);\n        unsafe.putBoolean(offset, 12, true);\n\n        unsafe.putObject(instance, (long) offset.invoke(theInternalUnsafe, f), value);\n    } catch (IllegalAccessException | NoSuchFieldException | ClassNotFoundException | NoSuchMethodException | InvocationTargetException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683550893,"creation_date":1683550893,"answer_id":76200868,"question_id":75211297,"body_markdown":"`Field::set` method doesn&#39;t work for record class fields by design. From the [docs](https://bugs.openjdk.org/browse/JDK-8247517), \r\n\r\n If the underlying field is final, this Field object has write access if and only if the following conditions are met:  \r\n- `setAccessible(true)` has succeeded for this Field object;\r\n- the field is **non-static**; and\r\n- the field&#39;s declaring class is **not a hidden class**; and\r\n- the field&#39;s declaring class is **not a record class**.\r\n\r\nTo be able to modify the fields reflectively, convert `Account` from a record class to a regular POJO class. Records are truly immutable, not even reflection will do. \r\n\r\n\r\n## Account.java ##\r\n\r\n    public class Account {\r\n\r\n        private final Integer id;\r\n        private final String login;\r\n        private final Boolean blocked;\r\n    \r\n        public Account(Integer id, String login, Boolean blocked) {\r\n            this.id = id;\r\n            this.login = login;\r\n            this.blocked = blocked;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getLogin() {\r\n            return login;\r\n        }\r\n    \r\n        public Boolean getBlocked() {\r\n            return blocked;\r\n        }\r\n    \r\n    }","title":"Change field in Record","body":"<p><code>Field::set</code> method doesn't work for record class fields by design. From the <a href=\"https://bugs.openjdk.org/browse/JDK-8247517\" rel=\"nofollow noreferrer\">docs</a>,</p>\n<p>If the underlying field is final, this Field object has write access if and only if the following conditions are met:</p>\n<ul>\n<li><code>setAccessible(true)</code> has succeeded for this Field object;</li>\n<li>the field is <strong>non-static</strong>; and</li>\n<li>the field's declaring class is <strong>not a hidden class</strong>; and</li>\n<li>the field's declaring class is <strong>not a record class</strong>.</li>\n</ul>\n<p>To be able to modify the fields reflectively, convert <code>Account</code> from a record class to a regular POJO class. Records are truly immutable, not even reflection will do.</p>\n<h2>Account.java</h2>\n<pre><code>public class Account {\n\n    private final Integer id;\n    private final String login;\n    private final Boolean blocked;\n\n    public Account(Integer id, String login, Boolean blocked) {\n        this.id = id;\n        this.login = login;\n        this.blocked = blocked;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getLogin() {\n        return login;\n    }\n\n    public Boolean getBlocked() {\n        return blocked;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215554,"reputation":159,"user_id":1183224,"display_name":"isuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690923509,"creation_date":1690923509,"answer_id":76815144,"question_id":75211297,"body_markdown":"I know you are asking about Java records, but if you really need to change a single field in a record you could user a Kotlin data class which allows you to easily create a copy of the data with just one field changed. The Kotlin class can easily be called from Java\r\n\r\nKotlin data class:\r\n\r\n    data class Account(val id :String, val login: String, val blocked: Boolean) {\r\n        fun setId(id:String) = copy(id = id)\r\n        fun setLogin(login:String) = copy(login = login)\r\n        fun setBlocked(blocked:Boolean) = copy(blocked = blocked)\r\n    }\r\n\r\n\r\nJava class:\r\n\r\n     public class AccountSetter {\r\n    \r\n        public static void main(String[] args) {\r\n            Account account = new Account(&quot;oldId&quot;, &quot;foo&quot;, false);\r\n            account = account.setId(&quot;newId&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Change field in Record","body":"<p>I know you are asking about Java records, but if you really need to change a single field in a record you could user a Kotlin data class which allows you to easily create a copy of the data with just one field changed. The Kotlin class can easily be called from Java</p>\n<p>Kotlin data class:</p>\n<pre><code>data class Account(val id :String, val login: String, val blocked: Boolean) {\n    fun setId(id:String) = copy(id = id)\n    fun setLogin(login:String) = copy(login = login)\n    fun setBlocked(blocked:Boolean) = copy(blocked = blocked)\n}\n</code></pre>\n<p>Java class:</p>\n<pre><code> public class AccountSetter {\n\n    public static void main(String[] args) {\n        Account account = new Account(&quot;oldId&quot;, &quot;foo&quot;, false);\n        account = account.setId(&quot;newId&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75249638,"answer_count":3,"score":1,"last_activity_date":1690923509,"creation_date":1674486119,"question_id":75211297,"body_markdown":"I study reflection and try to change field&#39;s value in Record.\r\n\r\n```\r\npublic record Account(Integer id, String login, Boolean blocked) {}\r\n```\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tAccount account = new Account(null, null, null);\r\n\t\tsetFieldValue(account, &quot;id&quot;, 1);\r\n\t\tsetFieldValue(account, &quot;login&quot;, &quot;admin&quot;);\r\n\t\tsetFieldValue(account, &quot;blocked&quot;, false);\r\n\t\tSystem.out.println(account);\r\n\t}\r\n\tpublic static void setFieldValue(Object instance,\r\n\t                                 String fieldName,\r\n\t                                 Object value) {\r\n\t\ttry {\r\n\t\t\tField field = instance.getClass().getDeclaredField(fieldName);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tfield.set(instance, value);\r\n\t\t} catch (NoSuchFieldException | IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIf I convert Record to Class everything works, but with Record I get Exception\r\n\r\n```\r\njava.lang.IllegalAccessException: Can not set final java.lang.Integer field Account.id to java.lang.Integer\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\r\n\tat java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799)\r\n```\r\n\r\nWhat do I have to do to make the code work with records?","title":"Change field in Record","body":"<p>I study reflection and try to change field's value in Record.</p>\n<pre><code>public record Account(Integer id, String login, Boolean blocked) {}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Account account = new Account(null, null, null);\n        setFieldValue(account, &quot;id&quot;, 1);\n        setFieldValue(account, &quot;login&quot;, &quot;admin&quot;);\n        setFieldValue(account, &quot;blocked&quot;, false);\n        System.out.println(account);\n    }\n    public static void setFieldValue(Object instance,\n                                     String fieldName,\n                                     Object value) {\n        try {\n            Field field = instance.getClass().getDeclaredField(fieldName);\n            field.setAccessible(true);\n            field.set(instance, value);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>If I convert Record to Class everything works, but with Record I get Exception</p>\n<pre><code>java.lang.IllegalAccessException: Can not set final java.lang.Integer field Account.id to java.lang.Integer\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\n    at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n</code></pre>\n<p>What do I have to do to make the code work with records?</p>\n"},{"tags":["java","ubuntu","intellij-idea","remote-debugging","portforwarding"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690921390,"post_id":76814849,"comment_id":135419666,"body_markdown":"If you can&#39;t change the VM options and the debugger is listening on localhost, you can use `socat` to forward from the external interface to the localhost interface. See [the related answer](https://unix.stackexchange.com/a/187038/9113).","body":"If you can&#39;t change the VM options and the debugger is listening on localhost, you can use <code>socat</code> to forward from the external interface to the localhost interface. See <a href=\"https://unix.stackexchange.com/a/187038/9113\">the related answer</a>."},{"owner":{"account_id":3781227,"reputation":53,"user_id":3140658,"display_name":"Ben Weintraub"},"score":1,"creation_date":1690921937,"post_id":76814849,"comment_id":135419744,"body_markdown":"Thank you! That worked. If you leave it as an answer, I will accept it. Specifically, I used `socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005` and on vagrant I forwarded guest port 5005 to host port 5006. @CrazyCoder, if you leave this as an answer, I will accept it.","body":"Thank you! That worked. If you leave it as an answer, I will accept it. Specifically, I used <code>socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005</code> and on vagrant I forwarded guest port 5005 to host port 5006. @CrazyCoder, if you leave this as an answer, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690922323,"creation_date":1690922323,"answer_id":76815037,"question_id":76814849,"body_markdown":"The following command will bind the debugger server on `localhost` interface if you are using Java 9+ version:\r\n\r\n`java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005`\r\n\r\nVagrant port forwarding is likely expecting an external interface to work properly.\r\n\r\nSince you can&#39;t change the Java debugger options (to use `address=*:5005`), the workaround would be to use `socat` to forward the port from the external interface to localhost inside the VM like this:\r\n\r\n```\r\nsocat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005\r\n```\r\n\r\nNow you can forward port 5005 to 5006 in Vagrant and it should work.\r\n\r\n","title":"How do I remotely debug a java app on vagrant VM?","body":"<p>The following command will bind the debugger server on <code>localhost</code> interface if you are using Java 9+ version:</p>\n<p><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</code></p>\n<p>Vagrant port forwarding is likely expecting an external interface to work properly.</p>\n<p>Since you can't change the Java debugger options (to use <code>address=*:5005</code>), the workaround would be to use <code>socat</code> to forward the port from the external interface to localhost inside the VM like this:</p>\n<pre><code>socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005\n</code></pre>\n<p>Now you can forward port 5005 to 5006 in Vagrant and it should work.</p>\n"}],"owner":{"account_id":3781227,"reputation":53,"user_id":3140658,"display_name":"Ben Weintraub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76815037,"answer_count":1,"score":1,"last_activity_date":1690922323,"creation_date":1690920261,"question_id":76814849,"body_markdown":"I&#39;m running IntelliJ IDEA 2023.1.2 (Community Edition) and I&#39;m having a problem remotely debugging a java application running on a vagrant VM. I believe it is some kind of networking issue. My vagrant VM is running Ubuntu 20.04.\r\n\r\nThe problem is that when I run the remote debugger, I see the following error in intellij\r\n```\r\nUnable to open debugger port (localhost:5005): java.net.SocketException &quot;Connection reset&quot;\r\n```\r\n\r\nThe syslog on the vagrant VM shows the following after one of these failed connections\r\n```\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug3: channel 0: waiting for connection\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug1: channel 0: connection failed: Connection refused\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: error: connect_to 192.168.121.118 port 5005: failed.\r\n```\r\n\r\n\r\nWhen I attempt to connect with `jdb`, I see the following error\r\n```\r\n$&gt; jdb -attach localhost:5005\r\njava.io.IOException: handshake failed - connection prematurally closed\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketTransportService.handshake(SocketTransportService.java:142)\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketTransportService.attach(SocketTransportService.java:255)\r\n\tat jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:119)\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1095)\r\n\r\nFatal error:\r\nUnable to attach to target VM.\r\n```\r\n\r\nHere are some additional observations:\r\n\r\n1. The java application which is running on the VM has debugging enabled (i.e., it includes `java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005` in the process). I realize that the new versions of java suggest using `address=*:5005` but for a variety of reasons, I can&#39;t change the Java opts on that process.\r\n1. I have verified that the process is indeed listening on port 5005 on the VM. `netstat` shows that the process is listening on 5005.\r\n1. I have forwarded the port to my host machine&#39;s port 5005, and can see on the host machine that the port forwarding is enabled.\r\n1. I can connect to the remote process from the host machine via `nc localhost 5005`.\r\n1. [This question](https://stackoverflow.com/questions/34881992/how-to-remotely-debug-java-app-and-forwarding-the-port-to-virtual-machine) is similar but it&#39;s the inverse of what I want. I have the debugger running on the host and the java app running on the guest.\r\n\r\n\r\nAny thoughts on what I might be missing?\r\n","title":"How do I remotely debug a java app on vagrant VM?","body":"<p>I'm running IntelliJ IDEA 2023.1.2 (Community Edition) and I'm having a problem remotely debugging a java application running on a vagrant VM. I believe it is some kind of networking issue. My vagrant VM is running Ubuntu 20.04.</p>\n<p>The problem is that when I run the remote debugger, I see the following error in intellij</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.SocketException &quot;Connection reset&quot;\n</code></pre>\n<p>The syslog on the vagrant VM shows the following after one of these failed connections</p>\n<pre><code>Aug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug3: channel 0: waiting for connection\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug1: channel 0: connection failed: Connection refused\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: error: connect_to 192.168.121.118 port 5005: failed.\n</code></pre>\n<p>When I attempt to connect with <code>jdb</code>, I see the following error</p>\n<pre><code>$&gt; jdb -attach localhost:5005\njava.io.IOException: handshake failed - connection prematurally closed\n    at jdk.jdi/com.sun.tools.jdi.SocketTransportService.handshake(SocketTransportService.java:142)\n    at jdk.jdi/com.sun.tools.jdi.SocketTransportService.attach(SocketTransportService.java:255)\n    at jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:119)\n    at jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\n    at jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\n    at jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1095)\n\nFatal error:\nUnable to attach to target VM.\n</code></pre>\n<p>Here are some additional observations:</p>\n<ol>\n<li>The java application which is running on the VM has debugging enabled (i.e., it includes <code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</code> in the process). I realize that the new versions of java suggest using <code>address=*:5005</code> but for a variety of reasons, I can't change the Java opts on that process.</li>\n<li>I have verified that the process is indeed listening on port 5005 on the VM. <code>netstat</code> shows that the process is listening on 5005.</li>\n<li>I have forwarded the port to my host machine's port 5005, and can see on the host machine that the port forwarding is enabled.</li>\n<li>I can connect to the remote process from the host machine via <code>nc localhost 5005</code>.</li>\n<li><a href=\"https://stackoverflow.com/questions/34881992/how-to-remotely-debug-java-app-and-forwarding-the-port-to-virtual-machine\">This question</a> is similar but it's the inverse of what I want. I have the debugger running on the host and the java app running on the guest.</li>\n</ol>\n<p>Any thoughts on what I might be missing?</p>\n"},{"tags":["java","string","println","replit"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690922925,"post_id":76815027,"comment_id":135419889,"body_markdown":"`java -classpath .:target/dependency/* com.berrycalc.Main` Your class is in a package, which you need to define to the runtime","body":"<code>java -classpath .:target&#47;dependency&#47;* com.berrycalc.Main</code> Your class is in a package, which you need to define to the runtime"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923265,"post_id":76815027,"comment_id":135419956,"body_markdown":"Also, be careful how that globbed classpath expands. To check it&#39;s what you think it is, do `echo &quot;.:target/dependency/*&quot;`","body":"Also, be careful how that globbed classpath expands. To check it&#39;s what you think it is, do <code>echo &quot;.:target&#47;dependency&#47;*&quot;</code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690938936,"post_id":76815027,"comment_id":135421697,"body_markdown":"Remove &quot;package com.berrycalc;&quot; , it also depends where you start your class from with the OS command interpreters &quot;working directory&quot;(as much in a .bat or .sh). Also, with a jar, the Main-Class: entry in the manifest file must be set. (package declaration on a main class is reasonably irrelevant , if you can&#39;t find main you can&#39;t find nutt&#39;in!)","body":"Remove &quot;package com.berrycalc;&quot; , it also depends where you start your class from with the OS command interpreters &quot;working directory&quot;(as much in a .bat or .sh). Also, with a jar, the Main-Class: entry in the manifest file must be set. (package declaration on a main class is reasonably irrelevant , if you can&#39;t find main you can&#39;t find nutt&#39;in!)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690960963,"post_id":76815027,"comment_id":135423929,"body_markdown":"*Remove &quot;package com.berrycalc;&quot;* @SamuelMarchant, you&#39;re seriously proposing that as a solution? Also your remark about a jar file are not relevant here.","body":"<i>Remove &quot;package com.berrycalc;&quot;</i> @SamuelMarchant, you&#39;re seriously proposing that as a solution? Also your remark about a jar file are not relevant here."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690963409,"post_id":76815027,"comment_id":135424449,"body_markdown":"@g00se an interesting feature of his folder structure is it starts with &quot;com&quot; , that is the most common name and recommended name for top folder of a jar library.  Of class not found, on a main class it imports it does not get imported unless it&#39;s some sort of connector!","body":"@g00se an interesting feature of his folder structure is it starts with &quot;com&quot; , that is the most common name and recommended name for top folder of a jar library.  Of class not found, on a main class it imports it does not get imported unless it&#39;s some sort of connector!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690963659,"post_id":76815027,"comment_id":135424508,"body_markdown":"...anyhow, the direct command should be something like java -classpath &quot;com\\berrycalc&quot;;. Main  (Windows)    from the folder above com as the working directory. And similar in Unix java -classpath &quot;com/berrycalc&quot; Main","body":"...anyhow, the direct command should be something like java -classpath &quot;com\\berrycalc&quot;;. Main  (Windows)    from the folder above com as the working directory. And similar in Unix java -classpath &quot;com/berrycalc&quot; Main"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690964428,"post_id":76815027,"comment_id":135424697,"body_markdown":"*...anyhow, the direct command should be something like...* Absolutely not. Aside from the obvious fact that the OP is not using Windows, the classpath *never* reaches into the package tree","body":"<i>...anyhow, the direct command should be something like...</i> Absolutely not. Aside from the obvious fact that the OP is not using Windows, the classpath <i>never</i> reaches into the package tree"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690973388,"post_id":76815027,"comment_id":135426587,"body_markdown":"The line in his error message with &quot;Caused by&quot; reasonably much says it ! &quot;Main&quot; is not part of the class path folders.","body":"The line in his error message with &quot;Caused by&quot; reasonably much says it ! &quot;Main&quot; is not part of the class path folders."}],"owner":{"account_id":29139522,"reputation":1,"user_id":22322853,"display_name":"aberrytech"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690959295,"answer_count":0,"score":0,"last_activity_date":1690922239,"creation_date":1690922239,"question_id":76815027,"body_markdown":"I am trying to figure out what I am doing wrong?\r\n\r\n```\r\npackage com.berrycalc;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\t    final byte MONTHS_IN_YEAR=12;\r\n\t    final byte PERCENT=100;\r\n\r\n\t    Scanner scanner=new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Welcome to Berry Bank! How much money will you need to borrow for your home loan?&quot;);\r\n        int principal=scanner.nextInt();\r\n\r\n        System.out.println(&quot;What is your expected Annual Interest Rate?&quot;);\r\n        float annualInterest=scanner.nextFloat();\r\n        float monthlyInterest=annualInterest/PERCENT/MONTHS_IN_YEAR;\r\n\r\n        System.out.println(&quot;How many years are you expecting to pay on this loan? 30year/15year?&quot;);\r\n        byte years= scanner.nextByte();\r\n        int numberOfPayments=years*MONTHS_IN_YEAR;\r\n\r\n        double mortgage=principal* (monthlyInterest*Math.pow(1+monthlyInterest,numberOfPayments)\r\n                /(Math.pow(1+monthlyInterest, numberOfPayments)-1));\r\n\r\n        String mortgageFormatted=NumberFormat.getCurrencyInstance().format(mortgage);\r\n        System.out.println(&quot;Here is your Mortgage Payment =&quot;+mortgageFormatted);\r\n    }\r\n}\r\n```\r\n\r\nBelow is the error I am receiving when I try to run the Java program:\r\n\r\n```\r\n sh -c javac -classpath .:target/dependency/* -d . $(find . -type f -name &#39;*.java&#39;)\r\n java -classpath .:target/dependency/* Main\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.NoClassDefFoundError: com/berrycalc/Main (wrong name: Main)\r\nexit status 1\r\n ^C\r\n \r\n```\r\n\r\nHere is my replit link: https://replit.com/join/afsyvxnqas-amandaberry-tec\r\n\r\nI copied my code from Visual Studio Code to here but now everything has broken. ","title":"What am I receiving the error java.lang.NoClassDefFoundError?","body":"<p>I am trying to figure out what I am doing wrong?</p>\n<pre><code>package com.berrycalc;\n\nimport java.text.NumberFormat;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final byte MONTHS_IN_YEAR=12;\n        final byte PERCENT=100;\n\n        Scanner scanner=new Scanner(System.in);\n\n        System.out.println(&quot;Welcome to Berry Bank! How much money will you need to borrow for your home loan?&quot;);\n        int principal=scanner.nextInt();\n\n        System.out.println(&quot;What is your expected Annual Interest Rate?&quot;);\n        float annualInterest=scanner.nextFloat();\n        float monthlyInterest=annualInterest/PERCENT/MONTHS_IN_YEAR;\n\n        System.out.println(&quot;How many years are you expecting to pay on this loan? 30year/15year?&quot;);\n        byte years= scanner.nextByte();\n        int numberOfPayments=years*MONTHS_IN_YEAR;\n\n        double mortgage=principal* (monthlyInterest*Math.pow(1+monthlyInterest,numberOfPayments)\n                /(Math.pow(1+monthlyInterest, numberOfPayments)-1));\n\n        String mortgageFormatted=NumberFormat.getCurrencyInstance().format(mortgage);\n        System.out.println(&quot;Here is your Mortgage Payment =&quot;+mortgageFormatted);\n    }\n}\n</code></pre>\n<p>Below is the error I am receiving when I try to run the Java program:</p>\n<pre><code> sh -c javac -classpath .:target/dependency/* -d . $(find . -type f -name '*.java')\n java -classpath .:target/dependency/* Main\nError: Could not find or load main class Main\nCaused by: java.lang.NoClassDefFoundError: com/berrycalc/Main (wrong name: Main)\nexit status 1\n ^C\n \n</code></pre>\n<p>Here is my replit link: <a href=\"https://replit.com/join/afsyvxnqas-amandaberry-tec\" rel=\"nofollow noreferrer\">https://replit.com/join/afsyvxnqas-amandaberry-tec</a></p>\n<p>I copied my code from Visual Studio Code to here but now everything has broken.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690921620,"post_id":76814903,"comment_id":135419699,"body_markdown":"Are you sure it needs to be `-D`? Can you try just `--spring.profiles.active=`? Also, for IDEA you can specify it directly as &quot;Profile&quot; field if you configure the module as a Spring project","body":"Are you sure it needs to be <code>-D</code>? Can you try just <code>--spring.profiles.active=</code>? Also, for IDEA you can specify it directly as &quot;Profile&quot; field if you configure the module as a Spring project"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1690921834,"post_id":76814903,"comment_id":135419730,"body_markdown":"@IgorArtamonov thanks, but this option also doesn&#39;t work. I am a little bit confused...does it mean that I try the correct way but it doesn&#39;t work for me? Maybe the reason is the other?","body":"@IgorArtamonov thanks, but this option also doesn&#39;t work. I am a little bit confused...does it mean that I try the correct way but it doesn&#39;t work for me? Maybe the reason is the other?"}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690922066,"creation_date":1690922066,"answer_id":76815003,"question_id":76814903,"body_markdown":"You need to pass `-Dspring.profiles.active=local` as a JVM argument.","title":"Spring profiling not works for application.properties","body":"<p>You need to pass <code>-Dspring.profiles.active=local</code> as a JVM argument.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76815003,"answer_count":1,"score":1,"last_activity_date":1690922066,"creation_date":1690920922,"question_id":76814903,"body_markdown":"I want to set default profile=prod (when the project executes from the ci-cd on the server) and profile=local when I execute a project from intellij idea.\r\n\r\nThere is application.properties file:\r\n\r\n```\r\nspring.profiles.active=prod\r\n\r\n#Database settings\r\nspring.datasource.url=jdbc:mysql://localhost:3306/ddauth\r\n...\r\n```\r\n\r\nThere is application-local.properties file:\r\n```\r\nspring.datasource.url=jdbc:mysql://172.17.0.2:3306/ddauth\r\n```\r\n\r\nthere is I set `spring.profiles.active` parameter in IntellijIdea Run configuration:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI also try to execute my jar file with a such parameter:\r\n\r\n`java -jar app.jar -Dspring.profiles.active=local`\r\n\r\n\r\n\r\nIn any case, the project is executing in the `prod` mode. I receive following message during execution:\r\n\r\n`2023-08-01 23:02:52 [INFO] | AuthRunner:640  The following 1 profile is active: &quot;prod&quot;`\r\n\r\nI read many different tutorials and haven&#39;t any ideas how it has to work. I know I can set this profile parameter also in the `bootJar` task, but I don&#39;t want to go through this way. I want implement this simple solution and figured out why it isn&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/ABeUM.png","title":"Spring profiling not works for application.properties","body":"<p>I want to set default profile=prod (when the project executes from the ci-cd on the server) and profile=local when I execute a project from intellij idea.</p>\n<p>There is application.properties file:</p>\n<pre><code>spring.profiles.active=prod\n\n#Database settings\nspring.datasource.url=jdbc:mysql://localhost:3306/ddauth\n...\n</code></pre>\n<p>There is application-local.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://172.17.0.2:3306/ddauth\n</code></pre>\n<p>there is I set <code>spring.profiles.active</code> parameter in IntellijIdea Run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/ABeUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABeUM.png\" alt=\"enter image description here\" /></a></p>\n<p>I also try to execute my jar file with a such parameter:</p>\n<p><code>java -jar app.jar -Dspring.profiles.active=local</code></p>\n<p>In any case, the project is executing in the <code>prod</code> mode. I receive following message during execution:</p>\n<p><code>2023-08-01 23:02:52 [INFO] | AuthRunner:640  The following 1 profile is active: &quot;prod&quot;</code></p>\n<p>I read many different tutorials and haven't any ideas how it has to work. I know I can set this profile parameter also in the <code>bootJar</code> task, but I don't want to go through this way. I want implement this simple solution and figured out why it isn't work.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-asset-inventory","google-cloud-marketplace"],"answers":[{"tags":[],"owner":{"account_id":25603997,"reputation":520,"user_id":19378437,"display_name":"Dion V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690921652,"creation_date":1690921652,"answer_id":76814960,"question_id":76753752,"body_markdown":"As per [dany L](https://stackoverflow.com/questions/68862338/list-the-installed-marketplace-products), for products used from Marketplace, Deployment manager is used as well. You can try to go to\n\n\n\n```\nMenu &gt; Deployments Manager &gt; Deployments\n```\n\n\n\nOr you can try to run a command\n\n```\ngcloud deployment-manager deployments list\n```\n","title":"Listing Google Cloud Marketplace Purchases using Asset Inventory API and/or Billing API in Java","body":"<p>As per <a href=\"https://stackoverflow.com/questions/68862338/list-the-installed-marketplace-products\">dany L</a>, for products used from Marketplace, Deployment manager is used as well. You can try to go to</p>\n<pre><code>Menu &gt; Deployments Manager &gt; Deployments\n</code></pre>\n<p>Or you can try to run a command</p>\n<pre><code>gcloud deployment-manager deployments list\n</code></pre>\n"}],"owner":{"account_id":5845160,"reputation":49,"user_id":4605522,"display_name":"Demetrio Lagan&#224;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690921652,"creation_date":1690195896,"question_id":76753752,"body_markdown":"I am currently working on a Java application that utilizes the Google Cloud Asset Inventory API to list all the assets within various projects of a company. Now, I am facing the challenge of listing all the products purchased on the Google Cloud Marketplace for each project.\r\n\r\nAfter exploring the documentation, I couldn&#39;t find a direct way to list all the Google Cloud Marketplace products associated with a specific project using the Cloud Asset API. Therefore, I believe I may need to use the Google Cloud Billing API to achieve this.\r\n\r\nMy main question is: How can I distinguish between the &quot;native&quot; Google Cloud services and the products that have been purchased from the Google Cloud Marketplace using the Billing API? I need to generate a list that clearly shows the products from the Marketplace, similar to the one depicted in the screenshot below.\r\n\r\n[![Goocgle Cloud Marketplace orders lis](https://i.stack.imgur.com/EKwnQ.png)](https://i.stack.imgur.com/EKwnQ.png)\r\n\r\nAny guidance or code examples on how to differentiate between native Google services and Marketplace purchases using the Billing API would be greatly appreciated. Thank you for your assistance!\r\n","title":"Listing Google Cloud Marketplace Purchases using Asset Inventory API and/or Billing API in Java","body":"<p>I am currently working on a Java application that utilizes the Google Cloud Asset Inventory API to list all the assets within various projects of a company. Now, I am facing the challenge of listing all the products purchased on the Google Cloud Marketplace for each project.</p>\n<p>After exploring the documentation, I couldn't find a direct way to list all the Google Cloud Marketplace products associated with a specific project using the Cloud Asset API. Therefore, I believe I may need to use the Google Cloud Billing API to achieve this.</p>\n<p>My main question is: How can I distinguish between the &quot;native&quot; Google Cloud services and the products that have been purchased from the Google Cloud Marketplace using the Billing API? I need to generate a list that clearly shows the products from the Marketplace, similar to the one depicted in the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/EKwnQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EKwnQ.png\" alt=\"Goocgle Cloud Marketplace orders lis\" /></a></p>\n<p>Any guidance or code examples on how to differentiate between native Google services and Marketplace purchases using the Billing API would be greatly appreciated. Thank you for your assistance!</p>\n"},{"tags":["java","arrays","inheritance","syntax"],"comments":[{"owner":{"account_id":2540065,"reputation":1086,"user_id":2206044,"accept_rate":100,"display_name":"Azar"},"score":0,"creation_date":1406126744,"post_id":24913612,"comment_id":38707747,"body_markdown":"Might be a better question for Programmers SE. Also see my question [here](http://programmers.stackexchange.com/a/239194/87528).","body":"Might be a better question for Programmers SE. Also see my question <a href=\"http://programmers.stackexchange.com/a/239194/87528\">here</a>."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1406126862,"post_id":24913612,"comment_id":38707833,"body_markdown":"possible duplicate of [Java: Extend class as array](http://stackoverflow.com/questions/10914928/java-extend-class-as-array)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10914928/java-extend-class-as-array\">Java: Extend class as array</a>"},{"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1406127058,"post_id":24913612,"comment_id":38708001,"body_markdown":"because it&#39;s a primitive not a class. You could extend from ArrayList instead but you will be having List","body":"because it&#39;s a primitive not a class. You could extend from ArrayList instead but you will be having List"},{"owner":{"account_id":199012,"reputation":3390,"user_id":444028,"accept_rate":90,"display_name":"Abhishek Oza"},"score":1,"creation_date":1406127246,"post_id":24913612,"comment_id":38708155,"body_markdown":"@Eran I don&#39;t think so, as that question asks: whether java allows so. Whereas my question is: why Java does not allow this?","body":"@Eran I don&#39;t think so, as that question asks: whether java allows so. Whereas my question is: why Java does not allow this?"}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1406127022,"creation_date":1406127022,"answer_id":24913784,"question_id":24913612,"body_markdown":"Extending a fundamental type such as a `String` or an array opens up security holes. If Java let you extend an array, its methods that take arrays would become insecure. That is why strings are `final`, and arrays cannot be extended at all.\r\n\r\nFor example, you could override the `clone()` method, and return an array of incorrect size. This has a potential of breaking the logic of system code that takes an array as its parameter.\r\n\r\nOn top of that, arrays are special objects in Java, in that they do not have a class definition.\r\n\r\nThere are two solution to the problem that you are trying to solve:\r\n\r\n- You could put the logic into a helper class with static methods, similar to `Collections`, etc. or\r\n- You could encapsulate an array inside your `IntArrayExtension` class, and provide wrapper methods for accessing the array and its additional features.","title":"Why Java does not allow to extend array type","body":"<p>Extending a fundamental type such as a <code>String</code> or an array opens up security holes. If Java let you extend an array, its methods that take arrays would become insecure. That is why strings are <code>final</code>, and arrays cannot be extended at all.</p>\n\n<p>For example, you could override the <code>clone()</code> method, and return an array of incorrect size. This has a potential of breaking the logic of system code that takes an array as its parameter.</p>\n\n<p>On top of that, arrays are special objects in Java, in that they do not have a class definition.</p>\n\n<p>There are two solution to the problem that you are trying to solve:</p>\n\n<ul>\n<li>You could put the logic into a helper class with static methods, similar to <code>Collections</code>, etc. or</li>\n<li>You could encapsulate an array inside your <code>IntArrayExtension</code> class, and provide wrapper methods for accessing the array and its additional features.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406127047,"creation_date":1406127047,"answer_id":24913804,"question_id":24913612,"body_markdown":"Arrays are objects but an array type is not a class and therefore can&#39;t be extended. See for example [JLS #10.8][1].\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.8","title":"Why Java does not allow to extend array type","body":"<p>Arrays are objects but an array type is not a class and therefore can't be extended. See for example <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.8\" rel=\"noreferrer\">JLS #10.8</a>.</p>\n"},{"tags":[],"owner":{"account_id":1411901,"reputation":11,"user_id":1338327,"display_name":"erikd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690921376,"creation_date":1690921376,"answer_id":76814931,"question_id":24913612,"body_markdown":"Instances of int[] are instances of java.lang.Object but the int[] type is not a class (unlike any other instance of java.lang.Object), so there&#39;s no class to extend. It&#39;s one of those interesting design quirks of Java.\r\n\r\nBut even if it were possible to extend int[] as if it were a class, it might not be the best approach to achieve the things you want anyway:\r\n - It&#39;s not very generic as it can then only sort/swap/copy/etc int[] arrays; not arrays of any other type such as double[]. Is such a self-imposed limitation necessary?\r\n - All the functionality that you want from arrays is available in java.util.Arrays anyway, which can handle any array type (int[], double[], MyAwesomeType&lt;?&gt;[], whatever).\r\n - Extending classes to merely just bolt on more functionality on top is generally to be avoided IMHO: Now other already existing (in this case) int[] arrays need to become instances of your new class to be able to access your awesome new functionality, and there&#39;s usually no need for this (and in this case there&#39;s definitely no need for this).","title":"Why Java does not allow to extend array type","body":"<p>Instances of int[] are instances of java.lang.Object but the int[] type is not a class (unlike any other instance of java.lang.Object), so there's no class to extend. It's one of those interesting design quirks of Java.</p>\n<p>But even if it were possible to extend int[] as if it were a class, it might not be the best approach to achieve the things you want anyway:</p>\n<ul>\n<li>It's not very generic as it can then only sort/swap/copy/etc int[] arrays; not arrays of any other type such as double[]. Is such a self-imposed limitation necessary?</li>\n<li>All the functionality that you want from arrays is available in java.util.Arrays anyway, which can handle any array type (int[], double[], MyAwesomeType&lt;?&gt;[], whatever).</li>\n<li>Extending classes to merely just bolt on more functionality on top is generally to be avoided IMHO: Now other already existing (in this case) int[] arrays need to become instances of your new class to be able to access your awesome new functionality, and there's usually no need for this (and in this case there's definitely no need for this).</li>\n</ul>\n"}],"owner":{"account_id":199012,"reputation":3390,"user_id":444028,"accept_rate":90,"display_name":"Abhishek Oza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7416,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24913784,"answer_count":3,"score":7,"last_activity_date":1690921376,"creation_date":1406126655,"question_id":24913612,"body_markdown":"As an experiment, I tried to extend an `int`-array like this:\r\n\r\n    public class IntArrayExtension extends int[]{\r\n     // additional fields and methods.\r\n    }\r\n\r\nto add some methods related to sorting, swapping, sub-array building etc. in the class itself. But I got this error while compiling:\r\n\r\n    IntArrayExtension.java:1: unexpected type\r\n    found   : int[]\r\n    required: class\r\n    public class IntArrayExtension extends int[]{\r\n                                              ^\r\n    1 error\r\n\r\nI am curious to know: why Java does not allow to extend an array?\r\n","title":"Why Java does not allow to extend array type","body":"<p>As an experiment, I tried to extend an <code>int</code>-array like this:</p>\n\n<pre><code>public class IntArrayExtension extends int[]{\n // additional fields and methods.\n}\n</code></pre>\n\n<p>to add some methods related to sorting, swapping, sub-array building etc. in the class itself. But I got this error while compiling:</p>\n\n<pre><code>IntArrayExtension.java:1: unexpected type\nfound   : int[]\nrequired: class\npublic class IntArrayExtension extends int[]{\n                                          ^\n1 error\n</code></pre>\n\n<p>I am curious to know: why Java does not allow to extend an array?</p>\n"},{"tags":["java","hibernate","lambda","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1404470355,"post_id":24562975,"comment_id":38062398,"body_markdown":"ORM libraries usually want to let the database do the queries. But there is no way of translating compiled Java&#160;8 lambdas into SQL queries.","body":"ORM libraries usually want to let the database do the queries. But there is no way of translating compiled Java 8 lambdas into SQL queries."},{"owner":{"account_id":1912122,"reputation":1213,"user_id":1725655,"accept_rate":100,"display_name":"dgn"},"score":1,"creation_date":1407523952,"post_id":24562975,"comment_id":39263719,"body_markdown":"I&#39;m also looking for the same thing. Afaik, Hibernate&#39;s criteria only allows to manipulate fields by their name as String, right? That&#39;s a main thing I&#39;d love to see improved","body":"I&#39;m also looking for the same thing. Afaik, Hibernate&#39;s criteria only allows to manipulate fields by their name as String, right? That&#39;s a main thing I&#39;d love to see improved"}],"answers":[{"tags":[],"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1472737992,"creation_date":1412041790,"answer_id":26111549,"question_id":24562975,"body_markdown":"I thought it could not be done too. But I saw Jinq http://www.jinq.org/ \r\nThey do it for raw SQL queries.\r\n\r\n\r\n    database.customerStream().where(\r\n    customer -&gt; customer.getName().equals(&quot;Alice&quot;));\r\n\r\nSo I think it just depends on someone implement the same kind of logic being used in Jinq for JPA entities, and generate JPQL queries.\r\n\r\n**UPDATE:** They do it for JPA too. http://www.jinq.org/docs/gettingstartedjpa.html","title":"Hibernate and java 8 lambda&#39;s","body":"<p>I thought it could not be done too. But I saw Jinq <a href=\"http://www.jinq.org/\" rel=\"noreferrer\">http://www.jinq.org/</a> \nThey do it for raw SQL queries.</p>\n\n<pre><code>database.customerStream().where(\ncustomer -&gt; customer.getName().equals(\"Alice\"));\n</code></pre>\n\n<p>So I think it just depends on someone implement the same kind of logic being used in Jinq for JPA entities, and generate JPQL queries.</p>\n\n<p><strong>UPDATE:</strong> They do it for JPA too. <a href=\"http://www.jinq.org/docs/gettingstartedjpa.html\" rel=\"noreferrer\">http://www.jinq.org/docs/gettingstartedjpa.html</a></p>\n"},{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690920538,"creation_date":1690920538,"answer_id":76814874,"question_id":24562975,"body_markdown":"I created a [library][1] that allows you to write JPA Criteria API queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. \r\n\r\nJPA has its Criteria API, which is rather hard to write, since there are several objects you must work with (`Root`, `CriteriaQuery` ...). This library takes away the boilerplate part and still allows you to use all the power of the standardized JPA Criteria API.\r\n\r\nExample:\r\n\r\n    List&lt;E&gt; entities =  findWhereOrdered(\r\n      (cb, root) -&gt; new PredicateAndOrder(\r\n        cb.equal(root.get(Vendor_.name), name),\r\n        List.of(OrderBy.asc(root.get(Vendor_.id)))));\r\n\r\n\r\n  [1]: https://github.com/janhalasa/jpa-repositories-with-lambda-expressions","title":"Hibernate and java 8 lambda&#39;s","body":"<p>I created a <a href=\"https://github.com/janhalasa/jpa-repositories-with-lambda-expressions\" rel=\"nofollow noreferrer\">library</a> that allows you to write JPA Criteria API queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API.</p>\n<p>JPA has its Criteria API, which is rather hard to write, since there are several objects you must work with (<code>Root</code>, <code>CriteriaQuery</code> ...). This library takes away the boilerplate part and still allows you to use all the power of the standardized JPA Criteria API.</p>\n<p>Example:</p>\n<pre><code>List&lt;E&gt; entities =  findWhereOrdered(\n  (cb, root) -&gt; new PredicateAndOrder(\n    cb.equal(root.get(Vendor_.name), name),\n    List.of(OrderBy.asc(root.get(Vendor_.id)))));\n</code></pre>\n"}],"owner":{"account_id":1215279,"reputation":697,"user_id":1183004,"accept_rate":75,"display_name":"RustamIS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6566,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26111549,"answer_count":2,"score":11,"last_activity_date":1690920538,"creation_date":1404420108,"question_id":24562975,"body_markdown":"Since the introduction of Java 8, is Hibernate waiting some changes? \r\nspecially\r\n\r\n 1. Is there any way to write queries with lambdas in Hibernate? (i.e. like a .net Linq-to-SQL style)\r\n\r\n 2. If not, when it&#39;s coming (If it&#39;s planned to come).\r\n \r\nfor example something like these: \r\n \r\n\r\n    User u1 = dbo.Users.firstOrDefault(f -&gt; f.userId = 10);\r\n\r\n    List&lt;User&gt; users = dbo.Users.selectMany(w -&gt; w.userId &gt; 5);","title":"Hibernate and java 8 lambda&#39;s","body":"<p>Since the introduction of Java 8, is Hibernate waiting some changes? \nspecially</p>\n\n<ol>\n<li><p>Is there any way to write queries with lambdas in Hibernate? (i.e. like a .net Linq-to-SQL style)</p></li>\n<li><p>If not, when it's coming (If it's planned to come).</p></li>\n</ol>\n\n<p>for example something like these: </p>\n\n<pre><code>User u1 = dbo.Users.firstOrDefault(f -&gt; f.userId = 10);\n\nList&lt;User&gt; users = dbo.Users.selectMany(w -&gt; w.userId &gt; 5);\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","pkcs#12","jks"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1661182382,"post_id":60611646,"comment_id":129705408,"body_markdown":"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/security/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1661181254,"creation_date":1583816501,"answer_id":60611788,"question_id":60611646,"body_markdown":"You must configure your `RestTemplate` to use the client certificate in an `HTTPS` connection as follows.\r\n\r\n    \r\n    @Bean\r\n    public RestTemplate restTemplate() throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\r\n        KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        clientStore.load(new FileInputStream(&quot;certfile-path&quot;), &quot;certificate-password&quot;.toCharArray());\r\n     \r\n        SSLContext sslContext = SSLContextBuilder.create()\r\n                .setProtocol(&quot;TLS&quot;)\r\n                .loadKeyMaterial(clientStore, &quot;certificate-password&quot;.toCharArray())\r\n                .loadTrustMaterial(new TrustSelfSignedStrategy())\r\n                .build();\r\n     \r\n        SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext);\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setSSLSocketFactory(sslConnectionSocketFactory)\r\n                .build();\r\n\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n\r\n        return new RestTemplate(requestFactory);\r\n    }\r\n\r\nand Inject `restTemplate` for using:\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    public void someMethod() {\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        String result = restTemplate.getForObject(uri, String.class);\r\n        System.out.println(&quot;Result &quot; + result);\r\n    }\r\n","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>You must configure your <code>RestTemplate</code> to use the client certificate in an <code>HTTPS</code> connection as follows.</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\n    KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    clientStore.load(new FileInputStream(&quot;certfile-path&quot;), &quot;certificate-password&quot;.toCharArray());\n \n    SSLContext sslContext = SSLContextBuilder.create()\n            .setProtocol(&quot;TLS&quot;)\n            .loadKeyMaterial(clientStore, &quot;certificate-password&quot;.toCharArray())\n            .loadTrustMaterial(new TrustSelfSignedStrategy())\n            .build();\n \n    SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext);\n    CloseableHttpClient httpClient = HttpClients.custom()\n            .setSSLSocketFactory(sslConnectionSocketFactory)\n            .build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n\n    return new RestTemplate(requestFactory);\n}\n</code></pre>\n<p>and Inject <code>restTemplate</code> for using:</p>\n<pre><code>@Autowired\nRestTemplate restTemplate;\n\npublic void someMethod() {\n    HttpHeaders httpHeaders = new HttpHeaders();\n    String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    String result = restTemplate.getForObject(uri, String.class);\n    System.out.println(&quot;Result &quot; + result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7702261,"reputation":1812,"user_id":5834387,"accept_rate":90,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690920280,"creation_date":1690920280,"answer_id":76814850,"question_id":60611646,"body_markdown":"Nothing works, simply throw this feign thing away and use rest template. It worked from the first attempt after spending an entire day on feigns bugs.","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>Nothing works, simply throw this feign thing away and use rest template. It worked from the first attempt after spending an entire day on feigns bugs.</p>\n"}],"owner":{"account_id":16762928,"reputation":73,"user_id":12117223,"display_name":"Kalhara Amarasinghe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11751,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1690920280,"creation_date":1583815300,"question_id":60611646,"body_markdown":"I want to connect to a secure server endpoint. The service provider has provided me with a .p12 file and the password. I tried the API call on postman after adding the certificate under **settings --&gt; certificates--&gt; client certificates** and it was a success.\r\n\r\nNow I want to integrate this to my java code. I am developing this application using Spring boot and I followed a couple of guides for this.I added the the .p12 file to my keystore using this command.\r\n\r\n    keytool -importkeystore -srckeystore uat_client.p12 -destkeystore store.keys -srcstoretype pkcs12 -alias myownkeyname \r\n\r\nBut every time I get &quot;No SSL Client Certificate Provided&quot;which is the same response I got when I did not add the certificate in the postman.\r\n\r\nI know this is not the ideal way to ask help since I do not have much code to show.And I am very new to this area of java. I am merely asking for some guide. If I have a .p12 file what are the steps I need to follow to connect to the service successfull.\r\n\r\n    public void someMethod()\r\n    {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n    \r\n        String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\r\n    \r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n        String result = restTemplate.getForObject(uri, String.class);\r\n    \r\n        System.out.println(&quot;Result &quot; + result);\r\n    }","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>I want to connect to a secure server endpoint. The service provider has provided me with a .p12 file and the password. I tried the API call on postman after adding the certificate under <strong>settings --> certificates--> client certificates</strong> and it was a success.</p>\n\n<p>Now I want to integrate this to my java code. I am developing this application using Spring boot and I followed a couple of guides for this.I added the the .p12 file to my keystore using this command.</p>\n\n<pre><code>keytool -importkeystore -srckeystore uat_client.p12 -destkeystore store.keys -srcstoretype pkcs12 -alias myownkeyname \n</code></pre>\n\n<p>But every time I get \"No SSL Client Certificate Provided\"which is the same response I got when I did not add the certificate in the postman.</p>\n\n<p>I know this is not the ideal way to ask help since I do not have much code to show.And I am very new to this area of java. I am merely asking for some guide. If I have a .p12 file what are the steps I need to follow to connect to the service successfull.</p>\n\n<pre><code>public void someMethod()\n{\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders httpHeaders = new HttpHeaders();\n\n    String uri = \"https://xx.net/api/v2/somemethod\";\n\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n\n    String result = restTemplate.getForObject(uri, String.class);\n\n    System.out.println(\"Result \" + result);\n}\n</code></pre>\n"},{"tags":["java","list","multithreading","thread-safety"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1690918853,"post_id":76814710,"comment_id":135419290,"body_markdown":"We&#39;d need to see all the code (including `loadObjList()`) but in general this will work once (because static initializations are made visible by the JVM) but any time you assign `objList` after that there&#39;s no memory visibility.  You should use, at minimum, the `volatile` keyword on that field, and depending on the rest of the code there certainly could be other problems.","body":"We&#39;d need to see all the code (including <code>loadObjList()</code>) but in general this will work once (because static initializations are made visible by the JVM) but any time you assign <code>objList</code> after that there&#39;s no memory visibility.  You should use, at minimum, the <code>volatile</code> keyword on that field, and depending on the rest of the code there certainly could be other problems."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690920100,"post_id":76814710,"comment_id":135419484,"body_markdown":"@markspace I added the loadBookList() and replaced the MyObj with Book for readability. All the other methods that acces the list are doing something similar to getShortFromName(), just return a different field or a list of 1 field of all objects. The book object inside the List is also never altered, onyl read.","body":"@markspace I added the loadBookList() and replaced the MyObj with Book for readability. All the other methods that acces the list are doing something similar to getShortFromName(), just return a different field or a list of 1 field of all objects. The book object inside the List is also never altered, onyl read."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690920723,"post_id":76814710,"comment_id":135419571,"body_markdown":"As long as no methods attempt to alter the list itself or its contents, Book, you should be OK with just using `volatile`.  Volatile has a full memory barrier, so any reads after the write of a volatile field will be correctly synchronized.  I don&#39;t really understand why you&#39;re using a thread in `asyncListCheck()`, and why you create a new thread each time you call `getShortFromName()` -- this is hugely inefficient.  But perhaps that is not pertinent to the question.","body":"As long as no methods attempt to alter the list itself or its contents, Book, you should be OK with just using <code>volatile</code>.  Volatile has a full memory barrier, so any reads after the write of a volatile field will be correctly synchronized.  I don&#39;t really understand why you&#39;re using a thread in <code>asyncListCheck()</code>, and why you create a new thread each time you call <code>getShortFromName()</code> -- this is hugely inefficient.  But perhaps that is not pertinent to the question."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690921167,"post_id":76814710,"comment_id":135419624,"body_markdown":"@markspace thanks for your help, volatile does seem like it would do enough after some research. There is no specific reason as to why asyncListCheck() creates a new thread each time, i&#39;m inexperienced at multithreading and this was the easy solution that i came up with. While it does not belong to the original question, I&#39;d be thankfor for advice or another method that i should research to make this more efficient.","body":"@markspace thanks for your help, volatile does seem like it would do enough after some research. There is no specific reason as to why asyncListCheck() creates a new thread each time, i&#39;m inexperienced at multithreading and this was the easy solution that i came up with. While it does not belong to the original question, I&#39;d be thankfor for advice or another method that i should research to make this more efficient."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1690928478,"post_id":76814710,"comment_id":135420697,"body_markdown":"This is not thread safe in a useful way. It may regenerate the list multiple times and re-use old lists longer than intended. It&#39;s much easier to fix this than to try to make arguments about eventual consistency based on the JMM.","body":"This is not thread safe in a useful way. It may regenerate the list multiple times and re-use old lists longer than intended. It&#39;s much easier to fix this than to try to make arguments about eventual consistency based on the JMM."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690961104,"post_id":76814710,"comment_id":135423949,"body_markdown":"@thatotherguy I&#39;d love to hear your suggestions","body":"@thatotherguy I&#39;d love to hear your suggestions"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1690993526,"post_id":76814710,"comment_id":135431425,"body_markdown":"The standard way would be a synchronized method that optionally updates and then returns the current book list. Consumers would then call that instead of accessing a field.","body":"The standard way would be a synchronized method that optionally updates and then returns the current book list. Consumers would then call that instead of accessing a field."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690994854,"post_id":76814710,"comment_id":135431701,"body_markdown":"I&#39;m assuming that the code above is just a [mcve] for the real code.  But a factory method is a nice idea.  Even if the field is private, encapsulating its functions in a method is always worth considering.  Saves copy paste and also puts all the code in one spot.","body":"I&#39;m assuming that the code above is just a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for the real code.  But a factory method is a nice idea.  Even if the field is private, encapsulating its functions in a method is always worth considering.  Saves copy paste and also puts all the code in one spot."}],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690920043,"creation_date":1690918595,"question_id":76814710,"body_markdown":"I have a static List in my class, the content is loaded from a file whose content i get through an API endpoint. Along with the list i save a timestamp when the list was last refreshed or checked for updates.\r\nThis list is accessed by methods in the class, which are called from outside the class, but all methods **only read** from the list. The book object inside the List is also never altered, only read. Every time any method which accesses the list is called i check the timestamp, if it&#39;s older than a set frame i check the API for changes to the file. If changes to the file were made i start an async Thread realoading the file and once it&#39;s finished, i **overwrite** the list.\r\n\r\nNow that got me wondering about Thread safety, since they are only reading i thought there should be no problems and i have not found any problems. But most of the methods accessing the list iterate over it, that got me wondering what happens when the reload of the list is saved while a method is iterating over it. Has it already made a copy at that point, or is it loading each entry per index?\r\n\r\nI am aware, that the first person using a accessing method after the specified timeframe would get the old list, since the iteration will finish before the reload, this is fine.\r\n\r\n\r\n```\r\nprivate static List&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\r\nprivate static long timestamp = 0; \r\n\r\nstatic\r\n{\r\n    try\r\n    {\r\n        bookList = loadBookList();\r\n        timestamp = System.currentTimeMillis();\r\n    } catch (Exception e)\r\n    {\r\n        log.error(&quot;Failed initial load of bookList : &quot; + e.getMessage());\r\n    }\r\n}\r\n\r\n\r\npublic static String getShortFromName(String name) throws UnknownBookException\r\n{\r\n    asyncListCheck();\r\n\r\n    for (Book book: bookList)\r\n    {\r\n        if (book.getName().equalsIgnoreCase(name))\r\n        {\r\n            return book.getShort();\r\n        }\r\n    }\r\n\r\n    throw new UnknownObjException(MSG_ERR_NOBOOK);\r\n}\r\n\r\n[...] More methods that access the list\r\n\r\nprivate static void asyncListCheck() \r\n{\r\n    new Thread(() -&gt;\r\n    {\r\n        try\r\n        {\r\n            if (isOldList() &amp;&amp; fileWasModified())\r\n            {\r\n            \tbookList = loadBookList();\r\n                timestamp = System.currentTimeMillis();\r\n            }\r\n        } catch (Exception e)\r\n        {\r\n            log.error(&quot;Failed reload of bookList : &quot; + e.getMessage());\r\n        }\r\n    }).start();\r\n}\r\n\r\npublic static List&lt;Book&gt; loadBookList() throws Exception\r\n{\r\n    // Make API call\r\n\r\n    List&lt;Object&gt; objList = // Results end up in here\r\n    \r\n    List&lt;Book&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    for (Object obj: objList)\r\n    {\r\n        Map&lt;String, Object&gt; bookMap = (Map&lt;String, Object&gt;) obj;\r\n\r\n        String name = String.valueOf(bookMap.get(&quot;name&quot;));\r\n        [...] more of this\r\n\r\n        Book book = new Book();\r\n        [...] set all the fields\r\n\r\n        list.add(book);\r\n    }\r\n\r\n    return list;\r\n}\r\n\r\n```\r\n\r\n\r\nUsing Collections.synchronizedList(list) is not of use, since i only overwrite the whole list. I could instead empty the list and refill it, but that seems like unnecessary work? ","title":"Is overwriting Lists while another Thread is reading Thread-Safe?","body":"<p>I have a static List in my class, the content is loaded from a file whose content i get through an API endpoint. Along with the list i save a timestamp when the list was last refreshed or checked for updates.\nThis list is accessed by methods in the class, which are called from outside the class, but all methods <strong>only read</strong> from the list. The book object inside the List is also never altered, only read. Every time any method which accesses the list is called i check the timestamp, if it's older than a set frame i check the API for changes to the file. If changes to the file were made i start an async Thread realoading the file and once it's finished, i <strong>overwrite</strong> the list.</p>\n<p>Now that got me wondering about Thread safety, since they are only reading i thought there should be no problems and i have not found any problems. But most of the methods accessing the list iterate over it, that got me wondering what happens when the reload of the list is saved while a method is iterating over it. Has it already made a copy at that point, or is it loading each entry per index?</p>\n<p>I am aware, that the first person using a accessing method after the specified timeframe would get the old list, since the iteration will finish before the reload, this is fine.</p>\n<pre><code>private static List&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\nprivate static long timestamp = 0; \n\nstatic\n{\n    try\n    {\n        bookList = loadBookList();\n        timestamp = System.currentTimeMillis();\n    } catch (Exception e)\n    {\n        log.error(&quot;Failed initial load of bookList : &quot; + e.getMessage());\n    }\n}\n\n\npublic static String getShortFromName(String name) throws UnknownBookException\n{\n    asyncListCheck();\n\n    for (Book book: bookList)\n    {\n        if (book.getName().equalsIgnoreCase(name))\n        {\n            return book.getShort();\n        }\n    }\n\n    throw new UnknownObjException(MSG_ERR_NOBOOK);\n}\n\n[...] More methods that access the list\n\nprivate static void asyncListCheck() \n{\n    new Thread(() -&gt;\n    {\n        try\n        {\n            if (isOldList() &amp;&amp; fileWasModified())\n            {\n                bookList = loadBookList();\n                timestamp = System.currentTimeMillis();\n            }\n        } catch (Exception e)\n        {\n            log.error(&quot;Failed reload of bookList : &quot; + e.getMessage());\n        }\n    }).start();\n}\n\npublic static List&lt;Book&gt; loadBookList() throws Exception\n{\n    // Make API call\n\n    List&lt;Object&gt; objList = // Results end up in here\n    \n    List&lt;Book&gt; list = new ArrayList&lt;&gt;();\n\n    for (Object obj: objList)\n    {\n        Map&lt;String, Object&gt; bookMap = (Map&lt;String, Object&gt;) obj;\n\n        String name = String.valueOf(bookMap.get(&quot;name&quot;));\n        [...] more of this\n\n        Book book = new Book();\n        [...] set all the fields\n\n        list.add(book);\n    }\n\n    return list;\n}\n\n</code></pre>\n<p>Using Collections.synchronizedList(list) is not of use, since i only overwrite the whole list. I could instead empty the list and refill it, but that seems like unnecessary work?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1658121880,"post_id":73017508,"comment_id":128963058,"body_markdown":"Could you show the code you&#39;ve already tried in Java?","body":"Could you show the code you&#39;ve already tried in Java?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1658124919,"post_id":73017508,"comment_id":128963618,"body_markdown":"&quot;Also...&quot; This sounds like a second question. Please post it separately.","body":"&quot;Also...&quot; This sounds like a second question. Please post it separately."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1658125801,"post_id":73017508,"comment_id":128963789,"body_markdown":"AFAIK JPA does not support this type of query. What it does support is defining queries something like `findByProperty1AndProperty2(String prop1, String prop2)` (not 100% correct syntax). In JPA you only need to map the columns for a table that you actually need. If you don&#39;t need a column, don&#39;t map it. And if you need additional fields, that are not in the database, you annotate them with `@Transient`","body":"AFAIK JPA does not support this type of query. What it does support is defining queries something like <code>findByProperty1AndProperty2(String prop1, String prop2)</code> (not 100% correct syntax). In JPA you only need to map the columns for a table that you actually need. If you don&#39;t need a column, don&#39;t map it. And if you need additional fields, that are not in the database, you annotate them with <code>@Transient</code>"},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658319524,"post_id":73017508,"comment_id":129021354,"body_markdown":"While my code is work code and I cannot share on this forum, I will try to come up with an example..  It may be a few days.","body":"While my code is work code and I cannot share on this forum, I will try to come up with an example..  It may be a few days."},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658319808,"post_id":73017508,"comment_id":129021476,"body_markdown":"&quot;In JPA you only need to map the columns for a table that you actually need&quot;  Here is again an issue with JPA.  If I am pulling different parts of a table, based upon different needs, I would be forced to create multiple maps of the same table.  In C#, I was able to map business objects to multiple tables, query the data I need w/o extra data via the Select() linq function.  JPA team.  you need to look at a few things to add to help us who write Java.","body":"&quot;In JPA you only need to map the columns for a table that you actually need&quot;  Here is again an issue with JPA.  If I am pulling different parts of a table, based upon different needs, I would be forced to create multiple maps of the same table.  In C#, I was able to map business objects to multiple tables, query the data I need w/o extra data via the Select() linq function.  JPA team.  you need to look at a few things to add to help us who write Java."},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658320012,"post_id":73017508,"comment_id":129021551,"body_markdown":"&quot;findByProperty1AndProperty2(String prop1, String prop2)&quot;  works unless you are querying data with many criteria.  Also that is literally a &quot;magic string&quot;, meaning the compiler may not know the difference and leave it as is.  But the runtime parsing can possibly fail.","body":"&quot;findByProperty1AndProperty2(String prop1, String prop2)&quot;  works unless you are querying data with many criteria.  Also that is literally a &quot;magic string&quot;, meaning the compiler may not know the difference and leave it as is.  But the runtime parsing can possibly fail."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658128211,"creation_date":1658128211,"answer_id":73018472,"question_id":73017508,"body_markdown":"Not exactly the same as in C# with nHibernate or even LINQ.\r\n\r\nBut if you are using Spring Data JPA you could use Criteria API in Specifications.\r\n\r\nDocs: \r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>Not exactly the same as in C# with nHibernate or even LINQ.</p>\n<p>But if you are using Spring Data JPA you could use Criteria API in Specifications.</p>\n<p>Docs:\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications</a></p>\n"},{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690919924,"creation_date":1690919924,"answer_id":76814814,"question_id":73017508,"body_markdown":"I have created a [library][1] that allows you to write JPA queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. It even supports pagination.\r\n\r\nExample:\r\n\r\n    List&lt;E&gt; entities = findWhere(\r\n    (cb, root) -&gt; cb.and(\r\n        cb.equal(root.join(Car_.model).get(CarModel_.vendor), vendor),\r\n        cb.equal(root.get(Car_.color), color))\r\n\r\n\r\n  [1]: https://github.com/janhalasa/jpa-repositories-with-lambda-expressions","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>I have created a <a href=\"https://github.com/janhalasa/jpa-repositories-with-lambda-expressions\" rel=\"nofollow noreferrer\">library</a> that allows you to write JPA queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. It even supports pagination.</p>\n<p>Example:</p>\n<pre><code>List&lt;E&gt; entities = findWhere(\n(cb, root) -&gt; cb.and(\n    cb.equal(root.join(Car_.model).get(CarModel_.vendor), vendor),\n    cb.equal(root.get(Car_.color), color))\n</code></pre>\n"}],"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690919924,"creation_date":1658120438,"question_id":73017508,"body_markdown":"I am a C# developer learning Java. In C#, I create all my queries using lambda expressions, and inject the expression into the nHibernate session.  My signature is `Expression&lt;Func&lt;T, bool&gt;&gt;`.  The expression is based upon a generic entity (T) and executes a `boolean` condition.\r\n\r\n    var results = repo.find(t =&gt; t.property1 == something &amp;&amp; t.property2 == somethingElse);\r\n\r\nI have been searching JPA until I am going crazy trying to figure out how to do this in JPA/Spring.  \r\n\r\nI am unable to recreate this in JPA.  Am I missing something?  Is this not a feature in `JPA`?\r\n\r\nAlso `JPA` seems to be set upon a DTO, and what I have found is very little support to work with business objects that are not syntactically equivalent to the data tables. (I have not written a DTO in years as a C# programmer.  `Fluent.nHibernate` extracts the DTO process by mapping business objects to the database format.)  \r\n\r\n\r\n\r\n","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>I am a C# developer learning Java. In C#, I create all my queries using lambda expressions, and inject the expression into the nHibernate session.  My signature is <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code>.  The expression is based upon a generic entity (T) and executes a <code>boolean</code> condition.</p>\n<pre><code>var results = repo.find(t =&gt; t.property1 == something &amp;&amp; t.property2 == somethingElse);\n</code></pre>\n<p>I have been searching JPA until I am going crazy trying to figure out how to do this in JPA/Spring.</p>\n<p>I am unable to recreate this in JPA.  Am I missing something?  Is this not a feature in <code>JPA</code>?</p>\n<p>Also <code>JPA</code> seems to be set upon a DTO, and what I have found is very little support to work with business objects that are not syntactically equivalent to the data tables. (I have not written a DTO in years as a C# programmer.  <code>Fluent.nHibernate</code> extracts the DTO process by mapping business objects to the database format.)</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690919914,"creation_date":1597333320,"answer_id":63398596,"question_id":63398290,"body_markdown":"You could try to create a collection of collections and then `flatMap`:\r\n\r\n    List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                .map(element -&gt; {\r\n                \tList&lt;String&gt; url = new ArrayList&lt;&gt;();\r\n                \turl.add( element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;));\r\n                \turl.add( element.absUrl(&quot;srcset&quot;));\r\n                \treturn url;\r\n                })\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList());\r\n\r\n\r\nFor your last answer, assuming your URLs don&#39;t contain white spaces you could use:\r\n\r\n    StringUtils.substringBefore(element.absUrl(&quot;data-srcset&quot;),&quot; &quot;)\r\n\r\n\r\nEDIT:\r\n\r\nI assumed you could have both `srcset` and `data-srcset` in the same image. Reading again I end up with a better approach:\r\n\r\n        List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                    .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                    .map(element -&gt; StringUtils.isNotEmpty(element.absUrl(&quot;srcset&quot;)) ? \r\n                       element.absUrl(&quot;srcset&quot;) : \r\n                       element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n                    .collect(Collectors.toList());\r\n\r\n","title":"Get all img src with Jsoup","body":"<p>You could try to create a collection of collections and then <code>flatMap</code>:</p>\n<pre><code>List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n            .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n            .map(element -&gt; {\n                List&lt;String&gt; url = new ArrayList&lt;&gt;();\n                url.add( element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;));\n                url.add( element.absUrl(&quot;srcset&quot;));\n                return url;\n            })\n            .flatMap(List::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>For your last answer, assuming your URLs don't contain white spaces you could use:</p>\n<pre><code>StringUtils.substringBefore(element.absUrl(&quot;data-srcset&quot;),&quot; &quot;)\n</code></pre>\n<p>EDIT:</p>\n<p>I assumed you could have both <code>srcset</code> and <code>data-srcset</code> in the same image. Reading again I end up with a better approach:</p>\n<pre><code>    List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n                .map(element -&gt; StringUtils.isNotEmpty(element.absUrl(&quot;srcset&quot;)) ? \n                   element.absUrl(&quot;srcset&quot;) : \n                   element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":16768470,"reputation":312,"user_id":13707722,"display_name":"miroha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63398596,"answer_count":1,"score":2,"last_activity_date":1690919914,"creation_date":1597332253,"question_id":63398290,"body_markdown":"I&#39;ve html code with following `img src` parts:\r\n```\r\n&lt;img src=&quot;https://lh3.googleusercontent.com/...rw&quot; srcset=&quot;https://lh3.googleusercontent.com/...rw 2x&quot; class=&quot;T75of DYfLw&quot; width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&quot;&gt;\r\n```\r\n```\r\n&lt;img data-src=&quot;https://lh3.googleusercontent.com/...w720-h310-rw&quot; ... data-srcset=&quot;https://lh3.googleusercontent.com/... w1440-h620-rw 2x&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot;width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&gt;\r\n```\r\n\r\nI want to get all screenshots with attribute `alt=Screenshot Image`. So I need the value inside attribute `srcset` and `data-srcset` (2 different attribute names = 2 different cases).\r\n\r\nI wrote this code:\r\n\r\n```\r\nList&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                .map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n                //or for 1st case\r\n                .map(element -&gt; element.absUrl(&quot;srcset&quot;)..\r\n                //\r\n                .collect(Collectors.toList());\r\n```\r\nBut now I can&#39;t get this value from first case, where this attribute is `srcset`, not `data-srcset`. Can I get srcs for both scenarios without additional iteration - like not to create another stream and then unite all results into one collection? Maybe some regex and another method (seems like `.absUrl` doesn&#39;t work with regex) in Jsoup library can help?\r\n\r\nAnd I don&#39;t like the part with `replace` (maybe some src will contain 2x as own part). \r\n```\r\n.map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n```\r\nBut without this manipulation I&#39;ll get non-correct src.\r\n```\r\nhttps://lh3.googleusercontent.com/Z...=w1440-h620-rw 2x\r\n```\r\nCan I improve this `replace` solution with smth else?","title":"Get all img src with Jsoup","body":"<p>I've html code with following <code>img src</code> parts:</p>\n<pre><code>&lt;img src=&quot;https://lh3.googleusercontent.com/...rw&quot; srcset=&quot;https://lh3.googleusercontent.com/...rw 2x&quot; class=&quot;T75of DYfLw&quot; width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&quot;&gt;\n</code></pre>\n<pre><code>&lt;img data-src=&quot;https://lh3.googleusercontent.com/...w720-h310-rw&quot; ... data-srcset=&quot;https://lh3.googleusercontent.com/... w1440-h620-rw 2x&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot;width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&gt;\n</code></pre>\n<p>I want to get all screenshots with attribute <code>alt=Screenshot Image</code>. So I need the value inside attribute <code>srcset</code> and <code>data-srcset</code> (2 different attribute names = 2 different cases).</p>\n<p>I wrote this code:</p>\n<pre><code>List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n                .map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n                //or for 1st case\n                .map(element -&gt; element.absUrl(&quot;srcset&quot;)..\n                //\n                .collect(Collectors.toList());\n</code></pre>\n<p>But now I can't get this value from first case, where this attribute is <code>srcset</code>, not <code>data-srcset</code>. Can I get srcs for both scenarios without additional iteration - like not to create another stream and then unite all results into one collection? Maybe some regex and another method (seems like <code>.absUrl</code> doesn't work with regex) in Jsoup library can help?</p>\n<p>And I don't like the part with <code>replace</code> (maybe some src will contain 2x as own part).</p>\n<pre><code>.map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n</code></pre>\n<p>But without this manipulation I'll get non-correct src.</p>\n<pre><code>https://lh3.googleusercontent.com/Z...=w1440-h620-rw 2x\n</code></pre>\n<p>Can I improve this <code>replace</code> solution with smth else?</p>\n"},{"tags":["java","maven","lombok","java-11","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":1924499,"reputation":769,"user_id":1735269,"accept_rate":40,"display_name":"somshivam"},"score":0,"creation_date":1588070953,"post_id":61478335,"comment_id":108752479,"body_markdown":"Does this answer your question? [Building with Lombok&#39;s @Slf4j and Intellij: Cannot find symbol log](https://stackoverflow.com/questions/14866765/building-with-lomboks-slf4j-and-intellij-cannot-find-symbol-log)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14866765/building-with-lomboks-slf4j-and-intellij-cannot-find-symbol-log\">Building with Lombok&#39;s @Slf4j and Intellij: Cannot find symbol log</a>"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588071356,"post_id":61478335,"comment_id":108752679,"body_markdown":"@somshivam no, as I said, I already tried those answers.","body":"@somshivam no, as I said, I already tried those answers."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1588071993,"post_id":61478335,"comment_id":108752978,"body_markdown":"what is your maven compiler setup?","body":"what is your maven compiler setup?"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588072179,"post_id":61478335,"comment_id":108753062,"body_markdown":"@DarrenForsythe added to question","body":"@DarrenForsythe added to question"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1588072481,"post_id":61478335,"comment_id":108753214,"body_markdown":"Assume there;s no other annotation processors kicking around? e.g. lombok + mapstract was always a good gotcha","body":"Assume there;s no other annotation processors kicking around? e.g. lombok + mapstract was always a good gotcha"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1588073903,"post_id":61478335,"comment_id":108753939,"body_markdown":"@karottenbunker IntelliJ version, you are using? Just comment out the `&lt;annotationProcessorPaths&gt;` configuration in your code and try. By some experience  I wrote this comment to a similar configuration in my code `&lt;!--contradictory to maven, intelliJ fails with this--&gt;`","body":"@karottenbunker IntelliJ version, you are using? Just comment out the <code>&lt;annotationProcessorPaths&gt;</code> configuration in your code and try. By some experience  I wrote this comment to a similar configuration in my code <code>&lt;!--contradictory to maven, intelliJ fails with this--&gt;</code>"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588075393,"post_id":61478335,"comment_id":108754765,"body_markdown":"@DarrenForsythe no, just lombok.","body":"@DarrenForsythe no, just lombok."},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588075396,"post_id":61478335,"comment_id":108754767,"body_markdown":"@Naman it still does not work.","body":"@Naman it still does not work."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1588084499,"post_id":61478335,"comment_id":108760348,"body_markdown":"Of your bullet points 1) and 2) only relate to the IDE 4) and 5) are not required","body":"Of your bullet points 1) and 2) only relate to the IDE 4) and 5) are not required"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588084578,"post_id":61478335,"comment_id":108760400,"body_markdown":"[ERROR]: cannot find symbol variable log @Michael","body":"[ERROR]: cannot find symbol variable log @Michael"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588085008,"post_id":61478335,"comment_id":108760693,"body_markdown":"I missed the slf4j depedency but it didn&#39;t complain about a missing import though, maybe because of lombok?","body":"I missed the slf4j depedency but it didn&#39;t complain about a missing import though, maybe because of lombok?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1588085825,"post_id":61478335,"comment_id":108761234,"body_markdown":"@karottenbunker Interesting. Added my (educated) guess as an answer","body":"@karottenbunker Interesting. Added my (educated) guess as an answer"}],"answers":[{"tags":[],"owner":{"account_id":11951164,"reputation":2403,"user_id":9935369,"display_name":"Roberto Manfreda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1588084704,"creation_date":1588076631,"answer_id":61480104,"question_id":61478335,"body_markdown":"This is a really minimal example configuration for using the `@Slf4j` lombok logging annotation.  \r\n\r\nYou need a logging facade and an implementation, in this case I&#39;m going to use [slf4j][1] (as facade) and [logback][2] (as implementation).  \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n**pom.xml**  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.12&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;   \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n**main.java**  \r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            log.debug(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nIf you get some trouble try always to force the maven dependencies updates running in your project folder `mvn -U clean package` and reimporting maven project in your IDE     \r\n  \r\n[![See screenshot][3]][3] \r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/\r\n  [3]: https://i.stack.imgur.com/vrbKA.png","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>This is a really minimal example configuration for using the <code>@Slf4j</code> lombok logging annotation.  </p>\n\n<p>You need a logging facade and an implementation, in this case I'm going to use <a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">slf4j</a> (as facade) and <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">logback</a> (as implementation).  </p>\n\n<hr>\n\n<p><strong>pom.xml</strong>  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;   \n</code></pre>\n\n<hr>\n\n<p><strong>main.java</strong>  </p>\n\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class Main {\n\n    public static void main(String[] args) {\n        log.debug(\"Hello\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>If you get some trouble try always to force the maven dependencies updates running in your project folder <code>mvn -U clean package</code> and reimporting maven project in your IDE     </p>\n\n<p><a href=\"https://i.stack.imgur.com/vrbKA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vrbKA.png\" alt=\"See screenshot\"></a> </p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1588085805,"creation_date":1588085805,"answer_id":61483263,"question_id":61478335,"body_markdown":"My suspicion is that this is a misleading error message as a consequence of the point that Lombok hooks in during compilation.\r\n\r\nIn bytecode, there is no concept of an import. Classes are replaced by their fully qualified names (e.g. `Integer` to `java.lang.Integer`). Therefore at some point in compilation, the imports are parsed, applied, and any unknown classes (e.g. due to lack of the correct dependency) will throw an error at this stage.\r\n\r\nSince `@Slf4j` means you do not need to import `org.slf4j.Logger`, the step described above is missed for this class.\r\n\r\nAfter Lombok has appended the `log` field, the compiler must subsequently look at it&#39;s usage, see the class `org.slf4j.Logger` which it does not recognise and throws an error. Under normal circumstances, due to the earlier compilation stage, the only possible cause is that the field doesn&#39;t exist, so infers that the symbol `log` must be missing. What it is really failing to understand is the *type* of the field `log`.\r\n\r\nBecause Lombok makes changes in the middle of compilation, I guess spurious errors such as these are always a possibility. Perhaps Lombok developers could fix it by doing their own check for `org.slf4j.Logger`. Most of the functionality provided by Lombok does not involve &quot;importing&quot; external classes, so I&#39;m not surprised that it doesn&#39;t handle this edge case as elegantly as possible.\r\n\r\nIf you add the dependency for SLF4J, the compiler will no longer complain.","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>My suspicion is that this is a misleading error message as a consequence of the point that Lombok hooks in during compilation.</p>\n\n<p>In bytecode, there is no concept of an import. Classes are replaced by their fully qualified names (e.g. <code>Integer</code> to <code>java.lang.Integer</code>). Therefore at some point in compilation, the imports are parsed, applied, and any unknown classes (e.g. due to lack of the correct dependency) will throw an error at this stage.</p>\n\n<p>Since <code>@Slf4j</code> means you do not need to import <code>org.slf4j.Logger</code>, the step described above is missed for this class.</p>\n\n<p>After Lombok has appended the <code>log</code> field, the compiler must subsequently look at it's usage, see the class <code>org.slf4j.Logger</code> which it does not recognise and throws an error. Under normal circumstances, due to the earlier compilation stage, the only possible cause is that the field doesn't exist, so infers that the symbol <code>log</code> must be missing. What it is really failing to understand is the <em>type</em> of the field <code>log</code>.</p>\n\n<p>Because Lombok makes changes in the middle of compilation, I guess spurious errors such as these are always a possibility. Perhaps Lombok developers could fix it by doing their own check for <code>org.slf4j.Logger</code>. Most of the functionality provided by Lombok does not involve \"importing\" external classes, so I'm not surprised that it doesn't handle this edge case as elegantly as possible.</p>\n\n<p>If you add the dependency for SLF4J, the compiler will no longer complain.</p>\n"},{"tags":[],"owner":{"account_id":1943284,"reputation":21,"user_id":1748958,"display_name":"Gal Schneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637650940,"creation_date":1637625450,"answer_id":70073801,"question_id":61478335,"body_markdown":"In lombok.config file for lombok.log.custom.declaration property use full name including the package for the classes\r\n\r\n    lombok.log.custom.declaration=com.mycomp.logging.Log\r\n    com.mycomp.logging.LogFactory.getLog(TYPE)(TOPIC)","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>In lombok.config file for lombok.log.custom.declaration property use full name including the package for the classes</p>\n<pre><code>lombok.log.custom.declaration=com.mycomp.logging.Log\ncom.mycomp.logging.LogFactory.getLog(TYPE)(TOPIC)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3519576,"reputation":1,"user_id":2942218,"display_name":"Tebogo Kgofelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690918685,"creation_date":1690471194,"answer_id":76781239,"question_id":61478335,"body_markdown":"If you already added `Lombok` plugin and enabled `Lombok` annotations, then your problem is on the IDE cache.\r\n\r\nInvalidate Caches\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInvalidate and Restart\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKCDP.png\r\n  [2]: https://i.stack.imgur.com/sHhFO.png","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>If you already added <code>Lombok</code> plugin and enabled <code>Lombok</code> annotations, then your problem is on the IDE cache.</p>\n<p>Invalidate Caches</p>\n<p><a href=\"https://i.stack.imgur.com/hKCDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKCDP.png\" alt=\"enter image description here\" /></a></p>\n<p>Invalidate and Restart</p>\n<p><a href=\"https://i.stack.imgur.com/sHhFO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHhFO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14838,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":61480104,"answer_count":4,"score":7,"last_activity_date":1690918685,"creation_date":1588070741,"question_id":61478335,"body_markdown":"I am trying to build a Java 11 project with maven and lombok&#39;s @Slf4j Logger, but maven does not recognize the `log` variables. IntelliJ does though and is able to build the project.\r\n\r\nThe error is\r\n\r\n    [ERROR]: cannot find symbol variable log \r\n\r\nProject and Module SDK is both Java 11. Lombok Version is 1.18.2:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.12&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy maven compiler setup:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.12&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI already tried:\r\n\r\n - turning Annotaion Processing off and on again\r\n - reinstalling Lombok plugin\r\n - clearing .m2/repository folder\r\n - manually adding lombok.jar as Annotation Processor\r\n - adding Lombok path to `maven-compiler-plugin` list of Annotation Processor","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>I am trying to build a Java 11 project with maven and lombok's @Slf4j Logger, but maven does not recognize the <code>log</code> variables. IntelliJ does though and is able to build the project.</p>\n\n<p>The error is</p>\n\n<pre><code>[ERROR]: cannot find symbol variable log \n</code></pre>\n\n<p>Project and Module SDK is both Java 11. Lombok Version is 1.18.2:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.12&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My maven compiler setup:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.12&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I already tried:</p>\n\n<ul>\n<li>turning Annotaion Processing off and on again</li>\n<li>reinstalling Lombok plugin</li>\n<li>clearing .m2/repository folder</li>\n<li>manually adding lombok.jar as Annotation Processor</li>\n<li>adding Lombok path to <code>maven-compiler-plugin</code> list of Annotation Processor</li>\n</ul>\n"},{"tags":["java","spring","flyway"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690913061,"post_id":76814180,"comment_id":135418306,"body_markdown":"Isn&#39;t the message clear? *ERROR: relation &quot;usr&quot; does not exist* I guess it should be `insert into user `","body":"Isn&#39;t the message clear? <i>ERROR: relation &quot;usr&quot; does not exist</i> I guess it should be <code>insert into user </code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690913397,"post_id":76814180,"comment_id":135418370,"body_markdown":"If not, please provide the content of `V1...`","body":"If not, please provide the content of <code>V1...</code>"},{"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"score":0,"creation_date":1690916198,"post_id":76814180,"comment_id":135418837,"body_markdown":"@Jens Edited added v1","body":"@Jens Edited added v1"}],"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690918665,"creation_date":1690912939,"question_id":76814180,"body_markdown":"I&#39;m doing deploy for the first time, as I realized, problems with migrations.\r\n\r\n```\r\n    2023-08-01T20:10:30.302+03:00 ERROR 6477 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1: Error creating bean with name &#39;springSessionRepositoryFilter&#39; defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method &#39;springSessionRepositoryFilter&#39; parameter 0: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n    2023-08-01T20:10:31.035+03:00 ERROR 6477 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start web server\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.5.jar!/:3.0.5]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.7.jar!/:6.0.7]\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1: Error creating bean with name &#39;springSessionRepositoryFilter&#39; defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method &#39;springSessionRepositoryFilter&#39; parameter 0: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n    \r\n    Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n```\r\n\r\nV2__Add_admin\r\n\r\n```sql\r\n    insert into usr (id, username, password, active)\r\n    values (1, &#39;admin&#39;, &#39;123&#39;, true);\r\n    \r\n    insert into user_role (user_id, roles)\r\n    values (1, &#39;USER&#39;), (1, &#39;ADMIN&#39;);\r\n    \r\n    \r\n    insert into usr (id, username, password, active)\r\n    values (2, &#39;admin2&#39;, &#39;123&#39;, true);\r\n    \r\n    insert into user_role (user_id, roles)\r\n    values (2, &#39;USER&#39;), (2, &#39;ADMIN&#39;);\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI work on windows, maybe not so long as the db is formed? changing the location, i.e. db first, then migration, does not help\r\n\r\nV1__Init_DB File content is provided below:\r\n\r\n```sql\r\n    create sequence hibernate_sequence start 1 increment 1;\r\n    \r\n    create table message (\r\n                             id int8 not null,\r\n                             filename varchar(255),\r\n                             tag varchar(255),\r\n                             text varchar(2048) not null,\r\n                             user_id int8,\r\n                             primary key (id)\r\n    );\r\n    \r\n    create table user_role (\r\n                               user_id int8 not null,\r\n                               roles varchar(255)\r\n    );\r\n    \r\n    create table usr (\r\n                         id int8 not null,\r\n                         activation_code varchar(255),\r\n                         active boolean not null,\r\n                         email varchar(255),\r\n                         password varchar(255) not null,\r\n                         username varchar(255) not null,\r\n                         primary key (id)\r\n    );\r\n    \r\n    alter table if exists message\r\n        add constraint message_user_fk\r\n        foreign key (user_id) references usr;\r\n    \r\n    alter table if exists user_role\r\n        add constraint user_role_user_fk\r\n        foreign key (user_id) references usr;\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/AvAG5.jpg\r\n[2]: https://i.stack.imgur.com/gU7bY.jpg","title":"During deploy, it throws an error: relation &quot;usr&quot; does not exist","body":"<p>I'm doing deploy for the first time, as I realized, problems with migrations.</p>\n<pre><code>    2023-08-01T20:10:30.302+03:00 ERROR 6477 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1: Error creating bean with name 'springSessionRepositoryFilter' defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method 'springSessionRepositoryFilter' parameter 0: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n    2023-08-01T20:10:31.035+03:00 ERROR 6477 --- [           main] o.s.boot.SpringApplication               : Application run failed\n    \n    org.springframework.context.ApplicationContextException: Unable to start web server\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.5.jar!/:3.0.5]\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.7.jar!/:6.0.7]\n    \n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1: Error creating bean with name 'springSessionRepositoryFilter' defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method 'springSessionRepositoryFilter' parameter 0: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n    \n    Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n</code></pre>\n<p>V2__Add_admin</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    insert into usr (id, username, password, active)\n    values (1, 'admin', '123', true);\n    \n    insert into user_role (user_id, roles)\n    values (1, 'USER'), (1, 'ADMIN');\n    \n    \n    insert into usr (id, username, password, active)\n    values (2, 'admin2', '123', true);\n    \n    insert into user_role (user_id, roles)\n    values (2, 'USER'), (2, 'ADMIN');\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AvAG5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AvAG5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gU7bY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gU7bY.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I work on windows, maybe not so long as the db is formed? changing the location, i.e. db first, then migration, does not help</p>\n<p>V1__Init_DB File content is provided below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create sequence hibernate_sequence start 1 increment 1;\n    \n    create table message (\n                             id int8 not null,\n                             filename varchar(255),\n                             tag varchar(255),\n                             text varchar(2048) not null,\n                             user_id int8,\n                             primary key (id)\n    );\n    \n    create table user_role (\n                               user_id int8 not null,\n                               roles varchar(255)\n    );\n    \n    create table usr (\n                         id int8 not null,\n                         activation_code varchar(255),\n                         active boolean not null,\n                         email varchar(255),\n                         password varchar(255) not null,\n                         username varchar(255) not null,\n                         primary key (id)\n    );\n    \n    alter table if exists message\n        add constraint message_user_fk\n        foreign key (user_id) references usr;\n    \n    alter table if exists user_role\n        add constraint user_role_user_fk\n        foreign key (user_id) references usr;\n</code></pre>\n"},{"tags":["java","spring","ftp","spring-integration"],"comments":[{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1453912596,"post_id":35042724,"comment_id":57810166,"body_markdown":"can you post your ftp configuration","body":"can you post your ftp configuration"}],"answers":[{"tags":[],"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453913155,"creation_date":1453913155,"answer_id":35043223,"question_id":35042724,"body_markdown":"FTP requires two separate channels for communication. The `command channel` is working for you as you are able to get the file existence status from the server. If you are trying a communication in Active mode, it requires the server to initiate a connection to your system and in that case chances are that your firewall will block such a connection, causing the IO exception.\r\n\r\nTo overcome this issue you can change the client mode to `Passive`. In config, change clientMode to 2. Or if you have hold of `FTPClient` instance, you can also use `client.enterLocalPassiveMode();`.\r\n\r\n`PASSIVE_LOCAL_DATA_CONNECTION_MODE = 2`","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p>FTP requires two separate channels for communication. The <code>command channel</code> is working for you as you are able to get the file existence status from the server. If you are trying a communication in Active mode, it requires the server to initiate a connection to your system and in that case chances are that your firewall will block such a connection, causing the IO exception.</p>\n\n<p>To overcome this issue you can change the client mode to <code>Passive</code>. In config, change clientMode to 2. Or if you have hold of <code>FTPClient</code> instance, you can also use <code>client.enterLocalPassiveMode();</code>.</p>\n\n<p><code>PASSIVE_LOCAL_DATA_CONNECTION_MODE = 2</code></p>\n"},{"tags":[],"owner":{"account_id":25808095,"reputation":11,"user_id":19549333,"display_name":"Wanted Lepota"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690918462,"creation_date":1690474125,"answer_id":76781607,"question_id":35042724,"body_markdown":"`dsf.setClientMode(2);`   &lt;br/&gt;worked for me.","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p><code>dsf.setClientMode(2);</code>   <br/>worked for me.</p>\n"}],"owner":{"account_id":3200848,"reputation":2052,"user_id":2702917,"accept_rate":50,"display_name":"Francesco Pitzalis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35043223,"answer_count":2,"score":1,"last_activity_date":1690918462,"creation_date":1453911891,"question_id":35042724,"body_markdown":"I have a `FtpRemoteFileTemplate`:\r\n\r\n    @Autowired\r\n    private FtpRemoteFileTemplate ftpTemplate;\r\n\r\nand I use it in this way:\r\n\r\n    if (ftpTemplate.exists(fileAbsPath)) {\r\n\t\treturn getRemoteFileAsByteArray(fileAbsPath);\r\n\t}\r\n\r\nwhere `getRemoteFileAsByteArray` is\r\n\r\n\tprivate byte[] getRemoteFileAsByteArray(String absoluteFileName) {\r\n\t\treturn ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)));\r\n\t}\r\n\r\nThe statement `ftpTemplate.exists(fileAbsPath)` works and correctly returns true, the `ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)))` after a while throws this exception:\r\n\r\n    org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:419) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.getRemoteFileAsByteArray(ImageServiceFtpImpl.java:91) ~[classes/:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.getImage(ImageServiceFtpImpl.java:64) [classes/:?]\r\n    \tat xxx.xxx.service.impl.AbstractImageService.getOriginalTransitImage(AbstractImageService.java:22) [classes/:?]\r\n    \tat xxx.xxx.service.rest.ServiceController.getOriginalTransitImage(ServiceController.java:138) [classes/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_71]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_71]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_71]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_71]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat xxx.xxx.service.util.SimpleCORSFilter.doFilter(SimpleCORSFilter.java:26) [classes/:?]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [jetty-security-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:499) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544) [jetty-io-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_71]\r\n    Caused by: java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\r\n    \tat org.springframework.integration.ftp.session.FtpSession.readRaw(FtpSession.java:96) ~[spring-integration-ftp-4.2.4.RELEASE.jar:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.lambda$0(ImageServiceFtpImpl.java:91) ~[classes/:?]\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:410) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\r\n    \t... 76 more\r\n\r\nFrom FileZilla I&#39;m able to retreive the same file from the same computer.\r\n\r\nWhere I&#39;m getting wrong?","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p>I have a <code>FtpRemoteFileTemplate</code>:</p>\n\n<pre><code>@Autowired\nprivate FtpRemoteFileTemplate ftpTemplate;\n</code></pre>\n\n<p>and I use it in this way:</p>\n\n<pre><code>if (ftpTemplate.exists(fileAbsPath)) {\n    return getRemoteFileAsByteArray(fileAbsPath);\n}\n</code></pre>\n\n<p>where <code>getRemoteFileAsByteArray</code> is</p>\n\n<pre><code>private byte[] getRemoteFileAsByteArray(String absoluteFileName) {\n    return ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)));\n}\n</code></pre>\n\n<p>The statement <code>ftpTemplate.exists(fileAbsPath)</code> works and correctly returns true, the <code>ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)))</code> after a while throws this exception:</p>\n\n<pre><code>org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:419) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.getRemoteFileAsByteArray(ImageServiceFtpImpl.java:91) ~[classes/:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.getImage(ImageServiceFtpImpl.java:64) [classes/:?]\n    at xxx.xxx.service.impl.AbstractImageService.getOriginalTransitImage(AbstractImageService.java:22) [classes/:?]\n    at xxx.xxx.service.rest.ServiceController.getOriginalTransitImage(ServiceController.java:138) [classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_71]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_71]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_71]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_71]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [javax.servlet-api-3.1.0.jar:3.1.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at xxx.xxx.service.util.SimpleCORSFilter.doFilter(SimpleCORSFilter.java:26) [classes/:?]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [jetty-security-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.Server.handle(Server.java:499) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544) [jetty-io-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at java.lang.Thread.run(Thread.java:745) [?:1.8.0_71]\nCaused by: java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\n    at org.springframework.integration.ftp.session.FtpSession.readRaw(FtpSession.java:96) ~[spring-integration-ftp-4.2.4.RELEASE.jar:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.lambda$0(ImageServiceFtpImpl.java:91) ~[classes/:?]\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:410) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\n    ... 76 more\n</code></pre>\n\n<p>From FileZilla I'm able to retreive the same file from the same computer.</p>\n\n<p>Where I'm getting wrong?</p>\n"},{"tags":["java","rest","tomcat","jax-rs","apache-tomee"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690943103,"post_id":76814626,"comment_id":135422010,"body_markdown":"Do you have another binaries API version jar in the app also? do you have a collective jar that also contains ghost API in it among other API&#39;s as a supplement? , Does TomEE contain ghost API in its binaries?   It will overwrite in the app on loading in order of copy loading, or if part of TomEE will remain until configured out.","body":"Do you have another binaries API version jar in the app also? do you have a collective jar that also contains ghost API in it among other API&#39;s as a supplement? , Does TomEE contain ghost API in its binaries?   It will overwrite in the app on loading in order of copy loading, or if part of TomEE will remain until configured out."}],"owner":{"account_id":28722279,"reputation":31,"user_id":21995835,"display_name":"megaMind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690917752,"creation_date":1690917752,"question_id":76814626,"body_markdown":"Calling it Ghost API because no idea how this endpoint is still running. \r\n\r\nDetails of how this issue arose:\r\n\r\n2 identical POST endpoints:\r\nendPoint1\r\nendPoint2 &lt;-- Will not work whatsoever, identical to Endpoint1, only difference is the name.\r\n\r\n```\r\n    @POST // \r\n    @Path (&quot;endPoint2&quot;)\r\n    public Response postEndPoint2( String requestData)\r\n    {\r\n        Response returnStatus;\r\n        try\r\n        {\r\n            \r\n            //Code to shoot over message to ZMQ (ZeroMQ)\r\n            System.out.println(returnStatus);\r\n            \r\n        }\r\n        catch ( Exception e)\r\n        {\r\n            System.out.println ( &quot;Error sending &quot; + e.getMessage());\r\n            returnStatus = Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(e.getMessage()).build();\r\n        }\r\n        return returnStatus;\r\n    }\r\n```\r\nendPoint1 and endpoint2 are absolutely identical, other than the @Path name being different and the method name\r\n\r\nendPoint1 works, endPoint2 does not.\r\n\r\nI deleted endPoint2, renamed endPoint1 to &#39;endPoint2&#39;. Still, it will not work.\r\n\r\nWhat is now weirder, endPoint1 is still accepting data?????\r\n\r\nIt has been deleted, heck, even deleted the entire file, and the endpoint is still processing data\r\n\r\nI know it is processing data because after getting a request, the API would carry the data across a message broker (ZMQ), and it is still receiving messages.\r\n\r\nApache Tomee\r\nNetBeans\r\nand JavaX.ws.rs is the stack\r\n\r\nAnyone run into anything similar?\r\n\r\nI have reinstalled apache tomee, commented the entire file out that has the endpoints, endpoint is a &#39;ghost&#39; and is still being recieved somehow. Delted WAR files and redeployed them by hand. ","title":"Ghost API Endpoint still existing after deletion, redploying, clearing cache, and reinstalling Tomee","body":"<p>Calling it Ghost API because no idea how this endpoint is still running.</p>\n<p>Details of how this issue arose:</p>\n<p>2 identical POST endpoints:\nendPoint1\nendPoint2 &lt;-- Will not work whatsoever, identical to Endpoint1, only difference is the name.</p>\n<pre><code>    @POST // \n    @Path (&quot;endPoint2&quot;)\n    public Response postEndPoint2( String requestData)\n    {\n        Response returnStatus;\n        try\n        {\n            \n            //Code to shoot over message to ZMQ (ZeroMQ)\n            System.out.println(returnStatus);\n            \n        }\n        catch ( Exception e)\n        {\n            System.out.println ( &quot;Error sending &quot; + e.getMessage());\n            returnStatus = Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                    .entity(e.getMessage()).build();\n        }\n        return returnStatus;\n    }\n</code></pre>\n<p>endPoint1 and endpoint2 are absolutely identical, other than the @Path name being different and the method name</p>\n<p>endPoint1 works, endPoint2 does not.</p>\n<p>I deleted endPoint2, renamed endPoint1 to 'endPoint2'. Still, it will not work.</p>\n<p>What is now weirder, endPoint1 is still accepting data?????</p>\n<p>It has been deleted, heck, even deleted the entire file, and the endpoint is still processing data</p>\n<p>I know it is processing data because after getting a request, the API would carry the data across a message broker (ZMQ), and it is still receiving messages.</p>\n<p>Apache Tomee\nNetBeans\nand JavaX.ws.rs is the stack</p>\n<p>Anyone run into anything similar?</p>\n<p>I have reinstalled apache tomee, commented the entire file out that has the endpoints, endpoint is a 'ghost' and is still being recieved somehow. Delted WAR files and redeployed them by hand.</p>\n"},{"tags":["java","jdbc","oracle11g","windows-7"],"comments":[{"owner":{"account_id":77466,"reputation":29456,"user_id":221061,"accept_rate":99,"display_name":"Chris Laplante"},"score":0,"creation_date":1348530037,"post_id":12574414,"comment_id":16941459,"body_markdown":"You&#39;ll need to post your code that is producing this error","body":"You&#39;ll need to post your code that is producing this error"},{"owner":{"account_id":56883,"reputation":66564,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"score":0,"creation_date":1348541590,"post_id":12574414,"comment_id":16943384,"body_markdown":"@EJP Yes sir! Updated post to reflect so!","body":"@EJP Yes sir! Updated post to reflect so!"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1402646941,"creation_date":1348534998,"answer_id":12574926,"question_id":12574414,"body_markdown":"Either:\r\n\r\n1. The database isn&#39;t running\r\n2. You got the URL wrong\r\n3. There is a firewall in the way.\r\n\r\n(This strange error message is produced by Oracle&#39;s JDBC driver when it can&#39;t connect to the database server. &#39;Network adapter&#39; appears to refer to some component of their code, which isn&#39;t very useful. Real network adapters (NICs) don&#39;t establish connections at all: TCP protocol stacks do that. It would have been a lot more useful if they had just let the original `ConnectException` be thrown, or at least used its error message and let it appear in the stack trace.)\r\n\r\n","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Either:</p>\n\n<ol>\n<li>The database isn't running</li>\n<li>You got the URL wrong</li>\n<li>There is a firewall in the way.</li>\n</ol>\n\n<p>(This strange error message is produced by Oracle's JDBC driver when it can't connect to the database server. 'Network adapter' appears to refer to some component of their code, which isn't very useful. Real network adapters (NICs) don't establish connections at all: TCP protocol stacks do that. It would have been a lot more useful if they had just let the original <code>ConnectException</code> be thrown, or at least used its error message and let it appear in the stack trace.)</p>\n"},{"tags":[],"owner":{"account_id":2014530,"reputation":91,"user_id":1802144,"display_name":"shams"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1352181959,"creation_date":1352181959,"answer_id":13245324,"question_id":12574414,"body_markdown":"I had the same problem, and this is how I fixed it. \r\nI was using the wrong port for my connection.\r\n\r\n    private final String DB_URL  = &quot;jdbc:oracle:thin:@localhost:1521:orcll&quot;; // 1521 my wrong port\r\n\r\n- go to your localhost\r\n-    (my localhost address) :  &lt;code&gt;https://localhost:1158/em&lt;/code&gt;  \r\n\r\n- login  \r\n + user name \r\n + password\r\n  + connect as --&gt; normal\r\n\r\n- Below &#39;General&#39; click on \tLISTENER_localhost\r\n- look at you port number\r\n  - Net Address\t(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1522))\r\n   Connect to port  1522\r\n- Edit you connection\r\n   change port 1521 to 1522.\r\n\r\n  - done\r\n\r\n\r\n\r\n ","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I had the same problem, and this is how I fixed it. \nI was using the wrong port for my connection.</p>\n\n<pre><code>private final String DB_URL  = \"jdbc:oracle:thin:@localhost:1521:orcll\"; // 1521 my wrong port\n</code></pre>\n\n<ul>\n<li>go to your localhost</li>\n<li><p>(my localhost address) :  <code>https://localhost:1158/em</code>  </p></li>\n<li><p>login  </p>\n\n<ul>\n<li>user name </li>\n<li>password</li>\n<li>connect as --> normal</li>\n</ul></li>\n<li><p>Below 'General' click on  LISTENER_localhost</p></li>\n<li>look at you port number\n<ul>\n<li>Net Address (ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1522))\nConnect to port  1522</li>\n</ul></li>\n<li><p>Edit you connection\nchange port 1521 to 1522.</p>\n\n<ul>\n<li>done</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2047207,"reputation":176,"user_id":1827044,"display_name":"user1827044"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353347565,"creation_date":1353347565,"answer_id":13459369,"question_id":12574414,"body_markdown":"Another thing you might want to check that the listener.ora file matches the way you are trying to connect to the DB. If you were connecting via a localhost reference and your listener.ora file got changed from:\r\n\r\n    HOST = localhost\r\n\r\nto\r\n\r\n    HOST = 192.168.XX.XX\r\n\r\nthen this can cause the error that you had unless you update your hosts file to accommodate for this. Someone might have made this change to allow for remote connections to the DB from other machines.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Another thing you might want to check that the listener.ora file matches the way you are trying to connect to the DB. If you were connecting via a localhost reference and your listener.ora file got changed from:</p>\n\n<pre><code>HOST = localhost\n</code></pre>\n\n<p>to</p>\n\n<pre><code>HOST = 192.168.XX.XX\n</code></pre>\n\n<p>then this can cause the error that you had unless you update your hosts file to accommodate for this. Someone might have made this change to allow for remote connections to the DB from other machines.</p>\n"},{"tags":[],"owner":{"account_id":2937511,"reputation":1,"user_id":2516111,"display_name":"Dharm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372075521,"creation_date":1372074335,"answer_id":17274693,"question_id":12574414,"body_markdown":"To resolve the Network Adapter Error I had to remove the `-` in the name of the computer name. ","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>To resolve the Network Adapter Error I had to remove the <code>-</code> in the name of the computer name. </p>\n"},{"tags":[],"owner":{"account_id":1063435,"reputation":7478,"user_id":1064572,"accept_rate":71,"display_name":"Kris Selbekk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399883118,"creation_date":1399883118,"answer_id":23604221,"question_id":12574414,"body_markdown":"In my case, I needed to specify a ``viahost`` and ``viauser``. Worth trying if you&#39;re in a complex system. :)","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>In my case, I needed to specify a <code>viahost</code> and <code>viauser</code>. Worth trying if you're in a complex system. :)</p>\n"},{"tags":[],"owner":{"account_id":10350392,"reputation":9,"user_id":7633977,"display_name":"Karisa"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1488267079,"creation_date":1488267079,"answer_id":42502700,"question_id":12574414,"body_markdown":"For me the basic oracle only was not installed. Please ensure you have oracle installed and then try checking host and port.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>For me the basic oracle only was not installed. Please ensure you have oracle installed and then try checking host and port.</p>\n"},{"tags":[],"owner":{"account_id":10611650,"reputation":23,"user_id":7815407,"display_name":"V Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491930012,"creation_date":1491930012,"answer_id":43352075,"question_id":12574414,"body_markdown":"I figured out that in my case, my database was in different subnet than the subnet from where i was trying to access the db.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I figured out that in my case, my database was in different subnet than the subnet from where i was trying to access the db.</p>\n"},{"tags":[],"owner":{"account_id":313504,"reputation":187,"user_id":628176,"display_name":"Mamed Shahmaliyev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535295380,"creation_date":1535293072,"answer_id":52027105,"question_id":12574414,"body_markdown":"Most probably you have listener configured wrongly, the hostname you specify in connection string must be the same as in the listener.\r\n\r\nFirst check the Firewall and network related issues.\r\n\r\nCheck if Oracle Listener service is available and running. If not you may use Oracle Net Configuration Assistant tool to add and register new listener.\r\n\r\nIf the above steps are ok then you need to configure Oracle Listener appropriately. You may use Oracle Net Manager tool or edit “%ORACLE_HOME%\\network\\admin\\listener.ora” file manually. \r\n\r\nThere are 2 options that need to be considered carefully:\r\nListening Locations associated with the Listener – Hostname(IP) and Port in Listening Location must exactly match the ones used in the connection string. \r\n\r\nFor example, if you use 192.168.74.139 as target hostname, then there must be Listening Location registered with the same IP address. \r\n\r\nAlso make sure the you use the same SID as indicated in Database Service associated with the Listener.\r\n\r\nhttps://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Most probably you have listener configured wrongly, the hostname you specify in connection string must be the same as in the listener.</p>\n\n<p>First check the Firewall and network related issues.</p>\n\n<p>Check if Oracle Listener service is available and running. If not you may use Oracle Net Configuration Assistant tool to add and register new listener.</p>\n\n<p>If the above steps are ok then you need to configure Oracle Listener appropriately. You may use Oracle Net Manager tool or edit “%ORACLE_HOME%\\network\\admin\\listener.ora” file manually. </p>\n\n<p>There are 2 options that need to be considered carefully:\nListening Locations associated with the Listener – Hostname(IP) and Port in Listening Location must exactly match the ones used in the connection string. </p>\n\n<p>For example, if you use 192.168.74.139 as target hostname, then there must be Listening Location registered with the same IP address. </p>\n\n<p>Also make sure the you use the same SID as indicated in Database Service associated with the Listener.</p>\n\n<p><a href=\"https://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/\" rel=\"nofollow noreferrer\">https://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/</a></p>\n"},{"tags":[],"owner":{"account_id":4840330,"reputation":1671,"user_id":3905529,"display_name":"anion"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549319996,"creation_date":1549319996,"answer_id":54525390,"question_id":12574414,"body_markdown":"I had this error when i renamed the pc in the windows-properties. The pc-name must be updated in the `listener.ora`-file","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I had this error when i renamed the pc in the windows-properties. The pc-name must be updated in the <code>listener.ora</code>-file</p>\n"},{"tags":[],"owner":{"account_id":14039738,"reputation":9,"user_id":10141490,"display_name":"A May"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559688151,"creation_date":1559688151,"answer_id":56452226,"question_id":12574414,"body_markdown":"I was having issues with this as well. I was using the jdbc connection string to connect to the database. The hostname was incorrectly configured in the string. I am using Mac, and the same string was being used on Windows machines without an issue. On my connection string, I had to make sure that I had the full url with the appending &quot;organizationname.com&quot; to the end of the hostname.\r\n\r\nHope this helps.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I was having issues with this as well. I was using the jdbc connection string to connect to the database. The hostname was incorrectly configured in the string. I am using Mac, and the same string was being used on Windows machines without an issue. On my connection string, I had to make sure that I had the full url with the appending \"organizationname.com\" to the end of the hostname.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":17685655,"reputation":1,"user_id":12838648,"display_name":"Tony Shevchenko"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584077389,"creation_date":1584077389,"answer_id":60665282,"question_id":12574414,"body_markdown":"Just try to re-create connection. In my situation one of jdbc connection stopped working for no reason. From console sqlplus was working ok. \r\nIt took me 2 hours to realize that If i create the same connection - it works.\r\n","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Just try to re-create connection. In my situation one of jdbc connection stopped working for no reason. From console sqlplus was working ok. \nIt took me 2 hours to realize that If i create the same connection - it works.</p>\n"},{"tags":[],"owner":{"account_id":25649826,"reputation":11,"user_id":19417275,"display_name":"DANISH ANSARI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656203908,"creation_date":1656203826,"answer_id":72758194,"question_id":12574414,"body_markdown":"IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=iKQM6lBbSLiArrYuDqud8A==)\r\n\r\nif you are facing this issue\r\n1- make sure you have downloaded oracle databases like oracle 11g,19c, 21c, or any latest databases.\r\n2- search for services in your computer or type win+r then services.mis then search for oracleservice you will find orcl or xe or any other sid like oracleserviceorcl;\r\n\r\nafter that you can test your connection using sql developer, sql plus or cmd","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=iKQM6lBbSLiArrYuDqud8A==)</p>\n<p>if you are facing this issue\n1- make sure you have downloaded oracle databases like oracle 11g,19c, 21c, or any latest databases.\n2- search for services in your computer or type win+r then services.mis then search for oracleservice you will find orcl or xe or any other sid like oracleserviceorcl;</p>\n<p>after that you can test your connection using sql developer, sql plus or cmd</p>\n"},{"tags":[],"owner":{"account_id":7610784,"reputation":3405,"user_id":5771669,"accept_rate":100,"display_name":"Serge V."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690917445,"creation_date":1690917445,"answer_id":76814597,"question_id":12574414,"body_markdown":"I resolved my issue by simply starting the TNS listener service. It was stopped for some reason. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4lOUA.png","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I resolved my issue by simply starting the TNS listener service. It was stopped for some reason. <a href=\"https://i.stack.imgur.com/4lOUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lOUA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":56883,"reputation":66564,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478671,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":13,"score":46,"last_activity_date":1690917445,"creation_date":1348529921,"question_id":12574414,"body_markdown":"I am new to Oracle, and am trying to run a simple example code with Java, but am getting this error when executing the code.. I am able to start up the listener via CMD and am also able to run SQL Plus. Can anyone give me a hand and tell me what I might be doing wrong?\r\n\r\n\r\nUpdate:\r\nI am using JDBC.\r\n\r\nDatabase is local, and I actually had it working but it stopped working just today. I&#39;m not really sure why though. Would you mind giving me some procedures to follow by since I don&#39;t know much.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I am new to Oracle, and am trying to run a simple example code with Java, but am getting this error when executing the code.. I am able to start up the listener via CMD and am also able to run SQL Plus. Can anyone give me a hand and tell me what I might be doing wrong?</p>\n\n<p>Update:\nI am using JDBC.</p>\n\n<p>Database is local, and I actually had it working but it stopped working just today. I'm not really sure why though. Would you mind giving me some procedures to follow by since I don't know much.</p>\n"},{"tags":["java","arrays","algorithm","time-complexity"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690837905,"post_id":76806959,"comment_id":135406091,"body_markdown":"You might find this easier to split the operation to find an increasing span from the loop to scan the list. Put the first in a function that returns the first item not in the span. You can concentrate on getting that right fist, then handle the rest knowing one part is done.","body":"You might find this easier to split the operation to find an increasing span from the loop to scan the list. Put the first in a function that returns the first item not in the span. You can concentrate on getting that right fist, then handle the rest knowing one part is done."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690838138,"post_id":76806959,"comment_id":135406124,"body_markdown":"A lot of time a span is easier to handle if you keep track of &quot;first included&quot; and &quot;first excluded&quot; (i.e &quot;end limit&quot;), as in indexes 2, 3, and 4 would be first=2, limit=5. Python does it this way, and lets you denote e.g. 2:2 as having length 0 without adding special cases of extra flags. Also the length is just limit - first, very simple","body":"A lot of time a span is easier to handle if you keep track of &quot;first included&quot; and &quot;first excluded&quot; (i.e &quot;end limit&quot;), as in indexes 2, 3, and 4 would be first=2, limit=5. Python does it this way, and lets you denote e.g. 2:2 as having length 0 without adding special cases of extra flags. Also the length is just limit - first, very simple"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690838335,"post_id":76806959,"comment_id":135406156,"body_markdown":"In the main loop, you need to keep track of two spans: the previous longest, and the current being checked. If the one being checked turns out to be longer, just replace the old indexes with the new ones. In both cases, continue looking for the next increasing span.","body":"In the main loop, you need to keep track of two spans: the previous longest, and the current being checked. If the one being checked turns out to be longer, just replace the old indexes with the new ones. In both cases, continue looking for the next increasing span."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1690841419,"post_id":76806959,"comment_id":135406582,"body_markdown":"I think I&#39;d start by putting all of the `min` values into array `A`, and all of the `max` values into array `B`. Then it&#39;s easier to reason about the problem, and the code to solve the problem is cleaner. [Here&#39;s an example](https://i.stack.imgur.com/w0Qau.png) with smaller values on top, and larger values on the bottom.","body":"I think I&#39;d start by putting all of the <code>min</code> values into array <code>A</code>, and all of the <code>max</code> values into array <code>B</code>. Then it&#39;s easier to reason about the problem, and the code to solve the problem is cleaner. <a href=\"https://i.stack.imgur.com/w0Qau.png\" rel=\"nofollow noreferrer\">Here&#39;s an example</a> with smaller values on top, and larger values on the bottom."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690841565,"post_id":76806959,"comment_id":135406601,"body_markdown":"I don&#39;t understand this part of the question, _&quot;... build an array `C` such that the values in it or non-decreasing. ...&quot;_.","body":"I don&#39;t understand this part of the question, <i>&quot;... build an array <code>C</code> such that the values in it or non-decreasing. ...&quot;</i>."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1690846191,"post_id":76806959,"comment_id":135407039,"body_markdown":"Turn it into a DAG with elts as nodes and arcs to valid plausible successors (not trumped by a nearer lesser valid successor). Add a source node with arcs to all nodes w no indegree. Find longest path in O(V + E)","body":"Turn it into a DAG with elts as nodes and arcs to valid plausible successors (not trumped by a nearer lesser valid successor). Add a source node with arcs to all nodes w no indegree. Find longest path in O(V + E)"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1690863257,"post_id":76806959,"comment_id":135408585,"body_markdown":"@Dave If this is an introductory class just introducing arrays, I don&#39;t think they&#39;ll have covered directed acyclic graphs, though your solution is probably the most straightforward, given there might be multiple candidates starting at the same index (e.g. A=[1,2,3,2] and B=[2, 2, 2, 4] could produce at least four possible C arrays). They&#39;re prpbably looking for some sort of repetitive linear search, maybe something recursive would work.","body":"@Dave If this is an introductory class just introducing arrays, I don&#39;t think they&#39;ll have covered directed acyclic graphs, though your solution is probably the most straightforward, given there might be multiple candidates starting at the same index (e.g. A=[1,2,3,2] and B=[2, 2, 2, 4] could produce at least four possible C arrays). They&#39;re prpbably looking for some sort of repetitive linear search, maybe something recursive would work."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690895726,"post_id":76806959,"comment_id":135414604,"body_markdown":"@Reilas I take that to mean build the array such that the values are in ascending order (for ints. that would be their natural order).  But adjacent values may be equal to each other.","body":"@Reilas I take that to mean build the array such that the values are in ascending order (for ints. that would be their natural order).  But adjacent values may be equal to each other."}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690916543,"creation_date":1690893726,"answer_id":76811737,"question_id":76806959,"body_markdown":"This is an easy one.  Imagine the directed graph in which every number in A or B has an edge to each number that could follow it.  This is a directed acyclic graph with max in-degree and max out-degree 2.\r\n\r\nNow just find the longest path in that graph.\r\n\r\nIt&#39;s easy to find the longest path in a DAG by processing the vertices in topological order, which is conveniently the same as index order in this problem.\r\n\r\n```lang-java\r\npublic int solve(int[] A, int[] B) {\r\n  int result = 1;\r\n  int alen = 1, blen = 1, n = A.length;\r\n  if (n&lt;1) {\r\n    return 0;\r\n  }\r\n  for (int i=1; i&lt;n; ++i) {\r\n    int a = 1, b = 1;\r\n\r\n    if (A[i] &gt;= A[i-1]) {\r\n      a = alen+1;\r\n    }\r\n    if (A[i] &gt;= B[i-1]) {\r\n      a = Math.max(a, blen+1);\r\n    }\r\n    if (B[i] &gt;= A[i-1]) {\r\n      b = alen+1;\r\n    }\r\n    if (B[i] &gt;= B[i-1]) {\r\n      b = Math.max(b, blen+1);\r\n    }\r\n    alen = a;\r\n    blen = b;\r\n    result = Math.max(result,alen);\r\n    result = Math.max(result,blen);\r\n  }\r\n  return result;\r\n}\r\n```","title":"Find longest increasing subarray from 2 arrays","body":"<p>This is an easy one.  Imagine the directed graph in which every number in A or B has an edge to each number that could follow it.  This is a directed acyclic graph with max in-degree and max out-degree 2.</p>\n<p>Now just find the longest path in that graph.</p>\n<p>It's easy to find the longest path in a DAG by processing the vertices in topological order, which is conveniently the same as index order in this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int solve(int[] A, int[] B) {\n  int result = 1;\n  int alen = 1, blen = 1, n = A.length;\n  if (n&lt;1) {\n    return 0;\n  }\n  for (int i=1; i&lt;n; ++i) {\n    int a = 1, b = 1;\n\n    if (A[i] &gt;= A[i-1]) {\n      a = alen+1;\n    }\n    if (A[i] &gt;= B[i-1]) {\n      a = Math.max(a, blen+1);\n    }\n    if (B[i] &gt;= A[i-1]) {\n      b = alen+1;\n    }\n    if (B[i] &gt;= B[i-1]) {\n      b = Math.max(b, blen+1);\n    }\n    alen = a;\n    blen = b;\n    result = Math.max(result,alen);\n    result = Math.max(result,blen);\n  }\n  return result;\n}\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76811737,"answer_count":1,"score":0,"last_activity_date":1690916543,"creation_date":1690835356,"question_id":76806959,"body_markdown":"I have two arrays `A` and `B` of size `n`. From these arrays, build an array `C` such that the values in it are non-decreasing.\r\nSelect two index positions `i` and `j` in such a way that the sub arrays `A[i..j] and B[i..j]` can be used to form `C`.\r\nFinally return the size of the array `C` which is `(j-i+1)`\r\n\r\n**Example:**\r\n\r\n    A = [2,7,3]\r\n    B = [4,2,6]\r\n    \r\n    C = [2,2,3] formed by selecting i=0 and j = 2, that is min(2,4), min(7,2), max(3,6) = [2,2,3] which is non-decreasing.\r\n    \r\n    so result is j-i+1 = 3\r\n\r\n**Example:**\r\n\r\n    A = [5,2,4,1]\r\n    B = [3,6,2,2]\r\n    \r\n    C = [2,2,2] formed by selecting i=1 and j = 3, that is min(2,6), min(4,2), max(1,2) = [2,2,2] which is non-decreasing.\r\n    \r\n    so result is j-i+1 = 3\r\n\r\nThis is what I tried so far:\r\n\r\n    public int solve(int[] A, int[] B) {\r\n    int result = 0, s = 0, n = A.length;\r\n    int last = Integer.MIN_VALUE;\r\n    for(int i=0; i&lt;n; i++) {\r\n    \tint a = A[i], b = B[i];\r\n    \tif(last == Integer.MIN_VALUE) {\r\n    \t\ts = 1;\r\n    \t\tlast =Math.min(a,b); \r\n    \t} else {\r\n    \t\tint min = Math.min(a,b), max = Math.max(a,b);\r\n    \t\tif(last &lt;= min) {\r\n    \t\t\tlast = min;\r\n    \t\t\ts++;\r\n    \t\t} else {\r\n    \t\t\tif(last &lt;= max) {\r\n    \t\t\t\tlast = max;\r\n    \t\t\t\ts++;\r\n    \t\t\t} else {\r\n    \t\t\t\tlast = min;\r\n    \t\t\t\ts = 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tresult = Math.max(result, s);\r\n    }\r\n    result = Math.max(result, s);\r\n    if(result == 0) result = 1;\r\n    return result;\r\n    }\r\n\r\nThis works fine for some cases only. Here I am not considering the all possible paths to get the correct result. How to do that in less time complexity.","title":"Find longest increasing subarray from 2 arrays","body":"<p>I have two arrays <code>A</code> and <code>B</code> of size <code>n</code>. From these arrays, build an array <code>C</code> such that the values in it are non-decreasing.\nSelect two index positions <code>i</code> and <code>j</code> in such a way that the sub arrays <code>A[i..j] and B[i..j]</code> can be used to form <code>C</code>.\nFinally return the size of the array <code>C</code> which is <code>(j-i+1)</code></p>\n<p><strong>Example:</strong></p>\n<pre><code>A = [2,7,3]\nB = [4,2,6]\n\nC = [2,2,3] formed by selecting i=0 and j = 2, that is min(2,4), min(7,2), max(3,6) = [2,2,3] which is non-decreasing.\n\nso result is j-i+1 = 3\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>A = [5,2,4,1]\nB = [3,6,2,2]\n\nC = [2,2,2] formed by selecting i=1 and j = 3, that is min(2,6), min(4,2), max(1,2) = [2,2,2] which is non-decreasing.\n\nso result is j-i+1 = 3\n</code></pre>\n<p>This is what I tried so far:</p>\n<pre><code>public int solve(int[] A, int[] B) {\nint result = 0, s = 0, n = A.length;\nint last = Integer.MIN_VALUE;\nfor(int i=0; i&lt;n; i++) {\n    int a = A[i], b = B[i];\n    if(last == Integer.MIN_VALUE) {\n        s = 1;\n        last =Math.min(a,b); \n    } else {\n        int min = Math.min(a,b), max = Math.max(a,b);\n        if(last &lt;= min) {\n            last = min;\n            s++;\n        } else {\n            if(last &lt;= max) {\n                last = max;\n                s++;\n            } else {\n                last = min;\n                s = 1;\n            }\n        }\n    }\n    result = Math.max(result, s);\n}\nresult = Math.max(result, s);\nif(result == 0) result = 1;\nreturn result;\n}\n</code></pre>\n<p>This works fine for some cases only. Here I am not considering the all possible paths to get the correct result. How to do that in less time complexity.</p>\n"},{"tags":["java","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690913441,"post_id":76808823,"comment_id":135418374,"body_markdown":"I dont think you can define more than one enum in a file like that. What happens if you separate them, then update `imports` array in the other file to include type + state enum files?","body":"I dont think you can define more than one enum in a file like that. What happens if you separate them, then update <code>imports</code> array in the other file to include type + state enum files?"},{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1690972361,"post_id":76808823,"comment_id":135426398,"body_markdown":"@OneCricketeer definitely that is one way. That will work fine in case of schema registration.  But the thing is we were not using schema registry till now and directly using the schema in producer and consumers, And above approach was working fine.\nSince now we are going for schema registry, this approach doesn;t work.\nSo i wanted to be sure if there is any other way, than putting each enum in seperate file, before going for it.","body":"@OneCricketeer definitely that is one way. That will work fine in case of schema registration.  But the thing is we were not using schema registry till now and directly using the schema in producer and consumers, And above approach was working fine. Since now we are going for schema registry, this approach doesn;t work. So i wanted to be sure if there is any other way, than putting each enum in seperate file, before going for it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690982832,"post_id":76808823,"comment_id":135428744,"body_markdown":"Not that I&#39;m aware of. You could use an AVDL file with all enums declared, then the Avro maven plugin can generate AVSC for you, or use the rendered Java model in producer definitions, and the registration would automatically happen based on that serialized object... That&#39;s what I always did, but I used the registry before references were introduced, so I don&#39;t know if that&#39;s best practice","body":"Not that I&#39;m aware of. You could use an AVDL file with all enums declared, then the Avro maven plugin can generate AVSC for you, or use the rendered Java model in producer definitions, and the registration would automatically happen based on that serialized object... That&#39;s what I always did, but I used the registry before references were introduced, so I don&#39;t know if that&#39;s best practice"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690913280,"creation_date":1690868894,"question_id":76808823,"body_markdown":"I have many different Enums to be used which is common for many different Schemas, In order to reuse them across we have defined common Schema called commonTypes.avsc like below\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;:&quot;EventType&quot;,\r\n    \t\t&quot;symbols&quot;:\r\n    \t\t\t[&quot;CREATE&quot;,&quot;UPDATE&quot;,&quot;DELETE&quot;]\r\n    \t},\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;: &quot;EventState&quot;,\r\n    \t\t&quot;symbols&quot;:\t[&quot;OPEN&quot;,&quot;PROCESSED&quot;,&quot;CLOSED&quot;]\t\t\r\n    \t},\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;:&quot;SEVERITY&quot;,\r\n    \t\t&quot;symbols&quot;:\r\n    \t\t\t[&quot;CRITICAL&quot;,&quot;HIGH&quot;,&quot;LOW&quot;]\r\n    \t}\r\n    ]\r\n\r\n\r\nAnd i&#39;m referring them in many different schemas and one of them is like below (Miminalistic example)\r\n\r\n    {\r\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,    \r\n        &quot;name&quot;: &quot;Event&quot;,\r\n    \t&quot;imports&quot;: [&quot;CommonTypes.avsc&quot;],\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;eventType&quot;,\r\n                &quot;type&quot;: &quot;org.example.test.EventType&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Id&quot;,\r\n                &quot;type&quot;: [\r\n                            &quot;null&quot;,\r\n                            &quot;long&quot;\r\n                    ],\r\n                &quot;default&quot;: null\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;eventState&quot;,\r\n                &quot;type&quot;: &quot;org.example.test.EventState&quot;\r\n            }\r\n    \t]\r\n    }\r\n\r\n\r\nNow i&#39;ve first registered the CommonTypes.avsc with subject name &quot;commontypes-value&quot; in the schema registry which is successfull.\r\nAnd when i register the event schema with below value for &quot;references&quot;\r\n\r\n \r\n\r\n    &quot;references&quot;: [\r\n        {\r\n           &quot;name&quot;: &quot;org.example.test.EventType&quot;,\r\n           &quot;subject&quot;:  &quot;commontypes-value&quot;,\r\n           &quot;version&quot;: &quot;1&quot;\r\n        },\r\n    \t{\r\n           &quot;name&quot;: &quot;org.example.test.EventState&quot;,\r\n           &quot;subject&quot;:  &quot;commontypes-value&quot;,\r\n           &quot;version&quot;: &quot;1&quot;\r\n        }\r\n      ]\r\n\r\n\r\n\r\nThe request fails with internal Server.  And when i check Schema Registry server log - I can see below error.\r\n\r\n    java.lang.ClassCastException: class org.apache.avro.Schema$UnionSchema cannot be cast to class org.apache.avro.Schema$NamedSchema (org.apache.avro.Schema$UnionSchema and org.apache.avro.Schema$NamedSchema are in unnamed module of loader &#39;app&#39;)\r\n    \tat org.apache.avro.Schema$Names.add(Schema.java:1505)\r\n    \tat org.apache.avro.Schemas.toString(Schemas.java:43)\r\n    \tat org.apache.avro.Schemas.toString(Schemas.java:30)\r\n    \tat io.confluent.kafka.schemaregistry.avro.AvroSchema.canonicalString(AvroSchema.java:152)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.canonicalizeSchema(KafkaSchemaRegistry.java:926)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.lookUpSchemaUnderSubject(KafkaSchemaRegistry.java:744)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.registerOrForward(KafkaSchemaRegistry.java:565)\r\n    \tat io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource.register(SubjectVersionsResource.java:266)","title":"Kafka Schema Registry - Schema Referring a Union Schema Giving Server Error","body":"<p>I have many different Enums to be used which is common for many different Schemas, In order to reuse them across we have defined common Schema called commonTypes.avsc like below</p>\n<pre><code>[\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;:&quot;EventType&quot;,\n        &quot;symbols&quot;:\n            [&quot;CREATE&quot;,&quot;UPDATE&quot;,&quot;DELETE&quot;]\n    },\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;: &quot;EventState&quot;,\n        &quot;symbols&quot;:  [&quot;OPEN&quot;,&quot;PROCESSED&quot;,&quot;CLOSED&quot;]       \n    },\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;:&quot;SEVERITY&quot;,\n        &quot;symbols&quot;:\n            [&quot;CRITICAL&quot;,&quot;HIGH&quot;,&quot;LOW&quot;]\n    }\n]\n</code></pre>\n<p>And i'm referring them in many different schemas and one of them is like below (Miminalistic example)</p>\n<pre><code>{\n    &quot;namespace&quot;: &quot;org.example.test&quot;,\n    &quot;type&quot;: &quot;record&quot;,    \n    &quot;name&quot;: &quot;Event&quot;,\n    &quot;imports&quot;: [&quot;CommonTypes.avsc&quot;],\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;eventType&quot;,\n            &quot;type&quot;: &quot;org.example.test.EventType&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Id&quot;,\n            &quot;type&quot;: [\n                        &quot;null&quot;,\n                        &quot;long&quot;\n                ],\n            &quot;default&quot;: null\n        },\n        {\n            &quot;name&quot;: &quot;eventState&quot;,\n            &quot;type&quot;: &quot;org.example.test.EventState&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Now i've first registered the CommonTypes.avsc with subject name &quot;commontypes-value&quot; in the schema registry which is successfull.\nAnd when i register the event schema with below value for &quot;references&quot;</p>\n<pre><code>&quot;references&quot;: [\n    {\n       &quot;name&quot;: &quot;org.example.test.EventType&quot;,\n       &quot;subject&quot;:  &quot;commontypes-value&quot;,\n       &quot;version&quot;: &quot;1&quot;\n    },\n    {\n       &quot;name&quot;: &quot;org.example.test.EventState&quot;,\n       &quot;subject&quot;:  &quot;commontypes-value&quot;,\n       &quot;version&quot;: &quot;1&quot;\n    }\n  ]\n</code></pre>\n<p>The request fails with internal Server.  And when i check Schema Registry server log - I can see below error.</p>\n<pre><code>java.lang.ClassCastException: class org.apache.avro.Schema$UnionSchema cannot be cast to class org.apache.avro.Schema$NamedSchema (org.apache.avro.Schema$UnionSchema and org.apache.avro.Schema$NamedSchema are in unnamed module of loader 'app')\n    at org.apache.avro.Schema$Names.add(Schema.java:1505)\n    at org.apache.avro.Schemas.toString(Schemas.java:43)\n    at org.apache.avro.Schemas.toString(Schemas.java:30)\n    at io.confluent.kafka.schemaregistry.avro.AvroSchema.canonicalString(AvroSchema.java:152)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.canonicalizeSchema(KafkaSchemaRegistry.java:926)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.lookUpSchemaUnderSubject(KafkaSchemaRegistry.java:744)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.registerOrForward(KafkaSchemaRegistry.java:565)\n    at io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource.register(SubjectVersionsResource.java:266)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-configuration"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1699968140,"post_id":76814172,"comment_id":136594887,"body_markdown":"I don&#39;t know if that is possible at all, tbh, but what is your point with &quot;I would like to share these properties between the bootstrap and application contexts&quot;? Can you expand on why you need that?","body":"I don&#39;t know if that is possible at all, tbh, but what is your point with &quot;I would like to share these properties between the bootstrap and application contexts&quot;? Can you expand on why you need that?"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1699991169,"post_id":76814172,"comment_id":136599379,"body_markdown":"I think the context is not fully built yet so you may be right let me try as a env var","body":"I think the context is not fully built yet so you may be right let me try as a env var"}],"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690912819,"creation_date":1690912819,"question_id":76814172,"body_markdown":"I have the following to initialize a static client...\r\n\r\n```java\r\npublic class Boostrap implements BootstrapRegistryInitializer {\r\n\r\n    @Override\r\n    public void initialize(BootstrapRegistry registry) {\r\n        // TODO: Get the username from properties\r\n        String username = &quot;MyUser&quot;;\r\n        registry.register(\r\n            AwsParameterStoreClientCustomizer.class,\r\n            context -&gt; new ParameterStoreClientCustomizer(username)\r\n        );\r\n        registry.register(BootstrapItem.class, context -&gt; new BootstrapItem(&quot;Test 123&quot;));\r\n    }\r\n}\r\n```\r\n\r\nI would like to get `username` from `myProps.username` so my application.yml file will look like this...\r\n\r\n```yaml\r\nmyProps:\r\n  username: Test345\r\n```\r\n\r\nI want to use the application.yml instead of the bootstrap.yml because I would like to share these properties between the bootstrap and application contexts (IE. 1 place instead of 2). \r\n\r\nWhat is the proper way to access the application yaml property from the BootstrapRegistryInitializer?\r\n\r\n","title":"How do I access application.yml Spring Properties from the BoostrapRegistryInitializer?","body":"<p>I have the following to initialize a static client...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Boostrap implements BootstrapRegistryInitializer {\n\n    @Override\n    public void initialize(BootstrapRegistry registry) {\n        // TODO: Get the username from properties\n        String username = &quot;MyUser&quot;;\n        registry.register(\n            AwsParameterStoreClientCustomizer.class,\n            context -&gt; new ParameterStoreClientCustomizer(username)\n        );\n        registry.register(BootstrapItem.class, context -&gt; new BootstrapItem(&quot;Test 123&quot;));\n    }\n}\n</code></pre>\n<p>I would like to get <code>username</code> from <code>myProps.username</code> so my application.yml file will look like this...</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myProps:\n  username: Test345\n</code></pre>\n<p>I want to use the application.yml instead of the bootstrap.yml because I would like to share these properties between the bootstrap and application contexts (IE. 1 place instead of 2).</p>\n<p>What is the proper way to access the application yaml property from the BootstrapRegistryInitializer?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6904832,"reputation":127,"user_id":5954437,"display_name":"ganeshram"},"score":0,"creation_date":1690300735,"post_id":76764484,"comment_id":135332841,"body_markdown":"You have not created any bean for JobBuilderFactory. You can create a class with @configuration (or can use the same class as above) and add the relevant bean definition there .","body":"You have not created any bean for JobBuilderFactory. You can create a class with @configuration (or can use the same class as above) and add the relevant bean definition there ."},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1690300981,"post_id":76764484,"comment_id":135332888,"body_markdown":"yes of course, but these should be default beans included with the library","body":"yes of course, but these should be default beans included with the library"},{"owner":{"account_id":6904832,"reputation":127,"user_id":5954437,"display_name":"ganeshram"},"score":0,"creation_date":1690301201,"post_id":76764484,"comment_id":135332947,"body_markdown":"Library only have classes. To create a bean out of it and make them available for other beans to use as it as a dependency, we need to add a bean definition in our configuration class. refer this doc : https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html","body":"Library only have classes. To create a bean out of it and make them available for other beans to use as it as a dependency, we need to add a bean definition in our configuration class. refer this doc : <a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690304188,"post_id":76764484,"comment_id":135333560,"body_markdown":"These classes are deprecated as of Spring Batch 5.0.0 You should not use them. Instead please use JobBuilder and StepBuilder. Probably you are learning from an outdated tutorial?","body":"These classes are deprecated as of Spring Batch 5.0.0 You should not use them. Instead please use JobBuilder and StepBuilder. Probably you are learning from an outdated tutorial?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690304482,"post_id":76764484,"comment_id":135333621,"body_markdown":"Here is the correct (and official) tutorial: https://spring.io/guides/gs/batch-processing/","body":"Here is the correct (and official) tutorial: <a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/batch-processing</a>"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1690313097,"post_id":76764484,"comment_id":135335262,"body_markdown":"@Mar-Z the tutorial i was following is 11 months old, so i didn&#39;t expected was so outdated.. btw the tutorial you provided seems great! i did setup the project with H2 database and when i start the application it execute the sql script and create the table but after that seems that the Job is not executed. the db table is not populated and i can&#39;t notice any log","body":"@Mar-Z the tutorial i was following is 11 months old, so i didn&#39;t expected was so outdated.. btw the tutorial you provided seems great! i did setup the project with H2 database and when i start the application it execute the sql script and create the table but after that seems that the Job is not executed. the db table is not populated and i can&#39;t notice any log"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912611,"creation_date":1690912611,"answer_id":76814158,"question_id":76764484,"body_markdown":"&gt; yes of course, but these should be default beans included with the library\r\n\r\nThose beans were added by `@EnableBatchProcessing` in version 4, but not in version 5 anymore. This is mentioned in the migration guide here: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\r\n\r\nYou should use `JobBuilder` and `StepBuilder` instead. Here is a quick example:\r\n\r\n```java\r\n// Sample with v4\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class MyJobConfig {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Bean\r\n    public Job myJob(Step step) {\r\n        return this.jobBuilderFactory.get(&quot;myJob&quot;)\r\n                .start(step)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n// Sample with v5\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class MyJobConfig {\r\n\r\n    @Bean\r\n    public Job myJob(JobRepository jobRepository, Step step) {\r\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\r\n                .start(step)\r\n                .build();\r\n    }\r\n\r\n}\r\n```","title":"Spring Batch configuration: Could not autowire. No beans of &#39;JobBuilderFactory&#39; type found","body":"<blockquote>\n<p>yes of course, but these should be default beans included with the library</p>\n</blockquote>\n<p>Those beans were added by <code>@EnableBatchProcessing</code> in version 4, but not in version 5 anymore. This is mentioned in the migration guide here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration</a></p>\n<p>You should use <code>JobBuilder</code> and <code>StepBuilder</code> instead. Here is a quick example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sample with v4\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Bean\n    public Job myJob(Step step) {\n        return this.jobBuilderFactory.get(&quot;myJob&quot;)\n                .start(step)\n                .build();\n    }\n\n}\n</code></pre>\n<pre><code>// Sample with v5\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfig {\n\n    @Bean\n    public Job myJob(JobRepository jobRepository, Step step) {\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\n                .start(step)\n                .build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690912611,"creation_date":1690300545,"question_id":76764484,"body_markdown":"I&#39;m tryng to start my first Spring Batch project following a tutorial.\r\nI added the dependencies for Spring-batch in my pom.xml.\r\n\r\nHere&#39;s my simple code:\r\n\r\n\r\n```\r\n\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n    @Autowired\r\n    public JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    public StepBuilderFactory stepBuilderFactory;\r\n    \r\n}\r\n```\r\n\r\n\r\nAnd i&#39;m getting theese errors from my IDE:\r\n\r\nCould not autowire. No beans of &#39;JobBuilderFactory&#39; type found.\r\n\r\nand:\r\n\r\nCould not autowire. No beans of &#39;StepBuilderFactory&#39; type found.\r\n\r\nIm using IntelliJ Ultimate.\r\n\r\nWhen i start the application i get this error:\r\n[intellij error][1]\r\n\r\nEvery feedback would be really appreciated! Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1hM5G.png","title":"Spring Batch configuration: Could not autowire. No beans of &#39;JobBuilderFactory&#39; type found","body":"<p>I'm tryng to start my first Spring Batch project following a tutorial.\nI added the dependencies for Spring-batch in my pom.xml.</p>\n<p>Here's my simple code:</p>\n<pre><code>\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n    \n}\n</code></pre>\n<p>And i'm getting theese errors from my IDE:</p>\n<p>Could not autowire. No beans of 'JobBuilderFactory' type found.</p>\n<p>and:</p>\n<p>Could not autowire. No beans of 'StepBuilderFactory' type found.</p>\n<p>Im using IntelliJ Ultimate.</p>\n<p>When i start the application i get this error:\n<a href=\"https://i.stack.imgur.com/1hM5G.png\" rel=\"nofollow noreferrer\">intellij error</a></p>\n<p>Every feedback would be really appreciated! Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":4,"creation_date":1690903465,"post_id":76813084,"comment_id":135416398,"body_markdown":"`*` doesn&#39;t work on its own; it means 0 or more instances of the preceding thing; in your regex, that would be `:`.","body":"<code>*</code> doesn&#39;t work on its own; it means 0 or more instances of the preceding thing; in your regex, that would be <code>:</code>."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690903663,"post_id":76813084,"comment_id":135416448,"body_markdown":"`:/` &lt;- This is in your regex, but the String you try to match doesn&#39;t contain any colon followed by a slash.","body":"<code>:&#47;</code> &lt;- This is in your regex, but the String you try to match doesn&#39;t contain any colon followed by a slash."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1690907955,"post_id":76813084,"comment_id":135417274,"body_markdown":"The supposed regex that you are using there actually looks like a UNIX-style file name pattern; see https://en.wikipedia.org/wiki/Glob_(programming).  Regex use a different syntax; see https://en.wikipedia.org/wiki/Regular_expression.  I recommend that you find and **read** a tutorial on regexes.  Or at least, read the summary of the Java regex syntax in the `Pattern` [javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html).","body":"The supposed regex that you are using there actually looks like a UNIX-style file name pattern; see <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Glob_(programming)</a>.  Regex use a different syntax; see <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Regular_expression</a>.  I recommend that you find and <b>read</b> a tutorial on regexes.  Or at least, read the summary of the Java regex syntax in the <code>Pattern</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">javadocs</a>."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690915261,"post_id":76813084,"comment_id":135418664,"body_markdown":"Try `String permission = &quot;arn:aws:execute-api:.*:.*:.*/*/*/*&quot;`","body":"Try <code>String permission = &quot;arn:aws:execute-api:.*:.*:.*&#47;*&#47;*&#47;*&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912494,"creation_date":1690912494,"answer_id":76814150,"question_id":76813084,"body_markdown":"No need for explicit regexes really, just `String.split` will do the job:\r\n```\r\npublic class Tokenizer {\r\n    public static void main(String[] args) {\r\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\r\n        String[] regAcc = methodArn.split(&quot;:&quot;, 4)[3].split(&quot;:&quot;, 3);\r\n        System.out.printf(&quot;Region = %s%n&quot;, regAcc[0]);\r\n        System.out.printf(&quot;Account number = %s%n&quot;, regAcc[1]);\r\n        String[] apiIdstageIdhttpMethodUrl = regAcc[2].split(&quot;/&quot;, 4);\r\n        System.out.printf(&quot;API ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[0]);\r\n        System.out.printf(&quot;Stage ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[1]);\r\n        System.out.printf(&quot;Http method = %s%n&quot;, apiIdstageIdhttpMethodUrl[2]);\r\n        System.out.printf(&quot;URL = %s%n&quot;, apiIdstageIdhttpMethodUrl[3]);\r\n    }\r\n}\r\n```","title":"Java Basic Pattern regex (Fully example)","body":"<p>No need for explicit regexes really, just <code>String.split</code> will do the job:</p>\n<pre><code>public class Tokenizer {\n    public static void main(String[] args) {\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\n        String[] regAcc = methodArn.split(&quot;:&quot;, 4)[3].split(&quot;:&quot;, 3);\n        System.out.printf(&quot;Region = %s%n&quot;, regAcc[0]);\n        System.out.printf(&quot;Account number = %s%n&quot;, regAcc[1]);\n        String[] apiIdstageIdhttpMethodUrl = regAcc[2].split(&quot;/&quot;, 4);\n        System.out.printf(&quot;API ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[0]);\n        System.out.printf(&quot;Stage ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[1]);\n        System.out.printf(&quot;Http method = %s%n&quot;, apiIdstageIdhttpMethodUrl[2]);\n        System.out.printf(&quot;URL = %s%n&quot;, apiIdstageIdhttpMethodUrl[3]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26009284,"reputation":95,"user_id":19718614,"display_name":"asdasf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1690912494,"creation_date":1690903201,"question_id":76813084,"body_markdown":"Maybe I am not seeing the issue, I have been stuck for quite some time.\r\nI don&#39;t understand why my regex does not work. I want to use the wildcards.\r\n\r\n1st * -&gt; region\r\n\r\n2nd * -&gt; account number\r\n\r\n3rd * -&gt; API ID\r\n\r\n4th * -&gt; stage ID\r\n\r\n5th * -&gt; HTTP Method\r\n\r\n6th * -&gt; URL, can be /user , /user/info , /user/info/somethingelse\r\n\r\n    public static void main(String args[]) {\r\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\r\n        String permission = &quot;arn:aws:execute-api:*:*:*/*/*/*&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(permission);\r\n\t\tMatcher matcher = pattern.matcher(methodArn);\r\n\t\tif (matcher.matches()) {\r\n\t\t    System.out.println(&quot;MATCHES&quot;);\r\n\t\t} else {\r\n\t\t System.out.println(&quot;NOT MATCHES&quot;);\r\n\t\t}\r\n    }\r\n\r\nCan you please tell me why this code executes NOT MATCHES. I was excepting it to match","title":"Java Basic Pattern regex (Fully example)","body":"<p>Maybe I am not seeing the issue, I have been stuck for quite some time.\nI don't understand why my regex does not work. I want to use the wildcards.</p>\n<p>1st * -&gt; region</p>\n<p>2nd * -&gt; account number</p>\n<p>3rd * -&gt; API ID</p>\n<p>4th * -&gt; stage ID</p>\n<p>5th * -&gt; HTTP Method</p>\n<p>6th * -&gt; URL, can be /user , /user/info , /user/info/somethingelse</p>\n<pre><code>public static void main(String args[]) {\n    String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\n    String permission = &quot;arn:aws:execute-api:*:*:*/*/*/*&quot;;\n\n    Pattern pattern = Pattern.compile(permission);\n    Matcher matcher = pattern.matcher(methodArn);\n    if (matcher.matches()) {\n        System.out.println(&quot;MATCHES&quot;);\n    } else {\n     System.out.println(&quot;NOT MATCHES&quot;);\n    }\n}\n</code></pre>\n<p>Can you please tell me why this code executes NOT MATCHES. I was excepting it to match</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":2,"creation_date":1319669930,"post_id":7909747,"comment_id":9659485,"body_markdown":"Jave doesn&#39;t really have a concept of `T[]`.","body":"Jave doesn&#39;t really have a concept of <code>T[]</code>."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1319732923,"post_id":7909747,"comment_id":9672600,"body_markdown":"possible duplicate of [java: (String\\[\\])List.toArray() gives ClassCastException](http://stackoverflow.com/questions/5690351/java-stringlist-toarray-gives-classcastexception)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5690351/java-stringlist-toarray-gives-classcastexception\">java: (String&#91;&#93;)List.toArray() gives ClassCastException</a>"}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1319754790,"creation_date":1319668541,"answer_id":7909755,"question_id":7909747,"body_markdown":"You need to pass in an array so its runtime type can be used as a hint by `toArray`.  Try `toArray(new String[0])` instead.  You can also pass in a pre-sized array.\r\n\r\nTo understand, consider what type erasure would have to do to make\r\n\r\n    new T[4]\r\n\r\nwork.  If Java allowed that, the best it could do post erasure is\r\n\r\n    new Object[4]\r\n\r\nMost `toArray` implementations use [`java.lang.reflect.Array`](http://download.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int%29) to construct an output array of the right type given a type hint passed as a `Class`.\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>You need to pass in an array so its runtime type can be used as a hint by <code>toArray</code>.  Try <code>toArray(new String[0])</code> instead.  You can also pass in a pre-sized array.</p>\n\n<p>To understand, consider what type erasure would have to do to make</p>\n\n<pre><code>new T[4]\n</code></pre>\n\n<p>work.  If Java allowed that, the best it could do post erasure is</p>\n\n<pre><code>new Object[4]\n</code></pre>\n\n<p>Most <code>toArray</code> implementations use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int%29\"><code>java.lang.reflect.Array</code></a> to construct an output array of the right type given a type hint passed as a <code>Class</code>.</p>\n"},{"tags":[],"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1319668656,"creation_date":1319668656,"answer_id":7909764,"question_id":7909747,"body_markdown":"Because arrays have been in Java since the beginning, while generics were only introduced in Java 5. And the `List.toArray()` method was introduced in Java 1.2, before generics existed, and so it was specified to return `Object[]`.  Lots of existing code now expects `List.toArray()` to return `Object[]`, so it can&#39;t be changed now.\r\n\r\nFurthermore, generics are erased at runtime, so `ArrayList` couldn&#39;t even construct an array of the proper type if it wanted to.\r\n\r\nThe loophole for this is the [`List.toArray(T[])`](http://download.oracle.com/javase/6/docs/api/java/util/List.html#toArray(T[])) method, which will return you an array of the correct type, provided you give it an array of the correct type so it knows what type to use.","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Because arrays have been in Java since the beginning, while generics were only introduced in Java 5. And the <code>List.toArray()</code> method was introduced in Java 1.2, before generics existed, and so it was specified to return <code>Object[]</code>.  Lots of existing code now expects <code>List.toArray()</code> to return <code>Object[]</code>, so it can't be changed now.</p>\n\n<p>Furthermore, generics are erased at runtime, so <code>ArrayList</code> couldn't even construct an array of the proper type if it wanted to.</p>\n\n<p>The loophole for this is the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#toArray(T[])\" rel=\"noreferrer\"><code>List.toArray(T[])</code></a> method, which will return you an array of the correct type, provided you give it an array of the correct type so it knows what type to use.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319668831,"creation_date":1319668831,"answer_id":7909781,"question_id":7909747,"body_markdown":"To understand why that happens, just have a look at the javadoc for [`Collection.toArray()`][1] and then look at the [`Collection.toArray(T[] a)`][2] method. Also keep in mind that generics in Java are erased at runtime.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28%29\r\n  [2]: http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28T%5B%5D%29","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>To understand why that happens, just have a look at the javadoc for <a href=\"http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28%29\" rel=\"nofollow\"><code>Collection.toArray()</code></a> and then look at the <a href=\"http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28T%5B%5D%29\" rel=\"nofollow\"><code>Collection.toArray(T[] a)</code></a> method. Also keep in mind that generics in Java are erased at runtime.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1492002801,"creation_date":1319679252,"answer_id":7910815,"question_id":7909747,"body_markdown":"The reasons are two:\r\n\r\n1. The method preceded Generics and they couldn&#39;t change the signature without breaking backwards compatibility.\r\n\r\n2. In any case, as the `List` is constructed without a `Class&lt;T&gt;` there is no way for the implementation to construct an array of type `T`.","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>The reasons are two:</p>\n\n<ol>\n<li><p>The method preceded Generics and they couldn't change the signature without breaking backwards compatibility.</p></li>\n<li><p>In any case, as the <code>List</code> is constructed without a <code>Class&lt;T&gt;</code> there is no way for the implementation to construct an array of type <code>T</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510271580,"creation_date":1510263948,"answer_id":47212097,"question_id":7909747,"body_markdown":"Workaround will be to use:\r\n\r\n           List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n             list.add(&quot;Sputnik&quot;);\r\n             list.add(&quot;Explorer&quot;);\r\n             \r\n            //String[] str = list.toArray(); \r\n  This is bound to throw an : incompatible types: Object[] cannot be converted to String[] error\r\n\r\n           Instead use:\r\n           \r\n            String[] str = list.toArray(new String[0]);\r\n            or\r\n            String[] str = list.toArray(new String[list.size()]);\r\n          \r\n\r\n            ","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Workaround will be to use:</p>\n\n<pre><code>       List&lt;String&gt; list = new ArrayList&lt;&gt;();\n         list.add(\"Sputnik\");\n         list.add(\"Explorer\");\n\n        //String[] str = list.toArray(); \n</code></pre>\n\n<p>This is bound to throw an : incompatible types: Object[] cannot be converted to String[] error</p>\n\n<pre><code>       Instead use:\n\n        String[] str = list.toArray(new String[0]);\n        or\n        String[] str = list.toArray(new String[list.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912402,"creation_date":1690912402,"answer_id":76814142,"question_id":7909747,"body_markdown":"Since Java 11 it&#39;s even easier than `String[] str = list.toArray(new String[0])` or `String[] str = list.toArray(new String[list.size()])`:\r\n\r\n```\r\nString[] str = list.toArray(String[]::new);\r\n```\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Since Java 11 it's even easier than <code>String[] str = list.toArray(new String[0])</code> or <code>String[] str = list.toArray(new String[list.size()])</code>:</p>\n<pre><code>String[] str = list.toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":44899,"reputation":2410,"user_id":131997,"accept_rate":50,"display_name":"justadreamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18559,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":7909755,"answer_count":6,"score":37,"last_activity_date":1690912402,"creation_date":1319668450,"question_id":7909747,"body_markdown":"Does anybody know why Java 1.6 has this behaviour:\r\n\r\n    List&lt;String&gt; list = ArrayList&lt;String&gt;();\r\n    String[] arr = (String[]) list.toArray();\r\n\r\nAnd I get a ClassCastException, because it returns Object[] and not String[].  \r\n\r\nI thought \r\n`List&lt;T&gt;.toArray()` should return T[] - no?  Does anyone have an answer why this inconvenience exists in the language? \r\nAnd also how to work around this? How do I get a String[] from `List&lt;String&gt;` without looping thru the items?\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Does anybody know why Java 1.6 has this behaviour:</p>\n\n<pre><code>List&lt;String&gt; list = ArrayList&lt;String&gt;();\nString[] arr = (String[]) list.toArray();\n</code></pre>\n\n<p>And I get a ClassCastException, because it returns Object[] and not String[].  </p>\n\n<p>I thought \n<code>List&lt;T&gt;.toArray()</code> should return T[] - no?  Does anyone have an answer why this inconvenience exists in the language? \nAnd also how to work around this? How do I get a String[] from <code>List&lt;String&gt;</code> without looping thru the items?</p>\n"},{"tags":["java","linux","spring-boot","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690910797,"post_id":76813862,"comment_id":135417854,"body_markdown":"looks like it&#39;s trying to download information about the latest chromedriver and that bit is failing.  &quot;failed: connect timed out&quot;  So it&#39;s using the local version of the driver.","body":"looks like it&#39;s trying to download information about the latest chromedriver and that bit is failing.  &quot;failed: connect timed out&quot;  So it&#39;s using the local version of the driver."},{"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"score":0,"creation_date":1690911427,"post_id":76813862,"comment_id":135417979,"body_markdown":"@pcalkins ok, so  what kind of configuration I need to do.  a specific version? or another configuration","body":"@pcalkins ok, so  what kind of configuration I need to do.  a specific version? or another configuration"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690911702,"post_id":76813862,"comment_id":135418040,"body_markdown":"looks like it&#39;s trying to read a remote configuration file.   If you want to use the webdrivermanager, you need to fix the connection issue on that machine.  So go to the Linux server and try navigating to: https://chromedriver.storage.googleapis.com:443  Maybe that&#39;ll tell you something about what&#39;s wrong there.  (note the ports used in the URLs in the exception... maybe some are being blocked?)","body":"looks like it&#39;s trying to read a remote configuration file.   If you want to use the webdrivermanager, you need to fix the connection issue on that machine.  So go to the Linux server and try navigating to: <a href=\"https://chromedriver.storage.googleapis.com:443\" rel=\"nofollow noreferrer\">chromedriver.storage.googleapis.com:443</a>  Maybe that&#39;ll tell you something about what&#39;s wrong there.  (note the ports used in the URLs in the exception... maybe some are being blocked?)"},{"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"score":0,"creation_date":1690912901,"post_id":76813862,"comment_id":135418277,"body_markdown":"Yeah  @pcalkins , I just created a method to ping that uri, look at the image https://ibb.co/tPC0dZg, then this response in my postman on linux server https://ibb.co/hXgGrxC, but my windows https://ibb.co/jyWPx8c ,I assume it is the linux server firewall?","body":"Yeah  @pcalkins , I just created a method to ping that uri, look at the image <a href=\"https://ibb.co/tPC0dZg\" rel=\"nofollow noreferrer\">ibb.co/tPC0dZg</a>, then this response in my postman on linux server <a href=\"https://ibb.co/hXgGrxC\" rel=\"nofollow noreferrer\">ibb.co/hXgGrxC</a>, but my windows <a href=\"https://ibb.co/jyWPx8c\" rel=\"nofollow noreferrer\">ibb.co/jyWPx8c</a> ,I assume it is the linux server firewall?"}],"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690911625,"creation_date":1690909806,"question_id":76813862,"body_markdown":"# **My dependecies**\r\n\t\t`&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;5.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;`\r\n\r\n# \r\n# MY CODE MAIN\r\n\r\n```\r\n WebDriverManager.chromedriver().setup();\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\n        driver.get(&quot;http://www.xxx.xxx.xx/xxxx/HPSGDec10A&quot;);\r\n```\r\n......\r\n**\r\nIn my window it works normally but when I deploy my java application to linux server with jboss\r\nthis error show me**\r\n\r\n-------\r\n io.github.bonigarcia.wdm.versions.VersionDetector - Error reading commands.properties, using local instead\r\n\r\n\r\n\r\n     WARN  io.github.bonigarcia.wdm.versions.VersionDetector - Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE to get latest version of chromedriver (Connect to https://chromedriver.storage.googleapis.com:443 [chromedriver.storage.googleapis.com/64.233.186.128, chromedriver.storage.googleapis.com/64.233.190.128, chromedriver.storage.googleapis.com/142.250.0.128, chromedriver.storage.googleapis.com/142.251.0.128, chromedriver.storage.googleapis.com/172.217.192.128] failed: connect timed out)\r\n\r\n\r\n**PLEASE, I want to know if I need a specific version of Chrome or what kind of configuration I need to do.**","title":"Error reading commands.properties, using local instead - Error Selenium Java","body":"<h1><strong>My dependecies</strong></h1>\n<pre><code>    `&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;`\n</code></pre>\n<h1></h1>\n<h1>MY CODE MAIN</h1>\n<pre><code> WebDriverManager.chromedriver().setup();\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\n        WebDriver driver = new ChromeDriver(options);\n\n        driver.get(&quot;http://www.xxx.xxx.xx/xxxx/HPSGDec10A&quot;);\n</code></pre>\n<p>......\n**\nIn my window it works normally but when I deploy my java application to linux server with jboss\nthis error show me**</p>\n<hr />\n<p>io.github.bonigarcia.wdm.versions.VersionDetector - Error reading commands.properties, using local instead</p>\n<pre><code> WARN  io.github.bonigarcia.wdm.versions.VersionDetector - Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE to get latest version of chromedriver (Connect to https://chromedriver.storage.googleapis.com:443 [chromedriver.storage.googleapis.com/64.233.186.128, chromedriver.storage.googleapis.com/64.233.190.128, chromedriver.storage.googleapis.com/142.250.0.128, chromedriver.storage.googleapis.com/142.251.0.128, chromedriver.storage.googleapis.com/172.217.192.128] failed: connect timed out)\n</code></pre>\n<p><strong>PLEASE, I want to know if I need a specific version of Chrome or what kind of configuration I need to do.</strong></p>\n"},{"tags":["java","ssl","java-8","openssl","tls1.3"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690933696,"post_id":76813399,"comment_id":135421230,"body_markdown":"The client looks like openssl to me, not Java. &#39;TCP close socket&#39; should be &#39;SSL close socket&#39;. Get rid of the shutdown. Then it should work.","body":"The client looks like openssl to me, not Java. &#39;TCP close socket&#39; should be &#39;SSL close socket&#39;. Get rid of the shutdown. Then it should work."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690936409,"post_id":76813399,"comment_id":135421495,"body_markdown":"Yes. Client is in C++. Open SSL. the server is in Java and I guess that is where we need to set the num of tickets, isn&#39;t it?","body":"Yes. Client is in C++. Open SSL. the server is in Java and I guess that is where we need to set the num of tickets, isn&#39;t it?"},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690937839,"post_id":76813399,"comment_id":135421624,"body_markdown":"@user207421: didn&#39;t get you. what is the difference between TCP close socket and SSL close socket? We are doing a SSL_shutdown which I thought closes the SSL connection.","body":"@user207421: didn&#39;t get you. what is the difference between TCP close socket and SSL close socket? We are doing a SSL_shutdown which I thought closes the SSL connection."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690946983,"post_id":76813399,"comment_id":135422289,"body_markdown":"That&#39;s not what it says in the [documentatipon](https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html). Based on that I would do `SSL_shutdown()`, then an `SSL_read()`, which will return EOS but will also consume all the pending messages, then the close.","body":"That&#39;s not what it says in the <a href=\"https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html\" rel=\"nofollow noreferrer\">documentatipon</a>. Based on that I would do <code>SSL_shutdown()</code>, then an <code>SSL_read()</code>, which will return EOS but will also consume all the pending messages, then the close."},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1690948460,"post_id":76813399,"comment_id":135422415,"body_markdown":"@Omi: see the part in the [documentation of SSL_shutdown](https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html) which starts with *&quot;When a client only writes and never reads from the connection,  ....&quot;*. This is obviously the relevant scenario here. The exception you get is because you close the socket on the client side before reading all data send by the server (notably the TLS session ticket) - leading the client to send a TCP reset back. You could probably also avoid sending this TCP reset by doing a TCP shutdown with SHUT_RDWR after the SSL shutdown and before the TCP socket close.","body":"@Omi: see the part in the <a href=\"https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html\" rel=\"nofollow noreferrer\">documentation of SSL_shutdown</a> which starts with <i>&quot;When a client only writes and never reads from the connection,  ....&quot;</i>. This is obviously the relevant scenario here. The exception you get is because you close the socket on the client side before reading all data send by the server (notably the TLS session ticket) - leading the client to send a TCP reset back. You could probably also avoid sending this TCP reset by doing a TCP shutdown with SHUT_RDWR after the SSL shutdown and before the TCP socket close."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690950319,"post_id":76813399,"comment_id":135422556,"body_markdown":"@SteffenUllrich That will only cause the *server* to get a connection reset. It won&#39;t stop the server sending the tickets, as it won&#39;t know about the read shutdown. He needs the final `SSL_read()`.","body":"@SteffenUllrich That will only cause the <i>server</i> to get a connection reset. It won&#39;t stop the server sending the tickets, as it won&#39;t know about the read shutdown. He needs the final <code>SSL_read()</code>."},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1690950709,"post_id":76813399,"comment_id":135422585,"body_markdown":"@user207421: Correct. Preventing sending the TCP reset by using TCP shutdown is more a quick and dirty work around. The real fix is to do a complete SSL shutdown, which means doing a SSL_read on the client side until the SSL shutdown from the server was received.","body":"@user207421: Correct. Preventing sending the TCP reset by using TCP shutdown is more a quick and dirty work around. The real fix is to do a complete SSL shutdown, which means doing a SSL_read on the client side until the SSL shutdown from the server was received."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690954507,"post_id":76813399,"comment_id":135422945,"body_markdown":"@user207421: we are already doing a tcp shutdown with SHUT_RDWR after the SSL shutdown and before TCP socket close. BTW: if we do tcp shutdown with SHUT_RD that should allow the server to continue reading from the socket, isn&#39;t it?","body":"@user207421: we are already doing a tcp shutdown with SHUT_RDWR after the SSL shutdown and before TCP socket close. BTW: if we do tcp shutdown with SHUT_RD that should allow the server to continue reading from the socket, isn&#39;t it?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690970601,"post_id":76813399,"comment_id":135426093,"body_markdown":"@Omi Read what I wrote. Call `SSL_shutdown()` and then `SSL_read()`.","body":"@Omi Read what I wrote. Call <code>SSL_shutdown()</code> and then <code>SSL_read()</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690970685,"post_id":76813399,"comment_id":135426107,"body_markdown":"@SteffenUllrich TCP shutdown does not reliably prevent a TCP reset. The effect of read shutdown on the sender varies across platforms, but one of them is to *issue* a reset if further data arrives.","body":"@SteffenUllrich TCP shutdown does not reliably prevent a TCP reset. The effect of read shutdown on the sender varies across platforms, but one of them is to <i>issue</i> a reset if further data arrives."}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690911326,"creation_date":1690905693,"question_id":76813399,"body_markdown":"I have a Java server-client application.\r\n\r\n    Client:\r\n    SSL connect\r\n    SSL_write data\r\n    SSL_shutdown\r\n    TCP close socket\r\n    \r\n    Server:\r\n    SSL accept\r\n    SSL read\r\n    close socket\r\n\r\nAbove design worked fine.Till we upgraded to TLS 1.3. Now this does not work. when the client closes socket, the server is unable to read the data and throws an exception. (From various articles I read, I figured this may be because the server is still sending session tickets by the time the client closes socket)\r\n\r\nI also saw that in Open SSL C++, we can disable the num of tickets and get the above design working. However, I don&#39;t see a way to do the same in Java. It looks like it is not permitted at all in the Java TLS lib.\r\n\r\nPlease let me know if there is a way to disable session tickets (or set num of tickets to 0) in Java. I am using Java 8u261.\r\n\r\n(Note: I tried waiting for server socket close before the client closes its socket and that works. However due to some other requirements we have, I am trying to avoid this approach as much as possible)\r\n\r\n\r\n\r\n","title":"How to set num of session tickets in TLS 1.3 Java","body":"<p>I have a Java server-client application.</p>\n<pre><code>Client:\nSSL connect\nSSL_write data\nSSL_shutdown\nTCP close socket\n\nServer:\nSSL accept\nSSL read\nclose socket\n</code></pre>\n<p>Above design worked fine.Till we upgraded to TLS 1.3. Now this does not work. when the client closes socket, the server is unable to read the data and throws an exception. (From various articles I read, I figured this may be because the server is still sending session tickets by the time the client closes socket)</p>\n<p>I also saw that in Open SSL C++, we can disable the num of tickets and get the above design working. However, I don't see a way to do the same in Java. It looks like it is not permitted at all in the Java TLS lib.</p>\n<p>Please let me know if there is a way to disable session tickets (or set num of tickets to 0) in Java. I am using Java 8u261.</p>\n<p>(Note: I tried waiting for server socket close before the client closes its socket and that works. However due to some other requirements we have, I am trying to avoid this approach as much as possible)</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624372689,"creation_date":1624372689,"answer_id":68085578,"question_id":68084579,"body_markdown":"That would be the style of `CTTextbox`. There you can set &quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;. That means vertical text flow bottom to top.\r\n\r\n    ...\r\n    CTTextbox ctTextbox = ctRect.addNewTextbox();\r\n    ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\r\n    ...\r\n\r\nHow to get? Create the default text box. Open the file using `Word` GUI. Set text direction there as wanted. Save the file. Unzip the `*.docx` and have a look into `/word/document.xml`. There you will find:\r\n\r\n    &lt;w:pict&gt;\r\n     &lt;v:rect style=&quot;position:absolute;...&quot;&gt;\r\n      &lt;v:textbox style=&quot;...;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top;...&quot;&gt;\r\n       &lt;w:txbxContent&gt;\r\n        ...\r\n       &lt;/w:txbxContent&gt;\r\n      &lt;/v:textbox&gt;\r\n     &lt;/v:rect&gt;\r\n    &lt;/w:pict&gt;\r\n\r\nComplete example (tested and works using `apache poi 5.0.0`):\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTxbxContent;\r\n    \r\n    import com.microsoft.schemas.vml.CTGroup;\r\n    import com.microsoft.schemas.vml.CTRect;\r\n    import com.microsoft.schemas.vml.CTTextbox;\r\n    import com.microsoft.schemas.office.word.CTWrap;\r\n    import com.microsoft.schemas.office.word.STWrapType;\r\n    \r\n    import org.w3c.dom.Node;\r\n    \r\n    public class CreateWordTextBox {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc= new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = doc.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The Body text: &quot;);\r\n    \r\n      CTGroup ctGroup = CTGroup.Factory.newInstance();\r\n    \r\n      CTRect ctRect = ctGroup.addNewRect();\r\n      //ctRect.addNewWrap().setType(STWrapType.SQUARE);\r\n      ctRect.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:10pt;width:36pt;height:100pt&quot;);\r\n      \r\n      CTTextbox ctTextbox = ctRect.addNewTextbox();\r\n      ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\r\n    \r\n      CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\r\n      ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\r\n    \r\n      Node ctGroupNode = ctGroup.getDomNode(); \r\n      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n      run=paragraph.createRun();  \r\n      CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... &quot;);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;WordTextBox.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Apache poi : rotate text inside docx textbox","body":"<p>That would be the style of <code>CTTextbox</code>. There you can set &quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;. That means vertical text flow bottom to top.</p>\n<pre><code>...\nCTTextbox ctTextbox = ctRect.addNewTextbox();\nctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\n...\n</code></pre>\n<p>How to get? Create the default text box. Open the file using <code>Word</code> GUI. Set text direction there as wanted. Save the file. Unzip the <code>*.docx</code> and have a look into <code>/word/document.xml</code>. There you will find:</p>\n<pre><code>&lt;w:pict&gt;\n &lt;v:rect style=&quot;position:absolute;...&quot;&gt;\n  &lt;v:textbox style=&quot;...;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top;...&quot;&gt;\n   &lt;w:txbxContent&gt;\n    ...\n   &lt;/w:txbxContent&gt;\n  &lt;/v:textbox&gt;\n &lt;/v:rect&gt;\n&lt;/w:pict&gt;\n</code></pre>\n<p>Complete example (tested and works using <code>apache poi 5.0.0</code>):</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTxbxContent;\n\nimport com.microsoft.schemas.vml.CTGroup;\nimport com.microsoft.schemas.vml.CTRect;\nimport com.microsoft.schemas.vml.CTTextbox;\nimport com.microsoft.schemas.office.word.CTWrap;\nimport com.microsoft.schemas.office.word.STWrapType;\n\nimport org.w3c.dom.Node;\n\npublic class CreateWordTextBox {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc= new XWPFDocument();\n\n  XWPFParagraph paragraph = doc.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The Body text: &quot;);\n\n  CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n  CTRect ctRect = ctGroup.addNewRect();\n  //ctRect.addNewWrap().setType(STWrapType.SQUARE);\n  ctRect.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:10pt;width:36pt;height:100pt&quot;);\n  \n  CTTextbox ctTextbox = ctRect.addNewTextbox();\n  ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\n\n  CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\n  ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\n\n  Node ctGroupNode = ctGroup.getDomNode(); \n  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n  run=paragraph.createRun();  \n  CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... &quot;);\n\n  FileOutputStream out = new FileOutputStream(&quot;WordTextBox.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13643497,"reputation":1,"user_id":9843063,"display_name":"Vlad Dubov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690911312,"creation_date":1690911312,"answer_id":76814021,"question_id":68084579,"body_markdown":"Axel Richter.\r\nThank you for the code.\r\nMaybe you know, how can we rotate the text inside CTTxbxContent for any angle like CTShape itself?\r\n\r\nHere is &quot;my&quot; attempt to rotate &quot;The TextBox text...&quot; inside CTTxbxContent (apache poi 5.2.3): \r\n\r\n    @Test\r\n    public void parseTextBox() throws Exception {\r\n        XWPFDocument doc = new XWPFDocument();\r\n\r\n        XWPFParagraph paragraph = doc.createParagraph();\r\n\r\n        CTGroup ctGroup = CTGroup.Factory.newInstance();\r\n\r\n        CTShape ctShape = ctGroup.addNewShape();\r\n\r\n        ctShape.addNewWrap().setType(STWrapType.SQUARE);\r\n        ctShape.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:40pt;width:100pt;height:24pt;rotation:30&quot;);\r\n        CTTextbox ctTextbox = ctShape.addNewTextbox();\r\n        ctTextbox.setStyle(&quot;rotation:30&quot;);\r\n        CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\r\n        ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\r\n\r\n        Node ctGroupNode = ctGroup.getDomNode();\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture =\r\n            org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\r\n        XWPFRun run = paragraph.createRun();\r\n        CTR cTR = run.getCTR();\r\n        cTR.addNewPict();\r\n        cTR.setPictArray(0, ctPicture);\r\n\r\n        FileOutputStream out = new FileOutputStream(&quot;test2.docx&quot;);\r\n        doc.write(out);\r\n        out.close();\r\n        doc.close();\r\n\r\n        final File file = new File(&quot;test2.docx&quot;);\r\n        final XWPFDocument docx = new XWPFDocument(Files.newInputStream(file.toPath()));\r\n        List&lt;XWPFParagraph&gt; paragraphList = docx.getParagraphs();\r\n    }\r\n\r\nBut only the shape is rotating, not the text inside it:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LbtIu.png","title":"Apache poi : rotate text inside docx textbox","body":"<p>Axel Richter.\nThank you for the code.\nMaybe you know, how can we rotate the text inside CTTxbxContent for any angle like CTShape itself?</p>\n<p>Here is &quot;my&quot; attempt to rotate &quot;The TextBox text...&quot; inside CTTxbxContent (apache poi 5.2.3):</p>\n<pre><code>@Test\npublic void parseTextBox() throws Exception {\n    XWPFDocument doc = new XWPFDocument();\n\n    XWPFParagraph paragraph = doc.createParagraph();\n\n    CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n    CTShape ctShape = ctGroup.addNewShape();\n\n    ctShape.addNewWrap().setType(STWrapType.SQUARE);\n    ctShape.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:40pt;width:100pt;height:24pt;rotation:30&quot;);\n    CTTextbox ctTextbox = ctShape.addNewTextbox();\n    ctTextbox.setStyle(&quot;rotation:30&quot;);\n    CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\n    ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\n\n    Node ctGroupNode = ctGroup.getDomNode();\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture =\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\n    XWPFRun run = paragraph.createRun();\n    CTR cTR = run.getCTR();\n    cTR.addNewPict();\n    cTR.setPictArray(0, ctPicture);\n\n    FileOutputStream out = new FileOutputStream(&quot;test2.docx&quot;);\n    doc.write(out);\n    out.close();\n    doc.close();\n\n    final File file = new File(&quot;test2.docx&quot;);\n    final XWPFDocument docx = new XWPFDocument(Files.newInputStream(file.toPath()));\n    List&lt;XWPFParagraph&gt; paragraphList = docx.getParagraphs();\n}\n</code></pre>\n<p>But only the shape is rotating, not the text inside it:\n<a href=\"https://i.stack.imgur.com/LbtIu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":95566,"reputation":141,"user_id":6585144,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68085578,"answer_count":2,"score":0,"last_activity_date":1690911312,"creation_date":1624369039,"question_id":68084579,"body_markdown":"The client has asked the ability to add editable notes to a docx document automatically generated by a web application. I&#39;ve implemented the requirement by adding some editable texboxes to the document. Now the customer whishes some of this notes have vertical text but i cannot find any example on how to implement this functionality. Should i rotate the textbox or the text contained? which class should i use ? can you provide any link with examples , i have found none till now? below is the code i use to add textboxes :\r\n\r\n    try {\r\n    \t\t\t\t\tCTGroup ctGroup = CTGroup.Factory.newInstance();\r\n    \r\n    \t\t\t\t\tCTRect ctRect = ctGroup.addNewRect();\r\n    \t\t\t\t\tctRect.setStyle(\r\n    \t\t\t\t\t\t\t  String.format(\r\n    \t\t\t\t\t\t\t\t\t  &quot;position:absolute;width: %scm;&quot;   \r\n    \t\t\t\t\t\t\t\t\t+ &quot;height:%scm;&quot; \r\n    \t\t\t\t\t\t\t\t\t+ &quot;top:%scm;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;left:%scm;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;mso-position-horizontal-relative:page;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;mso-position-vertical-relative:page;&quot;,\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getWidth()/10,//mm-&gt;cm\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getHeight()/10,//mm-&gt;cm\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getY(),\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getX()\r\n    \t\t\t\t\t\t\t)\r\n    \t\t\t\t\t  );\r\n    \t\t\t\t\t  CTTxbxContent ctTxbxContent = ctRect.addNewTextbox().addNewTxbxContent();\r\n    \t\t\t\t\t  String[] noteLines = nota.getDescription().split(&quot;\\n|\\r\\n&quot;);\r\n    \t\t\t\t\t  CTP noteCTP = ctTxbxContent.addNewP();\r\n    \t\t\t\t\t  for(String line : noteLines){\r\n                             CTR noteCTR = noteCTP.addNewR();\r\n                             noteCTR.addNewT().setStringValue(line);\r\n                             noteCTR.addNewCr();\r\n    \t\t\t\t\t  }\r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  Node ctGroupNode = ctGroup.getDomNode(); \r\n    \t\t\t\t\t  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  XWPFRun noteRun = imageParagraph.createRun(); \r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  CTR cTR = noteRun.getCTR();\r\n    \t\t\t\t\t  cTR.addNewPict();\r\n    \t\t\t\t\t  cTR.setPictArray(0, ctPicture);\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t  \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tlogger.warn(&quot;failed to add a note &quot; +  e.getMessage(),e);\r\n    \t\t\t\t\tthrow new ReportGeneratorException(&quot;error adding note on pages &quot; + nota.getPages() + &quot;(id &quot; + nota.getId() +&quot;)&quot;);\r\n    \t\t\t\t}","title":"Apache poi : rotate text inside docx textbox","body":"<p>The client has asked the ability to add editable notes to a docx document automatically generated by a web application. I've implemented the requirement by adding some editable texboxes to the document. Now the customer whishes some of this notes have vertical text but i cannot find any example on how to implement this functionality. Should i rotate the textbox or the text contained? which class should i use ? can you provide any link with examples , i have found none till now? below is the code i use to add textboxes :</p>\n<pre><code>try {\n                    CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n                    CTRect ctRect = ctGroup.addNewRect();\n                    ctRect.setStyle(\n                              String.format(\n                                      &quot;position:absolute;width: %scm;&quot;   \n                                    + &quot;height:%scm;&quot; \n                                    + &quot;top:%scm;&quot;\n                                    + &quot;left:%scm;&quot;\n                                    + &quot;mso-position-horizontal-relative:page;&quot;\n                                    + &quot;mso-position-vertical-relative:page;&quot;,\n                                    nota.getWordPosition().getWidth()/10,//mm-&gt;cm\n                                    nota.getWordPosition().getHeight()/10,//mm-&gt;cm\n                                    nota.getWordPosition().getY(),\n                                    nota.getWordPosition().getX()\n                            )\n                      );\n                      CTTxbxContent ctTxbxContent = ctRect.addNewTextbox().addNewTxbxContent();\n                      String[] noteLines = nota.getDescription().split(&quot;\\n|\\r\\n&quot;);\n                      CTP noteCTP = ctTxbxContent.addNewP();\n                      for(String line : noteLines){\n                         CTR noteCTR = noteCTP.addNewR();\n                         noteCTR.addNewT().setStringValue(line);\n                         noteCTR.addNewCr();\n                      }\n                      \n                      Node ctGroupNode = ctGroup.getDomNode(); \n                      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n                      \n                      XWPFRun noteRun = imageParagraph.createRun(); \n                      \n                      CTR cTR = noteRun.getCTR();\n                      cTR.addNewPict();\n                      cTR.setPictArray(0, ctPicture);\n                     \n                      \n                } catch (Exception e) {\n                    logger.warn(&quot;failed to add a note &quot; +  e.getMessage(),e);\n                    throw new ReportGeneratorException(&quot;error adding note on pages &quot; + nota.getPages() + &quot;(id &quot; + nota.getId() +&quot;)&quot;);\n                }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10508245,"reputation":311,"user_id":7744772,"display_name":"Cozy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690911300,"creation_date":1690911300,"answer_id":76814019,"question_id":76802524,"body_markdown":"The problem here was trying to mock the router params . In my case I replaced mocks for `Utilities` and `AppConfig` with real initialised objects as follows:\r\n\r\n```\r\nUtilities utilities = new Utilities();\r\nAppConfig cfg = new AppConfig();\r\n```\r\n\r\n\r\nI updated my test to the following code and it passed.\r\n\r\n```\r\n@Slf4j\r\nclass GreetingHandlerTest {\r\n\r\n    GreetingSvc greetingSvc;\r\n    WebTestClient client;\r\n\r\n    @BeforeEach\r\n    void setUp(){\r\n        this.greetingSvc = mock(GreetingSvc.class);\r\n\r\n        Utilities utilities = new Utilities();\r\n        AppConfig cfg = new AppConfig();\r\n\r\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\r\n\r\n\r\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\r\n\r\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\r\n\r\n\r\n        RouterFunction&lt;?&gt; route = new AppRouter().greetingRoute(cfg,utilities,greetingHandler);\r\n\r\n        this.client = WebTestClient.bindToRouterFunction(route)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Get Hello Back&quot;)\r\n    void testHello() {\r\n\r\n        client.get()\r\n                .uri(&quot;/api/v2/hello&quot;)\r\n                .headers(Utilities.getHttpHeaders())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(BaseResponse.class);\r\n        ;\r\n    }\r\n}\r\n```","title":"The mapper returned a null Mono in a SpringBoot Reactive Router and Handler Unit test","body":"<p>The problem here was trying to mock the router params . In my case I replaced mocks for <code>Utilities</code> and <code>AppConfig</code> with real initialised objects as follows:</p>\n<pre><code>Utilities utilities = new Utilities();\nAppConfig cfg = new AppConfig();\n</code></pre>\n<p>I updated my test to the following code and it passed.</p>\n<pre><code>@Slf4j\nclass GreetingHandlerTest {\n\n    GreetingSvc greetingSvc;\n    WebTestClient client;\n\n    @BeforeEach\n    void setUp(){\n        this.greetingSvc = mock(GreetingSvc.class);\n\n        Utilities utilities = new Utilities();\n        AppConfig cfg = new AppConfig();\n\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\n\n\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\n\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\n\n\n        RouterFunction&lt;?&gt; route = new AppRouter().greetingRoute(cfg,utilities,greetingHandler);\n\n        this.client = WebTestClient.bindToRouterFunction(route)\n                .build();\n    }\n\n    @Test\n    @DisplayName(&quot;Get Hello Back&quot;)\n    void testHello() {\n\n        client.get()\n                .uri(&quot;/api/v2/hello&quot;)\n                .headers(Utilities.getHttpHeaders())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(BaseResponse.class);\n        ;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10508245,"reputation":311,"user_id":7744772,"display_name":"Cozy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76814019,"answer_count":1,"score":0,"last_activity_date":1690911300,"creation_date":1690797637,"question_id":76802524,"body_markdown":"I have a functional router :\r\n\r\n```\r\n@Bean\r\n    public RouterFunction&lt;ServerResponse&gt; greetingRoute(Utilities utils,\r\n                                                     AppConfig cfg,\r\n                                                     GreetingHandler greetingHandler) {\r\n        return RouterFunctions.route()\r\n                .path(&quot;/api&quot;,api -&gt; api\r\n                        // x-headers validation\r\n                        .filter((request,next) -&gt; utils.verifyXHeaders(request,cfg,next))\r\n                        // Customer urls\r\n                        .nest(accept(MediaType.APPLICATION_JSON),ops -&gt; ops\r\n                                // Greeting API\r\n                                .GET(&quot;/v2/hello&quot;,greetingHandler::hello)\r\n                        )\r\n                        .build())\r\n                .build();\r\n    }\r\n```\r\n\r\nAnd it&#39;s handler function below:\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; hello(ServerRequest serverRequest) {\r\n\r\n        Mono&lt;Greeting&gt; greetingResponse = greetingSvc.greetingFunction();\r\n\r\n        return greetingResponse.flatMap(greeting -&gt; {\r\n            BaseResponse brs = BaseResponse.builder()\r\n                    .responseCode(String.valueOf(HttpStatus.OK.value()))\r\n                    .responseMsg(&quot;Greeting&quot;)\r\n                    .detailedMsg(&quot;Greeting Success&quot;)\r\n                    .responseData(greeting)\r\n                    .build();\r\n\r\n            return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\r\n                    .bodyValue(brs);\r\n        });\r\n\r\n    }\r\n\r\n```\r\n\r\nI am trying to write a unit test for the handler as follows:\r\n\r\n```\r\n@Slf4j\r\nclass GreetingHandlerTest {\r\n\r\n    GreetingSvc greetingSvc;\r\n    WebTestClient client;\r\n\r\n    @BeforeEach\r\n    void setUp(){\r\n        this.greetingSvc = mock(GreetingSvc.class);\r\n        Utilities utils = mock(Utilities.class);\r\n        AppConfig cfg = mock(AppConfig.class);\r\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\r\n\r\n\r\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\r\n\r\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\r\n\r\n\r\n        RouterFunction&lt;?&gt; route = new AppRouter()\r\n                .greetingRoute(utils,cfg,greetingHandler);\r\n\r\n        this.client = WebTestClient.bindToRouterFunction(route)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Get Hello Back&quot;)\r\n    void testHello() {\r\n\r\n        client.get()\r\n                .uri(&quot;/api/v2/hello&quot;)\r\n                .headers(Utilities.getHttpHeaders())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(BaseResponse.class);\r\n        ;\r\n    }\r\n}\r\n```\r\n\r\nHowever this test always fails with an error `The mapper returned a null Mono` and the following stack trace:\r\n\r\n```\r\n12:46:14.282 [parallel-1] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] HTTP GET &quot;/api/v2/hello&quot;\r\n12:46:14.334 [parallel-1] ERROR org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] 500 Server Error for HTTP GET &quot;/api/v2/hello&quot;\r\njava.lang.NullPointerException: The mapper returned a null Mono\r\n\tat java.util.Objects.requireNonNull(Objects.java:228)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ HTTP GET &quot;/api/v2/hello&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat java.util.Objects.requireNonNull(Objects.java:228)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:431)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4457)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4393)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$doConnect$2(HttpHandlerConnector.java:98)\r\n\t\tat org.springframework.mock.http.client.reactive.MockClientHttpRequest.lambda$null$2(MockClientHttpRequest.java:124)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatIterable$ConcatIterableSubscriber.onComplete(FluxConcatIterable.java:147)\r\n\t\tat reactor.core.publisher.FluxConcatIterable.subscribe(FluxConcatIterable.java:60)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4457)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4393)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.doConnect(HttpHandlerConnector.java:112)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$connect$0(HttpHandlerConnector.java:79)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\t\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n12:46:14.346 [parallel-1] DEBUG org.springframework.test.web.reactive.server.HttpHandlerConnector - Creating client response for  GET &quot;/api/v2/hello&quot;\r\n12:46:14.351 [parallel-1] DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions - [68105edc] [185decc2] Response 500 INTERNAL_SERVER_ERROR\r\n```\r\n\r\nBut testing the api on postman it responds with a success:\r\n\r\n```\r\n{\r\n    &quot;responseCode&quot;: &quot;200&quot;,\r\n    &quot;responseMsg&quot;: &quot;Greeting&quot;,\r\n    &quot;detailedMsg&quot;: &quot;Greeting Success&quot;,\r\n    &quot;Data&quot;: {\r\n        &quot;message&quot;: &quot;Hello, Spring!&quot;\r\n    }\r\n}\r\n```\r\nBeen stuck on this for a while now. How do I make this unit test pass by mocking the greeting service implementation. The Integration test also works by the way, am stuck on this unit test.\r\n\r\n\r\nFor more context `greetingSvc` implementation is here:\r\n\r\n```\r\n\r\npublic Mono&lt;Greeting&gt; greetingFunction(){\r\n        return Mono.just(new Greeting(&quot;Hello, Spring!&quot;));\r\n    }\r\n\r\n```\r\n","title":"The mapper returned a null Mono in a SpringBoot Reactive Router and Handler Unit test","body":"<p>I have a functional router :</p>\n<pre><code>@Bean\n    public RouterFunction&lt;ServerResponse&gt; greetingRoute(Utilities utils,\n                                                     AppConfig cfg,\n                                                     GreetingHandler greetingHandler) {\n        return RouterFunctions.route()\n                .path(&quot;/api&quot;,api -&gt; api\n                        // x-headers validation\n                        .filter((request,next) -&gt; utils.verifyXHeaders(request,cfg,next))\n                        // Customer urls\n                        .nest(accept(MediaType.APPLICATION_JSON),ops -&gt; ops\n                                // Greeting API\n                                .GET(&quot;/v2/hello&quot;,greetingHandler::hello)\n                        )\n                        .build())\n                .build();\n    }\n</code></pre>\n<p>And it's handler function below:</p>\n<pre><code>public Mono&lt;ServerResponse&gt; hello(ServerRequest serverRequest) {\n\n        Mono&lt;Greeting&gt; greetingResponse = greetingSvc.greetingFunction();\n\n        return greetingResponse.flatMap(greeting -&gt; {\n            BaseResponse brs = BaseResponse.builder()\n                    .responseCode(String.valueOf(HttpStatus.OK.value()))\n                    .responseMsg(&quot;Greeting&quot;)\n                    .detailedMsg(&quot;Greeting Success&quot;)\n                    .responseData(greeting)\n                    .build();\n\n            return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n                    .bodyValue(brs);\n        });\n\n    }\n\n</code></pre>\n<p>I am trying to write a unit test for the handler as follows:</p>\n<pre><code>@Slf4j\nclass GreetingHandlerTest {\n\n    GreetingSvc greetingSvc;\n    WebTestClient client;\n\n    @BeforeEach\n    void setUp(){\n        this.greetingSvc = mock(GreetingSvc.class);\n        Utilities utils = mock(Utilities.class);\n        AppConfig cfg = mock(AppConfig.class);\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\n\n\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\n\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\n\n\n        RouterFunction&lt;?&gt; route = new AppRouter()\n                .greetingRoute(utils,cfg,greetingHandler);\n\n        this.client = WebTestClient.bindToRouterFunction(route)\n                .build();\n    }\n\n    @Test\n    @DisplayName(&quot;Get Hello Back&quot;)\n    void testHello() {\n\n        client.get()\n                .uri(&quot;/api/v2/hello&quot;)\n                .headers(Utilities.getHttpHeaders())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(BaseResponse.class);\n        ;\n    }\n}\n</code></pre>\n<p>However this test always fails with an error <code>The mapper returned a null Mono</code> and the following stack trace:</p>\n<pre><code>12:46:14.282 [parallel-1] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] HTTP GET &quot;/api/v2/hello&quot;\n12:46:14.334 [parallel-1] ERROR org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] 500 Server Error for HTTP GET &quot;/api/v2/hello&quot;\njava.lang.NullPointerException: The mapper returned a null Mono\n    at java.util.Objects.requireNonNull(Objects.java:228)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ HTTP GET &quot;/api/v2/hello&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at java.util.Objects.requireNonNull(Objects.java:228)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:431)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4457)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4393)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$doConnect$2(HttpHandlerConnector.java:98)\n        at org.springframework.mock.http.client.reactive.MockClientHttpRequest.lambda$null$2(MockClientHttpRequest.java:124)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatIterable$ConcatIterableSubscriber.onComplete(FluxConcatIterable.java:147)\n        at reactor.core.publisher.FluxConcatIterable.subscribe(FluxConcatIterable.java:60)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4457)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4393)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.doConnect(HttpHandlerConnector.java:112)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$connect$0(HttpHandlerConnector.java:79)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n        at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n        at java.util.concurrent.FutureTask.run(FutureTask.java)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n12:46:14.346 [parallel-1] DEBUG org.springframework.test.web.reactive.server.HttpHandlerConnector - Creating client response for  GET &quot;/api/v2/hello&quot;\n12:46:14.351 [parallel-1] DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions - [68105edc] [185decc2] Response 500 INTERNAL_SERVER_ERROR\n</code></pre>\n<p>But testing the api on postman it responds with a success:</p>\n<pre><code>{\n    &quot;responseCode&quot;: &quot;200&quot;,\n    &quot;responseMsg&quot;: &quot;Greeting&quot;,\n    &quot;detailedMsg&quot;: &quot;Greeting Success&quot;,\n    &quot;Data&quot;: {\n        &quot;message&quot;: &quot;Hello, Spring!&quot;\n    }\n}\n</code></pre>\n<p>Been stuck on this for a while now. How do I make this unit test pass by mocking the greeting service implementation. The Integration test also works by the way, am stuck on this unit test.</p>\n<p>For more context <code>greetingSvc</code> implementation is here:</p>\n<pre><code>\npublic Mono&lt;Greeting&gt; greetingFunction(){\n        return Mono.just(new Greeting(&quot;Hello, Spring!&quot;));\n    }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-commons-beanutils"],"owner":{"account_id":28975094,"reputation":3,"user_id":22194386,"display_name":"hunter man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690910538,"creation_date":1690910538,"question_id":76813941,"body_markdown":"Im using elastic search for data retrieval and so that I build my elastic queries using SearchRequest builder provided by elastic java api client. Problem is once the build method in Search Request is called it won&#39;t allow me to do a build once again. So I need to copy my source search request to a destination search request and play with it without touching source request.\r\nI tried using \r\n\r\n```\r\nSearchRequest.Builder dest = new SearchRequest.Builder();\r\nSearchRequest.Builder source = buildSourceQuery(); // I&#39;m building my search request in this method\r\nBeanUtils.copyProperties(dest, source);\r\nthis.elasticSearchClient.search(dest.build(), Product.class);\r\n```\r\n\r\n\r\nOn calling dest.build() method one of the field gets updated to true by elastic and it reflects in my source request as well with no option to set value for it. I need my source search request not be updated whenever dest is changed or updated.\r\n","title":"copy or clone source object to target object and source object changes java","body":"<p>Im using elastic search for data retrieval and so that I build my elastic queries using SearchRequest builder provided by elastic java api client. Problem is once the build method in Search Request is called it won't allow me to do a build once again. So I need to copy my source search request to a destination search request and play with it without touching source request.\nI tried using</p>\n<pre><code>SearchRequest.Builder dest = new SearchRequest.Builder();\nSearchRequest.Builder source = buildSourceQuery(); // I'm building my search request in this method\nBeanUtils.copyProperties(dest, source);\nthis.elasticSearchClient.search(dest.build(), Product.class);\n</code></pre>\n<p>On calling dest.build() method one of the field gets updated to true by elastic and it reflects in my source request as well with no option to set value for it. I need my source search request not be updated whenever dest is changed or updated.</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690528912,"post_id":76785580,"comment_id":135369248,"body_markdown":"Yes, it&#39;s similar to `new ArrayList&lt;String&gt;`. The difference is that&#39;s a constructor, and this is a method. So this syntax is how you pass type arguments to a method. Usually you don&#39;t have to, because the compiler will infer them for you.","body":"Yes, it&#39;s similar to <code>new ArrayList&lt;String&gt;</code>. The difference is that&#39;s a constructor, and this is a method. So this syntax is how you pass type arguments to a method. Usually you don&#39;t have to, because the compiler will infer them for you."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690910495,"creation_date":1690910495,"answer_id":76813936,"question_id":76785580,"body_markdown":"Those types represent the input and output item type of the step. This notation enforces type-safety at compile time to make sure you are passing an item reader and an item writer with the expected input and output types.\r\n\r\nThe output type can be different from the input type if you use an item processor that changes the type.","title":"How to read the two type parameters infront of the chunk method in Spring Batch StepBuilder?","body":"<p>Those types represent the input and output item type of the step. This notation enforces type-safety at compile time to make sure you are passing an item reader and an item writer with the expected input and output types.</p>\n<p>The output type can be different from the input type if you use an item processor that changes the type.</p>\n"}],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690910495,"creation_date":1690528652,"question_id":76785580,"body_markdown":"From the official Spring Batch documentation https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#configuringAStep\r\n\r\n\r\n    @Bean\r\n    public Step sampleStep(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\r\n    \treturn new StepBuilder(&quot;sampleStep&quot;, jobRepository)\r\n    \t\t\t\t.&lt;String, String&gt;chunk(10, transactionManager) // &lt;-- (*)\r\n    \t\t\t\t.reader(itemReader())\r\n    \t\t\t\t.writer(itemWriter())\r\n    \t\t\t\t.build();\r\n    }\r\n\r\nI&#39;m not sure how to read the line `(*)`, especially the `&lt;String, String&gt;` part. Its two type parameters, but what does it mean here? Like &quot;Read a String Type and write to a String type&quot;?\r\nThe syntax is confusing to me.. Is this similar to like instantiating an array list like `List a = new ArrayList&lt;Integer&gt;()`? What confuses me is that the type parameters are at the start of the `chunk` method invocation. How to read this?","title":"How to read the two type parameters infront of the chunk method in Spring Batch StepBuilder?","body":"<p>From the official Spring Batch documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#configuringAStep\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#configuringAStep</a></p>\n<pre><code>@Bean\npublic Step sampleStep(JobRepository jobRepository, PlatformTransactionManager transactionManager) {\n    return new StepBuilder(&quot;sampleStep&quot;, jobRepository)\n                .&lt;String, String&gt;chunk(10, transactionManager) // &lt;-- (*)\n                .reader(itemReader())\n                .writer(itemWriter())\n                .build();\n}\n</code></pre>\n<p>I'm not sure how to read the line <code>(*)</code>, especially the <code>&lt;String, String&gt;</code> part. Its two type parameters, but what does it mean here? Like &quot;Read a String Type and write to a String type&quot;?\nThe syntax is confusing to me.. Is this similar to like instantiating an array list like <code>List a = new ArrayList&lt;Integer&gt;()</code>? What confuses me is that the type parameters are at the start of the <code>chunk</code> method invocation. How to read this?</p>\n"},{"tags":["java","android","facebook","webview","android-webview"],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690910354,"creation_date":1690910354,"question_id":76813920,"body_markdown":"If I try to load a facebook profile in a webview, I&#39;m getting an error if I use a `WebViewClient` to display it inside the internal webview and not on an external browser:\r\n\r\n    webView=new WebView(ctx);\r\n    webView.loadUrl(&quot;https://www.facebook.com/Google&quot;);\r\n    webView.setWebViewClient(new WebViewClient());\r\n\r\nIt gives this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QUEMj.png\r\n\r\nIt is like it is trying to redirect to an internal protocol called `fb://profile/` that it is not working in the internal webview, and because of that, is giving `ERR_UNKNOWN_URL_SCHEME`\r\n\r\nAny help with this? Some time ago this worked perfectly","title":"Facebook page can&#39;t open in webview","body":"<p>If I try to load a facebook profile in a webview, I'm getting an error if I use a <code>WebViewClient</code> to display it inside the internal webview and not on an external browser:</p>\n<pre><code>webView=new WebView(ctx);\nwebView.loadUrl(&quot;https://www.facebook.com/Google&quot;);\nwebView.setWebViewClient(new WebViewClient());\n</code></pre>\n<p>It gives this error:</p>\n<p><a href=\"https://i.stack.imgur.com/QUEMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QUEMj.png\" alt=\"enter image description here\" /></a></p>\n<p>It is like it is trying to redirect to an internal protocol called <code>fb://profile/</code> that it is not working in the internal webview, and because of that, is giving <code>ERR_UNKNOWN_URL_SCHEME</code></p>\n<p>Any help with this? Some time ago this worked perfectly</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690910284,"post_id":76813852,"comment_id":135417758,"body_markdown":"Is this some kind web application that contains both an EJB container (jar file) and a web container(war file) - possibly both packed into an ear? If that is the case and you messed up building your project and put the RuntimeDelegate.class into both the jar and war file this classcastexceptions tend to happen, because each container has its own classloader afaik.","body":"Is this some kind web application that contains both an EJB container (jar file) and a web container(war file) - possibly both packed into an ear? If that is the case and you messed up building your project and put the RuntimeDelegate.class into both the jar and war file this classcastexceptions tend to happen, because each container has its own classloader afaik."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690910383,"post_id":76813852,"comment_id":135417770,"body_markdown":"`2 different class loaders. But how is that possible?` This is normal in a web application.  In short, imagine your web app uses a library, and that library uses some static fields to hold the information it needs to work.  Now imagine that another web app in the same container uses the same library.  Obviously, the static fields holding information would conflict, causing errors.  So web apps use class loaders to partition applications into separate spaces so each can have its own copy of any class, preventing problems.","body":"<code>2 different class loaders. But how is that possible?</code> This is normal in a web application.  In short, imagine your web app uses a library, and that library uses some static fields to hold the information it needs to work.  Now imagine that another web app in the same container uses the same library.  Obviously, the static fields holding information would conflict, causing errors.  So web apps use class loaders to partition applications into separate spaces so each can have its own copy of any class, preventing problems."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690910506,"post_id":76813852,"comment_id":135417793,"body_markdown":"More on class loading: https://stackoverflow.com/questions/18210389/java-ee-and-java-se-classloading","body":"More on class loading: <a href=\"https://stackoverflow.com/questions/18210389/java-ee-and-java-se-classloading\" title=\"java ee and java se classloading\">stackoverflow.com/questions/18210389/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690910665,"post_id":76813852,"comment_id":135417830,"body_markdown":"Some info on configuring a class loader in a JEE app: https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-application-class-loaders  Basically I Googled for &quot;java classloadeer war j2ee jee&quot; and got a ton of hits.  It&#39;s a well documented process and there&#39;s lots of help available.","body":"Some info on configuring a class loader in a JEE app: <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-application-class-loaders\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was/&hellip;</a>  Basically I Googled for &quot;java classloadeer war j2ee jee&quot; and got a ton of hits.  It&#39;s a well documented process and there&#39;s lots of help available."},{"owner":{"account_id":29138397,"reputation":1,"user_id":22321996,"display_name":"Alek Jachowicz"},"score":0,"creation_date":1690916724,"post_id":76813852,"comment_id":135418931,"body_markdown":"This is not web app. It does make a rest call but this is the client end, pretty simple java. There is no ear, there is no war. This is what makes me wonder. So I&#39;m basically running a standalone java JUnit call which in turn calls my jar that makes a rest call.   That is the strangest thing, no Tomcat","body":"This is not web app. It does make a rest call but this is the client end, pretty simple java. There is no ear, there is no war. This is what makes me wonder. So I&#39;m basically running a standalone java JUnit call which in turn calls my jar that makes a rest call.   That is the strangest thing, no Tomcat"},{"owner":{"account_id":29138397,"reputation":1,"user_id":22321996,"display_name":"Alek Jachowicz"},"score":0,"creation_date":1691011092,"post_id":76813852,"comment_id":135434707,"body_markdown":"OK, greate. Question closed and proposed answers isn&#39;t even close to what I was asking. To code still doesn&#39;t work. Bummer. Comments are valuable but it seems people only read title and didn&#39;t get in to details.","body":"OK, greate. Question closed and proposed answers isn&#39;t even close to what I was asking. To code still doesn&#39;t work. Bummer. Comments are valuable but it seems people only read title and didn&#39;t get in to details."},{"owner":{"account_id":29138397,"reputation":1,"user_id":22321996,"display_name":"Alek Jachowicz"},"score":0,"creation_date":1691011354,"post_id":76813852,"comment_id":135434760,"body_markdown":"With all respect @markspace, all you comments assume it&#39;s JEE app and it&#39;s not. that is the trick in the question. I could google &quot;java classloader war&quot; myself.","body":"With all respect @markspace, all you comments assume it&#39;s JEE app and it&#39;s not. that is the trick in the question. I could google &quot;java classloader war&quot; myself."}],"owner":{"account_id":29138397,"reputation":1,"user_id":22321996,"display_name":"Alek Jachowicz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690932069,"answer_count":0,"score":0,"last_activity_date":1690909692,"creation_date":1690909692,"question_id":76813852,"body_markdown":"I&#39;m running some code inside JUnit inside IntelliJ and I&#39;m getting an exception\r\n\r\n```\r\njava.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/zzz/zzz/web/WEB-INF/lib/jakarta.ws.rs-api-2.1.6.jar!/javax/ws/rs/ext/RuntimeDelegate.class to jar:file:/C:/zzz/zzz/web/WEB-INF/lib/jakarta.ws.rs-api-2.1.6.jar!/javax/ws/rs/ext/RuntimeDelegate.class\r\n```\r\n\r\nAn the top of the stack trace is:\r\n\r\n```\r\nat javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:124)\r\n      at javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:96)\r\n      at javax.ws.rs.core.MediaType.toString(MediaType.java:395)\r\n      at com.itf.remote.client.AutoTestingRestClient.doGet(AutoTestingRestClient.java:141)\r\n```\r\n\r\nthe code line where it happens:\r\n\r\n```\r\nHttpResponse response = client.doGet(uri, MediaType.APPLICATION_JSON_TYPE.toString());\r\n```\r\n\r\nand it&#39;s the toString() method that causes it.\r\n\r\nthe jar file above is on the classpath only once.\r\nWhat IntelliJ runs is:\r\n\r\n```\r\nC:\\Users\\loosp\\.jdks\\temurin-17.0.8\\bin\\java.exe -ea -Didea.test.cyclic.buffer.size=1048576 \r\n&quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2\\lib\\idea_rt.jar=34089:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;\r\n... I removed all jars from here &quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 randstad.junit.ITFTest,Test1\r\n```\r\n\r\nFrom my investigation so far I understand that the class RuntimeDelegate must have been loaded by 2 different class loaders.\r\nBut how is that possible?\r\nThis is happening inside jakarta.ws.rs-api-2.1.6.jar so I&#39;m pretty sure I can trust that.\r\n\r\nAny ideas welcome.\r\n\r\n\r\n\r\n\r\n\r\nI already decompiled the code that this is happening in and it&#39;s this method:\r\n\r\n```\r\nprivate static RuntimeDelegate findDelegate() {\r\n        try {\r\n            Object delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot;, RuntimeDelegate.class);\r\n            if (!(delegate instanceof RuntimeDelegate)) {\r\n                Class pClass = RuntimeDelegate.class;\r\n                String classnameAsResource = pClass.getName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;\r\n                ClassLoader loader = pClass.getClassLoader();\r\n                if (loader == null) {\r\n                    loader = ClassLoader.getSystemClassLoader();\r\n                }\r\n\r\n                URL targetTypeURL = loader.getResource(classnameAsResource);\r\n                throw new LinkageError(&quot;ClassCastException: attempting to cast&quot; + delegate.getClass().getClassLoader().getResource(classnameAsResource) + &quot; to &quot; + targetTypeURL);\r\n            } else {\r\n                return (RuntimeDelegate)delegate;\r\n            }\r\n        } catch (Exception var5) {\r\n            throw new RuntimeException(var5);\r\n        }\r\n    }\r\n```\r\nBut still no idea how can this happen?","title":"How can the same class be loaded by two different classLoaders?","body":"<p>I'm running some code inside JUnit inside IntelliJ and I'm getting an exception</p>\n<pre><code>java.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/zzz/zzz/web/WEB-INF/lib/jakarta.ws.rs-api-2.1.6.jar!/javax/ws/rs/ext/RuntimeDelegate.class to jar:file:/C:/zzz/zzz/web/WEB-INF/lib/jakarta.ws.rs-api-2.1.6.jar!/javax/ws/rs/ext/RuntimeDelegate.class\n</code></pre>\n<p>An the top of the stack trace is:</p>\n<pre><code>at javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:124)\n      at javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:96)\n      at javax.ws.rs.core.MediaType.toString(MediaType.java:395)\n      at com.itf.remote.client.AutoTestingRestClient.doGet(AutoTestingRestClient.java:141)\n</code></pre>\n<p>the code line where it happens:</p>\n<pre><code>HttpResponse response = client.doGet(uri, MediaType.APPLICATION_JSON_TYPE.toString());\n</code></pre>\n<p>and it's the toString() method that causes it.</p>\n<p>the jar file above is on the classpath only once.\nWhat IntelliJ runs is:</p>\n<pre><code>C:\\Users\\loosp\\.jdks\\temurin-17.0.8\\bin\\java.exe -ea -Didea.test.cyclic.buffer.size=1048576 \n&quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2\\lib\\idea_rt.jar=34089:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;\n... I removed all jars from here &quot; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 randstad.junit.ITFTest,Test1\n</code></pre>\n<p>From my investigation so far I understand that the class RuntimeDelegate must have been loaded by 2 different class loaders.\nBut how is that possible?\nThis is happening inside jakarta.ws.rs-api-2.1.6.jar so I'm pretty sure I can trust that.</p>\n<p>Any ideas welcome.</p>\n<p>I already decompiled the code that this is happening in and it's this method:</p>\n<pre><code>private static RuntimeDelegate findDelegate() {\n        try {\n            Object delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot;, RuntimeDelegate.class);\n            if (!(delegate instanceof RuntimeDelegate)) {\n                Class pClass = RuntimeDelegate.class;\n                String classnameAsResource = pClass.getName().replace('.', '/') + &quot;.class&quot;;\n                ClassLoader loader = pClass.getClassLoader();\n                if (loader == null) {\n                    loader = ClassLoader.getSystemClassLoader();\n                }\n\n                URL targetTypeURL = loader.getResource(classnameAsResource);\n                throw new LinkageError(&quot;ClassCastException: attempting to cast&quot; + delegate.getClass().getClassLoader().getResource(classnameAsResource) + &quot; to &quot; + targetTypeURL);\n            } else {\n                return (RuntimeDelegate)delegate;\n            }\n        } catch (Exception var5) {\n            throw new RuntimeException(var5);\n        }\n    }\n</code></pre>\n<p>But still no idea how can this happen?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1480354331,"post_id":40807346,"comment_id":68916904,"body_markdown":"See also: http://stackoverflow.com/questions/40814437/how-to-filter-keys-and-value-with-a-processor-using-kafka-stream-dsl","body":"See also: <a href=\"http://stackoverflow.com/questions/40814437/how-to-filter-keys-and-value-with-a-processor-using-kafka-stream-dsl\" title=\"how to filter keys and value with a processor using kafka stream dsl\">stackoverflow.com/questions/40814437/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1480313011,"creation_date":1480313011,"answer_id":40838025,"question_id":40807346,"body_markdown":"You can use mix-and-match DSL and Processor API via `process(...)`, `transform(...)`, and `transformValues(...)`.\r\n\r\nIt allows you to access the current record offset similar to plain Processor API. In you case, it seems you want to use `KStream#transform(...)`.","title":"How can I get the offset value in KStream","body":"<p>You can use mix-and-match DSL and Processor API via <code>process(...)</code>, <code>transform(...)</code>, and <code>transformValues(...)</code>.</p>\n\n<p>It allows you to access the current record offset similar to plain Processor API. In you case, it seems you want to use <code>KStream#transform(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2032630,"reputation":6459,"user_id":1815881,"accept_rate":58,"display_name":"Athlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690909464,"creation_date":1690903395,"answer_id":76813109,"question_id":40807346,"body_markdown":"Unfortunately, apparently if one Kafka Streams application is assigned to multiple partitions which creates different tasks, the `ProcessorContext` might be assigned to different tasks and then `topic=null, partition=-1, orrset=-1`.\r\n\r\nDid anyone encountered this?\r\n\r\n---\r\n\r\nEdit: the reason of that is that I have broken `TransformerSupplier` API and returned same instance from it. Always creating new instance fixes the issue.","title":"How can I get the offset value in KStream","body":"<p>Unfortunately, apparently if one Kafka Streams application is assigned to multiple partitions which creates different tasks, the <code>ProcessorContext</code> might be assigned to different tasks and then <code>topic=null, partition=-1, orrset=-1</code>.</p>\n<p>Did anyone encountered this?</p>\n<hr />\n<p>Edit: the reason of that is that I have broken <code>TransformerSupplier</code> API and returned same instance from it. Always creating new instance fixes the issue.</p>\n"}],"owner":{"account_id":9721563,"reputation":53,"user_id":7210137,"display_name":"Stefano Frigerio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40838025,"answer_count":2,"score":5,"last_activity_date":1690909464,"creation_date":1480084723,"question_id":40807346,"body_markdown":"I&#39;m developing a PoC with Kafka Streams. Now I need to get the offset value in the stream consumer and use it to generate a unique key `(topic-offset)-&gt;hash` for each message. The reason is: the producers are syslog and only few of them have IDs. I cannot generate a UUID in the consumer because in case of a reprocess I need to regenerate the same key.\r\n\r\nMy problem is: the `org.apache.kafka.streams.processor.ProcessorContext` class exposes an `.offset()` method that returns the value, but I&#39;m using KStream instead of the Processor, and I couldn&#39;t find a method that returns the same thing.\r\n\r\nAnybody knows how to extract the consumer value for each row from a KStream?\r\nThanks in advance.","title":"How can I get the offset value in KStream","body":"<p>I'm developing a PoC with Kafka Streams. Now I need to get the offset value in the stream consumer and use it to generate a unique key <code>(topic-offset)-&gt;hash</code> for each message. The reason is: the producers are syslog and only few of them have IDs. I cannot generate a UUID in the consumer because in case of a reprocess I need to regenerate the same key.</p>\n<p>My problem is: the <code>org.apache.kafka.streams.processor.ProcessorContext</code> class exposes an <code>.offset()</code> method that returns the value, but I'm using KStream instead of the Processor, and I couldn't find a method that returns the same thing.</p>\n<p>Anybody knows how to extract the consumer value for each row from a KStream?\nThanks in advance.</p>\n"},{"tags":["java","maven","powermock","powermockito","java-16"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1624386411,"post_id":68088576,"comment_id":120343631,"body_markdown":"My first question would be: Why do you need powermock? Why not using Mockito?","body":"My first question would be: Why do you need powermock? Why not using Mockito?"},{"owner":{"account_id":161818,"reputation":1360,"user_id":382877,"accept_rate":57,"display_name":"rigon"},"score":0,"creation_date":1624407584,"post_id":68088576,"comment_id":120349072,"body_markdown":"I&#39;m using PowerMock to be able to mock final, static or private methods.","body":"I&#39;m using PowerMock to be able to mock final, static or private methods."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1624432991,"post_id":68088576,"comment_id":120354346,"body_markdown":"That&#39;s what I expected. But now the question is: Why do you need to mock &quot;final&quot; or &quot;static&quot; or much more worse &quot;private&quot; methods... That sounds like having a lot of code problems. Final things can be mocked with Mockito as well. But really which kind of static methods do you need to mock? In particular in relationship with Spring....Apart from that you are mixing JUnit Jupiter (aka JUnit 5) with JUnit 4 apart from that Mockito has a &quot;mockStatic&quot; (see https://stackoverflow.com/questions/61975300/mock-static-methods-in-junit5-using-powermockito)","body":"That&#39;s what I expected. But now the question is: Why do you need to mock &quot;final&quot; or &quot;static&quot; or much more worse &quot;private&quot; methods... That sounds like having a lot of code problems. Final things can be mocked with Mockito as well. But really which kind of static methods do you need to mock? In particular in relationship with Spring....Apart from that you are mixing JUnit Jupiter (aka JUnit 5) with JUnit 4 apart from that Mockito has a &quot;mockStatic&quot; (see <a href=\"https://stackoverflow.com/questions/61975300/mock-static-methods-in-junit5-using-powermockito\" title=\"mock static methods in junit5 using powermockito\">stackoverflow.com/questions/61975300/&hellip;</a>)"},{"owner":{"account_id":161818,"reputation":1360,"user_id":382877,"accept_rate":57,"display_name":"rigon"},"score":2,"creation_date":1626118226,"post_id":68088576,"comment_id":120802961,"body_markdown":"Actually I switched to Mockito and almost everything worked. For the cases it didn&#39;t I was able to write the test in a different way. Thanks a lot for the tip!","body":"Actually I switched to Mockito and almost everything worked. For the cases it didn&#39;t I was able to write the test in a different way. Thanks a lot for the tip!"},{"owner":{"account_id":6717057,"reputation":119,"user_id":7987290,"display_name":"LucasDelboni"},"score":1,"creation_date":1633370214,"post_id":68088576,"comment_id":122736736,"body_markdown":"@khmarbaise Why mock &quot;final&quot; and &quot;static&quot; methods sounds like having a lot of code problems? Why shouldn&#39;t we mock them?","body":"@khmarbaise Why mock &quot;final&quot; and &quot;static&quot; methods sounds like having a lot of code problems? Why shouldn&#39;t we mock them?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1633370377,"post_id":68088576,"comment_id":122736795,"body_markdown":"Based on the usage of Powermock because it&#39;s most of the time use in cases where people need to mock static/final parts. That&#39;s often a hint about issues in code...If you don&#39;t do such things... Mockito is usually a more easier and more flexible solution also related to JUnit 5 etc.","body":"Based on the usage of Powermock because it&#39;s most of the time use in cases where people need to mock static/final parts. That&#39;s often a hint about issues in code...If you don&#39;t do such things... Mockito is usually a more easier and more flexible solution also related to JUnit 5 etc."}],"answers":[{"tags":[],"owner":{"account_id":1355793,"reputation":63,"user_id":1294210,"display_name":"tastybento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690908895,"creation_date":1628660564,"answer_id":68736545,"question_id":68088576,"body_markdown":"For Java 17 and above, I use this in my POM (tested up to Java 20):\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;!--suppress MavenModelInspection --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        ${argLine}\r\n                        --add-opens java.base/java.lang=ALL-UNNAMED\r\n                        --add-opens java.base/java.math=ALL-UNNAMED\r\n                        --add-opens java.base/java.io=ALL-UNNAMED\r\n                        --add-opens java.base/java.util=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.util.stream=ALL-UNNAMED\r\n                        --add-opens java.base/java.text=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.util.regex=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.nio.channels.spi=ALL-UNNAMED\r\n                        --add-opens java.base/sun.nio.ch=ALL-UNNAMED\r\n                        --add-opens java.base/java.net=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.util.concurrent=ALL-UNNAMED\r\n                        --add-opens java.base/sun.nio.fs=ALL-UNNAMED\r\n                        --add-opens java.base/sun.nio.cs=ALL-UNNAMED\r\n                        --add-opens java.base/java.nio.file=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.nio.charset=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.base/java.lang.reflect=ALL-UNNAMED\r\n                        --add-opens\r\n                        java.logging/java.util.logging=ALL-UNNAMED\r\n                        --add-opens java.base/java.lang.ref=ALL-UNNAMED\r\n                        --add-opens java.base/java.util.jar=ALL-UNNAMED\r\n                        --add-opens java.base/java.util.zip=ALL-UNNAMED\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nIn addition, if you are using Eclipse and want to run JUnit tests in the IDE, it will fail unless you tell it about the `--add-opens` above. To do that go to Preferences-&gt;Java-&gt;Installed JREs and select your active JRE/JDK and click Edit. Then in the Default VM Arguments box copy and paste all of the `--add-opens` (do not include the {$argLine} reference). Once you have done that, you should be able to run the JUnit tests without any errors. \r\n\r\n\r\n\r\n**Old Answer of Java 16 only**:\r\nYou can use PowerMockito with Java 16 by using the `--illegal-access=permit` option in the Maven surefire plugin. You will see warnings, but it works.  \r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                    &lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nFor reference this is what I use for Mockito and PowerMockito:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"Using PowerMock in JDK 16","body":"<p>For Java 17 and above, I use this in my POM (tested up to Java 20):</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;!--suppress MavenModelInspection --&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        ${argLine}\n                        --add-opens java.base/java.lang=ALL-UNNAMED\n                        --add-opens java.base/java.math=ALL-UNNAMED\n                        --add-opens java.base/java.io=ALL-UNNAMED\n                        --add-opens java.base/java.util=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.util.stream=ALL-UNNAMED\n                        --add-opens java.base/java.text=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.util.regex=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.nio.channels.spi=ALL-UNNAMED\n                        --add-opens java.base/sun.nio.ch=ALL-UNNAMED\n                        --add-opens java.base/java.net=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.util.concurrent=ALL-UNNAMED\n                        --add-opens java.base/sun.nio.fs=ALL-UNNAMED\n                        --add-opens java.base/sun.nio.cs=ALL-UNNAMED\n                        --add-opens java.base/java.nio.file=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.nio.charset=ALL-UNNAMED\n                        --add-opens\n                        java.base/java.lang.reflect=ALL-UNNAMED\n                        --add-opens\n                        java.logging/java.util.logging=ALL-UNNAMED\n                        --add-opens java.base/java.lang.ref=ALL-UNNAMED\n                        --add-opens java.base/java.util.jar=ALL-UNNAMED\n                        --add-opens java.base/java.util.zip=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>In addition, if you are using Eclipse and want to run JUnit tests in the IDE, it will fail unless you tell it about the <code>--add-opens</code> above. To do that go to Preferences-&gt;Java-&gt;Installed JREs and select your active JRE/JDK and click Edit. Then in the Default VM Arguments box copy and paste all of the <code>--add-opens</code> (do not include the {$argLine} reference). Once you have done that, you should be able to run the JUnit tests without any errors.</p>\n<p><strong>Old Answer of Java 16 only</strong>:\nYou can use PowerMockito with Java 16 by using the <code>--illegal-access=permit</code> option in the Maven surefire plugin. You will see warnings, but it works.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --illegal-access=permit\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>For reference this is what I use for Mockito and PowerMockito:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20066502,"reputation":133,"user_id":14712110,"display_name":"Efecan AHMETOĞLU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650441313,"creation_date":1650441313,"answer_id":71936029,"question_id":68088576,"body_markdown":"Use This plugin in POM file:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n    &lt;argLine&gt;\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n    --add-opens java.base/java.io=ALL-UNNAMED\r\n    --add-opens java.base/java.util=ALL-UNNAMED\r\n    --add-opens java.base/java.base=ALL-UNNAMED\r\n    &lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Using PowerMock in JDK 16","body":"<p>Use This plugin in POM file:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;configuration&gt;\n&lt;argLine&gt;\n--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.base=ALL-UNNAMED\n&lt;/argLine&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":161818,"reputation":1360,"user_id":382877,"accept_rate":57,"display_name":"rigon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4754,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690908895,"creation_date":1624384211,"question_id":68088576,"body_markdown":"Java reflection is becoming more and more restricted:\r\n\r\n- Up to Java 8 all operations are allowed\r\n- Starting from Java 9 to 15 you are still able to perform the operations, but you will receive a warning\r\n- From Java 16 and onwards the operations are forbidden between modules (well, still possible with some special arguments passed to the JVM)\r\n\r\nThis is a serious problem when using libraries that rely heavily on reflection, like [PowerMock][1] that uses it to mock objects in tests.\r\n\r\nI created this simple example that illustrates the issue.\r\nHere is the `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Powermock&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;16&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWith this simple test `SomeTest.java`:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@RunWith(PowerMockRunner.class)\r\nclass SomeTest {\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t\tAssert.assertEquals(1, 1);\r\n\t}\r\n}\r\n```\r\n\r\nThen if we run the command `mvn clean test` we will get the error:\r\n\r\n    Running com.example.demo.SomeTest\r\n    Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.341 sec &lt;&lt;&lt; FAILURE!\r\n    initializationError(com.example.demo.SomeTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\r\n    java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make protected native\r\n        java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible:\r\n        module java.base does not &quot;opens java.lang&quot; to unnamed module @8b96fde\r\n\r\nStrangely if we add this bit to the `pom.xml`, the problem goes away:\r\n\r\n```xml\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nAnybody that can help me with this:\r\n\r\n- How to use PowerMock in JDK 16?\r\n- Is even PowerMock supported in JDK 16?\r\n- Is this issue solved using [Java modules][2]?\r\n- Why adding Spring Boot as parent solves the problem?\r\n\r\n\r\n  [1]: https://powermock.github.io/\r\n  [2]: https://nipafx.dev/java-modules-reflection-vs-encapsulation/","title":"Using PowerMock in JDK 16","body":"<p>Java reflection is becoming more and more restricted:</p>\n<ul>\n<li>Up to Java 8 all operations are allowed</li>\n<li>Starting from Java 9 to 15 you are still able to perform the operations, but you will receive a warning</li>\n<li>From Java 16 and onwards the operations are forbidden between modules (well, still possible with some special arguments passed to the JVM)</li>\n</ul>\n<p>This is a serious problem when using libraries that rely heavily on reflection, like <a href=\"https://powermock.github.io/\" rel=\"nofollow noreferrer\">PowerMock</a> that uses it to mock objects in tests.</p>\n<p>I created this simple example that illustrates the issue.\nHere is the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Powermock&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.7.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;parameters&gt;true&lt;/parameters&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>With this simple test <code>SomeTest.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.junit.Assert;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\nclass SomeTest {\n    @Test\n    void contextLoads() {\n        Assert.assertEquals(1, 1);\n    }\n}\n</code></pre>\n<p>Then if we run the command <code>mvn clean test</code> we will get the error:</p>\n<pre><code>Running com.example.demo.SomeTest\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.341 sec &lt;&lt;&lt; FAILURE!\ninitializationError(com.example.demo.SomeTest)  Time elapsed: 0 sec  &lt;&lt;&lt; ERROR!\njava.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unable to make protected native\n    java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible:\n    module java.base does not &quot;opens java.lang&quot; to unnamed module @8b96fde\n</code></pre>\n<p>Strangely if we add this bit to the <code>pom.xml</code>, the problem goes away:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>Anybody that can help me with this:</p>\n<ul>\n<li>How to use PowerMock in JDK 16?</li>\n<li>Is even PowerMock supported in JDK 16?</li>\n<li>Is this issue solved using <a href=\"https://nipafx.dev/java-modules-reflection-vs-encapsulation/\" rel=\"nofollow noreferrer\">Java modules</a>?</li>\n<li>Why adding Spring Boot as parent solves the problem?</li>\n</ul>\n"},{"tags":["java","android","react-native","gradle","expo"],"owner":{"account_id":17468562,"reputation":103,"user_id":12664825,"display_name":"jNiuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690908802,"creation_date":1690907510,"question_id":76813620,"body_markdown":"Im trying to build my react native app for android. Im following the guide on React-Native&#39;s website, but when I use ./gradlew assembleRelease in the android folder I get the following error:\r\n\r\n    MainApplication.java:71: error: cannot find symbol\r\n        ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n\r\nIve tried updating ReactNativeFlipper, reinstalling node modules, ./gradlew clean, and ensuring the package names are all the same. If you need any other files please let me know and ill update this post.\r\n\r\nIt might be worth noting that my project does not have a release folder. Not sure why or if that affects anything.","title":"Expo assembleRelease Android Cannot Find Symbol ReactNativeFlipper","body":"<p>Im trying to build my react native app for android. Im following the guide on React-Native's website, but when I use ./gradlew assembleRelease in the android folder I get the following error:</p>\n<pre><code>MainApplication.java:71: error: cannot find symbol\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n</code></pre>\n<p>Ive tried updating ReactNativeFlipper, reinstalling node modules, ./gradlew clean, and ensuring the package names are all the same. If you need any other files please let me know and ill update this post.</p>\n<p>It might be worth noting that my project does not have a release folder. Not sure why or if that affects anything.</p>\n"},{"tags":["java","ssl","tls1.2","rsyslog"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690917151,"post_id":76813745,"comment_id":135419013,"body_markdown":"You seem to only load the trust store in Java. If you want to authenticate to the server you need to configure client auth as well.","body":"You seem to only load the trust store in Java. If you want to authenticate to the server you need to configure client auth as well."}],"owner":{"account_id":20195963,"reputation":1,"user_id":14812901,"display_name":"Vijaykumar Gangavati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690908696,"creation_date":1690908696,"question_id":76813745,"body_markdown":"Unable to connect rsyslog server through java client for SSL connections with auth mode x509/name.\r\n\r\nLogged in to VM and generated certificates using the below commands\r\n\r\n```\r\nopenssl genrsa 2048 &gt; ca-key.pem\r\n# Create CA certificate\r\nopenssl req -new -x509 -nodes -days 3600 -key ca-key.pem -out ca.pem -subj &quot;/CN=selfsigned-ca-certificate&quot;\r\n# Create server certificate\r\nopenssl req -newkey rsa:2048 -days 3600 -nodes -keyout server-key.pem -out server-req.pem -subj &quot;/CN=selfsigned-server-certificate&quot;\r\nopenssl rsa -in server-key.pem -out server-key.pem\r\nopenssl x509 -req -in server-req.pem -days 3600 -CA ca.pem -CAkey ca-key.pem -set_serial 01 -out server-cert.pem\r\n# Verify certificates and you should see in response as &quot;server-cert.pem: OK&quot;\r\nopenssl verify -CAfile ca.pem server-cert.pem\r\n```\r\n\r\n\r\n**/etc/rsyslog.conf**\r\n```\r\nmodule(load=&quot;imtcp&quot; StreamDriver.AuthMode=&quot;x509/name&quot; StreamDriver.Mode=&quot;1&quot;)\r\nmodule(load=&quot;imuxsock&quot;) # provides support for local system logging (e.g. via logger command)\r\nmodule(load=&quot;imklog&quot;) # provides kernel logging support (previously done by rklogd)\r\n\r\n$DefaultNetstreamDriver gtls\r\n$DefaultNetstreamDriverCAFile /root/certs/ca.pem\r\n$DefaultNetstreamDriverCertFile /root/certs/server-cert.pem\r\n$DefaultNetstreamDriverKeyFile /root/certs/server-key.pem\r\n\r\n$InputTCPServerRun 6514\r\n\r\n$template applogs,&quot;/var/log/applogs.log&quot;\r\n\r\n*.* ?applogs\r\n```\r\n\r\njava client to connect syslog server\r\n\r\n```\r\npublic static void getSyslogConfig(SyslogConfig syslogConfig, TcpSyslogMessageSender messageSender)\r\n            throws CertificateException,\r\n            KeyStoreException, IOException, NoSuchAlgorithmException, KeyManagementException {\r\n        messageSender.setDefaultAppName(&quot;MyApp&quot;);\r\n        messageSender.setDefaultFacility(Facility.USER);\r\n        messageSender.setDefaultSeverity(Severity.INFORMATIONAL);\r\n        messageSender.setSyslogServerHostname(syslogConfig.getSyslogServerIP()); // syslog server ip\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        X509Certificate caCert = (X509Certificate) certFactory\r\n                .generateCertificate(new ByteArrayInputStream(\r\n                        Base64.decodeBase64(syslogConfig.getCertificateData().getBytes())));\r\n        KeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keystore.load(null);\r\n        keystore.setCertificateEntry(&quot;cert-alias&quot;, caCert); // caCert contains server-cert.pem\r\n        messageSender.setSyslogServerPort(Integer.valueOf(syslogConfig.getSyslogServerPort()));\r\n        messageSender.setMessageFormat(MessageFormat.RFC_5425);\r\n        SSLContext sslContext = SSLContextBuilder.create()\r\n                .loadTrustMaterial(keystore, new TrustSelfSignedStrategy())\r\n                .build();\r\n        messageSender.setSSLContext(sslContext);\r\n        messageSender.setSsl(true);\r\n}\r\npublic static void main(String[] args) {\r\n   TcpSyslogMessageSender messageSender = new TcpSyslogMessageSender()\r\n   getSyslogConfig(syslogConfig, messageSender);\r\n   messageSender.sendMessage(&quot;Hello World&quot;);\r\n}\r\n\r\n```\r\n\r\nError seen on the syslog server are\r\n\r\n```\r\n023-08-01T11:07:01.181383+00:00 ip-10-0-143-30 rsyslogd: peer did not provide a certificate, not permitted to talk to it [v8.2001.0 try https://www.rsyslog.com/e/2085 ]\r\n```\r\n\r\nHad setup syslog client on another VM with configuration\r\n\r\n/etc/rsyslog.conf on client machine\r\n\r\n```\r\n$DefaultNetstreamDriver gtls\r\n$DefaultNetstreamDriverCAFile /root/certs/ca.pem\r\n$DefaultNetstreamDriverCertFile /root/certs/client-cert.pem\r\n$DefaultNetstreamDriverKeyFile /root/certs/client-key.pem\r\n\r\n#$InputTCPServerRun 6514\r\n\r\n$ActionSendStreamDriverMode 1 # require TLS for the connection\r\n$ActionSendStreamDriverAuthMode x509/name\r\n$ActionSendStreamDriverPermittedPeer *\r\n\r\n# set up the action for all messages\r\naction(\r\ntype=&quot;omfwd&quot;\r\ntarget=&quot;*&quot;\r\nprotocol=&quot;tcp&quot;\r\nport=&quot;6514&quot;\r\nStreamDriver=&quot;ossl&quot;\r\nStreamDriverMode=&quot;1&quot; # run driver in TLS-only mode\r\nStreamDriverAuthmode=&quot;anon&quot;\r\n)\r\n\r\n$template applogs,&quot;/var/log/applogs.log&quot;\r\n\r\n*.* ?applogs\r\n```\r\n\r\nerror for client machine is\r\n\r\n```\r\n2023-08-01T12:25:15.084163+00:00 ip-10-0-143-30 rsyslogd: gnutls returned error on handshake: An unexpected TLS packet was received.  [v8.2001.0 try https://www.rsyslog.com/e/2083 ]\r\n2023-08-01T12:26:00.946226+00:00 ip-10-0-143-30 rsyslogd: unexpected GnuTLS error -15 in nsdsel_gtls.c:178: An unexpected TLS packet was received.  [v8.2001.0 try https://www.rsyslog.com/e/2078 ]\r\n```\r\n\r\n","title":"Rsyslog SSL/TLS connection issue with authmode x509/name","body":"<p>Unable to connect rsyslog server through java client for SSL connections with auth mode x509/name.</p>\n<p>Logged in to VM and generated certificates using the below commands</p>\n<pre><code>openssl genrsa 2048 &gt; ca-key.pem\n# Create CA certificate\nopenssl req -new -x509 -nodes -days 3600 -key ca-key.pem -out ca.pem -subj &quot;/CN=selfsigned-ca-certificate&quot;\n# Create server certificate\nopenssl req -newkey rsa:2048 -days 3600 -nodes -keyout server-key.pem -out server-req.pem -subj &quot;/CN=selfsigned-server-certificate&quot;\nopenssl rsa -in server-key.pem -out server-key.pem\nopenssl x509 -req -in server-req.pem -days 3600 -CA ca.pem -CAkey ca-key.pem -set_serial 01 -out server-cert.pem\n# Verify certificates and you should see in response as &quot;server-cert.pem: OK&quot;\nopenssl verify -CAfile ca.pem server-cert.pem\n</code></pre>\n<p><strong>/etc/rsyslog.conf</strong></p>\n<pre><code>module(load=&quot;imtcp&quot; StreamDriver.AuthMode=&quot;x509/name&quot; StreamDriver.Mode=&quot;1&quot;)\nmodule(load=&quot;imuxsock&quot;) # provides support for local system logging (e.g. via logger command)\nmodule(load=&quot;imklog&quot;) # provides kernel logging support (previously done by rklogd)\n\n$DefaultNetstreamDriver gtls\n$DefaultNetstreamDriverCAFile /root/certs/ca.pem\n$DefaultNetstreamDriverCertFile /root/certs/server-cert.pem\n$DefaultNetstreamDriverKeyFile /root/certs/server-key.pem\n\n$InputTCPServerRun 6514\n\n$template applogs,&quot;/var/log/applogs.log&quot;\n\n*.* ?applogs\n</code></pre>\n<p>java client to connect syslog server</p>\n<pre><code>public static void getSyslogConfig(SyslogConfig syslogConfig, TcpSyslogMessageSender messageSender)\n            throws CertificateException,\n            KeyStoreException, IOException, NoSuchAlgorithmException, KeyManagementException {\n        messageSender.setDefaultAppName(&quot;MyApp&quot;);\n        messageSender.setDefaultFacility(Facility.USER);\n        messageSender.setDefaultSeverity(Severity.INFORMATIONAL);\n        messageSender.setSyslogServerHostname(syslogConfig.getSyslogServerIP()); // syslog server ip\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        X509Certificate caCert = (X509Certificate) certFactory\n                .generateCertificate(new ByteArrayInputStream(\n                        Base64.decodeBase64(syslogConfig.getCertificateData().getBytes())));\n        KeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\n        keystore.load(null);\n        keystore.setCertificateEntry(&quot;cert-alias&quot;, caCert); // caCert contains server-cert.pem\n        messageSender.setSyslogServerPort(Integer.valueOf(syslogConfig.getSyslogServerPort()));\n        messageSender.setMessageFormat(MessageFormat.RFC_5425);\n        SSLContext sslContext = SSLContextBuilder.create()\n                .loadTrustMaterial(keystore, new TrustSelfSignedStrategy())\n                .build();\n        messageSender.setSSLContext(sslContext);\n        messageSender.setSsl(true);\n}\npublic static void main(String[] args) {\n   TcpSyslogMessageSender messageSender = new TcpSyslogMessageSender()\n   getSyslogConfig(syslogConfig, messageSender);\n   messageSender.sendMessage(&quot;Hello World&quot;);\n}\n\n</code></pre>\n<p>Error seen on the syslog server are</p>\n<pre><code>023-08-01T11:07:01.181383+00:00 ip-10-0-143-30 rsyslogd: peer did not provide a certificate, not permitted to talk to it [v8.2001.0 try https://www.rsyslog.com/e/2085 ]\n</code></pre>\n<p>Had setup syslog client on another VM with configuration</p>\n<p>/etc/rsyslog.conf on client machine</p>\n<pre><code>$DefaultNetstreamDriver gtls\n$DefaultNetstreamDriverCAFile /root/certs/ca.pem\n$DefaultNetstreamDriverCertFile /root/certs/client-cert.pem\n$DefaultNetstreamDriverKeyFile /root/certs/client-key.pem\n\n#$InputTCPServerRun 6514\n\n$ActionSendStreamDriverMode 1 # require TLS for the connection\n$ActionSendStreamDriverAuthMode x509/name\n$ActionSendStreamDriverPermittedPeer *\n\n# set up the action for all messages\naction(\ntype=&quot;omfwd&quot;\ntarget=&quot;*&quot;\nprotocol=&quot;tcp&quot;\nport=&quot;6514&quot;\nStreamDriver=&quot;ossl&quot;\nStreamDriverMode=&quot;1&quot; # run driver in TLS-only mode\nStreamDriverAuthmode=&quot;anon&quot;\n)\n\n$template applogs,&quot;/var/log/applogs.log&quot;\n\n*.* ?applogs\n</code></pre>\n<p>error for client machine is</p>\n<pre><code>2023-08-01T12:25:15.084163+00:00 ip-10-0-143-30 rsyslogd: gnutls returned error on handshake: An unexpected TLS packet was received.  [v8.2001.0 try https://www.rsyslog.com/e/2083 ]\n2023-08-01T12:26:00.946226+00:00 ip-10-0-143-30 rsyslogd: unexpected GnuTLS error -15 in nsdsel_gtls.c:178: An unexpected TLS packet was received.  [v8.2001.0 try https://www.rsyslog.com/e/2078 ]\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690908647,"creation_date":1690908647,"answer_id":76813739,"question_id":76812685,"body_markdown":"To map `CustomerSource` to `CustomerAddresses.Customer` without declaring mapping for each field, you can declare a method that performs mapping, which would be used by the initial method.\r\n\r\n    CustomerAddresses.CustomerTarget toCustomerTarget(CustomerSource customerSource);\r\n\r\nSimilarly, to map `CustomerSource` to `List&lt;CustomerAddresses.Address&gt;` define a default method that creates a list.\r\n\r\n    default List&lt;CustomerAddresses.Address&gt; toAddressList(CustomerSource customerSource) {\r\n      return Collections.singletonList(toAddress(customerSource));\r\n    }\r\n\r\nFinally, to point Mapstruct to use the aforementioned methods, declare `toTarget` method as shown below, where `.` means that the whole object is passed to the underlying method.\r\n\r\n    @Mapping(source = &quot;.&quot;, target = &quot;addresses&quot;)\r\n    @Mapping(source = &quot;.&quot;, target = &quot;customer&quot;)\r\n    CustomerAddresses toTarget(CustomerSource customer);","title":"How to map source to target property?","body":"<p>To map <code>CustomerSource</code> to <code>CustomerAddresses.Customer</code> without declaring mapping for each field, you can declare a method that performs mapping, which would be used by the initial method.</p>\n<pre><code>CustomerAddresses.CustomerTarget toCustomerTarget(CustomerSource customerSource);\n</code></pre>\n<p>Similarly, to map <code>CustomerSource</code> to <code>List&lt;CustomerAddresses.Address&gt;</code> define a default method that creates a list.</p>\n<pre><code>default List&lt;CustomerAddresses.Address&gt; toAddressList(CustomerSource customerSource) {\n  return Collections.singletonList(toAddress(customerSource));\n}\n</code></pre>\n<p>Finally, to point Mapstruct to use the aforementioned methods, declare <code>toTarget</code> method as shown below, where <code>.</code> means that the whole object is passed to the underlying method.</p>\n<pre><code>@Mapping(source = &quot;.&quot;, target = &quot;addresses&quot;)\n@Mapping(source = &quot;.&quot;, target = &quot;customer&quot;)\nCustomerAddresses toTarget(CustomerSource customer);\n</code></pre>\n"}],"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76813739,"answer_count":1,"score":0,"last_activity_date":1690908647,"creation_date":1690900282,"question_id":76812685,"body_markdown":"Lets say I have two POJOs.\r\nThe source class:\r\n```\r\nclass CustomerSource {\r\n  private String firstname;\r\n  private String lastname;\r\n  private String houseNumber;\r\n  private String postcode;\r\n}\r\n```\r\n\r\nand target class:\r\n```\r\nclass CustomerAddresses {\r\n  private CustomerTarget customer;\r\n  private List&lt;Address&gt; addresses;\r\n\r\n  class CustomerTarget {\r\n    private String firstname;\r\n    private String lastname;\r\n  }\r\n\r\n  class Address{\r\n    private String houseNumber;\r\n    private String postcode;\r\n  }\r\n}\r\n```\r\n\r\nSo I want to map it using Mapstruct but I can&#39;t find a decent way to do it. As of now, the only way is to do this:\r\n```\r\n@Mapping(target = &quot;customer.firstname&quot;, source = &quot;firstname&quot;)\r\n@Mapping(target = &quot;addresses&quot;, expression = &quot;java(Collections.singletonList(toAddress(customer)))&quot;)\r\nCustomerAddresses toTarget(CustomerSource customer);\r\n```\r\n\r\nSo the question is **how to map** ```CustomerSource``` into ```CustomerAddresses.customer``` field without manually declaring each field. \r\n**Secondary question**: is there any way to NOT use expression for this ```Address``` to ```List``` of addresses?\r\n","title":"How to map source to target property?","body":"<p>Lets say I have two POJOs.\nThe source class:</p>\n<pre><code>class CustomerSource {\n  private String firstname;\n  private String lastname;\n  private String houseNumber;\n  private String postcode;\n}\n</code></pre>\n<p>and target class:</p>\n<pre><code>class CustomerAddresses {\n  private CustomerTarget customer;\n  private List&lt;Address&gt; addresses;\n\n  class CustomerTarget {\n    private String firstname;\n    private String lastname;\n  }\n\n  class Address{\n    private String houseNumber;\n    private String postcode;\n  }\n}\n</code></pre>\n<p>So I want to map it using Mapstruct but I can't find a decent way to do it. As of now, the only way is to do this:</p>\n<pre><code>@Mapping(target = &quot;customer.firstname&quot;, source = &quot;firstname&quot;)\n@Mapping(target = &quot;addresses&quot;, expression = &quot;java(Collections.singletonList(toAddress(customer)))&quot;)\nCustomerAddresses toTarget(CustomerSource customer);\n</code></pre>\n<p>So the question is <strong>how to map</strong> <code>CustomerSource</code> into <code>CustomerAddresses.customer</code> field without manually declaring each field.\n<strong>Secondary question</strong>: is there any way to NOT use expression for this <code>Address</code> to <code>List</code> of addresses?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":4992802,"reputation":11963,"user_id":4014448,"display_name":"Nadir Belhaj"},"score":0,"creation_date":1690328370,"post_id":76767129,"comment_id":135337389,"body_markdown":"Clean and Rebuild if you&#39;re using an IDE","body":"Clean and Rebuild if you&#39;re using an IDE"},{"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"score":0,"creation_date":1690331814,"post_id":76767129,"comment_id":135337667,"body_markdown":"Unfortuntaly, I just tried this and it did not fix the issue.","body":"Unfortuntaly, I just tried this and it did not fix the issue."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690332247,"post_id":76767129,"comment_id":135337690,"body_markdown":"There is something wrong at the server, a misconfiguration, and/or the web service isn&#39;t designed to respond to that URL without more in the path.","body":"There is something wrong at the server, a misconfiguration, and/or the web service isn&#39;t designed to respond to that URL without more in the path."}],"answers":[{"tags":[],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690908080,"creation_date":1690879754,"answer_id":76809970,"question_id":76767129,"body_markdown":"This is due to a dependency conflict between Spring and Spark. The below change to my `pom.xml` fixed the issue for me:\r\n```\r\n&lt;properties&gt;\r\n&lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\r\n&lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nMore info [on this Stackoverflow question.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot","title":"Java Spark connection fails UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet","body":"<p>This is due to a dependency conflict between Spring and Spark. The below change to my <code>pom.xml</code> fixed the issue for me:</p>\n<pre><code>&lt;properties&gt;\n&lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\n&lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>More info <a href=\"https://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot\">on this Stackoverflow question.</a></p>\n"}],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76809970,"answer_count":1,"score":0,"last_activity_date":1690908080,"creation_date":1690328138,"question_id":76767129,"body_markdown":"I have Spark running locally in Docker. Port 7077 is exposed and I&#39;m able to hit the WebUI at localhost:9090. \r\n\r\nI try connecting with the following code from java:\r\n```\r\n SparkSession spark = SparkSession\r\n                .builder()\r\n                .master(&quot;spark://localhost:7077&quot;)\r\n                .appName(&quot;foo&quot;)\r\n                .getOrCreate();\r\n```\r\n\r\nBut when I run the application, I get this error:\r\n```\r\nCaused by: javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\r\n\r\n```\r\n\r\nWhy is this error happening and how do I fix it?","title":"Java Spark connection fails UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet","body":"<p>I have Spark running locally in Docker. Port 7077 is exposed and I'm able to hit the WebUI at localhost:9090.</p>\n<p>I try connecting with the following code from java:</p>\n<pre><code> SparkSession spark = SparkSession\n                .builder()\n                .master(&quot;spark://localhost:7077&quot;)\n                .appName(&quot;foo&quot;)\n                .getOrCreate();\n</code></pre>\n<p>But when I run the application, I get this error:</p>\n<pre><code>Caused by: javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\n\n</code></pre>\n<p>Why is this error happening and how do I fix it?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690907849,"creation_date":1690907849,"answer_id":76813660,"question_id":76813659,"body_markdown":"To resolve this error, open the gradle-wrapper.properties page or click the link in the console\r\n\r\nsecond line: \r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\nchange it to\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\n\r\n","title":"- Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project","body":"<p>To resolve this error, open the gradle-wrapper.properties page or click the link in the console</p>\n<p>second line:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\n</code></pre>\n<p>change it to</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\n</code></pre>\n"}],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76813660,"answer_count":1,"score":0,"last_activity_date":1690907849,"creation_date":1690907849,"question_id":76813659,"body_markdown":"Error when creating new empty activity / project:\r\n\r\n     - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n","title":"- Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project","body":"<p>Error when creating new empty activity / project:</p>\n<pre><code> - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n"},{"tags":["java","payment-gateway","paytm"],"comments":[{"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1685353005,"post_id":76303085,"comment_id":134644246,"body_markdown":"This was eventually a config issue from Paytm side.","body":"This was eventually a config issue from Paytm side."},{"owner":{"account_id":4256468,"reputation":667,"user_id":3482040,"display_name":"Aman Gupta"},"score":0,"creation_date":1699705848,"post_id":76303085,"comment_id":136566699,"body_markdown":"How you solved this issue then? @Shashi-ranjan","body":"How you solved this issue then? @Shashi-ranjan"},{"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1699950906,"post_id":76303085,"comment_id":136591822,"body_markdown":"Contact customer care, they will enable you for the first time.","body":"Contact customer care, they will enable you for the first time."},{"owner":{"account_id":4256468,"reputation":667,"user_id":3482040,"display_name":"Aman Gupta"},"score":0,"creation_date":1700077035,"post_id":76303085,"comment_id":136611719,"body_markdown":"Okey Thanks, I have contacted them.","body":"Okey Thanks, I have contacted them."}],"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690907694,"creation_date":1684730652,"question_id":76303085,"body_markdown":"I am trying to call initiateTransaction Paytm gateway API `/theia/api/v1/initiateTransaction?mid=%s&amp;orderId=%s`, I am following documentation here: `https://business.paytm.com/docs/api/initiate-transaction-api?ref=payments` with all correct as per documentation but I am getting error &quot;Mid is invalid&quot;, but in actual it&#39;s correct. I am using `mid` and `apiKey` of test environment. Please hep me on where am I making the mistake.\r\n\r\nMy Code:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataOutputStream;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.json.JSONObject;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.paytm.pg.merchant.PaytmChecksum;\r\n\r\n@Service\r\npublic class PaytmGatwayService {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String baseUrl = &quot;https://securegw-stage.paytm.in&quot;;\r\n        String mid = &quot;&lt;TEST_ENV_MID&gt;&quot;;\r\n        String orderId = &quot;abc1234567&quot;;\r\n        String apiKey = &quot;&lt;TEST_ENV_API_KEY&gt;&quot;;\r\n\r\n        JSONObject body = new JSONObject();\r\n        body.put(&quot;requestType&quot;, &quot;Payment&quot;);\r\n        body.put(&quot;mid&quot;, mid);\r\n        body.put(&quot;orderId&quot;, orderId);\r\n        body.put(&quot;callbackUrl&quot;, &quot;https://localhost:4200/&quot;);\r\n        body.put(&quot;websiteName&quot;, &quot;WEBSTAGING&quot;);\r\n\r\n        JSONObject txnBody = new JSONObject();\r\n        txnBody.put(&quot;value&quot;, String.valueOf(&quot;3520.0&quot;));\r\n        txnBody.put(&quot;currency&quot;, &quot;INR&quot;);\r\n        body.put(&quot;txnAmount&quot;, txnBody);\r\n\r\n        JSONObject userInfo = new JSONObject();\r\n        userInfo.put(&quot;custId&quot;, &quot;custmer123456&quot;);\r\n        userInfo.put(&quot;email&quot;, &quot;user@email.com&quot;);\r\n        body.put(&quot;userInfo&quot;, userInfo);\r\n\r\n        JSONObject head = new JSONObject();\r\n        head.put(&quot;channelId&quot;, &quot;WEB&quot;);\r\n        String checksum = PaytmChecksum.generateSignature(body.toString(), apiKey);\r\n        head.put(&quot;signature&quot;, checksum);\r\n\r\n        JSONObject paytmParams = new JSONObject();\r\n        paytmParams.put(&quot;body&quot;, body);\r\n        paytmParams.put(&quot;head&quot;, head);\r\n        String post_data = paytmParams.toString();\r\n\r\n        String postUrl = String.format(&quot;/theia/api/v1/initiateTransaction?mid=%s&amp;orderId=%s&quot;, mid, orderId);\r\n\r\n        URL url = null;\r\n        try {\r\n            url = new URL(baseUrl + postUrl);\r\n        } catch (MalformedURLException e1) {\r\n\r\n        }\r\n        String responseData = &quot;&quot;;\r\n        try {\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            connection.setDoOutput(true);\r\n\r\n            DataOutputStream requestWriter = new DataOutputStream(connection.getOutputStream());\r\n            requestWriter.writeBytes(post_data);\r\n            requestWriter.close();\r\n\r\n            InputStream is = connection.getInputStream();\r\n            BufferedReader responseReader = new BufferedReader(new InputStreamReader(is));\r\n            if ((responseData = responseReader.readLine()) != null) {\r\n                System.out.append(&quot;Response: &quot; + responseData);\r\n            }\r\n            responseReader.close();\r\n        } catch (Exception exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nVersion of paytm-checksum dependency is `1.2.1`\r\nSystem.out.append output:\r\n```\r\nResponse: {&quot;head&quot;:{&quot;requestId&quot;:null,&quot;responseTimestamp&quot;:&quot;1684729867186&quot;,&quot;version&quot;:&quot;v1&quot;},&quot;body&quot;:{&quot;extraParamsMap&quot;:null,&quot;resultInfo&quot;:{&quot;resultStatus&quot;:&quot;F&quot;,&quot;resultCode&quot;:&quot;2006&quot;,&quot;resultMsg&quot;:&quot;Mid is invalid&quot;}}}\r\n```","title":"Paytm initiateTransaction API is failing with resultCode=&quot;2006&quot; and resultMsg=&quot;Mid is invalid&quot;","body":"<p>I am trying to call initiateTransaction Paytm gateway API <code>/theia/api/v1/initiateTransaction?mid=%s&amp;orderId=%s</code>, I am following documentation here: <code>https://business.paytm.com/docs/api/initiate-transaction-api?ref=payments</code> with all correct as per documentation but I am getting error &quot;Mid is invalid&quot;, but in actual it's correct. I am using <code>mid</code> and <code>apiKey</code> of test environment. Please hep me on where am I making the mistake.</p>\n<p>My Code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.json.JSONObject;\nimport org.springframework.stereotype.Service;\n\nimport com.paytm.pg.merchant.PaytmChecksum;\n\n@Service\npublic class PaytmGatwayService {\n\n    public static void main(String[] args) throws Exception {\n        String baseUrl = &quot;https://securegw-stage.paytm.in&quot;;\n        String mid = &quot;&lt;TEST_ENV_MID&gt;&quot;;\n        String orderId = &quot;abc1234567&quot;;\n        String apiKey = &quot;&lt;TEST_ENV_API_KEY&gt;&quot;;\n\n        JSONObject body = new JSONObject();\n        body.put(&quot;requestType&quot;, &quot;Payment&quot;);\n        body.put(&quot;mid&quot;, mid);\n        body.put(&quot;orderId&quot;, orderId);\n        body.put(&quot;callbackUrl&quot;, &quot;https://localhost:4200/&quot;);\n        body.put(&quot;websiteName&quot;, &quot;WEBSTAGING&quot;);\n\n        JSONObject txnBody = new JSONObject();\n        txnBody.put(&quot;value&quot;, String.valueOf(&quot;3520.0&quot;));\n        txnBody.put(&quot;currency&quot;, &quot;INR&quot;);\n        body.put(&quot;txnAmount&quot;, txnBody);\n\n        JSONObject userInfo = new JSONObject();\n        userInfo.put(&quot;custId&quot;, &quot;custmer123456&quot;);\n        userInfo.put(&quot;email&quot;, &quot;user@email.com&quot;);\n        body.put(&quot;userInfo&quot;, userInfo);\n\n        JSONObject head = new JSONObject();\n        head.put(&quot;channelId&quot;, &quot;WEB&quot;);\n        String checksum = PaytmChecksum.generateSignature(body.toString(), apiKey);\n        head.put(&quot;signature&quot;, checksum);\n\n        JSONObject paytmParams = new JSONObject();\n        paytmParams.put(&quot;body&quot;, body);\n        paytmParams.put(&quot;head&quot;, head);\n        String post_data = paytmParams.toString();\n\n        String postUrl = String.format(&quot;/theia/api/v1/initiateTransaction?mid=%s&amp;orderId=%s&quot;, mid, orderId);\n\n        URL url = null;\n        try {\n            url = new URL(baseUrl + postUrl);\n        } catch (MalformedURLException e1) {\n\n        }\n        String responseData = &quot;&quot;;\n        try {\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            connection.setDoOutput(true);\n\n            DataOutputStream requestWriter = new DataOutputStream(connection.getOutputStream());\n            requestWriter.writeBytes(post_data);\n            requestWriter.close();\n\n            InputStream is = connection.getInputStream();\n            BufferedReader responseReader = new BufferedReader(new InputStreamReader(is));\n            if ((responseData = responseReader.readLine()) != null) {\n                System.out.append(&quot;Response: &quot; + responseData);\n            }\n            responseReader.close();\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>Version of paytm-checksum dependency is <code>1.2.1</code>\nSystem.out.append output:</p>\n<pre><code>Response: {&quot;head&quot;:{&quot;requestId&quot;:null,&quot;responseTimestamp&quot;:&quot;1684729867186&quot;,&quot;version&quot;:&quot;v1&quot;},&quot;body&quot;:{&quot;extraParamsMap&quot;:null,&quot;resultInfo&quot;:{&quot;resultStatus&quot;:&quot;F&quot;,&quot;resultCode&quot;:&quot;2006&quot;,&quot;resultMsg&quot;:&quot;Mid is invalid&quot;}}}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690901040,"post_id":76812740,"comment_id":135415915,"body_markdown":"You will probably start seeing the behaviour you expect if you add another `sleep` after leaving the `synchronized` block (or move the first print statement to after the first sleep).","body":"You will probably start seeing the behaviour you expect if you add another <code>sleep</code> after leaving the <code>synchronized</code> block (or move the first print statement to after the first sleep)."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":3,"creation_date":1690901050,"post_id":76812740,"comment_id":135415917,"body_markdown":"I m thinking that it takes some time for the thread to &quot;wake up&quot; or even to decide which thread gets the lock. It probably is faster for the currently running thread (thread 2) to immediately complete the sell() method, then goes to the next iteration of the while loop and print &quot;enter sell method&quot;.","body":"I m thinking that it takes some time for the thread to &quot;wake up&quot; or even to decide which thread gets the lock. It probably is faster for the currently running thread (thread 2) to immediately complete the sell() method, then goes to the next iteration of the while loop and print &quot;enter sell method&quot;."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690906479,"creation_date":1690906479,"answer_id":76813499,"question_id":76812740,"body_markdown":"When thread-x was running,there was no need for JVM thread scheduler to pre-empt thread-x and thus allow thread-x to run.It allows thread-x to run to completion but was encountered with sleep which no longer requires CPU,thus thread-y gets the chance,fetches the lock and prints &quot;enter .. thread-y&quot;.\r\n\r\nAlso there is no variable or construct which ensures &quot;happen-before relationship&quot; after or before synchronized block.","title":"java multi-thread sychronized code block when lock released but not acquired immediately by other thread","body":"<p>When thread-x was running,there was no need for JVM thread scheduler to pre-empt thread-x and thus allow thread-x to run.It allows thread-x to run to completion but was encountered with sleep which no longer requires CPU,thus thread-y gets the chance,fetches the lock and prints &quot;enter .. thread-y&quot;.</p>\n<p>Also there is no variable or construct which ensures &quot;happen-before relationship&quot; after or before synchronized block.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690907419,"creation_date":1690907419,"answer_id":76813614,"question_id":76812740,"body_markdown":"experiment unit 1998X said,\r\n\r\n&gt; I m thinking that it takes some time for the thread to &quot;wake up&quot; or even to decide which thread gets the lock. It probably is faster for the currently running thread (thread 2) to immediately complete the sell() method, then goes to the next iteration of the while loop and print &quot;enter sell method&quot;.\r\n\r\nTo put it another way: It&#39;s not the job of the OS scheduler to act as a referee who ensures that different threads in the same program each get a fair share of CPU time. Threads in the same program are supposed to _cooperate_ with each other, not compete with each other.\r\n\r\nThe goal of the scheduler in a typical workstation/server/mobile-device operating system is to make efficient use of the CPUs. If two threads want to access the same mutex at the same time, then it&#39;s more efficient to award the mutex to the thread that&#39;s already _on_ some CPU than it is to waste CPU cycles by swapping that one out, and swap in some other thread that was &quot;asleep&quot; waiting for it.\r\n\r\nSome programming environments have a thing with a name like &quot;_fair_ mutex,&quot; which behaves more like how you were expecting `synchronized(this)` to behave. You can have one in Java if you construct a [`new ReentrantLock(true)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#%3Cinit%3E(boolean)). But, if using a fair mutex solves a problem for you, then that&#39;s a sign that your design is weak—not getting the full benefit of using threads.\r\n","title":"java multi-thread sychronized code block when lock released but not acquired immediately by other thread","body":"<p>experiment unit 1998X said,</p>\n<blockquote>\n<p>I m thinking that it takes some time for the thread to &quot;wake up&quot; or even to decide which thread gets the lock. It probably is faster for the currently running thread (thread 2) to immediately complete the sell() method, then goes to the next iteration of the while loop and print &quot;enter sell method&quot;.</p>\n</blockquote>\n<p>To put it another way: It's not the job of the OS scheduler to act as a referee who ensures that different threads in the same program each get a fair share of CPU time. Threads in the same program are supposed to <em>cooperate</em> with each other, not compete with each other.</p>\n<p>The goal of the scheduler in a typical workstation/server/mobile-device operating system is to make efficient use of the CPUs. If two threads want to access the same mutex at the same time, then it's more efficient to award the mutex to the thread that's already <em>on</em> some CPU than it is to waste CPU cycles by swapping that one out, and swap in some other thread that was &quot;asleep&quot; waiting for it.</p>\n<p>Some programming environments have a thing with a name like &quot;<em>fair</em> mutex,&quot; which behaves more like how you were expecting <code>synchronized(this)</code> to behave. You can have one in Java if you construct a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html#%3Cinit%3E(boolean)\" rel=\"nofollow noreferrer\"><code>new ReentrantLock(true)</code></a>. But, if using a fair mutex solves a problem for you, then that's a sign that your design is weak—not getting the full benefit of using threads.</p>\n"}],"owner":{"account_id":9502539,"reputation":814,"user_id":7063104,"display_name":"Archsx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76813614,"answer_count":2,"score":1,"last_activity_date":1690907419,"creation_date":1690900642,"question_id":76812740,"body_markdown":"I&#39;m new to multi-thread and I find the result of the code below is interesting.\r\n\r\n```java\r\npublic class SellTicket {\r\n    public static void main(String[] args) {\r\n        T2 runnableObj = new T2();\r\n\r\n        Thread thread1 = new Thread(runnableObj);\r\n        Thread thread2 = new Thread(runnableObj);\r\n        Thread thread3 = new Thread(runnableObj);\r\n\r\n        thread1.start();\r\n        thread2.start();\r\n        thread3.start();\r\n\r\n    }\r\n}\r\n\r\n\r\nclass T2 implements Runnable {\r\n\r\n    private int ticketNum = 10;\r\n\r\n    public void sell() {\r\n\r\n        System.out.println(&quot;&quot; + Thread.currentThread().getName() + &quot; enter sell method&quot;);\r\n\r\n        try {\r\n            Thread.sleep(10 * 1000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        synchronized (this) {\r\n            System.out.println(&quot;&quot; + Thread.currentThread().getName() + &quot; enter sync code block！&quot;);\r\n            if (ticketNum &lt;= 0) {\r\n                System.out.println(&quot;sold out&quot; + Thread.currentThread().getName());\r\n                return;\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(5000);\r\n\r\n                ticketNum -= 1;\r\n\r\n                System.out.println(Thread.currentThread().getName() + &quot; sell one ticket, rest &quot; + ticketNum + &quot;\\n&quot;);\r\n\r\n\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        while (ticketNum != 0) {\r\n            sell();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nI&#39;m learning to use the sychronize code block, and the output is \r\n```\r\nThread-0 enter sell method\r\nThread-2 enter sell method\r\nThread-1 enter sell method\r\nThread-2 enter sync code block！\r\nThread-2 sell one ticket, rest 9\r\n\r\nThread-2 enter sell method\r\nThread-1 enter sync code block！\r\nThread-1 sell one ticket, rest 8\r\n\r\nThread-1 enter sell method\r\nThread-0 enter sync code block！\r\nThread-0 sell one ticket, rest 7\r\n\r\nThread-0 enter sell method\r\n//...\r\n```\r\nI&#39;m confused that when `System.out.println(Thread.currentThread().getName() + &quot; sell one ticket, rest &quot; + ticketNum + &quot;\\n&quot;);` ends, the lock is freed, right? why the next output is **Thread-x enter sell method** but not **Thread-x enter sync code block**? it seems that when the lock is freed, the other thread does not accquired the lock immediately(I think they should invoke the sychronized code block right away)\r\n\r\nI&#39;ve tried many times, so is there some mechanism or the output is just a coincidence ?\r\n\r\n\r\n","title":"java multi-thread sychronized code block when lock released but not acquired immediately by other thread","body":"<p>I'm new to multi-thread and I find the result of the code below is interesting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SellTicket {\n    public static void main(String[] args) {\n        T2 runnableObj = new T2();\n\n        Thread thread1 = new Thread(runnableObj);\n        Thread thread2 = new Thread(runnableObj);\n        Thread thread3 = new Thread(runnableObj);\n\n        thread1.start();\n        thread2.start();\n        thread3.start();\n\n    }\n}\n\n\nclass T2 implements Runnable {\n\n    private int ticketNum = 10;\n\n    public void sell() {\n\n        System.out.println(&quot;&quot; + Thread.currentThread().getName() + &quot; enter sell method&quot;);\n\n        try {\n            Thread.sleep(10 * 1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n\n        synchronized (this) {\n            System.out.println(&quot;&quot; + Thread.currentThread().getName() + &quot; enter sync code block！&quot;);\n            if (ticketNum &lt;= 0) {\n                System.out.println(&quot;sold out&quot; + Thread.currentThread().getName());\n                return;\n            }\n\n            try {\n                Thread.sleep(5000);\n\n                ticketNum -= 1;\n\n                System.out.println(Thread.currentThread().getName() + &quot; sell one ticket, rest &quot; + ticketNum + &quot;\\n&quot;);\n\n\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    @Override\n    public void run() {\n\n        while (ticketNum != 0) {\n            sell();\n        }\n\n    }\n\n}\n</code></pre>\n<p>I'm learning to use the sychronize code block, and the output is</p>\n<pre><code>Thread-0 enter sell method\nThread-2 enter sell method\nThread-1 enter sell method\nThread-2 enter sync code block！\nThread-2 sell one ticket, rest 9\n\nThread-2 enter sell method\nThread-1 enter sync code block！\nThread-1 sell one ticket, rest 8\n\nThread-1 enter sell method\nThread-0 enter sync code block！\nThread-0 sell one ticket, rest 7\n\nThread-0 enter sell method\n//...\n</code></pre>\n<p>I'm confused that when <code>System.out.println(Thread.currentThread().getName() + &quot; sell one ticket, rest &quot; + ticketNum + &quot;\\n&quot;);</code> ends, the lock is freed, right? why the next output is <strong>Thread-x enter sell method</strong> but not <strong>Thread-x enter sync code block</strong>? it seems that when the lock is freed, the other thread does not accquired the lock immediately(I think they should invoke the sychronized code block right away)</p>\n<p>I've tried many times, so is there some mechanism or the output is just a coincidence ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3521176,"reputation":44445,"user_id":2943403,"display_name":"mickmackusa"},"score":3,"creation_date":1660000814,"post_id":73282071,"comment_id":129424956,"body_markdown":"So you are not seeking a php solution, but a java solution, correct?","body":"So you are not seeking a php solution, but a java solution, correct?"},{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1660001005,"post_id":73282071,"comment_id":129424985,"body_markdown":"I am bit confused whether I need to make changes in the `Java` or `php`. I believe its java that&#39;s why I made changes in the Java code because I am seeing a pattern there but it didn&#39;t work","body":"I am bit confused whether I need to make changes in the <code>Java</code> or <code>php</code>. I believe its java that&#39;s why I made changes in the Java code because I am seeing a pattern there but it didn&#39;t work"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1660018239,"post_id":73282071,"comment_id":129427178,"body_markdown":"so.. is this question about [tag:regex]? i can&#39;t see any regex tag..","body":"so.. is this question about <a href=\"https://stackoverflow.com/questions/tagged/regex\">regex</a>? i can&#39;t see any regex tag.."},{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1660018282,"post_id":73282071,"comment_id":129427183,"body_markdown":"@BagusTesa Where can I find regex tag ? Am I missing anything ?","body":"@BagusTesa Where can I find regex tag ? Am I missing anything ?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":2,"creation_date":1660018629,"post_id":73282071,"comment_id":129427231,"body_markdown":"i think your problem is regex. try adding another ``\\`` before the `-`  near your aposthrope (`&#39;`). thing is, `-` gotta be escaped otherwise it means range. i tried to copy paste your regex to regex101 it throws an error saying &quot;Character range is out of order.&quot;","body":"i think your problem is regex. try adding another <code>\\</code> before the <code>-</code>  near your aposthrope (<code>&#39;</code>). thing is, <code>-</code> gotta be escaped otherwise it means range. i tried to copy paste your regex to regex101 it throws an error saying &quot;Character range is out of order.&quot;"},{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1660018759,"post_id":73282071,"comment_id":129427247,"body_markdown":"like this ?\n\n`Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9&#233;&#232;&#224;&#234;&#226;&#231;&#238;&#235;&#239;&#199;&#201;&#212;&#194;&#202;&#206;&#212;&#219;&#203;&#207;&#192;&#249;&#217;!#%&amp;$%*\\\\&#39;-&#39; ]+$&quot;); `// Line A","body":"like this ?  <code>Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9&#233;&#232;&#224;&#234;&#226;&#231;&#238;&#235;&#239;&#199;&#201;&#212;&#194;&#202;&#206;&#212;&#219;&#203;&#207;&#192;&#249;&#217;!&zwnj;&#8203;#%&amp;$%*\\\\&#39;-&#39; ]+$&quot;); </code>// Line A"},{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1660020703,"post_id":73282071,"comment_id":129427549,"body_markdown":"@BagusTesa I am wondering if you can explain in an answer then that would be great.","body":"@BagusTesa I am wondering if you can explain in an answer then that would be great."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1660160348,"post_id":73282071,"comment_id":129470067,"body_markdown":"How (and why) are you calling Java from PHP?","body":"How (and why) are you calling Java from PHP?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1660311406,"post_id":73282071,"comment_id":129509562,"body_markdown":"@flash on a second thought, your regex seems alright. i guess you have http/servlet filter or something on the java side to prevent sql injection - assuming you invoke the code via http requests. i reckon some people did exactly that (preventing aposthrope) in any form submission to &quot;prevent&quot; sql injection.","body":"@flash on a second thought, your regex seems alright. i guess you have http/servlet filter or something on the java side to prevent sql injection - assuming you invoke the code via http requests. i reckon some people did exactly that (preventing aposthrope) in any form submission to &quot;prevent&quot; sql injection."},{"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"score":0,"creation_date":1660316065,"post_id":73282071,"comment_id":129511342,"body_markdown":"@BagusTesa\n\n**1. With apostrophe (Before):** https://onecompiler.com/java/3ycmmjebu \n\n**2. Without apostrophe (After my changes):** https://onecompiler.com/java/3ycpta99j When you say your regex , you mean after the changes I made ?","body":"@BagusTesa  <b>1. With apostrophe (Before):</b> <a href=\"https://onecompiler.com/java/3ycmmjebu\" rel=\"nofollow noreferrer\">onecompiler.com/java/3ycmmjebu</a>   <b>2. Without apostrophe (After my changes):</b> <a href=\"https://onecompiler.com/java/3ycpta99j\" rel=\"nofollow noreferrer\">onecompiler.com/java/3ycpta99j</a> When you say your regex , you mean after the changes I made ?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1660350074,"post_id":73282071,"comment_id":129519757,"body_markdown":"@flash regex refers to regular expression. the thing you have in `Pattern.compile(...)`.","body":"@flash regex refers to regular expression. the thing you have in <code>Pattern.compile(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1660163303,"creation_date":1660163303,"answer_id":73312361,"question_id":73282071,"body_markdown":"Calling Java from PHP just to use a regex is very weird and inefficient. PHP has regex support of course, so you don&#39;t need Java for that.\r\n\r\nAnyway, your latest code works perfectly:\r\n\r\n``` lang-java\r\nimport java.util.regex.*;\r\n\r\npublic class Test\r\n{\r\n\tpublic static boolean validAnswer(String answer)\r\n\t{\r\n\t\tPattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9&#233;&#232;&#224;&#234;&#226;&#231;&#238;&#235;&#239;&#199;&#201;&#212;&#194;&#202;&#206;&#212;&#219;&#203;&#207;&#192;&#249;&#217;!#%&amp;$%*\\\\-&#39; ]+$&quot;);\r\n\t\tMatcher b = a.matcher(answer);\r\n\t\treturn b.matches();\r\n\t}\r\n\r\n\tpublic static void main(String args[])\r\n    {\r\n\t\tSystem.out.println(validAnswer(&quot;Hello World&#39;&quot;));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\ntrue\r\n```\r\n\r\nSo I guess you didn&#39;t recompile your code after modifying it.","title":"Allowing apostrophes in the HTML input field","body":"<p>Calling Java from PHP just to use a regex is very weird and inefficient. PHP has regex support of course, so you don't need Java for that.</p>\n<p>Anyway, your latest code works perfectly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\npublic class Test\n{\n    public static boolean validAnswer(String answer)\n    {\n        Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9éèàêâçîëïÇÉÔÂÊÎÔÛËÏÀùÙ!#%&amp;$%*\\\\-' ]+$&quot;);\n        Matcher b = a.matcher(answer);\n        return b.matches();\n    }\n\n    public static void main(String args[])\n    {\n        System.out.println(validAnswer(&quot;Hello World'&quot;));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\n</code></pre>\n<p>So I guess you didn't recompile your code after modifying it.</p>\n"}],"owner":{"account_id":2028962,"reputation":1423,"user_id":9049216,"accept_rate":20,"display_name":"flash"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690907327,"creation_date":1659980752,"question_id":73282071,"body_markdown":"\r\nI have a `php code` as shown below which validates the answer at `Line A` which user enters in a html form. \r\n\r\nWhen user enters any answer with apostrophe in the html input field form, I am getting the error message `Secret Answer is Invalid`. \r\nFor example: On entering `Hello World&#39;`, I am getting the error message `Secret Answer is Invalid` from Line Z. \r\n\r\n    //response\r\n    $response_error = new error();\r\n    $response_error-&gt;field = SECRET_response;\r\n    if($response != &quot;&quot; &amp;&amp; $service-&gt;validAnswer($answer) != &#39;true&#39;){   // Line A\r\n    \t$response_error-&gt;inError = true;\r\n    \t$response_error-&gt;errorMessage = SECRET_response.ISINVALID; // Line Z\r\n    } else {\r\n    \t$response_error-&gt;inError = false;\r\n    }\r\n\r\nThe Java `code/method` belonging to the `validAnswer` method used at `Line A` above is:\r\n\r\n    public static boolean validAnswer(String answer) {\r\n        Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9&#233;&#232;&#224;&#234;&#226;&#231;&#238;&#235;&#239;&#199;&#201;&#212;&#194;&#202;&#206;&#212;&#219;&#203;&#207;&#192;&#249;&#217;!#%&amp;$%*\\\\- ]+$&quot;); // Line B\r\n        Matcher b = a.matcher(answer);\r\n    \r\n        logger.info(&quot;validAnswer: mmatches(): &quot; + (b.matches()) + &quot; a: &quot; + a);\r\n    \r\n        return b.matches();\r\n    }  \r\n\r\n**Problem Statement:**\r\n\r\nI am wondering what changes I need to make in the `java code` above so that it takes apostrophe in the html input form. \r\n\r\n**This is what I have tried in the Java code:**  \r\nI have put &#39; in at the end of [ ] inside of it. On trying that, it doesn&#39;t seem to work. \r\n\r\n    public static boolean validAnswer(String answer) {\r\n        Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9&#233;&#232;&#224;&#234;&#226;&#231;&#238;&#235;&#239;&#199;&#201;&#212;&#194;&#202;&#206;&#212;&#219;&#203;&#207;&#192;&#249;&#217;!#%&amp;$%*\\\\-&#39; ]+$&quot;); // Line A\r\n        Matcher b = a.matcher(answer);\r\n    \r\n        logger.info(&quot;validAnswer: mmatches(): &quot; + (b.matches()) + &quot; a: &quot; + a);\r\n    \r\n        return b.matches();\r\n    }  \r\n\r\n\r\n\r\n","title":"Allowing apostrophes in the HTML input field","body":"<p>I have a <code>php code</code> as shown below which validates the answer at <code>Line A</code> which user enters in a html form.</p>\n<p>When user enters any answer with apostrophe in the html input field form, I am getting the error message <code>Secret Answer is Invalid</code>.\nFor example: On entering <code>Hello World'</code>, I am getting the error message <code>Secret Answer is Invalid</code> from Line Z.</p>\n<pre><code>//response\n$response_error = new error();\n$response_error-&gt;field = SECRET_response;\nif($response != &quot;&quot; &amp;&amp; $service-&gt;validAnswer($answer) != 'true'){   // Line A\n    $response_error-&gt;inError = true;\n    $response_error-&gt;errorMessage = SECRET_response.ISINVALID; // Line Z\n} else {\n    $response_error-&gt;inError = false;\n}\n</code></pre>\n<p>The Java <code>code/method</code> belonging to the <code>validAnswer</code> method used at <code>Line A</code> above is:</p>\n<pre><code>public static boolean validAnswer(String answer) {\n    Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9éèàêâçîëïÇÉÔÂÊÎÔÛËÏÀùÙ!#%&amp;$%*\\\\- ]+$&quot;); // Line B\n    Matcher b = a.matcher(answer);\n\n    logger.info(&quot;validAnswer: mmatches(): &quot; + (b.matches()) + &quot; a: &quot; + a);\n\n    return b.matches();\n}  \n</code></pre>\n<p><strong>Problem Statement:</strong></p>\n<p>I am wondering what changes I need to make in the <code>java code</code> above so that it takes apostrophe in the html input form.</p>\n<p><strong>This is what I have tried in the Java code:</strong><br />\nI have put ' in at the end of [ ] inside of it. On trying that, it doesn't seem to work.</p>\n<pre><code>public static boolean validAnswer(String answer) {\n    Pattern a = Pattern.compile(&quot;^(?=.*\\\\S)[a-zA-Z0-9éèàêâçîëïÇÉÔÂÊÎÔÛËÏÀùÙ!#%&amp;$%*\\\\-' ]+$&quot;); // Line A\n    Matcher b = a.matcher(answer);\n\n    logger.info(&quot;validAnswer: mmatches(): &quot; + (b.matches()) + &quot; a: &quot; + a);\n\n    return b.matches();\n}  \n</code></pre>\n"},{"tags":["java","micronaut","thread-local"],"owner":{"account_id":1763483,"reputation":1,"user_id":1609934,"display_name":"Oblivion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690905678,"creation_date":1690905678,"question_id":76813397,"body_markdown":"I have a Micronaut application using `micronaut-grpc` and perform calls to a Postgres database that has an RLS policy enabled which uses a session attribute to perform the check. In order to set this attribute every time the `Connection::getConnection` method is called it performs a call to the database to set the attribute\r\n\r\n```java\r\npublic class TenantDataSource extends HikariUrlDataSource {\r\n\r\n    public TenantDataSource(HikariConfig configuration) {\r\n        super(configuration);\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection() throws SQLException {\r\n        Connection connection = super.getConnection();\r\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;select set_config(&#39;tenant&#39;, ?, false)&quot;)) {\r\n            preparedStatement.setString(1, ThreadLocalTenant.get());\r\n            preparedStatement.execute();\r\n        }\r\n        return connection;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic class ThreadLocalTenant {\r\n\r\n    private static final ThreadLocal&lt;String&gt; TENANT = new ThreadLocal&lt;&gt;();\r\n\r\n    public static void set(String tenant) {\r\n\r\n        TENANT.set(tenant);\r\n    }\r\n\r\n    public static String get() {\r\n\r\n        return TENANT.get();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThe problem I&#39;m facing here is that while the user request is being executed on, let&#39;s say, thread-1 of the IO pool the code above that sets the attribute sometimes it&#39;s executed on a different thread making it impossible to access to the tenant id from the `ThreadLocalTenant` class.\r\n\r\nPreviously we used the grpc `Context` but we also have to support regular HTTP endpoints so we need something generic.\r\n\r\nIs there any way to make the whole request execute on the same thread?\r\n\r\n\r\nI&#39;ve tried different configurations of the micronaut executors but nothing worked so far","title":"Micronaut GRPC execute database call on same thread as grpc request","body":"<p>I have a Micronaut application using <code>micronaut-grpc</code> and perform calls to a Postgres database that has an RLS policy enabled which uses a session attribute to perform the check. In order to set this attribute every time the <code>Connection::getConnection</code> method is called it performs a call to the database to set the attribute</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TenantDataSource extends HikariUrlDataSource {\n\n    public TenantDataSource(HikariConfig configuration) {\n        super(configuration);\n    }\n\n    @Override\n    public Connection getConnection() throws SQLException {\n        Connection connection = super.getConnection();\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;select set_config('tenant', ?, false)&quot;)) {\n            preparedStatement.setString(1, ThreadLocalTenant.get());\n            preparedStatement.execute();\n        }\n        return connection;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadLocalTenant {\n\n    private static final ThreadLocal&lt;String&gt; TENANT = new ThreadLocal&lt;&gt;();\n\n    public static void set(String tenant) {\n\n        TENANT.set(tenant);\n    }\n\n    public static String get() {\n\n        return TENANT.get();\n    }\n\n}\n</code></pre>\n<p>The problem I'm facing here is that while the user request is being executed on, let's say, thread-1 of the IO pool the code above that sets the attribute sometimes it's executed on a different thread making it impossible to access to the tenant id from the <code>ThreadLocalTenant</code> class.</p>\n<p>Previously we used the grpc <code>Context</code> but we also have to support regular HTTP endpoints so we need something generic.</p>\n<p>Is there any way to make the whole request execute on the same thread?</p>\n<p>I've tried different configurations of the micronaut executors but nothing worked so far</p>\n"},{"tags":["java","maven","liquibase"],"answers":[{"tags":[],"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1525192764,"creation_date":1525192764,"answer_id":50120346,"question_id":50118310,"body_markdown":"Liquibase will not create a database that does not exist at all. I also imagine that the url parameter `?createDatabaseIfNotExist=true` that is referenced in the linked question/answer is probably MySql specific.","title":"Postgres database creation with liquibase","body":"<p>Liquibase will not create a database that does not exist at all. I also imagine that the url parameter <code>?createDatabaseIfNotExist=true</code> that is referenced in the linked question/answer is probably MySql specific.</p>\n"},{"tags":[],"owner":{"account_id":285962,"reputation":2887,"user_id":584940,"accept_rate":100,"display_name":"Randall"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690905660,"creation_date":1539728779,"answer_id":52844832,"question_id":50118310,"body_markdown":"This is slightly beyond the scope of your question, but you could use liquibase against a [Docker postgres instance][1], and per the docker-library&#39;s documentation on &lt;a href=&quot;https://hub.docker.com/_/postgres/#:~:text=ENVIRONMENT VARIABLES&quot;&gt;ENVIRONMENT VARIABLES&lt;/a&gt;,  set `POSTGRES_DB` to &quot;auth&quot; (in your case), and it will create the &quot;auth&quot; db when the docker image launches, with which liquibase can then interact.\r\n\r\n  [1]: https://hub.docker.com/_/postgres/\r\n\r\n\r\n","title":"Postgres database creation with liquibase","body":"<p>This is slightly beyond the scope of your question, but you could use liquibase against a <a href=\"https://hub.docker.com/_/postgres/\" rel=\"nofollow noreferrer\">Docker postgres instance</a>, and per the docker-library's documentation on <a href=\"https://hub.docker.com/_/postgres/#:~:text=ENVIRONMENT%20VARIABLES\" rel=\"nofollow noreferrer\">ENVIRONMENT VARIABLES</a>,  set <code>POSTGRES_DB</code> to &quot;auth&quot; (in your case), and it will create the &quot;auth&quot; db when the docker image launches, with which liquibase can then interact.</p>\n"}],"owner":{"account_id":7219924,"reputation":910,"user_id":5955376,"accept_rate":100,"display_name":"nllsdfx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9450,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50120346,"answer_count":2,"score":6,"last_activity_date":1690905660,"creation_date":1525184894,"question_id":50118310,"body_markdown":"I&#39;m trying to create an empty database using [liqubase][1]. I use [this][2] approach to do this, but the problem is it doesn&#39;t work for me.\r\n\r\nI use Postgresql 10 and there are my configurations for maven and liqubase:\r\n\r\n     &lt;plugin&gt;\r\n              &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n              &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.5&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                 &lt;propertyFile&gt;src/main/resources/liquibase/liquibase.properties&lt;/propertyFile&gt;\r\n              &lt;/configuration&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n  [1]: https://www.liquibase.org/\r\n  [2]: https://stackoverflow.com/questions/23745527/how-to-create-database-with-liquibase\r\n\r\nAnd my `liqubase.properties`:\r\n\r\n    changeLogFile=src/main/resources/liquibase/db.changelog.xml\r\n    driver=org.postgresql.Driver\r\n    dropFirst=false\r\n    url=jdbc:postgresql://localhost:5432/auth?createDatabaseIfNotExist=true\r\n    username=postgres\r\n    password=root\r\n\r\nThe error on `mvn clean package` is:\r\n\r\n    \r\n\r\n&gt; org.postgresql.util.PSQLException: FATAL: database &quot;auth&quot; does not\r\n&gt; exist","title":"Postgres database creation with liquibase","body":"<p>I'm trying to create an empty database using <a href=\"https://www.liquibase.org/\" rel=\"noreferrer\">liqubase</a>. I use <a href=\"https://stackoverflow.com/questions/23745527/how-to-create-database-with-liquibase\">this</a> approach to do this, but the problem is it doesn't work for me.</p>\n\n<p>I use Postgresql 10 and there are my configurations for maven and liqubase:</p>\n\n<pre><code> &lt;plugin&gt;\n          &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n          &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.5&lt;/version&gt;\n          &lt;configuration&gt;\n             &lt;propertyFile&gt;src/main/resources/liquibase/liquibase.properties&lt;/propertyFile&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>And my <code>liqubase.properties</code>:</p>\n\n<pre><code>changeLogFile=src/main/resources/liquibase/db.changelog.xml\ndriver=org.postgresql.Driver\ndropFirst=false\nurl=jdbc:postgresql://localhost:5432/auth?createDatabaseIfNotExist=true\nusername=postgres\npassword=root\n</code></pre>\n\n<p>The error on <code>mvn clean package</code> is:</p>\n\n<blockquote>\n  <p>org.postgresql.util.PSQLException: FATAL: database \"auth\" does not\n  exist</p>\n</blockquote>\n"},{"tags":["java","interface","static"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":10,"creation_date":1381713588,"post_id":19352152,"comment_id":28672805,"body_markdown":"All fields in an interface are `public static final` by default just as all methods are `public abstract` by default.","body":"All fields in an interface are <code>public static final</code> by default just as all methods are <code>public abstract</code> by default."},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":1,"creation_date":1512041205,"post_id":19352152,"comment_id":82101558,"body_markdown":"@PeterLawrey, As of Java 8, methods can have `default` implementation (non-`abstract`). See: https://www.journaldev.com/2389/java-8-features-with-examples#interface-default-static-method. (Also `static` methods are allowed).","body":"@PeterLawrey, As of Java 8, methods can have <code>default</code> implementation (non-<code>abstract</code>). See: <a href=\"https://www.journaldev.com/2389/java-8-features-with-examples#interface-default-static-method\" rel=\"nofollow noreferrer\">journaldev.com/2389/&hellip;</a>. (Also <code>static</code> methods are allowed)."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1512041469,"post_id":19352152,"comment_id":82101725,"body_markdown":"@Mir-Ismaili In Java 1 to 18.3 the default modifiers for methods are `public abstract` but if you add `default` as a keyword to the method from Java 8 you can give it a `public` *default* implementation ;) Java 9 allows `private` methods to be added to interfaces.","body":"@Mir-Ismaili In Java 1 to 18.3 the default modifiers for methods are <code>public abstract</code> but if you add <code>default</code> as a keyword to the method from Java 8 you can give it a <code>public</code> <i>default</i> implementation ;) Java 9 allows <code>private</code> methods to be added to interfaces."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1381713360,"creation_date":1381713044,"answer_id":19352157,"question_id":19352152,"body_markdown":"Regarding:\r\n\r\n    public interface TestInterface {\r\n       public static String NON_CONST_B = &quot;&quot; ; \r\n    }\r\n    \r\n    public class AutoFinal  {    \r\n       public static void main(String args[]) {\r\n          TestInterface.NON_CONST_B = &quot;hello-b&quot; ;\r\n          // ....\r\n       }\r\n    }\r\n\r\n&gt; However, the compiler complains that TestInterface.NON_CONST_B is final --\r\n\r\n_____________________\r\n\r\nBut it in fact **is** final whether you explicitly declare it to be or not since it is declared in an interface. You can&#39;t have non-final variables (non-constants) in an interface. It&#39;s also public and static whether or not it has been explicitly declared as such.\r\n\r\nPer the [JLS 9.3 Interface Field (Constant) Declarations][1]:\r\n\r\n&gt; Every field declaration in the body of an interface is **implicitly** public, static, and final. It is permitted to redundantly specify any or all of these modifiers for such fields.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.3\r\n","title":"why compiler says a public static field in interface is &quot;final&quot; although it is not","body":"<p>Regarding:</p>\n\n<pre><code>public interface TestInterface {\n   public static String NON_CONST_B = \"\" ; \n}\n\npublic class AutoFinal  {    \n   public static void main(String args[]) {\n      TestInterface.NON_CONST_B = \"hello-b\" ;\n      // ....\n   }\n}\n</code></pre>\n\n<blockquote>\n  <p>However, the compiler complains that TestInterface.NON_CONST_B is final --</p>\n</blockquote>\n\n<hr>\n\n<p>But it in fact <strong>is</strong> final whether you explicitly declare it to be or not since it is declared in an interface. You can't have non-final variables (non-constants) in an interface. It's also public and static whether or not it has been explicitly declared as such.</p>\n\n<p>Per the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.3\">JLS 9.3 Interface Field (Constant) Declarations</a>:</p>\n\n<blockquote>\n  <p>Every field declaration in the body of an interface is <strong>implicitly</strong> public, static, and final. It is permitted to redundantly specify any or all of these modifiers for such fields.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2980399,"reputation":482,"user_id":2530467,"accept_rate":20,"display_name":"Ba Tới X&#236; Cơ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690904446,"creation_date":1381716428,"answer_id":19352515,"question_id":19352152,"body_markdown":"In Java, all variables declared in an `interface` are `public static final` by default.","title":"why compiler says a public static field in interface is &quot;final&quot; although it is not","body":"<p>In Java, all variables declared in an <code>interface</code> are <code>public static final</code> by default.</p>\n"},{"tags":[],"owner":{"account_id":1919533,"reputation":956,"user_id":1731383,"accept_rate":14,"display_name":"Kanagaraj M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381719949,"creation_date":1381719949,"answer_id":19352931,"question_id":19352152,"body_markdown":"Variables declared in interface are always public static final by default in java. Interface variables are static because Java interfaces cannot be instantiated in their own right; the value of the variable must be assigned in a static context in which no instance exists. The final modifier ensures the value assigned to the interface variable is a true constant that cannot be re-assigned by program code. ","title":"why compiler says a public static field in interface is &quot;final&quot; although it is not","body":"<p>Variables declared in interface are always public static final by default in java. Interface variables are static because Java interfaces cannot be instantiated in their own right; the value of the variable must be assigned in a static context in which no instance exists. The final modifier ensures the value assigned to the interface variable is a true constant that cannot be re-assigned by program code. </p>\n"},{"tags":[],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391159851,"creation_date":1389608835,"answer_id":21088970,"question_id":19352152,"body_markdown":"As all answers saying that by default all the variables declared in Interface are static final variables.\r\n\r\nFYI, you can not declare a `static` method in interface. You can find the reason in [this SO question.][1]\r\nhowever, you can declare `Inner Class` in an interface that can contain `static` methods and non static and non final variables.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1858393/1686291","title":"why compiler says a public static field in interface is &quot;final&quot; although it is not","body":"<p>As all answers saying that by default all the variables declared in Interface are static final variables.</p>\n\n<p>FYI, you can not declare a <code>static</code> method in interface. You can find the reason in <a href=\"https://stackoverflow.com/a/1858393/1686291\">this SO question.</a>\nhowever, you can declare <code>Inner Class</code> in an interface that can contain <code>static</code> methods and non static and non final variables.</p>\n"}],"owner":{"account_id":1132433,"reputation":2124,"user_id":1118211,"accept_rate":100,"display_name":"ramgorur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19352157,"answer_count":4,"score":4,"last_activity_date":1690904446,"creation_date":1381713009,"question_id":19352152,"body_markdown":"Please see the below code -- \r\n\r\n    public interface TestInterface {\r\n\t    public static String NON_CONST_B = &quot;&quot; ;\t\r\n    }\r\n\r\n    public class Implemented implements TestInterface {\r\n\t    public static String NON_CONST_C = &quot;&quot; ;\r\n    }\r\n\r\n    public class AutoFinal  {\r\n\r\n\t    public static String NON_CONST_A = &quot;&quot; ;\r\n\r\n\t    public static void main(String args[]) {\r\n\t\t    TestInterface.NON_CONST_B = &quot;hello-b&quot; ;\r\n\t\t    Implemented.NON_CONST_C = &quot;hello-c&quot;;\r\n\t\t    AutoFinal.NON_CONST_A = &quot;hello-a&quot; ;\r\n\t\t    Implemented obj = new Implemented();\r\n\t    }\r\n    }\r\n\r\nHowever, the compiler complains that `TestInterface.NON_CONST_B` is final -- \r\n\r\n    AutoFinal.java:6: error: cannot assign a value to final variable NON_CONST_B\r\n\t\t    TestInterface.NON_CONST_B = &quot;hello-b&quot; ;\r\n\t\t             ^\r\n    1 error\r\n\r\nwhy ?\r\n\r\n\r\n\r\n\r\n\r\n","title":"why compiler says a public static field in interface is &quot;final&quot; although it is not","body":"<p>Please see the below code -- </p>\n\n<pre><code>public interface TestInterface {\n    public static String NON_CONST_B = \"\" ; \n}\n\npublic class Implemented implements TestInterface {\n    public static String NON_CONST_C = \"\" ;\n}\n\npublic class AutoFinal  {\n\n    public static String NON_CONST_A = \"\" ;\n\n    public static void main(String args[]) {\n        TestInterface.NON_CONST_B = \"hello-b\" ;\n        Implemented.NON_CONST_C = \"hello-c\";\n        AutoFinal.NON_CONST_A = \"hello-a\" ;\n        Implemented obj = new Implemented();\n    }\n}\n</code></pre>\n\n<p>However, the compiler complains that <code>TestInterface.NON_CONST_B</code> is final -- </p>\n\n<pre><code>AutoFinal.java:6: error: cannot assign a value to final variable NON_CONST_B\n        TestInterface.NON_CONST_B = \"hello-b\" ;\n                 ^\n1 error\n</code></pre>\n\n<p>why ?</p>\n"},{"tags":["java","class","oop","inheritance","collections"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690810639,"post_id":76804183,"comment_id":135400787,"body_markdown":"[dynamic dispatch (`wikipedia.org`)](https://en.wikipedia.org/wiki/Dynamic_dispatch).","body":"<a href=\"https://en.wikipedia.org/wiki/Dynamic_dispatch\" rel=\"nofollow noreferrer\">dynamic dispatch (<code>wikipedia.org</code>)</a>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690810858,"post_id":76804183,"comment_id":135400850,"body_markdown":"In brief: when a class inherits methods, it may override them. If it does, then _that_ method will be invoked (not the parent one, unless called via `super.thatMethod(...)`). This gets trickier with multiple inheritance of behavior from interfaces (e.g. now you can call `super.ParentInterface.someCommonMethod(...)`), but the notion is the same: you have a `Stack` object, so it will look in `Stack` first for `#someMethod`, followed by inherited classes.","body":"In brief: when a class inherits methods, it may override them. If it does, then <i>that</i> method will be invoked (not the parent one, unless called via <code>super.thatMethod(...)</code>). This gets trickier with multiple inheritance of behavior from interfaces (e.g. now you can call <code>super.ParentInterface.someCommonMethod(...)</code>), but the notion is the same: you have a <code>Stack</code> object, so it will look in <code>Stack</code> first for <code>#someMethod</code>, followed by inherited classes."},{"owner":{"account_id":29129178,"reputation":1,"user_id":22314876,"display_name":"Sri Charan"},"score":0,"creation_date":1690811716,"post_id":76804183,"comment_id":135401045,"body_markdown":"Stack doesn&#39;t overide any of the vector inherited methods","body":"Stack doesn&#39;t overide any of the vector inherited methods"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690813325,"post_id":76804183,"comment_id":135401442,"body_markdown":"In addition to the above, `Stack` and `Vector` are generally discouraged for use in any modern Java. You&#39;d want `Deque` (&quot;Deck&quot;) and `List`, respectively. A `LinkedList` is a `Deque`, a `Queue`, and a `List` all at the same time.","body":"In addition to the above, <code>Stack</code> and <code>Vector</code> are generally discouraged for use in any modern Java. You&#39;d want <code>Deque</code> (&quot;Deck&quot;) and <code>List</code>, respectively. A <code>LinkedList</code> is a <code>Deque</code>, a <code>Queue</code>, and a <code>List</code> all at the same time."}],"owner":{"account_id":29129178,"reputation":1,"user_id":22314876,"display_name":"Sri Charan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690904416,"creation_date":1690810532,"question_id":76804183,"body_markdown":"`Stack` extends the `Vector` class, we know that, but if we create a `Stack` object  \r\n\r\n```java\r\nStack &lt;Integer&gt; st = new Stack&lt;&gt;()\r\n```\r\n\r\nhow the inherited vector methods manipulate data inside the stack, when we call vector-defined methods like `add()`?\r\n\r\n\r\nI tried, it&#39;s working but I didn&#39;t understand how it&#39;s working.","title":"How vector class methods manipulating stack data","body":"<p><code>Stack</code> extends the <code>Vector</code> class, we know that, but if we create a <code>Stack</code> object</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stack &lt;Integer&gt; st = new Stack&lt;&gt;()\n</code></pre>\n<p>how the inherited vector methods manipulate data inside the stack, when we call vector-defined methods like <code>add()</code>?</p>\n<p>I tried, it's working but I didn't understand how it's working.</p>\n"},{"tags":["java","spring-boot","azure-blob-storage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690801909,"post_id":76803022,"comment_id":135398878,"body_markdown":"What is `Resource`? In which package?","body":"What is <code>Resource</code>? In which package?"},{"owner":{"account_id":29128096,"reputation":13,"user_id":22313993,"display_name":"Srivatsha"},"score":0,"creation_date":1690802305,"post_id":76803022,"comment_id":135398944,"body_markdown":"It&#39;s from org.springframework.core.io.Resource","body":"It&#39;s from org.springframework.core.io.Resource"}],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690892012,"creation_date":1690892012,"answer_id":76811509,"question_id":76803022,"body_markdown":"I tried the below Spring boot code to download a file from Azure blob storage and converted it into a Resource object from DataLakeGen2 Storage from Azure Portal.\r\n\r\nI have the below blob saved in my storage account container.\r\n\r\n![enter image description here](https://i.imgur.com/4bi4NTt.png)\r\n\r\n**Code:**\r\n\r\n```java\r\nimport com.azure.storage.blob.BlobClient;\r\nimport com.azure.storage.blob.BlobContainerClient;\r\nimport com.azure.storage.blob.BlobServiceClient;\r\nimport com.azure.storage.blob.BlobServiceClientBuilder;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\n@RestController\r\npublic class DownloadFile {\r\n\r\n    @GetMapping(&quot;/download-file&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadFile() {\r\n        String sasToken = &quot;&lt;storage_account_SAS_Token&gt;&quot;; \r\n        String accountName = &quot;&lt;Account_name&gt;&quot;;\r\n        String containerName = &quot;&lt;Container_Name&gt;&quot;; \r\n        String fileName = &quot;&lt;Blob_Nmae&gt;&quot;;\r\n\r\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n                .endpoint(&quot;https://&quot; + accountName + &quot;.dfs.core.windows.net&quot;)\r\n                .sasToken(sasToken)\r\n                .buildClient();\r\n\r\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n        BlobClient blobClient = containerClient.getBlobClient(fileName);\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        blobClient.download(outputStream);\r\n\r\n        final byte[] bytes = outputStream.toByteArray();\r\n        Resource resource = new ByteArrayResource(bytes);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n\r\n        System.out.println(&quot;Blob downloaded successfully: &quot; + fileName);\r\n\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .headers(headers)\r\n                .body(resource);\r\n    }\r\n}\r\n```\r\n\r\n**pom.xml:**\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-storage-file-datalake&lt;/artifactId&gt;\r\n            &lt;version&gt;12.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Output:**\r\n\r\nIt runs successfully and gives the print statement as **Blob downloaded successfully** as below,\r\n\r\n![enter image description here](https://i.imgur.com/946ZOiF.png)\r\n\r\nWith the above output port **8080**, I got the blob downloaded at the browser as below,\r\n\r\n![enter image description here](https://i.imgur.com/MkWEk99.png)\r\n\r\nAnd also, I checked this in **Postman** and got the data of that blob as below,\r\n\r\n![enter image description here](https://i.imgur.com/VBIhEfb.png)\r\n","title":"Convert DataLakeFileClient object to java Resource object","body":"<p>I tried the below Spring boot code to download a file from Azure blob storage and converted it into a Resource object from DataLakeGen2 Storage from Azure Portal.</p>\n<p>I have the below blob saved in my storage account container.</p>\n<p><img src=\"https://i.imgur.com/4bi4NTt.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.storage.blob.BlobClient;\nimport com.azure.storage.blob.BlobContainerClient;\nimport com.azure.storage.blob.BlobServiceClient;\nimport com.azure.storage.blob.BlobServiceClientBuilder;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\n@RestController\npublic class DownloadFile {\n\n    @GetMapping(&quot;/download-file&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadFile() {\n        String sasToken = &quot;&lt;storage_account_SAS_Token&gt;&quot;; \n        String accountName = &quot;&lt;Account_name&gt;&quot;;\n        String containerName = &quot;&lt;Container_Name&gt;&quot;; \n        String fileName = &quot;&lt;Blob_Nmae&gt;&quot;;\n\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n                .endpoint(&quot;https://&quot; + accountName + &quot;.dfs.core.windows.net&quot;)\n                .sasToken(sasToken)\n                .buildClient();\n\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\n        BlobClient blobClient = containerClient.getBlobClient(fileName);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        blobClient.download(outputStream);\n\n        final byte[] bytes = outputStream.toByteArray();\n        Resource resource = new ByteArrayResource(bytes);\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\n\n        System.out.println(&quot;Blob downloaded successfully: &quot; + fileName);\n\n        return ResponseEntity.ok()\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                .headers(headers)\n                .body(resource);\n    }\n}\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-storage-file-datalake&lt;/artifactId&gt;\n            &lt;version&gt;12.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>It runs successfully and gives the print statement as <strong>Blob downloaded successfully</strong> as below,</p>\n<p><img src=\"https://i.imgur.com/946ZOiF.png\" alt=\"enter image description here\" /></p>\n<p>With the above output port <strong>8080</strong>, I got the blob downloaded at the browser as below,</p>\n<p><img src=\"https://i.imgur.com/MkWEk99.png\" alt=\"enter image description here\" /></p>\n<p>And also, I checked this in <strong>Postman</strong> and got the data of that blob as below,</p>\n<p><img src=\"https://i.imgur.com/VBIhEfb.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29128096,"reputation":13,"user_id":22313993,"display_name":"Srivatsha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76811509,"answer_count":1,"score":0,"last_activity_date":1690904248,"creation_date":1690801777,"question_id":76803022,"body_markdown":"I&#39;m trying to download a file from Azure blob storage and trying to convert it into a `Resource` object. The code should look something like this.\r\n\r\n```java\r\n        import org.springframework.core.io.Resource\r\n\r\n        public Resource downloadFile() {\r\n             Resource resource;\r\n             DataLakeFileClient fileClient = fileSystemClient.getFileClient(&quot;test.txt&quot;); // fileSystemClient is the container location\r\n        \r\n             // code to fetch content present in file client object and assign it to resource;\r\n        \r\n             return resource;\r\n        }\r\n```\r\n\r\n\r\nI have tried many implementations using `OutputStream` and `InputStream` objects, but unable to find the exact code. Can anyone help me by providing the exact code for the same?","title":"Convert DataLakeFileClient object to java Resource object","body":"<p>I'm trying to download a file from Azure blob storage and trying to convert it into a <code>Resource</code> object. The code should look something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        import org.springframework.core.io.Resource\n\n        public Resource downloadFile() {\n             Resource resource;\n             DataLakeFileClient fileClient = fileSystemClient.getFileClient(&quot;test.txt&quot;); // fileSystemClient is the container location\n        \n             // code to fetch content present in file client object and assign it to resource;\n        \n             return resource;\n        }\n</code></pre>\n<p>I have tried many implementations using <code>OutputStream</code> and <code>InputStream</code> objects, but unable to find the exact code. Can anyone help me by providing the exact code for the same?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633695532,"creation_date":1633695532,"answer_id":69495728,"question_id":69495639,"body_markdown":"Classes annotated as `@Compoment` are scanned by Spring because it is configured to do so. Somewhere you must have it configured like this:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n\r\nOne can adjust the packages to scan excluding the package with the original MyHandler implementation.\r\n\r\nBaeldung article [Spring Component Scanning][1] makes following suggestion:\r\n\r\n    @ComponentScan(excludeFilters = \r\n       @ComponentScan.Filter(type=FilterType.REGEX,\r\n       pattern=&quot;com\\\\.baeldung\\\\.componentscan\\\\.springapp\\\\.flowers\\\\..*&quot;))\r\n\r\nIf you have an old XML based Spring project, [Spring documentation][2] shows how to do it using XML configuration:\r\n\r\n    &lt;beans&gt;\r\n        &lt;context:component-scan base-package=&quot;org.example&quot;&gt;\r\n            &lt;context:include-filter type=&quot;regex&quot; expression=&quot;.*Stub.*Repository&quot;/&gt;\r\n            &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Repository&quot;/&gt;\r\n        &lt;/context:component-scan&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-component-scanning\r\n  [2]: https://docs.spring.io/spring-framework/docs/3.0.0.M4/spring-framework-reference/html/ch03s10.html","title":"Spring disable component call","body":"<p>Classes annotated as <code>@Compoment</code> are scanned by Spring because it is configured to do so. Somewhere you must have it configured like this:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\n</code></pre>\n<p>One can adjust the packages to scan excluding the package with the original MyHandler implementation.</p>\n<p>Baeldung article <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">Spring Component Scanning</a> makes following suggestion:</p>\n<pre><code>@ComponentScan(excludeFilters = \n   @ComponentScan.Filter(type=FilterType.REGEX,\n   pattern=&quot;com\\\\.baeldung\\\\.componentscan\\\\.springapp\\\\.flowers\\\\..*&quot;))\n</code></pre>\n<p>If you have an old XML based Spring project, <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/spring-framework-reference/html/ch03s10.html\" rel=\"nofollow noreferrer\">Spring documentation</a> shows how to do it using XML configuration:</p>\n<pre><code>&lt;beans&gt;\n    &lt;context:component-scan base-package=&quot;org.example&quot;&gt;\n        &lt;context:include-filter type=&quot;regex&quot; expression=&quot;.*Stub.*Repository&quot;/&gt;\n        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Repository&quot;/&gt;\n    &lt;/context:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690904224,"creation_date":1690904224,"answer_id":76813229,"question_id":69495639,"body_markdown":"Issue was in Spring using multiple beans, adding Qualifier / or removing bean from context did the job.","title":"Spring disable component call","body":"<p>Issue was in Spring using multiple beans, adding Qualifier / or removing bean from context did the job.</p>\n"}],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76813229,"answer_count":2,"score":-1,"last_activity_date":1690904224,"creation_date":1633695016,"question_id":69495639,"body_markdown":"I am having a class let&#39;s say it&#39;s name is &quot;MyHandler.java&quot;, which is a maven dependence, also the file is read only, i can&#39;t modify it. The purpose of MyHandler is that he logs information when performing actions. For example my app has a keyboard for input, where if i am pressing some keys on the app keyboard it triggers method from MyHandler.java which displays in logs what key has been triggered, for example &quot;BUTTON 1&quot;, or &quot;BUTTON 2&quot;. Now i implemented a login functionality into my app, everything works, but when i look into logs you can easily see the password and login, which is not good. So, i tried to create a component to override the functionality -&gt;\r\n ``` \r\n@Primary\r\n@Component\r\npublic class OverrideTry extends MyHandler {\r\n  \r\n  @Override\r\n  public void onButtonClickAction() {\r\n    System.out.println(&quot;trying to display this one&quot;);\r\n  } \r\n```\r\n\r\nI thought this would work, but when i am trying to use it i am getting in my console the message &quot;trying to display this one&quot; + the previous from the MyHandler, which i do not want to have.\r\n\r\n ```\r\n@Component\r\npublic class MyHandler \r\n    implements onButtonClickAction {\r\n@Override\r\n  public void onButtonClickAction (OnButtonClickAction context) {\r\n    log(btn, &quot;btn_id: &#39;%s&#39; body: &#39;%s&#39;&quot;, context.getId(), context.getText()); // so when i press 1 in console i get btn_id 1 1, which is information i would not like to get.\r\n  }\r\n\r\n}\r\n```\r\n\r\nSo, my answer is what should i do to cancel MyHandler&#39;s calling inside methods? I&#39;ve tried using extends and annotating with primary but as i see it does not work. How can i achieve this? I can&#39;t delete MyHandler, also it&#39;s read only, i can&#39;t modify.\r\n\r\n","title":"Spring disable component call","body":"<p>I am having a class let's say it's name is &quot;MyHandler.java&quot;, which is a maven dependence, also the file is read only, i can't modify it. The purpose of MyHandler is that he logs information when performing actions. For example my app has a keyboard for input, where if i am pressing some keys on the app keyboard it triggers method from MyHandler.java which displays in logs what key has been triggered, for example &quot;BUTTON 1&quot;, or &quot;BUTTON 2&quot;. Now i implemented a login functionality into my app, everything works, but when i look into logs you can easily see the password and login, which is not good. So, i tried to create a component to override the functionality -&gt;</p>\n<pre><code>@Primary\n@Component\npublic class OverrideTry extends MyHandler {\n \n @Override\n public void onButtonClickAction() {\n   System.out.println(&quot;trying to display this one&quot;);\n } \n</code></pre>\n<p>I thought this would work, but when i am trying to use it i am getting in my console the message &quot;trying to display this one&quot; + the previous from the MyHandler, which i do not want to have.</p>\n<pre><code>@Component\npublic class MyHandler \n   implements onButtonClickAction {\n@Override\n public void onButtonClickAction (OnButtonClickAction context) {\n   log(btn, &quot;btn_id: '%s' body: '%s'&quot;, context.getId(), context.getText()); // so when i press 1 in console i get btn_id 1 1, which is information i would not like to get.\n }\n\n}\n</code></pre>\n<p>So, my answer is what should i do to cancel MyHandler's calling inside methods? I've tried using extends and annotating with primary but as i see it does not work. How can i achieve this? I can't delete MyHandler, also it's read only, i can't modify.</p>\n"},{"tags":["java","hibernate","orm","jpa","annotations"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1235739224,"creation_date":1235739224,"answer_id":594635,"question_id":594597,"body_markdown":"I prefer field access, because that way I&#39;m not forced to provide getter/setter for each property.\r\n\r\nA quick survey via Google suggests that field access is the majority (e.g., http://java.dzone.com/tips/12-feb-jpa-20-why-accesstype).\r\n\r\nI believe field access is the idiom recommended by Spring, but I can&#39;t find a reference to back that up.\r\n\r\nThere&#39;s a [related SO question][1] that tried to measure performance and came to the conclusion that there&#39;s &quot;no difference&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/332591/performance-difference-between-annotating-fields-or-getter-methods-in-hibernate","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I prefer field access, because that way I'm not forced to provide getter/setter for each property.</p>\n\n<p>A quick survey via Google suggests that field access is the majority (e.g., <a href=\"http://java.dzone.com/tips/12-feb-jpa-20-why-accesstype\" rel=\"noreferrer\">http://java.dzone.com/tips/12-feb-jpa-20-why-accesstype</a>).</p>\n\n<p>I believe field access is the idiom recommended by Spring, but I can't find a reference to back that up.</p>\n\n<p>There's a <a href=\"https://stackoverflow.com/questions/332591/performance-difference-between-annotating-fields-or-getter-methods-in-hibernate\">related SO question</a> that tried to measure performance and came to the conclusion that there's \"no difference\".</p>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443579313,"creation_date":1235745873,"answer_id":595047,"question_id":594597,"body_markdown":"I believe property access vs. field access is subtly different with regards to lazy initialisation.\r\n\r\nConsider the following mappings for 2 basic beans:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;hibernate-mapping package=&quot;org.nkl.model&quot; default-access=&quot;field&quot;&gt;\r\n      &lt;class name=&quot;FieldBean&quot; table=&quot;FIELD_BEAN&quot;&gt;\r\n        &lt;id name=&quot;id&quot;&gt;\r\n          &lt;generator class=&quot;sequence&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;message&quot; /&gt;\r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n    &lt;hibernate-mapping package=&quot;org.nkl.model&quot; default-access=&quot;property&quot;&gt;\r\n      &lt;class name=&quot;PropBean&quot; table=&quot;PROP_BEAN&quot;&gt;\r\n        &lt;id name=&quot;id&quot;&gt;\r\n          &lt;generator class=&quot;sequence&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;message&quot; /&gt;\r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nAnd the following unit tests:\r\n\r\n    @Test\r\n    public void testFieldBean() {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction tx = session.beginTransaction();\r\n        FieldBean fb = new FieldBean(&quot;field&quot;);\r\n        Long id = (Long) session.save(fb);\r\n        tx.commit();\r\n        session.close();\r\n\r\n        session = sessionFactory.openSession();\r\n        tx = session.beginTransaction();\r\n        fb = (FieldBean) session.load(FieldBean.class, id);\r\n        System.out.println(fb.getId());\r\n        tx.commit();\r\n        session.close();\r\n    }\r\n\r\n    @Test\r\n    public void testPropBean() {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction tx = session.beginTransaction();\r\n        PropBean pb = new PropBean(&quot;prop&quot;);\r\n        Long id = (Long) session.save(pb);\r\n        tx.commit();\r\n        session.close();\r\n\r\n        session = sessionFactory.openSession();\r\n        tx = session.beginTransaction();\r\n        pb = (PropBean) session.load(PropBean.class, id);\r\n        System.out.println(pb.getId());\r\n        tx.commit();\r\n        session.close();\r\n    }\r\n\r\nYou will see the subtle difference in the selects required:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Hibernate: \r\n        call next value for hibernate_sequence\r\n    Hibernate: \r\n        insert \r\n        into\r\n            FIELD_BEAN\r\n            (message, id) \r\n        values\r\n            (?, ?)\r\n    Hibernate: \r\n        select\r\n            fieldbean0_.id as id1_0_,\r\n            fieldbean0_.message as message1_0_ \r\n        from\r\n            FIELD_BEAN fieldbean0_ \r\n        where\r\n            fieldbean0_.id=?\r\n    0\r\n    Hibernate: \r\n        call next value for hibernate_sequence\r\n    Hibernate: \r\n        insert \r\n        into\r\n            PROP_BEAN\r\n            (message, id) \r\n        values\r\n            (?, ?)\r\n    1\r\n\r\nThat is, calling `fb.getId()` requires a select, whereas `pb.getId()` does not.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I believe property access vs. field access is subtly different with regards to lazy initialisation.</p>\n\n<p>Consider the following mappings for 2 basic beans:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;hibernate-mapping package=\"org.nkl.model\" default-access=\"field\"&gt;\n  &lt;class name=\"FieldBean\" table=\"FIELD_BEAN\"&gt;\n    &lt;id name=\"id\"&gt;\n      &lt;generator class=\"sequence\" /&gt;\n    &lt;/id&gt;\n    &lt;property name=\"message\" /&gt;\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n\n&lt;hibernate-mapping package=\"org.nkl.model\" default-access=\"property\"&gt;\n  &lt;class name=\"PropBean\" table=\"PROP_BEAN\"&gt;\n    &lt;id name=\"id\"&gt;\n      &lt;generator class=\"sequence\" /&gt;\n    &lt;/id&gt;\n    &lt;property name=\"message\" /&gt;\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>And the following unit tests:</p>\n\n<pre><code>@Test\npublic void testFieldBean() {\n    Session session = sessionFactory.openSession();\n    Transaction tx = session.beginTransaction();\n    FieldBean fb = new FieldBean(\"field\");\n    Long id = (Long) session.save(fb);\n    tx.commit();\n    session.close();\n\n    session = sessionFactory.openSession();\n    tx = session.beginTransaction();\n    fb = (FieldBean) session.load(FieldBean.class, id);\n    System.out.println(fb.getId());\n    tx.commit();\n    session.close();\n}\n\n@Test\npublic void testPropBean() {\n    Session session = sessionFactory.openSession();\n    Transaction tx = session.beginTransaction();\n    PropBean pb = new PropBean(\"prop\");\n    Long id = (Long) session.save(pb);\n    tx.commit();\n    session.close();\n\n    session = sessionFactory.openSession();\n    tx = session.beginTransaction();\n    pb = (PropBean) session.load(PropBean.class, id);\n    System.out.println(pb.getId());\n    tx.commit();\n    session.close();\n}\n</code></pre>\n\n<p>You will see the subtle difference in the selects required:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hibernate: \n    call next value for hibernate_sequence\nHibernate: \n    insert \n    into\n        FIELD_BEAN\n        (message, id) \n    values\n        (?, ?)\nHibernate: \n    select\n        fieldbean0_.id as id1_0_,\n        fieldbean0_.message as message1_0_ \n    from\n        FIELD_BEAN fieldbean0_ \n    where\n        fieldbean0_.id=?\n0\nHibernate: \n    call next value for hibernate_sequence\nHibernate: \n    insert \n    into\n        PROP_BEAN\n        (message, id) \n    values\n        (?, ?)\n1\n</code></pre>\n\n<p>That is, calling <code>fb.getId()</code> requires a select, whereas <code>pb.getId()</code> does not.</p>\n"},{"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1235760191,"creation_date":1235760191,"answer_id":596056,"question_id":594597,"body_markdown":"That really depends on a specific case -- both options are available for a reason. IMO it boils down to three cases:\r\n\r\n1. setter has some logic that should not be executed at the time of loading an instance from a database; for example, some value validation happens in the setter, however the data coming from db should be valid (otherwise it would not get there (: ); in this case field access is most appropriate;\r\n2. setter has some logic that should always be invoked, even during loading of an instance from db; for example, the property being initialised is used in computation of some calculated field (e.g. property -- a monetary amount, calculated property -- a total of several monetary properties of the same instance); in this case property access is required.\r\n3. None of the above cases -- then both options are applicable, just stay consistent (e.i. if field access is the choice in this situation then use it all the time in similar situation).","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>That really depends on a specific case -- both options are available for a reason. IMO it boils down to three cases:</p>\n\n<ol>\n<li>setter has some logic that should not be executed at the time of loading an instance from a database; for example, some value validation happens in the setter, however the data coming from db should be valid (otherwise it would not get there (: ); in this case field access is most appropriate;</li>\n<li>setter has some logic that should always be invoked, even during loading of an instance from db; for example, the property being initialised is used in computation of some calculated field (e.g. property -- a monetary amount, calculated property -- a total of several monetary properties of the same instance); in this case property access is required.</li>\n<li>None of the above cases -- then both options are applicable, just stay consistent (e.i. if field access is the choice in this situation then use it all the time in similar situation).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1235760483,"creation_date":1235760483,"answer_id":596075,"question_id":594597,"body_markdown":"Normally beans are POJO, so they have accessors anyway. \r\n\r\nSo the question is not &quot;which one is better?&quot;, but simply &quot;when to use field access?&quot;. And the answer is &quot;when you don&#39;t need a setter/getter for the field!&quot;.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>Normally beans are POJO, so they have accessors anyway. </p>\n\n<p>So the question is not \"which one is better?\", but simply \"when to use field access?\". And the answer is \"when you don't need a setter/getter for the field!\".</p>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18132,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"down_vote_count":19,"up_vote_count":50,"is_accepted":true,"score":31,"last_activity_date":1287395845,"creation_date":1239904943,"answer_id":757330,"question_id":594597,"body_markdown":"I prefer accessors, since I can add some business logic to my accessors whenever I need.\r\nHere&#39;s an example:\r\n\r\n    @Entity\r\n    public class Person {\r\n    \r\n      @Column(&quot;nickName&quot;)\r\n      public String getNickName(){\r\n         if(this.name != null) return generateFunnyNick(this.name);\r\n         else return &quot;John Doe&quot;;\r\n      }\r\n    }\r\n\r\nBesides, if you throw another libs into the mix (like some JSON-converting lib or BeanMapper or Dozer or other bean mapping/cloning lib based on getter/setter properties) you&#39;ll have the guarantee that the lib is in sync with the persistence manager (both use the getter/setter).","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I prefer accessors, since I can add some business logic to my accessors whenever I need.\nHere's an example:</p>\n\n<pre><code>@Entity\npublic class Person {\n\n  @Column(\"nickName\")\n  public String getNickName(){\n     if(this.name != null) return generateFunnyNick(this.name);\n     else return \"John Doe\";\n  }\n}\n</code></pre>\n\n<p>Besides, if you throw another libs into the mix (like some JSON-converting lib or BeanMapper or Dozer or other bean mapping/cloning lib based on getter/setter properties) you'll have the guarantee that the lib is in sync with the persistence manager (both use the getter/setter).</p>\n"},{"tags":[],"owner":{"account_id":76,"reputation":21385,"user_id":92,"accept_rate":64,"display_name":"Justin Standard"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1240488989,"creation_date":1240488989,"answer_id":781455,"question_id":594597,"body_markdown":"I think annotating the property is better because updating fields directly breaks encapsulation, even when your ORM does it.\r\n\r\nHere&#39;s a great example of where it will burn you: you probably want your annotations for hibernate validator &amp; persistence in the same place (either fields or properties).  If you want to test your hibernate validator powered validations which are annotated on a field, you can&#39;t use a mock of your entity to isolate your unit test to just the validator. Ouch.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I think annotating the property is better because updating fields directly breaks encapsulation, even when your ORM does it.</p>\n\n<p>Here's a great example of where it will burn you: you probably want your annotations for hibernate validator &amp; persistence in the same place (either fields or properties).  If you want to test your hibernate validator powered validations which are annotated on a field, you can't use a mock of your entity to isolate your unit test to just the validator. Ouch.</p>\n"},{"tags":[],"owner":{"display_name":"user261548"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264808597,"creation_date":1264808597,"answer_id":2166065,"question_id":594597,"body_markdown":"i thinking about this and i choose method accesor \r\n\r\nwhy? \r\n\r\nbecause field and methos accesor is the same\r\nbut if later i need some logic in load field, i save move all annotation placed in fields\r\n\r\nregards\r\n\r\nGrubhart","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>i thinking about this and i choose method accesor </p>\n\n<p>why? </p>\n\n<p>because field and methos accesor is the same\nbut if later i need some logic in load field, i save move all annotation placed in fields</p>\n\n<p>regards</p>\n\n<p>Grubhart</p>\n"},{"tags":[],"owner":{"account_id":608207,"reputation":21,"user_id":327099,"display_name":"sundary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272389628,"creation_date":1272389628,"answer_id":2723510,"question_id":594597,"body_markdown":"I had the same question regarding accesstype in hibernate and found [some answers here][1].\r\n\r\n\r\n  [1]: http://javaprogrammingtips4u.blogspot.com/2010/04/field-versus-property-access-in.html","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I had the same question regarding accesstype in hibernate and found <a href=\"http://javaprogrammingtips4u.blogspot.com/2010/04/field-versus-property-access-in.html\" rel=\"nofollow noreferrer\">some answers here</a>.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1467813301,"creation_date":1274303506,"answer_id":2869468,"question_id":594597,"body_markdown":"I tend to prefer and to use property accessors:\r\n\r\n- I can add logic if the need arises (as mentioned in the accepted answer).\r\n- it allows me to call `foo.getId()` **without initializing a proxy** (important when using Hibernate, until [HHH-3718][1] get resolved).\r\n\r\n\r\nDrawback:\r\n\r\n- it makes the code less readable, you have for example to browse a whole class to see if there are `@Transient` around there.\r\n\r\n\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-3718\r\n  [2]: https://forum.hibernate.org/viewtopic.php?p=2349555#p2349555","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I tend to prefer and to use property accessors:</p>\n\n<ul>\n<li>I can add logic if the need arises (as mentioned in the accepted answer).</li>\n<li>it allows me to call <code>foo.getId()</code> <strong>without initializing a proxy</strong> (important when using Hibernate, until <a href=\"https://hibernate.atlassian.net/browse/HHH-3718\" rel=\"noreferrer\">HHH-3718</a> get resolved).</li>\n</ul>\n\n<p>Drawback:</p>\n\n<ul>\n<li>it makes the code less readable, you have for example to browse a whole class to see if there are <code>@Transient</code> around there.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1278398073,"creation_date":1278398073,"answer_id":3184011,"question_id":594597,"body_markdown":"Here&#39;s a situation where you HAVE to use property accessors.  Imagine you have a GENERIC abstract class with lots of implementation goodness to inherit into 8 concrete subclasses:\r\n\r\n    public abstract class Foo&lt;T extends Bar&gt; {\r\n       \r\n        T oneThing;\r\n        T anotherThing;\r\n    \r\n        // getters and setters ommited for brevity\r\n\r\n        // Lots and lots of implementation regarding oneThing and anotherThing here\r\n     }\r\n\r\nNow exactly how should you annotate this class?  The answer is YOU CAN&#39;T annotate it at all with either field or property access because you can&#39;t specify the target entity at this point.  You HAVE to annotate the concrete implementations.  But since the persisted properties are declared in this superclass, you MUST used property access in the subclasses.\r\n\r\nField access is not an option in an application with abstract generic super-classes.\r\n  \r\n\r\n","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>Here's a situation where you HAVE to use property accessors.  Imagine you have a GENERIC abstract class with lots of implementation goodness to inherit into 8 concrete subclasses:</p>\n\n<pre><code>public abstract class Foo&lt;T extends Bar&gt; {\n\n    T oneThing;\n    T anotherThing;\n\n    // getters and setters ommited for brevity\n\n    // Lots and lots of implementation regarding oneThing and anotherThing here\n }\n</code></pre>\n\n<p>Now exactly how should you annotate this class?  The answer is YOU CAN'T annotate it at all with either field or property access because you can't specify the target entity at this point.  You HAVE to annotate the concrete implementations.  But since the persisted properties are declared in this superclass, you MUST used property access in the subclasses.</p>\n\n<p>Field access is not an option in an application with abstract generic super-classes.</p>\n"},{"tags":[],"owner":{"account_id":92781,"reputation":7424,"user_id":254109,"accept_rate":64,"display_name":"xmedeko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290429941,"creation_date":1290429941,"answer_id":4245517,"question_id":594597,"body_markdown":"I have solved lazy initialisation and field access here [https://stackoverflow.com/questions/2593722/hibernate-one-to-one-getid-without-fetching-entire-object/3238182#3238182][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2593722/hibernate-one-to-one-getid-without-fetching-entire-object/3238182#3238182","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I have solved lazy initialisation and field access here <a href=\"https://stackoverflow.com/questions/2593722/hibernate-one-to-one-getid-without-fetching-entire-object/3238182#3238182\">Hibernate one-to-one: getId() without fetching entire object</a></p>\n"},{"tags":[],"owner":{"account_id":255896,"reputation":306,"user_id":536235,"display_name":"Manuel Palacio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1294822949,"creation_date":1291890313,"answer_id":4397151,"question_id":594597,"body_markdown":"[Are we there yet][1]\r\n\r\n\r\n  [1]: http://www.infoq.com/presentations/rod-johnson-are-we-there-yet\r\n\r\nThat&#39;s an old presentation but Rod suggests that annotation on property access encourages anemic domain models and should not be the &quot;default&quot; way to annotate.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p><a href=\"http://www.infoq.com/presentations/rod-johnson-are-we-there-yet\" rel=\"nofollow\">Are we there yet</a></p>\n\n<p>That's an old presentation but Rod suggests that annotation on property access encourages anemic domain models and should not be the \"default\" way to annotate.</p>\n"},{"tags":[],"owner":{"account_id":251936,"reputation":3014,"user_id":529638,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":264,"is_accepted":false,"score":264,"last_activity_date":1690904110,"creation_date":1306014984,"answer_id":6084701,"question_id":594597,"body_markdown":"There are arguments for both, but most of them stem from certain user requirements &quot;What if you need to add logic for&quot;, or &quot;xxxx breaks encapsulation&quot;. However, nobody has really commented on the theory, and given a properly reasoned argument. \r\n\r\nWhat is Hibernate/JPA actually doing when it persists an object - well, it is persisting the STATE of the object. That means storing it in a way that it can be easily reproduced. \r\n\r\nWhat is encapsulation? Encapsulations means encapsulating the data (or state) with an interface that the application/client can use to access the data safely - keeping it consistent and valid. \r\n\r\nThink of this like MS Word. MS Word maintains a model of the document in memory - the documents STATE. It presents an interface that the user can use to modify the document - a set of buttons, tools, keyboard commands, etc. However, when you persist (Save) that document, it saves the internal state, not the set of keypresses and mouse clicks used to generate it. \r\n\r\nSaving the internal state of the object DOES NOT break encapsulation - otherwise, you don&#39;t really understand what encapsulation means, and why it exists. It is just like object serialization really. \r\n\r\nFor this reason, IN MOST CASES, it is appropriate to persist the FIELDS and not the ACCESSORS. This means that an object can be accurately recreated from the database exactly how it was stored. It should not need any validation, because this was done on the original when it was created, and before it was stored in the database (unless, God forbid, you are storing invalid data in the DB!!!!). Likewise, there should be no need to calculate values, as they were already calculated before the object was stored. The object should look just the way it did before it was saved. In fact, by adding additional stuff into the getters/setters you are actually *increasing* the risk that you will recreate something that is not an exact copy of the original. \r\n\r\nOf course, this functionality was added for a reason. There may be some valid use cases for persisting the accessors, however, they will typically be rare. An example may be that you want to avoid persisting a calculated value. However, you may want to ask the question why you don&#39;t calculate it on demand in the value&#39;s getter, or lazily initialize it in the getter. Personally, I cannot think of any good use case, and none of the answers here really give a &quot;Software Engineering&quot; answer.  ","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>There are arguments for both, but most of them stem from certain user requirements &quot;What if you need to add logic for&quot;, or &quot;xxxx breaks encapsulation&quot;. However, nobody has really commented on the theory, and given a properly reasoned argument.</p>\n<p>What is Hibernate/JPA actually doing when it persists an object - well, it is persisting the STATE of the object. That means storing it in a way that it can be easily reproduced.</p>\n<p>What is encapsulation? Encapsulations means encapsulating the data (or state) with an interface that the application/client can use to access the data safely - keeping it consistent and valid.</p>\n<p>Think of this like MS Word. MS Word maintains a model of the document in memory - the documents STATE. It presents an interface that the user can use to modify the document - a set of buttons, tools, keyboard commands, etc. However, when you persist (Save) that document, it saves the internal state, not the set of keypresses and mouse clicks used to generate it.</p>\n<p>Saving the internal state of the object DOES NOT break encapsulation - otherwise, you don't really understand what encapsulation means, and why it exists. It is just like object serialization really.</p>\n<p>For this reason, IN MOST CASES, it is appropriate to persist the FIELDS and not the ACCESSORS. This means that an object can be accurately recreated from the database exactly how it was stored. It should not need any validation, because this was done on the original when it was created, and before it was stored in the database (unless, God forbid, you are storing invalid data in the DB!!!!). Likewise, there should be no need to calculate values, as they were already calculated before the object was stored. The object should look just the way it did before it was saved. In fact, by adding additional stuff into the getters/setters you are actually <em>increasing</em> the risk that you will recreate something that is not an exact copy of the original.</p>\n<p>Of course, this functionality was added for a reason. There may be some valid use cases for persisting the accessors, however, they will typically be rare. An example may be that you want to avoid persisting a calculated value. However, you may want to ask the question why you don't calculate it on demand in the value's getter, or lazily initialize it in the getter. Personally, I cannot think of any good use case, and none of the answers here really give a &quot;Software Engineering&quot; answer.</p>\n"},{"tags":[],"owner":{"account_id":129790,"reputation":61,"user_id":328596,"display_name":"ely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311144527,"creation_date":1311144527,"answer_id":6758027,"question_id":594597,"body_markdown":"To make your classes cleaner, put the annotation in the field then use @Access(AccessType.PROPERTY)","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>To make your classes cleaner, put the annotation in the field then use @Access(AccessType.PROPERTY)</p>\n"},{"tags":[],"owner":{"account_id":1324269,"reputation":51,"user_id":1269451,"display_name":"John Goyer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443579351,"creation_date":1331740224,"answer_id":9705296,"question_id":594597,"body_markdown":"I favor field accessors.  The code is much cleaner. All the annotations can be placed in one\r\nsection of a class and the code is much easier to read.  \r\n\r\nI found another problem with property accessors: if you have getXYZ methods on your class that are NOT annotated as being associated with persistent properties, hibernate generates sql to attempt to get those properties, resulting in some very confusing error messages.  Two hours wasted.  I did not write this code; I have always used field accessors in the past and have never run into this issue.\r\n\r\nHibernate versions used in this app:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!-- hibernate --&gt;\r\n    &lt;hibernate-core.version&gt;3.3.2.GA&lt;/hibernate-core.version&gt;\r\n    &lt;hibernate-annotations.version&gt;3.4.0.GA&lt;/hibernate-annotations.version&gt;\r\n    &lt;hibernate-commons-annotations.version&gt;3.1.0.GA&lt;/hibernate-commons-annotations.version&gt;\r\n    &lt;hibernate-entitymanager.version&gt;3.4.0.GA&lt;/hibernate-entitymanager.version&gt;","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I favor field accessors.  The code is much cleaner. All the annotations can be placed in one\nsection of a class and the code is much easier to read.  </p>\n\n<p>I found another problem with property accessors: if you have getXYZ methods on your class that are NOT annotated as being associated with persistent properties, hibernate generates sql to attempt to get those properties, resulting in some very confusing error messages.  Two hours wasted.  I did not write this code; I have always used field accessors in the past and have never run into this issue.</p>\n\n<p>Hibernate versions used in this app:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- hibernate --&gt;\n&lt;hibernate-core.version&gt;3.3.2.GA&lt;/hibernate-core.version&gt;\n&lt;hibernate-annotations.version&gt;3.4.0.GA&lt;/hibernate-annotations.version&gt;\n&lt;hibernate-commons-annotations.version&gt;3.1.0.GA&lt;/hibernate-commons-annotations.version&gt;\n&lt;hibernate-entitymanager.version&gt;3.4.0.GA&lt;/hibernate-entitymanager.version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1204576,"reputation":2855,"user_id":1174543,"accept_rate":80,"display_name":"Steve11235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342451370,"creation_date":1342451370,"answer_id":11507160,"question_id":594597,"body_markdown":"We created entity beans and used getter annotations. The problem we ran into is this: some entities have complex rules for some properties regarding when they can be updated. The solution was to have some business logic in each setter that determines whether or not the actual value changed and, if so, whether the change should be allowed. Of course, Hibernate can always set the properties, so we ended up with two groups of setters. Pretty ugly.\r\n\r\nReading previous posts, I also see that referencing the properties from inside the entity could lead to issues with collections not loading.\r\n\r\nBottom line, I would lean toward annotating the fields in the future.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>We created entity beans and used getter annotations. The problem we ran into is this: some entities have complex rules for some properties regarding when they can be updated. The solution was to have some business logic in each setter that determines whether or not the actual value changed and, if so, whether the change should be allowed. Of course, Hibernate can always set the properties, so we ended up with two groups of setters. Pretty ugly.</p>\n\n<p>Reading previous posts, I also see that referencing the properties from inside the entity could lead to issues with collections not loading.</p>\n\n<p>Bottom line, I would lean toward annotating the fields in the future.</p>\n"},{"tags":[],"owner":{"account_id":45915,"reputation":3990,"user_id":135535,"accept_rate":59,"display_name":"Christoph"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1343301275,"creation_date":1343301275,"answer_id":11668059,"question_id":594597,"body_markdown":"I would strongly recommend field access and NOT annotations on the getters (property access) if you want to do anything more in the setters than just setting the value (e.g. Encryption or calculation). \r\n\r\nThe problem with the property access is that the setters are also called when the object is loaded. This has worked for me fine for many month until we wanted to introduce encryption. In our use case we wanted to encrypt a field in the setter and decrypt it in the getter. \r\nThe problem now with property access was that when Hibernate loaded the object it was also calling the setter to populate the field and thus was encrypting the encrypted value again. \r\nThis post also mentions this: \r\nhttps://stackoverflow.com/questions/8134947/java-hibernate-different-property-set-function-behavior-depending-on-who-is-cal\r\n\r\nThis has cause me headaches until I remembered the difference between field access and property access. Now I have moved all my annotations from property access to field access and it works fine now. ","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I would strongly recommend field access and NOT annotations on the getters (property access) if you want to do anything more in the setters than just setting the value (e.g. Encryption or calculation). </p>\n\n<p>The problem with the property access is that the setters are also called when the object is loaded. This has worked for me fine for many month until we wanted to introduce encryption. In our use case we wanted to encrypt a field in the setter and decrypt it in the getter. \nThe problem now with property access was that when Hibernate loaded the object it was also calling the setter to populate the field and thus was encrypting the encrypted value again. \nThis post also mentions this: \n<a href=\"https://stackoverflow.com/questions/8134947/java-hibernate-different-property-set-function-behavior-depending-on-who-is-cal\">Java Hibernate: Different property set function behavior depending on who is calling it</a></p>\n\n<p>This has cause me headaches until I remembered the difference between field access and property access. Now I have moved all my annotations from property access to field access and it works fine now. </p>\n"},{"tags":[],"owner":{"account_id":423440,"reputation":1324,"user_id":802831,"accept_rate":17,"display_name":"Jiř&#237; Vypědř&#237;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370930899,"creation_date":1370930899,"answer_id":17037538,"question_id":594597,"body_markdown":"Another point in favor of field access is that otherwise you are forced to expose setters for collections as well what, for me, is a bad idea as changing the persistent collection instance to an object not managed by Hibernate will definitely break your data consistency.\r\n\r\nSo I prefer having collections as protected fields initialized to empty implementations in the default constructor and expose only their getters. Then, only managed operations like `clear()`, `remove()`, `removeAll()` etc are possible that will never make Hibernate unaware of changes.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>Another point in favor of field access is that otherwise you are forced to expose setters for collections as well what, for me, is a bad idea as changing the persistent collection instance to an object not managed by Hibernate will definitely break your data consistency.</p>\n\n<p>So I prefer having collections as protected fields initialized to empty implementations in the default constructor and expose only their getters. Then, only managed operations like <code>clear()</code>, <code>remove()</code>, <code>removeAll()</code> etc are possible that will never make Hibernate unaware of changes.</p>\n"},{"tags":[],"owner":{"display_name":"user41871"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401620302,"creation_date":1401620302,"answer_id":23979144,"question_id":594597,"body_markdown":"I prefer fields, but I&#39;ve run into one situation that seems to force me to place the annotations on getters.\r\n\r\nWith the Hibernate JPA implementation, `@Embedded` doesn&#39;t seem to work on fields. So that has to go on the getter. And once you put that on the getter, then the various `@Column` annotations have to go on the getters too. (I think Hibernate doesn&#39;t want mixing fields and getters here.) And once you&#39;re putting `@Column` on getters in one class, it probably makes sense to do that throughout.\r\n","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I prefer fields, but I've run into one situation that seems to force me to place the annotations on getters.</p>\n\n<p>With the Hibernate JPA implementation, <code>@Embedded</code> doesn't seem to work on fields. So that has to go on the getter. And once you put that on the getter, then the various <code>@Column</code> annotations have to go on the getters too. (I think Hibernate doesn't want mixing fields and getters here.) And once you're putting <code>@Column</code> on getters in one class, it probably makes sense to do that throughout.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1610205444,"creation_date":1426147858,"answer_id":29004723,"question_id":594597,"body_markdown":"I prefer using field access for the following reasons:\r\n\r\n1. The *property access* can lead to very nasty bugs when implementing equals/hashCode and [referencing fields directly](http://blog.xebia.com/2008/03/08/advanced-hibernate-proxy-pitfalls/) (as opposed through their getters). This is because the proxy is only initialized when the getters are accessed, and a direct-field access would simply return null.\r\n\r\n2. The *property access* requires you to annotate all utility methods (e.g. addChild/removeChild) as `@Transient`.\r\n\r\n3. With field access we can hide the `@Version` field by not exposing a getter at all. A getter can also lead to adding a setter as well, and the `version` field should never be set manually (which can lead to very nasty issues). All version incrementation should be triggered through [`OPTIMISTIC_FORCE_INCREMENT`](http://vladmihalcea.com/hibernate-locking-patterns-how-does-optimistic_force_increment-lock-mode-work/) or [`PESSIMISTIC_FORCE_INCREMENT`](http://vladmihalcea.com/hibernate-locking-patterns-how-does-pessimistic_force_increment-lock-mode-work/) explicit locking.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>I prefer using field access for the following reasons:</p>\n<ol>\n<li><p>The <em>property access</em> can lead to very nasty bugs when implementing equals/hashCode and <a href=\"http://blog.xebia.com/2008/03/08/advanced-hibernate-proxy-pitfalls/\" rel=\"noreferrer\">referencing fields directly</a> (as opposed through their getters). This is because the proxy is only initialized when the getters are accessed, and a direct-field access would simply return null.</p>\n</li>\n<li><p>The <em>property access</em> requires you to annotate all utility methods (e.g. addChild/removeChild) as <code>@Transient</code>.</p>\n</li>\n<li><p>With field access we can hide the <code>@Version</code> field by not exposing a getter at all. A getter can also lead to adding a setter as well, and the <code>version</code> field should never be set manually (which can lead to very nasty issues). All version incrementation should be triggered through <a href=\"http://vladmihalcea.com/hibernate-locking-patterns-how-does-optimistic_force_increment-lock-mode-work/\" rel=\"noreferrer\"><code>OPTIMISTIC_FORCE_INCREMENT</code></a> or <a href=\"http://vladmihalcea.com/hibernate-locking-patterns-how-does-pessimistic_force_increment-lock-mode-work/\" rel=\"noreferrer\"><code>PESSIMISTIC_FORCE_INCREMENT</code></a> explicit locking.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491486163,"creation_date":1491485615,"answer_id":43256767,"question_id":594597,"body_markdown":"By default, JPA providers access the values of entity fields and map those fields to database columns\r\nusing the entity’s JavaBean property accessor (getter) and mutator (setter) methods. As such, the\r\nnames and types of the private fields in an entity do not matter to JPA. Instead, JPA looks at only\r\nthe names and return types of the JavaBean property accessors. You can alter this using the `@javax.persistence.Access` annotation, which enables you to explicitly specify the access methodology\r\nthat the JPA provider should employ.\r\n\r\n    @Entity\r\n    @Access(AccessType.FIELD)\r\n    public class SomeEntity implements Serializable\r\n    {\r\n    ...\r\n    }\r\nThe available options for the AccessType enum are PROPERTY (the default) and FIELD. With\r\nPROPERTY, the provider gets and sets field values using the JavaBean property methods. FIELD makes\r\nthe provider get and set field values using the instance fields. As a best practice, you should just stick\r\nto the default and use JavaBean properties unless you have a compelling reason to do otherwise.\r\n\r\nYou\r\ncan put these property annotations on either the private fields or the public accessor methods. If\r\nyou use `AccessType.PROPERTY` (default) and annotate the private fields instead of the JavaBean\r\naccessors, the field names must match the JavaBean property names. However, the names do not\r\nhave to match if you annotate the JavaBean accessors. Likewise, if you use `AccessType.FIELD` and\r\nannotate the JavaBean accessors instead of the fields, the field names must also match the JavaBean\r\nproperty names. In this case, they do not have to match if you annotate the fields. It’s best to just\r\nbe consistent and annotate the JavaBean accessors for `AccessType.PROPERTY` and the fields for\r\n`AccessType.FIELD`.\r\n\r\nIt is important that you should never mix JPA property annotations and JPA field annotations\r\nin the same entity. Doing so results in unspecified behavior and is very\r\nlikely to cause errors.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>By default, JPA providers access the values of entity fields and map those fields to database columns\nusing the entity’s JavaBean property accessor (getter) and mutator (setter) methods. As such, the\nnames and types of the private fields in an entity do not matter to JPA. Instead, JPA looks at only\nthe names and return types of the JavaBean property accessors. You can alter this using the <code>@javax.persistence.Access</code> annotation, which enables you to explicitly specify the access methodology\nthat the JPA provider should employ.</p>\n\n<pre><code>@Entity\n@Access(AccessType.FIELD)\npublic class SomeEntity implements Serializable\n{\n...\n}\n</code></pre>\n\n<p>The available options for the AccessType enum are PROPERTY (the default) and FIELD. With\nPROPERTY, the provider gets and sets field values using the JavaBean property methods. FIELD makes\nthe provider get and set field values using the instance fields. As a best practice, you should just stick\nto the default and use JavaBean properties unless you have a compelling reason to do otherwise.</p>\n\n<p>You\ncan put these property annotations on either the private fields or the public accessor methods. If\nyou use <code>AccessType.PROPERTY</code> (default) and annotate the private fields instead of the JavaBean\naccessors, the field names must match the JavaBean property names. However, the names do not\nhave to match if you annotate the JavaBean accessors. Likewise, if you use <code>AccessType.FIELD</code> and\nannotate the JavaBean accessors instead of the fields, the field names must also match the JavaBean\nproperty names. In this case, they do not have to match if you annotate the fields. It’s best to just\nbe consistent and annotate the JavaBean accessors for <code>AccessType.PROPERTY</code> and the fields for\n<code>AccessType.FIELD</code>.</p>\n\n<p>It is important that you should never mix JPA property annotations and JPA field annotations\nin the same entity. Doing so results in unspecified behavior and is very\nlikely to cause errors.</p>\n"},{"tags":[],"owner":{"account_id":136095,"reputation":69,"user_id":339385,"display_name":"moueza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534565345,"creation_date":1534565345,"answer_id":51905169,"question_id":594597,"body_markdown":"Both : \r\n\r\n&gt; The EJB3 spec requires that you declare annotations on the element\r\n&gt; type that will be accessed, i.e. the getter method if you use property\r\n&gt; access, the field if you use field access.\r\n\r\nhttps://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>Both : </p>\n\n<blockquote>\n  <p>The EJB3 spec requires that you declare annotations on the element\n  type that will be accessed, i.e. the getter method if you use property\n  access, the field if you use field access.</p>\n</blockquote>\n\n<p><a href=\"https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping</a></p>\n"},{"tags":[],"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534769032,"creation_date":1534769032,"answer_id":51931037,"question_id":594597,"body_markdown":"AccessType.PROPERTY: The EJB persistence implementation will load state into your class via JavaBean &quot;setter&quot; methods, and retrieve state from your class using JavaBean &quot;getter&quot; methods. This is the default.\r\n\r\nAccessType.FIELD: State is loaded and retrieved directly from your class&#39; fields. You do not have to write JavaBean &quot;getters&quot; and &quot;setters&quot;.","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>AccessType.PROPERTY: The EJB persistence implementation will load state into your class via JavaBean \"setter\" methods, and retrieve state from your class using JavaBean \"getter\" methods. This is the default.</p>\n\n<p>AccessType.FIELD: State is loaded and retrieved directly from your class' fields. You do not have to write JavaBean \"getters\" and \"setters\".</p>\n"},{"tags":[],"owner":{"account_id":12327139,"reputation":3107,"user_id":8994385,"display_name":"Thorben Janssen"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1545057729,"creation_date":1545057729,"answer_id":53817477,"question_id":594597,"body_markdown":"Let me try to summarize the most important reasons for choosing field-based access. If you want to dive deeper, please read this article on my blog: [Access Strategies in JPA and Hibernate – Which is better, field or property access?][1]\r\n\r\nField-based access is by far the better option. Here are 5 reasons for it:\r\n\r\n**Reason 1: Better readability of your code**\r\n\r\nIf you use field-based access, you annotate your entity attributes with your mapping annotations. By placing the definition of all entity attributes at the top of your class, you get a relatively compact view of all attributes and their mappings.\r\n\r\n**Reason 2: Omit getter or setter methods that shouldn’t be called by your application**\r\n\r\nAnother advantage of field-based access is that your persistence provider, e.g., Hibernate or EclipseLink, doesn’t use the getter and setter methods of your entity attributes. That means that you don’t need to provide any method that shouldn’t be used by your business code. This is most often the case for setter methods of [generated primary key attributes][2] or version columns. Your persistence provider manages the values of these attributes, and you should not set them programmatically.\r\n\r\n**Reason 3: Flexible implementation of getter and setter methods**\r\n\r\nBecause your persistence provider doesn’t call the getter and setter methods, they are not forced to fulfill any external requirements. You can implement these methods in any way you want. That enables you to implement business-specific validation rules, to trigger additional business logic or to convert the entity attribute into a different data type.\r\n\r\nYou can, for example, use that to [wrap an optional association or attribute into a Java `Optional`.][3]\r\n\r\n**Reason 4: No need to mark utility methods as `@Transient`**\r\n\r\nAnother benefit of the field-based access strategy is that you don’t need to annotate your utility methods with `@Transient`. This annotation tells your persistence provider that a method or attribute is not part of the entity persistent state. And because with field-type access the persistent state gets defined by the attributes of your entity, your JPA implementation ignores all methods of your entity.\r\n\r\n**Reason 5: Avoid bugs when working with proxies**\r\n\r\nHibernate uses proxies for [lazily fetched to-one associations][4] so that it can control the initialization of these associations. That approach works fine in almost all situations. But it introduces a dangerous pitfall if you use property-based access.\r\n\r\nIf you use property-based access, Hibernate initializes the attributes of the proxy object when you call the getter method. That’s always the case if you use the proxy object in your business code. But quite a lot of [equals and hashCode implementations][5] access the attributes directly. If this is the first time you access any of the proxy attributes, these attributes are still uninitialized.\r\n\r\n\r\n  [1]: https://thoughts-on-java.org/access-strategies-in-jpa-and-hibernate/\r\n  [2]: https://thoughts-on-java.org/jpa-generate-primary-keys/\r\n  [3]: https://thoughts-on-java.org/hibernate-tips-map-association-optional/\r\n  [4]: https://thoughts-on-java.org/entity-mappings-introduction-jpa-fetchtypes/\r\n  [5]: https://thoughts-on-java.org/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>Let me try to summarize the most important reasons for choosing field-based access. If you want to dive deeper, please read this article on my blog: <a href=\"https://thoughts-on-java.org/access-strategies-in-jpa-and-hibernate/\" rel=\"noreferrer\">Access Strategies in JPA and Hibernate – Which is better, field or property access?</a></p>\n\n<p>Field-based access is by far the better option. Here are 5 reasons for it:</p>\n\n<p><strong>Reason 1: Better readability of your code</strong></p>\n\n<p>If you use field-based access, you annotate your entity attributes with your mapping annotations. By placing the definition of all entity attributes at the top of your class, you get a relatively compact view of all attributes and their mappings.</p>\n\n<p><strong>Reason 2: Omit getter or setter methods that shouldn’t be called by your application</strong></p>\n\n<p>Another advantage of field-based access is that your persistence provider, e.g., Hibernate or EclipseLink, doesn’t use the getter and setter methods of your entity attributes. That means that you don’t need to provide any method that shouldn’t be used by your business code. This is most often the case for setter methods of <a href=\"https://thoughts-on-java.org/jpa-generate-primary-keys/\" rel=\"noreferrer\">generated primary key attributes</a> or version columns. Your persistence provider manages the values of these attributes, and you should not set them programmatically.</p>\n\n<p><strong>Reason 3: Flexible implementation of getter and setter methods</strong></p>\n\n<p>Because your persistence provider doesn’t call the getter and setter methods, they are not forced to fulfill any external requirements. You can implement these methods in any way you want. That enables you to implement business-specific validation rules, to trigger additional business logic or to convert the entity attribute into a different data type.</p>\n\n<p>You can, for example, use that to <a href=\"https://thoughts-on-java.org/hibernate-tips-map-association-optional/\" rel=\"noreferrer\">wrap an optional association or attribute into a Java <code>Optional</code>.</a></p>\n\n<p><strong>Reason 4: No need to mark utility methods as <code>@Transient</code></strong></p>\n\n<p>Another benefit of the field-based access strategy is that you don’t need to annotate your utility methods with <code>@Transient</code>. This annotation tells your persistence provider that a method or attribute is not part of the entity persistent state. And because with field-type access the persistent state gets defined by the attributes of your entity, your JPA implementation ignores all methods of your entity.</p>\n\n<p><strong>Reason 5: Avoid bugs when working with proxies</strong></p>\n\n<p>Hibernate uses proxies for <a href=\"https://thoughts-on-java.org/entity-mappings-introduction-jpa-fetchtypes/\" rel=\"noreferrer\">lazily fetched to-one associations</a> so that it can control the initialization of these associations. That approach works fine in almost all situations. But it introduces a dangerous pitfall if you use property-based access.</p>\n\n<p>If you use property-based access, Hibernate initializes the attributes of the proxy object when you call the getter method. That’s always the case if you use the proxy object in your business code. But quite a lot of <a href=\"https://thoughts-on-java.org/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/\" rel=\"noreferrer\">equals and hashCode implementations</a> access the attributes directly. If this is the first time you access any of the proxy attributes, these attributes are still uninitialized.</p>\n"},{"tags":[],"owner":{"account_id":14962461,"reputation":17,"user_id":10801787,"display_name":"user10801787"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545058106,"creation_date":1545058106,"answer_id":53817587,"question_id":594597,"body_markdown":"You should choose access via fields over access via properties.\r\nWith fields you can limit the data sent and received.\r\nWith via properties you can send more data as a host, and\r\nset G denominations (which factory set most of the properties in total).","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>You should choose access via fields over access via properties.\nWith fields you can limit the data sent and received.\nWith via properties you can send more data as a host, and\nset G denominations (which factory set most of the properties in total).</p>\n"}],"owner":{"account_id":9799,"reputation":3583,"user_id":18233,"accept_rate":75,"display_name":"Martin OConnor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128960,"favorite_count":0,"down_vote_count":1,"up_vote_count":156,"accepted_answer_id":757330,"answer_count":25,"score":155,"last_activity_date":1690904110,"creation_date":1235738688,"question_id":594597,"body_markdown":"This question is somewhat related to [https://stackoverflow.com/questions/305880/hibernate-annotation-placement-question][1].\r\n\r\nBut I want to know which is **better**? Access via properties or access via fields?\r\nWhat are the advantages and disadvantages of each?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/305880/hibernate-annotation-placement-question","title":"Hibernate Annotations - Which is better, field or property access?","body":"<p>This question is somewhat related to <a href=\"https://stackoverflow.com/questions/305880/hibernate-annotation-placement-question\">Hibernate Annotation Placement Question</a>.</p>\n\n<p>But I want to know which is <strong>better</strong>? Access via properties or access via fields?\nWhat are the advantages and disadvantages of each?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"score":0,"creation_date":1592442155,"post_id":61899113,"comment_id":110430029,"body_markdown":"get it resolved?","body":"get it resolved?"},{"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"score":1,"creation_date":1592505215,"post_id":61899113,"comment_id":110457618,"body_markdown":"no .. installed new Eclipse version ;(","body":"no .. installed new Eclipse version ;("},{"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"score":1,"creation_date":1592526598,"post_id":61899113,"comment_id":110465066,"body_markdown":"for me I downgraded from 1.8.0_251 to 1.8.0_241 and was able to work.","body":"for me I downgraded from 1.8.0_251 to 1.8.0_241 and was able to work."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1593231511,"post_id":61899113,"comment_id":110713730,"body_markdown":"@Oxnard Hi, do you have jdk 9 installed on your system ?","body":"@Oxnard Hi, do you have jdk 9 installed on your system ?"},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1593231621,"post_id":61899113,"comment_id":110713739,"body_markdown":"@Oxnard With which java version do you want to run the eclipse with ?","body":"@Oxnard With which java version do you want to run the eclipse with ?"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1592976288,"creation_date":1592976288,"answer_id":62548238,"question_id":61899113,"body_markdown":"You can find a similar issue in [Eclipse bug 517113][1], with JDK8.\r\n\r\nThe error call stack indicates an external dependencies to a [library compiled with OpenJDK][2]\r\n\r\n[As seen here][2], check also your JDK declaration in your Eclipse\r\n\r\n&gt; I changed code which was using JAVA_HOME as JRE coming with SonarScanner package.  \r\nOnce I changed it to default JAVA_HOME, it started working fine.\r\n\r\nOther possible cause: wrong dependency, as show by [PR 3066][3] or [this question][4].\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=517113\r\n  [2]: https://github.com/takari/aether-connector-okhttp/pull/10\r\n  [3]: https://github.com/square/okhttp/pull/3066/files\r\n  [4]: https://stackoverflow.com/q/50594350/6309","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>You can find a similar issue in <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=517113\" rel=\"noreferrer\">Eclipse bug 517113</a>, with JDK8.</p>\n<p>The error call stack indicates an external dependencies to a <a href=\"https://github.com/takari/aether-connector-okhttp/pull/10\" rel=\"noreferrer\">library compiled with OpenJDK</a></p>\n<p><a href=\"https://github.com/takari/aether-connector-okhttp/pull/10\" rel=\"noreferrer\">As seen here</a>, check also your JDK declaration in your Eclipse</p>\n<blockquote>\n<p>I changed code which was using JAVA_HOME as JRE coming with SonarScanner package.<br />\nOnce I changed it to default JAVA_HOME, it started working fine.</p>\n</blockquote>\n<p>Other possible cause: wrong dependency, as show by <a href=\"https://github.com/square/okhttp/pull/3066/files\" rel=\"noreferrer\">PR 3066</a> or <a href=\"https://stackoverflow.com/q/50594350/6309\">this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1593232421,"creation_date":1593231785,"answer_id":62605830,"question_id":61899113,"body_markdown":"*I think you are running Eclipse Oxygen with JDK 9.*\r\n\r\nIf you don&#39;t want to, then I have a solution for that.\r\n\r\nUpdate the **eclipse/eclipse.ini** by adding `-vm` parameter:\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.700.v20180518-1200\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vm\r\n    C:/Program Files/Java/jdk1.8.0_251/bin\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Xms256m\r\n    -Xmx1024m\r\n    --add-modules=ALL-SYSTEM\r\n\r\nThis **.ini** file is from my latest eclipse. It may be different for other versions.\r\n\r\nThis will enforce eclipse to start with the JDK that you have added.\r\n\r\n**Note:** `-Dosgi.requiredJavaVersion=1.8` will give you information upto which java version the eclipse can support. \r\n","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p><em>I think you are running Eclipse Oxygen with JDK 9.</em></p>\n<p>If you don't want to, then I have a solution for that.</p>\n<p>Update the <strong>eclipse/eclipse.ini</strong> by adding <code>-vm</code> parameter:</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.700.v20180518-1200\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\nC:/Program Files/Java/jdk1.8.0_251/bin\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=1.8\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx1024m\n--add-modules=ALL-SYSTEM\n</code></pre>\n<p>This <strong>.ini</strong> file is from my latest eclipse. It may be different for other versions.</p>\n<p>This will enforce eclipse to start with the JDK that you have added.</p>\n<p><strong>Note:</strong> <code>-Dosgi.requiredJavaVersion=1.8</code> will give you information upto which java version the eclipse can support.</p>\n"},{"tags":[],"owner":{"account_id":15586760,"reputation":27,"user_id":12584372,"display_name":"Mehul Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601584155,"creation_date":1601584155,"answer_id":64162752,"question_id":61899113,"body_markdown":"If anyone has come to face this issue when running Azul&#39;s zulu8 open jdk, try by taking zulu8 jdk of say 3-4 versions behind the latest. That worked for me.","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>If anyone has come to face this issue when running Azul's zulu8 open jdk, try by taking zulu8 jdk of say 3-4 versions behind the latest. That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1301293,"reputation":464,"user_id":1251135,"display_name":"dallaslu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603109910,"creation_date":1603109910,"answer_id":64427190,"question_id":61899113,"body_markdown":"Check your OkHttpClient.Builder(), change code from\r\n\r\n    sslSocketFactory(SSLSocketFactory sslSocketFactory)\r\n\r\nto\r\n\r\n    sslSocketFactory(SSLSocketFactory sslSocketFactory, X509TrustManager trustManager)\r\n\r\nFor example:\r\n\r\n    // define sslContext ...\r\n    \r\n    new OkHttpClient.Builder().sslSocketFactory(sslContext.getSocketFactory(), new JEEX509TrustManager()).build();\r\n\r\nAnd then everything will be ok.","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>Check your OkHttpClient.Builder(), change code from</p>\n<pre><code>sslSocketFactory(SSLSocketFactory sslSocketFactory)\n</code></pre>\n<p>to</p>\n<pre><code>sslSocketFactory(SSLSocketFactory sslSocketFactory, X509TrustManager trustManager)\n</code></pre>\n<p>For example:</p>\n<pre><code>// define sslContext ...\n\nnew OkHttpClient.Builder().sslSocketFactory(sslContext.getSocketFactory(), new JEEX509TrustManager()).build();\n</code></pre>\n<p>And then everything will be ok.</p>\n"},{"tags":[],"owner":{"account_id":11090069,"reputation":171,"user_id":8142281,"display_name":"Pratik Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622181026,"creation_date":1622181026,"answer_id":67733517,"question_id":61899113,"body_markdown":"I followed these steps to remove this error:\r\nEarlier Code:\r\n \r\n\r\n    OkHttpClient.Builder builder = new OkHttpClient.Builder(); \r\n     builder.sslSocketFactory(sslSocketFactory);\r\n\r\nNew Code:\r\n \r\n\r\n    OkHttpClient.Builder builder = new OkHttpClient.Builder(); \r\n     X509TrustManager trustManager = new X509DeployTrustManager();\r\n     builder.sslSocketFactory(sslSocketFactory);\r\n\r\n","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>I followed these steps to remove this error:\nEarlier Code:</p>\n<pre><code>OkHttpClient.Builder builder = new OkHttpClient.Builder(); \n builder.sslSocketFactory(sslSocketFactory);\n</code></pre>\n<p>New Code:</p>\n<pre><code>OkHttpClient.Builder builder = new OkHttpClient.Builder(); \n X509TrustManager trustManager = new X509DeployTrustManager();\n builder.sslSocketFactory(sslSocketFactory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597642,"reputation":230,"user_id":3729220,"accept_rate":80,"display_name":"user3729220"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635164724,"creation_date":1635164724,"answer_id":69708025,"question_id":61899113,"body_markdown":"There are two versions of Java 8 as below:\r\n1. Java SE 8 (8u211 and later)\r\n2. Java SE 8 (8u202 and earlier)\r\n\r\nSo if you have installed &quot;Java SE 8 (8u211 and later)&quot; you will receive error: ***clientBuilder.sslSocketFactory not supported on JDK 9+*** in eclipse oxygen.\r\nTo avoid this error please install &quot;Java SE 8 (8u202 and earlier)&quot; from below link\r\n*https://www.oracle.com/java/technologies/downloads/archive/*\r\n","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>There are two versions of Java 8 as below:</p>\n<ol>\n<li>Java SE 8 (8u211 and later)</li>\n<li>Java SE 8 (8u202 and earlier)</li>\n</ol>\n<p>So if you have installed &quot;Java SE 8 (8u211 and later)&quot; you will receive error: <em><strong>clientBuilder.sslSocketFactory not supported on JDK 9+</strong></em> in eclipse oxygen.\nTo avoid this error please install &quot;Java SE 8 (8u202 and earlier)&quot; from below link\n<em><a href=\"https://www.oracle.com/java/technologies/downloads/archive/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/archive/</a></em></p>\n"}],"owner":{"account_id":1005158,"reputation":7158,"user_id":1019129,"accept_rate":51,"display_name":"sten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26906,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1690903968,"creation_date":1589916267,"question_id":61899113,"body_markdown":"I&#39;m getting this error on Eclipse oxygen 4.7.0, java 1.8 \r\n\r\nclientBuilder.sslSocketFactory not supported on JDK 9+\r\n\r\nrelated to Eclipse, maven ..trying to update Maven : Alt+f5\r\nthe module okhttp3 trying to connect .. when resolving/processing pom\r\n\r\nI dont have JDK9 at all.\r\nLooked at all the other similar reports on stackoverflow, none is related.\r\n","title":"Eclipse : clientBuilder.sslSocketFactory not supported on JDK 9+","body":"<p>I'm getting this error on Eclipse oxygen 4.7.0, java 1.8 </p>\n\n<p>clientBuilder.sslSocketFactory not supported on JDK 9+</p>\n\n<p>related to Eclipse, maven ..trying to update Maven : Alt+f5\nthe module okhttp3 trying to connect .. when resolving/processing pom</p>\n\n<p>I dont have JDK9 at all.\nLooked at all the other similar reports on stackoverflow, none is related.</p>\n"},{"tags":["java","intellij-idea","environment-variables","bazel"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1534190410,"post_id":51817707,"comment_id":90613802,"body_markdown":"https://github.com/bazelbuild/intellij/issues might be a better place to ask. Plug-in developer may need to provide the environment variable options to the run configuration like many other configurations in the IDE already do.","body":"<a href=\"https://github.com/bazelbuild/intellij/issues\" rel=\"nofollow noreferrer\">github.com/bazelbuild/intellij/issues</a> might be a better place to ask. Plug-in developer may need to provide the environment variable options to the run configuration like many other configurations in the IDE already do."},{"owner":{"account_id":1728054,"reputation":2520,"user_id":1582293,"accept_rate":33,"display_name":"Baama"},"score":0,"creation_date":1534241405,"post_id":51817707,"comment_id":90630871,"body_markdown":"@CrazyCoder But how do i do this on the cli.  `bazel run myproject:app --action_env=APP_ENV=Development` does not work","body":"@CrazyCoder But how do i do this on the cli.  <code>bazel run myproject:app --action_env=APP_ENV=Development</code> does not work"}],"answers":[{"tags":[],"owner":{"account_id":177272,"reputation":1432,"user_id":1736338,"display_name":"M. Leonhard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580982841,"creation_date":1580982841,"answer_id":60092125,"question_id":51817707,"body_markdown":"Launch Intellij from a terminal so it has the environment variables that it needs during bazel sync (build) and bazel run.\r\n\r\nOn MacOS, use the `open` command to launch it.\r\n```\r\n$ export POSTGRES_USER=dev_user\r\n$ open -a &quot;IntelliJ IDEA CE&quot;\r\n$\r\n```\r\n\r\nBazel will only pass variables to the build processes if you provide them on the command line:\r\n\r\n```\r\n$ bazel build --action_env=POSTGRES_USER //...\r\n```\r\nOr specify them in `.bazelrc`:\r\n```\r\nbuild --action_env=POSTGRES_USER\r\n```","title":"Bazel and System Environment Variable","body":"<p>Launch Intellij from a terminal so it has the environment variables that it needs during bazel sync (build) and bazel run.</p>\n\n<p>On MacOS, use the <code>open</code> command to launch it.</p>\n\n<pre><code>$ export POSTGRES_USER=dev_user\n$ open -a \"IntelliJ IDEA CE\"\n$\n</code></pre>\n\n<p>Bazel will only pass variables to the build processes if you provide them on the command line:</p>\n\n<pre><code>$ bazel build --action_env=POSTGRES_USER //...\n</code></pre>\n\n<p>Or specify them in <code>.bazelrc</code>:</p>\n\n<pre><code>build --action_env=POSTGRES_USER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120960,"reputation":1,"user_id":3381306,"display_name":"arifogel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593113981,"creation_date":1593113981,"answer_id":62583099,"question_id":51817707,"body_markdown":"The current version of the Intellij bazel plugin allows you to specify a bazel binary. You can take advantage of this to add specific environment variables per run configuration.\r\n\r\nLet&#39;s say you want to add the following to the runtime environment:\r\n```\r\nVAR1=VAL1\r\nVAR2=VAL2\r\n```\r\n\r\nThen create a file called say `bazel_custom` with the following contents (replace `/path/to/bazel` with the correct path to bazel):\r\n```\r\n#!/usr/bin/env bash\r\n\r\nexport VAR1=VAL1\r\nexport VAR2=VAL2\r\n\r\n/path/to/bazel &quot;$@&quot;\r\n```\r\n\r\nSave the file and mark it as executable:\r\n`chmod +x bazel_custom`\r\n\r\nThen edit your Intellij bazel run configuration and set the path to the task-specific bazel binary to `/path/to/bazel_custom`.\r\n\r\n\r\n","title":"Bazel and System Environment Variable","body":"<p>The current version of the Intellij bazel plugin allows you to specify a bazel binary. You can take advantage of this to add specific environment variables per run configuration.</p>\n<p>Let's say you want to add the following to the runtime environment:</p>\n<pre><code>VAR1=VAL1\nVAR2=VAL2\n</code></pre>\n<p>Then create a file called say <code>bazel_custom</code> with the following contents (replace <code>/path/to/bazel</code> with the correct path to bazel):</p>\n<pre><code>#!/usr/bin/env bash\n\nexport VAR1=VAL1\nexport VAR2=VAL2\n\n/path/to/bazel &quot;$@&quot;\n</code></pre>\n<p>Save the file and mark it as executable:\n<code>chmod +x bazel_custom</code></p>\n<p>Then edit your Intellij bazel run configuration and set the path to the task-specific bazel binary to <code>/path/to/bazel_custom</code>.</p>\n"},{"tags":[],"owner":{"account_id":3036195,"reputation":3473,"user_id":2574227,"display_name":"Dane White"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1623952267,"creation_date":1623952267,"answer_id":68024297,"question_id":51817707,"body_markdown":"You can use ```--run_under``` to add a prefix to the Bazel run command. This can be used in the IntelliJ Run/Debug configuration to set environment variables.\r\n\r\n    --run_under=&#39;export VAR1=FOO VAR2=BAR &amp;&amp; &#39;","title":"Bazel and System Environment Variable","body":"<p>You can use <code>--run_under</code> to add a prefix to the Bazel run command. This can be used in the IntelliJ Run/Debug configuration to set environment variables.</p>\n<pre><code>--run_under='export VAR1=FOO VAR2=BAR &amp;&amp; '\n</code></pre>\n"}],"owner":{"account_id":1728054,"reputation":2520,"user_id":1582293,"accept_rate":33,"display_name":"Baama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8659,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1690903947,"creation_date":1534147278,"question_id":51817707,"body_markdown":"I am building my Java project with Bazel. I want to use environment variables at build/run time. According to the [documentation](https://bazel.build/designs/2016/06/21/environment.html) `--action_env=APP_ENV=Development` should work.\r\n\r\nSo I do `bazel run myproject:app --action_env=APP_ENV=Development`\r\n\r\nBut `System.getenv(&quot;APP_ENV&quot;);` is null\r\n\r\nIn my IntelliJ IDE, I have the following. Neither `--action_env=APP_ENV=Development` nor `--action_env APP_ENV=Development` work.\r\n\r\n\r\n[![Using IntelliJ][1]][1]\r\n\r\nDid I get something wrong here?\r\n\r\n  [1]: https://i.stack.imgur.com/6bJqa.png","title":"Bazel and System Environment Variable","body":"<p>I am building my Java project with Bazel. I want to use environment variables at build/run time. According to the <a href=\"https://bazel.build/designs/2016/06/21/environment.html\" rel=\"nofollow noreferrer\">documentation</a> <code>--action_env=APP_ENV=Development</code> should work.</p>\n<p>So I do <code>bazel run myproject:app --action_env=APP_ENV=Development</code></p>\n<p>But <code>System.getenv(&quot;APP_ENV&quot;);</code> is null</p>\n<p>In my IntelliJ IDE, I have the following. Neither <code>--action_env=APP_ENV=Development</code> nor <code>--action_env APP_ENV=Development</code> work.</p>\n<p><a href=\"https://i.stack.imgur.com/6bJqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6bJqa.png\" alt=\"Using IntelliJ\" /></a></p>\n<p>Did I get something wrong here?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1690781332,"post_id":76800810,"comment_id":135395383,"body_markdown":"I am not sure about the use case. A JTextField is not designed to host a button. Would it help if you render the button over the text field?","body":"I am not sure about the use case. A JTextField is not designed to host a button. Would it help if you render the button over the text field?"},{"owner":{"account_id":23078737,"reputation":11,"user_id":17191335,"display_name":"Hellthinky"},"score":0,"creation_date":1690782275,"post_id":76800810,"comment_id":135395494,"body_markdown":"that&#39;s not gonna help","body":"that&#39;s not gonna help"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690810571,"post_id":76800810,"comment_id":135400765,"body_markdown":"You could use the [Component Border](https://tips4java.wordpress.com/2009/09/27/component-border/) approach which allows you to replace the default Border of the text field with a Border that contains a button.","body":"You could use the <a href=\"https://tips4java.wordpress.com/2009/09/27/component-border/\" rel=\"nofollow noreferrer\">Component Border</a> approach which allows you to replace the default Border of the text field with a Border that contains a button."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1690816494,"post_id":76800810,"comment_id":135402175,"body_markdown":"ComponentBorder is an interesting approach. It might be applicable to SplitButton, where a button has a side button...","body":"ComponentBorder is an interesting approach. It might be applicable to SplitButton, where a button has a side button..."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1690834535,"post_id":76800810,"comment_id":135405584,"body_markdown":"@Hellthinky *The issue is solved.* - then accept the answer that solved the problem or post your own solution.  *Now stuck on another issue* - one question per posting. Ask a new question.","body":"@Hellthinky <i>The issue is solved.</i> - then accept the answer that solved the problem or post your own solution.  <i>Now stuck on another issue</i> - one question per posting. Ask a new question."}],"answers":[{"tags":[],"owner":{"account_id":29115787,"reputation":11,"user_id":22304517,"display_name":"Omkar Arankalle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690780987,"creation_date":1690780987,"answer_id":76800848,"question_id":76800810,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // Your existing code for JTextField (license)...\r\n\r\n    // Create a JPanel to hold the JTextField and the JButton\r\n    JPanel textFieldPanel = new JPanel();\r\n    textFieldPanel.setLayout(new BorderLayout());\r\n\r\n    // Add the JTextField to the panel\r\n    textFieldPanel.add(license, BorderLayout.CENTER);\r\n\r\n    // Create a JButton and add it to the panel\r\n    JButton connect = new JButton(&quot;Connect&quot;);\r\n    connect.setFocusPainted(false);\r\n    connect.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n    connect.setBorder(null);\r\n    connect.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n    connect.setForeground(Color.BLACK);\r\n    connect.setBackground(new Color(240, 185, 11));\r\n    textFieldPanel.add(connect, BorderLayout.EAST);\r\n\r\n    // Set the preferred size for the panel to adjust the width of the JTextField and the JButton\r\n    textFieldPanel.setPreferredSize(new Dimension(480, 60));\r\n\r\n    // Add the panel to your contentPane\r\n    textFieldPanel.setBounds(115, 248, 480, 60);\r\n    contentPane.add(textFieldPanel);\r\n\r\n    // Rest of your code...\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ntry this ","title":"JButton inside a JTextField","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Your existing code for JTextField (license)...\n\n// Create a JPanel to hold the JTextField and the JButton\nJPanel textFieldPanel = new JPanel();\ntextFieldPanel.setLayout(new BorderLayout());\n\n// Add the JTextField to the panel\ntextFieldPanel.add(license, BorderLayout.CENTER);\n\n// Create a JButton and add it to the panel\nJButton connect = new JButton(\"Connect\");\nconnect.setFocusPainted(false);\nconnect.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\nconnect.setBorder(null);\nconnect.setFont(new Font(\"SansSerif\", Font.BOLD, 12));\nconnect.setForeground(Color.BLACK);\nconnect.setBackground(new Color(240, 185, 11));\ntextFieldPanel.add(connect, BorderLayout.EAST);\n\n// Set the preferred size for the panel to adjust the width of the JTextField and the JButton\ntextFieldPanel.setPreferredSize(new Dimension(480, 60));\n\n// Add the panel to your contentPane\ntextFieldPanel.setBounds(115, 248, 480, 60);\ncontentPane.add(textFieldPanel);\n\n// Rest of your code...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>try this</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690799586,"creation_date":1690798773,"answer_id":76802659,"question_id":76800810,"body_markdown":"Thank you for posting the screenshot as well as your code. Having both makes this much easier to help you.\r\n\r\nIf you are fine with a slight compromise, then this is very easy to do in Java. Rather than put the button inside of the text field, just make it *look* like the button is inside of the text field. If you are fine with that, here is what you can do.\r\n\r\n```java\r\n\r\n   private JPanel createContent()\r\n   {\r\n   \r\n      final JPanel panel = new JPanel();\r\n      panel.setBackground(Color.BLACK);\r\n      panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW));\r\n   \r\n      final JTextField textField = new JTextField();\r\n      textField.setBackground(Color.BLACK);\r\n      textField.setForeground(Color.WHITE);\r\n      textField.setText(&quot;Enter your license key&quot;);\r\n      textField.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n      textField.addMouseListener(\r\n         new MouseAdapter()\r\n         {\r\n         \r\n            public void mouseClicked(MouseEvent event)\r\n            {\r\n            \r\n               textField.selectAll();\r\n            \r\n            }\r\n         \r\n         });\r\n      \r\n      final JButton button = new JButton();\r\n      button.setBackground(Color.YELLOW);\r\n      button.setForeground(Color.WHITE);\r\n      button.setText(&quot;Connect&quot;);\r\n      \r\n      panel.add(textField);\r\n      panel.add(button);\r\n      \r\n      return panel;\r\n      \r\n   }\r\n\r\n```\r\n\r\nIn the above method, I create a panel, set its background to black, and give it a yellow border. By doing this, I am making that yellow border simulate the border of the text field.\r\n\r\nNext, I add my text field to the panel, and remove all decorations that would make the user think that the text field is smaller than the yellow border than above. That means having a black border on a black background.\r\n\r\nFinally, I add the button to the panel, then return it.\r\n\r\nHere is a complete example.\r\n\r\n```java\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\nimport java.awt.Color;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class SOQ_20230731_1\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      new SOQ_20230731_1();\r\n   \r\n   }\r\n   \r\n   public SOQ_20230731_1()\r\n   {\r\n   \r\n      final JFrame frame = new JFrame();\r\n      frame.setSize(300, 100);\r\n      frame.setLocation(100, 100);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setBackground(Color.BLACK);\r\n      \r\n      final JPanel panel = new JPanel();\r\n      \r\n      panel.setBackground(Color.BLACK);\r\n      panel.setMaximumSize(new java.awt.Dimension(100, 40));\r\n      panel.add(createContent());\r\n      \r\n      frame.add(panel);\r\n      \r\n      frame.setVisible(true);\r\n   \r\n   }\r\n   \r\n   private JPanel createContent()\r\n   {\r\n   \r\n      final JPanel panel = new JPanel();\r\n      panel.setBackground(Color.BLACK);\r\n      panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW));\r\n   \r\n      final JTextField textField = new JTextField();\r\n      textField.setBackground(Color.BLACK);\r\n      textField.setForeground(Color.WHITE);\r\n      textField.setText(&quot;Enter your license key&quot;);\r\n      textField.setBorder(BorderFactory.createEmptyBorder());\r\n      textField.addMouseListener(\r\n         new MouseAdapter()\r\n         {\r\n         \r\n            public void mouseClicked(MouseEvent event)\r\n            {\r\n            \r\n               textField.selectAll();\r\n            \r\n            }\r\n         \r\n         });\r\n      \r\n      final JButton button = new JButton();\r\n      button.setBackground(Color.YELLOW);\r\n      button.setForeground(Color.WHITE);\r\n      button.setText(&quot;Connect&quot;);\r\n      \r\n      panel.add(textField);\r\n      panel.add(button);\r\n      \r\n      return panel;\r\n      \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here is a screenshot of what you end up with.\r\n\r\n[![THE SCREENSHOT][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/hHVVx.png","title":"JButton inside a JTextField","body":"<p>Thank you for posting the screenshot as well as your code. Having both makes this much easier to help you.</p>\n<p>If you are fine with a slight compromise, then this is very easy to do in Java. Rather than put the button inside of the text field, just make it <em>look</em> like the button is inside of the text field. If you are fine with that, here is what you can do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   private JPanel createContent()\n   {\n   \n      final JPanel panel = new JPanel();\n      panel.setBackground(Color.BLACK);\n      panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW));\n   \n      final JTextField textField = new JTextField();\n      textField.setBackground(Color.BLACK);\n      textField.setForeground(Color.WHITE);\n      textField.setText(&quot;Enter your license key&quot;);\n      textField.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n      textField.addMouseListener(\n         new MouseAdapter()\n         {\n         \n            public void mouseClicked(MouseEvent event)\n            {\n            \n               textField.selectAll();\n            \n            }\n         \n         });\n      \n      final JButton button = new JButton();\n      button.setBackground(Color.YELLOW);\n      button.setForeground(Color.WHITE);\n      button.setText(&quot;Connect&quot;);\n      \n      panel.add(textField);\n      panel.add(button);\n      \n      return panel;\n      \n   }\n\n</code></pre>\n<p>In the above method, I create a panel, set its background to black, and give it a yellow border. By doing this, I am making that yellow border simulate the border of the text field.</p>\n<p>Next, I add my text field to the panel, and remove all decorations that would make the user think that the text field is smaller than the yellow border than above. That means having a black border on a black background.</p>\n<p>Finally, I add the button to the panel, then return it.</p>\n<p>Here is a complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport java.awt.Color;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class SOQ_20230731_1\n{\n\n   public static void main(String[] args)\n   {\n   \n      new SOQ_20230731_1();\n   \n   }\n   \n   public SOQ_20230731_1()\n   {\n   \n      final JFrame frame = new JFrame();\n      frame.setSize(300, 100);\n      frame.setLocation(100, 100);\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.setBackground(Color.BLACK);\n      \n      final JPanel panel = new JPanel();\n      \n      panel.setBackground(Color.BLACK);\n      panel.setMaximumSize(new java.awt.Dimension(100, 40));\n      panel.add(createContent());\n      \n      frame.add(panel);\n      \n      frame.setVisible(true);\n   \n   }\n   \n   private JPanel createContent()\n   {\n   \n      final JPanel panel = new JPanel();\n      panel.setBackground(Color.BLACK);\n      panel.setBorder(BorderFactory.createLineBorder(Color.YELLOW));\n   \n      final JTextField textField = new JTextField();\n      textField.setBackground(Color.BLACK);\n      textField.setForeground(Color.WHITE);\n      textField.setText(&quot;Enter your license key&quot;);\n      textField.setBorder(BorderFactory.createEmptyBorder());\n      textField.addMouseListener(\n         new MouseAdapter()\n         {\n         \n            public void mouseClicked(MouseEvent event)\n            {\n            \n               textField.selectAll();\n            \n            }\n         \n         });\n      \n      final JButton button = new JButton();\n      button.setBackground(Color.YELLOW);\n      button.setForeground(Color.WHITE);\n      button.setText(&quot;Connect&quot;);\n      \n      panel.add(textField);\n      panel.add(button);\n      \n      return panel;\n      \n   }\n\n}\n\n</code></pre>\n<p>And here is a screenshot of what you end up with.</p>\n<p><a href=\"https://i.stack.imgur.com/hHVVx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hHVVx.png\" alt=\"THE SCREENSHOT\" /></a></p>\n"}],"owner":{"account_id":23078737,"reputation":11,"user_id":17191335,"display_name":"Hellthinky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690903860,"creation_date":1690780421,"question_id":76800810,"body_markdown":"I&#39;m trying to make `JButton` show inside a `JTextField`. Here&#39;s my code (it&#39;s not working):\r\n\r\n```lang-java\r\n\t\tlicense = new JTextField();\r\n\t\tlicense.addFocusListener(new FocusAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void focusLost(FocusEvent e) {\r\n\t\t\t\tString licenseField = license.getText();\r\n\t\t\t\tif(licenseField.isBlank() || licenseField.isEmpty()) {\r\n\t\t\t\t\tlicense.setText(&quot;Enter your license key&quot;);\r\n\t\t\t\t\tlicense.setForeground(Color.GRAY);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tlicense.addMouseListener(new MouseAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\tString licenseField = license.getText();\r\n\t\t\t\tif(licenseField.equals(&quot;Enter your license key&quot;)) {\r\n\t\t\t\t\tlicense.setText(&quot;&quot;);\r\n\t\t\t\t\tlicense.setForeground(new Color(240, 185, 11));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tlicense.addMouseMotionListener(new MouseMotionAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t\tlicense.setFocusable(true);\r\n\t\t\t}\r\n\t\t});\r\n\t\tlicense.setFocusable(false);\r\n\t\tlicense.setBorder(null);\r\n\t\tBorder lineBorder = BorderFactory.createLineBorder(new Color(240, 185, 11), 1);\r\n\t\tBorder Padding = BorderFactory.createEmptyBorder(0, 7, 0, 0);\r\n\t\tlicense.setBorder(BorderFactory.createCompoundBorder(lineBorder, BorderFactory.createCompoundBorder(license.getBorder(), Padding)));\r\n\t\tlicense.setText(&quot;Enter your license key&quot;);\r\n\t\tlicense.setForeground(Color.GRAY);\r\n\t\tlicense.setBackground(Color.BLACK);\r\n\t\tlicense.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 12));\r\n\t\tlicense.setBounds(115, 248, 370, 60);\r\n\t\tcontentPane.add(license);\r\n\t\tlicense.setColumns(10);\r\n\t\t\r\n\t\tJButton connect = new JButton(&quot;Connect&quot;);\r\n\t\tconnect.setFocusPainted(false);\r\n\t\tconnect.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tconnect.setBorder(null);\r\n\t\tconnect.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n\t\tconnect.setForeground(Color.BLACK);\r\n\t\tconnect.setBackground(new Color(240, 185, 11));\r\n\t\tconnect.setBounds(369, 255, 109, 46);\r\n\t\tcontentPane.add(connect);\r\n```\r\n\r\nI ned to show the button inside `JTextField` and make sure when or after the user has typed something the button does not disappear again.\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9dkKR.png","title":"JButton inside a JTextField","body":"<p>I'm trying to make <code>JButton</code> show inside a <code>JTextField</code>. Here's my code (it's not working):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        license = new JTextField();\n        license.addFocusListener(new FocusAdapter() {\n            @Override\n            public void focusLost(FocusEvent e) {\n                String licenseField = license.getText();\n                if(licenseField.isBlank() || licenseField.isEmpty()) {\n                    license.setText(&quot;Enter your license key&quot;);\n                    license.setForeground(Color.GRAY);\n                }\n            }\n        });\n        license.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                String licenseField = license.getText();\n                if(licenseField.equals(&quot;Enter your license key&quot;)) {\n                    license.setText(&quot;&quot;);\n                    license.setForeground(new Color(240, 185, 11));\n                }\n            }\n        });\n        license.addMouseMotionListener(new MouseMotionAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                license.setFocusable(true);\n            }\n        });\n        license.setFocusable(false);\n        license.setBorder(null);\n        Border lineBorder = BorderFactory.createLineBorder(new Color(240, 185, 11), 1);\n        Border Padding = BorderFactory.createEmptyBorder(0, 7, 0, 0);\n        license.setBorder(BorderFactory.createCompoundBorder(lineBorder, BorderFactory.createCompoundBorder(license.getBorder(), Padding)));\n        license.setText(&quot;Enter your license key&quot;);\n        license.setForeground(Color.GRAY);\n        license.setBackground(Color.BLACK);\n        license.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 12));\n        license.setBounds(115, 248, 370, 60);\n        contentPane.add(license);\n        license.setColumns(10);\n        \n        JButton connect = new JButton(&quot;Connect&quot;);\n        connect.setFocusPainted(false);\n        connect.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        connect.setBorder(null);\n        connect.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n        connect.setForeground(Color.BLACK);\n        connect.setBackground(new Color(240, 185, 11));\n        connect.setBounds(369, 255, 109, 46);\n        contentPane.add(connect);\n</code></pre>\n<p>I ned to show the button inside <code>JTextField</code> and make sure when or after the user has typed something the button does not disappear again.</p>\n<p><img src=\"https://i.stack.imgur.com/9dkKR.png\" alt=\"Screenshot\" /></p>\n"},{"tags":["java","android","json","firebase","firebase-remote-config"],"comments":[{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":0,"creation_date":1637188780,"post_id":70012080,"comment_id":123763051,"body_markdown":"When you log `remoteConfig.getString(&quot;test_json&quot;)` itself, what do you see?","body":"When you log <code>remoteConfig.getString(&quot;test_json&quot;)</code> itself, what do you see?"},{"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"score":0,"creation_date":1637221030,"post_id":70012080,"comment_id":123769109,"body_markdown":"@samthecodingman Hi, I have modified test_json file so it is shaped as an array. Now, how can I extract the value (String &amp; Int) from the method above?","body":"@samthecodingman Hi, I have modified test_json file so it is shaped as an array. Now, how can I extract the value (String &amp; Int) from the method above?"},{"owner":{"account_id":1796123,"reputation":3966,"user_id":1635488,"accept_rate":40,"display_name":"android_dev"},"score":0,"creation_date":1637339354,"post_id":70012080,"comment_id":123808108,"body_markdown":"why does `Lessons` class contain ` String lesson;` ? it only has 2 fields in the json","body":"why does <code>Lessons</code> class contain ` String lesson;` ? it only has 2 fields in the json"},{"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"score":0,"creation_date":1637339606,"post_id":70012080,"comment_id":123808221,"body_markdown":"@android_dev Sorry. I have updated the MainActivity2 class.","body":"@android_dev Sorry. I have updated the MainActivity2 class."},{"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"score":0,"creation_date":1637344011,"post_id":70012080,"comment_id":123809808,"body_markdown":"@android_dev But I still can not get the data from the method above. Any other codes I should insert?","body":"@android_dev But I still can not get the data from the method above. Any other codes I should insert?"}],"answers":[{"tags":[],"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648374673,"creation_date":1648374673,"answer_id":71635281,"question_id":70012080,"body_markdown":"I recommend you use Gson.\r\n\r\n```\r\ndata class Lessons(\r\n    val versionCode: String? = null,\r\n    val priorityLevel: Int? = null\r\n)\r\n```\r\n\r\nand then, use getValue() or getString() to get the data.\r\n```\r\nval list = Gson().fromJson(getValue(&quot;test_json&quot;).asString(), Array&lt;Lessons&gt;::class.java)\r\n```\r\n\r\nIn my case, getString() also worked.\r\n```\r\nval list = Gson().fromJson(getString(&quot;test_json&quot;), Array&lt;Lessons&gt;::class.java)\r\n```\r\nThis is simpler.","title":"How to Get Value from JSON in Firebase Remote Config","body":"<p>I recommend you use Gson.</p>\n<pre><code>data class Lessons(\n    val versionCode: String? = null,\n    val priorityLevel: Int? = null\n)\n</code></pre>\n<p>and then, use getValue() or getString() to get the data.</p>\n<pre><code>val list = Gson().fromJson(getValue(&quot;test_json&quot;).asString(), Array&lt;Lessons&gt;::class.java)\n</code></pre>\n<p>In my case, getString() also worked.</p>\n<pre><code>val list = Gson().fromJson(getString(&quot;test_json&quot;), Array&lt;Lessons&gt;::class.java)\n</code></pre>\n<p>This is simpler.</p>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665169554,"creation_date":1665101076,"answer_id":73981084,"question_id":70012080,"body_markdown":"For me worked like that\r\n\r\n\timport com.google.gson.annotations.SerializedName\r\n\r\n\tdata class VersionData(\r\n\t\t@SerializedName(&quot;name&quot;)\r\n\t\tval name: String,\r\n\t\t@SerializedName(&quot;age&quot;)\r\n\t\tvar age: Int,\r\n\t\t@SerializedName(&quot;isFemale&quot;)\r\n\t\tvar isFemale: Boolean\r\n\t)\r\n\r\n\tinit {\r\n\t\tremoteConfig.fetchAndActivate()\r\n\t}\r\n\r\n\tprivate val _mutableLiveData = MutableLiveData&lt;VersionData&gt;()\r\n\tval remoteLiveData: LiveData&lt;VersionData&gt; = _mutableLiveData\r\n\tfun remoteConfiguration() {\r\n\t\tval gson = Gson()\r\n\t\tval remote = remoteConfig.fetchAndActivate()\r\n\t\tremote.addOnSuccessListener{\r\n\t\t\tval stringJson = remoteConfig.getString(&quot;json_object_name&quot;)\r\n           if(stringJson.isNotEmpty()){\r\n             val jsonModel = gson.fromJson(stringJson, VersionData::class.java)\r\n\t\t\t  _mutableLiveData.value = VersionData(\r\n\t\t\t\t  name = jsonModel.name,\r\n\t\t\t\t  age = jsonModel.age,\r\n\t\t\t\t  isFemale = jsonModel.isFemale\r\n\t\t\t  )\r\n           }else{\r\n              // probably your remote param not exists\r\n            }\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nso observe in compose\r\n\r\n    val localLifecycle = LocalLifecycleOwner.current\r\n    myViewModel.remoteLiveData.observe(localLifecycle){\r\n     Log.d(&quot;remoteLiveData&quot;, &quot;remoteLiveData: $it&quot;)\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kWLgm.jpg","title":"How to Get Value from JSON in Firebase Remote Config","body":"<p>For me worked like that</p>\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class VersionData(\n    @SerializedName(&quot;name&quot;)\n    val name: String,\n    @SerializedName(&quot;age&quot;)\n    var age: Int,\n    @SerializedName(&quot;isFemale&quot;)\n    var isFemale: Boolean\n)\n\ninit {\n    remoteConfig.fetchAndActivate()\n}\n\nprivate val _mutableLiveData = MutableLiveData&lt;VersionData&gt;()\nval remoteLiveData: LiveData&lt;VersionData&gt; = _mutableLiveData\nfun remoteConfiguration() {\n    val gson = Gson()\n    val remote = remoteConfig.fetchAndActivate()\n    remote.addOnSuccessListener{\n        val stringJson = remoteConfig.getString(&quot;json_object_name&quot;)\n       if(stringJson.isNotEmpty()){\n         val jsonModel = gson.fromJson(stringJson, VersionData::class.java)\n          _mutableLiveData.value = VersionData(\n              name = jsonModel.name,\n              age = jsonModel.age,\n              isFemale = jsonModel.isFemale\n          )\n       }else{\n          // probably your remote param not exists\n        }           \n    }\n}\n</code></pre>\n<p>so observe in compose</p>\n<pre><code>val localLifecycle = LocalLifecycleOwner.current\nmyViewModel.remoteLiveData.observe(localLifecycle){\n Log.d(&quot;remoteLiveData&quot;, &quot;remoteLiveData: $it&quot;)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kWLgm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWLgm.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21489361,"reputation":196,"user_id":15835391,"display_name":"Gedanggoreng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7837,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73981084,"answer_count":2,"score":5,"last_activity_date":1690903846,"creation_date":1637186245,"question_id":70012080,"body_markdown":"I am a novice to Android app development and Firebase.\r\n\r\nI want to know how can I get the value (String &amp; Int) in the JSONArray file stored in Firebase Remote Config.\r\n\r\nI use Firebase Remote Config with the final goal to compare my app&#39;s version code and priority level with the one stored in Firebase Remote Config to determine the initiation of App Update notification, but so far I am still unable to get the Remote Config value.\r\n\r\nI tried to parse the JSON using Volley (jsonParse in MainActivity2 class), but it also didn&#39;t work. (Error bad URL)\r\n\r\nI have several times tried to implement previous answers, but maybe because of my misunderstanding, all those came to no avail.\r\n\r\n&lt;https://stackoverflow.com/questions/42201937/can-i-declare-an-array-to-firebase-remote-config&gt;\r\n\r\n&lt;https://stackoverflow.com/questions/47199074/can-i-get-jsonobject-from-default-value-of-firebase-remote-config&gt;\r\n\r\n&lt;https://stackoverflow.com/questions/66048441/firebaseremoteconfig-getstring-is-empty&gt;\r\n\r\nI also have read this interesting article about implementing in-app update notifications with some specific criteria using Remote Config, but unfortunately for me, the codes are written in Kotlin.\r\n\r\n&lt;https://engineering.q42.nl/android-in-app-updates/&gt;\r\n\r\n\r\n`test_json` file stored in Firebase Remote Config.\r\n\r\n    [\r\n      {\r\n        &quot;versionCode&quot;: &quot;1&quot;,\r\n        &quot;priorityLevel&quot;: 2\r\n      },\r\n      {\r\n        &quot;versionCode&quot;: &quot;2&quot;,\r\n        &quot;priorityLevel&quot;: 4\r\n      },\r\n      {\r\n        &quot;versionCode&quot;: &quot;3&quot;,\r\n        &quot;priorityLevel&quot;: 1\r\n      }\r\n    ]\r\n\r\n`MainActivity2` class\r\n\r\n            remoteConfig = FirebaseRemoteConfig.getInstance();\r\n            FirebaseRemoteConfigSettings configSettings = new FirebaseRemoteConfigSettings.Builder()\r\n                    .setFetchTimeoutInSeconds(2000)\r\n                    .build();\r\n            remoteConfig.setConfigSettingsAsync(configSettings);\r\n\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    remoteConfig.fetchAndActivate().addOnCompleteListener(new OnCompleteListener&lt;Boolean&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Boolean&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                String object = remoteConfig.getString(&quot;test_json&quot;);\r\n                                //jsonParse(object);\r\n                                Gson gson = new GsonBuilder().create();\r\n                                ArrayList&lt;Lessons&gt; lessons = gson.fromJson(object, \r\n                                     new TypeToken&lt;List&lt;Lessons&gt;&gt;(){}.getType());\r\n    \r\n                            } else {\r\n                                Toast.makeText(MainActivity2.this, &quot;Fetch Failed!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            private void jsonParse(String object) {\r\n                    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, object, null,\r\n                        new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            try {\r\n                                JSONArray jsonArray = response.getJSONArray(&quot;condition&quot;);\r\n    \r\n                                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                                    JSONObject condition = jsonArray.getJSONObject(i);\r\n    \r\n                                    String versionCode = condition.getString(&quot;versionCode&quot;);\r\n                                    int priorityLevel = condition.getInt(&quot;priorityLevel&quot;);\r\n    \r\n                                    textView.append(versionCode + &quot;\\n\\n&quot;);\r\n                                }\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    error.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            mQueue.add(request);\r\n        }\r\n\r\n`Lessons` class\r\n    \r\n    public class Lessons {\r\n        String versionCode;\r\n        Int priorityLevel;\r\n    }\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThank you.","title":"How to Get Value from JSON in Firebase Remote Config","body":"<p>I am a novice to Android app development and Firebase.</p>\n<p>I want to know how can I get the value (String &amp; Int) in the JSONArray file stored in Firebase Remote Config.</p>\n<p>I use Firebase Remote Config with the final goal to compare my app's version code and priority level with the one stored in Firebase Remote Config to determine the initiation of App Update notification, but so far I am still unable to get the Remote Config value.</p>\n<p>I tried to parse the JSON using Volley (jsonParse in MainActivity2 class), but it also didn't work. (Error bad URL)</p>\n<p>I have several times tried to implement previous answers, but maybe because of my misunderstanding, all those came to no avail.</p>\n<p><a href=\"https://stackoverflow.com/questions/42201937/can-i-declare-an-array-to-firebase-remote-config\">Can I declare an array to Firebase Remote config?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/47199074/can-i-get-jsonobject-from-default-value-of-firebase-remote-config\">Can I get JSONObject from Default value of Firebase Remote Config</a></p>\n<p><a href=\"https://stackoverflow.com/questions/66048441/firebaseremoteconfig-getstring-is-empty\">FirebaseRemoteConfig getString is empty</a></p>\n<p>I also have read this interesting article about implementing in-app update notifications with some specific criteria using Remote Config, but unfortunately for me, the codes are written in Kotlin.</p>\n<p><a href=\"https://engineering.q42.nl/android-in-app-updates/\" rel=\"nofollow noreferrer\">https://engineering.q42.nl/android-in-app-updates/</a></p>\n<p><code>test_json</code> file stored in Firebase Remote Config.</p>\n<pre><code>[\n  {\n    &quot;versionCode&quot;: &quot;1&quot;,\n    &quot;priorityLevel&quot;: 2\n  },\n  {\n    &quot;versionCode&quot;: &quot;2&quot;,\n    &quot;priorityLevel&quot;: 4\n  },\n  {\n    &quot;versionCode&quot;: &quot;3&quot;,\n    &quot;priorityLevel&quot;: 1\n  }\n]\n</code></pre>\n<p><code>MainActivity2</code> class</p>\n<pre><code>        remoteConfig = FirebaseRemoteConfig.getInstance();\n        FirebaseRemoteConfigSettings configSettings = new FirebaseRemoteConfigSettings.Builder()\n                .setFetchTimeoutInSeconds(2000)\n                .build();\n        remoteConfig.setConfigSettingsAsync(configSettings);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                remoteConfig.fetchAndActivate().addOnCompleteListener(new OnCompleteListener&lt;Boolean&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Boolean&gt; task) {\n                        if (task.isSuccessful()) {\n                            String object = remoteConfig.getString(&quot;test_json&quot;);\n                            //jsonParse(object);\n                            Gson gson = new GsonBuilder().create();\n                            ArrayList&lt;Lessons&gt; lessons = gson.fromJson(object, \n                                 new TypeToken&lt;List&lt;Lessons&gt;&gt;(){}.getType());\n\n                        } else {\n                            Toast.makeText(MainActivity2.this, &quot;Fetch Failed!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n        });\n\n        private void jsonParse(String object) {\n                JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, object, null,\n                    new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try {\n                            JSONArray jsonArray = response.getJSONArray(&quot;condition&quot;);\n\n                            for (int i = 0; i &lt; jsonArray.length(); i++) {\n                                JSONObject condition = jsonArray.getJSONObject(i);\n\n                                String versionCode = condition.getString(&quot;versionCode&quot;);\n                                int priorityLevel = condition.getInt(&quot;priorityLevel&quot;);\n\n                                textView.append(versionCode + &quot;\\n\\n&quot;);\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n            }\n        });\n\n        mQueue.add(request);\n    }\n</code></pre>\n<p><code>Lessons</code> class</p>\n<pre><code>public class Lessons {\n    String versionCode;\n    Int priorityLevel;\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","gradle","freemarker"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690893296,"post_id":76811629,"comment_id":135414035,"body_markdown":"*`System.out.println(result);`* is your console set up for UTF-8? If not, it will print garbage","body":"<i><code>System.out.println(result);</code></i> is your console set up for UTF-8? If not, it will print garbage"},{"owner":{"account_id":9421930,"reputation":443,"user_id":7008101,"accept_rate":85,"display_name":"milkamar"},"score":0,"creation_date":1690893650,"post_id":76811629,"comment_id":135414117,"body_markdown":"it&#39;s not and I can&#39;t find any simple way how to set it. Is there any JVM setting for that?","body":"it&#39;s not and I can&#39;t find any simple way how to set it. Is there any JVM setting for that?"},{"owner":{"account_id":9421930,"reputation":443,"user_id":7008101,"accept_rate":85,"display_name":"milkamar"},"score":0,"creation_date":1690895159,"post_id":76811629,"comment_id":135414468,"body_markdown":"you are right! I tried storing the resulting string into an utf-8 encoded file with FileWriter  and it worked fine. So, the problem was indeed printing the string with system.out. If you post this as answer, I will accept it.","body":"you are right! I tried storing the resulting string into an utf-8 encoded file with FileWriter  and it worked fine. So, the problem was indeed printing the string with system.out. If you post this as answer, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690903773,"creation_date":1690897601,"answer_id":76812293,"question_id":76811629,"body_markdown":"Your problem is that the console you are using is not set up to print out utf-8 properly. You should be able to do this in PowerShell but at the moment I am finding it difficult to find out the way to do this.\r\n\r\nUpdate: the following worked for me, using PowerShell for my Java console:\r\n`$OutputEncoding = [Console]::InputEncoding = [Console]::OutputEncoding = New-Object System.Text.UTF8Encoding`\r\nExecuted code:\r\n`System.out.println(new Vehicle(&quot;koloběžka&quot;, 5));`\r\nOutput:\r\n```\r\nPS C:\\Users\\goose&gt; java Vehicle\r\nname=koloběžka,id=5\r\nPS C:\\Users\\goose&gt; \r\n```\r\n","title":"Why does setting freemarkers&#39; default encoding break reading template (everything is in utf-8)?","body":"<p>Your problem is that the console you are using is not set up to print out utf-8 properly. You should be able to do this in PowerShell but at the moment I am finding it difficult to find out the way to do this.</p>\n<p>Update: the following worked for me, using PowerShell for my Java console:\n<code>$OutputEncoding = [Console]::InputEncoding = [Console]::OutputEncoding = New-Object System.Text.UTF8Encoding</code>\nExecuted code:\n<code>System.out.println(new Vehicle(&quot;koloběžka&quot;, 5));</code>\nOutput:</p>\n<pre><code>PS C:\\Users\\goose&gt; java Vehicle\nname=koloběžka,id=5\nPS C:\\Users\\goose&gt; \n</code></pre>\n"}],"owner":{"account_id":9421930,"reputation":443,"user_id":7008101,"accept_rate":85,"display_name":"milkamar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76812293,"answer_count":1,"score":1,"last_activity_date":1690903773,"creation_date":1690892936,"question_id":76811629,"body_markdown":"I have a spring boot project with gradle kts, and I am using the standalone freemarker library `implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)` for templating texts for frontend.\r\n\r\nI put together the following code:\r\n\r\n    Configuration cfg = new Configuration(Configuration.VERSION_2_3_32);\r\n    cfg.setDirectoryForTemplateLoading(new ClassPathResource(&quot;templates&quot;).getFile());\r\n    cfg.setDefaultEncoding(&quot;utf-8&quot;);\r\n    cfg.setOutputEncoding(&quot;utf-8&quot;);\r\n    \r\n    Template template = cfg.getTemplate(&quot;template.ftl&quot;);\r\n    System.out.println(&quot;template=&quot; + template);\r\n    \r\n    Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;vehicles&quot;, List.of(new Vehicle(&quot;auto&quot;, 60), new Vehicle(&quot;koloběžka&quot;, 5)));\r\n    \r\n    StringWriter stringWriter = new StringWriter();\r\n    template.process(data, stringWriter);\r\n    String result = stringWriter.toString();\r\n    \r\n    System.out.println(result);\r\n\r\nTemplate file `template.ftl` contains (for testing purpuses):\r\n\r\n    jůůů\r\n\r\nBoth the data I am passing to the template (&quot;koloběžka&quot;) and the template itself (&quot;jůůů&quot;) contain czech characters.\r\n\r\n**Problem**&lt;br&gt;\r\nThe template file&#39;s encoding is `utf-8` (at least that&#39;s what I see in intellj).&lt;br&gt;\r\nIf I don&#39;t set default encoding on the `Configuration` object, it uses the one from my locale (I guess), and that&#39;s &quot;`windows-1250`&quot;. Then the template is printed (the line with `template=`) correctly (diacritics). &lt;br&gt;\r\nBut if I set the default encoding explicitly to `utf-8`, the line prints `j���`.\r\n\r\n**Question**&lt;br&gt;\r\nHow is that possible?&lt;br&gt;\r\nI would assume that if both the template and the `Configuration` use `utf-8`, then diacritics should be red correctly.&lt;br&gt;\r\nAnd the other way bothers me as well - how is it possible that the encoding `windows-1250` the `Configuration` object uses by default is able to read diacritics from the `utf-8` encoded file well?","title":"Why does setting freemarkers&#39; default encoding break reading template (everything is in utf-8)?","body":"<p>I have a spring boot project with gradle kts, and I am using the standalone freemarker library <code>implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)</code> for templating texts for frontend.</p>\n<p>I put together the following code:</p>\n<pre><code>Configuration cfg = new Configuration(Configuration.VERSION_2_3_32);\ncfg.setDirectoryForTemplateLoading(new ClassPathResource(&quot;templates&quot;).getFile());\ncfg.setDefaultEncoding(&quot;utf-8&quot;);\ncfg.setOutputEncoding(&quot;utf-8&quot;);\n\nTemplate template = cfg.getTemplate(&quot;template.ftl&quot;);\nSystem.out.println(&quot;template=&quot; + template);\n\nMap&lt;String, Object&gt; data = new HashMap&lt;&gt;();\ndata.put(&quot;vehicles&quot;, List.of(new Vehicle(&quot;auto&quot;, 60), new Vehicle(&quot;koloběžka&quot;, 5)));\n\nStringWriter stringWriter = new StringWriter();\ntemplate.process(data, stringWriter);\nString result = stringWriter.toString();\n\nSystem.out.println(result);\n</code></pre>\n<p>Template file <code>template.ftl</code> contains (for testing purpuses):</p>\n<pre><code>jůůů\n</code></pre>\n<p>Both the data I am passing to the template (&quot;koloběžka&quot;) and the template itself (&quot;jůůů&quot;) contain czech characters.</p>\n<p><strong>Problem</strong><br>\nThe template file's encoding is <code>utf-8</code> (at least that's what I see in intellj).<br>\nIf I don't set default encoding on the <code>Configuration</code> object, it uses the one from my locale (I guess), and that's &quot;<code>windows-1250</code>&quot;. Then the template is printed (the line with <code>template=</code>) correctly (diacritics). <br>\nBut if I set the default encoding explicitly to <code>utf-8</code>, the line prints <code>j���</code>.</p>\n<p><strong>Question</strong><br>\nHow is that possible?<br>\nI would assume that if both the template and the <code>Configuration</code> use <code>utf-8</code>, then diacritics should be red correctly.<br>\nAnd the other way bothers me as well - how is it possible that the encoding <code>windows-1250</code> the <code>Configuration</code> object uses by default is able to read diacritics from the <code>utf-8</code> encoded file well?</p>\n"},{"tags":["java","spring","static","autowired"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1373908664,"post_id":17659875,"comment_id":25720675,"body_markdown":"A static method cannot reference a non-static/instance field.","body":"A static method cannot reference a non-static/instance field."},{"owner":{"account_id":445461,"reputation":2053,"user_id":837936,"accept_rate":56,"display_name":"Taks"},"score":33,"creation_date":1373908929,"post_id":17659875,"comment_id":25720800,"body_markdown":"that is why I created this thread, is there a way that Autowired instance could be accessed from within static method...","body":"that is why I created this thread, is there a way that Autowired instance could be accessed from within static method..."},{"owner":{"account_id":6963994,"reputation":148,"user_id":5450721,"display_name":"user59290"},"score":0,"creation_date":1589362765,"post_id":17659875,"comment_id":109260986,"body_markdown":"Why is using @Autowired in static method wrong?","body":"Why is using @Autowired in static method wrong?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1373909137,"creation_date":1373909137,"answer_id":17660129,"question_id":17659875,"body_markdown":"What you can do is `@Autowired` a setter method and have it set a new static field.\r\n\r\n    public class Boo {\r\n        @Autowired\r\n        Foo foo;\r\n        \r\n        static Foo staticFoo;   \r\n    \r\n        @Autowired\r\n        public void setStaticFoo(Foo foo) {\r\n            Boo.staticFoo = foo;\r\n        }\r\n    \r\n        public static void randomMethod() {\r\n             staticFoo.doStuff();\r\n        }\r\n    }\r\n\r\nWhen the bean gets processed, Spring will inject a `Foo` implementation instance into the instance field `foo`. It will then also inject the same `Foo` instance into the `setStaticFoo()` argument list, which will be used to set the static field. \r\n\r\nThis is a terrible workaround and will fail if you try to use `randomMethod()` before Spring has processed an instance of `Boo`.","title":"@Autowired and static method","body":"<p>What you can do is <code>@Autowired</code> a setter method and have it set a new static field.</p>\n\n<pre><code>public class Boo {\n    @Autowired\n    Foo foo;\n\n    static Foo staticFoo;   \n\n    @Autowired\n    public void setStaticFoo(Foo foo) {\n        Boo.staticFoo = foo;\n    }\n\n    public static void randomMethod() {\n         staticFoo.doStuff();\n    }\n}\n</code></pre>\n\n<p>When the bean gets processed, Spring will inject a <code>Foo</code> implementation instance into the instance field <code>foo</code>. It will then also inject the same <code>Foo</code> instance into the <code>setStaticFoo()</code> argument list, which will be used to set the static field. </p>\n\n<p>This is a terrible workaround and will fail if you try to use <code>randomMethod()</code> before Spring has processed an instance of <code>Boo</code>.</p>\n"},{"tags":[],"owner":{"account_id":379421,"reputation":10229,"user_id":732771,"accept_rate":100,"display_name":"Jean-Philippe Bond"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690903695,"creation_date":1373909151,"answer_id":17660133,"question_id":17659875,"body_markdown":"It is not the best but you can get the bean by using the `ApplicationContextAware` interface. Something like :\r\n    \r\n    public class Boo implements ApplicationContextAware {\r\n\r\n        private static ApplicationContext appContext;\r\n    \r\n        @Autowired\r\n        Foo foo;\r\n    \r\n        public static void randomMethod() {\r\n             Foo fooInstance = appContext.getBean(Foo.class);\r\n             fooInstance.doStuff();\r\n        }\r\n\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext appContext) {\r\n            Boo.appContext = appContext;\r\n        }\r\n    }","title":"@Autowired and static method","body":"<p>It is not the best but you can get the bean by using the <code>ApplicationContextAware</code> interface. Something like :</p>\n<pre><code>public class Boo implements ApplicationContextAware {\n\n    private static ApplicationContext appContext;\n\n    @Autowired\n    Foo foo;\n\n    public static void randomMethod() {\n         Foo fooInstance = appContext.getBean(Foo.class);\n         fooInstance.doStuff();\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext appContext) {\n        Boo.appContext = appContext;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1373917418,"creation_date":1373909197,"answer_id":17660150,"question_id":17659875,"body_markdown":"You have to workaround this via static application context accessor approach:\r\n\r\n    @Component\r\n    public class StaticContextAccessor {\r\n\r\n        private static StaticContextAccessor instance;\r\n\r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n\r\n        @PostConstruct\r\n        public void registerInstance() {\r\n            instance = this;\r\n        }\r\n\r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n            return instance.applicationContext.getBean(clazz);\r\n        }\r\n\r\n    }\r\n\r\nThen you can access bean instances in a static manner.\r\n\r\n    public class Boo {\r\n    \r\n        public static void randomMethod() {\r\n             StaticContextAccessor.getBean(Foo.class).doStuff();\r\n        }\r\n\r\n    }","title":"@Autowired and static method","body":"<p>You have to workaround this via static application context accessor approach:</p>\n\n<pre><code>@Component\npublic class StaticContextAccessor {\n\n    private static StaticContextAccessor instance;\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    @PostConstruct\n    public void registerInstance() {\n        instance = this;\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        return instance.applicationContext.getBean(clazz);\n    }\n\n}\n</code></pre>\n\n<p>Then you can access bean instances in a static manner.</p>\n\n<pre><code>public class Boo {\n\n    public static void randomMethod() {\n         StaticContextAccessor.getBean(Foo.class).doStuff();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":199,"is_accepted":true,"score":199,"last_activity_date":1373910499,"creation_date":1373910499,"answer_id":17660550,"question_id":17659875,"body_markdown":"You can do this by following one of the solutions:\r\n\r\n## Using constructor @Autowired ##\r\n\r\nThis approach will construct the bean requiring some beans as constructor parameters. Within the constructor code you set the static field with the value got as parameter for constructor execution. Sample:\r\n\r\n    @Component\r\n    public class Boo {\r\n\r\n        private static Foo foo;\r\n\r\n        @Autowired\r\n        public Boo(Foo foo) {\r\n            Boo.foo = foo;\r\n        }\r\n    \r\n        public static void randomMethod() {\r\n             foo.doStuff();\r\n        }\r\n    }\r\n\r\n## Using @PostConstruct to hand value over to static field ##\r\n\r\nThe idea here is to hand over a bean to a static field after bean is configured by spring.\r\n\r\n    @Component\r\n    public class Boo {\r\n\r\n        private static Foo foo;\r\n        @Autowired\r\n        private Foo tFoo;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            Boo.foo = tFoo;\r\n        }\r\n\r\n        public static void randomMethod() {\r\n             foo.doStuff();\r\n        }\r\n    }","title":"@Autowired and static method","body":"<p>You can do this by following one of the solutions:</p>\n\n<h2>Using constructor @Autowired</h2>\n\n<p>This approach will construct the bean requiring some beans as constructor parameters. Within the constructor code you set the static field with the value got as parameter for constructor execution. Sample:</p>\n\n<pre><code>@Component\npublic class Boo {\n\n    private static Foo foo;\n\n    @Autowired\n    public Boo(Foo foo) {\n        Boo.foo = foo;\n    }\n\n    public static void randomMethod() {\n         foo.doStuff();\n    }\n}\n</code></pre>\n\n<h2>Using @PostConstruct to hand value over to static field</h2>\n\n<p>The idea here is to hand over a bean to a static field after bean is configured by spring.</p>\n\n<pre><code>@Component\npublic class Boo {\n\n    private static Foo foo;\n    @Autowired\n    private Foo tFoo;\n\n    @PostConstruct\n    public void init() {\n        Boo.foo = tFoo;\n    }\n\n    public static void randomMethod() {\n         foo.doStuff();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4560465,"reputation":5,"user_id":3702964,"display_name":"Vijay"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1401797481,"creation_date":1401797481,"answer_id":24014887,"question_id":17659875,"body_markdown":"Use AppContext. Make sure you create a bean in your context file.\r\n\r\n\r\n    \r\n    private final static Foo foo = AppContext.getApplicationContext().getBean(Foo.class);\r\n\r\n    public static void randomMethod() {\r\n         foo.doStuff();\r\n    }\r\n","title":"@Autowired and static method","body":"<p>Use AppContext. Make sure you create a bean in your context file.</p>\n\n<pre><code>private final static Foo foo = AppContext.getApplicationContext().getBean(Foo.class);\n\npublic static void randomMethod() {\n     foo.doStuff();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452166,"reputation":4446,"user_id":848454,"accept_rate":63,"display_name":"Hashken"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551412319,"creation_date":1551412319,"answer_id":54937696,"question_id":17659875,"body_markdown":"This builds upon [@Pavel&#39;s answer][1], to solve the possibility of Spring context not being initialized when accessing from the static getBean method:\r\n    \r\n    @Component\r\n    public class Spring {\r\n      private static final Logger LOG = LoggerFactory.getLogger (Spring.class);\r\n    \r\n      private static Spring spring;\r\n    \r\n      @Autowired\r\n      private ApplicationContext context;\r\n    \r\n      @PostConstruct\r\n      public void registerInstance () {\r\n        spring = this;\r\n      }\r\n    \r\n      private Spring (ApplicationContext context) {\r\n        this.context = context;\r\n      }\r\n    \r\n      private static synchronized void initContext () {\r\n        if (spring == null) {\r\n          LOG.info (&quot;Initializing Spring Context...&quot;);\r\n          ApplicationContext context = new AnnotationConfigApplicationContext (io.zeniq.spring.BaseConfig.class);\r\n          spring = new Spring (context);\r\n        }\r\n      }\r\n    \r\n      public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; className) throws BeansException {\r\n        initContext();\r\n        return spring.context.getBean(name, className);\r\n      }\r\n    \r\n      public static &lt;T&gt; T getBean(Class&lt;T&gt; className) throws BeansException {\r\n        initContext();\r\n        return spring.context.getBean(className);\r\n      }\r\n    \r\n      public static AutowireCapableBeanFactory getBeanFactory() throws IllegalStateException {\r\n        initContext();\r\n        return spring.context.getAutowireCapableBeanFactory ();\r\n      }\r\n    }\r\n\r\nThe important piece here is the `initContext` method. It ensures that the context will always get initialized. But, do note that `initContext` will be a point of contention in your code as it is synchronized. If your application is heavily parallelized (for eg: the backend of a high traffic site), this might not be a good solution for you.\r\n\r\n  [1]: https://stackoverflow.com/a/17660150/848454","title":"@Autowired and static method","body":"<p>This builds upon <a href=\"https://stackoverflow.com/a/17660150/848454\">@Pavel's answer</a>, to solve the possibility of Spring context not being initialized when accessing from the static getBean method:</p>\n\n<pre><code>@Component\npublic class Spring {\n  private static final Logger LOG = LoggerFactory.getLogger (Spring.class);\n\n  private static Spring spring;\n\n  @Autowired\n  private ApplicationContext context;\n\n  @PostConstruct\n  public void registerInstance () {\n    spring = this;\n  }\n\n  private Spring (ApplicationContext context) {\n    this.context = context;\n  }\n\n  private static synchronized void initContext () {\n    if (spring == null) {\n      LOG.info (\"Initializing Spring Context...\");\n      ApplicationContext context = new AnnotationConfigApplicationContext (io.zeniq.spring.BaseConfig.class);\n      spring = new Spring (context);\n    }\n  }\n\n  public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; className) throws BeansException {\n    initContext();\n    return spring.context.getBean(name, className);\n  }\n\n  public static &lt;T&gt; T getBean(Class&lt;T&gt; className) throws BeansException {\n    initContext();\n    return spring.context.getBean(className);\n  }\n\n  public static AutowireCapableBeanFactory getBeanFactory() throws IllegalStateException {\n    initContext();\n    return spring.context.getAutowireCapableBeanFactory ();\n  }\n}\n</code></pre>\n\n<p>The important piece here is the <code>initContext</code> method. It ensures that the context will always get initialized. But, do note that <code>initContext</code> will be a point of contention in your code as it is synchronized. If your application is heavily parallelized (for eg: the backend of a high traffic site), this might not be a good solution for you.</p>\n"},{"tags":[],"owner":{"account_id":21311006,"reputation":101,"user_id":15685376,"display_name":"Bludwood"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1625712082,"creation_date":1625712082,"answer_id":68294984,"question_id":17659875,"body_markdown":"The easiest way to create a static context is naturally, when the application starts up. This will prevent the need for an unnatural implementation with an additional class.\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    \r\n        private static ApplicationContext appContext;\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            appContext = SpringApplication.run(MyApplication.class, args);\r\n        }\r\n    \r\n        public static ApplicationContext getAppContext() {\r\n            return appContext;\r\n        }\r\n    }\r\n\r\nThen, anywhere you need to access a bean statically, you can use the ApplicationContext to get the instance of the class.\r\n\r\n    public class Boo {\r\n        public static void randomMethod() {\r\n             MyApplication.getAppContext()\r\n                                .getBean(Foo.class).doStuff();\r\n        }\r\n    }\r\n\r\nRegards..\r\n","title":"@Autowired and static method","body":"<p>The easiest way to create a static context is naturally, when the application starts up. This will prevent the need for an unnatural implementation with an additional class.</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    private static ApplicationContext appContext;\n\n\n    public static void main(String[] args) {\n        appContext = SpringApplication.run(MyApplication.class, args);\n    }\n\n    public static ApplicationContext getAppContext() {\n        return appContext;\n    }\n}\n</code></pre>\n<p>Then, anywhere you need to access a bean statically, you can use the ApplicationContext to get the instance of the class.</p>\n<pre><code>public class Boo {\n    public static void randomMethod() {\n         MyApplication.getAppContext()\n                            .getBean(Foo.class).doStuff();\n    }\n}\n</code></pre>\n<p>Regards..</p>\n"}],"owner":{"account_id":445461,"reputation":2053,"user_id":837936,"accept_rate":56,"display_name":"Taks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180090,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":17660550,"answer_count":7,"score":142,"last_activity_date":1690903695,"creation_date":1373908301,"question_id":17659875,"body_markdown":"I have `@Autowired` service which has to be used from within a static method. I know this is wrong but I cannot change the current design as it would require a lot of work, so I need some simple hack for that. I can&#39;t change `randomMethod()` to be non-static and I need to use this autowired bean. Any clues how to do that?\r\n\r\n    @Service\r\n    public class Foo {\r\n        public int doStuff() {\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    public class Boo {\r\n        @Autowired\r\n        Foo foo;\r\n        \r\n        public static void randomMethod() {\r\n             foo.doStuff();\r\n        }\r\n    }\r\n\r\n","title":"@Autowired and static method","body":"<p>I have <code>@Autowired</code> service which has to be used from within a static method. I know this is wrong but I cannot change the current design as it would require a lot of work, so I need some simple hack for that. I can't change <code>randomMethod()</code> to be non-static and I need to use this autowired bean. Any clues how to do that?</p>\n\n<pre><code>@Service\npublic class Foo {\n    public int doStuff() {\n        return 1;\n    }\n}\n\npublic class Boo {\n    @Autowired\n    Foo foo;\n\n    public static void randomMethod() {\n         foo.doStuff();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons-lang"],"answers":[{"tags":[],"owner":{"account_id":17238030,"reputation":41,"user_id":12481049,"display_name":"Ramya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690903687,"creation_date":1577762399,"answer_id":59539191,"question_id":59539117,"body_markdown":"1. [Apache Commons Lang][1] is a set of utility functions and reusable components that should be of use in any Java environment.\r\nThis library provides helper functions for `java.lang`.\r\n\r\n2. Package `java.lang`\r\nProvides classes that are fundamental to the design of the Java programming language.\r\n\r\n\r\nThus, referred to as Apache Common Lang. \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Why apache commons lang is &quot;lang&quot;, does lang stand for language?","body":"<ol>\n<li><p><a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> is a set of utility functions and reusable components that should be of use in any Java environment.\nThis library provides helper functions for <code>java.lang</code>.</p>\n</li>\n<li><p>Package <code>java.lang</code>\nProvides classes that are fundamental to the design of the Java programming language.</p>\n</li>\n</ol>\n<p>Thus, referred to as Apache Common Lang.</p>\n"},{"tags":[],"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577917703,"creation_date":1577762426,"answer_id":59539193,"question_id":59539117,"body_markdown":"The content of [official webiste](http://commons.apache.org/proper/commons-lang/index.html) you&#39;ve enclosed says that, this library provides **a host of helper utilities for the java.lang API**.\r\n\r\nThe `java.lang`package contains of fundamental classes of Java and its design and since the `commons-lang` is mainly designed to add additional utility and helper classes for the classes in `java.lang` package, the `-lang` postfix of this Apache library seems to be self descriptive.\r\n\r\nIn addition, the `lang` is mostly the shorthand for `language` word.\r\n\r\nEdit:  \r\nI understand a little the origin of your question, but I think, having such dilemmas is unnecessary. Having such objections could lead to &quot;why Java is named Java&quot; (no mention of cross-platform, OOP and others in the name), &quot;why Lombok...&quot;, &quot;why Gradle...&quot;, Hibernate, Spring, H2, Redis... (you should get the point).  \r\n\r\nThe 3rd party library can be named in any way as its developers wishes, the lib name is used mostly just as dependency and the more important thing is that the library should have a kind of self descriptive class names (like `NumberUtils` or `StringUtils`).\r\n","title":"Why apache commons lang is &quot;lang&quot;, does lang stand for language?","body":"<p>The content of <a href=\"http://commons.apache.org/proper/commons-lang/index.html\" rel=\"nofollow noreferrer\">official webiste</a> you've enclosed says that, this library provides <strong>a host of helper utilities for the java.lang API</strong>.</p>\n\n<p>The <code>java.lang</code>package contains of fundamental classes of Java and its design and since the <code>commons-lang</code> is mainly designed to add additional utility and helper classes for the classes in <code>java.lang</code> package, the <code>-lang</code> postfix of this Apache library seems to be self descriptive.</p>\n\n<p>In addition, the <code>lang</code> is mostly the shorthand for <code>language</code> word.</p>\n\n<p>Edit:<br>\nI understand a little the origin of your question, but I think, having such dilemmas is unnecessary. Having such objections could lead to \"why Java is named Java\" (no mention of cross-platform, OOP and others in the name), \"why Lombok...\", \"why Gradle...\", Hibernate, Spring, H2, Redis... (you should get the point).  </p>\n\n<p>The 3rd party library can be named in any way as its developers wishes, the lib name is used mostly just as dependency and the more important thing is that the library should have a kind of self descriptive class names (like <code>NumberUtils</code> or <code>StringUtils</code>).</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577767822,"creation_date":1577767822,"answer_id":59539728,"question_id":59539117,"body_markdown":"The main [Apache Commons][1] page says:\r\n\r\n &gt; *Lang:* Provides extra functionality for classes in **java.lang**.\r\n\r\nThe link you provided to the [Apache Commons Lang][2] page says:\r\n\r\n &gt; Lang provides a host of helper utilities for the **java.lang API**, notably String manipulation methods, basic numerical methods, object reflection, concurrency, creation and serialization and System properties. Additionally it contains basic enhancements to java.util.Date and a series of utilities dedicated to help with building methods, such as hashCode, toString and equals. \r\n\r\nSo, to answer your question *&quot;what&#39;s the meaning of &quot;lang&quot; in its name?&quot;*, the answer is:  \r\n**&quot;Lang&quot; refers to the core java package `java.lang`.**\r\n\r\n---\r\n\r\nFor reference, the javadoc of package [`java.lang`][3] says:\r\n\r\n &gt; Provides classes that are fundamental to the design of the Java programming **language**.\r\n\r\n\r\n  [1]: http://commons.apache.org/\r\n  [2]: http://commons.apache.org/proper/commons-lang/index.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/package-summary.html","title":"Why apache commons lang is &quot;lang&quot;, does lang stand for language?","body":"<p>The main <a href=\"http://commons.apache.org/\" rel=\"nofollow noreferrer\">Apache Commons</a> page says:</p>\n\n<blockquote>\n  <p><em>Lang:</em> Provides extra functionality for classes in <strong>java.lang</strong>.</p>\n</blockquote>\n\n<p>The link you provided to the <a href=\"http://commons.apache.org/proper/commons-lang/index.html\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> page says:</p>\n\n<blockquote>\n  <p>Lang provides a host of helper utilities for the <strong>java.lang API</strong>, notably String manipulation methods, basic numerical methods, object reflection, concurrency, creation and serialization and System properties. Additionally it contains basic enhancements to java.util.Date and a series of utilities dedicated to help with building methods, such as hashCode, toString and equals. </p>\n</blockquote>\n\n<p>So, to answer your question <em>\"what's the meaning of \"lang\" in its name?\"</em>, the answer is:<br>\n<strong>\"Lang\" refers to the core java package <code>java.lang</code>.</strong></p>\n\n<hr>\n\n<p>For reference, the javadoc of package <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.lang</code></a> says:</p>\n\n<blockquote>\n  <p>Provides classes that are fundamental to the design of the Java programming <strong>language</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":2203889,"reputation":9,"user_id":1947563,"display_name":"Chuan Liang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1690903687,"creation_date":1577761503,"question_id":59539117,"body_markdown":"I use apache commons lang lib as my favorite 3rd party lib for many years, but I don&#39;t really understand what&#39;s the meaning of &quot;lang&quot; in its name. Yesterday I thought I need another try. I tried googling for some time and read through all its official [website](http://commons.apache.org/proper/commons-lang/index.html) , got still no luck. Does anyone knows the answer to my question here?","title":"Why apache commons lang is &quot;lang&quot;, does lang stand for language?","body":"<p>I use apache commons lang lib as my favorite 3rd party lib for many years, but I don't really understand what's the meaning of &quot;lang&quot; in its name. Yesterday I thought I need another try. I tried googling for some time and read through all its official <a href=\"http://commons.apache.org/proper/commons-lang/index.html\" rel=\"nofollow noreferrer\">website</a> , got still no luck. Does anyone knows the answer to my question here?</p>\n"},{"tags":["java","spring","spring-boot","rest","apache-camel"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1663256770,"post_id":73733797,"comment_id":130201683,"body_markdown":"https://camel.apache.org/components/3.18.x/spring-summary.html ?","body":"<a href=\"https://camel.apache.org/components/3.18.x/spring-summary.html\" rel=\"nofollow noreferrer\">camel.apache.org/components/3.18.x/spring-summary.html</a> ?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1663587943,"post_id":73733797,"comment_id":130267573,"body_markdown":"@K.Nicholas Thanks, maybe I&#39;m blind but I don&#39;t see anything that would help me there","body":"@K.Nicholas Thanks, maybe I&#39;m blind but I don&#39;t see anything that would help me there"}],"answers":[{"tags":[],"owner":{"account_id":25345675,"reputation":33,"user_id":19589355,"display_name":"Glauber Dantas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690903676,"creation_date":1690903344,"answer_id":76813098,"question_id":73733797,"body_markdown":"I think this is confusing as well, and my first attempt was using `platform-http` as well.\r\n\r\nThen I found there is a `rest` component: https://camel.apache.org/components/3.18.x/rest-component.html\r\n\r\nTo have a complete setup of REST component on Camel, please refer to this answer: https://stackoverflow.com/a/28084154/19589355","title":"How to use Apache Camel platform-http with Spring Boot?","body":"<p>I think this is confusing as well, and my first attempt was using <code>platform-http</code> as well.</p>\n<p>Then I found there is a <code>rest</code> component: <a href=\"https://camel.apache.org/components/3.18.x/rest-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/rest-component.html</a></p>\n<p>To have a complete setup of REST component on Camel, please refer to this answer: <a href=\"https://stackoverflow.com/a/28084154/19589355\">https://stackoverflow.com/a/28084154/19589355</a></p>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690903676,"creation_date":1663255665,"question_id":73733797,"body_markdown":"In my opinion the Apache Camel documentation does not provide sophisticated information on how to use Apache Camel platform-http together with Spring Boot.\r\n\r\n\r\nFor example, with this route\r\n\r\n```\r\n from(&quot;platform-http:/test?httpMethodRestrict=POST&quot;)\r\n     .to(&quot;log:foo&quot;);\r\n```\r\n\r\nI&#39;m running into \r\n\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: PlatformHttpEngine is neither set on this endpoint neither found in Camel Registry or FactoryFinder.\r\n\r\n\r\nHow to specify such an PlatformHttpEngine is nowhere documented here and it reads as if it is working out of the box\r\n\r\nhttps://camel.apache.org/components/3.18.x/platform-http-component.html\r\n\r\n\r\n","title":"How to use Apache Camel platform-http with Spring Boot?","body":"<p>In my opinion the Apache Camel documentation does not provide sophisticated information on how to use Apache Camel platform-http together with Spring Boot.</p>\n<p>For example, with this route</p>\n<pre><code> from(&quot;platform-http:/test?httpMethodRestrict=POST&quot;)\n     .to(&quot;log:foo&quot;);\n</code></pre>\n<p>I'm running into</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: PlatformHttpEngine is neither set on this endpoint neither found in Camel Registry or FactoryFinder.</p>\n</blockquote>\n<p>How to specify such an PlatformHttpEngine is nowhere documented here and it reads as if it is working out of the box</p>\n<p><a href=\"https://camel.apache.org/components/3.18.x/platform-http-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/platform-http-component.html</a></p>\n"},{"tags":["java","okhttp","allure"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690893250,"post_id":76811559,"comment_id":135414026,"body_markdown":"Have you added `allure serve` and `allure generate` properties?","body":"Have you added <code>allure serve</code> and <code>allure generate</code> properties?"},{"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"score":0,"creation_date":1690894062,"post_id":76811559,"comment_id":135414219,"body_markdown":"I&#39;m not sure. How exactly and where should they be added?","body":"I&#39;m not sure. How exactly and where should they be added?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690894691,"post_id":76811559,"comment_id":135414374,"body_markdown":"Sorry, they are commands and not properties, check this out: [`allure serve`](https://docs.qameta.io/allure/#_report_generation) &amp; [`allure generate`](https://docs.qameta.io/allure/#_allurecodeception)","body":"Sorry, they are commands and not properties, check this out: <a href=\"https://docs.qameta.io/allure/#_report_generation\" rel=\"nofollow noreferrer\"><code>allure serve</code></a> &amp; <a href=\"https://docs.qameta.io/allure/#_allurecodeception\" rel=\"nofollow noreferrer\"><code>allure generate</code></a>"},{"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"score":0,"creation_date":1690894980,"post_id":76811559,"comment_id":135414436,"body_markdown":"It seems like it is, in any case, in gradle I have a method for both report and serve","body":"It seems like it is, in any case, in gradle I have a method for both report and serve"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690913803,"post_id":76811559,"comment_id":135418445,"body_markdown":"Seems to be something complex,  please [give a reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) in your question","body":"Seems to be something complex,  please <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">give a reproducible example</a> in your question"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690903435,"creation_date":1690892363,"question_id":76811559,"body_markdown":"I&#39;m trying to create allure reports on API tests.The difficulty is that I work with the OKHTTP3 library. \r\n\r\nI wrote the code as recommended and when running the tests, allure-reports is filled with data. The difficulty is that the data is in HTML format and not in XML, and as a result, when you run allureServe, the report is empty. \r\n\r\nWhat am I doing wrong and how can I fix it?\r\n```java\r\nOkHttpClient client = new OkHttpClient.Builder()\r\n                .addInterceptor(new AllureOkHttp3())\r\n                .build();\r\n```\r\nThe client is used in every request in every test.","title":"How make allure with okhttp","body":"<p>I'm trying to create allure reports on API tests.The difficulty is that I work with the OKHTTP3 library.</p>\n<p>I wrote the code as recommended and when running the tests, allure-reports is filled with data. The difficulty is that the data is in HTML format and not in XML, and as a result, when you run allureServe, the report is empty.</p>\n<p>What am I doing wrong and how can I fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>OkHttpClient client = new OkHttpClient.Builder()\n                .addInterceptor(new AllureOkHttp3())\n                .build();\n</code></pre>\n<p>The client is used in every request in every test.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582118804,"creation_date":1582118804,"answer_id":60301459,"question_id":60301303,"body_markdown":"you can re use the cart adapter just implement a recylerView into new Activity and make the cart adater object and set it into the new reyclerView and it done ","title":"How can I create new recycle views starting from a different recycle view on another activity","body":"<p>you can re use the cart adapter just implement a recylerView into new Activity and make the cart adater object and set it into the new reyclerView and it done </p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60301459,"answer_count":1,"score":0,"last_activity_date":1690903425,"creation_date":1582118312,"question_id":60301303,"body_markdown":"Can anyone explain to me how can I create a new recycle and add items to that recycle view staring from another recycle view inside another activity?\r\n\r\nBasically, I want to create a shopping cart, for now, I retrieved the data from a Firebase dataset and displayed it inside a recycle view but now I would like to send this data to the shopping cart(the shopping cart is inside another activity), I&#39;m able to send the data but I can&#39;t understand how to display the data inside the new recycle view of this new activity. I need this because I want to see the items that I added to the shopping list so then I can pay.\r\n\r\nBelow I will attach a photo to explain myself better.\r\n\r\nMy problem is that I can&#39;t understand how to add the sent data to a recycle view again in the new activity.\r\n\r\nI&#39;m new to Android, so it&#39;s the first time I&#39;m doing this thing. \r\n\r\nThank you in advance for your help.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code: \r\n\r\n**SearchItemsActivity:** \r\n\r\n```java\r\n    package com.example.ipill;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.nfc.Tag;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n\r\n    public class FirebaseSearch extends AppCompatActivity {\r\n\r\n    private EditText mSearchField;\r\n    private ImageButton mSearchBtn;\r\n    private ImageButton AddToCart;\r\n    private ImageButton Cart;\r\n\r\n    String searchText=&quot;&quot;;\r\n\r\n    private RecyclerView mResultList;\r\n    private DatabaseReference mUserDatabase;\r\n\r\n\r\n\r\n\r\n    private static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\r\n    public static int cart_count = 0;\r\n\r\n\r\n    RecyclerView productRecyclerView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_firebasesearch);\r\n\r\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n        mSearchField = findViewById(R.id.search_field);\r\n        mSearchBtn   = findViewById(R.id.search_btn);\r\n        mResultList  = findViewById(R.id.result_list_cart);\r\n        AddToCart    = findViewById(R.id.imageButton2);\r\n        Cart         = findViewById(R.id.cartButton);\r\n\r\n        mResultList.setHasFixedSize(true);\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                searchText = mSearchField.getText().toString();\r\n                firebaseUserSearch(searchText);\r\n            }\r\n        });\r\n\r\n        Cart.setOnClickListener(new View.OnClickListener() {\r\n            private Object Tag=&quot;Activity&quot;;\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (cart_count &lt; 1) {\r\n\r\n                } else {\r\n                    startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\r\n                }\r\n            }\r\n        });\r\n     }\r\n\r\n\r\n\r\n       private void firebaseUserSearch(String searchText) {\r\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\r\n        Query firebaseSearchQuery = \r\n        mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new             \r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\r\n                Users.class,\r\n                R.layout.list_layout,\r\n                UsersViewHolder.class,\r\n                firebaseSearchQuery\r\n        ) {\r\n            @Override\r\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\r\n                viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\r\n                viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\r\n            }\r\n        };\r\n        mResultList.setAdapter(firebaseRecyclerAdapter);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        invalidateOptionsMenu();\r\n    }\r\n\r\n    // View Holder Class\r\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\r\n        View mView;\r\n        String nome;\r\n        String surname;\r\n        Long prezzo;\r\n\r\n        public UsersViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\r\n            addToCart.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    cart_count++;\r\n                    Context context = v.getContext();\r\n                    Intent intent = new Intent(context, CartActivity.class);\r\n                    intent.putExtra(&quot;Name&quot;,nome);\r\n                    intent.putExtra(&quot;Surname&quot;,surname);\r\n                    intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void getDetails(String name,String cognome,Long price){\r\n            nome=name;\r\n            surname=cognome;\r\n            prezzo=price;\r\n        }\r\n\r\n\r\n        public void setDetails(String name, String surname, Long price) {\r\n\r\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\r\n            TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\r\n            TextView user_price = (TextView)mView.findViewById(R.id.price);\r\n\r\n            user_name.setText(name);\r\n            user_surname.setText(surname);\r\n            user_price.setText(Long.toString(price));\r\n\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**The second activity where I receive the data and where I want to create the recycle view**\r\n\r\n```java\r\n       package com.example.ipill;\r\n\r\n       import android.content.Context;\r\n       import android.os.Build;\r\n       import android.os.Bundle;\r\n       import android.util.Log;\r\n       import android.view.View;\r\n       import android.widget.Button;\r\n       import android.widget.LinearLayout;\r\n       import android.widget.TextView;\r\n       import android.widget.Toast;\r\n       import android.widget.Toolbar;\r\n    \r\n       import androidx.annotation.RequiresApi;\r\n       import androidx.appcompat.app.AppCompatActivity;\r\n       import androidx.recyclerview.widget.LinearLayoutManager;\r\n       import androidx.recyclerview.widget.RecyclerView;\r\n\r\n       import java.util.ArrayList;\r\n       import java.util.Collection;\r\n   \r\n\r\n      public class CartActivity extends AppCompatActivity {\r\n\r\n       public static TextView grandTotal;\r\n       public static int grandTotalplus;\r\n       // create a temp list and add cartitem list\r\n       public static ArrayList&lt;Users&gt; temparraylist;\r\n       RecyclerView cartRecyclerView;\r\n\r\n       Button proceedToBook;\r\n       Context context;\r\n       String name, surname, price;\r\n       private static ArrayList&lt;Users&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n        context = this;\r\n        temparraylist = new ArrayList&lt;&gt;();\r\n        proceedToBook = findViewById(R.id.buyNow);\r\n        grandTotal = findViewById(R.id.TotalPrice);\r\n\r\n        cartRecyclerView = findViewById(R.id.cartList);\r\n\r\n        String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\r\n        name = passedArg;\r\n\r\n\r\n        String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\r\n        surname = passedArg2;\r\n\r\n\r\n\r\n        String passedArg3 = getIntent().getExtras().getString(&quot;Price&quot;);\r\n        price = passedArg3;\r\n\r\n        System.out.println(&quot;DATA&quot;+name+surname+price);\r\n\r\n        cartRecyclerView.setHasFixedSize(true);\r\n        cartRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    }\r\n\r\n    }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/e3ctC.png","title":"How can I create new recycle views starting from a different recycle view on another activity","body":"<p>Can anyone explain to me how can I create a new recycle and add items to that recycle view staring from another recycle view inside another activity?</p>\n<p>Basically, I want to create a shopping cart, for now, I retrieved the data from a Firebase dataset and displayed it inside a recycle view but now I would like to send this data to the shopping cart(the shopping cart is inside another activity), I'm able to send the data but I can't understand how to display the data inside the new recycle view of this new activity. I need this because I want to see the items that I added to the shopping list so then I can pay.</p>\n<p>Below I will attach a photo to explain myself better.</p>\n<p>My problem is that I can't understand how to add the sent data to a recycle view again in the new activity.</p>\n<p>I'm new to Android, so it's the first time I'm doing this thing.</p>\n<p>Thank you in advance for your help.</p>\n<p><a href=\"https://i.stack.imgur.com/e3ctC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e3ctC.png\" alt=\"enter image description here\" /></a></p>\n<p>My code:</p>\n<p><strong>SearchItemsActivity:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.ipill;\n\n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.recyclerview.widget.LinearLayoutManager;\n    import androidx.recyclerview.widget.RecyclerView;\n\n\n    import android.content.Context;\n    import android.content.Intent;\n    import android.nfc.Tag;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.view.View;\n    import android.widget.EditText;\n    import android.widget.ImageButton;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\n    import com.google.firebase.database.DatabaseReference;\n    import com.google.firebase.database.FirebaseDatabase;\n    import com.google.firebase.database.Query;\n\n    import java.util.ArrayList;\n    import java.util.List;\n\n\n    public class FirebaseSearch extends AppCompatActivity {\n\n    private EditText mSearchField;\n    private ImageButton mSearchBtn;\n    private ImageButton AddToCart;\n    private ImageButton Cart;\n\n    String searchText=&quot;&quot;;\n\n    private RecyclerView mResultList;\n    private DatabaseReference mUserDatabase;\n\n\n\n\n    private static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\n    public static int cart_count = 0;\n\n\n    RecyclerView productRecyclerView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_firebasesearch);\n\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n        mSearchField = findViewById(R.id.search_field);\n        mSearchBtn   = findViewById(R.id.search_btn);\n        mResultList  = findViewById(R.id.result_list_cart);\n        AddToCart    = findViewById(R.id.imageButton2);\n        Cart         = findViewById(R.id.cartButton);\n\n        mResultList.setHasFixedSize(true);\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\n\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                searchText = mSearchField.getText().toString();\n                firebaseUserSearch(searchText);\n            }\n        });\n\n        Cart.setOnClickListener(new View.OnClickListener() {\n            private Object Tag=&quot;Activity&quot;;\n\n            @Override\n            public void onClick(View v) {\n                if (cart_count &lt; 1) {\n\n                } else {\n                    startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\n                }\n            }\n        });\n     }\n\n\n\n       private void firebaseUserSearch(String searchText) {\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\n        Query firebaseSearchQuery = \n        mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new             \n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\n                Users.class,\n                R.layout.list_layout,\n                UsersViewHolder.class,\n                firebaseSearchQuery\n        ) {\n            @Override\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\n                viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\n                viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\n            }\n        };\n        mResultList.setAdapter(firebaseRecyclerAdapter);\n    }\n\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        invalidateOptionsMenu();\n    }\n\n    // View Holder Class\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\n        View mView;\n        String nome;\n        String surname;\n        Long prezzo;\n\n        public UsersViewHolder(View itemView) {\n            super(itemView);\n            mView = itemView;\n            ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\n            addToCart.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    cart_count++;\n                    Context context = v.getContext();\n                    Intent intent = new Intent(context, CartActivity.class);\n                    intent.putExtra(&quot;Name&quot;,nome);\n                    intent.putExtra(&quot;Surname&quot;,surname);\n                    intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\n                    context.startActivity(intent);\n                }\n            });\n        }\n\n        public void getDetails(String name,String cognome,Long price){\n            nome=name;\n            surname=cognome;\n            prezzo=price;\n        }\n\n\n        public void setDetails(String name, String surname, Long price) {\n\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\n            TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\n            TextView user_price = (TextView)mView.findViewById(R.id.price);\n\n            user_name.setText(name);\n            user_surname.setText(surname);\n            user_price.setText(Long.toString(price));\n\n            }\n        }\n    }\n</code></pre>\n<p><strong>The second activity where I receive the data and where I want to create the recycle view</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>       package com.example.ipill;\n\n       import android.content.Context;\n       import android.os.Build;\n       import android.os.Bundle;\n       import android.util.Log;\n       import android.view.View;\n       import android.widget.Button;\n       import android.widget.LinearLayout;\n       import android.widget.TextView;\n       import android.widget.Toast;\n       import android.widget.Toolbar;\n    \n       import androidx.annotation.RequiresApi;\n       import androidx.appcompat.app.AppCompatActivity;\n       import androidx.recyclerview.widget.LinearLayoutManager;\n       import androidx.recyclerview.widget.RecyclerView;\n\n       import java.util.ArrayList;\n       import java.util.Collection;\n   \n\n      public class CartActivity extends AppCompatActivity {\n\n       public static TextView grandTotal;\n       public static int grandTotalplus;\n       // create a temp list and add cartitem list\n       public static ArrayList&lt;Users&gt; temparraylist;\n       RecyclerView cartRecyclerView;\n\n       Button proceedToBook;\n       Context context;\n       String name, surname, price;\n       private static ArrayList&lt;Users&gt; arrayList2 = new ArrayList&lt;&gt;();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart);\n        context = this;\n        temparraylist = new ArrayList&lt;&gt;();\n        proceedToBook = findViewById(R.id.buyNow);\n        grandTotal = findViewById(R.id.TotalPrice);\n\n        cartRecyclerView = findViewById(R.id.cartList);\n\n        String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\n        name = passedArg;\n\n\n        String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\n        surname = passedArg2;\n\n\n\n        String passedArg3 = getIntent().getExtras().getString(&quot;Price&quot;);\n        price = passedArg3;\n\n        System.out.println(&quot;DATA&quot;+name+surname+price);\n\n        cartRecyclerView.setHasFixedSize(true);\n        cartRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n    }\n\n    }\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690849506,"post_id":76807800,"comment_id":135407340,"body_markdown":"It sounds as though you need a `Car` class, with fields like `id`, `location`, and perhaps others. You can create an instance of `Car` in `getCarLocationDisplay` and return it, so the return type is `Car`.","body":"It sounds as though you need a <code>Car</code> class, with fields like <code>id</code>, <code>location</code>, and perhaps others. You can create an instance of <code>Car</code> in <code>getCarLocationDisplay</code> and return it, so the return type is <code>Car</code>."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690849721,"post_id":76807800,"comment_id":135407364,"body_markdown":"I have a `Car` class with all those fields. If I create an instance of `Car` in  `getCarLocationDisplay` then how am I going to use the `CarLocationDisplay` class in which the method `getLocationDetails` is responsible for returning things based on the `id`. FYI - I&#39;m using hibernate here with XML mapping files and `Car` class contains the exact parameters that exists in the database.","body":"I have a <code>Car</code> class with all those fields. If I create an instance of <code>Car</code> in  <code>getCarLocationDisplay</code> then how am I going to use the <code>CarLocationDisplay</code> class in which the method <code>getLocationDetails</code> is responsible for returning things based on the <code>id</code>. FYI - I&#39;m using hibernate here with XML mapping files and <code>Car</code> class contains the exact parameters that exists in the database."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690874600,"post_id":76807800,"comment_id":135410159,"body_markdown":"Why do you want to return `Object` instead of actual value. In the JSP you won&#39;t able to write an object to the response. It&#39;s not clear where the object is located and its scope. Because you didn&#39;t put this object as an attribute it&#39;s not available to JSP expression.","body":"Why do you want to return <code>Object</code> instead of actual value. In the JSP you won&#39;t able to write an object to the response. It&#39;s not clear where the object is located and its scope. Because you didn&#39;t put this object as an attribute it&#39;s not available to JSP expression."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690902090,"post_id":76807800,"comment_id":135416130,"body_markdown":"@RomanC Because in the hyperlink, I want to send `id` to other page when user clicks on it and display `name`  as the hyperlink text. I&#39;ve added my attempt by editing my post and in JSP I&#39;m expecting it to access like `${viewOrder.carLocationDisplay.id} or ${viewOrder.carLocationDisplay.name}`","body":"@RomanC Because in the hyperlink, I want to send <code>id</code> to other page when user clicks on it and display <code>name</code>  as the hyperlink text. I&#39;ve added my attempt by editing my post and in JSP I&#39;m expecting it to access like <code>${viewOrder.carLocationDisplay.id} or ${viewOrder.carLocationDisplay.name}</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690907568,"post_id":76807800,"comment_id":135417202,"body_markdown":"But you can&#39;t use this object because you have not gettets for `id` and `name`.","body":"But you can&#39;t use this object because you have not gettets for <code>id</code> and <code>name</code>."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690911190,"post_id":76807800,"comment_id":135417927,"body_markdown":"I have a separate `Car` class with getters and setters for `id` , `name` and other fields (not shown above) which is basically used with hibernate mapping that I&#39;ve done with XML. Using legacy hibernate and hence XML mappings.","body":"I have a separate <code>Car</code> class with getters and setters for <code>id</code> , <code>name</code> and other fields (not shown above) which is basically used with hibernate mapping that I&#39;ve done with XML. Using legacy hibernate and hence XML mappings."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690963063,"post_id":76807800,"comment_id":135424377,"body_markdown":"If you have a separate `Car` class then you should retrieve it from the database, then you can initialize a view object with it&#39;s properties.","body":"If you have a separate <code>Car</code> class then you should retrieve it from the database, then you can initialize a view object with it&#39;s properties."}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690902182,"creation_date":1690849054,"question_id":76807800,"body_markdown":"I have the following class inside an `Order` class and I want to return an object instead of string from the following method.\r\n\r\n    public String getCarLocationDisplay() {\r\n    \r\n            String result = &quot;&quot;;\r\n            if (carHandler != null) {\r\n                result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\r\n            }\r\n            return result;\r\n    }\r\n\r\nIn my JSP I am accessing it like this based on the above method:\r\n\r\n    &lt;td&gt;\r\n          &lt;a \r\n            href=&quot;cardetails.htm?id=&lt;c:out value=&quot;${viewOrder.carLocationDisplay}&quot;/&gt;&quot; \r\n            class = &quot;urllink&quot;&gt;&lt;bean:write name=&quot;viewOrder&quot;\r\n            property=&quot;carLocationDisplay&quot; /&gt;&lt;/a&gt;\r\n    &lt;/td&gt; \r\n       \r\n\r\n \r\n        \r\n        \r\nI have created a separate class (called `CarLocationDisplay`) which I&#39;m thinking of using it inside `getCarLocationDisplay` method above so that I could return an object maybe and in the JSP I can have something like `${viewOrder.carLocationDisplay.id}` or `${viewOrder.carLocationDisplay.name}`\r\n\r\n\r\n    public class CarLocationDisplay {\r\n        private CarLocationManager carLocMgr;\r\n        public void setCarLocationManager(CarLocationManager carLocationManager) {\r\n            this.carLocMgr = carLocationManager;\r\n        }\r\n        \r\n        public List&lt;String&gt; getLocationDetails(String id) {\r\n            \r\n            \r\n            return carLocMgr.getCarLocationByQuery(&quot;id=&quot;+id);\r\n            \r\n        }\r\n    }         \r\n\r\n\r\n\r\nI tried to modify the getCarLocationDisplay method as follows but wondering if I&#39;m proceeding in right direction as I need to return object but the return type is String and if I go and change the `return result` to `return dispplayObj` what should be the return type of the method?\r\n\r\n    public String getCarLocationDisplay() {\r\n    \r\n            String result = &quot;&quot;;\r\n            if (carHandler != null) {\r\n                result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\r\n                CarLocationDisplay displayObj = new CarLocationDisplay();\r\n                displayObj.getLocationDetails(result);            \r\n            }\r\n            return result;\r\n    }\r\n\r\n**My attempt:**\r\n\r\n    public CarLocationDisplay getCarLocationDisplay() {\r\n                  \r\n                CarLocationDisplay displayObj = null;              \r\n                String result = &quot;&quot;;\r\n                if (carHandler != null) {\r\n                    result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\r\n                    displayObj = new CarLocationDisplay();\r\n                    displayObj.getLocationDetails(result);            \r\n                }\r\n            return displayObj;\r\n    }\r\n\r\n","title":"figuring out method return type change","body":"<p>I have the following class inside an <code>Order</code> class and I want to return an object instead of string from the following method.</p>\n<pre><code>public String getCarLocationDisplay() {\n\n        String result = &quot;&quot;;\n        if (carHandler != null) {\n            result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\n        }\n        return result;\n}\n</code></pre>\n<p>In my JSP I am accessing it like this based on the above method:</p>\n<pre><code>&lt;td&gt;\n      &lt;a \n        href=&quot;cardetails.htm?id=&lt;c:out value=&quot;${viewOrder.carLocationDisplay}&quot;/&gt;&quot; \n        class = &quot;urllink&quot;&gt;&lt;bean:write name=&quot;viewOrder&quot;\n        property=&quot;carLocationDisplay&quot; /&gt;&lt;/a&gt;\n&lt;/td&gt; \n   \n\n\n    \n    \n</code></pre>\n<p>I have created a separate class (called <code>CarLocationDisplay</code>) which I'm thinking of using it inside <code>getCarLocationDisplay</code> method above so that I could return an object maybe and in the JSP I can have something like <code>${viewOrder.carLocationDisplay.id}</code> or <code>${viewOrder.carLocationDisplay.name}</code></p>\n<pre><code>public class CarLocationDisplay {\n    private CarLocationManager carLocMgr;\n    public void setCarLocationManager(CarLocationManager carLocationManager) {\n        this.carLocMgr = carLocationManager;\n    }\n    \n    public List&lt;String&gt; getLocationDetails(String id) {\n        \n        \n        return carLocMgr.getCarLocationByQuery(&quot;id=&quot;+id);\n        \n    }\n}         \n</code></pre>\n<p>I tried to modify the getCarLocationDisplay method as follows but wondering if I'm proceeding in right direction as I need to return object but the return type is String and if I go and change the <code>return result</code> to <code>return dispplayObj</code> what should be the return type of the method?</p>\n<pre><code>public String getCarLocationDisplay() {\n\n        String result = &quot;&quot;;\n        if (carHandler != null) {\n            result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\n            CarLocationDisplay displayObj = new CarLocationDisplay();\n            displayObj.getLocationDetails(result);            \n        }\n        return result;\n}\n</code></pre>\n<p><strong>My attempt:</strong></p>\n<pre><code>public CarLocationDisplay getCarLocationDisplay() {\n              \n            CarLocationDisplay displayObj = null;              \n            String result = &quot;&quot;;\n            if (carHandler != null) {\n                result = carHandler.getAttribute(CarHandler.CAR_LOCATION);\n                displayObj = new CarLocationDisplay();\n                displayObj.getLocationDetails(result);            \n            }\n        return displayObj;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":0,"creation_date":1256852091,"post_id":1646671,"comment_id":1517257,"body_markdown":"Very interested to find out about this; I need to learn more about test cases.","body":"Very interested to find out about this; I need to learn more about test cases."}],"answers":[{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1350644569,"creation_date":1256852238,"answer_id":1646725,"question_id":1646671,"body_markdown":"Have you considered using [FIT][1] for that?\r\n\r\nYou seem to have the tables already ready, and &quot;business rules&quot; sounds like &quot;business people write them using excel&quot;.\r\n\r\nFIT is a system for checking tests based on tables with input-&gt;expected output mappings, and a open source java library for running those tests is available.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Framework_for_Integrated_Test","title":"Is it possible to programmatically generate JUnit test cases and suites?","body":"<p>Have you considered using <a href=\"http://en.wikipedia.org/wiki/Framework_for_Integrated_Test\" rel=\"nofollow noreferrer\">FIT</a> for that?</p>\n\n<p>You seem to have the tables already ready, and \"business rules\" sounds like \"business people write them using excel\".</p>\n\n<p>FIT is a system for checking tests based on tables with input->expected output mappings, and a open source java library for running those tests is available.</p>\n"},{"tags":[],"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690901964,"creation_date":1256853649,"answer_id":1646854,"question_id":1646671,"body_markdown":"Within JUnit 4 you will want to look at the [Parameterized runner][1].  It was created for the purpose you describe (data driven tests).  It won&#39;t organize them into suites however.\r\n\r\nIn Junit 3 you can create TestSuites and Tests programatically. The answer is in [Junit Recipes][2], which I can expand if you need it (remember that JUnit 4 can run Junit 3 tests).\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/latest/org/junit/runners/Parameterized.html\r\n  [2]: http://www.manning.com/rainsberger/","title":"Is it possible to programmatically generate JUnit test cases and suites?","body":"<p>Within JUnit 4 you will want to look at the <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">Parameterized runner</a>.  It was created for the purpose you describe (data driven tests).  It won't organize them into suites however.</p>\n<p>In Junit 3 you can create TestSuites and Tests programatically. The answer is in <a href=\"http://www.manning.com/rainsberger/\" rel=\"nofollow noreferrer\">Junit Recipes</a>, which I can expand if you need it (remember that JUnit 4 can run Junit 3 tests).</p>\n"},{"tags":[],"owner":{"account_id":5866,"reputation":6843,"user_id":9641,"accept_rate":25,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257025957,"creation_date":1257025957,"answer_id":1655721,"question_id":1646671,"body_markdown":"We tried FIT and decided to go with [Concordion][1]. The main advantages of this library are:\r\n\r\n - the tests can be checked in alongside the code base (into a Subversion repository, for example)\r\n - they are executed by a standard JUnit runner\r\n\r\n  [1]: http://www.concordion.org/","title":"Is it possible to programmatically generate JUnit test cases and suites?","body":"<p>We tried FIT and decided to go with <a href=\"http://www.concordion.org/\" rel=\"nofollow noreferrer\">Concordion</a>. The main advantages of this library are:</p>\n\n<ul>\n<li>the tests can be checked in alongside the code base (into a Subversion repository, for example)</li>\n<li>they are executed by a standard JUnit runner</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":39695,"reputation":21676,"user_id":114584,"accept_rate":100,"display_name":"ndp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257409812,"creation_date":1257409812,"answer_id":1679115,"question_id":1646671,"body_markdown":"I wrote something very similar using JUnit. I had a large number of test cases (30 pages) in an XML file. Instead of trying to generate different tests, I did it all in a single test, which worked just fine.\r\n\r\nMy test looked something like this:\r\n\r\n    void setup() { \r\n      cases = read in the xml file\r\n    }\r\n    \r\n    void test_fn_works() {\r\n      for case in cases {\r\n        assert(case.expected_result, fn(case.inputs), \r\n            &#39;Case &#39; + case.inputs + &#39; should yield &#39; + case.expected_result);\r\n    \r\n      }\r\n    }\r\n\r\nWith Ruby, I did exactly what you are saying-- generating tests on the fly. Doing this in Java, though, is complex, and I don&#39;t think it is worth it since there is another, quite reasonable approach.\r\n\r\nHope this helps.\r\n","title":"Is it possible to programmatically generate JUnit test cases and suites?","body":"<p>I wrote something very similar using JUnit. I had a large number of test cases (30 pages) in an XML file. Instead of trying to generate different tests, I did it all in a single test, which worked just fine.</p>\n\n<p>My test looked something like this:</p>\n\n<pre><code>void setup() { \n  cases = read in the xml file\n}\n\nvoid test_fn_works() {\n  for case in cases {\n    assert(case.expected_result, fn(case.inputs), \n        'Case ' + case.inputs + ' should yield ' + case.expected_result);\n\n  }\n}\n</code></pre>\n\n<p>With Ruby, I did exactly what you are saying-- generating tests on the fly. Doing this in Java, though, is complex, and I don't think it is worth it since there is another, quite reasonable approach.</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11238,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":1646854,"answer_count":4,"score":18,"last_activity_date":1690901964,"creation_date":1256851725,"question_id":1646671,"body_markdown":"I have to write a very large test suite for a complex set of business rules that are currently captured in several tabular forms (e.g., if parameters X Y Z are such and such, the value should be between V1 and V2). Each rule has a name and its own semantics.\r\n\r\nMy end goal is to have a test suite, organized into sub test suites, with a test case to each rule.\r\n\r\nOne option is to actually hard code all these rules as tests. That is ugly, time consuming, and inflexible.\r\n\r\nAnother is to write a Python script that would read the rule files and generate Java classes with the unit tests. I&#39;d rather avoid this if I can. Another variation would be to use Jython.\r\n\r\nIdeally, however I would like to have a test suite that would read the files, and would then define sub-suites and tests within them. Each of these tests might be initialized with certain values taken from the table files, run fixed entry points in our system, and then call some validator function on the results based on the expected value. \r\n\r\nIs there a reasonable way to pull this off using only Java?\r\n\r\nUpdate: I may have somewhat simplified our kind of rules. Some of them are indeed tabular (excel style), others are more fuzzy. The general question though remains as I&#39;m probably not the first person to have this problem.","title":"Is it possible to programmatically generate JUnit test cases and suites?","body":"<p>I have to write a very large test suite for a complex set of business rules that are currently captured in several tabular forms (e.g., if parameters X Y Z are such and such, the value should be between V1 and V2). Each rule has a name and its own semantics.</p>\n\n<p>My end goal is to have a test suite, organized into sub test suites, with a test case to each rule.</p>\n\n<p>One option is to actually hard code all these rules as tests. That is ugly, time consuming, and inflexible.</p>\n\n<p>Another is to write a Python script that would read the rule files and generate Java classes with the unit tests. I'd rather avoid this if I can. Another variation would be to use Jython.</p>\n\n<p>Ideally, however I would like to have a test suite that would read the files, and would then define sub-suites and tests within them. Each of these tests might be initialized with certain values taken from the table files, run fixed entry points in our system, and then call some validator function on the results based on the expected value. </p>\n\n<p>Is there a reasonable way to pull this off using only Java?</p>\n\n<p>Update: I may have somewhat simplified our kind of rules. Some of them are indeed tabular (excel style), others are more fuzzy. The general question though remains as I'm probably not the first person to have this problem.</p>\n"},{"tags":["java","equals","hashcode","java-record","java-17"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":9,"creation_date":1632644701,"post_id":69332957,"comment_id":122544511,"body_markdown":"The entire purpose of a record is to be a _value object_, so automatic comparisons make sense.","body":"The entire purpose of a record is to be a <i>value object</i>, so automatic comparisons make sense."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1690901828,"creation_date":1632644598,"answer_id":69333053,"question_id":69332957,"body_markdown":"In a nutshell the difference is simple:\r\n\r\n- the default implementation of `equals()` and `hashCode()` for `java.lang.Object` will never consider two objects as `equal` unless they are the same object (i.e. it&#39;s &quot;object identity&quot;, i.e. `x == y`).\r\n- the default implementation of `equals()` and `hashCode()` for records will consider all components (or fields) and compare them for equality (or consider them for the hash code). If they all match then `.equals()` will return `true` and `hashCode` will return the same values.\r\n\r\nThe details documented for [`java.lang.Object.hashCode()`][1] are:\r\n\r\n&gt; As far as is reasonably practical, the hashCode method defined by class Object returns distinct integers for distinct objects.\r\n\r\nIn practice this means that any object which doesn&#39;t override `hashCode` anywhere in its type hierarchy will return what is called the &quot;identity hash code&quot; which is effectively an arbitrary but constant number.\r\n\r\nAs for [`java.lang.Record.hashCode()`][2], it says:\r\n\r\n&gt; The implicitly provided implementation returns a hash code value derived by combining appropriate hashes from each component. The precise algorithm used in the implicitly provided implementation is unspecified and is subject to change within the above limits. The resulting integer need not remain consistent from one execution of an application to another execution of the same application, even if the hashes of the component values were to remain consistent in this way. Also, a component of primitive type may contribute its bits to the hash code differently than the hashCode of its primitive wrapper class.\r\n\r\nAnd for `equals()` methods; \r\n\r\n[`java.lang.Object.equals(Object obj)`][3] :\r\n&gt; The equals method for class Object implements the most discriminating possible equivalence relation on objects; that is, for any non-null reference values x and y, **this method returns true if and only if x and y refer to the same object** (x == y has the value true). In other words, under the reference equality equivalence relation, each equivalence class only has a single element.\r\n\r\n[`java.lang.Record.equals(Object obj)`][4] :\r\n&gt; **The implicitly provided implementation returns true if and only if the argument is an instance of the same record class as this record, and each component of this record is equal to the corresponding component of the argument**; otherwise, false is returned. Equality of a component c is determined as follows:\r\nIf the component is of a reference type, the component is considered equal if and only if Objects.equals(this.c, r.c would return true.\r\nIf the component is of a primitive type, using the corresponding primitive wrapper class PW (the corresponding wrapper class for int is java.lang.Integer, and so on), the component is considered equal if and only if PW.compare(this.c, r.c) would return 0.\r\nApart from the semantics described above, the precise algorithm used in the implicitly provided implementation is unspecified and is subject to change. The implementation may or may not use calls to the particular methods listed, and may or may not perform comparisons in the order of component declaration.\r\n\r\n\r\nFor more discussion, see [*JEP 395: Records*](https://openjdk.java.net/jeps/395).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#hashCode()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#equals(java.lang.Object)","title":"Default implementation for hashCode() and equals() for record vs class in Java","body":"<p>In a nutshell the difference is simple:</p>\n<ul>\n<li>the default implementation of <code>equals()</code> and <code>hashCode()</code> for <code>java.lang.Object</code> will never consider two objects as <code>equal</code> unless they are the same object (i.e. it's &quot;object identity&quot;, i.e. <code>x == y</code>).</li>\n<li>the default implementation of <code>equals()</code> and <code>hashCode()</code> for records will consider all components (or fields) and compare them for equality (or consider them for the hash code). If they all match then <code>.equals()</code> will return <code>true</code> and <code>hashCode</code> will return the same values.</li>\n</ul>\n<p>The details documented for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>java.lang.Object.hashCode()</code></a> are:</p>\n<blockquote>\n<p>As far as is reasonably practical, the hashCode method defined by class Object returns distinct integers for distinct objects.</p>\n</blockquote>\n<p>In practice this means that any object which doesn't override <code>hashCode</code> anywhere in its type hierarchy will return what is called the &quot;identity hash code&quot; which is effectively an arbitrary but constant number.</p>\n<p>As for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#hashCode()\" rel=\"nofollow noreferrer\"><code>java.lang.Record.hashCode()</code></a>, it says:</p>\n<blockquote>\n<p>The implicitly provided implementation returns a hash code value derived by combining appropriate hashes from each component. The precise algorithm used in the implicitly provided implementation is unspecified and is subject to change within the above limits. The resulting integer need not remain consistent from one execution of an application to another execution of the same application, even if the hashes of the component values were to remain consistent in this way. Also, a component of primitive type may contribute its bits to the hash code differently than the hashCode of its primitive wrapper class.</p>\n</blockquote>\n<p>And for <code>equals()</code> methods;</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>java.lang.Object.equals(Object obj)</code></a> :</p>\n<blockquote>\n<p>The equals method for class Object implements the most discriminating possible equivalence relation on objects; that is, for any non-null reference values x and y, <strong>this method returns true if and only if x and y refer to the same object</strong> (x == y has the value true). In other words, under the reference equality equivalence relation, each equivalence class only has a single element.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>java.lang.Record.equals(Object obj)</code></a> :</p>\n<blockquote>\n<p><strong>The implicitly provided implementation returns true if and only if the argument is an instance of the same record class as this record, and each component of this record is equal to the corresponding component of the argument</strong>; otherwise, false is returned. Equality of a component c is determined as follows:\nIf the component is of a reference type, the component is considered equal if and only if Objects.equals(this.c, r.c would return true.\nIf the component is of a primitive type, using the corresponding primitive wrapper class PW (the corresponding wrapper class for int is java.lang.Integer, and so on), the component is considered equal if and only if PW.compare(this.c, r.c) would return 0.\nApart from the semantics described above, the precise algorithm used in the implicitly provided implementation is unspecified and is subject to change. The implementation may or may not use calls to the particular methods listed, and may or may not perform comparisons in the order of component declaration.</p>\n</blockquote>\n<p>For more discussion, see <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\"><em>JEP 395: Records</em></a>.</p>\n"}],"owner":{"account_id":8452618,"reputation":86,"user_id":6340989,"display_name":"San"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3736,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":69333053,"answer_count":1,"score":-1,"last_activity_date":1690901828,"creation_date":1632643753,"question_id":69332957,"body_markdown":"Tried with sample code to check default behaviour of `equals()` and `hashCode()` for **record** vs **class**, but it seems behave differently for **record** compare to **class**.\r\n\r\nHere is code sample for **record** and **class**\r\n\r\n```\r\npublic class EqualsAndHashcode {\r\n    public static void main(String[] args) {\r\n        var employeeA = new Employee(101);\r\n        var employeeB = new Employee(101);\r\n        var employeeAClass = new EmployeeClass(102);\r\n        var employeeBClass = new EmployeeClass(102);\r\n        var printStream = System.out;\r\n        printStream.println(&quot;record equals: &quot; + employeeA.equals(employeeB) + &quot;\\nhashcode objA: &quot; + employeeA.hashCode() + &quot;\\nhashcode objB: &quot; + employeeB.hashCode());\r\n        printStream.println(&quot;\\nclass equals: &quot; + employeeAClass.equals(employeeBClass) + &quot;\\nhashcode objA: &quot; + employeeAClass.hashCode() + &quot;\\nhashcode objB: &quot; + employeeBClass.hashCode());\r\n    }\r\n}\r\n\r\nrecord Employee(int empId) {\r\n}\r\n\r\nclass EmployeeClass {\r\n    int empId;\r\n\r\n    EmployeeClass(int empId) {\r\n        this.empId = empId;\r\n    }\r\n}\r\n\r\n```\r\nAfter execution output for above code is:\r\n\r\n```\r\nrecord equals: true\r\nhashcode objA: 101\r\nhashcode objB: 101\r\n\r\nclass equals: false\r\nhashcode objA: 935044096\r\nhashcode objB: 396180261\r\n```\r\n\r\nCan anyone please help me to understand how record&#39;s default implementation for `equals` and `hashCode` behaves differently as above?\r\n\r\nAnd if there is a change in the `equals` and `hashCode` implementation for record, then please help me to understand what exactly the purpose of that change and in which scenarios it will be more helpful to use.\r\n","title":"Default implementation for hashCode() and equals() for record vs class in Java","body":"<p>Tried with sample code to check default behaviour of <code>equals()</code> and <code>hashCode()</code> for <strong>record</strong> vs <strong>class</strong>, but it seems behave differently for <strong>record</strong> compare to <strong>class</strong>.</p>\n<p>Here is code sample for <strong>record</strong> and <strong>class</strong></p>\n<pre><code>public class EqualsAndHashcode {\n    public static void main(String[] args) {\n        var employeeA = new Employee(101);\n        var employeeB = new Employee(101);\n        var employeeAClass = new EmployeeClass(102);\n        var employeeBClass = new EmployeeClass(102);\n        var printStream = System.out;\n        printStream.println(&quot;record equals: &quot; + employeeA.equals(employeeB) + &quot;\\nhashcode objA: &quot; + employeeA.hashCode() + &quot;\\nhashcode objB: &quot; + employeeB.hashCode());\n        printStream.println(&quot;\\nclass equals: &quot; + employeeAClass.equals(employeeBClass) + &quot;\\nhashcode objA: &quot; + employeeAClass.hashCode() + &quot;\\nhashcode objB: &quot; + employeeBClass.hashCode());\n    }\n}\n\nrecord Employee(int empId) {\n}\n\nclass EmployeeClass {\n    int empId;\n\n    EmployeeClass(int empId) {\n        this.empId = empId;\n    }\n}\n\n</code></pre>\n<p>After execution output for above code is:</p>\n<pre><code>record equals: true\nhashcode objA: 101\nhashcode objB: 101\n\nclass equals: false\nhashcode objA: 935044096\nhashcode objB: 396180261\n</code></pre>\n<p>Can anyone please help me to understand how record's default implementation for <code>equals</code> and <code>hashCode</code> behaves differently as above?</p>\n<p>And if there is a change in the <code>equals</code> and <code>hashCode</code> implementation for record, then please help me to understand what exactly the purpose of that change and in which scenarios it will be more helpful to use.</p>\n"},{"tags":["java","android","dependencies"],"answers":[{"tags":[],"owner":{"account_id":6011496,"reputation":2617,"user_id":4721831,"accept_rate":100,"display_name":"trocchietto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581781906,"creation_date":1581781906,"answer_id":60240378,"question_id":60239546,"body_markdown":"The first thing I would recommend you is to check if on top of the `build.gradle` you added the plugin\r\n\r\n&gt; apply plugin: &#39;com.android.application&#39;\r\n\r\nthen do a clean build, from Build -&gt; Clean build\r\n\r\nIf should not work downgrade the dependencies just to be sure is not any particular bug from the current version of the play services. Let us know!\r\n","title":"error: package com.google.android.gms.drive does not exist","body":"<p>The first thing I would recommend you is to check if on top of the <code>build.gradle</code> you added the plugin</p>\n\n<blockquote>\n  <p>apply plugin: 'com.android.application'</p>\n</blockquote>\n\n<p>then do a clean build, from Build -> Clean build</p>\n\n<p>If should not work downgrade the dependencies just to be sure is not any particular bug from the current version of the play services. Let us know!</p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690901761,"creation_date":1581775909,"question_id":60239546,"body_markdown":"Hi everyone I have this problem that I can&#39;t solve even tho I checked on StackOverflow and I tried all the solutions but nothing is working. \r\n\r\nSo bellow I will put the dependencies and sync them and everything seems ok but when I press compile I get this error:\r\n     package com.google.android.gms.drive does not exist\r\n\r\nbut I included the dependency and I can&#39;t understand why I get this error. \r\n\r\nCan anyone help me, please? Thank you. \r\n\r\n    dependencies {\r\n\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n\r\n    implementation &#39;com.android.support:appcompat-v7:29.1.0&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:29.1.0&#39;\r\n    implementation &#39;com.android.support:design:29.1.0&#39;\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\n\r\n\r\n    implementation &quot;com.google.android.gms:play-services-base:17.1.0&quot;\r\n    implementation &#39;com.google.android.gms:play-services-ads:18.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:17.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n\r\n\r\n\r\n    // Add the Firebase SDK for Google Analytics\r\n    // Add the SDKs for any other Firebase products you want to use in your app\r\n    // For example, to use Firebase Authentication and Cloud Firestore\r\n    implementation &#39;com.google.firebase:firebase-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:21.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.1&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    // FirebaseUI for Firebase Realtime Database\r\n    implementation &#39;com.firebaseui:firebase-ui-database:6.2.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n}\r\n\r\n","title":"error: package com.google.android.gms.drive does not exist","body":"<p>Hi everyone I have this problem that I can't solve even tho I checked on StackOverflow and I tried all the solutions but nothing is working.</p>\n<p>So bellow I will put the dependencies and sync them and everything seems ok but when I press compile I get this error:\npackage com.google.android.gms.drive does not exist</p>\n<p>but I included the dependency and I can't understand why I get this error.</p>\n<p>Can anyone help me, please? Thank you.</p>\n<pre><code>dependencies {\n\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\n\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n\nimplementation 'androidx.appcompat:appcompat:1.1.0'\n\nimplementation 'com.android.support:appcompat-v7:29.1.0'\nimplementation 'com.android.support:recyclerview-v7:29.1.0'\nimplementation 'com.android.support:design:29.1.0'\n\nimplementation 'com.squareup.retrofit2:retrofit:2.3.0'\nimplementation 'com.squareup.picasso:picasso:2.5.2'\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n\n\nimplementation &quot;com.google.android.gms:play-services-base:17.1.0&quot;\nimplementation 'com.google.android.gms:play-services-ads:18.3.0'\nimplementation 'com.google.android.gms:play-services-auth:17.0.0'\nimplementation 'com.google.android.gms:play-services-maps:17.0.0'\n\nimplementation 'com.google.android.gms:play-services-location:17.0.0'\n\n\n\n// Add the Firebase SDK for Google Analytics\n// Add the SDKs for any other Firebase products you want to use in your app\n// For example, to use Firebase Authentication and Cloud Firestore\nimplementation 'com.google.firebase:firebase-auth:19.2.0'\nimplementation 'com.google.firebase:firebase-firestore:21.4.0'\nimplementation 'com.google.firebase:firebase-analytics:17.2.2'\nimplementation 'com.google.firebase:firebase-database:19.2.1'\ntestImplementation 'junit:junit:4.12'\n\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n\n\nimplementation 'com.github.bumptech.glide:glide:4.11.0'\n// FirebaseUI for Firebase Realtime Database\nimplementation 'com.firebaseui:firebase-ui-database:6.2.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","maven","maven-plugin","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690850037,"post_id":76807834,"comment_id":135407393,"body_markdown":"Please post the error messages as text, not an image.","body":"Please post the error messages as text, not an image."},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1690850303,"post_id":76807834,"comment_id":135407425,"body_markdown":"@tgdavies posted","body":"@tgdavies posted"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690850344,"post_id":76807834,"comment_id":135407429,"body_markdown":"Oh, and your pom.xml too. Please read [ask].","body":"Oh, and your pom.xml too. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690851048,"post_id":76807834,"comment_id":135407493,"body_markdown":"`run.profiles` is not how you select a maven profile. You want `-P dcr`","body":"<code>run.profiles</code> is not how you select a maven profile. You want <code>-P dcr</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690852026,"post_id":76807834,"comment_id":135407614,"body_markdown":"You can try following this: https://www.baeldung.com/spring-boot-main-class","body":"You can try following this: <a href=\"https://www.baeldung.com/spring-boot-main-class\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-main-class</a>"},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1690852331,"post_id":76807834,"comment_id":135407647,"body_markdown":"I tried that article, as I tend to do my own research prior to posting, but that approach doesn&#39;t provide the ability to have several @SpringApplications configured in a single codebase.  Here&#39;s my related question on that topic: https://stackoverflow.com/q/76806971/283837","body":"I tried that article, as I tend to do my own research prior to posting, but that approach doesn&#39;t provide the ability to have several @SpringApplications configured in a single codebase.  Here&#39;s my related question on that topic: <a href=\"https://stackoverflow.com/q/76806971/283837\">stackoverflow.com/q/76806971/283837</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690852446,"post_id":76807834,"comment_id":135407657,"body_markdown":"Are you trying to have a single executable jar containing several applications?","body":"Are you trying to have a single executable jar containing several applications?"},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1690852629,"post_id":76807834,"comment_id":135407681,"body_markdown":"As is noted in my question and, according to the answers referred to, should be possible.","body":"As is noted in my question and, according to the answers referred to, should be possible."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690858856,"post_id":76807834,"comment_id":135408227,"body_markdown":"Anything you do via maven profiles is build time, not run time. The approach you are asking about in this question is not going to give you several applications in a single executable jar.","body":"Anything you do via maven profiles is build time, not run time. The approach you are asking about in this question is not going to give you several applications in a single executable jar."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1690892592,"post_id":76807834,"comment_id":135413868,"body_markdown":"Can you share please any *Application.java content to verify `@Profile` is set correctly?","body":"Can you share please any *Application.java content to verify <code>@Profile</code> is set correctly?"},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1690892664,"post_id":76807834,"comment_id":135413893,"body_markdown":"@Valijon I only tried using Maven profiles, no Spring ones at this point.  You could find a source for the `*Application.java` in another ticket I posted: https://stackoverflow.com/q/76806971/283837","body":"@Valijon I only tried using Maven profiles, no Spring ones at this point.  You could find a source for the <code>*Application.java</code> in another ticket I posted: <a href=\"https://stackoverflow.com/q/76806971/283837\">stackoverflow.com/q/76806971/283837</a>"}],"answers":[{"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901685,"creation_date":1690895412,"answer_id":76811967,"question_id":76807834,"body_markdown":"Seems `mainClass` configuration is not placed in the right place:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;                        \r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n&gt; https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging\r\n\r\n    $ mvn clean package -P other\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] -----------&lt; com.pru.globalpayments:downstream-data-factory &gt;-----------\r\n    [INFO] Building downstream-data-factory 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ downstream-data-factory ---\r\n    [INFO] Deleting D:\\workspace\\downstream-data-factory\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ downstream-data-factory ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 0 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ downstream-data-factory ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 2 source files to D:\\workspace\\downstream-data-factory\\target\\classes\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ downstream-data-factory ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 0 resource\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ downstream-data-factory ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ downstream-data-factory ---\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ downstream-data-factory ---\r\n    [INFO] Building jar: D:\\workspace\\downstream-data-factory\\target\\downstream-data-factory-0.0.1-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.7.13:repackage (repackage) @ downstream-data-factory ---\r\n    [INFO] Replacing main artifact with repackaged archive\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.7.13:repackage (default) @ downstream-data-factory ---\r\n    [INFO] Replacing main artifact with repackaged archive\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  17.005 s\r\n    [INFO] Finished at: 2023-08-01T16:52:35+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n \r\n    $ java -jar target/downstream-data-factory-0.0.1-SNAPSHOT.jar\r\n    AnotherSystemDataFactoryApplication running...\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.7.13)\r\n    \r\n    2023-08-01 16:52:41.465  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : Starting AnotherSystemDataFactoryApplication v0.0.1-SNAPSHOT using Java 1.8.0_311 on X with PID 8480 (D:\\workspace\\downstream-data-factory\\target\\downstream-data-factory-0.0.1-SNAPSHOT.jar started by Valijon in D:\\workspace\\downstream-data-factory)\r\n    2023-08-01 16:52:41.487  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-08-01 16:52:48.635  INFO 8480 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\r\n    2023-08-01 16:52:48.667  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : Started AnotherSystemDataFactoryApplication in 8.93 seconds (JVM running for 10.584)","title":"Spring Boot with multiple entry points applications via Maven profiles","body":"<p>Seems <code>mainClass</code> configuration is not placed in the right place:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;${spring.boot.mainclass}&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;                        \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging</a></p>\n</blockquote>\n<pre><code>$ mvn clean package -P other\n[INFO] Scanning for projects...\n[INFO]\n[INFO] -----------&lt; com.pru.globalpayments:downstream-data-factory &gt;-----------\n[INFO] Building downstream-data-factory 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ downstream-data-factory ---\n[INFO] Deleting D:\\workspace\\downstream-data-factory\\target\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ downstream-data-factory ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 0 resource\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ downstream-data-factory ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2 source files to D:\\workspace\\downstream-data-factory\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ downstream-data-factory ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ downstream-data-factory ---\n[INFO] Changes detected - recompiling the module!\n[INFO]\n[INFO] --- maven-surefire-plugin:3.0.0-M6:test (default-test) @ downstream-data-factory ---\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ downstream-data-factory ---\n[INFO] Building jar: D:\\workspace\\downstream-data-factory\\target\\downstream-data-factory-0.0.1-SNAPSHOT.jar\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.7.13:repackage (repackage) @ downstream-data-factory ---\n[INFO] Replacing main artifact with repackaged archive\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.7.13:repackage (default) @ downstream-data-factory ---\n[INFO] Replacing main artifact with repackaged archive\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  17.005 s\n[INFO] Finished at: 2023-08-01T16:52:35+02:00\n[INFO] ------------------------------------------------------------------------\n\n$ java -jar target/downstream-data-factory-0.0.1-SNAPSHOT.jar\nAnotherSystemDataFactoryApplication running...\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.13)\n\n2023-08-01 16:52:41.465  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : Starting AnotherSystemDataFactoryApplication v0.0.1-SNAPSHOT using Java 1.8.0_311 on X with PID 8480 (D:\\workspace\\downstream-data-factory\\target\\downstream-data-factory-0.0.1-SNAPSHOT.jar started by Valijon in D:\\workspace\\downstream-data-factory)\n2023-08-01 16:52:41.487  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-01 16:52:48.635  INFO 8480 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080\n2023-08-01 16:52:48.667  INFO 8480 --- [           main] .d.a.AnotherSystemDataFactoryApplication : Started AnotherSystemDataFactoryApplication in 8.93 seconds (JVM running for 10.584)\n</code></pre>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690901685,"creation_date":1690849739,"question_id":76807834,"body_markdown":"I&#39;m trying to prototype a structure in which several @SpringBootApplications are segregated by means of their packaging namespaces, like so:\r\n\r\n[![!\\[enter image description here][1]][1]\r\n\r\nIn Maven `pom.xml`, to build, I&#39;m relying on profiles, as shown below, and described [here][2] and [here][3]:\r\n\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;\r\n    \t\t\t\t\t\t\t\t${spring.boot.mainclass}\r\n    \t\t\t\t\t\t\t&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;dcr&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;other&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy attempts to build the codebase (per spring-boot-maven-plugin [spec][4]) result in the following:\r\n\r\n    &gt;mvn clear package -Drun.profiles=dcr\r\n\r\n\r\n\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage (repackage) on project downstream-data-factory: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage (repackage) on project downstream-data-factory: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.IllegalStateException: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\r\n        at org.springframework.boot.loader.tools.MainClassFinder$SingleMainClassCallback.getMainClassName (MainClassFinder.java:432)\r\n        at org.springframework.boot.loader.tools.MainClassFinder$SingleMainClassCallback.access$100 (MainClassFinder.java:403)\r\n        at org.springframework.boot.loader.tools.MainClassFinder.findSingleMainClass (MainClassFinder.java:198)\r\n        at org.springframework.boot.loader.tools.Packager.findMainMethod (Packager.java:318)\r\n        at org.springframework.boot.loader.tools.Packager.findMainMethodWithTimeoutWarning (Packager.java:307)\r\n        at org.springframework.boot.loader.tools.Packager.getMainClass (Packager.java:302)\r\n        at org.springframework.boot.loader.tools.Packager.addMainAndStartAttributes (Packager.java:282)\r\n        at org.springframework.boot.loader.tools.Packager.buildManifest (Packager.java:267)\r\n        at org.springframework.boot.loader.tools.Packager.write (Packager.java:209)\r\n        at org.springframework.boot.loader.tools.Packager.write (Packager.java:202)\r\n        at org.springframework.boot.loader.tools.Repackager.repackage (Repackager.java:144)\r\n        at org.springframework.boot.loader.tools.Repackager.repackage (Repackager.java:131)\r\n        at org.springframework.boot.maven.RepackageMojo.repackage (RepackageMojo.java:216)\r\n        at org.springframework.boot.maven.RepackageMojo.execute (RepackageMojo.java:206)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n\r\n\r\nThough [the above reference][4] suggests invocation via `-Drun.profiles=dcr`, the regular Maven way, via `-P dcr` was also tried, unsuccessfully.  It returns the same error message.\r\n\r\nWhat am I missing?\r\n\r\nThe above approach is also referred to [here][5] - is that answer incrorrect?\r\n\r\nThank you in advance.\r\n\r\n-------\r\nSome further experiments lead me to believe that the culprit is somewhere within the `spring-boot-maven-plugin`configuration/invocation as even when I disable profiles stanza in `pom.xml` completely, the error message remains the same, it doesn&#39;t distinguish between the 2 profiles and doesn&#39;t substitute the `${spring.boot.mainclass}` property: \r\n\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;\r\n    \t\t\t\t\t\t\t\t${spring.boot.mainclass}\r\n    \t\t\t\t\t\t\t&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;!-- \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;dcr&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;other&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    --&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nThe same error persists when `plugins` are configured slightly differently, without using profiles:\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;repackage-dcr&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;mainClass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;finalName&gt;dcr&lt;/finalName&gt;\r\n    \t\t\t\t\t\t&lt;outputDirectory&gt;target/apps&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;repackage-other&lt;/id&gt;\r\n    \t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;mainClass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;finalName&gt;other&lt;/finalName&gt;\r\n    \t\t\t\t\t\t&lt;outputDirectory&gt;target/apps&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nand invoked with simple `mvn clean package`. \r\n\r\nReading more carefully into the [Spring Boot Maven plugin documentation][6], looks like it&#39;s not intended to recognize Maven profiles at all, making the foundation on which this experiment is based, referred to [above][5] so much shakier:\r\n\r\n[![enter image description here][7]][7] \r\n\r\nFull `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;com.pru.globalpayments&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;downstream-data-factory&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;downstream-data-factory&lt;/name&gt;\r\n    \t&lt;description&gt;Contains logic for generation of feeds expected by the downstream systems&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;sonar.language&gt;js&lt;/sonar.language&gt;\r\n    \t\t&lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.beanio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;beanio&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.datafaker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;datafaker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.0&lt;/version&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;\r\n    \t\t\t\t\t\t${spring.boot.mainclass}\r\n    \t\t\t\t\t&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;dcr&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;other&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Zvtj7.png\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.0.x-SNAPSHOT/maven-plugin/reference/htmlsingle/#packaging\r\n  [3]: https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/maven-plugin/repackage-mojo.html\r\n  [4]: https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/maven-plugin/examples/run-profiles.html\r\n  [5]: https://stackoverflow.com/a/42840829/283837\r\n  [6]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging\r\n  [7]: https://i.stack.imgur.com/mNR83.png","title":"Spring Boot with multiple entry points applications via Maven profiles","body":"<p>I'm trying to prototype a structure in which several @SpringBootApplications are segregated by means of their packaging namespaces, like so:</p>\n<p><a href=\"https://i.stack.imgur.com/Zvtj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zvtj7.png\" alt=\"![enter image description here\" /></a></p>\n<p>In Maven <code>pom.xml</code>, to build, I'm relying on profiles, as shown below, and described <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x-SNAPSHOT/maven-plugin/reference/htmlsingle/#packaging\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/maven-plugin/repackage-mojo.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                ${spring.boot.mainclass}\n                            &lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dcr&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;other&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My attempts to build the codebase (per spring-boot-maven-plugin <a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/maven-plugin/examples/run-profiles.html\" rel=\"nofollow noreferrer\">spec</a>) result in the following:</p>\n<pre><code>&gt;mvn clear package -Drun.profiles=dcr\n\n\n\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage (repackage) on project downstream-data-factory: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage (repackage) on project downstream-data-factory: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.7.13:repackage failed: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalStateException: Unable to find a single main class from the following candidates [com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication, com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication]\n    at org.springframework.boot.loader.tools.MainClassFinder$SingleMainClassCallback.getMainClassName (MainClassFinder.java:432)\n    at org.springframework.boot.loader.tools.MainClassFinder$SingleMainClassCallback.access$100 (MainClassFinder.java:403)\n    at org.springframework.boot.loader.tools.MainClassFinder.findSingleMainClass (MainClassFinder.java:198)\n    at org.springframework.boot.loader.tools.Packager.findMainMethod (Packager.java:318)\n    at org.springframework.boot.loader.tools.Packager.findMainMethodWithTimeoutWarning (Packager.java:307)\n    at org.springframework.boot.loader.tools.Packager.getMainClass (Packager.java:302)\n    at org.springframework.boot.loader.tools.Packager.addMainAndStartAttributes (Packager.java:282)\n    at org.springframework.boot.loader.tools.Packager.buildManifest (Packager.java:267)\n    at org.springframework.boot.loader.tools.Packager.write (Packager.java:209)\n    at org.springframework.boot.loader.tools.Packager.write (Packager.java:202)\n    at org.springframework.boot.loader.tools.Repackager.repackage (Repackager.java:144)\n    at org.springframework.boot.loader.tools.Repackager.repackage (Repackager.java:131)\n    at org.springframework.boot.maven.RepackageMojo.repackage (RepackageMojo.java:216)\n    at org.springframework.boot.maven.RepackageMojo.execute (RepackageMojo.java:206)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n</code></pre>\n<p>Though <a href=\"https://docs.spring.io/spring-boot/docs/1.5.2.RELEASE/maven-plugin/examples/run-profiles.html\" rel=\"nofollow noreferrer\">the above reference</a> suggests invocation via <code>-Drun.profiles=dcr</code>, the regular Maven way, via <code>-P dcr</code> was also tried, unsuccessfully.  It returns the same error message.</p>\n<p>What am I missing?</p>\n<p>The above approach is also referred to <a href=\"https://stackoverflow.com/a/42840829/283837\">here</a> - is that answer incrorrect?</p>\n<p>Thank you in advance.</p>\n<hr />\n<p>Some further experiments lead me to believe that the culprit is somewhere within the <code>spring-boot-maven-plugin</code>configuration/invocation as even when I disable profiles stanza in <code>pom.xml</code> completely, the error message remains the same, it doesn't distinguish between the 2 profiles and doesn't substitute the <code>${spring.boot.mainclass}</code> property:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                ${spring.boot.mainclass}\n                            &lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;!-- \n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dcr&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;other&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n--&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The same error persists when <code>plugins</code> are configured slightly differently, without using profiles:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;repackage-dcr&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/mainClass&gt;\n                        &lt;finalName&gt;dcr&lt;/finalName&gt;\n                        &lt;outputDirectory&gt;target/apps&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;repackage-other&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/mainClass&gt;\n                        &lt;finalName&gt;other&lt;/finalName&gt;\n                        &lt;outputDirectory&gt;target/apps&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M6&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>and invoked with simple <code>mvn clean package</code>.</p>\n<p>Reading more carefully into the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging\" rel=\"nofollow noreferrer\">Spring Boot Maven plugin documentation</a>, looks like it's not intended to recognize Maven profiles at all, making the foundation on which this experiment is based, referred to <a href=\"https://stackoverflow.com/a/42840829/283837\">above</a> so much shakier:</p>\n<p><a href=\"https://i.stack.imgur.com/mNR83.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNR83.png\" alt=\"enter image description here\" /></a></p>\n<p>Full <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.pru.globalpayments&lt;/groupId&gt;\n    &lt;artifactId&gt;downstream-data-factory&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;downstream-data-factory&lt;/name&gt;\n    &lt;description&gt;Contains logic for generation of feeds expected by the downstream systems&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;sonar.language&gt;js&lt;/sonar.language&gt;\n        &lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.beanio&lt;/groupId&gt;\n            &lt;artifactId&gt;beanio&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;\n                        ${spring.boot.mainclass}\n                    &lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dcr&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.dailycashreport.DcrDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;other&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.boot.mainclass&gt;com.pru.globalpayments.feeds.downstream.anothersystem.AnotherSystemDataFactoryApplication&lt;/spring.boot.mainclass&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","annotations","warnings","javadoc"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690899408,"creation_date":1690899408,"answer_id":76812573,"question_id":76805471,"body_markdown":"The `javadoc` tool itself is not very configurable regarding where it requires Javadoc comments to be present.  For your use case, you are best off disabling `javadoc`&#39;s warnings and insted using a different tool to enforce that documentation is present.  One such tool is [`require-javadoc`](https://github.com/plume-lib/require-javadoc).  You could use its `--dont-require=&lt;regex&gt;` command-line argument, or you could create a version of the program with a new command-line argument that understands your naming convention.","title":"Is there a way in Java or IntelliJ 2022.2 to suppress MissingJavadoc warnings with an annotation?","body":"<p>The <code>javadoc</code> tool itself is not very configurable regarding where it requires Javadoc comments to be present.  For your use case, you are best off disabling <code>javadoc</code>'s warnings and insted using a different tool to enforce that documentation is present.  One such tool is <a href=\"https://github.com/plume-lib/require-javadoc\" rel=\"nofollow noreferrer\"><code>require-javadoc</code></a>.  You could use its <code>--dont-require=&lt;regex&gt;</code> command-line argument, or you could create a version of the program with a new command-line argument that understands your naming convention.</p>\n"}],"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76812573,"answer_count":1,"score":0,"last_activity_date":1690901591,"creation_date":1690820520,"question_id":76805471,"body_markdown":"I know it&#39;s possible to purposefully suppress unused method warnings in Java/IntelliJ 2022.2 by creating a custom annotation, then using the context menu to suppress the unused warning if annotated with the custom annotation. However, I would like to also do that with other warnings, especially MissingJavadoc warnings. I have some large enums in which I have purposely been very explicit concerning their names, so creating individual Javadoc comments for each element would be laborious and redundant. But, I&#39;d rather not just use @SuppressWarnings(&quot;MissingJavadoc&quot;) if I can help it, because that loses the intentionality of making the element names explicit and just looks like sloppy coding.\r\n\r\nDoes anyone know if suppression with intentionality is possible like this for anything other than unused warnings? Or, is that all we have?\r\n","title":"Is there a way in Java or IntelliJ 2022.2 to suppress MissingJavadoc warnings with an annotation?","body":"<p>I know it's possible to purposefully suppress unused method warnings in Java/IntelliJ 2022.2 by creating a custom annotation, then using the context menu to suppress the unused warning if annotated with the custom annotation. However, I would like to also do that with other warnings, especially MissingJavadoc warnings. I have some large enums in which I have purposely been very explicit concerning their names, so creating individual Javadoc comments for each element would be laborious and redundant. But, I'd rather not just use @SuppressWarnings(&quot;MissingJavadoc&quot;) if I can help it, because that loses the intentionality of making the element names explicit and just looks like sloppy coding.</p>\n<p>Does anyone know if suppression with intentionality is possible like this for anything other than unused warnings? Or, is that all we have?</p>\n"},{"tags":["java","junit","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450456113,"creation_date":1450454714,"answer_id":34359566,"question_id":34359522,"body_markdown":"Just worked it out, `is` actually returns an `Is` object, so all I needed to do was:\r\n\r\n    assertThat(result, new IsCloseTo(0.5, 0.1)); \r\n \r\nThe answer from nickb is better though.\r\n","title":"How do I compare doubles using JUnit and Hamcrest?","body":"<p>Just worked it out, <code>is</code> actually returns an <code>Is</code> object, so all I needed to do was:</p>\n\n<pre><code>assertThat(result, new IsCloseTo(0.5, 0.1)); \n</code></pre>\n\n<p>The answer from nickb is better though.</p>\n"},{"tags":[],"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1450455038,"creation_date":1450455038,"answer_id":34359647,"question_id":34359522,"body_markdown":"You should be able to call [`Matchers.closeTo(double, double)`][1]. With a static import, it looks like:\r\n\r\n    assertThat(result, closeTo(0.5, 0.1));\r\n\r\n\r\n  [1]: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#closeTo(double,%20double)","title":"How do I compare doubles using JUnit and Hamcrest?","body":"<p>You should be able to call <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#closeTo(double,%20double)\" rel=\"noreferrer\"><code>Matchers.closeTo(double, double)</code></a>. With a static import, it looks like:</p>\n\n<pre><code>assertThat(result, closeTo(0.5, 0.1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535544665,"creation_date":1529508672,"answer_id":50951929,"question_id":34359522,"body_markdown":"You can make this read better if you use\r\n\r\n    assertThat(actual, is(closeTo(expected, delta)));\r\n\r\nwith\r\n\r\n    import static org.hamcrest.Matchers.closeTo;\r\n    import static org.hamcrest.Matchers.is;\r\n","title":"How do I compare doubles using JUnit and Hamcrest?","body":"<p>You can make this read better if you use</p>\n\n<pre><code>assertThat(actual, is(closeTo(expected, delta)));\n</code></pre>\n\n<p>with</p>\n\n<pre><code>import static org.hamcrest.Matchers.closeTo;\nimport static org.hamcrest.Matchers.is;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901524,"creation_date":1690901524,"answer_id":76812867,"question_id":34359522,"body_markdown":"A good approach would be to use the `closeTo()` matcher (as others have indicated), using `Math.ulp()` to produce the error value. See https://stackoverflow.com/q/3728246 for more discussion. I&#39;ve opened [Hamcrest Issue #402][1] requesting that this capability be added to Hamcrest as a simpler `closeTo()` method that automatically calculates the error value.\r\n\r\n\r\n  [1]: https://github.com/hamcrest/JavaHamcrest/issues/402","title":"How do I compare doubles using JUnit and Hamcrest?","body":"<p>A good approach would be to use the <code>closeTo()</code> matcher (as others have indicated), using <code>Math.ulp()</code> to produce the error value. See <a href=\"https://stackoverflow.com/q/3728246\">What should be the epsilon value when performing double value equal comparison</a> for more discussion. I've opened <a href=\"https://github.com/hamcrest/JavaHamcrest/issues/402\" rel=\"nofollow noreferrer\">Hamcrest Issue #402</a> requesting that this capability be added to Hamcrest as a simpler <code>closeTo()</code> method that automatically calculates the error value.</p>\n"}],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15205,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":34359647,"answer_count":4,"score":20,"last_activity_date":1690901524,"creation_date":1450454604,"question_id":34359522,"body_markdown":"I&#39;m writing a unit test using JUnit and Hamcrest. I have been comparing double values using:\r\n\r\n    assertThat(result, is(0.5));\r\n\r\nHowever, I&#39;m now needing to compare calculated values and I don&#39;t want to have to compare against the full double value. Instead, I want to compare for closeness.\r\n\r\nI&#39;ve discovered a class called `IsCloseTo` but I&#39;m not sure how to use it in an `assertThat` and I can&#39;t find any examples online.\r\n\r\nWhat&#39;s the correct syntax to do something like the following?\r\n\r\n    // I can&#39;t do this as I need to know what methods/classes whatever I should be using\r\n    // isCloseTo doesn&#39;t exist.\r\n    assertThat(result, isCloseTo(0.5, 0.1)); \r\n","title":"How do I compare doubles using JUnit and Hamcrest?","body":"<p>I'm writing a unit test using JUnit and Hamcrest. I have been comparing double values using:</p>\n\n<pre><code>assertThat(result, is(0.5));\n</code></pre>\n\n<p>However, I'm now needing to compare calculated values and I don't want to have to compare against the full double value. Instead, I want to compare for closeness.</p>\n\n<p>I've discovered a class called <code>IsCloseTo</code> but I'm not sure how to use it in an <code>assertThat</code> and I can't find any examples online.</p>\n\n<p>What's the correct syntax to do something like the following?</p>\n\n<pre><code>// I can't do this as I need to know what methods/classes whatever I should be using\n// isCloseTo doesn't exist.\nassertThat(result, isCloseTo(0.5, 0.1)); \n</code></pre>\n"},{"tags":["java","gradle"],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690901365,"creation_date":1688325630,"question_id":76600457,"body_markdown":"Consider:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n        dependencies {\r\n            classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    \r\n    // gradle 5.0+ compatibility\r\n    configurations.implementation.setCanBeResolved(true)\r\n    // gradle 9.0+ compatibility\r\n    // change \r\n    \r\n    // tag::repositories[]\r\n    repositories { \r\n        mavenCentral() \r\n    }\r\n    \r\n    \r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;d20.App&#39;\r\n    }\r\n    \r\n    // end::repositories[]\r\n    \r\n    // tag::dependencies[]\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    dependencies {\r\n        implementation &quot;joda-time:joda-time:2.2&quot;\r\n        testImplementation &quot;junit:junit:4.12&quot;\r\n        implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    \r\n    }\r\n\r\n\r\nHere is the warning: \r\n\r\n&gt; Build file\r\n&gt; &#39;/home/bussiere/Workspace/CustomSystem/oldschooljava/build.gradle&#39;:\r\n&gt; line 19 Allowed usage is changing for configuration &#39;:implementation&#39;,\r\n&gt; resolvable was false and is now true. Ideally, usage should be fixed\r\n&gt; upon creation. This behavior has been deprecated. This behavior is\r\n&gt; scheduled to be removed in Gradle 9.0. Usage should be fixed upon\r\n&gt; creation. Consult the upgrading guide for further information:\r\n&gt; https://docs.gradle.org/8.1.1/userguide/upgrading_version_8.html#configurations_allowed_usage\r\n\r\nI&#39;ve tried to suppress the line:\r\n\r\n&gt; configurations.implementation.setCanBeResolved(true)\r\n\r\nand replace it with \r\n\r\n    configurations.all {\r\n        resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n            details.useVersion &quot;latest.release&quot;\r\n        }\r\n    }\r\n\r\nbut it&#39;s not working.\r\n\r\n","title":"build.gradle migration from 8 to 9","body":"<p>Consider:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath &quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;\n    }\n}\n\n\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\napply plugin: 'com.github.johnrengelman.shadow'\n\n// gradle 5.0+ compatibility\nconfigurations.implementation.setCanBeResolved(true)\n// gradle 9.0+ compatibility\n// change \n\n// tag::repositories[]\nrepositories { \n    mavenCentral() \n}\n\n\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'd20.App'\n}\n\n// end::repositories[]\n\n// tag::dependencies[]\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    implementation &quot;joda-time:joda-time:2.2&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n    implementation 'com.google.code.gson:gson:2.9.0'\n\n}\n</code></pre>\n<p>Here is the warning:</p>\n<blockquote>\n<p>Build file\n'/home/bussiere/Workspace/CustomSystem/oldschooljava/build.gradle':\nline 19 Allowed usage is changing for configuration ':implementation',\nresolvable was false and is now true. Ideally, usage should be fixed\nupon creation. This behavior has been deprecated. This behavior is\nscheduled to be removed in Gradle 9.0. Usage should be fixed upon\ncreation. Consult the upgrading guide for further information:\n<a href=\"https://docs.gradle.org/8.1.1/userguide/upgrading_version_8.html#configurations_allowed_usage\" rel=\"nofollow noreferrer\">https://docs.gradle.org/8.1.1/userguide/upgrading_version_8.html#configurations_allowed_usage</a></p>\n</blockquote>\n<p>I've tried to suppress the line:</p>\n<blockquote>\n<p>configurations.implementation.setCanBeResolved(true)</p>\n</blockquote>\n<p>and replace it with</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        details.useVersion &quot;latest.release&quot;\n    }\n}\n</code></pre>\n<p>but it's not working.</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"score":0,"creation_date":1690892750,"post_id":76811582,"comment_id":135413912,"body_markdown":"Can you please check this link https://stackoverflow.com/questions/49853999/convert-zoneddatetime-to-localdatetime-at-time-zone","body":"Can you please check this link <a href=\"https://stackoverflow.com/questions/49853999/convert-zoneddatetime-to-localdatetime-at-time-zone\" title=\"convert zoneddatetime to localdatetime at time zone\">stackoverflow.com/questions/49853999/&hellip;</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690892917,"post_id":76811582,"comment_id":135413955,"body_markdown":"`zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime()`","body":"<code>zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toLocalDat&zwnj;&#8203;eTime()</code>"},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1690894390,"post_id":76811582,"comment_id":135414307,"body_markdown":"below is the output (7:22, expected is 18:22)\n2023-08-01T18:22:09.103796200\n2023-08-01T12:52:09.103796200\n2023-08-01T12:52:09.103796200+05:30[Asia/Calcutta]\n2023-08-01T07:22:09.103796200","body":"below is the output (7:22, expected is 18:22) 2023-08-01T18:22:09.103796200 2023-08-01T12:52:09.103796200 2023-08-01T12:52:09.103796200+05:30[Asia/Calcutta] 2023-08-01T07:22:09.103796200"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1690895191,"post_id":76811582,"comment_id":135414478,"body_markdown":"I don&#39;t quite get why you would want to convert something to another thing and then convert that back to the original thing… That&#39;s creating (at least) 3 objects, though the first one and the third one are expected to be equal. Why not keep the first?","body":"I don&#39;t quite get why you would want to convert something to another thing and then convert that back to the original thing… That&#39;s creating (at least) 3 objects, though the first one and the third one are expected to be equal. Why not keep the first?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690899786,"post_id":76811582,"comment_id":135415607,"body_markdown":"Is this just an academic exercise?  What is your use case?  This sounds like it could be an [XY Problem](http://xyproblem.info).","body":"Is this just an academic exercise?  What is your use case?  This sounds like it could be an <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"score":0,"creation_date":1690958268,"post_id":76811582,"comment_id":135423428,"body_markdown":"actually my use case is:\n1. Get local date and time from my local system\n2. And get corresponding local date and time from any other country / city\n\nOr if I know UTC time with Zone ID, then convert it to that zone local date and time\n\nhope this is a valid scenario - in the above code I am converting it back to original jut to check the value is what I am looking for","body":"actually my use case is: 1. Get local date and time from my local system 2. And get corresponding local date and time from any other country / city  Or if I know UTC time with Zone ID, then convert it to that zone local date and time  hope this is a valid scenario - in the above code I am converting it back to original jut to check the value is what I am looking for"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690897821,"creation_date":1690897821,"answer_id":76812334,"question_id":76811582,"body_markdown":"&gt; `ZonedDateTime zonedDateTime = LocalDateTime.now(ZoneOffset.UTC).atZone(zoneId);`\r\n\r\nThis is suspect code. This code says:\r\n\r\nWhat time is it right now _in the UTC zone_. So, here in Amsterdam it&#39;s 15:46, but if I were to run that (we&#39;re in summer time right now, amsterdam has a +2 offset), `LocalDateTime.now(ZoneOffset.UTC)` gives me a __local__ DT object with local time 13:46. It doesn&#39;t have a timezone, because.. it&#39;s local date time.\r\n\r\nYou then &#39;place&#39; that time (of 13:46) in a zone. Let&#39;s say `zoneId` is Europe/Amsterdam, this code gets me a time that happened 2 hours ago. It doesn&#39;t make any sense, you would never want to write this code.\r\n\r\nWhat you presumably want is:\r\n\r\n```\r\nLocalDateTime nowAtUtc = LocalDateTime.now(ZoneOffset.UTC);\r\nZonedDateTime zoned = nowAtUtc.atZone(ZoneOffset.UTC);\r\nZonedDateTime inAmsterdam = zoned.atZoneSameInstant(ZoneId.of(&quot;Europe/Amsterdam&quot;));\r\nSystem.out.println(inAmsterdam.toLocalDateTime());\r\n```\r\n\r\nthe above code prints the current time as per my clock here in The Netherlands.\r\n\r\nOf course, that _exact_ snippet is pointless - why convert from A to B and right back again? Ordinarily you&#39;d just go `LocalDateTime.now()` if you want an LDT, or if you want a ZDT, simply `ZonedDateTime.now(zoneYouAreInterestedIn);`. However, I assume you asked the question because you do a bunch of stuff in between that you elided from the question.\r\n\r\n","title":"How to convert ZonedDateTime to LocalDateTime?","body":"<blockquote>\n<p><code>ZonedDateTime zonedDateTime = LocalDateTime.now(ZoneOffset.UTC).atZone(zoneId);</code></p>\n</blockquote>\n<p>This is suspect code. This code says:</p>\n<p>What time is it right now <em>in the UTC zone</em>. So, here in Amsterdam it's 15:46, but if I were to run that (we're in summer time right now, amsterdam has a +2 offset), <code>LocalDateTime.now(ZoneOffset.UTC)</code> gives me a <strong>local</strong> DT object with local time 13:46. It doesn't have a timezone, because.. it's local date time.</p>\n<p>You then 'place' that time (of 13:46) in a zone. Let's say <code>zoneId</code> is Europe/Amsterdam, this code gets me a time that happened 2 hours ago. It doesn't make any sense, you would never want to write this code.</p>\n<p>What you presumably want is:</p>\n<pre><code>LocalDateTime nowAtUtc = LocalDateTime.now(ZoneOffset.UTC);\nZonedDateTime zoned = nowAtUtc.atZone(ZoneOffset.UTC);\nZonedDateTime inAmsterdam = zoned.atZoneSameInstant(ZoneId.of(&quot;Europe/Amsterdam&quot;));\nSystem.out.println(inAmsterdam.toLocalDateTime());\n</code></pre>\n<p>the above code prints the current time as per my clock here in The Netherlands.</p>\n<p>Of course, that <em>exact</em> snippet is pointless - why convert from A to B and right back again? Ordinarily you'd just go <code>LocalDateTime.now()</code> if you want an LDT, or if you want a ZDT, simply <code>ZonedDateTime.now(zoneYouAreInterestedIn);</code>. However, I assume you asked the question because you do a bunch of stuff in between that you elided from the question.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901131,"creation_date":1690901131,"answer_id":76812817,"question_id":76811582,"body_markdown":"### Just in addition to the answer by @rzwitzerloot…\r\n\r\n\r\nUse a definite moment in time as base for coversion and zone hopping.\r\n\r\n`java.time` has such a definite moment in time: An `Instant`\r\n\r\nHere&#39;s some example:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tZoneId zoneId = ZoneId.of(&quot;Asia/Calcutta&quot;);\r\n\t// get a moment in time (Unix epoch) and use it as base\r\n\tInstant now = Instant.now();\r\n\t// get the local date and time in your zone based on the instant\r\n\tLocalDateTime local = LocalDateTime.ofInstant(now, zoneId);\r\n\tSystem.out.println(local);\r\n\t// get the zoned date and time in UTC based on the instant\r\n\tZonedDateTime utc = ZonedDateTime.ofInstant(now, ZoneOffset.UTC);\r\n\tSystem.out.println(utc);\r\n\t// get the zoned date and time in your zone based on the instant \r\n\tZonedDateTime localZone = ZonedDateTime.ofInstant(now, zoneId);\r\n\tSystem.out.println(localZone);\r\n\t// extract the local date and time from it\r\n\tLocalDateTime backToLocal = localZone.toLocalDateTime();\r\n\t// then check for equality\r\n\tif (local.equals(backToLocal)) {\r\n\t\tSystem.out.println(local + &quot; == &quot; + backToLocal);\r\n\t} else {\r\n\t\tSystem.err.println(local + &quot; != &quot; + backToLocal);\r\n\t}\r\n}\r\n```\r\n\r\nOutput (right now):\r\n\r\n```none\r\n2023-08-01T20:14:39.776239\r\n2023-08-01T14:44:39.776239Z\r\n2023-08-01T20:14:39.776239+05:30[Asia/Calcutta]\r\n2023-08-01T20:14:39.776239 == 2023-08-01T20:14:39.776239\r\n```\r\n\r\nI used a fix `ZoneId` in order to have yours in the example.","title":"How to convert ZonedDateTime to LocalDateTime?","body":"<h3>Just in addition to the answer by @rzwitzerloot…</h3>\n<p>Use a definite moment in time as base for coversion and zone hopping.</p>\n<p><code>java.time</code> has such a definite moment in time: An <code>Instant</code></p>\n<p>Here's some example:</p>\n<pre><code>public static void main(String[] args) {\n    ZoneId zoneId = ZoneId.of(&quot;Asia/Calcutta&quot;);\n    // get a moment in time (Unix epoch) and use it as base\n    Instant now = Instant.now();\n    // get the local date and time in your zone based on the instant\n    LocalDateTime local = LocalDateTime.ofInstant(now, zoneId);\n    System.out.println(local);\n    // get the zoned date and time in UTC based on the instant\n    ZonedDateTime utc = ZonedDateTime.ofInstant(now, ZoneOffset.UTC);\n    System.out.println(utc);\n    // get the zoned date and time in your zone based on the instant \n    ZonedDateTime localZone = ZonedDateTime.ofInstant(now, zoneId);\n    System.out.println(localZone);\n    // extract the local date and time from it\n    LocalDateTime backToLocal = localZone.toLocalDateTime();\n    // then check for equality\n    if (local.equals(backToLocal)) {\n        System.out.println(local + &quot; == &quot; + backToLocal);\n    } else {\n        System.err.println(local + &quot; != &quot; + backToLocal);\n    }\n}\n</code></pre>\n<p>Output (right now):</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-08-01T20:14:39.776239\n2023-08-01T14:44:39.776239Z\n2023-08-01T20:14:39.776239+05:30[Asia/Calcutta]\n2023-08-01T20:14:39.776239 == 2023-08-01T20:14:39.776239\n</code></pre>\n<p>I used a fix <code>ZoneId</code> in order to have yours in the example.</p>\n"}],"owner":{"account_id":16676287,"reputation":57,"user_id":12052625,"display_name":"Vinod"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76812334,"answer_count":2,"score":0,"last_activity_date":1690901131,"creation_date":1690892556,"question_id":76811582,"body_markdown":"I want to convert local date and time to UTC and then back to local date and time, I could not find solutions on internet. I used below code:\r\n```java    \r\n// get local date and time\r\nLocalDateTime localDateTime = LocalDateTime.now();\r\n// print local date time\r\nSystem.out.println(localDateTime);\r\n// get system time zone / zone id\r\nZoneId zoneId = ZoneId.systemDefault();\r\n// get UTC time with zone offset\r\nZonedDateTime zonedDateTime = LocalDateTime.now(ZoneOffset.UTC).atZone(zoneId);\r\nSystem.out.println(zonedDateTime);\r\n// now I want to convert the UTC with timezone back to local time, \r\n// but below code is not working  \r\nSystem.out.println(zonedDateTime.toLocalDateTime());\r\n```        \r\n        \r\n### result expected\r\n```none\r\nlocal date and time = 2023-08-01T17:15:10.832796200  \r\nzoned date and time = 2023-08-01T11:45:10.832796200+05:30[Asia/Calcutta]  \r\nlocal date and time after conversion = 2023-08-01T17:15:10.832796200\r\n```\r\n","title":"How to convert ZonedDateTime to LocalDateTime?","body":"<p>I want to convert local date and time to UTC and then back to local date and time, I could not find solutions on internet. I used below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// get local date and time\nLocalDateTime localDateTime = LocalDateTime.now();\n// print local date time\nSystem.out.println(localDateTime);\n// get system time zone / zone id\nZoneId zoneId = ZoneId.systemDefault();\n// get UTC time with zone offset\nZonedDateTime zonedDateTime = LocalDateTime.now(ZoneOffset.UTC).atZone(zoneId);\nSystem.out.println(zonedDateTime);\n// now I want to convert the UTC with timezone back to local time, \n// but below code is not working  \nSystem.out.println(zonedDateTime.toLocalDateTime());\n</code></pre>\n<h3>result expected</h3>\n<pre class=\"lang-none prettyprint-override\"><code>local date and time = 2023-08-01T17:15:10.832796200  \nzoned date and time = 2023-08-01T11:45:10.832796200+05:30[Asia/Calcutta]  \nlocal date and time after conversion = 2023-08-01T17:15:10.832796200\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1690858079,"post_id":76808204,"comment_id":135408146,"body_markdown":"Install it again.","body":"Install it again."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1690862830,"post_id":76808204,"comment_id":135408542,"body_markdown":"Don&#39;t panic. Add the new JDK to your **Installed JREs** preference page and update the Java Build Paths in your projects accordingly.","body":"Don&#39;t panic. Add the new JDK to your <b>Installed JREs</b> preference page and update the Java Build Paths in your projects accordingly."}],"answers":[{"tags":[],"owner":{"account_id":10388358,"reputation":1,"user_id":7660549,"display_name":"Heshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901109,"creation_date":1690881576,"answer_id":76810211,"question_id":76808204,"body_markdown":"Just install it again. Follow the correct steps when you install because path of environment variables should be updated with new JDK.","title":"Accidentally deleted java and now all my eclipse programs dont have java libraries","body":"<p>Just install it again. Follow the correct steps when you install because path of environment variables should be updated with new JDK.</p>\n"}],"owner":{"account_id":22714916,"reputation":11,"user_id":16880338,"display_name":"Juan_Puthr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690901109,"creation_date":1690857849,"question_id":76808204,"body_markdown":"I had recently installed a new version of jdk and decided to delete the old one from control panel. After doing so, all of my projects now don&#39;t seem to have java libraries. Is there anything I can do to fix this?","title":"Accidentally deleted java and now all my eclipse programs dont have java libraries","body":"<p>I had recently installed a new version of jdk and decided to delete the old one from control panel. After doing so, all of my projects now don't seem to have java libraries. Is there anything I can do to fix this?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1311687873,"post_id":6830618,"comment_id":8117320,"body_markdown":"Can you be more specific about *which* hibernate cache you are referring to? There is the session/first-level cache, second-level cache, query cache, and collection cache.","body":"Can you be more specific about <i>which</i> hibernate cache you are referring to? There is the session/first-level cache, second-level cache, query cache, and collection cache."},{"owner":{"account_id":375697,"reputation":3709,"user_id":726706,"accept_rate":66,"display_name":"AAaa"},"score":0,"creation_date":1311770050,"post_id":6830618,"comment_id":8136112,"body_markdown":"i&#39;m referring to session cache","body":"i&#39;m referring to session cache"}],"answers":[{"tags":[],"owner":{"account_id":197,"reputation":41504,"user_id":244,"accept_rate":50,"display_name":"Claude Houle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1311686813,"creation_date":1311686813,"answer_id":6830717,"question_id":6830618,"body_markdown":"try something like that when configuring your hibernate session factory:\r\n\r\n    configuration.setProperty( Environment.USE_QUERY_CACHE, Boolean.FALSE.toString() );\r\n    configuration.setProperty( Environment.USE_SECOND_LEVEL_CACHE, Boolean.FALSE.toString() );\r\n    configuration.setProperty(Environment.CACHE_REGION_FACTORY,org.hibernate.cache.impl.NoCachingRegionFactory.class.getName());\r\n    configuration.setProperty(Environment.CACHE_PROVIDER,org.hibernate.cache.NoCacheProvider.class.getName());\r\n\r\n\r\nHowever note that you cannot disable the Session Cache which is provided by Hibernate (If not all JPA implementations). If you really something not to be cached by Hibernate, you can either evict it OR not use hibernate (whichever is simpler to you)\r\n\r\nAs for caching specific entities, I recommend you take a look at javax.persistence.Cacheable and see how that works for you.","title":"hibernate disabling cache","body":"<p>try something like that when configuring your hibernate session factory:</p>\n\n<pre><code>configuration.setProperty( Environment.USE_QUERY_CACHE, Boolean.FALSE.toString() );\nconfiguration.setProperty( Environment.USE_SECOND_LEVEL_CACHE, Boolean.FALSE.toString() );\nconfiguration.setProperty(Environment.CACHE_REGION_FACTORY,org.hibernate.cache.impl.NoCachingRegionFactory.class.getName());\nconfiguration.setProperty(Environment.CACHE_PROVIDER,org.hibernate.cache.NoCacheProvider.class.getName());\n</code></pre>\n\n<p>However note that you cannot disable the Session Cache which is provided by Hibernate (If not all JPA implementations). If you really something not to be cached by Hibernate, you can either evict it OR not use hibernate (whichever is simpler to you)</p>\n\n<p>As for caching specific entities, I recommend you take a look at javax.persistence.Cacheable and see how that works for you.</p>\n"},{"tags":[],"owner":{"account_id":375697,"reputation":3709,"user_id":726706,"accept_rate":66,"display_name":"AAaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1311841439,"creation_date":1311841439,"answer_id":6855994,"question_id":6830618,"body_markdown":"I&#39;ve searched the web and the conclusion is that indeed a session cache can&#39;t be disabled.\r\nThis is very odd.\r\nMy solution for myself is to use session.clear() when i want the cache to be cleared.\r\n\r\n","title":"hibernate disabling cache","body":"<p>I've searched the web and the conclusion is that indeed a session cache can't be disabled.\nThis is very odd.\nMy solution for myself is to use session.clear() when i want the cache to be cleared.</p>\n"},{"tags":[],"owner":{"account_id":2109531,"reputation":406,"user_id":1875086,"display_name":"Valdas Rapševičius"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1354613360,"creation_date":1354611835,"answer_id":13699247,"question_id":6830618,"body_markdown":"You can call `session.clear()` just before obtaining reusable session object from the manager.\r\n\r\n I.e. in our project we had to synchronize updates between many hibernate sessions (one per http session). 2nd level cache works fine but 1st level (per session) had to be disabled or cleared. Thus we created **SessionManager** that stores all sessions and delivers on demand. Just before delivering call `session.clear()` and this solves the problem.\r\n\r\nUntil you&#39;re doing your unit of work - 1st level cache is fine.","title":"hibernate disabling cache","body":"<p>You can call <code>session.clear()</code> just before obtaining reusable session object from the manager.</p>\n\n<p>I.e. in our project we had to synchronize updates between many hibernate sessions (one per http session). 2nd level cache works fine but 1st level (per session) had to be disabled or cleared. Thus we created <strong>SessionManager</strong> that stores all sessions and delivers on demand. Just before delivering call <code>session.clear()</code> and this solves the problem.</p>\n\n<p>Until you're doing your unit of work - 1st level cache is fine.</p>\n"},{"tags":[],"owner":{"account_id":4045656,"reputation":1850,"user_id":3326969,"display_name":"Lukas Hinsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901071,"creation_date":1690901071,"answer_id":76812807,"question_id":6830618,"body_markdown":"In case anyone stumbles on this searching for a solution, this is what worked for me:\r\n\r\ninstead of `session.setCacheMode(CacheMode.IGNORE)` I used `session.setProperty(AvailableSettings.JPA_SHARED_CACHE_RETRIEVE_MODE, CacheRetrieveMode.BYPASS)` which did the trick for me to let hibernate bypass the second level cache on the next entity load call.","title":"hibernate disabling cache","body":"<p>In case anyone stumbles on this searching for a solution, this is what worked for me:</p>\n<p>instead of <code>session.setCacheMode(CacheMode.IGNORE)</code> I used <code>session.setProperty(AvailableSettings.JPA_SHARED_CACHE_RETRIEVE_MODE, CacheRetrieveMode.BYPASS)</code> which did the trick for me to let hibernate bypass the second level cache on the next entity load call.</p>\n"}],"owner":{"account_id":375697,"reputation":3709,"user_id":726706,"accept_rate":66,"display_name":"AAaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6855994,"answer_count":4,"score":3,"last_activity_date":1690901071,"creation_date":1311686416,"question_id":6830618,"body_markdown":"I want to disable hibernate caching.\r\n\r\n  `session.setCacheMode(CacheMode.IGNORE)` doesn&#39;t work. &lt;br&gt;\r\n  `query.setCacheable(false)` also doesn&#39;t work.\r\n\r\nIn addition, can I configure in some way that caching won&#39;t be done for Objects X,Y but will be done for Object Z?\r\n\r\n\r\nThanks.","title":"hibernate disabling cache","body":"<p>I want to disable hibernate caching.</p>\n\n<p><code>session.setCacheMode(CacheMode.IGNORE)</code> doesn't work. <br>\n  <code>query.setCacheable(false)</code> also doesn't work.</p>\n\n<p>In addition, can I configure in some way that caching won't be done for Objects X,Y but will be done for Object Z?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":5,"creation_date":1337831895,"post_id":10730929,"comment_id":13939929,"body_markdown":"why not just return a `byte[]` from the method? It seems as though you&#39;re unnecessarily casting it to an `Object`.","body":"why not just return a <code>byte[]</code> from the method? It seems as though you&#39;re unnecessarily casting it to an <code>Object</code>."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1690847840,"creation_date":1337832118,"answer_id":10730968,"question_id":10730929,"body_markdown":"By looking at your code:\r\n\r\n- you don&#39;t need to upcast the return value to `Object`: since it&#39;s an upcast, it&#39;s implicitly done (a `byte[]` is statically also an `Object`)\r\n- you can easily cast an `Object` to a `byte[]` by using a specific downcast:\r\n```java\r\nbyte[] a = (byte[]) obj\r\n```\r\n- a method like yours that returns an `Object` is completely pointless, signatures are meant to be useful and informative. Returning an `Object` is the least informative thing that you can do. If your method is meant to return a `byte[]`, then its return value should be of `byte[]` type","title":"Cast an Object to ByteArray","body":"<p>By looking at your code:</p>\n<ul>\n<li>you don't need to upcast the return value to <code>Object</code>: since it's an upcast, it's implicitly done (a <code>byte[]</code> is statically also an <code>Object</code>)</li>\n<li>you can easily cast an <code>Object</code> to a <code>byte[]</code> by using a specific downcast:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] a = (byte[]) obj\n</code></pre>\n<ul>\n<li>a method like yours that returns an <code>Object</code> is completely pointless, signatures are meant to be useful and informative. Returning an <code>Object</code> is the least informative thing that you can do. If your method is meant to return a <code>byte[]</code>, then its return value should be of <code>byte[]</code> type</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1337835357,"creation_date":1337835357,"answer_id":10731371,"question_id":10730929,"body_markdown":"Here are 2 helper methods to get you to serialize and deserialize byte arrays as objects.\r\n\r\n    public static Object deserializeBytes(byte[] bytes) throws IOException, ClassNotFoundException\r\n    {\r\n        ByteArrayInputStream bytesIn = new ByteArrayInputStream(bytes);\r\n        ObjectInputStream ois = new ObjectInputStream(bytesIn);\r\n        Object obj = ois.readObject();\r\n        ois.close();\r\n        return obj;\r\n    }\r\n\r\n\r\n    public static byte[] serializeObject(Object obj) throws IOException\r\n    {\r\n        ByteArrayOutputStream bytesOut = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(bytesOut);\r\n        oos.writeObject(obj);\r\n        oos.flush();\r\n        byte[] bytes = bytesOut.toByteArray();\r\n        bytesOut.close();\r\n        oos.close();\r\n        return bytes;\r\n    }","title":"Cast an Object to ByteArray","body":"<p>Here are 2 helper methods to get you to serialize and deserialize byte arrays as objects.</p>\n\n<pre><code>public static Object deserializeBytes(byte[] bytes) throws IOException, ClassNotFoundException\n{\n    ByteArrayInputStream bytesIn = new ByteArrayInputStream(bytes);\n    ObjectInputStream ois = new ObjectInputStream(bytesIn);\n    Object obj = ois.readObject();\n    ois.close();\n    return obj;\n}\n\n\npublic static byte[] serializeObject(Object obj) throws IOException\n{\n    ByteArrayOutputStream bytesOut = new ByteArrayOutputStream();\n    ObjectOutputStream oos = new ObjectOutputStream(bytesOut);\n    oos.writeObject(obj);\n    oos.flush();\n    byte[] bytes = bytesOut.toByteArray();\n    bytesOut.close();\n    oos.close();\n    return bytes;\n}\n</code></pre>\n"}],"owner":{"account_id":875897,"reputation":4293,"user_id":925552,"accept_rate":71,"display_name":"hkguile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26079,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10731371,"answer_count":2,"score":5,"last_activity_date":1690900955,"creation_date":1337831801,"question_id":10730929,"body_markdown":"I&#39;ve got a function: \r\n\r\n```java\r\npublic static Object receviceSigAndData(Socket s) {\r\n    byte[] data = null;\r\n    try {\r\n        DataInputStream din2 = new DataInputStream(s.getInputStream());\r\n        int sig_len = 0;\r\n        sig_len = din2.readInt();\r\n        byte[] sig = new byte[sig_len];\r\n        din2.readFully(sig);\r\n        int data_len = 0;\r\n        data_len = din2.readInt();\r\n        data = new byte[data_len];\r\n        dsa.update(data);\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return (Object) data;\r\n}\r\n```\r\n\r\nThe function returns an `Object`. If the `Object` is a byte array, how do I cast the `Object` to `byte[]`?\r\n\r\n    byte[] b = (?)receviceSigAndData(socket);\r\n\r\nThanks","title":"Cast an Object to ByteArray","body":"<p>I've got a function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object receviceSigAndData(Socket s) {\n    byte[] data = null;\n    try {\n        DataInputStream din2 = new DataInputStream(s.getInputStream());\n        int sig_len = 0;\n        sig_len = din2.readInt();\n        byte[] sig = new byte[sig_len];\n        din2.readFully(sig);\n        int data_len = 0;\n        data_len = din2.readInt();\n        data = new byte[data_len];\n        dsa.update(data);\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return (Object) data;\n}\n</code></pre>\n<p>The function returns an <code>Object</code>. If the <code>Object</code> is a byte array, how do I cast the <code>Object</code> to <code>byte[]</code>?</p>\n<pre><code>byte[] b = (?)receviceSigAndData(socket);\n</code></pre>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9719,"page":273,"page_size":100}
